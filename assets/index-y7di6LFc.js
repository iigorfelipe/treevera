function Dz(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(i,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Bm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sb={exports:{}},Vd={};var oA;function Lz(){if(oA)return Vd;oA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:e,type:i,key:l,ref:s!==void 0?s:null,props:o}}return Vd.Fragment=t,Vd.jsx=n,Vd.jsxs=n,Vd}var aA;function jz(){return aA||(aA=1,sb.exports=Lz()),sb.exports}var y=jz(),rb={exports:{}},at={};var lA;function Iz(){if(lA)return at;lA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function _(H){return H===null||typeof H!="object"?null:(H=b&&H[b]||H["@@iterator"],typeof H=="function"?H:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function k(H,ie,me){this.props=H,this.context=ie,this.refs=T,this.updater=me||C}k.prototype.isReactComponent={},k.prototype.setState=function(H,ie){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ie,"setState")},k.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function N(){}N.prototype=k.prototype;function P(H,ie,me){this.props=H,this.context=ie,this.refs=T,this.updater=me||C}var O=P.prototype=new N;O.constructor=P,E(O,k.prototype),O.isPureReactComponent=!0;var j=Array.isArray;function U(){}var z={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function $(H,ie,me){var xe=me.ref;return{$$typeof:e,type:H,key:ie,ref:xe!==void 0?xe:null,props:me}}function Z(H,ie){return $(H.type,ie,H.props)}function K(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function W(H){var ie={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(me){return ie[me]})}var X=/\/+/g;function se(H,ie){return typeof H=="object"&&H!==null&&H.key!=null?W(""+H.key):ie.toString(36)}function ve(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(U,U):(H.status="pending",H.then(function(ie){H.status==="pending"&&(H.status="fulfilled",H.value=ie)},function(ie){H.status==="pending"&&(H.status="rejected",H.reason=ie)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function G(H,ie,me,xe,Ce){var _e=typeof H;(_e==="undefined"||_e==="boolean")&&(H=null);var Se=!1;if(H===null)Se=!0;else switch(_e){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(H.$$typeof){case e:case t:Se=!0;break;case m:return Se=H._init,G(Se(H._payload),ie,me,xe,Ce)}}if(Se)return Ce=Ce(H),Se=xe===""?"."+se(H,0):xe,j(Ce)?(me="",Se!=null&&(me=Se.replace(X,"$&/")+"/"),G(Ce,ie,me,"",function(Oe){return Oe})):Ce!=null&&(K(Ce)&&(Ce=Z(Ce,me+(Ce.key==null||H&&H.key===Ce.key?"":(""+Ce.key).replace(X,"$&/")+"/")+Se)),ie.push(Ce)),1;Se=0;var je=xe===""?".":xe+":";if(j(H))for(var ke=0;ke<H.length;ke++)xe=H[ke],_e=je+se(xe,ke),Se+=G(xe,ie,me,_e,Ce);else if(ke=_(H),typeof ke=="function")for(H=ke.call(H),ke=0;!(xe=H.next()).done;)xe=xe.value,_e=je+se(xe,ke++),Se+=G(xe,ie,me,_e,Ce);else if(_e==="object"){if(typeof H.then=="function")return G(ve(H),ie,me,xe,Ce);throw ie=String(H),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Se}function ee(H,ie,me){if(H==null)return H;var xe=[],Ce=0;return G(H,xe,"","",function(_e){return ie.call(me,_e,Ce++)}),xe}function Y(H){if(H._status===-1){var ie=H._result;ie=ie(),ie.then(function(me){(H._status===0||H._status===-1)&&(H._status=1,H._result=me)},function(me){(H._status===0||H._status===-1)&&(H._status=2,H._result=me)}),H._status===-1&&(H._status=0,H._result=ie)}if(H._status===1)return H._result.default;throw H._result}var de=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},ae={map:ee,forEach:function(H,ie,me){ee(H,function(){ie.apply(this,arguments)},me)},count:function(H){var ie=0;return ee(H,function(){ie++}),ie},toArray:function(H){return ee(H,function(ie){return ie})||[]},only:function(H){if(!K(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return at.Activity=v,at.Children=ae,at.Component=k,at.Fragment=n,at.Profiler=s,at.PureComponent=P,at.StrictMode=i,at.Suspense=d,at.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,at.__COMPILER_RUNTIME={__proto__:null,c:function(H){return z.H.useMemoCache(H)}},at.cache=function(H){return function(){return H.apply(null,arguments)}},at.cacheSignal=function(){return null},at.cloneElement=function(H,ie,me){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var xe=E({},H.props),Ce=H.key;if(ie!=null)for(_e in ie.key!==void 0&&(Ce=""+ie.key),ie)!I.call(ie,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&ie.ref===void 0||(xe[_e]=ie[_e]);var _e=arguments.length-2;if(_e===1)xe.children=me;else if(1<_e){for(var Se=Array(_e),je=0;je<_e;je++)Se[je]=arguments[je+2];xe.children=Se}return $(H.type,Ce,xe)},at.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:o,_context:H},H},at.createElement=function(H,ie,me){var xe,Ce={},_e=null;if(ie!=null)for(xe in ie.key!==void 0&&(_e=""+ie.key),ie)I.call(ie,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(Ce[xe]=ie[xe]);var Se=arguments.length-2;if(Se===1)Ce.children=me;else if(1<Se){for(var je=Array(Se),ke=0;ke<Se;ke++)je[ke]=arguments[ke+2];Ce.children=je}if(H&&H.defaultProps)for(xe in Se=H.defaultProps,Se)Ce[xe]===void 0&&(Ce[xe]=Se[xe]);return $(H,_e,Ce)},at.createRef=function(){return{current:null}},at.forwardRef=function(H){return{$$typeof:c,render:H}},at.isValidElement=K,at.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:Y}},at.memo=function(H,ie){return{$$typeof:h,type:H,compare:ie===void 0?null:ie}},at.startTransition=function(H){var ie=z.T,me={};z.T=me;try{var xe=H(),Ce=z.S;Ce!==null&&Ce(me,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(U,de)}catch(_e){de(_e)}finally{ie!==null&&me.types!==null&&(ie.types=me.types),z.T=ie}},at.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},at.use=function(H){return z.H.use(H)},at.useActionState=function(H,ie,me){return z.H.useActionState(H,ie,me)},at.useCallback=function(H,ie){return z.H.useCallback(H,ie)},at.useContext=function(H){return z.H.useContext(H)},at.useDebugValue=function(){},at.useDeferredValue=function(H,ie){return z.H.useDeferredValue(H,ie)},at.useEffect=function(H,ie){return z.H.useEffect(H,ie)},at.useEffectEvent=function(H){return z.H.useEffectEvent(H)},at.useId=function(){return z.H.useId()},at.useImperativeHandle=function(H,ie,me){return z.H.useImperativeHandle(H,ie,me)},at.useInsertionEffect=function(H,ie){return z.H.useInsertionEffect(H,ie)},at.useLayoutEffect=function(H,ie){return z.H.useLayoutEffect(H,ie)},at.useMemo=function(H,ie){return z.H.useMemo(H,ie)},at.useOptimistic=function(H,ie){return z.H.useOptimistic(H,ie)},at.useReducer=function(H,ie,me){return z.H.useReducer(H,ie,me)},at.useRef=function(H){return z.H.useRef(H)},at.useState=function(H){return z.H.useState(H)},at.useSyncExternalStore=function(H,ie,me){return z.H.useSyncExternalStore(H,ie,me)},at.useTransition=function(){return z.H.useTransition()},at.version="19.2.4",at}var cA;function Kf(){return cA||(cA=1,rb.exports=Iz()),rb.exports}var x=Kf();const Mt=Qx(x),Jx=Dz({__proto__:null,default:Mt},[x]);var ob={exports:{}},$d={},ab={exports:{}},lb={};var uA;function zz(){return uA||(uA=1,(function(e){function t(G,ee){var Y=G.length;G.push(ee);e:for(;0<Y;){var de=Y-1>>>1,ae=G[de];if(0<s(ae,ee))G[de]=ee,G[Y]=ae,Y=de;else break e}}function n(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var ee=G[0],Y=G.pop();if(Y!==ee){G[0]=Y;e:for(var de=0,ae=G.length,H=ae>>>1;de<H;){var ie=2*(de+1)-1,me=G[ie],xe=ie+1,Ce=G[xe];if(0>s(me,Y))xe<ae&&0>s(Ce,me)?(G[de]=Ce,G[xe]=Y,de=xe):(G[de]=me,G[ie]=Y,de=ie);else if(xe<ae&&0>s(Ce,Y))G[de]=Ce,G[xe]=Y,de=xe;else break e}}return ee}function s(G,ee){var Y=G.sortIndex-ee.sortIndex;return Y!==0?Y:G.id-ee.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],h=[],m=1,v=null,b=3,_=!1,C=!1,E=!1,T=!1,k=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function O(G){for(var ee=n(h);ee!==null;){if(ee.callback===null)i(h);else if(ee.startTime<=G)i(h),ee.sortIndex=ee.expirationTime,t(d,ee);else break;ee=n(h)}}function j(G){if(E=!1,O(G),!C)if(n(d)!==null)C=!0,U||(U=!0,W());else{var ee=n(h);ee!==null&&ve(j,ee.startTime-G)}}var U=!1,z=-1,I=5,$=-1;function Z(){return T?!0:!(e.unstable_now()-$<I)}function K(){if(T=!1,U){var G=e.unstable_now();$=G;var ee=!0;try{e:{C=!1,E&&(E=!1,N(z),z=-1),_=!0;var Y=b;try{t:{for(O(G),v=n(d);v!==null&&!(v.expirationTime>G&&Z());){var de=v.callback;if(typeof de=="function"){v.callback=null,b=v.priorityLevel;var ae=de(v.expirationTime<=G);if(G=e.unstable_now(),typeof ae=="function"){v.callback=ae,O(G),ee=!0;break t}v===n(d)&&i(d),O(G)}else i(d);v=n(d)}if(v!==null)ee=!0;else{var H=n(h);H!==null&&ve(j,H.startTime-G),ee=!1}}break e}finally{v=null,b=Y,_=!1}ee=void 0}}finally{ee?W():U=!1}}}var W;if(typeof P=="function")W=function(){P(K)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,se=X.port2;X.port1.onmessage=K,W=function(){se.postMessage(null)}}else W=function(){k(K,0)};function ve(G,ee){z=k(function(){G(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(G){switch(b){case 1:case 2:case 3:var ee=3;break;default:ee=b}var Y=b;b=ee;try{return G()}finally{b=Y}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(G,ee){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Y=b;b=G;try{return ee()}finally{b=Y}},e.unstable_scheduleCallback=function(G,ee,Y){var de=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?de+Y:de):Y=de,G){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=Y+ae,G={id:m++,callback:ee,priorityLevel:G,startTime:Y,expirationTime:ae,sortIndex:-1},Y>de?(G.sortIndex=Y,t(h,G),n(d)===null&&G===n(h)&&(E?(N(z),z=-1):E=!0,ve(j,Y-de))):(G.sortIndex=ae,t(d,G),C||_||(C=!0,U||(U=!0,W()))),G},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(G){var ee=b;return function(){var Y=b;b=ee;try{return G.apply(this,arguments)}finally{b=Y}}}})(lb)),lb}var dA;function Bz(){return dA||(dA=1,ab.exports=zz()),ab.exports}var cb={exports:{}},Si={};var fA;function Uz(){if(fA)return Si;fA=1;var e=Kf();function t(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,h,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:d,containerInfo:h,implementation:m}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Si.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Si.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return o(d,h,null,m)},Si.flushSync=function(d){var h=l.T,m=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=h,i.p=m,i.d.f()}},Si.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(d,h))},Si.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Si.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,v=c(m,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?i.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:_}):m==="script"&&i.d.X(d,{crossOrigin:v,integrity:b,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Si.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);i.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(d)},Si.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,v=c(m,h.crossOrigin);i.d.L(d,m,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Si.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=c(h.as,h.crossOrigin);i.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(d)},Si.requestFormReset=function(d){i.d.r(d)},Si.unstable_batchedUpdates=function(d,h){return d(h)},Si.useFormState=function(d,h,m){return l.H.useFormState(d,h,m)},Si.useFormStatus=function(){return l.H.useHostTransitionStatus()},Si.version="19.2.4",Si}var hA;function FN(){if(hA)return cb.exports;hA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),cb.exports=Uz(),cb.exports}var mA;function Fz(){if(mA)return $d;mA=1;var e=Bz(),t=Kf(),n=FN();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)a+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,f=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(f=a.return),r=a.return;while(r)}return a.tag===3?f:null}function l(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function c(r){if(r.tag===31){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(i(188))}function h(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var f=r,g=a;;){var S=f.return;if(S===null)break;var A=S.alternate;if(A===null){if(g=S.return,g!==null){f=g;continue}break}if(S.child===A.child){for(A=S.child;A;){if(A===f)return d(S),r;if(A===g)return d(S),a;A=A.sibling}throw Error(i(188))}if(f.return!==g.return)f=S,g=A;else{for(var D=!1,V=S.child;V;){if(V===f){D=!0,f=S,g=A;break}if(V===g){D=!0,g=S,f=A;break}V=V.sibling}if(!D){for(V=A.child;V;){if(V===f){D=!0,f=A,g=S;break}if(V===g){D=!0,g=A,f=S;break}V=V.sibling}if(!D)throw Error(i(189))}}if(f.alternate!==g)throw Error(i(190))}if(f.tag!==3)throw Error(i(188));return f.stateNode.current===f?r:a}function m(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=m(r),a!==null)return a;r=r.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),P=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function W(r){return r===null||typeof r!="object"?null:(r=K&&r[K]||r["@@iterator"],typeof r=="function"?r:null)}var X=Symbol.for("react.client.reference");function se(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===X?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case k:return"Profiler";case T:return"StrictMode";case j:return"Suspense";case U:return"SuspenseList";case $:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case P:return r.displayName||"Context";case N:return(r._context.displayName||"Context")+".Consumer";case O:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case z:return a=r.displayName||null,a!==null?a:se(r.type)||"Memo";case I:a=r._payload,r=r._init;try{return se(r(a))}catch{}}return null}var ve=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},de=[],ae=-1;function H(r){return{current:r}}function ie(r){0>ae||(r.current=de[ae],de[ae]=null,ae--)}function me(r,a){ae++,de[ae]=r.current,r.current=a}var xe=H(null),Ce=H(null),_e=H(null),Se=H(null);function je(r,a){switch(me(_e,a),me(Ce,r),me(xe,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?NE(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=NE(a),r=kE(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ie(xe),me(xe,r)}function ke(){ie(xe),ie(Ce),ie(_e)}function Oe(r){r.memoizedState!==null&&me(Se,r);var a=xe.current,f=kE(a,r.type);a!==f&&(me(Ce,r),me(xe,f))}function Ue(r){Ce.current===r&&(ie(xe),ie(Ce)),Se.current===r&&(ie(Se),zd._currentValue=Y)}var Xe,ht;function bt(r){if(Xe===void 0)try{throw Error()}catch(f){var a=f.stack.trim().match(/\n( *(at )?)/);Xe=a&&a[1]||"",ht=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xe+r+ht}var zt=!1;function dn(r,a){if(!r||zt)return"";zt=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(a){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(be){var ge=be}Reflect.construct(r,[],Re)}else{try{Re.call()}catch(be){ge=be}r.call(Re.prototype)}}else{try{throw Error()}catch(be){ge=be}(Re=r())&&typeof Re.catch=="function"&&Re.catch(function(){})}}catch(be){if(be&&ge&&typeof be.stack=="string")return[be.stack,ge.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=g.DetermineComponentFrameRoot(),D=A[0],V=A[1];if(D&&V){var ne=D.split(`
`),he=V.split(`
`);for(S=g=0;g<ne.length&&!ne[g].includes("DetermineComponentFrameRoot");)g++;for(;S<he.length&&!he[S].includes("DetermineComponentFrameRoot");)S++;if(g===ne.length||S===he.length)for(g=ne.length-1,S=he.length-1;1<=g&&0<=S&&ne[g]!==he[S];)S--;for(;1<=g&&0<=S;g--,S--)if(ne[g]!==he[S]){if(g!==1||S!==1)do if(g--,S--,0>S||ne[g]!==he[S]){var we=`
`+ne[g].replace(" at new "," at ");return r.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",r.displayName)),we}while(1<=g&&0<=S);break}}}finally{zt=!1,Error.prepareStackTrace=f}return(f=r?r.displayName||r.name:"")?bt(f):""}function fn(r,a){switch(r.tag){case 26:case 27:case 5:return bt(r.type);case 16:return bt("Lazy");case 13:return r.child!==a&&a!==null?bt("Suspense Fallback"):bt("Suspense");case 19:return bt("SuspenseList");case 0:case 15:return dn(r.type,!1);case 11:return dn(r.type.render,!1);case 1:return dn(r.type,!0);case 31:return bt("Activity");default:return""}}function jn(r){try{var a="",f=null;do a+=fn(r,f),f=r,r=r.return;while(r);return a}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var _n=Object.prototype.hasOwnProperty,wn=e.unstable_scheduleCallback,qn=e.unstable_cancelCallback,Ti=e.unstable_shouldYield,Es=e.unstable_requestPaint,sn=e.unstable_now,Cr=e.unstable_getCurrentPriorityLevel,xt=e.unstable_ImmediatePriority,Tt=e.unstable_UserBlockingPriority,Bt=e.unstable_NormalPriority,Ri=e.unstable_LowPriority,Zs=e.unstable_IdlePriority,vi=e.log,eo=e.unstable_setDisableYieldValue,ts=null,rn=null;function si(r){if(typeof vi=="function"&&eo(r),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(ts,r)}catch{}}var En=Math.clz32?Math.clz32:Ga,ns=Math.log,to=Math.LN2;function Ga(r){return r>>>=0,r===0?32:31-(ns(r)/to|0)|0}var Gn=256,Xs=262144,Yt=4194304;function Zt(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function hn(r,a,f){var g=r.pendingLanes;if(g===0)return 0;var S=0,A=r.suspendedLanes,D=r.pingedLanes;r=r.warmLanes;var V=g&134217727;return V!==0?(g=V&~A,g!==0?S=Zt(g):(D&=V,D!==0?S=Zt(D):f||(f=V&~r,f!==0&&(S=Zt(f))))):(V=g&~A,V!==0?S=Zt(V):D!==0?S=Zt(D):f||(f=g&~r,f!==0&&(S=Zt(f)))),S===0?0:a!==0&&a!==S&&(a&A)===0&&(A=S&-S,f=a&-a,A>=f||A===32&&(f&4194048)!==0)?a:S}function Kn(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Wn(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function An(){var r=Yt;return Yt<<=1,(Yt&62914560)===0&&(Yt=4194304),r}function Yn(r){for(var a=[],f=0;31>f;f++)a.push(r);return a}function Zn(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function on(r,a,f,g,S,A){var D=r.pendingLanes;r.pendingLanes=f,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=f,r.entangledLanes&=f,r.errorRecoveryDisabledLanes&=f,r.shellSuspendCounter=0;var V=r.entanglements,ne=r.expirationTimes,he=r.hiddenUpdates;for(f=D&~f;0<f;){var we=31-En(f),Re=1<<we;V[we]=0,ne[we]=-1;var ge=he[we];if(ge!==null)for(he[we]=null,we=0;we<ge.length;we++){var be=ge[we];be!==null&&(be.lane&=-536870913)}f&=~Re}g!==0&&Ni(r,g,0),A!==0&&S===0&&r.tag!==0&&(r.suspendedLanes|=A&~(D&~a))}function Ni(r,a,f){r.pendingLanes|=a,r.suspendedLanes&=~a;var g=31-En(a);r.entangledLanes|=a,r.entanglements[g]=r.entanglements[g]|1073741824|f&261930}function ri(r,a){var f=r.entangledLanes|=a;for(r=r.entanglements;f;){var g=31-En(f),S=1<<g;S&a|r[g]&a&&(r[g]|=a),f&=~S}}function yi(r,a){var f=a&-a;return f=(f&42)!==0?1:an(f),(f&(r.suspendedLanes|a))!==0?0:f}function an(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ze(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function bi(){var r=ee.p;return r!==0?r:(r=window.event,r===void 0?32:JE(r.type))}function is(r,a){var f=ee.p;try{return ee.p=r,a()}finally{ee.p=f}}var oi=Math.random().toString(36).slice(2),mn="__reactFiber$"+oi,Tn="__reactProps$"+oi,Qs="__reactContainer$"+oi,As="__reactEvents$"+oi,ac="__reactListeners$"+oi,Yu="__reactHandles$"+oi,lc="__reactResources$"+oi,no="__reactMarker$"+oi;function Ka(r){delete r[mn],delete r[Tn],delete r[As],delete r[ac],delete r[Yu]}function Js(r){var a=r[mn];if(a)return a;for(var f=r.parentNode;f;){if(a=f[Qs]||f[mn]){if(f=a.alternate,a.child!==null||f!==null&&f.child!==null)for(r=IE(r);r!==null;){if(f=r[mn])return f;r=IE(r)}return a}r=f,f=r.parentNode}return null}function Er(r){if(r=r[mn]||r[Qs]){var a=r.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return r}return null}function ss(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Bi(r){var a=r[lc];return a||(a=r[lc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ln(r){r[no]=!0}var er=new Set,cc={};function Ui(r,a){Fi(r,a),Fi(r+"Capture",a)}function Fi(r,a){for(cc[r]=a,r=0;r<a.length;r++)er.add(a[r])}var io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wa={},so={};function ro(r){return _n.call(so,r)?!0:_n.call(Wa,r)?!1:io.test(r)?so[r]=!0:(Wa[r]=!0,!1)}function mt(r,a,f){if(ro(a))if(f===null)r.removeAttribute(a);else{switch(typeof f){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var g=a.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+f)}}function F(r,a,f){if(f===null)r.removeAttribute(a);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+f)}}function te(r,a,f,g){if(g===null)r.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(f);return}r.setAttributeNS(a,f,""+g)}}function q(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function oe(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function le(r,a,f){var g=Object.getOwnPropertyDescriptor(r.constructor.prototype,a);if(!r.hasOwnProperty(a)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var S=g.get,A=g.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return S.call(this)},set:function(D){f=""+D,A.call(this,D)}}),Object.defineProperty(r,a,{enumerable:g.enumerable}),{getValue:function(){return f},setValue:function(D){f=""+D},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function J(r){if(!r._valueTracker){var a=oe(r)?"checked":"value";r._valueTracker=le(r,a,""+r[a])}}function ye(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var f=a.getValue(),g="";return r&&(g=oe(r)?r.checked?"true":"false":r.value),r=g,r!==f?(a.setValue(r),!0):!1}function Ne(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Pe=/[\n"\\]/g;function Ae(r){return r.replace(Pe,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Me(r,a,f,g,S,A,D,V){r.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.type=D:r.removeAttribute("type"),a!=null?D==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+q(a)):r.value!==""+q(a)&&(r.value=""+q(a)):D!=="submit"&&D!=="reset"||r.removeAttribute("value"),a!=null?tt(r,D,q(a)):f!=null?tt(r,D,q(f)):g!=null&&r.removeAttribute("value"),S==null&&A!=null&&(r.defaultChecked=!!A),S!=null&&(r.checked=S&&typeof S!="function"&&typeof S!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?r.name=""+q(V):r.removeAttribute("name")}function Be(r,a,f,g,S,A,D,V){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(r.type=A),a!=null||f!=null){if(!(A!=="submit"&&A!=="reset"||a!=null)){J(r);return}f=f!=null?""+q(f):"",a=a!=null?""+q(a):f,V||a===r.value||(r.value=a),r.defaultValue=a}g=g??S,g=typeof g!="function"&&typeof g!="symbol"&&!!g,r.checked=V?r.checked:!!g,r.defaultChecked=!!g,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(r.name=D),J(r)}function tt(r,a,f){a==="number"&&Ne(r.ownerDocument)===r||r.defaultValue===""+f||(r.defaultValue=""+f)}function We(r,a,f,g){if(r=r.options,a){a={};for(var S=0;S<f.length;S++)a["$"+f[S]]=!0;for(f=0;f<r.length;f++)S=a.hasOwnProperty("$"+r[f].value),r[f].selected!==S&&(r[f].selected=S),S&&g&&(r[f].defaultSelected=!0)}else{for(f=""+q(f),a=null,S=0;S<r.length;S++){if(r[S].value===f){r[S].selected=!0,g&&(r[S].defaultSelected=!0);return}a!==null||r[S].disabled||(a=r[S])}a!==null&&(a.selected=!0)}}function ft(r,a,f){if(a!=null&&(a=""+q(a),a!==r.value&&(r.value=a),f==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=f!=null?""+q(f):""}function Ut(r,a,f,g){if(a==null){if(g!=null){if(f!=null)throw Error(i(92));if(ve(g)){if(1<g.length)throw Error(i(93));g=g[0]}f=g}f==null&&(f=""),a=f}f=q(a),r.defaultValue=f,g=r.textContent,g===f&&g!==""&&g!==null&&(r.value=g),J(r)}function Et(r,a){if(a){var f=r.firstChild;if(f&&f===r.lastChild&&f.nodeType===3){f.nodeValue=a;return}}r.textContent=a}var Xn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vi(r,a,f){var g=a.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?g?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":g?r.setProperty(a,f):typeof f!="number"||f===0||Xn.has(a)?a==="float"?r.cssFloat=f:r[a]=(""+f).trim():r[a]=f+"px"}function Ar(r,a,f){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,f!=null){for(var g in f)!f.hasOwnProperty(g)||a!=null&&a.hasOwnProperty(g)||(g.indexOf("--")===0?r.setProperty(g,""):g==="float"?r.cssFloat="":r[g]="");for(var S in a)g=a[S],a.hasOwnProperty(S)&&f[S]!==g&&Vi(r,S,g)}else for(var A in a)a.hasOwnProperty(A)&&Vi(r,A,a[A])}function oo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rr(r){return uc.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function xi(){}var ao=null;function Ya(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Fo=null,it=null;function rs(r){var a=Er(r);if(a&&(r=a.stateNode)){var f=r[Tn]||null;e:switch(r=a.stateNode,a.type){case"input":if(Me(r,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),a=f.name,f.type==="radio"&&a!=null){for(f=r;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Ae(""+a)+'"][type="radio"]'),a=0;a<f.length;a++){var g=f[a];if(g!==r&&g.form===r.form){var S=g[Tn]||null;if(!S)throw Error(i(90));Me(g,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(a=0;a<f.length;a++)g=f[a],g.form===r.form&&ye(g)}break e;case"textarea":ft(r,f.value,f.defaultValue);break e;case"select":a=f.value,a!=null&&We(r,!!f.multiple,a,!1)}}}var It=!1;function Zu(r,a,f){if(It)return r(a,f);It=!0;try{var g=r(a);return g}finally{if(It=!1,(Fo!==null||it!==null)&&(vm(),Fo&&(a=Fo,r=it,it=Fo=null,rs(a),r)))for(a=0;a<r.length;a++)rs(r[a])}}function lo(r,a){var f=r.stateNode;if(f===null)return null;var g=f[Tn]||null;if(g===null)return null;f=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(r=r.type,g=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!g;break e;default:r=!1}if(r)return null;if(f&&typeof f!="function")throw Error(i(231,a,typeof f));return f}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Za=!1;if(os)try{var as={};Object.defineProperty(as,"passive",{get:function(){Za=!0}}),window.addEventListener("test",as,as),window.removeEventListener("test",as,as)}catch{Za=!1}var Ts=null,co=null,pn=null;function Nr(){if(pn)return pn;var r,a=co,f=a.length,g,S="value"in Ts?Ts.value:Ts.textContent,A=S.length;for(r=0;r<f&&a[r]===S[r];r++);var D=f-r;for(g=1;g<=D&&a[f-g]===S[A-g];g++);return pn=S.slice(r,1<g?1-g:void 0)}function Xa(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Qa(){return!0}function wh(){return!1}function ai(r){function a(f,g,S,A,D){this._reactName=f,this._targetInst=S,this.type=g,this.nativeEvent=A,this.target=D,this.currentTarget=null;for(var V in r)r.hasOwnProperty(V)&&(f=r[V],this[V]=f?f(A):A[V]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Qa:wh,this.isPropagationStopped=wh,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Qa)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Qa)},persist:function(){},isPersistent:Qa}),a}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dc=ai(tr),Vo=v({},tr,{view:0,detail:0}),_t=ai(Vo),Xu,ki,nr,Ja=v({},Vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:id,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==nr&&(nr&&r.type==="mousemove"?(Xu=r.screenX-nr.screenX,ki=r.screenY-nr.screenY):ki=Xu=0,nr=r),Xu)},movementY:function(r){return"movementY"in r?r.movementY:ki}}),Sh=ai(Ja),Qu=v({},Ja,{dataTransfer:0}),mv=ai(Qu),Ch=v({},Vo,{relatedTarget:0}),Ju=ai(Ch),pv=v({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),ed=ai(pv),gv=v({},tr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Rs=ai(gv),vv=v({},tr,{data:0}),td=ai(vv),kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ah={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nd(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Ah[r])?!!a[r]:!1}function id(){return nd}var Th=v({},Vo,{key:function(r){if(r.key){var a=kr[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Xa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Eh[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:id,charCode:function(r){return r.type==="keypress"?Xa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Xa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Rh=ai(Th),yv=v({},Ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nh=ai(yv),sd=v({},Vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:id}),bv=ai(sd),kh=v({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ph=ai(kh),fc=v({},Ja,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),uo=ai(fc),xv=v({},tr,{newState:0,oldState:0}),el=ai(xv),$i=[9,13,27,32],hc=os&&"CompositionEvent"in window,$o=null;os&&"documentMode"in document&&($o=document.documentMode);var _v=os&&"TextEvent"in window&&!$o,mc=os&&(!hc||$o&&8<$o&&11>=$o),pc=" ",Oh=!1;function Mh(r,a){switch(r){case"keyup":return $i.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rd(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ho=!1;function ls(r,a){switch(r){case"compositionend":return rd(a);case"keypress":return a.which!==32?null:(Oh=!0,pc);case"textInput":return r=a.data,r===pc&&Oh?null:r;default:return null}}function qo(r,a){if(Ho)return r==="compositionend"||!hc&&Mh(r,a)?(r=Nr(),pn=co=Ts=null,Ho=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return mc&&a.locale!=="ko"?null:a.data;default:return null}}var wv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ns(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!wv[r.type]:a==="textarea"}function Dh(r,a,f,g){Fo?it?it.push(g):it=[g]:Fo=g,a=Cm(a,"onChange"),0<a.length&&(f=new dc("onChange","change",null,f,g),r.push({event:f,listeners:a}))}var ks=null,tl=null;function nl(r){SE(r,0)}function il(r){var a=ss(r);if(ye(a))return r}function sl(r,a){if(r==="change")return a}var Lh=!1;if(os){var Ps;if(os){var Go="oninput"in document;if(!Go){var jh=document.createElement("div");jh.setAttribute("oninput","return;"),Go=typeof jh.oninput=="function"}Ps=Go}else Ps=!1;Lh=Ps&&(!document.documentMode||9<document.documentMode)}function gc(){ks&&(ks.detachEvent("onpropertychange",Ih),tl=ks=null)}function Ih(r){if(r.propertyName==="value"&&il(tl)){var a=[];Dh(a,tl,r,Ya(r)),Zu(nl,a)}}function ir(r,a,f){r==="focusin"?(gc(),ks=a,tl=f,ks.attachEvent("onpropertychange",Ih)):r==="focusout"&&gc()}function Sv(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return il(tl)}function Ko(r,a){if(r==="click")return il(a)}function Cv(r,a){if(r==="input"||r==="change")return il(a)}function sr(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Qn=typeof Object.is=="function"?Object.is:sr;function Wo(r,a){if(Qn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var f=Object.keys(r),g=Object.keys(a);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var S=f[g];if(!_n.call(a,S)||!Qn(r[S],a[S]))return!1}return!0}function vc(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function rl(r,a){var f=vc(r);r=0;for(var g;f;){if(f.nodeType===3){if(g=r+f.textContent.length,r<=a&&g>=a)return{node:f,offset:a-r};r=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=vc(f)}}function yc(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?yc(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function ol(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Ne(r.document);a instanceof r.HTMLIFrameElement;){try{var f=typeof a.contentWindow.location.href=="string"}catch{f=!1}if(f)r=a.contentWindow;else break;a=Ne(r.document)}return a}function Pr(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var bc=os&&"documentMode"in document&&11>=document.documentMode,Or=null,xc=null,al=null,Yo=!1;function zh(r,a,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Yo||Or==null||Or!==Ne(g)||(g=Or,"selectionStart"in g&&Pr(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),al&&Wo(al,g)||(al=g,g=Cm(xc,"onSelect"),0<g.length&&(a=new dc("onSelect","select",null,a,f),r.push({event:a,listeners:g}),a.target=Or)))}function Mr(r,a){var f={};return f[r.toLowerCase()]=a.toLowerCase(),f["Webkit"+r]="webkit"+a,f["Moz"+r]="moz"+a,f}var Zo={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionrun:Mr("Transition","TransitionRun"),transitionstart:Mr("Transition","TransitionStart"),transitioncancel:Mr("Transition","TransitionCancel"),transitionend:Mr("Transition","TransitionEnd")},_c={},Bh={};os&&(Bh=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function Jn(r){if(_c[r])return _c[r];if(!Zo[r])return r;var a=Zo[r],f;for(f in a)if(a.hasOwnProperty(f)&&f in Bh)return _c[r]=a[f];return r}var ll=Jn("animationend"),Uh=Jn("animationiteration"),cl=Jn("animationstart"),Ev=Jn("transitionrun"),Fh=Jn("transitionstart"),Av=Jn("transitioncancel"),Xo=Jn("transitionend"),Vh=new Map,Dr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dr.push("scrollEnd");function Hi(r,a){Vh.set(r,a),Ui(a,[r])}var ul=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},qi=[],_i=0,wc=0;function dl(){for(var r=_i,a=wc=_i=0;a<r;){var f=qi[a];qi[a++]=null;var g=qi[a];qi[a++]=null;var S=qi[a];qi[a++]=null;var A=qi[a];if(qi[a++]=null,g!==null&&S!==null){var D=g.pending;D===null?S.next=S:(S.next=D.next,D.next=S),g.pending=S}A!==0&&Qo(f,S,A)}}function Lr(r,a,f,g){qi[_i++]=r,qi[_i++]=a,qi[_i++]=f,qi[_i++]=g,wc|=g,r.lanes|=g,r=r.alternate,r!==null&&(r.lanes|=g)}function od(r,a,f,g){return Lr(r,a,f,g),fl(r)}function Os(r,a){return Lr(r,null,null,a),fl(r)}function Qo(r,a,f){r.lanes|=f;var g=r.alternate;g!==null&&(g.lanes|=f);for(var S=!1,A=r.return;A!==null;)A.childLanes|=f,g=A.alternate,g!==null&&(g.childLanes|=f),A.tag===22&&(r=A.stateNode,r===null||r._visibility&1||(S=!0)),r=A,A=A.return;return r.tag===3?(A=r.stateNode,S&&a!==null&&(S=31-En(f),r=A.hiddenUpdates,g=r[S],g===null?r[S]=[a]:g.push(a),a.lane=f|536870912),A):null}function fl(r){if(50<Pd)throw Pd=0,Ry=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var fo={};function Tv(r,a,f,g){this.tag=r,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wi(r,a,f,g){return new Tv(r,a,f,g)}function Sc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ms(r,a){var f=r.alternate;return f===null?(f=wi(r.tag,a,r.key,r.mode),f.elementType=r.elementType,f.type=r.type,f.stateNode=r.stateNode,f.alternate=r,r.alternate=f):(f.pendingProps=a,f.type=r.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=r.flags&65011712,f.childLanes=r.childLanes,f.lanes=r.lanes,f.child=r.child,f.memoizedProps=r.memoizedProps,f.memoizedState=r.memoizedState,f.updateQueue=r.updateQueue,a=r.dependencies,f.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},f.sibling=r.sibling,f.index=r.index,f.ref=r.ref,f.refCleanup=r.refCleanup,f}function ad(r,a){r.flags&=65011714;var f=r.alternate;return f===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=f.childLanes,r.lanes=f.lanes,r.child=f.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=f.memoizedProps,r.memoizedState=f.memoizedState,r.updateQueue=f.updateQueue,r.type=f.type,a=f.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function hl(r,a,f,g,S,A){var D=0;if(g=r,typeof r=="function")Sc(r)&&(D=1);else if(typeof r=="string")D=wz(r,f,xe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case $:return r=wi(31,f,a,S),r.elementType=$,r.lanes=A,r;case E:return ho(f.children,S,A,a);case T:D=8,S|=24;break;case k:return r=wi(12,f,a,S|2),r.elementType=k,r.lanes=A,r;case j:return r=wi(13,f,a,S),r.elementType=j,r.lanes=A,r;case U:return r=wi(19,f,a,S),r.elementType=U,r.lanes=A,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case P:D=10;break e;case N:D=9;break e;case O:D=11;break e;case z:D=14;break e;case I:D=16,g=null;break e}D=29,f=Error(i(130,r===null?"null":typeof r,"")),g=null}return a=wi(D,f,a,S),a.elementType=r,a.type=g,a.lanes=A,a}function ho(r,a,f,g){return r=wi(7,r,g,a),r.lanes=f,r}function Cc(r,a,f){return r=wi(6,r,null,a),r.lanes=f,r}function ld(r){var a=wi(18,null,null,0);return a.stateNode=r,a}function cd(r,a,f){return a=wi(4,r.children!==null?r.children:[],r.key,a),a.lanes=f,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var u=new WeakMap;function p(r,a){if(typeof r=="object"&&r!==null){var f=u.get(r);return f!==void 0?f:(a={value:r,source:a,stack:jn(a)},u.set(r,a),a)}return{value:r,source:a,stack:jn(a)}}var w=[],R=0,M=null,B=0,Q=[],ue=0,pe=null,Te=1,De="";function Ge(r,a){w[R++]=B,w[R++]=M,M=r,B=a}function ct(r,a,f){Q[ue++]=Te,Q[ue++]=De,Q[ue++]=pe,pe=r;var g=Te;r=De;var S=32-En(g)-1;g&=~(1<<S),f+=1;var A=32-En(a)+S;if(30<A){var D=S-S%5;A=(g&(1<<D)-1).toString(32),g>>=D,S-=D,Te=1<<32-En(a)+S|f<<S|g,De=A+r}else Te=1<<A|f<<S|g,De=r}function In(r){r.return!==null&&(Ge(r,1),ct(r,1,0))}function gn(r){for(;r===M;)M=w[--R],w[R]=null,B=w[--R],w[R]=null;for(;r===pe;)pe=Q[--ue],Q[ue]=null,De=Q[--ue],Q[ue]=null,Te=Q[--ue],Q[ue]=null}function Pi(r,a){Q[ue++]=Te,Q[ue++]=De,Q[ue++]=pe,Te=a.id,De=a.overflow,pe=r}var Nt=null,kt=null,gt=!1,jr=null,Gi=!1,Ec=Error(i(519));function Ir(r){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ml(p(a,r)),Ec}function ud(r){var a=r.stateNode,f=r.type,g=r.memoizedProps;switch(a[mn]=r,a[Tn]=g,f){case"dialog":yt("cancel",a),yt("close",a);break;case"iframe":case"object":case"embed":yt("load",a);break;case"video":case"audio":for(f=0;f<Md.length;f++)yt(Md[f],a);break;case"source":yt("error",a);break;case"img":case"image":case"link":yt("error",a),yt("load",a);break;case"details":yt("toggle",a);break;case"input":yt("invalid",a),Be(a,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":yt("invalid",a);break;case"textarea":yt("invalid",a),Ut(a,g.value,g.defaultValue,g.children)}f=g.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||a.textContent===""+f||g.suppressHydrationWarning===!0||TE(a.textContent,f)?(g.popover!=null&&(yt("beforetoggle",a),yt("toggle",a)),g.onScroll!=null&&yt("scroll",a),g.onScrollEnd!=null&&yt("scrollend",a),g.onClick!=null&&(a.onclick=xi),a=!0):a=!1,a||Ir(r,!0)}function cn(r){for(Nt=r.return;Nt;)switch(Nt.tag){case 5:case 31:case 13:Gi=!1;return;case 27:case 3:Gi=!0;return;default:Nt=Nt.return}}function rr(r){if(r!==Nt)return!1;if(!gt)return cn(r),gt=!0,!1;var a=r.tag,f;if((f=a!==3&&a!==27)&&((f=a===5)&&(f=r.type,f=!(f!=="form"&&f!=="button")||$y(r.type,r.memoizedProps)),f=!f),f&&kt&&Ir(r),cn(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));kt=jE(r)}else if(a===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));kt=jE(r)}else a===27?(a=kt,fa(r.type)?(r=Wy,Wy=null,kt=r):kt=a):kt=Nt?Ls(r.stateNode.nextSibling):null;return!0}function mo(){kt=Nt=null,gt=!1}function dd(){var r=jr;return r!==null&&(Zi===null?Zi=r:Zi.push.apply(Zi,r),jr=null),r}function ml(r){jr===null?jr=[r]:jr.push(r)}var pl=H(null),zr=null,or=null;function Jo(r,a,f){me(pl,a._currentValue),a._currentValue=f}function po(r){r._currentValue=pl.current,ie(pl)}function Rv(r,a,f){for(;r!==null;){var g=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),r===f)break;r=r.return}}function Nv(r,a,f,g){var S=r.child;for(S!==null&&(S.return=r);S!==null;){var A=S.dependencies;if(A!==null){var D=S.child;A=A.firstContext;e:for(;A!==null;){var V=A;A=S;for(var ne=0;ne<a.length;ne++)if(V.context===a[ne]){A.lanes|=f,V=A.alternate,V!==null&&(V.lanes|=f),Rv(A.return,f,r),g||(D=null);break e}A=V.next}}else if(S.tag===18){if(D=S.return,D===null)throw Error(i(341));D.lanes|=f,A=D.alternate,A!==null&&(A.lanes|=f),Rv(D,f,r),D=null}else D=S.child;if(D!==null)D.return=S;else for(D=S;D!==null;){if(D===r){D=null;break}if(S=D.sibling,S!==null){S.return=D.return,D=S;break}D=D.return}S=D}}function Ac(r,a,f,g){r=null;for(var S=a,A=!1;S!==null;){if(!A){if((S.flags&524288)!==0)A=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var D=S.alternate;if(D===null)throw Error(i(387));if(D=D.memoizedProps,D!==null){var V=S.type;Qn(S.pendingProps.value,D.value)||(r!==null?r.push(V):r=[V])}}else if(S===Se.current){if(D=S.alternate,D===null)throw Error(i(387));D.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(r!==null?r.push(zd):r=[zd])}S=S.return}r!==null&&Nv(a,r,f,g),a.flags|=262144}function $h(r){for(r=r.firstContext;r!==null;){if(!Qn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function gl(r){zr=r,or=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function li(r){return fS(zr,r)}function Hh(r,a){return zr===null&&gl(r),fS(r,a)}function fS(r,a){var f=a._currentValue;if(a={context:a,memoizedValue:f,next:null},or===null){if(r===null)throw Error(i(308));or=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else or=or.next=a;return f}var yI=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(f,g){r.push(g)}};this.abort=function(){a.aborted=!0,r.forEach(function(f){return f()})}},bI=e.unstable_scheduleCallback,xI=e.unstable_NormalPriority,Rn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kv(){return{controller:new yI,data:new Map,refCount:0}}function fd(r){r.refCount--,r.refCount===0&&bI(xI,function(){r.controller.abort()})}var hd=null,Pv=0,Tc=0,Rc=null;function _I(r,a){if(hd===null){var f=hd=[];Pv=0,Tc=Dy(),Rc={status:"pending",value:void 0,then:function(g){f.push(g)}}}return Pv++,a.then(hS,hS),a}function hS(){if(--Pv===0&&hd!==null){Rc!==null&&(Rc.status="fulfilled");var r=hd;hd=null,Tc=0,Rc=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function wI(r,a){var f=[],g={status:"pending",value:null,reason:null,then:function(S){f.push(S)}};return r.then(function(){g.status="fulfilled",g.value=a;for(var S=0;S<f.length;S++)(0,f[S])(a)},function(S){for(g.status="rejected",g.reason=S,S=0;S<f.length;S++)(0,f[S])(void 0)}),g}var mS=G.S;G.S=function(r,a){XC=sn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&_I(r,a),mS!==null&&mS(r,a)};var vl=H(null);function Ov(){var r=vl.current;return r!==null?r:Kt.pooledCache}function qh(r,a){a===null?me(vl,vl.current):me(vl,a.pool)}function pS(){var r=Ov();return r===null?null:{parent:Rn._currentValue,pool:r}}var Nc=Error(i(460)),Mv=Error(i(474)),Gh=Error(i(542)),Kh={then:function(){}};function gS(r){return r=r.status,r==="fulfilled"||r==="rejected"}function vS(r,a,f){switch(f=r[f],f===void 0?r.push(a):f!==a&&(a.then(xi,xi),a=f),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,bS(r),r;default:if(typeof a.status=="string")a.then(xi,xi);else{if(r=Kt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(g){if(a.status==="pending"){var S=a;S.status="fulfilled",S.value=g}},function(g){if(a.status==="pending"){var S=a;S.status="rejected",S.reason=g}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,bS(r),r}throw bl=a,Nc}}function yl(r){try{var a=r._init;return a(r._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(bl=f,Nc):f}}var bl=null;function yS(){if(bl===null)throw Error(i(459));var r=bl;return bl=null,r}function bS(r){if(r===Nc||r===Gh)throw Error(i(483))}var kc=null,md=0;function Wh(r){var a=md;return md+=1,kc===null&&(kc=[]),vS(kc,r,a)}function pd(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Yh(r,a){throw a.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function xS(r){function a(ce,re){if(r){var fe=ce.deletions;fe===null?(ce.deletions=[re],ce.flags|=16):fe.push(re)}}function f(ce,re){if(!r)return null;for(;re!==null;)a(ce,re),re=re.sibling;return null}function g(ce){for(var re=new Map;ce!==null;)ce.key!==null?re.set(ce.key,ce):re.set(ce.index,ce),ce=ce.sibling;return re}function S(ce,re){return ce=Ms(ce,re),ce.index=0,ce.sibling=null,ce}function A(ce,re,fe){return ce.index=fe,r?(fe=ce.alternate,fe!==null?(fe=fe.index,fe<re?(ce.flags|=67108866,re):fe):(ce.flags|=67108866,re)):(ce.flags|=1048576,re)}function D(ce){return r&&ce.alternate===null&&(ce.flags|=67108866),ce}function V(ce,re,fe,Ee){return re===null||re.tag!==6?(re=Cc(fe,ce.mode,Ee),re.return=ce,re):(re=S(re,fe),re.return=ce,re)}function ne(ce,re,fe,Ee){var Ze=fe.type;return Ze===E?we(ce,re,fe.props.children,Ee,fe.key):re!==null&&(re.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===I&&yl(Ze)===re.type)?(re=S(re,fe.props),pd(re,fe),re.return=ce,re):(re=hl(fe.type,fe.key,fe.props,null,ce.mode,Ee),pd(re,fe),re.return=ce,re)}function he(ce,re,fe,Ee){return re===null||re.tag!==4||re.stateNode.containerInfo!==fe.containerInfo||re.stateNode.implementation!==fe.implementation?(re=cd(fe,ce.mode,Ee),re.return=ce,re):(re=S(re,fe.children||[]),re.return=ce,re)}function we(ce,re,fe,Ee,Ze){return re===null||re.tag!==7?(re=ho(fe,ce.mode,Ee,Ze),re.return=ce,re):(re=S(re,fe),re.return=ce,re)}function Re(ce,re,fe){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=Cc(""+re,ce.mode,fe),re.return=ce,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case _:return fe=hl(re.type,re.key,re.props,null,ce.mode,fe),pd(fe,re),fe.return=ce,fe;case C:return re=cd(re,ce.mode,fe),re.return=ce,re;case I:return re=yl(re),Re(ce,re,fe)}if(ve(re)||W(re))return re=ho(re,ce.mode,fe,null),re.return=ce,re;if(typeof re.then=="function")return Re(ce,Wh(re),fe);if(re.$$typeof===P)return Re(ce,Hh(ce,re),fe);Yh(ce,re)}return null}function ge(ce,re,fe,Ee){var Ze=re!==null?re.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Ze!==null?null:V(ce,re,""+fe,Ee);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case _:return fe.key===Ze?ne(ce,re,fe,Ee):null;case C:return fe.key===Ze?he(ce,re,fe,Ee):null;case I:return fe=yl(fe),ge(ce,re,fe,Ee)}if(ve(fe)||W(fe))return Ze!==null?null:we(ce,re,fe,Ee,null);if(typeof fe.then=="function")return ge(ce,re,Wh(fe),Ee);if(fe.$$typeof===P)return ge(ce,re,Hh(ce,fe),Ee);Yh(ce,fe)}return null}function be(ce,re,fe,Ee,Ze){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return ce=ce.get(fe)||null,V(re,ce,""+Ee,Ze);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case _:return ce=ce.get(Ee.key===null?fe:Ee.key)||null,ne(re,ce,Ee,Ze);case C:return ce=ce.get(Ee.key===null?fe:Ee.key)||null,he(re,ce,Ee,Ze);case I:return Ee=yl(Ee),be(ce,re,fe,Ee,Ze)}if(ve(Ee)||W(Ee))return ce=ce.get(fe)||null,we(re,ce,Ee,Ze,null);if(typeof Ee.then=="function")return be(ce,re,fe,Wh(Ee),Ze);if(Ee.$$typeof===P)return be(ce,re,fe,Hh(re,Ee),Ze);Yh(re,Ee)}return null}function Fe(ce,re,fe,Ee){for(var Ze=null,Pt=null,qe=re,ut=re=0,St=null;qe!==null&&ut<fe.length;ut++){qe.index>ut?(St=qe,qe=null):St=qe.sibling;var Ot=ge(ce,qe,fe[ut],Ee);if(Ot===null){qe===null&&(qe=St);break}r&&qe&&Ot.alternate===null&&a(ce,qe),re=A(Ot,re,ut),Pt===null?Ze=Ot:Pt.sibling=Ot,Pt=Ot,qe=St}if(ut===fe.length)return f(ce,qe),gt&&Ge(ce,ut),Ze;if(qe===null){for(;ut<fe.length;ut++)qe=Re(ce,fe[ut],Ee),qe!==null&&(re=A(qe,re,ut),Pt===null?Ze=qe:Pt.sibling=qe,Pt=qe);return gt&&Ge(ce,ut),Ze}for(qe=g(qe);ut<fe.length;ut++)St=be(qe,ce,ut,fe[ut],Ee),St!==null&&(r&&St.alternate!==null&&qe.delete(St.key===null?ut:St.key),re=A(St,re,ut),Pt===null?Ze=St:Pt.sibling=St,Pt=St);return r&&qe.forEach(function(va){return a(ce,va)}),gt&&Ge(ce,ut),Ze}function Je(ce,re,fe,Ee){if(fe==null)throw Error(i(151));for(var Ze=null,Pt=null,qe=re,ut=re=0,St=null,Ot=fe.next();qe!==null&&!Ot.done;ut++,Ot=fe.next()){qe.index>ut?(St=qe,qe=null):St=qe.sibling;var va=ge(ce,qe,Ot.value,Ee);if(va===null){qe===null&&(qe=St);break}r&&qe&&va.alternate===null&&a(ce,qe),re=A(va,re,ut),Pt===null?Ze=va:Pt.sibling=va,Pt=va,qe=St}if(Ot.done)return f(ce,qe),gt&&Ge(ce,ut),Ze;if(qe===null){for(;!Ot.done;ut++,Ot=fe.next())Ot=Re(ce,Ot.value,Ee),Ot!==null&&(re=A(Ot,re,ut),Pt===null?Ze=Ot:Pt.sibling=Ot,Pt=Ot);return gt&&Ge(ce,ut),Ze}for(qe=g(qe);!Ot.done;ut++,Ot=fe.next())Ot=be(qe,ce,ut,Ot.value,Ee),Ot!==null&&(r&&Ot.alternate!==null&&qe.delete(Ot.key===null?ut:Ot.key),re=A(Ot,re,ut),Pt===null?Ze=Ot:Pt.sibling=Ot,Pt=Ot);return r&&qe.forEach(function(Mz){return a(ce,Mz)}),gt&&Ge(ce,ut),Ze}function Gt(ce,re,fe,Ee){if(typeof fe=="object"&&fe!==null&&fe.type===E&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case _:e:{for(var Ze=fe.key;re!==null;){if(re.key===Ze){if(Ze=fe.type,Ze===E){if(re.tag===7){f(ce,re.sibling),Ee=S(re,fe.props.children),Ee.return=ce,ce=Ee;break e}}else if(re.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===I&&yl(Ze)===re.type){f(ce,re.sibling),Ee=S(re,fe.props),pd(Ee,fe),Ee.return=ce,ce=Ee;break e}f(ce,re);break}else a(ce,re);re=re.sibling}fe.type===E?(Ee=ho(fe.props.children,ce.mode,Ee,fe.key),Ee.return=ce,ce=Ee):(Ee=hl(fe.type,fe.key,fe.props,null,ce.mode,Ee),pd(Ee,fe),Ee.return=ce,ce=Ee)}return D(ce);case C:e:{for(Ze=fe.key;re!==null;){if(re.key===Ze)if(re.tag===4&&re.stateNode.containerInfo===fe.containerInfo&&re.stateNode.implementation===fe.implementation){f(ce,re.sibling),Ee=S(re,fe.children||[]),Ee.return=ce,ce=Ee;break e}else{f(ce,re);break}else a(ce,re);re=re.sibling}Ee=cd(fe,ce.mode,Ee),Ee.return=ce,ce=Ee}return D(ce);case I:return fe=yl(fe),Gt(ce,re,fe,Ee)}if(ve(fe))return Fe(ce,re,fe,Ee);if(W(fe)){if(Ze=W(fe),typeof Ze!="function")throw Error(i(150));return fe=Ze.call(fe),Je(ce,re,fe,Ee)}if(typeof fe.then=="function")return Gt(ce,re,Wh(fe),Ee);if(fe.$$typeof===P)return Gt(ce,re,Hh(ce,fe),Ee);Yh(ce,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,re!==null&&re.tag===6?(f(ce,re.sibling),Ee=S(re,fe),Ee.return=ce,ce=Ee):(f(ce,re),Ee=Cc(fe,ce.mode,Ee),Ee.return=ce,ce=Ee),D(ce)):f(ce,re)}return function(ce,re,fe,Ee){try{md=0;var Ze=Gt(ce,re,fe,Ee);return kc=null,Ze}catch(qe){if(qe===Nc||qe===Gh)throw qe;var Pt=wi(29,qe,null,ce.mode);return Pt.lanes=Ee,Pt.return=ce,Pt}}}var xl=xS(!0),_S=xS(!1),ea=!1;function Dv(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lv(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ta(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function na(r,a,f){var g=r.updateQueue;if(g===null)return null;if(g=g.shared,(Lt&2)!==0){var S=g.pending;return S===null?a.next=a:(a.next=S.next,S.next=a),g.pending=a,a=fl(r),Qo(r,null,f),a}return Lr(r,g,a,f),fl(r)}function gd(r,a,f){if(a=a.updateQueue,a!==null&&(a=a.shared,(f&4194048)!==0)){var g=a.lanes;g&=r.pendingLanes,f|=g,a.lanes=f,ri(r,f)}}function jv(r,a){var f=r.updateQueue,g=r.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var S=null,A=null;if(f=f.firstBaseUpdate,f!==null){do{var D={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};A===null?S=A=D:A=A.next=D,f=f.next}while(f!==null);A===null?S=A=a:A=A.next=a}else S=A=a;f={baseState:g.baseState,firstBaseUpdate:S,lastBaseUpdate:A,shared:g.shared,callbacks:g.callbacks},r.updateQueue=f;return}r=f.lastBaseUpdate,r===null?f.firstBaseUpdate=a:r.next=a,f.lastBaseUpdate=a}var Iv=!1;function vd(){if(Iv){var r=Rc;if(r!==null)throw r}}function yd(r,a,f,g){Iv=!1;var S=r.updateQueue;ea=!1;var A=S.firstBaseUpdate,D=S.lastBaseUpdate,V=S.shared.pending;if(V!==null){S.shared.pending=null;var ne=V,he=ne.next;ne.next=null,D===null?A=he:D.next=he,D=ne;var we=r.alternate;we!==null&&(we=we.updateQueue,V=we.lastBaseUpdate,V!==D&&(V===null?we.firstBaseUpdate=he:V.next=he,we.lastBaseUpdate=ne))}if(A!==null){var Re=S.baseState;D=0,we=he=ne=null,V=A;do{var ge=V.lane&-536870913,be=ge!==V.lane;if(be?(wt&ge)===ge:(g&ge)===ge){ge!==0&&ge===Tc&&(Iv=!0),we!==null&&(we=we.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var Fe=r,Je=V;ge=a;var Gt=f;switch(Je.tag){case 1:if(Fe=Je.payload,typeof Fe=="function"){Re=Fe.call(Gt,Re,ge);break e}Re=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Je.payload,ge=typeof Fe=="function"?Fe.call(Gt,Re,ge):Fe,ge==null)break e;Re=v({},Re,ge);break e;case 2:ea=!0}}ge=V.callback,ge!==null&&(r.flags|=64,be&&(r.flags|=8192),be=S.callbacks,be===null?S.callbacks=[ge]:be.push(ge))}else be={lane:ge,tag:V.tag,payload:V.payload,callback:V.callback,next:null},we===null?(he=we=be,ne=Re):we=we.next=be,D|=ge;if(V=V.next,V===null){if(V=S.shared.pending,V===null)break;be=V,V=be.next,be.next=null,S.lastBaseUpdate=be,S.shared.pending=null}}while(!0);we===null&&(ne=Re),S.baseState=ne,S.firstBaseUpdate=he,S.lastBaseUpdate=we,A===null&&(S.shared.lanes=0),aa|=D,r.lanes=D,r.memoizedState=Re}}function wS(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function SS(r,a){var f=r.callbacks;if(f!==null)for(r.callbacks=null,r=0;r<f.length;r++)wS(f[r],a)}var Pc=H(null),Zh=H(0);function CS(r,a){r=Co,me(Zh,r),me(Pc,a),Co=r|a.baseLanes}function zv(){me(Zh,Co),me(Pc,Pc.current)}function Bv(){Co=Zh.current,ie(Pc),ie(Zh)}var cs=H(null),Ds=null;function ia(r){var a=r.alternate;me(Sn,Sn.current&1),me(cs,r),Ds===null&&(a===null||Pc.current!==null||a.memoizedState!==null)&&(Ds=r)}function Uv(r){me(Sn,Sn.current),me(cs,r),Ds===null&&(Ds=r)}function ES(r){r.tag===22?(me(Sn,Sn.current),me(cs,r),Ds===null&&(Ds=r)):sa()}function sa(){me(Sn,Sn.current),me(cs,cs.current)}function us(r){ie(cs),Ds===r&&(Ds=null),ie(Sn)}var Sn=H(0);function Xh(r){for(var a=r;a!==null;){if(a.tag===13){var f=a.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||Gy(f)||Ky(f)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var go=0,lt=null,Ht=null,Nn=null,Qh=!1,Oc=!1,_l=!1,Jh=0,bd=0,Mc=null,SI=0;function vn(){throw Error(i(321))}function Fv(r,a){if(a===null)return!1;for(var f=0;f<a.length&&f<r.length;f++)if(!Qn(r[f],a[f]))return!1;return!0}function Vv(r,a,f,g,S,A){return go=A,lt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,G.H=r===null||r.memoizedState===null?lC:iy,_l=!1,A=f(g,S),_l=!1,Oc&&(A=TS(a,f,g,S)),AS(r),A}function AS(r){G.H=wd;var a=Ht!==null&&Ht.next!==null;if(go=0,Nn=Ht=lt=null,Qh=!1,bd=0,Mc=null,a)throw Error(i(300));r===null||kn||(r=r.dependencies,r!==null&&$h(r)&&(kn=!0))}function TS(r,a,f,g){lt=r;var S=0;do{if(Oc&&(Mc=null),bd=0,Oc=!1,25<=S)throw Error(i(301));if(S+=1,Nn=Ht=null,r.updateQueue!=null){var A=r.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}G.H=cC,A=a(f,g)}while(Oc);return A}function CI(){var r=G.H,a=r.useState()[0];return a=typeof a.then=="function"?xd(a):a,r=r.useState()[0],(Ht!==null?Ht.memoizedState:null)!==r&&(lt.flags|=1024),a}function $v(){var r=Jh!==0;return Jh=0,r}function Hv(r,a,f){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~f}function qv(r){if(Qh){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Qh=!1}go=0,Nn=Ht=lt=null,Oc=!1,bd=Jh=0,Mc=null}function Oi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?lt.memoizedState=Nn=r:Nn=Nn.next=r,Nn}function Cn(){if(Ht===null){var r=lt.alternate;r=r!==null?r.memoizedState:null}else r=Ht.next;var a=Nn===null?lt.memoizedState:Nn.next;if(a!==null)Nn=a,Ht=r;else{if(r===null)throw lt.alternate===null?Error(i(467)):Error(i(310));Ht=r,r={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Nn===null?lt.memoizedState=Nn=r:Nn=Nn.next=r}return Nn}function em(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xd(r){var a=bd;return bd+=1,Mc===null&&(Mc=[]),r=vS(Mc,r,a),a=lt,(Nn===null?a.memoizedState:Nn.next)===null&&(a=a.alternate,G.H=a===null||a.memoizedState===null?lC:iy),r}function tm(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return xd(r);if(r.$$typeof===P)return li(r)}throw Error(i(438,String(r)))}function Gv(r){var a=null,f=lt.updateQueue;if(f!==null&&(a=f.memoCache),a==null){var g=lt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(a={data:g.data.map(function(S){return S.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),f===null&&(f=em(),lt.updateQueue=f),f.memoCache=a,f=a.data[a.index],f===void 0)for(f=a.data[a.index]=Array(r),g=0;g<r;g++)f[g]=Z;return a.index++,f}function vo(r,a){return typeof a=="function"?a(r):a}function nm(r){var a=Cn();return Kv(a,Ht,r)}function Kv(r,a,f){var g=r.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=f;var S=r.baseQueue,A=g.pending;if(A!==null){if(S!==null){var D=S.next;S.next=A.next,A.next=D}a.baseQueue=S=A,g.pending=null}if(A=r.baseState,S===null)r.memoizedState=A;else{a=S.next;var V=D=null,ne=null,he=a,we=!1;do{var Re=he.lane&-536870913;if(Re!==he.lane?(wt&Re)===Re:(go&Re)===Re){var ge=he.revertLane;if(ge===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),Re===Tc&&(we=!0);else if((go&ge)===ge){he=he.next,ge===Tc&&(we=!0);continue}else Re={lane:0,revertLane:he.revertLane,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},ne===null?(V=ne=Re,D=A):ne=ne.next=Re,lt.lanes|=ge,aa|=ge;Re=he.action,_l&&f(A,Re),A=he.hasEagerState?he.eagerState:f(A,Re)}else ge={lane:Re,revertLane:he.revertLane,gesture:he.gesture,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},ne===null?(V=ne=ge,D=A):ne=ne.next=ge,lt.lanes|=Re,aa|=Re;he=he.next}while(he!==null&&he!==a);if(ne===null?D=A:ne.next=V,!Qn(A,r.memoizedState)&&(kn=!0,we&&(f=Rc,f!==null)))throw f;r.memoizedState=A,r.baseState=D,r.baseQueue=ne,g.lastRenderedState=A}return S===null&&(g.lanes=0),[r.memoizedState,g.dispatch]}function Wv(r){var a=Cn(),f=a.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=r;var g=f.dispatch,S=f.pending,A=a.memoizedState;if(S!==null){f.pending=null;var D=S=S.next;do A=r(A,D.action),D=D.next;while(D!==S);Qn(A,a.memoizedState)||(kn=!0),a.memoizedState=A,a.baseQueue===null&&(a.baseState=A),f.lastRenderedState=A}return[A,g]}function RS(r,a,f){var g=lt,S=Cn(),A=gt;if(A){if(f===void 0)throw Error(i(407));f=f()}else f=a();var D=!Qn((Ht||S).memoizedState,f);if(D&&(S.memoizedState=f,kn=!0),S=S.queue,Xv(PS.bind(null,g,S,r),[r]),S.getSnapshot!==a||D||Nn!==null&&Nn.memoizedState.tag&1){if(g.flags|=2048,Dc(9,{destroy:void 0},kS.bind(null,g,S,f,a),null),Kt===null)throw Error(i(349));A||(go&127)!==0||NS(g,a,f)}return f}function NS(r,a,f){r.flags|=16384,r={getSnapshot:a,value:f},a=lt.updateQueue,a===null?(a=em(),lt.updateQueue=a,a.stores=[r]):(f=a.stores,f===null?a.stores=[r]:f.push(r))}function kS(r,a,f,g){a.value=f,a.getSnapshot=g,OS(a)&&MS(r)}function PS(r,a,f){return f(function(){OS(a)&&MS(r)})}function OS(r){var a=r.getSnapshot;r=r.value;try{var f=a();return!Qn(r,f)}catch{return!0}}function MS(r){var a=Os(r,2);a!==null&&Xi(a,r,2)}function Yv(r){var a=Oi();if(typeof r=="function"){var f=r;if(r=f(),_l){si(!0);try{f()}finally{si(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:r},a}function DS(r,a,f,g){return r.baseState=f,Kv(r,Ht,typeof g=="function"?g:vo)}function EI(r,a,f,g,S){if(rm(r))throw Error(i(485));if(r=a.action,r!==null){var A={payload:S,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){A.listeners.push(D)}};G.T!==null?f(!0):A.isTransition=!1,g(A),f=a.pending,f===null?(A.next=a.pending=A,LS(a,A)):(A.next=f.next,a.pending=f.next=A)}}function LS(r,a){var f=a.action,g=a.payload,S=r.state;if(a.isTransition){var A=G.T,D={};G.T=D;try{var V=f(S,g),ne=G.S;ne!==null&&ne(D,V),jS(r,a,V)}catch(he){Zv(r,a,he)}finally{A!==null&&D.types!==null&&(A.types=D.types),G.T=A}}else try{A=f(S,g),jS(r,a,A)}catch(he){Zv(r,a,he)}}function jS(r,a,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(g){IS(r,a,g)},function(g){return Zv(r,a,g)}):IS(r,a,f)}function IS(r,a,f){a.status="fulfilled",a.value=f,zS(a),r.state=f,a=r.pending,a!==null&&(f=a.next,f===a?r.pending=null:(f=f.next,a.next=f,LS(r,f)))}function Zv(r,a,f){var g=r.pending;if(r.pending=null,g!==null){g=g.next;do a.status="rejected",a.reason=f,zS(a),a=a.next;while(a!==g)}r.action=null}function zS(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function BS(r,a){return a}function US(r,a){if(gt){var f=Kt.formState;if(f!==null){e:{var g=lt;if(gt){if(kt){t:{for(var S=kt,A=Gi;S.nodeType!==8;){if(!A){S=null;break t}if(S=Ls(S.nextSibling),S===null){S=null;break t}}A=S.data,S=A==="F!"||A==="F"?S:null}if(S){kt=Ls(S.nextSibling),g=S.data==="F!";break e}}Ir(g)}g=!1}g&&(a=f[0])}}return f=Oi(),f.memoizedState=f.baseState=a,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:BS,lastRenderedState:a},f.queue=g,f=rC.bind(null,lt,g),g.dispatch=f,g=Yv(!1),A=ny.bind(null,lt,!1,g.queue),g=Oi(),S={state:a,dispatch:null,action:r,pending:null},g.queue=S,f=EI.bind(null,lt,S,A,f),S.dispatch=f,g.memoizedState=r,[a,f,!1]}function FS(r){var a=Cn();return VS(a,Ht,r)}function VS(r,a,f){if(a=Kv(r,a,BS)[0],r=nm(vo)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var g=xd(a)}catch(D){throw D===Nc?Gh:D}else g=a;a=Cn();var S=a.queue,A=S.dispatch;return f!==a.memoizedState&&(lt.flags|=2048,Dc(9,{destroy:void 0},AI.bind(null,S,f),null)),[g,A,r]}function AI(r,a){r.action=a}function $S(r){var a=Cn(),f=Ht;if(f!==null)return VS(a,f,r);Cn(),a=a.memoizedState,f=Cn();var g=f.queue.dispatch;return f.memoizedState=r,[a,g,!1]}function Dc(r,a,f,g){return r={tag:r,create:f,deps:g,inst:a,next:null},a=lt.updateQueue,a===null&&(a=em(),lt.updateQueue=a),f=a.lastEffect,f===null?a.lastEffect=r.next=r:(g=f.next,f.next=r,r.next=g,a.lastEffect=r),r}function HS(){return Cn().memoizedState}function im(r,a,f,g){var S=Oi();lt.flags|=r,S.memoizedState=Dc(1|a,{destroy:void 0},f,g===void 0?null:g)}function sm(r,a,f,g){var S=Cn();g=g===void 0?null:g;var A=S.memoizedState.inst;Ht!==null&&g!==null&&Fv(g,Ht.memoizedState.deps)?S.memoizedState=Dc(a,A,f,g):(lt.flags|=r,S.memoizedState=Dc(1|a,A,f,g))}function qS(r,a){im(8390656,8,r,a)}function Xv(r,a){sm(2048,8,r,a)}function TI(r){lt.flags|=4;var a=lt.updateQueue;if(a===null)a=em(),lt.updateQueue=a,a.events=[r];else{var f=a.events;f===null?a.events=[r]:f.push(r)}}function GS(r){var a=Cn().memoizedState;return TI({ref:a,nextImpl:r}),function(){if((Lt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function KS(r,a){return sm(4,2,r,a)}function WS(r,a){return sm(4,4,r,a)}function YS(r,a){if(typeof a=="function"){r=r();var f=a(r);return function(){typeof f=="function"?f():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function ZS(r,a,f){f=f!=null?f.concat([r]):null,sm(4,4,YS.bind(null,a,r),f)}function Qv(){}function XS(r,a){var f=Cn();a=a===void 0?null:a;var g=f.memoizedState;return a!==null&&Fv(a,g[1])?g[0]:(f.memoizedState=[r,a],r)}function QS(r,a){var f=Cn();a=a===void 0?null:a;var g=f.memoizedState;if(a!==null&&Fv(a,g[1]))return g[0];if(g=r(),_l){si(!0);try{r()}finally{si(!1)}}return f.memoizedState=[g,a],g}function Jv(r,a,f){return f===void 0||(go&1073741824)!==0&&(wt&261930)===0?r.memoizedState=a:(r.memoizedState=f,r=JC(),lt.lanes|=r,aa|=r,f)}function JS(r,a,f,g){return Qn(f,a)?f:Pc.current!==null?(r=Jv(r,f,g),Qn(r,a)||(kn=!0),r):(go&42)===0||(go&1073741824)!==0&&(wt&261930)===0?(kn=!0,r.memoizedState=f):(r=JC(),lt.lanes|=r,aa|=r,a)}function eC(r,a,f,g,S){var A=ee.p;ee.p=A!==0&&8>A?A:8;var D=G.T,V={};G.T=V,ny(r,!1,a,f);try{var ne=S(),he=G.S;if(he!==null&&he(V,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var we=wI(ne,g);_d(r,a,we,hs(r))}else _d(r,a,g,hs(r))}catch(Re){_d(r,a,{then:function(){},status:"rejected",reason:Re},hs())}finally{ee.p=A,D!==null&&V.types!==null&&(D.types=V.types),G.T=D}}function RI(){}function ey(r,a,f,g){if(r.tag!==5)throw Error(i(476));var S=tC(r).queue;eC(r,S,a,Y,f===null?RI:function(){return nC(r),f(g)})}function tC(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:Y},next:null};var f={};return a.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:f},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function nC(r){var a=tC(r);a.next===null&&(a=r.alternate.memoizedState),_d(r,a.next.queue,{},hs())}function ty(){return li(zd)}function iC(){return Cn().memoizedState}function sC(){return Cn().memoizedState}function NI(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var f=hs();r=ta(f);var g=na(a,r,f);g!==null&&(Xi(g,a,f),gd(g,a,f)),a={cache:kv()},r.payload=a;return}a=a.return}}function kI(r,a,f){var g=hs();f={lane:g,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},rm(r)?oC(a,f):(f=od(r,a,f,g),f!==null&&(Xi(f,r,g),aC(f,a,g)))}function rC(r,a,f){var g=hs();_d(r,a,f,g)}function _d(r,a,f,g){var S={lane:g,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(rm(r))oC(a,S);else{var A=r.alternate;if(r.lanes===0&&(A===null||A.lanes===0)&&(A=a.lastRenderedReducer,A!==null))try{var D=a.lastRenderedState,V=A(D,f);if(S.hasEagerState=!0,S.eagerState=V,Qn(V,D))return Lr(r,a,S,0),Kt===null&&dl(),!1}catch{}if(f=od(r,a,S,g),f!==null)return Xi(f,r,g),aC(f,a,g),!0}return!1}function ny(r,a,f,g){if(g={lane:2,revertLane:Dy(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},rm(r)){if(a)throw Error(i(479))}else a=od(r,f,g,2),a!==null&&Xi(a,r,2)}function rm(r){var a=r.alternate;return r===lt||a!==null&&a===lt}function oC(r,a){Oc=Qh=!0;var f=r.pending;f===null?a.next=a:(a.next=f.next,f.next=a),r.pending=a}function aC(r,a,f){if((f&4194048)!==0){var g=a.lanes;g&=r.pendingLanes,f|=g,a.lanes=f,ri(r,f)}}var wd={readContext:li,use:tm,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useLayoutEffect:vn,useInsertionEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useSyncExternalStore:vn,useId:vn,useHostTransitionStatus:vn,useFormState:vn,useActionState:vn,useOptimistic:vn,useMemoCache:vn,useCacheRefresh:vn};wd.useEffectEvent=vn;var lC={readContext:li,use:tm,useCallback:function(r,a){return Oi().memoizedState=[r,a===void 0?null:a],r},useContext:li,useEffect:qS,useImperativeHandle:function(r,a,f){f=f!=null?f.concat([r]):null,im(4194308,4,YS.bind(null,a,r),f)},useLayoutEffect:function(r,a){return im(4194308,4,r,a)},useInsertionEffect:function(r,a){im(4,2,r,a)},useMemo:function(r,a){var f=Oi();a=a===void 0?null:a;var g=r();if(_l){si(!0);try{r()}finally{si(!1)}}return f.memoizedState=[g,a],g},useReducer:function(r,a,f){var g=Oi();if(f!==void 0){var S=f(a);if(_l){si(!0);try{f(a)}finally{si(!1)}}}else S=a;return g.memoizedState=g.baseState=S,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:S},g.queue=r,r=r.dispatch=kI.bind(null,lt,r),[g.memoizedState,r]},useRef:function(r){var a=Oi();return r={current:r},a.memoizedState=r},useState:function(r){r=Yv(r);var a=r.queue,f=rC.bind(null,lt,a);return a.dispatch=f,[r.memoizedState,f]},useDebugValue:Qv,useDeferredValue:function(r,a){var f=Oi();return Jv(f,r,a)},useTransition:function(){var r=Yv(!1);return r=eC.bind(null,lt,r.queue,!0,!1),Oi().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,f){var g=lt,S=Oi();if(gt){if(f===void 0)throw Error(i(407));f=f()}else{if(f=a(),Kt===null)throw Error(i(349));(wt&127)!==0||NS(g,a,f)}S.memoizedState=f;var A={value:f,getSnapshot:a};return S.queue=A,qS(PS.bind(null,g,A,r),[r]),g.flags|=2048,Dc(9,{destroy:void 0},kS.bind(null,g,A,f,a),null),f},useId:function(){var r=Oi(),a=Kt.identifierPrefix;if(gt){var f=De,g=Te;f=(g&~(1<<32-En(g)-1)).toString(32)+f,a="_"+a+"R_"+f,f=Jh++,0<f&&(a+="H"+f.toString(32)),a+="_"}else f=SI++,a="_"+a+"r_"+f.toString(32)+"_";return r.memoizedState=a},useHostTransitionStatus:ty,useFormState:US,useActionState:US,useOptimistic:function(r){var a=Oi();a.memoizedState=a.baseState=r;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=f,a=ny.bind(null,lt,!0,f),f.dispatch=a,[r,a]},useMemoCache:Gv,useCacheRefresh:function(){return Oi().memoizedState=NI.bind(null,lt)},useEffectEvent:function(r){var a=Oi(),f={impl:r};return a.memoizedState=f,function(){if((Lt&2)!==0)throw Error(i(440));return f.impl.apply(void 0,arguments)}}},iy={readContext:li,use:tm,useCallback:XS,useContext:li,useEffect:Xv,useImperativeHandle:ZS,useInsertionEffect:KS,useLayoutEffect:WS,useMemo:QS,useReducer:nm,useRef:HS,useState:function(){return nm(vo)},useDebugValue:Qv,useDeferredValue:function(r,a){var f=Cn();return JS(f,Ht.memoizedState,r,a)},useTransition:function(){var r=nm(vo)[0],a=Cn().memoizedState;return[typeof r=="boolean"?r:xd(r),a]},useSyncExternalStore:RS,useId:iC,useHostTransitionStatus:ty,useFormState:FS,useActionState:FS,useOptimistic:function(r,a){var f=Cn();return DS(f,Ht,r,a)},useMemoCache:Gv,useCacheRefresh:sC};iy.useEffectEvent=GS;var cC={readContext:li,use:tm,useCallback:XS,useContext:li,useEffect:Xv,useImperativeHandle:ZS,useInsertionEffect:KS,useLayoutEffect:WS,useMemo:QS,useReducer:Wv,useRef:HS,useState:function(){return Wv(vo)},useDebugValue:Qv,useDeferredValue:function(r,a){var f=Cn();return Ht===null?Jv(f,r,a):JS(f,Ht.memoizedState,r,a)},useTransition:function(){var r=Wv(vo)[0],a=Cn().memoizedState;return[typeof r=="boolean"?r:xd(r),a]},useSyncExternalStore:RS,useId:iC,useHostTransitionStatus:ty,useFormState:$S,useActionState:$S,useOptimistic:function(r,a){var f=Cn();return Ht!==null?DS(f,Ht,r,a):(f.baseState=r,[r,f.queue.dispatch])},useMemoCache:Gv,useCacheRefresh:sC};cC.useEffectEvent=GS;function sy(r,a,f,g){a=r.memoizedState,f=f(g,a),f=f==null?a:v({},a,f),r.memoizedState=f,r.lanes===0&&(r.updateQueue.baseState=f)}var ry={enqueueSetState:function(r,a,f){r=r._reactInternals;var g=hs(),S=ta(g);S.payload=a,f!=null&&(S.callback=f),a=na(r,S,g),a!==null&&(Xi(a,r,g),gd(a,r,g))},enqueueReplaceState:function(r,a,f){r=r._reactInternals;var g=hs(),S=ta(g);S.tag=1,S.payload=a,f!=null&&(S.callback=f),a=na(r,S,g),a!==null&&(Xi(a,r,g),gd(a,r,g))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var f=hs(),g=ta(f);g.tag=2,a!=null&&(g.callback=a),a=na(r,g,f),a!==null&&(Xi(a,r,f),gd(a,r,f))}};function uC(r,a,f,g,S,A,D){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(g,A,D):a.prototype&&a.prototype.isPureReactComponent?!Wo(f,g)||!Wo(S,A):!0}function dC(r,a,f,g){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(f,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(f,g),a.state!==r&&ry.enqueueReplaceState(a,a.state,null)}function wl(r,a){var f=a;if("ref"in a){f={};for(var g in a)g!=="ref"&&(f[g]=a[g])}if(r=r.defaultProps){f===a&&(f=v({},f));for(var S in r)f[S]===void 0&&(f[S]=r[S])}return f}function fC(r){ul(r)}function hC(r){console.error(r)}function mC(r){ul(r)}function om(r,a){try{var f=r.onUncaughtError;f(a.value,{componentStack:a.stack})}catch(g){setTimeout(function(){throw g})}}function pC(r,a,f){try{var g=r.onCaughtError;g(f.value,{componentStack:f.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function oy(r,a,f){return f=ta(f),f.tag=3,f.payload={element:null},f.callback=function(){om(r,a)},f}function gC(r){return r=ta(r),r.tag=3,r}function vC(r,a,f,g){var S=f.type.getDerivedStateFromError;if(typeof S=="function"){var A=g.value;r.payload=function(){return S(A)},r.callback=function(){pC(a,f,g)}}var D=f.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(r.callback=function(){pC(a,f,g),typeof S!="function"&&(la===null?la=new Set([this]):la.add(this));var V=g.stack;this.componentDidCatch(g.value,{componentStack:V!==null?V:""})})}function PI(r,a,f,g,S){if(f.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(a=f.alternate,a!==null&&Ac(a,f,S,!0),f=cs.current,f!==null){switch(f.tag){case 31:case 13:return Ds===null?ym():f.alternate===null&&yn===0&&(yn=3),f.flags&=-257,f.flags|=65536,f.lanes=S,g===Kh?f.flags|=16384:(a=f.updateQueue,a===null?f.updateQueue=new Set([g]):a.add(g),Py(r,g,S)),!1;case 22:return f.flags|=65536,g===Kh?f.flags|=16384:(a=f.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([g])},f.updateQueue=a):(f=a.retryQueue,f===null?a.retryQueue=new Set([g]):f.add(g)),Py(r,g,S)),!1}throw Error(i(435,f.tag))}return Py(r,g,S),ym(),!1}if(gt)return a=cs.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=S,g!==Ec&&(r=Error(i(422),{cause:g}),ml(p(r,f)))):(g!==Ec&&(a=Error(i(423),{cause:g}),ml(p(a,f))),r=r.current.alternate,r.flags|=65536,S&=-S,r.lanes|=S,g=p(g,f),S=oy(r.stateNode,g,S),jv(r,S),yn!==4&&(yn=2)),!1;var A=Error(i(520),{cause:g});if(A=p(A,f),kd===null?kd=[A]:kd.push(A),yn!==4&&(yn=2),a===null)return!0;g=p(g,f),f=a;do{switch(f.tag){case 3:return f.flags|=65536,r=S&-S,f.lanes|=r,r=oy(f.stateNode,g,r),jv(f,r),!1;case 1:if(a=f.type,A=f.stateNode,(f.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(la===null||!la.has(A))))return f.flags|=65536,S&=-S,f.lanes|=S,S=gC(S),vC(S,r,f,g),jv(f,S),!1}f=f.return}while(f!==null);return!1}var ay=Error(i(461)),kn=!1;function ci(r,a,f,g){a.child=r===null?_S(a,null,f,g):xl(a,r.child,f,g)}function yC(r,a,f,g,S){f=f.render;var A=a.ref;if("ref"in g){var D={};for(var V in g)V!=="ref"&&(D[V]=g[V])}else D=g;return gl(a),g=Vv(r,a,f,D,A,S),V=$v(),r!==null&&!kn?(Hv(r,a,S),yo(r,a,S)):(gt&&V&&In(a),a.flags|=1,ci(r,a,g,S),a.child)}function bC(r,a,f,g,S){if(r===null){var A=f.type;return typeof A=="function"&&!Sc(A)&&A.defaultProps===void 0&&f.compare===null?(a.tag=15,a.type=A,xC(r,a,A,g,S)):(r=hl(f.type,null,g,a,a.mode,S),r.ref=a.ref,r.return=a,a.child=r)}if(A=r.child,!py(r,S)){var D=A.memoizedProps;if(f=f.compare,f=f!==null?f:Wo,f(D,g)&&r.ref===a.ref)return yo(r,a,S)}return a.flags|=1,r=Ms(A,g),r.ref=a.ref,r.return=a,a.child=r}function xC(r,a,f,g,S){if(r!==null){var A=r.memoizedProps;if(Wo(A,g)&&r.ref===a.ref)if(kn=!1,a.pendingProps=g=A,py(r,S))(r.flags&131072)!==0&&(kn=!0);else return a.lanes=r.lanes,yo(r,a,S)}return ly(r,a,f,g,S)}function _C(r,a,f,g){var S=g.children,A=r!==null?r.memoizedState:null;if(r===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((a.flags&128)!==0){if(A=A!==null?A.baseLanes|f:f,r!==null){for(g=a.child=r.child,S=0;g!==null;)S=S|g.lanes|g.childLanes,g=g.sibling;g=S&~A}else g=0,a.child=null;return wC(r,a,A,f,g)}if((f&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&qh(a,A!==null?A.cachePool:null),A!==null?CS(a,A):zv(),ES(a);else return g=a.lanes=536870912,wC(r,a,A!==null?A.baseLanes|f:f,f,g)}else A!==null?(qh(a,A.cachePool),CS(a,A),sa(),a.memoizedState=null):(r!==null&&qh(a,null),zv(),sa());return ci(r,a,S,f),a.child}function Sd(r,a){return r!==null&&r.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function wC(r,a,f,g,S){var A=Ov();return A=A===null?null:{parent:Rn._currentValue,pool:A},a.memoizedState={baseLanes:f,cachePool:A},r!==null&&qh(a,null),zv(),ES(a),r!==null&&Ac(r,a,g,!0),a.childLanes=S,null}function am(r,a){return a=cm({mode:a.mode,children:a.children},r.mode),a.ref=r.ref,r.child=a,a.return=r,a}function SC(r,a,f){return xl(a,r.child,null,f),r=am(a,a.pendingProps),r.flags|=2,us(a),a.memoizedState=null,r}function OI(r,a,f){var g=a.pendingProps,S=(a.flags&128)!==0;if(a.flags&=-129,r===null){if(gt){if(g.mode==="hidden")return r=am(a,g),a.lanes=536870912,Sd(null,r);if(Uv(a),(r=kt)?(r=LE(r,Gi),r=r!==null&&r.data==="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:pe!==null?{id:Te,overflow:De}:null,retryLane:536870912,hydrationErrors:null},f=ld(r),f.return=a,a.child=f,Nt=a,kt=null)):r=null,r===null)throw Ir(a);return a.lanes=536870912,null}return am(a,g)}var A=r.memoizedState;if(A!==null){var D=A.dehydrated;if(Uv(a),S)if(a.flags&256)a.flags&=-257,a=SC(r,a,f);else if(a.memoizedState!==null)a.child=r.child,a.flags|=128,a=null;else throw Error(i(558));else if(kn||Ac(r,a,f,!1),S=(f&r.childLanes)!==0,kn||S){if(g=Kt,g!==null&&(D=yi(g,f),D!==0&&D!==A.retryLane))throw A.retryLane=D,Os(r,D),Xi(g,r,D),ay;ym(),a=SC(r,a,f)}else r=A.treeContext,kt=Ls(D.nextSibling),Nt=a,gt=!0,jr=null,Gi=!1,r!==null&&Pi(a,r),a=am(a,g),a.flags|=4096;return a}return r=Ms(r.child,{mode:g.mode,children:g.children}),r.ref=a.ref,a.child=r,r.return=a,r}function lm(r,a){var f=a.ref;if(f===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(i(284));(r===null||r.ref!==f)&&(a.flags|=4194816)}}function ly(r,a,f,g,S){return gl(a),f=Vv(r,a,f,g,void 0,S),g=$v(),r!==null&&!kn?(Hv(r,a,S),yo(r,a,S)):(gt&&g&&In(a),a.flags|=1,ci(r,a,f,S),a.child)}function CC(r,a,f,g,S,A){return gl(a),a.updateQueue=null,f=TS(a,g,f,S),AS(r),g=$v(),r!==null&&!kn?(Hv(r,a,A),yo(r,a,A)):(gt&&g&&In(a),a.flags|=1,ci(r,a,f,A),a.child)}function EC(r,a,f,g,S){if(gl(a),a.stateNode===null){var A=fo,D=f.contextType;typeof D=="object"&&D!==null&&(A=li(D)),A=new f(g,A),a.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=ry,a.stateNode=A,A._reactInternals=a,A=a.stateNode,A.props=g,A.state=a.memoizedState,A.refs={},Dv(a),D=f.contextType,A.context=typeof D=="object"&&D!==null?li(D):fo,A.state=a.memoizedState,D=f.getDerivedStateFromProps,typeof D=="function"&&(sy(a,f,D,g),A.state=a.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(D=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),D!==A.state&&ry.enqueueReplaceState(A,A.state,null),yd(a,g,A,S),vd(),A.state=a.memoizedState),typeof A.componentDidMount=="function"&&(a.flags|=4194308),g=!0}else if(r===null){A=a.stateNode;var V=a.memoizedProps,ne=wl(f,V);A.props=ne;var he=A.context,we=f.contextType;D=fo,typeof we=="object"&&we!==null&&(D=li(we));var Re=f.getDerivedStateFromProps;we=typeof Re=="function"||typeof A.getSnapshotBeforeUpdate=="function",V=a.pendingProps!==V,we||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(V||he!==D)&&dC(a,A,g,D),ea=!1;var ge=a.memoizedState;A.state=ge,yd(a,g,A,S),vd(),he=a.memoizedState,V||ge!==he||ea?(typeof Re=="function"&&(sy(a,f,Re,g),he=a.memoizedState),(ne=ea||uC(a,f,ne,g,ge,he,D))?(we||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(a.flags|=4194308)):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=he),A.props=g,A.state=he,A.context=D,g=ne):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{A=a.stateNode,Lv(r,a),D=a.memoizedProps,we=wl(f,D),A.props=we,Re=a.pendingProps,ge=A.context,he=f.contextType,ne=fo,typeof he=="object"&&he!==null&&(ne=li(he)),V=f.getDerivedStateFromProps,(he=typeof V=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(D!==Re||ge!==ne)&&dC(a,A,g,ne),ea=!1,ge=a.memoizedState,A.state=ge,yd(a,g,A,S),vd();var be=a.memoizedState;D!==Re||ge!==be||ea||r!==null&&r.dependencies!==null&&$h(r.dependencies)?(typeof V=="function"&&(sy(a,f,V,g),be=a.memoizedState),(we=ea||uC(a,f,we,g,ge,be,ne)||r!==null&&r.dependencies!==null&&$h(r.dependencies))?(he||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(g,be,ne),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(g,be,ne)),typeof A.componentDidUpdate=="function"&&(a.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof A.componentDidUpdate!="function"||D===r.memoizedProps&&ge===r.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&ge===r.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=be),A.props=g,A.state=be,A.context=ne,g=we):(typeof A.componentDidUpdate!="function"||D===r.memoizedProps&&ge===r.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&ge===r.memoizedState||(a.flags|=1024),g=!1)}return A=g,lm(r,a),g=(a.flags&128)!==0,A||g?(A=a.stateNode,f=g&&typeof f.getDerivedStateFromError!="function"?null:A.render(),a.flags|=1,r!==null&&g?(a.child=xl(a,r.child,null,S),a.child=xl(a,null,f,S)):ci(r,a,f,S),a.memoizedState=A.state,r=a.child):r=yo(r,a,S),r}function AC(r,a,f,g){return mo(),a.flags|=256,ci(r,a,f,g),a.child}var cy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uy(r){return{baseLanes:r,cachePool:pS()}}function dy(r,a,f){return r=r!==null?r.childLanes&~f:0,a&&(r|=fs),r}function TC(r,a,f){var g=a.pendingProps,S=!1,A=(a.flags&128)!==0,D;if((D=A)||(D=r!==null&&r.memoizedState===null?!1:(Sn.current&2)!==0),D&&(S=!0,a.flags&=-129),D=(a.flags&32)!==0,a.flags&=-33,r===null){if(gt){if(S?ia(a):sa(),(r=kt)?(r=LE(r,Gi),r=r!==null&&r.data!=="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:pe!==null?{id:Te,overflow:De}:null,retryLane:536870912,hydrationErrors:null},f=ld(r),f.return=a,a.child=f,Nt=a,kt=null)):r=null,r===null)throw Ir(a);return Ky(r)?a.lanes=32:a.lanes=536870912,null}var V=g.children;return g=g.fallback,S?(sa(),S=a.mode,V=cm({mode:"hidden",children:V},S),g=ho(g,S,f,null),V.return=a,g.return=a,V.sibling=g,a.child=V,g=a.child,g.memoizedState=uy(f),g.childLanes=dy(r,D,f),a.memoizedState=cy,Sd(null,g)):(ia(a),fy(a,V))}var ne=r.memoizedState;if(ne!==null&&(V=ne.dehydrated,V!==null)){if(A)a.flags&256?(ia(a),a.flags&=-257,a=hy(r,a,f)):a.memoizedState!==null?(sa(),a.child=r.child,a.flags|=128,a=null):(sa(),V=g.fallback,S=a.mode,g=cm({mode:"visible",children:g.children},S),V=ho(V,S,f,null),V.flags|=2,g.return=a,V.return=a,g.sibling=V,a.child=g,xl(a,r.child,null,f),g=a.child,g.memoizedState=uy(f),g.childLanes=dy(r,D,f),a.memoizedState=cy,a=Sd(null,g));else if(ia(a),Ky(V)){if(D=V.nextSibling&&V.nextSibling.dataset,D)var he=D.dgst;D=he,g=Error(i(419)),g.stack="",g.digest=D,ml({value:g,source:null,stack:null}),a=hy(r,a,f)}else if(kn||Ac(r,a,f,!1),D=(f&r.childLanes)!==0,kn||D){if(D=Kt,D!==null&&(g=yi(D,f),g!==0&&g!==ne.retryLane))throw ne.retryLane=g,Os(r,g),Xi(D,r,g),ay;Gy(V)||ym(),a=hy(r,a,f)}else Gy(V)?(a.flags|=192,a.child=r.child,a=null):(r=ne.treeContext,kt=Ls(V.nextSibling),Nt=a,gt=!0,jr=null,Gi=!1,r!==null&&Pi(a,r),a=fy(a,g.children),a.flags|=4096);return a}return S?(sa(),V=g.fallback,S=a.mode,ne=r.child,he=ne.sibling,g=Ms(ne,{mode:"hidden",children:g.children}),g.subtreeFlags=ne.subtreeFlags&65011712,he!==null?V=Ms(he,V):(V=ho(V,S,f,null),V.flags|=2),V.return=a,g.return=a,g.sibling=V,a.child=g,Sd(null,g),g=a.child,V=r.child.memoizedState,V===null?V=uy(f):(S=V.cachePool,S!==null?(ne=Rn._currentValue,S=S.parent!==ne?{parent:ne,pool:ne}:S):S=pS(),V={baseLanes:V.baseLanes|f,cachePool:S}),g.memoizedState=V,g.childLanes=dy(r,D,f),a.memoizedState=cy,Sd(r.child,g)):(ia(a),f=r.child,r=f.sibling,f=Ms(f,{mode:"visible",children:g.children}),f.return=a,f.sibling=null,r!==null&&(D=a.deletions,D===null?(a.deletions=[r],a.flags|=16):D.push(r)),a.child=f,a.memoizedState=null,f)}function fy(r,a){return a=cm({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function cm(r,a){return r=wi(22,r,null,a),r.lanes=0,r}function hy(r,a,f){return xl(a,r.child,null,f),r=fy(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function RC(r,a,f){r.lanes|=a;var g=r.alternate;g!==null&&(g.lanes|=a),Rv(r.return,a,f)}function my(r,a,f,g,S,A){var D=r.memoizedState;D===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:S,treeForkCount:A}:(D.isBackwards=a,D.rendering=null,D.renderingStartTime=0,D.last=g,D.tail=f,D.tailMode=S,D.treeForkCount=A)}function NC(r,a,f){var g=a.pendingProps,S=g.revealOrder,A=g.tail;g=g.children;var D=Sn.current,V=(D&2)!==0;if(V?(D=D&1|2,a.flags|=128):D&=1,me(Sn,D),ci(r,a,g,f),g=gt?B:0,!V&&r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&RC(r,f,a);else if(r.tag===19)RC(r,f,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(S){case"forwards":for(f=a.child,S=null;f!==null;)r=f.alternate,r!==null&&Xh(r)===null&&(S=f),f=f.sibling;f=S,f===null?(S=a.child,a.child=null):(S=f.sibling,f.sibling=null),my(a,!1,S,f,A,g);break;case"backwards":case"unstable_legacy-backwards":for(f=null,S=a.child,a.child=null;S!==null;){if(r=S.alternate,r!==null&&Xh(r)===null){a.child=S;break}r=S.sibling,S.sibling=f,f=S,S=r}my(a,!0,f,null,A,g);break;case"together":my(a,!1,null,null,void 0,g);break;default:a.memoizedState=null}return a.child}function yo(r,a,f){if(r!==null&&(a.dependencies=r.dependencies),aa|=a.lanes,(f&a.childLanes)===0)if(r!==null){if(Ac(r,a,f,!1),(f&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,f=Ms(r,r.pendingProps),a.child=f,f.return=a;r.sibling!==null;)r=r.sibling,f=f.sibling=Ms(r,r.pendingProps),f.return=a;f.sibling=null}return a.child}function py(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&$h(r)))}function MI(r,a,f){switch(a.tag){case 3:je(a,a.stateNode.containerInfo),Jo(a,Rn,r.memoizedState.cache),mo();break;case 27:case 5:Oe(a);break;case 4:je(a,a.stateNode.containerInfo);break;case 10:Jo(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Uv(a),null;break;case 13:var g=a.memoizedState;if(g!==null)return g.dehydrated!==null?(ia(a),a.flags|=128,null):(f&a.child.childLanes)!==0?TC(r,a,f):(ia(a),r=yo(r,a,f),r!==null?r.sibling:null);ia(a);break;case 19:var S=(r.flags&128)!==0;if(g=(f&a.childLanes)!==0,g||(Ac(r,a,f,!1),g=(f&a.childLanes)!==0),S){if(g)return NC(r,a,f);a.flags|=128}if(S=a.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),me(Sn,Sn.current),g)break;return null;case 22:return a.lanes=0,_C(r,a,f,a.pendingProps);case 24:Jo(a,Rn,r.memoizedState.cache)}return yo(r,a,f)}function kC(r,a,f){if(r!==null)if(r.memoizedProps!==a.pendingProps)kn=!0;else{if(!py(r,f)&&(a.flags&128)===0)return kn=!1,MI(r,a,f);kn=(r.flags&131072)!==0}else kn=!1,gt&&(a.flags&1048576)!==0&&ct(a,B,a.index);switch(a.lanes=0,a.tag){case 16:e:{var g=a.pendingProps;if(r=yl(a.elementType),a.type=r,typeof r=="function")Sc(r)?(g=wl(r,g),a.tag=1,a=EC(null,a,r,g,f)):(a.tag=0,a=ly(null,a,r,g,f));else{if(r!=null){var S=r.$$typeof;if(S===O){a.tag=11,a=yC(null,a,r,g,f);break e}else if(S===z){a.tag=14,a=bC(null,a,r,g,f);break e}}throw a=se(r)||r,Error(i(306,a,""))}}return a;case 0:return ly(r,a,a.type,a.pendingProps,f);case 1:return g=a.type,S=wl(g,a.pendingProps),EC(r,a,g,S,f);case 3:e:{if(je(a,a.stateNode.containerInfo),r===null)throw Error(i(387));g=a.pendingProps;var A=a.memoizedState;S=A.element,Lv(r,a),yd(a,g,null,f);var D=a.memoizedState;if(g=D.cache,Jo(a,Rn,g),g!==A.cache&&Nv(a,[Rn],f,!0),vd(),g=D.element,A.isDehydrated)if(A={element:g,isDehydrated:!1,cache:D.cache},a.updateQueue.baseState=A,a.memoizedState=A,a.flags&256){a=AC(r,a,g,f);break e}else if(g!==S){S=p(Error(i(424)),a),ml(S),a=AC(r,a,g,f);break e}else for(r=a.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,kt=Ls(r.firstChild),Nt=a,gt=!0,jr=null,Gi=!0,f=_S(a,null,g,f),a.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(mo(),g===S){a=yo(r,a,f);break e}ci(r,a,g,f)}a=a.child}return a;case 26:return lm(r,a),r===null?(f=FE(a.type,null,a.pendingProps,null))?a.memoizedState=f:gt||(f=a.type,r=a.pendingProps,g=Em(_e.current).createElement(f),g[mn]=a,g[Tn]=r,ui(g,f,r),ln(g),a.stateNode=g):a.memoizedState=FE(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Oe(a),r===null&&gt&&(g=a.stateNode=zE(a.type,a.pendingProps,_e.current),Nt=a,Gi=!0,S=kt,fa(a.type)?(Wy=S,kt=Ls(g.firstChild)):kt=S),ci(r,a,a.pendingProps.children,f),lm(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&gt&&((S=g=kt)&&(g=cz(g,a.type,a.pendingProps,Gi),g!==null?(a.stateNode=g,Nt=a,kt=Ls(g.firstChild),Gi=!1,S=!0):S=!1),S||Ir(a)),Oe(a),S=a.type,A=a.pendingProps,D=r!==null?r.memoizedProps:null,g=A.children,$y(S,A)?g=null:D!==null&&$y(S,D)&&(a.flags|=32),a.memoizedState!==null&&(S=Vv(r,a,CI,null,null,f),zd._currentValue=S),lm(r,a),ci(r,a,g,f),a.child;case 6:return r===null&&gt&&((r=f=kt)&&(f=uz(f,a.pendingProps,Gi),f!==null?(a.stateNode=f,Nt=a,kt=null,r=!0):r=!1),r||Ir(a)),null;case 13:return TC(r,a,f);case 4:return je(a,a.stateNode.containerInfo),g=a.pendingProps,r===null?a.child=xl(a,null,g,f):ci(r,a,g,f),a.child;case 11:return yC(r,a,a.type,a.pendingProps,f);case 7:return ci(r,a,a.pendingProps,f),a.child;case 8:return ci(r,a,a.pendingProps.children,f),a.child;case 12:return ci(r,a,a.pendingProps.children,f),a.child;case 10:return g=a.pendingProps,Jo(a,a.type,g.value),ci(r,a,g.children,f),a.child;case 9:return S=a.type._context,g=a.pendingProps.children,gl(a),S=li(S),g=g(S),a.flags|=1,ci(r,a,g,f),a.child;case 14:return bC(r,a,a.type,a.pendingProps,f);case 15:return xC(r,a,a.type,a.pendingProps,f);case 19:return NC(r,a,f);case 31:return OI(r,a,f);case 22:return _C(r,a,f,a.pendingProps);case 24:return gl(a),g=li(Rn),r===null?(S=Ov(),S===null&&(S=Kt,A=kv(),S.pooledCache=A,A.refCount++,A!==null&&(S.pooledCacheLanes|=f),S=A),a.memoizedState={parent:g,cache:S},Dv(a),Jo(a,Rn,S)):((r.lanes&f)!==0&&(Lv(r,a),yd(a,null,null,f),vd()),S=r.memoizedState,A=a.memoizedState,S.parent!==g?(S={parent:g,cache:g},a.memoizedState=S,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=S),Jo(a,Rn,g)):(g=A.cache,Jo(a,Rn,g),g!==S.cache&&Nv(a,[Rn],f,!0))),ci(r,a,a.pendingProps.children,f),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function bo(r){r.flags|=4}function gy(r,a,f,g,S){if((a=(r.mode&32)!==0)&&(a=!1),a){if(r.flags|=16777216,(S&335544128)===S)if(r.stateNode.complete)r.flags|=8192;else if(iE())r.flags|=8192;else throw bl=Kh,Mv}else r.flags&=-16777217}function PC(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!GE(a))if(iE())r.flags|=8192;else throw bl=Kh,Mv}function um(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?An():536870912,r.lanes|=a,zc|=a)}function Cd(r,a){if(!gt)switch(r.tailMode){case"hidden":a=r.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?r.tail=null:f.sibling=null;break;case"collapsed":f=r.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:g.sibling=null}}function en(r){var a=r.alternate!==null&&r.alternate.child===r.child,f=0,g=0;if(a)for(var S=r.child;S!==null;)f|=S.lanes|S.childLanes,g|=S.subtreeFlags&65011712,g|=S.flags&65011712,S.return=r,S=S.sibling;else for(S=r.child;S!==null;)f|=S.lanes|S.childLanes,g|=S.subtreeFlags,g|=S.flags,S.return=r,S=S.sibling;return r.subtreeFlags|=g,r.childLanes=f,a}function DI(r,a,f){var g=a.pendingProps;switch(gn(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(a),null;case 1:return en(a),null;case 3:return f=a.stateNode,g=null,r!==null&&(g=r.memoizedState.cache),a.memoizedState.cache!==g&&(a.flags|=2048),po(Rn),ke(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(rr(a)?bo(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,dd())),en(a),null;case 26:var S=a.type,A=a.memoizedState;return r===null?(bo(a),A!==null?(en(a),PC(a,A)):(en(a),gy(a,S,null,g,f))):A?A!==r.memoizedState?(bo(a),en(a),PC(a,A)):(en(a),a.flags&=-16777217):(r=r.memoizedProps,r!==g&&bo(a),en(a),gy(a,S,r,g,f)),null;case 27:if(Ue(a),f=_e.current,S=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==g&&bo(a);else{if(!g){if(a.stateNode===null)throw Error(i(166));return en(a),null}r=xe.current,rr(a)?ud(a):(r=zE(S,g,f),a.stateNode=r,bo(a))}return en(a),null;case 5:if(Ue(a),S=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==g&&bo(a);else{if(!g){if(a.stateNode===null)throw Error(i(166));return en(a),null}if(A=xe.current,rr(a))ud(a);else{var D=Em(_e.current);switch(A){case 1:A=D.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:A=D.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":A=D.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":A=D.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":A=D.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof g.is=="string"?D.createElement("select",{is:g.is}):D.createElement("select"),g.multiple?A.multiple=!0:g.size&&(A.size=g.size);break;default:A=typeof g.is=="string"?D.createElement(S,{is:g.is}):D.createElement(S)}}A[mn]=a,A[Tn]=g;e:for(D=a.child;D!==null;){if(D.tag===5||D.tag===6)A.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===a)break e;for(;D.sibling===null;){if(D.return===null||D.return===a)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}a.stateNode=A;e:switch(ui(A,S,g),S){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&bo(a)}}return en(a),gy(a,a.type,r===null?null:r.memoizedProps,a.pendingProps,f),null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==g&&bo(a);else{if(typeof g!="string"&&a.stateNode===null)throw Error(i(166));if(r=_e.current,rr(a)){if(r=a.stateNode,f=a.memoizedProps,g=null,S=Nt,S!==null)switch(S.tag){case 27:case 5:g=S.memoizedProps}r[mn]=a,r=!!(r.nodeValue===f||g!==null&&g.suppressHydrationWarning===!0||TE(r.nodeValue,f)),r||Ir(a,!0)}else r=Em(r).createTextNode(g),r[mn]=a,a.stateNode=r}return en(a),null;case 31:if(f=a.memoizedState,r===null||r.memoizedState!==null){if(g=rr(a),f!==null){if(r===null){if(!g)throw Error(i(318));if(r=a.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[mn]=a}else mo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;en(a),r=!1}else f=dd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),r=!0;if(!r)return a.flags&256?(us(a),a):(us(a),null);if((a.flags&128)!==0)throw Error(i(558))}return en(a),null;case 13:if(g=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(S=rr(a),g!==null&&g.dehydrated!==null){if(r===null){if(!S)throw Error(i(318));if(S=a.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(i(317));S[mn]=a}else mo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;en(a),S=!1}else S=dd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=S),S=!0;if(!S)return a.flags&256?(us(a),a):(us(a),null)}return us(a),(a.flags&128)!==0?(a.lanes=f,a):(f=g!==null,r=r!==null&&r.memoizedState!==null,f&&(g=a.child,S=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(S=g.alternate.memoizedState.cachePool.pool),A=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(A=g.memoizedState.cachePool.pool),A!==S&&(g.flags|=2048)),f!==r&&f&&(a.child.flags|=8192),um(a,a.updateQueue),en(a),null);case 4:return ke(),r===null&&zy(a.stateNode.containerInfo),en(a),null;case 10:return po(a.type),en(a),null;case 19:if(ie(Sn),g=a.memoizedState,g===null)return en(a),null;if(S=(a.flags&128)!==0,A=g.rendering,A===null)if(S)Cd(g,!1);else{if(yn!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(A=Xh(r),A!==null){for(a.flags|=128,Cd(g,!1),r=A.updateQueue,a.updateQueue=r,um(a,r),a.subtreeFlags=0,r=f,f=a.child;f!==null;)ad(f,r),f=f.sibling;return me(Sn,Sn.current&1|2),gt&&Ge(a,g.treeForkCount),a.child}r=r.sibling}g.tail!==null&&sn()>pm&&(a.flags|=128,S=!0,Cd(g,!1),a.lanes=4194304)}else{if(!S)if(r=Xh(A),r!==null){if(a.flags|=128,S=!0,r=r.updateQueue,a.updateQueue=r,um(a,r),Cd(g,!0),g.tail===null&&g.tailMode==="hidden"&&!A.alternate&&!gt)return en(a),null}else 2*sn()-g.renderingStartTime>pm&&f!==536870912&&(a.flags|=128,S=!0,Cd(g,!1),a.lanes=4194304);g.isBackwards?(A.sibling=a.child,a.child=A):(r=g.last,r!==null?r.sibling=A:a.child=A,g.last=A)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=sn(),r.sibling=null,f=Sn.current,me(Sn,S?f&1|2:f&1),gt&&Ge(a,g.treeForkCount),r):(en(a),null);case 22:case 23:return us(a),Bv(),g=a.memoizedState!==null,r!==null?r.memoizedState!==null!==g&&(a.flags|=8192):g&&(a.flags|=8192),g?(f&536870912)!==0&&(a.flags&128)===0&&(en(a),a.subtreeFlags&6&&(a.flags|=8192)):en(a),f=a.updateQueue,f!==null&&um(a,f.retryQueue),f=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),g=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(g=a.memoizedState.cachePool.pool),g!==f&&(a.flags|=2048),r!==null&&ie(vl),null;case 24:return f=null,r!==null&&(f=r.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),po(Rn),en(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function LI(r,a){switch(gn(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return po(Rn),ke(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Ue(a),null;case 31:if(a.memoizedState!==null){if(us(a),a.alternate===null)throw Error(i(340));mo()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 13:if(us(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));mo()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return ie(Sn),null;case 4:return ke(),null;case 10:return po(a.type),null;case 22:case 23:return us(a),Bv(),r!==null&&ie(vl),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return po(Rn),null;case 25:return null;default:return null}}function OC(r,a){switch(gn(a),a.tag){case 3:po(Rn),ke();break;case 26:case 27:case 5:Ue(a);break;case 4:ke();break;case 31:a.memoizedState!==null&&us(a);break;case 13:us(a);break;case 19:ie(Sn);break;case 10:po(a.type);break;case 22:case 23:us(a),Bv(),r!==null&&ie(vl);break;case 24:po(Rn)}}function Ed(r,a){try{var f=a.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var S=g.next;f=S;do{if((f.tag&r)===r){g=void 0;var A=f.create,D=f.inst;g=A(),D.destroy=g}f=f.next}while(f!==S)}}catch(V){Vt(a,a.return,V)}}function ra(r,a,f){try{var g=a.updateQueue,S=g!==null?g.lastEffect:null;if(S!==null){var A=S.next;g=A;do{if((g.tag&r)===r){var D=g.inst,V=D.destroy;if(V!==void 0){D.destroy=void 0,S=a;var ne=f,he=V;try{he()}catch(we){Vt(S,ne,we)}}}g=g.next}while(g!==A)}}catch(we){Vt(a,a.return,we)}}function MC(r){var a=r.updateQueue;if(a!==null){var f=r.stateNode;try{SS(a,f)}catch(g){Vt(r,r.return,g)}}}function DC(r,a,f){f.props=wl(r.type,r.memoizedProps),f.state=r.memoizedState;try{f.componentWillUnmount()}catch(g){Vt(r,a,g)}}function Ad(r,a){try{var f=r.ref;if(f!==null){switch(r.tag){case 26:case 27:case 5:var g=r.stateNode;break;case 30:g=r.stateNode;break;default:g=r.stateNode}typeof f=="function"?r.refCleanup=f(g):f.current=g}}catch(S){Vt(r,a,S)}}function Br(r,a){var f=r.ref,g=r.refCleanup;if(f!==null)if(typeof g=="function")try{g()}catch(S){Vt(r,a,S)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(S){Vt(r,a,S)}else f.current=null}function LC(r){var a=r.type,f=r.memoizedProps,g=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":f.autoFocus&&g.focus();break e;case"img":f.src?g.src=f.src:f.srcSet&&(g.srcset=f.srcSet)}}catch(S){Vt(r,r.return,S)}}function vy(r,a,f){try{var g=r.stateNode;iz(g,r.type,f,a),g[Tn]=a}catch(S){Vt(r,r.return,S)}}function jC(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&fa(r.type)||r.tag===4}function yy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||jC(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&fa(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function by(r,a,f){var g=r.tag;if(g===5||g===6)r=r.stateNode,a?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(r,a):(a=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,a.appendChild(r),f=f._reactRootContainer,f!=null||a.onclick!==null||(a.onclick=xi));else if(g!==4&&(g===27&&fa(r.type)&&(f=r.stateNode,a=null),r=r.child,r!==null))for(by(r,a,f),r=r.sibling;r!==null;)by(r,a,f),r=r.sibling}function dm(r,a,f){var g=r.tag;if(g===5||g===6)r=r.stateNode,a?f.insertBefore(r,a):f.appendChild(r);else if(g!==4&&(g===27&&fa(r.type)&&(f=r.stateNode),r=r.child,r!==null))for(dm(r,a,f),r=r.sibling;r!==null;)dm(r,a,f),r=r.sibling}function IC(r){var a=r.stateNode,f=r.memoizedProps;try{for(var g=r.type,S=a.attributes;S.length;)a.removeAttributeNode(S[0]);ui(a,g,f),a[mn]=r,a[Tn]=f}catch(A){Vt(r,r.return,A)}}var xo=!1,Pn=!1,xy=!1,zC=typeof WeakSet=="function"?WeakSet:Set,ei=null;function jI(r,a){if(r=r.containerInfo,Fy=Om,r=ol(r),Pr(r)){if("selectionStart"in r)var f={start:r.selectionStart,end:r.selectionEnd};else e:{f=(f=r.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var S=g.anchorOffset,A=g.focusNode;g=g.focusOffset;try{f.nodeType,A.nodeType}catch{f=null;break e}var D=0,V=-1,ne=-1,he=0,we=0,Re=r,ge=null;t:for(;;){for(var be;Re!==f||S!==0&&Re.nodeType!==3||(V=D+S),Re!==A||g!==0&&Re.nodeType!==3||(ne=D+g),Re.nodeType===3&&(D+=Re.nodeValue.length),(be=Re.firstChild)!==null;)ge=Re,Re=be;for(;;){if(Re===r)break t;if(ge===f&&++he===S&&(V=D),ge===A&&++we===g&&(ne=D),(be=Re.nextSibling)!==null)break;Re=ge,ge=Re.parentNode}Re=be}f=V===-1||ne===-1?null:{start:V,end:ne}}else f=null}f=f||{start:0,end:0}}else f=null;for(Vy={focusedElem:r,selectionRange:f},Om=!1,ei=a;ei!==null;)if(a=ei,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,ei=r;else for(;ei!==null;){switch(a=ei,A=a.alternate,r=a.flags,a.tag){case 0:if((r&4)!==0&&(r=a.updateQueue,r=r!==null?r.events:null,r!==null))for(f=0;f<r.length;f++)S=r[f],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&A!==null){r=void 0,f=a,S=A.memoizedProps,A=A.memoizedState,g=f.stateNode;try{var Fe=wl(f.type,S);r=g.getSnapshotBeforeUpdate(Fe,A),g.__reactInternalSnapshotBeforeUpdate=r}catch(Je){Vt(f,f.return,Je)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,f=r.nodeType,f===9)qy(r);else if(f===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":qy(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,ei=r;break}ei=a.return}}function BC(r,a,f){var g=f.flags;switch(f.tag){case 0:case 11:case 15:wo(r,f),g&4&&Ed(5,f);break;case 1:if(wo(r,f),g&4)if(r=f.stateNode,a===null)try{r.componentDidMount()}catch(D){Vt(f,f.return,D)}else{var S=wl(f.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(S,a,r.__reactInternalSnapshotBeforeUpdate)}catch(D){Vt(f,f.return,D)}}g&64&&MC(f),g&512&&Ad(f,f.return);break;case 3:if(wo(r,f),g&64&&(r=f.updateQueue,r!==null)){if(a=null,f.child!==null)switch(f.child.tag){case 27:case 5:a=f.child.stateNode;break;case 1:a=f.child.stateNode}try{SS(r,a)}catch(D){Vt(f,f.return,D)}}break;case 27:a===null&&g&4&&IC(f);case 26:case 5:wo(r,f),a===null&&g&4&&LC(f),g&512&&Ad(f,f.return);break;case 12:wo(r,f);break;case 31:wo(r,f),g&4&&VC(r,f);break;case 13:wo(r,f),g&4&&$C(r,f),g&64&&(r=f.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(f=qI.bind(null,f),dz(r,f))));break;case 22:if(g=f.memoizedState!==null||xo,!g){a=a!==null&&a.memoizedState!==null||Pn,S=xo;var A=Pn;xo=g,(Pn=a)&&!A?So(r,f,(f.subtreeFlags&8772)!==0):wo(r,f),xo=S,Pn=A}break;case 30:break;default:wo(r,f)}}function UC(r){var a=r.alternate;a!==null&&(r.alternate=null,UC(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Ka(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var tn=null,Ki=!1;function _o(r,a,f){for(f=f.child;f!==null;)FC(r,a,f),f=f.sibling}function FC(r,a,f){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(ts,f)}catch{}switch(f.tag){case 26:Pn||Br(f,a),_o(r,a,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Pn||Br(f,a);var g=tn,S=Ki;fa(f.type)&&(tn=f.stateNode,Ki=!1),_o(r,a,f),Ld(f.stateNode),tn=g,Ki=S;break;case 5:Pn||Br(f,a);case 6:if(g=tn,S=Ki,tn=null,_o(r,a,f),tn=g,Ki=S,tn!==null)if(Ki)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(f.stateNode)}catch(A){Vt(f,a,A)}else try{tn.removeChild(f.stateNode)}catch(A){Vt(f,a,A)}break;case 18:tn!==null&&(Ki?(r=tn,ME(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,f.stateNode),Gc(r)):ME(tn,f.stateNode));break;case 4:g=tn,S=Ki,tn=f.stateNode.containerInfo,Ki=!0,_o(r,a,f),tn=g,Ki=S;break;case 0:case 11:case 14:case 15:ra(2,f,a),Pn||ra(4,f,a),_o(r,a,f);break;case 1:Pn||(Br(f,a),g=f.stateNode,typeof g.componentWillUnmount=="function"&&DC(f,a,g)),_o(r,a,f);break;case 21:_o(r,a,f);break;case 22:Pn=(g=Pn)||f.memoizedState!==null,_o(r,a,f),Pn=g;break;default:_o(r,a,f)}}function VC(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Gc(r)}catch(f){Vt(a,a.return,f)}}}function $C(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Gc(r)}catch(f){Vt(a,a.return,f)}}function II(r){switch(r.tag){case 31:case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new zC),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new zC),a;default:throw Error(i(435,r.tag))}}function fm(r,a){var f=II(r);a.forEach(function(g){if(!f.has(g)){f.add(g);var S=GI.bind(null,r,g);g.then(S,S)}})}function Wi(r,a){var f=a.deletions;if(f!==null)for(var g=0;g<f.length;g++){var S=f[g],A=r,D=a,V=D;e:for(;V!==null;){switch(V.tag){case 27:if(fa(V.type)){tn=V.stateNode,Ki=!1;break e}break;case 5:tn=V.stateNode,Ki=!1;break e;case 3:case 4:tn=V.stateNode.containerInfo,Ki=!0;break e}V=V.return}if(tn===null)throw Error(i(160));FC(A,D,S),tn=null,Ki=!1,A=S.alternate,A!==null&&(A.return=null),S.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)HC(a,r),a=a.sibling}var ar=null;function HC(r,a){var f=r.alternate,g=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Wi(a,r),Yi(r),g&4&&(ra(3,r,r.return),Ed(3,r),ra(5,r,r.return));break;case 1:Wi(a,r),Yi(r),g&512&&(Pn||f===null||Br(f,f.return)),g&64&&xo&&(r=r.updateQueue,r!==null&&(g=r.callbacks,g!==null&&(f=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=f===null?g:f.concat(g))));break;case 26:var S=ar;if(Wi(a,r),Yi(r),g&512&&(Pn||f===null||Br(f,f.return)),g&4){var A=f!==null?f.memoizedState:null;if(g=r.memoizedState,f===null)if(g===null)if(r.stateNode===null){e:{g=r.type,f=r.memoizedProps,S=S.ownerDocument||S;t:switch(g){case"title":A=S.getElementsByTagName("title")[0],(!A||A[no]||A[mn]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=S.createElement(g),S.head.insertBefore(A,S.querySelector("head > title"))),ui(A,g,f),A[mn]=r,ln(A),g=A;break e;case"link":var D=HE("link","href",S).get(g+(f.href||""));if(D){for(var V=0;V<D.length;V++)if(A=D[V],A.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&A.getAttribute("rel")===(f.rel==null?null:f.rel)&&A.getAttribute("title")===(f.title==null?null:f.title)&&A.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){D.splice(V,1);break t}}A=S.createElement(g),ui(A,g,f),S.head.appendChild(A);break;case"meta":if(D=HE("meta","content",S).get(g+(f.content||""))){for(V=0;V<D.length;V++)if(A=D[V],A.getAttribute("content")===(f.content==null?null:""+f.content)&&A.getAttribute("name")===(f.name==null?null:f.name)&&A.getAttribute("property")===(f.property==null?null:f.property)&&A.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&A.getAttribute("charset")===(f.charSet==null?null:f.charSet)){D.splice(V,1);break t}}A=S.createElement(g),ui(A,g,f),S.head.appendChild(A);break;default:throw Error(i(468,g))}A[mn]=r,ln(A),g=A}r.stateNode=g}else qE(S,r.type,r.stateNode);else r.stateNode=$E(S,g,r.memoizedProps);else A!==g?(A===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):A.count--,g===null?qE(S,r.type,r.stateNode):$E(S,g,r.memoizedProps)):g===null&&r.stateNode!==null&&vy(r,r.memoizedProps,f.memoizedProps)}break;case 27:Wi(a,r),Yi(r),g&512&&(Pn||f===null||Br(f,f.return)),f!==null&&g&4&&vy(r,r.memoizedProps,f.memoizedProps);break;case 5:if(Wi(a,r),Yi(r),g&512&&(Pn||f===null||Br(f,f.return)),r.flags&32){S=r.stateNode;try{Et(S,"")}catch(Fe){Vt(r,r.return,Fe)}}g&4&&r.stateNode!=null&&(S=r.memoizedProps,vy(r,S,f!==null?f.memoizedProps:S)),g&1024&&(xy=!0);break;case 6:if(Wi(a,r),Yi(r),g&4){if(r.stateNode===null)throw Error(i(162));g=r.memoizedProps,f=r.stateNode;try{f.nodeValue=g}catch(Fe){Vt(r,r.return,Fe)}}break;case 3:if(Rm=null,S=ar,ar=Am(a.containerInfo),Wi(a,r),ar=S,Yi(r),g&4&&f!==null&&f.memoizedState.isDehydrated)try{Gc(a.containerInfo)}catch(Fe){Vt(r,r.return,Fe)}xy&&(xy=!1,qC(r));break;case 4:g=ar,ar=Am(r.stateNode.containerInfo),Wi(a,r),Yi(r),ar=g;break;case 12:Wi(a,r),Yi(r);break;case 31:Wi(a,r),Yi(r),g&4&&(g=r.updateQueue,g!==null&&(r.updateQueue=null,fm(r,g)));break;case 13:Wi(a,r),Yi(r),r.child.flags&8192&&r.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(mm=sn()),g&4&&(g=r.updateQueue,g!==null&&(r.updateQueue=null,fm(r,g)));break;case 22:S=r.memoizedState!==null;var ne=f!==null&&f.memoizedState!==null,he=xo,we=Pn;if(xo=he||S,Pn=we||ne,Wi(a,r),Pn=we,xo=he,Yi(r),g&8192)e:for(a=r.stateNode,a._visibility=S?a._visibility&-2:a._visibility|1,S&&(f===null||ne||xo||Pn||Sl(r)),f=null,a=r;;){if(a.tag===5||a.tag===26){if(f===null){ne=f=a;try{if(A=ne.stateNode,S)D=A.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{V=ne.stateNode;var Re=ne.memoizedProps.style,ge=Re!=null&&Re.hasOwnProperty("display")?Re.display:null;V.style.display=ge==null||typeof ge=="boolean"?"":(""+ge).trim()}}catch(Fe){Vt(ne,ne.return,Fe)}}}else if(a.tag===6){if(f===null){ne=a;try{ne.stateNode.nodeValue=S?"":ne.memoizedProps}catch(Fe){Vt(ne,ne.return,Fe)}}}else if(a.tag===18){if(f===null){ne=a;try{var be=ne.stateNode;S?DE(be,!0):DE(ne.stateNode,!1)}catch(Fe){Vt(ne,ne.return,Fe)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;f===a&&(f=null),a=a.return}f===a&&(f=null),a.sibling.return=a.return,a=a.sibling}g&4&&(g=r.updateQueue,g!==null&&(f=g.retryQueue,f!==null&&(g.retryQueue=null,fm(r,f))));break;case 19:Wi(a,r),Yi(r),g&4&&(g=r.updateQueue,g!==null&&(r.updateQueue=null,fm(r,g)));break;case 30:break;case 21:break;default:Wi(a,r),Yi(r)}}function Yi(r){var a=r.flags;if(a&2){try{for(var f,g=r.return;g!==null;){if(jC(g)){f=g;break}g=g.return}if(f==null)throw Error(i(160));switch(f.tag){case 27:var S=f.stateNode,A=yy(r);dm(r,A,S);break;case 5:var D=f.stateNode;f.flags&32&&(Et(D,""),f.flags&=-33);var V=yy(r);dm(r,V,D);break;case 3:case 4:var ne=f.stateNode.containerInfo,he=yy(r);by(r,he,ne);break;default:throw Error(i(161))}}catch(we){Vt(r,r.return,we)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function qC(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;qC(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function wo(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)BC(r,a.alternate,a),a=a.sibling}function Sl(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:ra(4,a,a.return),Sl(a);break;case 1:Br(a,a.return);var f=a.stateNode;typeof f.componentWillUnmount=="function"&&DC(a,a.return,f),Sl(a);break;case 27:Ld(a.stateNode);case 26:case 5:Br(a,a.return),Sl(a);break;case 22:a.memoizedState===null&&Sl(a);break;case 30:Sl(a);break;default:Sl(a)}r=r.sibling}}function So(r,a,f){for(f=f&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var g=a.alternate,S=r,A=a,D=A.flags;switch(A.tag){case 0:case 11:case 15:So(S,A,f),Ed(4,A);break;case 1:if(So(S,A,f),g=A,S=g.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(he){Vt(g,g.return,he)}if(g=A,S=g.updateQueue,S!==null){var V=g.stateNode;try{var ne=S.shared.hiddenCallbacks;if(ne!==null)for(S.shared.hiddenCallbacks=null,S=0;S<ne.length;S++)wS(ne[S],V)}catch(he){Vt(g,g.return,he)}}f&&D&64&&MC(A),Ad(A,A.return);break;case 27:IC(A);case 26:case 5:So(S,A,f),f&&g===null&&D&4&&LC(A),Ad(A,A.return);break;case 12:So(S,A,f);break;case 31:So(S,A,f),f&&D&4&&VC(S,A);break;case 13:So(S,A,f),f&&D&4&&$C(S,A);break;case 22:A.memoizedState===null&&So(S,A,f),Ad(A,A.return);break;case 30:break;default:So(S,A,f)}a=a.sibling}}function _y(r,a){var f=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==f&&(r!=null&&r.refCount++,f!=null&&fd(f))}function wy(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&fd(r))}function lr(r,a,f,g){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)GC(r,a,f,g),a=a.sibling}function GC(r,a,f,g){var S=a.flags;switch(a.tag){case 0:case 11:case 15:lr(r,a,f,g),S&2048&&Ed(9,a);break;case 1:lr(r,a,f,g);break;case 3:lr(r,a,f,g),S&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&fd(r)));break;case 12:if(S&2048){lr(r,a,f,g),r=a.stateNode;try{var A=a.memoizedProps,D=A.id,V=A.onPostCommit;typeof V=="function"&&V(D,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(ne){Vt(a,a.return,ne)}}else lr(r,a,f,g);break;case 31:lr(r,a,f,g);break;case 13:lr(r,a,f,g);break;case 23:break;case 22:A=a.stateNode,D=a.alternate,a.memoizedState!==null?A._visibility&2?lr(r,a,f,g):Td(r,a):A._visibility&2?lr(r,a,f,g):(A._visibility|=2,Lc(r,a,f,g,(a.subtreeFlags&10256)!==0||!1)),S&2048&&_y(D,a);break;case 24:lr(r,a,f,g),S&2048&&wy(a.alternate,a);break;default:lr(r,a,f,g)}}function Lc(r,a,f,g,S){for(S=S&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var A=r,D=a,V=f,ne=g,he=D.flags;switch(D.tag){case 0:case 11:case 15:Lc(A,D,V,ne,S),Ed(8,D);break;case 23:break;case 22:var we=D.stateNode;D.memoizedState!==null?we._visibility&2?Lc(A,D,V,ne,S):Td(A,D):(we._visibility|=2,Lc(A,D,V,ne,S)),S&&he&2048&&_y(D.alternate,D);break;case 24:Lc(A,D,V,ne,S),S&&he&2048&&wy(D.alternate,D);break;default:Lc(A,D,V,ne,S)}a=a.sibling}}function Td(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var f=r,g=a,S=g.flags;switch(g.tag){case 22:Td(f,g),S&2048&&_y(g.alternate,g);break;case 24:Td(f,g),S&2048&&wy(g.alternate,g);break;default:Td(f,g)}a=a.sibling}}var Rd=8192;function jc(r,a,f){if(r.subtreeFlags&Rd)for(r=r.child;r!==null;)KC(r,a,f),r=r.sibling}function KC(r,a,f){switch(r.tag){case 26:jc(r,a,f),r.flags&Rd&&r.memoizedState!==null&&Sz(f,ar,r.memoizedState,r.memoizedProps);break;case 5:jc(r,a,f);break;case 3:case 4:var g=ar;ar=Am(r.stateNode.containerInfo),jc(r,a,f),ar=g;break;case 22:r.memoizedState===null&&(g=r.alternate,g!==null&&g.memoizedState!==null?(g=Rd,Rd=16777216,jc(r,a,f),Rd=g):jc(r,a,f));break;default:jc(r,a,f)}}function WC(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Nd(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var f=0;f<a.length;f++){var g=a[f];ei=g,ZC(g,r)}WC(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)YC(r),r=r.sibling}function YC(r){switch(r.tag){case 0:case 11:case 15:Nd(r),r.flags&2048&&ra(9,r,r.return);break;case 3:Nd(r);break;case 12:Nd(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,hm(r)):Nd(r);break;default:Nd(r)}}function hm(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var f=0;f<a.length;f++){var g=a[f];ei=g,ZC(g,r)}WC(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:ra(8,a,a.return),hm(a);break;case 22:f=a.stateNode,f._visibility&2&&(f._visibility&=-3,hm(a));break;default:hm(a)}r=r.sibling}}function ZC(r,a){for(;ei!==null;){var f=ei;switch(f.tag){case 0:case 11:case 15:ra(8,f,a);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var g=f.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:fd(f.memoizedState.cache)}if(g=f.child,g!==null)g.return=f,ei=g;else e:for(f=r;ei!==null;){g=ei;var S=g.sibling,A=g.return;if(UC(g),g===f){ei=null;break e}if(S!==null){S.return=A,ei=S;break e}ei=A}}}var zI={getCacheForType:function(r){var a=li(Rn),f=a.data.get(r);return f===void 0&&(f=r(),a.data.set(r,f)),f},cacheSignal:function(){return li(Rn).controller.signal}},BI=typeof WeakMap=="function"?WeakMap:Map,Lt=0,Kt=null,vt=null,wt=0,Ft=0,ds=null,oa=!1,Ic=!1,Sy=!1,Co=0,yn=0,aa=0,Cl=0,Cy=0,fs=0,zc=0,kd=null,Zi=null,Ey=!1,mm=0,XC=0,pm=1/0,gm=null,la=null,zn=0,ca=null,Bc=null,Eo=0,Ay=0,Ty=null,QC=null,Pd=0,Ry=null;function hs(){return(Lt&2)!==0&&wt!==0?wt&-wt:G.T!==null?Dy():bi()}function JC(){if(fs===0)if((wt&536870912)===0||gt){var r=Xs;Xs<<=1,(Xs&3932160)===0&&(Xs=262144),fs=r}else fs=536870912;return r=cs.current,r!==null&&(r.flags|=32),fs}function Xi(r,a,f){(r===Kt&&(Ft===2||Ft===9)||r.cancelPendingCommit!==null)&&(Uc(r,0),ua(r,wt,fs,!1)),Zn(r,f),((Lt&2)===0||r!==Kt)&&(r===Kt&&((Lt&2)===0&&(Cl|=f),yn===4&&ua(r,wt,fs,!1)),Ur(r))}function eE(r,a,f){if((Lt&6)!==0)throw Error(i(327));var g=!f&&(a&127)===0&&(a&r.expiredLanes)===0||Kn(r,a),S=g?VI(r,a):ky(r,a,!0),A=g;do{if(S===0){Ic&&!g&&ua(r,a,0,!1);break}else{if(f=r.current.alternate,A&&!UI(f)){S=ky(r,a,!1),A=!1;continue}if(S===2){if(A=a,r.errorRecoveryDisabledLanes&A)var D=0;else D=r.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){a=D;e:{var V=r;S=kd;var ne=V.current.memoizedState.isDehydrated;if(ne&&(Uc(V,D).flags|=256),D=ky(V,D,!1),D!==2){if(Sy&&!ne){V.errorRecoveryDisabledLanes|=A,Cl|=A,S=4;break e}A=Zi,Zi=S,A!==null&&(Zi===null?Zi=A:Zi.push.apply(Zi,A))}S=D}if(A=!1,S!==2)continue}}if(S===1){Uc(r,0),ua(r,a,0,!0);break}e:{switch(g=r,A=S,A){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ua(g,a,fs,!oa);break e;case 2:Zi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(S=mm+300-sn(),10<S)){if(ua(g,a,fs,!oa),hn(g,0,!0)!==0)break e;Eo=a,g.timeoutHandle=PE(tE.bind(null,g,f,Zi,gm,Ey,a,fs,Cl,zc,oa,A,"Throttled",-0,0),S);break e}tE(g,f,Zi,gm,Ey,a,fs,Cl,zc,oa,A,null,-0,0)}}break}while(!0);Ur(r)}function tE(r,a,f,g,S,A,D,V,ne,he,we,Re,ge,be){if(r.timeoutHandle=-1,Re=a.subtreeFlags,Re&8192||(Re&16785408)===16785408){Re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xi},KC(a,A,Re);var Fe=(A&62914560)===A?mm-sn():(A&4194048)===A?XC-sn():0;if(Fe=Cz(Re,Fe),Fe!==null){Eo=A,r.cancelPendingCommit=Fe(cE.bind(null,r,a,A,f,g,S,D,V,ne,we,Re,null,ge,be)),ua(r,A,D,!he);return}}cE(r,a,A,f,g,S,D,V,ne)}function UI(r){for(var a=r;;){var f=a.tag;if((f===0||f===11||f===15)&&a.flags&16384&&(f=a.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var g=0;g<f.length;g++){var S=f[g],A=S.getSnapshot;S=S.value;try{if(!Qn(A(),S))return!1}catch{return!1}}if(f=a.child,a.subtreeFlags&16384&&f!==null)f.return=a,a=f;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ua(r,a,f,g){a&=~Cy,a&=~Cl,r.suspendedLanes|=a,r.pingedLanes&=~a,g&&(r.warmLanes|=a),g=r.expirationTimes;for(var S=a;0<S;){var A=31-En(S),D=1<<A;g[A]=-1,S&=~D}f!==0&&Ni(r,f,a)}function vm(){return(Lt&6)===0?(Od(0),!1):!0}function Ny(){if(vt!==null){if(Ft===0)var r=vt.return;else r=vt,or=zr=null,qv(r),kc=null,md=0,r=vt;for(;r!==null;)OC(r.alternate,r),r=r.return;vt=null}}function Uc(r,a){var f=r.timeoutHandle;f!==-1&&(r.timeoutHandle=-1,oz(f)),f=r.cancelPendingCommit,f!==null&&(r.cancelPendingCommit=null,f()),Eo=0,Ny(),Kt=r,vt=f=Ms(r.current,null),wt=a,Ft=0,ds=null,oa=!1,Ic=Kn(r,a),Sy=!1,zc=fs=Cy=Cl=aa=yn=0,Zi=kd=null,Ey=!1,(a&8)!==0&&(a|=a&32);var g=r.entangledLanes;if(g!==0)for(r=r.entanglements,g&=a;0<g;){var S=31-En(g),A=1<<S;a|=r[S],g&=~A}return Co=a,dl(),f}function nE(r,a){lt=null,G.H=wd,a===Nc||a===Gh?(a=yS(),Ft=3):a===Mv?(a=yS(),Ft=4):Ft=a===ay?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ds=a,vt===null&&(yn=1,om(r,p(a,r.current)))}function iE(){var r=cs.current;return r===null?!0:(wt&4194048)===wt?Ds===null:(wt&62914560)===wt||(wt&536870912)!==0?r===Ds:!1}function sE(){var r=G.H;return G.H=wd,r===null?wd:r}function rE(){var r=G.A;return G.A=zI,r}function ym(){yn=4,oa||(wt&4194048)!==wt&&cs.current!==null||(Ic=!0),(aa&134217727)===0&&(Cl&134217727)===0||Kt===null||ua(Kt,wt,fs,!1)}function ky(r,a,f){var g=Lt;Lt|=2;var S=sE(),A=rE();(Kt!==r||wt!==a)&&(gm=null,Uc(r,a)),a=!1;var D=yn;e:do try{if(Ft!==0&&vt!==null){var V=vt,ne=ds;switch(Ft){case 8:Ny(),D=6;break e;case 3:case 2:case 9:case 6:cs.current===null&&(a=!0);var he=Ft;if(Ft=0,ds=null,Fc(r,V,ne,he),f&&Ic){D=0;break e}break;default:he=Ft,Ft=0,ds=null,Fc(r,V,ne,he)}}FI(),D=yn;break}catch(we){nE(r,we)}while(!0);return a&&r.shellSuspendCounter++,or=zr=null,Lt=g,G.H=S,G.A=A,vt===null&&(Kt=null,wt=0,dl()),D}function FI(){for(;vt!==null;)oE(vt)}function VI(r,a){var f=Lt;Lt|=2;var g=sE(),S=rE();Kt!==r||wt!==a?(gm=null,pm=sn()+500,Uc(r,a)):Ic=Kn(r,a);e:do try{if(Ft!==0&&vt!==null){a=vt;var A=ds;t:switch(Ft){case 1:Ft=0,ds=null,Fc(r,a,A,1);break;case 2:case 9:if(gS(A)){Ft=0,ds=null,aE(a);break}a=function(){Ft!==2&&Ft!==9||Kt!==r||(Ft=7),Ur(r)},A.then(a,a);break e;case 3:Ft=7;break e;case 4:Ft=5;break e;case 7:gS(A)?(Ft=0,ds=null,aE(a)):(Ft=0,ds=null,Fc(r,a,A,7));break;case 5:var D=null;switch(vt.tag){case 26:D=vt.memoizedState;case 5:case 27:var V=vt;if(D?GE(D):V.stateNode.complete){Ft=0,ds=null;var ne=V.sibling;if(ne!==null)vt=ne;else{var he=V.return;he!==null?(vt=he,bm(he)):vt=null}break t}}Ft=0,ds=null,Fc(r,a,A,5);break;case 6:Ft=0,ds=null,Fc(r,a,A,6);break;case 8:Ny(),yn=6;break e;default:throw Error(i(462))}}$I();break}catch(we){nE(r,we)}while(!0);return or=zr=null,G.H=g,G.A=S,Lt=f,vt!==null?0:(Kt=null,wt=0,dl(),yn)}function $I(){for(;vt!==null&&!Ti();)oE(vt)}function oE(r){var a=kC(r.alternate,r,Co);r.memoizedProps=r.pendingProps,a===null?bm(r):vt=a}function aE(r){var a=r,f=a.alternate;switch(a.tag){case 15:case 0:a=CC(f,a,a.pendingProps,a.type,void 0,wt);break;case 11:a=CC(f,a,a.pendingProps,a.type.render,a.ref,wt);break;case 5:qv(a);default:OC(f,a),a=vt=ad(a,Co),a=kC(f,a,Co)}r.memoizedProps=r.pendingProps,a===null?bm(r):vt=a}function Fc(r,a,f,g){or=zr=null,qv(a),kc=null,md=0;var S=a.return;try{if(PI(r,S,a,f,wt)){yn=1,om(r,p(f,r.current)),vt=null;return}}catch(A){if(S!==null)throw vt=S,A;yn=1,om(r,p(f,r.current)),vt=null;return}a.flags&32768?(gt||g===1?r=!0:Ic||(wt&536870912)!==0?r=!1:(oa=r=!0,(g===2||g===9||g===3||g===6)&&(g=cs.current,g!==null&&g.tag===13&&(g.flags|=16384))),lE(a,r)):bm(a)}function bm(r){var a=r;do{if((a.flags&32768)!==0){lE(a,oa);return}r=a.return;var f=DI(a.alternate,a,Co);if(f!==null){vt=f;return}if(a=a.sibling,a!==null){vt=a;return}vt=a=r}while(a!==null);yn===0&&(yn=5)}function lE(r,a){do{var f=LI(r.alternate,r);if(f!==null){f.flags&=32767,vt=f;return}if(f=r.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!a&&(r=r.sibling,r!==null)){vt=r;return}vt=r=f}while(r!==null);yn=6,vt=null}function cE(r,a,f,g,S,A,D,V,ne){r.cancelPendingCommit=null;do xm();while(zn!==0);if((Lt&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(A=a.lanes|a.childLanes,A|=wc,on(r,f,A,D,V,ne),r===Kt&&(vt=Kt=null,wt=0),Bc=a,ca=r,Eo=f,Ay=A,Ty=S,QC=g,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,KI(Bt,function(){return mE(),null})):(r.callbackNode=null,r.callbackPriority=0),g=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||g){g=G.T,G.T=null,S=ee.p,ee.p=2,D=Lt,Lt|=4;try{jI(r,a,f)}finally{Lt=D,ee.p=S,G.T=g}}zn=1,uE(),dE(),fE()}}function uE(){if(zn===1){zn=0;var r=ca,a=Bc,f=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||f){f=G.T,G.T=null;var g=ee.p;ee.p=2;var S=Lt;Lt|=4;try{HC(a,r);var A=Vy,D=ol(r.containerInfo),V=A.focusedElem,ne=A.selectionRange;if(D!==V&&V&&V.ownerDocument&&yc(V.ownerDocument.documentElement,V)){if(ne!==null&&Pr(V)){var he=ne.start,we=ne.end;if(we===void 0&&(we=he),"selectionStart"in V)V.selectionStart=he,V.selectionEnd=Math.min(we,V.value.length);else{var Re=V.ownerDocument||document,ge=Re&&Re.defaultView||window;if(ge.getSelection){var be=ge.getSelection(),Fe=V.textContent.length,Je=Math.min(ne.start,Fe),Gt=ne.end===void 0?Je:Math.min(ne.end,Fe);!be.extend&&Je>Gt&&(D=Gt,Gt=Je,Je=D);var ce=rl(V,Je),re=rl(V,Gt);if(ce&&re&&(be.rangeCount!==1||be.anchorNode!==ce.node||be.anchorOffset!==ce.offset||be.focusNode!==re.node||be.focusOffset!==re.offset)){var fe=Re.createRange();fe.setStart(ce.node,ce.offset),be.removeAllRanges(),Je>Gt?(be.addRange(fe),be.extend(re.node,re.offset)):(fe.setEnd(re.node,re.offset),be.addRange(fe))}}}}for(Re=[],be=V;be=be.parentNode;)be.nodeType===1&&Re.push({element:be,left:be.scrollLeft,top:be.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<Re.length;V++){var Ee=Re[V];Ee.element.scrollLeft=Ee.left,Ee.element.scrollTop=Ee.top}}Om=!!Fy,Vy=Fy=null}finally{Lt=S,ee.p=g,G.T=f}}r.current=a,zn=2}}function dE(){if(zn===2){zn=0;var r=ca,a=Bc,f=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||f){f=G.T,G.T=null;var g=ee.p;ee.p=2;var S=Lt;Lt|=4;try{BC(r,a.alternate,a)}finally{Lt=S,ee.p=g,G.T=f}}zn=3}}function fE(){if(zn===4||zn===3){zn=0,Es();var r=ca,a=Bc,f=Eo,g=QC;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?zn=5:(zn=0,Bc=ca=null,hE(r,r.pendingLanes));var S=r.pendingLanes;if(S===0&&(la=null),ze(f),a=a.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(ts,a,void 0,(a.current.flags&128)===128)}catch{}if(g!==null){a=G.T,S=ee.p,ee.p=2,G.T=null;try{for(var A=r.onRecoverableError,D=0;D<g.length;D++){var V=g[D];A(V.value,{componentStack:V.stack})}}finally{G.T=a,ee.p=S}}(Eo&3)!==0&&xm(),Ur(r),S=r.pendingLanes,(f&261930)!==0&&(S&42)!==0?r===Ry?Pd++:(Pd=0,Ry=r):Pd=0,Od(0)}}function hE(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,fd(a)))}function xm(){return uE(),dE(),fE(),mE()}function mE(){if(zn!==5)return!1;var r=ca,a=Ay;Ay=0;var f=ze(Eo),g=G.T,S=ee.p;try{ee.p=32>f?32:f,G.T=null,f=Ty,Ty=null;var A=ca,D=Eo;if(zn=0,Bc=ca=null,Eo=0,(Lt&6)!==0)throw Error(i(331));var V=Lt;if(Lt|=4,YC(A.current),GC(A,A.current,D,f),Lt=V,Od(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(ts,A)}catch{}return!0}finally{ee.p=S,G.T=g,hE(r,a)}}function pE(r,a,f){a=p(f,a),a=oy(r.stateNode,a,2),r=na(r,a,2),r!==null&&(Zn(r,2),Ur(r))}function Vt(r,a,f){if(r.tag===3)pE(r,r,f);else for(;a!==null;){if(a.tag===3){pE(a,r,f);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(la===null||!la.has(g))){r=p(f,r),f=gC(2),g=na(a,f,2),g!==null&&(vC(f,g,a,r),Zn(g,2),Ur(g));break}}a=a.return}}function Py(r,a,f){var g=r.pingCache;if(g===null){g=r.pingCache=new BI;var S=new Set;g.set(a,S)}else S=g.get(a),S===void 0&&(S=new Set,g.set(a,S));S.has(f)||(Sy=!0,S.add(f),r=HI.bind(null,r,a,f),a.then(r,r))}function HI(r,a,f){var g=r.pingCache;g!==null&&g.delete(a),r.pingedLanes|=r.suspendedLanes&f,r.warmLanes&=~f,Kt===r&&(wt&f)===f&&(yn===4||yn===3&&(wt&62914560)===wt&&300>sn()-mm?(Lt&2)===0&&Uc(r,0):Cy|=f,zc===wt&&(zc=0)),Ur(r)}function gE(r,a){a===0&&(a=An()),r=Os(r,a),r!==null&&(Zn(r,a),Ur(r))}function qI(r){var a=r.memoizedState,f=0;a!==null&&(f=a.retryLane),gE(r,f)}function GI(r,a){var f=0;switch(r.tag){case 31:case 13:var g=r.stateNode,S=r.memoizedState;S!==null&&(f=S.retryLane);break;case 19:g=r.stateNode;break;case 22:g=r.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(a),gE(r,f)}function KI(r,a){return wn(r,a)}var _m=null,Vc=null,Oy=!1,wm=!1,My=!1,da=0;function Ur(r){r!==Vc&&r.next===null&&(Vc===null?_m=Vc=r:Vc=Vc.next=r),wm=!0,Oy||(Oy=!0,YI())}function Od(r,a){if(!My&&wm){My=!0;do for(var f=!1,g=_m;g!==null;){if(r!==0){var S=g.pendingLanes;if(S===0)var A=0;else{var D=g.suspendedLanes,V=g.pingedLanes;A=(1<<31-En(42|r)+1)-1,A&=S&~(D&~V),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(f=!0,xE(g,A))}else A=wt,A=hn(g,g===Kt?A:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(A&3)===0||Kn(g,A)||(f=!0,xE(g,A));g=g.next}while(f);My=!1}}function WI(){vE()}function vE(){wm=Oy=!1;var r=0;da!==0&&rz()&&(r=da);for(var a=sn(),f=null,g=_m;g!==null;){var S=g.next,A=yE(g,a);A===0?(g.next=null,f===null?_m=S:f.next=S,S===null&&(Vc=f)):(f=g,(r!==0||(A&3)!==0)&&(wm=!0)),g=S}zn!==0&&zn!==5||Od(r),da!==0&&(da=0)}function yE(r,a){for(var f=r.suspendedLanes,g=r.pingedLanes,S=r.expirationTimes,A=r.pendingLanes&-62914561;0<A;){var D=31-En(A),V=1<<D,ne=S[D];ne===-1?((V&f)===0||(V&g)!==0)&&(S[D]=Wn(V,a)):ne<=a&&(r.expiredLanes|=V),A&=~V}if(a=Kt,f=wt,f=hn(r,r===a?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),g=r.callbackNode,f===0||r===a&&(Ft===2||Ft===9)||r.cancelPendingCommit!==null)return g!==null&&g!==null&&qn(g),r.callbackNode=null,r.callbackPriority=0;if((f&3)===0||Kn(r,f)){if(a=f&-f,a===r.callbackPriority)return a;switch(g!==null&&qn(g),ze(f)){case 2:case 8:f=Tt;break;case 32:f=Bt;break;case 268435456:f=Zs;break;default:f=Bt}return g=bE.bind(null,r),f=wn(f,g),r.callbackPriority=a,r.callbackNode=f,a}return g!==null&&g!==null&&qn(g),r.callbackPriority=2,r.callbackNode=null,2}function bE(r,a){if(zn!==0&&zn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var f=r.callbackNode;if(xm()&&r.callbackNode!==f)return null;var g=wt;return g=hn(r,r===Kt?g:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),g===0?null:(eE(r,g,a),yE(r,sn()),r.callbackNode!=null&&r.callbackNode===f?bE.bind(null,r):null)}function xE(r,a){if(xm())return null;eE(r,a,!0)}function YI(){az(function(){(Lt&6)!==0?wn(xt,WI):vE()})}function Dy(){if(da===0){var r=Tc;r===0&&(r=Gn,Gn<<=1,(Gn&261888)===0&&(Gn=256)),da=r}return da}function _E(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Rr(""+r)}function wE(r,a){var f=a.ownerDocument.createElement("input");return f.name=a.name,f.value=a.value,r.id&&f.setAttribute("form",r.id),a.parentNode.insertBefore(f,a),r=new FormData(r),f.parentNode.removeChild(f),r}function ZI(r,a,f,g,S){if(a==="submit"&&f&&f.stateNode===S){var A=_E((S[Tn]||null).action),D=g.submitter;D&&(a=(a=D[Tn]||null)?_E(a.formAction):D.getAttribute("formAction"),a!==null&&(A=a,D=null));var V=new dc("action","action",null,g,S);r.push({event:V,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(da!==0){var ne=D?wE(S,D):new FormData(S);ey(f,{pending:!0,data:ne,method:S.method,action:A},null,ne)}}else typeof A=="function"&&(V.preventDefault(),ne=D?wE(S,D):new FormData(S),ey(f,{pending:!0,data:ne,method:S.method,action:A},A,ne))},currentTarget:S}]})}}for(var Ly=0;Ly<Dr.length;Ly++){var jy=Dr[Ly],XI=jy.toLowerCase(),QI=jy[0].toUpperCase()+jy.slice(1);Hi(XI,"on"+QI)}Hi(ll,"onAnimationEnd"),Hi(Uh,"onAnimationIteration"),Hi(cl,"onAnimationStart"),Hi("dblclick","onDoubleClick"),Hi("focusin","onFocus"),Hi("focusout","onBlur"),Hi(Ev,"onTransitionRun"),Hi(Fh,"onTransitionStart"),Hi(Av,"onTransitionCancel"),Hi(Xo,"onTransitionEnd"),Fi("onMouseEnter",["mouseout","mouseover"]),Fi("onMouseLeave",["mouseout","mouseover"]),Fi("onPointerEnter",["pointerout","pointerover"]),Fi("onPointerLeave",["pointerout","pointerover"]),Ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Md="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Md));function SE(r,a){a=(a&4)!==0;for(var f=0;f<r.length;f++){var g=r[f],S=g.event;g=g.listeners;e:{var A=void 0;if(a)for(var D=g.length-1;0<=D;D--){var V=g[D],ne=V.instance,he=V.currentTarget;if(V=V.listener,ne!==A&&S.isPropagationStopped())break e;A=V,S.currentTarget=he;try{A(S)}catch(we){ul(we)}S.currentTarget=null,A=ne}else for(D=0;D<g.length;D++){if(V=g[D],ne=V.instance,he=V.currentTarget,V=V.listener,ne!==A&&S.isPropagationStopped())break e;A=V,S.currentTarget=he;try{A(S)}catch(we){ul(we)}S.currentTarget=null,A=ne}}}}function yt(r,a){var f=a[As];f===void 0&&(f=a[As]=new Set);var g=r+"__bubble";f.has(g)||(CE(a,r,2,!1),f.add(g))}function Iy(r,a,f){var g=0;a&&(g|=4),CE(f,r,g,a)}var Sm="_reactListening"+Math.random().toString(36).slice(2);function zy(r){if(!r[Sm]){r[Sm]=!0,er.forEach(function(f){f!=="selectionchange"&&(JI.has(f)||Iy(f,!1,r),Iy(f,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Sm]||(a[Sm]=!0,Iy("selectionchange",!1,a))}}function CE(r,a,f,g){switch(JE(a)){case 2:var S=Tz;break;case 8:S=Rz;break;default:S=Jy}f=S.bind(null,a,f,r),S=void 0,!Za||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(S=!0),g?S!==void 0?r.addEventListener(a,f,{capture:!0,passive:S}):r.addEventListener(a,f,!0):S!==void 0?r.addEventListener(a,f,{passive:S}):r.addEventListener(a,f,!1)}function By(r,a,f,g,S){var A=g;if((a&1)===0&&(a&2)===0&&g!==null)e:for(;;){if(g===null)return;var D=g.tag;if(D===3||D===4){var V=g.stateNode.containerInfo;if(V===S)break;if(D===4)for(D=g.return;D!==null;){var ne=D.tag;if((ne===3||ne===4)&&D.stateNode.containerInfo===S)return;D=D.return}for(;V!==null;){if(D=Js(V),D===null)return;if(ne=D.tag,ne===5||ne===6||ne===26||ne===27){g=A=D;continue e}V=V.parentNode}}g=g.return}Zu(function(){var he=A,we=Ya(f),Re=[];e:{var ge=Vh.get(r);if(ge!==void 0){var be=dc,Fe=r;switch(r){case"keypress":if(Xa(f)===0)break e;case"keydown":case"keyup":be=Rh;break;case"focusin":Fe="focus",be=Ju;break;case"focusout":Fe="blur",be=Ju;break;case"beforeblur":case"afterblur":be=Ju;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=Sh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=mv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=bv;break;case ll:case Uh:case cl:be=ed;break;case Xo:be=Ph;break;case"scroll":case"scrollend":be=_t;break;case"wheel":be=uo;break;case"copy":case"cut":case"paste":be=Rs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=Nh;break;case"toggle":case"beforetoggle":be=el}var Je=(a&4)!==0,Gt=!Je&&(r==="scroll"||r==="scrollend"),ce=Je?ge!==null?ge+"Capture":null:ge;Je=[];for(var re=he,fe;re!==null;){var Ee=re;if(fe=Ee.stateNode,Ee=Ee.tag,Ee!==5&&Ee!==26&&Ee!==27||fe===null||ce===null||(Ee=lo(re,ce),Ee!=null&&Je.push(Dd(re,Ee,fe))),Gt)break;re=re.return}0<Je.length&&(ge=new be(ge,Fe,null,f,we),Re.push({event:ge,listeners:Je}))}}if((a&7)===0){e:{if(ge=r==="mouseover"||r==="pointerover",be=r==="mouseout"||r==="pointerout",ge&&f!==ao&&(Fe=f.relatedTarget||f.fromElement)&&(Js(Fe)||Fe[Qs]))break e;if((be||ge)&&(ge=we.window===we?we:(ge=we.ownerDocument)?ge.defaultView||ge.parentWindow:window,be?(Fe=f.relatedTarget||f.toElement,be=he,Fe=Fe?Js(Fe):null,Fe!==null&&(Gt=o(Fe),Je=Fe.tag,Fe!==Gt||Je!==5&&Je!==27&&Je!==6)&&(Fe=null)):(be=null,Fe=he),be!==Fe)){if(Je=Sh,Ee="onMouseLeave",ce="onMouseEnter",re="mouse",(r==="pointerout"||r==="pointerover")&&(Je=Nh,Ee="onPointerLeave",ce="onPointerEnter",re="pointer"),Gt=be==null?ge:ss(be),fe=Fe==null?ge:ss(Fe),ge=new Je(Ee,re+"leave",be,f,we),ge.target=Gt,ge.relatedTarget=fe,Ee=null,Js(we)===he&&(Je=new Je(ce,re+"enter",Fe,f,we),Je.target=fe,Je.relatedTarget=Gt,Ee=Je),Gt=Ee,be&&Fe)t:{for(Je=ez,ce=be,re=Fe,fe=0,Ee=ce;Ee;Ee=Je(Ee))fe++;Ee=0;for(var Ze=re;Ze;Ze=Je(Ze))Ee++;for(;0<fe-Ee;)ce=Je(ce),fe--;for(;0<Ee-fe;)re=Je(re),Ee--;for(;fe--;){if(ce===re||re!==null&&ce===re.alternate){Je=ce;break t}ce=Je(ce),re=Je(re)}Je=null}else Je=null;be!==null&&EE(Re,ge,be,Je,!1),Fe!==null&&Gt!==null&&EE(Re,Gt,Fe,Je,!0)}}e:{if(ge=he?ss(he):window,be=ge.nodeName&&ge.nodeName.toLowerCase(),be==="select"||be==="input"&&ge.type==="file")var Pt=sl;else if(Ns(ge))if(Lh)Pt=Cv;else{Pt=Sv;var qe=ir}else be=ge.nodeName,!be||be.toLowerCase()!=="input"||ge.type!=="checkbox"&&ge.type!=="radio"?he&&oo(he.elementType)&&(Pt=sl):Pt=Ko;if(Pt&&(Pt=Pt(r,he))){Dh(Re,Pt,f,we);break e}qe&&qe(r,ge,he),r==="focusout"&&he&&ge.type==="number"&&he.memoizedProps.value!=null&&tt(ge,"number",ge.value)}switch(qe=he?ss(he):window,r){case"focusin":(Ns(qe)||qe.contentEditable==="true")&&(Or=qe,xc=he,al=null);break;case"focusout":al=xc=Or=null;break;case"mousedown":Yo=!0;break;case"contextmenu":case"mouseup":case"dragend":Yo=!1,zh(Re,f,we);break;case"selectionchange":if(bc)break;case"keydown":case"keyup":zh(Re,f,we)}var ut;if(hc)e:{switch(r){case"compositionstart":var St="onCompositionStart";break e;case"compositionend":St="onCompositionEnd";break e;case"compositionupdate":St="onCompositionUpdate";break e}St=void 0}else Ho?Mh(r,f)&&(St="onCompositionEnd"):r==="keydown"&&f.keyCode===229&&(St="onCompositionStart");St&&(mc&&f.locale!=="ko"&&(Ho||St!=="onCompositionStart"?St==="onCompositionEnd"&&Ho&&(ut=Nr()):(Ts=we,co="value"in Ts?Ts.value:Ts.textContent,Ho=!0)),qe=Cm(he,St),0<qe.length&&(St=new td(St,r,null,f,we),Re.push({event:St,listeners:qe}),ut?St.data=ut:(ut=rd(f),ut!==null&&(St.data=ut)))),(ut=_v?ls(r,f):qo(r,f))&&(St=Cm(he,"onBeforeInput"),0<St.length&&(qe=new td("onBeforeInput","beforeinput",null,f,we),Re.push({event:qe,listeners:St}),qe.data=ut)),ZI(Re,r,he,f,we)}SE(Re,a)})}function Dd(r,a,f){return{instance:r,listener:a,currentTarget:f}}function Cm(r,a){for(var f=a+"Capture",g=[];r!==null;){var S=r,A=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||A===null||(S=lo(r,f),S!=null&&g.unshift(Dd(r,S,A)),S=lo(r,a),S!=null&&g.push(Dd(r,S,A))),r.tag===3)return g;r=r.return}return[]}function ez(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function EE(r,a,f,g,S){for(var A=a._reactName,D=[];f!==null&&f!==g;){var V=f,ne=V.alternate,he=V.stateNode;if(V=V.tag,ne!==null&&ne===g)break;V!==5&&V!==26&&V!==27||he===null||(ne=he,S?(he=lo(f,A),he!=null&&D.unshift(Dd(f,he,ne))):S||(he=lo(f,A),he!=null&&D.push(Dd(f,he,ne)))),f=f.return}D.length!==0&&r.push({event:a,listeners:D})}var tz=/\r\n?/g,nz=/\u0000|\uFFFD/g;function AE(r){return(typeof r=="string"?r:""+r).replace(tz,`
`).replace(nz,"")}function TE(r,a){return a=AE(a),AE(r)===a}function qt(r,a,f,g,S,A){switch(f){case"children":typeof g=="string"?a==="body"||a==="textarea"&&g===""||Et(r,g):(typeof g=="number"||typeof g=="bigint")&&a!=="body"&&Et(r,""+g);break;case"className":F(r,"class",g);break;case"tabIndex":F(r,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":F(r,f,g);break;case"style":Ar(r,g,A);break;case"data":if(a!=="object"){F(r,"data",g);break}case"src":case"href":if(g===""&&(a!=="a"||f!=="href")){r.removeAttribute(f);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){r.removeAttribute(f);break}g=Rr(""+g),r.setAttribute(f,g);break;case"action":case"formAction":if(typeof g=="function"){r.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(f==="formAction"?(a!=="input"&&qt(r,a,"name",S.name,S,null),qt(r,a,"formEncType",S.formEncType,S,null),qt(r,a,"formMethod",S.formMethod,S,null),qt(r,a,"formTarget",S.formTarget,S,null)):(qt(r,a,"encType",S.encType,S,null),qt(r,a,"method",S.method,S,null),qt(r,a,"target",S.target,S,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){r.removeAttribute(f);break}g=Rr(""+g),r.setAttribute(f,g);break;case"onClick":g!=null&&(r.onclick=xi);break;case"onScroll":g!=null&&yt("scroll",r);break;case"onScrollEnd":g!=null&&yt("scrollend",r);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(f=g.__html,f!=null){if(S.children!=null)throw Error(i(60));r.innerHTML=f}}break;case"multiple":r.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":r.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){r.removeAttribute("xlink:href");break}f=Rr(""+g),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(f,""+g):r.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(f,""):r.removeAttribute(f);break;case"capture":case"download":g===!0?r.setAttribute(f,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(f,g):r.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?r.setAttribute(f,g):r.removeAttribute(f);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?r.removeAttribute(f):r.setAttribute(f,g);break;case"popover":yt("beforetoggle",r),yt("toggle",r),mt(r,"popover",g);break;case"xlinkActuate":te(r,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":te(r,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":te(r,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":te(r,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":te(r,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":te(r,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":te(r,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":te(r,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":te(r,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":mt(r,"is",g);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=Tr.get(f)||f,mt(r,f,g))}}function Uy(r,a,f,g,S,A){switch(f){case"style":Ar(r,g,A);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(f=g.__html,f!=null){if(S.children!=null)throw Error(i(60));r.innerHTML=f}}break;case"children":typeof g=="string"?Et(r,g):(typeof g=="number"||typeof g=="bigint")&&Et(r,""+g);break;case"onScroll":g!=null&&yt("scroll",r);break;case"onScrollEnd":g!=null&&yt("scrollend",r);break;case"onClick":g!=null&&(r.onclick=xi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cc.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(S=f.endsWith("Capture"),a=f.slice(2,S?f.length-7:void 0),A=r[Tn]||null,A=A!=null?A[f]:null,typeof A=="function"&&r.removeEventListener(a,A,S),typeof g=="function")){typeof A!="function"&&A!==null&&(f in r?r[f]=null:r.hasAttribute(f)&&r.removeAttribute(f)),r.addEventListener(a,g,S);break e}f in r?r[f]=g:g===!0?r.setAttribute(f,""):mt(r,f,g)}}}function ui(r,a,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yt("error",r),yt("load",r);var g=!1,S=!1,A;for(A in f)if(f.hasOwnProperty(A)){var D=f[A];if(D!=null)switch(A){case"src":g=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:qt(r,a,A,D,f,null)}}S&&qt(r,a,"srcSet",f.srcSet,f,null),g&&qt(r,a,"src",f.src,f,null);return;case"input":yt("invalid",r);var V=A=D=S=null,ne=null,he=null;for(g in f)if(f.hasOwnProperty(g)){var we=f[g];if(we!=null)switch(g){case"name":S=we;break;case"type":D=we;break;case"checked":ne=we;break;case"defaultChecked":he=we;break;case"value":A=we;break;case"defaultValue":V=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(i(137,a));break;default:qt(r,a,g,we,f,null)}}Be(r,A,V,ne,he,D,S,!1);return;case"select":yt("invalid",r),g=D=A=null;for(S in f)if(f.hasOwnProperty(S)&&(V=f[S],V!=null))switch(S){case"value":A=V;break;case"defaultValue":D=V;break;case"multiple":g=V;default:qt(r,a,S,V,f,null)}a=A,f=D,r.multiple=!!g,a!=null?We(r,!!g,a,!1):f!=null&&We(r,!!g,f,!0);return;case"textarea":yt("invalid",r),A=S=g=null;for(D in f)if(f.hasOwnProperty(D)&&(V=f[D],V!=null))switch(D){case"value":g=V;break;case"defaultValue":S=V;break;case"children":A=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(91));break;default:qt(r,a,D,V,f,null)}Ut(r,g,S,A);return;case"option":for(ne in f)f.hasOwnProperty(ne)&&(g=f[ne],g!=null)&&(ne==="selected"?r.selected=g&&typeof g!="function"&&typeof g!="symbol":qt(r,a,ne,g,f,null));return;case"dialog":yt("beforetoggle",r),yt("toggle",r),yt("cancel",r),yt("close",r);break;case"iframe":case"object":yt("load",r);break;case"video":case"audio":for(g=0;g<Md.length;g++)yt(Md[g],r);break;case"image":yt("error",r),yt("load",r);break;case"details":yt("toggle",r);break;case"embed":case"source":case"link":yt("error",r),yt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in f)if(f.hasOwnProperty(he)&&(g=f[he],g!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:qt(r,a,he,g,f,null)}return;default:if(oo(a)){for(we in f)f.hasOwnProperty(we)&&(g=f[we],g!==void 0&&Uy(r,a,we,g,f,void 0));return}}for(V in f)f.hasOwnProperty(V)&&(g=f[V],g!=null&&qt(r,a,V,g,f,null))}function iz(r,a,f,g){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,A=null,D=null,V=null,ne=null,he=null,we=null;for(be in f){var Re=f[be];if(f.hasOwnProperty(be)&&Re!=null)switch(be){case"checked":break;case"value":break;case"defaultValue":ne=Re;default:g.hasOwnProperty(be)||qt(r,a,be,null,g,Re)}}for(var ge in g){var be=g[ge];if(Re=f[ge],g.hasOwnProperty(ge)&&(be!=null||Re!=null))switch(ge){case"type":A=be;break;case"name":S=be;break;case"checked":he=be;break;case"defaultChecked":we=be;break;case"value":D=be;break;case"defaultValue":V=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(i(137,a));break;default:be!==Re&&qt(r,a,ge,be,g,Re)}}Me(r,D,V,ne,he,we,A,S);return;case"select":be=D=V=ge=null;for(A in f)if(ne=f[A],f.hasOwnProperty(A)&&ne!=null)switch(A){case"value":break;case"multiple":be=ne;default:g.hasOwnProperty(A)||qt(r,a,A,null,g,ne)}for(S in g)if(A=g[S],ne=f[S],g.hasOwnProperty(S)&&(A!=null||ne!=null))switch(S){case"value":ge=A;break;case"defaultValue":V=A;break;case"multiple":D=A;default:A!==ne&&qt(r,a,S,A,g,ne)}a=V,f=D,g=be,ge!=null?We(r,!!f,ge,!1):!!g!=!!f&&(a!=null?We(r,!!f,a,!0):We(r,!!f,f?[]:"",!1));return;case"textarea":be=ge=null;for(V in f)if(S=f[V],f.hasOwnProperty(V)&&S!=null&&!g.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:qt(r,a,V,null,g,S)}for(D in g)if(S=g[D],A=f[D],g.hasOwnProperty(D)&&(S!=null||A!=null))switch(D){case"value":ge=S;break;case"defaultValue":be=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:S!==A&&qt(r,a,D,S,g,A)}ft(r,ge,be);return;case"option":for(var Fe in f)ge=f[Fe],f.hasOwnProperty(Fe)&&ge!=null&&!g.hasOwnProperty(Fe)&&(Fe==="selected"?r.selected=!1:qt(r,a,Fe,null,g,ge));for(ne in g)ge=g[ne],be=f[ne],g.hasOwnProperty(ne)&&ge!==be&&(ge!=null||be!=null)&&(ne==="selected"?r.selected=ge&&typeof ge!="function"&&typeof ge!="symbol":qt(r,a,ne,ge,g,be));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Je in f)ge=f[Je],f.hasOwnProperty(Je)&&ge!=null&&!g.hasOwnProperty(Je)&&qt(r,a,Je,null,g,ge);for(he in g)if(ge=g[he],be=f[he],g.hasOwnProperty(he)&&ge!==be&&(ge!=null||be!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(i(137,a));break;default:qt(r,a,he,ge,g,be)}return;default:if(oo(a)){for(var Gt in f)ge=f[Gt],f.hasOwnProperty(Gt)&&ge!==void 0&&!g.hasOwnProperty(Gt)&&Uy(r,a,Gt,void 0,g,ge);for(we in g)ge=g[we],be=f[we],!g.hasOwnProperty(we)||ge===be||ge===void 0&&be===void 0||Uy(r,a,we,ge,g,be);return}}for(var ce in f)ge=f[ce],f.hasOwnProperty(ce)&&ge!=null&&!g.hasOwnProperty(ce)&&qt(r,a,ce,null,g,ge);for(Re in g)ge=g[Re],be=f[Re],!g.hasOwnProperty(Re)||ge===be||ge==null&&be==null||qt(r,a,Re,ge,g,be)}function RE(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sz(){if(typeof performance.getEntriesByType=="function"){for(var r=0,a=0,f=performance.getEntriesByType("resource"),g=0;g<f.length;g++){var S=f[g],A=S.transferSize,D=S.initiatorType,V=S.duration;if(A&&V&&RE(D)){for(D=0,V=S.responseEnd,g+=1;g<f.length;g++){var ne=f[g],he=ne.startTime;if(he>V)break;var we=ne.transferSize,Re=ne.initiatorType;we&&RE(Re)&&(ne=ne.responseEnd,D+=we*(ne<V?1:(V-he)/(ne-he)))}if(--g,a+=8*(A+D)/(S.duration/1e3),r++,10<r)break}}if(0<r)return a/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Fy=null,Vy=null;function Em(r){return r.nodeType===9?r:r.ownerDocument}function NE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kE(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function $y(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Hy=null;function rz(){var r=window.event;return r&&r.type==="popstate"?r===Hy?!1:(Hy=r,!0):(Hy=null,!1)}var PE=typeof setTimeout=="function"?setTimeout:void 0,oz=typeof clearTimeout=="function"?clearTimeout:void 0,OE=typeof Promise=="function"?Promise:void 0,az=typeof queueMicrotask=="function"?queueMicrotask:typeof OE<"u"?function(r){return OE.resolve(null).then(r).catch(lz)}:PE;function lz(r){setTimeout(function(){throw r})}function fa(r){return r==="head"}function ME(r,a){var f=a,g=0;do{var S=f.nextSibling;if(r.removeChild(f),S&&S.nodeType===8)if(f=S.data,f==="/$"||f==="/&"){if(g===0){r.removeChild(S),Gc(a);return}g--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")g++;else if(f==="html")Ld(r.ownerDocument.documentElement);else if(f==="head"){f=r.ownerDocument.head,Ld(f);for(var A=f.firstChild;A;){var D=A.nextSibling,V=A.nodeName;A[no]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&A.rel.toLowerCase()==="stylesheet"||f.removeChild(A),A=D}}else f==="body"&&Ld(r.ownerDocument.body);f=S}while(f);Gc(a)}function DE(r,a){var f=r;r=0;do{var g=f.nextSibling;if(f.nodeType===1?a?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(a?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),g&&g.nodeType===8)if(f=g.data,f==="/$"){if(r===0)break;r--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||r++;f=g}while(f)}function qy(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var f=a;switch(a=a.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":qy(f),Ka(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}r.removeChild(f)}}function cz(r,a,f,g){for(;r.nodeType===1;){var S=f;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!g&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(g){if(!r[no])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(A=r.getAttribute("rel"),A==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(A!==S.rel||r.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||r.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||r.getAttribute("title")!==(S.title==null?null:S.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(A=r.getAttribute("src"),(A!==(S.src==null?null:S.src)||r.getAttribute("type")!==(S.type==null?null:S.type)||r.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&A&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var A=S.name==null?null:""+S.name;if(S.type==="hidden"&&r.getAttribute("name")===A)return r}else return r;if(r=Ls(r.nextSibling),r===null)break}return null}function uz(r,a,f){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!f||(r=Ls(r.nextSibling),r===null))return null;return r}function LE(r,a){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=Ls(r.nextSibling),r===null))return null;return r}function Gy(r){return r.data==="$?"||r.data==="$~"}function Ky(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function dz(r,a){var f=r.ownerDocument;if(r.data==="$~")r._reactRetry=a;else if(r.data!=="$?"||f.readyState!=="loading")a();else{var g=function(){a(),f.removeEventListener("DOMContentLoaded",g)};f.addEventListener("DOMContentLoaded",g),r._reactRetry=g}}function Ls(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return r}var Wy=null;function jE(r){r=r.nextSibling;for(var a=0;r;){if(r.nodeType===8){var f=r.data;if(f==="/$"||f==="/&"){if(a===0)return Ls(r.nextSibling);a--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||a++}r=r.nextSibling}return null}function IE(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var f=r.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(a===0)return r;a--}else f!=="/$"&&f!=="/&"||a++}r=r.previousSibling}return null}function zE(r,a,f){switch(a=Em(f),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Ld(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Ka(r)}var js=new Map,BE=new Set;function Am(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ao=ee.d;ee.d={f:fz,r:hz,D:mz,C:pz,L:gz,m:vz,X:bz,S:yz,M:xz};function fz(){var r=Ao.f(),a=vm();return r||a}function hz(r){var a=Er(r);a!==null&&a.tag===5&&a.type==="form"?nC(a):Ao.r(r)}var $c=typeof document>"u"?null:document;function UE(r,a,f){var g=$c;if(g&&typeof a=="string"&&a){var S=Ae(a);S='link[rel="'+r+'"][href="'+S+'"]',typeof f=="string"&&(S+='[crossorigin="'+f+'"]'),BE.has(S)||(BE.add(S),r={rel:r,crossOrigin:f,href:a},g.querySelector(S)===null&&(a=g.createElement("link"),ui(a,"link",r),ln(a),g.head.appendChild(a)))}}function mz(r){Ao.D(r),UE("dns-prefetch",r,null)}function pz(r,a){Ao.C(r,a),UE("preconnect",r,a)}function gz(r,a,f){Ao.L(r,a,f);var g=$c;if(g&&r&&a){var S='link[rel="preload"][as="'+Ae(a)+'"]';a==="image"&&f&&f.imageSrcSet?(S+='[imagesrcset="'+Ae(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(S+='[imagesizes="'+Ae(f.imageSizes)+'"]')):S+='[href="'+Ae(r)+'"]';var A=S;switch(a){case"style":A=Hc(r);break;case"script":A=qc(r)}js.has(A)||(r=v({rel:"preload",href:a==="image"&&f&&f.imageSrcSet?void 0:r,as:a},f),js.set(A,r),g.querySelector(S)!==null||a==="style"&&g.querySelector(jd(A))||a==="script"&&g.querySelector(Id(A))||(a=g.createElement("link"),ui(a,"link",r),ln(a),g.head.appendChild(a)))}}function vz(r,a){Ao.m(r,a);var f=$c;if(f&&r){var g=a&&typeof a.as=="string"?a.as:"script",S='link[rel="modulepreload"][as="'+Ae(g)+'"][href="'+Ae(r)+'"]',A=S;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=qc(r)}if(!js.has(A)&&(r=v({rel:"modulepreload",href:r},a),js.set(A,r),f.querySelector(S)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Id(A)))return}g=f.createElement("link"),ui(g,"link",r),ln(g),f.head.appendChild(g)}}}function yz(r,a,f){Ao.S(r,a,f);var g=$c;if(g&&r){var S=Bi(g).hoistableStyles,A=Hc(r);a=a||"default";var D=S.get(A);if(!D){var V={loading:0,preload:null};if(D=g.querySelector(jd(A)))V.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":a},f),(f=js.get(A))&&Yy(r,f);var ne=D=g.createElement("link");ln(ne),ui(ne,"link",r),ne._p=new Promise(function(he,we){ne.onload=he,ne.onerror=we}),ne.addEventListener("load",function(){V.loading|=1}),ne.addEventListener("error",function(){V.loading|=2}),V.loading|=4,Tm(D,a,g)}D={type:"stylesheet",instance:D,count:1,state:V},S.set(A,D)}}}function bz(r,a){Ao.X(r,a);var f=$c;if(f&&r){var g=Bi(f).hoistableScripts,S=qc(r),A=g.get(S);A||(A=f.querySelector(Id(S)),A||(r=v({src:r,async:!0},a),(a=js.get(S))&&Zy(r,a),A=f.createElement("script"),ln(A),ui(A,"link",r),f.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},g.set(S,A))}}function xz(r,a){Ao.M(r,a);var f=$c;if(f&&r){var g=Bi(f).hoistableScripts,S=qc(r),A=g.get(S);A||(A=f.querySelector(Id(S)),A||(r=v({src:r,async:!0,type:"module"},a),(a=js.get(S))&&Zy(r,a),A=f.createElement("script"),ln(A),ui(A,"link",r),f.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},g.set(S,A))}}function FE(r,a,f,g){var S=(S=_e.current)?Am(S):null;if(!S)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(a=Hc(f.href),f=Bi(S).hoistableStyles,g=f.get(a),g||(g={type:"style",instance:null,count:0,state:null},f.set(a,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){r=Hc(f.href);var A=Bi(S).hoistableStyles,D=A.get(r);if(D||(S=S.ownerDocument||S,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(r,D),(A=S.querySelector(jd(r)))&&!A._p&&(D.instance=A,D.state.loading=5),js.has(r)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},js.set(r,f),A||_z(S,r,f,D.state))),a&&g===null)throw Error(i(528,""));return D}if(a&&g!==null)throw Error(i(529,""));return null;case"script":return a=f.async,f=f.src,typeof f=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=qc(f),f=Bi(S).hoistableScripts,g=f.get(a),g||(g={type:"script",instance:null,count:0,state:null},f.set(a,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Hc(r){return'href="'+Ae(r)+'"'}function jd(r){return'link[rel="stylesheet"]['+r+"]"}function VE(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function _z(r,a,f,g){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?g.loading=1:(a=r.createElement("link"),g.preload=a,a.addEventListener("load",function(){return g.loading|=1}),a.addEventListener("error",function(){return g.loading|=2}),ui(a,"link",f),ln(a),r.head.appendChild(a))}function qc(r){return'[src="'+Ae(r)+'"]'}function Id(r){return"script[async]"+r}function $E(r,a,f){if(a.count++,a.instance===null)switch(a.type){case"style":var g=r.querySelector('style[data-href~="'+Ae(f.href)+'"]');if(g)return a.instance=g,ln(g),g;var S=v({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return g=(r.ownerDocument||r).createElement("style"),ln(g),ui(g,"style",S),Tm(g,f.precedence,r),a.instance=g;case"stylesheet":S=Hc(f.href);var A=r.querySelector(jd(S));if(A)return a.state.loading|=4,a.instance=A,ln(A),A;g=VE(f),(S=js.get(S))&&Yy(g,S),A=(r.ownerDocument||r).createElement("link"),ln(A);var D=A;return D._p=new Promise(function(V,ne){D.onload=V,D.onerror=ne}),ui(A,"link",g),a.state.loading|=4,Tm(A,f.precedence,r),a.instance=A;case"script":return A=qc(f.src),(S=r.querySelector(Id(A)))?(a.instance=S,ln(S),S):(g=f,(S=js.get(A))&&(g=v({},f),Zy(g,S)),r=r.ownerDocument||r,S=r.createElement("script"),ln(S),ui(S,"link",g),r.head.appendChild(S),a.instance=S);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(g=a.instance,a.state.loading|=4,Tm(g,f.precedence,r));return a.instance}function Tm(r,a,f){for(var g=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=g.length?g[g.length-1]:null,A=S,D=0;D<g.length;D++){var V=g[D];if(V.dataset.precedence===a)A=V;else if(A!==S)break}A?A.parentNode.insertBefore(r,A.nextSibling):(a=f.nodeType===9?f.head:f,a.insertBefore(r,a.firstChild))}function Yy(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Zy(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Rm=null;function HE(r,a,f){if(Rm===null){var g=new Map,S=Rm=new Map;S.set(f,g)}else S=Rm,g=S.get(f),g||(g=new Map,S.set(f,g));if(g.has(r))return g;for(g.set(r,null),f=f.getElementsByTagName(r),S=0;S<f.length;S++){var A=f[S];if(!(A[no]||A[mn]||r==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var D=A.getAttribute(a)||"";D=r+D;var V=g.get(D);V?V.push(A):g.set(D,[A])}}return g}function qE(r,a,f){r=r.ownerDocument||r,r.head.insertBefore(f,a==="title"?r.querySelector("head > title"):null)}function wz(r,a,f){if(f===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(r=a.disabled,typeof a.precedence=="string"&&r==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function GE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function Sz(r,a,f,g){if(f.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var S=Hc(g.href),A=a.querySelector(jd(S));if(A){a=A._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(r.count++,r=Nm.bind(r),a.then(r,r)),f.state.loading|=4,f.instance=A,ln(A);return}A=a.ownerDocument||a,g=VE(g),(S=js.get(S))&&Yy(g,S),A=A.createElement("link"),ln(A);var D=A;D._p=new Promise(function(V,ne){D.onload=V,D.onerror=ne}),ui(A,"link",g),f.instance=A}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(f,a),(a=f.state.preload)&&(f.state.loading&3)===0&&(r.count++,f=Nm.bind(r),a.addEventListener("load",f),a.addEventListener("error",f))}}var Xy=0;function Cz(r,a){return r.stylesheets&&r.count===0&&Pm(r,r.stylesheets),0<r.count||0<r.imgCount?function(f){var g=setTimeout(function(){if(r.stylesheets&&Pm(r,r.stylesheets),r.unsuspend){var A=r.unsuspend;r.unsuspend=null,A()}},6e4+a);0<r.imgBytes&&Xy===0&&(Xy=62500*sz());var S=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Pm(r,r.stylesheets),r.unsuspend)){var A=r.unsuspend;r.unsuspend=null,A()}},(r.imgBytes>Xy?50:800)+a);return r.unsuspend=f,function(){r.unsuspend=null,clearTimeout(g),clearTimeout(S)}}:null}function Nm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var km=null;function Pm(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,km=new Map,a.forEach(Ez,r),km=null,Nm.call(r))}function Ez(r,a){if(!(a.state.loading&4)){var f=km.get(r);if(f)var g=f.get(null);else{f=new Map,km.set(r,f);for(var S=r.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<S.length;A++){var D=S[A];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(f.set(D.dataset.precedence,D),g=D)}g&&f.set(null,g)}S=a.instance,D=S.getAttribute("data-precedence"),A=f.get(D)||g,A===g&&f.set(null,S),f.set(D,S),this.count++,g=Nm.bind(this),S.addEventListener("load",g),S.addEventListener("error",g),A?A.parentNode.insertBefore(S,A.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(S,r.firstChild)),a.state.loading|=4}}var zd={$$typeof:P,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function Az(r,a,f,g,S,A,D,V,ne){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yn(0),this.hiddenUpdates=Yn(null),this.identifierPrefix=g,this.onUncaughtError=S,this.onCaughtError=A,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function KE(r,a,f,g,S,A,D,V,ne,he,we,Re){return r=new Az(r,a,f,D,ne,he,we,Re,V),a=1,A===!0&&(a|=24),A=wi(3,null,null,a),r.current=A,A.stateNode=r,a=kv(),a.refCount++,r.pooledCache=a,a.refCount++,A.memoizedState={element:g,isDehydrated:f,cache:a},Dv(A),r}function WE(r){return r?(r=fo,r):fo}function YE(r,a,f,g,S,A){S=WE(S),g.context===null?g.context=S:g.pendingContext=S,g=ta(a),g.payload={element:f},A=A===void 0?null:A,A!==null&&(g.callback=A),f=na(r,g,a),f!==null&&(Xi(f,r,a),gd(f,r,a))}function ZE(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var f=r.retryLane;r.retryLane=f!==0&&f<a?f:a}}function Qy(r,a){ZE(r,a),(r=r.alternate)&&ZE(r,a)}function XE(r){if(r.tag===13||r.tag===31){var a=Os(r,67108864);a!==null&&Xi(a,r,67108864),Qy(r,67108864)}}function QE(r){if(r.tag===13||r.tag===31){var a=hs();a=an(a);var f=Os(r,a);f!==null&&Xi(f,r,a),Qy(r,a)}}var Om=!0;function Tz(r,a,f,g){var S=G.T;G.T=null;var A=ee.p;try{ee.p=2,Jy(r,a,f,g)}finally{ee.p=A,G.T=S}}function Rz(r,a,f,g){var S=G.T;G.T=null;var A=ee.p;try{ee.p=8,Jy(r,a,f,g)}finally{ee.p=A,G.T=S}}function Jy(r,a,f,g){if(Om){var S=eb(g);if(S===null)By(r,a,g,Mm,f),eA(r,g);else if(kz(S,r,a,f,g))g.stopPropagation();else if(eA(r,g),a&4&&-1<Nz.indexOf(r)){for(;S!==null;){var A=Er(S);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var D=Zt(A.pendingLanes);if(D!==0){var V=A;for(V.pendingLanes|=2,V.entangledLanes|=2;D;){var ne=1<<31-En(D);V.entanglements[1]|=ne,D&=~ne}Ur(A),(Lt&6)===0&&(pm=sn()+500,Od(0))}}break;case 31:case 13:V=Os(A,2),V!==null&&Xi(V,A,2),vm(),Qy(A,2)}if(A=eb(g),A===null&&By(r,a,g,Mm,f),A===S)break;S=A}S!==null&&g.stopPropagation()}else By(r,a,g,null,f)}}function eb(r){return r=Ya(r),tb(r)}var Mm=null;function tb(r){if(Mm=null,r=Js(r),r!==null){var a=o(r);if(a===null)r=null;else{var f=a.tag;if(f===13){if(r=l(a),r!==null)return r;r=null}else if(f===31){if(r=c(a),r!==null)return r;r=null}else if(f===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Mm=r,null}function JE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cr()){case xt:return 2;case Tt:return 8;case Bt:case Ri:return 32;case Zs:return 268435456;default:return 32}default:return 32}}var nb=!1,ha=null,ma=null,pa=null,Bd=new Map,Ud=new Map,ga=[],Nz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eA(r,a){switch(r){case"focusin":case"focusout":ha=null;break;case"dragenter":case"dragleave":ma=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":Bd.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ud.delete(a.pointerId)}}function Fd(r,a,f,g,S,A){return r===null||r.nativeEvent!==A?(r={blockedOn:a,domEventName:f,eventSystemFlags:g,nativeEvent:A,targetContainers:[S]},a!==null&&(a=Er(a),a!==null&&XE(a)),r):(r.eventSystemFlags|=g,a=r.targetContainers,S!==null&&a.indexOf(S)===-1&&a.push(S),r)}function kz(r,a,f,g,S){switch(a){case"focusin":return ha=Fd(ha,r,a,f,g,S),!0;case"dragenter":return ma=Fd(ma,r,a,f,g,S),!0;case"mouseover":return pa=Fd(pa,r,a,f,g,S),!0;case"pointerover":var A=S.pointerId;return Bd.set(A,Fd(Bd.get(A)||null,r,a,f,g,S)),!0;case"gotpointercapture":return A=S.pointerId,Ud.set(A,Fd(Ud.get(A)||null,r,a,f,g,S)),!0}return!1}function tA(r){var a=Js(r.target);if(a!==null){var f=o(a);if(f!==null){if(a=f.tag,a===13){if(a=l(f),a!==null){r.blockedOn=a,is(r.priority,function(){QE(f)});return}}else if(a===31){if(a=c(f),a!==null){r.blockedOn=a,is(r.priority,function(){QE(f)});return}}else if(a===3&&f.stateNode.current.memoizedState.isDehydrated){r.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Dm(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var f=eb(r.nativeEvent);if(f===null){f=r.nativeEvent;var g=new f.constructor(f.type,f);ao=g,f.target.dispatchEvent(g),ao=null}else return a=Er(f),a!==null&&XE(a),r.blockedOn=f,!1;a.shift()}return!0}function nA(r,a,f){Dm(r)&&f.delete(a)}function Pz(){nb=!1,ha!==null&&Dm(ha)&&(ha=null),ma!==null&&Dm(ma)&&(ma=null),pa!==null&&Dm(pa)&&(pa=null),Bd.forEach(nA),Ud.forEach(nA)}function Lm(r,a){r.blockedOn===a&&(r.blockedOn=null,nb||(nb=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Pz)))}var jm=null;function iA(r){jm!==r&&(jm=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){jm===r&&(jm=null);for(var a=0;a<r.length;a+=3){var f=r[a],g=r[a+1],S=r[a+2];if(typeof g!="function"){if(tb(g||f)===null)continue;break}var A=Er(f);A!==null&&(r.splice(a,3),a-=3,ey(A,{pending:!0,data:S,method:f.method,action:g},g,S))}}))}function Gc(r){function a(ne){return Lm(ne,r)}ha!==null&&Lm(ha,r),ma!==null&&Lm(ma,r),pa!==null&&Lm(pa,r),Bd.forEach(a),Ud.forEach(a);for(var f=0;f<ga.length;f++){var g=ga[f];g.blockedOn===r&&(g.blockedOn=null)}for(;0<ga.length&&(f=ga[0],f.blockedOn===null);)tA(f),f.blockedOn===null&&ga.shift();if(f=(r.ownerDocument||r).$$reactFormReplay,f!=null)for(g=0;g<f.length;g+=3){var S=f[g],A=f[g+1],D=S[Tn]||null;if(typeof A=="function")D||iA(f);else if(D){var V=null;if(A&&A.hasAttribute("formAction")){if(S=A,D=A[Tn]||null)V=D.formAction;else if(tb(S)!==null)continue}else V=D.action;typeof V=="function"?f[g+1]=V:(f.splice(g,3),g-=3),iA(f)}}}function sA(){function r(A){A.canIntercept&&A.info==="react-transition"&&A.intercept({handler:function(){return new Promise(function(D){return S=D})},focusReset:"manual",scroll:"manual"})}function a(){S!==null&&(S(),S=null),g||setTimeout(f,20)}function f(){if(!g&&!navigation.transition){var A=navigation.currentEntry;A&&A.url!=null&&navigation.navigate(A.url,{state:A.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,S=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(f,100),function(){g=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),S!==null&&(S(),S=null)}}}function ib(r){this._internalRoot=r}Im.prototype.render=ib.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var f=a.current,g=hs();YE(f,g,r,a,null,null)},Im.prototype.unmount=ib.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;YE(r.current,2,null,r,null,null),vm(),a[Qs]=null}};function Im(r){this._internalRoot=r}Im.prototype.unstable_scheduleHydration=function(r){if(r){var a=bi();r={blockedOn:null,target:r,priority:a};for(var f=0;f<ga.length&&a!==0&&a<ga[f].priority;f++);ga.splice(f,0,r),f===0&&tA(r)}};var rA=t.version;if(rA!=="19.2.4")throw Error(i(527,rA,"19.2.4"));ee.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(a),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var Oz={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zm.isDisabled&&zm.supportsFiber)try{ts=zm.inject(Oz),rn=zm}catch{}}return $d.createRoot=function(r,a){if(!s(r))throw Error(i(299));var f=!1,g="",S=fC,A=hC,D=mC;return a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(S=a.onUncaughtError),a.onCaughtError!==void 0&&(A=a.onCaughtError),a.onRecoverableError!==void 0&&(D=a.onRecoverableError)),a=KE(r,1,!1,null,null,f,g,null,S,A,D,sA),r[Qs]=a.current,zy(r),new ib(a)},$d.hydrateRoot=function(r,a,f){if(!s(r))throw Error(i(299));var g=!1,S="",A=fC,D=hC,V=mC,ne=null;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onUncaughtError!==void 0&&(A=f.onUncaughtError),f.onCaughtError!==void 0&&(D=f.onCaughtError),f.onRecoverableError!==void 0&&(V=f.onRecoverableError),f.formState!==void 0&&(ne=f.formState)),a=KE(r,1,!0,a,f??null,g,S,ne,A,D,V,sA),a.context=WE(null),f=a.current,g=hs(),g=an(g),S=ta(g),S.callback=null,na(f,S,g),f=g,a.current.lanes=f,Zn(a,f),Ur(a),r[Qs]=a.current,zy(r),new Im(a)},$d.version="19.2.4",$d}var pA;function Vz(){if(pA)return ob.exports;pA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ob.exports=Fz(),ob.exports}var $z=Vz(),nn=(e=>(e[e.None=0]="None",e[e.Mutable=1]="Mutable",e[e.Watching=2]="Watching",e[e.RecursedCheck=4]="RecursedCheck",e[e.Recursed=8]="Recursed",e[e.Dirty=16]="Dirty",e[e.Pending=32]="Pending",e))(nn||{});function VN({update:e,notify:t,unwatched:n}){return{link:i,unlink:s,propagate:o,checkDirty:l,shallowPropagate:c};function i(h,m,v){const b=m.depsTail;if(b!==void 0&&b.dep===h)return;const _=b!==void 0?b.nextDep:m.deps;if(_!==void 0&&_.dep===h){_.version=v,m.depsTail=_;return}const C=h.subsTail;if(C!==void 0&&C.version===v&&C.sub===m)return;const E=m.depsTail=h.subsTail={version:v,dep:h,sub:m,prevDep:b,nextDep:_,prevSub:C,nextSub:void 0};_!==void 0&&(_.prevDep=E),b!==void 0?b.nextDep=E:m.deps=E,C!==void 0?C.nextSub=E:h.subs=E}function s(h,m=h.sub){const v=h.dep,b=h.prevDep,_=h.nextDep,C=h.nextSub,E=h.prevSub;return _!==void 0?_.prevDep=b:m.depsTail=b,b!==void 0?b.nextDep=_:m.deps=_,C!==void 0?C.prevSub=E:v.subsTail=E,E!==void 0?E.nextSub=C:(v.subs=C)===void 0&&n(v),_}function o(h){let m=h.nextSub,v;e:do{const b=h.sub;let _=b.flags;if(_&60?_&12?_&4?!(_&48)&&d(h,b)?(b.flags=_|40,_&=1):_=0:b.flags=_&-9|32:_=0:b.flags=_|32,_&2&&t(b),_&1){const C=b.subs;if(C!==void 0){const E=(h=C).nextSub;E!==void 0&&(v={value:m,prev:v},m=E);continue}}if((h=m)!==void 0){m=h.nextSub;continue}for(;v!==void 0;)if(h=v.value,v=v.prev,h!==void 0){m=h.nextSub;continue e}break}while(!0)}function l(h,m){let v,b=0,_=!1;e:do{const C=h.dep,E=C.flags;if(m.flags&16)_=!0;else if((E&17)===17){if(e(C)){const T=C.subs;T.nextSub!==void 0&&c(T),_=!0}}else if((E&33)===33){(h.nextSub!==void 0||h.prevSub!==void 0)&&(v={value:h,prev:v}),h=C.deps,m=C,++b;continue}if(!_){const T=h.nextDep;if(T!==void 0){h=T;continue}}for(;b--;){const T=m.subs,k=T.nextSub!==void 0;if(k?(h=v.value,v=v.prev):h=T,_){if(e(m)){k&&c(T),m=h.sub;continue}_=!1}else m.flags&=-33;m=h.sub;const N=h.nextDep;if(N!==void 0){h=N;continue e}}return _}while(!0)}function c(h){do{const m=h.sub,v=m.flags;(v&48)===32&&(m.flags=v|16,(v&6)===2&&t(m))}while((h=h.nextSub)!==void 0)}function d(h,m){let v=m.depsTail;for(;v!==void 0;){if(v===h)return!0;v=v.prevDep}return!1}}let e_=0,El=0,af=0;const No=[],{link:Zle,unlink:$N,propagate:Xle,checkDirty:Hz,shallowPropagate:Qle}=VN({update(e){return e.depsTail!==void 0?Wz(e):Yz(e)},notify(e){let t=af,n=t;do if(No[t++]=e,e.flags&=-3,e=e.subs?.sub,e===void 0||!(e.flags&2))break;while(!0);for(af=t;n<--t;){const i=No[n];No[n++]=No[t],No[t]=i}},unwatched(e){e.flags&1?e.depsTail!==void 0&&(e.depsTail=void 0,e.flags=17,Sg(e)):Qz.call(e)}});function qz(){return e_}function Gz(){++e_}function Kz(){--e_||Xz()}function Wz(e){e.depsTail=void 0,e.flags=5;try{const t=e.value;return t!==(e.value=e.getter(t))}finally{e.flags&=-5,Sg(e)}}function Yz(e){return e.flags=1,e.currentValue!==(e.currentValue=e.pendingValue)}function Zz(e){const t=e.flags;if(t&16||t&32&&Hz(e.deps,e)){e.depsTail=void 0,e.flags=6;try{e.fn()}finally{e.flags&=-5,Sg(e)}}else e.flags=2}function Xz(){try{for(;El<af;){const e=No[El];No[El++]=void 0,Zz(e)}}finally{for(;El<af;){const e=No[El];No[El++]=void 0,e.flags|=10}El=0,af=0}}function Qz(){this.depsTail=void 0,this.flags=0,Sg(this);const e=this.subs;e!==void 0&&$N(e)}function Sg(e){const t=e.depsTail;let n=t!==void 0?t.nextDep:e.deps;for(;n!==void 0;)n=$N(n,e)}function HN(e,t,n){const i=typeof e=="object",s=i?e:void 0;return{next:(i?e.next:e)?.bind(s),error:(i?e.error:t)?.bind(s),complete:(i?e.complete:n)?.bind(s)}}const w0=[];let yp=0;const{link:gA,unlink:Jz,propagate:eB,checkDirty:qN,shallowPropagate:vA}=VN({update(e){return e._update()},notify(e){w0[S0++]=e,e.flags&=~nn.Watching},unwatched(e){e.depsTail!==void 0&&(e.depsTail=void 0,e.flags=nn.Mutable|nn.Dirty,Dp(e))}});let Um=0,S0=0,Vr;function Dp(e){const t=e.depsTail;let n=t!==void 0?t.nextDep:e.deps;for(;n!==void 0;)n=Jz(n,e)}function GN(){if(!(qz()>0)){for(;Um<S0;){const e=w0[Um];w0[Um++]=void 0,e.notify()}Um=0,S0=0}}function tB(e,t){const n=typeof e=="function",i=e,s={_snapshot:n?void 0:e,subs:void 0,subsTail:void 0,deps:void 0,depsTail:void 0,flags:n?nn.None:nn.Mutable,get(){return Vr!==void 0&&gA(s,Vr,yp),s._snapshot},subscribe(o){const l=HN(o),c={current:!1},d=nB(()=>{s.get(),c.current?l.next?.(s._snapshot):c.current=!0});return{unsubscribe:()=>{d.stop()}}},_update(o){const l=Vr,c=Object.is;Vr=s,++yp,s.depsTail=void 0,n&&(s.flags=nn.Mutable|nn.RecursedCheck);try{const d=s._snapshot,h=typeof o=="function"?o(d):o===void 0&&n?i(d):o;return d===void 0||!c(d,h)?(s._snapshot=h,!0):!1}finally{Vr=l,n&&(s.flags&=~nn.RecursedCheck),Dp(s)}}};return n?(s.flags=nn.Mutable|nn.Dirty,s.get=function(){const o=s.flags;if(o&nn.Dirty||o&nn.Pending&&qN(s.deps,s)){if(s._update()){const l=s.subs;l!==void 0&&vA(l)}}else o&nn.Pending&&(s.flags=o&~nn.Pending);return Vr!==void 0&&gA(s,Vr,yp),s._snapshot}):s.set=function(o){if(s._update(o)){const l=s.subs;l!==void 0&&(eB(l),vA(l),GN())}},s}function nB(e){const t=()=>{const i=Vr;Vr=n,++yp,n.depsTail=void 0,n.flags=nn.Watching|nn.RecursedCheck;try{return e()}finally{Vr=i,n.flags&=~nn.RecursedCheck,Dp(n)}},n={deps:void 0,depsTail:void 0,subs:void 0,subsTail:void 0,flags:nn.Watching|nn.RecursedCheck,notify(){const i=this.flags;i&nn.Dirty||i&nn.Pending&&qN(this.deps,this)?t():this.flags=nn.Watching},stop(){this.flags=nn.None,this.depsTail=void 0,Dp(this)}};return t(),n}class iB{constructor(t){this.atom=tB(t)}setState(t){this.atom.set(t)}get state(){return this.atom.get()}get(){return this.state}subscribe(t){return this.atom.subscribe(HN(t))}}function sB(e){try{Gz(),e()}finally{Kz(),GN()}}const Oa="__TSR_index",yA="popstate",bA="beforeunload";function rB(e){let t=e.getLocation();const n=new Set,i=l=>{t=e.getLocation(),n.forEach(c=>c({location:t,action:l}))},s=l=>{e.notifyOnIndexChange??!0?i(l):t=e.getLocation()},o=async({task:l,navigateOpts:c,...d})=>{if(c?.ignoreBlocker??!1){l();return}const m=e.getBlockers?.()??[],v=d.type==="PUSH"||d.type==="REPLACE";if(typeof document<"u"&&m.length&&v)for(const b of m){const _=Lp(d.path,d.state);if(await b.blockerFn({currentLocation:t,nextLocation:_,action:d.type})){e.onBlocked?.();return}}l()};return{get location(){return t},get length(){return e.getLength()},subscribers:n,subscribe:l=>(n.add(l),()=>{n.delete(l)}),push:(l,c,d)=>{const h=t.state[Oa];c=xA(h+1,c),o({task:()=>{e.pushState(l,c),i({type:"PUSH"})},navigateOpts:d,type:"PUSH",path:l,state:c})},replace:(l,c,d)=>{const h=t.state[Oa];c=xA(h,c),o({task:()=>{e.replaceState(l,c),i({type:"REPLACE"})},navigateOpts:d,type:"REPLACE",path:l,state:c})},go:(l,c)=>{o({task:()=>{e.go(l),s({type:"GO",index:l})},navigateOpts:c,type:"GO"})},back:l=>{o({task:()=>{e.back(l?.ignoreBlocker??!1),s({type:"BACK"})},navigateOpts:l,type:"BACK"})},forward:l=>{o({task:()=>{e.forward(l?.ignoreBlocker??!1),s({type:"FORWARD"})},navigateOpts:l,type:"FORWARD"})},canGoBack:()=>t.state[Oa]!==0,createHref:l=>e.createHref(l),block:l=>{if(!e.setBlockers)return()=>{};const c=e.getBlockers?.()??[];return e.setBlockers([...c,l]),()=>{const d=e.getBlockers?.()??[];e.setBlockers?.(d.filter(h=>h!==l))}},flush:()=>e.flush?.(),destroy:()=>e.destroy?.(),notify:i}}function xA(e,t){t||(t={});const n=t_();return{...t,key:n,__TSR_key:n,[Oa]:e}}function oB(e){const t=typeof document<"u"?window:void 0,n=t.history.pushState,i=t.history.replaceState;let s=[];const o=()=>s,l=I=>s=I,c=(I=>I),d=(()=>Lp(`${t.location.pathname}${t.location.search}${t.location.hash}`,t.history.state));if(!t.history.state?.__TSR_key&&!t.history.state?.key){const I=t_();t.history.replaceState({[Oa]:0,key:I,__TSR_key:I},"")}let h=d(),m,v=!1,b=!1,_=!1,C=!1;const E=()=>h;let T,k;const N=()=>{T&&(z._ignoreSubscribers=!0,(T.isPush?t.history.pushState:t.history.replaceState)(T.state,"",T.href),z._ignoreSubscribers=!1,T=void 0,k=void 0,m=void 0)},P=(I,$,Z)=>{const K=c($);k||(m=h),h=Lp($,Z),T={href:K,state:Z,isPush:T?.isPush||I==="push"},k||(k=Promise.resolve().then(()=>N()))},O=I=>{h=d(),z.notify({type:I})},j=async()=>{if(b){b=!1;return}const I=d(),$=I.state[Oa]-h.state[Oa],Z=$===1,K=$===-1,W=!Z&&!K||v;v=!1;const X=W?"GO":K?"BACK":"FORWARD",se=W?{type:"GO",index:$}:{type:K?"BACK":"FORWARD"};if(_)_=!1;else{const ve=o();if(typeof document<"u"&&ve.length){for(const G of ve)if(await G.blockerFn({currentLocation:h,nextLocation:I,action:X})){b=!0,t.history.go(1),z.notify(se);return}}}h=d(),z.notify(se)},U=I=>{if(C){C=!1;return}let $=!1;const Z=o();if(typeof document<"u"&&Z.length)for(const K of Z){const W=K.enableBeforeUnload??!0;if(W===!0){$=!0;break}if(typeof W=="function"&&W()===!0){$=!0;break}}if($)return I.preventDefault(),I.returnValue=""},z=rB({getLocation:E,getLength:()=>t.history.length,pushState:(I,$)=>P("push",I,$),replaceState:(I,$)=>P("replace",I,$),back:I=>(I&&(_=!0),C=!0,t.history.back()),forward:I=>{I&&(_=!0),C=!0,t.history.forward()},go:I=>{v=!0,t.history.go(I)},createHref:I=>c(I),flush:N,destroy:()=>{t.history.pushState=n,t.history.replaceState=i,t.removeEventListener(bA,U,{capture:!0}),t.removeEventListener(yA,j)},onBlocked:()=>{m&&h!==m&&(h=m)},getBlockers:o,setBlockers:l,notifyOnIndexChange:!1});return t.addEventListener(bA,U,{capture:!0}),t.addEventListener(yA,j),t.history.pushState=function(...I){const $=n.apply(t.history,I);return z._ignoreSubscribers||O("PUSH"),$},t.history.replaceState=function(...I){const $=i.apply(t.history,I);return z._ignoreSubscribers||O("REPLACE"),$},z}function aB(e){let t=e.replace(/[\x00-\x1f\x7f]/g,"");return t.startsWith("//")&&(t="/"+t.replace(/^\/+/,"")),t}function Lp(e,t){const n=aB(e),i=n.indexOf("#"),s=n.indexOf("?"),o=t_();return{href:n,pathname:n.substring(0,i>0?s>0?Math.min(i,s):i:s>0?s:n.length),hash:i>-1?n.substring(i):"",search:s>-1?n.slice(s,i===-1?void 0:i):"",state:t||{[Oa]:0,key:o,__TSR_key:o}}}function t_(){return(Math.random()+1).toString(36).substring(7)}const lB=!1;function lf(e){let t;return sB(()=>{t=e()}),t}function wf(e){return e[e.length-1]}function cB(e){return typeof e=="function"}function Ra(e,t){return cB(e)?e(t):e}const uB=Object.prototype.hasOwnProperty,_A=Object.prototype.propertyIsEnumerable;function ps(e,t,n=0){if(e===t)return e;if(n>500)return t;const i=t,s=CA(e)&&CA(i);if(!s&&!(jp(e)&&jp(i)))return i;const o=s?e:wA(e);if(!o)return i;const l=s?i:wA(i);if(!l)return i;const c=o.length,d=l.length,h=s?new Array(d):{};let m=0;for(let v=0;v<d;v++){const b=s?v:l[v],_=e[b],C=i[b];if(_===C){h[b]=_,(s?v<c:uB.call(e,b))&&m++;continue}if(_===null||C===null||typeof _!="object"||typeof C!="object"){h[b]=C;continue}const E=ps(_,C,n+1);h[b]=E,E===_&&m++}return c===d&&m===c?e:h}function wA(e){const t=Object.getOwnPropertyNames(e);for(const s of t)if(!_A.call(e,s))return!1;const n=Object.getOwnPropertySymbols(e);if(n.length===0)return t;const i=t;for(const s of n){if(!_A.call(e,s))return!1;i.push(s)}return i}function jp(e){if(!SA(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!SA(n)||!n.hasOwnProperty("isPrototypeOf"))}function SA(e){return Object.prototype.toString.call(e)==="[object Object]"}function CA(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Vl(e,t,n){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let i=0,s=e.length;i<s;i++)if(!Vl(e[i],t[i],n))return!1;return!0}if(jp(e)&&jp(t)){const i=n?.ignoreUndefined??!0;if(n?.partial){for(const l in t)if((!i||t[l]!==void 0)&&!Vl(e[l],t[l],n))return!1;return!0}let s=0;if(!i)s=Object.keys(e).length;else for(const l in e)e[l]!==void 0&&s++;let o=0;for(const l in t)if((!i||t[l]!==void 0)&&(o++,o>s||!Vl(e[l],t[l],n)))return!1;return s===o}return!1}function Au(e){let t,n;const i=new Promise((s,o)=>{t=s,n=o});return i.status="pending",i.resolve=s=>{i.status="resolved",i.value=s,t(s),e?.(s)},i.reject=s=>{i.status="rejected",n(s)},i}function yu(e){return!!(e&&typeof e=="object"&&typeof e.then=="function")}function dB(e){return e.replace(/[\x00-\x1f\x7f]/g,"")}function EA(e){let t;try{t=decodeURI(e)}catch{t=e.replaceAll(/%[0-9A-F]{2}/gi,n=>{try{return decodeURI(n)}catch{return n}})}return dB(t)}const fB=["http:","https:","mailto:","tel:"];function Ip(e,t){if(!e)return!1;try{const n=new URL(e);return!t.has(n.protocol)}catch{return!1}}function Hd(e){if(!e)return{path:e,handledProtocolRelativeURL:!1};if(!/[%\\\x00-\x1f\x7f]/.test(e)&&!e.startsWith("//"))return{path:e,handledProtocolRelativeURL:!1};const t=/%25|%5C/gi;let n=0,i="",s;for(;(s=t.exec(e))!==null;)i+=EA(e.slice(n,s.index))+s[0],n=t.lastIndex;i=i+EA(n?e.slice(n):e);let o=!1;return i.startsWith("//")&&(o=!0,i="/"+i.replace(/^\/+/,"")),{path:i,handledProtocolRelativeURL:o}}function hB(e){return/\s|[^\u0000-\u007F]/.test(e)?e.replace(/\s|[^\u0000-\u007F]/gu,encodeURIComponent):e}var mB="Invariant failed";function Mo(e,t){if(!e)throw new Error(mB)}function zp(e){const t=new Map;let n,i;const s=o=>{o.next&&(o.prev?(o.prev.next=o.next,o.next.prev=o.prev,o.next=void 0,i&&(i.next=o,o.prev=i)):(o.next.prev=void 0,n=o.next,o.next=void 0,i&&(o.prev=i,i.next=o)),i=o)};return{get(o){const l=t.get(o);if(l)return s(l),l.value},set(o,l){if(t.size>=e&&n){const d=n;t.delete(d.key),d.next&&(n=d.next,d.next.prev=void 0),d===i&&(i=void 0)}const c=t.get(o);if(c)c.value=l,s(c);else{const d={key:o,value:l,prev:i};i&&(i.next=d),i=d,n||(n=d),t.set(o,d)}},clear(){t.clear(),n=void 0,i=void 0}}}const Tu=0,ql=1,Gl=2,Sf=3,Il=4,KN=5;function pB(e){const t=e.indexOf("{");if(t===-1)return null;const n=e.indexOf("}",t);return n===-1||t+1>=e.length?null:[t,n]}function n_(e,t,n=new Uint16Array(6)){const i=e.indexOf("/",t),s=i===-1?e.length:i,o=e.substring(t,s);if(!o||!o.includes("$"))return n[0]=Tu,n[1]=t,n[2]=t,n[3]=s,n[4]=s,n[5]=s,n;if(o==="$"){const c=e.length;return n[0]=Gl,n[1]=t,n[2]=t,n[3]=c,n[4]=c,n[5]=c,n}if(o.charCodeAt(0)===36)return n[0]=ql,n[1]=t,n[2]=t+1,n[3]=s,n[4]=s,n[5]=s,n;const l=pB(o);if(l){const[c,d]=l,h=o.charCodeAt(c+1);if(h===45){if(c+2<o.length&&o.charCodeAt(c+2)===36){const m=c+3,v=d;if(m<v)return n[0]=Sf,n[1]=t+c,n[2]=t+m,n[3]=t+v,n[4]=t+d+1,n[5]=s,n}}else if(h===36){const m=c+1,v=c+2;return v===d?(n[0]=Gl,n[1]=t+c,n[2]=t+m,n[3]=t+v,n[4]=t+d+1,n[5]=e.length,n):(n[0]=ql,n[1]=t+c,n[2]=t+v,n[3]=t+d,n[4]=t+d+1,n[5]=s,n)}}return n[0]=Tu,n[1]=t,n[2]=t,n[3]=s,n[4]=s,n[5]=s,n}function Cg(e,t,n,i,s,o,l){l?.(n);let c=i;{const d=n.fullPath??n.from,h=d.length,m=n.options?.caseSensitive??e,v=!!(n.options?.params?.parse&&n.options?.skipRouteOnParseError?.params);for(;c<h;){const _=n_(d,c,t);let C;const E=c,T=_[5];switch(c=T+1,o++,_[0]){case Tu:{const N=d.substring(_[2],_[3]);if(m){const P=s.static?.get(N);if(P)C=P;else{s.static??=new Map;const O=zl(n.fullPath??n.from);O.parent=s,O.depth=o,C=O,s.static.set(N,O)}}else{const P=N.toLowerCase(),O=s.staticInsensitive?.get(P);if(O)C=O;else{s.staticInsensitive??=new Map;const j=zl(n.fullPath??n.from);j.parent=s,j.depth=o,C=j,s.staticInsensitive.set(P,j)}}break}case ql:{const N=d.substring(E,_[1]),P=d.substring(_[4],T),O=m&&!!(N||P),j=N?O?N:N.toLowerCase():void 0,U=P?O?P:P.toLowerCase():void 0,z=!v&&s.dynamic?.find(I=>!I.skipOnParamError&&I.caseSensitive===O&&I.prefix===j&&I.suffix===U);if(z)C=z;else{const I=db(ql,n.fullPath??n.from,O,j,U);C=I,I.depth=o,I.parent=s,s.dynamic??=[],s.dynamic.push(I)}break}case Sf:{const N=d.substring(E,_[1]),P=d.substring(_[4],T),O=m&&!!(N||P),j=N?O?N:N.toLowerCase():void 0,U=P?O?P:P.toLowerCase():void 0,z=!v&&s.optional?.find(I=>!I.skipOnParamError&&I.caseSensitive===O&&I.prefix===j&&I.suffix===U);if(z)C=z;else{const I=db(Sf,n.fullPath??n.from,O,j,U);C=I,I.parent=s,I.depth=o,s.optional??=[],s.optional.push(I)}break}case Gl:{const N=d.substring(E,_[1]),P=d.substring(_[4],T),O=m&&!!(N||P),j=N?O?N:N.toLowerCase():void 0,U=P?O?P:P.toLowerCase():void 0,z=db(Gl,n.fullPath??n.from,O,j,U);C=z,z.parent=s,z.depth=o,s.wildcard??=[],s.wildcard.push(z)}}s=C}if(v&&n.children&&!n.isRoot&&n.id&&n.id.charCodeAt(n.id.lastIndexOf("/")+1)===95){const _=zl(n.fullPath??n.from);_.kind=KN,_.parent=s,o++,_.depth=o,s.pathless??=[],s.pathless.push(_),s=_}const b=(n.path||!n.children)&&!n.isRoot;if(b&&d.endsWith("/")){const _=zl(n.fullPath??n.from);_.kind=Il,_.parent=s,o++,_.depth=o,s.index=_,s=_}s.parse=n.options?.params?.parse??null,s.skipOnParamError=v,s.parsingPriority=n.options?.skipRouteOnParseError?.priority??0,b&&!s.route&&(s.route=n,s.fullPath=n.fullPath??n.from)}if(n.children)for(const d of n.children)Cg(e,t,d,c,s,o,l)}function ub(e,t){if(e.skipOnParamError&&!t.skipOnParamError)return-1;if(!e.skipOnParamError&&t.skipOnParamError)return 1;if(e.skipOnParamError&&t.skipOnParamError&&(e.parsingPriority||t.parsingPriority))return t.parsingPriority-e.parsingPriority;if(e.prefix&&t.prefix&&e.prefix!==t.prefix){if(e.prefix.startsWith(t.prefix))return-1;if(t.prefix.startsWith(e.prefix))return 1}if(e.suffix&&t.suffix&&e.suffix!==t.suffix){if(e.suffix.endsWith(t.suffix))return-1;if(t.suffix.endsWith(e.suffix))return 1}return e.prefix&&!t.prefix?-1:!e.prefix&&t.prefix?1:e.suffix&&!t.suffix?-1:!e.suffix&&t.suffix?1:e.caseSensitive&&!t.caseSensitive?-1:!e.caseSensitive&&t.caseSensitive?1:0}function Ca(e){if(e.pathless)for(const t of e.pathless)Ca(t);if(e.static)for(const t of e.static.values())Ca(t);if(e.staticInsensitive)for(const t of e.staticInsensitive.values())Ca(t);if(e.dynamic?.length){e.dynamic.sort(ub);for(const t of e.dynamic)Ca(t)}if(e.optional?.length){e.optional.sort(ub);for(const t of e.optional)Ca(t)}if(e.wildcard?.length){e.wildcard.sort(ub);for(const t of e.wildcard)Ca(t)}}function zl(e){return{kind:Tu,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:e,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0}}function db(e,t,n,i,s){return{kind:e,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:t,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0,caseSensitive:n,prefix:i,suffix:s}}function gB(e,t){const n=zl("/"),i=new Uint16Array(6);for(const s of e)Cg(!1,i,s,1,n,0);Ca(n),t.masksTree=n,t.flatCache=zp(1e3)}function vB(e,t){e||="/";const n=t.flatCache.get(e);if(n)return n;const i=i_(e,t.masksTree);return t.flatCache.set(e,i),i}function yB(e,t,n,i,s){e||="/",i||="/";const o=t?`case\0${e}`:e;let l=s.singleCache.get(o);if(!l){l=zl("/");const c=new Uint16Array(6);Cg(t,c,{from:e},1,l,0),s.singleCache.set(o,l)}return i_(i,l,n)}function bB(e,t,n=!1){const i=n?e:`nofuzz\0${e}`,s=t.matchCache.get(i);if(s!==void 0)return s;e||="/";let o;try{o=i_(e,t.segmentTree,n)}catch(l){if(l instanceof URIError)o=null;else throw l}return o&&(o.branch=wB(o.route)),t.matchCache.set(i,o),o}function xB(e){return e==="/"?e:e.replace(/\/{1,}$/,"")}function _B(e,t=!1,n){const i=zl(e.fullPath),s=new Uint16Array(6),o={},l={};let c=0;return Cg(t,s,e,1,i,0,h=>{if(n?.(h,c),Mo(!(h.id in o),`Duplicate routes found with id: ${String(h.id)}`),o[h.id]=h,c!==0&&h.path){const m=xB(h.fullPath);(!l[m]||h.fullPath.endsWith("/"))&&(l[m]=h)}c++}),Ca(i),{processedTree:{segmentTree:i,singleCache:zp(1e3),matchCache:zp(1e3),flatCache:null,masksTree:null},routesById:o,routesByPath:l}}function i_(e,t,n=!1){const i=e.split("/"),s=CB(e,i,t,n);if(!s)return null;const[o]=WN(e,i,s);return{route:s.node.route,rawParams:o,parsedParams:s.parsedParams}}function WN(e,t,n){const i=SB(n.node);let s=null;const o={};let l=n.extract?.part??0,c=n.extract?.node??0,d=n.extract?.path??0,h=n.extract?.segment??0;for(;c<i.length;l++,c++,d++,h++){const m=i[c];if(m.kind===Il)break;if(m.kind===KN){h--,l--,d--;continue}const v=t[l],b=d;if(v&&(d+=v.length),m.kind===ql){s??=n.node.fullPath.split("/");const _=s[h],C=m.prefix?.length??0;if(_.charCodeAt(C)===123){const T=m.suffix?.length??0,k=_.substring(C+2,_.length-T-1),N=v.substring(C,v.length-T);o[k]=decodeURIComponent(N)}else{const T=_.substring(1);o[T]=decodeURIComponent(v)}}else if(m.kind===Sf){if(n.skipped&1<<c){l--,d=b-1;continue}s??=n.node.fullPath.split("/");const _=s[h],C=m.prefix?.length??0,E=m.suffix?.length??0,T=_.substring(C+3,_.length-E-1),k=m.suffix||m.prefix?v.substring(C,v.length-E):v;k&&(o[T]=decodeURIComponent(k))}else if(m.kind===Gl){const _=m,C=e.substring(b+(_.prefix?.length??0),e.length-(_.suffix?.length??0)),E=decodeURIComponent(C);o["*"]=E,o._splat=E;break}}return n.rawParams&&Object.assign(o,n.rawParams),[o,{part:l,node:c,path:d,segment:h}]}function wB(e){const t=[e];for(;e.parentRoute;)e=e.parentRoute,t.push(e);return t.reverse(),t}function SB(e){const t=Array(e.depth+1);do t[e.depth]=e,e=e.parent;while(e);return t}function CB(e,t,n,i){if(e==="/"&&n.index)return{node:n.index,skipped:0};const s=!wf(t),o=s&&e!=="/",l=t.length-(s?1:0),c=[{node:n,index:1,skipped:0,depth:1,statics:1,dynamics:0,optionals:0}];let d=null,h=null,m=null;for(;c.length;){const v=c.pop(),{node:b,index:_,skipped:C,depth:E,statics:T,dynamics:k,optionals:N}=v;let{extract:P,rawParams:O,parsedParams:j}=v;if(b.skipOnParamError){if(!fb(e,t,v))continue;O=v.rawParams,P=v.extract,j=v.parsedParams}i&&b.route&&b.kind!==Il&&qd(h,v)&&(h=v);const U=_===l;if(U&&(b.route&&!o&&qd(m,v)&&(m=v),!b.optional&&!b.wildcard&&!b.index&&!b.pathless))continue;const z=U?void 0:t[_];let I;if(U&&b.index){const $={node:b.index,index:_,skipped:C,depth:E+1,statics:T,dynamics:k,optionals:N,extract:P,rawParams:O,parsedParams:j};let Z=!0;if(b.index.skipOnParamError&&(fb(e,t,$)||(Z=!1)),Z){if(T===l&&!k&&!N&&!C)return $;qd(m,$)&&(m=$)}}if(b.wildcard&&qd(d,v))for(const $ of b.wildcard){const{prefix:Z,suffix:K}=$;if(Z&&(U||!($.caseSensitive?z:I??=z.toLowerCase()).startsWith(Z)))continue;if(K){if(U)continue;const X=t.slice(_).join("/").slice(-K.length);if(($.caseSensitive?X:X.toLowerCase())!==K)continue}const W={node:$,index:l,skipped:C,depth:E,statics:T,dynamics:k,optionals:N,extract:P,rawParams:O,parsedParams:j};if(!($.skipOnParamError&&!fb(e,t,W))){d=W;break}}if(b.optional){const $=C|1<<E,Z=E+1;for(let K=b.optional.length-1;K>=0;K--){const W=b.optional[K];c.push({node:W,index:_,skipped:$,depth:Z,statics:T,dynamics:k,optionals:N,extract:P,rawParams:O,parsedParams:j})}if(!U)for(let K=b.optional.length-1;K>=0;K--){const W=b.optional[K],{prefix:X,suffix:se}=W;if(X||se){const ve=W.caseSensitive?z:I??=z.toLowerCase();if(X&&!ve.startsWith(X)||se&&!ve.endsWith(se))continue}c.push({node:W,index:_+1,skipped:C,depth:Z,statics:T,dynamics:k,optionals:N+1,extract:P,rawParams:O,parsedParams:j})}}if(!U&&b.dynamic&&z)for(let $=b.dynamic.length-1;$>=0;$--){const Z=b.dynamic[$],{prefix:K,suffix:W}=Z;if(K||W){const X=Z.caseSensitive?z:I??=z.toLowerCase();if(K&&!X.startsWith(K)||W&&!X.endsWith(W))continue}c.push({node:Z,index:_+1,skipped:C,depth:E+1,statics:T,dynamics:k+1,optionals:N,extract:P,rawParams:O,parsedParams:j})}if(!U&&b.staticInsensitive){const $=b.staticInsensitive.get(I??=z.toLowerCase());$&&c.push({node:$,index:_+1,skipped:C,depth:E+1,statics:T+1,dynamics:k,optionals:N,extract:P,rawParams:O,parsedParams:j})}if(!U&&b.static){const $=b.static.get(z);$&&c.push({node:$,index:_+1,skipped:C,depth:E+1,statics:T+1,dynamics:k,optionals:N,extract:P,rawParams:O,parsedParams:j})}if(b.pathless){const $=E+1;for(let Z=b.pathless.length-1;Z>=0;Z--){const K=b.pathless[Z];c.push({node:K,index:_,skipped:C,depth:$,statics:T,dynamics:k,optionals:N,extract:P,rawParams:O,parsedParams:j})}}}if(m&&d)return qd(d,m)?m:d;if(m)return m;if(d)return d;if(i&&h){let v=h.index;for(let _=0;_<h.index;_++)v+=t[_].length;const b=v===e.length?"/":e.slice(v);return h.rawParams??={},h.rawParams["**"]=decodeURIComponent(b),h}return null}function fb(e,t,n){try{const[i,s]=WN(e,t,n);n.rawParams=i,n.extract=s;const o=n.node.parse(i);return n.parsedParams=Object.assign({},n.parsedParams,o),!0}catch{return null}}function qd(e,t){return e?t.statics>e.statics||t.statics===e.statics&&(t.dynamics>e.dynamics||t.dynamics===e.dynamics&&(t.optionals>e.optionals||t.optionals===e.optionals&&((t.node.kind===Il)>(e.node.kind===Il)||t.node.kind===Il==(e.node.kind===Il)&&t.depth>e.depth))):!0}function bp(e){return s_(e.filter(t=>t!==void 0).join("/"))}function s_(e){return e.replace(/\/{2,}/g,"/")}function YN(e){return e==="/"?e:e.replace(/^\/{1,}/,"")}function Ma(e){const t=e.length;return t>1&&e[t-1]==="/"?e.replace(/\/{1,}$/,""):e}function ZN(e){return Ma(YN(e))}function Bp(e,t){return e?.endsWith("/")&&e!=="/"&&e!==`${t}/`?e.slice(0,-1):e}function EB(e,t,n){return Bp(e,n)===Bp(t,n)}function AB({base:e,to:t,trailingSlash:n="never",cache:i}){const s=t.startsWith("/"),o=!s&&t===".";let l;if(i){l=s?t:o?e:e+"\0"+t;const v=i.get(l);if(v)return v}let c;if(o)c=e.split("/");else if(s)c=t.split("/");else{for(c=e.split("/");c.length>1&&wf(c)==="";)c.pop();const v=t.split("/");for(let b=0,_=v.length;b<_;b++){const C=v[b];C===""?b?b===_-1&&c.push(C):c=[C]:C===".."?c.pop():C==="."||c.push(C)}}c.length>1&&(wf(c)===""?n==="never"&&c.pop():n==="always"&&c.push(""));let d,h="";for(let v=0;v<c.length;v++){v>0&&(h+="/");const b=c[v];if(!b)continue;d=n_(b,0,d);const _=d[0];if(_===Tu){h+=b;continue}const C=d[5],E=b.substring(0,d[1]),T=b.substring(d[4],C),k=b.substring(d[2],d[3]);_===ql?h+=E||T?`${E}{$${k}}${T}`:`$${k}`:_===Gl?h+=E||T?`${E}{$}${T}`:"$":h+=`${E}{-$${k}}${T}`}h=s_(h);const m=h||"/";return l&&i&&i.set(l,m),m}function TB(e){const t=new Map(e.map(s=>[encodeURIComponent(s),s])),n=Array.from(t.keys()).map(s=>s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),i=new RegExp(n,"g");return s=>s.replace(i,o=>t.get(o)??o)}function hb(e,t,n){const i=t[e];return typeof i!="string"?i:e==="_splat"?/^[a-zA-Z0-9\-._~!/]*$/.test(i)?i:i.split("/").map(s=>TA(s,n)).join("/"):TA(i,n)}function AA({path:e,params:t,decoder:n,...i}){let s=!1;const o={};if(!e||e==="/")return{interpolatedPath:"/",usedParams:o,isMissingParams:s};if(!e.includes("$"))return{interpolatedPath:e,usedParams:o,isMissingParams:s};const l=e.length;let c=0,d,h="";for(;c<l;){const v=c;d=n_(e,v,d);const b=d[5];if(c=b+1,v===b)continue;const _=d[0];if(_===Tu){h+="/"+e.substring(v,b);continue}if(_===Gl){const C=t._splat;o._splat=C,o["*"]=C;const E=e.substring(v,d[1]),T=e.substring(d[4],b);if(!C){s=!0,(E||T)&&(h+="/"+E+T);continue}const k=hb("_splat",t,n);h+="/"+E+k+T;continue}if(_===ql){const C=e.substring(d[2],d[3]);!s&&!(C in t)&&(s=!0),o[C]=t[C];const E=e.substring(v,d[1]),T=e.substring(d[4],b),k=hb(C,t,n)??"undefined";h+="/"+E+k+T;continue}if(_===Sf){const C=e.substring(d[2],d[3]),E=t[C];if(E==null)continue;o[C]=E;const T=e.substring(v,d[1]),k=e.substring(d[4],b),N=hb(C,t,n)??"";h+="/"+T+N+k;continue}}return e.endsWith("/")&&(h+="/"),{usedParams:o,interpolatedPath:h||"/",isMissingParams:s}}function TA(e,t){const n=encodeURIComponent(e);return t?.(n)??n}function bs(e){return!!e?.isNotFound}function RB(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const C0="tsr-scroll-restoration-v1_3",NB=(e,t)=>{let n;return(...i)=>{n||(n=setTimeout(()=>{e(...i),n=null},t))}};function kB(){const e=RB();if(!e)return null;const t=e.getItem(C0);let n=t?JSON.parse(t):{};return{state:n,set:i=>{n=Ra(i,n)||n;try{e.setItem(C0,JSON.stringify(n))}catch{console.warn("[ts-router] Could not persist scroll restoration state to sessionStorage.")}}}}const Fm=kB(),PB=e=>e.state.__TSR_key||e.href;function OB(e){const t=[];let n;for(;n=e.parentNode;)t.push(`${e.tagName}:nth-child(${Array.prototype.indexOf.call(n.children,e)+1})`),e=n;return`${t.reverse().join(" > ")}`.toLowerCase()}let Up=!1;function MB({storageKey:e,key:t,behavior:n,shouldScrollRestoration:i,scrollToTopSelectors:s,location:o}){let l;try{l=JSON.parse(sessionStorage.getItem(e)||"{}")}catch(h){console.error(h);return}const c=t||window.history.state?.__TSR_key,d=l[c];Up=!0;e:{if(i&&d&&Object.keys(d).length>0){for(const v in d){const b=d[v];if(v==="window")window.scrollTo({top:b.scrollY,left:b.scrollX,behavior:n});else if(v){const _=document.querySelector(v);_&&(_.scrollLeft=b.scrollX,_.scrollTop=b.scrollY)}}break e}const h=(o??window.location).hash.split("#",2)[1];if(h){const v=window.history.state?.__hashScrollIntoViewOptions??!0;if(v){const b=document.getElementById(h);b&&b.scrollIntoView(v)}break e}const m={top:0,left:0,behavior:n};if(window.scrollTo(m),s)for(const v of s){if(v==="window")continue;const b=typeof v=="function"?v():document.querySelector(v);b&&b.scrollTo(m)}}Up=!1}function DB(e,t){if(!Fm||((e.options.scrollRestoration??!1)&&(e.isScrollRestoring=!0),e.isScrollRestorationSetup||!Fm))return;e.isScrollRestorationSetup=!0,Up=!1;const i=e.options.getScrollRestorationKey||PB;window.history.scrollRestoration="manual";const s=o=>{if(Up||!e.isScrollRestoring)return;let l="";if(o.target===document||o.target===window)l="window";else{const d=o.target.getAttribute("data-scroll-restoration-id");d?l=`[data-scroll-restoration-id="${d}"]`:l=OB(o.target)}const c=i(e.state.location);Fm.set(d=>{const h=d[c]||={},m=h[l]||={};if(l==="window")m.scrollX=window.scrollX||0,m.scrollY=window.scrollY||0;else if(l){const v=document.querySelector(l);v&&(m.scrollX=v.scrollLeft||0,m.scrollY=v.scrollTop||0)}return d})};typeof document<"u"&&document.addEventListener("scroll",NB(s,100),!0),e.subscribe("onRendered",o=>{const l=i(o.toLocation);if(!e.resetNextScroll){e.resetNextScroll=!0;return}typeof e.options.scrollRestoration=="function"&&!e.options.scrollRestoration({location:e.latestLocation})||(MB({storageKey:C0,key:l,behavior:e.options.scrollRestorationBehavior,shouldScrollRestoration:e.isScrollRestoring,scrollToTopSelectors:e.options.scrollToTopSelectors,location:e.history.location}),e.isScrollRestoring&&Fm.set(c=>(c[l]||={},c)))})}function LB(e){if(typeof document<"u"&&document.querySelector){const t=e.state.location.state.__hashScrollIntoViewOptions??!0;if(t&&e.state.location.hash!==""){const n=document.getElementById(e.state.location.hash);n&&n.scrollIntoView(t)}}}function jB(e,t=String){const n=new URLSearchParams;for(const i in e){const s=e[i];s!==void 0&&n.set(i,t(s))}return n.toString()}function mb(e){return e?e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e:""}function IB(e){const t=new URLSearchParams(e),n={};for(const[i,s]of t.entries()){const o=n[i];o==null?n[i]=mb(s):Array.isArray(o)?o.push(mb(s)):n[i]=[o,mb(s)]}return n}const zB=UB(JSON.parse),BB=FB(JSON.stringify,JSON.parse);function UB(e){return t=>{t[0]==="?"&&(t=t.substring(1));const n=IB(t);for(const i in n){const s=n[i];if(typeof s=="string")try{n[i]=e(s)}catch{}}return n}}function FB(e,t){const n=typeof t=="function";function i(s){if(typeof s=="object"&&s!==null)try{return e(s)}catch{}else if(n&&typeof s=="string")try{return t(s),e(s)}catch{}return s}return s=>{const o=jB(s,i);return o?`?${o}`:""}}const zs="__root__";function Eg(e){if(e.statusCode=e.statusCode||e.code||307,!e._builtLocation&&!e.reloadDocument&&typeof e.href=="string")try{new URL(e.href),e.reloadDocument=!0}catch{}const t=new Headers(e.headers);e.href&&t.get("Location")===null&&t.set("Location",e.href);const n=new Response(null,{status:e.statusCode,headers:t});if(n.options=e,e.throw)throw n;return n}function Vs(e){return e instanceof Response&&!!e.options}const xp=e=>{if(!e.rendered)return e.rendered=!0,e.onReady?.()},Ag=(e,t)=>!!(e.preload&&!e.router.state.matches.some(n=>n.id===t)),bu=(e,t,n=!0)=>{const i={...e.router.options.context??{}},s=n?t:t-1;for(let o=0;o<=s;o++){const l=e.matches[o];if(!l)continue;const c=e.router.getMatch(l.id);c&&Object.assign(i,c.__routeContext,c.__beforeLoadContext)}return i},XN=(e,t,n)=>{const i=e.router.routesById[t.routeId??""]??e.router.routeTree;!i.options.notFoundComponent&&e.router.options?.defaultNotFoundComponent&&(i.options.notFoundComponent=e.router.options.defaultNotFoundComponent);const s=n==="BEFORE_LOAD"&&i.parentRoute;s||Mo(i.options.notFoundComponent);const o=e.matches.find(l=>l.routeId===i.id);Mo(o,"Could not find match for route: "+i.id),e.updateMatch(o.id,l=>({...l,status:"notFound",error:t,isFetching:!1})),s&&(t.routeId=i.parentRoute.id,XN(e,t,n))},Na=(e,t,n,i)=>{if(!(!Vs(n)&&!bs(n))){if(Vs(n)&&n.redirectHandled&&!n.options.reloadDocument)throw n;if(t){t._nonReactive.beforeLoadPromise?.resolve(),t._nonReactive.loaderPromise?.resolve(),t._nonReactive.beforeLoadPromise=void 0,t._nonReactive.loaderPromise=void 0;const s=Vs(n)?"redirected":"notFound";t._nonReactive.error=n,e.updateMatch(t.id,o=>({...o,status:s,context:bu(e,t.index),isFetching:!1,error:n})),bs(n)&&!n.routeId&&(n.routeId=t.routeId),t._nonReactive.loadPromise?.resolve()}throw Vs(n)?(e.rendered=!0,n.options._fromLocation=e.location,n.redirectHandled=!0,n=e.router.resolveRedirect(n),n):(XN(e,n,i),n)}},QN=(e,t)=>!!e.router.getMatch(t)._nonReactive.dehydrated,Gd=(e,t,n,i)=>{const{id:s,routeId:o}=e.matches[t],l=e.router.looseRoutesById[o];if(n instanceof Promise)throw n;n.routerCode=i,e.firstBadMatchIndex??=t,Na(e,e.router.getMatch(s),n,i);try{l.options.onError?.(n)}catch(c){n=c,Na(e,e.router.getMatch(s),n,i)}e.updateMatch(s,c=>(c._nonReactive.beforeLoadPromise?.resolve(),c._nonReactive.beforeLoadPromise=void 0,c._nonReactive.loadPromise?.resolve(),{...c,error:n,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}))},JN=(e,t,n,i)=>{if(i._nonReactive.pendingTimeout!==void 0)return;const s=n.options.pendingMs??e.router.options.defaultPendingMs;if(!!(e.onReady&&!Ag(e,t)&&(n.options.loader||n.options.beforeLoad||nk(n))&&typeof s=="number"&&s!==1/0&&(n.options.pendingComponent??e.router.options?.defaultPendingComponent))){const l=setTimeout(()=>{xp(e)},s);i._nonReactive.pendingTimeout=l}},VB=(e,t,n)=>{const i=e.router.getMatch(t);if(!i._nonReactive.beforeLoadPromise&&!i._nonReactive.loaderPromise)return;JN(e,t,n,i);const s=()=>{const o=e.router.getMatch(t);o.preload&&(o.status==="redirected"||o.status==="notFound")&&Na(e,o,o.error)};return i._nonReactive.beforeLoadPromise?i._nonReactive.beforeLoadPromise.then(s):s()},$B=(e,t,n,i)=>{const s=e.router.getMatch(t),o=s._nonReactive.loadPromise;s._nonReactive.loadPromise=Au(()=>{o?.resolve()});const{paramsError:l,searchError:c}=s;l&&Gd(e,n,l,"PARSE_PARAMS"),c&&Gd(e,n,c,"VALIDATE_SEARCH"),JN(e,t,i,s);const d=new AbortController;let h=!1;const m=()=>{h||(h=!0,e.updateMatch(t,O=>({...O,isFetching:"beforeLoad",fetchCount:O.fetchCount+1,abortController:d})))},v=()=>{s._nonReactive.beforeLoadPromise?.resolve(),s._nonReactive.beforeLoadPromise=void 0,e.updateMatch(t,O=>({...O,isFetching:!1}))};if(!i.options.beforeLoad){lf(()=>{m(),v()});return}s._nonReactive.beforeLoadPromise=Au();const b={...bu(e,n,!1),...s.__routeContext},{search:_,params:C,cause:E}=s,T=Ag(e,t),k={search:_,abortController:d,params:C,preload:T,context:b,location:e.location,navigate:O=>e.router.navigate({...O,_fromLocation:e.location}),buildLocation:e.router.buildLocation,cause:T?"preload":E,matches:e.matches,routeId:i.id,...e.router.options.additionalContext},N=O=>{if(O===void 0){lf(()=>{m(),v()});return}(Vs(O)||bs(O))&&(m(),Gd(e,n,O,"BEFORE_LOAD")),lf(()=>{m(),e.updateMatch(t,j=>({...j,__beforeLoadContext:O})),v()})};let P;try{if(P=i.options.beforeLoad(k),yu(P))return m(),P.catch(O=>{Gd(e,n,O,"BEFORE_LOAD")}).then(N)}catch(O){m(),Gd(e,n,O,"BEFORE_LOAD")}N(P)},HB=(e,t)=>{const{id:n,routeId:i}=e.matches[t],s=e.router.looseRoutesById[i],o=()=>c(),l=()=>$B(e,n,t,s),c=()=>{if(QN(e,n))return;const d=VB(e,n,s);return yu(d)?d.then(l):l()};return o()},qB=(e,t,n)=>{const i=e.router.getMatch(t);if(!i||!n.options.head&&!n.options.scripts&&!n.options.headers)return;const s={ssr:e.router.options.ssr,matches:e.matches,match:i,params:i.params,loaderData:i.loaderData};return Promise.all([n.options.head?.(s),n.options.scripts?.(s),n.options.headers?.(s)]).then(([o,l,c])=>{const d=o?.meta,h=o?.links,m=o?.scripts,v=o?.styles;return{meta:d,links:h,headScripts:m,headers:c,scripts:l,styles:v}})},ek=(e,t,n,i)=>{const s=e.matchPromises[n-1],{params:o,loaderDeps:l,abortController:c,cause:d}=e.router.getMatch(t),h=bu(e,n),m=Ag(e,t);return{params:o,deps:l,preload:!!m,parentMatchPromise:s,abortController:c,context:h,location:e.location,navigate:v=>e.router.navigate({...v,_fromLocation:e.location}),cause:m?"preload":d,route:i,...e.router.options.additionalContext}},RA=async(e,t,n,i)=>{try{const s=e.router.getMatch(t);try{(!(lB??e.router.isServer)||s.ssr===!0)&&tk(i);const o=i.options.loader?.(ek(e,t,n,i)),l=i.options.loader&&yu(o);if((l||i._lazyPromise||i._componentsPromise||i.options.head||i.options.scripts||i.options.headers||s._nonReactive.minPendingPromise)&&e.updateMatch(t,h=>({...h,isFetching:"loader"})),i.options.loader){const h=l?await o:o;Na(e,e.router.getMatch(t),h),h!==void 0&&e.updateMatch(t,m=>({...m,loaderData:h}))}i._lazyPromise&&await i._lazyPromise;const d=s._nonReactive.minPendingPromise;d&&await d,i._componentsPromise&&await i._componentsPromise,e.updateMatch(t,h=>({...h,error:void 0,context:bu(e,n),status:"success",isFetching:!1,updatedAt:Date.now()}))}catch(o){let l=o;if(l?.name==="AbortError"){if(s.abortController.signal.aborted){s._nonReactive.loaderPromise?.resolve(),s._nonReactive.loaderPromise=void 0;return}e.updateMatch(t,d=>({...d,status:d.status==="pending"?"success":d.status,isFetching:!1,context:bu(e,n)}));return}const c=s._nonReactive.minPendingPromise;c&&await c,bs(o)&&await i.options.notFoundComponent?.preload?.(),Na(e,e.router.getMatch(t),o);try{i.options.onError?.(o)}catch(d){l=d,Na(e,e.router.getMatch(t),d)}e.updateMatch(t,d=>({...d,error:l,context:bu(e,n),status:"error",isFetching:!1}))}}catch(s){const o=e.router.getMatch(t);o&&(o._nonReactive.loaderPromise=void 0),Na(e,o,s)}},GB=async(e,t)=>{async function n(m,v,b,_){const C=Date.now()-v.updatedAt,E=m?_.options.preloadStaleTime??e.router.options.defaultPreloadStaleTime??3e4:_.options.staleTime??e.router.options.defaultStaleTime??0,T=_.options.shouldReload,k=typeof T=="function"?T(ek(e,i,t,_)):T,{status:N,invalid:P}=b;o=N==="success"&&(P||(k??C>E)),m&&_.options.preload===!1||(o&&!e.sync?(l=!0,(async()=>{try{await RA(e,i,t,_);const O=e.router.getMatch(i);O._nonReactive.loaderPromise?.resolve(),O._nonReactive.loadPromise?.resolve(),O._nonReactive.loaderPromise=void 0}catch(O){Vs(O)&&await e.router.navigate(O.options)}})()):(N!=="success"||o&&e.sync)&&await RA(e,i,t,_))}const{id:i,routeId:s}=e.matches[t];let o=!1,l=!1;const c=e.router.looseRoutesById[s];if(!QN(e,i)){const m=e.router.getMatch(i),v=Ag(e,i);if(m._nonReactive.loaderPromise){if(m.status==="success"&&!e.sync&&!m.preload)return m;await m._nonReactive.loaderPromise;const b=e.router.getMatch(i),_=b._nonReactive.error||b.error;_&&Na(e,b,_),b.status==="pending"&&await n(v,m,b,c)}else{const b=v&&!e.router.state.matches.some(C=>C.id===i),_=e.router.getMatch(i);_._nonReactive.loaderPromise=Au(),b!==_.preload&&e.updateMatch(i,C=>({...C,preload:b})),await n(v,m,_,c)}}const d=e.router.getMatch(i);l||(d._nonReactive.loaderPromise?.resolve(),d._nonReactive.loadPromise?.resolve()),clearTimeout(d._nonReactive.pendingTimeout),d._nonReactive.pendingTimeout=void 0,l||(d._nonReactive.loaderPromise=void 0),d._nonReactive.dehydrated=void 0;const h=l?d.isFetching:!1;return h!==d.isFetching||d.invalid!==!1?(e.updateMatch(i,m=>({...m,isFetching:h,invalid:!1})),e.router.getMatch(i)):d};async function NA(e){const t=Object.assign(e,{matchPromises:[]});t.router.state.matches.some(n=>n._forcePending)&&xp(t);try{for(let c=0;c<t.matches.length;c++){const d=HB(t,c);yu(d)&&await d}const n=t.firstBadMatchIndex??t.matches.length;for(let c=0;c<n;c++)t.matchPromises.push(GB(t,c));const s=(await Promise.allSettled(t.matchPromises)).filter(c=>c.status==="rejected").map(c=>c.reason);let o;for(const c of s){if(Vs(c))throw c;!o&&bs(c)&&(o=c)}for(const c of t.matches){const{id:d,routeId:h}=c,m=t.router.looseRoutesById[h];try{const v=qB(t,d,m);if(v){const b=await v;t.updateMatch(d,_=>({..._,...b}))}}catch(v){console.error(`Error executing head for route ${h}:`,v)}}if(o)throw o;const l=xp(t);yu(l)&&await l}catch(n){if(bs(n)&&!t.preload){const i=xp(t);throw yu(i)&&await i,n}if(Vs(n))throw n}return t.matches}async function tk(e){if(!e._lazyLoaded&&e._lazyPromise===void 0&&(e.lazyFn?e._lazyPromise=e.lazyFn().then(t=>{const{id:n,...i}=t.options;Object.assign(e.options,i),e._lazyLoaded=!0,e._lazyPromise=void 0}):e._lazyLoaded=!0),!e._componentsLoaded&&e._componentsPromise===void 0){const t=()=>{const n=[];for(const i of ik){const s=e.options[i]?.preload;s&&n.push(s())}if(n.length)return Promise.all(n).then(()=>{e._componentsLoaded=!0,e._componentsPromise=void 0});e._componentsLoaded=!0,e._componentsPromise=void 0};e._componentsPromise=e._lazyPromise?e._lazyPromise.then(t):t()}return e._componentsPromise}function nk(e){for(const t of ik)if(e.options[t]?.preload)return!0;return!1}const ik=["component","errorComponent","pendingComponent","notFoundComponent"];function KB(e){return{input:({url:t})=>{for(const n of e)t=E0(n,t);return t},output:({url:t})=>{for(let n=e.length-1;n>=0;n--)t=sk(e[n],t);return t}}}function WB(e){const t=ZN(e.basepath),n=`/${t}`,i=`${n}/`,s=e.caseSensitive?n:n.toLowerCase(),o=e.caseSensitive?i:i.toLowerCase();return{input:({url:l})=>{const c=e.caseSensitive?l.pathname:l.pathname.toLowerCase();return c===s?l.pathname="/":c.startsWith(o)&&(l.pathname=l.pathname.slice(n.length)),l},output:({url:l})=>(l.pathname=bp(["/",t,l.pathname]),l)}}function E0(e,t){const n=e?.input?.({url:t});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return t}function sk(e,t){const n=e?.output?.({url:t});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return t}function $l(e){const t=e.resolvedLocation,n=e.location,i=t?.pathname!==n.pathname,s=t?.href!==n.href,o=t?.hash!==n.hash;return{fromLocation:t,toLocation:n,pathChanged:i,hrefChanged:s,hashChanged:o}}function YB(e){const t=e.filter(n=>n.status!=="redirected");return t.length===e.length?e:t}class ZB{constructor(t){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=n=>n(),this.update=n=>{n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const i=this.options,s=this.basepath??i?.basepath??"/",o=this.basepath===void 0,l=i?.rewrite;if(this.options={...i,...n},this.isServer=this.options.isServer??typeof document>"u",this.protocolAllowlist=new Set(this.options.protocolAllowlist),this.options.pathParamsAllowedCharacters&&(this.pathParamsDecoder=TB(this.options.pathParamsAllowedCharacters)),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.history=oB()),this.origin=this.options.origin,this.origin||(window?.origin&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree){this.routeTree=this.options.routeTree;let b;this.resolvePathCache=zp(1e3),b=this.buildRouteTree(),this.setRoutes(b)}!this.__store&&this.latestLocation&&(this.__store=new iB(QB(this.latestLocation)),DB(this));let c=!1;const d=this.options.basepath??"/",h=this.options.rewrite;if(o||s!==d||l!==h){this.basepath=d;const b=[],_=ZN(d);_&&_!=="/"&&b.push(WB({basepath:d})),h&&b.push(h),this.rewrite=b.length===0?void 0:b.length===1?b[0]:KB(b),this.history&&this.updateLatestLocation(),c=!0}c&&this.__store&&this.__store.setState(b=>({...b,location:this.latestLocation})),typeof window<"u"&&"CSS"in window&&typeof window.CSS?.supports=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const n=_B(this.routeTree,this.options.caseSensitive,(i,s)=>{i.init({originalIndex:s})});return this.options.routeMasks&&gB(this.options.routeMasks,n.processedTree),n},this.subscribe=(n,i)=>{const s={eventType:n,fn:i};return this.subscribers.add(s),()=>{this.subscribers.delete(s)}},this.emit=n=>{this.subscribers.forEach(i=>{i.eventType===n.type&&i.fn(n)})},this.parseLocation=(n,i)=>{const s=({pathname:d,search:h,hash:m,href:v,state:b})=>{if(!this.rewrite&&!/[ \x00-\x1f\x7f\u0080-\uffff]/.test(d)){const N=this.options.parseSearch(h),P=this.options.stringifySearch(N);return{href:d+P+m,publicHref:v,pathname:Hd(d).path,external:!1,searchStr:P,search:ps(i?.search,N),hash:Hd(m.slice(1)).path,state:ps(i?.state,b)}}const _=new URL(v,this.origin),C=E0(this.rewrite,_),E=this.options.parseSearch(C.search),T=this.options.stringifySearch(E);return C.search=T,{href:C.href.replace(C.origin,""),publicHref:v,pathname:Hd(C.pathname).path,external:!!this.rewrite&&C.origin!==this.origin,searchStr:T,search:ps(i?.search,E),hash:Hd(C.hash.slice(1)).path,state:ps(i?.state,b)}},o=s(n),{__tempLocation:l,__tempKey:c}=o.state;if(l&&(!c||c===this.tempLocationKey)){const d=s(l);return d.state.key=o.state.key,d.state.__TSR_key=o.state.__TSR_key,delete d.state.__tempLocation,{...d,maskedLocation:o}}return o},this.resolvePathWithBase=(n,i)=>AB({base:n,to:s_(i),trailingSlash:this.options.trailingSlash,cache:this.resolvePathCache}),this.matchRoutes=(n,i,s)=>typeof n=="string"?this.matchRoutesInternal({pathname:n,search:i},s):this.matchRoutesInternal(n,i),this.getMatchedRoutes=n=>JB({pathname:n,routesById:this.routesById,processedTree:this.processedTree}),this.cancelMatch=n=>{const i=this.getMatch(n);i&&(i.abortController.abort(),clearTimeout(i._nonReactive.pendingTimeout),i._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{const n=this.state.matches.filter(o=>o.status==="pending"),i=this.state.matches.filter(o=>o.isFetching==="loader");new Set([...this.state.pendingMatches??[],...n,...i]).forEach(o=>{this.cancelMatch(o.id)})},this.buildLocation=n=>{const i=(o={})=>{const l=o._fromLocation||this.pendingBuiltLocation||this.latestLocation,c=this.matchRoutesLightweight(l);o.from;const d=o.unsafeRelative==="path"?l.pathname:o.from??c.fullPath,h=this.resolvePathWithBase(d,"."),m=c.search,v={...c.params},b=o.to?this.resolvePathWithBase(h,`${o.to}`):this.resolvePathWithBase(h,"."),_=o.params===!1||o.params===null?{}:(o.params??!0)===!0?v:Object.assign(v,Ra(o.params,v)),C=this.getMatchedRoutes(b);let E=C.matchedRoutes;if((!C.foundRoute||C.foundRoute.path!=="/"&&C.routeParams["**"])&&this.options.notFoundRoute&&(E=[...E,this.options.notFoundRoute]),Object.keys(_).length>0)for(const K of E){const W=K.options.params?.stringify??K.options.stringifyParams;if(W)try{Object.assign(_,W(_))}catch{}}const k=n.leaveParams?b:Hd(AA({path:b,params:_,decoder:this.pathParamsDecoder,server:this.isServer}).interpolatedPath).path;let N=m;if(n._includeValidateSearch&&this.options.search?.strict){const K={};E.forEach(W=>{if(W.options.validateSearch)try{Object.assign(K,_p(W.options.validateSearch,{...K,...N}))}catch{}}),N=K}N=e3({search:N,dest:o,destRoutes:E,_includeValidateSearch:n._includeValidateSearch}),N=ps(m,N);const P=this.options.stringifySearch(N),O=o.hash===!0?l.hash:o.hash?Ra(o.hash,l.hash):void 0,j=O?`#${O}`:"";let U=o.state===!0?l.state:o.state?Ra(o.state,l.state):{};U=ps(l.state,U);const z=`${k}${P}${j}`;let I,$,Z=!1;if(this.rewrite){const K=new URL(z,this.origin),W=sk(this.rewrite,K);I=K.href.replace(K.origin,""),W.origin!==this.origin?($=W.href,Z=!0):$=W.pathname+W.search+W.hash}else I=hB(z),$=I;return{publicHref:$,href:I,pathname:k,search:N,searchStr:P,state:U,hash:O??"",external:Z,unmaskOnReload:o.unmaskOnReload}},s=(o={},l)=>{const c=i(o);let d=l?i(l):void 0;if(!d){const h={};if(this.options.routeMasks){const m=vB(c.pathname,this.processedTree);if(m){Object.assign(h,m.rawParams);const{from:v,params:b,..._}=m.route,C=b===!1||b===null?{}:(b??!0)===!0?h:Object.assign(h,Ra(b,h));l={from:n.from,..._,params:C},d=i(l)}}}return d&&(c.maskedLocation=d),c};return n.mask?s(n,{from:n.from,...n.mask}):s(n)},this.commitLocation=async({viewTransition:n,ignoreBlocker:i,...s})=>{const o=()=>{const d=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];d.forEach(m=>{s.state[m]=this.latestLocation.state[m]});const h=Vl(s.state,this.latestLocation.state);return d.forEach(m=>{delete s.state[m]}),h},l=Ma(this.latestLocation.href)===Ma(s.href),c=this.commitLocationPromise;if(this.commitLocationPromise=Au(()=>{c?.resolve()}),l&&o())this.load();else{let{maskedLocation:d,hashScrollIntoView:h,...m}=s;d&&(m={...d,state:{...d.state,__tempKey:void 0,__tempLocation:{...m,search:m.searchStr,state:{...m.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(m.unmaskOnReload??this.options.unmaskOnReload??!1)&&(m.state.__tempKey=this.tempLocationKey)),m.state.__hashScrollIntoViewOptions=h??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[s.replace?"replace":"push"](m.publicHref,m.state,{ignoreBlocker:i})}return this.resetNextScroll=s.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:i,hashScrollIntoView:s,viewTransition:o,ignoreBlocker:l,href:c,...d}={})=>{if(c){const v=this.history.location.state.__TSR_index,b=Lp(c,{__TSR_index:n?v:v+1}),_=new URL(b.pathname,this.origin),C=E0(this.rewrite,_);d.to=C.pathname,d.search=this.options.parseSearch(b.search),d.hash=b.hash.slice(1)}const h=this.buildLocation({...d,_includeValidateSearch:!0});this.pendingBuiltLocation=h;const m=this.commitLocation({...h,viewTransition:o,replace:n,resetScroll:i,hashScrollIntoView:s,ignoreBlocker:l});return Promise.resolve().then(()=>{this.pendingBuiltLocation===h&&(this.pendingBuiltLocation=void 0)}),m},this.navigate=async({to:n,reloadDocument:i,href:s,publicHref:o,...l})=>{let c=!1;if(s)try{new URL(`${s}`),c=!0}catch{}if(c&&!i&&(i=!0),i){if(n!==void 0||!s){const h=this.buildLocation({to:n,...l});s=s??h.publicHref,o=o??h.publicHref}const d=!c&&o?o:s;if(Ip(d,this.protocolAllowlist))return Promise.resolve();if(!l.ignoreBlocker){const m=this.history.getBlockers?.()??[];for(const v of m)if(v?.blockerFn&&await v.blockerFn({currentLocation:this.latestLocation,nextLocation:this.latestLocation,action:"PUSH"}))return Promise.resolve()}return l.replace?window.location.replace(d):window.location.href=d,Promise.resolve()}return this.buildAndCommitLocation({...l,href:s,to:n,_isNavigate:!0})},this.beforeLoad=()=>{this.cancelMatches(),this.updateLatestLocation();const n=this.matchRoutes(this.latestLocation);this.__store.setState(i=>({...i,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:n,cachedMatches:i.cachedMatches.filter(s=>!n.some(o=>o.id===s.id))}))},this.load=async n=>{let i,s,o;for(o=new Promise(c=>{this.startTransition(async()=>{try{this.beforeLoad();const d=this.latestLocation,h=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...$l({resolvedLocation:h,location:d})}),this.emit({type:"onBeforeLoad",...$l({resolvedLocation:h,location:d})}),await NA({router:this,sync:n?.sync,matches:this.state.pendingMatches,location:d,updateMatch:this.updateMatch,onReady:async()=>{this.startTransition(()=>{this.startViewTransition(async()=>{let m=[],v=[],b=[];lf(()=>{this.__store.setState(_=>{const C=_.matches,E=_.pendingMatches||_.matches;return m=C.filter(T=>!E.some(k=>k.id===T.id)),v=E.filter(T=>!C.some(k=>k.id===T.id)),b=E.filter(T=>C.some(k=>k.id===T.id)),{..._,isLoading:!1,loadedAt:Date.now(),matches:E,pendingMatches:void 0,cachedMatches:[..._.cachedMatches,...m.filter(T=>T.status!=="error"&&T.status!=="notFound"&&T.status!=="redirected")]}}),this.clearExpiredCache()}),[[m,"onLeave"],[v,"onEnter"],[b,"onStay"]].forEach(([_,C])=>{_.forEach(E=>{this.looseRoutesById[E.routeId].options[C]?.(E)})})})})}})}catch(d){Vs(d)?(i=d,this.navigate({...i.options,replace:!0,ignoreBlocker:!0})):bs(d)&&(s=d),this.__store.setState(h=>({...h,statusCode:i?i.status:s?404:h.matches.some(m=>m.status==="error")?500:200,redirect:i}))}this.latestLoadPromise===o&&(this.commitLocationPromise?.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),c()})}),this.latestLoadPromise=o,await o;this.latestLoadPromise&&o!==this.latestLoadPromise;)await this.latestLoadPromise;let l;this.hasNotFoundMatch()?l=404:this.__store.state.matches.some(c=>c.status==="error")&&(l=500),l!==void 0&&this.__store.setState(c=>({...c,statusCode:l}))},this.startViewTransition=n=>{const i=this.shouldViewTransition??this.options.defaultViewTransition;if(this.shouldViewTransition=void 0,i&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let s;if(typeof i=="object"&&this.isViewTransitionTypesSupported){const o=this.latestLocation,l=this.state.resolvedLocation,c=typeof i.types=="function"?i.types($l({resolvedLocation:l,location:o})):i.types;if(c===!1){n();return}s={update:n,types:c}}else s=n;document.startViewTransition(s)}else n()},this.updateMatch=(n,i)=>{this.startTransition(()=>{const s=this.state.pendingMatches?.some(o=>o.id===n)?"pendingMatches":this.state.matches.some(o=>o.id===n)?"matches":this.state.cachedMatches.some(o=>o.id===n)?"cachedMatches":"";s&&(s==="cachedMatches"?this.__store.setState(o=>({...o,cachedMatches:YB(o.cachedMatches.map(l=>l.id===n?i(l):l))})):this.__store.setState(o=>({...o,[s]:o[s]?.map(l=>l.id===n?i(l):l)})))})},this.getMatch=n=>{const i=s=>s.id===n;return this.state.cachedMatches.find(i)??this.state.pendingMatches?.find(i)??this.state.matches.find(i)},this.invalidate=n=>{const i=s=>n?.filter?.(s)??!0?{...s,invalid:!0,...n?.forcePending||s.status==="error"||s.status==="notFound"?{status:"pending",error:void 0}:void 0}:s;return this.__store.setState(s=>({...s,matches:s.matches.map(i),cachedMatches:s.cachedMatches.map(i),pendingMatches:s.pendingMatches?.map(i)})),this.shouldViewTransition=!1,this.load({sync:n?.sync})},this.getParsedLocationHref=n=>n.publicHref||"/",this.resolveRedirect=n=>{const i=n.headers.get("Location");if(!n.options.href||n.options._builtLocation){const s=n.options._builtLocation??this.buildLocation(n.options),o=this.getParsedLocationHref(s);n.options.href=o,n.headers.set("Location",o)}else if(i)try{const s=new URL(i);if(this.origin&&s.origin===this.origin){const o=s.pathname+s.search+s.hash;n.options.href=o,n.headers.set("Location",o)}}catch{}if(n.options.href&&!n.options._builtLocation&&Ip(n.options.href,this.protocolAllowlist))throw new Error(`Redirect blocked: unsafe protocol in href "${n.options.href}". Allowed protocols: ${Array.from(this.protocolAllowlist).join(", ")}.`);return n.headers.get("Location")||n.headers.set("Location",n.options.href),n},this.clearCache=n=>{const i=n?.filter;i!==void 0?this.__store.setState(s=>({...s,cachedMatches:s.cachedMatches.filter(o=>!i(o))})):this.__store.setState(s=>({...s,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=i=>{const s=this.looseRoutesById[i.routeId];if(!s.options.loader)return!0;const o=(i.preload?s.options.preloadGcTime??this.options.defaultPreloadGcTime:s.options.gcTime??this.options.defaultGcTime)??300*1e3;return i.status==="error"?!0:Date.now()-i.updatedAt>=o};this.clearCache({filter:n})},this.loadRouteChunk=tk,this.preloadRoute=async n=>{const i=n._builtLocation??this.buildLocation(n);let s=this.matchRoutes(i,{throwOnError:!0,preload:!0,dest:n});const o=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(c=>c.id)),l=new Set([...o,...this.state.cachedMatches.map(c=>c.id)]);lf(()=>{s.forEach(c=>{l.has(c.id)||this.__store.setState(d=>({...d,cachedMatches:[...d.cachedMatches,c]}))})});try{return s=await NA({router:this,matches:s,location:i,preload:!0,updateMatch:(c,d)=>{o.has(c)?s=s.map(h=>h.id===c?d(h):h):this.updateMatch(c,d)}}),s}catch(c){if(Vs(c))return c.options.reloadDocument?void 0:await this.preloadRoute({...c.options,_fromLocation:i});bs(c)||console.error(c);return}},this.matchRoute=(n,i)=>{const s={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},o=this.buildLocation(s);if(i?.pending&&this.state.status!=="pending")return!1;const c=(i?.pending===void 0?!this.state.isLoading:i.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,d=yB(o.pathname,i?.caseSensitive??!1,i?.fuzzy??!1,c.pathname,this.processedTree);return!d||n.params&&!Vl(d.rawParams,n.params,{partial:!0})?!1:i?.includeSearch??!0?Vl(c.search,o.search,{partial:!0})?d.rawParams:!1:d.rawParams},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...t,caseSensitive:t.caseSensitive??!1,notFoundMode:t.notFoundMode??"fuzzy",stringifySearch:t.stringifySearch??BB,parseSearch:t.parseSearch??zB,protocolAllowlist:t.protocolAllowlist??fB}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}setRoutes({routesById:t,routesByPath:n,processedTree:i}){this.routesById=t,this.routesByPath=n,this.processedTree=i;const s=this.options.notFoundRoute;s&&(s.init({originalIndex:99999999999}),this.routesById[s.id]=s)}get looseRoutesById(){return this.routesById}getParentContext(t){return t?.id?t.context??this.options.context??void 0:this.options.context??void 0}matchRoutesInternal(t,n){const i=this.getMatchedRoutes(t.pathname),{foundRoute:s,routeParams:o,parsedParams:l}=i;let{matchedRoutes:c}=i,d=!1;(s?s.path!=="/"&&o["**"]:Ma(t.pathname))&&(this.options.notFoundRoute?c=[...c,this.options.notFoundRoute]:d=!0);const h=d?n3(this.options.notFoundMode,c):void 0,m=new Array(c.length),v=new Map(this.state.matches.map(b=>[b.routeId,b]));for(let b=0;b<c.length;b++){const _=c[b],C=m[b-1];let E,T,k;{const se=C?.search??t.search,ve=C?._strictSearch??void 0;try{const G=_p(_.options.validateSearch,{...se})??void 0;E={...se,...G},T={...ve,...G},k=void 0}catch(G){let ee=G;if(G instanceof Fp||(ee=new Fp(G.message,{cause:G})),n?.throwOnError)throw ee;E=se,T={},k=ee}}const N=_.options.loaderDeps?.({search:E})??"",P=N?JSON.stringify(N):"",{interpolatedPath:O,usedParams:j}=AA({path:_.fullPath,params:o,decoder:this.pathParamsDecoder,server:this.isServer}),U=_.id+O+P,z=this.getMatch(U),I=v.get(_.id),$=z?._strictParams??j;let Z;if(!z)try{kA(_,j,l,$)}catch(se){if(bs(se)||Vs(se)?Z=se:Z=new XB(se.message,{cause:se}),n?.throwOnError)throw Z}Object.assign(o,$);const K=I?"stay":"enter";let W;if(z)W={...z,cause:K,params:I?.params??o,_strictParams:$,search:ps(I?I.search:z.search,E),_strictSearch:T};else{const se=_.options.loader||_.options.beforeLoad||_.lazyFn||nk(_)?"pending":"success";W={id:U,ssr:_.options.ssr,index:b,routeId:_.id,params:I?.params??o,_strictParams:$,pathname:O,updatedAt:Date.now(),search:I?ps(I.search,E):E,_strictSearch:T,searchError:void 0,status:se,isFetching:!1,error:void 0,paramsError:Z,__routeContext:void 0,_nonReactive:{loadPromise:Au()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:K,loaderDeps:I?ps(I.loaderDeps,N):N,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:_.options.staticData||{},fullPath:_.fullPath}}n?.preload||(W.globalNotFound=h===_.id),W.searchError=k;const X=this.getParentContext(C);W.context={...X,...W.__routeContext,...W.__beforeLoadContext},m[b]=W}for(let b=0;b<m.length;b++){const _=m[b],C=this.looseRoutesById[_.routeId],E=this.getMatch(_.id),T=v.get(_.routeId);if(_.params=T?ps(T.params,o):o,!E){const k=m[b-1],N=this.getParentContext(k);if(C.options.context){const P={deps:_.loaderDeps,params:_.params,context:N??{},location:t,navigate:O=>this.navigate({...O,_fromLocation:t}),buildLocation:this.buildLocation,cause:_.cause,abortController:_.abortController,preload:!!_.preload,matches:m,routeId:C.id};_.__routeContext=C.options.context(P)??void 0}_.context={...N,..._.__routeContext,..._.__beforeLoadContext}}}return m}matchRoutesLightweight(t){const{matchedRoutes:n,routeParams:i,parsedParams:s}=this.getMatchedRoutes(t.pathname),o=wf(n),l={...t.search};for(const m of n)try{Object.assign(l,_p(m.options.validateSearch,l))}catch{}const c=wf(this.state.matches),d=c&&c.routeId===o.id&&t.pathname===this.state.location.pathname;let h;if(d)h=c.params;else{const m={...i};for(const v of n)try{kA(v,i,s??{},m)}catch{}h=m}return{matchedRoutes:n,fullPath:o.fullPath,search:l,params:h}}}class Fp extends Error{}class XB extends Error{}function QB(e){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:e,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function _p(e,t){if(e==null)return{};if("~standard"in e){const n=e["~standard"].validate(t);if(n instanceof Promise)throw new Fp("Async validation not supported");if(n.issues)throw new Fp(JSON.stringify(n.issues,void 0,2),{cause:n});return n.value}return"parse"in e?e.parse(t):typeof e=="function"?e(t):{}}function JB({pathname:e,routesById:t,processedTree:n}){const i={},s=Ma(e);let o,l;const c=bB(s,n,!0);return c&&(o=c.route,Object.assign(i,c.rawParams),l=Object.assign({},c.parsedParams)),{matchedRoutes:c?.branch||[t[zs]],routeParams:i,foundRoute:o,parsedParams:l}}function e3({search:e,dest:t,destRoutes:n,_includeValidateSearch:i}){return t3(n)(e,t,i??!1)}function t3(e){const t={dest:null,_includeValidateSearch:!1,middlewares:[]};for(const s of e){if("search"in s.options)s.options.search?.middlewares&&t.middlewares.push(...s.options.search.middlewares);else if(s.options.preSearchFilters||s.options.postSearchFilters){const o=({search:l,next:c})=>{let d=l;"preSearchFilters"in s.options&&s.options.preSearchFilters&&(d=s.options.preSearchFilters.reduce((m,v)=>v(m),l));const h=c(d);return"postSearchFilters"in s.options&&s.options.postSearchFilters?s.options.postSearchFilters.reduce((m,v)=>v(m),h):h};t.middlewares.push(o)}if(s.options.validateSearch){const o=({search:l,next:c})=>{const d=c(l);if(!t._includeValidateSearch)return d;try{return{...d,..._p(s.options.validateSearch,d)??void 0}}catch{return d}};t.middlewares.push(o)}}const n=({search:s})=>{const o=t.dest;return o.search?o.search===!0?s:Ra(o.search,s):{}};t.middlewares.push(n);const i=(s,o,l)=>{if(s>=l.length)return o;const c=l[s];return c({search:o,next:h=>i(s+1,h,l)})};return function(o,l,c){return t.dest=l,t._includeValidateSearch=c,i(0,o,t.middlewares)}}function n3(e,t){if(e!=="root")for(let n=t.length-1;n>=0;n--){const i=t[n];if(i.children)return i.id}return zs}function kA(e,t,n,i){const s=e.options.params?.parse??e.options.parseParams;if(s)if(e.options.skipRouteOnParseError)for(const o in t)o in n&&(i[o]=n[o]);else{const o=s(i);Object.assign(i,o)}}const i3="Error preloading route! ";class rk{constructor(t){if(this.init=n=>{this.originalIndex=n.originalIndex;const i=this.options,s=!i?.path&&!i?.id;this.parentRoute=this.options.getParentRoute?.(),s?this._path=zs:this.parentRoute||Mo(!1);let o=s?zs:i?.path;o&&o!=="/"&&(o=YN(o));const l=i?.id||o;let c=s?zs:bp([this.parentRoute.id===zs?"":this.parentRoute.id,l]);o===zs&&(o="/"),c!==zs&&(c=bp(["/",c]));const d=c===zs?"/":bp([this.parentRoute.fullPath,o]);this._path=o,this._id=c,this._fullPath=d,this._to=Ma(d)},this.addChildren=n=>this._addFileChildren(n),this._addFileChildren=n=>(Array.isArray(n)&&(this.children=n),typeof n=="object"&&n!==null&&(this.children=Object.values(n)),this),this._addFileTypes=()=>this,this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.redirect=n=>Eg({from:this.fullPath,...n}),this.options=t||{},this.isRoot=!t?.getParentRoute,t?.id&&t?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class s3 extends rk{constructor(t){super(t)}}const Vm=typeof window<"u"?x.useLayoutEffect:x.useEffect;function pb(e){const t=x.useRef({value:e,prev:null}),n=t.current.value;return e!==n&&(t.current={value:e,prev:n}),t.current.prev}function r3(e,t,n={},i={}){x.useEffect(()=>{if(!e.current||i.disabled||typeof IntersectionObserver!="function")return;const s=new IntersectionObserver(([o])=>{t(o)},n);return s.observe(e.current),()=>{s.disconnect()}},[t,n,i.disabled,e])}function o3(e){const t=x.useRef(null);return x.useImperativeHandle(e,()=>t.current,[]),t}function r_(e){const t=e.errorComponent??o_;return y.jsx(a3,{getResetKey:e.getResetKey,onCatch:e.onCatch,children:({error:n,reset:i})=>n?x.createElement(t,{error:n,reset:i}):e.children})}class a3 extends x.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(t){return{resetKey:t.getResetKey()}}static getDerivedStateFromError(t){return{error:t}}reset(){this.setState({error:null})}componentDidUpdate(t,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(t,n){this.props.onCatch&&this.props.onCatch(t,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function o_({error:e}){const[t,n]=x.useState(!1);return y.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[y.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),y.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(i=>!i),children:t?"Hide Error":"Show Error"})]}),y.jsx("div",{style:{height:".25rem"}}),t?y.jsx("div",{children:y.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:e.message?y.jsx("code",{children:e.message}):null})}):null]})}function l3({children:e,fallback:t=null}){return ok()?y.jsx(Mt.Fragment,{children:e}):y.jsx(Mt.Fragment,{children:t})}function ok(){return Mt.useSyncExternalStore(c3,()=>!0,()=>!1)}function c3(){return()=>{}}var gb={exports:{}},vb={},yb={exports:{}},bb={};var PA;function u3(){if(PA)return bb;PA=1;var e=Kf();function t(v,b){return v===b&&(v!==0||1/v===1/b)||v!==v&&b!==b}var n=typeof Object.is=="function"?Object.is:t,i=e.useState,s=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function c(v,b){var _=b(),C=i({inst:{value:_,getSnapshot:b}}),E=C[0].inst,T=C[1];return o(function(){E.value=_,E.getSnapshot=b,d(E)&&T({inst:E})},[v,_,b]),s(function(){return d(E)&&T({inst:E}),v(function(){d(E)&&T({inst:E})})},[v]),l(_),_}function d(v){var b=v.getSnapshot;v=v.value;try{var _=b();return!n(v,_)}catch{return!0}}function h(v,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return bb.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,bb}var OA;function ak(){return OA||(OA=1,yb.exports=u3()),yb.exports}var MA;function d3(){if(MA)return vb;MA=1;var e=Kf(),t=ak();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var i=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,o=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return vb.useSyncExternalStoreWithSelector=function(h,m,v,b,_){var C=o(null);if(C.current===null){var E={hasValue:!1,value:null};C.current=E}else E=C.current;C=c(function(){function k(U){if(!N){if(N=!0,P=U,U=b(U),_!==void 0&&E.hasValue){var z=E.value;if(_(z,U))return O=z}return O=U}if(z=O,i(P,U))return z;var I=b(U);return _!==void 0&&_(z,I)?(P=U,z):(P=U,O=I)}var N=!1,P,O,j=v===void 0?null:v;return[function(){return k(m())},j===null?void 0:function(){return k(j())}]},[m,v,b,_]);var T=s(h,C[0],C[1]);return l(function(){E.hasValue=!0,E.value=T},[T]),d(T),T},vb}var DA;function f3(){return DA||(DA=1,gb.exports=d3()),gb.exports}var h3=f3();function m3(e,t){return e===t}function p3(e,t,n=m3){const i=x.useCallback(l=>{if(!e)return()=>{};const{unsubscribe:c}=e.subscribe(l);return c},[e]),s=x.useCallback(()=>e?.get(),[e]);return h3.useSyncExternalStoreWithSelector(i,s,s,t,n)}const xb=x.createContext(null);function lk(){return typeof document>"u"?xb:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=xb,xb)}function Ss(e){const t=x.useContext(lk());return e?.warn,t}function xs(e){const t=Ss({warn:e?.router===void 0}),n=e?.router||t,i=x.useRef(void 0);return p3(n.__store,s=>{if(e?.select){if(e.structuralSharing??n.options.defaultStructuralSharing){const o=ps(i.current,e.select(s));return i.current=o,o}return e.select(s)}return s})}const Tg=x.createContext(void 0),g3=x.createContext(void 0);function yr(e){const t=x.useContext(e.from?g3:Tg);return xs({select:i=>{const s=i.matches.find(o=>e.from?e.from===o.routeId:o.id===t);if(Mo(!((e.shouldThrow??!0)&&!s),`Could not find ${e.from?`an active match from "${e.from}"`:"a nearest match!"}`),s!==void 0)return e.select?e.select(s):s},structuralSharing:e.structuralSharing})}function a_(e){return yr({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.loaderData):t.loaderData})}function l_(e){const{select:t,...n}=e;return yr({...n,select:i=>t?t(i.loaderDeps):i.loaderDeps})}function c_(e){return yr({from:e.from,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,strict:e.strict,select:t=>{const n=e.strict===!1?t.params:t._strictParams;return e.select?e.select(n):n}})}function u_(e){return yr({from:e.from,strict:e.strict,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.search):t.search})}function Ei(e){const t=Ss();return x.useCallback(n=>t.navigate({...n,from:n.from??e?.from}),[e?.from,t])}var Ji=FN();const v3=Qx(Ji);function y3(e,t){const n=Ss(),i=o3(t),{activeProps:s,inactiveProps:o,activeOptions:l,to:c,preload:d,preloadDelay:h,hashScrollIntoView:m,replace:v,startTransition:b,resetScroll:_,viewTransition:C,children:E,target:T,disabled:k,style:N,className:P,onClick:O,onFocus:j,onMouseEnter:U,onMouseLeave:z,onTouchStart:I,ignoreBlocker:$,params:Z,search:K,hash:W,state:X,mask:se,reloadDocument:ve,unsafeRelative:G,from:ee,_fromLocation:Y,...de}=e,ae=ok(),H=xs({select:xt=>{const Tt=xt.matches[xt.matches.length-1];return{search:Tt?.search,hash:xt.location.hash,path:Tt?.pathname}},structuralSharing:!0}),ie=e.from,me=x.useMemo(()=>({...e,from:ie}),[n,H,ie,e._fromLocation,e.hash,e.to,e.search,e.params,e.state,e.mask,e.unsafeRelative]),xe=x.useMemo(()=>n.buildLocation({...me}),[n,me]),Ce=xe.maskedLocation?xe.maskedLocation.publicHref:xe.publicHref,_e=xe.maskedLocation?xe.maskedLocation.external:xe.external,Se=x.useMemo(()=>C3(Ce,_e,n.history,k),[k,_e,Ce,n.history]),je=x.useMemo(()=>{if(Se?.external)return Ip(Se.href,n.protocolAllowlist)?void 0:Se.href;if(!E3(c)&&!(typeof c!="string"||c.indexOf(":")===-1))try{return new URL(c),Ip(c,n.protocolAllowlist)?void 0:c}catch{}},[c,Se,n.protocolAllowlist]),ke=xs({select:xt=>{if(je)return!1;if(l?.exact){if(!EB(xt.location.pathname,xe.pathname,n.basepath))return!1}else{const Tt=Bp(xt.location.pathname,n.basepath),Bt=Bp(xe.pathname,n.basepath);if(!(Tt.startsWith(Bt)&&(Tt.length===Bt.length||Tt[Bt.length]==="/")))return!1}return(l?.includeSearch??!0)&&!Vl(xt.location.search,xe.search,{partial:!l?.exact,ignoreUndefined:!l?.explicitUndefined})?!1:l?.includeHash?ae&&xt.location.hash===xe.hash:!0}}),Oe=ke?Ra(s,{})??b3:_b,Ue=ke?_b:Ra(o,{})??_b,Xe=[P,Oe.className,Ue.className].filter(Boolean).join(" "),ht=(N||Oe.style||Ue.style)&&{...N,...Oe.style,...Ue.style},[bt,zt]=x.useState(!1),dn=x.useRef(!1),fn=e.reloadDocument||je?!1:d??n.options.defaultPreload,jn=h??n.options.defaultPreloadDelay??0,_n=x.useCallback(()=>{n.preloadRoute({...me,_builtLocation:xe}).catch(xt=>{console.warn(xt),console.warn(i3)})},[n,me,xe]),wn=x.useCallback(xt=>{xt?.isIntersecting&&_n()},[_n]);r3(i,wn,S3,{disabled:!!k||fn!=="viewport"}),x.useEffect(()=>{dn.current||!k&&fn==="render"&&(_n(),dn.current=!0)},[k,_n,fn]);const qn=xt=>{const Tt=xt.currentTarget.getAttribute("target"),Bt=T!==void 0?T:Tt;if(!k&&!A3(xt)&&!xt.defaultPrevented&&(!Bt||Bt==="_self")&&xt.button===0){xt.preventDefault(),Ji.flushSync(()=>{zt(!0)});const Ri=n.subscribe("onResolved",()=>{Ri(),zt(!1)});n.navigate({...me,replace:v,resetScroll:_,hashScrollIntoView:m,startTransition:b,viewTransition:C,ignoreBlocker:$})}};if(je)return{...de,ref:i,href:je,...E&&{children:E},...T&&{target:T},...k&&{disabled:k},...N&&{style:N},...P&&{className:P},...O&&{onClick:O},...j&&{onFocus:j},...U&&{onMouseEnter:U},...z&&{onMouseLeave:z},...I&&{onTouchStart:I}};const Ti=xt=>{k||fn&&_n()},Es=Ti,sn=xt=>{if(!(k||!fn))if(!jn)_n();else{const Tt=xt.target;if(Kd.has(Tt))return;const Bt=setTimeout(()=>{Kd.delete(Tt),_n()},jn);Kd.set(Tt,Bt)}},Cr=xt=>{if(k||!fn||!jn)return;const Tt=xt.target,Bt=Kd.get(Tt);Bt&&(clearTimeout(Bt),Kd.delete(Tt))};return{...de,...Oe,...Ue,href:Se?.href,ref:i,onClick:Wd([O,qn]),onFocus:Wd([j,Ti]),onMouseEnter:Wd([U,sn]),onMouseLeave:Wd([z,Cr]),onTouchStart:Wd([I,Es]),disabled:!!k,target:T,...ht&&{style:ht},...Xe&&{className:Xe},...k&&x3,...ke&&_3,...ae&&bt&&w3}}const _b={},b3={className:"active"},x3={role:"link","aria-disabled":!0},_3={"data-status":"active","aria-current":"page"},w3={"data-transitioning":"transitioning"},Kd=new WeakMap,S3={rootMargin:"100px"},Wd=e=>t=>{for(const n of e)if(n){if(t.defaultPrevented)return;n(t)}};function C3(e,t,n,i){if(!i)return t?{href:e,external:!0}:{href:n.createHref(e)||"/",external:!1}}function E3(e){if(typeof e!="string")return!1;const t=e.charCodeAt(0);return t===47?e.charCodeAt(1)!==47:t===46}const cf=x.forwardRef((e,t)=>{const{_asChild:n,...i}=e,{type:s,...o}=y3(i,t),l=typeof i.children=="function"?i.children({isActive:o["data-status"]==="active"}):i.children;if(!n){const{disabled:c,...d}=o;return x.createElement("a",d,l)}return x.createElement(n,o,l)});function A3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}let T3=class extends rk{constructor(t){super(t),this.useMatch=n=>yr({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>yr({...n,from:this.id,select:i=>n?.select?n.select(i.context):i.context}),this.useSearch=n=>u_({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>c_({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>l_({...n,from:this.id}),this.useLoaderData=n=>a_({...n,from:this.id}),this.useNavigate=()=>Ei({from:this.fullPath}),this.Link=Mt.forwardRef((n,i)=>y.jsx(cf,{ref:i,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}};function pi(e){return new T3(e)}class R3 extends s3{constructor(t){super(t),this.useMatch=n=>yr({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>yr({...n,from:this.id,select:i=>n?.select?n.select(i.context):i.context}),this.useSearch=n=>u_({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>c_({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>l_({...n,from:this.id}),this.useLoaderData=n=>a_({...n,from:this.id}),this.useNavigate=()=>Ei({from:this.fullPath}),this.Link=Mt.forwardRef((n,i)=>y.jsx(cf,{ref:i,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function N3(e){return new R3(e)}function LA(e){return typeof e=="object"?new jA(e,{silent:!0}).createRoute(e):new jA(e,{silent:!0}).createRoute}class jA{constructor(t,n){this.path=t,this.createRoute=i=>{this.silent;const s=pi(i);return s.isRoot=!1,s},this.silent=n?.silent}}class IA{constructor(t){this.useMatch=n=>yr({select:n?.select,from:this.options.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>yr({from:this.options.id,select:i=>n?.select?n.select(i.context):i.context}),this.useSearch=n=>u_({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useParams=n=>c_({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useLoaderDeps=n=>l_({...n,from:this.options.id}),this.useLoaderData=n=>a_({...n,from:this.options.id}),this.useNavigate=()=>{const n=Ss();return Ei({from:n.routesById[this.options.id].fullPath})},this.options=t,this.$$typeof=Symbol.for("react.memo")}}function zA(e){return typeof e=="object"?new IA(e):t=>new IA({id:e,...t})}function k3(){const e=Ss(),t=x.useRef({router:e,mounted:!1}),[n,i]=x.useState(!1),{hasPendingMatches:s,isLoading:o}=xs({select:v=>({isLoading:v.isLoading,hasPendingMatches:v.matches.some(b=>b.status==="pending")}),structuralSharing:!0}),l=pb(o),c=o||n||s,d=pb(c),h=o||s,m=pb(h);return e.startTransition=v=>{i(!0),x.startTransition(()=>{v(),i(!1)})},x.useEffect(()=>{const v=e.history.subscribe(e.load),b=e.buildLocation({to:e.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Ma(e.latestLocation.publicHref)!==Ma(b.publicHref)&&e.commitLocation({...b,replace:!0}),()=>{v()}},[e,e.history]),Vm(()=>{if(typeof window<"u"&&e.ssr||t.current.router===e&&t.current.mounted)return;t.current={router:e,mounted:!0},(async()=>{try{await e.load()}catch(b){console.error(b)}})()},[e]),Vm(()=>{l&&!o&&e.emit({type:"onLoad",...$l(e.state)})},[l,e,o]),Vm(()=>{m&&!h&&e.emit({type:"onBeforeRouteMount",...$l(e.state)})},[h,m,e]),Vm(()=>{if(d&&!c){const v=$l(e.state);e.emit({type:"onResolved",...v}),e.__store.setState(b=>({...b,status:"idle",resolvedLocation:b.location})),v.hrefChanged&&LB(e)}},[c,d,e]),null}function P3(e){const t=xs({select:n=>`not-found-${n.location.pathname}-${n.status}`});return y.jsx(r_,{getResetKey:()=>t,onCatch:(n,i)=>{if(bs(n))e.onCatch?.(n,i);else throw n},errorComponent:({error:n})=>{if(bs(n))return e.fallback?.(n);throw n},children:e.children})}function O3(){return y.jsx("p",{children:"Not Found"})}function ou(e){return y.jsx(y.Fragment,{children:e.children})}function ck(e,t,n){return t.options.notFoundComponent?y.jsx(t.options.notFoundComponent,{...n}):e.options.defaultNotFoundComponent?y.jsx(e.options.defaultNotFoundComponent,{...n}):y.jsx(O3,{})}function M3(){return Ss().isScrollRestoring,null}const uk=x.memo(function({matchId:t}){const n=Ss(),i=xs({select:E=>{const T=E.matches.findIndex(N=>N.id===t),k=E.matches[T];return Mo(k),{routeId:k.routeId,ssr:k.ssr,_displayPending:k._displayPending,resetKey:E.loadedAt,parentRouteId:E.matches[T-1]?.routeId}},structuralSharing:!0}),s=n.routesById[i.routeId],o=s.options.pendingComponent??n.options.defaultPendingComponent,l=o?y.jsx(o,{}):null,c=s.options.errorComponent??n.options.defaultErrorComponent,d=s.options.onCatch??n.options.defaultOnCatch,h=s.isRoot?s.options.notFoundComponent??n.options.notFoundRoute?.options.component:s.options.notFoundComponent,m=i.ssr===!1||i.ssr==="data-only",v=(!s.isRoot||s.options.wrapInSuspense||m)&&(s.options.wrapInSuspense??o??(s.options.errorComponent?.preload||m))?x.Suspense:ou,b=c?r_:ou,_=h?P3:ou,C=s.isRoot?s.options.shellComponent??ou:ou;return y.jsxs(C,{children:[y.jsx(Tg.Provider,{value:t,children:y.jsx(v,{fallback:l,children:y.jsx(b,{getResetKey:()=>i.resetKey,errorComponent:c||o_,onCatch:(E,T)=>{if(bs(E))throw E;d?.(E,T)},children:y.jsx(_,{fallback:E=>{if(!h||E.routeId&&E.routeId!==i.routeId||!E.routeId&&!s.isRoot)throw E;return x.createElement(h,E)},children:m||i._displayPending?y.jsx(l3,{fallback:l,children:y.jsx(BA,{matchId:t})}):y.jsx(BA,{matchId:t})})})})}),i.parentRouteId===zs&&n.options.scrollRestoration?y.jsxs(y.Fragment,{children:[y.jsx(D3,{}),y.jsx(M3,{})]}):null]})});function D3(){const e=Ss(),t=x.useRef(void 0);return y.jsx("script",{suppressHydrationWarning:!0,ref:n=>{n&&(t.current===void 0||t.current.href!==e.latestLocation.href)&&(e.emit({type:"onRendered",...$l(e.state)}),t.current=e.latestLocation)}},e.latestLocation.state.__TSR_key)}const BA=x.memo(function({matchId:t}){const n=Ss(),{match:i,key:s,routeId:o}=xs({select:d=>{const h=d.matches.find(C=>C.id===t),m=h.routeId,b=(n.routesById[m].options.remountDeps??n.options.defaultRemountDeps)?.({routeId:m,loaderDeps:h.loaderDeps,params:h._strictParams,search:h._strictSearch});return{key:b?JSON.stringify(b):void 0,routeId:m,match:{id:h.id,status:h.status,error:h.error,invalid:h.invalid,_forcePending:h._forcePending,_displayPending:h._displayPending}}},structuralSharing:!0}),l=n.routesById[o],c=x.useMemo(()=>{const d=l.options.component??n.options.defaultComponent;return d?y.jsx(d,{},s):y.jsx(dk,{})},[s,l.options.component,n.options.defaultComponent]);if(i._displayPending)throw n.getMatch(i.id)?._nonReactive.displayPendingPromise;if(i._forcePending)throw n.getMatch(i.id)?._nonReactive.minPendingPromise;if(i.status==="pending"){const d=l.options.pendingMinMs??n.options.defaultPendingMinMs;if(d){const h=n.getMatch(i.id);if(h&&!h._nonReactive.minPendingPromise){const m=Au();h._nonReactive.minPendingPromise=m,setTimeout(()=>{m.resolve(),h._nonReactive.minPendingPromise=void 0},d)}}throw n.getMatch(i.id)?._nonReactive.loadPromise}if(i.status==="notFound")return Mo(bs(i.error)),ck(n,l,i.error);if(i.status==="redirected")throw Mo(Vs(i.error)),n.getMatch(i.id)?._nonReactive.loadPromise;if(i.status==="error")throw i.error;return c}),dk=x.memo(function(){const t=Ss(),n=x.useContext(Tg),i=xs({select:h=>h.matches.find(m=>m.id===n)?.routeId}),s=t.routesById[i],o=xs({select:h=>{const v=h.matches.find(b=>b.id===n);return Mo(v),v.globalNotFound}}),l=xs({select:h=>{const m=h.matches,v=m.findIndex(b=>b.id===n);return m[v+1]?.id}}),c=t.options.defaultPendingComponent?y.jsx(t.options.defaultPendingComponent,{}):null;if(o)return ck(t,s,void 0);if(!l)return null;const d=y.jsx(uk,{matchId:l});return i===zs?y.jsx(x.Suspense,{fallback:c,children:d}):d});function L3(){const e=Ss(),n=e.routesById[zs].options.pendingComponent??e.options.defaultPendingComponent,i=n?y.jsx(n,{}):null,s=typeof document<"u"&&e.ssr?ou:x.Suspense,o=y.jsxs(s,{fallback:i,children:[y.jsx(k3,{}),y.jsx(j3,{})]});return e.options.InnerWrap?y.jsx(e.options.InnerWrap,{children:o}):o}function j3(){const e=Ss(),t=xs({select:s=>s.matches[0]?.id}),n=xs({select:s=>s.loadedAt}),i=t?y.jsx(uk,{matchId:t}):null;return y.jsx(Tg.Provider,{value:t,children:e.options.disableGlobalCatchBoundary?i:y.jsx(r_,{getResetKey:()=>n,errorComponent:o_,onCatch:s=>{s.message||s.toString()},children:i})})}const I3=e=>new z3(e);class z3 extends ZB{constructor(t){super(t)}}typeof globalThis<"u"?(globalThis.createFileRoute=LA,globalThis.createLazyFileRoute=zA):typeof window<"u"&&(window.createFileRoute=LA,window.createLazyFileRoute=zA);function B3({router:e,children:t,...n}){Object.keys(n).length>0&&e.update({...e.options,...n,context:{...e.options.context,...n.context}});const i=lk(),s=y.jsx(i.Provider,{value:e,children:t});return e.options.Wrap?y.jsx(e.options.Wrap,{children:s}):s}function U3({router:e,...t}){return y.jsx(B3,{router:e,...t,children:y.jsx(L3,{})})}function F3(e){return xs({select:t=>t.location})}const fk={sm:"480px",md:"768px"},V3=Number(fk.sm.replace("px","")),$3=Number(fk.md.replace("px","")),zo=()=>{const[e,t]=x.useState(!1),[n,i]=x.useState(!1);return x.useEffect(()=>{const s=()=>{t(window.innerWidth<=V3),i(window.innerWidth<=$3)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),{isMobile:e,isTablet:n}},Hr={BASE_URL:"/treevera/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyBzinELXu5WO8e3uiZgBalJSQh5F_XAi28",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp2amlyb2Nuc3Vjc2Fwd25qZnBlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUxOTQwODksImV4cCI6MjA3MDc3MDA4OX0.eQESQzBSt0_gciw0LN5zByYGBGugi-NuCChs-1mMVoA",VITE_SUPABASE_URL:"https://jvjirocnsucsapwnjfpe.supabase.co"};function hk(e){return"init"in e}function A0(e){return!!e.write}function UA(e){return"v"in e||"e"in e}function Vp(e){if("e"in e)throw e.e;if((Hr?"production":void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v}function $p(e){return typeof e?.then=="function"}function mk(e,t,n){if(!n.p.has(e)){n.p.add(e);const i=()=>n.p.delete(e);t.then(i,i)}}function pk(e,t,n){var i;const s=new Set;for(const o of((i=n.get(e))==null?void 0:i.t)||[])s.add(o);for(const o of t.p)s.add(o);return s}const H3=(e,t,...n)=>t.read(...n),q3=(e,t,...n)=>t.write(...n),G3=(e,t)=>{var n;return(n=t.INTERNAL_onInit)==null?void 0:n.call(t,e)},K3=(e,t,n)=>{var i;return(i=t.onMount)==null?void 0:i.call(t,n)},W3=(e,t)=>{var n;const i=$n(e),s=i[0],o=i[6],l=i[9];if((Hr?"production":void 0)!=="production"&&!t)throw new Error("Atom is undefined or null");let c=s.get(t);return c||(c={d:new Map,p:new Set,n:0},s.set(t,c),(n=o.i)==null||n.call(o,t),l?.(e,t)),c},Y3=e=>{const t=$n(e),n=t[1],i=t[3],s=t[4],o=t[5],l=t[6],c=t[13],d=[],h=m=>{try{m()}catch(v){d.push(v)}};do{l.f&&h(l.f);const m=new Set,v=m.add.bind(m);i.forEach(b=>{var _;return(_=n.get(b))==null?void 0:_.l.forEach(v)}),i.clear(),o.forEach(v),o.clear(),s.forEach(v),s.clear(),m.forEach(h),i.size&&c(e)}while(i.size||o.size||s.size);if(d.length)throw new AggregateError(d)},Z3=e=>{const t=$n(e),n=t[1],i=t[2],s=t[3],o=t[11],l=t[14],c=t[17],d=[],h=new WeakSet,m=new WeakSet,v=Array.from(s);for(;v.length;){const b=v[v.length-1],_=o(e,b);if(m.has(b)){v.pop();continue}if(h.has(b)){if(i.get(b)===_.n)d.push([b,_]);else if((Hr?"production":void 0)!=="production"&&i.has(b))throw new Error("[Bug] invalidated atom exists");m.add(b),v.pop();continue}h.add(b);for(const C of pk(b,_,n))h.has(C)||v.push(C)}for(let b=d.length-1;b>=0;--b){const[_,C]=d[b];let E=!1;for(const T of C.d.keys())if(T!==_&&s.has(T)){E=!0;break}E&&(l(e,_),c(e,_)),i.delete(_)}},T0=new WeakSet,X3=(e,t)=>{var n,i;const s=$n(e),o=s[1],l=s[2],c=s[3],d=s[6],h=s[7],m=s[11],v=s[12],b=s[13],_=s[14],C=s[16],E=s[17],T=s[20],k=s[26],N=m(e,t);if(UA(N)){if(o.has(t)&&l.get(t)!==N.n)return N;let X=!1;for(const[se,ve]of N.d)if(_(e,se).n!==ve){X=!0;break}if(!X)return N}let P=!0;const O=new Set(N.d.keys()),j=new Map,U=()=>{for(const X of O)j.has(X)||N.d.delete(X)},z=()=>{if(o.has(t)){const X=!c.size;E(e,t),X&&(b(e),v(e))}},I=X=>{var se;if(X===t){const G=m(e,X);if(!UA(G))if(hk(X))T(e,X,X.init);else throw new Error("no atom init");return Vp(G)}const ve=_(e,X);try{return Vp(ve)}finally{j.set(X,ve.n),N.d.set(X,ve.n),$p(N.v)&&mk(t,N.v,ve),o.has(t)&&((se=o.get(X))==null||se.t.add(t)),P||z()}};let $,Z;const K={get signal(){return $||($=new AbortController),$.signal},get setSelf(){return(Hr?"production":void 0)!=="production"&&console.warn("[DEPRECATED] setSelf is deprecated and will be removed in v3."),(Hr?"production":void 0)!=="production"&&!A0(t)&&console.warn("setSelf function cannot be used with read-only atom"),!Z&&A0(t)&&(Z=(...X)=>{if((Hr?"production":void 0)!=="production"&&P&&console.warn("setSelf function cannot be called in sync"),!P)try{return C(e,t,...X)}finally{b(e),v(e)}}),Z}},W=N.n;try{(Hr?"production":void 0)!=="production"&&T0.delete(e);const X=h(e,t,I,K);if((Hr?"production":void 0)!=="production"&&T0.has(e)&&console.warn("Detected store mutation during atom read. This is not supported."),T(e,t,X),$p(X)){k(e,X,()=>$?.abort());const se=()=>{U(),z()};X.then(se,se)}else U();return(n=d.r)==null||n.call(d,t),N}catch(X){return delete N.v,N.e=X,++N.n,N}finally{P=!1,W!==N.n&&l.get(t)===W&&(l.set(t,N.n),c.add(t),(i=d.c)==null||i.call(d,t))}},Q3=(e,t)=>{const n=$n(e),i=n[1],s=n[2],o=n[11],l=[t];for(;l.length;){const c=l.pop(),d=o(e,c);for(const h of pk(c,d,i)){const m=o(e,h);s.get(h)!==m.n&&(s.set(h,m.n),l.push(h))}}},J3=(e,t,...n)=>{const i=$n(e),s=i[3],o=i[6],l=i[8],c=i[11],d=i[12],h=i[13],m=i[14],v=i[15],b=i[16],_=i[17],C=i[20];let E=!0;const T=N=>Vp(m(e,N)),k=(N,...P)=>{var O;const j=c(e,N);try{if(N===t){if(!hk(N))throw new Error("atom not writable");(Hr?"production":void 0)!=="production"&&T0.add(e);const U=j.n,z=P[0];C(e,N,z),_(e,N),U!==j.n&&(s.add(N),v(e,N),(O=o.c)==null||O.call(o,N));return}else return b(e,N,...P)}finally{E||(h(e),d(e))}};try{return l(e,t,T,k,...n)}finally{E=!1}},eU=(e,t)=>{var n;const i=$n(e),s=i[1],o=i[3],l=i[6],c=i[11],d=i[15],h=i[18],m=i[19],v=c(e,t),b=s.get(t);if(b){for(const[_,C]of v.d)if(!b.d.has(_)){const E=c(e,_);h(e,_).t.add(t),b.d.add(_),C!==E.n&&(o.add(_),d(e,_),(n=l.c)==null||n.call(l,_))}for(const _ of b.d)if(!v.d.has(_)){b.d.delete(_);const C=m(e,_);C?.t.delete(t)}}},tU=(e,t)=>{var n;const i=$n(e),s=i[1],o=i[4],l=i[6],c=i[10],d=i[11],h=i[12],m=i[13],v=i[14],b=i[16],_=i[18],C=d(e,t);let E=s.get(t);if(!E){v(e,t);for(const T of C.d.keys())_(e,T).t.add(t);if(E={l:new Set,d:new Set(C.d.keys()),t:new Set},s.set(t,E),A0(t)){const T=()=>{let k=!0;const N=(...P)=>{try{return b(e,t,...P)}finally{k||(m(e),h(e))}};try{const P=c(e,t,N);P&&(E.u=()=>{k=!0;try{P()}finally{k=!1}})}finally{k=!1}};o.add(T)}(n=l.m)==null||n.call(l,t)}return E},nU=(e,t)=>{var n,i;const s=$n(e),o=s[1],l=s[5],c=s[6],d=s[11],h=s[19],m=d(e,t);let v=o.get(t);if(!v||v.l.size)return v;let b=!1;for(const _ of v.t)if((n=o.get(_))!=null&&n.d.has(t)){b=!0;break}if(!b){v.u&&l.add(v.u),v=void 0,o.delete(t);for(const _ of m.d.keys()){const C=h(e,_);C?.t.delete(t)}(i=c.u)==null||i.call(c,t);return}return v},iU=(e,t,n)=>{const i=$n(e),s=i[11],o=i[27],l=s(e,t),c="v"in l,d=l.v;if($p(n))for(const h of l.d.keys())mk(t,n,s(e,h));l.v=n,delete l.e,(!c||!Object.is(d,l.v))&&(++l.n,$p(d)&&o(e,d))},sU=(e,t)=>{const n=$n(e)[14];return Vp(n(e,t))},rU=(e,t,...n)=>{const i=$n(e),s=i[12],o=i[13],l=i[16];try{return l(e,t,...n)}finally{o(e),s(e)}},oU=(e,t,n)=>{const i=$n(e),s=i[12],o=i[18],l=i[19],d=o(e,t).l;return d.add(n),s(e),()=>{d.delete(n),l(e,t),s(e)}},aU=(e,t,n)=>{const s=$n(e)[25];let o=s.get(t);if(!o){o=new Set,s.set(t,o);const l=()=>s.delete(t);t.then(l,l)}o.add(n)},lU=(e,t)=>{const s=$n(e)[25].get(t);s?.forEach(o=>o())},gk=new WeakMap,$n=e=>{const t=gk.get(e);if((Hr?"production":void 0)!=="production"&&!t)throw new Error("Store must be created by buildStore to read its building blocks");return t};function cU(e){const t=$n(e),n=t[24];return n?n(t):t}function uU(...e){const t={get(i){const s=$n(t)[21];return s(t,i)},set(i,...s){const o=$n(t)[22];return o(t,i,...s)},sub(i,s){const o=$n(t)[23];return o(t,i,s)}},n=[new WeakMap,new WeakMap,new WeakMap,new Set,new Set,new Set,{},H3,q3,G3,K3,W3,Y3,Z3,X3,Q3,J3,eU,tU,nU,iU,sU,rU,oU,void 0,new WeakMap,aU,lU].map((i,s)=>e[s]||i);return gk.set(t,Object.freeze(n)),t}const vk={};let dU=0;function dt(e,t){const n=`atom${++dU}`,i={toString(){return(vk?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof e=="function"?i.read=e:(i.init=e,i.read=fU,i.write=hU),t&&(i.write=t),i}function fU(e){return e(this)}function hU(e,t,n){return t(this,typeof n=="function"?n(e(this)):n)}function mU(){return uU()}let Yd;function Wf(){return Yd||(Yd=mU(),(vk?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=Yd),globalThis.__JOTAI_DEFAULT_STORE__!==Yd&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),Yd}const pU={},gU=x.createContext(void 0);function yk(e){return x.useContext(gU)||Wf()}const R0=e=>typeof e?.then=="function",N0=e=>{e.status||(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}))},vU=Mt.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(N0(e),e)}),wb=new WeakMap,FA=(e,t,n)=>{const s=cU(e)[26];let o=wb.get(t);return o||(o=new Promise((l,c)=>{let d=t;const h=b=>_=>{d===b&&l(_)},m=b=>_=>{d===b&&c(_)},v=()=>{try{const b=n();R0(b)?(wb.set(b,o),d=b,b.then(h(b),m(b)),s(e,b,v)):l(b)}catch(b){c(b)}};t.then(h(t),m(t)),s(e,t,v)}),wb.set(t,o)),o};function Le(e,t){const{delay:n,unstable_promiseStatus:i=!Mt.use}={},s=yk(),[[o,l,c],d]=x.useReducer(m=>{const v=s.get(e);return Object.is(m[0],v)&&m[1]===s&&m[2]===e?m:[v,s,e]},void 0,()=>[s.get(e),s,e]);let h=o;if((l!==s||c!==e)&&(d(),h=s.get(e)),x.useEffect(()=>{const m=s.sub(e,()=>{if(i)try{const v=s.get(e);R0(v)&&N0(FA(s,v,()=>s.get(e)))}catch{}if(typeof n=="number"){setTimeout(d,n);return}d()});return d(),m},[s,e,n,i]),x.useDebugValue(h),R0(h)){const m=FA(s,h,()=>s.get(e));return i&&N0(m),vU(m)}return h}function Dt(e,t){const n=yk();return x.useCallback((...s)=>{if((pU?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return n.set(e,...s)},[n,e])}function Gs(e,t){return[Le(e),Dt(e)]}const ii=({src:e,alt:t,fallbackSrc:n="",loading:i="lazy",decoding:s="async",onFallbackChange:o,...l})=>{const[c,d]=x.useState(e);x.useEffect(()=>{d(e)},[e]);const h=c===n;return x.useEffect(()=>{o?.(h)},[h,o]),y.jsx("img",{src:c,alt:t,loading:i,decoding:s,onError:()=>{n&&!h&&d(n)},...l})},yU="/treevera/assets/avif-new-logo-CsHr8CWA.avif";function Ie(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e?.(s),n===!1||!s.defaultPrevented)return t?.(s)}}function VA(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Hn(...e){return t=>{let n=!1;const i=e.map(s=>{const o=VA(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<i.length;s++){const o=i[s];typeof o=="function"?o():VA(e[s],null)}}}}function Ct(...e){return x.useCallback(Hn(...e),e)}function bU(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,xU(s,...t)]}function xU(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var Ln=globalThis?.document?x.useLayoutEffect:()=>{},_U=Jx[" useInsertionEffect ".trim().toString()]||Ln;function Do({prop:e,defaultProp:t,onChange:n=()=>{},caller:i}){const[s,o,l]=wU({defaultProp:t,onChange:n}),c=e!==void 0,d=c?e:s;{const m=x.useRef(e!==void 0);x.useEffect(()=>{const v=m.current;v!==c&&console.warn(`${i} is changing from ${v?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,i])}const h=x.useCallback(m=>{if(c){const v=SU(m)?m(e):m;v!==e&&l.current?.(v)}else o(m)},[c,e,o,l]);return[d,h]}function wU({defaultProp:e,onChange:t}){const[n,i]=x.useState(e),s=x.useRef(n),o=x.useRef(t);return _U(()=>{o.current=t},[t]),x.useEffect(()=>{s.current!==n&&(o.current?.(n),s.current=n)},[n,s]),[n,i,o]}function SU(e){return typeof e=="function"}function CU(e){const t=EU(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(TU);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function EU(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=NU(s),c=RU(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var AU=Symbol("radix.slottable");function TU(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===AU}function RU(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function NU(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var kU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],PU=kU.reduce((e,t)=>{const n=CU(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function OU(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,MU(s,...t)]}function MU(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function $A(e){const t=DU(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(jU);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function DU(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=zU(s),c=IU(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var LU=Symbol("radix.slottable");function jU(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===LU}function IU(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function zU(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Rg(e){const t=e+"CollectionProvider",[n,i]=OU(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=E=>{const{scope:T,children:k}=E,N=Mt.useRef(null),P=Mt.useRef(new Map).current;return y.jsx(s,{scope:T,itemMap:P,collectionRef:N,children:k})};l.displayName=t;const c=e+"CollectionSlot",d=$A(c),h=Mt.forwardRef((E,T)=>{const{scope:k,children:N}=E,P=o(c,k),O=Ct(T,P.collectionRef);return y.jsx(d,{ref:O,children:N})});h.displayName=c;const m=e+"CollectionItemSlot",v="data-radix-collection-item",b=$A(m),_=Mt.forwardRef((E,T)=>{const{scope:k,children:N,...P}=E,O=Mt.useRef(null),j=Ct(T,O),U=o(m,k);return Mt.useEffect(()=>(U.itemMap.set(O,{ref:O,...P}),()=>{U.itemMap.delete(O)})),y.jsx(b,{[v]:"",ref:j,children:N})});_.displayName=m;function C(E){const T=o(e+"CollectionConsumer",E);return Mt.useCallback(()=>{const N=T.collectionRef.current;if(!N)return[];const P=Array.from(N.querySelectorAll(`[${v}]`));return Array.from(T.itemMap.values()).sort((U,z)=>P.indexOf(U.ref.current)-P.indexOf(z.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:l,Slot:h,ItemSlot:_},C,i]}function BU(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,UU(s,...t)]}function UU(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var FU=x.createContext(void 0);function Ng(e){const t=x.useContext(FU);return e||t||"ltr"}function VU(e){const t=$U(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(qU);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function $U(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=KU(s),c=GU(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var HU=Symbol("radix.slottable");function qU(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===HU}function GU(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function KU(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var WU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],bk=WU.reduce((e,t)=>{const n=VU(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function YU(e,t){e&&Ji.flushSync(()=>e.dispatchEvent(t))}function Ks(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...n)=>t.current?.(...n),[])}function ZU(e,t=globalThis?.document){const n=Ks(e);x.useEffect(()=>{const i=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[n,t])}var XU="DismissableLayer",k0="dismissableLayer.update",QU="dismissableLayer.pointerDownOutside",JU="dismissableLayer.focusOutside",HA,xk=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Yf=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...d}=e,h=x.useContext(xk),[m,v]=x.useState(null),b=m?.ownerDocument??globalThis?.document,[,_]=x.useState({}),C=Ct(t,z=>v(z)),E=Array.from(h.layers),[T]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),k=E.indexOf(T),N=m?E.indexOf(m):-1,P=h.layersWithOutsidePointerEventsDisabled.size>0,O=N>=k,j=n5(z=>{const I=z.target,$=[...h.branches].some(Z=>Z.contains(I));!O||$||(s?.(z),l?.(z),z.defaultPrevented||c?.())},b),U=i5(z=>{const I=z.target;[...h.branches].some(Z=>Z.contains(I))||(o?.(z),l?.(z),z.defaultPrevented||c?.())},b);return ZU(z=>{N===h.layers.size-1&&(i?.(z),!z.defaultPrevented&&c&&(z.preventDefault(),c()))},b),x.useEffect(()=>{if(m)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(HA=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),qA(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=HA)}},[m,b,n,h]),x.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),qA())},[m,h]),x.useEffect(()=>{const z=()=>_({});return document.addEventListener(k0,z),()=>document.removeEventListener(k0,z)},[]),y.jsx(bk.div,{...d,ref:C,style:{pointerEvents:P?O?"auto":"none":void 0,...e.style},onFocusCapture:Ie(e.onFocusCapture,U.onFocusCapture),onBlurCapture:Ie(e.onBlurCapture,U.onBlurCapture),onPointerDownCapture:Ie(e.onPointerDownCapture,j.onPointerDownCapture)})});Yf.displayName=XU;var e5="DismissableLayerBranch",t5=x.forwardRef((e,t)=>{const n=x.useContext(xk),i=x.useRef(null),s=Ct(t,i);return x.useEffect(()=>{const o=i.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),y.jsx(bk.div,{...e,ref:s})});t5.displayName=e5;function n5(e,t=globalThis?.document){const n=Ks(e),i=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const o=c=>{if(c.target&&!i.current){let d=function(){_k(QU,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);i.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>i.current=!0}}function i5(e,t=globalThis?.document){const n=Ks(e),i=x.useRef(!1);return x.useEffect(()=>{const s=o=>{o.target&&!i.current&&_k(JU,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function qA(){const e=new CustomEvent(k0);document.dispatchEvent(e)}function _k(e,t,n,{discrete:i}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),i?YU(s,o):s.dispatchEvent(o)}var Sb=0;function d_(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??GA()),document.body.insertAdjacentElement("beforeend",e[1]??GA()),Sb++,()=>{Sb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Sb--}},[])}function GA(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}function s5(e){const t=r5(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(a5);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function r5(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=c5(s),c=l5(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var o5=Symbol("radix.slottable");function a5(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===o5}function l5(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function c5(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var u5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],d5=u5.reduce((e,t)=>{const n=s5(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),Cb="focusScope.autoFocusOnMount",Eb="focusScope.autoFocusOnUnmount",KA={bubbles:!1,cancelable:!0},f5="FocusScope",kg=x.forwardRef((e,t)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...l}=e,[c,d]=x.useState(null),h=Ks(s),m=Ks(o),v=x.useRef(null),b=Ct(t,E=>d(E)),_=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(i){let E=function(P){if(_.paused||!c)return;const O=P.target;c.contains(O)?v.current=O:_a(v.current,{select:!0})},T=function(P){if(_.paused||!c)return;const O=P.relatedTarget;O!==null&&(c.contains(O)||_a(v.current,{select:!0}))},k=function(P){if(document.activeElement===document.body)for(const j of P)j.removedNodes.length>0&&_a(c)};document.addEventListener("focusin",E),document.addEventListener("focusout",T);const N=new MutationObserver(k);return c&&N.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",T),N.disconnect()}}},[i,c,_.paused]),x.useEffect(()=>{if(c){YA.add(_);const E=document.activeElement;if(!c.contains(E)){const k=new CustomEvent(Cb,KA);c.addEventListener(Cb,h),c.dispatchEvent(k),k.defaultPrevented||(h5(y5(wk(c)),{select:!0}),document.activeElement===E&&_a(c))}return()=>{c.removeEventListener(Cb,h),setTimeout(()=>{const k=new CustomEvent(Eb,KA);c.addEventListener(Eb,m),c.dispatchEvent(k),k.defaultPrevented||_a(E??document.body,{select:!0}),c.removeEventListener(Eb,m),YA.remove(_)},0)}}},[c,h,m,_]);const C=x.useCallback(E=>{if(!n&&!i||_.paused)return;const T=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,k=document.activeElement;if(T&&k){const N=E.currentTarget,[P,O]=m5(N);P&&O?!E.shiftKey&&k===O?(E.preventDefault(),n&&_a(P,{select:!0})):E.shiftKey&&k===P&&(E.preventDefault(),n&&_a(O,{select:!0})):k===N&&E.preventDefault()}},[n,i,_.paused]);return y.jsx(d5.div,{tabIndex:-1,...l,ref:b,onKeyDown:C})});kg.displayName=f5;function h5(e,{select:t=!1}={}){const n=document.activeElement;for(const i of e)if(_a(i,{select:t}),document.activeElement!==n)return}function m5(e){const t=wk(e),n=WA(t,e),i=WA(t.reverse(),e);return[n,i]}function wk(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function WA(e,t){for(const n of e)if(!p5(n,{upTo:t}))return n}function p5(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function g5(e){return e instanceof HTMLInputElement&&"select"in e}function _a(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&g5(e)&&t&&e.select()}}var YA=v5();function v5(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=ZA(e,t),e.unshift(t)},remove(t){e=ZA(e,t),e[0]?.resume()}}}function ZA(e,t){const n=[...e],i=n.indexOf(t);return i!==-1&&n.splice(i,1),n}function y5(e){return e.filter(t=>t.tagName!=="A")}var b5=Jx[" useId ".trim().toString()]||(()=>{}),x5=0;function _s(e){const[t,n]=x.useState(b5());return Ln(()=>{n(i=>i??String(x5++))},[e]),t?`radix-${t}`:""}const _5=["top","right","bottom","left"],La=Math.min,gs=Math.max,Hp=Math.round,$m=Math.floor,Wr=e=>({x:e,y:e}),w5={left:"right",right:"left",bottom:"top",top:"bottom"},S5={start:"end",end:"start"};function P0(e,t,n){return gs(e,La(t,n))}function Lo(e,t){return typeof e=="function"?e(t):e}function jo(e){return e.split("-")[0]}function Mu(e){return e.split("-")[1]}function f_(e){return e==="x"?"y":"x"}function h_(e){return e==="y"?"height":"width"}const C5=new Set(["top","bottom"]);function Gr(e){return C5.has(jo(e))?"y":"x"}function m_(e){return f_(Gr(e))}function E5(e,t,n){n===void 0&&(n=!1);const i=Mu(e),s=m_(e),o=h_(s);let l=s==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=qp(l)),[l,qp(l)]}function A5(e){const t=qp(e);return[O0(e),t,O0(t)]}function O0(e){return e.replace(/start|end/g,t=>S5[t])}const XA=["left","right"],QA=["right","left"],T5=["top","bottom"],R5=["bottom","top"];function N5(e,t,n){switch(e){case"top":case"bottom":return n?t?QA:XA:t?XA:QA;case"left":case"right":return t?T5:R5;default:return[]}}function k5(e,t,n,i){const s=Mu(e);let o=N5(jo(e),n==="start",i);return s&&(o=o.map(l=>l+"-"+s),t&&(o=o.concat(o.map(O0)))),o}function qp(e){return e.replace(/left|right|bottom|top/g,t=>w5[t])}function P5(e){return{top:0,right:0,bottom:0,left:0,...e}}function Sk(e){return typeof e!="number"?P5(e):{top:e,right:e,bottom:e,left:e}}function Gp(e){const{x:t,y:n,width:i,height:s}=e;return{width:i,height:s,top:n,left:t,right:t+i,bottom:n+s,x:t,y:n}}function JA(e,t,n){let{reference:i,floating:s}=e;const o=Gr(t),l=m_(t),c=h_(l),d=jo(t),h=o==="y",m=i.x+i.width/2-s.width/2,v=i.y+i.height/2-s.height/2,b=i[c]/2-s[c]/2;let _;switch(d){case"top":_={x:m,y:i.y-s.height};break;case"bottom":_={x:m,y:i.y+i.height};break;case"right":_={x:i.x+i.width,y:v};break;case"left":_={x:i.x-s.width,y:v};break;default:_={x:i.x,y:i.y}}switch(Mu(t)){case"start":_[l]-=b*(n&&h?-1:1);break;case"end":_[l]+=b*(n&&h?-1:1);break}return _}async function O5(e,t){var n;t===void 0&&(t={});const{x:i,y:s,platform:o,rects:l,elements:c,strategy:d}=e,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:v="floating",altBoundary:b=!1,padding:_=0}=Lo(t,e),C=Sk(_),T=c[b?v==="floating"?"reference":"floating":v],k=Gp(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(T)))==null||n?T:T.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:h,rootBoundary:m,strategy:d})),N=v==="floating"?{x:i,y:s,width:l.floating.width,height:l.floating.height}:l.reference,P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),O=await(o.isElement==null?void 0:o.isElement(P))?await(o.getScale==null?void 0:o.getScale(P))||{x:1,y:1}:{x:1,y:1},j=Gp(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:N,offsetParent:P,strategy:d}):N);return{top:(k.top-j.top+C.top)/O.y,bottom:(j.bottom-k.bottom+C.bottom)/O.y,left:(k.left-j.left+C.left)/O.x,right:(j.right-k.right+C.right)/O.x}}const M5=async(e,t,n)=>{const{placement:i="bottom",strategy:s="absolute",middleware:o=[],platform:l}=n,c=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let h=await l.getElementRects({reference:e,floating:t,strategy:s}),{x:m,y:v}=JA(h,i,d),b=i,_={},C=0;for(let T=0;T<c.length;T++){var E;const{name:k,fn:N}=c[T],{x:P,y:O,data:j,reset:U}=await N({x:m,y:v,initialPlacement:i,placement:b,strategy:s,middlewareData:_,rects:h,platform:{...l,detectOverflow:(E=l.detectOverflow)!=null?E:O5},elements:{reference:e,floating:t}});m=P??m,v=O??v,_={..._,[k]:{..._[k],...j}},U&&C<=50&&(C++,typeof U=="object"&&(U.placement&&(b=U.placement),U.rects&&(h=U.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:s}):U.rects),{x:m,y:v}=JA(h,b,d)),T=-1)}return{x:m,y:v,placement:b,strategy:s,middlewareData:_}},D5=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:s,rects:o,platform:l,elements:c,middlewareData:d}=t,{element:h,padding:m=0}=Lo(e,t)||{};if(h==null)return{};const v=Sk(m),b={x:n,y:i},_=m_(s),C=h_(_),E=await l.getDimensions(h),T=_==="y",k=T?"top":"left",N=T?"bottom":"right",P=T?"clientHeight":"clientWidth",O=o.reference[C]+o.reference[_]-b[_]-o.floating[C],j=b[_]-o.reference[_],U=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let z=U?U[P]:0;(!z||!await(l.isElement==null?void 0:l.isElement(U)))&&(z=c.floating[P]||o.floating[C]);const I=O/2-j/2,$=z/2-E[C]/2-1,Z=La(v[k],$),K=La(v[N],$),W=Z,X=z-E[C]-K,se=z/2-E[C]/2+I,ve=P0(W,se,X),G=!d.arrow&&Mu(s)!=null&&se!==ve&&o.reference[C]/2-(se<W?Z:K)-E[C]/2<0,ee=G?se<W?se-W:se-X:0;return{[_]:b[_]+ee,data:{[_]:ve,centerOffset:se-ve-ee,...G&&{alignmentOffset:ee}},reset:G}}}),L5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:s,middlewareData:o,rects:l,initialPlacement:c,platform:d,elements:h}=t,{mainAxis:m=!0,crossAxis:v=!0,fallbackPlacements:b,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:E=!0,...T}=Lo(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const k=jo(s),N=Gr(c),P=jo(c)===c,O=await(d.isRTL==null?void 0:d.isRTL(h.floating)),j=b||(P||!E?[qp(c)]:A5(c)),U=C!=="none";!b&&U&&j.push(...k5(c,E,C,O));const z=[c,...j],I=await d.detectOverflow(t,T),$=[];let Z=((i=o.flip)==null?void 0:i.overflows)||[];if(m&&$.push(I[k]),v){const se=E5(s,l,O);$.push(I[se[0]],I[se[1]])}if(Z=[...Z,{placement:s,overflows:$}],!$.every(se=>se<=0)){var K,W;const se=(((K=o.flip)==null?void 0:K.index)||0)+1,ve=z[se];if(ve&&(!(v==="alignment"?N!==Gr(ve):!1)||Z.every(Y=>Gr(Y.placement)===N?Y.overflows[0]>0:!0)))return{data:{index:se,overflows:Z},reset:{placement:ve}};let G=(W=Z.filter(ee=>ee.overflows[0]<=0).sort((ee,Y)=>ee.overflows[1]-Y.overflows[1])[0])==null?void 0:W.placement;if(!G)switch(_){case"bestFit":{var X;const ee=(X=Z.filter(Y=>{if(U){const de=Gr(Y.placement);return de===N||de==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(de=>de>0).reduce((de,ae)=>de+ae,0)]).sort((Y,de)=>Y[1]-de[1])[0])==null?void 0:X[0];ee&&(G=ee);break}case"initialPlacement":G=c;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function e1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function t1(e){return _5.some(t=>e[t]>=0)}const j5=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:i}=t,{strategy:s="referenceHidden",...o}=Lo(e,t);switch(s){case"referenceHidden":{const l=await i.detectOverflow(t,{...o,elementContext:"reference"}),c=e1(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:t1(c)}}}case"escaped":{const l=await i.detectOverflow(t,{...o,altBoundary:!0}),c=e1(l,n.floating);return{data:{escapedOffsets:c,escaped:t1(c)}}}default:return{}}}}},Ck=new Set(["left","top"]);async function I5(e,t){const{placement:n,platform:i,elements:s}=e,o=await(i.isRTL==null?void 0:i.isRTL(s.floating)),l=jo(n),c=Mu(n),d=Gr(n)==="y",h=Ck.has(l)?-1:1,m=o&&d?-1:1,v=Lo(t,e);let{mainAxis:b,crossAxis:_,alignmentAxis:C}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return c&&typeof C=="number"&&(_=c==="end"?C*-1:C),d?{x:_*m,y:b*h}:{x:b*h,y:_*m}}const z5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:s,y:o,placement:l,middlewareData:c}=t,d=await I5(t,e);return l===((n=c.offset)==null?void 0:n.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:s+d.x,y:o+d.y,data:{...d,placement:l}}}}},B5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:s,platform:o}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:k=>{let{x:N,y:P}=k;return{x:N,y:P}}},...h}=Lo(e,t),m={x:n,y:i},v=await o.detectOverflow(t,h),b=Gr(jo(s)),_=f_(b);let C=m[_],E=m[b];if(l){const k=_==="y"?"top":"left",N=_==="y"?"bottom":"right",P=C+v[k],O=C-v[N];C=P0(P,C,O)}if(c){const k=b==="y"?"top":"left",N=b==="y"?"bottom":"right",P=E+v[k],O=E-v[N];E=P0(P,E,O)}const T=d.fn({...t,[_]:C,[b]:E});return{...T,data:{x:T.x-n,y:T.y-i,enabled:{[_]:l,[b]:c}}}}}},U5=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:i,placement:s,rects:o,middlewareData:l}=t,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=Lo(e,t),m={x:n,y:i},v=Gr(s),b=f_(v);let _=m[b],C=m[v];const E=Lo(c,t),T=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(d){const P=b==="y"?"height":"width",O=o.reference[b]-o.floating[P]+T.mainAxis,j=o.reference[b]+o.reference[P]-T.mainAxis;_<O?_=O:_>j&&(_=j)}if(h){var k,N;const P=b==="y"?"width":"height",O=Ck.has(jo(s)),j=o.reference[v]-o.floating[P]+(O&&((k=l.offset)==null?void 0:k[v])||0)+(O?0:T.crossAxis),U=o.reference[v]+o.reference[P]+(O?0:((N=l.offset)==null?void 0:N[v])||0)-(O?T.crossAxis:0);C<j?C=j:C>U&&(C=U)}return{[b]:_,[v]:C}}}},F5=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,i;const{placement:s,rects:o,platform:l,elements:c}=t,{apply:d=()=>{},...h}=Lo(e,t),m=await l.detectOverflow(t,h),v=jo(s),b=Mu(s),_=Gr(s)==="y",{width:C,height:E}=o.floating;let T,k;v==="top"||v==="bottom"?(T=v,k=b===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(k=v,T=b==="end"?"top":"bottom");const N=E-m.top-m.bottom,P=C-m.left-m.right,O=La(E-m[T],N),j=La(C-m[k],P),U=!t.middlewareData.shift;let z=O,I=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(I=P),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(z=N),U&&!b){const Z=gs(m.left,0),K=gs(m.right,0),W=gs(m.top,0),X=gs(m.bottom,0);_?I=C-2*(Z!==0||K!==0?Z+K:gs(m.left,m.right)):z=E-2*(W!==0||X!==0?W+X:gs(m.top,m.bottom))}await d({...t,availableWidth:I,availableHeight:z});const $=await l.getDimensions(c.floating);return C!==$.width||E!==$.height?{reset:{rects:!0}}:{}}}};function Pg(){return typeof window<"u"}function Du(e){return Ek(e)?(e.nodeName||"").toLowerCase():"#document"}function ws(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Jr(e){var t;return(t=(Ek(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ek(e){return Pg()?e instanceof Node||e instanceof ws(e).Node:!1}function br(e){return Pg()?e instanceof Element||e instanceof ws(e).Element:!1}function Zr(e){return Pg()?e instanceof HTMLElement||e instanceof ws(e).HTMLElement:!1}function n1(e){return!Pg()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ws(e).ShadowRoot}const V5=new Set(["inline","contents"]);function Zf(e){const{overflow:t,overflowX:n,overflowY:i,display:s}=xr(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!V5.has(s)}const $5=new Set(["table","td","th"]);function H5(e){return $5.has(Du(e))}const q5=[":popover-open",":modal"];function Og(e){return q5.some(t=>{try{return e.matches(t)}catch{return!1}})}const G5=["transform","translate","scale","rotate","perspective"],K5=["transform","translate","scale","rotate","perspective","filter"],W5=["paint","layout","strict","content"];function p_(e){const t=g_(),n=br(e)?xr(e):e;return G5.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||K5.some(i=>(n.willChange||"").includes(i))||W5.some(i=>(n.contain||"").includes(i))}function Y5(e){let t=ja(e);for(;Zr(t)&&!Ru(t);){if(p_(t))return t;if(Og(t))return null;t=ja(t)}return null}function g_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Z5=new Set(["html","body","#document"]);function Ru(e){return Z5.has(Du(e))}function xr(e){return ws(e).getComputedStyle(e)}function Mg(e){return br(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ja(e){if(Du(e)==="html")return e;const t=e.assignedSlot||e.parentNode||n1(e)&&e.host||Jr(e);return n1(t)?t.host:t}function Ak(e){const t=ja(e);return Ru(t)?e.ownerDocument?e.ownerDocument.body:e.body:Zr(t)&&Zf(t)?t:Ak(t)}function Cf(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Ak(e),o=s===((i=e.ownerDocument)==null?void 0:i.body),l=ws(s);if(o){const c=M0(l);return t.concat(l,l.visualViewport||[],Zf(s)?s:[],c&&n?Cf(c):[])}return t.concat(s,Cf(s,[],n))}function M0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Tk(e){const t=xr(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const s=Zr(e),o=s?e.offsetWidth:n,l=s?e.offsetHeight:i,c=Hp(n)!==o||Hp(i)!==l;return c&&(n=o,i=l),{width:n,height:i,$:c}}function v_(e){return br(e)?e:e.contextElement}function xu(e){const t=v_(e);if(!Zr(t))return Wr(1);const n=t.getBoundingClientRect(),{width:i,height:s,$:o}=Tk(t);let l=(o?Hp(n.width):n.width)/i,c=(o?Hp(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const X5=Wr(0);function Rk(e){const t=ws(e);return!g_()||!t.visualViewport?X5:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Q5(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ws(e)?!1:t}function Kl(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=v_(e);let l=Wr(1);t&&(i?br(i)&&(l=xu(i)):l=xu(e));const c=Q5(o,n,i)?Rk(o):Wr(0);let d=(s.left+c.x)/l.x,h=(s.top+c.y)/l.y,m=s.width/l.x,v=s.height/l.y;if(o){const b=ws(o),_=i&&br(i)?ws(i):i;let C=b,E=M0(C);for(;E&&i&&_!==C;){const T=xu(E),k=E.getBoundingClientRect(),N=xr(E),P=k.left+(E.clientLeft+parseFloat(N.paddingLeft))*T.x,O=k.top+(E.clientTop+parseFloat(N.paddingTop))*T.y;d*=T.x,h*=T.y,m*=T.x,v*=T.y,d+=P,h+=O,C=ws(E),E=M0(C)}}return Gp({width:m,height:v,x:d,y:h})}function Dg(e,t){const n=Mg(e).scrollLeft;return t?t.left+n:Kl(Jr(e)).left+n}function Nk(e,t){const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-Dg(e,n),s=n.top+t.scrollTop;return{x:i,y:s}}function J5(e){let{elements:t,rect:n,offsetParent:i,strategy:s}=e;const o=s==="fixed",l=Jr(i),c=t?Og(t.floating):!1;if(i===l||c&&o)return n;let d={scrollLeft:0,scrollTop:0},h=Wr(1);const m=Wr(0),v=Zr(i);if((v||!v&&!o)&&((Du(i)!=="body"||Zf(l))&&(d=Mg(i)),Zr(i))){const _=Kl(i);h=xu(i),m.x=_.x+i.clientLeft,m.y=_.y+i.clientTop}const b=l&&!v&&!o?Nk(l,d):Wr(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+m.x+b.x,y:n.y*h.y-d.scrollTop*h.y+m.y+b.y}}function e4(e){return Array.from(e.getClientRects())}function t4(e){const t=Jr(e),n=Mg(e),i=e.ownerDocument.body,s=gs(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),o=gs(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let l=-n.scrollLeft+Dg(e);const c=-n.scrollTop;return xr(i).direction==="rtl"&&(l+=gs(t.clientWidth,i.clientWidth)-s),{width:s,height:o,x:l,y:c}}const i1=25;function n4(e,t){const n=ws(e),i=Jr(e),s=n.visualViewport;let o=i.clientWidth,l=i.clientHeight,c=0,d=0;if(s){o=s.width,l=s.height;const m=g_();(!m||m&&t==="fixed")&&(c=s.offsetLeft,d=s.offsetTop)}const h=Dg(i);if(h<=0){const m=i.ownerDocument,v=m.body,b=getComputedStyle(v),_=m.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,C=Math.abs(i.clientWidth-v.clientWidth-_);C<=i1&&(o-=C)}else h<=i1&&(o+=h);return{width:o,height:l,x:c,y:d}}const i4=new Set(["absolute","fixed"]);function s4(e,t){const n=Kl(e,!0,t==="fixed"),i=n.top+e.clientTop,s=n.left+e.clientLeft,o=Zr(e)?xu(e):Wr(1),l=e.clientWidth*o.x,c=e.clientHeight*o.y,d=s*o.x,h=i*o.y;return{width:l,height:c,x:d,y:h}}function s1(e,t,n){let i;if(t==="viewport")i=n4(e,n);else if(t==="document")i=t4(Jr(e));else if(br(t))i=s4(t,n);else{const s=Rk(e);i={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Gp(i)}function kk(e,t){const n=ja(e);return n===t||!br(n)||Ru(n)?!1:xr(n).position==="fixed"||kk(n,t)}function r4(e,t){const n=t.get(e);if(n)return n;let i=Cf(e,[],!1).filter(c=>br(c)&&Du(c)!=="body"),s=null;const o=xr(e).position==="fixed";let l=o?ja(e):e;for(;br(l)&&!Ru(l);){const c=xr(l),d=p_(l);!d&&c.position==="fixed"&&(s=null),(o?!d&&!s:!d&&c.position==="static"&&!!s&&i4.has(s.position)||Zf(l)&&!d&&kk(e,l))?i=i.filter(m=>m!==l):s=c,l=ja(l)}return t.set(e,i),i}function o4(e){let{element:t,boundary:n,rootBoundary:i,strategy:s}=e;const l=[...n==="clippingAncestors"?Og(t)?[]:r4(t,this._c):[].concat(n),i],c=l[0],d=l.reduce((h,m)=>{const v=s1(t,m,s);return h.top=gs(v.top,h.top),h.right=La(v.right,h.right),h.bottom=La(v.bottom,h.bottom),h.left=gs(v.left,h.left),h},s1(t,c,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function a4(e){const{width:t,height:n}=Tk(e);return{width:t,height:n}}function l4(e,t,n){const i=Zr(t),s=Jr(t),o=n==="fixed",l=Kl(e,!0,o,t);let c={scrollLeft:0,scrollTop:0};const d=Wr(0);function h(){d.x=Dg(s)}if(i||!i&&!o)if((Du(t)!=="body"||Zf(s))&&(c=Mg(t)),i){const _=Kl(t,!0,o,t);d.x=_.x+t.clientLeft,d.y=_.y+t.clientTop}else s&&h();o&&!i&&s&&h();const m=s&&!i&&!o?Nk(s,c):Wr(0),v=l.left+c.scrollLeft-d.x-m.x,b=l.top+c.scrollTop-d.y-m.y;return{x:v,y:b,width:l.width,height:l.height}}function Ab(e){return xr(e).position==="static"}function r1(e,t){if(!Zr(e)||xr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Jr(e)===n&&(n=n.ownerDocument.body),n}function Pk(e,t){const n=ws(e);if(Og(e))return n;if(!Zr(e)){let s=ja(e);for(;s&&!Ru(s);){if(br(s)&&!Ab(s))return s;s=ja(s)}return n}let i=r1(e,t);for(;i&&H5(i)&&Ab(i);)i=r1(i,t);return i&&Ru(i)&&Ab(i)&&!p_(i)?n:i||Y5(e)||n}const c4=async function(e){const t=this.getOffsetParent||Pk,n=this.getDimensions,i=await n(e.floating);return{reference:l4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function u4(e){return xr(e).direction==="rtl"}const d4={convertOffsetParentRelativeRectToViewportRelativeRect:J5,getDocumentElement:Jr,getClippingRect:o4,getOffsetParent:Pk,getElementRects:c4,getClientRects:e4,getDimensions:a4,getScale:xu,isElement:br,isRTL:u4};function Ok(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function f4(e,t){let n=null,i;const s=Jr(e);function o(){var c;clearTimeout(i),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const h=e.getBoundingClientRect(),{left:m,top:v,width:b,height:_}=h;if(c||t(),!b||!_)return;const C=$m(v),E=$m(s.clientWidth-(m+b)),T=$m(s.clientHeight-(v+_)),k=$m(m),P={rootMargin:-C+"px "+-E+"px "+-T+"px "+-k+"px",threshold:gs(0,La(1,d))||1};let O=!0;function j(U){const z=U[0].intersectionRatio;if(z!==d){if(!O)return l();z?l(!1,z):i=setTimeout(()=>{l(!1,1e-7)},1e3)}z===1&&!Ok(h,e.getBoundingClientRect())&&l(),O=!1}try{n=new IntersectionObserver(j,{...P,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,P)}n.observe(e)}return l(!0),o}function h4(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=i,h=v_(e),m=s||o?[...h?Cf(h):[],...Cf(t)]:[];m.forEach(k=>{s&&k.addEventListener("scroll",n,{passive:!0}),o&&k.addEventListener("resize",n)});const v=h&&c?f4(h,n):null;let b=-1,_=null;l&&(_=new ResizeObserver(k=>{let[N]=k;N&&N.target===h&&_&&(_.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var P;(P=_)==null||P.observe(t)})),n()}),h&&!d&&_.observe(h),_.observe(t));let C,E=d?Kl(e):null;d&&T();function T(){const k=Kl(e);E&&!Ok(E,k)&&n(),E=k,C=requestAnimationFrame(T)}return n(),()=>{var k;m.forEach(N=>{s&&N.removeEventListener("scroll",n),o&&N.removeEventListener("resize",n)}),v?.(),(k=_)==null||k.disconnect(),_=null,d&&cancelAnimationFrame(C)}}const m4=z5,p4=B5,g4=L5,v4=F5,y4=j5,o1=D5,b4=U5,x4=(e,t,n)=>{const i=new Map,s={platform:d4,...n},o={...s.platform,_c:i};return M5(e,t,{...s,platform:o})};var _4=typeof document<"u",w4=function(){},wp=_4?x.useLayoutEffect:w4;function Kp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(!Kp(e[i],t[i]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(t,s[i]))return!1;for(i=n;i--!==0;){const o=s[i];if(!(o==="_owner"&&e.$$typeof)&&!Kp(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Mk(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function a1(e,t){const n=Mk(e);return Math.round(t*n)/n}function Tb(e){const t=x.useRef(e);return wp(()=>{t.current=e}),t}function S4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:s,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:d,open:h}=e,[m,v]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,_]=x.useState(i);Kp(b,i)||_(i);const[C,E]=x.useState(null),[T,k]=x.useState(null),N=x.useCallback(Y=>{Y!==U.current&&(U.current=Y,E(Y))},[]),P=x.useCallback(Y=>{Y!==z.current&&(z.current=Y,k(Y))},[]),O=o||C,j=l||T,U=x.useRef(null),z=x.useRef(null),I=x.useRef(m),$=d!=null,Z=Tb(d),K=Tb(s),W=Tb(h),X=x.useCallback(()=>{if(!U.current||!z.current)return;const Y={placement:t,strategy:n,middleware:b};K.current&&(Y.platform=K.current),x4(U.current,z.current,Y).then(de=>{const ae={...de,isPositioned:W.current!==!1};se.current&&!Kp(I.current,ae)&&(I.current=ae,Ji.flushSync(()=>{v(ae)}))})},[b,t,n,K,W]);wp(()=>{h===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,v(Y=>({...Y,isPositioned:!1})))},[h]);const se=x.useRef(!1);wp(()=>(se.current=!0,()=>{se.current=!1}),[]),wp(()=>{if(O&&(U.current=O),j&&(z.current=j),O&&j){if(Z.current)return Z.current(O,j,X);X()}},[O,j,X,Z,$]);const ve=x.useMemo(()=>({reference:U,floating:z,setReference:N,setFloating:P}),[N,P]),G=x.useMemo(()=>({reference:O,floating:j}),[O,j]),ee=x.useMemo(()=>{const Y={position:n,left:0,top:0};if(!G.floating)return Y;const de=a1(G.floating,m.x),ae=a1(G.floating,m.y);return c?{...Y,transform:"translate("+de+"px, "+ae+"px)",...Mk(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:de,top:ae}},[n,c,G.floating,m.x,m.y]);return x.useMemo(()=>({...m,update:X,refs:ve,elements:G,floatingStyles:ee}),[m,X,ve,G,ee])}const C4=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:i,padding:s}=typeof e=="function"?e(n):e;return i&&t(i)?i.current!=null?o1({element:i.current,padding:s}).fn(n):{}:i?o1({element:i,padding:s}).fn(n):{}}}},E4=(e,t)=>({...m4(e),options:[e,t]}),A4=(e,t)=>({...p4(e),options:[e,t]}),T4=(e,t)=>({...b4(e),options:[e,t]}),R4=(e,t)=>({...g4(e),options:[e,t]}),N4=(e,t)=>({...v4(e),options:[e,t]}),k4=(e,t)=>({...y4(e),options:[e,t]}),P4=(e,t)=>({...C4(e),options:[e,t]});function O4(e){const t=M4(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(L4);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function M4(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=I4(s),c=j4(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var D4=Symbol("radix.slottable");function L4(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===D4}function j4(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function I4(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var z4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],B4=z4.reduce((e,t)=>{const n=O4(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),U4="Arrow",Dk=x.forwardRef((e,t)=>{const{children:n,width:i=10,height:s=5,...o}=e;return y.jsx(B4.svg,{...o,ref:t,width:i,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});Dk.displayName=U4;var F4=Dk;function V4(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,$4(s,...t)]}function $4(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function H4(e){const t=q4(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(K4);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function q4(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=Y4(s),c=W4(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var G4=Symbol("radix.slottable");function K4(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===G4}function W4(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Y4(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Z4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Lk=Z4.reduce((e,t)=>{const n=H4(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function jk(e){const[t,n]=x.useState(void 0);return Ln(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let l,c;if("borderBoxSize"in o){const d=o.borderBoxSize,h=Array.isArray(d)?d[0]:d;l=h.inlineSize,c=h.blockSize}else l=e.offsetWidth,c=e.offsetHeight;n({width:l,height:c})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else n(void 0)},[e]),t}var y_="Popper",[Ik,Lu]=V4(y_),[X4,zk]=Ik(y_),Bk=e=>{const{__scopePopper:t,children:n}=e,[i,s]=x.useState(null);return y.jsx(X4,{scope:t,anchor:i,onAnchorChange:s,children:n})};Bk.displayName=y_;var Uk="PopperAnchor",Fk=x.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:i,...s}=e,o=zk(Uk,n),l=x.useRef(null),c=Ct(t,l),d=x.useRef(null);return x.useEffect(()=>{const h=d.current;d.current=i?.current||l.current,h!==d.current&&o.onAnchorChange(d.current)}),i?null:y.jsx(Lk.div,{...s,ref:c})});Fk.displayName=Uk;var b_="PopperContent",[Q4,J4]=Ik(b_),Vk=x.forwardRef((e,t)=>{const{__scopePopper:n,side:i="bottom",sideOffset:s=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:v="partial",hideWhenDetached:b=!1,updatePositionStrategy:_="optimized",onPlaced:C,...E}=e,T=zk(b_,n),[k,N]=x.useState(null),P=Ct(t,Se=>N(Se)),[O,j]=x.useState(null),U=jk(O),z=U?.width??0,I=U?.height??0,$=i+(o!=="center"?"-"+o:""),Z=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},K=Array.isArray(h)?h:[h],W=K.length>0,X={padding:Z,boundary:K.filter(tF),altBoundary:W},{refs:se,floatingStyles:ve,placement:G,isPositioned:ee,middlewareData:Y}=S4({strategy:"fixed",placement:$,whileElementsMounted:(...Se)=>h4(...Se,{animationFrame:_==="always"}),elements:{reference:T.anchor},middleware:[E4({mainAxis:s+I,alignmentAxis:l}),d&&A4({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?T4():void 0,...X}),d&&R4({...X}),N4({...X,apply:({elements:Se,rects:je,availableWidth:ke,availableHeight:Oe})=>{const{width:Ue,height:Xe}=je.reference,ht=Se.floating.style;ht.setProperty("--radix-popper-available-width",`${ke}px`),ht.setProperty("--radix-popper-available-height",`${Oe}px`),ht.setProperty("--radix-popper-anchor-width",`${Ue}px`),ht.setProperty("--radix-popper-anchor-height",`${Xe}px`)}}),O&&P4({element:O,padding:c}),nF({arrowWidth:z,arrowHeight:I}),b&&k4({strategy:"referenceHidden",...X})]}),[de,ae]=qk(G),H=Ks(C);Ln(()=>{ee&&H?.()},[ee,H]);const ie=Y.arrow?.x,me=Y.arrow?.y,xe=Y.arrow?.centerOffset!==0,[Ce,_e]=x.useState();return Ln(()=>{k&&_e(window.getComputedStyle(k).zIndex)},[k]),y.jsx("div",{ref:se.setFloating,"data-radix-popper-content-wrapper":"",style:{...ve,transform:ee?ve.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ce,"--radix-popper-transform-origin":[Y.transformOrigin?.x,Y.transformOrigin?.y].join(" "),...Y.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:y.jsx(Q4,{scope:n,placedSide:de,onArrowChange:j,arrowX:ie,arrowY:me,shouldHideArrow:xe,children:y.jsx(Lk.div,{"data-side":de,"data-align":ae,...E,ref:P,style:{...E.style,animation:ee?void 0:"none"}})})})});Vk.displayName=b_;var $k="PopperArrow",eF={top:"bottom",right:"left",bottom:"top",left:"right"},Hk=x.forwardRef(function(t,n){const{__scopePopper:i,...s}=t,o=J4($k,i),l=eF[o.placedSide];return y.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:y.jsx(F4,{...s,ref:n,style:{...s.style,display:"block"}})})});Hk.displayName=$k;function tF(e){return e!==null}var nF=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:i,middlewareData:s}=t,l=s.arrow?.centerOffset!==0,c=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[h,m]=qk(n),v={start:"0%",center:"50%",end:"100%"}[m],b=(s.arrow?.x??0)+c/2,_=(s.arrow?.y??0)+d/2;let C="",E="";return h==="bottom"?(C=l?v:`${b}px`,E=`${-d}px`):h==="top"?(C=l?v:`${b}px`,E=`${i.floating.height+d}px`):h==="right"?(C=`${-d}px`,E=l?v:`${_}px`):h==="left"&&(C=`${i.floating.width+d}px`,E=l?v:`${_}px`),{data:{x:C,y:E}}}});function qk(e){const[t,n="center"]=e.split("-");return[t,n]}var Lg=Bk,x_=Fk,__=Vk,w_=Hk;function iF(e){const t=sF(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(oF);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function sF(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=lF(s),c=aF(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rF=Symbol("radix.slottable");function oF(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rF}function aF(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function lF(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var cF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],uF=cF.reduce((e,t)=>{const n=iF(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),dF="Portal",Xf=x.forwardRef((e,t)=>{const{container:n,...i}=e,[s,o]=x.useState(!1);Ln(()=>o(!0),[]);const l=n||s&&globalThis?.document?.body;return l?v3.createPortal(y.jsx(uF.div,{...i,ref:t}),l):null});Xf.displayName=dF;function fF(e,t){return x.useReducer((n,i)=>t[n][i]??n,e)}var wr=e=>{const{present:t,children:n}=e,i=hF(t),s=typeof n=="function"?n({present:i.isPresent}):x.Children.only(n),o=Ct(i.ref,mF(s));return typeof n=="function"||i.isPresent?x.cloneElement(s,{ref:o}):null};wr.displayName="Presence";function hF(e){const[t,n]=x.useState(),i=x.useRef(null),s=x.useRef(e),o=x.useRef("none"),l=e?"mounted":"unmounted",[c,d]=fF(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const h=Hm(i.current);o.current=c==="mounted"?h:"none"},[c]),Ln(()=>{const h=i.current,m=s.current;if(m!==e){const b=o.current,_=Hm(h);e?d("MOUNT"):_==="none"||h?.display==="none"?d("UNMOUNT"):d(m&&b!==_?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),Ln(()=>{if(t){let h;const m=t.ownerDocument.defaultView??window,v=_=>{const E=Hm(i.current).includes(CSS.escape(_.animationName));if(_.target===t&&E&&(d("ANIMATION_END"),!s.current)){const T=t.style.animationFillMode;t.style.animationFillMode="forwards",h=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=T)})}},b=_=>{_.target===t&&(o.current=Hm(i.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{m.clearTimeout(h),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:x.useCallback(h=>{i.current=h?getComputedStyle(h):null,n(h)},[])}}function Hm(e){return e?.animationName||"none"}function mF(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Gk(e){const t=pF(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(vF);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function pF(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=bF(s),c=yF(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var gF=Symbol("radix.slottable");function vF(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gF}function yF(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function bF(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var xF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qf=xF.reduce((e,t)=>{const n=Gk(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function _F(e,t){e&&Ji.flushSync(()=>e.dispatchEvent(t))}function wF(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,SF(s,...t)]}function SF(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function CF(e){const t=EF(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(TF);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function EF(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=NF(s),c=RF(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var AF=Symbol("radix.slottable");function TF(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===AF}function RF(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function NF(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var kF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Kk=kF.reduce((e,t)=>{const n=CF(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),Rb="rovingFocusGroup.onEntryFocus",PF={bubbles:!1,cancelable:!0},Jf="RovingFocusGroup",[D0,Wk,OF]=Rg(Jf),[MF,Yk]=wF(Jf,[OF]),[DF,LF]=MF(Jf),Zk=x.forwardRef((e,t)=>y.jsx(D0.Provider,{scope:e.__scopeRovingFocusGroup,children:y.jsx(D0.Slot,{scope:e.__scopeRovingFocusGroup,children:y.jsx(jF,{...e,ref:t})})}));Zk.displayName=Jf;var jF=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:s=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...v}=e,b=x.useRef(null),_=Ct(t,b),C=Ng(o),[E,T]=Do({prop:l,defaultProp:c??null,onChange:d,caller:Jf}),[k,N]=x.useState(!1),P=Ks(h),O=Wk(n),j=x.useRef(!1),[U,z]=x.useState(0);return x.useEffect(()=>{const I=b.current;if(I)return I.addEventListener(Rb,P),()=>I.removeEventListener(Rb,P)},[P]),y.jsx(DF,{scope:n,orientation:i,dir:C,loop:s,currentTabStopId:E,onItemFocus:x.useCallback(I=>T(I),[T]),onItemShiftTab:x.useCallback(()=>N(!0),[]),onFocusableItemAdd:x.useCallback(()=>z(I=>I+1),[]),onFocusableItemRemove:x.useCallback(()=>z(I=>I-1),[]),children:y.jsx(Kk.div,{tabIndex:k||U===0?-1:0,"data-orientation":i,...v,ref:_,style:{outline:"none",...e.style},onMouseDown:Ie(e.onMouseDown,()=>{j.current=!0}),onFocus:Ie(e.onFocus,I=>{const $=!j.current;if(I.target===I.currentTarget&&$&&!k){const Z=new CustomEvent(Rb,PF);if(I.currentTarget.dispatchEvent(Z),!Z.defaultPrevented){const K=O().filter(G=>G.focusable),W=K.find(G=>G.active),X=K.find(G=>G.id===E),ve=[W,X,...K].filter(Boolean).map(G=>G.ref.current);Jk(ve,m)}}j.current=!1}),onBlur:Ie(e.onBlur,()=>N(!1))})})}),Xk="RovingFocusGroupItem",Qk=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:s=!1,tabStopId:o,children:l,...c}=e,d=_s(),h=o||d,m=LF(Xk,n),v=m.currentTabStopId===h,b=Wk(n),{onFocusableItemAdd:_,onFocusableItemRemove:C,currentTabStopId:E}=m;return x.useEffect(()=>{if(i)return _(),()=>C()},[i,_,C]),y.jsx(D0.ItemSlot,{scope:n,id:h,focusable:i,active:s,children:y.jsx(Kk.span,{tabIndex:v?0:-1,"data-orientation":m.orientation,...c,ref:t,onMouseDown:Ie(e.onMouseDown,T=>{i?m.onItemFocus(h):T.preventDefault()}),onFocus:Ie(e.onFocus,()=>m.onItemFocus(h)),onKeyDown:Ie(e.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){m.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const k=BF(T,m.orientation,m.dir);if(k!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let P=b().filter(O=>O.focusable).map(O=>O.ref.current);if(k==="last")P.reverse();else if(k==="prev"||k==="next"){k==="prev"&&P.reverse();const O=P.indexOf(T.currentTarget);P=m.loop?UF(P,O+1):P.slice(O+1)}setTimeout(()=>Jk(P))}}),children:typeof l=="function"?l({isCurrentTabStop:v,hasTabStop:E!=null}):l})})});Qk.displayName=Xk;var IF={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function zF(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function BF(e,t,n){const i=zF(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return IF[i]}function Jk(e,t=!1){const n=document.activeElement;for(const i of e)if(i===n||(i.focus({preventScroll:t}),document.activeElement!==n))return}function UF(e,t){return e.map((n,i)=>e[(t+i)%e.length])}var FF=Zk,VF=Qk,$F=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Kc=new WeakMap,qm=new WeakMap,Gm={},Nb=0,eP=function(e){return e&&(e.host||eP(e.parentNode))},HF=function(e,t){return t.map(function(n){if(e.contains(n))return n;var i=eP(n);return i&&e.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},qF=function(e,t,n,i){var s=HF(t,Array.isArray(e)?e:[e]);Gm[n]||(Gm[n]=new WeakMap);var o=Gm[n],l=[],c=new Set,d=new Set(s),h=function(v){!v||c.has(v)||(c.add(v),h(v.parentNode))};s.forEach(h);var m=function(v){!v||d.has(v)||Array.prototype.forEach.call(v.children,function(b){if(c.has(b))m(b);else try{var _=b.getAttribute(i),C=_!==null&&_!=="false",E=(Kc.get(b)||0)+1,T=(o.get(b)||0)+1;Kc.set(b,E),o.set(b,T),l.push(b),E===1&&C&&qm.set(b,!0),T===1&&b.setAttribute(n,"true"),C||b.setAttribute(i,"true")}catch(k){console.error("aria-hidden: cannot operate on ",b,k)}})};return m(t),c.clear(),Nb++,function(){l.forEach(function(v){var b=Kc.get(v)-1,_=o.get(v)-1;Kc.set(v,b),o.set(v,_),b||(qm.has(v)||v.removeAttribute(i),qm.delete(v)),_||v.removeAttribute(n)}),Nb--,Nb||(Kc=new WeakMap,Kc=new WeakMap,qm=new WeakMap,Gm={})}},S_=function(e,t,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),s=$F(e);return s?(i.push.apply(i,Array.from(s.querySelectorAll("[aria-live], script"))),qF(i,s,n,"aria-hidden")):function(){return null}},qr=function(){return qr=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},qr.apply(this,arguments)};function ju(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function GF(e,t,n,i){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(m){try{h(i.next(m))}catch(v){l(v)}}function d(m){try{h(i.throw(m))}catch(v){l(v)}}function h(m){m.done?o(m.value):s(m.value).then(c,d)}h((i=i.apply(e,t||[])).next())})}function KF(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,o;i<s;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))}var Sp="right-scroll-bar-position",Cp="width-before-scroll-bar",WF="with-scroll-bars-hidden",YF="--removed-body-scroll-bar-size";function kb(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ZF(e,t){var n=x.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(i){var s=n.value;s!==i&&(n.value=i,n.callback(i,s))}}}})[0];return n.callback=t,n.facade}var XF=typeof window<"u"?x.useLayoutEffect:x.useEffect,l1=new WeakMap;function QF(e,t){var n=ZF(null,function(i){return e.forEach(function(s){return kb(s,i)})});return XF(function(){var i=l1.get(n);if(i){var s=new Set(i),o=new Set(e),l=n.current;s.forEach(function(c){o.has(c)||kb(c,null)}),o.forEach(function(c){s.has(c)||kb(c,l)})}l1.set(n,e)},[e]),n}function JF(e){return e}function eV(e,t){t===void 0&&(t=JF);var n=[],i=!1,s={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var l=t(o,i);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(o){for(i=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){i=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(o),l=n}var d=function(){var m=l;l=[],m.forEach(o)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(m){l.push(m),h()},filter:function(m){return l=l.filter(m),n}}}};return s}function tV(e){e===void 0&&(e={});var t=eV(null);return t.options=qr({async:!0,ssr:!1},e),t}var tP=function(e){var t=e.sideCar,n=ju(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return x.createElement(i,qr({},n))};tP.isSideCarExport=!0;function nV(e,t){return e.useMedium(t),tP}var nP=tV(),Pb=function(){},jg=x.forwardRef(function(e,t){var n=x.useRef(null),i=x.useState({onScrollCapture:Pb,onWheelCapture:Pb,onTouchMoveCapture:Pb}),s=i[0],o=i[1],l=e.forwardProps,c=e.children,d=e.className,h=e.removeScrollBar,m=e.enabled,v=e.shards,b=e.sideCar,_=e.noRelative,C=e.noIsolation,E=e.inert,T=e.allowPinchZoom,k=e.as,N=k===void 0?"div":k,P=e.gapMode,O=ju(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=b,U=QF([n,t]),z=qr(qr({},O),s);return x.createElement(x.Fragment,null,m&&x.createElement(j,{sideCar:nP,removeScrollBar:h,shards:v,noRelative:_,noIsolation:C,inert:E,setCallbacks:o,allowPinchZoom:!!T,lockRef:n,gapMode:P}),l?x.cloneElement(x.Children.only(c),qr(qr({},z),{ref:U})):x.createElement(N,qr({},z,{className:d,ref:U}),c))});jg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jg.classNames={fullWidth:Cp,zeroRight:Sp};var iV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function sV(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=iV();return t&&e.setAttribute("nonce",t),e}function rV(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function oV(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var aV=function(){var e=0,t=null;return{add:function(n){e==0&&(t=sV())&&(rV(t,n),oV(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},lV=function(){var e=aV();return function(t,n){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},iP=function(){var e=lV(),t=function(n){var i=n.styles,s=n.dynamic;return e(i,s),null};return t},cV={left:0,top:0,right:0,gap:0},Ob=function(e){return parseInt(e||"",10)||0},uV=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Ob(n),Ob(i),Ob(s)]},dV=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return cV;var t=uV(e),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-n+t[2]-t[0])}},fV=iP(),_u="data-scroll-locked",hV=function(e,t,n,i){var s=e.left,o=e.top,l=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(WF,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(c,"px ").concat(i,`;
  }
  body[`).concat(_u,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sp,` {
    right: `).concat(c,"px ").concat(i,`;
  }
  
  .`).concat(Cp,` {
    margin-right: `).concat(c,"px ").concat(i,`;
  }
  
  .`).concat(Sp," .").concat(Sp,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Cp," .").concat(Cp,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(_u,`] {
    `).concat(YF,": ").concat(c,`px;
  }
`)},c1=function(){var e=parseInt(document.body.getAttribute(_u)||"0",10);return isFinite(e)?e:0},mV=function(){x.useEffect(function(){return document.body.setAttribute(_u,(c1()+1).toString()),function(){var e=c1()-1;e<=0?document.body.removeAttribute(_u):document.body.setAttribute(_u,e.toString())}},[])},pV=function(e){var t=e.noRelative,n=e.noImportant,i=e.gapMode,s=i===void 0?"margin":i;mV();var o=x.useMemo(function(){return dV(s)},[s]);return x.createElement(fV,{styles:hV(o,!t,s,n?"":"!important")})},L0=!1;if(typeof window<"u")try{var Km=Object.defineProperty({},"passive",{get:function(){return L0=!0,!0}});window.addEventListener("test",Km,Km),window.removeEventListener("test",Km,Km)}catch{L0=!1}var Wc=L0?{passive:!1}:!1,gV=function(e){return e.tagName==="TEXTAREA"},sP=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!gV(e)&&n[t]==="visible")},vV=function(e){return sP(e,"overflowY")},yV=function(e){return sP(e,"overflowX")},u1=function(e,t){var n=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var s=rP(e,i);if(s){var o=oP(e,i),l=o[1],c=o[2];if(l>c)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},bV=function(e){var t=e.scrollTop,n=e.scrollHeight,i=e.clientHeight;return[t,n,i]},xV=function(e){var t=e.scrollLeft,n=e.scrollWidth,i=e.clientWidth;return[t,n,i]},rP=function(e,t){return e==="v"?vV(t):yV(t)},oP=function(e,t){return e==="v"?bV(t):xV(t)},_V=function(e,t){return e==="h"&&t==="rtl"?-1:1},wV=function(e,t,n,i,s){var o=_V(e,window.getComputedStyle(t).direction),l=o*i,c=n.target,d=t.contains(c),h=!1,m=l>0,v=0,b=0;do{if(!c)break;var _=oP(e,c),C=_[0],E=_[1],T=_[2],k=E-T-o*C;(C||k)&&rP(e,c)&&(v+=k,b+=C);var N=c.parentNode;c=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(m&&Math.abs(v)<1||!m&&Math.abs(b)<1)&&(h=!0),h},Wm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},d1=function(e){return[e.deltaX,e.deltaY]},f1=function(e){return e&&"current"in e?e.current:e},SV=function(e,t){return e[0]===t[0]&&e[1]===t[1]},CV=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},EV=0,Yc=[];function AV(e){var t=x.useRef([]),n=x.useRef([0,0]),i=x.useRef(),s=x.useState(EV++)[0],o=x.useState(iP)[0],l=x.useRef(e);x.useEffect(function(){l.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var E=KF([e.lockRef.current],(e.shards||[]).map(f1),!0).filter(Boolean);return E.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),E.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var c=x.useCallback(function(E,T){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!l.current.allowPinchZoom;var k=Wm(E),N=n.current,P="deltaX"in E?E.deltaX:N[0]-k[0],O="deltaY"in E?E.deltaY:N[1]-k[1],j,U=E.target,z=Math.abs(P)>Math.abs(O)?"h":"v";if("touches"in E&&z==="h"&&U.type==="range")return!1;var I=window.getSelection(),$=I&&I.anchorNode,Z=$?$===U||$.contains(U):!1;if(Z)return!1;var K=u1(z,U);if(!K)return!0;if(K?j=z:(j=z==="v"?"h":"v",K=u1(z,U)),!K)return!1;if(!i.current&&"changedTouches"in E&&(P||O)&&(i.current=j),!j)return!0;var W=i.current||j;return wV(W,T,E,W==="h"?P:O)},[]),d=x.useCallback(function(E){var T=E;if(!(!Yc.length||Yc[Yc.length-1]!==o)){var k="deltaY"in T?d1(T):Wm(T),N=t.current.filter(function(j){return j.name===T.type&&(j.target===T.target||T.target===j.shadowParent)&&SV(j.delta,k)})[0];if(N&&N.should){T.cancelable&&T.preventDefault();return}if(!N){var P=(l.current.shards||[]).map(f1).filter(Boolean).filter(function(j){return j.contains(T.target)}),O=P.length>0?c(T,P[0]):!l.current.noIsolation;O&&T.cancelable&&T.preventDefault()}}},[]),h=x.useCallback(function(E,T,k,N){var P={name:E,delta:T,target:k,should:N,shadowParent:TV(k)};t.current.push(P),setTimeout(function(){t.current=t.current.filter(function(O){return O!==P})},1)},[]),m=x.useCallback(function(E){n.current=Wm(E),i.current=void 0},[]),v=x.useCallback(function(E){h(E.type,d1(E),E.target,c(E,e.lockRef.current))},[]),b=x.useCallback(function(E){h(E.type,Wm(E),E.target,c(E,e.lockRef.current))},[]);x.useEffect(function(){return Yc.push(o),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:b}),document.addEventListener("wheel",d,Wc),document.addEventListener("touchmove",d,Wc),document.addEventListener("touchstart",m,Wc),function(){Yc=Yc.filter(function(E){return E!==o}),document.removeEventListener("wheel",d,Wc),document.removeEventListener("touchmove",d,Wc),document.removeEventListener("touchstart",m,Wc)}},[]);var _=e.removeScrollBar,C=e.inert;return x.createElement(x.Fragment,null,C?x.createElement(o,{styles:CV(s)}):null,_?x.createElement(pV,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function TV(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const RV=nV(nP,AV);var Ig=x.forwardRef(function(e,t){return x.createElement(jg,qr({},e,{ref:t,sideCar:RV}))});Ig.classNames=jg.classNames;var j0=["Enter"," "],NV=["ArrowDown","PageUp","Home"],aP=["ArrowUp","PageDown","End"],kV=[...NV,...aP],PV={ltr:[...j0,"ArrowRight"],rtl:[...j0,"ArrowLeft"]},OV={ltr:["ArrowLeft"],rtl:["ArrowRight"]},eh="Menu",[Ef,MV,DV]=Rg(eh),[ic,lP]=BU(eh,[DV,Lu,Yk]),th=Lu(),cP=Yk(),[uP,Ua]=ic(eh),[LV,nh]=ic(eh),dP=e=>{const{__scopeMenu:t,open:n=!1,children:i,dir:s,onOpenChange:o,modal:l=!0}=e,c=th(t),[d,h]=x.useState(null),m=x.useRef(!1),v=Ks(o),b=Ng(s);return x.useEffect(()=>{const _=()=>{m.current=!0,document.addEventListener("pointerdown",C,{capture:!0,once:!0}),document.addEventListener("pointermove",C,{capture:!0,once:!0})},C=()=>m.current=!1;return document.addEventListener("keydown",_,{capture:!0}),()=>{document.removeEventListener("keydown",_,{capture:!0}),document.removeEventListener("pointerdown",C,{capture:!0}),document.removeEventListener("pointermove",C,{capture:!0})}},[]),y.jsx(Lg,{...c,children:y.jsx(uP,{scope:t,open:n,onOpenChange:v,content:d,onContentChange:h,children:y.jsx(LV,{scope:t,onClose:x.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:m,dir:b,modal:l,children:i})})})};dP.displayName=eh;var jV="MenuAnchor",C_=x.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e,s=th(n);return y.jsx(x_,{...s,...i,ref:t})});C_.displayName=jV;var E_="MenuPortal",[IV,fP]=ic(E_,{forceMount:void 0}),hP=e=>{const{__scopeMenu:t,forceMount:n,children:i,container:s}=e,o=Ua(E_,t);return y.jsx(IV,{scope:t,forceMount:n,children:y.jsx(wr,{present:n||o.open,children:y.jsx(Xf,{asChild:!0,container:s,children:i})})})};hP.displayName=E_;var Hs="MenuContent",[zV,A_]=ic(Hs),mP=x.forwardRef((e,t)=>{const n=fP(Hs,e.__scopeMenu),{forceMount:i=n.forceMount,...s}=e,o=Ua(Hs,e.__scopeMenu),l=nh(Hs,e.__scopeMenu);return y.jsx(Ef.Provider,{scope:e.__scopeMenu,children:y.jsx(wr,{present:i||o.open,children:y.jsx(Ef.Slot,{scope:e.__scopeMenu,children:l.modal?y.jsx(BV,{...s,ref:t}):y.jsx(UV,{...s,ref:t})})})})}),BV=x.forwardRef((e,t)=>{const n=Ua(Hs,e.__scopeMenu),i=x.useRef(null),s=Ct(t,i);return x.useEffect(()=>{const o=i.current;if(o)return S_(o)},[]),y.jsx(T_,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ie(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),UV=x.forwardRef((e,t)=>{const n=Ua(Hs,e.__scopeMenu);return y.jsx(T_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),FV=Gk("MenuContent.ScrollLock"),T_=x.forwardRef((e,t)=>{const{__scopeMenu:n,loop:i=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:v,onInteractOutside:b,onDismiss:_,disableOutsideScroll:C,...E}=e,T=Ua(Hs,n),k=nh(Hs,n),N=th(n),P=cP(n),O=MV(n),[j,U]=x.useState(null),z=x.useRef(null),I=Ct(t,z,T.onContentChange),$=x.useRef(0),Z=x.useRef(""),K=x.useRef(0),W=x.useRef(null),X=x.useRef("right"),se=x.useRef(0),ve=C?Ig:x.Fragment,G=C?{as:FV,allowPinchZoom:!0}:void 0,ee=de=>{const ae=Z.current+de,H=O().filter(Se=>!Se.disabled),ie=document.activeElement,me=H.find(Se=>Se.ref.current===ie)?.textValue,xe=H.map(Se=>Se.textValue),Ce=JV(xe,ae,me),_e=H.find(Se=>Se.textValue===Ce)?.ref.current;(function Se(je){Z.current=je,window.clearTimeout($.current),je!==""&&($.current=window.setTimeout(()=>Se(""),1e3))})(ae),_e&&setTimeout(()=>_e.focus())};x.useEffect(()=>()=>window.clearTimeout($.current),[]),d_();const Y=x.useCallback(de=>X.current===W.current?.side&&t$(de,W.current?.area),[]);return y.jsx(zV,{scope:n,searchRef:Z,onItemEnter:x.useCallback(de=>{Y(de)&&de.preventDefault()},[Y]),onItemLeave:x.useCallback(de=>{Y(de)||(z.current?.focus(),U(null))},[Y]),onTriggerLeave:x.useCallback(de=>{Y(de)&&de.preventDefault()},[Y]),pointerGraceTimerRef:K,onPointerGraceIntentChange:x.useCallback(de=>{W.current=de},[]),children:y.jsx(ve,{...G,children:y.jsx(kg,{asChild:!0,trapped:s,onMountAutoFocus:Ie(o,de=>{de.preventDefault(),z.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:y.jsx(Yf,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:v,onInteractOutside:b,onDismiss:_,children:y.jsx(FF,{asChild:!0,...P,dir:k.dir,orientation:"vertical",loop:i,currentTabStopId:j,onCurrentTabStopIdChange:U,onEntryFocus:Ie(d,de=>{k.isUsingKeyboardRef.current||de.preventDefault()}),preventScrollOnEntryFocus:!0,children:y.jsx(__,{role:"menu","aria-orientation":"vertical","data-state":PP(T.open),"data-radix-menu-content":"",dir:k.dir,...N,...E,ref:I,style:{outline:"none",...E.style},onKeyDown:Ie(E.onKeyDown,de=>{const H=de.target.closest("[data-radix-menu-content]")===de.currentTarget,ie=de.ctrlKey||de.altKey||de.metaKey,me=de.key.length===1;H&&(de.key==="Tab"&&de.preventDefault(),!ie&&me&&ee(de.key));const xe=z.current;if(de.target!==xe||!kV.includes(de.key))return;de.preventDefault();const _e=O().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);aP.includes(de.key)&&_e.reverse(),XV(_e)}),onBlur:Ie(e.onBlur,de=>{de.currentTarget.contains(de.target)||(window.clearTimeout($.current),Z.current="")}),onPointerMove:Ie(e.onPointerMove,Af(de=>{const ae=de.target,H=se.current!==de.clientX;if(de.currentTarget.contains(ae)&&H){const ie=de.clientX>se.current?"right":"left";X.current=ie,se.current=de.clientX}}))})})})})})})});mP.displayName=Hs;var VV="MenuGroup",R_=x.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e;return y.jsx(Qf.div,{role:"group",...i,ref:t})});R_.displayName=VV;var $V="MenuLabel",pP=x.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e;return y.jsx(Qf.div,{...i,ref:t})});pP.displayName=$V;var Wp="MenuItem",h1="menu.itemSelect",zg=x.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:i,...s}=e,o=x.useRef(null),l=nh(Wp,e.__scopeMenu),c=A_(Wp,e.__scopeMenu),d=Ct(t,o),h=x.useRef(!1),m=()=>{const v=o.current;if(!n&&v){const b=new CustomEvent(h1,{bubbles:!0,cancelable:!0});v.addEventListener(h1,_=>i?.(_),{once:!0}),_F(v,b),b.defaultPrevented?h.current=!1:l.onClose()}};return y.jsx(gP,{...s,ref:d,disabled:n,onClick:Ie(e.onClick,m),onPointerDown:v=>{e.onPointerDown?.(v),h.current=!0},onPointerUp:Ie(e.onPointerUp,v=>{h.current||v.currentTarget?.click()}),onKeyDown:Ie(e.onKeyDown,v=>{const b=c.searchRef.current!=="";n||b&&v.key===" "||j0.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});zg.displayName=Wp;var gP=x.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:i=!1,textValue:s,...o}=e,l=A_(Wp,n),c=cP(n),d=x.useRef(null),h=Ct(t,d),[m,v]=x.useState(!1),[b,_]=x.useState("");return x.useEffect(()=>{const C=d.current;C&&_((C.textContent??"").trim())},[o.children]),y.jsx(Ef.ItemSlot,{scope:n,disabled:i,textValue:s??b,children:y.jsx(VF,{asChild:!0,...c,focusable:!i,children:y.jsx(Qf.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...o,ref:h,onPointerMove:Ie(e.onPointerMove,Af(C=>{i?l.onItemLeave(C):(l.onItemEnter(C),C.defaultPrevented||C.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ie(e.onPointerLeave,Af(C=>l.onItemLeave(C))),onFocus:Ie(e.onFocus,()=>v(!0)),onBlur:Ie(e.onBlur,()=>v(!1))})})})}),HV="MenuCheckboxItem",vP=x.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:i,...s}=e;return y.jsx(wP,{scope:e.__scopeMenu,checked:n,children:y.jsx(zg,{role:"menuitemcheckbox","aria-checked":Yp(n)?"mixed":n,...s,ref:t,"data-state":P_(n),onSelect:Ie(s.onSelect,()=>i?.(Yp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});vP.displayName=HV;var yP="MenuRadioGroup",[qV,GV]=ic(yP,{value:void 0,onValueChange:()=>{}}),bP=x.forwardRef((e,t)=>{const{value:n,onValueChange:i,...s}=e,o=Ks(i);return y.jsx(qV,{scope:e.__scopeMenu,value:n,onValueChange:o,children:y.jsx(R_,{...s,ref:t})})});bP.displayName=yP;var xP="MenuRadioItem",_P=x.forwardRef((e,t)=>{const{value:n,...i}=e,s=GV(xP,e.__scopeMenu),o=n===s.value;return y.jsx(wP,{scope:e.__scopeMenu,checked:o,children:y.jsx(zg,{role:"menuitemradio","aria-checked":o,...i,ref:t,"data-state":P_(o),onSelect:Ie(i.onSelect,()=>s.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});_P.displayName=xP;var N_="MenuItemIndicator",[wP,KV]=ic(N_,{checked:!1}),SP=x.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:i,...s}=e,o=KV(N_,n);return y.jsx(wr,{present:i||Yp(o.checked)||o.checked===!0,children:y.jsx(Qf.span,{...s,ref:t,"data-state":P_(o.checked)})})});SP.displayName=N_;var WV="MenuSeparator",CP=x.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e;return y.jsx(Qf.div,{role:"separator","aria-orientation":"horizontal",...i,ref:t})});CP.displayName=WV;var YV="MenuArrow",EP=x.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e,s=th(n);return y.jsx(w_,{...s,...i,ref:t})});EP.displayName=YV;var k_="MenuSub",[ZV,AP]=ic(k_),TP=e=>{const{__scopeMenu:t,children:n,open:i=!1,onOpenChange:s}=e,o=Ua(k_,t),l=th(t),[c,d]=x.useState(null),[h,m]=x.useState(null),v=Ks(s);return x.useEffect(()=>(o.open===!1&&v(!1),()=>v(!1)),[o.open,v]),y.jsx(Lg,{...l,children:y.jsx(uP,{scope:t,open:i,onOpenChange:v,content:h,onContentChange:m,children:y.jsx(ZV,{scope:t,contentId:_s(),triggerId:_s(),trigger:c,onTriggerChange:d,children:n})})})};TP.displayName=k_;var tf="MenuSubTrigger",RP=x.forwardRef((e,t)=>{const n=Ua(tf,e.__scopeMenu),i=nh(tf,e.__scopeMenu),s=AP(tf,e.__scopeMenu),o=A_(tf,e.__scopeMenu),l=x.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=o,h={__scopeMenu:e.__scopeMenu},m=x.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return x.useEffect(()=>m,[m]),x.useEffect(()=>{const v=c.current;return()=>{window.clearTimeout(v),d(null)}},[c,d]),y.jsx(C_,{asChild:!0,...h,children:y.jsx(gP,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":PP(n.open),...e,ref:Hn(t,s.onTriggerChange),onClick:v=>{e.onClick?.(v),!(e.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ie(e.onPointerMove,Af(v=>{o.onItemEnter(v),!v.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(o.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:Ie(e.onPointerLeave,Af(v=>{m();const b=n.content?.getBoundingClientRect();if(b){const _=n.content?.dataset.side,C=_==="right",E=C?-5:5,T=b[C?"left":"right"],k=b[C?"right":"left"];o.onPointerGraceIntentChange({area:[{x:v.clientX+E,y:v.clientY},{x:T,y:b.top},{x:k,y:b.top},{x:k,y:b.bottom},{x:T,y:b.bottom}],side:_}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(v),v.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Ie(e.onKeyDown,v=>{const b=o.searchRef.current!=="";e.disabled||b&&v.key===" "||PV[i.dir].includes(v.key)&&(n.onOpenChange(!0),n.content?.focus(),v.preventDefault())})})})});RP.displayName=tf;var NP="MenuSubContent",kP=x.forwardRef((e,t)=>{const n=fP(Hs,e.__scopeMenu),{forceMount:i=n.forceMount,...s}=e,o=Ua(Hs,e.__scopeMenu),l=nh(Hs,e.__scopeMenu),c=AP(NP,e.__scopeMenu),d=x.useRef(null),h=Ct(t,d);return y.jsx(Ef.Provider,{scope:e.__scopeMenu,children:y.jsx(wr,{present:i||o.open,children:y.jsx(Ef.Slot,{scope:e.__scopeMenu,children:y.jsx(T_,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:h,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{l.isUsingKeyboardRef.current&&d.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:Ie(e.onFocusOutside,m=>{m.target!==c.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Ie(e.onEscapeKeyDown,m=>{l.onClose(),m.preventDefault()}),onKeyDown:Ie(e.onKeyDown,m=>{const v=m.currentTarget.contains(m.target),b=OV[l.dir].includes(m.key);v&&b&&(o.onOpenChange(!1),c.trigger?.focus(),m.preventDefault())})})})})})});kP.displayName=NP;function PP(e){return e?"open":"closed"}function Yp(e){return e==="indeterminate"}function P_(e){return Yp(e)?"indeterminate":e?"checked":"unchecked"}function XV(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function QV(e,t){return e.map((n,i)=>e[(t+i)%e.length])}function JV(e,t,n){const s=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let l=QV(e,Math.max(o,0));s.length===1&&(l=l.filter(h=>h!==n));const d=l.find(h=>h.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function e$(e,t){const{x:n,y:i}=e;let s=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const c=t[o],d=t[l],h=c.x,m=c.y,v=d.x,b=d.y;m>i!=b>i&&n<(v-h)*(i-m)/(b-m)+h&&(s=!s)}return s}function t$(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return e$(n,t)}function Af(e){return t=>t.pointerType==="mouse"?e(t):void 0}var n$=dP,i$=C_,s$=hP,r$=mP,o$=R_,a$=pP,l$=zg,c$=vP,u$=bP,d$=_P,f$=SP,h$=CP,m$=EP,p$=TP,g$=RP,v$=kP,Bg="DropdownMenu",[y$]=bU(Bg,[lP]),Ai=lP(),[b$,OP]=y$(Bg),MP=e=>{const{__scopeDropdownMenu:t,children:n,dir:i,open:s,defaultOpen:o,onOpenChange:l,modal:c=!0}=e,d=Ai(t),h=x.useRef(null),[m,v]=Do({prop:s,defaultProp:o??!1,onChange:l,caller:Bg});return y.jsx(b$,{scope:t,triggerId:_s(),triggerRef:h,contentId:_s(),open:m,onOpenChange:v,onOpenToggle:x.useCallback(()=>v(b=>!b),[v]),modal:c,children:y.jsx(n$,{...d,open:m,onOpenChange:v,dir:i,modal:c,children:n})})};MP.displayName=Bg;var DP="DropdownMenuTrigger",LP=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:i=!1,...s}=e,o=OP(DP,n),l=Ai(n);return y.jsx(i$,{asChild:!0,...l,children:y.jsx(PU.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...s,ref:Hn(t,o.triggerRef),onPointerDown:Ie(e.onPointerDown,c=>{!i&&c.button===0&&c.ctrlKey===!1&&(o.onOpenToggle(),o.open||c.preventDefault())}),onKeyDown:Ie(e.onKeyDown,c=>{i||(["Enter"," "].includes(c.key)&&o.onOpenToggle(),c.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});LP.displayName=DP;var x$="DropdownMenuPortal",jP=e=>{const{__scopeDropdownMenu:t,...n}=e,i=Ai(t);return y.jsx(s$,{...i,...n})};jP.displayName=x$;var IP="DropdownMenuContent",zP=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=OP(IP,n),o=Ai(n),l=x.useRef(!1);return y.jsx(r$,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...i,ref:t,onCloseAutoFocus:Ie(e.onCloseAutoFocus,c=>{l.current||s.triggerRef.current?.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:Ie(e.onInteractOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,m=d.button===2||h;(!s.modal||m)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zP.displayName=IP;var _$="DropdownMenuGroup",BP=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(o$,{...s,...i,ref:t})});BP.displayName=_$;var w$="DropdownMenuLabel",S$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(a$,{...s,...i,ref:t})});S$.displayName=w$;var C$="DropdownMenuItem",UP=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(l$,{...s,...i,ref:t})});UP.displayName=C$;var E$="DropdownMenuCheckboxItem",A$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(c$,{...s,...i,ref:t})});A$.displayName=E$;var T$="DropdownMenuRadioGroup",R$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(u$,{...s,...i,ref:t})});R$.displayName=T$;var N$="DropdownMenuRadioItem",k$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(d$,{...s,...i,ref:t})});k$.displayName=N$;var P$="DropdownMenuItemIndicator",O$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(f$,{...s,...i,ref:t})});O$.displayName=P$;var M$="DropdownMenuSeparator",FP=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(h$,{...s,...i,ref:t})});FP.displayName=M$;var D$="DropdownMenuArrow",L$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(m$,{...s,...i,ref:t})});L$.displayName=D$;var j$=e=>{const{__scopeDropdownMenu:t,children:n,open:i,onOpenChange:s,defaultOpen:o}=e,l=Ai(t),[c,d]=Do({prop:i,defaultProp:o??!1,onChange:s,caller:"DropdownMenuSub"});return y.jsx(p$,{...l,open:c,onOpenChange:d,children:n})},I$="DropdownMenuSubTrigger",VP=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(g$,{...s,...i,ref:t})});VP.displayName=I$;var z$="DropdownMenuSubContent",$P=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(v$,{...s,...i,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$P.displayName=z$;var B$=MP,U$=LP,HP=jP,F$=zP,V$=BP,$$=UP,H$=FP,q$=j$,G$=VP,K$=$P;const qP=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim();const W$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Y$=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase());const m1=e=>{const t=Y$(e);return t.charAt(0).toUpperCase()+t.slice(1)};var Z$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const X$=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const Q$=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:o,iconNode:l,...c},d)=>x.createElement("svg",{ref:d,...Z$,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:qP("lucide",s),...!o&&!X$(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,m])=>x.createElement(h,m)),...Array.isArray(o)?o:[o]]));const rt=(e,t)=>{const n=x.forwardRef(({className:i,...s},o)=>x.createElement(Q$,{ref:o,iconNode:t,className:qP(`lucide-${W$(m1(e))}`,`lucide-${e}`,i),...s}));return n.displayName=m1(e),n};const J$=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ug=rt("arrow-left",J$);const e6=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],t6=rt("arrow-up-down",e6);const n6=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],GP=rt("check",n6);const i6=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ka=rt("chevron-down",i6);const s6=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Fg=rt("chevron-left",s6);const r6=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],sc=rt("chevron-right",r6);const o6=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],O_=rt("chevron-up",o6);const a6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],KP=rt("circle-check",a6);const l6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],c6=rt("circle-question-mark",l6);const u6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],d6=rt("clock",u6);const f6=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],h6=rt("database",f6);const m6=[["path",{d:"M15 2c-1.35 1.5-2.092 3-2.5 4.5L14 8",key:"1bivrr"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c3.333-3 6.667-3 10-3",key:"nxix30"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M22 9c-1.5 1.35-3 2.092-4.5 2.5l-1-1",key:"18cutr"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.35-1.5 2.092-3 2.5-4.5L10 16",key:"rlvei3"}]],WP=rt("dna-off",m6);const p6=[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]],YP=rt("dna",p6);const g6=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],M_=rt("eye",g6);const v6=[["path",{d:"M6 3v12",key:"qpgusn"}],["path",{d:"M18 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",key:"1d02ji"}],["path",{d:"M6 21a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",key:"chk6ph"}],["path",{d:"M15 6a9 9 0 0 0-9 9",key:"or332x"}],["path",{d:"M18 15v6",key:"9wciyi"}],["path",{d:"M21 18h-6",key:"139f0c"}]],y6=rt("git-branch-plus",v6);const b6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ZP=rt("globe",b6);const x6=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],XP=rt("grip-vertical",x6);const _6=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Zp=rt("heart",_6);const w6=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]],QP=rt("image-off",w6);const S6=[["path",{d:"m22 11-1.296-1.296a2.4 2.4 0 0 0-3.408 0L11 16",key:"9kzy35"}],["path",{d:"M4 8a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2",key:"1t0f0t"}],["circle",{cx:"13",cy:"7",r:"1",fill:"currentColor",key:"1obus6"}],["rect",{x:"8",y:"2",width:"14",height:"14",rx:"2",key:"1gvhby"}]],D_=rt("images",S6);const C6=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],JP=rt("image",C6);const E6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],L_=rt("info",E6);const A6=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],eO=rt("lightbulb",A6);const T6=[["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"M3 10a2 2 0 0 0 2 2h3",key:"1npucw"}],["path",{d:"M3 5v12a2 2 0 0 0 2 2h3",key:"x1gjn2"}]],R6=rt("list-tree",T6);const N6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],tO=rt("loader-circle",N6);const k6=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],ih=rt("loader",k6);const P6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],O6=rt("lock",P6);const M6=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],D6=rt("log-in",M6);const L6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],p1=rt("log-out",L6);const j6=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],I6=rt("menu",j6);const z6=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],B6=rt("pause",z6);const U6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],nO=rt("pencil",U6);const F6=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],V6=rt("play",F6);const $6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xp=rt("plus",$6);const H6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],q6=rt("rotate-ccw",H6);const G6=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],iO=rt("route",G6);const K6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],sO=rt("search",K6);const W6=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Y6=rt("settings",W6);const Z6=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],rO=rt("shuffle",Z6);const X6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],oO=rt("target",X6);const Q6=[["path",{d:"m10.065 12.493-6.18 1.318a.934.934 0 0 1-1.108-.702l-.537-2.15a1.07 1.07 0 0 1 .691-1.265l13.504-4.44",key:"k4qptu"}],["path",{d:"m13.56 11.747 4.332-.924",key:"19l80z"}],["path",{d:"m16 21-3.105-6.21",key:"7oh9d"}],["path",{d:"M16.485 5.94a2 2 0 0 1 1.455-2.425l1.09-.272a1 1 0 0 1 1.212.727l1.515 6.06a1 1 0 0 1-.727 1.213l-1.09.272a2 2 0 0 1-2.425-1.455z",key:"m7xp4m"}],["path",{d:"m6.158 8.633 1.114 4.456",key:"74o979"}],["path",{d:"m8 21 3.105-6.21",key:"1fvxut"}],["circle",{cx:"12",cy:"13",r:"2",key:"1c1ljs"}]],J6=rt("telescope",Q6);const eH=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],aO=rt("triangle-alert",eH);const tH=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],nH=rt("trophy",tH);const iH=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],sH=rt("volume-2",iH);const rH=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],oH=rt("volume-x",rH);const aH=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ia=rt("x",aH);const lH=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],cH=rt("zap",lH);function lO(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=lO(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function cO(){for(var e,t,n=0,i="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=lO(e))&&(i&&(i+=" "),i+=t);return i}const uH=(e,t)=>{const n=new Array(e.length+t.length);for(let i=0;i<e.length;i++)n[i]=e[i];for(let i=0;i<t.length;i++)n[e.length+i]=t[i];return n},dH=(e,t)=>({classGroupId:e,validator:t}),uO=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Qp="-",g1=[],fH="arbitrary..",hH=e=>{const t=pH(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return mH(l);const c=l.split(Qp),d=c[0]===""&&c.length>1?1:0;return dO(c,d,t)},getConflictingClassGroupIds:(l,c)=>{if(c){const d=i[l],h=n[l];return d?h?uH(h,d):d:h||g1}return n[l]||g1}}},dO=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const s=e[t],o=n.nextPart.get(s);if(o){const h=dO(e,t+1,o);if(h)return h}const l=n.validators;if(l===null)return;const c=t===0?e.join(Qp):e.slice(t).join(Qp),d=l.length;for(let h=0;h<d;h++){const m=l[h];if(m.validator(c))return m.classGroupId}},mH=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),i=t.slice(0,n);return i?fH+i:void 0})(),pH=e=>{const{theme:t,classGroups:n}=e;return gH(n,t)},gH=(e,t)=>{const n=uO();for(const i in e){const s=e[i];j_(s,n,i,t)}return n},j_=(e,t,n,i)=>{const s=e.length;for(let o=0;o<s;o++){const l=e[o];vH(l,t,n,i)}},vH=(e,t,n,i)=>{if(typeof e=="string"){yH(e,t,n);return}if(typeof e=="function"){bH(e,t,n,i);return}xH(e,t,n,i)},yH=(e,t,n)=>{const i=e===""?t:fO(t,e);i.classGroupId=n},bH=(e,t,n,i)=>{if(_H(e)){j_(e(i),t,n,i);return}t.validators===null&&(t.validators=[]),t.validators.push(dH(n,e))},xH=(e,t,n,i)=>{const s=Object.entries(e),o=s.length;for(let l=0;l<o;l++){const[c,d]=s[l];j_(d,fO(t,c),n,i)}},fO=(e,t)=>{let n=e;const i=t.split(Qp),s=i.length;for(let o=0;o<s;o++){const l=i[o];let c=n.nextPart.get(l);c||(c=uO(),n.nextPart.set(l,c)),n=c}return n},_H=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,wH=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),i=Object.create(null);const s=(o,l)=>{n[o]=l,t++,t>e&&(t=0,i=n,n=Object.create(null))};return{get(o){let l=n[o];if(l!==void 0)return l;if((l=i[o])!==void 0)return s(o,l),l},set(o,l){o in n?n[o]=l:s(o,l)}}},I0="!",v1=":",SH=[],y1=(e,t,n,i,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:i,isExternal:s}),CH=e=>{const{prefix:t,experimentalParseClassName:n}=e;let i=s=>{const o=[];let l=0,c=0,d=0,h;const m=s.length;for(let E=0;E<m;E++){const T=s[E];if(l===0&&c===0){if(T===v1){o.push(s.slice(d,E)),d=E+1;continue}if(T==="/"){h=E;continue}}T==="["?l++:T==="]"?l--:T==="("?c++:T===")"&&c--}const v=o.length===0?s:s.slice(d);let b=v,_=!1;v.endsWith(I0)?(b=v.slice(0,-1),_=!0):v.startsWith(I0)&&(b=v.slice(1),_=!0);const C=h&&h>d?h-d:void 0;return y1(o,_,b,C)};if(t){const s=t+v1,o=i;i=l=>l.startsWith(s)?o(l.slice(s.length)):y1(SH,!1,l,void 0,!0)}if(n){const s=i;i=o=>n({className:o,parseClassName:s})}return i},EH=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,i)=>{t.set(n,1e6+i)}),n=>{const i=[];let s=[];for(let o=0;o<n.length;o++){const l=n[o],c=l[0]==="[",d=t.has(l);c||d?(s.length>0&&(s.sort(),i.push(...s),s=[]),i.push(l)):s.push(l)}return s.length>0&&(s.sort(),i.push(...s)),i}},AH=e=>({cache:wH(e.cacheSize),parseClassName:CH(e),sortModifiers:EH(e),...hH(e)}),TH=/\s+/,RH=(e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:s,sortModifiers:o}=t,l=[],c=e.trim().split(TH);let d="";for(let h=c.length-1;h>=0;h-=1){const m=c[h],{isExternal:v,modifiers:b,hasImportantModifier:_,baseClassName:C,maybePostfixModifierPosition:E}=n(m);if(v){d=m+(d.length>0?" "+d:d);continue}let T=!!E,k=i(T?C.substring(0,E):C);if(!k){if(!T){d=m+(d.length>0?" "+d:d);continue}if(k=i(C),!k){d=m+(d.length>0?" "+d:d);continue}T=!1}const N=b.length===0?"":b.length===1?b[0]:o(b).join(":"),P=_?N+I0:N,O=P+k;if(l.indexOf(O)>-1)continue;l.push(O);const j=s(k,T);for(let U=0;U<j.length;++U){const z=j[U];l.push(P+z)}d=m+(d.length>0?" "+d:d)}return d},NH=(...e)=>{let t=0,n,i,s="";for(;t<e.length;)(n=e[t++])&&(i=hO(n))&&(s&&(s+=" "),s+=i);return s},hO=e=>{if(typeof e=="string")return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=hO(e[i]))&&(n&&(n+=" "),n+=t);return n},kH=(e,...t)=>{let n,i,s,o;const l=d=>{const h=t.reduce((m,v)=>v(m),e());return n=AH(h),i=n.cache.get,s=n.cache.set,o=c,c(d)},c=d=>{const h=i(d);if(h)return h;const m=RH(d,n);return s(d,m),m};return o=l,(...d)=>o(NH(...d))},PH=[],Bn=e=>{const t=n=>n[e]||PH;return t.isThemeGetter=!0,t},mO=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,pO=/^\((?:(\w[\w-]*):)?(.+)\)$/i,OH=/^\d+(?:\.\d+)?\/\d+(?:\.\d+)?$/,MH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,DH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,LH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,jH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,IH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ya=e=>OH.test(e),pt=e=>!!e&&!Number.isNaN(Number(e)),ba=e=>!!e&&Number.isInteger(Number(e)),Mb=e=>e.endsWith("%")&&pt(e.slice(0,-1)),To=e=>MH.test(e),gO=()=>!0,zH=e=>DH.test(e)&&!LH.test(e),I_=()=>!1,BH=e=>jH.test(e),UH=e=>IH.test(e),FH=e=>!Ve(e)&&!He(e),VH=e=>Fa(e,bO,I_),Ve=e=>mO.test(e),Al=e=>Fa(e,xO,zH),b1=e=>Fa(e,ZH,pt),$H=e=>Fa(e,wO,gO),HH=e=>Fa(e,_O,I_),x1=e=>Fa(e,vO,I_),qH=e=>Fa(e,yO,UH),Ym=e=>Fa(e,SO,BH),He=e=>pO.test(e),Zd=e=>rc(e,xO),GH=e=>rc(e,_O),_1=e=>rc(e,vO),KH=e=>rc(e,bO),WH=e=>rc(e,yO),Zm=e=>rc(e,SO,!0),YH=e=>rc(e,wO,!0),Fa=(e,t,n)=>{const i=mO.exec(e);return i?i[1]?t(i[1]):n(i[2]):!1},rc=(e,t,n=!1)=>{const i=pO.exec(e);return i?i[1]?t(i[1]):n:!1},vO=e=>e==="position"||e==="percentage",yO=e=>e==="image"||e==="url",bO=e=>e==="length"||e==="size"||e==="bg-size",xO=e=>e==="length",ZH=e=>e==="number",_O=e=>e==="family-name",wO=e=>e==="number"||e==="weight",SO=e=>e==="shadow",XH=()=>{const e=Bn("color"),t=Bn("font"),n=Bn("text"),i=Bn("font-weight"),s=Bn("tracking"),o=Bn("leading"),l=Bn("breakpoint"),c=Bn("container"),d=Bn("spacing"),h=Bn("radius"),m=Bn("shadow"),v=Bn("inset-shadow"),b=Bn("text-shadow"),_=Bn("drop-shadow"),C=Bn("blur"),E=Bn("perspective"),T=Bn("aspect"),k=Bn("ease"),N=Bn("animate"),P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],j=()=>[...O(),He,Ve],U=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],I=()=>[He,Ve,d],$=()=>[ya,"full","auto",...I()],Z=()=>[ba,"none","subgrid",He,Ve],K=()=>["auto",{span:["full",ba,He,Ve]},ba,He,Ve],W=()=>[ba,"auto",He,Ve],X=()=>["auto","min","max","fr",He,Ve],se=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ve=()=>["start","end","center","stretch","center-safe","end-safe"],G=()=>["auto",...I()],ee=()=>[ya,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],Y=()=>[ya,"screen","full","dvw","lvw","svw","min","max","fit",...I()],de=()=>[ya,"screen","full","lh","dvh","lvh","svh","min","max","fit",...I()],ae=()=>[e,He,Ve],H=()=>[...O(),_1,x1,{position:[He,Ve]}],ie=()=>["no-repeat",{repeat:["","x","y","space","round"]}],me=()=>["auto","cover","contain",KH,VH,{size:[He,Ve]}],xe=()=>[Mb,Zd,Al],Ce=()=>["","none","full",h,He,Ve],_e=()=>["",pt,Zd,Al],Se=()=>["solid","dashed","dotted","double"],je=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ke=()=>[pt,Mb,_1,x1],Oe=()=>["","none",C,He,Ve],Ue=()=>["none",pt,He,Ve],Xe=()=>["none",pt,He,Ve],ht=()=>[pt,He,Ve],bt=()=>[ya,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[To],breakpoint:[To],color:[gO],container:[To],"drop-shadow":[To],ease:["in","out","in-out"],font:[FH],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[To],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[To],shadow:[To],spacing:["px",pt],text:[To],"text-shadow":[To],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ya,Ve,He,T]}],container:["container"],columns:[{columns:[pt,Ve,He,c]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:j()}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:$()}],"inset-x":[{"inset-x":$()}],"inset-y":[{"inset-y":$()}],start:[{"inset-s":$(),start:$()}],end:[{"inset-e":$(),end:$()}],"inset-bs":[{"inset-bs":$()}],"inset-be":[{"inset-be":$()}],top:[{top:$()}],right:[{right:$()}],bottom:[{bottom:$()}],left:[{left:$()}],visibility:["visible","invisible","collapse"],z:[{z:[ba,"auto",He,Ve]}],basis:[{basis:[ya,"full","auto",c,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[pt,ya,"auto","initial","none",Ve]}],grow:[{grow:["",pt,He,Ve]}],shrink:[{shrink:["",pt,He,Ve]}],order:[{order:[ba,"first","last","none",He,Ve]}],"grid-cols":[{"grid-cols":Z()}],"col-start-end":[{col:K()}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":Z()}],"row-start-end":[{row:K()}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":X()}],"auto-rows":[{"auto-rows":X()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...se(),"normal"]}],"justify-items":[{"justify-items":[...ve(),"normal"]}],"justify-self":[{"justify-self":["auto",...ve()]}],"align-content":[{content:["normal",...se()]}],"align-items":[{items:[...ve(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ve(),{baseline:["","last"]}]}],"place-content":[{"place-content":se()}],"place-items":[{"place-items":[...ve(),"baseline"]}],"place-self":[{"place-self":["auto",...ve()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pbs:[{pbs:I()}],pbe:[{pbe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:G()}],mx:[{mx:G()}],my:[{my:G()}],ms:[{ms:G()}],me:[{me:G()}],mbs:[{mbs:G()}],mbe:[{mbe:G()}],mt:[{mt:G()}],mr:[{mr:G()}],mb:[{mb:G()}],ml:[{ml:G()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],"inline-size":[{inline:["auto",...Y()]}],"min-inline-size":[{"min-inline":["auto",...Y()]}],"max-inline-size":[{"max-inline":["none",...Y()]}],"block-size":[{block:["auto",...de()]}],"min-block-size":[{"min-block":["auto",...de()]}],"max-block-size":[{"max-block":["none",...de()]}],w:[{w:[c,"screen",...ee()]}],"min-w":[{"min-w":[c,"screen","none",...ee()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...ee()]}],h:[{h:["screen","lh",...ee()]}],"min-h":[{"min-h":["screen","lh","none",...ee()]}],"max-h":[{"max-h":["screen","lh",...ee()]}],"font-size":[{text:["base",n,Zd,Al]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,YH,$H]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Mb,Ve]}],"font-family":[{font:[GH,HH,t]}],"font-features":[{"font-features":[Ve]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,He,Ve]}],"line-clamp":[{"line-clamp":[pt,"none",He,b1]}],leading:[{leading:[o,...I()]}],"list-image":[{"list-image":["none",He,Ve]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",He,Ve]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ae()}],"text-color":[{text:ae()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Se(),"wavy"]}],"text-decoration-thickness":[{decoration:[pt,"from-font","auto",He,Al]}],"text-decoration-color":[{decoration:ae()}],"underline-offset":[{"underline-offset":[pt,"auto",He,Ve]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",He,Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",He,Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:H()}],"bg-repeat":[{bg:ie()}],"bg-size":[{bg:me()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ba,He,Ve],radial:["",He,Ve],conic:[ba,He,Ve]},WH,qH]}],"bg-color":[{bg:ae()}],"gradient-from-pos":[{from:xe()}],"gradient-via-pos":[{via:xe()}],"gradient-to-pos":[{to:xe()}],"gradient-from":[{from:ae()}],"gradient-via":[{via:ae()}],"gradient-to":[{to:ae()}],rounded:[{rounded:Ce()}],"rounded-s":[{"rounded-s":Ce()}],"rounded-e":[{"rounded-e":Ce()}],"rounded-t":[{"rounded-t":Ce()}],"rounded-r":[{"rounded-r":Ce()}],"rounded-b":[{"rounded-b":Ce()}],"rounded-l":[{"rounded-l":Ce()}],"rounded-ss":[{"rounded-ss":Ce()}],"rounded-se":[{"rounded-se":Ce()}],"rounded-ee":[{"rounded-ee":Ce()}],"rounded-es":[{"rounded-es":Ce()}],"rounded-tl":[{"rounded-tl":Ce()}],"rounded-tr":[{"rounded-tr":Ce()}],"rounded-br":[{"rounded-br":Ce()}],"rounded-bl":[{"rounded-bl":Ce()}],"border-w":[{border:_e()}],"border-w-x":[{"border-x":_e()}],"border-w-y":[{"border-y":_e()}],"border-w-s":[{"border-s":_e()}],"border-w-e":[{"border-e":_e()}],"border-w-bs":[{"border-bs":_e()}],"border-w-be":[{"border-be":_e()}],"border-w-t":[{"border-t":_e()}],"border-w-r":[{"border-r":_e()}],"border-w-b":[{"border-b":_e()}],"border-w-l":[{"border-l":_e()}],"divide-x":[{"divide-x":_e()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":_e()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Se(),"hidden","none"]}],"divide-style":[{divide:[...Se(),"hidden","none"]}],"border-color":[{border:ae()}],"border-color-x":[{"border-x":ae()}],"border-color-y":[{"border-y":ae()}],"border-color-s":[{"border-s":ae()}],"border-color-e":[{"border-e":ae()}],"border-color-bs":[{"border-bs":ae()}],"border-color-be":[{"border-be":ae()}],"border-color-t":[{"border-t":ae()}],"border-color-r":[{"border-r":ae()}],"border-color-b":[{"border-b":ae()}],"border-color-l":[{"border-l":ae()}],"divide-color":[{divide:ae()}],"outline-style":[{outline:[...Se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[pt,He,Ve]}],"outline-w":[{outline:["",pt,Zd,Al]}],"outline-color":[{outline:ae()}],shadow:[{shadow:["","none",m,Zm,Ym]}],"shadow-color":[{shadow:ae()}],"inset-shadow":[{"inset-shadow":["none",v,Zm,Ym]}],"inset-shadow-color":[{"inset-shadow":ae()}],"ring-w":[{ring:_e()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ae()}],"ring-offset-w":[{"ring-offset":[pt,Al]}],"ring-offset-color":[{"ring-offset":ae()}],"inset-ring-w":[{"inset-ring":_e()}],"inset-ring-color":[{"inset-ring":ae()}],"text-shadow":[{"text-shadow":["none",b,Zm,Ym]}],"text-shadow-color":[{"text-shadow":ae()}],opacity:[{opacity:[pt,He,Ve]}],"mix-blend":[{"mix-blend":[...je(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":je()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[pt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ke()}],"mask-image-linear-to-pos":[{"mask-linear-to":ke()}],"mask-image-linear-from-color":[{"mask-linear-from":ae()}],"mask-image-linear-to-color":[{"mask-linear-to":ae()}],"mask-image-t-from-pos":[{"mask-t-from":ke()}],"mask-image-t-to-pos":[{"mask-t-to":ke()}],"mask-image-t-from-color":[{"mask-t-from":ae()}],"mask-image-t-to-color":[{"mask-t-to":ae()}],"mask-image-r-from-pos":[{"mask-r-from":ke()}],"mask-image-r-to-pos":[{"mask-r-to":ke()}],"mask-image-r-from-color":[{"mask-r-from":ae()}],"mask-image-r-to-color":[{"mask-r-to":ae()}],"mask-image-b-from-pos":[{"mask-b-from":ke()}],"mask-image-b-to-pos":[{"mask-b-to":ke()}],"mask-image-b-from-color":[{"mask-b-from":ae()}],"mask-image-b-to-color":[{"mask-b-to":ae()}],"mask-image-l-from-pos":[{"mask-l-from":ke()}],"mask-image-l-to-pos":[{"mask-l-to":ke()}],"mask-image-l-from-color":[{"mask-l-from":ae()}],"mask-image-l-to-color":[{"mask-l-to":ae()}],"mask-image-x-from-pos":[{"mask-x-from":ke()}],"mask-image-x-to-pos":[{"mask-x-to":ke()}],"mask-image-x-from-color":[{"mask-x-from":ae()}],"mask-image-x-to-color":[{"mask-x-to":ae()}],"mask-image-y-from-pos":[{"mask-y-from":ke()}],"mask-image-y-to-pos":[{"mask-y-to":ke()}],"mask-image-y-from-color":[{"mask-y-from":ae()}],"mask-image-y-to-color":[{"mask-y-to":ae()}],"mask-image-radial":[{"mask-radial":[He,Ve]}],"mask-image-radial-from-pos":[{"mask-radial-from":ke()}],"mask-image-radial-to-pos":[{"mask-radial-to":ke()}],"mask-image-radial-from-color":[{"mask-radial-from":ae()}],"mask-image-radial-to-color":[{"mask-radial-to":ae()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":O()}],"mask-image-conic-pos":[{"mask-conic":[pt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ke()}],"mask-image-conic-to-pos":[{"mask-conic-to":ke()}],"mask-image-conic-from-color":[{"mask-conic-from":ae()}],"mask-image-conic-to-color":[{"mask-conic-to":ae()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:H()}],"mask-repeat":[{mask:ie()}],"mask-size":[{mask:me()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",He,Ve]}],filter:[{filter:["","none",He,Ve]}],blur:[{blur:Oe()}],brightness:[{brightness:[pt,He,Ve]}],contrast:[{contrast:[pt,He,Ve]}],"drop-shadow":[{"drop-shadow":["","none",_,Zm,Ym]}],"drop-shadow-color":[{"drop-shadow":ae()}],grayscale:[{grayscale:["",pt,He,Ve]}],"hue-rotate":[{"hue-rotate":[pt,He,Ve]}],invert:[{invert:["",pt,He,Ve]}],saturate:[{saturate:[pt,He,Ve]}],sepia:[{sepia:["",pt,He,Ve]}],"backdrop-filter":[{"backdrop-filter":["","none",He,Ve]}],"backdrop-blur":[{"backdrop-blur":Oe()}],"backdrop-brightness":[{"backdrop-brightness":[pt,He,Ve]}],"backdrop-contrast":[{"backdrop-contrast":[pt,He,Ve]}],"backdrop-grayscale":[{"backdrop-grayscale":["",pt,He,Ve]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[pt,He,Ve]}],"backdrop-invert":[{"backdrop-invert":["",pt,He,Ve]}],"backdrop-opacity":[{"backdrop-opacity":[pt,He,Ve]}],"backdrop-saturate":[{"backdrop-saturate":[pt,He,Ve]}],"backdrop-sepia":[{"backdrop-sepia":["",pt,He,Ve]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",He,Ve]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[pt,"initial",He,Ve]}],ease:[{ease:["linear","initial",k,He,Ve]}],delay:[{delay:[pt,He,Ve]}],animate:[{animate:["none",N,He,Ve]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,He,Ve]}],"perspective-origin":[{"perspective-origin":j()}],rotate:[{rotate:Ue()}],"rotate-x":[{"rotate-x":Ue()}],"rotate-y":[{"rotate-y":Ue()}],"rotate-z":[{"rotate-z":Ue()}],scale:[{scale:Xe()}],"scale-x":[{"scale-x":Xe()}],"scale-y":[{"scale-y":Xe()}],"scale-z":[{"scale-z":Xe()}],"scale-3d":["scale-3d"],skew:[{skew:ht()}],"skew-x":[{"skew-x":ht()}],"skew-y":[{"skew-y":ht()}],transform:[{transform:[He,Ve,"","none","gpu","cpu"]}],"transform-origin":[{origin:j()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:bt()}],"translate-x":[{"translate-x":bt()}],"translate-y":[{"translate-y":bt()}],"translate-z":[{"translate-z":bt()}],"translate-none":["translate-none"],accent:[{accent:ae()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ae()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",He,Ve]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mbs":[{"scroll-mbs":I()}],"scroll-mbe":[{"scroll-mbe":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pbs":[{"scroll-pbs":I()}],"scroll-pbe":[{"scroll-pbe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",He,Ve]}],fill:[{fill:["none",...ae()]}],"stroke-w":[{stroke:[pt,Zd,Al,b1]}],stroke:[{stroke:["none",...ae()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","inset-bs","inset-be","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pbs","pbe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mbs","mbe","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-bs","border-w-be","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-bs","border-color-be","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mbs","scroll-mbe","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pbs","scroll-pbe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},QH=kH(XH);function Ye(...e){return QH(cO(e))}function CO({...e}){return y.jsx(B$,{"data-slot":"dropdown-menu",...e})}function Db({...e}){return y.jsx(HP,{"data-slot":"dropdown-menu-portal",...e})}function EO({...e}){return y.jsx(U$,{"data-slot":"dropdown-menu-trigger",...e})}function AO({className:e,sideOffset:t=4,...n}){return y.jsx(HP,{children:y.jsx(F$,{"data-slot":"dropdown-menu-content",sideOffset:t,className:Ye("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function JH({...e}){return y.jsx(V$,{"data-slot":"dropdown-menu-group",...e})}function Qi({className:e,inset:t,variant:n="default",...i}){return y.jsx($$,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:Ye("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default cursor-pointer items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...i})}function xa({className:e,...t}){return y.jsx(H$,{"data-slot":"dropdown-menu-separator",className:Ye("bg-border -mx-1 my-1 h-px",e),...t})}function Lb({...e}){return y.jsx(q$,{"data-slot":"dropdown-menu-sub",...e})}function jb({className:e,inset:t,children:n,...i}){return y.jsxs(G$,{"data-slot":"dropdown-menu-sub-trigger","data-inset":t,className:Ye("focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8",e),...i,children:[n,y.jsx(sc,{className:"ml-auto size-4"})]})}function Ib({className:e,...t}){return y.jsx(K$,{"data-slot":"dropdown-menu-sub-content",className:Ye("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg",e),...t})}const ot=e=>typeof e=="string",Xd=()=>{let e,t;const n=new Promise((i,s)=>{e=i,t=s});return n.resolve=e,n.reject=t,n},w1=e=>e==null?"":""+e,eq=(e,t,n)=>{e.forEach(i=>{t[i]&&(n[i]=t[i])})},tq=/###/g,S1=e=>e&&e.indexOf("###")>-1?e.replace(tq,"."):e,C1=e=>!e||ot(e),uf=(e,t,n)=>{const i=ot(t)?t.split("."):t;let s=0;for(;s<i.length-1;){if(C1(e))return{};const o=S1(i[s]);!e[o]&&n&&(e[o]=new n),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={},++s}return C1(e)?{}:{obj:e,k:S1(i[s])}},E1=(e,t,n)=>{const{obj:i,k:s}=uf(e,t,Object);if(i!==void 0||t.length===1){i[s]=n;return}let o=t[t.length-1],l=t.slice(0,t.length-1),c=uf(e,l,Object);for(;c.obj===void 0&&l.length;)o=`${l[l.length-1]}.${o}`,l=l.slice(0,l.length-1),c=uf(e,l,Object),c?.obj&&typeof c.obj[`${c.k}.${o}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${o}`]=n},nq=(e,t,n,i)=>{const{obj:s,k:o}=uf(e,t,Object);s[o]=s[o]||[],s[o].push(n)},Jp=(e,t)=>{const{obj:n,k:i}=uf(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,i))return n[i]},iq=(e,t,n)=>{const i=Jp(e,n);return i!==void 0?i:Jp(t,n)},TO=(e,t,n)=>{for(const i in t)i!=="__proto__"&&i!=="constructor"&&(i in e?ot(e[i])||e[i]instanceof String||ot(t[i])||t[i]instanceof String?n&&(e[i]=t[i]):TO(e[i],t[i],n):e[i]=t[i]);return e},Tl=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var sq={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const rq=e=>ot(e)?e.replace(/[&<>"'\/]/g,t=>sq[t]):e;class oq{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const i=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,i),this.regExpQueue.push(t),i}}const aq=[" ",",","?","!",";"],lq=new oq(20),cq=(e,t,n)=>{t=t||"",n=n||"";const i=aq.filter(l=>t.indexOf(l)<0&&n.indexOf(l)<0);if(i.length===0)return!0;const s=lq.getRegExp(`(${i.map(l=>l==="?"?"\\?":l).join("|")})`);let o=!s.test(e);if(!o){const l=e.indexOf(n);l>0&&!s.test(e.substring(0,l))&&(o=!0)}return o},z0=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const i=t.split(n);let s=e;for(let o=0;o<i.length;){if(!s||typeof s!="object")return;let l,c="";for(let d=o;d<i.length;++d)if(d!==o&&(c+=n),c+=i[d],l=s[c],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&d<i.length-1)continue;o+=d-o+1;break}s=l}return s},Tf=e=>e?.replace("_","-"),uq={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class eg{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||uq,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,i,s){return s&&!this.debug?null:(ot(t[0])&&(t[0]=`${i}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new eg(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new eg(this.logger,t)}}var Kr=new eg;class Vg{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const s=this.observers[i].get(n)||0;this.observers[i].set(n,s+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([s,o])=>{for(let l=0;l<o;l++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,o])=>{for(let l=0;l<o;l++)s.apply(s,[t,...n])})}}class A1 extends Vg{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,i,s={}){const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;t.indexOf(".")>-1?c=t.split("."):(c=[t,n],i&&(Array.isArray(i)?c.push(...i):ot(i)&&o?c.push(...i.split(o)):c.push(i)));const d=Jp(this.data,c);return!d&&!n&&!i&&t.indexOf(".")>-1&&(t=c[0],n=c[1],i=c.slice(2).join(".")),d||!l||!ot(i)?d:z0(this.data?.[t]?.[n],i,o)}addResource(t,n,i,s,o={silent:!1}){const l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let c=[t,n];i&&(c=c.concat(l?i.split(l):i)),t.indexOf(".")>-1&&(c=t.split("."),s=n,n=c[1]),this.addNamespaces(n),E1(this.data,c,s),o.silent||this.emit("added",t,n,i,s)}addResources(t,n,i,s={silent:!1}){for(const o in i)(ot(i[o])||Array.isArray(i[o]))&&this.addResource(t,n,o,i[o],{silent:!0});s.silent||this.emit("added",t,n,i)}addResourceBundle(t,n,i,s,o,l={silent:!1,skipCopy:!1}){let c=[t,n];t.indexOf(".")>-1&&(c=t.split("."),s=i,i=n,n=c[1]),this.addNamespaces(n);let d=Jp(this.data,c)||{};l.skipCopy||(i=JSON.parse(JSON.stringify(i))),s?TO(d,i,o):d={...d,...i},E1(this.data,c,d),l.silent||this.emit("added",t,n,i)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var RO={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,i,s){return e.forEach(o=>{t=this.processors[o]?.process(t,n,i,s)??t}),t}};const NO=Symbol("i18next/PATH_KEY");function dq(){const e=[],t=Object.create(null);let n;return t.get=(i,s)=>(n?.revoke?.(),s===NO?e:(e.push(s),n=Proxy.revocable(i,t),n.proxy)),Proxy.revocable(Object.create(null),t).proxy}function B0(e,t){const{[NO]:n}=e(dq());return n.join(t?.keySeparator??".")}const T1={},zb=e=>!ot(e)&&typeof e!="boolean"&&typeof e!="number";class tg extends Vg{constructor(t,n={}){super(),eq(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Kr.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const i={...n};if(t==null)return!1;const s=this.resolve(t,i);if(s?.res===void 0)return!1;const o=zb(s.res);return!(i.returnObjects===!1&&o)}extractFromKey(t,n){let i=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const l=i&&t.indexOf(i)>-1,c=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!cq(t,i,s);if(l&&!c){const d=t.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:t,namespaces:ot(o)?[o]:o};const h=t.split(i);(i!==s||i===s&&this.options.ns.indexOf(h[0])>-1)&&(o=h.shift()),t=h.join(s)}return{key:t,namespaces:ot(o)?[o]:o}}translate(t,n,i){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),t==null)return"";typeof t=="function"&&(t=B0(t,{...this.options,...s})),Array.isArray(t)||(t=[String(t)]);const o=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:c,namespaces:d}=this.extractFromKey(t[t.length-1],s),h=d[d.length-1];let m=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;m===void 0&&(m=":");const v=s.lng||this.language,b=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v?.toLowerCase()==="cimode")return b?o?{res:`${h}${m}${c}`,usedKey:c,exactUsedKey:c,usedLng:v,usedNS:h,usedParams:this.getUsedParamsDetails(s)}:`${h}${m}${c}`:o?{res:c,usedKey:c,exactUsedKey:c,usedLng:v,usedNS:h,usedParams:this.getUsedParamsDetails(s)}:c;const _=this.resolve(t,s);let C=_?.res;const E=_?.usedKey||c,T=_?.exactUsedKey||c,k=["[object Number]","[object Function]","[object RegExp]"],N=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,P=!this.i18nFormat||this.i18nFormat.handleAsObject,O=s.count!==void 0&&!ot(s.count),j=tg.hasDefaultValue(s),U=O?this.pluralResolver.getSuffix(v,s.count,s):"",z=s.ordinal&&O?this.pluralResolver.getSuffix(v,s.count,{ordinal:!1}):"",I=O&&!s.ordinal&&s.count===0,$=I&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${U}`]||s[`defaultValue${z}`]||s.defaultValue;let Z=C;P&&!C&&j&&(Z=$);const K=zb(Z),W=Object.prototype.toString.apply(Z);if(P&&Z&&K&&k.indexOf(W)<0&&!(ot(N)&&Array.isArray(Z))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const X=this.options.returnedObjectHandler?this.options.returnedObjectHandler(E,Z,{...s,ns:d}):`key '${c} (${this.language})' returned an object instead of string.`;return o?(_.res=X,_.usedParams=this.getUsedParamsDetails(s),_):X}if(l){const X=Array.isArray(Z),se=X?[]:{},ve=X?T:E;for(const G in Z)if(Object.prototype.hasOwnProperty.call(Z,G)){const ee=`${ve}${l}${G}`;j&&!C?se[G]=this.translate(ee,{...s,defaultValue:zb($)?$[G]:void 0,joinArrays:!1,ns:d}):se[G]=this.translate(ee,{...s,joinArrays:!1,ns:d}),se[G]===ee&&(se[G]=Z[G])}C=se}}else if(P&&ot(N)&&Array.isArray(C))C=C.join(N),C&&(C=this.extendTranslation(C,t,s,i));else{let X=!1,se=!1;!this.isValidLookup(C)&&j&&(X=!0,C=$),this.isValidLookup(C)||(se=!0,C=c);const G=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&se?void 0:C,ee=j&&$!==C&&this.options.updateMissing;if(se||X||ee){if(this.logger.log(ee?"updateKey":"missingKey",v,h,c,ee?$:C),l){const H=this.resolve(c,{...s,keySeparator:!1});H&&H.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Y=[];const de=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&de&&de[0])for(let H=0;H<de.length;H++)Y.push(de[H]);else this.options.saveMissingTo==="all"?Y=this.languageUtils.toResolveHierarchy(s.lng||this.language):Y.push(s.lng||this.language);const ae=(H,ie,me)=>{const xe=j&&me!==C?me:G;this.options.missingKeyHandler?this.options.missingKeyHandler(H,h,ie,xe,ee,s):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(H,h,ie,xe,ee,s),this.emit("missingKey",H,h,ie,C)};this.options.saveMissing&&(this.options.saveMissingPlurals&&O?Y.forEach(H=>{const ie=this.pluralResolver.getSuffixes(H,s);I&&s[`defaultValue${this.options.pluralSeparator}zero`]&&ie.indexOf(`${this.options.pluralSeparator}zero`)<0&&ie.push(`${this.options.pluralSeparator}zero`),ie.forEach(me=>{ae([H],c+me,s[`defaultValue${me}`]||$)})}):ae(Y,c,$))}C=this.extendTranslation(C,t,s,_,i),se&&C===c&&this.options.appendNamespaceToMissingKey&&(C=`${h}${m}${c}`),(se||X)&&this.options.parseMissingKeyHandler&&(C=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${m}${c}`:c,X?C:void 0,s))}return o?(_.res=C,_.usedParams=this.getUsedParamsDetails(s),_):C}extendTranslation(t,n,i,s,o){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const d=ot(t)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(d){const v=t.match(this.interpolator.nestingRegexp);h=v&&v.length}let m=i.replace&&!ot(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),t=this.interpolator.interpolate(t,m,i.lng||this.language||s.usedLng,i),d){const v=t.match(this.interpolator.nestingRegexp),b=v&&v.length;h<b&&(i.nest=!1)}!i.lng&&s&&s.res&&(i.lng=this.language||s.usedLng),i.nest!==!1&&(t=this.interpolator.nest(t,(...v)=>o?.[0]===v[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${n[0]}`),null):this.translate(...v,n),i)),i.interpolation&&this.interpolator.reset()}const l=i.postProcess||this.options.postProcess,c=ot(l)?[l]:l;return t!=null&&c?.length&&i.applyPostProcessor!==!1&&(t=RO.handle(c,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),t}resolve(t,n={}){let i,s,o,l,c;return ot(t)&&(t=[t]),t.forEach(d=>{if(this.isValidLookup(i))return;const h=this.extractFromKey(d,n),m=h.key;s=m;let v=h.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const b=n.count!==void 0&&!ot(n.count),_=b&&!n.ordinal&&n.count===0,C=n.context!==void 0&&(ot(n.context)||typeof n.context=="number")&&n.context!=="",E=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);v.forEach(T=>{this.isValidLookup(i)||(c=T,!T1[`${E[0]}-${T}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(c)&&(T1[`${E[0]}-${T}`]=!0,this.logger.warn(`key "${s}" for languages "${E.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),E.forEach(k=>{if(this.isValidLookup(i))return;l=k;const N=[m];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(N,m,k,T,n);else{let O;b&&(O=this.pluralResolver.getSuffix(k,n.count,n));const j=`${this.options.pluralSeparator}zero`,U=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(b&&(n.ordinal&&O.indexOf(U)===0&&N.push(m+O.replace(U,this.options.pluralSeparator)),N.push(m+O),_&&N.push(m+j)),C){const z=`${m}${this.options.contextSeparator||"_"}${n.context}`;N.push(z),b&&(n.ordinal&&O.indexOf(U)===0&&N.push(z+O.replace(U,this.options.pluralSeparator)),N.push(z+O),_&&N.push(z+j))}}let P;for(;P=N.pop();)this.isValidLookup(i)||(o=P,i=this.getResource(k,T,P,n))}))})}),{res:i,usedKey:s,exactUsedKey:o,usedLng:l,usedNS:c}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,i,s={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,n,i,s):this.resourceStore.getResource(t,n,i,s)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=t.replace&&!ot(t.replace);let s=i?t.replace:t;if(i&&typeof t.count<"u"&&(s.count=t.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!i){s={...s};for(const o of n)delete s[o]}return s}static hasDefaultValue(t){const n="defaultValue";for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&n===i.substring(0,n.length)&&t[i]!==void 0)return!0;return!1}}class R1{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Kr.create("languageUtils")}getScriptPartFromCode(t){if(t=Tf(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=Tf(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(ot(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(i=>{if(n)return;const s=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&t.forEach(i=>{if(n)return;const s=this.getScriptPartFromCode(i);if(this.isSupportedCode(s))return n=s;const o=this.getLanguagePartFromCode(i);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(l=>{if(l===o)return l;if(!(l.indexOf("-")<0&&o.indexOf("-")<0)&&(l.indexOf("-")>0&&o.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===o||l.indexOf(o)===0&&o.length>1))return l})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),ot(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let i=t[n];return i||(i=t[this.getScriptPartFromCode(n)]),i||(i=t[this.formatLanguageCode(n)]),i||(i=t[this.getLanguagePartFromCode(n)]),i||(i=t.default),i||[]}toResolveHierarchy(t,n){const i=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),s=[],o=l=>{l&&(this.isSupportedCode(l)?s.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return ot(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):ot(t)&&o(this.formatLanguageCode(t)),i.forEach(l=>{s.indexOf(l)<0&&o(this.formatLanguageCode(l))}),s}}const N1={zero:0,one:1,two:2,few:3,many:4,other:5},k1={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class fq{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=Kr.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const i=Tf(t==="dev"?"en":t),s=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:i,type:s});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let l;try{l=new Intl.PluralRules(i,{type:s})}catch{if(typeof Intl>"u")return this.logger.error("No Intl support, please use an Intl polyfill!"),k1;if(!t.match(/-|_/))return k1;const d=this.languageUtils.getLanguagePartFromCode(t);l=this.getRule(d,n)}return this.pluralRulesCache[o]=l,l}needsPlural(t,n={}){let i=this.getRule(t,n);return i||(i=this.getRule("dev",n)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,n,i={}){return this.getSuffixes(t,i).map(s=>`${n}${s}`)}getSuffixes(t,n={}){let i=this.getRule(t,n);return i||(i=this.getRule("dev",n)),i?i.resolvedOptions().pluralCategories.sort((s,o)=>N1[s]-N1[o]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(t,n,i={}){const s=this.getRule(t,i);return s?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,i))}}const P1=(e,t,n,i=".",s=!0)=>{let o=iq(e,t,n);return!o&&s&&ot(n)&&(o=z0(e,n,i),o===void 0&&(o=z0(t,n,i))),o},Bb=e=>e.replace(/\$/g,"$$$$");class O1{constructor(t={}){this.logger=Kr.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:i,useRawValueToEscape:s,prefix:o,prefixEscaped:l,suffix:c,suffixEscaped:d,formatSeparator:h,unescapeSuffix:m,unescapePrefix:v,nestingPrefix:b,nestingPrefixEscaped:_,nestingSuffix:C,nestingSuffixEscaped:E,nestingOptionsSeparator:T,maxReplaces:k,alwaysFormat:N}=t.interpolation;this.escape=n!==void 0?n:rq,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=o?Tl(o):l||"{{",this.suffix=c?Tl(c):d||"}}",this.formatSeparator=h||",",this.unescapePrefix=m?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":m||"",this.nestingPrefix=b?Tl(b):_||Tl("$t("),this.nestingSuffix=C?Tl(C):E||Tl(")"),this.nestingOptionsSeparator=T||",",this.maxReplaces=k||1e3,this.alwaysFormat=N!==void 0?N:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,i)=>n?.source===i?(n.lastIndex=0,n):new RegExp(i,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,i,s){let o,l,c;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=_=>{if(_.indexOf(this.formatSeparator)<0){const k=P1(n,d,_,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(k,void 0,i,{...s,...n,interpolationkey:_}):k}const C=_.split(this.formatSeparator),E=C.shift().trim(),T=C.join(this.formatSeparator).trim();return this.format(P1(n,d,E,this.options.keySeparator,this.options.ignoreJSONStructure),T,i,{...s,...n,interpolationkey:E})};this.resetRegExp();const m=s?.missingInterpolationHandler||this.options.missingInterpolationHandler,v=s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:_=>Bb(_)},{regex:this.regexp,safeValue:_=>this.escapeValue?Bb(this.escape(_)):Bb(_)}].forEach(_=>{for(c=0;o=_.regex.exec(t);){const C=o[1].trim();if(l=h(C),l===void 0)if(typeof m=="function"){const T=m(t,o,s);l=ot(T)?T:""}else if(s&&Object.prototype.hasOwnProperty.call(s,C))l="";else if(v){l=o[0];continue}else this.logger.warn(`missed to pass in variable ${C} for interpolating ${t}`),l="";else!ot(l)&&!this.useRawValueToEscape&&(l=w1(l));const E=_.safeValue(l);if(t=t.replace(o[0],E),v?(_.regex.lastIndex+=l.length,_.regex.lastIndex-=o[0].length):_.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),t}nest(t,n,i={}){let s,o,l;const c=(d,h)=>{const m=this.nestingOptionsSeparator;if(d.indexOf(m)<0)return d;const v=d.split(new RegExp(`${Tl(m)}[ ]*{`));let b=`{${v[1]}`;d=v[0],b=this.interpolate(b,l);const _=b.match(/'/g),C=b.match(/"/g);((_?.length??0)%2===0&&!C||(C?.length??0)%2!==0)&&(b=b.replace(/'/g,'"'));try{l=JSON.parse(b),h&&(l={...h,...l})}catch(E){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,E),`${d}${m}${b}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,d};for(;s=this.nestingRegexp.exec(t);){let d=[];l={...i},l=l.replace&&!ot(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const h=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(h!==-1&&(d=s[1].slice(h).split(this.formatSeparator).map(m=>m.trim()).filter(Boolean),s[1]=s[1].slice(0,h)),o=n(c.call(this,s[1].trim(),l),l),o&&s[0]===t&&!ot(o))return o;ot(o)||(o=w1(o)),o||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${t}`),o=""),d.length&&(o=d.reduce((m,v)=>this.format(m,v,i.lng,{...i,interpolationkey:s[1].trim()}),o.trim())),t=t.replace(s[0],o),this.regexp.lastIndex=0}return t}}const hq=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const i=e.split("(");t=i[0].toLowerCase().trim();const s=i[1].substring(0,i[1].length-1);t==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):t==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(l=>{if(l){const[c,...d]=l.split(":"),h=d.join(":").trim().replace(/^'+|'+$/g,""),m=c.trim();n[m]||(n[m]=h),h==="false"&&(n[m]=!1),h==="true"&&(n[m]=!0),isNaN(h)||(n[m]=parseInt(h,10))}})}return{formatName:t,formatOptions:n}},M1=e=>{const t={};return(n,i,s)=>{let o=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(o={...o,[s.interpolationkey]:void 0});const l=i+JSON.stringify(o);let c=t[l];return c||(c=e(Tf(i),s),t[l]=c),c(n)}},mq=e=>(t,n,i)=>e(Tf(n),i)(t);class pq{constructor(t={}){this.logger=Kr.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const i=n.cacheInBuiltFormats?M1:mq;this.formats={number:i((s,o)=>{const l=new Intl.NumberFormat(s,{...o});return c=>l.format(c)}),currency:i((s,o)=>{const l=new Intl.NumberFormat(s,{...o,style:"currency"});return c=>l.format(c)}),datetime:i((s,o)=>{const l=new Intl.DateTimeFormat(s,{...o});return c=>l.format(c)}),relativetime:i((s,o)=>{const l=new Intl.RelativeTimeFormat(s,{...o});return c=>l.format(c,o.range||"day")}),list:i((s,o)=>{const l=new Intl.ListFormat(s,{...o});return c=>l.format(c)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=M1(n)}format(t,n,i,s={}){const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(c=>c.indexOf(")")>-1)){const c=o.findIndex(d=>d.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,c)].join(this.formatSeparator)}return o.reduce((c,d)=>{const{formatName:h,formatOptions:m}=hq(d);if(this.formats[h]){let v=c;try{const b=s?.formatParams?.[s.interpolationkey]||{},_=b.locale||b.lng||s.locale||s.lng||i;v=this.formats[h](c,_,{...m,...s,...b})}catch(b){this.logger.warn(b)}return v}else this.logger.warn(`there was no format function for ${h}`);return c},t)}}const gq=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class vq extends Vg{constructor(t,n,i,s={}){super(),this.backend=t,this.store=n,this.services=i,this.languageUtils=i.languageUtils,this.options=s,this.logger=Kr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,s.backend,s)}queueLoad(t,n,i,s){const o={},l={},c={},d={};return t.forEach(h=>{let m=!0;n.forEach(v=>{const b=`${h}|${v}`;!i.reload&&this.store.hasResourceBundle(h,v)?this.state[b]=2:this.state[b]<0||(this.state[b]===1?l[b]===void 0&&(l[b]=!0):(this.state[b]=1,m=!1,l[b]===void 0&&(l[b]=!0),o[b]===void 0&&(o[b]=!0),d[v]===void 0&&(d[v]=!0)))}),m||(c[h]=!0)}),(Object.keys(o).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(o),pending:Object.keys(l),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(d)}}loaded(t,n,i){const s=t.split("|"),o=s[0],l=s[1];n&&this.emit("failedLoading",o,l,n),!n&&i&&this.store.addResourceBundle(o,l,i,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&i&&(this.state[t]=0);const c={};this.queue.forEach(d=>{nq(d.loaded,[o],l),gq(d,t),n&&d.errors.push(n),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(h=>{c[h]||(c[h]={});const m=d.loaded[h];m.length&&m.forEach(v=>{c[h][v]===void 0&&(c[h][v]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(d=>!d.done)}read(t,n,i,s=0,o=this.retryTimeout,l){if(!t.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:i,tried:s,wait:o,callback:l});return}this.readingCalls++;const c=(h,m)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(h&&m&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,i,s+1,o*2,l)},o);return}l(h,m)},d=this.backend[i].bind(this.backend);if(d.length===2){try{const h=d(t,n);h&&typeof h.then=="function"?h.then(m=>c(null,m)).catch(c):c(null,h)}catch(h){c(h)}return}return d(t,n,c)}prepareLoading(t,n,i={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();ot(t)&&(t=this.languageUtils.toResolveHierarchy(t)),ot(n)&&(n=[n]);const o=this.queueLoad(t,n,i,s);if(!o.toLoad.length)return o.pending.length||s(),null;o.toLoad.forEach(l=>{this.loadOne(l)})}load(t,n,i){this.prepareLoading(t,n,{},i)}reload(t,n,i){this.prepareLoading(t,n,{reload:!0},i)}loadOne(t,n=""){const i=t.split("|"),s=i[0],o=i[1];this.read(s,o,"read",void 0,void 0,(l,c)=>{l&&this.logger.warn(`${n}loading namespace ${o} for language ${s} failed`,l),!l&&c&&this.logger.log(`${n}loaded namespace ${o} for language ${s}`,c),this.loaded(t,l,c)})}saveMissing(t,n,i,s,o,l={},c=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${i}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){const d={...l,isUpdate:o},h=this.backend.create.bind(this.backend);if(h.length<6)try{let m;h.length===5?m=h(t,n,i,s,d):m=h(t,n,i,s),m&&typeof m.then=="function"?m.then(v=>c(null,v)).catch(c):c(null,m)}catch(m){c(m)}else h(t,n,i,s,c,d)}!t||!t[0]||this.store.addResource(t[0],n,i,s)}}}const Ub=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),ot(e[1])&&(t.defaultValue=e[1]),ot(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(i=>{t[i]=n[i]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),D1=e=>(ot(e.ns)&&(e.ns=[e.ns]),ot(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),ot(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),Xm=()=>{},yq=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})},kO="__i18next_supportNoticeShown",bq=()=>typeof globalThis<"u"&&!!globalThis[kO],xq=()=>{typeof globalThis<"u"&&(globalThis[kO]=!0)},_q=e=>!!(e?.modules?.backend?.name?.indexOf("Locize")>0||e?.modules?.backend?.constructor?.name?.indexOf("Locize")>0||e?.options?.backend?.backends&&e.options.backend.backends.some(t=>t?.name?.indexOf("Locize")>0||t?.constructor?.name?.indexOf("Locize")>0)||e?.options?.backend?.projectId||e?.options?.backend?.backendOptions&&e.options.backend.backendOptions.some(t=>t?.projectId));class df extends Vg{constructor(t={},n){if(super(),this.options=D1(t),this.services={},this.logger=Kr,this.modules={external:[]},yq(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(ot(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const i=Ub();this.options={...i,...this.options,...D1(t)},this.options.interpolation={...i.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=i.overloadTranslationOptionHandler),this.options.showSupportNotice!==!1&&!_q(this)&&!bq()&&(typeof console<"u"&&typeof console.info<"u"&&console.info(" i18next is maintained with support from Locize  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com "),xq());const s=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?Kr.init(s(this.modules.logger),this.options):Kr.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=pq;const m=new R1(this.options);this.store=new A1(this.options.resources,this.options);const v=this.services;v.logger=Kr,v.resourceStore=this.store,v.languageUtils=m,v.pluralResolver=new fq(m,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(v.formatter=s(h),v.formatter.init&&v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new O1(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new vq(s(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(_,...C)=>{this.emit(_,...C)}),this.modules.languageDetector&&(v.languageDetector=s(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=s(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new tg(this.services,this.options),this.translator.on("*",(_,...C)=>{this.emit(_,...C)}),this.modules.external.forEach(_=>{_.init&&_.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Xm),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...m)=>this.store[h](...m)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...m)=>(this.store[h](...m),this)});const c=Xd(),d=()=>{const h=(m,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(v),n(m,v)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),c}loadResources(t,n=Xm){let i=n;const s=ot(t)?t:this.language;if(typeof t=="function"&&(i=t),!this.options.resources||this.options.partialBundledLanguages){if(s?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const o=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(h=>{h!=="cimode"&&o.indexOf(h)<0&&o.push(h)})};s?l(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),this.options.preload?.forEach?.(c=>l(c)),this.services.backendConnector.load(o,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(c)})}else i(null)}reloadResources(t,n,i){const s=Xd();return typeof t=="function"&&(i=t,t=void 0),typeof n=="function"&&(i=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),i||(i=Xm),this.services.backendConnector.reload(t,n,o=>{s.resolve(),i(o)}),s}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&RO.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const i=this.languages[n];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const i=Xd();this.emit("languageChanging",t);const s=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,d)=>{d?this.isLanguageChangingTo===t&&(s(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,i.resolve((...h)=>this.t(...h)),n&&n(c,(...h)=>this.t(...h))},l=c=>{!t&&!c&&this.services.languageDetector&&(c=[]);const d=ot(c)?c:c&&c[0],h=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(ot(c)?[c]:c);h&&(this.language||s(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector?.cacheUserLanguage?.(h)),this.loadResources(h,m=>{o(m,h)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(t),i}getFixedT(t,n,i){const s=(o,l,...c)=>{let d;typeof l!="object"?d=this.options.overloadTranslationOptionHandler([o,l].concat(c)):d={...l},d.lng=d.lng||s.lng,d.lngs=d.lngs||s.lngs,d.ns=d.ns||s.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||i||s.keyPrefix);const h=this.options.keySeparator||".";let m;return d.keyPrefix&&Array.isArray(o)?m=o.map(v=>(typeof v=="function"&&(v=B0(v,{...this.options,...l})),`${d.keyPrefix}${h}${v}`)):(typeof o=="function"&&(o=B0(o,{...this.options,...l})),m=d.keyPrefix?`${d.keyPrefix}${h}${o}`:o),this.t(m,d)};return ot(t)?s.lng=t:s.lngs=t,s.ns=n,s.keyPrefix=i,s}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const l=(c,d)=>{const h=this.services.backendConnector.state[`${c}|${d}`];return h===-1||h===0||h===2};if(n.precheck){const c=n.precheck(this,l);if(c!==void 0)return c}return!!(this.hasResourceBundle(i,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(i,t)&&(!s||l(o,t)))}loadNamespaces(t,n){const i=Xd();return this.options.ns?(ot(t)&&(t=[t]),t.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{i.resolve(),n&&n(s)}),i):(n&&n(),Promise.resolve())}loadLanguages(t,n){const i=Xd();ot(t)&&(t=[t]);const s=this.options.preload||[],o=t.filter(l=>s.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return o.length?(this.options.preload=s.concat(o),this.loadResources(l=>{i.resolve(),n&&n(l)}),i):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const s=new Intl.Locale(t);if(s&&s.getTextInfo){const o=s.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new R1(Ub());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(i.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){const i=new df(t,n);return i.createInstance=df.createInstance,i}cloneInstance(t={},n=Xm){const i=t.forkResourceStore;i&&delete t.forkResourceStore;const s={...this.options,...t,isClone:!0},o=new df(s);if((t.debug!==void 0||t.prefix!==void 0)&&(o.logger=o.logger.clone(t)),["store","services","language"].forEach(c=>{o[c]=this[c]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},i){const c=Object.keys(this.store.data).reduce((d,h)=>(d[h]={...this.store.data[h]},d[h]=Object.keys(d[h]).reduce((m,v)=>(m[v]={...d[h][v]},m),d[h]),d),{});o.store=new A1(c,s),o.services.resourceStore=o.store}if(t.interpolation){const d={...Ub().interpolation,...this.options.interpolation,...t.interpolation},h={...s,interpolation:d};o.services.interpolator=new O1(h)}return o.translator=new tg(o.services,s),o.translator.on("*",(c,...d)=>{o.emit(c,...d)}),o.init(s,n),o.translator.options=s,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Qt=df.createInstance();Qt.createInstance;Qt.dir;Qt.init;Qt.loadResources;Qt.reloadResources;Qt.use;Qt.changeLanguage;Qt.getFixedT;Qt.t;Qt.exists;Qt.setDefaultNamespace;Qt.hasLoadedNamespace;Qt.loadNamespaces;Qt.loadLanguages;const wq=(e,t,n,i)=>{const s=[n,{code:t,...i||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(s,"warn","react-i18next::",!0);Wl(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...s):console?.warn&&console.warn(...s)},L1={},PO=(e,t,n,i)=>{Wl(n)&&L1[n]||(Wl(n)&&(L1[n]=new Date),wq(e,t,n,i))},OO=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},U0=(e,t,n)=>{e.loadNamespaces(t,OO(e,n))},j1=(e,t,n,i)=>{if(Wl(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return U0(e,n,i);n.forEach(s=>{e.options.ns.indexOf(s)<0&&e.options.ns.push(s)}),e.loadLanguages(t,OO(e,i))},Sq=(e,t,n={})=>!t.languages||!t.languages.length?(PO(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(i,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!s(i.isLanguageChangingTo,e))return!1}}),Wl=e=>typeof e=="string",Cq=e=>typeof e=="object"&&e!==null,Eq=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Aq={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Tq=e=>Aq[e],Rq=e=>e.replace(Eq,Tq);let F0={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Rq,transDefaultProps:void 0};const Nq=(e={})=>{F0={...F0,...e}},kq=()=>F0;let MO;const Pq=e=>{MO=e},Oq=()=>MO,Mq={type:"3rdParty",init(e){Nq(e.options.react),Pq(e)}},Dq=x.createContext();class Lq{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var DO=ak();const jq=(e,t)=>Wl(t)?t:Cq(t)&&Wl(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,Iq={t:jq,ready:!1},zq=()=>()=>{},At=(e,t={})=>{const{i18n:n}=t,{i18n:i,defaultNS:s}=x.useContext(Dq)||{},o=n||i||Oq();o&&!o.reportNamespaces&&(o.reportNamespaces=new Lq),o||PO(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const l=x.useMemo(()=>({...kq(),...o?.options?.react,...t}),[o,t]),{useSuspense:c,keyPrefix:d}=l,h=s||o?.options?.defaultNS,m=Wl(h)?[h]:h||["translation"],v=x.useMemo(()=>m,m);o?.reportNamespaces?.addUsedNamespaces?.(v);const b=x.useRef(0),_=x.useCallback($=>{if(!o)return zq;const{bindI18n:Z,bindI18nStore:K}=l,W=()=>{b.current+=1,$()};return Z&&o.on(Z,W),K&&o.store.on(K,W),()=>{Z&&Z.split(" ").forEach(X=>o.off(X,W)),K&&K.split(" ").forEach(X=>o.store.off(X,W))}},[o,l]),C=x.useRef(),E=x.useCallback(()=>{if(!o)return Iq;const $=!!(o.isInitialized||o.initializedStoreOnce)&&v.every(ve=>Sq(ve,o,l)),Z=t.lng||o.language,K=b.current,W=C.current;if(W&&W.ready===$&&W.lng===Z&&W.keyPrefix===d&&W.revision===K)return W;const se={t:o.getFixedT(Z,l.nsMode==="fallback"?v:v[0],d),ready:$,lng:Z,keyPrefix:d,revision:K};return C.current=se,se},[o,v,d,l,t.lng]),[T,k]=x.useState(0),{t:N,ready:P}=DO.useSyncExternalStore(_,E,E);x.useEffect(()=>{if(o&&!P&&!c){const $=()=>k(Z=>Z+1);t.lng?j1(o,t.lng,v,$):U0(o,v,$)}},[o,t.lng,v,P,c,T]);const O=o||{},j=x.useRef(null),U=x.useRef(),z=$=>{const Z=Object.getOwnPropertyDescriptors($);Z.__original&&delete Z.__original;const K=Object.create(Object.getPrototypeOf($),Z);if(!Object.prototype.hasOwnProperty.call(K,"__original"))try{Object.defineProperty(K,"__original",{value:$,writable:!1,enumerable:!1,configurable:!1})}catch{}return K},I=x.useMemo(()=>{const $=O,Z=$?.language;let K=$;$&&(j.current&&j.current.__original===$?U.current!==Z?(K=z($),j.current=K,U.current=Z):K=j.current:(K=z($),j.current=K,U.current=Z));const W=[N,K,P];return W.t=N,W.i18n=K,W.ready=P,W},[N,O,P,O.resolvedLanguage,O.language,O.languages]);if(o&&c&&!P)throw new Promise($=>{const Z=()=>$();t.lng?j1(o,t.lng,v,Z):U0(o,v,Z)});return I},LO=x.createContext(null),I1="theme-preference",Bq=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",z1=e=>{const t=document.documentElement,n=e==="system"?Bq():e;t.classList.remove("light","dark"),t.classList.add(n)},Uq=({children:e})=>{const[t,n]=x.useState(()=>localStorage.getItem(I1)||"system");x.useEffect(()=>{if(z1(t),t==="system"){const s=window.matchMedia("(prefers-color-scheme: dark)"),o=()=>z1("system");return s.addEventListener("change",o),()=>s.removeEventListener("change",o)}},[t]);const i=s=>{n(s),localStorage.setItem(I1,s)};return y.jsx(LO.Provider,{value:{theme:t,changeTheme:i},children:e})},Iu=()=>{const e=x.useContext(LO);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},{slice:Fq,forEach:Vq}=[];function $q(e){return Vq.call(Fq.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}function Hq(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(e))}const B1=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,qq=function(e,t){const i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(t);let o=`${e}=${s}`;if(i.maxAge>0){const l=i.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(l)}`}if(i.domain){if(!B1.test(i.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${i.domain}`}if(i.path){if(!B1.test(i.path))throw new TypeError("option path is invalid");o+=`; Path=${i.path}`}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${i.expires.toUTCString()}`}if(i.httpOnly&&(o+="; HttpOnly"),i.secure&&(o+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i.partitioned&&(o+="; Partitioned"),o},U1={create(e,t,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+n*60*1e3)),i&&(s.domain=i),document.cookie=qq(e,t,s)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let i=0;i<n.length;i++){let s=n[i];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(t)===0)return s.substring(t.length,s.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var Gq={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return U1.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:i,cookieDomain:s,cookieOptions:o}=t;n&&typeof document<"u"&&U1.create(n,e,i,s,o)}},Kq={name:"querystring",lookup(e){let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const o=i.substring(1).split("&");for(let l=0;l<o.length;l++){const c=o[l].indexOf("=");c>0&&o[l].substring(0,c)===t&&(n=o[l].substring(c+1))}}return n}},Wq={name:"hash",lookup(e){let{lookupHash:t,lookupFromHashIndex:n}=e,i;if(typeof window<"u"){const{hash:s}=window.location;if(s&&s.length>2){const o=s.substring(1);if(t){const l=o.split("&");for(let c=0;c<l.length;c++){const d=l[c].indexOf("=");d>0&&l[c].substring(0,d)===t&&(i=l[c].substring(d+1))}}if(i)return i;if(!i&&n>-1){const l=s.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?l[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return i}};let Zc=null;const F1=()=>{if(Zc!==null)return Zc;try{if(Zc=typeof window<"u"&&window.localStorage!==null,!Zc)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Zc=!1}return Zc};var Yq={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&F1())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&F1()&&window.localStorage.setItem(n,e)}};let Xc=null;const V1=()=>{if(Xc!==null)return Xc;try{if(Xc=typeof window<"u"&&window.sessionStorage!==null,!Xc)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Xc=!1}return Xc};var Zq={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&V1())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&V1()&&window.sessionStorage.setItem(n,e)}},Xq={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:i,language:s}=navigator;if(n)for(let o=0;o<n.length;o++)t.push(n[o]);i&&t.push(i),s&&t.push(s)}return t.length>0?t:void 0}},Qq={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const i=t||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(n=i.getAttribute("lang")),n}},Jq={name:"path",lookup(e){let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof t=="number"?t:0]?.replace("/",""):void 0}},e8={name:"subdomain",lookup(e){let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,i=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(i)return i[n]}};let jO=!1;try{document.cookie,jO=!0}catch{}const IO=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];jO||IO.splice(1,1);const t8=()=>({order:IO,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class zO{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=$q(n,this.options||{},t8()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(Gq),this.addDetector(Kq),this.addDetector(Yq),this.addDetector(Zq),this.addDetector(Xq),this.addDetector(Qq),this.addDetector(Jq),this.addDetector(e8),this.addDetector(Wq)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return t.forEach(i=>{if(this.detectors[i]){let s=this.detectors[i].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(n=n.concat(s))}}),n=n.filter(i=>i!=null&&!Hq(i)).map(i=>this.options.convertDetectedLanguage(i)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(i=>{this.detectors[i]&&this.detectors[i].cacheUserLanguage(t,this.options)}))}}zO.type="languageDetector";const n8="Welcome!",i8="Language",s8="Light",r8="Dark",o8="System",a8="English",l8="Spanish",c8="Portuguese",u8="Profile",d8="Logout",f8="Theme",h8="Login with Google",m8={now:"Just now",minutesAgo:"{{count}}m ago",hoursAgo:"{{count}}h ago",yesterday:"Yesterday",daysAgo:"{{count}} days ago"},p8={restoringCache:"Restoring cache...",initializing:"Initializing..."},g8={finalizingAuth:"Finalizing authentication...",waitSeconds:"Please wait a few seconds.",descriptionGoogle:"Sign in with your Google account to unlock all features and save your progress",loginError:"Login error",signingIn:"Signing in...",continueWithGoogle:"Continue with Google",exclusiveFeatures:"Exclusive features when signed in",continueWithoutLogin:"You can continue without signing in, but you won't have access to the features listed above.",back:"Back",backAriaLabel:"Go back to previous page"},v8={back:"Back",challenges:"Challenges",explore:"Explore",audio:"Audio",soundOff:"Sound off",soundOn:"Sound on",logoutWarning:"When you sign out, your features and progress will only be available when you sign in again.",logoutAnyway:"Sign out anyway"},y8={memberSince:"Member since",globalRanking:"Global Ranking",rankingHint:"Score on explored species, hit accuracy and speed to keep climbing."},b8={title:"PROGRESS",speciesExplored:"Species explored",challengesCompleted:"Challenges completed",hitAccuracy:"Hit accuracy",medalsEarned:"Medals earned",dayStreak:"Day streak",globalRanking:"Global ranking"},x8={title:"ACTIVITY"},_8={title:"ACHIEVEMENTS",locked:"Locked"},w8={title:"SHORTCUTS",saveEdit:"Save edit",cancelEdit:"Cancel edit",editName:"Edit shortcut name",remove:"Remove shortcut",empty:"No shortcuts created",emptyHint:"Create shortcuts by browsing the tree",tip:"Browse the taxonomic tree and save selected nodes as shortcuts for quick access."},S8={title:"SEEN SPECIES",openGallery:"Open gallery",emptyTitle:"Your gallery is empty",emptyHint:"Explore species to fill it!"},C8={title:"FAVORITE SPECIES",addFavorite:"Add favorite",edit:"Edit",done:"Done",replace:"Replace",pickerTitle:"Choose a favorite species",pickerEmpty:"No species available",pickerEmptyHint:"Favorite species in the gallery to add them here"},E8={title:"Species Gallery",species:"species",of:"of",searchPlaceholder:"Search by name or family...",newest:"Newest",oldest:"Oldest",newestFirst:"Newest first",oldestFirst:"Oldest first",favorites:"Favorites",noSpeciesFound:"No species found",noFavorites:"You have no favorites yet",adjustFilters:"Try adjusting the filters",noImage:"No image",photosFirst:"Photos first"},A8={notFound:"No data found",backToGallery:"Back to gallery",backToProfile:"Back to profile",backToTree:"Back to tree",dataUnavailable:"Data unavailable.",taxonomyTitle:"Taxonomic Classification",kingdomLabel:"Kingdom",phylumLabel:"Phylum",orderLabel:"Order",classLabel:"Class",familyLabel:"Family",genusLabel:"Genus",descriptionTitle:"Description",nomenclatureTitle:"Nomenclature Details",author:"Author",publishedIn:"Published in",sources:"Sources",imageNotFound:"Image not found.",imageNote:"Images are sourced from Wikipedia, iNaturalist and GBIF, and may be missing for species with limited visual documentation.",viewOnGoogle:"View on Google Images",imageSource:"Source",imageBy:"by @",imageLicense:", licensed under "},T8={locality:"Locality",country:"Country",date:"Date",recordedBy:"Recorded by",unknown:"Unknown",noDate:"No date",notInformed:"Not provided",viewReference:"View reference",dataProvidedBy:"Occurrence data provided by",dataNote:". The points represent global records from various databases, which may differ from the image source above."},R8={loadError:"Failed to load",loadErrorMessage:"Could not load the tree. Please try again.",noData:"No data available",noDataMessage:"No taxonomic data to display yet."},N8={selectKingdom:"Select a kingdom",example:"Example",selectKingdomFirst:"Select a kingdom to search",gbifError:"Error querying GBIF",lineageError:"Could not retrieve lineage for the selected item",pathError:"Error building the selected path",keyNotFound:"GBIF key not found",rankNotInTree:"This taxon (subspecies, variety, etc.) does not exist in the tree",kingdom:"Kingdom",searchTaxa:"Search taxa",expandResults:"Expand results",minimizeResults:"Minimize results",results:"results",clearSearch:"Clear",noResults:"No results found",searchByNameOrKey:"Canonical name or GBIF key..."},k8={selectKingdom:"Choose a Kingdom to start exploring!",mainGroups:"Main Groups",kingdom:"Kingdom"},P8={title:"Daily Challenge",find:"Find",missionDescription:"A new species every day to challenge your mastery of the taxonomic tree. Complete all classifications and track your progress.",cancel:"Cancel Challenge",start:"Start Challenge",completed:"Classification complete!",stepAttempts:"Attempts: {{count}}",stepErrors:"Errors: {{count}}",interactionTips:"Viewed tips",interactionRevealed:"Revealed answer",interactionNames:"Viewed popular names",interactionImage:"Viewed image",timeRemaining:"Time remaining",taxonomicPath:"Taxonomic Path",interactions:"interactions",tips:"Tips to advance",needHelp:"Need help?",prevStep:"Previous step",step:"Step",of:"of",nextStep:"Next step",revealAnswer:"Reveal answer for this step",belongsTo:"belongs to",howItWorks:"How does the challenge work?",randomTitle:"Random Challenge",randomMissionDescription:"Unlimited challenges with surprise species. Practice freely and strengthen your understanding of taxonomic pathways.",allSpeciesCompleted:"You've completed all available species!",replay:"Play again",nextChallenge:"Next challenge",nextRandom:"Random Challenge",pastChallenges:"Past Challenges",today:"Today",completedLabel:"Completed",alreadyCompleted:"Already completed",prevDay:"Previous day",nextDay:"Next day",play:"Play",otherDailyChallenges:"Other daily challenges",dailyChallenges:"Daily Challenges",timeTaken:"Time",errorsLabel:"Errors",accuracyLabel:"Accuracy",perfectErrors:"0",selectInTree:"Select in the tree",loadingPath:"Building path...",orPlayOtherDate:"or explore another day",dailyFeature1:"New species every day",dailyFeature2:"Same for everyone",randomFeature1:"Mystery species",randomFeature2:"Unlimited challenges",randomNoChallenge:"No challenges available right now. Try again later."},O8={unknown:"Unknown status",EX:"Extinct",EW:"Extinct in the Wild",CR:"Critically Endangered",EN:"Endangered",VU:"Vulnerable",NT:"Near Threatened",LC:"Least Concern",DD:"Data Deficient",NE:"Not Evaluated"},M8={welcome:n8,language:i8,light:s8,dark:r8,system:o8,en:a8,es:l8,pt:c8,profile:u8,logout:d8,theme:f8,loginWithGoogle:h8,time:m8,loading:p8,auth:g8,nav:v8,profilePage:y8,progress:b8,activity:x8,achievements:_8,shortcuts:w8,seenSpecies:S8,favSpecies:C8,gallery:E8,specieDetail:A8,occurrenceMap:T8,tree:R8,search:N8,explore:k8,challenge:P8,vulnerability:O8},D8="Bem-vindo!",L8="Idioma",j8="Claro",I8="Escuro",z8="Sistema",B8="Ingls",U8="Espanhol",F8="Portugus",V8="Perfil",$8="Sair",H8="Tema",q8="Login com Google",G8={now:"Agora mesmo",minutesAgo:"{{count}}m atrs",hoursAgo:"{{count}}h atrs",yesterday:"Ontem",daysAgo:"{{count}} dias atrs"},K8={restoringCache:"Restaurando cache...",initializing:"Inicializando..."},W8={finalizingAuth:"Finalizando autenticao...",waitSeconds:"Aguarde alguns segundos.",descriptionGoogle:"Entre com sua conta Google para desbloquear todos os recursos e salvar seu progresso",loginError:"Erro ao fazer login",signingIn:"Entrando...",continueWithGoogle:"Continuar com Google",exclusiveFeatures:"Recursos exclusivos ao entrar",continueWithoutLogin:"Voc pode continuar sem fazer login, mas no ter acesso aos recursos listados acima.",back:"Voltar",backAriaLabel:"Voltar para pgina anterior"},Y8={back:"Voltar",challenges:"Desafios",explore:"Explorar",audio:"udio",soundOff:"Som desligado",soundOn:"Som ligado",logoutWarning:"Ao sair, seus recursos e progresso s ficaro disponveis quando entrar novamente.",logoutAnyway:"Sair mesmo assim"},Z8={memberSince:"Usurio desde",globalRanking:"Ranking Global",rankingHint:"Pontue em espcies exploradas, preciso de acerto e velocidade para continuar subindo."},X8={title:"PROGRESSO",speciesExplored:"Espcies exploradas",challengesCompleted:"Desafios completados",hitAccuracy:"Preciso de acerto",medalsEarned:"Medalhas conquistadas",dayStreak:"Sequncia de dias",globalRanking:"Ranking global"},Q8={title:"ATIVIDADE"},J8={title:"CONQUISTAS",locked:"Bloqueadas"},eG={title:"ATALHOS",saveEdit:"Salvar edio",cancelEdit:"Cancelar edio",editName:"Editar nome do atalho",remove:"Remover atalho",empty:"Nenhum atalho criado",emptyHint:"Crie atalhos navegando pela rvore",tip:"Navegue pela rvore taxonmica e salve os ns selecionados como atalhos para acesso rpido."},tG={title:"ESPCIES VISTAS",openGallery:"Abrir galeria",emptyTitle:"Sua galeria est vazia",emptyHint:"Explore espcies para preench-la!"},nG={title:"ESPCIES FAVORITAS",addFavorite:"Adicionar favorita",edit:"Editar",done:"Concludo",replace:"Substituir",pickerTitle:"Escolher espcie favorita",pickerEmpty:"Nenhuma espcie disponvel",pickerEmptyHint:"Favorite espcies na galeria para adicion-las aqui"},iG={title:"Galeria de Espcies",species:"espcies",of:"de",searchPlaceholder:"Buscar por nome ou famlia...",newest:"Mais recentes",oldest:"Mais antigas",newestFirst:"Mais recentes primeiro",oldestFirst:"Mais antigas primeiro",favorites:"Favoritas",noSpeciesFound:"Nenhuma espcie encontrada",noFavorites:"Voc ainda no tem favoritas",adjustFilters:"Tente ajustar os filtros",noImage:"Sem imagem",photosFirst:"Fotos primeiro"},sG={notFound:"Nenhum dado foi encontrado",backToGallery:"Voltar para galeria",backToProfile:"Voltar para o perfil",backToTree:"Voltar para a rvore",dataUnavailable:"Dados indisponveis.",taxonomyTitle:"Classificao Taxonmica",kingdomLabel:"Reino",phylumLabel:"Filo",orderLabel:"Ordem",classLabel:"Classe",familyLabel:"Famlia",genusLabel:"Gnero",descriptionTitle:"Descrio",nomenclatureTitle:"Detalhes da Nomenclatura",author:"Autor",publishedIn:"Publicado em",sources:"Fontes",imageNotFound:"Imagem no encontrada.",imageNote:"As imagens so obtidas atravs da Wikipedia, iNaturalist e GBIF, e podem estar ausentes para espcies com pouca documentao visual.",viewOnGoogle:"Ver no Google Imagens",imageSource:"Fonte",imageBy:"por @",imageLicense:", licenciada sob "},rG={locality:"Local",country:"Pas",date:"Data",recordedBy:"Registrado por",unknown:"Desconhecido",noDate:"Sem data",notInformed:"No informado",viewReference:"Ver referncia",dataProvidedBy:"Dados de ocorrncia fornecidos por",dataNote:". Os pontos representam registros globais de diversas bases de dados, que podem ser diferentes da fonte da imagem acima."},oG={loadError:"Erro ao carregar",loadErrorMessage:"No foi possvel carregar a rvore. Tente novamente.",noData:"Nenhum dado disponvel",noDataMessage:"Ainda no h dados taxonmicos para exibir."},aG={selectKingdom:"Selecione um reino",example:"Exemplo",selectKingdomFirst:"Selecione um reino para buscar",gbifError:"Erro ao consultar GBIF",lineageError:"No foi possvel obter linhagem para o item selecionado",pathError:"Erro ao montar o caminho selecionado",keyNotFound:"Chave GBIF no encontrada",rankNotInTree:"Este txon (subespcie, variedade, etc.) no existe na rvore",kingdom:"Reino",searchTaxa:"Pesquisar taxa",expandResults:"Expandir resultados",minimizeResults:"Minimizar resultados",results:"resultados",clearSearch:"Limpar",noResults:"Nenhum resultado encontrado",searchByNameOrKey:"Nome cannico ou chave GBIF..."},lG={selectKingdom:"Escolha um Reino para iniciar sua explorao!",mainGroups:"Principais Grupos",kingdom:"Reino"},cG={title:"Desafio Dirio",find:"Encontre",missionDescription:"Uma espcie nova por dia para desafiar seu domnio da rvore taxonmica. Complete todas as classificaes e acompanhe sua evoluo.",cancel:"Cancelar Desafio",start:"Iniciar Desafio",completed:"Classificao completa!",stepAttempts:"Tentativas: {{count}}",stepErrors:"Erros: {{count}}",interactionTips:"Visualizou dicas",interactionRevealed:"Revelou a resposta",interactionNames:"Visualizou nomes populares",interactionImage:"Visualizou a imagem",timeRemaining:"Tempo restante",taxonomicPath:"Caminho Taxonmico",interactions:"interaes",tips:"Dicas para avanar",needHelp:"Precisa de ajuda?",prevStep:"Etapa anterior",step:"Etapa",of:"de",nextStep:"Prxima etapa",revealAnswer:"Revelar resposta desta etapa",belongsTo:"pertence ao",howItWorks:"Como funciona o desafio?",randomTitle:"Desafio Aleatrio",randomMissionDescription:"Desafios ilimitados com espcies surpresa. Pratique livremente e fortalea sua leitura dos caminhos taxonmicos",allSpeciesCompleted:"Voc completou todas as espcies disponveis!",replay:"Jogar de novo",nextChallenge:"Prximo desafio",nextRandom:"Desafio Aleatrio",pastChallenges:"Desafios Anteriores",today:"Hoje",completedLabel:"Concludo",alreadyCompleted:"J concludo",prevDay:"Dia anterior",nextDay:"Prximo dia",play:"Jogar",otherDailyChallenges:"Outros desafios dirios",dailyChallenges:"Desafios Dirios",timeTaken:"Tempo",errorsLabel:"Erros",accuracyLabel:"Preciso",perfectErrors:"0",selectInTree:"Selecione na rvore",loadingPath:"Calculando caminho...",orPlayOtherDate:"ou explore outro dia",dailyFeature1:"Nova espcie todo dia",dailyFeature2:"Mesmo para todos",randomFeature1:"Espcie surpresa",randomFeature2:"Desafios ilimitados",randomNoChallenge:"Nenhum desafio disponvel no momento. Tente mais tarde."},uG={unknown:"Status desconhecido",EX:"Extinto",EW:"Extinto na natureza",CR:"Criticamente em perigo",EN:"Em perigo",VU:"Vulnervel",NT:"Quase ameaado",LC:"Pouco preocupante",DD:"Dados insuficientes",NE:"No avaliado"},dG={welcome:D8,language:L8,light:j8,dark:I8,system:z8,en:B8,es:U8,pt:F8,profile:V8,logout:$8,theme:H8,loginWithGoogle:q8,time:G8,loading:K8,auth:W8,nav:Y8,profilePage:Z8,progress:X8,activity:Q8,achievements:J8,shortcuts:eG,seenSpecies:tG,favSpecies:nG,gallery:iG,specieDetail:sG,occurrenceMap:rG,tree:oG,search:aG,explore:lG,challenge:cG,vulnerability:uG},fG="Bienvenido!",hG="Idioma",mG="Claro",pG="Oscuro",gG="Sistema",vG="Ingls",yG="Espaol",bG="Portugus",xG="Perfil",_G="Salir",wG="Tema",SG="Iniciar sesin con Google",CG={now:"Justo ahora",minutesAgo:"hace {{count}}m",hoursAgo:"hace {{count}}h",yesterday:"Ayer",daysAgo:"hace {{count}} das"},EG={restoringCache:"Restaurando cach...",initializing:"Inicializando..."},AG={finalizingAuth:"Finalizando autenticacin...",waitSeconds:"Por favor espere unos segundos.",descriptionGoogle:"Inicia sesin con tu cuenta de Google para desbloquear todas las funciones y guardar tu progreso",loginError:"Error al iniciar sesin",signingIn:"Iniciando sesin...",continueWithGoogle:"Continuar con Google",exclusiveFeatures:"Funciones exclusivas al iniciar sesin",continueWithoutLogin:"Puedes continuar sin iniciar sesin, pero no tendrs acceso a las funciones enumeradas arriba.",back:"Volver",backAriaLabel:"Volver a la pgina anterior"},TG={back:"Volver",challenges:"Desafos",explore:"Explorar",audio:"Audio",soundOff:"Sonido desactivado",soundOn:"Sonido activado",logoutWarning:"Al salir, tus funciones y progreso solo estarn disponibles cuando vuelvas a iniciar sesin.",logoutAnyway:"Salir de todas formas"},RG={memberSince:"Usuario desde",globalRanking:"Clasificacin Global",rankingHint:"Punta en especies exploradas, precisin y velocidad para seguir subiendo."},NG={title:"PROGRESO",speciesExplored:"Especies exploradas",challengesCompleted:"Desafos completados",hitAccuracy:"Precisin de acierto",medalsEarned:"Medallas ganadas",dayStreak:"Racha de das",globalRanking:"Clasificacin global"},kG={title:"ACTIVIDAD"},PG={title:"LOGROS",locked:"Bloqueados"},OG={title:"ATAJOS",saveEdit:"Guardar edicin",cancelEdit:"Cancelar edicin",editName:"Editar nombre del atajo",remove:"Eliminar atajo",empty:"Ningn atajo creado",emptyHint:"Crea atajos navegando por el rbol",tip:"Navega por el rbol taxonmico y guarda los nodos seleccionados como atajos para acceso rpido."},MG={title:"ESPECIES VISTAS",openGallery:"Abrir galera",emptyTitle:"Tu galera est vaca",emptyHint:"Explora especies para llenarla!"},DG={title:"ESPECIES FAVORITAS",addFavorite:"Aadir favorita",edit:"Editar",done:"Listo",replace:"Reemplazar",pickerTitle:"Elegir especie favorita",pickerEmpty:"Ninguna especie disponible",pickerEmptyHint:"Marca especies como favoritas en la galera para aadirlas aqu"},LG={title:"Galera de Especies",species:"especies",of:"de",searchPlaceholder:"Buscar por nombre o familia...",newest:"Ms recientes",oldest:"Ms antiguas",newestFirst:"Ms recientes primero",oldestFirst:"Ms antiguas primero",favorites:"Favoritas",noSpeciesFound:"Ninguna especie encontrada",noFavorites:"An no tienes favoritas",adjustFilters:"Intenta ajustar los filtros",noImage:"Sin imagen",photosFirst:"Fotos primero"},jG={notFound:"No se encontraron datos",backToGallery:"Volver a la galera",backToProfile:"Volver al perfil",backToTree:"Volver al rbol",dataUnavailable:"Datos no disponibles.",taxonomyTitle:"Clasificacin Taxonmica",kingdomLabel:"Reino",phylumLabel:"Filo",orderLabel:"Orden",classLabel:"Clase",familyLabel:"Familia",genusLabel:"Gnero",descriptionTitle:"Descripcin",nomenclatureTitle:"Detalles de Nomenclatura",author:"Autor",publishedIn:"Publicado en",sources:"Fuentes",imageNotFound:"Imagen no encontrada.",imageNote:"Las imgenes se obtienen de Wikipedia, iNaturalist y GBIF, y pueden faltar para especies con poca documentacin visual.",viewOnGoogle:"Ver en Google Imgenes",imageSource:"Fuente",imageBy:"por @",imageLicense:", con licencia "},IG={locality:"Localidad",country:"Pas",date:"Fecha",recordedBy:"Registrado por",unknown:"Desconocido",noDate:"Sin fecha",notInformed:"No informado",viewReference:"Ver referencia",dataProvidedBy:"Datos de ocurrencia proporcionados por",dataNote:". Los puntos representan registros globales de diversas bases de datos, que pueden ser diferentes a la fuente de la imagen de arriba."},zG={loadError:"Error al cargar",loadErrorMessage:"No se pudo cargar el rbol. Intntalo de nuevo.",noData:"Sin datos disponibles",noDataMessage:"Todava no hay datos taxonmicos para mostrar."},BG={selectKingdom:"Selecciona un reino",example:"Ejemplo",selectKingdomFirst:"Selecciona un reino para buscar",gbifError:"Error al consultar GBIF",lineageError:"No se pudo obtener el linaje del elemento seleccionado",pathError:"Error al construir el camino seleccionado",keyNotFound:"Clave GBIF no encontrada",rankNotInTree:"Este taxn (subespecie, variedad, etc.) no existe en el rbol",kingdom:"Reino",searchTaxa:"Buscar taxa",expandResults:"Expandir resultados",minimizeResults:"Minimizar resultados",results:"resultados",clearSearch:"Limpiar",noResults:"Sin resultados",searchByNameOrKey:"Nombre cannico o clave GBIF..."},UG={selectKingdom:"Elige un Reino para comenzar tu exploracin!",mainGroups:"Grupos Principales",kingdom:"Reino"},FG={title:"Desafo Diario",find:"Encuentra",missionDescription:"Una nueva especie cada da para desafiar tu dominio del rbol taxonmico. Completa todas las clasificaciones y sigue tu progreso.",cancel:"Cancelar Desafo",start:"Iniciar Desafo",completed:"Clasificacin completa!",stepAttempts:"Intentos: {{count}}",stepErrors:"Errores: {{count}}",interactionTips:"Vio consejos",interactionRevealed:"Revel la respuesta",interactionNames:"Vio nombres populares",interactionImage:"Vio la imagen",timeRemaining:"Tiempo restante",taxonomicPath:"Camino Taxonmico",interactions:"interacciones",tips:"Consejos para avanzar",needHelp:"Necesitas ayuda?",prevStep:"Paso anterior",step:"Paso",of:"de",nextStep:"Siguiente paso",revealAnswer:"Revelar respuesta de este paso",belongsTo:"pertenece al",howItWorks:"Cmo funciona el desafo?",randomTitle:"Desafo Aleatorio",randomMissionDescription:"Desafos ilimitados con especies sorpresa. Practica libremente y fortalece tu comprensin de los caminos taxonmicos.",allSpeciesCompleted:"Has completado todas las especies disponibles!",replay:"Jugar de nuevo",nextChallenge:"Siguiente desafo",nextRandom:"Desafo Aleatorio",pastChallenges:"Desafos Anteriores",today:"Hoy",completedLabel:"Completado",alreadyCompleted:"Ya completado",prevDay:"Da anterior",nextDay:"Da siguiente",play:"Jugar",otherDailyChallenges:"Otros desafos diarios",dailyChallenges:"Desafos Diarios",timeTaken:"Tiempo",errorsLabel:"Errores",accuracyLabel:"Precisin",perfectErrors:"0",selectInTree:"Selecciona en el rbol",loadingPath:"Calculando camino...",orPlayOtherDate:"o explora otro da",dailyFeature1:"Nueva especie cada da",dailyFeature2:"Igual para todos",randomFeature1:"Especie sorpresa",randomFeature2:"Desafos ilimitados",randomNoChallenge:"No hay desafos disponibles ahora. Intntalo ms tarde."},VG={unknown:"Estado desconocido",EX:"Extinto",EW:"Extinto en estado silvestre",CR:"En peligro crtico",EN:"En peligro",VU:"Vulnerable",NT:"Casi amenazado",LC:"Preocupacin menor",DD:"Datos insuficientes",NE:"No evaluado"},$G={welcome:fG,language:hG,light:mG,dark:pG,system:gG,en:vG,es:yG,pt:bG,profile:xG,logout:_G,theme:wG,loginWithGoogle:SG,time:CG,loading:EG,auth:AG,nav:TG,profilePage:RG,progress:NG,activity:kG,achievements:PG,shortcuts:OG,seenSpecies:MG,favSpecies:DG,gallery:LG,specieDetail:jG,occurrenceMap:IG,tree:zG,search:BG,explore:UG,challenge:FG,vulnerability:VG};Qt.use(zO).use(Mq).init({fallbackLng:"pt",debug:!1,interpolation:{escapeValue:!1},resources:{en:{translation:M8},pt:{translation:dG},es:{translation:$G}}});function HG(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l);c.displayName=o+"Context";const d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,qG(s,...t)]}function qG(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var GG=Symbol.for("react.lazy"),ng=Jx[" use ".trim().toString()];function KG(e){return typeof e=="object"&&e!==null&&"then"in e}function BO(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===GG&&"_payload"in e&&KG(e._payload)}function UO(e){const t=WG(e),n=x.forwardRef((i,s)=>{let{children:o,...l}=i;BO(o)&&typeof ng=="function"&&(o=ng(o._payload));const c=x.Children.toArray(o),d=c.find(ZG);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var FO=UO("Slot");function WG(e){const t=x.forwardRef((n,i)=>{let{children:s,...o}=n;if(BO(s)&&typeof ng=="function"&&(s=ng(s._payload)),x.isValidElement(s)){const l=QG(s),c=XG(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var YG=Symbol("radix.slottable");function ZG(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===YG}function XG(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function QG(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var JG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],z_=JG.reduce((e,t)=>{const n=UO(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function eK(){return DO.useSyncExternalStore(tK,()=>!0,()=>!1)}function tK(){return()=>{}}var B_="Avatar",[nK]=HG(B_),[iK,VO]=nK(B_),$O=x.forwardRef((e,t)=>{const{__scopeAvatar:n,...i}=e,[s,o]=x.useState("idle");return y.jsx(iK,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:y.jsx(z_.span,{...i,ref:t})})});$O.displayName=B_;var HO="AvatarImage",qO=x.forwardRef((e,t)=>{const{__scopeAvatar:n,src:i,onLoadingStatusChange:s=()=>{},...o}=e,l=VO(HO,n),c=sK(i,o),d=Ks(h=>{s(h),l.onImageLoadingStatusChange(h)});return Ln(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?y.jsx(z_.img,{...o,ref:t,src:i}):null});qO.displayName=HO;var GO="AvatarFallback",KO=x.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:i,...s}=e,o=VO(GO,n),[l,c]=x.useState(i===void 0);return x.useEffect(()=>{if(i!==void 0){const d=window.setTimeout(()=>c(!0),i);return()=>window.clearTimeout(d)}},[i]),l&&o.imageLoadingStatus!=="loaded"?y.jsx(z_.span,{...s,ref:t}):null});KO.displayName=GO;function $1(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function sK(e,{referrerPolicy:t,crossOrigin:n}){const i=eK(),s=x.useRef(null),o=i?(s.current||(s.current=new window.Image),s.current):null,[l,c]=x.useState(()=>$1(o,e));return Ln(()=>{c($1(o,e))},[o,e]),Ln(()=>{const d=v=>()=>{c(v)};if(!o)return;const h=d("loaded"),m=d("error");return o.addEventListener("load",h),o.addEventListener("error",m),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",h),o.removeEventListener("error",m)}},[o,n,t]),l}var rK=$O,oK=qO,aK=KO;function lK({className:e,...t}){return y.jsx(rK,{"data-slot":"avatar",className:Ye("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function cK({className:e,...t}){return y.jsx(oK,{"data-slot":"avatar-image",className:Ye("aspect-square size-full",e),...t})}function uK({className:e,...t}){return y.jsx(aK,{"data-slot":"avatar-fallback",className:Ye("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}const H1=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,q1=cO,WO=(e,t)=>n=>{var i;if(t?.variants==null)return q1(e,n?.class,n?.className);const{variants:s,defaultVariants:o}=t,l=Object.keys(s).map(h=>{const m=n?.[h],v=o?.[h];if(m===null)return null;const b=H1(m)||H1(v);return s[h][b]}),c=n&&Object.entries(n).reduce((h,m)=>{let[v,b]=m;return b===void 0||(h[v]=b),h},{}),d=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((h,m)=>{let{class:v,className:b,..._}=m;return Object.entries(_).every(C=>{let[E,T]=C;return Array.isArray(T)?T.includes({...o,...c}[E]):{...o,...c}[E]===T})?[...h,v,b]:h},[]);return q1(e,l,d,n?.class,n?.className)},dK=WO("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive cursor-pointer",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Wt({className:e,variant:t,size:n,asChild:i=!1,...s}){const o=i?FO:"button";return y.jsx(o,{"data-slot":"button",className:Ye(dK({variant:t,size:n,className:e})),...s})}const Nu={1:"animalia",2:"archaea",3:"bacteria",4:"chromista",5:"fungi",6:"plantae",7:"protozoa"},YO={animalia:1,archaea:2,bacteria:3,chromista:4,fungi:5,plantae:6,protozoa:7},wa={1:"#ff6b4d",2:"#b561ff",3:"#2fb5a0",4:"#ffb700",5:"#c84726",6:"#5bbd38",7:"#2196f3"},ZO={animalia:"#ff6b4d",archaea:"#b561ff",bacteria:"#2fb5a0",chromista:"#ffb700",fungi:"#c84726",plantae:"#5bbd38",protozoa:"#2196f3"},fK={1:"border-[#ff6b4d]",2:"border-[#b561ff]",3:"border-[#2fb5a0]",4:"border-[#ffb700]",5:"border-[#c84726]",6:"border-[#5bbd38]",7:"border-[#2196f3]"},U_=20,V0=2,G1=20,$0=20,XO=-9,QO="/treevera/assets/avif-animalia-B-f7tRK9.avif",hK="/treevera/assets/avif-archaea-9EsGaDQG.avif",mK="/treevera/assets/avif-bacteria-DowZWJad.avif",pK="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAGNbWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAsaWxvYwAAAABEAAACAAEAAAABAAAGJQAACSwAAgAAAAEAAAG1AAAEcAAAAEJpaW5mAAAAAAACAAAAGmluZmUCAAAAAAEAAGF2MDFDb2xvcgAAAAAaaW5mZQIAAAAAAgAAYXYwMUFscGhhAAAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAAw2lwcnAAAACdaXBjbwAAABRpc3BlAAAAAAAAAGwAAABvAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQBBYYHAAANpG1kYXQSAAoGGBm17mFQMuMIEgAKKFDYAsLyjFo3dLA9gFsleEO1sDsKbGus3GXbF8epprVeuAz/W4qkshsFIvEAUItGfQPrZ92zwBMs8RztQBsf0vV/rHO/QPgwhmlSuyaki7uMPY/TisltPIQNjxopDuExE5Hs6N7ATevqJ+cAF2f1NRefv4QF/dt4FnBqjgvtTjwwenfOzj65bgelDbdWE20tA4Qom6YijB4pVwt9vw8D4fItTFoyAAEeZBWU8hohAjaDMUcMa+j3Qmsm2s8JrILwkO8/lsfccCWw0IzlP+T50oxEkA+Vx1yMx68312dGcpTgFQaU98D+TzWMekHuhxY4mo6THEinOC063dFzdb6syJxTbTf1e/X17EPl4c/FJI2coDIDDKBgqRrR1M9o/KMA6WpqwGPEq+eR8CcWH/EgroQVMk100U/vdxmbMCzkX1JIdGmcdI+Y5YaarpHHTG5W7pCISuUuvhIvT/S6j49IwGVcMzpj+dV1eju/GUMZnycN+v76jj5KRcv3F2rsLrMOD5EUsOS2AyQjpSD5EbkDwlVdnfI/eojI/QHVm+pIdGJeDCYN3DPetVpzb+r1q2gA1iveuUGV7C/I4UFs864WmFshyKQUvl6lw+y8nB/Yxek3V1rNnym8vMHR4b0wHO/2KWKo1BWuPx5CcOxn7ELfjzzvorSxZwWmz/+BKD9izo6PiMNh+rJYyN30zjH3M8qZS8nZyh3CkT13gFrroZsp6NSNpq2+EIAoG4WJdf4+rFIIi/Ac/v+e06w9To4Ggr2R5V0+p/G+DPWf5MiY2jCXtguNLwosHAHmuj6KAX9RM7splnnW/trJLvPh7N0UMteps/9kSspdcZaam02qym3V4+zYIxqfFaD39Qtg/61oPuwoboUhk5CvqWpLSwL8hmdaqloryMad594PjesgMbVJJrtp2M4qjCSRc1j3SHDdhEowwcOR91rPCG4EI1+hEnFT2SPblY1CAg0t/iziZZduLb95pH04mrSvU4UgNG8a059Z02kYbht43p4X17v3/lPSZnmp8K2hC6/gwT/WGhd5cGpvsCMZeZxikvcvFJPFJEwiPJkC1K3hDM/gopPjyfdsQmLIOJOGVuK1TSYxwmwb7IJLZ51IlB8+zBqMdfNW3ombH/zbc8CS6dcAEPbmpXUDYWcrtnV6Ru6bGAtq0KAGKX1nflRQ4r7ccW8HEPsiRrFomJUIS+iun6yIqlAdFIXBSw6NPiaQJIN8eStr0kKnB63qXsPk377OKM3hLgQq0Lzk5oy5kzMFPwk7SyScD+B8zCjk2FiOT0cS9gvWKHcbY5AhV/Jub302lnRTxhkfFm2/tZFRF5qBE853vDuafs03gNgsMaFpEWCCRcP2JTT6u3BmGaECfovbWb9JEm0v6sEej+cUnhecfimdjtylV6gaDDr83cqyCJJmnfujFsEWlnzpEGCvNNRz59th42fAruG0PKfCzAS45AXTTMK0+H3mj1MsiVnpscY20+vKXbTqLxIACgkYGbXuYIEBA0IynBJEgACiiihQ1/8mS+0ZHqhaPuYuFtDXyEXMhvC1LFbrnQhf4LGpkza7zu1DS8vAFLD5urBX5K2LYLt/VQM0Pyps0aHsvZloiNVAyzkpp7r3m0IIZjI97mhhLNdJqLMjAYdNaC1SVYzT9iVc8yQGizaVMoH3uM20vAerHeMo5ZQNEUafvZcRKaxf/lqliuV49bVpaubcETXt7HmOwKpz07M0FeUh6dQhQLkG6+YBNccpT7V1krYBk7dV1bLdYxMXRmbZQgbBOkZfSr+tt+tqvYvrHWJmcGEECJmeEjvhcR0t0LtnVzvOhSdtfLqrsDQY2W1Ee4PDIUOoYX9+aW2PPLfAjN4unBzpc+JKqP3//TOyYCvb6cnZyZJ5/Lv2WK8ftLoi4PzMFYhNM+glDVjYOcGZ5Myq+1xLUB9sEq0y/obMrfy2plXXkf6D27bF4C837Jj6Hwwq38kxf83HBxUUqmvyQOtKYTvDPptGS1n+hqTutaY/8RLIeA7boEJAzc7jKkxyHWz31I84xTToQNWvXVXkYaEVsNyw6atPOkRcXH+2cvIWjCzbtzOWkHqyr4IVUPGL4w1Fm5iendMQUGsfVtM/qnhmZdhtMcwLK8wJXBlRy+1/vggQm5kFriq7MQbYycq+SjsGbmFbDfMWT3ajA4w8l2f0P/CmW3/NwX4anmYHK50l/7qQ7URhanrGu9aAyZ24sAWXch7UOc38M4lf9ekXbevCKgbooxHalkxCuDBamvY0rNkNlo72pkvugS8ZzCB5QsqDZSGpFzFZBVECz7rtBWsOe+kjmvNMiCItlYocgEl0JunBdHCisz5TeL8MlkK/pUMEUc3os86qnlky2+/dR1N4oDHsJY4t7VWdw6hYF0nRyUWbljlGQn2wQ1JWFCW8XPFgQrQTBnhK6qyediFfDtFYcyIVNjf0EAd5kLhk850UB6NCBSCRVWNjz+tKk1WXz4YV5Z1V8TAfo0Rmpx6yJlHq7CFnTy0YNxx0GZT9IxULt2md2O+S08vCiMOwricx9goNmcvzaaCi8Lehurd6y/nhbq383eozGUhe3t8vqF3ObuHLdxrjSiFXNAvxRdtqitLT88vZ/o4mOXftv+u64YPtFGwr2jvgyYXV55ilSeR4HSN/YabafECaeNanam2knUhC4JQUEXekLFpXQEOo4CtvXEko5es/IiP2W3SxvSFWYBqycKJYqCtbvJiONlOLMTNa76s9G+9Z0eGugMML8b34wS+GG1a0CB1sM657Qox5bfTeqnAaanXxxCkVsm3KXyhUTQCPVTYxeGFcJ8EalMAhpC3hsg/zk1KRTjxA7H2SY5l3SP+Kav5vSf0e9G8+VR58gbl121l2IrzbgJzStCsNPgYwB//5LYuNxqKbRmGWefHWnzAWgXb/EUQctM4KWglLpfRUSa7nO7cjfDUotPPXSWhxRTYzPLxMqG68sHmxIxu6W7GhY0ZR+sc9JjlPP4ojQevzZ8j3Fh32LtjCRTx4HDrcDm9iyloM+PBdDX8gKmxsk+MvM0M7AtXp16qS1XWjNLfZKY1VZVwyVRALAKD+UsJwl11p1yqKK7A43w8t+yHEemTos+lemT9uKFQH3EdCf7udvDFYuBTNQLrDL9cpwfiZOUS1ioy8JGG2vM9VUSd0moeHvbhvOyFI5ukw3Ek9vtG2Wk56Jlb543NX5HHyyJ6ayvzLJ6qKUAaF9zuKQ1yPFP0tV+npwf7enNrReLrmAtLkYx1qA+ee4aHO700Kli7RygiMM9Si2hIT6cMI3PeihZEp8/uFiaZEOIXRLrkh+jqMdPq9NcC69u6EDopbj/sh3xOJa3Ip6wtnvR2wBJMKV4kSn6zaHvVfUYKeMpGP/+Jq3vHZK0P5S1TRLF0Trt5O0J+2VtpvFuREuyPCLdj6IXBwKZPXphABEqgFYk7eXBfKtsRFDjPJT/ebTDJcXAJTTqLjVC7FIi+KbxJPJ44nIlf/KJ7114UWQIFZLCpO3oq04LvK+9Xp5lTlmabo6IKcBDErD+15rNuMMn9cK2KlYza/kwbN2pq5V4eAvVMjNSAGRDMhFN7DvxY4AeD/+HbGMddkoBQPVIMhatZw0TniuM0BXavTrK4E7C9tkpnA0brcPKt/L7ya1Vzk/4bumauyOmgL08WZBUAM0Pj8hZfFr0xwp30qX0ur4dvvspaM3RQaniPPdKlj8PTleR804UyDllzSvEVvkYnfsK1kj96ZzQfw+B6X6uXxDFXjg9V3rvz2Ky+MURrTsbQXetVEicb/JPACBxw+SL2ZSdT1eEJPEYOThYEVyevmZgP4CfRN4T2i/g7ouekkT2El+Ki678Bou9hJT2uK+iBVAqzvyS/lSMQFgtVPbRycXYRL0xmpVqa6HqzfBw7x9TjYSbjqoOBnD/R/6wSYsp6UkCYd0Fd7KBqoMyLxnKNNY/jjvPngpHH+SmDfHY4c8JZsgbzk0A/kIJAoC8OmfgDV20xILJ8ujCdFVuOOP52rN8biish7YWu4pS9d7Ga4cUXcvevpJB70peN45NBEqr8xjpa//EbYSCycyxQ9woR2Q4+oFqFFjia49aMUxYixWResp7UxXjVFP7Yho8TO2GkccjG667/Q8+U/Bf/2SIhPPyUlwNN7WWjmYQ6qdmzSjp2iyZmI8PUhyl1NY8PuASe2MKc6rWo2DxRmqTtmMq4qKg3EYUAnI0unriMr7QJ5P9ch11MJO4JsdSjJQgpPbSgsLdtB9zQOoiDr9H+FK2UhZC0a/oBWN8pAaBQpEjs8CDc1IEsKK6QN6QiMXaMW76ayfdap95ETzrVBmvJW7oAJvIAHHLqJZvoI2fzWrXBeu7VtIsuApMY8lc/SiCOc+UnC15ym0XJlfbuR2ESZl9jaYN+U1KgBgQGgMo85gHwOqdwDlU5mZNchmGb52pJtZa+4pJ2rfqJZq0z/643WP81PmwDRgciiItmC8fESYLw1OfojDJ4PXgr5BQL0ebZrO2JvjzWsfz990hj6NjfhMxBa5NRnEsJHaC+jaixRB/2P+EZihZeJWxJ4mI/hB6P1QN7eKClBZ+Zy1aUKJGyMR/EpI8uyYy680g1OrdUpIY05oWY+Y6oQbqQXIUchIo/A",gK="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAGNbWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAsaWxvYwAAAABEAAACAAEAAAABAAADrQAABRQAAgAAAAEAAAG1AAAB+AAAAEJpaW5mAAAAAAACAAAAGmluZmUCAAAAAAEAAGF2MDFDb2xvcgAAAAAaaW5mZQIAAAAAAgAAYXYwMUFscGhhAAAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAAw2lwcnAAAACdaXBjbwAAABRpc3BlAAAAAAAAAHcAAACBAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQBBYYHAAAHFG1kYXQSAAoGGBn7QDCoMusDEgAKKFDYAsLyjFo3yjEA9G9zx8r56yTZIgvnVCrfhhL0JlUUXbNXspXqu/0SkF+qCbvzwXswX1AJkHF0hgCZoDxY6YFxyIi9g7vB7C6qawEafmG63TTCXUZe5p/kJydJUg6DzlB/dkEuci+j7MQLA/9LvhRPoCXafFq+HnelQrDlQByrd2Spf0mjbYtagK3gTD8bAICt8pBdLcapp4Y4w76HtSAONq+QOWPk0Ym+wQgc1YBBJqnR0i6amL5iU+ijtckupUsWP/K5MME1u/Or79uNQihpYIxAoskRh0yZexa9wyKaAjCZTFbKHPgW6kI9RfuDj/W341XONFYxNfIVOw+s7FFU3bAZSQl6XLvPcf2LnAnJg7hGm+C/xYfDaa6TtznuaxAj+JYqy+CJHztEP/7MLrYbq/5uedhvDpBnEB2w4x2S9KUKEMjNwV91zyWfig1DbxACu1jeNWjt6X0wj61zCYk3mDnuppySa2pMht7jq9awfwFSBBLepWj7TfrULy19fbXoJR/iBeTW//H3TTsaElyku3PKQ8GddVAFoqJXqZmF6DX6v0j9mlZAiPs3u9fMaDqTYdu8WbyaCZuUNu7UAJJQTn0EIuj/0vAiVxVAi7DDFCtuvzY2DlXFGGlw0V0M9XhHeA6crSoSAAoJGBn7QDBAgIGhMoQKRIAAooooUNf/JkvtGR6oV8dtYj1WBBGv1iQlFx//RbT/tA8xKpuYZIqTv7rRj97uzDG9Sw4ewGvvegI+KVvFcbOmrdfgLNT+2vuCmi69od9wbEbAas/jZIHo8xkmvvn5h29h2QlXvMOuDkI4gMtxZnovlP+pSo8/+265ysscKZkGfXxXNxk2SA4DrqSuQkwW5g0ftc9FAIWkwXUh1V2j3gLbvURWQ652sbP8to5I0lnGrghTXkaD2Gv87p+Hv9xAy+trqwJMfHxtvnl9x9oJN+JR96oaU+2NT1cpWtY8BwgzR5mfixkEX+a4WIaOi5NfZMkA58e81+TOh1LXfuZkBlZoWCF162y1U05LmqbJGmXMAutII8ZnXFJ5XWEKFjoHPL+mFf/9nY2RASmjjPtn4yFY4LNpnRvx2LOvNsslIGMWm8ITxumI+aphIONsnW+6A71P9PWMHhoK/VhqhSP3zDsvDVndkCkLTjyJ8nOVC+8NbJEaBxBhOmagpI5KJC80ejy73dRe6I0+tK0FBi29wS5f9YLymlF8HrOCQ+VIUaxq3MAia/bx3JaiIZ3GBa0K0HnQaE1Fvqltk1WGWziOeeXVfAI9nmp3Fh4w6teeJssyZdOoshU/N05iHomBc9metXKDfMJTthTQ67ZJOqjpMFhRzUIaOT/zXf7PWiLi1fBLhRSjsBs9za4lVyIDTxjLgXutblodGetVkeBg6/GOB1rMHiSK1bksnDBHJ0EGG1Y70m0a6SueEzfjZhJFLMTIuhpwjAZ6Pr8Ro8sh6OltmZc2D+2pjsc3HnewXnbsMxb5aHwUKiIh0CFXdDyeu9p0unC8KTc7MrnfF1yDnWOV2HTX3HJdRQkPA1bGuG9vvaByHfurqVKa8W/P0unk5bMBYXm2DoDtI8/LkYN6T7o/LpilF4XmiCKnFENW50J9tsf88umr6+RWKMOym7iprrQKVya95FRU1WLAuTB/C1zwq0ZRdinCTJ4/iPuP85trKA9Gtk5vFPVU0jekR3aUHp03STpHeykqnbB5RVWUeYAYk3GdhsXO4ewVDY8hxwH7i/sft3dCR3wBgdHs/0CnQJekwSqSGs5fZL6xHnPwOzo/d28nb4rz+Pip8USLtV4ERrAa+lZH53GDYzqz/H4KOWieFJQjFED+/G3FpioFGZDkXJB86LwawLTuDYd4+qWrpfwHPeQhdEHnVNmp8PNXF11dY9gBuDQ6W0dOtvWxaQ59ViELMeWGG4xO3hYnRY/LQUHJIvUmi8GUzYYk6FjfGJi6aUWE4CpJNfTkhRJAhAReHR/EYOqSRtQt4Nq3Yhn9VgovKyxlF6cgLABEKMeOIVRwsu3SXruUQr2qWVCylYhp+9HGAHGGun/xG2N5nBNYqTLku9A9tr7n/ZPQdklz/unNZbLGbP07IGwzeA/uaf8/+S4dDOI8qEvw73aHArq4mbObv1qZXJ2A9oqNichHjFwK/wAyEB7NLr7BFfiln5mOj2DxW8aP5wn/4kyD/2CvAN2Wnt0F8wxzLYR04r9qAr2SUZqYsOvDiR7FCC2sIyQO0cZxGJ2mmLm5lFJcZdvkrptMvji05X6MLFYAHUG1H7o8RFi2iU/9Ur3fFauJtcwx30Yh7sPuKDJLQVB9tZtcBIkBnXAlncpcrkefx6A4H2gnae9+GZFZ22BRx8qge13ZiJd3gz6cwniGpZtJ84bpQkSSmYFY",K1="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAGNbWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAsaWxvYwAAAABEAAACAAEAAAABAAAEVAAABXwAAgAAAAEAAAG1AAACnwAAAEJpaW5mAAAAAAACAAAAGmluZmUCAAAAAAEAAGF2MDFDb2xvcgAAAAAaaW5mZQIAAAAAAgAAYXYwMUFscGhhAAAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAAw2lwcnAAAACdaXBjbwAAABRpc3BlAAAAAAAAAG8AAAB6AAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQBBYYHAAAII21kYXQSAAoGGBm3eWFQMpIFEgAKKFDdK7YhY9FDgo7+mdWsfVkURfvprIG/cOJBkxUD49AD/MzZCP1c2ADPY73n8mfNApWMwOYKVUD/bHJgXBNMtSJ9++5QHxctjqe131Cl2x9Buye16AlUaS4DCaTSfTqyJlPT2lCkMJ7YJ79/CBRhKLG4zwKOHeVZZ4CRWCSgjy9KdT6eQCV3m0C3vuFn0Qm4BiAE+gvv//NsDhrMwj2qHReJLK2YvZ1DbmXNAs/avxk3giFCLqX4nACziQscV1sD+7WTf4ggUBPnU2qbgju2Q1YxKZgE561lHA9W3nx1cr8QLi5b8+pYnIowyabz7xxtCqpmMz/tqRdXIylhDPV9ZSAg0pIPG9oVMkftjV2PqTmefMGw9eHSlm1h6KzsaIDpvmvK1FsvxLcteYDS/wUYjMuac5EKolRQ2QgmyQ5PUqi89hiWpuxCk+kAIlSgxX8pSaRvgwjoKzTRG7KhXi0SEz18JRb8zkm3fQI1hc4HdAQTpApiCnyIaNyNIUnoo3HzE/BlbXa+0VTpB1M02fZcU5qgC3hfde3l2FimtVjqMo3JO/br+5k5RgjRWA3RZg4t/W4v9Ql442U+VczkJbc7+1xfljQTY6rbCtrmpCA0EWcoA0wtJjbWWE1ZkSmgFWghqbo9lu2LSiz+2OfGSyVSk5uRGj/ezjYmlb4e0NadORck49tpU/4n5eqfGlevunn7gFgGrIZb+dXJQzI38CdQ6SF5LG1gSR04x0m7sTcA6Y9vuj77HbWV+kqem6ADB+cmgvKu5dLHmXYESTw+O3//vzUxpQOQLs56j5wS/qCTeE6ImdNt8bwxsqQL368N2FFdnaFJS1V541LwDWt/E4Ye6bBlsVih/J834R0aVWZp4BIACgkYGbd5YIEBA0Iy7ApEgACiiihQ3GoDuV6oJ1tQulM9kmZu+DezSPd9HEBXhwInIn2iHF8xYI8xiy89UMOvIg6dR7H71dlvqqVDKnaUGwhgbfdIxQofuuCrh6CHtTLVZ+TsFHSQnOOTbXJQDbMAMIZadkQNKxPfZwvxAJjdRjXcEJJ/lGu/RZ/i+YnBwuvEhe6GT7p70qf9bLLUL1v5xaCWt0PWh+R3IaFmdnHW9bRCIW+FLjWJJpFrJ/QZoFUbFIWPllNx38Yfpl2pAvCdpg3DXq9RAPyPS1Lo2kcpvXQQE44QpwhdpnRhdrIq+wq/p4N5E+DE4EsiHHcVBOIxB0GaezT2AY3h+8acr17iHqlr/cAUT/WEK1yXTuQKXb2HQC3rwFMGEcpSXElvFLixVMdvpoIAuokXc7GXkZl6VNNSyX5NbdT6y5A0hS3REp8uTGf6pDbr7Bpwx4omX4SV6PjGoslNXeASq41ED+C9ijdb88OGDfpn30Z2YY59ewI9kDwXmOuAwXwool2GH9kjpDnWURjiGSvo3fVJ9OIoGRmkKDrQ5kSsf1LiyG0sMNr1Tu6xFZayQLpunPeNDjzRWNvzNeCFID/LQpif0z+vplcFYSwC04cVCpWZOVtjqyq40JL3PqAiRPmyk35KOP+dsk4Jh4KVyDfGIlqh/QTnCD63Lrpfc8i1+ymgKfsNZB4gfrnMcYUoBLx7q34ZlNyMT627fSKfcBa7jWJGSnUfrs4p3aJwGAmOlx/oMIcyrFjA5zg4uUWl4j5f6wRqkIMrx/Uf2a+xD051ctLAFa+4lAntw0Mfye6bY4etFuQ0qTekDRkmBxaRpmLeWDx0zDW9mgHsPovaQIxKkFepWAw6Wwby3BLD2b27rhjVCNi4Qq29ZEi9R0CGtZvWRfnif/nI9dkyup9PBranmyhxKS6lS/Lw89S2oU+l92Szpn4fQIkLe5XPSzmJUWvZWLvgn9s833lX5XWn4ptCHCorjCv7WHo1JIpbBJS6qGbdp3S/KT7JD121T8vFHCB6J7y9vJxdkB4PV1sdx3b/Zbh1oaWB8X19MWR+qaFOTEklhd2bC7extbnZ4+4DbgR4Qbz9BKPjTjZB0nuhgI0b+///dC5+1qwr2F8zePhEZRdmTeFW+yk4JsSQ/HVvCiSFTSJ0rtxHD75Xy5zTcDQXQWRULK62xy0Ujfl/wSSsneg1AtC4Dl2gO9+tHSldL3OZXGTbXkrvTLzgJvZlTo0DI5cAJGYeE93bL19hlI1aRtTTqUOJJLXs8OJYFd/8OxEZzhbAyLBW/OpJ22B9SozPcV++dDfFyiI36Vnq6t8vOLdD7ZBB4mFAXMS8GT1/BCaDo81SXO/AXTG+ucyermTZsqGZG7jbdkZu3/9uUKFJewulKhRIfWc3FKyjszcQQPT+VnjZeD4AigIlYPpmuApVtp4VL9sxB2FxymGtnKNh95k18aNz/yb0y+QMk0dlZWKUUOPhsSnoKTnEwHhB6BQ9sTK5bNVZw6/pBSb30yNfVC9n+VRV0ZbBkLVjx4kZHCgehVhV/P9+3l/SOFQ0lbYq7BKuDcxiGexdNtpSci7palVxm+WBLgY9l90X5XOyT5Imn1Nd5EEmy7+A24eRpYzrQYWrQwJwxMPh9piNy397M52MghUGboxDdjtBNzEkaG4t+cmu6roABlDqg0Zn8eDw8M6wKKgK75tfFT7n5wTSWOElW83rLzz7XFrp2Tmf4ePRqEx3Ap2Lp4ufiiqEjAGnGZi8d6bmCk2csIktyKyR6vzNIJ6Rwu4JAckzKUF3RocyNgv6NEsf5d5E6s679jB7nkV6B2l3Gs73+FX6eFTkR5S+vxGu6J+1TtzAFRzAD1GwwA==",vK="/treevera/assets/avif-protozoa-RsH4rUqA.avif",yK="/treevera/assets/animalia-1-BrCknNTg.jpg",bK="/treevera/assets/animalia-2-BDEhoAvR.jpg",xK="/treevera/assets/animalia-3-Bsfma6dk.jpg",_K="/treevera/assets/animalia-4-C_x2fSuq.jpg",wK="/treevera/assets/animalia-5-B4FeN5_U.jpg",SK="/treevera/assets/bacteria-1-DcJhkqE_.jpg",CK="/treevera/assets/protozoa-1-DyA5gz-K.png",EK="/treevera/assets/chromista-1-Cw2H-mpX.jpg",AK="/treevera/assets/archaea-1-DHhKtLt4.jpg",TK="/treevera/assets/fungi-1-Cl-e-Hdc.jpg",RK="/treevera/assets/plantae-1-Dp2dibyA.jpg",Di=e=>e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():"",JO={animalia:[yK,bK,xK,_K,wK],bacteria:[SK],fungi:[TK],plantae:[RK],archaea:[AK],chromista:[EK],protozoa:[CK]},NK=e=>JO[e]??[QO],Rl=e=>JO[e][0],kK={Crocodylia:"Order",Squamata:"Order",Testudines:"Order",Sphenodontia:"Order"},Bs=e=>{switch(e){case 1:return QO;case 2:return hK;case 3:return mK;case 4:return pK;case 5:return gK;case 6:return K1;case 7:return vK;default:return K1}},PK=[{kingdomKey:1,kingdomName:"Animalia",numDescendants:0,explored:0,bgImg:Rl("animalia"),icon:Bs(1),primaryColor:wa[1],lightColor:"#fff3f0",description:"Organismos multicelulares hetertrofos que se alimentam de outros seres vivos.",mainGroups:[{groupName:"Mamferos",pathNode:[{key:1,rank:"KINGDOM",name:"Animalia"},{rank:"PHYLUM",key:44},{rank:"CLASS",key:359}]},{groupName:"Aves",pathNode:[{key:1,rank:"KINGDOM",name:"Animalia"},{rank:"PHYLUM",key:44},{rank:"CLASS",key:212}]},{groupName:"Insetos",pathNode:[{key:1,rank:"KINGDOM",name:"Animalia"},{rank:"PHYLUM",key:54},{rank:"CLASS",key:216}]}]},{kingdomKey:2,kingdomName:"Archaea",numDescendants:0,explored:0,bgImg:Rl("archaea"),icon:Bs(2),primaryColor:wa[2],lightColor:"#f8f3ff",description:"Micro-organismos unicelulares procariontes que vivem em ambientes extremos.",mainGroups:[{groupName:"Thermoproteota",pathNode:[{rank:"KINGDOM",key:2,name:"Archaea"},{rank:"PHYLUM",key:10807497}]},{groupName:"Nanoarchaeia",pathNode:[{rank:"KINGDOM",key:2,name:"Archaea"},{rank:"PHYLUM",key:10706191},{rank:"CLASS",key:10809188}]}]},{kingdomKey:3,kingdomName:"Bacteria",numDescendants:0,explored:0,bgImg:Rl("bacteria"),icon:Bs(3),primaryColor:wa[3],lightColor:"#f0fbf9",description:"Organismos unicelulares procariontes, encontrados em praticamente todos os ambientes.",mainGroups:[{groupName:"Cyanobacteria",pathNode:[{rank:"KINGDOM",key:3,name:"Bacteria"},{rank:"PHYLUM",key:68}]},{groupName:"Flavobacteriales",pathNode:[{rank:"KINGDOM",key:3,name:"Bacteria"},{rank:"PHYLUM",key:10707955},{rank:"CLASS",key:7498440},{rank:"ORDER",key:569}]}]},{kingdomKey:4,kingdomName:"Chromista",numDescendants:0,explored:0,bgImg:Rl("chromista"),icon:Bs(4),primaryColor:wa[4],lightColor:"#fff9ed",description:"Grupo diverso de organismos, incluindo algas marrons e diatomceas, geralmente fotossintticos.",mainGroups:[{groupName:"Heterotrichea",pathNode:[{rank:"KINGDOM",key:4,name:"Chromista"},{rank:"PHYLUM",key:7765738},{rank:"CLASS",key:8235041,name:"Chromista"}]},{groupName:"Bacillariophyceae",pathNode:[{rank:"KINGDOM",key:4,name:"Chromista"},{rank:"PHYLUM",key:98},{rank:"CLASS",key:7947184}]}]},{kingdomKey:5,kingdomName:"Fungi",numDescendants:0,explored:0,bgImg:Rl("fungi"),icon:Bs(5),primaryColor:wa[5],lightColor:"#fff3ef",description:"Organismos hetertrofos com parede celular quitinosa, decompositores na natureza.",mainGroups:[{groupName:"Cogumelos",pathNode:[{rank:"KINGDOM",key:5},{rank:"PHYLUM",key:34}]},{groupName:"Leveduras",pathNode:[{rank:"KINGDOM",key:5,name:"Fungi"},{rank:"PHYLUM",key:95},{rank:"CLASS",key:182},{rank:"ORDER",key:1281}]}]},{kingdomKey:6,kingdomName:"Plantae",numDescendants:0,explored:0,bgImg:Rl("plantae"),icon:Bs(6),primaryColor:wa[6],lightColor:"#f3fbf0",description:"Organismos fotossintticos multicelulares, produtores de oxignio e base das cadeias alimentares.",mainGroups:[{groupName:"Angiospermas",pathNode:[{rank:"KINGDOM",key:6,name:"Plantae"},{rank:"PHYLUM",key:7707728},{rank:"CLASS",key:220}]},{groupName:"Jungermanniopsida",pathNode:[{rank:"KINGDOM",key:6,name:"Plantae"},{rank:"PHYLUM",key:9},{rank:"CLASS",key:126}]},{groupName:"Brifitas",pathNode:[{rank:"KINGDOM",key:6,name:"Plantae"},{rank:"PHYLUM",key:35}]}]},{kingdomKey:7,kingdomName:"Protozoa",numDescendants:0,explored:0,bgImg:Rl("protozoa"),icon:Bs(7),primaryColor:wa[7],lightColor:"#f0f7ff",description:"Organismos unicelulares eucariontes, geralmente mveis e hetertrofos.",mainGroups:[{groupName:"Amebas",pathNode:[{rank:"KINGDOM",key:7,name:"Protozoa"},{rank:"PHYLUM",key:7509337}]},{groupName:"Euglenoidea",pathNode:[{rank:"KINGDOM",key:7,name:"Protozoa"},{rank:"PHYLUM",key:41}]}]}],W1={KINGDOM:{1:["Mais de 95% de todas as espcies animais so invertebrados  vertebrados como peixes, rpteis e mamferos so uma minoria evolutiva.","O polvo tem trs coraes, sangue azul e resolve quebra-cabeas  sua inteligncia evoluiu de forma completamente independente da dos vertebrados.","O tardigrado (urso d'gua)  o nico animal capaz de sobreviver no vcuo do espao, a -272C e a doses de radiao 3.000 letais para humanos.","Esponjas (Porifera) no tm msculos nem sistema nervoso, mas so animais  e existem h mais de 600 milhes de anos, sobrevivendo a cinco extines em massa.","A baleia-azul tem o maior corao j medido em qualquer animal: pesa cerca de 180 kg e seu batimento pode ser detectado a quilmetros de distncia.","O camaro-mantis detecta 16 tipos de fotorreceptores de cor  humanos tm apenas 3  e processa informao visual trs vezes mais rpido que ns.","Estima-se entre 5 e 10 milhes de espcies de insetos no planeta; apenas cerca de 1 milho foi descrita pela cincia.","O corvo-da-nova-calednia fabrica ferramentas de galhos com mais habilidade que chimpanzs, desafiando a ideia de que uso de ferramentas era exclusivo de primatas."],2:["Archaea foram descobertos como grupo separado da vida apenas em 1977, quando Carl Woese sequenciou RNA ribossomal e revelou uma terceira linhagem  transformando a biologia.","Methanobrevibacter smithii vive no seu intestino agora   uma archaea que produz metano e influencia diretamente a eficincia da sua digesto.","Algumas arqueanas se reproduzem a 121C em fontes hidrotermais ocenicas  a temperatura mais alta em que qualquer organismo conhecido consegue se multiplicar.","Archaea no possuem peptidoglicano em suas paredes celulares, tornando-as naturalmente imunes a antibiticos como a penicilina.","As membranas das Archaea usam ligaes ter em vez de ster (como em bactrias e animais), tornando-as extremamente estveis em condies extremas.","Estudos filogenmicos modernos sugerem que eucariontes  incluindo humanos  descendem de um ancestral comum com Archaea, sendo mais aparentados a elas do que bactrias so.","Thaumarchaeota realizam nitrificao nos oceanos e so responsveis por parte essencial do ciclo global do nitrognio  sem elas, a vida marinha colapsaria.","Nenhuma Archaea conhecida causa doenas em humanos  um fato surpreendente dado que vivem em to ntimo contato com nosso organismo."],3:["Seu intestino abriga cerca de 38 trilhes de bactrias  aproximadamente igual ao nmero de clulas do seu prprio corpo.","A bactria Deinococcus radiodurans suporta doses de radiao 3.000 maiores que o letal para humanos, reconstituindo seu DNA fragmentado em horas.","O cianobactrio Prochlorococcus  a menor clula fotossinttica conhecida e estima-se que produza cerca de 20% do oxignio de toda a atmosfera terrestre.","Candidatus Thiomargarita magnifica, descoberta em 2022 na Guadalupe, tem clulas visveis a olho nu  com at 2 cm de comprimento,  a maior bactria j encontrada.","Bactrias transferem genes diretamente entre si (transferncia horizontal), permitindo que resistncia a antibiticos se espalhe globalmente em questo de anos.","Fsseis de cianobactrias datam de 3,5 bilhes de anos  as bactrias oxigenaram a atmosfera terrestre e possibilitaram a evoluo de toda a vida complexa.","Myxococcus xanthus caa em enxames multicelulares coordenados e forma corpos de frutificao  um comportamento social raro e sofisticado em bactrias.","Barry Marshall bebeu uma soluo de Helicobacter pylori em 1984 para provar que a bactria causava lcera gstrica  e ganhou o Nobel de Medicina em 2005."],4:["Diatomceas produzem entre 20% e 25% de todo o oxignio da Terra  mais do que todas as florestas tropicais juntas.","A parede celular das diatomceas (frstula)  feita de slica (vidro biolgico) e exibe padres geomtricos nanosimtricos usados como referncia em nanotecnologia.","O oomiceto Phytophthora infestans causou a Grande Fome Irlandesa (18451852), matando mais de 1 milho de pessoas e forando outros 2 milhes a emigrar.","Chromista tm cloroplastos de origem secundria: em vez de capturar cianobactrias (como plantas), capturaram uma alga eucaritica inteira por endossimbiose.","O cocolitofride Emiliania huxleyi forma florescimentos visveis do espao, cobrindo milhes de km de oceano com seus escudos de calcrio branco.","As falsias brancas de Dover, na Inglaterra, so feitas de bilhes de conchas de cocolitos (Haptophyta) acumuladas no fundo do mar h ~80 milhes de anos.","Kelps (algas marrons, Phaeophyta) formam florestas submersas com at 45 m de altura  os ecossistemas costeiros mais produtivos do planeta.","Sem Chromista, o ciclo do carbono ocenico seria profundamente alterado: diatomceas e cocolitos afundam carbono para o fundo do mar em escala planetria."],5:["O maior organismo vivo da Terra pode ser um fungo: Armillaria ostoyae no Oregon ocupa 9,6 km de rea e tem mais de 8.000 anos.","Fungos so mais prximos dos animais do que das plantas na rvore evolutiva  compartilhamos com eles cerca de 50% dos genes essenciais.","O fungo Ophiocordyceps unilateralis infecta formigas, controla seu comportamento e fora o inseto a subir at a altura ideal antes de morrer  perfeito para liberar esporos.","Lquens no so um organismo: so uma simbiose entre um fungo e algas ou cianobactrias  e existem h pelo menos 400 milhes de anos.","A rede micelial de um fungo pode transferir nutrientes e sinais de defesa entre rvores em uma floresta, numa estrutura chamada de 'wood wide web'.","Penicillium chrysogenum foi descoberto acidentalmente por Alexander Fleming em 1928 e inaugurou a era dos antibiticos, salvando centenas de milhes de vidas.","Leveduras (Saccharomyces cerevisiae) foram domesticadas pelo ser humano h pelo menos 9.000 anos e foram o primeiro eucarioto a ter seu genoma completamente sequenciado (1996).","Alguns fungos so bioluminescentes  emitem luz verde constante no escuro, fenmeno descrito por Aristteles e chamado de foxfire."],6:["A Pando, no Utah,  uma nica colnia de lamos trementes com 47.000 troncos e 6.000 toneladas  e tem estimados 80.000 anos, tornando-a um dos organismos mais velhos da Terra.","As angiospermas (plantas com flores) surgiram h ~140 Ma e hoje representam 90% das espcies vegetais  sua diversificao acelerada intrigou Darwin, que a chamou de 'abominvel mistrio'.","A Welwitschia mirabilis da Nambia produz apenas duas folhas durante toda a vida, mas vive mais de 1.000 anos em um dos desertos mais ridos do planeta.","A Rafflesia arnoldii no tem razes, caules nem folhas visveis  vive inteiramente como parasita dentro de outra planta e produz a maior flor do mundo, com at 1 metro de dimetro.","A Victoria amazonica produz flores que aquecem at 35C e mudam de cor  uma adaptao que prende besouros polinizadores dentro da flor por at 24 horas.","Sementes podem sobreviver sculos em dormncia: uma semente de tmareira com ~2.000 anos, encontrada em Massada (Israel), germinou com sucesso em 2005.","Plantas se comunicam quimicamente: quando atacadas por herbvoros, emitem compostos volteis que alertam plantas vizinhas, que aumentam sua produo de toxinas defensivas.","O General Sherman (Sequoiadendron giganteum) tem 1.487 m de volume e mais de 2.700 anos  seus cones s liberam sementes com o calor de incndios florestais."],7:["Plasmodium falciparum, um protozorio transmitido por mosquitos Anopheles,  possivelmente o parasita que mais matou seres humanos em toda a histria.","Toxoplasma gondii infecta cerca de 30% da populao humana e altera o comportamento de ratos infectados  elimina seu medo de gatos, facilitando o ciclo do parasita.","A ameba Naegleria fowleri penetra pelo nariz em nados de gua doce quente, chega ao crebro e causa meningoencefalite quase sempre fatal em menos de duas semanas.","Foraminferos so protozorios com conchas calcrias que se acumulam no fundo do mar h 500 Ma  a Pirmide de Giz foi construda com calcrio composto de suas conchas fsseis.","Stentor, um ciliado unicelular, aprende a ignorar estmulos repetidos sem ter sistema nervoso  um dos exemplos mais simples de comportamento aprendido na natureza.","Radiolrios produzem esqueletos de slica com simetria geomtrica perfeita  to elaborados que Ernst Haeckel os eternizou em gravuras cientficas que viraram cones da arte do sculo XIX.","Paramecium tem dois ncleos com funes distintas (macroncleo e microncleo) e pode 'rejeitar' parceiros geneticamente incompatveis durante a conjugao sexual.","Trypanosoma brucei, causador da doena do sono, troca sua protena de superfcie mais de 100 vezes para escapar do sistema imune  um dos mecanismos de evaso mais sofisticados da natureza."]},PHYLUM:{1:["Arthropoda  o filo mais diverso da Terra: insetos, aranhas, caranguejos e centopeias juntos representam mais de 80% de todas as espcies animais descritas.","Nematoda pode ser o filo animal mais abundante do planeta  60% de todos os indivduos animais so nematdeos, e uma nica ma podre pode conter 90.000 deles.","Chordata, o filo dos vertebrados, representa menos de 5% das espcies animais  os outros 95% so invertebrados de outros filos.","O filo Cnidaria inclui um animal biologicamente imortal: Turritopsis dohrnii pode reverter para o estgio juvenil aps atingir a maturidade, repetindo o ciclo indefinidamente.","Echinodermata (ourios, estrelas-do-mar) so os invertebrados mais prximos dos vertebrados  compartilhamos com eles genes de desenvolvimento fundamentais e simetria bilateral na larva.","Alguns filos tm apenas uma ou poucas espcies: Cycliophora foi descoberto em 1995 em lagostas norueguesas; Placozoa  um animal sem rgos, com apenas 6 tipos de clulas.","Mollusca inclui desde lesmas microscpicas at a lula-gigante (Architeuthis dux), com olhos de at 30 cm  os maiores do reino animal.","Filos inteiros foram descobertos no sculo XX: Loricifera (1983), Micrognathozoa (2000)  a diversidade animal do planeta ainda est longe de ser totalmente mapeada."],2:["Euryarchaeota rene os extremfilos mais versteis de Archaea: inclui metanognicos produtores de biogs, haloflicos de salinas ultraconcentradas e termoacidoflicos de fontes sulfurosas.","Thermoproteota (Crenarchaeota) domina fontes hidrotermais e solos vulcnicos  Sulfolobus cresce a 80C em pH 2 e usa enxofre como fonte de energia.","Nanoarchaeota tem apenas uma espcie conhecida, Nanoarchaeum equitans  com apenas 490.000 pares de bases de DNA,  o genoma celular funcional mais compacto j descrito.","O grupo Asgard, identificado em sedimentos marinhos profundos entre 2015 e 2022,  o mais prximo dos eucariontes, com genes de actina e tubulina-like inexistentes em outras Archaea.","Halobacterota inclui arqueanas que produzem bacteriorodopsina  uma protena fotossensvel que converte luz solar em energia sem clorofila, uma forma de fotossntese alternativa.","O supergrupo DPANN (Nanoarchaeota, Nanohaloarchaeota, Diapherotrites, entre outros) rene arqueanas com genomas extremamente reduzidos  possveis parasitas de outras Archaea.","Methanobacteriota engloba todos os metanognicos conhecidos, que produzem coletivamente ~590 milhes de toneladas de metano por ano, contribuindo para o ciclo global do carbono.","A maioria dos filos de Archaea foi descrita apenas por sequenciamento metagenmico de sedimentos ocenicos profundos  nunca foram cultivados em laboratrio at hoje."],3:["Pseudomonadota (Proteobacteria)  o filo mais diverso de Bacteria: inclui E. coli, Salmonella, bactrias fotossintticas prpuras e Helicobacter pylori  metabolismos radicalmente diferentes.","Cyanobacteria oxigenou a Terra h ~2,4 bilhes de anos no 'Grande Evento de Oxigenao'  e seus descendentes so os cloroplastos das plantas, responsveis por toda fotossntese vegetal.","Firmicutes inclui os produtores de esporos mais resistentes do mundo: Bacillus anthracis produz esporos que sobrevivem dcadas no solo, resistentes ao calor, luz UV e desinfetantes.","Actinobacteria  o filo de onde vm mais de 70% dos antibiticos naturais usados na medicina: estreptomicina, eritromicina, vancomicina e tetraciclina foram todos descobertos aqui.","Bacteroidota domina o intestino humano em biomassa e  fundamental para degradar fibras vegetais complexas  sem elas, a nutrio humana seria drasticamente menos eficiente.","Spirochaetota inclui bactrias com morfologia nica: formato de espiral rgida e motilidade por filamentos axiais internos  inclui Treponema pallidum (sfilis) e Borrelia burgdorferi (Lyme).","Planctomycetes desafiam a biologia celular bacteriana: tm compartimentos membranosos internos e algumas espcies realizam anammox, oxidando amnio com nitrito de forma anaerbica.","Candidatus Patescibacteria representa centenas de linhagens ainda sem cultivo laboratorial, descobertas apenas por metagenmica  evidncia de que a maioria da diversidade microbiana  desconhecida."],4:["Bacillariophyta (diatomceas)  o grupo fotossinttico individual mais produtivo do planeta: ~100.000 espcies produzem cerca de 20% do oxignio atmosfrico global por ano.","Phaeophyta (algas marrons) inclui os maiores organismos fotossintticos do oceano: Macrocystis pyrifera cresce at 45 m de comprimento, formando florestas submarinas nicas.","Oomycota (oomicetos) j foram classificados como fungos, mas so Chromista: tm paredes de celulose e incluem Phytophthora, responsvel por devastar plantaes de batata, soja e abacate.","Haptophyta (cocolitofrideos) reveste seus corpos com placas de calcrio; ao morrerem, afundam e sequestram carbono no fundo do mar  processo chamado de 'bomba biolgica de carbono'.","Dinoflagellata causa as mars vermelhas txicas, mas tambm a bioluminescncia azul que ilumina ondas do oceano  produzida pela reao da luciferina com a luciferase.","Ochrophyta engloba algas douradas, ferrugem-marinha e algas amarelo-verdes, com cloroplastos que ainda carregam a membrana da alga eucaritica capturada por endossimbiose.","Radiozoa (radiolrios e acantrios) produz esqueletos de slica ou sulfato de estrncio com geometria fractal precisa  e seus sedimentos registram a histria climtica da Terra por 500 Ma.","Foraminifera tem registro fssil de 540 milhes de anos e suas conchas calcrias so to abundantes que a calcria usada nas Pirmides do Egito  composta principalmente de suas carapaas."],5:["Ascomycota  o maior filo de fungos com ~64.000 espcies descritas: inclui leveduras de cerveja, trufas, cogumelos morel, bolores e os fungos que formam a maioria dos lquens.","Basidiomycota produz os cogumelos mais conhecidos, mas seu feito mais impressionante  a lignina: basidiomicetas so os nicos organismos capazes de degradar completamente a lignina, reciclando florestas.","Glomeromycota forma micorrizas arbusculares com ~80% de todas as plantas terrestres  uma simbiose to essencial que estima-se que as plantas colonizaram a terra graas a esses fungos h ~450 Ma.","Chytridiomycota  o grupo de fungos mais primitivo e o nico com zosporos flagelados  e inclui Batrachochytrium dendrobatidis, o fungo responsvel pelo declnio de anfbios em todo o mundo.","Mucoromycota inclui Rhizopus stolonifer (bolor preto do po) e fungos usados na produo de cido ctrico e de fermentaes tradicionais asiticas como o tempeh.","Microsporidia so parasitas intracelulares obrigatrios com os menores genomas eucariticos conhecidos (~2,3 Mb)  possivelmente fungos degenerados que perderam mitocndrias funcionais.","Blastocladiomycota e Neocallimastigomycota so fungos anaerbicos que vivem no rmen bovino, essenciais para digerir celulose  sem eles, vacas no conseguiriam extrair energia da grama.","Cryptomycota (Rozellida)  o grupo mais basal de fungos, descoberto por metagenmica  vivem como parasitas de algas e podem ser a chave para entender a origem de todos os fungos."],6:["Tracheophyta (plantas vasculares) representa 94% de todas as espcies vegetais conhecidas  o sistema de vasos (xilema e floema) foi a inovao que permitiu s plantas crescerem alm de alguns centmetros.","Bryophyta (musgos) so as plantas mais resistentes  dessecao: podem perder 98% de sua gua e 'ressuscitar' completamente em horas ao serem reidratados.","Charophyta (algas verdes de gua doce)  o grupo de algas mais prximo das plantas terrestres, com o mesmo ancestral  foi o grupo que colonizou a terra firme h ~470 Ma.","Marchantiophyta (hepticas) so as plantas terrestres mais primitivas  sem cutcula verdadeira, absorvem gua diretamente pela superfcie e exigem ambientes permanentemente midos.","Cycadophyta (cicas) existem h mais de 280 milhes de anos e so as plantas com semente mais antigas ainda vivas  foram o alimento principal dos dinossauros herbvoros do Jurssico.","Pinophyta (conferas) inclui as rvores mais velhas (Pinus longaeva, 5.000 anos), mais altas (Sequoia sempervirens, 115 m) e de maior volume (Sequoiadendron giganteum) do planeta.","Anthocerotophyta (antceros) tem apenas ~220 espcies mas carrega um dos cloroplastos mais primitivos entre plantas terrestres  com um nico e grande cloroplasto por clula, semelhante s algas ancestrais.","Magnoliophyta (angiospermas) surgiu h ~140 Ma e hoje domina quase todos os biomas terrestres, com ~300.000 espcies  sua coevoluo com insetos polinizadores  uma das maiores histrias evolutivas."],7:["Apicomplexa  um dos filos mais mortais para humanos: alm de Plasmodium (malria), inclui Toxoplasma (toxoplasmose), Cryptosporidium (diarreia severa) e Theileria (febre dos carrapatos em gado).","Ciliophora tem o maior nmero de clios de qualquer grupo celular: Paramecium possui ~17.000 clios coordenados que batem em ondas  resultado de um sistema de sinalizao sem sistema nervoso.","Euglenozoa inclui Trypanosoma, que causa doena do sono na frica e doena de Chagas nas Amricas  afetando mais de 6 milhes de pessoas e causando perdas bilionrias em gado bovino.","Amoebozoa inclui Dictyostelium discoideum, um modelo gentico que, quando privado de alimento, forma organismos pluricelulares a partir de clulas individuais  um modelo nico de evoluo multicelular.","Cercozoa  um superfilo de protozorios com pseudpodes filiformes, flagelos e conchas  e inclui parasitas de algas, plantas e outros protistas, ainda amplamente inexplorado pela cincia.","Foraminifera (dentro de Rhizaria) tem ~10.000 espcies vivas e 40.000 extintas  cada concha preservada no fundo do mar permite reconstruir paleotemperaturas ocenicas com preciso de dcimos de grau.","Dinoflagellata inclui zooxantelas, que estabelecem simbiose com corais fornecendo at 90% da energia dos recifes  o colapso dessa simbiose por aumento de temperatura causa o branqueamento dos corais.","Mycetozoa (fungos mucilaginosos) no so fungos nem animais: formam massas ameboides multinucleadas que resolvem labirintos e otimizam redes de transporte com eficincia comparvel  engenharia humana."]},CLASS:{1:["Actinopterygii (peixes com nadadeiras raiadas)  a classe de vertebrados mais diversa: mais de 34.000 espcies  mais do que todos os outros vertebrados somados.","Aves so dinossauros terpodes: descendem diretamente dos mesmos ancestrais de Velociraptor e T. rex, e so os nicos dinossauros sobreviventes da extino K-Pg.","Insecta tem ~1 milho de espcies descritas  mais do que todas as outras classes animais combinadas  com estimativa de 5 a 10 milhes ainda desconhecidas.","Mammalia deve seu sucesso a um evento de extino: com o fim dos dinossauros h 66 Ma, mamferos antes restritos a nichos noturnos diversificaram-se explosivamente.","Chondrichthyes (tubares e raias) manteve o mesmo plano corporal por ~450 milhes de anos  tubares existem h mais tempo que as rvores.","Amphibia tem a maior taxa de extino atual entre vertebrados: ~41% das espcies esto ameaadas, principalmente pelo fungo quitrdio Batrachochytrium dendrobatidis.","Cephalopoda (polvos, lulas, nutilos) tem o maior crebro entre invertebrados e inclui as nicas espcies invertebradas com uso confirmado de ferramentas e camuflagem ativa.","Reptilia em sentido clssico  um grupo parafiltico  aves so rpteis e so mais prximas de crocodilos do que cobras so de lagartos."],2:["Methanobacteria  a classe que inclui todos os metanognicos que produzem metano usando CO e H  um metabolismo anaerbico completamente ausente nos outros domnios da vida.","Halobacteria (sem relao com bactrias) so arqueanas que precisam de pelo menos 15% de NaCl para sobreviver  em ambientes com menos sal, suas membranas se dissolvem espontaneamente.","Thermoprotei inclui organismos que realizam respirao com enxofre elementar: reduzem S para produzir HS em temperaturas de at 100C, vivendo em fontes hidrotermais cidas.","Methanomicrobia engloba metanognicos com morfologias extremamente variadas  bastonetes, cocos, espirais e filamentos  uma diversidade de formas incomum para Archaea.","Archaeoglobi  uma classe de arqueanas redutoras de sulfato que vivem em fontes hidrotermais e produzem HS como metablito, contribuindo para o cheiro de enxofre dessas regies.","Methanopyri inclui apenas Methanopyrus kandleri, que cresce a 122C  o organismo vivo com maior temperatura de crescimento registrada, confirmada em laboratrio sob alta presso.","Nanohaloarchaea so arqueanas com genomas reduzidos (~1,2 Mb) que vivem em lagos ultrasal e parecem depender de outras arqueanas haloflicas para sobreviver metabolicamente.","Thaumarchaeota realiza nitrificao em oceanos profundos: oxida amnio a nitrito onde a luz no chega, regulando o ciclo do nitrognio em toda a coluna d'gua."],3:["Gammaproteobacteria  a classe mais clinicamente relevante de Bacteria: inclui E. coli, Salmonella, Klebsiella, Pseudomonas aeruginosa e Vibrio cholerae  responsveis por milhes de mortes anuais.","Bacilli inclui Lactobacillus e Streptococcus  fundamentais na produo de queijo, iogurte, chucrute e kefir, alm de bactrias probiticas essenciais ao intestino humano.","Alphaproteobacteria inclui as mitocndrias das clulas eucariticas: o ancestral das mitocndrias foi uma alphaproteobacteria engolida por endossimbiose h ~1,52 bilhes de anos.","Clostridia inclui C. botulinum, produtor da toxina botulnica  a protena mais txica conhecida, com dose letal de ~1 nanograma por kg de massa corporal, mas usada terapeuticamente em neurologia.","Actinomycetia inclui Streptomyces, gnero responsvel pelo cheiro de terra mida (geosmina) e produtor de mais de 60% dos antibiticos clinicamente utilizados no mundo.","Deltaproteobacteria inclui Bdellovibrio, que predatria ativamente outras bactrias gram-negativas  perfurando a parede celular do hospedeiro e consumindo-o por dentro.","Cyanobacteriia  a nica classe bacteriana com fotossntese oxignica  e seus cloroplastos foram incorporados pelas clulas vegetais, tornando toda fotossntese vegetal de origem bacteriana.","Spirochaetia locomove-se por rotao de filamentos internos (endoflagelos), permitindo movimento em meios viscosos  uma vantagem decisiva no muco e tecidos do hospedeiro."],4:["Bacillariophyceae (diatomceas) tm frstulas de slica com padres ultraestruturais na nanescala to precisos que so usados como padres de calibrao em microscopia eletrnica.","Phaeophyceae (algas marrons) inclui o organismo que mais rpido cresce no planeta: Macrocystis pyrifera pode crescer at 30 cm por dia em ambientes com nutrientes adequados.","Oomycetes no so fungos: tm paredes de celulose, ncleos diploides em toda a fase vegetativa e zosporos biflagelados  caractersticas que os aproximam das algas heterocontas.","Chrysophyceae (algas douradas) pode alternar entre fotossntese e fagotrofia: so auttrofas quando h luz e passam a fagocitar bactrias quando o ambiente escurece.","Dinophyceae tem cromossomos permanentemente condensados sem histonas e um genoma 10200 vezes maior que o humano  a organizao genmica mais incomum entre todos os eucariontes.","Raphidophyceae inclui espcies que formam mars vermelhas devastadoras para a aquicultura: Chattonella marina libera toxinas e radicais superxidos que destroem as brnquias dos peixes.","Coccolithophyceae produz cocolitos de calcita com geometria cristalina perfeita  seu calcrio acumulado durante 80 Ma forma as famosas Falsias Brancas de Dover, com at 107 m de altura.","Xanthophyceae (algas amarelo-verdes) inclui Vaucheria, que forma filamentos cenocticos sem divises entre clulas  modelo de estudo para transporte de organelas em clulas gigantes."],5:["Agaricomycetes  a maior classe de Basidiomycota com ~20.000 espcies: inclui todos os cogumelos comestveis e venenosos, orelhas-de-pau e os formadores de micorrizas ectotrfica.","Saccharomycetes (leveduras) tem apenas ~6.000 genes  menos de 1/3 dos humanos  mas realiza metabolismo eucarioto completo, tornando Saccharomyces cerevisiae o organismo-modelo por excelncia.","Sordariomycetes inclui Neurospora crassa, o fungo que permitiu a Beadle e Tatum descobrir que genes controlam enzimas (Nobel 1958), fundando a biologia molecular moderna.","Eurotiomycetes inclui Aspergillus niger, usado para produzir cido ctrico industrialmente  mais de 2 milhes de toneladas por ano, para refrigerantes, conservas e produtos farmacuticos.","Ustilaginomycetes inclui os fungos carvo que parasitam cereais: Ustilago maydis no milho produz huitlacoche, uma iguaria culinria apreciada no Mxico, apesar de ser um patgeno.","Pucciniomycetes inclui as ferrugens de cereais (Puccinia spp.), responsveis por devastar colheitas de trigo globalmente  um nico surto pode destruir at 70% da produo de uma regio.","Tremellomycetes inclui fungos gelatinosos como Tremella mesenterica e espcies que parasitam outros fungos  e  o grupo ancestral das leveduras patognicas como Cryptococcus neoformans.","Orbiliomycetes inclui fungos carnvoros que formam anis, ns e redes adesivas para capturar e digerir nematdeos  o nico grupo de fungos com estratgias de caa ativa."],6:["Liliopsida (monocotiledneas) inclui gramneas, orqudeas, palmeiras e lrios  distingue-se por ter uma semente com um nico cotildone e feixes vasculares dispersos pelo caule.","Magnoliopsida (dicotiledneas)  a maior classe de angiospermas com ~200.000 espcies: inclui a maioria das rvores, arbustos, leguminosas e a maioria das flores vistosas.","Polypodiopsida (samambaias) tem ciclo de vida nico: a planta 'adulta' visvel  o esporfito diploide, mas gera gametfitos minsculos que vivem independentes no solo mido.","Pinopsida (conferas) inclui ~600 espcies distribudas no Hemisfrio Norte e  o grupo vegetal mais resistente ao frio  Pinus sylvestris sobrevive a temperaturas de -50C.","Lycopodiopsida (licopdios) existe desde o Devoniano (~400 Ma) e inclui os ancestrais das rvores que formaram os depsitos de carvo  a primeira floresta da Terra era de licopdios de 40 m.","Equisetopsida (cavalinha)  um relquio evolutivo: o gnero Equisetum  o nico sobrevivente de uma classe que dominava as florestas carbonferas com rvores de 30 m de altura.","Bryopsida (musgos verdadeiros) tem ~12.000 espcies e domina a tundra rtica, onde forma tapetes que isolam termicamente o permafrost e regulam o ciclo hdrico regional.","Ginkgoopsida tem apenas uma espcie viva: Ginkgo biloba, fssil vivente praticamente inalterado por 200 Ma e a nica planta conhecida com espermatozoides flagelados que nadam at o vulo."],7:["Conoidasida (Apicomplexa) inclui Plasmodium, Toxoplasma e Cryptosporidium  todos com um complexo apical de microtbulos especializado em perfurar e invadir clulas hospedeiras com preciso cirrgica.","Oligohymenophorea inclui Paramecium, com dois tipos de ncleo: o macroncleo controla o metabolismo dirio e o microncleo serve exclusivamente para a reproduo sexual.","Kinetoplastea tem DNA mitocondrial organizado em rede de milhares de anis interligados (kinetoplasto)  uma estrutura sem equivalente em qualquer outro grupo eucarioto.","Lobosa inclui amebas com pseudpodes largos usados para engolfar bactrias  Amoeba proteus pode ingerir partculas 10 seu tamanho e  o modelo clssico de estudo da fagocitose.","Spirotrichea inclui Stentor, o maior protozorio unicelular conhecido  pode atingir 2 mm de comprimento, ser visvel a olho nu, e se regenera completamente a partir de 1/100 de seu citoplasma.","Gregarinasina so parasitas intestinais de invertebrados com formas extracelulares  ao contrrio da maioria dos Apicomplexa, vivem fora das clulas hospedeiras e formam trens de gametocistos.","Litostomatea inclui Balantidium coli, o nico ciliado protozorio capaz de parasitar humanos, causando disenteria  transmitido por fezes de porcos e endmico em regies tropicais sem saneamento.","Discosea inclui Acanthamoeba, que vive em solos e gua doce e pode invadir o olho humano (especialmente em usurios de lente de contato), causando ceratite amebiana e risco de cegueira."]},ORDER:{1:["Coleoptera (besouros)  a ordem animal mais diversa: ~400.000 espcies descritas. Perguntado sobre a natureza de Deus, o bilogo Haldane teria respondido: 'uma predileo incomum por besouros'.","Chiroptera (morcegos)  a segunda maior ordem de mamferos com ~1.400 espcies e so os nicos mamferos capazes de voo sustentado.","Hymenoptera inclui formigas-cortadeiras que cultivam fungos em monocultura h 50 milhes de anos  precedendo a agricultura humana em 49,9 milhes de anos.","Cetacea (baleias e golfinhos) descende de mamferos terrestres com unhas; seu parente vivo mais prximo  o hipoptamo, e a transio completa para o mar ocorreu em ~1015 Ma.","Passeriformes (pssaros canoros) representa mais da metade de todas as espcies de aves (~6.500) e se diversificou to rapidamente que sua filogenia  um dos grandes desafios da ornitologia.","Primates evoluiu em nichos noturnos e arbreos  a viso tridimensional colorida e as mos prenseis so adaptaes a saltar entre galhos, no caractersticas 'superiores' inatas.","Lepidoptera (borboletas e mariposas) realiza uma das metamorfoses mais radicais: a lagarta se liquefaz quase completamente dentro do casulo antes de se reconstituir como adulto.","Crocodilia sobreviveu ao evento K-Pg praticamente inalterada enquanto os dinossauros desapareciam  e seu corao de quatro cmaras  o mais sofisticado entre rpteis."],2:["Methanobacteriales inclui organismos responsveis por ~25% das emisses de metano do gado bovino globalmente  Methanobrevibacter ruminantium  o metanognico dominante no rmen.","Sulfolobales cresce em fontes cidas sulfurosas a 80C e pH 13, oxidando enxofre elementar  sua descoberta expandiu os limites do que se considerava habitvel para qualquer forma de vida.","Halobacteriales inclui Halobacterium salinarum, que produz bacteriorodopsina  a protena fotossensvel mais estudada do mundo e inspirao para a optogentica e converso de energia solar.","Methanosarcinales  o nico grupo de metanognicos capaz de usar acetato, metanol e metilaminas alm de CO + H  tornando-os os metanognicos metabolicamente mais versteis.","Thermoproteales cresce em ambientes geotermais a temperaturas acima de 70C e inclui organismos que fixam CO via ciclo de Krebs reverso  uma bioqumica sem equivalente em outros domnios.","Archaeoglobales so redutores de sulfato extremfilos que vivem em fontes hidrotermais a at 95C  encontrados em reservatrios de petrleo, onde causam corroso de equipamentos metlicos.","Methanopyrales contm apenas Methanopyrus kandleri, isolado de uma chamin hidrotermal a 122C e 20 MPa de presso  o metanognico mais termfilo e baroflico j descoberto.","Thermococcales inclui organismos hipertermfilos que fermentam peptdeos e carboidratos na escurido das fontes hidrotermais profundas, usando enxofre como aceptor final de eltrons."],3:["Enterobacterales rene as bactrias intestinais mais estudadas: E. coli, Salmonella, Shigella, Klebsiella e Yersinia pestis (causadora da Peste Negra) pertencem todas a esta ordem.","Lactobacillales inclui as bactrias que produzem cido lctico a partir de acares  responsveis pela fermentao de iogurte, queijo, kimchi, sourdough e kefir h milnios.","Pseudomonadales inclui Pseudomonas aeruginosa, que forma biofilmes em pacientes imunossuprimidos e  naturalmente resistente a mais de 30 antibiticos  um dos maiores desafios clnicos modernos.","Rhizobiales inclui Rhizobium, Bradyrhizobium e Mesorhizobium  bactrias que fixam N atmosfrico em ndulos de leguminosas, fornecendo 4060 milhes de toneladas de nitrognio biologicamente til por ano.","Mycobacteriales inclui Mycobacterium tuberculosis, que infectou um tero da humanidade e ainda causa ~1,5 milho de mortes anuais  e M. leprae, que perdeu 2.000 genes por evoluo regressiva.","Clostridiales inclui Clostridioides difficile, que se torna patognico quando antibiticos destroem a microbiota intestinal  causando colite pseudomembranosa em hospitais de todo o mundo.","Cyanobacteriales inclui Anabaena, que possui dois tipos de clula: vegetativas (fotossntese) e heterocistos (fixao de N)  um exemplo primitivo de diferenciao celular em procariontes.","Actinomycetales inclui Streptomyces coelicolor, com o maior genoma bacteriano j sequenciado (~8,7 Mb)  cheio de clusters gnicos para produo de antibiticos e outros metablitos secundrios."],4:["Naviculales  a ordem de diatomceas com simetria bilateral mais diversa  Navicula  encontrada em praticamente todo ambiente aqutico e mido da Terra, de geleiras a desertos.","Laminariales (kelps) inclui as maiores algas do mundo: florestas de Macrocystis pyrifera cobrem dezenas de km e suas biomassas so fontes de alginato para centenas de produtos industriais.","Peronosporales inclui Plasmopara viticola, responsvel pela epidemia de mldio nos vinhedos europeus no sculo XIX, que quase destruiu a viticultura francesa e italiana.","Fucales inclui Sargassum natans, que forma o Mar de Sargasso  a nica regio ocenica do planeta sem terra firme nos arredores, onde algas flutuantes criam um ecossistema singular.","Saprolegniales inclui Saprolegnia parasitica, um oomiceto que parasita peixes de aquicultura  responsvel por perdas de centenas de milhes de dlares anuais na criao de salmo.","Peridiniales inclui dinoflagelados produtores de saxitoxina, neurotoxina que causa Paralytic Shellfish Poisoning (PSP)  acumulada em mexilhes e ostras, pode ser fatal para humanos.","Coccolithales inclui Emiliania huxleyi, cujo florescimento em escala ocenica  detectvel por satlite  e cuja morte em massa libera dimetilssulfeto (DMS), influenciando a formao de nuvens e o clima.","Chrysomonadales inclui algas douradas que so indicadores ecolgicos precisos: sua composio de espcies revela pH, temperatura e poluio de lagos com alta resoluo."],5:["Agaricales  a ordem com mais cogumelos comestveis e venenosos do mundo: inclui Amanita phalloides (chapu-da-morte), responsvel por ~90% das mortes por intoxicao com cogumelos.","Boletales inclui boletos comestveis como Boletus edulis (porcini) e o fungo Pisolithus tinctorius  essencial em reflorestamentos por formar micorrizas com mais de 40 espcies de rvores.","Pucciniales (ferrugens) tem o ciclo de vida mais complexo j descrito em fungos: Puccinia graminis requer dois hospedeiros no relacionados (trigo e berberis) e tem at 5 tipos de esporos.","Eurotiales inclui Aspergillus flavus e A. parasiticus, produtores de aflatoxinas  as micotoxinas carcinognicas mais potentes conhecidas, que contaminam amendoim e cereais em regies tropicais.","Hypocreales inclui Trichoderma (controle biolgico de fungos), Beauveria bassiana (parasita de insetos) e Cordyceps (controla formigas)  uma ordem com impacto enorme em biotecnologia agrcola.","Polyporales inclui Trametes versicolor (rabo-de-peru) e Ganoderma lucidum (reishi)  fungos decompositores de madeira amplamente pesquisados por compostos imunomoduladores e antitumorais.","Pezizales inclui trufas (Tuber melanosporum, T. magnatum)  os cogumelos mais caros do mundo, com preos de at 5.000/kg  e os morel (Morchella), muito apreciados na culinria mundial.","Cantharellales inclui chanterelles (Cantharellus cibarius) e, curiosamente, Ceratobasidium  fungo que coloniza orqudeas, fornecendo carbono e minerais s minsculas sementes em germinao."],6:["Poales inclui trigo, arroz, milho, cana-de-acar e bambu  as gramneas desta ordem fornecem mais de 50% de toda a energia calrica consumida pela humanidade diariamente.","Lamiales inclui mais de 23.000 espcies em 24 famlias: azaleias, lavanda, hortel, tomilho, jasmim, oliveira e gergelim  todas com flores de simetria bilateral (zigomorfa).","Asterales  a maior ordem de plantas com flores: apenas Asteraceae tem ~25.000 espcies  girassol, margarida, crisntemo e dente-de-leo tm em comum a inflorescncia em captulo.","Fabales (leguminosas) contribui com a maior fixao biolgica de nitrognio entre ordens de plantas: soja, feijo, lentilha e ervilha em simbiose com Rhizobium dispensam adubos nitrogenados.","Rosales inclui Rosaceae (ma, cereja, morango), Moraceae (figo, jaca) e Cannabaceae (cnhamo)  tornando-a uma das ordens botanicamente mais diversas e economicamente importantes.","Caryophyllales inclui plantas com adaptaes extremas: cactos (CAM em desertos), carnvoras (Dionaea, Drosera) e halofitas (Suaeda)  todas ligadas filogeneticamente pela presena de betalinas.","Pinales inclui todas as conferas com sementes em cones  Pinus, Abies, Picea, Larix  e suas resinas formaram o mbar que preservou organismos com mais de 90 milhes de anos.","Ericales inclui blueberries, ch, kiwi, caqui, azaleia e begnia  e tambm Sarracenia e outras plantas carnvoras  uma ordem surpreendentemente diversa em morfologia e estratgia de vida."],7:["Eucoccidiorida inclui Plasmodium e Toxoplasma: os parasitas Apicomplexa mais estudados do mundo, com ciclos de vida que alternam entre hospedeiro vertebrado e invertebrado ou intermedirio.","Hymenostomatida inclui Paramecium, que realiza conjugao  troca de material gentico entre dois indivduos via ponte citoplasmtica  um processo de recombinao gentica sem reproduo.","Trypanosomatida inclui os agentes da doena de Chagas (T. cruzi), doena do sono (T. brucei) e leishmaniose (Leishmania spp.)  trs das principais doenas tropicais negligenciadas do mundo.","Amoebida inclui Amoeba proteus, o modelo clssico de locomoo por pseudpodes  cujo estudo revelou os mecanismos de polimerizao de actina usados por macrfagos do sistema imune.","Stichotrichida inclui hipotriquia com clios modificados em cirtros, que os usam como 'pernas' para caminhar sobre superfcies  um comportamento locomotor nico entre protozorios ciliados.","Arcellinida inclui tecamebas de gua doce com conchas de areia ou slica secretada  Arcella vulgaris constri uma carapaa circular geometricamente perfeita, descrita por D'Arcy Thompson.","Gregarinida parasita invertebrados marinhos e terrestres e exibe 'gliding motility'  deslizamento sem clios, flagelos ou pseudpodes visveis, por um mecanismo molecular ainda controverso.","Radiolaria inclui protozorios pelgicos que ao morrerem formam ooze radiolrio  sedimentos de at 500 m de espessura no fundo do Pacfico que registram o ciclo climtico da Terra."]},FAMILY:{1:["Hominidae inclui humanos, chimpanzs, gorilas e orangotangos  chimpanzs compartilham ~98,7% do DNA com Homo sapiens, mais do que com gorilas.","Formicidae (formigas) representa apenas uma famlia, mas sua biomassa total supera a de todos os mamferos selvagens do planeta combinados.","Canidae mostra a maior variao morfolgica dentro de uma famlia de mamferos: um chihuahua e um mastim tibetano so exatamente a mesma espcie  Canis lupus familiaris.","Felidae tem 37 espcies, todas carnvoras obrigatrias e todas sem capacidade de sentir doura  perderam os receptores de sabor doce h ~7 Ma por uma mutao no gene Tas1r2.","Viperidae (vboras) evoluiu presas ocas articuladas e veneno hemotrpico de alta eficincia, mas a maioria das ~70.000 mortes anuais por serpentes  causada por apenas 5 espcies.","Delphinidae inclui golfinhos, orcas e botos  e as orcas desenvolveram culturas regionais distintas com dialetos vocais transmitidos por aprendizado entre geraes.","Bovidae tem ~140 espcies de ungulados (bovinos, ovinos, caprinos, antlopes) e  a famlia que mais influenciou o desenvolvimento das civilizaes humanas.","Culicidae (mosquitos) transmite mais doenas que qualquer outra famlia de animais: malria, dengue, febre amarela, Zika, chikungunya  os animais mais letais para humanos."],2:["Methanobacteriaceae inclui Methanobacterium thermoautotrophicum, a primeira archaea metanognica a ter seu genoma completamente sequenciado (1997)  abrindo a era da genmica de Archaea.","Halobacteriaceae inclui as arqueanas mais estudadas de ambientes hipersalinos: Halobacterium salinarum, Haloarcula marismortui (isolada do Mar Morto) e Haloferax volcanii, modelo gentico de Archaea.","Sulfolobaceae inclui Sulfolobus solfataricus, que cresce a 80C em pH 2 e tem um sistema de diviso celular baseado em protenas ESCRT-III homlogas s eucariticas  revelando origens evolutivas comuns.","Methanosarcinaceae inclui o maior metanognico em clulas individuais: Methanosarcina mazei pode formar agregados multicelulares e possui o maior genoma entre os metanognicos (~4,1 Mb).","Thermoproteaceae inclui Thermoproteus tenax, que reduz enxofre elementar com H como doador de eltrons a 88C  um metabolismo completamente inorgnico e anaerbico.","Archaeoglobaceae inclui Archaeoglobus fulgidus, primeiro hipertermfilo a ter seu genoma completamente sequenciado (1997), revelando genes de resistncia a danos no DNA particularmente robustos.","Methanopyraceae tem apenas Methanopyrus kandleri  e sua posio filogentica basal sugere que os primeiros metanognicos da Terra podem ter vivido em condies igualmente extremas.","Thermococcaceae inclui Pyrococcus furiosus ('bola de fogo furiosa'), amplamente usado em biotecnologia  sua DNA polimerase  empregada em variantes de PCR de alta temperatura."],3:["Enterobacteriaceae inclui E. coli K-12, a bactria mais estudada da histria  com mais de 500.000 publicaes cientficas  e o segundo organismo a ter seu genoma completamente sequenciado (1997).","Streptococcaceae inclui S. pneumoniae, que protagonizou a revelao de 1944: Avery, MacLeod e McCarty provaram que o DNA (no a protena)  o material gentico, usando o experimento da transformao.","Mycobacteriaceae inclui M. leprae, com o genoma bacteriano mais reduzido por evoluo regressiva: perdeu 2.000 genes (40% do genoma original) ao adaptar-se como parasita intracelular obrigatrio.","Clostridiaceae inclui C. botulinum, produtor da toxina botulnica tipo A  usada em medicina esttica (Botox) e no tratamento de espasticidade muscular, enxaqueca crnica e hiperhidrose.","Rhizobiaceae inclui Agrobacterium tumefaciens, que injeta DNA em plantas para causar tumores  e foi domesticado como ferramenta de transformao gentica de plantas, base de toda a transgenia vegetal.","Pseudomonadaceae inclui P. putida, com versatilidade metablica excepcional: degrada tolueno, benzeno, naftaleno e xileno  candidata  biorremediao de solos contaminados com petrleo.","Lactobacillaceae inclui L. acidophilus, presente em iogurtes e suplementos probiticos  cujos benefcios  microbiota intestinal tm sido confirmados em centenas de ensaios clnicos controlados.","Spirochaetaceae inclui Treponema pallidum, causador da sfilis  que no pode ser cultivado em laboratrio fora de clulas hospedeiras vivas, tornando seu estudo especialmente desafiador."],4:["Laminariaceae inclui Laminaria e Saccharina, as kelps mais cultivadas do mundo  o Japo produz mais de 500.000 toneladas anuais de Saccharina japonica para alimentao e extrao de alginato.","Phytophthoraceae inclui Phytophthora ramorum, causador do 'sudden oak death'  epidemia florestal que matou milhes de carvalhos na Califrnia e Oregon desde os anos 1990.","Sargassaceae inclui Sargassum muticum, alga invasora que colonizou costas europeias chegando acidentalmente com ostras cultivadas  modificando ecossistemas costeiros no Atlntico europeu.","Naviculaceae inclui Navicula, com mais de 1.800 espcies validadas  to morfologicamente diversas que sua identificao precisa requer microscopia eletrnica e, cada vez mais, anlise de DNA.","Coscinodiscaceae inclui Coscinodiscus, diatomceas com frstulas ornamentadas usadas como padres de calibrao em microscopia ptica e eletrnica desde o sculo XIX.","Noctilucaceae inclui Noctiluca scintillans, que causa a bioluminescncia azul de ondas do oceano  e quando prolifera em excesso, cria mars que matam peixes em massa por produo de amnio.","Pythiaceae inclui Pythium, causador de 'damping-off'  doena de mudas que pode eliminar 100% das plntulas em viveiros, representando perdas de bilhes de dlares anuais na agricultura.","Bacillariaceae inclui Pseudo-nitzschia, que produz cido domoico  toxina que causa Amnesic Shellfish Poisoning, capaz de provocar amnsia permanente e morte em mamferos marinhos."],5:["Amanitaceae inclui os cogumelos mais mortais do mundo: Amanita phalloides (chapu-da-morte) contm alfa-amanitina, que inibe a RNA polimerase II e destri o fgado irreversivelmente, sem antdoto.","Tricholomataceae (s.l.) inclui Flammulina velutipes (enoki), o segundo cogumelo mais cultivado do mundo  com produo anual superior a 2 milhes de toneladas, principalmente na sia Oriental.","Boletaceae inclui Boletus edulis (porcini/cep), o cogumelo silvestre mais comercializado do mundo  com mercado global de centenas de milhes de euros anuais e impossvel de cultivar artificialmente.","Morchellaceae inclui Morchella (morel)  cogumelos primaveris de alto valor gastronmico que florescem especialmente em solos perturbados por incndios florestais recentes.","Ganodermataceae inclui Ganoderma lucidum (reishi/lingzhi), um dos fungos medicinais mais pesquisados: contm triterpenoides e beta-glucanos com atividade imunomoduladora confirmada em estudos clnicos.","Pleurotaceae inclui Pleurotus ostreatus (shimeji/ostra), o terceiro cogumelo mais cultivado globalmente  capaz de degradar madeira, plstico, cigarros e resduos de caf como substrato de cultivo.","Clavicipitaceae inclui Claviceps purpurea, o ergot do centeio  responsvel por epidemias de ergotismo medieval (Fogo de Santo Antnio), causando alucinaes e gangrena coletivas; precursor do LSD.","Tuberaceae inclui Tuber magnatum (trufa branca de Alba)  o fungo mais caro do mundo, com preos de at 10.000/kg, colhido apenas no outono no norte da Itlia e impossvel de cultivar."],6:["Poaceae (gramneas)  a famlia mais importante para a civilizao humana: trigo, arroz, milho, cana-de-acar, sorgo, aveia e cevada so gramneas  base calrica de 8 bilhes de pessoas.","Orchidaceae  a maior famlia de angiospermas com ~28.000 espcies, e 70% so epfitas com sementes to pequenas (0,3 mm) que dependem de fungos micorrzicos para germinar.","Fabaceae (leguminosas) em simbiose com Rhizobium fixa ~100 kg de N/hectare/ano  reduzindo a necessidade de fertilizantes nitrogenados sintticos em plantaes de soja e feijo.","Asteraceae  a segunda maior famlia com ~25.000 espcies: girassol, margarida, crisntemo, camomila e dente-de-leo tm todos a mesma 'flor' composta de centenas de flores minsculas em captulo.","Rosaceae inclui mais de 100 espcies frutferas cultivadas comercialmente: ma, pra, cereja, pssego, ameixa, morango, damasco e framboesa  com valor agrcola global de dezenas de bilhes anuais.","Solanaceae inclui tomate, batata, pimento, berinjela, tabaco e pimenta  e tambm a belladona (Atropa belladonna), fonte do alcaloide atropina, essencial em anestesiologia e oftalmologia.","Lamiaceae inclui as plantas aromticas mais usadas na culinria e medicina: hortel, tomilho, alecrim, slvia, lavanda, manjerico e organo  todas com leos essenciais de terpenos bioativos.","Apiaceae inclui cenoura, aipo, salsa, coentro e endro  e tambm a cicuta (Conium maculatum), a planta que matou Scrates, cujo alcaloide (conina) paralisa progressivamente o sistema nervoso."],7:["Plasmodiidae inclui todos os parasitas da malria: os 5 que infectam humanos (P. falciparum, P. vivax, P. malariae, P. ovale, P. knowlesi) causam mais de 600.000 mortes anuais.","Trypanosomatidae inclui os trs parasitas das doenas tropicais negligenciadas mais prevalentes: T. brucei, T. cruzi e Leishmania  afetando mais de 20 milhes de pessoas globalmente.","Paramecidae inclui Paramecium caudatum e P. aurelia  usados nos experimentos clssicos de competio que estabeleceram o 'princpio de excluso competitiva' de Gause (1934).","Amoebidae inclui Amoeba proteus, cujo movimento por pseudpodes revelou os mecanismos de polimerizao de actina que compem a base molecular da motilidade celular eucaritica.","Vorticellidae inclui Vorticella, um ciliado sssil com pednculo que se contrai em milissegundos  uma das contraes celulares mais rpidas da natureza, baseada em espasmonemas de clcio.","Acanthamoebidae inclui Acanthamoeba castellanii, capaz de causar encefalite em imunossuprimidos e ceratite em usurios de lente de contato  e  portadora natural do Mimivirus.","Radiolaridae inclui protozorios cujos esqueletos silicosos com simetria perfeita inspiraram Ernst Haeckel na obra 'Art Forms of Nature' (1904), que influenciou o movimento Art Nouveau.","Arcellidae inclui Arcella vulgaris, tecameba cuja carapaa circular geometricamente perfeita serviu de modelo para estudos de morfognese e auto-organizao celular por D'Arcy Thompson."]},GENUS:{1:["Homo j teve ao menos 68 espcies simultneas  Homo sapiens conviveu com neandertais, denisovanos e possivelmente H. floresiensis at menos de 50.000 anos atrs.","Panthera inclui os nicos felinos capazes de rugir  leo, tigre, leopardo e jaguar  graas a um osso hioide parcialmente cartilaginoso que vibra na expirao.","Canis inclui lobos, coiotes, dingos e todos os ces domsticos  e a domesticao do lobo foi o primeiro ato de manejo animal da histria humana, h pelo menos 15.000 anos.","Crocodylus inclui rpteis praticamente inalterados em 200 Ma  possuem o corao mais sofisticado entre rpteis (4 cmaras) e guardam ninhos, carregando filhotes delicadamente na boca.","Apis (abelhas melferas)  fundamental para a polinizao de 75% das espcies vegetais usadas na alimentao humana  e seu declnio nos ltimos anos gera alertas sobre segurana alimentar global.","Turritopsis dohrnii  o nico animal conhecido capaz de reverter biologicamente para o estgio juvenil aps atingir a maturidade sexual  tornando-o potencialmente imortal em condies ideais.","Octopus tem trs coraes, sangue azul, neurnios distribudos nos tentculos (2/3 do total) e  capaz de abrir potes, resolver labirintos e usar conchas como ferramentas de proteo.","Periplaneta americana existe h mais de 300 Ma praticamente inalterada  sobrevive sem cabea por semanas, suporta 900 a dose letal de radiao para humanos e resiste  maioria dos inseticidas."],2:["Methanobacterium foi o primeiro gnero metanognico isolado em cultura pura (1936), e seu RNA ribossomal foi usado por Carl Woese para revelar que Archaea  um domnio separado da vida.","Sulfolobus cresce a 7580C em pH 23, oxidando enxofre e ferro  e foi a primeira archaea usada para estudar reparo de DNA em condies extremas, revelando homologias com eucariontes.","Halobacterium produz bacteriorodopsina, uma bomba de prtons acionada por luz  to estvel que  estudada em biotecnologia como base para memrias pticas e baterias biolgicas.","Pyrococcus furiosus  a fonte da DNA polimerase Pfu  usada em PCR de alta fidelidade em diagnsticos clnicos e clonagem de genes teraputicos, onde mutaes so absolutamente inaceitveis.","Nanoarchaeum equitans tem o menor genoma celular funcional (~490 kb)  sem genes para sntese de aminocidos, lipdios ou nucleotdeos, que rouba diretamente do hospedeiro Ignicoccus hospitalis.","Methanosarcina acetivorans tem o maior genoma entre metanognicos sequenciados (~5,7 Mb) e o repertrio metablico mais verstil: usa CO, metanol, metilaminas ou acetato para produzir metano.","Thermococcus inclui mais de 30 espcies hipertermfilas e produz DNA polimerases termoestveis, protenas de resistncia a presso e enzimas de interesse para biocatlise industrial.","Candidatus Lokiarchaeum  o gnero de archaea mais prximo evolutivamente dos eucariontes, com genes de actina e ESCRT  sugerindo que a origem das clulas eucariticas envolveu uma fuso com Archaea."],3:["Escherichia tem E. coli como organismo-modelo mais estudado da histria  com mais de 500.000 publicaes  e desde 1982 sintetiza insulina humana quando modificada geneticamente.","Streptomyces produz mais de 60% dos antibiticos naturais em uso clnico: estreptomicina, tetraciclina, eritromicina, vancomicina e cloranfenicol vieram todos deste gnero do solo.","Prochlorococcus  a bactria fotossinttica mais abundante do oceano  com apenas 0,6 m de dimetro,  provavelmente o organismo fotossinttico mais numeroso da Terra.","Mycobacterium inclui tanto M. tuberculosis (tuberculose) quanto M. leprae (hansenase)  doenas que acompanham a humanidade h milnios e juntas ainda somam mais de 2 milhes de mortes anuais.","Lactobacillus  o gnero bacteriano mais usado em alimentos fermentados e probiticos  e seu estudo por Metchnikoff no incio do sculo XX fundou o campo da imunologia intestinal.","Rhizobium estabelece simbiose com leguminosas to especfica que cepas de R. japonicum nodulam somente soja  e a seleo de cepas eficientes substituiu toneladas de fertilizantes nitrogenados sintticos.","Vibrio inclui V. cholerae, causador do clera no sculo XIX, e V. fischeri, que vive em simbiose bioluminescente com lulas  produzindo luz como sinal de qurum-sensing.","Bacillus anthracis produz o nico esporo bacteriano classificado como agente de bioterrorismo  enquanto B. thuringiensis produz cristais proteicos inseticidas usados em bioinseticidas seguros para mamferos."],4:["Phytophthora ('destruidora de plantas') tem ~150 espcies, a maioria patgenas devastadoras: P. cinnamomi ameaa ecossistemas de jarrah (Austrlia) e P. sojae destri bilhes em soja anualmente.","Emiliania huxleyi  o cocolito mais estudado do mundo  seus blooms ocenicos sequestram carbono e emitem DMS, influenciando a formao de nuvens e o ciclo climtico global.","Thalassiosira  a diatomcea mais estudada em oceanografia: T. weissflogii e T. pseudonana so os modelos de laboratrio para estudar o ciclo do silcio e a produo primria ocenica.","Macrocystis pyrifera (kelp gigante) cresce at 60 cm por dia em condies ideais  e suas florestas submarinas sequestram carbono 20 mais rpido que florestas terrestres tropicais.","Sargassum forma o nico habitat pelgico baseado em macroalgas do planeta  o Mar de Sargasso  e desde 2011 prolifera em massas que cobrem praias do Caribe e do Brasil.","Noctiluca scintillans  a maior dinoflagelada unicelular (13 mm) e causa bioluminescncia azul em ondas do mar  mas em proliferao excessiva libera amnio suficiente para matar peixes.","Pseudo-nitzschia produz cido domoico acumulado em mexilhes e peixes  causando convulses, amnsia e morte em mamferos marinhos, classificada como Amnesic Shellfish Poisoning.","Blastocystis  o protista intestinal mais comum em humanos: encontrado em 1060% da populao global dependendo da regio, com patogenicidade ainda debatida pela comunidade cientfica."],5:["Penicillium chrysogenum produz a penicilina descoberta acidentalmente por Alexander Fleming em 1928  o antibitico que transformou a medicina e salvou centenas de milhes de vidas.","Amanita inclui os fungos mais mortais (A. phalloides, A. ocreata) e um dos mais alucingenos (A. muscaria, com muscimol e cido ibotnico)  um dos gneros mais diversos em toxinas.","Aspergillus inclui A. oryzae (fermenta sake, miso e molho de soja), A. niger (produz cido ctrico industrial) e A. fumigatus (causa aspergilose, matando ~180.000 imunossuprimidos por ano).","Saccharomyces cerevisiae foi domesticada h ~9.000 anos  e seu genoma (1996) foi o primeiro de um eucarioto completamente sequenciado, com 6.275 genes identificados.","Trametes versicolor (rabo-de-peru) tem extrato PSK (krestin) aprovado no Japo como adjuvante de quimioterapia  o medicamento oncolgico biolgico mais vendido naquele pas.","Tuber (trufas) forma micorrizas com carvalhos e aveleiras  e produz compostos volteis especficos (androstenol, androstenona) que atraem javalis e ces treinados para escavao.","Ophiocordyceps inclui o fungo zumbi (O. unilateralis) que infecta formigas, controla seu comportamento com preciso espacial e temporal e esporula na posio ideal  co-evoludo por milhes de anos.","Trichoderma  o gnero fngico mais usado em agricultura biolgica: como fungicida natural, promotor de crescimento e agente de biocontrole contra Fusarium, Botrytis e Rhizoctonia."],6:["Arabidopsis thaliana  a Drosophila das plantas: com apenas 5 pares de cromossomos e 125 Mb de DNA, foi a primeira planta com o genoma completamente sequenciado (2000) e permanece o modelo-padro.","Oryza sativa (arroz) alimenta mais da metade da humanidade como principal fonte calrica  e seu genoma de 430 Mb (2002) revelou a base gentica de adaptao a solos e climas distintos.","Pinus inclui as rvores mais antigas do mundo: Pinus longaeva 'Methuselah' tem 4.855 anos  e suas resinas formaram o mbar que preservou organismos do Cretceo com detalhe microscpico.","Quercus (carvalhos) sustenta a maior biodiversidade de invertebrados entre as rvores temperadas  um nico carvalho maduro pode hospedar mais de 500 espcies de insetos.","Solanum inclui tomate (S. lycopersicum), batata (S. tuberosum) e berinjela  e tambm a mandrgora e a belladona (S. nigrum), com alcaloides txicos e longo histrico medicinal.","Eucalyptus tem ~700 espcies quase todas endmicas da Austrlia,  o segundo gnero arbreo mais plantado no mundo e causa polmica por seu consumo hdrico e impacto em biodiversidades locais.","Welwitschia mirabilis  o nico representante de seu gnero  com dois cotildones que crescem por mais de 1.000 anos, esta planta do deserto namibiano  um fssil vivente sem paralelo.","Coffea inclui C. arabica e C. canephora  as plantas cujos gros, aps fermentao e torrefao, produzem o caf: a bebida mais consumida no mundo depois da gua, com 2,5 bilhes de xcaras dirias."],7:["Plasmodium tem ~250 espcies que infectam aves, rpteis e mamferos  apenas 5 atacam humanos, mas P. falciparum  responsvel por ~600.000 mortes anuais, mais do que qualquer outro eucarioto parasita.","Trypanosoma brucei troca sua glicoprotena de superfcie mais de 100 vezes para escapar do sistema imune  estratgia baseada em um repertrio de ~1.000 genes VSG, a mais sofisticada evaso imune conhecida.","Paramecium  o ciliado mais estudado do mundo por mais de 200 anos  e foi nele que foram descobertos os epigramas, desafiando o dogma central da gentica ao mostrar herana citoplasmtica.","Giardia lamblia infecta ~280 milhes de pessoas por ano  com dois ncleos, simetria bilateral e sem mitocndrias tpicas (apenas mitossomas vestigiais),  um eucarioto profundamente reduzido.","Leishmania  transmitida por flebotomneos e pode causar desde leses cutneas  destruio de vsceras  e L. donovani mata mais de 20.000 pessoas anuais por calazar, sem vacina aprovada.","Toxoplasma gondii completa seu ciclo sexual apenas em felinos, mas infecta quase todos os mamferos como hospedeiro intermedirio  e modifica o comportamento de ratos para reduzir o medo de gatos.","Acanthamoeba causa ceratite ocular grave em usurios de lente de contato  e  portadora natural do Mimivirus, o maior vrus conhecido, descoberto acidentalmente ao confundi-la com uma bactria.","Dictyostelium discoideum  modelo nico de evoluo multicelular: clulas individuais se agregam, diferenciam-se e formam um corpo de frutificao com caule e esporos quando privadas de alimento."]}},$g={},OK=Symbol(($g?"production":void 0)!=="production"?"RESET":"");let Y1=!1;function MK(e,t){($g?"production":void 0)!=="production"&&!Y1&&(console.warn("[DEPRECATED] atomFamily is deprecated and will be removed in v3. Please use the `jotai-family` package instead: https://github.com/jotaijs/jotai-family"),Y1=!0);let n=null;const i=new Map,s=new Set,o=c=>{let d;if(d=i.get(c),d!==void 0)if(n?.(d[1],c))o.remove(c);else return d[0];const h=e(c);return i.set(c,[h,Date.now()]),l("CREATE",c,h),h},l=(c,d,h)=>{for(const m of s)m({type:c,param:d,atom:h})};return o.unstable_listen=c=>(s.add(c),()=>{s.delete(c)}),o.getParams=()=>i.keys(),o.remove=c=>{{if(!i.has(c))return;const[d]=i.get(c);i.delete(c),l("REMOVE",c,d)}},o.setShouldRemove=c=>{if(n=c,!!n)for(const[d,[h,m]]of i)n(m,d)&&(i.delete(d),l("REMOVE",d,h))},o}const eM=e=>typeof e?.then=="function";function DK(e=()=>{try{return window.localStorage}catch(n){($g?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(n);return}},t){var n;let i,s;const o={getItem:(d,h)=>{var m,v;const b=C=>{if(C=C||"",i!==C){try{s=JSON.parse(C,t?.reviver)}catch{return h}i=C}return s},_=(v=(m=e())==null?void 0:m.getItem(d))!=null?v:null;return eM(_)?_.then(b):b(_)},setItem:(d,h)=>{var m;return(m=e())==null?void 0:m.setItem(d,JSON.stringify(h,void 0))},removeItem:d=>{var h;return(h=e())==null?void 0:h.removeItem(d)}},l=d=>(h,m,v)=>d(h,b=>{let _;try{_=JSON.parse(b||"")}catch{_=v}m(_)});let c;try{c=(n=e())==null?void 0:n.subscribe}catch{}return!c&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(c=(d,h)=>{if(!(e()instanceof window.Storage))return()=>{};const m=v=>{v.storageArea===e()&&v.key===d&&h(v.newValue)};return window.addEventListener("storage",m),()=>{window.removeEventListener("storage",m)}}),c&&(o.subscribe=l(c)),o}const LK=DK();function jK(e,t,n=LK,i){const s=dt(t);return($g?"production":void 0)!=="production"&&(s.debugPrivate=!0),s.onMount=l=>{l(n.getItem(e,t));let c;return n.subscribe&&(c=n.subscribe(e,l,t)),c},dt(l=>l(s),(l,c,d)=>{const h=typeof d=="function"?d(l(s)):d;return h===OK?(c(s,t),n.removeItem(e)):eM(h)?h.then(m=>(c(s,m),n.setItem(e,m))):(c(s,h),n.setItem(e,h))})}const IK=dt({mode:null,status:"NOT_STARTED"}),zK=dt(PK),BK=dt({isShaking:!1,shakeDirection:!0}),Yl=dt({}),UK=dt([]),wu=dt([]),tM=dt(null),nM=dt(null,(e,t,n)=>{t(tM,n)}),FK=dt(null,(e,t,n)=>{t(Yl,i=>{const s={...i};return n.forEach(o=>{s[o.key]={...s[o.key],...o}}),s})}),VK=dt(null,(e,t,n)=>{t(wu,n)}),iM=MK(e=>dt(t=>t(Yl)[e],(t,n,i)=>{n(Yl,s=>{const o=s[e],l=typeof i=="function"?i(o):{...o,...i};return{...s,[e]:l}})})),sM=dt(null,(e,t,n)=>{const{key:i,children:s}=n;t(Yl,o=>{const l={...o};return s.forEach(c=>{l[c.key]={...l[c.key]??{},...c,parentKey:i}}),l[i]={...l[i]??{},childrenKeys:s.map(c=>c.key)},l})});dt(null,(e,t,n)=>{const i=e(Yl),s=i[n];if(!s)return;const o=e(wu),l=o.findIndex(m=>m.key===n);if(l!==-1){t(wu,o.slice(0,l));return}const c=[];let d=s;for(;d;)c.unshift(d),d=d.parentKey?i[d.parentKey]:void 0;const h=c.map(m=>({key:m.key,rank:m.rank,name:m.rank==="KINGDOM"?Di(Nu[m.key]):m.canonicalName||m.scientificName||""}));t(wu,h)});let Qd=new Set;const $K=dt(null,(e,t)=>{const n=e(wu),i=new Set(n.filter(l=>l.rank!=="SPECIES").map(l=>l.key));if(i.size===Qd.size&&[...i].every(l=>Qd.has(l)))return;const s=[...Qd].filter(l=>!i.has(l)),o=[...i].filter(l=>!Qd.has(l));Qd=i,t(Yl,l=>{if(s.length===0&&o.length===0)return l;const c={...l};for(const d of s)c[d]&&(c[d]={...c[d],expanded:!1});for(const d of o){const h=n.find(m=>m.key===d);c[d]?c[d]={...c[d],expanded:!0}:h&&(c[d]={...h,numDescendants:0,expanded:!0})}return c})}),rM=dt(!1),HK=dt(null,(e,t,n)=>{t(rM,n)}),qK=dt(null);dt(null,(e,t,n)=>{t(qK,n)});const oM=dt(null),GK=dt(null,(e,t,n)=>{t(oM,n)}),F_=dt(new Set),KK=dt(null,(e,t,n)=>{t(F_,new Set(n))}),WK=dt(null,(e,t,n)=>{t(F_,i=>{const s=new Set(i);return s.delete(n),s})}),aM=dt(null),YK=dt(null,(e,t,n)=>{t(aM,n)});dt({});const za=dt(null),Qe={challenge:IK,exploreInfos:zK,animate:BK,expandedNodes:wu,highlightedKeys:F_,scrollToRank:oM,scrollToNodeKey:aM,shortcutScrollTarget:tM,nodes:Yl,rootKeys:UK,mergeNodes:FK,challengeTipsOpen:rM},lM=dt(null),cM=dt(null),uM=dt("idle"),dM=dt("idle"),fM=dt(!1),ZK=dt(null),XK=dt(e=>{const t=e(lM),n=e(cM);return e(fM)&&!!t?.user&&!!n});dt(e=>e(uM)==="loading"||e(dM)==="loading");const QK=dt(null);dt(!1);const st={session:lM,userDb:cM,loginStatus:uM,logoutStatus:dM,error:ZK,initialized:fM,isAuthenticated:XK,lastAuthCheck:QK},JK=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class V_ extends Error{constructor(t,n="FunctionsError",i){super(t),this.name=n,this.context=i}}class e9 extends V_{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Z1 extends V_{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class X1 extends V_{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var H0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(H0||(H0={}));class t9{constructor(t,{headers:n={},customFetch:i,region:s=H0.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=JK(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return GF(this,arguments,void 0,function*(n,i={}){var s;let o,l;try{const{headers:c,method:d,body:h,signal:m,timeout:v}=i;let b={},{region:_}=i;_||(_=this.region);const C=new URL(`${this.url}/${n}`);_&&_!=="any"&&(b["x-region"]=_,C.searchParams.set("forceFunctionRegion",_));let E;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",E=h):typeof h=="string"?(b["Content-Type"]="text/plain",E=h):typeof FormData<"u"&&h instanceof FormData?E=h:(b["Content-Type"]="application/json",E=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?E=JSON.stringify(h):E=h;let T=m;v&&(l=new AbortController,o=setTimeout(()=>l.abort(),v),m?(T=l.signal,m.addEventListener("abort",()=>l.abort())):T=l.signal);const k=yield this.fetch(C.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),c),body:E,signal:T}).catch(j=>{throw new e9(j)}),N=k.headers.get("x-relay-error");if(N&&N==="true")throw new Z1(k);if(!k.ok)throw new X1(k);let P=((s=k.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),O;return P==="application/json"?O=yield k.json():P==="application/octet-stream"||P==="application/pdf"?O=yield k.blob():P==="text/event-stream"?O=k:P==="multipart/form-data"?O=yield k.formData():O=yield k.text(),{data:O,error:null,response:k}}catch(c){return{data:null,error:c,response:c instanceof X1||c instanceof Z1?c.context:void 0}}finally{o&&clearTimeout(o)}})}}var n9=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},i9=class{constructor(e){var t,n,i;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(i=e.urlLengthLimit)!==null&&i!==void 0?i:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let s=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let l=null,c=null,d=null,h=o.status,m=o.statusText;if(o.ok){var v,b;if(n.method!=="HEAD"){var _;const k=await o.text();k===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((_=n.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?c=k:c=JSON.parse(k))}const E=(v=n.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),T=(b=o.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");E&&T&&T.length>1&&(d=parseInt(T[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(c)&&(c.length>1?(l={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,h=406,m="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var C;const E=await o.text();try{l=JSON.parse(E),Array.isArray(l)&&o.status===404&&(c=[],l=null,h=200,m="OK")}catch{o.status===404&&E===""?(h=204,m="No Content"):l={message:E}}if(l&&n.isMaybeSingle&&(!(l==null||(C=l.details)===null||C===void 0)&&C.includes("0 rows"))&&(l=null,h=200,m="OK"),l&&n.shouldThrowOnError)throw new n9(l)}return{error:l,data:c,count:d,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(o=>{var l;let c="",d="",h="";const m=o?.cause;if(m){var v,b,_,C;const k=(v=m?.message)!==null&&v!==void 0?v:"",N=(b=m?.code)!==null&&b!==void 0?b:"";c=`${(_=o?.name)!==null&&_!==void 0?_:"FetchError"}: ${o?.message}`,c+=`

Caused by: ${(C=m?.name)!==null&&C!==void 0?C:"Error"}: ${k}`,N&&(c+=` (${N})`),m?.stack&&(c+=`
${m.stack}`)}else{var E;c=(E=o?.stack)!==null&&E!==void 0?E:""}const T=this.url.toString().length;return o?.name==="AbortError"||o?.code==="ABORT_ERR"?(h="",d="Request was aborted (timeout or manual cancellation)",T>this.urlLengthLimit&&(d+=`. Note: Your request URL is ${T} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(m?.name==="HeadersOverflowError"||m?.code==="UND_ERR_HEADERS_OVERFLOW")&&(h="",d="HTTP headers exceeded server limits (typically 16KB)",T>this.urlLengthLimit&&(d+=`. Your request URL is ${T} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(l=o?.name)!==null&&l!==void 0?l:"FetchError"}: ${o?.message}`,details:c,hint:d,code:h},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},s9=class extends i9{select(e){let t=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,t?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Q1=new RegExp("[,()]");var au=class extends s9{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(i=>typeof i=="string"&&Q1.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(i=>typeof i=="string"&&Q1.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},r9=class{constructor(e,{headers:t={},schema:n,fetch:i,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=i,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:i}=t??{},s=n?"HEAD":"GET";let o=!1;const l=(e??"*").split("").map(h=>/\s/.test(h)&&!o?"":(h==='"'&&(o=!o),h)).join(""),{url:c,headers:d}=this.cloneRequestState();return c.searchParams.set("select",l),i&&d.append("Prefer",`count=${i}`),new au({method:s,url:c,headers:d,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var i;const s="POST",{url:o,headers:l}=this.cloneRequestState();if(t&&l.append("Prefer",`count=${t}`),n||l.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(c.length>0){const d=[...new Set(c)].map(h=>`"${h}"`);o.searchParams.set("columns",d.join(","))}}return new au({method:s,url:o,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){var o;const l="POST",{url:c,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&c.searchParams.set("on_conflict",t),i&&d.append("Prefer",`count=${i}`),s||d.append("Prefer","missing=default"),Array.isArray(e)){const h=e.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(h.length>0){const m=[...new Set(h)].map(v=>`"${v}"`);c.searchParams.set("columns",m.join(","))}}return new au({method:l,url:c,headers:d,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const i="PATCH",{url:s,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new au({method:i,url:s,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:i,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new au({method:n,url:i,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Rf(e){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(e)}function o9(e,t){if(Rf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Rf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a9(e){var t=o9(e,"string");return Rf(t)=="symbol"?t:t+""}function l9(e,t,n){return(t=a9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Qm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J1(Object(n),!0).forEach(function(i){l9(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J1(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}var c9=class hM{constructor(t,{headers:n={},schema:i,fetch:s,timeout:o,urlLengthLimit:l=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=i,this.urlLengthLimit=l;const c=s??globalThis.fetch;o!==void 0&&o>0?this.fetch=(d,h)=>{const m=new AbortController,v=setTimeout(()=>m.abort(),o),b=h?.signal;if(b){if(b.aborted)return clearTimeout(v),c(d,h);const _=()=>{clearTimeout(v),m.abort()};return b.addEventListener("abort",_,{once:!0}),c(d,Qm(Qm({},h),{},{signal:m.signal})).finally(()=>{clearTimeout(v),b.removeEventListener("abort",_)})}return c(d,Qm(Qm({},h),{},{signal:m.signal})).finally(()=>clearTimeout(v))}:this.fetch=c}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new r9(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new hM(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:i=!1,get:s=!1,count:o}={}){var l;let c;const d=new URL(`${this.url}/rpc/${t}`);let h;const m=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(m)),v=i&&Object.values(n).some(m);v?(c="POST",h=n):i||s?(c=i?"HEAD":"GET",Object.entries(n).filter(([_,C])=>C!==void 0).map(([_,C])=>[_,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([_,C])=>{d.searchParams.append(_,C)})):(c="POST",h=n);const b=new Headers(this.headers);return v?b.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&b.set("Prefer",`count=${o}`),new au({method:c,url:d,headers:b,schema:this.schemaName,body:h,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}};class u9{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const i=n.versions;if(i&&i.node){const s=i.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const i=this.getWebSocketConstructor();return new i(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const d9="2.97.0",f9=`realtime-js/${d9}`,h9="1.0.0",mM="2.0.0",eT=mM,q0=1e4,m9=1e3,p9=100;var Ea;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ea||(Ea={}));var Un;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Un||(Un={}));var mr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(mr||(mr={}));var G0;(function(e){e.websocket="websocket"})(G0||(G0={}));var Ll;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ll||(Ll={}));class g9{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let i=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,i;const s=(i=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,i;const s=(i=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:{},l=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,n,i){var s,o;const l=t.topic,c=(s=t.ref)!==null&&s!==void 0?s:"",d=(o=t.join_ref)!==null&&o!==void 0?o:"",h=t.payload.event,m=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},v=Object.keys(m).length===0?"":JSON.stringify(m);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+c.length+l.length+h.length+v.length,_=new ArrayBuffer(this.HEADER_LENGTH+b);let C=new DataView(_),E=0;C.setUint8(E++,this.KINDS.userBroadcastPush),C.setUint8(E++,d.length),C.setUint8(E++,c.length),C.setUint8(E++,l.length),C.setUint8(E++,h.length),C.setUint8(E++,v.length),C.setUint8(E++,n),Array.from(d,k=>C.setUint8(E++,k.charCodeAt(0))),Array.from(c,k=>C.setUint8(E++,k.charCodeAt(0))),Array.from(l,k=>C.setUint8(E++,k.charCodeAt(0))),Array.from(h,k=>C.setUint8(E++,k.charCodeAt(0))),Array.from(v,k=>C.setUint8(E++,k.charCodeAt(0)));var T=new Uint8Array(_.byteLength+i.byteLength);return T.set(new Uint8Array(_),0),T.set(new Uint8Array(i),_.byteLength),T.buffer}decode(t,n){if(this._isArrayBuffer(t)){let i=this._binaryDecode(t);return n(i)}if(typeof t=="string"){const i=JSON.parse(t),[s,o,l,c,d]=i;return n({join_ref:s,ref:o,topic:l,event:c,payload:d})}return n({})}_binaryDecode(t){const n=new DataView(t),i=n.getUint8(0),s=new TextDecoder;if(i===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,n,s)}_decodeUserBroadcast(t,n,i){const s=n.getUint8(1),o=n.getUint8(2),l=n.getUint8(3),c=n.getUint8(4);let d=this.HEADER_LENGTH+4;const h=i.decode(t.slice(d,d+s));d=d+s;const m=i.decode(t.slice(d,d+o));d=d+o;const v=i.decode(t.slice(d,d+l));d=d+l;const b=t.slice(d,t.byteLength),_=c===this.JSON_ENCODING?JSON.parse(i.decode(b)):b,C={type:this.BROADCAST_EVENT,event:m,payload:_};return l>0&&(C.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([i])=>n.includes(i)))}}let pM=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Xt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Xt||(Xt={}));const tT=(e,t,n={})=>{var i;const s=(i=n.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((o,l)=>(o[l]=v9(l,e,t,s),o),{}):{}},v9=(e,t,n,i)=>{const s=t.find(c=>c.name===e),o=s?.type,l=n[e];return o&&!i.includes(o)?gM(o,l):K0(l)},gM=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return _9(t,n)}switch(e){case Xt.bool:return y9(t);case Xt.float4:case Xt.float8:case Xt.int2:case Xt.int4:case Xt.int8:case Xt.numeric:case Xt.oid:return b9(t);case Xt.json:case Xt.jsonb:return x9(t);case Xt.timestamp:return w9(t);case Xt.abstime:case Xt.date:case Xt.daterange:case Xt.int4range:case Xt.int8range:case Xt.money:case Xt.reltime:case Xt.text:case Xt.time:case Xt.timestamptz:case Xt.timetz:case Xt.tsrange:case Xt.tstzrange:return K0(t);default:return K0(t)}},K0=e=>e,y9=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},b9=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},x9=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},_9=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,i=e[n];if(e[0]==="{"&&i==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(c=>gM(t,c))}return e},w9=e=>typeof e=="string"?e.replace(" ","T"):e,vM=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Fb{constructor(t,n,i={},s=q0){this.channel=t,this.event=n,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var i;return this._hasReceived(t)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var nT;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(nT||(nT={}));class ff{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ff.syncState(this.state,s,o,l),this.pendingDiffs.forEach(d=>{this.state=ff.syncDiff(this.state,d,o,l)}),this.pendingDiffs=[],c()}),this.channel._on(i.diff,{},s=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ff.syncDiff(this.state,s,o,l),c())}),this.onJoin((s,o,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:l})}),this.onLeave((s,o,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,i,s){const o=this.cloneDeep(t),l=this.transformState(n),c={},d={};return this.map(o,(h,m)=>{l[h]||(d[h]=m)}),this.map(l,(h,m)=>{const v=o[h];if(v){const b=m.map(T=>T.presence_ref),_=v.map(T=>T.presence_ref),C=m.filter(T=>_.indexOf(T.presence_ref)<0),E=v.filter(T=>b.indexOf(T.presence_ref)<0);C.length>0&&(c[h]=C),E.length>0&&(d[h]=E)}else c[h]=m}),this.syncDiff(o,{joins:c,leaves:d},i,s)}static syncDiff(t,n,i,s){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(o,(c,d)=>{var h;const m=(h=t[c])!==null&&h!==void 0?h:[];if(t[c]=this.cloneDeep(d),m.length>0){const v=t[c].map(_=>_.presence_ref),b=m.filter(_=>v.indexOf(_.presence_ref)<0);t[c].unshift(...b)}i(c,m,d)}),this.map(l,(c,d)=>{let h=t[c];if(!h)return;const m=d.map(v=>v.presence_ref);h=h.filter(v=>m.indexOf(v.presence_ref)<0),t[c]=h,s(c,h,d),h.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(i=>n(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,i)=>{const s=t[i];return"metas"in s?n[i]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[i]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var iT;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(iT||(iT={}));var hf;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(hf||(hf={}));var Ro;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ro||(Ro={}));class du{constructor(t,n={config:{}},i){var s,o;if(this.topic=t,this.params=n,this.socket=i,this.bindings={},this.state=Un.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Fb(this,mr.join,this.params,this.timeout),this.rejoinTimer=new pM(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Un.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Un.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this._on(mr.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new ff(this),this.broadcastEndpointURL=vM(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var i,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Un.closed){const{config:{broadcast:l,presence:c,private:d}}=this.params,h=(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&s!==void 0?s:[],m=!!this.bindings[hf.PRESENCE]&&this.bindings[hf.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,v={},b={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(_=>t?.(Ro.CHANNEL_ERROR,_)),this._onClose(()=>t?.(Ro.CLOSED)),this.updateJoinPayload(Object.assign({config:b},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){t?.(Ro.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,T=(C=E?.length)!==null&&C!==void 0?C:0,k=[];for(let N=0;N<T;N++){const P=E[N],{filter:{event:O,schema:j,table:U,filter:z}}=P,I=_&&_[N];if(I&&I.event===O&&du.isFilterValueEqual(I.schema,j)&&du.isFilterValueEqual(I.table,U)&&du.isFilterValueEqual(I.filter,z))k.push(Object.assign(Object.assign({},P),{id:I.id}));else{this.unsubscribe(),this.state=Un.errored,t?.(Ro.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,t&&t(Ro.SUBSCRIBED);return}}).receive("error",_=>{this.state=Un.errored,t?.(Ro.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t?.(Ro.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,i){return this.state===Un.joined&&t===hf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,i)}async httpSend(t,n,i={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const h=await c.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}async send(t,n={}){var i,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=t,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,c,d;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Un.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(mr.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(s=>{i=new Fb(this,mr.leave,{},t),i.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Un.closed,this.bindings={}}async _fetchWithTimeout(t,n,i){const s=new AbortController,o=setTimeout(()=>s.abort(),i),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),l}_push(t,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Fb(this,t,n,i);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>p9){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,i){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,i){var s,o;const l=t.toLocaleLowerCase(),{close:c,error:d,leave:h,join:m}=mr;if(i&&[c,d,h,m].indexOf(l)>=0&&i!==this._joinRef())return;let b=this._onMessage(l,n,i);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(_=>{var C,E,T;return((C=_.filter)===null||C===void 0?void 0:C.event)==="*"||((T=(E=_.filter)===null||E===void 0?void 0:E.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===l}).map(_=>_.callback(b,i)):(o=this.bindings[l])===null||o===void 0||o.filter(_=>{var C,E,T,k,N,P;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in _){const O=_.id,j=(C=_.filter)===null||C===void 0?void 0:C.event;return O&&((E=n.ids)===null||E===void 0?void 0:E.includes(O))&&(j==="*"||j?.toLocaleLowerCase()===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const O=(N=(k=_?.filter)===null||k===void 0?void 0:k.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return O==="*"||O===((P=n?.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===l}).map(_=>{if(typeof b=="object"&&"ids"in b){const C=b.data,{schema:E,table:T,commit_timestamp:k,type:N,errors:P}=C;b=Object.assign(Object.assign({},{schema:E,table:T,commit_timestamp:k,eventType:N,new:{},old:{},errors:P}),this._getPayloadRecords(C))}_.callback(b,i)})}_isClosed(){return this.state===Un.closed}_isJoined(){return this.state===Un.joined}_isJoining(){return this.state===Un.joining}_isLeaving(){return this.state===Un.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,i){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:i};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&du.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const i in t)if(t[i]!==n[i])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(mr.close,{},t)}_onError(t){this._on(mr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Un.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=tT(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=tT(t.columns,t.old_record)),n}}const Vb=()=>{},Jm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},S9=[1e3,2e3,5e3,1e4],C9=1e4,E9=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class A9{constructor(t,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=q0,this.transport=null,this.heartbeatIntervalMs=Jm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Vb,this.ref=0,this.reconnectTimer=null,this.vsn=eT,this.logger=Vb,this.conn=null,this.sendBuffer=[],this.serializer=new g9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((i=n?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${G0.websocket}`,this.httpEndpoint=vM(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=u9.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,i){this.logger(t,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Ea.connecting:return Ll.Connecting;case Ea.open:return Ll.Open;case Ea.closing:return Ll.Closing;default:return Ll.Closed}}isConnected(){return this.connectionState()===Ll.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const i=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===i);if(s)return s;{const o=new du(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:i,payload:s,ref:o}=t,l=()=>{this.encode(t,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${n} ${i} (${o})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(m9,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Jm.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",h)}catch(m){this.log("error","error in heartbeat callback",m)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:s,payload:o,ref:l}=n,c=l?`(${l})`:"",d=o.status||"";this.log("receive",`${d} ${i} ${s} ${c}`.trim(),o),this.channels.filter(h=>h._isMember(i)).forEach(h=>h._trigger(s,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Ea.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ea.open||this.conn.readyState===Ea.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(mr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const i=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${i}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const i=new Blob([E9],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,i=!1;if(t)n=t,i=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const o={access_token:n,version:f9};n&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(mr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new pM(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Jm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,i,s,o,l,c,d,h,m,v,b,_;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(i=t?.timeout)!==null&&i!==void 0?i:q0,this.heartbeatIntervalMs=(s=t?.heartbeatIntervalMs)!==null&&s!==void 0?s:Jm.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=t?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=t?.heartbeatCallback)!==null&&c!==void 0?c:Vb,this.vsn=(d=t?.vsn)!==null&&d!==void 0?d:eT,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t?.reconnectAfterMs)!==null&&h!==void 0?h:(C=>S9[C-1]||C9),this.vsn){case h9:this.encode=(m=t?.encode)!==null&&m!==void 0?m:((C,E)=>E(JSON.stringify(C))),this.decode=(v=t?.decode)!==null&&v!==void 0?v:((C,E)=>E(JSON.parse(C)));break;case mM:this.encode=(b=t?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(_=t?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var Nf=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function T9(e,t,n){const i=new URL(t,e);if(n)for(const[s,o]of Object.entries(n))o!==void 0&&i.searchParams.set(s,o);return i.toString()}async function R9(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function N9(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:i,query:s,body:o,headers:l}){const c=T9(e.baseUrl,i,s),d=await R9(e.auth),h=await t(c,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...d,...l},body:o?JSON.stringify(o):void 0}),m=await h.text(),v=(h.headers.get("content-type")||"").includes("application/json"),b=v&&m?JSON.parse(m):m;if(!h.ok){const _=v?b:void 0,C=_?.error;throw new Nf(C?.message??`Request failed with status ${h.status}`,{status:h.status,icebergType:C?.type,icebergCode:C?.code,details:_})}return{status:h.status,headers:h.headers,data:b}}}}function ep(e){return e.join("")}var k9=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:ep(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ep(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ep(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ep(e.namespace)}`}),!0}catch(t){if(t instanceof Nf&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Nf&&n.status===409)return;throw n}}};function Qc(e){return e.join("")}var P9=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qc(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Qc(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Qc(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Qc(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qc(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Qc(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Nf&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Nf&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},O9=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=N9({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new k9(this.client,t),this.tableOps=new P9(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Hg=class extends Error{constructor(e,t="storage",n,i){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=i}};function qg(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var tp=class extends Hg{constructor(e,t,n,i="storage"){super(e,i,t,n),this.name=i==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},yM=class extends Hg{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const M9=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),D9=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},W0=e=>{if(Array.isArray(e))return e.map(n=>W0(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,i])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=W0(i)}),t},L9=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function j9(e,t){if(kf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(kf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I9(e){var t=j9(e,"string");return kf(t)=="symbol"?t:t+""}function z9(e,t,n){return(t=I9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sT(Object(n),!0).forEach(function(i){z9(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sT(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}const rT=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},B9=async(e,t,n,i)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const s=e,o=s.status||500;if(typeof s.json=="function")s.json().then(l=>{const c=l?.statusCode||l?.code||o+"";t(new tp(rT(l),o,c,i))}).catch(()=>{if(i==="vectors"){const l=o+"";t(new tp(s.statusText||`HTTP ${o} error`,o,l,i))}else{const l=o+"";t(new tp(s.statusText||`HTTP ${o} error`,o,l,i))}});else{const l=o+"";t(new tp(s.statusText||`HTTP ${o} error`,o,l,i))}}else t(new yM(rT(e),e,i))},U9=(e,t,n,i)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"||e==="HEAD"||!i?et(et({},s),n):(D9(i)?(s.headers=et({"Content-Type":"application/json"},t?.headers),s.body=JSON.stringify(i)):s.body=i,t?.duplex&&(s.duplex=t.duplex),et(et({},s),n))};async function Jd(e,t,n,i,s,o,l){return new Promise((c,d)=>{e(n,U9(t,i,s,o)).then(h=>{if(!h.ok)throw h;if(i?.noResolveJson)return h;if(l==="vectors"){const m=h.headers.get("content-type");if(h.headers.get("content-length")==="0"||h.status===204)return{};if(!m||!m.includes("application/json"))return{}}return h.json()}).then(h=>c(h)).catch(h=>B9(h,d,i,l))})}function bM(e="storage"){return{get:async(t,n,i,s)=>Jd(t,"GET",n,i,s,void 0,e),post:async(t,n,i,s,o)=>Jd(t,"POST",n,s,o,i,e),put:async(t,n,i,s,o)=>Jd(t,"PUT",n,s,o,i,e),head:async(t,n,i,s)=>Jd(t,"HEAD",n,et(et({},i),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,n,i,s,o)=>Jd(t,"DELETE",n,s,o,i,e)}}const F9=bM("storage"),{get:Pf,post:hr,put:Y0,head:V9,remove:$_}=F9,ys=bM("vectors");var zu=class{constructor(e,t={},n,i="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=M9(n),this.namespace=i}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=et(et({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(qg(n))return{data:null,error:n};throw n}}},$9=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(qg(t))return{data:null,error:t};throw t}}};let xM;xM=Symbol.toStringTag;var H9=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[xM]="BlobDownloadBuilder",this.promise=null}asStream(){return new $9(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(qg(t))return{data:null,error:t};throw t}}};const q9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},oT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var G9=class extends zu{constructor(e,t={},n,i){super(e,t,i,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,i){var s=this;return s.handleOperation(async()=>{let o;const l=et(et({},oT),i);let c=et(et({},s.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",s.encodeMetadata(d)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",l.cacheControl),d&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(d))):(o=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,d&&(c["x-metadata"]=s.toBase64(s.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!l.duplex&&(l.duplex="half")),i?.headers&&(c=et(et({},c),i.headers));const h=s._removeEmptyFolders(t),m=s._getFinalPath(h),v=await(e=="PUT"?Y0:hr)(s.fetch,`${s.url}/object/${m}`,o,et({headers:c},l?.duplex?{duplex:l.duplex}:{}));return{path:h,id:v.Id,fullPath:v.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,i){var s=this;const o=s._removeEmptyFolders(e),l=s._getFinalPath(o),c=new URL(s.url+`/object/upload/sign/${l}`);return c.searchParams.set("token",t),s.handleOperation(async()=>{let d;const h=et({upsert:oT.upsert},i),m=et(et({},s.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",h.cacheControl)):(d=n,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType),{path:o,fullPath:(await Y0(s.fetch,c.toString(),d,{headers:m})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(e);const s=et({},n.headers);t?.upsert&&(s["x-upsert"]="true");const o=await hr(n.fetch,`${n.url}/object/upload/sign/${i}`,{},{headers:s}),l=new URL(n.url+o.url),c=l.searchParams.get("token");if(!c)throw new Hg("No token returned by API");return{signedUrl:l.toString(),path:e,token:c}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var i=this;return i.handleOperation(async()=>await hr(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:i.headers}))}async copy(e,t,n){var i=this;return i.handleOperation(async()=>({path:(await hr(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:i.headers})).Key}))}async createSignedUrl(e,t,n){var i=this;return i.handleOperation(async()=>{let s=i._getFinalPath(e),o=await hr(i.fetch,`${i.url}/object/sign/${s}`,et({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:i.headers});const l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${i.url}${o.signedURL}${l}`)}})}async createSignedUrls(e,t,n){var i=this;return i.handleOperation(async()=>{const s=await hr(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:t,paths:e},{headers:i.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s.map(l=>et(et({},l),{},{signedUrl:l.signedURL?encodeURI(`${i.url}${l.signedURL}${o}`):null}))})}download(e,t,n){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(t?.transform||{}),o=s?`?${s}`:"",l=this._getFinalPath(e),c=()=>Pf(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0},n);return new H9(c,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>W0(await Pf(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await V9(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(qg(i)&&i instanceof yM){const s=i.originalError;if([400,404].includes(s?.status))return{data:!1,error:i}}throw i}}getPublicUrl(e,t){const n=this._getFinalPath(e),i=[],s=t?.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&i.push(s);const o=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await $_(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var i=this;return i.handleOperation(async()=>{const s=et(et(et({},q9),t),{},{prefix:e||""});return await hr(i.fetch,`${i.url}/object/list/${i.bucketId}`,s,{headers:i.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const i=et({},e);return await hr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,i,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const K9="2.97.0",sh={"X-Client-Info":`storage-js/${K9}`};var W9=class extends zu{constructor(e,t={},n,i){const s=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const o=s.href.replace(/\/$/,""),l=et(et({},sh),t);super(o,l,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await Pf(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Pf(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await hr(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await Y0(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await hr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await $_(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Y9=class extends zu{constructor(e,t={},n){const i=e.replace(/\/$/,""),s=et(et({},sh),t);super(i,s,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await hr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const i=n.toString(),s=i?`${t.url}/bucket?${i}`:`${t.url}/bucket`;return await Pf(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await $_(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!L9(e))throw new Hg("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new O9({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(n,{get(s,o){const l=s[o];return typeof l!="function"?l:async(...c)=>{try{return{data:await l.apply(s,c),error:null}}catch(d){if(i)throw d;return{data:null,error:d}}}}})}},Z9=class extends zu{constructor(e,t={},n){const i=e.replace(/\/$/,""),s=et(et({},sh),{},{"Content-Type":"application/json"},t);super(i,s,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await ys.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await ys.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},X9=class extends zu{constructor(e,t={},n){const i=e.replace(/\/$/,""),s=et(et({},sh),{},{"Content-Type":"application/json"},t);super(i,s,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},Q9=class extends zu{constructor(e,t={},n){const i=e.replace(/\/$/,""),s=et(et({},sh),{},{"Content-Type":"application/json"},t);super(i,s,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},J9=class extends Q9{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new eW(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},eW=class extends Z9{constructor(e,t,n,i){super(e,t,i),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,et(et({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,et(et({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new tW(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},tW=class extends X9{constructor(e,t,n,i,s){super(e,t,s),this.vectorBucketName=n,this.indexName=i}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,et(et({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,et(et({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,et(et({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,et(et({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,et(et({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},nW=class extends W9{constructor(e,t={},n,i){super(e,t,n,i)}from(e){return new G9(this.url,this.headers,e,this.fetch)}get vectors(){return new J9(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Y9(this.url+"/iceberg",this.headers,this.fetch)}};const _M="2.97.0",lu=30*1e3,Z0=3,$b=Z0*lu,iW="http://localhost:9999",sW="supabase.auth.token",rW={"X-Client-Info":`gotrue-js/${_M}`},X0="X-Supabase-Api-Version",wM={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},oW=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,aW=600*1e3;class Of extends Error{constructor(t,n,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Ke(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class lW extends Of{constructor(t,n,i){super(t,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function cW(e){return Ke(e)&&e.name==="AuthApiError"}class jl extends Of{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Bo extends Of{constructor(t,n,i,s){super(t,i,s),this.name=n,this.status=i}}class ms extends Bo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Hb(e){return Ke(e)&&e.name==="AuthSessionMissingError"}class Jc extends Bo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class np extends Bo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ip extends Bo{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function uW(e){return Ke(e)&&e.name==="AuthImplicitGrantRedirectError"}class aT extends Bo{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dW extends Bo{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Q0 extends Bo{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function qb(e){return Ke(e)&&e.name==="AuthRetryableFetchError"}class lT extends Bo{constructor(t,n,i){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class J0 extends Bo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ig="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),cT=` 	
\r=`.split(""),fW=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<cT.length;t+=1)e[cT[t].charCodeAt(0)]=-2;for(let t=0;t<ig.length;t+=1)e[ig[t].charCodeAt(0)]=t;return e})();function uT(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(ig[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(ig[i]),t.queuedBits-=6}}function SM(e,t,n){const i=fW[e];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function dT(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=l=>{pW(l,i,n)};for(let l=0;l<e.length;l+=1)SM(e.charCodeAt(l),s,o);return t.join("")}function hW(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function mW(e,t){for(let n=0;n<e.length;n+=1){let i=e.charCodeAt(n);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}hW(i,t)}}function pW(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Su(e){const t=[],n={queue:0,queuedBits:0},i=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)SM(e.charCodeAt(s),n,i);return new Uint8Array(t)}function gW(e){const t=[];return mW(e,n=>t.push(n)),new Uint8Array(t)}function Bl(e){const t=[],n={queue:0,queuedBits:0},i=s=>{t.push(s)};return e.forEach(s=>uT(s,n,i)),uT(null,n,i),t.join("")}function vW(e){return Math.round(Date.now()/1e3)+e}function yW(){return Symbol("auth-callback")}const fi=()=>typeof window<"u"&&typeof document<"u",Nl={tested:!1,writable:!1},CM=()=>{if(!fi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Nl.tested)return Nl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Nl.tested=!0,Nl.writable=!0}catch{Nl.tested=!0,Nl.writable=!1}return Nl.writable};function bW(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((i,s)=>{t[s]=i}),t}const EM=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),xW=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",cu=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},kl=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},di=async(e,t)=>{await e.removeItem(t)};class Gg{constructor(){this.promise=new Gg.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Gg.promiseConstructor=Promise;function sp(e){const t=e.split(".");if(t.length!==3)throw new J0("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!oW.test(t[i]))throw new J0("JWT not in base64url format");return{header:JSON.parse(dT(t[0])),payload:JSON.parse(dT(t[1])),signature:Su(t[2]),raw:{header:t[0],payload:t[1]}}}async function _W(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function wW(e,t){return new Promise((i,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){i(l);return}}catch(l){if(!t(o,l)){s(l);return}}})()})}function SW(e){return("0"+e.toString(16)).substr(-2)}function CW(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(t),Array.from(t,SW).join("")}async function EW(e){const n=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(i);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function AW(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await EW(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function eu(e,t,n=!1){const i=CW();let s=i;n&&(s+="/PASSWORD_RECOVERY"),await cu(e,`${t}-code-verifier`,s);const o=await AW(i);return[o,i===o?"plain":"s256"]}const TW=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function RW(e){const t=e.headers.get(X0);if(!t||!t.match(TW))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function NW(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function kW(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const PW=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function tu(e){if(!PW.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Gb(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function OW(e,t){return new Proxy(e,{get:(n,i,s)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,s)}return!t.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,i,s)}})}function fT(e){return JSON.parse(JSON.stringify(e))}const Ml=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),MW=[502,503,504];async function hT(e){var t;if(!xW(e))throw new Q0(Ml(e),0);if(MW.includes(e.status))throw new Q0(Ml(e),e.status);let n;try{n=await e.json()}catch(o){throw new jl(Ml(o),o)}let i;const s=RW(e);if(s&&s.getTime()>=wM["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new lT(Ml(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new ms}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new lT(Ml(n),e.status,n.weak_password.reasons);throw new lW(Ml(n),e.status||500,i)}const DW=(e,t,n,i)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),n))};async function nt(e,t,n,i){var s;const o=Object.assign({},i?.headers);o[X0]||(o[X0]=wM["2024-01-01"].name),i?.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const l=(s=i?.query)!==null&&s!==void 0?s:{};i?.redirectTo&&(l.redirect_to=i.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await LW(e,t,n+c,{headers:o,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(d):{data:Object.assign({},d),error:null}}async function LW(e,t,n,i,s,o){const l=DW(t,i,s,o);let c;try{c=await e(n,Object.assign({},l))}catch(d){throw console.error(d),new Q0(Ml(d),0)}if(c.ok||await hT(c),i?.noResolveJson)return c;try{return await c.json()}catch(d){await hT(d)}}function ur(e){var t;let n=null;zW(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=vW(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:i},error:null}}function mT(e){const t=ur(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ta(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function jW(e){return{data:e,error:null}}function IW(e){const{action_link:t,email_otp:n,hashed_token:i,redirect_to:s,verification_type:o}=e,l=ju(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:i,redirect_to:s,verification_type:o},d=Object.assign({},l);return{data:{properties:c,user:d},error:null}}function pT(e){return e}function zW(e){return e.access_token&&e.refresh_token&&e.expires_in}const Kb=["global","local","others"];class BW{constructor({url:t="",headers:n={},fetch:i}){this.url=t,this.headers=n,this.fetch=EM(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Kb[0]){if(Kb.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Kb.join(", ")}`);try{return await nt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Ke(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,n={}){try{return await nt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ta})}catch(i){if(Ke(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:n}=t,i=ju(t,["options"]),s=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(s.new_email=i?.newEmail,delete s.newEmail),await nt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:IW,redirectTo:n?.redirectTo})}catch(n){if(Ke(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await nt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ta})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,i,s,o,l,c,d;try{const h={nextPage:null,lastPage:0,total:0},m=await nt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(o=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:pT});if(m.error)throw m.error;const v=await m.json(),b=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(C=>{const E=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(C.split(";")[1].split("=")[1]);h[`${T}Page`]=E}),h.total=parseInt(b)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if(Ke(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){tu(t);try{return await nt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ta})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){tu(t);try{return await nt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ta})}catch(i){if(Ke(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,n=!1){tu(t);try{return await nt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ta})}catch(i){if(Ke(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){tu(t.userId);try{const{data:n,error:i}=await nt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:i}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _deleteFactor(t){tu(t.userId),tu(t.id);try{return{data:await nt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,i,s,o,l,c,d;try{const h={nextPage:null,lastPage:0,total:0},m=await nt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(o=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:pT});if(m.error)throw m.error;const v=await m.json(),b=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(C=>{const E=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(C.split(";")[1].split("=")[1]);h[`${T}Page`]=E}),h.total=parseInt(b)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if(Ke(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await nt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await nt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await nt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Ke(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(t){try{return await nt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await nt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}}function gT(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const nu={debug:!!(globalThis&&CM()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class AM extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class vT extends AM{}async function UW(e,t,n){nu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;t>0&&setTimeout(()=>{i.abort(),nu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){nu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{nu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw nu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new vT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(nu.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}catch(s){throw s?.name==="AbortError"?new vT(`Acquiring an exclusive Navigator LockManager lock "${e}" timed out waiting ${t}ms`):s}}function FW(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function TM(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function VW(e){return parseInt(e,16)}function $W(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function HW(e){var t;const{chainId:n,domain:i,expirationTime:s,issuedAt:o=new Date,nonce:l,notBefore:c,requestId:d,resources:h,scheme:m,uri:v,version:b}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const _=TM(e.address),C=m?`${m}://${i}`:i,E=e.statement?`${e.statement}
`:"",T=`${C} wants you to sign in with your Ethereum account:
${_}

${E}`;let k=`URI: ${v}
Version: ${b}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(s&&(k+=`
Expiration Time: ${s.toISOString()}`),c&&(k+=`
Not Before: ${c.toISOString()}`),d&&(k+=`
Request ID: ${d}`),h){let N=`
Resources:`;for(const P of h){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);N+=`
- ${P}`}k+=N}return`${T}
${k}`}class On extends Error{constructor({message:t,code:n,cause:i,name:s}){var o;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(o=s??(i instanceof Error?i.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class sg extends On{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function qW({error:e,options:t}){var n,i,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new On({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new On({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new On({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new On({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new On({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new On({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new On({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new On({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(RM(l)){if(o.rp.id!==l)return new On({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new On({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new On({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new On({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new On({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function GW({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new On({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new On({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(RM(i)){if(n.rpId!==i)return new On({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new On({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new On({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new On({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class KW{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const WW=new KW;function YW(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:i}=e,s=ju(e,["challenge","user","excludeCredentials"]),o=Su(t).buffer,l=Object.assign(Object.assign({},n),{id:Su(n.id).buffer}),c=Object.assign(Object.assign({},s),{challenge:o,user:l});if(i&&i.length>0){c.excludeCredentials=new Array(i.length);for(let d=0;d<i.length;d++){const h=i[d];c.excludeCredentials[d]=Object.assign(Object.assign({},h),{id:Su(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function ZW(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,i=ju(e,["challenge","allowCredentials"]),s=Su(t).buffer,o=Object.assign(Object.assign({},i),{challenge:s});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},c),{id:Su(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function XW(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Bl(new Uint8Array(e.response.attestationObject)),clientDataJSON:Bl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function QW(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,i=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Bl(new Uint8Array(s.authenticatorData)),clientDataJSON:Bl(new Uint8Array(s.clientDataJSON)),signature:Bl(new Uint8Array(s.signature)),userHandle:s.userHandle?Bl(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function RM(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function yT(){var e,t;return!!(fi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function JW(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new sg("Browser returned unexpected credential type",t)}:{data:null,error:new sg("Empty credential response",t)}}catch(t){return{data:null,error:qW({error:t,options:e})}}}async function e7(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new sg("Browser returned unexpected credential type",t)}:{data:null,error:new sg("Empty credential response",t)}}catch(t){return{data:null,error:GW({error:t,options:e})}}}const t7={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},n7={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function rg(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),i={};for(const s of e)if(s)for(const o in s){const l=s[o];if(l!==void 0)if(Array.isArray(l))i[o]=l;else if(n(l))i[o]=l;else if(t(l)){const c=i[o];t(c)?i[o]=rg(c,l):i[o]=rg(l)}else i[o]=l}return i}function i7(e,t){return rg(t7,e,t||{})}function s7(e,t){return rg(n7,e,t||{})}class r7{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:i,signal:s},o){var l;try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!c)return{data:null,error:d};const h=s??WW.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;if(!m.name){const v=i;if(v)m.name=`${m.id}:${v}`;else{const _=(await this.client.getUser()).data.user,C=((l=_?.user_metadata)===null||l===void 0?void 0:l.name)||_?.email||_?.id||"User";m.name=`${m.id}:${C}`}}m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=i7(c.webauthn.credential_options.publicKey,o?.create),{data:v,error:b}=await JW({publicKey:m,signal:h});return v?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:b}}case"request":{const m=s7(c.webauthn.credential_options.publicKey,o?.request),{data:v,error:b}=await e7(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:h}));return v?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:b}}}}catch(c){return Ke(c)?{data:null,error:c}:{data:null,error:new jl("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new Of("rpId is required for WebAuthn authentication")};try{if(!yT())return{data:null,error:new jl("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:i},signal:s},{request:o});if(!l)return{data:null,error:c};const{webauthn:d}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:i,credential_response:d.credential_response}})}catch(l){return Ke(l)?{data:null,error:l}:{data:null,error:new jl("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new Of("rpId is required for WebAuthn registration")};try{if(!yT())return{data:null,error:new jl("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(m=>{var v;return(v=m.data)===null||v===void 0?void 0:v.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:c};const{data:d,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:s},{create:o});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:i,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(l){return Ke(l)?{data:null,error:l}:{data:null,error:new jl("Unexpected error in register",l)}}}}FW();const o7={url:iW,storageKey:sW,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rW,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function bT(e,t,n){return await n()}const iu={};class Mf{get jwks(){var t,n;return(n=(t=iu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){iu[this.storageKey]=Object.assign(Object.assign({},iu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=iu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){iu[this.storageKey]=Object.assign(Object.assign({},iu[this.storageKey]),{cachedAt:t})}constructor(t){var n,i,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},o7),t);if(this.storageKey=o.storageKey,this.instanceID=(n=Mf.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Mf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&fi()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new BW({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=EM(o.fetch),this.lock=o.lock||bT,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&fi()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=UW:this.lock=bT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new r7(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:CM()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=gT(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=gT(this.memoryStorage)),fi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(c){this._debug("#broadcastChannel","error",c)}})}o.skipAutoInitialize||this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${_M}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},i="none";if(fi()&&(n=bW(window.location.href),this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce")),fi()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),uW(o)){const d=(t=o.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:l,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ke(n)?this._returnResult({error:n}):this._returnResult({error:new jl("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,i,s;try{const o=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=t?.options)===null||s===void 0?void 0:s.captchaToken}},xform:ur}),{data:l,error:c}=o;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(o){if(Ke(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var n,i,s;try{let o;if("email"in t){const{email:m,password:v,options:b}=t;let _=null,C=null;this.flowType==="pkce"&&([_,C]=await eu(this.storage,this.storageKey)),o=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:m,password:v,data:(n=b?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:_,code_challenge_method:C},xform:ur})}else if("phone"in t){const{phone:m,password:v,options:b}=t;o=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:v,data:(i=b?.data)!==null&&i!==void 0?i:{},channel:(s=b?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:ur})}else throw new np("You must provide either an email or phone number and a password");const{data:l,error:c}=o;if(c||!l)return await di(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(o){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ke(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:c}=t;n=await nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:mT})}else if("phone"in t){const{phone:o,password:l,options:c}=t;n=await nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:mT})}else throw new np("You must provide either an email or phone number and a password");const{data:i,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!i||!i.session||!i.user){const o=new Jc;return this._returnResult({data:{user:null,session:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(n){if(Ke(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,i,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,i,s,o,l,c,d,h,m,v,b;let _,C;if("message"in t)_=t.message,C=t.signature;else{const{chain:E,wallet:T,statement:k,options:N}=t;let P;if(fi())if(typeof T=="object")P=T;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")P=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=T}const O=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href),j=await P.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const U=TM(j[0]);let z=(i=N?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!z){const $=await P.request({method:"eth_chainId"});z=VW($)}const I={domain:O.host,address:U,statement:k,uri:O.href,version:"1",chainId:z,nonce:(s=N?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(l=(o=N?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=N?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=N?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(h=N?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(m=N?.signInWithEthereum)===null||m===void 0?void 0:m.resources};_=HW(I),C=await P.request({method:"personal_sign",params:[$W(_),U]})}try{const{data:E,error:T}=await nt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:C},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:ur});if(T)throw T;if(!E||!E.session||!E.user){const k=new Jc;return this._returnResult({data:{user:null,session:null},error:k})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:T})}catch(E){if(Ke(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(t){var n,i,s,o,l,c,d,h,m,v,b,_;let C,E;if("message"in t)C=t.message,E=t.signature;else{const{chain:T,wallet:k,statement:N,options:P}=t;let O;if(fi())if(typeof k=="object")O=k;else{const U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))O=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=k}const j=new URL((n=P?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in O&&O.signIn){const U=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P?.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),N?{statement:N}:null));let z;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")z=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)z=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)C=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),E=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${j.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(i=P?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=P?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((l=P?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((c=P?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((d=P?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((h=P?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((v=(m=P?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||v===void 0)&&v.length?["Resources",...P.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const U=await O.signMessage(new TextEncoder().encode(C),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=U}}try{const{data:T,error:k}=await nt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:Bl(E)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:ur});if(k)throw k;if(!T||!T.session||!T.user){const N=new Jc;return this._returnResult({data:{user:null,session:null},error:N})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:k})}catch(T){if(Ke(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(t){const n=await kl(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(n??"").split("/");try{if(!i&&this.flowType==="pkce")throw new dW;const{data:o,error:l}=await nt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:ur});if(await di(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!o||!o.session||!o.user){const c=new Jc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:l})}catch(o){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ke(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:n,provider:i,token:s,access_token:o,nonce:l}=t,c=await nt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:ur}),{data:d,error:h}=c;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d||!d.session||!d.user){const m=new Jc;return this._returnResult({data:{user:null,session:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:h})}catch(n){if(Ke(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,i,s,o,l;try{if("email"in t){const{email:c,options:d}=t;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await eu(this.storage,this.storageKey));const{error:v}=await nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=d?.data)!==null&&n!==void 0?n:{},create_user:(i=d?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:h,code_challenge_method:m},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in t){const{phone:c,options:d}=t,{data:h,error:m}=await nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=d?.data)!==null&&s!==void 0?s:{},create_user:(o=d?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(l=d?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:m})}throw new np("You must provide either an email or phone number.")}catch(c){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ke(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var n,i;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:l,error:c}=await nt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:ur});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,h=l.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(s){if(Ke(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,i,s,o,l;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await eu(this.storage,this.storageKey));const h=await nt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=t?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:jW});return!((o=h.data)===null||o===void 0)&&o.url&&fi()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(c){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ke(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;if(i)throw i;if(!n)throw new ms;const{error:s}=await nt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Ke(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:i,type:s,options:o}=t,{error:l}=await nt(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:i,type:s,options:o}=t,{data:l,error:c}=await nt(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:c})}throw new np("You must provide either an email or phone number and a type")}catch(n){if(Ke(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await kl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<$b:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const l=await kl(this.userStorage,this.storageKey+"-user");l?.user?t.user=l.user:t.user=Gb()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=OW(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ta}):await this._useSession(async n=>{var i,s,o;const{data:l,error:c}=n;if(c)throw c;return!(!((i=l.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ms}:await nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Ta})})}catch(n){if(Ke(n))return Hb(n)&&(await this._removeSession(),await di(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async i=>{const{data:s,error:o}=i;if(o)throw o;if(!s.session)throw new ms;const l=s.session;let c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=await eu(this.storage,this.storageKey));const{data:h,error:m}=await nt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:Ta});if(m)throw m;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(i){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ke(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ms;const n=Date.now()/1e3;let i=n,s=!0,o=null;const{payload:l}=sp(t.access_token);if(l.exp&&(i=l.exp,s=i<=n),s){const{data:c,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:d}=await this._getUser(t.access_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});o={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(Ke(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var i;if(!t){const{data:l,error:c}=n;if(c)throw c;t=(i=l.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new ms;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ke(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!fi())throw new ip("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ip(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new aT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ip("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new aT("No code detected.");const{data:N,error:P}=await this._exchangeCodeForSession(t.code);if(P)throw P;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:o,refresh_token:l,expires_in:c,expires_at:d,token_type:h}=t;if(!o||!c||!l||!h)throw new ip("No session defined in URL");const m=Math.round(Date.now()/1e3),v=parseInt(c);let b=m+v;d&&(b=parseInt(d));const _=b-m;_*1e3<=lu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);const C=b-v;m-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,b,m):m-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,b,m);const{data:E,error:T}=await this._getUser(o);if(T)throw T;const k={provider_token:i,provider_refresh_token:s,access_token:o,expires_in:v,expires_at:b,refresh_token:l,token_type:h,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:t.type},error:null})}catch(i){if(Ke(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await kl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o&&!Hb(o))return this._returnResult({error:o});const l=(i=s.session)===null||i===void 0?void 0:i.access_token;if(l){const{error:c}=await this.admin.signOut(l,t);if(c&&!(cW(c)&&(c.status===404||c.status===401||c.status===403)||Hb(c)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await di(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=yW(),i={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async n=>{var i,s;try{const{data:{session:o},error:l}=n;if(l)throw l;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await eu(this.storage,this.storageKey,!0));try{return await nt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ke(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:i,error:s}=await this._useSession(async o=>{var l,c,d,h,m;const{data:v,error:b}=o;if(b)throw b;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await nt(this.fetch,"GET",_,{headers:this.headers,jwt:(m=(h=v.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:void 0})});if(s)throw s;return fi()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:t.provider,url:i?.url},error:null})}catch(i){if(Ke(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var i;try{const{error:s,data:{session:o}}=n;if(s)throw s;const{options:l,provider:c,token:d,access_token:h,nonce:m}=t,v=await nt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=o?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:d,access_token:h,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:ur}),{data:b,error:_}=v;return _?this._returnResult({data:{user:null,session:null},error:_}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Jc}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:_}))}catch(s){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ke(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var i,s;const{data:o,error:l}=n;if(l)throw l;return await nt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await wW(async s=>(s>0&&await _W(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await nt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ur})),(s,o)=>{const l=200*Math.pow(2,s);return o&&qb(o)&&Date.now()+l-i<lu})}catch(i){if(this._debug(n,"error",i),Ke(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",i),fi()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const s=await kl(this.storage,this.storageKey);if(s&&this.userStorage){let l=await kl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await cu(this.userStorage,this.storageKey+"-user",l)),s.user=(t=l?.user)!==null&&t!==void 0?t:Gb()}else if(s&&!s.user&&!s.user){const l=await kl(this.storage,this.storageKey+"-user");l&&l?.user?(s.user=l.user,await di(this.storage,this.storageKey+"-user"),await cu(this.storage,this.storageKey,s)):s.user=Gb()}if(this._debug(i,"session from storage",s),!this._isValidSession(s)){this._debug(i,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<$b;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${$b}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),qb(l)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(s.access_token);!c&&l?.user?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(i,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(i,"error",s),console.error(s);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var n,i;if(!t)throw new ms;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Gg;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new ms;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={data:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(s,"error",o),Ke(o)){const l={data:null,error:o};return qb(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,i=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(d){o.push(d)}});if(await Promise.all(l),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await di(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await cu(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=fT(s);await cu(this.storage,this.storageKey,o)}else{const s=fT(n);await cu(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await di(this.storage,this.storageKey),await di(this.storage,this.storageKey+"-code-verifier"),await di(this.storage,this.storageKey+"-user"),this.userStorage&&await di(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&fi()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),lu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-t)/lu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${lu}ms, refresh threshold is ${Z0} ticks`),s<=Z0&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof AM)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fi()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,i){const s=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,l]=await eu(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(c.toString())}if(i?.queryParams){const o=new URLSearchParams(i.queryParams);s.push(o.toString())}return i?.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;return o?this._returnResult({data:null,error:o}):await nt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var i,s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:h}=await nt(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&d.type==="totp"&&(!((s=d?.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?XW(t.webauthn.credential_response):QW(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:d}=await nt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=await nt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:YW(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:ZW(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n?.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,i,s,o;if(t)try{const{payload:_}=sp(t);let C=null;_.aal&&(C=_.aal);let E=C;const{data:{user:T},error:k}=await this.getUser(t);if(k)return this._returnResult({data:null,error:k});((i=(n=T?.factors)===null||n===void 0?void 0:n.filter(O=>O.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(E="aal2");const P=_.amr||[];return{data:{currentLevel:C,nextLevel:E,currentAuthenticationMethods:P},error:null}}catch(_){if(Ke(_))return this._returnResult({data:null,error:_});throw _}const{data:{session:l},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=sp(l.access_token);let h=null;d.aal&&(h=d.aal);let m=h;((o=(s=l.user.factors)===null||s===void 0?void 0:s.filter(_=>_.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(m="aal2");const b=d.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:b},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?await nt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new ms})})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async i=>{const{data:{session:s},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new ms});const l=await nt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&fi()&&!n?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(i){if(Ke(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,n){try{return await this._useSession(async i=>{const{data:{session:s},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new ms});const l=await nt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&fi()&&!n?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(i){if(Ke(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;return i?this._returnResult({data:null,error:i}):n?await nt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ms})})}catch(t){if(Ke(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?(await nt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ms})})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let i=n.keys.find(c=>c.kid===t);if(i)return i;const s=Date.now();if(i=this.jwks.keys.find(c=>c.kid===t),i&&this.jwks_cached_at+aW>s)return i;const{data:o,error:l}=await nt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,i=o.keys.find(c=>c.kid===t),!i)?null:i}async getClaims(t,n={}){try{let i=t;if(!i){const{data:_,error:C}=await this.getSession();if(C||!_.session)return this._returnResult({data:null,error:C});i=_.session.access_token}const{header:s,payload:o,signature:l,raw:{header:c,payload:d}}=sp(i);n?.allowExpired||NW(o.exp);const h=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!h){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:o,header:s,signature:l},error:null}}const m=kW(s.alg),v=await crypto.subtle.importKey("jwk",h,m,!0,["verify"]);if(!await crypto.subtle.verify(m,v,l,gW(`${c}.${d}`)))throw new J0("Invalid JWT signature");return{data:{claims:o,header:s,signature:l},error:null}}catch(i){if(Ke(i))return this._returnResult({data:null,error:i});throw i}}}Mf.nextInstanceID={};const a7=Mf,l7="2.97.0";let nf="";typeof Deno<"u"?nf="deno":typeof document<"u"?nf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?nf="react-native":nf="node";const c7={"X-Client-Info":`supabase-js-${nf}/${l7}`},u7={headers:c7},d7={schema:"public"},f7={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},h7={};function Df(e){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(e)}function m7(e,t){if(Df(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Df(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p7(e){var t=m7(e,"string");return Df(t)=="symbol"?t:t+""}function g7(e,t,n){return(t=p7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xT(Object(n),!0).forEach(function(i){g7(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xT(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}const v7=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),y7=()=>Headers,b7=(e,t,n)=>{const i=v7(n),s=y7();return async(o,l)=>{var c;const d=(c=await t())!==null&&c!==void 0?c:e;let h=new s(l?.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),i(o,bn(bn({},l),{},{headers:h}))}};function x7(e){return e.endsWith("/")?e:e+"/"}function _7(e,t){var n,i;const{db:s,auth:o,realtime:l,global:c}=e,{db:d,auth:h,realtime:m,global:v}=t,b={db:bn(bn({},d),s),auth:bn(bn({},h),o),realtime:bn(bn({},m),l),storage:{},global:bn(bn(bn({},v),c),{},{headers:bn(bn({},(n=v?.headers)!==null&&n!==void 0?n:{}),(i=c?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return e.accessToken?b.accessToken=e.accessToken:delete b.accessToken,b}function w7(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(x7(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var S7=class extends a7{constructor(e){super(e)}},C7=class{constructor(e,t,n){var i,s;this.supabaseUrl=e,this.supabaseKey=t;const o=w7(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:d7,realtime:h7,auth:bn(bn({},f7),{},{storageKey:l}),global:u7},d=_7(n??{},c);if(this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(m,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=d.auth)!==null&&h!==void 0?h:{},this.headers,d.global.fetch)}this.fetch=b7(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(bn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new c9(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch,timeout:d.db.timeout,urlLengthLimit:d.db.urlLengthLimit}),this.storage=new nW(this.storageUrl.href,this.headers,this.fetch,n?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new t9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:i}=await e.auth.getSession();return(t=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:o,flowType:l,lock:c,debug:d,throwOnError:h},m,v){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new S7({url:this.authUrl.href,headers:bn(bn({},b),m),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,userStorage:s,flowType:l,lock:c,debug:d,throwOnError:h,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new A9(this.realtimeUrl.href,bn(bn({},e),{},{params:bn(bn({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const E7=(e,t,n)=>new C7(e,t,n);function A7(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}A7()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const T7="https://jvjirocnsucsapwnjfpe.supabase.co",R7="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp2amlyb2Nuc3Vjc2Fwd25qZnBlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUxOTQwODksImV4cCI6MjA3MDc3MDA4OX0.eQESQzBSt0_gciw0LN5zByYGBGugi-NuCChs-1mMVoA",Dn=E7(T7,R7,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:window.localStorage,flowType:"pkce"}}),NM=500,kM=700,N7=9e4,k7=4e3;function P7(){const e=window.screenX+(window.outerWidth-NM)/2,t=window.screenY+(window.outerHeight-kM)/2;return{left:e,top:t}}function O7(){return new Promise(e=>{let t=null;const n=setTimeout(()=>{t&&t.close(),console.warn(" Timeout aguardando OAuth (90s)"),e({success:!1,error:"Tempo limite de autenticao excedido"})},N7);try{t=new BroadcastChannel("supabase-auth"),t.onmessage=i=>{i.data==="oauth_complete"&&(clearTimeout(n),t&&t.close(),e({success:!0}))}}catch(i){clearTimeout(n),console.warn(" BroadcastChannel no disponvel, usando timeout fixo",i),setTimeout(()=>{e({success:!0})},5e3)}})}function M7(e){const{left:t,top:n}=P7();return window.open(e,"oauth-popup",`width=${NM},height=${kM},left=${t},top=${n},toolbar=no,menubar=no,scrollbars=yes,resizable=yes`)}async function D7(e="google"){try{const{data:t,error:n}=await Dn.auth.signInWithOAuth({provider:e,options:{redirectTo:`${window.location.origin}/treevera/auth-callback`,skipBrowserRedirect:!0,queryParams:{access_type:"offline",prompt:"consent"}}});if(n)throw n;if(!t?.url)throw new Error("URL de autenticao no foi gerada");if(!M7(t.url))throw new Error("No foi possvel abrir a janela. Verifique o bloqueador de pop-ups.");const s=await O7();if(!s.success)throw new Error(s.error||"Falha na autenticao");await new Promise(c=>setTimeout(c,k7));let o=null;const l=10;for(let c=1;c<=l;c++){const{data:d,error:h}=await Dn.auth.getSession();if(h&&(console.error(" Erro ao buscar sesso:",h),c===l))throw h;if(d.session){o=d;break}c<l&&await new Promise(m=>setTimeout(m,1e3))}if(!o?.session)throw new Error("Sesso no foi estabelecida aps autenticao");return{user:o.session.user,session:o.session}}catch(t){throw console.error(" Erro no login OAuth:",t),t}}async function L7(){try{const{error:e}=await Dn.auth.signOut();if(e)throw e;return{success:!0}}catch(e){throw console.error(" Erro no logout:",e),e}}async function j7(){try{const{data:e,error:t}=await Dn.auth.getSession();if(t)throw t;return e.session}catch(e){return console.error(" Erro ao obter sesso:",e),null}}const I7=async e=>{const t=e.app_metadata?.provider||e.identities?.[0]?.provider||(e.email?.includes("@")?"email":"unknown"),n={id:e.id,email:e.email,name:e.user_metadata.full_name||e.email?.split("@")[0]||"Usurio",avatar_url:e.user_metadata.avatar_url||null,created_at:e.created_at,provider:t,game_info:{activities:[{title:"Conta criada com sucesso!",description:"Bem-vindo ao mundo da taxonomia",date:e.created_at}],seen_species:[]}},{data:i,error:s}=await Dn.from("users").upsert(n,{onConflict:"id"}).select().single();if(s)throw console.error("Error creating user:",s),s;if(!i)throw new Error("createUser: upsert retornou vazio");return JSON.parse(JSON.stringify(i))},z7=1e4;function H_(){const e=Dt(st.session),t=Dt(st.userDb),n=Dt(st.loginStatus),i=Dt(st.logoutStatus),s=Dt(st.error),o=Dt(st.initialized),l=Dt(st.lastAuthCheck),c=Le(st.session),d=Le(st.userDb),h=Le(st.isAuthenticated),m=Le(st.loginStatus),v=Le(st.logoutStatus),b=Le(st.initialized),_=x.useCallback(async N=>{try{const{data:P,error:O}=await Dn.from("users").select("*").eq("id",N).single();if(O){if(O.code==="PGRST116"){const{data:j}=await Dn.auth.getUser();if(j.user)try{return await I7(j.user)}catch(U){return console.error(" Erro ao criar usurio no banco:",U),null}}return console.error(" Erro ao buscar userDb:",O),null}return P}catch(P){return console.error(" Erro ao buscar userDb:",P),null}},[]),C=x.useCallback(async()=>{const N=new Promise(O=>{setTimeout(()=>{console.warn(" Timeout na inicializao"),O(null)},z7)}),P=(async()=>{try{const O=await j7();if(O?.user){e(O);const j=await _(O.user.id);j?t(j):(console.warn(" UserDb no encontrado"),t(null))}else e(null),t(null);return O}catch(O){return console.error(" Erro ao inicializar:",O),e(null),t(null),null}})();await Promise.race([P,N]),l(Date.now()),o(!0)},[e,t,l,o,_]),E=x.useCallback(async(N="google")=>{try{n("loading"),s(null);const{user:P,session:O}=await D7(N);e(O);const j=await _(P.id);if(j)return t(j),n("success"),{success:!0,user:j};throw new Error("No foi possvel carregar os dados do usurio")}catch(P){const O=P instanceof Error?P.message:"Erro desconhecido ao fazer login";return s({message:O}),n("error"),console.error(" Erro no login:",P),{success:!1,error:O}}finally{setTimeout(()=>n("idle"),2e3)}},[n,s,e,t,_]),T=x.useCallback(async()=>{try{return i("loading"),s(null),await L7(),e(null),t(null),i("success"),{success:!0}}catch(N){const P=N instanceof Error?N.message:"Erro desconhecido ao fazer logout";return s({message:P}),i("error"),console.error(" Erro no logout:",N),{success:!1,error:P}}finally{setTimeout(()=>i("idle"),2e3)}},[i,s,e,t]),k=x.useCallback(async()=>{if(!c?.user?.id)return null;const N=await _(c.user.id);return N&&t(N),N},[c,_,t]);return x.useEffect(()=>{b||C();const{data:{subscription:N}}=Dn.auth.onAuthStateChange(async(P,O)=>{switch(P){case"SIGNED_IN":case"TOKEN_REFRESHED":O?.user&&e(O);break;case"SIGNED_OUT":e(null),t(null);break}});return()=>{N.unsubscribe()}},[b,C,e,t]),{session:c,userDb:d,isAuthenticated:h,initialized:b,loginStatus:m,logoutStatus:v,authError:Le(st.error),isLoggingIn:m==="loading",isLoggingOut:v==="loading",isInitializing:!b,login:E,logout:T,refreshUserDb:k,refreshSession:C}}function og(e,[t,n]){return Math.min(n,Math.max(t,e))}function B7(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,U7(s,...t)]}function U7(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function PM(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function F7(e){const t=V7(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(H7);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function V7(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=G7(s),c=q7(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $7=Symbol("radix.slottable");function H7(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$7}function q7(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function G7(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var K7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],rh=K7.reduce((e,t)=>{const n=F7(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),OM=["PageUp","PageDown"],MM=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],DM={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Bu="Slider",[ex,W7,Y7]=Rg(Bu),[LM]=B7(Bu,[Y7]),[Z7,Kg]=LM(Bu),jM=x.forwardRef((e,t)=>{const{name:n,min:i=0,max:s=100,step:o=1,orientation:l="horizontal",disabled:c=!1,minStepsBetweenThumbs:d=0,defaultValue:h=[i],value:m,onValueChange:v=()=>{},onValueCommit:b=()=>{},inverted:_=!1,form:C,...E}=e,T=x.useRef(new Set),k=x.useRef(0),P=l==="horizontal"?X7:Q7,[O=[],j]=Do({prop:m,defaultProp:h,onChange:K=>{[...T.current][k.current]?.focus(),v(K)}}),U=x.useRef(O);function z(K){const W=iY(O,K);Z(K,W)}function I(K){Z(K,k.current)}function $(){const K=U.current[k.current];O[k.current]!==K&&b(O)}function Z(K,W,{commit:X}={commit:!1}){const se=aY(o),ve=lY(Math.round((K-i)/o)*o+i,se),G=og(ve,[i,s]);j((ee=[])=>{const Y=tY(ee,G,W);if(oY(Y,d*o)){k.current=Y.indexOf(G);const de=String(Y)!==String(ee);return de&&X&&b(Y),de?Y:ee}else return ee})}return y.jsx(Z7,{scope:e.__scopeSlider,name:n,disabled:c,min:i,max:s,valueIndexToChangeRef:k,thumbs:T.current,values:O,orientation:l,form:C,children:y.jsx(ex.Provider,{scope:e.__scopeSlider,children:y.jsx(ex.Slot,{scope:e.__scopeSlider,children:y.jsx(P,{"aria-disabled":c,"data-disabled":c?"":void 0,...E,ref:t,onPointerDown:Ie(E.onPointerDown,()=>{c||(U.current=O)}),min:i,max:s,inverted:_,onSlideStart:c?void 0:z,onSlideMove:c?void 0:I,onSlideEnd:c?void 0:$,onHomeKeyDown:()=>!c&&Z(i,0,{commit:!0}),onEndKeyDown:()=>!c&&Z(s,O.length-1,{commit:!0}),onStepKeyDown:({event:K,direction:W})=>{if(!c){const ve=OM.includes(K.key)||K.shiftKey&&MM.includes(K.key)?10:1,G=k.current,ee=O[G],Y=o*ve*W;Z(ee+Y,G,{commit:!0})}}})})})})});jM.displayName=Bu;var[IM,zM]=LM(Bu,{startEdge:"left",endEdge:"right",size:"width",direction:1}),X7=x.forwardRef((e,t)=>{const{min:n,max:i,dir:s,inverted:o,onSlideStart:l,onSlideMove:c,onSlideEnd:d,onStepKeyDown:h,...m}=e,[v,b]=x.useState(null),_=Ct(t,P=>b(P)),C=x.useRef(void 0),E=Ng(s),T=E==="ltr",k=T&&!o||!T&&o;function N(P){const O=C.current||v.getBoundingClientRect(),j=[0,O.width],z=q_(j,k?[n,i]:[i,n]);return C.current=O,z(P-O.left)}return y.jsx(IM,{scope:e.__scopeSlider,startEdge:k?"left":"right",endEdge:k?"right":"left",direction:k?1:-1,size:"width",children:y.jsx(BM,{dir:E,"data-orientation":"horizontal",...m,ref:_,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:P=>{const O=N(P.clientX);l?.(O)},onSlideMove:P=>{const O=N(P.clientX);c?.(O)},onSlideEnd:()=>{C.current=void 0,d?.()},onStepKeyDown:P=>{const j=DM[k?"from-left":"from-right"].includes(P.key);h?.({event:P,direction:j?-1:1})}})})}),Q7=x.forwardRef((e,t)=>{const{min:n,max:i,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...h}=e,m=x.useRef(null),v=Ct(t,m),b=x.useRef(void 0),_=!s;function C(E){const T=b.current||m.current.getBoundingClientRect(),k=[0,T.height],P=q_(k,_?[i,n]:[n,i]);return b.current=T,P(E-T.top)}return y.jsx(IM,{scope:e.__scopeSlider,startEdge:_?"bottom":"top",endEdge:_?"top":"bottom",size:"height",direction:_?1:-1,children:y.jsx(BM,{"data-orientation":"vertical",...h,ref:v,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:E=>{const T=C(E.clientY);o?.(T)},onSlideMove:E=>{const T=C(E.clientY);l?.(T)},onSlideEnd:()=>{b.current=void 0,c?.()},onStepKeyDown:E=>{const k=DM[_?"from-bottom":"from-top"].includes(E.key);d?.({event:E,direction:k?-1:1})}})})}),BM=x.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:i,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:l,onEndKeyDown:c,onStepKeyDown:d,...h}=e,m=Kg(Bu,n);return y.jsx(rh.span,{...h,ref:t,onKeyDown:Ie(e.onKeyDown,v=>{v.key==="Home"?(l(v),v.preventDefault()):v.key==="End"?(c(v),v.preventDefault()):OM.concat(MM).includes(v.key)&&(d(v),v.preventDefault())}),onPointerDown:Ie(e.onPointerDown,v=>{const b=v.target;b.setPointerCapture(v.pointerId),v.preventDefault(),m.thumbs.has(b)?b.focus():i(v)}),onPointerMove:Ie(e.onPointerMove,v=>{v.target.hasPointerCapture(v.pointerId)&&s(v)}),onPointerUp:Ie(e.onPointerUp,v=>{const b=v.target;b.hasPointerCapture(v.pointerId)&&(b.releasePointerCapture(v.pointerId),o(v))})})}),UM="SliderTrack",FM=x.forwardRef((e,t)=>{const{__scopeSlider:n,...i}=e,s=Kg(UM,n);return y.jsx(rh.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...i,ref:t})});FM.displayName=UM;var tx="SliderRange",VM=x.forwardRef((e,t)=>{const{__scopeSlider:n,...i}=e,s=Kg(tx,n),o=zM(tx,n),l=x.useRef(null),c=Ct(t,l),d=s.values.length,h=s.values.map(b=>qM(b,s.min,s.max)),m=d>1?Math.min(...h):0,v=100-Math.max(...h);return y.jsx(rh.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...i,ref:c,style:{...e.style,[o.startEdge]:m+"%",[o.endEdge]:v+"%"}})});VM.displayName=tx;var nx="SliderThumb",$M=x.forwardRef((e,t)=>{const n=W7(e.__scopeSlider),[i,s]=x.useState(null),o=Ct(t,c=>s(c)),l=x.useMemo(()=>i?n().findIndex(c=>c.ref.current===i):-1,[n,i]);return y.jsx(J7,{...e,ref:o,index:l})}),J7=x.forwardRef((e,t)=>{const{__scopeSlider:n,index:i,name:s,...o}=e,l=Kg(nx,n),c=zM(nx,n),[d,h]=x.useState(null),m=Ct(t,N=>h(N)),v=d?l.form||!!d.closest("form"):!0,b=jk(d),_=l.values[i],C=_===void 0?0:qM(_,l.min,l.max),E=nY(i,l.values.length),T=b?.[c.size],k=T?sY(T,C,c.direction):0;return x.useEffect(()=>{if(d)return l.thumbs.add(d),()=>{l.thumbs.delete(d)}},[d,l.thumbs]),y.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${C}% + ${k}px)`},children:[y.jsx(ex.ItemSlot,{scope:e.__scopeSlider,children:y.jsx(rh.span,{role:"slider","aria-label":e["aria-label"]||E,"aria-valuemin":l.min,"aria-valuenow":_,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...o,ref:m,style:_===void 0?{display:"none"}:e.style,onFocus:Ie(e.onFocus,()=>{l.valueIndexToChangeRef.current=i})})}),v&&y.jsx(HM,{name:s??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:_},i)]})});$M.displayName=nx;var eY="RadioBubbleInput",HM=x.forwardRef(({__scopeSlider:e,value:t,...n},i)=>{const s=x.useRef(null),o=Ct(s,i),l=PM(t);return x.useEffect(()=>{const c=s.current;if(!c)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&m){const v=new Event("input",{bubbles:!0});m.call(c,t),c.dispatchEvent(v)}},[l,t]),y.jsx(rh.input,{style:{display:"none"},...n,ref:o,defaultValue:t})});HM.displayName=eY;function tY(e=[],t,n){const i=[...e];return i[n]=t,i.sort((s,o)=>s-o)}function qM(e,t,n){const o=100/(n-t)*(e-t);return og(o,[0,100])}function nY(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function iY(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),i=Math.min(...n);return n.indexOf(i)}function sY(e,t,n){const i=e/2,o=q_([0,50],[0,i]);return(i-o(t)*n)*n}function rY(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function oY(e,t){if(t>0){const n=rY(e);return Math.min(...n)>=t}return!0}function q_(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(n-e[0])}}function aY(e){return(String(e).split(".")[1]||"").length}function lY(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}const GM=jK("audio.settings",{muted:!1,volume:.7}),KM=dt(!1),G_=dt(e=>{const t=e(st.userDb);return t?t.game_info?.settings?.showEmptyNodes??!1:e(KM)}),cY=async(e,t)=>{try{const{data:n,error:i}=await Dn.from("users").update({game_info:{...e.game_info,settings:t}}).eq("id",e.id).select().single();return i?(console.error("Error updating user settings:",i),null):n}catch(n){return console.error("Unexpected error updating user settings:",n),null}},uY=()=>{const e=Le(G_),[t,n]=Gs(st.userDb),[,i]=Gs(KM),s=Ei();return{showEmptyNodes:e,toggleShowEmptyNodes:async()=>{const l=!e;if(s({to:"/"}),!t){i(l);return}const c={...t.game_info.settings,showEmptyNodes:l};n({...t,game_info:{...t.game_info,settings:c}}),await cY(t,c)}}};function dY(e,t){const n=x.createContext(t),i=o=>{const{children:l,...c}=o,d=x.useMemo(()=>c,Object.values(c));return y.jsx(n.Provider,{value:d,children:l})};i.displayName=e+"Provider";function s(o){const l=x.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[i,s]}function fY(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,hY(s,...t)]}function hY(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function WM(e){const t=mY(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(gY);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function mY(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=yY(s),c=vY(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var pY=Symbol("radix.slottable");function gY(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===pY}function vY(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function yY(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var bY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],oh=bY.reduce((e,t)=>{const n=WM(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),Wg="Dialog",[YM]=fY(Wg),[xY,Sr]=YM(Wg),ZM=e=>{const{__scopeDialog:t,children:n,open:i,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,c=x.useRef(null),d=x.useRef(null),[h,m]=Do({prop:i,defaultProp:s??!1,onChange:o,caller:Wg});return y.jsx(xY,{scope:t,triggerRef:c,contentRef:d,contentId:_s(),titleId:_s(),descriptionId:_s(),open:h,onOpenChange:m,onOpenToggle:x.useCallback(()=>m(v=>!v),[m]),modal:l,children:n})};ZM.displayName=Wg;var XM="DialogTrigger",QM=x.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=Sr(XM,n),o=Ct(t,s.triggerRef);return y.jsx(oh.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Y_(s.open),...i,ref:o,onClick:Ie(e.onClick,s.onOpenToggle)})});QM.displayName=XM;var K_="DialogPortal",[_Y,JM]=YM(K_,{forceMount:void 0}),eD=e=>{const{__scopeDialog:t,forceMount:n,children:i,container:s}=e,o=Sr(K_,t);return y.jsx(_Y,{scope:t,forceMount:n,children:x.Children.map(i,l=>y.jsx(wr,{present:n||o.open,children:y.jsx(Xf,{asChild:!0,container:s,children:l})}))})};eD.displayName=K_;var ag="DialogOverlay",tD=x.forwardRef((e,t)=>{const n=JM(ag,e.__scopeDialog),{forceMount:i=n.forceMount,...s}=e,o=Sr(ag,e.__scopeDialog);return o.modal?y.jsx(wr,{present:i||o.open,children:y.jsx(SY,{...s,ref:t})}):null});tD.displayName=ag;var wY=WM("DialogOverlay.RemoveScroll"),SY=x.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=Sr(ag,n);return y.jsx(Ig,{as:wY,allowPinchZoom:!0,shards:[s.contentRef],children:y.jsx(oh.div,{"data-state":Y_(s.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),Zl="DialogContent",nD=x.forwardRef((e,t)=>{const n=JM(Zl,e.__scopeDialog),{forceMount:i=n.forceMount,...s}=e,o=Sr(Zl,e.__scopeDialog);return y.jsx(wr,{present:i||o.open,children:o.modal?y.jsx(CY,{...s,ref:t}):y.jsx(EY,{...s,ref:t})})});nD.displayName=Zl;var CY=x.forwardRef((e,t)=>{const n=Sr(Zl,e.__scopeDialog),i=x.useRef(null),s=Ct(t,n.contentRef,i);return x.useEffect(()=>{const o=i.current;if(o)return S_(o)},[]),y.jsx(iD,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(e.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Ie(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&o.preventDefault()}),onFocusOutside:Ie(e.onFocusOutside,o=>o.preventDefault())})}),EY=x.forwardRef((e,t)=>{const n=Sr(Zl,e.__scopeDialog),i=x.useRef(!1),s=x.useRef(!1);return y.jsx(iD,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(i.current||n.triggerRef.current?.focus(),o.preventDefault()),i.current=!1,s.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(i.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;n.triggerRef.current?.contains(l)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),iD=x.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,...l}=e,c=Sr(Zl,n),d=x.useRef(null),h=Ct(t,d);return d_(),y.jsxs(y.Fragment,{children:[y.jsx(kg,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:s,onUnmountAutoFocus:o,children:y.jsx(Yf,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Y_(c.open),...l,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),y.jsxs(y.Fragment,{children:[y.jsx(TY,{titleId:c.titleId}),y.jsx(NY,{contentRef:d,descriptionId:c.descriptionId})]})]})}),W_="DialogTitle",sD=x.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=Sr(W_,n);return y.jsx(oh.h2,{id:s.titleId,...i,ref:t})});sD.displayName=W_;var rD="DialogDescription",AY=x.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=Sr(rD,n);return y.jsx(oh.p,{id:s.descriptionId,...i,ref:t})});AY.displayName=rD;var oD="DialogClose",aD=x.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=Sr(oD,n);return y.jsx(oh.button,{type:"button",...i,ref:t,onClick:Ie(e.onClick,()=>s.onOpenChange(!1))})});aD.displayName=oD;function Y_(e){return e?"open":"closed"}var lD="DialogTitleWarning",[tce,cD]=dY(lD,{contentName:Zl,titleName:W_,docsSlug:"dialog"}),TY=({titleId:e})=>{const t=cD(lD),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},RY="DialogDescriptionWarning",NY=({contentRef:e,descriptionId:t})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cD(RY).contentName}}.`;return x.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(i))},[i,e,t]),null},uD=ZM,dD=QM,fD=eD,kY=tD,hD=nD,mD=sD,pD=aD;const Z_=uD,PY=dD,OY=fD,MY=({className:e,...t})=>y.jsx(kY,{className:Ye("fixed inset-0 z-50 bg-black/60 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}),X_=({className:e,children:t,...n})=>y.jsxs(OY,{children:[y.jsx(MY,{}),y.jsxs(hD,{className:Ye("bg-background fixed top-[50%] left-[50%] z-50 max-h-[90dvh] w-full max-w-lg -translate-x-1/2 -translate-y-1/2 overflow-hidden rounded-2xl border shadow-xl duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95",e),...n,children:[t,y.jsxs(pD,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-none disabled:pointer-events-none",children:[y.jsx(Ia,{className:"size-4"}),y.jsx("span",{className:"sr-only",children:"Close"})]})]})]}),Q_=({className:e,...t})=>y.jsx("div",{className:Ye("flex flex-col gap-1.5 p-6 pb-4",e),...t}),J_=({className:e,...t})=>y.jsx(mD,{className:Ye("text-lg leading-none font-semibold tracking-tight",e),...t}),_T=({checked:e,onCheckedChange:t})=>y.jsx("button",{role:"switch","aria-checked":e,onClick:t,className:`relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 ${e?"bg-green-600":"bg-input"}`,children:y.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow-lg transition-transform ${e?"translate-x-5":"translate-x-0"}`})}),DY=({open:e,onOpenChange:t})=>{const n=Le(st.isAuthenticated),{showEmptyNodes:i,toggleShowEmptyNodes:s}=uY(),[o,l]=Gs(GM);return y.jsx(Z_,{open:e,onOpenChange:t,children:y.jsxs(X_,{children:[y.jsx(Q_,{children:y.jsx(J_,{children:"Configuraes"})}),y.jsxs("div",{className:"divide-y",children:[y.jsxs("section",{className:"space-y-3 p-6",children:[y.jsx("h3",{className:"text-sm font-semibold",children:"rvore Taxonmica"}),y.jsxs("div",{className:"flex items-start justify-between gap-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("p",{className:"text-sm font-medium",children:"Exibir ns sem descendentes"}),y.jsxs("p",{className:"text-muted-foreground text-xs leading-relaxed",children:["Por padro,  exibido apenas ns que possuem descendentes. Mantenha ",y.jsx("strong",{children:"desativado"})," para continuar com esse comportamento ou ",y.jsx("strong",{children:"ative"})," para exibir ns sem descendentes."]}),!n&&y.jsx("p",{className:"text-muted-foreground text-xs italic",children:"Faa login para salvar esta preferncia."})]}),y.jsx(_T,{checked:i,onCheckedChange:s})]})]}),y.jsxs("section",{className:"space-y-3 p-6",children:[y.jsx("h3",{className:"text-sm font-semibold",children:"Desafios"}),y.jsxs("div",{className:"flex items-center justify-between gap-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("p",{className:"text-sm font-medium",children:"Som"}),y.jsx("p",{className:"text-muted-foreground text-xs",children:"Ativar ou desativar os efeitos sonoros durante os desafios."})]}),y.jsx(_T,{checked:!o.muted,onCheckedChange:()=>l(c=>({...c,muted:!c.muted}))})]}),!o.muted&&y.jsx("div",{className:"space-y-2",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("p",{className:"text-sm font-medium",children:"Volume"}),y.jsxs("div",{className:"text-muted-foreground flex items-center gap-1.5 text-xs",children:[y.jsx(oH,{className:"size-3.5"}),y.jsxs(jM,{value:[o.volume*100],onValueChange:([c])=>l(d=>({...d,volume:c/100})),min:0,max:100,step:1,className:"relative flex h-5 w-32 touch-none items-center select-none",children:[y.jsx(FM,{className:"relative h-1 w-full grow rounded-full bg-gray-200",children:y.jsx(VM,{className:"absolute h-full rounded-full bg-green-600"})}),y.jsx($M,{className:"block h-4 w-4 rounded-full bg-green-600 shadow focus:outline-none"})]}),y.jsx(sH,{className:"size-3.5"})]})]})})]})]})]})})},gD=({isProfilePage:e})=>{const{changeTheme:t,theme:n}=Iu(),{t:i}=At(),s=Le(st.isAuthenticated),o=Le(st.userDb),{logout:l,isLoggingOut:c}=H_(),[d,h]=Gs(Qe.challenge),m=async()=>{d.status==="IN_PROGRESS"&&!window.confirm(`Voc tem um desafio em andamento. Ao Sair, o desafio ser cancelado.

Deseja continuar?`)||(await l(),h({mode:null,status:"NOT_STARTED"}))},v=Ei(),[b,_]=x.useState(!1);return e&&!s&&v({to:"/login"}),y.jsxs(y.Fragment,{children:[y.jsxs(CO,{children:[y.jsx(EO,{asChild:!0,className:"group cursor-pointer",children:y.jsx("div",{className:"rounded-full",children:s&&o?y.jsxs(lK,{className:e?"size-12":"size-8",children:[y.jsx(cK,{src:o.avatar_url,alt:"User"}),y.jsx(uK,{className:"bg-green-600 text-xs text-white",children:o.name[0]})]}):y.jsx(I6,{className:"size-6"})})}),y.jsx(AO,{className:"m-1 w-full",align:"start",children:y.jsxs(JH,{children:[!s&&y.jsxs(y.Fragment,{children:[y.jsx(Qi,{children:y.jsxs(cf,{to:"/login",className:"flex w-full items-center",children:[y.jsx(D6,{className:"mr-2 size-4"}),y.jsx("span",{children:i("loginWithGoogle")})]})}),y.jsx(xa,{})]}),!e&&s&&o&&y.jsxs(Qi,{onClick:()=>{d.status==="IN_PROGRESS"&&!window.confirm(`Voc tem um desafio em andamento. Acessar seu perfil, o desafio ser cancelado.

Deseja continuar?`)||(h({mode:null,status:"NOT_STARTED"}),v({to:"/profile"}))},children:[y.jsxs("div",{className:"px-2 py-1.5 text-sm",children:[y.jsx("div",{className:"font-medium",children:o.name}),y.jsx("div",{className:"text-muted-foreground text-xs",children:o.email})]}),y.jsx(xa,{})]}),e&&y.jsxs(y.Fragment,{children:[y.jsx(Qi,{children:y.jsxs(cf,{to:"/",className:"flex w-full items-center",children:[y.jsx(Ug,{className:"mr-2 size-4"}),y.jsx("span",{children:i("nav.back")})]})}),y.jsx(xa,{})]}),y.jsx(Qi,{disabled:d.status==="IN_PROGRESS",onClick:()=>h({mode:"UNSET",status:"NOT_STARTED"}),children:y.jsxs(cf,{to:"/challenges",className:"flex w-full items-center",children:[y.jsx(oO,{className:"mr-2 size-4"})," ",i("nav.challenges")]})}),y.jsx(xa,{}),y.jsx(Qi,{onClick:()=>{d.status==="IN_PROGRESS"&&!window.confirm(`Voc tem um desafio em andamento. Ao acessar Explorar, o desafio ser cancelado.

Deseja continuar?`)||(h({mode:null,status:"NOT_STARTED"}),v({to:"/"}))},children:y.jsxs("div",{className:"flex w-full items-center",children:[y.jsx(J6,{className:"mr-2 size-4"})," ",i("nav.explore")]})}),y.jsx(xa,{}),y.jsxs(Qi,{onClick:()=>_(!0),children:[y.jsx(Y6,{className:"mr-2 size-4"}),y.jsx("span",{children:"Configuraes"})]}),y.jsx(xa,{}),y.jsxs(Lb,{children:[y.jsxs(jb,{children:[i("theme"),": ",i(n)]}),y.jsx(Db,{children:y.jsxs(Ib,{className:"m-1",children:[y.jsx(Qi,{onClick:()=>t("light"),children:i("light")}),y.jsx(Qi,{onClick:()=>t("dark"),children:i("dark")}),y.jsx(Qi,{onClick:()=>t("system"),children:i("system")})]})})]}),y.jsx(xa,{}),y.jsxs(Lb,{children:[y.jsxs(jb,{children:[i("language"),": ",i(Qt.language)]}),y.jsx(Db,{children:y.jsxs(Ib,{className:"m-1",children:[y.jsx(Qi,{onClick:()=>Qt.changeLanguage("pt"),children:i("pt")}),y.jsx(Qi,{onClick:()=>Qt.changeLanguage("en"),children:i("en")}),y.jsx(Qi,{onClick:()=>Qt.changeLanguage("es"),children:i("es")})]})})]}),!e&&s&&y.jsxs(Lb,{children:[y.jsx(xa,{}),y.jsxs(jb,{disabled:c,children:[y.jsx(p1,{className:"mr-2 size-4"}),y.jsx("span",{children:i("logout")})]}),y.jsx(Db,{children:y.jsxs(Ib,{className:"w-72 max-w-[90vw] p-4",sideOffset:-90,alignOffset:90,children:[y.jsx("p",{className:"mb-3 text-center text-sm leading-relaxed",children:i("nav.logoutWarning")}),y.jsxs(Wt,{onClick:m,variant:"destructive",className:"w-full",children:[c?y.jsx(ih,{className:"mr-2 h-4 w-4 animate-spin"}):y.jsx(p1,{className:"mr-2 h-4 w-4"}),i("nav.logoutAnyway")]})]})})]})]})})]}),y.jsx(DY,{open:b,onOpenChange:_})]})},vD=()=>y.jsxs("header",{className:"flex w-[calc(100%-8px)] items-center justify-between gap-3 rounded-br-2xl pt-4 pb-6",children:[y.jsx(ii,{alt:"Logo",src:yU,className:"h-12"}),y.jsxs("div",{className:"flex w-full flex-col",children:[y.jsx("h1",{className:"text-2xl font-bold",children:"Treevera"}),y.jsx("p",{className:"line-clamp-1 text-base/4",children:"Taxonomia interativa"})]}),y.jsx(gD,{})]});var ah=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},LY={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},jY=class{#e=LY;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},ko=new jY;function IY(e){setTimeout(e,0)}var Xl=typeof window>"u"||"Deno"in globalThis;function ti(){}function zY(e,t){return typeof e=="function"?e(t):e}function ix(e){return typeof e=="number"&&e>=0&&e!==1/0}function yD(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Da(e,t){return typeof e=="function"?e(t):e}function Us(e,t){return typeof e=="function"?e(t):e}function wT(e,t){const{type:n="all",exact:i,fetchStatus:s,predicate:o,queryKey:l,stale:c}=e;if(l){if(i){if(t.queryHash!==ew(l,t.options))return!1}else if(!jf(t.queryKey,l))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||s&&s!==t.state.fetchStatus||o&&!o(t))}function ST(e,t){const{exact:n,status:i,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Lf(t.options.mutationKey)!==Lf(o))return!1}else if(!jf(t.options.mutationKey,o))return!1}return!(i&&t.state.status!==i||s&&!s(t))}function ew(e,t){return(t?.queryKeyHashFn||Lf)(e)}function Lf(e){return JSON.stringify(e,(t,n)=>rx(n)?Object.keys(n).sort().reduce((i,s)=>(i[s]=n[s],i),{}):n)}function jf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>jf(e[n],t[n])):!1}var BY=Object.prototype.hasOwnProperty;function bD(e,t,n=0){if(e===t)return e;if(n>500)return t;const i=CT(e)&&CT(t);if(!i&&!(rx(e)&&rx(t)))return t;const o=(i?e:Object.keys(e)).length,l=i?t:Object.keys(t),c=l.length,d=i?new Array(c):{};let h=0;for(let m=0;m<c;m++){const v=i?m:l[m],b=e[v],_=t[v];if(b===_){d[v]=b,(i?m<o:BY.call(e,v))&&h++;continue}if(b===null||_===null||typeof b!="object"||typeof _!="object"){d[v]=_;continue}const C=bD(b,_,n+1);d[v]=C,C===b&&h++}return o===c&&h===o?e:d}function sx(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function CT(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function rx(e){if(!ET(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!ET(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ET(e){return Object.prototype.toString.call(e)==="[object Object]"}function UY(e){return new Promise(t=>{ko.setTimeout(t,e)})}function ox(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?bD(e,t):t}function FY(e,t,n=0){const i=[...e,t];return n&&i.length>n?i.slice(1):i}function VY(e,t,n=0){const i=[t,...e];return n&&i.length>n?i.slice(0,-1):i}var tw=Symbol();function xD(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===tw?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function _D(e,t){return typeof e=="function"?e(...t):!!e}function $Y(e,t,n){let i=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??=t(),i||(i=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var HY=class extends ah{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Xl&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},nw=new HY;function ax(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function i(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{i({status:"fulfilled",value:s}),e(s)},n.reject=s=>{i({status:"rejected",reason:s}),t(s)},n}function qY(e){let t;if(e.then(n=>(t=n,n),ti)?.catch(ti),t!==void 0)return{data:t}}function wD(e){return e}function GY(e){return{mutationKey:e.options.mutationKey,state:e.state,...e.options.scope&&{scope:e.options.scope},...e.meta&&{meta:e.meta}}}function KY(e,t,n){const i=()=>{const s=e.promise?.then(t).catch(o=>n(o)?Promise.reject(new Error("redacted")):Promise.reject(o));return s?.catch(ti),s};return{dehydratedAt:Date.now(),state:{...e.state,...e.state.data!==void 0&&{data:t(e.state.data)}},queryKey:e.queryKey,queryHash:e.queryHash,...e.state.status==="pending"&&{promise:i()},...e.meta&&{meta:e.meta}}}function WY(e){return e.state.isPaused}function YY(e){return e.state.status==="success"}function ZY(e){return!0}function XY(e,t={}){const n=t.shouldDehydrateMutation??e.getDefaultOptions().dehydrate?.shouldDehydrateMutation??WY,i=e.getMutationCache().getAll().flatMap(d=>n(d)?[GY(d)]:[]),s=t.shouldDehydrateQuery??e.getDefaultOptions().dehydrate?.shouldDehydrateQuery??YY,o=t.shouldRedactErrors??e.getDefaultOptions().dehydrate?.shouldRedactErrors??ZY,l=t.serializeData??e.getDefaultOptions().dehydrate?.serializeData??wD,c=e.getQueryCache().getAll().flatMap(d=>s(d)?[KY(d,l,o)]:[]);return{mutations:i,queries:c}}function QY(e,t,n){if(typeof t!="object"||t===null)return;const i=e.getMutationCache(),s=e.getQueryCache(),o=n?.defaultOptions?.deserializeData??e.getDefaultOptions().hydrate?.deserializeData??wD,l=t.mutations||[],c=t.queries||[];l.forEach(({state:d,...h})=>{i.build(e,{...e.getDefaultOptions().hydrate?.mutations,...n?.defaultOptions?.mutations,...h},d)}),c.forEach(({queryKey:d,state:h,queryHash:m,meta:v,promise:b,dehydratedAt:_})=>{const C=b?qY(b):void 0,E=h.data===void 0?C?.data:h.data,T=E===void 0?E:o(E);let k=s.get(m);const N=k?.state.status==="pending",P=k?.state.fetchStatus==="fetching";if(k){const O=C&&_!==void 0&&_>k.state.dataUpdatedAt;if(h.dataUpdatedAt>k.state.dataUpdatedAt||O){const{fetchStatus:j,...U}=h;k.setState({...U,data:T})}}else k=s.build(e,{...e.getDefaultOptions().hydrate?.queries,...n?.defaultOptions?.queries,queryKey:d,queryHash:m,meta:v},{...h,data:T,fetchStatus:"idle",status:T!==void 0?"success":h.status});b&&!N&&!P&&(_===void 0||_>k.state.dataUpdatedAt)&&k.fetch(void 0,{initialPromise:Promise.resolve(b).then(o)}).catch(ti)})}var JY=IY;function eZ(){let e=[],t=0,n=c=>{c()},i=c=>{c()},s=JY;const o=c=>{t?e.push(c):s(()=>{n(c)})},l=()=>{const c=e;e=[],c.length&&s(()=>{i(()=>{c.forEach(d=>{n(d)})})})};return{batch:c=>{let d;t++;try{d=c()}finally{t--,t||l()}return d},batchCalls:c=>(...d)=>{o(()=>{c(...d)})},schedule:o,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{i=c},setScheduler:c=>{s=c}}}var mi=eZ(),tZ=class extends ah{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Xl&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},lg=new tZ;function nZ(e){return Math.min(1e3*2**e,3e4)}function SD(e){return(e??"online")==="online"?lg.isOnline():!0}var lx=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function CD(e){let t=!1,n=0,i;const s=ax(),o=()=>s.status!=="pending",l=E=>{if(!o()){const T=new lx(E);b(T),e.onCancel?.(T)}},c=()=>{t=!0},d=()=>{t=!1},h=()=>nw.isFocused()&&(e.networkMode==="always"||lg.isOnline())&&e.canRun(),m=()=>SD(e.networkMode)&&e.canRun(),v=E=>{o()||(i?.(),s.resolve(E))},b=E=>{o()||(i?.(),s.reject(E))},_=()=>new Promise(E=>{i=T=>{(o()||h())&&E(T)},e.onPause?.()}).then(()=>{i=void 0,o()||e.onContinue?.()}),C=()=>{if(o())return;let E;const T=n===0?e.initialPromise:void 0;try{E=T??e.fn()}catch(k){E=Promise.reject(k)}Promise.resolve(E).then(v).catch(k=>{if(o())return;const N=e.retry??(Xl?0:3),P=e.retryDelay??nZ,O=typeof P=="function"?P(n,k):P,j=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,k);if(t||!j){b(k);return}n++,e.onFail?.(n,k),UY(O).then(()=>h()?void 0:_()).then(()=>{t?b(k):C()})})};return{promise:s,status:()=>s.status,cancel:l,continue:()=>(i?.(),s),cancelRetry:c,continueRetry:d,canStart:m,start:()=>(m()?C():_().then(C),s)}}var ED=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ix(this.gcTime)&&(this.#e=ko.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Xl?1/0:300*1e3))}clearGcTimeout(){this.#e&&(ko.clearTimeout(this.#e),this.#e=void 0)}},iZ=class extends ED{#e;#t;#n;#s;#i;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=TT(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=TT(this.options);t.data!==void 0&&(this.setState(AT(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=ox(this.state.data,e,this.options);return this.#r({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#r({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(ti).catch(ti):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Us(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Da(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!yD(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(d=>d.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,i=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},s=()=>{const c=xD(this.options,t),h=(()=>{const m={client:this.#s,queryKey:this.queryKey,meta:this.meta};return i(m),m})();return this.#o=!1,this.options.persister?this.options.persister(c,h,this):c(h)},l=(()=>{const c={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:s};return i(c),c})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#r({type:"fetch",meta:l.fetchOptions?.meta}),this.#i=CD({initialPromise:t?.initialPromise,fn:l.fetchFn,onCancel:c=>{c instanceof lx&&c.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(c,d)=>{this.#r({type:"failed",failureCount:c,error:d})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const c=await this.#i.start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof lx){if(c.silent)return this.#i.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#r({type:"error",error:c}),this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...AD(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,...AT(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),mi.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function AD(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:SD(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function AT(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function TT(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,i=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var sZ=class extends ah{constructor(e,t){super(),this.options=t,this.#e=e,this.#r=null,this.#o=ax(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#s=void 0;#i;#a;#o;#r;#p;#f;#h;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),RT(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return cx(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return cx(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#_(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Us(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),t._defaulted&&!sx(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&NT(this.#t,n,this.options,t)&&this.#d(),this.updateResult(),i&&(this.#t!==n||Us(this.options.enabled,this.#t)!==Us(t.enabled,this.#t)||Da(this.options.staleTime,this.#t)!==Da(t.staleTime,this.#t))&&this.#g();const s=this.#v();i&&(this.#t!==n||Us(this.options.enabled,this.#t)!==Us(t.enabled,this.#t)||s!==this.#l)&&this.#y(s)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return oZ(this,n)&&(this.#s=n,this.#a=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(e,t){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),t?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(e){this.#w();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(ti)),t}#g(){this.#x();const e=Da(this.options.staleTime,this.#t);if(Xl||this.#s.isStale||!ix(e))return;const n=yD(this.#s.dataUpdatedAt,e)+1;this.#c=ko.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(e){this.#_(),this.#l=e,!(Xl||Us(this.options.enabled,this.#t)===!1||!ix(this.#l)||this.#l===0)&&(this.#u=ko.setInterval(()=>{(this.options.refetchIntervalInBackground||nw.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#y(this.#v())}#x(){this.#c&&(ko.clearTimeout(this.#c),this.#c=void 0)}#_(){this.#u&&(ko.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const n=this.#t,i=this.options,s=this.#s,o=this.#i,l=this.#a,d=e!==n?e.state:this.#n,{state:h}=e;let m={...h},v=!1,b;if(t._optimisticResults){const I=this.hasListeners(),$=!I&&RT(e,t),Z=I&&NT(e,n,t,i);($||Z)&&(m={...m,...AD(h.data,e.options)}),t._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:_,errorUpdatedAt:C,status:E}=m;b=m.data;let T=!1;if(t.placeholderData!==void 0&&b===void 0&&E==="pending"){let I;s?.isPlaceholderData&&t.placeholderData===l?.placeholderData?(I=s.data,T=!0):I=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,I!==void 0&&(E="success",b=ox(s?.data,I,t),v=!0)}if(t.select&&b!==void 0&&!T)if(s&&b===o?.data&&t.select===this.#p)b=this.#f;else try{this.#p=t.select,b=t.select(b),b=ox(s?.data,b,t),this.#f=b,this.#r=null}catch(I){this.#r=I}this.#r&&(_=this.#r,b=this.#f,C=Date.now(),E="error");const k=m.fetchStatus==="fetching",N=E==="pending",P=E==="error",O=N&&k,j=b!==void 0,z={status:E,fetchStatus:m.fetchStatus,isPending:N,isSuccess:E==="success",isError:P,isInitialLoading:O,isLoading:O,data:b,dataUpdatedAt:m.dataUpdatedAt,error:_,errorUpdatedAt:C,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:k,isRefetching:k&&!N,isLoadingError:P&&!j,isPaused:m.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:P&&j,isStale:iw(e,t),refetch:this.refetch,promise:this.#o,isEnabled:Us(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const I=z.data!==void 0,$=z.status==="error"&&!I,Z=X=>{$?X.reject(z.error):I&&X.resolve(z.data)},K=()=>{const X=this.#o=z.promise=ax();Z(X)},W=this.#o;switch(W.status){case"pending":e.queryHash===n.queryHash&&Z(W);break;case"fulfilled":($||z.data!==W.value)&&K();break;case"rejected":(!$||z.error!==W.reason)&&K();break}}return z}updateResult(){const e=this.#s,t=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#a=this.options,this.#i.data!==void 0&&(this.#h=this.#t),sx(t,e))return;this.#s=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!this.#m.size)return!0;const o=new Set(s??this.#m);return this.options.throwOnError&&o.add("error"),Object.keys(this.#s).some(l=>{const c=l;return this.#s[c]!==e[c]&&o.has(c)})};this.#S({listeners:n()})}#w(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(e){mi.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function rZ(e,t){return Us(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function RT(e,t){return rZ(e,t)||e.state.data!==void 0&&cx(e,t,t.refetchOnMount)}function cx(e,t,n){if(Us(t.enabled,e)!==!1&&Da(t.staleTime,e)!=="static"){const i=typeof n=="function"?n(e):n;return i==="always"||i!==!1&&iw(e,t)}return!1}function NT(e,t,n,i){return(e!==t||Us(i.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&iw(e,n)}function iw(e,t){return Us(t.enabled,e)!==!1&&e.isStaleByTime(Da(t.staleTime,e))}function oZ(e,t){return!sx(e.getCurrentResult(),t)}function kT(e){return{onFetch:(t,n)=>{const i=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],l=t.state.data?.pageParams||[];let c={pages:[],pageParams:[]},d=0;const h=async()=>{let m=!1;const v=C=>{$Y(C,()=>t.signal,()=>m=!0)},b=xD(t.options,t.fetchOptions),_=async(C,E,T)=>{if(m)return Promise.reject();if(E==null&&C.pages.length)return Promise.resolve(C);const N=(()=>{const U={client:t.client,queryKey:t.queryKey,pageParam:E,direction:T?"backward":"forward",meta:t.options.meta};return v(U),U})(),P=await b(N),{maxPages:O}=t.options,j=T?VY:FY;return{pages:j(C.pages,P,O),pageParams:j(C.pageParams,E,O)}};if(s&&o.length){const C=s==="backward",E=C?aZ:PT,T={pages:o,pageParams:l},k=E(i,T);c=await _(T,k,C)}else{const C=e??o.length;do{const E=d===0?l[0]??i.initialPageParam:PT(i,c);if(d>0&&E==null)break;c=await _(c,E),d++}while(d<C)}return c};t.options.persister?t.fetchFn=()=>t.options.persister?.(h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=h}}}function PT(e,{pages:t,pageParams:n}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,n[i],n):void 0}function aZ(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var lZ=class extends ED{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||cZ(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#i({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=CD({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(o,l)=>{this.#i({type:"failed",failureCount:o,error:l})},onPause:()=>{this.#i({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",s=!this.#s.canStart();try{if(i)t();else{this.#i({type:"pending",variables:e,isPaused:s}),this.#n.config.onMutate&&await this.#n.config.onMutate(e,this,n);const l=await this.options.onMutate?.(e,n);l!==this.state.context&&this.#i({type:"pending",context:l,variables:e,isPaused:s})}const o=await this.#s.start();return await this.#n.config.onSuccess?.(o,e,this.state.context,this,n),await this.options.onSuccess?.(o,e,this.state.context,n),await this.#n.config.onSettled?.(o,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(o,null,e,this.state.context,n),this.#i({type:"success",data:o}),o}catch(o){try{await this.#n.config.onError?.(o,e,this.state.context,this,n)}catch(l){Promise.reject(l)}try{await this.options.onError?.(o,e,this.state.context,n)}catch(l){Promise.reject(l)}try{await this.#n.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this,n)}catch(l){Promise.reject(l)}try{await this.options.onSettled?.(void 0,o,e,this.state.context,n)}catch(l){Promise.reject(l)}throw this.#i({type:"error",error:o}),o}finally{this.#n.runNext(this)}}#i(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),mi.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function cZ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var uZ=class extends ah{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const i=new lZ({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(i),i}add(e){this.#e.add(e);const t=rp(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=rp(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=rp(e);if(typeof t=="string"){const i=this.#t.get(t)?.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){const t=rp(e);return typeof t=="string"?this.#t.get(t)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){mi.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>ST(t,n))}findAll(e={}){return this.getAll().filter(t=>ST(e,t))}notify(e){mi.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return mi.batch(()=>Promise.all(e.map(t=>t.continue().catch(ti))))}};function rp(e){return e.options.scope?.id}var dZ=class extends ah{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const i=t.queryKey,s=t.queryHash??ew(i,t);let o=this.get(s);return o||(o=new iZ({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){mi.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>wT(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>wT(e,n)):t}notify(e){mi.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){mi.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){mi.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},fZ=class{#e;#t;#n;#s;#i;#a;#o;#r;constructor(e={}){this.#e=e.queryCache||new dZ,this.#t=e.mutationCache||new uZ,this.#n=e.defaultOptions||{},this.#s=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=nw.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=lg.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),i=n.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Da(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const i=n.data;return[t,i]})}setQueryData(e,t,n){const i=this.defaultQueryOptions({queryKey:e}),o=this.#e.get(i.queryHash)?.state.data,l=zY(t,o);if(l!==void 0)return this.#e.build(this,i).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return mi.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;mi.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return mi.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},i=mi.batch(()=>this.#e.findAll(e).map(s=>s.cancel(n)));return Promise.all(i).then(ti).catch(ti)}invalidateQueries(e,t={}){return mi.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},i=mi.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(ti)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(i).then(ti)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(Da(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ti).catch(ti)}fetchInfiniteQuery(e){return e.behavior=kT(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ti).catch(ti)}ensureInfiniteQueryData(e){return e.behavior=kT(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return lg.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#s.set(Lf(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#s.values()],n={};return t.forEach(i=>{jf(e,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(e,t){this.#i.set(Lf(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(i=>{jf(e,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ew(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===tw&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},TD=x.createContext(void 0),Yg=e=>{const t=x.useContext(TD);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},hZ=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),y.jsx(TD.Provider,{value:e,children:t})),RD=x.createContext(!1),sw=()=>x.useContext(RD),mZ=RD.Provider;function pZ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var gZ=x.createContext(pZ()),vZ=()=>x.useContext(gZ),yZ=(e,t,n)=>{const i=n?.state.error&&typeof e.throwOnError=="function"?_D(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||i)&&(t.isReset()||(e.retryOnMount=!1))},bZ=e=>{x.useEffect(()=>{e.clearReset()},[e])},xZ=({result:e,errorResetBoundary:t,throwOnError:n,query:i,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&(s&&e.data===void 0||_D(n,[e.error,i])),_Z=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...s)=>n(i(...s)):n(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},wZ=(e,t)=>e.isLoading&&e.isFetching&&!t,SZ=(e,t)=>e?.suspense&&t.isPending,OT=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function CZ(e,t,n){const i=sw(),s=vZ(),o=Yg(),l=o.defaultQueryOptions(e);o.getDefaultOptions().queries?._experimental_beforeQuery?.(l);const c=o.getQueryCache().get(l.queryHash);l._optimisticResults=i?"isRestoring":"optimistic",_Z(l),yZ(l,s,c),bZ(s);const d=!o.getQueryCache().get(l.queryHash),[h]=x.useState(()=>new t(o,l)),m=h.getOptimisticResult(l),v=!i&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(b=>{const _=v?h.subscribe(mi.batchCalls(b)):ti;return h.updateResult(),_},[h,v]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),x.useEffect(()=>{h.setOptions(l)},[l,h]),SZ(l,m))throw OT(l,h,s);if(xZ({result:m,errorResetBoundary:s,throwOnError:l.throwOnError,query:c,suspense:l.suspense}))throw m.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(l,m),l.experimental_prefetchInRender&&!Xl&&wZ(m,i)&&(d?OT(l,h,s):c?.promise)?.catch(ti).finally(()=>{h.updateResult()}),l.notifyOnChangeProps?m:h.trackResult(m)}function Ws(e,t){return CZ(e,sZ)}const ND="https://api.gbif.org/v1",Uu=`${ND}/species`,EZ=`${Uu}/search?rank=KINGDOM&status=ACCEPTED&limit=100&datasetKey=d7dddbf4-2cf0-4f39-9b2a-bb099caae36c`,AZ=async()=>(await(await fetch(EZ)).json()).results,kD=async e=>{const t=`${Uu}/${e}/children?limit=1000&status=ACCEPTED`;return(await fetch(t).then(i=>i.json())).results},ux=async e=>{const t=`${Uu}/${e}`;return await fetch(t).then(i=>i.json())},TZ=async({specieKey:e})=>{const t=`https://api.gbif.org/v1/occurrence/search?mediaType=StillImage&taxon_key=${e}&limit=1`,i=(await fetch(t).then(s=>s.json())).results?.[0]?.media?.[0]?.identifier;return i?{source:"GBIF",imgUrl:i,licenseCode:"",author:""}:null},RZ=async(e,t)=>{let n=`${Uu}/search?q=${encodeURIComponent(e)}&status=ACCEPTED&limit=50`;return t&&(n+=`&kingdom=${encodeURIComponent(t)}`),(await fetch(n).then(o=>o.json())).results??[]},PD=async e=>{const t=`${Uu}/${e}/parents`;return await fetch(t).then(i=>i.json())??[]},NZ=`${ND}/occurrence`,kZ=async e=>{const t=`${Uu}/${e}/vernacularNames`;return(await fetch(t).then(i=>i.json())).results??[]},PZ=async e=>{const t=`${NZ}/search?taxonKey=${e}`;return await fetch(t).then(i=>i.json())},Va={kingdoms_key:"kingdoms",children_key:"children",specie_key:"specie",parents_key:"parents",daily_challenge_key:"daily_challenge",challenge_tips_key:"challenge_tips",vernacular_names_key:"vernacular_names"},Uo=({specieKey:e})=>{const{specie_key:t}=Va;return Ws({queryKey:[t,e],queryFn:async()=>{const n=await ux(e);return{canonicalName:n.canonicalName,scientificName:n.scientificName,kingdom:n.kingdom,phylum:n.phylum,class:n.class,order:n.order,family:n.family,genus:n.genus,species:n.species,authorship:n.authorship,publishedIn:n.publishedIn,title:n.title}},staleTime:1e3*60*15,gcTime:1e3*60*60})},OZ="https://api.inaturalist.org/v1",MZ=async({canonicalName:e})=>{const t=`${OZ}/search?q=${encodeURIComponent(e)}&sources=taxa`,n=await fetch(t).then(s=>s.json());if(!n||!n.results?.[0]?.record?.id)return null;const i=n.results[0].record.taxon_photos?.[0]?.photo;if(i)return{source:"iNaturalist",imgUrl:i.original_url,licenseCode:i.license_code,author:i.attribution_name}},OD="https://pt.wikipedia.org/api/rest_v1/page/summary",DZ=async e=>await(await fetch(`${OD}/${e}`)).json();async function LZ(e){const t=`
    SELECT ?item ?itemLabel ?iucnStatus ?iucnStatusLabel WHERE {
      ?item wdt:P225 "${e}".
      OPTIONAL { ?item wdt:P141 ?iucnStatus. }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
    } LIMIT 1
  `,i="https://query.wikidata.org/sparql"+"?format=json&query="+encodeURIComponent(t);try{const s=await fetch(i,{headers:{Accept:"application/sparql-results+json"}});if(!s.ok)throw new Error("Erro na requisio SPARQL");const l=(await s.json())?.results?.bindings?.[0]?.iucnStatusLabel?.value;return{Extinct:"EX","Extinct in the Wild":"EW","Critically Endangered":"CR",Endangered:"EN",Vulnerable:"VU","Near Threatened":"NT","Least Concern":"LC","Data Deficient":"DD","Not Evaluated":"NE"}[l]??null}catch(s){return console.error("Erro ao buscar status na Wikidata:",s),null}}const jZ=async({canonicalName:e})=>{const t=`${OD}/${encodeURIComponent(e)}`,n=await fetch(t).then(i=>i.json());return n?.thumbnail?.source?{source:"Wikipedia",imgUrl:n.thumbnail.source,licenseCode:"",author:""}:null},lh=(e,t)=>Ws({queryKey:["specie-image",e,t],queryFn:async()=>{if(!e||!t)return null;const n=await MZ({canonicalName:t});if(n)return n;const i=await jZ({canonicalName:t});return i||await TZ({specieKey:e})},enabled:!!e&&!!t,staleTime:1e3*60*60*24}),Po=({className:e,children:t})=>y.jsx("div",{className:`bg-skeleton bg-skeleton-size animate-skeleton rounded ${e}`,children:t}),MD=()=>y.jsxs("div",{className:"space-y-2",children:[y.jsx(Po,{className:"h-8 w-1/2"}),y.jsx(Po,{className:"h-4 w-1/3"})]}),IZ=()=>y.jsx("div",{className:"grid grid-cols-2 gap-4",children:Array.from({length:6}).map((e,t)=>y.jsxs("div",{children:[y.jsx(Po,{className:"h-4 w-3/4"}),y.jsx(Po,{className:"mt-1 h-4 w-1/2"})]},t))}),zZ=()=>y.jsx(Po,{className:"h-6 w-32 rounded-full"}),BZ=()=>y.jsxs("div",{className:"space-y-2",children:[y.jsx(Po,{className:"h-4 w-full"}),y.jsx(Po,{className:"h-4 w-5/6"}),y.jsx(Po,{className:"h-4 w-2/3"})]}),UZ=()=>y.jsx(Po,{className:"aspect-square w-full rounded-xl"}),FZ=({zoom:e=3,...t})=>{const n=x.useRef(null),[i,s]=x.useState(!1),[o,l]=x.useState({xPercent:50,yPercent:50}),[c,d]=x.useState(!1),h=m=>{const v=n.current?.getBoundingClientRect();if(!v)return;const b=(m.clientX-v.left)/v.width*100,_=(m.clientY-v.top)/v.height*100;l({xPercent:b,yPercent:_})};return x.useEffect(()=>{if(!c)return;const m=v=>{v.key==="Escape"&&d(!1)};return window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[c]),y.jsxs(y.Fragment,{children:[y.jsx("div",{ref:n,className:`relative size-full cursor-zoom-in overflow-hidden ${t.className}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onMouseMove:h,onClick:()=>d(!0),style:{backgroundImage:`url(${t.src})`,backgroundSize:i?`${e*100}%`:"cover",backgroundPosition:`${o.xPercent}% ${o.yPercent}%`,backgroundRepeat:"no-repeat",transition:"background-size 0.15s ease-out"},children:y.jsx(ii,{src:t.src,alt:t.alt,className:`h-full w-full object-cover transition-opacity duration-150 ${i?"opacity-0":"opacity-100"}`,draggable:!1,fallbackSrc:t.fallbackSrc})}),c&&y.jsx("div",{className:"fixed inset-0 z-[9999] flex cursor-zoom-out items-center justify-center bg-black/90",onClick:()=>d(!1),children:y.jsx(ii,{src:t.src,alt:t.alt,className:"max-h-[95vh] max-w-[95vw] rounded-lg object-contain",draggable:!1})})]})},VZ=()=>{const{t:e}=At(),t=Le(za),n=Le(Qe.expandedNodes).find(m=>m.rank==="SPECIES")?.key,i=t??n,{data:s}=Uo({specieKey:i}),{data:o,isLoading:l}=lh(i,s?.canonicalName),[c,d]=x.useState(!1);if(!s)return;if(l)return y.jsx(UZ,{});const h=Bs(YO[s.kingdom.toLowerCase()]);return!o||c?y.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2 rounded-xl border border-dashed p-4 text-center text-sm",children:[y.jsx(ii,{src:h,alt:s.scientificName,className:"max-h-48 opacity-30"}),y.jsx("span",{children:e("specieDetail.imageNotFound")}),y.jsx("div",{className:"rounded-md border p-3 text-xs",children:y.jsx("p",{children:e("specieDetail.imageNote")})}),y.jsx("a",{href:`https://www.google.com/search?tbm=isch&q=${encodeURIComponent(s.canonicalName)}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:e("specieDetail.viewOnGoogle")})]}):y.jsxs("div",{className:"mx-auto w-full",children:[y.jsx("figure",{children:y.jsx(FZ,{src:o.imgUrl||h,fallbackSrc:h,alt:`Imagem da espcie "${s.scientificName}"`,onFallbackChange:d,zoom:3,className:"h-auto w-full rounded-lg"})}),o.source&&y.jsxs("p",{className:"text-muted-foreground px-2 py-1 text-right text-[11px]",children:[e("specieDetail.imageSource"),": ",o.source," ",o.author&&`${e("specieDetail.imageBy")}${o.author.trim()}`,o.licenseCode&&`${e("specieDetail.imageLicense")}${o.licenseCode}`]})]})},$Z=WO("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function cg({className:e,variant:t,asChild:n=!1,...i}){const s=n?FO:"span";return y.jsx(s,{"data-slot":"badge",className:Ye($Z({variant:t}),e),...i})}const MT={EX:{bg:"bg-gray-800"},EW:{bg:"bg-gray-600"},CR:{bg:"bg-red-700"},EN:{bg:"bg-orange-600"},VU:{bg:"bg-yellow-500",text:"text-black"},NT:{bg:"bg-lime-500",text:"text-black"},LC:{bg:"bg-green-500"},DD:{bg:"bg-blue-400"},NE:{bg:"bg-neutral-400"}},HZ=({statusCode:e})=>{const{t}=At();if(!e||!(e in MT))return y.jsx(cg,{className:"w-full bg-neutral-500 py-3 text-sm text-white",children:t("vulnerability.unknown")});const{bg:n,text:i}=MT[e];return y.jsx(cg,{className:Ye("w-full py-3 text-sm text-white",n,i),children:t(`vulnerability.${e}`)})},qZ=({specieName:e})=>Ws({queryKey:["iucn-status",e],queryFn:async()=>await LZ(e),enabled:!!e,staleTime:1e3*60*60*24}),GZ=e=>Ws({queryKey:["wiki-details",e],queryFn:()=>DZ(e),enabled:!!e,staleTime:1e3*60*60*24}),rw=x.createContext({});function Zg(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const DD=typeof window<"u",LD=DD?x.useLayoutEffect:x.useEffect,Xg=x.createContext(null);function ow(e,t){e.indexOf(t)===-1&&e.push(t)}function ug(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Xr=(e,t,n)=>n>t?t:n<e?e:n;let aw=()=>{};const Io={},jD=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function ID(e){return typeof e=="object"&&e!==null}const zD=e=>/^0[^.\s]+$/u.test(e);function BD(e){let t;return()=>(t===void 0&&(t=e()),t)}const qs=e=>e,KZ=(e,t)=>n=>t(e(n)),ch=(...e)=>e.reduce(KZ),If=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class lw{constructor(){this.subscriptions=[]}add(t){return ow(this.subscriptions,t),()=>ug(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gr=e=>e*1e3,$s=e=>e/1e3;function UD(e,t){return t?e*(1e3/t):0}const FD=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,WZ=1e-7,YZ=12;function ZZ(e,t,n,i,s){let o,l,c=0;do l=t+(n-t)/2,o=FD(l,i,s)-e,o>0?n=l:t=l;while(Math.abs(o)>WZ&&++c<YZ);return l}function uh(e,t,n,i){if(e===t&&n===i)return qs;const s=o=>ZZ(o,0,1,e,n);return o=>o===0||o===1?o:FD(s(o),t,i)}const VD=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,$D=e=>t=>1-e(1-t),HD=uh(.33,1.53,.69,.99),cw=$D(HD),qD=VD(cw),GD=e=>(e*=2)<1?.5*cw(e):.5*(2-Math.pow(2,-10*(e-1))),uw=e=>1-Math.sin(Math.acos(e)),KD=$D(uw),WD=VD(uw),XZ=uh(.42,0,1,1),QZ=uh(0,0,.58,1),YD=uh(.42,0,.58,1),JZ=e=>Array.isArray(e)&&typeof e[0]!="number",ZD=e=>Array.isArray(e)&&typeof e[0]=="number",eX={linear:qs,easeIn:XZ,easeInOut:YD,easeOut:QZ,circIn:uw,circInOut:WD,circOut:KD,backIn:cw,backInOut:qD,backOut:HD,anticipate:GD},tX=e=>typeof e=="string",DT=e=>{if(ZD(e)){aw(e.length===4);const[t,n,i,s]=e;return uh(t,n,i,s)}else if(tX(e))return eX[e];return e},op=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function nX(e,t){let n=new Set,i=new Set,s=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){l.has(m)&&(h.schedule(m),e()),m(c)}const h={schedule:(m,v=!1,b=!1)=>{const C=b&&s?n:i;return v&&l.add(m),C.has(m)||C.add(m),m},cancel:m=>{i.delete(m),l.delete(m)},process:m=>{if(c=m,s){o=!0;return}s=!0,[n,i]=[i,n],n.forEach(d),n.clear(),s=!1,o&&(o=!1,h.process(m))}};return h}const iX=40;function XD(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=op.reduce((P,O)=>(P[O]=nX(o),P),{}),{setup:c,read:d,resolveKeyframes:h,preUpdate:m,update:v,preRender:b,render:_,postRender:C}=l,E=()=>{const P=Io.useManualTiming?s.timestamp:performance.now();n=!1,Io.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(P-s.timestamp,iX),1)),s.timestamp=P,s.isProcessing=!0,c.process(s),d.process(s),h.process(s),m.process(s),v.process(s),b.process(s),_.process(s),C.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(E))},T=()=>{n=!0,i=!0,s.isProcessing||e(E)};return{schedule:op.reduce((P,O)=>{const j=l[O];return P[O]=(U,z=!1,I=!1)=>(n||T(),j.schedule(U,z,I)),P},{}),cancel:P=>{for(let O=0;O<op.length;O++)l[op[O]].cancel(P)},state:s,steps:l}}const{schedule:Jt,cancel:Ba,state:hi,steps:Wb}=XD(typeof requestAnimationFrame<"u"?requestAnimationFrame:qs,!0);let Ep;function sX(){Ep=void 0}const Li={now:()=>(Ep===void 0&&Li.set(hi.isProcessing||Io.useManualTiming?hi.timestamp:performance.now()),Ep),set:e=>{Ep=e,queueMicrotask(sX)}},QD=e=>t=>typeof t=="string"&&t.startsWith(e),JD=QD("--"),rX=QD("var(--"),dw=e=>rX(e)?oX.test(e.split("/*")[0].trim()):!1,oX=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function LT(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Fu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},zf={...Fu,transform:e=>Xr(0,1,e)},ap={...Fu,default:1},mf=e=>Math.round(e*1e5)/1e5,fw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function aX(e){return e==null}const lX=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hw=(e,t)=>n=>!!(typeof n=="string"&&lX.test(n)&&n.startsWith(e)||t&&!aX(n)&&Object.prototype.hasOwnProperty.call(n,t)),eL=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,o,l,c]=i.match(fw);return{[e]:parseFloat(s),[t]:parseFloat(o),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},cX=e=>Xr(0,255,e),Yb={...Fu,transform:e=>Math.round(cX(e))},Ul={test:hw("rgb","red"),parse:eL("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+Yb.transform(e)+", "+Yb.transform(t)+", "+Yb.transform(n)+", "+mf(zf.transform(i))+")"};function uX(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const dx={test:hw("#"),parse:uX,transform:Ul.transform},dh=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Sa=dh("deg"),Yr=dh("%"),$e=dh("px"),dX=dh("vh"),fX=dh("vw"),jT={...Yr,parse:e=>Yr.parse(e)/100,transform:e=>Yr.transform(e*100)},fu={test:hw("hsl","hue"),parse:eL("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+Yr.transform(mf(t))+", "+Yr.transform(mf(n))+", "+mf(zf.transform(i))+")"},Mn={test:e=>Ul.test(e)||dx.test(e)||fu.test(e),parse:e=>Ul.test(e)?Ul.parse(e):fu.test(e)?fu.parse(e):dx.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ul.transform(e):fu.transform(e),getAnimatableNone:e=>{const t=Mn.parse(e);return t.alpha=0,Mn.transform(t)}},hX=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mX(e){return isNaN(e)&&typeof e=="string"&&(e.match(fw)?.length||0)+(e.match(hX)?.length||0)>0}const tL="number",nL="color",pX="var",gX="var(",IT="${}",vX=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bf(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let o=0;const c=t.replace(vX,d=>(Mn.test(d)?(i.color.push(o),s.push(nL),n.push(Mn.parse(d))):d.startsWith(gX)?(i.var.push(o),s.push(pX),n.push(d)):(i.number.push(o),s.push(tL),n.push(parseFloat(d))),++o,IT)).split(IT);return{values:n,split:c,indexes:i,types:s}}function iL(e){return Bf(e).values}function sL(e){const{split:t,types:n}=Bf(e),i=t.length;return s=>{let o="";for(let l=0;l<i;l++)if(o+=t[l],s[l]!==void 0){const c=n[l];c===tL?o+=mf(s[l]):c===nL?o+=Mn.transform(s[l]):o+=s[l]}return o}}const yX=e=>typeof e=="number"?0:Mn.test(e)?Mn.getAnimatableNone(e):e;function bX(e){const t=iL(e);return sL(e)(t.map(yX))}const vr={test:mX,parse:iL,createTransformer:sL,getAnimatableNone:bX};function Zb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function xX({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,o=0,l=0;if(!t)s=o=l=n;else{const c=n<.5?n*(1+t):n+t-n*t,d=2*n-c;s=Zb(d,c,e+1/3),o=Zb(d,c,e),l=Zb(d,c,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:i}}function dg(e,t){return n=>n>0?t:e}const un=(e,t,n)=>e+(t-e)*n,Xb=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},_X=[dx,Ul,fu],wX=e=>_X.find(t=>t.test(e));function zT(e){const t=wX(e);if(!t)return!1;let n=t.parse(e);return t===fu&&(n=xX(n)),n}const BT=(e,t)=>{const n=zT(e),i=zT(t);if(!n||!i)return dg(e,t);const s={...n};return o=>(s.red=Xb(n.red,i.red,o),s.green=Xb(n.green,i.green,o),s.blue=Xb(n.blue,i.blue,o),s.alpha=un(n.alpha,i.alpha,o),Ul.transform(s))},fx=new Set(["none","hidden"]);function SX(e,t){return fx.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function CX(e,t){return n=>un(e,t,n)}function mw(e){return typeof e=="number"?CX:typeof e=="string"?dw(e)?dg:Mn.test(e)?BT:TX:Array.isArray(e)?rL:typeof e=="object"?Mn.test(e)?BT:EX:dg}function rL(e,t){const n=[...e],i=n.length,s=e.map((o,l)=>mw(o)(o,t[l]));return o=>{for(let l=0;l<i;l++)n[l]=s[l](o);return n}}function EX(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=mw(e[s])(e[s],t[s]));return s=>{for(const o in i)n[o]=i[o](s);return n}}function AX(e,t){const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],l=e.indexes[o][i[o]],c=e.values[l]??0;n[s]=c,i[o]++}return n}const TX=(e,t)=>{const n=vr.createTransformer(t),i=Bf(e),s=Bf(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?fx.has(e)&&!s.values.length||fx.has(t)&&!i.values.length?SX(e,t):ch(rL(AX(i,s),s.values),n):dg(e,t)};function oL(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?un(e,t,n):mw(e)(e,t)}const RX=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Jt.update(t,n),stop:()=>Ba(t),now:()=>hi.isProcessing?hi.timestamp:Li.now()}},aL=(e,t,n=10)=>{let i="";const s=Math.max(Math.round(t/n),2);for(let o=0;o<s;o++)i+=Math.round(e(o/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},fg=2e4;function pw(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<fg;)t+=n,i=e.next(t);return t>=fg?1/0:t}function NX(e,t=100,n){const i=n({...e,keyframes:[0,t]}),s=Math.min(pw(i),fg);return{type:"keyframes",ease:o=>i.next(s*o).value/t,duration:$s(s)}}const kX=5;function lL(e,t,n){const i=Math.max(t-kX,0);return UD(n-e(i),t-i)}const xn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Qb=.001;function PX({duration:e=xn.duration,bounce:t=xn.bounce,velocity:n=xn.velocity,mass:i=xn.mass}){let s,o,l=1-t;l=Xr(xn.minDamping,xn.maxDamping,l),e=Xr(xn.minDuration,xn.maxDuration,$s(e)),l<1?(s=h=>{const m=h*l,v=m*e,b=m-n,_=hx(h,l),C=Math.exp(-v);return Qb-b/_*C},o=h=>{const v=h*l*e,b=v*n+n,_=Math.pow(l,2)*Math.pow(h,2)*e,C=Math.exp(-v),E=hx(Math.pow(h,2),l);return(-s(h)+Qb>0?-1:1)*((b-_)*C)/E}):(s=h=>{const m=Math.exp(-h*e),v=(h-n)*e+1;return-Qb+m*v},o=h=>{const m=Math.exp(-h*e),v=(n-h)*(e*e);return m*v});const c=5/e,d=MX(s,o,c);if(e=gr(e),isNaN(d))return{stiffness:xn.stiffness,damping:xn.damping,duration:e};{const h=Math.pow(d,2)*i;return{stiffness:h,damping:l*2*Math.sqrt(i*h),duration:e}}}const OX=12;function MX(e,t,n){let i=n;for(let s=1;s<OX;s++)i=i-e(i)/t(i);return i}function hx(e,t){return e*Math.sqrt(1-t*t)}const DX=["duration","bounce"],LX=["stiffness","damping","mass"];function UT(e,t){return t.some(n=>e[n]!==void 0)}function jX(e){let t={velocity:xn.velocity,stiffness:xn.stiffness,damping:xn.damping,mass:xn.mass,isResolvedFromDuration:!1,...e};if(!UT(e,LX)&&UT(e,DX))if(t.velocity=0,e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,o=2*Xr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:xn.mass,stiffness:s,damping:o}}else{const n=PX({...e,velocity:0});t={...t,...n,mass:xn.mass},t.isResolvedFromDuration=!0}return t}function hg(e=xn.visualDuration,t=xn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:d,damping:h,mass:m,duration:v,velocity:b,isResolvedFromDuration:_}=jX({...n,velocity:-$s(n.velocity||0)}),C=b||0,E=h/(2*Math.sqrt(d*m)),T=l-o,k=$s(Math.sqrt(d/m)),N=Math.abs(T)<5;i||(i=N?xn.restSpeed.granular:xn.restSpeed.default),s||(s=N?xn.restDelta.granular:xn.restDelta.default);let P;if(E<1){const j=hx(k,E);P=U=>{const z=Math.exp(-E*k*U);return l-z*((C+E*k*T)/j*Math.sin(j*U)+T*Math.cos(j*U))}}else if(E===1)P=j=>l-Math.exp(-k*j)*(T+(C+k*T)*j);else{const j=k*Math.sqrt(E*E-1);P=U=>{const z=Math.exp(-E*k*U),I=Math.min(j*U,300);return l-z*((C+E*k*T)*Math.sinh(I)+j*T*Math.cosh(I))/j}}const O={calculatedDuration:_&&v||null,next:j=>{const U=P(j);if(_)c.done=j>=v;else{let z=j===0?C:0;E<1&&(z=j===0?gr(C):lL(P,j,U));const I=Math.abs(z)<=i,$=Math.abs(l-U)<=s;c.done=I&&$}return c.value=c.done?l:U,c},toString:()=>{const j=Math.min(pw(O),fg),U=aL(z=>O.next(j*z).value,j,30);return j+"ms "+U},toTransition:()=>{}};return O}hg.applyToOptions=e=>{const t=NX(e,100,hg);return e.ease=t.ease,e.duration=gr(t.duration),e.type="keyframes",e};function mx({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:d,restDelta:h=.5,restSpeed:m}){const v=e[0],b={done:!1,value:v},_=I=>c!==void 0&&I<c||d!==void 0&&I>d,C=I=>c===void 0?d:d===void 0||Math.abs(c-I)<Math.abs(d-I)?c:d;let E=n*t;const T=v+E,k=l===void 0?T:l(T);k!==T&&(E=k-v);const N=I=>-E*Math.exp(-I/i),P=I=>k+N(I),O=I=>{const $=N(I),Z=P(I);b.done=Math.abs($)<=h,b.value=b.done?k:Z};let j,U;const z=I=>{_(b.value)&&(j=I,U=hg({keyframes:[b.value,C(b.value)],velocity:lL(P,I,b.value),damping:s,stiffness:o,restDelta:h,restSpeed:m}))};return z(0),{calculatedDuration:null,next:I=>{let $=!1;return!U&&j===void 0&&($=!0,O(I),z(I)),j!==void 0&&I>=j?U.next(I-j):(!$&&O(I),b)}}}function IX(e,t,n){const i=[],s=n||Io.mix||oL,o=e.length-1;for(let l=0;l<o;l++){let c=s(e[l],e[l+1]);if(t){const d=Array.isArray(t)?t[l]||qs:t;c=ch(d,c)}i.push(c)}return i}function zX(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const o=e.length;if(aw(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=IX(t,i,s),d=c.length,h=m=>{if(l&&m<e[0])return t[0];let v=0;if(d>1)for(;v<e.length-2&&!(m<e[v+1]);v++);const b=If(e[v],e[v+1],m);return c[v](b)};return n?m=>h(Xr(e[0],e[o-1],m)):h}function BX(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=If(0,t,i);e.push(un(n,1,s))}}function UX(e){const t=[0];return BX(t,e.length-1),t}function FX(e,t){return e.map(n=>n*t)}function VX(e,t){return e.map(()=>t||YD).splice(0,e.length-1)}function pf({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=JZ(i)?i.map(DT):DT(i),o={done:!1,value:t[0]},l=FX(n&&n.length===t.length?n:UX(t),e),c=zX(l,t,{ease:Array.isArray(s)?s:VX(t,s)});return{calculatedDuration:e,next:d=>(o.value=c(d),o.done=d>=e,o)}}const $X=e=>e!==null;function gw(e,{repeat:t,repeatType:n="loop"},i,s=1){const o=e.filter($X),c=s<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!c||i===void 0?o[c]:i}const HX={decay:mx,inertia:mx,tween:pf,keyframes:pf,spring:hg};function cL(e){typeof e.type=="string"&&(e.type=HX[e.type])}class vw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const qX=e=>e/100;class yw extends vw{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Li.now()&&this.tick(Li.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;cL(t);const{type:n=pf,repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=t;let{keyframes:c}=t;const d=n||pf;d!==pf&&typeof c[0]!="number"&&(this.mixKeyframes=ch(qX,oL(c[0],c[1])),c=[0,100]);const h=d({...t,keyframes:c});o==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...c].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=pw(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=h}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:s,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:h=0,keyframes:m,repeat:v,repeatType:b,repeatDelay:_,type:C,onUpdate:E,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const k=this.currentTime-h*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?k<0:k>s;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let P=this.currentTime,O=i;if(v){const I=Math.min(this.currentTime,s)/c;let $=Math.floor(I),Z=I%1;!Z&&I>=1&&(Z=1),Z===1&&$--,$=Math.min($,v+1),$%2&&(b==="reverse"?(Z=1-Z,_&&(Z-=_/c)):b==="mirror"&&(O=l)),P=Xr(0,1,Z)*c}const j=N?{done:!1,value:m[0]}:O.next(P);o&&(j.value=o(j.value));let{done:U}=j;!N&&d!==null&&(U=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return z&&C!==mx&&(j.value=gw(m,this.options,T,this.speed)),E&&E(j.value),z&&this.finish(),j}then(t,n){return this.finished.then(t,n)}get duration(){return $s(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+$s(t)}get time(){return $s(this.currentTime)}set time(t){t=gr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Li.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=$s(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=RX,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Li.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function GX(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Fl=e=>e*180/Math.PI,px=e=>{const t=Fl(Math.atan2(e[1],e[0]));return gx(t)},KX={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:px,rotateZ:px,skewX:e=>Fl(Math.atan(e[1])),skewY:e=>Fl(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},gx=e=>(e=e%360,e<0&&(e+=360),e),FT=px,VT=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),$T=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),WX={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:VT,scaleY:$T,scale:e=>(VT(e)+$T(e))/2,rotateX:e=>gx(Fl(Math.atan2(e[6],e[5]))),rotateY:e=>gx(Fl(Math.atan2(-e[2],e[0]))),rotateZ:FT,rotate:FT,skewX:e=>Fl(Math.atan(e[4])),skewY:e=>Fl(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function vx(e){return e.includes("scale")?1:0}function yx(e,t){if(!e||e==="none")return vx(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=WX,s=n;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=KX,s=c}if(!s)return vx(t);const o=i[t],l=s[1].split(",").map(ZX);return typeof o=="function"?o(l):l[o]}const YX=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return yx(n,t)};function ZX(e){return parseFloat(e.trim())}const Vu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$u=new Set(Vu),HT=e=>e===Fu||e===$e,XX=new Set(["x","y","z"]),QX=Vu.filter(e=>!XX.has(e));function JX(e){const t=[];return QX.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Pa={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>yx(t,"x"),y:(e,{transform:t})=>yx(t,"y")};Pa.translateX=Pa.x;Pa.translateY=Pa.y;const Hl=new Set;let bx=!1,xx=!1,_x=!1;function uL(){if(xx){const e=Array.from(Hl).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=JX(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([o,l])=>{i.getValue(o)?.set(l)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}xx=!1,bx=!1,Hl.forEach(e=>e.complete(_x)),Hl.clear()}function dL(){Hl.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(xx=!0)})}function eQ(){_x=!0,dL(),uL(),_x=!1}class bw{constructor(t,n,i,s,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Hl.add(this),bx||(bx=!0,Jt.read(dL),Jt.resolveKeyframes(uL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;if(t[0]===null){const o=s?.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&n){const c=i.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}GX(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Hl.delete(this)}cancel(){this.state==="scheduled"&&(Hl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const tQ=e=>e.startsWith("--");function nQ(e,t,n){tQ(t)?e.style.setProperty(t,n):e.style[t]=n}const iQ={};function fL(e,t){const n=BD(e);return()=>iQ[t]??n()}const sQ=fL(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),hL=fL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),sf=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,qT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sf([0,.65,.55,1]),circOut:sf([.55,0,1,.45]),backIn:sf([.31,.01,.66,-.59]),backOut:sf([.33,1.53,.69,.99])};function mL(e,t){if(e)return typeof e=="function"?hL()?aL(e,t):"ease-out":ZD(e)?sf(e):Array.isArray(e)?e.map(n=>mL(n,t)||qT.easeOut):qT[e]}function rQ(e,t,n,{delay:i=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:c="easeOut",times:d}={},h=void 0){const m={[t]:n};d&&(m.offset=d);const v=mL(c,s);Array.isArray(v)&&(m.easing=v);const b={delay:i,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return h&&(b.pseudoElement=h),e.animate(m,b)}function pL(e){return typeof e=="function"&&"applyToOptions"in e}function oQ({type:e,...t}){return pL(e)&&hL()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class gL extends vw{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:i,keyframes:s,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:c,onComplete:d}=t;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=t,aw(typeof t.type!="string");const h=oQ(t);this.animation=rQ(n,i,s,h,o),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const m=gw(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):nQ(n,i,m),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return $s(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+$s(t)}get time(){return $s(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=gr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&sQ()?(this.animation.timeline=t,qs):n(this)}}const vL={anticipate:GD,backInOut:qD,circInOut:WD};function aQ(e){return e in vL}function lQ(e){typeof e.ease=="string"&&aQ(e.ease)&&(e.ease=vL[e.ease])}const Jb=10;class cQ extends gL{constructor(t){lQ(t),cL(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:s,element:o,...l}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const c=new yw({...l,autoplay:!1}),d=Math.max(Jb,Li.now()-this.startTime),h=Xr(0,Jb,d-Jb);n.setWithVelocity(c.sample(Math.max(0,d-h)).value,c.sample(d).value,h),c.stop()}}const GT=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(vr.test(e)||e==="0")&&!e.startsWith("url("));function uQ(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function dQ(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],l=GT(s,t),c=GT(o,t);return!l||!c?!1:uQ(e)||(n==="spring"||pL(n))&&i}function wx(e){e.duration=0,e.type="keyframes"}const fQ=new Set(["opacity","clipPath","filter","transform"]),hQ=BD(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function mQ(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:s,damping:o,type:l}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=t.owner.getProps();return hQ()&&n&&fQ.has(n)&&(n!=="transform"||!h)&&!d&&!i&&s!=="mirror"&&o!==0&&l!=="inertia"}const pQ=40;class gQ extends vw{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",keyframes:c,name:d,motionValue:h,element:m,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Li.now();const b={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:o,repeatType:l,name:d,motionValue:h,element:m,...v},_=m?.KeyframeResolver||bw;this.keyframeResolver=new _(c,(C,E,T)=>this.onKeyframesResolved(C,E,b,!T),d,h,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,i,s){this.keyframeResolver=void 0;const{name:o,type:l,velocity:c,delay:d,isHandoff:h,onUpdate:m}=i;this.resolvedAt=Li.now(),dQ(t,o,l,c)||((Io.instantAnimations||!d)&&m?.(gw(t,i,n)),t[0]=t[t.length-1],wx(i),i.repeat=0);const b={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>pQ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},_=!h&&mQ(b),C=b.motionValue?.owner?.current,E=_?new cQ({...b,element:C}):new yw(b);E.finished.then(()=>{this.notifyFinished()}).catch(qs),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),eQ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function yL(e,t,n,i=0,s=1){const o=Array.from(e).sort((h,m)=>h.sortNodePosition(m)).indexOf(t),l=e.size,c=(l-1)*i;return typeof n=="function"?n(o,l):s===1?o*i:c-o*i}const vQ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yQ(e){const t=vQ.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function bL(e,t,n=1){const[i,s]=yQ(e);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const l=o.trim();return jD(l)?parseFloat(l):l}return dw(s)?bL(s,t,n+1):s}const bQ={type:"spring",stiffness:500,damping:25,restSpeed:10},xQ=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),_Q={type:"keyframes",duration:.8},wQ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},SQ=(e,{keyframes:t})=>t.length>2?_Q:$u.has(e)?e.startsWith("scale")?xQ(t[1]):bQ:wQ,CQ=e=>e!==null;function EQ(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(CQ),o=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[o]}function xL(e,t){if(e?.inherit&&t){const{inherit:n,...i}=e;return{...t,...i}}return e}function xw(e,t){const n=e?.[t]??e?.default??e;return n!==e?xL(n,e):n}function AQ({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:c,from:d,elapsed:h,...m}){return!!Object.keys(m).length}const _w=(e,t,n,i={},s,o)=>l=>{const c=xw(i,e)||{},d=c.delay||i.delay||0;let{elapsed:h=0}=i;h=h-gr(d);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-h,onUpdate:b=>{t.set(b),c.onUpdate&&c.onUpdate(b)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:o?void 0:s};AQ(c)||Object.assign(m,SQ(e,m)),m.duration&&(m.duration=gr(m.duration)),m.repeatDelay&&(m.repeatDelay=gr(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let v=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(wx(m),m.delay===0&&(v=!0)),(Io.instantAnimations||Io.skipAnimations||s?.shouldSkipAnimations)&&(v=!0,wx(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,v&&!o&&t.get()!==void 0){const b=EQ(m.keyframes,c);if(b!==void 0){Jt.update(()=>{m.onUpdate(b),m.onComplete()});return}}return c.isSync?new yw(m):new gQ(m)};function KT(e){const t=[{},{}];return e?.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function ww(e,t,n,i){if(typeof t=="function"){const[s,o]=KT(i);t=t(n!==void 0?n:e.custom,s,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,o]=KT(i);t=t(n!==void 0?n:e.custom,s,o)}return t}function Cu(e,t,n){const i=e.getProps();return ww(i,t,n!==void 0?n:i.custom,e)}const _L=new Set(["width","height","top","left","right","bottom",...Vu]),WT=30,TQ=e=>!isNaN(parseFloat(e));class RQ{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const s=Li.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Li.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=TQ(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new lw);const i=this.events[t].add(n);return t==="change"?()=>{i(),Jt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Li.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>WT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,WT);return UD(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ku(e,t){return new RQ(e,t)}const Sx=e=>Array.isArray(e);function NQ(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ku(n))}function kQ(e){return Sx(e)?e[e.length-1]||0:e}function PQ(e,t){const n=Cu(e,t);let{transitionEnd:i={},transition:s={},...o}=n||{};o={...o,...i};for(const l in o){const c=kQ(o[l]);NQ(e,l,c)}}const Ci=e=>!!(e&&e.getVelocity);function OQ(e){return!!(Ci(e)&&e.add)}function Cx(e,t){const n=e.getValue("willChange");if(OQ(n))return n.add(t);if(!n&&Io.WillChange){const i=new Io.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function Sw(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const MQ="framerAppearId",wL="data-"+Sw(MQ);function SL(e){return e.props[wL]}function DQ({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function CL(e,t,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:o,transitionEnd:l,...c}=t;const d=e.getDefaultTransition();o=o?xL(o,d):d;const h=o?.reduceMotion;i&&(o=i);const m=[],v=s&&e.animationState&&e.animationState.getState()[s];for(const b in c){const _=e.getValue(b,e.latestValues[b]??null),C=c[b];if(C===void 0||v&&DQ(v,b))continue;const E={delay:n,...xw(o||{},b)},T=_.get();if(T!==void 0&&!_.isAnimating&&!Array.isArray(C)&&C===T&&!E.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const O=SL(e);if(O){const j=window.MotionHandoffAnimation(O,b,Jt);j!==null&&(E.startTime=j,k=!0)}}Cx(e,b);const N=h??e.shouldReduceMotion;_.start(_w(b,_,C,N&&_L.has(b)?{type:!1}:E,e,k));const P=_.animation;P&&m.push(P)}if(l){const b=()=>Jt.update(()=>{l&&PQ(e,l)});m.length?Promise.all(m).then(b):b()}return m}function Ex(e,t,n={}){const i=Cu(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(CL(e,i,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:v}=s;return LQ(e,t,d,h,m,v,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[d,h]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>h())}else return Promise.all([o(),l(n.delay)])}function LQ(e,t,n=0,i=0,s=0,o=1,l){const c=[];for(const d of e.variantChildren)d.notify("AnimationStart",t),c.push(Ex(d,t,{...l,delay:n+(typeof i=="function"?0:i)+yL(e.variantChildren,d,i,s,o)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(c)}function jQ(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(o=>Ex(e,o,n));i=Promise.all(s)}else if(typeof t=="string")i=Ex(e,t,n);else{const s=typeof t=="function"?Cu(e,t,n.custom):t;i=Promise.all(CL(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}const IQ={test:e=>e==="auto",parse:e=>e},EL=e=>t=>t.test(e),AL=[Fu,$e,Yr,Sa,fX,dX,IQ],YT=e=>AL.find(EL(e));function zQ(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||zD(e):!0}const BQ=new Set(["brightness","contrast","saturate","opacity"]);function UQ(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(fw)||[];if(!i)return e;const s=n.replace(i,"");let o=BQ.has(t)?1:0;return i!==n&&(o*=100),t+"("+o+s+")"}const FQ=/\b([a-z-]*)\(.*?\)/gu,Ax={...vr,getAnimatableNone:e=>{const t=e.match(FQ);return t?t.map(UQ).join(" "):e}},Tx={...vr,getAnimatableNone:e=>{const t=vr.parse(e);return vr.createTransformer(e)(t.map(i=>typeof i=="number"?0:typeof i=="object"?{...i,alpha:1}:i))}},ZT={...Fu,transform:Math.round},VQ={rotate:Sa,rotateX:Sa,rotateY:Sa,rotateZ:Sa,scale:ap,scaleX:ap,scaleY:ap,scaleZ:ap,skew:Sa,skewX:Sa,skewY:Sa,distance:$e,translateX:$e,translateY:$e,translateZ:$e,x:$e,y:$e,z:$e,perspective:$e,transformPerspective:$e,opacity:zf,originX:jT,originY:jT,originZ:$e},Cw={borderWidth:$e,borderTopWidth:$e,borderRightWidth:$e,borderBottomWidth:$e,borderLeftWidth:$e,borderRadius:$e,borderTopLeftRadius:$e,borderTopRightRadius:$e,borderBottomRightRadius:$e,borderBottomLeftRadius:$e,width:$e,maxWidth:$e,height:$e,maxHeight:$e,top:$e,right:$e,bottom:$e,left:$e,inset:$e,insetBlock:$e,insetBlockStart:$e,insetBlockEnd:$e,insetInline:$e,insetInlineStart:$e,insetInlineEnd:$e,padding:$e,paddingTop:$e,paddingRight:$e,paddingBottom:$e,paddingLeft:$e,paddingBlock:$e,paddingBlockStart:$e,paddingBlockEnd:$e,paddingInline:$e,paddingInlineStart:$e,paddingInlineEnd:$e,margin:$e,marginTop:$e,marginRight:$e,marginBottom:$e,marginLeft:$e,marginBlock:$e,marginBlockStart:$e,marginBlockEnd:$e,marginInline:$e,marginInlineStart:$e,marginInlineEnd:$e,fontSize:$e,backgroundPositionX:$e,backgroundPositionY:$e,...VQ,zIndex:ZT,fillOpacity:zf,strokeOpacity:zf,numOctaves:ZT},$Q={...Cw,color:Mn,backgroundColor:Mn,outlineColor:Mn,fill:Mn,stroke:Mn,borderColor:Mn,borderTopColor:Mn,borderRightColor:Mn,borderBottomColor:Mn,borderLeftColor:Mn,filter:Ax,WebkitFilter:Ax,mask:Tx,WebkitMask:Tx},TL=e=>$Q[e],HQ=new Set([Ax,Tx]);function RL(e,t){let n=TL(e);return HQ.has(n)||(n=vr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const qQ=new Set(["auto","none","0"]);function GQ(e,t,n){let i=0,s;for(;i<e.length&&!s;){const o=e[i];typeof o=="string"&&!qQ.has(o)&&Bf(o).values.length&&(s=e[i]),i++}if(s&&n)for(const o of t)e[o]=RL(n,s)}class KQ extends bw{constructor(t,n,i,s,o){super(t,n,i,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let v=t[m];if(typeof v=="string"&&(v=v.trim(),dw(v))){const b=bL(v,n.current);b!==void 0&&(t[m]=b),m===t.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!_L.has(i)||t.length!==2)return;const[s,o]=t,l=YT(s),c=YT(o),d=LT(s),h=LT(o);if(d!==h&&Pa[i]){this.needsMeasurement=!0;return}if(l!==c)if(HT(l)&&HT(c))for(let m=0;m<t.length;m++){const v=t[m];typeof v=="string"&&(t[m]=parseFloat(v))}else Pa[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||zQ(t[s]))&&i.push(s);i.length&&GQ(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pa[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=Pa[n](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const WQ=new Set(["opacity","clipPath","filter","transform"]);function NL(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const s=n?.[e]??i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e).filter(i=>i!=null)}const kL=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Rx(e){return ID(e)&&"offsetHeight"in e}const{schedule:Ew}=XD(queueMicrotask,!1),dr={x:!1,y:!1};function PL(){return dr.x||dr.y}function YQ(e){return e==="x"||e==="y"?dr[e]?null:(dr[e]=!0,()=>{dr[e]=!1}):dr.x||dr.y?null:(dr.x=dr.y=!0,()=>{dr.x=dr.y=!1})}function OL(e,t){const n=NL(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[n,s,()=>i.abort()]}function ZQ(e){return!(e.pointerType==="touch"||PL())}function XQ(e,t,n={}){const[i,s,o]=OL(e,n);return i.forEach(l=>{let c=!1,d=!1,h;const m=()=>{l.removeEventListener("pointerleave",C)},v=T=>{h&&(h(T),h=void 0),m()},b=T=>{c=!1,window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",b),d&&(d=!1,v(T))},_=()=>{c=!0,window.addEventListener("pointerup",b,s),window.addEventListener("pointercancel",b,s)},C=T=>{if(T.pointerType!=="touch"){if(c){d=!0;return}v(T)}},E=T=>{if(!ZQ(T))return;d=!1;const k=t(l,T);typeof k=="function"&&(h=k,l.addEventListener("pointerleave",C,s))};l.addEventListener("pointerenter",E,s),l.addEventListener("pointerdown",_,s)}),o}const ML=(e,t)=>t?e===t?!0:ML(e,t.parentElement):!1,Aw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,QQ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function JQ(e){return QQ.has(e.tagName)||e.isContentEditable===!0}const eJ=new Set(["INPUT","SELECT","TEXTAREA"]);function tJ(e){return eJ.has(e.tagName)||e.isContentEditable===!0}const Ap=new WeakSet;function XT(e){return t=>{t.key==="Enter"&&e(t)}}function e0(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const nJ=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=XT(()=>{if(Ap.has(n))return;e0(n,"down");const s=XT(()=>{e0(n,"up")}),o=()=>e0(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function QT(e){return Aw(e)&&!PL()}const JT=new WeakSet;function iJ(e,t,n={}){const[i,s,o]=OL(e,n),l=c=>{const d=c.currentTarget;if(!QT(c)||JT.has(c))return;Ap.add(d),n.stopPropagation&&JT.add(c);const h=t(d,c),m=(_,C)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),Ap.has(d)&&Ap.delete(d),QT(_)&&typeof h=="function"&&h(_,{success:C})},v=_=>{m(_,d===window||d===document||n.useGlobalTarget||ML(d,_.target))},b=_=>{m(_,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",b,s)};return i.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),Rx(c)&&(c.addEventListener("focus",h=>nJ(h,s)),!JQ(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function Tw(e){return ID(e)&&"ownerSVGElement"in e}const Tp=new WeakMap;let Rp;const DL=(e,t,n)=>(i,s)=>s&&s[0]?s[0][e+"Size"]:Tw(i)&&"getBBox"in i?i.getBBox()[t]:i[n],sJ=DL("inline","width","offsetWidth"),rJ=DL("block","height","offsetHeight");function oJ({target:e,borderBoxSize:t}){Tp.get(e)?.forEach(n=>{n(e,{get width(){return sJ(e,t)},get height(){return rJ(e,t)}})})}function aJ(e){e.forEach(oJ)}function lJ(){typeof ResizeObserver>"u"||(Rp=new ResizeObserver(aJ))}function cJ(e,t){Rp||lJ();const n=NL(e);return n.forEach(i=>{let s=Tp.get(i);s||(s=new Set,Tp.set(i,s)),s.add(t),Rp?.observe(i)}),()=>{n.forEach(i=>{const s=Tp.get(i);s?.delete(t),s?.size||Rp?.unobserve(i)})}}const Np=new Set;let hu;function uJ(){hu=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Np.forEach(t=>t(e))},window.addEventListener("resize",hu)}function dJ(e){return Np.add(e),hu||uJ(),()=>{Np.delete(e),!Np.size&&typeof hu=="function"&&(window.removeEventListener("resize",hu),hu=void 0)}}function eR(e,t){return typeof e=="function"?dJ(e):cJ(e,t)}function fJ(e){return Tw(e)&&e.tagName==="svg"}const hJ=[...AL,Mn,vr],mJ=e=>hJ.find(EL(e)),tR=()=>({translate:0,scale:1,origin:0,originPoint:0}),mu=()=>({x:tR(),y:tR()}),nR=()=>({min:0,max:0}),Fn=()=>({x:nR(),y:nR()}),pJ=new WeakMap;function Qg(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Uf(e){return typeof e=="string"||Array.isArray(e)}const Rw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Nw=["initial",...Rw];function Jg(e){return Qg(e.animate)||Nw.some(t=>Uf(e[t]))}function LL(e){return!!(Jg(e)||e.variants)}function gJ(e,t,n){for(const i in t){const s=t[i],o=n[i];if(Ci(s))e.addValue(i,s);else if(Ci(o))e.addValue(i,ku(s,{owner:e}));else if(o!==s)if(e.hasValue(i)){const l=e.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=e.getStaticValue(i);e.addValue(i,ku(l!==void 0?l:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const Nx={current:null},jL={current:!1},vJ=typeof window<"u";function yJ(){if(jL.current=!0,!!vJ)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Nx.current=e.matches;e.addEventListener("change",t),t()}else Nx.current=!1}const iR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let mg={};function IL(e){mg=e}function bJ(){return mg}class xJ{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,skipAnimations:o,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=bw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Li.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Jt.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.skipAnimationsConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Jg(n),this.isVariantNode=LL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in b){const C=b[_];h[_]!==void 0&&Ci(C)&&C.set(h[_])}}mount(t){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=t,pJ.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(jL.current||yJ(),this.shouldReduceMotion=Nx.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Ba(this.notifyUpdate),Ba(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),n.accelerate&&WQ.has(t)&&this.current instanceof HTMLElement){const{factory:l,keyframes:c,times:d,ease:h,duration:m}=n.accelerate,v=new gL({element:this.current,name:t,keyframes:c,times:d,ease:h,duration:gr(m)}),b=l(v);this.valueSubscriptions.set(t,()=>{b(),v.cancel()});return}const i=$u.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Jt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in mg){const n=mg[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<iR.length;i++){const s=iR[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=t[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=gJ(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=ku(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(jD(i)||zD(i))?i=parseFloat(i):!mJ(i)&&vr.test(n)&&(i=RL(t,n)),this.setBaseTarget(t,Ci(i)?i.get():i)),Ci(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=ww(this.props,n,this.presenceContext?.custom);o&&(i=o[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Ci(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new lw),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Ew.render(this.render)}}class zL extends xJ{constructor(){super(...arguments),this.KeyframeResolver=KQ}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const i=t.style;return i?i[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ci(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class $a{constructor(t){this.isMounted=!1,this.node=t}update(){}}function BL({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function _J({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function wJ(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function t0(e){return e===void 0||e===1}function kx({scale:e,scaleX:t,scaleY:n}){return!t0(e)||!t0(t)||!t0(n)}function Dl(e){return kx(e)||UL(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function UL(e){return sR(e.x)||sR(e.y)}function sR(e){return e&&e!=="0%"}function pg(e,t,n){const i=e-n,s=t*i;return n+s}function rR(e,t,n,i,s){return s!==void 0&&(e=pg(e,s,i)),pg(e,n,i)+t}function Px(e,t=0,n=1,i,s){e.min=rR(e.min,t,n,i,s),e.max=rR(e.max,t,n,i,s)}function FL(e,{x:t,y:n}){Px(e.x,t.translate,t.scale,t.originPoint),Px(e.y,n.translate,n.scale,n.originPoint)}const oR=.999999999999,aR=1.0000000000001;function SJ(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let o,l;for(let c=0;c<s;c++){o=n[c],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&gu(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,FL(e,l)),i&&Dl(o.latestValues)&&gu(e,o.latestValues))}t.x<aR&&t.x>oR&&(t.x=1),t.y<aR&&t.y>oR&&(t.y=1)}function pu(e,t){e.min=e.min+t,e.max=e.max+t}function lR(e,t,n,i,s=.5){const o=un(e.min,e.max,s);Px(e,t,n,o,i)}function gu(e,t){lR(e.x,t.x,t.scaleX,t.scale,t.originX),lR(e.y,t.y,t.scaleY,t.scale,t.originY)}function VL(e,t){return BL(wJ(e.getBoundingClientRect(),t))}function CJ(e,t,n){const i=VL(e,n),{scroll:s}=t;return s&&(pu(i.x,s.offset.x),pu(i.y,s.offset.y)),i}const EJ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},AJ=Vu.length;function TJ(e,t,n){let i="",s=!0;for(let o=0;o<AJ;o++){const l=Vu[o],c=e[l];if(c===void 0)continue;let d=!0;if(typeof c=="number")d=c===(l.startsWith("scale")?1:0);else{const h=parseFloat(c);d=l.startsWith("scale")?h===1:h===0}if(!d||n){const h=kL(c,Cw[l]);if(!d){s=!1;const m=EJ[l]||l;i+=`${m}(${h}) `}n&&(t[l]=h)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function kw(e,t,n){const{style:i,vars:s,transformOrigin:o}=e;let l=!1,c=!1;for(const d in t){const h=t[d];if($u.has(d)){l=!0;continue}else if(JD(d)){s[d]=h;continue}else{const m=kL(h,Cw[d]);d.startsWith("origin")?(c=!0,o[d]=m):i[d]=m}}if(t.transform||(l||n?i.transform=TJ(t,e.transform,n):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:m=0}=o;i.transformOrigin=`${d} ${h} ${m}`}}function $L(e,{style:t,vars:n},i,s){const o=e.style;let l;for(l in t)o[l]=t[l];s?.applyProjectionStyles(o,i);for(l in n)o.setProperty(l,n[l])}function cR(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ef={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if($e.test(e))e=parseFloat(e);else return e;const n=cR(e,t.target.x),i=cR(e,t.target.y);return`${n}% ${i}%`}},RJ={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=vr.parse(e);if(s.length>5)return i;const o=vr.createTransformer(e),l=typeof s[0]!="number"?1:0,c=n.x.scale*t.x,d=n.y.scale*t.y;s[0+l]/=c,s[1+l]/=d;const h=un(c,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=h),typeof s[3+l]=="number"&&(s[3+l]/=h),o(s)}},Ox={borderRadius:{...ef,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ef,borderTopRightRadius:ef,borderBottomLeftRadius:ef,borderBottomRightRadius:ef,boxShadow:RJ};function HL(e,{layout:t,layoutId:n}){return $u.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ox[e]||e==="opacity")}function Pw(e,t,n){const i=e.style,s=t?.style,o={};if(!i)return o;for(const l in i)(Ci(i[l])||s&&Ci(s[l])||HL(l,e)||n?.getValue(l)?.liveStyle!==void 0)&&(o[l]=i[l]);return o}function NJ(e){return window.getComputedStyle(e)}class kJ extends zL{constructor(){super(...arguments),this.type="html",this.renderInstance=$L}readValueFromInstance(t,n){if($u.has(n))return this.projection?.isProjecting?vx(n):YX(t,n);{const i=NJ(t),s=(JD(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return VL(t,n)}build(t,n,i){kw(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return Pw(t,n,i)}}const PJ={offset:"stroke-dashoffset",array:"stroke-dasharray"},OJ={offset:"strokeDashoffset",array:"strokeDasharray"};function MJ(e,t,n=1,i=0,s=!0){e.pathLength=1;const o=s?PJ:OJ;e[o.offset]=`${-i}`,e[o.array]=`${t} ${n}`}const DJ=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function qL(e,{attrX:t,attrY:n,attrScale:i,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...c},d,h,m){if(kw(e,c,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:b}=e;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=m?.transformBox??"fill-box",delete v.transformBox);for(const _ of DJ)v[_]!==void 0&&(b[_]=v[_],delete v[_]);t!==void 0&&(v.x=t),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),s!==void 0&&MJ(v,s,o,l,!1)}const GL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),KL=e=>typeof e=="string"&&e.toLowerCase()==="svg";function LJ(e,t,n,i){$L(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(GL.has(s)?s:Sw(s),t.attrs[s])}function WL(e,t,n){const i=Pw(e,t,n);for(const s in e)if(Ci(e[s])||Ci(t[s])){const o=Vu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[o]=e[s]}return i}class jJ extends zL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if($u.has(n)){const i=TL(n);return i&&i.default||0}return n=GL.has(n)?n:Sw(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return WL(t,n,i)}build(t,n,i){qL(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,s){LJ(t,n,i,s)}mount(t){this.isSVGTag=KL(t.tagName),super.mount(t)}}const IJ=Nw.length;function YL(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?YL(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<IJ;n++){const i=Nw[n],s=e.props[i];(Uf(s)||s===!1)&&(t[i]=s)}return t}function ZL(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const zJ=[...Rw].reverse(),BJ=Rw.length;function UJ(e){return t=>Promise.all(t.map(({animation:n,options:i})=>jQ(e,n,i)))}function FJ(e){let t=UJ(e),n=uR(),i=!0;const s=d=>(h,m)=>{const v=Cu(e,m,d==="exit"?e.presenceContext?.custom:void 0);if(v){const{transition:b,transitionEnd:_,...C}=v;h={...h,...C,..._}}return h};function o(d){t=d(e)}function l(d){const{props:h}=e,m=YL(e.parent)||{},v=[],b=new Set;let _={},C=1/0;for(let T=0;T<BJ;T++){const k=zJ[T],N=n[k],P=h[k]!==void 0?h[k]:m[k],O=Uf(P),j=k===d?N.isActive:null;j===!1&&(C=T);let U=P===m[k]&&P!==h[k]&&O;if(U&&i&&e.manuallyAnimateOnMount&&(U=!1),N.protectedKeys={..._},!N.isActive&&j===null||!P&&!N.prevProp||Qg(P)||typeof P=="boolean")continue;if(k==="exit"&&N.isActive&&j!==!0){N.prevResolvedValues&&(_={..._,...N.prevResolvedValues});continue}const z=VJ(N.prevProp,P);let I=z||k===d&&N.isActive&&!U&&O||T>C&&O,$=!1;const Z=Array.isArray(P)?P:[P];let K=Z.reduce(s(k),{});j===!1&&(K={});const{prevResolvedValues:W={}}=N,X={...W,...K},se=ee=>{I=!0,b.has(ee)&&($=!0,b.delete(ee)),N.needsAnimating[ee]=!0;const Y=e.getValue(ee);Y&&(Y.liveStyle=!1)};for(const ee in X){const Y=K[ee],de=W[ee];if(_.hasOwnProperty(ee))continue;let ae=!1;Sx(Y)&&Sx(de)?ae=!ZL(Y,de):ae=Y!==de,ae?Y!=null?se(ee):b.add(ee):Y!==void 0&&b.has(ee)?se(ee):N.protectedKeys[ee]=!0}N.prevProp=P,N.prevResolvedValues=K,N.isActive&&(_={..._,...K}),i&&e.blockInitialAnimation&&(I=!1);const ve=U&&z;I&&(!ve||$)&&v.push(...Z.map(ee=>{const Y={type:k};if(typeof ee=="string"&&i&&!ve&&e.manuallyAnimateOnMount&&e.parent){const{parent:de}=e,ae=Cu(de,ee);if(de.enteringChildren&&ae){const{delayChildren:H}=ae.transition||{};Y.delay=yL(de.enteringChildren,e,H)}}return{animation:ee,options:Y}}))}if(b.size){const T={};if(typeof h.initial!="boolean"){const k=Cu(e,Array.isArray(h.initial)?h.initial[0]:h.initial);k&&k.transition&&(T.transition=k.transition)}b.forEach(k=>{const N=e.getBaseTarget(k),P=e.getValue(k);P&&(P.liveStyle=!0),T[k]=N??null}),v.push({animation:T})}let E=!!v.length;return i&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(E=!1),i=!1,E?t(v):Promise.resolve()}function c(d,h){if(n[d].isActive===h)return Promise.resolve();e.variantChildren?.forEach(v=>v.animationState?.setActive(d,h)),n[d].isActive=h;const m=l(d);for(const v in n)n[v].protectedKeys={};return m}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=uR()}}}function VJ(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!ZL(t,e):!1}function Pl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function uR(){return{animate:Pl(!0),whileInView:Pl(),whileHover:Pl(),whileTap:Pl(),whileDrag:Pl(),whileFocus:Pl(),exit:Pl()}}function dR(e,t){e.min=t.min,e.max=t.max}function cr(e,t){dR(e.x,t.x),dR(e.y,t.y)}function fR(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const XL=1e-4,$J=1-XL,HJ=1+XL,QL=.01,qJ=0-QL,GJ=0+QL;function ji(e){return e.max-e.min}function KJ(e,t,n){return Math.abs(e-t)<=n}function hR(e,t,n,i=.5){e.origin=i,e.originPoint=un(t.min,t.max,e.origin),e.scale=ji(n)/ji(t),e.translate=un(n.min,n.max,e.origin)-e.originPoint,(e.scale>=$J&&e.scale<=HJ||isNaN(e.scale))&&(e.scale=1),(e.translate>=qJ&&e.translate<=GJ||isNaN(e.translate))&&(e.translate=0)}function gf(e,t,n,i){hR(e.x,t.x,n.x,i?i.originX:void 0),hR(e.y,t.y,n.y,i?i.originY:void 0)}function mR(e,t,n){e.min=n.min+t.min,e.max=e.min+ji(t)}function WJ(e,t,n){mR(e.x,t.x,n.x),mR(e.y,t.y,n.y)}function pR(e,t,n){e.min=t.min-n.min,e.max=e.min+ji(t)}function gg(e,t,n){pR(e.x,t.x,n.x),pR(e.y,t.y,n.y)}function gR(e,t,n,i,s){return e-=t,e=pg(e,1/n,i),s!==void 0&&(e=pg(e,1/s,i)),e}function YJ(e,t=0,n=1,i=.5,s,o=e,l=e){if(Yr.test(t)&&(t=parseFloat(t),t=un(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=un(o.min,o.max,i);e===o&&(c-=t),e.min=gR(e.min,t,n,c,s),e.max=gR(e.max,t,n,c,s)}function vR(e,t,[n,i,s],o,l){YJ(e,t[n],t[i],t[s],t.scale,o,l)}const ZJ=["x","scaleX","originX"],XJ=["y","scaleY","originY"];function yR(e,t,n,i){vR(e.x,t,ZJ,n?n.x:void 0,i?i.x:void 0),vR(e.y,t,XJ,n?n.y:void 0,i?i.y:void 0)}function bR(e){return e.translate===0&&e.scale===1}function JL(e){return bR(e.x)&&bR(e.y)}function xR(e,t){return e.min===t.min&&e.max===t.max}function QJ(e,t){return xR(e.x,t.x)&&xR(e.y,t.y)}function _R(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function ej(e,t){return _R(e.x,t.x)&&_R(e.y,t.y)}function wR(e){return ji(e.x)/ji(e.y)}function SR(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Fr(e){return[e("x"),e("y")]}function JJ(e,t,n){let i="";const s=e.x.translate/t.x,o=e.y.translate/t.y,l=n?.z||0;if((s||o||l)&&(i=`translate3d(${s}px, ${o}px, ${l}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:h,rotate:m,rotateX:v,rotateY:b,skewX:_,skewY:C}=n;h&&(i=`perspective(${h}px) ${i}`),m&&(i+=`rotate(${m}deg) `),v&&(i+=`rotateX(${v}deg) `),b&&(i+=`rotateY(${b}deg) `),_&&(i+=`skewX(${_}deg) `),C&&(i+=`skewY(${C}deg) `)}const c=e.x.scale*t.x,d=e.y.scale*t.y;return(c!==1||d!==1)&&(i+=`scale(${c}, ${d})`),i||"none"}const tj=["TopLeft","TopRight","BottomLeft","BottomRight"],eee=tj.length,CR=e=>typeof e=="string"?parseFloat(e):e,ER=e=>typeof e=="number"||$e.test(e);function tee(e,t,n,i,s,o){s?(e.opacity=un(0,n.opacity??1,nee(i)),e.opacityExit=un(t.opacity??1,0,iee(i))):o&&(e.opacity=un(t.opacity??1,n.opacity??1,i));for(let l=0;l<eee;l++){const c=`border${tj[l]}Radius`;let d=AR(t,c),h=AR(n,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||ER(d)===ER(h)?(e[c]=Math.max(un(CR(d),CR(h),i),0),(Yr.test(h)||Yr.test(d))&&(e[c]+="%")):e[c]=h}(t.rotate||n.rotate)&&(e.rotate=un(t.rotate||0,n.rotate||0,i))}function AR(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const nee=nj(0,.5,KD),iee=nj(.5,.95,qs);function nj(e,t,n){return i=>i<e?0:i>t?1:n(If(e,t,i))}function see(e,t,n){const i=Ci(e)?e:ku(e);return i.start(_w("",i,t,n)),i.animation}function Ff(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}const ree=(e,t)=>e.depth-t.depth;class oee{constructor(){this.children=[],this.isDirty=!1}add(t){ow(this.children,t),this.isDirty=!0}remove(t){ug(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ree),this.isDirty=!1,this.children.forEach(t)}}function aee(e,t){const n=Li.now(),i=({timestamp:s})=>{const o=s-n;o>=t&&(Ba(i),e(o-t))};return Jt.setup(i,!0),()=>Ba(i)}function kp(e){return Ci(e)?e.get():e}class lee{constructor(){this.members=[]}add(t){ow(this.members,t);for(let n=this.members.length-1;n>=0;n--){const i=this.members[n];if(i===t||i===this.lead||i===this.prevLead)continue;const s=i.instance;s&&s.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&ug(this.members,i)}t.scheduleRender()}remove(t){if(ug(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const o=this.members[s],l=o.instance;if(o.isPresent!==!1&&(!l||l.isConnected!==!1)){i=o;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender();const s=i.options.layoutDependency,o=t.options.layoutDependency;if(!(s!==void 0&&o!==void 0&&s===o)){const d=i.instance;d&&d.isConnected===!1&&!i.snapshot||(t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:c}=t.options;c===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Pp={hasAnimatedSinceResize:!0,hasEverUpdated:!1},n0=["","X","Y","Z"],cee=1e3;let uee=0;function i0(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function ij(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=SL(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Jt,!(s||o))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&ij(i)}function sj({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},c=t?.()){this.id=uee++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(hee),this.nodes.forEach(vee),this.nodes.forEach(yee),this.nodes.forEach(mee)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new oee)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new lw),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=Tw(l)&&!fJ(l),this.instance=l;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),e){let m,v=0;const b=()=>this.root.updateBlockedByResize=!1;Jt.read(()=>{v=window.innerWidth}),e(l,()=>{const _=window.innerWidth;_!==v&&(v=_,this.root.updateBlockedByResize=!0,m&&m(),m=aee(b,250),Pp.hasAnimatedSinceResize&&(Pp.hasAnimatedSinceResize=!1,this.nodes.forEach(NR)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||h.getDefaultTransition()||See,{onLayoutAnimationStart:E,onLayoutAnimationComplete:T}=h.getProps(),k=!this.targetLayout||!ej(this.targetLayout,_),N=!v&&b;if(this.options.layoutRoot||this.resumeFrom||N||v&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={...xw(C,"layout"),onPlay:E,onComplete:T};(h.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(m,N)}else v||NR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ba(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bee),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ij(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(TR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(RR);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(gee),this.nodes.forEach(dee),this.nodes.forEach(fee)):this.nodes.forEach(RR),this.clearAllSnapshots();const c=Li.now();hi.delta=Xr(0,1e3/60,c-hi.timestamp),hi.timestamp=c,hi.isProcessing=!0,Wb.update.process(hi),Wb.preRender.process(hi),Wb.render.process(hi),hi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ew.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(pee),this.sharedNodes.forEach(xee)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Jt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Jt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ji(this.snapshot.measuredBox.x)&&!ji(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Fn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!JL(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;l&&this.instance&&(c||Dl(this.latestValues)||m)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),Cee(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Fn();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Eee))){const{scroll:h}=this.root;h&&(pu(c.x,h.offset.x),pu(c.y,h.offset.y))}return c}removeElementScroll(l){const c=Fn();if(cr(c,l),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:m,options:v}=h;h!==this.root&&m&&v.layoutScroll&&(m.wasRoot&&cr(c,l),pu(c.x,m.offset.x),pu(c.y,m.offset.y))}return c}applyTransform(l,c=!1){const d=Fn();cr(d,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&gu(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Dl(m.latestValues)&&gu(d,m.latestValues)}return Dl(this.latestValues)&&gu(d,this.latestValues),d}removeTransform(l){const c=Fn();cr(c,l);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!Dl(h.latestValues))continue;kx(h.latestValues)&&h.updateSnapshot();const m=Fn(),v=h.measurePageBox();cr(m,v),yR(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return Dl(this.latestValues)&&yR(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==hi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:v}=this.options;if(!this.layout||!(m||v))return;this.resolvedRelativeTargetAt=hi.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Fn(),this.targetWithTransforms=Fn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),WJ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cr(this.target,this.layout.layoutBox),FL(this.target,this.targetDelta)):cr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||kx(this.parent.latestValues)||UL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,c,d){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fn(),this.relativeTargetOrigin=Fn(),gg(this.relativeTargetOrigin,c,d),cr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===hi.timestamp&&(d=!1),d)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;cr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;SJ(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Fn());const{target:_}=l;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fR(this.prevProjectionDelta.x,this.projectionDelta.x),fR(this.prevProjectionDelta.y,this.projectionDelta.y)),gf(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!SR(this.projectionDelta.x,this.prevProjectionDelta.x)||!SR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=mu(),this.projectionDelta=mu(),this.projectionDeltaWithTransform=mu()}setAnimationOrigin(l,c=!1){const d=this.snapshot,h=d?d.latestValues:{},m={...this.latestValues},v=mu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const b=Fn(),_=d?d.source:void 0,C=this.layout?this.layout.source:void 0,E=_!==C,T=this.getStack(),k=!T||T.members.length<=1,N=!!(E&&!k&&this.options.crossfade===!0&&!this.path.some(wee));this.animationProgress=0;let P;this.mixTargetDelta=O=>{const j=O/1e3;kR(v.x,l.x,j),kR(v.y,l.y,j),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gg(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_ee(this.relativeTarget,this.relativeTargetOrigin,b,j),P&&QJ(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=Fn()),cr(P,this.relativeTarget)),E&&(this.animationValues=m,tee(m,h,this.latestValues,j,N,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ba(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Jt.update(()=>{Pp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ku(0)),this.motionValue.jump(0,!1),this.currentAnimation=see(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cee),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:m}=l;if(!(!c||!d||!h)){if(this!==l&&this.layout&&h&&rj(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||Fn();const v=ji(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+v;const b=ji(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+b}cr(c,d),gu(c,m),gf(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new lee),this.sharedNodes.get(l).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&i0("z",l,h,this.animationValues);for(let m=0;m<n0.length;m++)i0(`rotate${n0[m]}`,l,h,this.animationValues),i0(`skew${n0[m]}`,l,h,this.animationValues);l.render();for(const m in h)l.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=kp(c?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=kp(c?.pointerEvents)||""),this.hasProjected&&!Dl(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let v=JJ(this.projectionDeltaWithTransform,this.treeScale,m);d&&(v=d(m,v)),l.transform=v;const{x:b,y:_}=this.projectionDelta;l.transformOrigin=`${b.origin*100}% ${_.origin*100}% 0`,h.animationValues?l.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const C in Ox){if(m[C]===void 0)continue;const{correct:E,applyTo:T,isCSSVariable:k}=Ox[C],N=v==="none"?m[C]:E(m[C],h);if(T){const P=T.length;for(let O=0;O<P;O++)l[T[O]]=N}else k?this.options.visualElement.renderState.vars[C]=N:l[C]=N}this.options.layoutId&&(l.pointerEvents=h===this?kp(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(TR),this.root.sharedNodes.clear()}}}function dee(e){e.updateLayout()}function fee(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,o=t.source!==e.layout.source;s==="size"?Fr(m=>{const v=o?t.measuredBox[m]:t.layoutBox[m],b=ji(v);v.min=n[m].min,v.max=v.min+b}):rj(s,t.layoutBox,n)&&Fr(m=>{const v=o?t.measuredBox[m]:t.layoutBox[m],b=ji(n[m]);v.max=v.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+b)});const l=mu();gf(l,n,t.layoutBox);const c=mu();o?gf(c,e.applyTransform(i,!0),t.measuredBox):gf(c,n,t.layoutBox);const d=!JL(l);let h=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:v,layout:b}=m;if(v&&b){const _=Fn();gg(_,t.layoutBox,v.layoutBox);const C=Fn();gg(C,n,b.layoutBox),ej(_,C)||(h=!0),m.options.layoutRoot&&(e.relativeTarget=C,e.relativeTargetOrigin=_,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function hee(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function mee(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function pee(e){e.clearSnapshot()}function TR(e){e.clearMeasurements()}function RR(e){e.isLayoutDirty=!1}function gee(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function NR(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function vee(e){e.resolveTargetDelta()}function yee(e){e.calcProjection()}function bee(e){e.resetSkewAndRotation()}function xee(e){e.removeLeadSnapshot()}function kR(e,t,n){e.translate=un(t.translate,0,n),e.scale=un(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function PR(e,t,n,i){e.min=un(t.min,n.min,i),e.max=un(t.max,n.max,i)}function _ee(e,t,n,i){PR(e.x,t.x,n.x,i),PR(e.y,t.y,n.y,i)}function wee(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const See={duration:.45,ease:[.4,0,.1,1]},OR=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),MR=OR("applewebkit/")&&!OR("chrome/")?Math.round:qs;function DR(e){e.min=MR(e.min),e.max=MR(e.max)}function Cee(e){DR(e.x),DR(e.y)}function rj(e,t,n){return e==="position"||e==="preserve-aspect"&&!KJ(wR(t),wR(n),.2)}function Eee(e){return e!==e.root&&e.scroll?.wasRoot}const Aee=sj({attachResizeListener:(e,t)=>Ff(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),s0={current:void 0},oj=sj({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!s0.current){const e=new Aee({});e.mount(window),e.setOptions({layoutScroll:!0}),s0.current=e}return s0.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Ow=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function LR(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Tee(...e){return t=>{let n=!1;const i=e.map(s=>{const o=LR(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<i.length;s++){const o=i[s];typeof o=="function"?o():LR(e[s],null)}}}}function Ree(...e){return x.useCallback(Tee(...e),e)}class Nee extends x.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=n.offsetParent,s=Rx(i)&&i.offsetWidth||0,o=Rx(i)&&i.offsetHeight||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=s-l.width-l.left,l.bottom=o-l.height-l.top}return null}componentDidUpdate(){}render(){return this.props.children}}function kee({children:e,isPresent:t,anchorX:n,anchorY:i,root:s,pop:o}){const l=x.useId(),c=x.useRef(null),d=x.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:h}=x.useContext(Ow),m=e.props?.ref??e?.ref,v=Ree(c,m);return x.useInsertionEffect(()=>{const{width:b,height:_,top:C,left:E,right:T,bottom:k}=d.current;if(t||o===!1||!c.current||!b||!_)return;const N=n==="left"?`left: ${E}`:`right: ${T}`,P=i==="bottom"?`bottom: ${k}`:`top: ${C}`;c.current.dataset.motionPopId=l;const O=document.createElement("style");h&&(O.nonce=h);const j=s??document.head;return j.appendChild(O),O.sheet&&O.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${b}px !important;
            height: ${_}px !important;
            ${N}px !important;
            ${P}px !important;
          }
        `),()=>{j.contains(O)&&j.removeChild(O)}},[t]),y.jsx(Nee,{isPresent:t,childRef:c,sizeRef:d,pop:o,children:o===!1?e:x.cloneElement(e,{ref:v})})}const Pee=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:o,mode:l,anchorX:c,anchorY:d,root:h})=>{const m=Zg(Oee),v=x.useId();let b=!0,_=x.useMemo(()=>(b=!1,{id:v,initial:t,isPresent:n,custom:s,onExitComplete:C=>{m.set(C,!0);for(const E of m.values())if(!E)return;i&&i()},register:C=>(m.set(C,!1),()=>m.delete(C))}),[n,m,i]);return o&&b&&(_={..._}),x.useMemo(()=>{m.forEach((C,E)=>m.set(E,!1))},[n]),x.useEffect(()=>{!n&&!m.size&&i&&i()},[n]),e=y.jsx(kee,{pop:l==="popLayout",isPresent:n,anchorX:c,anchorY:d,root:h,children:e}),y.jsx(Xg.Provider,{value:_,children:e})};function Oee(){return new Map}function aj(e=!0){const t=x.useContext(Xg);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,o=x.useId();x.useEffect(()=>{if(e)return s(o)},[e]);const l=x.useCallback(()=>e&&i&&i(o),[o,i,e]);return!n&&i?[!1,l]:[!0]}const lp=e=>e.key||"";function jR(e){const t=[];return x.Children.forEach(e,n=>{x.isValidElement(n)&&t.push(n)}),t}const Ql=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync",propagate:l=!1,anchorX:c="left",anchorY:d="top",root:h})=>{const[m,v]=aj(l),b=x.useMemo(()=>jR(e),[e]),_=l&&!m?[]:b.map(lp),C=x.useRef(!0),E=x.useRef(b),T=Zg(()=>new Map),k=x.useRef(new Set),[N,P]=x.useState(b),[O,j]=x.useState(b);LD(()=>{C.current=!1,E.current=b;for(let I=0;I<O.length;I++){const $=lp(O[I]);_.includes($)?(T.delete($),k.current.delete($)):T.get($)!==!0&&T.set($,!1)}},[O,_.length,_.join("-")]);const U=[];if(b!==N){let I=[...b];for(let $=0;$<O.length;$++){const Z=O[$],K=lp(Z);_.includes(K)||(I.splice($,0,Z),U.push(Z))}return o==="wait"&&U.length&&(I=U),j(jR(I)),P(b),null}const{forceRender:z}=x.useContext(rw);return y.jsx(y.Fragment,{children:O.map(I=>{const $=lp(I),Z=l&&!m?!1:b===O||_.includes($),K=()=>{if(k.current.has($))return;if(k.current.add($),T.has($))T.set($,!0);else return;let W=!0;T.forEach(X=>{X||(W=!1)}),W&&(z?.(),j(E.current),l&&v?.(),i&&i())};return y.jsx(Pee,{isPresent:Z,initial:!C.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:o,root:h,onExitComplete:Z?void 0:K,anchorX:c,anchorY:d,children:I},$)})})},lj=x.createContext({strict:!1}),IR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let zR=!1;function Mee(){if(zR)return;const e={};for(const t in IR)e[t]={isEnabled:n=>IR[t].some(i=>!!n[i])};IL(e),zR=!0}function cj(){return Mee(),bJ()}function Dee(e){const t=cj();for(const n in e)t[n]={...t[n],...e[n]};IL(t)}const Lee=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function vg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Lee.has(e)}let uj=e=>!vg(e);function jee(e){typeof e=="function"&&(uj=t=>t.startsWith("on")?!vg(t):e(t))}try{jee(require("@emotion/is-prop-valid").default)}catch{}function Iee(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(uj(s)||n===!0&&vg(s)||!t&&!vg(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}const ev=x.createContext({});function zee(e,t){if(Jg(e)){const{initial:n,animate:i}=e;return{initial:n===!1||Uf(n)?n:void 0,animate:Uf(i)?i:void 0}}return e.inherit!==!1?t:{}}function Bee(e){const{initial:t,animate:n}=zee(e,x.useContext(ev));return x.useMemo(()=>({initial:t,animate:n}),[BR(t),BR(n)])}function BR(e){return Array.isArray(e)?e.join(" "):e}const Mw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function dj(e,t,n){for(const i in t)!Ci(t[i])&&!HL(i,n)&&(e[i]=t[i])}function Uee({transformTemplate:e},t){return x.useMemo(()=>{const n=Mw();return kw(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Fee(e,t){const n=e.style||{},i={};return dj(i,n,e),Object.assign(i,Uee(e,t)),i}function Vee(e,t){const n={},i=Fee(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const fj=()=>({...Mw(),attrs:{}});function $ee(e,t,n,i){const s=x.useMemo(()=>{const o=fj();return qL(o,t,KL(i),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};dj(o,e.style,e),s.style={...o,...s.style}}return s}const Hee=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Dw(e){return typeof e!="string"||e.includes("-")?!1:!!(Hee.indexOf(e)>-1||/[A-Z]/u.test(e))}function qee(e,t,n,{latestValues:i},s,o=!1,l){const d=(l??Dw(e)?$ee:Vee)(t,i,s,e),h=Iee(t,typeof e=="string",o),m=e!==x.Fragment?{...h,...d,ref:n}:{},{children:v}=t,b=x.useMemo(()=>Ci(v)?v.get():v,[v]);return x.createElement(e,{...m,children:b})}function Gee({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,s){return{latestValues:Kee(n,i,s,e),renderState:t()}}function Kee(e,t,n,i){const s={},o=i(e,{});for(const b in o)s[b]=kp(o[b]);let{initial:l,animate:c}=e;const d=Jg(e),h=LL(e);t&&h&&!d&&e.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const v=m?c:l;if(v&&typeof v!="boolean"&&!Qg(v)){const b=Array.isArray(v)?v:[v];for(let _=0;_<b.length;_++){const C=ww(e,b[_]);if(C){const{transitionEnd:E,transition:T,...k}=C;for(const N in k){let P=k[N];if(Array.isArray(P)){const O=m?P.length-1:0;P=P[O]}P!==null&&(s[N]=P)}for(const N in E)s[N]=E[N]}}}return s}const hj=e=>(t,n)=>{const i=x.useContext(ev),s=x.useContext(Xg),o=()=>Gee(e,t,i,s);return n?o():Zg(o)},Wee=hj({scrapeMotionValuesFromProps:Pw,createRenderState:Mw}),Yee=hj({scrapeMotionValuesFromProps:WL,createRenderState:fj}),Zee=Symbol.for("motionComponentSymbol");function Xee(e,t,n){const i=x.useRef(n);x.useInsertionEffect(()=>{i.current=n});const s=x.useRef(null);return x.useCallback(o=>{o&&e.onMount?.(o),t&&(o?t.mount(o):t.unmount());const l=i.current;if(typeof l=="function")if(o){const c=l(o);typeof c=="function"&&(s.current=c)}else s.current?(s.current(),s.current=null):l(o);else l&&(l.current=o)},[t])}const mj=x.createContext({});function uu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Qee(e,t,n,i,s,o){const{visualElement:l}=x.useContext(ev),c=x.useContext(lj),d=x.useContext(Xg),h=x.useContext(Ow),m=h.reducedMotion,v=h.skipAnimations,b=x.useRef(null),_=x.useRef(!1);i=i||c.renderer,!b.current&&i&&(b.current=i(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m,skipAnimations:v,isSVG:o}),_.current&&b.current&&(b.current.manuallyAnimateOnMount=!0));const C=b.current,E=x.useContext(mj);C&&!C.projection&&s&&(C.type==="html"||C.type==="svg")&&Jee(b.current,n,s,E);const T=x.useRef(!1);x.useInsertionEffect(()=>{C&&T.current&&C.update(n,d)});const k=n[wL],N=x.useRef(!!k&&!window.MotionHandoffIsComplete?.(k)&&window.MotionHasOptimisedAnimation?.(k));return LD(()=>{_.current=!0,C&&(T.current=!0,window.MotionIsMounted=!0,C.updateFeatures(),C.scheduleRenderMicrotask(),N.current&&C.animationState&&C.animationState.animateChanges())}),x.useEffect(()=>{C&&(!N.current&&C.animationState&&C.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(k)}),N.current=!1),C.enteringChildren=void 0)}),C}function Jee(e,t,n,i){const{layoutId:s,layout:o,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:h,layoutCrossfade:m}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:pj(e.parent)),e.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||c&&uu(c),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:m,layoutScroll:d,layoutRoot:h})}function pj(e){if(e)return e.options.allowProjection!==!1?e.projection:pj(e.parent)}function r0(e,{forwardMotionProps:t=!1,type:n}={},i,s){i&&Dee(i);const o=n?n==="svg":Dw(e),l=o?Yee:Wee;function c(h,m){let v;const b={...x.useContext(Ow),...h,layoutId:ete(h)},{isStatic:_}=b,C=Bee(h),E=l(h,_);if(!_&&DD){tte();const T=nte(b);v=T.MeasureLayout,C.visualElement=Qee(e,E,b,s,T.ProjectionNode,o)}return y.jsxs(ev.Provider,{value:C,children:[v&&C.visualElement?y.jsx(v,{visualElement:C.visualElement,...b}):null,qee(e,h,Xee(E,C.visualElement,m),E,_,t,o)]})}c.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const d=x.forwardRef(c);return d[Zee]=e,d}function ete({layoutId:e}){const t=x.useContext(rw).id;return t&&e!==void 0?t+"-"+e:e}function tte(e,t){x.useContext(lj).strict}function nte(e){const t=cj(),{drag:n,layout:i}=t;if(!n&&!i)return{};const s={...n,...i};return{MeasureLayout:n?.isEnabled(e)||i?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function ite(e,t){if(typeof Proxy>"u")return r0;const n=new Map,i=(o,l)=>r0(o,l,e,t),s=(o,l)=>i(o,l);return new Proxy(s,{get:(o,l)=>l==="create"?i:(n.has(l)||n.set(l,r0(l,void 0,e,t)),n.get(l))})}const ste=(e,t)=>t.isSVG??Dw(e)?new jJ(t):new kJ(t,{allowProjection:e!==x.Fragment});class rte extends $a{constructor(t){super(t),t.animationState||(t.animationState=FJ(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Qg(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let ote=0;class ate extends $a{constructor(){super(...arguments),this.id=ote++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const lte={animation:{Feature:rte},exit:{Feature:ate}};function fh(e){return{point:{x:e.pageX,y:e.pageY}}}const cte=e=>t=>Aw(t)&&e(t,fh(t));function vf(e,t,n,i){return Ff(e,t,cte(n),i)}const gj=({current:e})=>e?e.ownerDocument.defaultView:null,UR=(e,t)=>Math.abs(e-t);function ute(e,t){const n=UR(e.x,t.x),i=UR(e.y,t.y);return Math.sqrt(n**2+i**2)}const FR=new Set(["auto","scroll"]);class vj{constructor(t,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3,element:c}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=_=>{this.handleScroll(_.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=a0(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,E=ute(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!E)return;const{point:T}=_,{timestamp:k}=hi;this.history.push({...T,timestamp:k});const{onStart:N,onMove:P}=this.handlers;C||(N&&N(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,_)},this.handlePointerMove=(_,C)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=o0(C,this.transformPagePoint),Jt.update(this.updatePoint,!0)},this.handlePointerUp=(_,C)=>{this.end();const{onEnd:E,onSessionEnd:T,resumeAnimation:k}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=a0(_.type==="pointercancel"?this.lastMoveEventInfo:o0(C,this.transformPagePoint),this.history);this.startEvent&&E&&E(_,N),T&&T(_,N)},!Aw(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=l,this.contextWindow=s||window;const d=fh(t),h=o0(d,this.transformPagePoint),{point:m}=h,{timestamp:v}=hi;this.history=[{...m,timestamp:v}];const{onSessionStart:b}=n;b&&b(t,a0(h,this.history)),this.removeListeners=ch(vf(this.contextWindow,"pointermove",this.handlePointerMove),vf(this.contextWindow,"pointerup",this.handlePointerUp),vf(this.contextWindow,"pointercancel",this.handlePointerUp)),c&&this.startScrollTracking(c)}startScrollTracking(t){let n=t.parentElement;for(;n;){const i=getComputedStyle(n);(FR.has(i.overflowX)||FR.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0}),window.addEventListener("scroll",this.onWindowScroll),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const i=t===window,s=i?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},o={x:s.x-n.x,y:s.y-n.y};o.x===0&&o.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(t,s),Jt.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ba(this.updatePoint)}}function o0(e,t){return t?{point:t(e.point)}:e}function VR(e,t){return{x:e.x-t.x,y:e.y-t.y}}function a0({point:e},t){return{point:e,delta:VR(e,yj(t)),offset:VR(e,dte(t)),velocity:fte(t,.1)}}function dte(e){return e[0]}function yj(e){return e[e.length-1]}function fte(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=yj(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>gr(t)));)n--;if(!i)return{x:0,y:0};i===e[0]&&e.length>2&&s.timestamp-i.timestamp>gr(t)*2&&(i=e[1]);const o=$s(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function hte(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?un(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?un(n,e,i.max):Math.min(e,n)),e}function $R(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function mte(e,{top:t,left:n,bottom:i,right:s}){return{x:$R(e.x,n,s),y:$R(e.y,t,i)}}function HR(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function pte(e,t){return{x:HR(e.x,t.x),y:HR(e.y,t.y)}}function gte(e,t){let n=.5;const i=ji(e),s=ji(t);return s>i?n=If(t.min,t.max-i,e.min):i>s&&(n=If(e.min,e.max-s,t.min)),Xr(0,1,n)}function vte(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Mx=.35;function yte(e=Mx){return e===!1?e=0:e===!0&&(e=Mx),{x:qR(e,"left","right"),y:qR(e,"top","bottom")}}function qR(e,t,n){return{min:GR(e,t),max:GR(e,n)}}function GR(e,t){return typeof e=="number"?e:e[t]||0}const bte=new WeakMap;class xte{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=v=>{n&&this.snapToCursor(fh(v).point),this.stopAnimation()},l=(v,b)=>{const{drag:_,dragPropagation:C,onDragStart:E}=this.getProps();if(_&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=YQ(_),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fr(k=>{let N=this.getAxisMotionValue(k).get()||0;if(Yr.test(N)){const{projection:P}=this.visualElement;if(P&&P.layout){const O=P.layout.layoutBox[k];O&&(N=ji(O)*(parseFloat(N)/100))}}this.originPoint[k]=N}),E&&Jt.update(()=>E(v,b),!1,!0),Cx(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},c=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:_,dragDirectionLock:C,onDirectionLock:E,onDrag:T}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:k}=b;if(C&&this.currentDirection===null){this.currentDirection=wte(k),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",b.point,k),this.updateAxis("y",b.point,k),this.visualElement.render(),T&&Jt.update(()=>T(v,b),!1,!0)},d=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>{const{dragSnapToOrigin:v}=this.getProps();(v||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:m}=this.getProps();this.panSession=new vj(t,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:i,contextWindow:gj(this.visualElement),element:this.visualElement.current})}stop(t,n){const i=t||this.latestPointerEvent,s=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!i)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&Jt.postRender(()=>c(i,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!cp(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let l=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(l=hte(l,this.constraints[t],this.elastic[t])),o.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&uu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=mte(i.layoutBox,t):this.constraints=!1,this.elastic=yte(n),s!==this.constraints&&!uu(t)&&i&&this.constraints&&!this.hasMutatedConstraints&&Fr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=vte(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!uu(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=CJ(i,s.root,this.visualElement.getTransformPagePoint());let l=pte(s.layout.layoutBox,o);if(n){const c=n(_J(l));this.hasMutatedConstraints=!!c,c&&(l=BL(c))}return l}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=Fr(m=>{if(!cp(m,n,this.currentDirection))return;let v=d&&d[m]||{};l&&(v={min:0,max:0});const b=s?200:1e6,_=s?40:1e7,C={type:"inertia",velocity:i?t[m]:0,bounceStiffness:b,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(m,C)});return Promise.all(h).then(c)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return Cx(this.visualElement,t),i.start(_w(t,i,0,n,this.visualElement,!1))}stopAnimation(){Fr(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Fr(n=>{const{drag:i}=this.getProps();if(!cp(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n],d=o.get()||0;o.set(t[n]-un(l,c,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!uu(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Fr(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();s[l]=gte({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),Fr(l=>{if(!cp(l,t,null))return;const c=this.getAxisMotionValue(l),{min:d,max:h}=this.constraints[l];c.set(un(d,h,s[l]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;bte.set(this.visualElement,this);const t=this.visualElement.current,n=vf(t,"pointerdown",h=>{const{drag:m,dragListener:v=!0}=this.getProps(),b=h.target,_=b!==t&&tJ(b);m&&v&&!_&&this.start(h)});let i;const s=()=>{const{dragConstraints:h}=this.getProps();uu(h)&&h.current&&(this.constraints=this.resolveRefConstraints(),i||(i=_te(t,h.current,()=>this.scalePositionWithinConstraints())))},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Jt.read(s);const c=Ff(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(Fr(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=h[v].translate,b.set(b.get()+h[v].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d(),i&&i()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=Mx,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function KR(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function _te(e,t,n){const i=eR(e,KR(n)),s=eR(t,KR(n));return()=>{i(),s()}}function cp(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function wte(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Ste extends $a{constructor(t){super(t),this.removeGroupControls=qs,this.removeListeners=qs,this.controls=new xte(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qs}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const l0=e=>(t,n)=>{e&&Jt.update(()=>e(t,n),!1,!0)};class Cte extends $a{constructor(){super(...arguments),this.removePointerDownListener=qs}onPointerDown(t){this.session=new vj(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gj(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:l0(t),onStart:l0(n),onMove:l0(i),onEnd:(o,l)=>{delete this.session,s&&Jt.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=vf(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let c0=!1;class Ete extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=t;o&&(n.group&&n.group.add(o),i&&i.register&&s&&i.register(o),c0&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Pp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:o}=this.props,{projection:l}=i;return l&&(l.isPresent=o,t.layoutDependency!==n&&l.setOptions({...l.options,layoutDependency:n}),c0=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==o?l.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?l.promote():l.relegate()||Jt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ew.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;c0=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function bj(e){const[t,n]=aj(),i=x.useContext(rw);return y.jsx(Ete,{...e,layoutGroup:i,switchLayoutGroup:x.useContext(mj),isPresent:t,safeToRemove:n})}const Ate={pan:{Feature:Cte},drag:{Feature:Ste,ProjectionNode:oj,MeasureLayout:bj}};function WR(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=i[s];o&&Jt.postRender(()=>o(t,fh(t)))}class Tte extends $a{mount(){const{current:t}=this.node;t&&(this.unmount=XQ(t,(n,i)=>(WR(this.node,i,"Start"),s=>WR(this.node,s,"End"))))}unmount(){}}class Rte extends $a{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ch(Ff(this.node.current,"focus",()=>this.onFocus()),Ff(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function YR(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=i[s];o&&Jt.postRender(()=>o(t,fh(t)))}class Nte extends $a{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:n,propagate:i}=this.node.props;this.unmount=iJ(t,(s,o)=>(YR(this.node,o,"Start"),(l,{success:c})=>YR(this.node,l,c?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:i?.tap===!1})}unmount(){}}const Dx=new WeakMap,u0=new WeakMap,kte=e=>{const t=Dx.get(e.target);t&&t(e)},Pte=e=>{e.forEach(kte)};function Ote({root:e,...t}){const n=e||document;u0.has(n)||u0.set(n,{});const i=u0.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(Pte,{root:e,...t})),i[s]}function Mte(e,t,n){const i=Ote(t);return Dx.set(e,n),i.observe(e),()=>{Dx.delete(e),i.unobserve(e)}}const Dte={some:0,all:1};class Lte extends $a{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:o}=t,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:Dte[s]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),b=h?m:v;b&&b(d)};return Mte(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(jte(t,n))&&this.startObserver()}unmount(){}}function jte({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Ite={inView:{Feature:Lte},tap:{Feature:Nte},focus:{Feature:Rte},hover:{Feature:Tte}},zte={layout:{ProjectionNode:oj,MeasureLayout:bj}},Bte={...lte,...Ite,...Ate,...zte},Rt=ite(Bte,ste);class Ute{constructor(){this.componentControls=new Set}subscribe(t){return this.componentControls.add(t),()=>this.componentControls.delete(t)}start(t,n){this.componentControls.forEach(i=>{i.start(t.nativeEvent||t,n)})}cancel(){this.componentControls.forEach(t=>{t.cancel()})}stop(){this.componentControls.forEach(t=>{t.stop()})}}const Fte=()=>new Ute;function Vte(){return Zg(Fte)}const xj=async(e,t)=>{try{const n=e.game_info?.seen_species??[],i=t(n),{data:s,error:o}=await Dn.from("users").update({game_info:{...e.game_info,seen_species:i}}).eq("id",e.id).select().single();return o?(console.error("Error updating seen_species:",o),null):s}catch(n){return console.error("Unexpected error updating seen_species:",n),null}},ZR="Nova espcie favorita!",$te=async({user:e,speciesName:t,isFav:n})=>{const i=`Favoritou a espcie ${t}`,s=e.game_info.activities??[];let o;if(n)o=[{title:ZR,description:i,date:new Date().toISOString()},...s];else{let d=!1;o=s.slice().reverse().filter(h=>!d&&h.title===ZR&&h.description===i?(d=!0,!1):!0).reverse()}const{data:l,error:c}=await Dn.from("users").update({game_info:{...e.game_info,activities:o}}).eq("id",e.id).select().single();return c?(console.error("Error updating fav activity:",c),null):l},Hte=()=>{const{t:e}=At(),t=Le(za),n=Le(Qe.expandedNodes).find(P=>P.rank==="SPECIES")?.key,i=t??n,{data:s,isLoading:o}=Uo({specieKey:i}),[l,c]=Gs(st.userDb),h=(l?.game_info?.seen_species??[]).find(P=>P.key===i),[m,v]=x.useState(h?.fav??!1),{data:b,isLoading:_}=qZ({specieName:(s?.canonicalName||s?.scientificName)??""}),{data:C,isLoading:E}=GZ(s?.canonicalName);x.useEffect(()=>{v(h?.fav??!1)},[h?.fav]);const T=async()=>{if(!l||i==null)return;const P=!m;v(P);const O=await xj(l,z=>{const I=[...z],$=I.findIndex(Z=>Z.key===i);return $!==-1?I[$]={...I[$],fav:P}:s&&I.push({key:i,date:new Date().toISOString(),fav:P}),I});if(!O)return;const j=s?.canonicalName??"",U=await $te({user:O,speciesName:j,isFav:P});c(U??O)};if(!s)return y.jsx("p",{className:"text-muted-foreground text-center",children:e("specieDetail.dataUnavailable")});if(o)return y.jsx(MD,{});const k=kK[s.class],N=[[e("specieDetail.kingdomLabel"),s.kingdom],[e("specieDetail.phylumLabel"),s.phylum],[e(k?"specieDetail.orderLabel":"specieDetail.classLabel"),s.class],[e("specieDetail.orderLabel"),k?void 0:s.order],[e("specieDetail.familyLabel"),s.family],[e("specieDetail.genusLabel"),s.genus]].filter(([,P])=>!!P);return y.jsxs("div",{className:"space-y-6",children:[y.jsx(Rt.header,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"border-b pb-4",children:y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("h1",{className:"mb-1 text-2xl font-bold sm:text-3xl",children:s.canonicalName}),s.scientificName&&y.jsx("p",{className:"text-muted-foreground text-sm italic sm:text-lg",children:s.scientificName})]}),l&&y.jsx(Rt.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:T,className:"mt-1",children:y.jsx(Zp,{className:`size-7 transition-all ${m?"fill-red-500 text-red-500":"text-muted-foreground hover:text-red-500"}`})})]})}),N.length>0&&y.jsxs(Rt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-muted rounded-lg border p-4",children:[y.jsx("div",{className:"mb-3 flex items-center gap-2"}),y.jsx("dl",{className:"grid grid-cols-2 gap-3 text-sm [@container(min-width:1280px)]:grid-cols-3",children:N.map(([P,O])=>y.jsxs("div",{children:[y.jsxs("dt",{className:"font-semibold",children:[P,":"]}),y.jsx("dd",{className:"text-primary/87",children:O})]},P))})]}),y.jsx(Rt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:_?y.jsx(zZ,{}):y.jsx(HZ,{statusCode:b})}),E?y.jsx(BZ,{}):C?.extract||C?.description?y.jsxs(Rt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-3",children:[y.jsx("h3",{className:"flex items-center gap-2 text-xl font-semibold",children:e("specieDetail.descriptionTitle")}),y.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:C.extract||C.description})]}):null,(s.authorship||s.publishedIn)&&y.jsxs(Rt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-3 border-t pt-4",children:[y.jsx("h3",{className:"text-lg font-semibold",children:e("specieDetail.nomenclatureTitle")}),y.jsxs("div",{className:"space-y-2 text-sm",children:[s.authorship&&y.jsxs("p",{className:"text-muted-foreground",children:[y.jsxs("strong",{className:"text-foreground",children:[e("specieDetail.author"),":"," "]}),s.authorship]}),s.publishedIn&&y.jsxs("p",{className:"text-muted-foreground",children:[y.jsxs("strong",{className:"text-foreground",children:[e("specieDetail.publishedIn"),":"," "]}),s.publishedIn]}),y.jsxs("p",{className:"text-muted-foreground",children:[y.jsxs("strong",{className:"text-foreground",children:[e("specieDetail.sources"),":"," "]}),"GBIF, Wikipedia"]})]})]})]})};function _j(e,t){const n=x.useRef(t);x.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const qte=1;function Gte(e){return Object.freeze({__version:qte,map:e})}function Kte(e,t){return Object.freeze({...e,...t})}const Lw=x.createContext(null);function jw(){const e=x.use(Lw);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Wte(e){function t(n,i){const{instance:s,context:o}=e(n).current;x.useImperativeHandle(i,()=>s);const{children:l}=n;return l==null?null:Mt.createElement(Lw,{value:o},l)}return x.forwardRef(t)}function Yte(e){function t(n,i){const[s,o]=x.useState(!1),{instance:l}=e(n,o).current;x.useImperativeHandle(i,()=>l),x.useEffect(function(){s&&l.update()},[l,s,n.children]);const c=l._contentNode;return c?Ji.createPortal(n.children,c):null}return x.forwardRef(t)}function Zte(e){function t(n,i){const{instance:s}=e(n).current;return x.useImperativeHandle(i,()=>s),null}return x.forwardRef(t)}function wj(e,t){const n=x.useRef(void 0);x.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Iw(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function Xte(e,t){return function(i,s){const o=jw(),l=e(Iw(i,o),o);return _j(o.map,i.attribution),wj(l.current,i.eventHandlers),t(l.current,o,i,s),l}}var rf={exports:{}};var Qte=rf.exports,XR;function Jte(){return XR||(XR=1,(function(e,t){(function(n,i){i(t)})(Qte,(function(n){var i="1.9.4";function s(u){var p,w,R,M;for(w=1,R=arguments.length;w<R;w++){M=arguments[w];for(p in M)u[p]=M[p]}return u}var o=Object.create||(function(){function u(){}return function(p){return u.prototype=p,new u}})();function l(u,p){var w=Array.prototype.slice;if(u.bind)return u.bind.apply(u,w.call(arguments,1));var R=w.call(arguments,2);return function(){return u.apply(p,R.length?R.concat(w.call(arguments)):arguments)}}var c=0;function d(u){return"_leaflet_id"in u||(u._leaflet_id=++c),u._leaflet_id}function h(u,p,w){var R,M,B,Q;return Q=function(){R=!1,M&&(B.apply(w,M),M=!1)},B=function(){R?M=arguments:(u.apply(w,arguments),setTimeout(Q,p),R=!0)},B}function m(u,p,w){var R=p[1],M=p[0],B=R-M;return u===R&&w?u:((u-M)%B+B)%B+M}function v(){return!1}function b(u,p){if(p===!1)return u;var w=Math.pow(10,p===void 0?6:p);return Math.round(u*w)/w}function _(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function C(u){return _(u).split(/\s+/)}function E(u,p){Object.prototype.hasOwnProperty.call(u,"options")||(u.options=u.options?o(u.options):{});for(var w in p)u.options[w]=p[w];return u.options}function T(u,p,w){var R=[];for(var M in u)R.push(encodeURIComponent(w?M.toUpperCase():M)+"="+encodeURIComponent(u[M]));return(!p||p.indexOf("?")===-1?"?":"&")+R.join("&")}var k=/\{ *([\w_ -]+) *\}/g;function N(u,p){return u.replace(k,function(w,R){var M=p[R];if(M===void 0)throw new Error("No value provided for variable "+w);return typeof M=="function"&&(M=M(p)),M})}var P=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"};function O(u,p){for(var w=0;w<u.length;w++)if(u[w]===p)return w;return-1}var j="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function U(u){return window["webkit"+u]||window["moz"+u]||window["ms"+u]}var z=0;function I(u){var p=+new Date,w=Math.max(0,16-(p-z));return z=p+w,window.setTimeout(u,w)}var $=window.requestAnimationFrame||U("RequestAnimationFrame")||I,Z=window.cancelAnimationFrame||U("CancelAnimationFrame")||U("CancelRequestAnimationFrame")||function(u){window.clearTimeout(u)};function K(u,p,w){if(w&&$===I)u.call(p);else return $.call(window,l(u,p))}function W(u){u&&Z.call(window,u)}var X={__proto__:null,extend:s,create:o,bind:l,get lastId(){return c},stamp:d,throttle:h,wrapNum:m,falseFn:v,formatNum:b,trim:_,splitWords:C,setOptions:E,getParamString:T,template:N,isArray:P,indexOf:O,emptyImageUrl:j,requestFn:$,cancelFn:Z,requestAnimFrame:K,cancelAnimFrame:W};function se(){}se.extend=function(u){var p=function(){E(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},w=p.__super__=this.prototype,R=o(w);R.constructor=p,p.prototype=R;for(var M in this)Object.prototype.hasOwnProperty.call(this,M)&&M!=="prototype"&&M!=="__super__"&&(p[M]=this[M]);return u.statics&&s(p,u.statics),u.includes&&(ve(u.includes),s.apply(null,[R].concat(u.includes))),s(R,u),delete R.statics,delete R.includes,R.options&&(R.options=w.options?o(w.options):{},s(R.options,u.options)),R._initHooks=[],R.callInitHooks=function(){if(!this._initHooksCalled){w.callInitHooks&&w.callInitHooks.call(this),this._initHooksCalled=!0;for(var B=0,Q=R._initHooks.length;B<Q;B++)R._initHooks[B].call(this)}},p},se.include=function(u){var p=this.prototype.options;return s(this.prototype,u),u.options&&(this.prototype.options=p,this.mergeOptions(u.options)),this},se.mergeOptions=function(u){return s(this.prototype.options,u),this},se.addInitHook=function(u){var p=Array.prototype.slice.call(arguments,1),w=typeof u=="function"?u:function(){this[u].apply(this,p)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(w),this};function ve(u){if(!(typeof L>"u"||!L||!L.Mixin)){u=P(u)?u:[u];for(var p=0;p<u.length;p++)u[p]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var G={on:function(u,p,w){if(typeof u=="object")for(var R in u)this._on(R,u[R],p);else{u=C(u);for(var M=0,B=u.length;M<B;M++)this._on(u[M],p,w)}return this},off:function(u,p,w){if(!arguments.length)delete this._events;else if(typeof u=="object")for(var R in u)this._off(R,u[R],p);else{u=C(u);for(var M=arguments.length===1,B=0,Q=u.length;B<Q;B++)M?this._off(u[B]):this._off(u[B],p,w)}return this},_on:function(u,p,w,R){if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}if(this._listens(u,p,w)===!1){w===this&&(w=void 0);var M={fn:p,ctx:w};R&&(M.once=!0),this._events=this._events||{},this._events[u]=this._events[u]||[],this._events[u].push(M)}},_off:function(u,p,w){var R,M,B;if(this._events&&(R=this._events[u],!!R)){if(arguments.length===1){if(this._firingCount)for(M=0,B=R.length;M<B;M++)R[M].fn=v;delete this._events[u];return}if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}var Q=this._listens(u,p,w);if(Q!==!1){var ue=R[Q];this._firingCount&&(ue.fn=v,this._events[u]=R=R.slice()),R.splice(Q,1)}}},fire:function(u,p,w){if(!this.listens(u,w))return this;var R=s({},p,{type:u,target:this,sourceTarget:p&&p.sourceTarget||this});if(this._events){var M=this._events[u];if(M){this._firingCount=this._firingCount+1||1;for(var B=0,Q=M.length;B<Q;B++){var ue=M[B],pe=ue.fn;ue.once&&this.off(u,pe,ue.ctx),pe.call(ue.ctx||this,R)}this._firingCount--}}return w&&this._propagateEvent(R),this},listens:function(u,p,w,R){typeof u!="string"&&console.warn('"string" type argument expected');var M=p;typeof p!="function"&&(R=!!p,M=void 0,w=void 0);var B=this._events&&this._events[u];if(B&&B.length&&this._listens(u,M,w)!==!1)return!0;if(R){for(var Q in this._eventParents)if(this._eventParents[Q].listens(u,p,w,R))return!0}return!1},_listens:function(u,p,w){if(!this._events)return!1;var R=this._events[u]||[];if(!p)return!!R.length;w===this&&(w=void 0);for(var M=0,B=R.length;M<B;M++)if(R[M].fn===p&&R[M].ctx===w)return M;return!1},once:function(u,p,w){if(typeof u=="object")for(var R in u)this._on(R,u[R],p,!0);else{u=C(u);for(var M=0,B=u.length;M<B;M++)this._on(u[M],p,w,!0)}return this},addEventParent:function(u){return this._eventParents=this._eventParents||{},this._eventParents[d(u)]=u,this},removeEventParent:function(u){return this._eventParents&&delete this._eventParents[d(u)],this},_propagateEvent:function(u){for(var p in this._eventParents)this._eventParents[p].fire(u.type,s({layer:u.target,propagatedFrom:u.target},u),!0)}};G.addEventListener=G.on,G.removeEventListener=G.clearAllEventListeners=G.off,G.addOneTimeEventListener=G.once,G.fireEvent=G.fire,G.hasEventListeners=G.listens;var ee=se.extend(G);function Y(u,p,w){this.x=w?Math.round(u):u,this.y=w?Math.round(p):p}var de=Math.trunc||function(u){return u>0?Math.floor(u):Math.ceil(u)};Y.prototype={clone:function(){return new Y(this.x,this.y)},add:function(u){return this.clone()._add(ae(u))},_add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.clone()._subtract(ae(u))},_subtract:function(u){return this.x-=u.x,this.y-=u.y,this},divideBy:function(u){return this.clone()._divideBy(u)},_divideBy:function(u){return this.x/=u,this.y/=u,this},multiplyBy:function(u){return this.clone()._multiplyBy(u)},_multiplyBy:function(u){return this.x*=u,this.y*=u,this},scaleBy:function(u){return new Y(this.x*u.x,this.y*u.y)},unscaleBy:function(u){return new Y(this.x/u.x,this.y/u.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=de(this.x),this.y=de(this.y),this},distanceTo:function(u){u=ae(u);var p=u.x-this.x,w=u.y-this.y;return Math.sqrt(p*p+w*w)},equals:function(u){return u=ae(u),u.x===this.x&&u.y===this.y},contains:function(u){return u=ae(u),Math.abs(u.x)<=Math.abs(this.x)&&Math.abs(u.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function ae(u,p,w){return u instanceof Y?u:P(u)?new Y(u[0],u[1]):u==null?u:typeof u=="object"&&"x"in u&&"y"in u?new Y(u.x,u.y):new Y(u,p,w)}function H(u,p){if(u)for(var w=p?[u,p]:u,R=0,M=w.length;R<M;R++)this.extend(w[R])}H.prototype={extend:function(u){var p,w;if(!u)return this;if(u instanceof Y||typeof u[0]=="number"||"x"in u)p=w=ae(u);else if(u=ie(u),p=u.min,w=u.max,!p||!w)return this;return!this.min&&!this.max?(this.min=p.clone(),this.max=w.clone()):(this.min.x=Math.min(p.x,this.min.x),this.max.x=Math.max(w.x,this.max.x),this.min.y=Math.min(p.y,this.min.y),this.max.y=Math.max(w.y,this.max.y)),this},getCenter:function(u){return ae((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,u)},getBottomLeft:function(){return ae(this.min.x,this.max.y)},getTopRight:function(){return ae(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(u){var p,w;return typeof u[0]=="number"||u instanceof Y?u=ae(u):u=ie(u),u instanceof H?(p=u.min,w=u.max):p=w=u,p.x>=this.min.x&&w.x<=this.max.x&&p.y>=this.min.y&&w.y<=this.max.y},intersects:function(u){u=ie(u);var p=this.min,w=this.max,R=u.min,M=u.max,B=M.x>=p.x&&R.x<=w.x,Q=M.y>=p.y&&R.y<=w.y;return B&&Q},overlaps:function(u){u=ie(u);var p=this.min,w=this.max,R=u.min,M=u.max,B=M.x>p.x&&R.x<w.x,Q=M.y>p.y&&R.y<w.y;return B&&Q},isValid:function(){return!!(this.min&&this.max)},pad:function(u){var p=this.min,w=this.max,R=Math.abs(p.x-w.x)*u,M=Math.abs(p.y-w.y)*u;return ie(ae(p.x-R,p.y-M),ae(w.x+R,w.y+M))},equals:function(u){return u?(u=ie(u),this.min.equals(u.getTopLeft())&&this.max.equals(u.getBottomRight())):!1}};function ie(u,p){return!u||u instanceof H?u:new H(u,p)}function me(u,p){if(u)for(var w=p?[u,p]:u,R=0,M=w.length;R<M;R++)this.extend(w[R])}me.prototype={extend:function(u){var p=this._southWest,w=this._northEast,R,M;if(u instanceof Ce)R=u,M=u;else if(u instanceof me){if(R=u._southWest,M=u._northEast,!R||!M)return this}else return u?this.extend(_e(u)||xe(u)):this;return!p&&!w?(this._southWest=new Ce(R.lat,R.lng),this._northEast=new Ce(M.lat,M.lng)):(p.lat=Math.min(R.lat,p.lat),p.lng=Math.min(R.lng,p.lng),w.lat=Math.max(M.lat,w.lat),w.lng=Math.max(M.lng,w.lng)),this},pad:function(u){var p=this._southWest,w=this._northEast,R=Math.abs(p.lat-w.lat)*u,M=Math.abs(p.lng-w.lng)*u;return new me(new Ce(p.lat-R,p.lng-M),new Ce(w.lat+R,w.lng+M))},getCenter:function(){return new Ce((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ce(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ce(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(u){typeof u[0]=="number"||u instanceof Ce||"lat"in u?u=_e(u):u=xe(u);var p=this._southWest,w=this._northEast,R,M;return u instanceof me?(R=u.getSouthWest(),M=u.getNorthEast()):R=M=u,R.lat>=p.lat&&M.lat<=w.lat&&R.lng>=p.lng&&M.lng<=w.lng},intersects:function(u){u=xe(u);var p=this._southWest,w=this._northEast,R=u.getSouthWest(),M=u.getNorthEast(),B=M.lat>=p.lat&&R.lat<=w.lat,Q=M.lng>=p.lng&&R.lng<=w.lng;return B&&Q},overlaps:function(u){u=xe(u);var p=this._southWest,w=this._northEast,R=u.getSouthWest(),M=u.getNorthEast(),B=M.lat>p.lat&&R.lat<w.lat,Q=M.lng>p.lng&&R.lng<w.lng;return B&&Q},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(u,p){return u?(u=xe(u),this._southWest.equals(u.getSouthWest(),p)&&this._northEast.equals(u.getNorthEast(),p)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function xe(u,p){return u instanceof me?u:new me(u,p)}function Ce(u,p,w){if(isNaN(u)||isNaN(p))throw new Error("Invalid LatLng object: ("+u+", "+p+")");this.lat=+u,this.lng=+p,w!==void 0&&(this.alt=+w)}Ce.prototype={equals:function(u,p){if(!u)return!1;u=_e(u);var w=Math.max(Math.abs(this.lat-u.lat),Math.abs(this.lng-u.lng));return w<=(p===void 0?1e-9:p)},toString:function(u){return"LatLng("+b(this.lat,u)+", "+b(this.lng,u)+")"},distanceTo:function(u){return je.distance(this,_e(u))},wrap:function(){return je.wrapLatLng(this)},toBounds:function(u){var p=180*u/40075017,w=p/Math.cos(Math.PI/180*this.lat);return xe([this.lat-p,this.lng-w],[this.lat+p,this.lng+w])},clone:function(){return new Ce(this.lat,this.lng,this.alt)}};function _e(u,p,w){return u instanceof Ce?u:P(u)&&typeof u[0]!="object"?u.length===3?new Ce(u[0],u[1],u[2]):u.length===2?new Ce(u[0],u[1]):null:u==null?u:typeof u=="object"&&"lat"in u?new Ce(u.lat,"lng"in u?u.lng:u.lon,u.alt):p===void 0?null:new Ce(u,p,w)}var Se={latLngToPoint:function(u,p){var w=this.projection.project(u),R=this.scale(p);return this.transformation._transform(w,R)},pointToLatLng:function(u,p){var w=this.scale(p),R=this.transformation.untransform(u,w);return this.projection.unproject(R)},project:function(u){return this.projection.project(u)},unproject:function(u){return this.projection.unproject(u)},scale:function(u){return 256*Math.pow(2,u)},zoom:function(u){return Math.log(u/256)/Math.LN2},getProjectedBounds:function(u){if(this.infinite)return null;var p=this.projection.bounds,w=this.scale(u),R=this.transformation.transform(p.min,w),M=this.transformation.transform(p.max,w);return new H(R,M)},infinite:!1,wrapLatLng:function(u){var p=this.wrapLng?m(u.lng,this.wrapLng,!0):u.lng,w=this.wrapLat?m(u.lat,this.wrapLat,!0):u.lat,R=u.alt;return new Ce(w,p,R)},wrapLatLngBounds:function(u){var p=u.getCenter(),w=this.wrapLatLng(p),R=p.lat-w.lat,M=p.lng-w.lng;if(R===0&&M===0)return u;var B=u.getSouthWest(),Q=u.getNorthEast(),ue=new Ce(B.lat-R,B.lng-M),pe=new Ce(Q.lat-R,Q.lng-M);return new me(ue,pe)}},je=s({},Se,{wrapLng:[-180,180],R:6371e3,distance:function(u,p){var w=Math.PI/180,R=u.lat*w,M=p.lat*w,B=Math.sin((p.lat-u.lat)*w/2),Q=Math.sin((p.lng-u.lng)*w/2),ue=B*B+Math.cos(R)*Math.cos(M)*Q*Q,pe=2*Math.atan2(Math.sqrt(ue),Math.sqrt(1-ue));return this.R*pe}}),ke=6378137,Oe={R:ke,MAX_LATITUDE:85.0511287798,project:function(u){var p=Math.PI/180,w=this.MAX_LATITUDE,R=Math.max(Math.min(w,u.lat),-w),M=Math.sin(R*p);return new Y(this.R*u.lng*p,this.R*Math.log((1+M)/(1-M))/2)},unproject:function(u){var p=180/Math.PI;return new Ce((2*Math.atan(Math.exp(u.y/this.R))-Math.PI/2)*p,u.x*p/this.R)},bounds:(function(){var u=ke*Math.PI;return new H([-u,-u],[u,u])})()};function Ue(u,p,w,R){if(P(u)){this._a=u[0],this._b=u[1],this._c=u[2],this._d=u[3];return}this._a=u,this._b=p,this._c=w,this._d=R}Ue.prototype={transform:function(u,p){return this._transform(u.clone(),p)},_transform:function(u,p){return p=p||1,u.x=p*(this._a*u.x+this._b),u.y=p*(this._c*u.y+this._d),u},untransform:function(u,p){return p=p||1,new Y((u.x/p-this._b)/this._a,(u.y/p-this._d)/this._c)}};function Xe(u,p,w,R){return new Ue(u,p,w,R)}var ht=s({},je,{code:"EPSG:3857",projection:Oe,transformation:(function(){var u=.5/(Math.PI*Oe.R);return Xe(u,.5,-u,.5)})()}),bt=s({},ht,{code:"EPSG:900913"});function zt(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}function dn(u,p){var w="",R,M,B,Q,ue,pe;for(R=0,B=u.length;R<B;R++){for(ue=u[R],M=0,Q=ue.length;M<Q;M++)pe=ue[M],w+=(M?"L":"M")+pe.x+" "+pe.y;w+=p?ze.svg?"z":"x":""}return w||"M0 0"}var fn=document.documentElement.style,jn="ActiveXObject"in window,_n=jn&&!document.addEventListener,wn="msLaunchUri"in navigator&&!("documentMode"in document),qn=an("webkit"),Ti=an("android"),Es=an("android 2")||an("android 3"),sn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Cr=Ti&&an("Google")&&sn<537&&!("AudioNode"in window),xt=!!window.opera,Tt=!wn&&an("chrome"),Bt=an("gecko")&&!qn&&!xt&&!jn,Ri=!Tt&&an("safari"),Zs=an("phantom"),vi="OTransition"in fn,eo=navigator.platform.indexOf("Win")===0,ts=jn&&"transition"in fn,rn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Es,si="MozPerspective"in fn,En=!window.L_DISABLE_3D&&(ts||rn||si)&&!vi&&!Zs,ns=typeof orientation<"u"||an("mobile"),to=ns&&qn,Ga=ns&&rn,Gn=!window.PointerEvent&&window.MSPointerEvent,Xs=!!(window.PointerEvent||Gn),Yt="ontouchstart"in window||!!window.TouchEvent,Zt=!window.L_NO_TOUCH&&(Yt||Xs),hn=ns&&xt,Kn=ns&&Bt,Wn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,An=(function(){var u=!1;try{var p=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassiveEventSupport",v,p),window.removeEventListener("testPassiveEventSupport",v,p)}catch{}return u})(),Yn=(function(){return!!document.createElement("canvas").getContext})(),Zn=!!(document.createElementNS&&zt("svg").createSVGRect),on=!!Zn&&(function(){var u=document.createElement("div");return u.innerHTML="<svg/>",(u.firstChild&&u.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Ni=!Zn&&(function(){try{var u=document.createElement("div");u.innerHTML='<v:shape adj="1"/>';var p=u.firstChild;return p.style.behavior="url(#default#VML)",p&&typeof p.adj=="object"}catch{return!1}})(),ri=navigator.platform.indexOf("Mac")===0,yi=navigator.platform.indexOf("Linux")===0;function an(u){return navigator.userAgent.toLowerCase().indexOf(u)>=0}var ze={ie:jn,ielt9:_n,edge:wn,webkit:qn,android:Ti,android23:Es,androidStock:Cr,opera:xt,chrome:Tt,gecko:Bt,safari:Ri,phantom:Zs,opera12:vi,win:eo,ie3d:ts,webkit3d:rn,gecko3d:si,any3d:En,mobile:ns,mobileWebkit:to,mobileWebkit3d:Ga,msPointer:Gn,pointer:Xs,touch:Zt,touchNative:Yt,mobileOpera:hn,mobileGecko:Kn,retina:Wn,passiveEvents:An,canvas:Yn,svg:Zn,vml:Ni,inlineSvg:on,mac:ri,linux:yi},bi=ze.msPointer?"MSPointerDown":"pointerdown",is=ze.msPointer?"MSPointerMove":"pointermove",oi=ze.msPointer?"MSPointerUp":"pointerup",mn=ze.msPointer?"MSPointerCancel":"pointercancel",Tn={touchstart:bi,touchmove:is,touchend:oi,touchcancel:mn},Qs={touchstart:Bi,touchmove:ss,touchend:ss,touchcancel:ss},As={},ac=!1;function Yu(u,p,w){return p==="touchstart"&&Er(),Qs[p]?(w=Qs[p].bind(this,w),u.addEventListener(Tn[p],w,!1),w):(console.warn("wrong event specified:",p),v)}function lc(u,p,w){if(!Tn[p]){console.warn("wrong event specified:",p);return}u.removeEventListener(Tn[p],w,!1)}function no(u){As[u.pointerId]=u}function Ka(u){As[u.pointerId]&&(As[u.pointerId]=u)}function Js(u){delete As[u.pointerId]}function Er(){ac||(document.addEventListener(bi,no,!0),document.addEventListener(is,Ka,!0),document.addEventListener(oi,Js,!0),document.addEventListener(mn,Js,!0),ac=!0)}function ss(u,p){if(p.pointerType!==(p.MSPOINTER_TYPE_MOUSE||"mouse")){p.touches=[];for(var w in As)p.touches.push(As[w]);p.changedTouches=[p],u(p)}}function Bi(u,p){p.MSPOINTER_TYPE_TOUCH&&p.pointerType===p.MSPOINTER_TYPE_TOUCH&&pn(p),ss(u,p)}function ln(u){var p={},w,R;for(R in u)w=u[R],p[R]=w&&w.bind?w.bind(u):w;return u=p,p.type="dblclick",p.detail=2,p.isTrusted=!1,p._simulated=!0,p}var er=200;function cc(u,p){u.addEventListener("dblclick",p);var w=0,R;function M(B){if(B.detail!==1){R=B.detail;return}if(!(B.pointerType==="mouse"||B.sourceCapabilities&&!B.sourceCapabilities.firesTouchEvents)){var Q=Xa(B);if(!(Q.some(function(pe){return pe instanceof HTMLLabelElement&&pe.attributes.for})&&!Q.some(function(pe){return pe instanceof HTMLInputElement||pe instanceof HTMLSelectElement}))){var ue=Date.now();ue-w<=er?(R++,R===2&&p(ln(B))):R=1,w=ue}}}return u.addEventListener("click",M),{dblclick:p,simDblclick:M}}function Ui(u,p){u.removeEventListener("dblclick",p.dblclick),u.removeEventListener("click",p.simDblclick)}var Fi=Be(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),io=Be(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Wa=io==="webkitTransition"||io==="OTransition"?io+"End":"transitionend";function so(u){return typeof u=="string"?document.getElementById(u):u}function ro(u,p){var w=u.style[p]||u.currentStyle&&u.currentStyle[p];if((!w||w==="auto")&&document.defaultView){var R=document.defaultView.getComputedStyle(u,null);w=R?R[p]:null}return w==="auto"?null:w}function mt(u,p,w){var R=document.createElement(u);return R.className=p||"",w&&w.appendChild(R),R}function F(u){var p=u.parentNode;p&&p.removeChild(u)}function te(u){for(;u.firstChild;)u.removeChild(u.firstChild)}function q(u){var p=u.parentNode;p&&p.lastChild!==u&&p.appendChild(u)}function oe(u){var p=u.parentNode;p&&p.firstChild!==u&&p.insertBefore(u,p.firstChild)}function le(u,p){if(u.classList!==void 0)return u.classList.contains(p);var w=Pe(u);return w.length>0&&new RegExp("(^|\\s)"+p+"(\\s|$)").test(w)}function J(u,p){if(u.classList!==void 0)for(var w=C(p),R=0,M=w.length;R<M;R++)u.classList.add(w[R]);else if(!le(u,p)){var B=Pe(u);Ne(u,(B?B+" ":"")+p)}}function ye(u,p){u.classList!==void 0?u.classList.remove(p):Ne(u,_((" "+Pe(u)+" ").replace(" "+p+" "," ")))}function Ne(u,p){u.className.baseVal===void 0?u.className=p:u.className.baseVal=p}function Pe(u){return u.correspondingElement&&(u=u.correspondingElement),u.className.baseVal===void 0?u.className:u.className.baseVal}function Ae(u,p){"opacity"in u.style?u.style.opacity=p:"filter"in u.style&&Me(u,p)}function Me(u,p){var w=!1,R="DXImageTransform.Microsoft.Alpha";try{w=u.filters.item(R)}catch{if(p===1)return}p=Math.round(p*100),w?(w.Enabled=p!==100,w.Opacity=p):u.style.filter+=" progid:"+R+"(opacity="+p+")"}function Be(u){for(var p=document.documentElement.style,w=0;w<u.length;w++)if(u[w]in p)return u[w];return!1}function tt(u,p,w){var R=p||new Y(0,0);u.style[Fi]=(ze.ie3d?"translate("+R.x+"px,"+R.y+"px)":"translate3d("+R.x+"px,"+R.y+"px,0)")+(w?" scale("+w+")":"")}function We(u,p){u._leaflet_pos=p,ze.any3d?tt(u,p):(u.style.left=p.x+"px",u.style.top=p.y+"px")}function ft(u){return u._leaflet_pos||new Y(0,0)}var Ut,Et,Xn;if("onselectstart"in document)Ut=function(){it(window,"selectstart",pn)},Et=function(){It(window,"selectstart",pn)};else{var Vi=Be(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ut=function(){if(Vi){var u=document.documentElement.style;Xn=u[Vi],u[Vi]="none"}},Et=function(){Vi&&(document.documentElement.style[Vi]=Xn,Xn=void 0)}}function Ar(){it(window,"dragstart",pn)}function oo(){It(window,"dragstart",pn)}var Tr,uc;function Rr(u){for(;u.tabIndex===-1;)u=u.parentNode;u.style&&(xi(),Tr=u,uc=u.style.outlineStyle,u.style.outlineStyle="none",it(window,"keydown",xi))}function xi(){Tr&&(Tr.style.outlineStyle=uc,Tr=void 0,uc=void 0,It(window,"keydown",xi))}function ao(u){do u=u.parentNode;while((!u.offsetWidth||!u.offsetHeight)&&u!==document.body);return u}function Ya(u){var p=u.getBoundingClientRect();return{x:p.width/u.offsetWidth||1,y:p.height/u.offsetHeight||1,boundingClientRect:p}}var Fo={__proto__:null,TRANSFORM:Fi,TRANSITION:io,TRANSITION_END:Wa,get:so,getStyle:ro,create:mt,remove:F,empty:te,toFront:q,toBack:oe,hasClass:le,addClass:J,removeClass:ye,setClass:Ne,getClass:Pe,setOpacity:Ae,testProp:Be,setTransform:tt,setPosition:We,getPosition:ft,get disableTextSelection(){return Ut},get enableTextSelection(){return Et},disableImageDrag:Ar,enableImageDrag:oo,preventOutline:Rr,restoreOutline:xi,getSizedParentNode:ao,getScale:Ya};function it(u,p,w,R){if(p&&typeof p=="object")for(var M in p)os(u,M,p[M],w);else{p=C(p);for(var B=0,Q=p.length;B<Q;B++)os(u,p[B],w,R)}return this}var rs="_leaflet_events";function It(u,p,w,R){if(arguments.length===1)Zu(u),delete u[rs];else if(p&&typeof p=="object")for(var M in p)Za(u,M,p[M],w);else if(p=C(p),arguments.length===2)Zu(u,function(ue){return O(p,ue)!==-1});else for(var B=0,Q=p.length;B<Q;B++)Za(u,p[B],w,R);return this}function Zu(u,p){for(var w in u[rs]){var R=w.split(/\d/)[0];(!p||p(R))&&Za(u,R,null,null,w)}}var lo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function os(u,p,w,R){var M=p+d(w)+(R?"_"+d(R):"");if(u[rs]&&u[rs][M])return this;var B=function(ue){return w.call(R||u,ue||window.event)},Q=B;!ze.touchNative&&ze.pointer&&p.indexOf("touch")===0?B=Yu(u,p,B):ze.touch&&p==="dblclick"?B=cc(u,B):"addEventListener"in u?p==="touchstart"||p==="touchmove"||p==="wheel"||p==="mousewheel"?u.addEventListener(lo[p]||p,B,ze.passiveEvents?{passive:!1}:!1):p==="mouseenter"||p==="mouseleave"?(B=function(ue){ue=ue||window.event,tr(u,ue)&&Q(ue)},u.addEventListener(lo[p],B,!1)):u.addEventListener(p,Q,!1):u.attachEvent("on"+p,B),u[rs]=u[rs]||{},u[rs][M]=B}function Za(u,p,w,R,M){M=M||p+d(w)+(R?"_"+d(R):"");var B=u[rs]&&u[rs][M];if(!B)return this;!ze.touchNative&&ze.pointer&&p.indexOf("touch")===0?lc(u,p,B):ze.touch&&p==="dblclick"?Ui(u,B):"removeEventListener"in u?u.removeEventListener(lo[p]||p,B,!1):u.detachEvent("on"+p,B),u[rs][M]=null}function as(u){return u.stopPropagation?u.stopPropagation():u.originalEvent?u.originalEvent._stopped=!0:u.cancelBubble=!0,this}function Ts(u){return os(u,"wheel",as),this}function co(u){return it(u,"mousedown touchstart dblclick contextmenu",as),u._leaflet_disable_click=!0,this}function pn(u){return u.preventDefault?u.preventDefault():u.returnValue=!1,this}function Nr(u){return pn(u),as(u),this}function Xa(u){if(u.composedPath)return u.composedPath();for(var p=[],w=u.target;w;)p.push(w),w=w.parentNode;return p}function Qa(u,p){if(!p)return new Y(u.clientX,u.clientY);var w=Ya(p),R=w.boundingClientRect;return new Y((u.clientX-R.left)/w.x-p.clientLeft,(u.clientY-R.top)/w.y-p.clientTop)}var wh=ze.linux&&ze.chrome?window.devicePixelRatio:ze.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ai(u){return ze.edge?u.wheelDeltaY/2:u.deltaY&&u.deltaMode===0?-u.deltaY/wh:u.deltaY&&u.deltaMode===1?-u.deltaY*20:u.deltaY&&u.deltaMode===2?-u.deltaY*60:u.deltaX||u.deltaZ?0:u.wheelDelta?(u.wheelDeltaY||u.wheelDelta)/2:u.detail&&Math.abs(u.detail)<32765?-u.detail*20:u.detail?u.detail/-32765*60:0}function tr(u,p){var w=p.relatedTarget;if(!w)return!0;try{for(;w&&w!==u;)w=w.parentNode}catch{return!1}return w!==u}var dc={__proto__:null,on:it,off:It,stopPropagation:as,disableScrollPropagation:Ts,disableClickPropagation:co,preventDefault:pn,stop:Nr,getPropagationPath:Xa,getMousePosition:Qa,getWheelDelta:ai,isExternalTarget:tr,addListener:it,removeListener:It},Vo=ee.extend({run:function(u,p,w,R){this.stop(),this._el=u,this._inProgress=!0,this._duration=w||.25,this._easeOutPower=1/Math.max(R||.5,.2),this._startPos=ft(u),this._offset=p.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=K(this._animate,this),this._step()},_step:function(u){var p=+new Date-this._startTime,w=this._duration*1e3;p<w?this._runFrame(this._easeOut(p/w),u):(this._runFrame(1),this._complete())},_runFrame:function(u,p){var w=this._startPos.add(this._offset.multiplyBy(u));p&&w._round(),We(this._el,w),this.fire("step")},_complete:function(){W(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(u){return 1-Math.pow(1-u,this._easeOutPower)}}),_t=ee.extend({options:{crs:ht,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(u,p){p=E(this,p),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(u),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),p.maxBounds&&this.setMaxBounds(p.maxBounds),p.zoom!==void 0&&(this._zoom=this._limitZoom(p.zoom)),p.center&&p.zoom!==void 0&&this.setView(_e(p.center),p.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=io&&ze.any3d&&!ze.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),it(this._proxy,Wa,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(u,p,w){if(p=p===void 0?this._zoom:this._limitZoom(p),u=this._limitCenter(_e(u),p,this.options.maxBounds),w=w||{},this._stop(),this._loaded&&!w.reset&&w!==!0){w.animate!==void 0&&(w.zoom=s({animate:w.animate},w.zoom),w.pan=s({animate:w.animate,duration:w.duration},w.pan));var R=this._zoom!==p?this._tryAnimatedZoom&&this._tryAnimatedZoom(u,p,w.zoom):this._tryAnimatedPan(u,w.pan);if(R)return clearTimeout(this._sizeTimer),this}return this._resetView(u,p,w.pan&&w.pan.noMoveStart),this},setZoom:function(u,p){return this._loaded?this.setView(this.getCenter(),u,{zoom:p}):(this._zoom=u,this)},zoomIn:function(u,p){return u=u||(ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+u,p)},zoomOut:function(u,p){return u=u||(ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-u,p)},setZoomAround:function(u,p,w){var R=this.getZoomScale(p),M=this.getSize().divideBy(2),B=u instanceof Y?u:this.latLngToContainerPoint(u),Q=B.subtract(M).multiplyBy(1-1/R),ue=this.containerPointToLatLng(M.add(Q));return this.setView(ue,p,{zoom:w})},_getBoundsCenterZoom:function(u,p){p=p||{},u=u.getBounds?u.getBounds():xe(u);var w=ae(p.paddingTopLeft||p.padding||[0,0]),R=ae(p.paddingBottomRight||p.padding||[0,0]),M=this.getBoundsZoom(u,!1,w.add(R));if(M=typeof p.maxZoom=="number"?Math.min(p.maxZoom,M):M,M===1/0)return{center:u.getCenter(),zoom:M};var B=R.subtract(w).divideBy(2),Q=this.project(u.getSouthWest(),M),ue=this.project(u.getNorthEast(),M),pe=this.unproject(Q.add(ue).divideBy(2).add(B),M);return{center:pe,zoom:M}},fitBounds:function(u,p){if(u=xe(u),!u.isValid())throw new Error("Bounds are not valid.");var w=this._getBoundsCenterZoom(u,p);return this.setView(w.center,w.zoom,p)},fitWorld:function(u){return this.fitBounds([[-90,-180],[90,180]],u)},panTo:function(u,p){return this.setView(u,this._zoom,{pan:p})},panBy:function(u,p){if(u=ae(u).round(),p=p||{},!u.x&&!u.y)return this.fire("moveend");if(p.animate!==!0&&!this.getSize().contains(u))return this._resetView(this.unproject(this.project(this.getCenter()).add(u)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Vo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),p.noMoveStart||this.fire("movestart"),p.animate!==!1){J(this._mapPane,"leaflet-pan-anim");var w=this._getMapPanePos().subtract(u).round();this._panAnim.run(this._mapPane,w,p.duration||.25,p.easeLinearity)}else this._rawPanBy(u),this.fire("move").fire("moveend");return this},flyTo:function(u,p,w){if(w=w||{},w.animate===!1||!ze.any3d)return this.setView(u,p,w);this._stop();var R=this.project(this.getCenter()),M=this.project(u),B=this.getSize(),Q=this._zoom;u=_e(u),p=p===void 0?Q:p;var ue=Math.max(B.x,B.y),pe=ue*this.getZoomScale(Q,p),Te=M.distanceTo(R)||1,De=1.42,Ge=De*De;function ct(cn){var rr=cn?-1:1,mo=cn?pe:ue,dd=pe*pe-ue*ue+rr*Ge*Ge*Te*Te,ml=2*mo*Ge*Te,pl=dd/ml,zr=Math.sqrt(pl*pl+1)-pl,or=zr<1e-9?-18:Math.log(zr);return or}function In(cn){return(Math.exp(cn)-Math.exp(-cn))/2}function gn(cn){return(Math.exp(cn)+Math.exp(-cn))/2}function Pi(cn){return In(cn)/gn(cn)}var Nt=ct(0);function kt(cn){return ue*(gn(Nt)/gn(Nt+De*cn))}function gt(cn){return ue*(gn(Nt)*Pi(Nt+De*cn)-In(Nt))/Ge}function jr(cn){return 1-Math.pow(1-cn,1.5)}var Gi=Date.now(),Ec=(ct(1)-Nt)/De,Ir=w.duration?1e3*w.duration:1e3*Ec*.8;function ud(){var cn=(Date.now()-Gi)/Ir,rr=jr(cn)*Ec;cn<=1?(this._flyToFrame=K(ud,this),this._move(this.unproject(R.add(M.subtract(R).multiplyBy(gt(rr)/Te)),Q),this.getScaleZoom(ue/kt(rr),Q),{flyTo:!0})):this._move(u,p)._moveEnd(!0)}return this._moveStart(!0,w.noMoveStart),ud.call(this),this},flyToBounds:function(u,p){var w=this._getBoundsCenterZoom(u,p);return this.flyTo(w.center,w.zoom,p)},setMaxBounds:function(u){return u=xe(u),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),u.isValid()?(this.options.maxBounds=u,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(u){var p=this.options.minZoom;return this.options.minZoom=u,this._loaded&&p!==u&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(u):this},setMaxZoom:function(u){var p=this.options.maxZoom;return this.options.maxZoom=u,this._loaded&&p!==u&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(u):this},panInsideBounds:function(u,p){this._enforcingBounds=!0;var w=this.getCenter(),R=this._limitCenter(w,this._zoom,xe(u));return w.equals(R)||this.panTo(R,p),this._enforcingBounds=!1,this},panInside:function(u,p){p=p||{};var w=ae(p.paddingTopLeft||p.padding||[0,0]),R=ae(p.paddingBottomRight||p.padding||[0,0]),M=this.project(this.getCenter()),B=this.project(u),Q=this.getPixelBounds(),ue=ie([Q.min.add(w),Q.max.subtract(R)]),pe=ue.getSize();if(!ue.contains(B)){this._enforcingBounds=!0;var Te=B.subtract(ue.getCenter()),De=ue.extend(B).getSize().subtract(pe);M.x+=Te.x<0?-De.x:De.x,M.y+=Te.y<0?-De.y:De.y,this.panTo(this.unproject(M),p),this._enforcingBounds=!1}return this},invalidateSize:function(u){if(!this._loaded)return this;u=s({animate:!1,pan:!0},u===!0?{animate:!0}:u);var p=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var w=this.getSize(),R=p.divideBy(2).round(),M=w.divideBy(2).round(),B=R.subtract(M);return!B.x&&!B.y?this:(u.animate&&u.pan?this.panBy(B):(u.pan&&this._rawPanBy(B),this.fire("move"),u.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:p,newSize:w}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(u){if(u=this._locateOptions=s({timeout:1e4,watch:!1},u),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var p=l(this._handleGeolocationResponse,this),w=l(this._handleGeolocationError,this);return u.watch?this._locationWatchId=navigator.geolocation.watchPosition(p,w,u):navigator.geolocation.getCurrentPosition(p,w,u),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(u){if(this._container._leaflet_id){var p=u.code,w=u.message||(p===1?"permission denied":p===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:p,message:"Geolocation error: "+w+"."})}},_handleGeolocationResponse:function(u){if(this._container._leaflet_id){var p=u.coords.latitude,w=u.coords.longitude,R=new Ce(p,w),M=R.toBounds(u.coords.accuracy*2),B=this._locateOptions;if(B.setView){var Q=this.getBoundsZoom(M);this.setView(R,B.maxZoom?Math.min(Q,B.maxZoom):Q)}var ue={latlng:R,bounds:M,timestamp:u.timestamp};for(var pe in u.coords)typeof u.coords[pe]=="number"&&(ue[pe]=u.coords[pe]);this.fire("locationfound",ue)}},addHandler:function(u,p){if(!p)return this;var w=this[u]=new p(this);return this._handlers.push(w),this.options[u]&&w.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),F(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(W(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var u;for(u in this._layers)this._layers[u].remove();for(u in this._panes)F(this._panes[u]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(u,p){var w="leaflet-pane"+(u?" leaflet-"+u.replace("Pane","")+"-pane":""),R=mt("div",w,p||this._mapPane);return u&&(this._panes[u]=R),R},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var u=this.getPixelBounds(),p=this.unproject(u.getBottomLeft()),w=this.unproject(u.getTopRight());return new me(p,w)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(u,p,w){u=xe(u),w=ae(w||[0,0]);var R=this.getZoom()||0,M=this.getMinZoom(),B=this.getMaxZoom(),Q=u.getNorthWest(),ue=u.getSouthEast(),pe=this.getSize().subtract(w),Te=ie(this.project(ue,R),this.project(Q,R)).getSize(),De=ze.any3d?this.options.zoomSnap:1,Ge=pe.x/Te.x,ct=pe.y/Te.y,In=p?Math.max(Ge,ct):Math.min(Ge,ct);return R=this.getScaleZoom(In,R),De&&(R=Math.round(R/(De/100))*(De/100),R=p?Math.ceil(R/De)*De:Math.floor(R/De)*De),Math.max(M,Math.min(B,R))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Y(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(u,p){var w=this._getTopLeftPoint(u,p);return new H(w,w.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(u){return this.options.crs.getProjectedBounds(u===void 0?this.getZoom():u)},getPane:function(u){return typeof u=="string"?this._panes[u]:u},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(u,p){var w=this.options.crs;return p=p===void 0?this._zoom:p,w.scale(u)/w.scale(p)},getScaleZoom:function(u,p){var w=this.options.crs;p=p===void 0?this._zoom:p;var R=w.zoom(u*w.scale(p));return isNaN(R)?1/0:R},project:function(u,p){return p=p===void 0?this._zoom:p,this.options.crs.latLngToPoint(_e(u),p)},unproject:function(u,p){return p=p===void 0?this._zoom:p,this.options.crs.pointToLatLng(ae(u),p)},layerPointToLatLng:function(u){var p=ae(u).add(this.getPixelOrigin());return this.unproject(p)},latLngToLayerPoint:function(u){var p=this.project(_e(u))._round();return p._subtract(this.getPixelOrigin())},wrapLatLng:function(u){return this.options.crs.wrapLatLng(_e(u))},wrapLatLngBounds:function(u){return this.options.crs.wrapLatLngBounds(xe(u))},distance:function(u,p){return this.options.crs.distance(_e(u),_e(p))},containerPointToLayerPoint:function(u){return ae(u).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(u){return ae(u).add(this._getMapPanePos())},containerPointToLatLng:function(u){var p=this.containerPointToLayerPoint(ae(u));return this.layerPointToLatLng(p)},latLngToContainerPoint:function(u){return this.layerPointToContainerPoint(this.latLngToLayerPoint(_e(u)))},mouseEventToContainerPoint:function(u){return Qa(u,this._container)},mouseEventToLayerPoint:function(u){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(u))},mouseEventToLatLng:function(u){return this.layerPointToLatLng(this.mouseEventToLayerPoint(u))},_initContainer:function(u){var p=this._container=so(u);if(p){if(p._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");it(p,"scroll",this._onScroll,this),this._containerId=d(p)},_initLayout:function(){var u=this._container;this._fadeAnimated=this.options.fadeAnimation&&ze.any3d,J(u,"leaflet-container"+(ze.touch?" leaflet-touch":"")+(ze.retina?" leaflet-retina":"")+(ze.ielt9?" leaflet-oldie":"")+(ze.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var p=ro(u,"position");p!=="absolute"&&p!=="relative"&&p!=="fixed"&&p!=="sticky"&&(u.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var u=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),We(this._mapPane,new Y(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(J(u.markerPane,"leaflet-zoom-hide"),J(u.shadowPane,"leaflet-zoom-hide"))},_resetView:function(u,p,w){We(this._mapPane,new Y(0,0));var R=!this._loaded;this._loaded=!0,p=this._limitZoom(p),this.fire("viewprereset");var M=this._zoom!==p;this._moveStart(M,w)._move(u,p)._moveEnd(M),this.fire("viewreset"),R&&this.fire("load")},_moveStart:function(u,p){return u&&this.fire("zoomstart"),p||this.fire("movestart"),this},_move:function(u,p,w,R){p===void 0&&(p=this._zoom);var M=this._zoom!==p;return this._zoom=p,this._lastCenter=u,this._pixelOrigin=this._getNewPixelOrigin(u),R?w&&w.pinch&&this.fire("zoom",w):((M||w&&w.pinch)&&this.fire("zoom",w),this.fire("move",w)),this},_moveEnd:function(u){return u&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return W(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(u){We(this._mapPane,this._getMapPanePos().subtract(u))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(u){this._targets={},this._targets[d(this._container)]=this;var p=u?It:it;p(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&p(window,"resize",this._onResize,this),ze.any3d&&this.options.transform3DLimit&&(u?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){W(this._resizeRequest),this._resizeRequest=K(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var u=this._getMapPanePos();Math.max(Math.abs(u.x),Math.abs(u.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(u,p){for(var w=[],R,M=p==="mouseout"||p==="mouseover",B=u.target||u.srcElement,Q=!1;B;){if(R=this._targets[d(B)],R&&(p==="click"||p==="preclick")&&this._draggableMoved(R)){Q=!0;break}if(R&&R.listens(p,!0)&&(M&&!tr(B,u)||(w.push(R),M))||B===this._container)break;B=B.parentNode}return!w.length&&!Q&&!M&&this.listens(p,!0)&&(w=[this]),w},_isClickDisabled:function(u){for(;u&&u!==this._container;){if(u._leaflet_disable_click)return!0;u=u.parentNode}},_handleDOMEvent:function(u){var p=u.target||u.srcElement;if(!(!this._loaded||p._leaflet_disable_events||u.type==="click"&&this._isClickDisabled(p))){var w=u.type;w==="mousedown"&&Rr(p),this._fireDOMEvent(u,w)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(u,p,w){if(u.type==="click"){var R=s({},u);R.type="preclick",this._fireDOMEvent(R,R.type,w)}var M=this._findEventTargets(u,p);if(w){for(var B=[],Q=0;Q<w.length;Q++)w[Q].listens(p,!0)&&B.push(w[Q]);M=B.concat(M)}if(M.length){p==="contextmenu"&&pn(u);var ue=M[0],pe={originalEvent:u};if(u.type!=="keypress"&&u.type!=="keydown"&&u.type!=="keyup"){var Te=ue.getLatLng&&(!ue._radius||ue._radius<=10);pe.containerPoint=Te?this.latLngToContainerPoint(ue.getLatLng()):this.mouseEventToContainerPoint(u),pe.layerPoint=this.containerPointToLayerPoint(pe.containerPoint),pe.latlng=Te?ue.getLatLng():this.layerPointToLatLng(pe.layerPoint)}for(Q=0;Q<M.length;Q++)if(M[Q].fire(p,pe,!0),pe.originalEvent._stopped||M[Q].options.bubblingMouseEvents===!1&&O(this._mouseEvents,p)!==-1)return}},_draggableMoved:function(u){return u=u.dragging&&u.dragging.enabled()?u:this,u.dragging&&u.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var u=0,p=this._handlers.length;u<p;u++)this._handlers[u].disable()},whenReady:function(u,p){return this._loaded?u.call(p||this,{target:this}):this.on("load",u,p),this},_getMapPanePos:function(){return ft(this._mapPane)||new Y(0,0)},_moved:function(){var u=this._getMapPanePos();return u&&!u.equals([0,0])},_getTopLeftPoint:function(u,p){var w=u&&p!==void 0?this._getNewPixelOrigin(u,p):this.getPixelOrigin();return w.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(u,p){var w=this.getSize()._divideBy(2);return this.project(u,p)._subtract(w)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(u,p,w){var R=this._getNewPixelOrigin(w,p);return this.project(u,p)._subtract(R)},_latLngBoundsToNewLayerBounds:function(u,p,w){var R=this._getNewPixelOrigin(w,p);return ie([this.project(u.getSouthWest(),p)._subtract(R),this.project(u.getNorthWest(),p)._subtract(R),this.project(u.getSouthEast(),p)._subtract(R),this.project(u.getNorthEast(),p)._subtract(R)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(u){return this.latLngToLayerPoint(u).subtract(this._getCenterLayerPoint())},_limitCenter:function(u,p,w){if(!w)return u;var R=this.project(u,p),M=this.getSize().divideBy(2),B=new H(R.subtract(M),R.add(M)),Q=this._getBoundsOffset(B,w,p);return Math.abs(Q.x)<=1&&Math.abs(Q.y)<=1?u:this.unproject(R.add(Q),p)},_limitOffset:function(u,p){if(!p)return u;var w=this.getPixelBounds(),R=new H(w.min.add(u),w.max.add(u));return u.add(this._getBoundsOffset(R,p))},_getBoundsOffset:function(u,p,w){var R=ie(this.project(p.getNorthEast(),w),this.project(p.getSouthWest(),w)),M=R.min.subtract(u.min),B=R.max.subtract(u.max),Q=this._rebound(M.x,-B.x),ue=this._rebound(M.y,-B.y);return new Y(Q,ue)},_rebound:function(u,p){return u+p>0?Math.round(u-p)/2:Math.max(0,Math.ceil(u))-Math.max(0,Math.floor(p))},_limitZoom:function(u){var p=this.getMinZoom(),w=this.getMaxZoom(),R=ze.any3d?this.options.zoomSnap:1;return R&&(u=Math.round(u/R)*R),Math.max(p,Math.min(w,u))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ye(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(u,p){var w=this._getCenterOffset(u)._trunc();return(p&&p.animate)!==!0&&!this.getSize().contains(w)?!1:(this.panBy(w,p),!0)},_createAnimProxy:function(){var u=this._proxy=mt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(u),this.on("zoomanim",function(p){var w=Fi,R=this._proxy.style[w];tt(this._proxy,this.project(p.center,p.zoom),this.getZoomScale(p.zoom,1)),R===this._proxy.style[w]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){F(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var u=this.getCenter(),p=this.getZoom();tt(this._proxy,this.project(u,p),this.getZoomScale(p,1))},_catchTransitionEnd:function(u){this._animatingZoom&&u.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(u,p,w){if(this._animatingZoom)return!0;if(w=w||{},!this._zoomAnimated||w.animate===!1||this._nothingToAnimate()||Math.abs(p-this._zoom)>this.options.zoomAnimationThreshold)return!1;var R=this.getZoomScale(p),M=this._getCenterOffset(u)._divideBy(1-1/R);return w.animate!==!0&&!this.getSize().contains(M)?!1:(K(function(){this._moveStart(!0,w.noMoveStart||!1)._animateZoom(u,p,!0)},this),!0)},_animateZoom:function(u,p,w,R){this._mapPane&&(w&&(this._animatingZoom=!0,this._animateToCenter=u,this._animateToZoom=p,J(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:u,zoom:p,noUpdate:R}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ye(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Xu(u,p){return new _t(u,p)}var ki=se.extend({options:{position:"topright"},initialize:function(u){E(this,u)},getPosition:function(){return this.options.position},setPosition:function(u){var p=this._map;return p&&p.removeControl(this),this.options.position=u,p&&p.addControl(this),this},getContainer:function(){return this._container},addTo:function(u){this.remove(),this._map=u;var p=this._container=this.onAdd(u),w=this.getPosition(),R=u._controlCorners[w];return J(p,"leaflet-control"),w.indexOf("bottom")!==-1?R.insertBefore(p,R.firstChild):R.appendChild(p),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(F(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(u){this._map&&u&&u.screenX>0&&u.screenY>0&&this._map.getContainer().focus()}}),nr=function(u){return new ki(u)};_t.include({addControl:function(u){return u.addTo(this),this},removeControl:function(u){return u.remove(),this},_initControlPos:function(){var u=this._controlCorners={},p="leaflet-",w=this._controlContainer=mt("div",p+"control-container",this._container);function R(M,B){var Q=p+M+" "+p+B;u[M+B]=mt("div",Q,w)}R("top","left"),R("top","right"),R("bottom","left"),R("bottom","right")},_clearControlPos:function(){for(var u in this._controlCorners)F(this._controlCorners[u]);F(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ja=ki.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(u,p,w,R){return w<R?-1:R<w?1:0}},initialize:function(u,p,w){E(this,w),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var R in u)this._addLayer(u[R],R);for(R in p)this._addLayer(p[R],R,!0)},onAdd:function(u){this._initLayout(),this._update(),this._map=u,u.on("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(u){return ki.prototype.addTo.call(this,u),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(u,p){return this._addLayer(u,p),this._map?this._update():this},addOverlay:function(u,p){return this._addLayer(u,p,!0),this._map?this._update():this},removeLayer:function(u){u.off("add remove",this._onLayerChange,this);var p=this._getLayer(d(u));return p&&this._layers.splice(this._layers.indexOf(p),1),this._map?this._update():this},expand:function(){J(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var u=this._map.getSize().y-(this._container.offsetTop+50);return u<this._section.clientHeight?(J(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=u+"px"):ye(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ye(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var u="leaflet-control-layers",p=this._container=mt("div",u),w=this.options.collapsed;p.setAttribute("aria-haspopup",!0),co(p),Ts(p);var R=this._section=mt("section",u+"-list");w&&(this._map.on("click",this.collapse,this),it(p,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var M=this._layersLink=mt("a",u+"-toggle",p);M.href="#",M.title="Layers",M.setAttribute("role","button"),it(M,{keydown:function(B){B.keyCode===13&&this._expandSafely()},click:function(B){pn(B),this._expandSafely()}},this),w||this.expand(),this._baseLayersList=mt("div",u+"-base",R),this._separator=mt("div",u+"-separator",R),this._overlaysList=mt("div",u+"-overlays",R),p.appendChild(R)},_getLayer:function(u){for(var p=0;p<this._layers.length;p++)if(this._layers[p]&&d(this._layers[p].layer)===u)return this._layers[p]},_addLayer:function(u,p,w){this._map&&u.on("add remove",this._onLayerChange,this),this._layers.push({layer:u,name:p,overlay:w}),this.options.sortLayers&&this._layers.sort(l(function(R,M){return this.options.sortFunction(R.layer,M.layer,R.name,M.name)},this)),this.options.autoZIndex&&u.setZIndex&&(this._lastZIndex++,u.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;te(this._baseLayersList),te(this._overlaysList),this._layerControlInputs=[];var u,p,w,R,M=0;for(w=0;w<this._layers.length;w++)R=this._layers[w],this._addItem(R),p=p||R.overlay,u=u||!R.overlay,M+=R.overlay?0:1;return this.options.hideSingleBase&&(u=u&&M>1,this._baseLayersList.style.display=u?"":"none"),this._separator.style.display=p&&u?"":"none",this},_onLayerChange:function(u){this._handlingClick||this._update();var p=this._getLayer(d(u.target)),w=p.overlay?u.type==="add"?"overlayadd":"overlayremove":u.type==="add"?"baselayerchange":null;w&&this._map.fire(w,p)},_createRadioElement:function(u,p){var w='<input type="radio" class="leaflet-control-layers-selector" name="'+u+'"'+(p?' checked="checked"':"")+"/>",R=document.createElement("div");return R.innerHTML=w,R.firstChild},_addItem:function(u){var p=document.createElement("label"),w=this._map.hasLayer(u.layer),R;u.overlay?(R=document.createElement("input"),R.type="checkbox",R.className="leaflet-control-layers-selector",R.defaultChecked=w):R=this._createRadioElement("leaflet-base-layers_"+d(this),w),this._layerControlInputs.push(R),R.layerId=d(u.layer),it(R,"click",this._onInputClick,this);var M=document.createElement("span");M.innerHTML=" "+u.name;var B=document.createElement("span");p.appendChild(B),B.appendChild(R),B.appendChild(M);var Q=u.overlay?this._overlaysList:this._baseLayersList;return Q.appendChild(p),this._checkDisabledLayers(),p},_onInputClick:function(){if(!this._preventClick){var u=this._layerControlInputs,p,w,R=[],M=[];this._handlingClick=!0;for(var B=u.length-1;B>=0;B--)p=u[B],w=this._getLayer(p.layerId).layer,p.checked?R.push(w):p.checked||M.push(w);for(B=0;B<M.length;B++)this._map.hasLayer(M[B])&&this._map.removeLayer(M[B]);for(B=0;B<R.length;B++)this._map.hasLayer(R[B])||this._map.addLayer(R[B]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var u=this._layerControlInputs,p,w,R=this._map.getZoom(),M=u.length-1;M>=0;M--)p=u[M],w=this._getLayer(p.layerId).layer,p.disabled=w.options.minZoom!==void 0&&R<w.options.minZoom||w.options.maxZoom!==void 0&&R>w.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var u=this._section;this._preventClick=!0,it(u,"click",pn),this.expand();var p=this;setTimeout(function(){It(u,"click",pn),p._preventClick=!1})}}),Sh=function(u,p,w){return new Ja(u,p,w)},Qu=ki.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(u){var p="leaflet-control-zoom",w=mt("div",p+" leaflet-bar"),R=this.options;return this._zoomInButton=this._createButton(R.zoomInText,R.zoomInTitle,p+"-in",w,this._zoomIn),this._zoomOutButton=this._createButton(R.zoomOutText,R.zoomOutTitle,p+"-out",w,this._zoomOut),this._updateDisabled(),u.on("zoomend zoomlevelschange",this._updateDisabled,this),w},onRemove:function(u){u.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(u){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(u.shiftKey?3:1))},_zoomOut:function(u){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(u.shiftKey?3:1))},_createButton:function(u,p,w,R,M){var B=mt("a",w,R);return B.innerHTML=u,B.href="#",B.title=p,B.setAttribute("role","button"),B.setAttribute("aria-label",p),co(B),it(B,"click",Nr),it(B,"click",M,this),it(B,"click",this._refocusOnMap,this),B},_updateDisabled:function(){var u=this._map,p="leaflet-disabled";ye(this._zoomInButton,p),ye(this._zoomOutButton,p),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||u._zoom===u.getMinZoom())&&(J(this._zoomOutButton,p),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||u._zoom===u.getMaxZoom())&&(J(this._zoomInButton,p),this._zoomInButton.setAttribute("aria-disabled","true"))}});_t.mergeOptions({zoomControl:!0}),_t.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Qu,this.addControl(this.zoomControl))});var mv=function(u){return new Qu(u)},Ch=ki.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(u){var p="leaflet-control-scale",w=mt("div",p),R=this.options;return this._addScales(R,p+"-line",w),u.on(R.updateWhenIdle?"moveend":"move",this._update,this),u.whenReady(this._update,this),w},onRemove:function(u){u.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(u,p,w){u.metric&&(this._mScale=mt("div",p,w)),u.imperial&&(this._iScale=mt("div",p,w))},_update:function(){var u=this._map,p=u.getSize().y/2,w=u.distance(u.containerPointToLatLng([0,p]),u.containerPointToLatLng([this.options.maxWidth,p]));this._updateScales(w)},_updateScales:function(u){this.options.metric&&u&&this._updateMetric(u),this.options.imperial&&u&&this._updateImperial(u)},_updateMetric:function(u){var p=this._getRoundNum(u),w=p<1e3?p+" m":p/1e3+" km";this._updateScale(this._mScale,w,p/u)},_updateImperial:function(u){var p=u*3.2808399,w,R,M;p>5280?(w=p/5280,R=this._getRoundNum(w),this._updateScale(this._iScale,R+" mi",R/w)):(M=this._getRoundNum(p),this._updateScale(this._iScale,M+" ft",M/p))},_updateScale:function(u,p,w){u.style.width=Math.round(this.options.maxWidth*w)+"px",u.innerHTML=p},_getRoundNum:function(u){var p=Math.pow(10,(Math.floor(u)+"").length-1),w=u/p;return w=w>=10?10:w>=5?5:w>=3?3:w>=2?2:1,p*w}}),Ju=function(u){return new Ch(u)},pv='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ed=ki.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ze.inlineSvg?pv+" ":"")+"Leaflet</a>"},initialize:function(u){E(this,u),this._attributions={}},onAdd:function(u){u.attributionControl=this,this._container=mt("div","leaflet-control-attribution"),co(this._container);for(var p in u._layers)u._layers[p].getAttribution&&this.addAttribution(u._layers[p].getAttribution());return this._update(),u.on("layeradd",this._addAttribution,this),this._container},onRemove:function(u){u.off("layeradd",this._addAttribution,this)},_addAttribution:function(u){u.layer.getAttribution&&(this.addAttribution(u.layer.getAttribution()),u.layer.once("remove",function(){this.removeAttribution(u.layer.getAttribution())},this))},setPrefix:function(u){return this.options.prefix=u,this._update(),this},addAttribution:function(u){return u?(this._attributions[u]||(this._attributions[u]=0),this._attributions[u]++,this._update(),this):this},removeAttribution:function(u){return u?(this._attributions[u]&&(this._attributions[u]--,this._update()),this):this},_update:function(){if(this._map){var u=[];for(var p in this._attributions)this._attributions[p]&&u.push(p);var w=[];this.options.prefix&&w.push(this.options.prefix),u.length&&w.push(u.join(", ")),this._container.innerHTML=w.join(' <span aria-hidden="true">|</span> ')}}});_t.mergeOptions({attributionControl:!0}),_t.addInitHook(function(){this.options.attributionControl&&new ed().addTo(this)});var gv=function(u){return new ed(u)};ki.Layers=Ja,ki.Zoom=Qu,ki.Scale=Ch,ki.Attribution=ed,nr.layers=Sh,nr.zoom=mv,nr.scale=Ju,nr.attribution=gv;var Rs=se.extend({initialize:function(u){this._map=u},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Rs.addTo=function(u,p){return u.addHandler(p,this),this};var vv={Events:G},td=ze.touch?"touchstart mousedown":"mousedown",kr=ee.extend({options:{clickTolerance:3},initialize:function(u,p,w,R){E(this,R),this._element=u,this._dragStartTarget=p||u,this._preventOutline=w},enable:function(){this._enabled||(it(this._dragStartTarget,td,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(kr._dragging===this&&this.finishDrag(!0),It(this._dragStartTarget,td,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(u){if(this._enabled&&(this._moved=!1,!le(this._element,"leaflet-zoom-anim"))){if(u.touches&&u.touches.length!==1){kr._dragging===this&&this.finishDrag();return}if(!(kr._dragging||u.shiftKey||u.which!==1&&u.button!==1&&!u.touches)&&(kr._dragging=this,this._preventOutline&&Rr(this._element),Ar(),Ut(),!this._moving)){this.fire("down");var p=u.touches?u.touches[0]:u,w=ao(this._element);this._startPoint=new Y(p.clientX,p.clientY),this._startPos=ft(this._element),this._parentScale=Ya(w);var R=u.type==="mousedown";it(document,R?"mousemove":"touchmove",this._onMove,this),it(document,R?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(u){if(this._enabled){if(u.touches&&u.touches.length>1){this._moved=!0;return}var p=u.touches&&u.touches.length===1?u.touches[0]:u,w=new Y(p.clientX,p.clientY)._subtract(this._startPoint);!w.x&&!w.y||Math.abs(w.x)+Math.abs(w.y)<this.options.clickTolerance||(w.x/=this._parentScale.x,w.y/=this._parentScale.y,pn(u),this._moved||(this.fire("dragstart"),this._moved=!0,J(document.body,"leaflet-dragging"),this._lastTarget=u.target||u.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),J(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(w),this._moving=!0,this._lastEvent=u,this._updatePosition())}},_updatePosition:function(){var u={originalEvent:this._lastEvent};this.fire("predrag",u),We(this._element,this._newPos),this.fire("drag",u)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(u){ye(document.body,"leaflet-dragging"),this._lastTarget&&(ye(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),It(document,"mousemove touchmove",this._onMove,this),It(document,"mouseup touchend touchcancel",this._onUp,this),oo(),Et();var p=this._moved&&this._moving;this._moving=!1,kr._dragging=!1,p&&this.fire("dragend",{noInertia:u,distance:this._newPos.distanceTo(this._startPos)})}});function Eh(u,p,w){var R,M=[1,4,2,8],B,Q,ue,pe,Te,De,Ge,ct;for(B=0,De=u.length;B<De;B++)u[B]._code=uo(u[B],p);for(ue=0;ue<4;ue++){for(Ge=M[ue],R=[],B=0,De=u.length,Q=De-1;B<De;Q=B++)pe=u[B],Te=u[Q],pe._code&Ge?Te._code&Ge||(ct=fc(Te,pe,Ge,p,w),ct._code=uo(ct,p),R.push(ct)):(Te._code&Ge&&(ct=fc(Te,pe,Ge,p,w),ct._code=uo(ct,p),R.push(ct)),R.push(pe));u=R}return u}function Ah(u,p){var w,R,M,B,Q,ue,pe,Te,De;if(!u||u.length===0)throw new Error("latlngs not passed");$i(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Ge=_e([0,0]),ct=xe(u),In=ct.getNorthWest().distanceTo(ct.getSouthWest())*ct.getNorthEast().distanceTo(ct.getNorthWest());In<1700&&(Ge=nd(u));var gn=u.length,Pi=[];for(w=0;w<gn;w++){var Nt=_e(u[w]);Pi.push(p.project(_e([Nt.lat-Ge.lat,Nt.lng-Ge.lng])))}for(ue=pe=Te=0,w=0,R=gn-1;w<gn;R=w++)M=Pi[w],B=Pi[R],Q=M.y*B.x-B.y*M.x,pe+=(M.x+B.x)*Q,Te+=(M.y+B.y)*Q,ue+=Q*3;ue===0?De=Pi[0]:De=[pe/ue,Te/ue];var kt=p.unproject(ae(De));return _e([kt.lat+Ge.lat,kt.lng+Ge.lng])}function nd(u){for(var p=0,w=0,R=0,M=0;M<u.length;M++){var B=_e(u[M]);p+=B.lat,w+=B.lng,R++}return _e([p/R,w/R])}var id={__proto__:null,clipPolygon:Eh,polygonCenter:Ah,centroid:nd};function Th(u,p){if(!p||!u.length)return u.slice();var w=p*p;return u=bv(u,w),u=Nh(u,w),u}function Rh(u,p,w){return Math.sqrt(el(u,p,w,!0))}function yv(u,p,w){return el(u,p,w)}function Nh(u,p){var w=u.length,R=typeof Uint8Array<"u"?Uint8Array:Array,M=new R(w);M[0]=M[w-1]=1,sd(u,M,p,0,w-1);var B,Q=[];for(B=0;B<w;B++)M[B]&&Q.push(u[B]);return Q}function sd(u,p,w,R,M){var B=0,Q,ue,pe;for(ue=R+1;ue<=M-1;ue++)pe=el(u[ue],u[R],u[M],!0),pe>B&&(Q=ue,B=pe);B>w&&(p[Q]=1,sd(u,p,w,R,Q),sd(u,p,w,Q,M))}function bv(u,p){for(var w=[u[0]],R=1,M=0,B=u.length;R<B;R++)xv(u[R],u[M])>p&&(w.push(u[R]),M=R);return M<B-1&&w.push(u[B-1]),w}var kh;function Ph(u,p,w,R,M){var B=R?kh:uo(u,w),Q=uo(p,w),ue,pe,Te;for(kh=Q;;){if(!(B|Q))return[u,p];if(B&Q)return!1;ue=B||Q,pe=fc(u,p,ue,w,M),Te=uo(pe,w),ue===B?(u=pe,B=Te):(p=pe,Q=Te)}}function fc(u,p,w,R,M){var B=p.x-u.x,Q=p.y-u.y,ue=R.min,pe=R.max,Te,De;return w&8?(Te=u.x+B*(pe.y-u.y)/Q,De=pe.y):w&4?(Te=u.x+B*(ue.y-u.y)/Q,De=ue.y):w&2?(Te=pe.x,De=u.y+Q*(pe.x-u.x)/B):w&1&&(Te=ue.x,De=u.y+Q*(ue.x-u.x)/B),new Y(Te,De,M)}function uo(u,p){var w=0;return u.x<p.min.x?w|=1:u.x>p.max.x&&(w|=2),u.y<p.min.y?w|=4:u.y>p.max.y&&(w|=8),w}function xv(u,p){var w=p.x-u.x,R=p.y-u.y;return w*w+R*R}function el(u,p,w,R){var M=p.x,B=p.y,Q=w.x-M,ue=w.y-B,pe=Q*Q+ue*ue,Te;return pe>0&&(Te=((u.x-M)*Q+(u.y-B)*ue)/pe,Te>1?(M=w.x,B=w.y):Te>0&&(M+=Q*Te,B+=ue*Te)),Q=u.x-M,ue=u.y-B,R?Q*Q+ue*ue:new Y(M,B)}function $i(u){return!P(u[0])||typeof u[0][0]!="object"&&typeof u[0][0]<"u"}function hc(u){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),$i(u)}function $o(u,p){var w,R,M,B,Q,ue,pe,Te;if(!u||u.length===0)throw new Error("latlngs not passed");$i(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var De=_e([0,0]),Ge=xe(u),ct=Ge.getNorthWest().distanceTo(Ge.getSouthWest())*Ge.getNorthEast().distanceTo(Ge.getNorthWest());ct<1700&&(De=nd(u));var In=u.length,gn=[];for(w=0;w<In;w++){var Pi=_e(u[w]);gn.push(p.project(_e([Pi.lat-De.lat,Pi.lng-De.lng])))}for(w=0,R=0;w<In-1;w++)R+=gn[w].distanceTo(gn[w+1])/2;if(R===0)Te=gn[0];else for(w=0,B=0;w<In-1;w++)if(Q=gn[w],ue=gn[w+1],M=Q.distanceTo(ue),B+=M,B>R){pe=(B-R)/M,Te=[ue.x-pe*(ue.x-Q.x),ue.y-pe*(ue.y-Q.y)];break}var Nt=p.unproject(ae(Te));return _e([Nt.lat+De.lat,Nt.lng+De.lng])}var _v={__proto__:null,simplify:Th,pointToSegmentDistance:Rh,closestPointOnSegment:yv,clipSegment:Ph,_getEdgeIntersection:fc,_getBitCode:uo,_sqClosestPointOnSegment:el,isFlat:$i,_flat:hc,polylineCenter:$o},mc={project:function(u){return new Y(u.lng,u.lat)},unproject:function(u){return new Ce(u.y,u.x)},bounds:new H([-180,-90],[180,90])},pc={R:6378137,R_MINOR:6356752314245179e-9,bounds:new H([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(u){var p=Math.PI/180,w=this.R,R=u.lat*p,M=this.R_MINOR/w,B=Math.sqrt(1-M*M),Q=B*Math.sin(R),ue=Math.tan(Math.PI/4-R/2)/Math.pow((1-Q)/(1+Q),B/2);return R=-w*Math.log(Math.max(ue,1e-10)),new Y(u.lng*p*w,R)},unproject:function(u){for(var p=180/Math.PI,w=this.R,R=this.R_MINOR/w,M=Math.sqrt(1-R*R),B=Math.exp(-u.y/w),Q=Math.PI/2-2*Math.atan(B),ue=0,pe=.1,Te;ue<15&&Math.abs(pe)>1e-7;ue++)Te=M*Math.sin(Q),Te=Math.pow((1-Te)/(1+Te),M/2),pe=Math.PI/2-2*Math.atan(B*Te)-Q,Q+=pe;return new Ce(Q*p,u.x*p/w)}},Oh={__proto__:null,LonLat:mc,Mercator:pc,SphericalMercator:Oe},Mh=s({},je,{code:"EPSG:3395",projection:pc,transformation:(function(){var u=.5/(Math.PI*pc.R);return Xe(u,.5,-u,.5)})()}),rd=s({},je,{code:"EPSG:4326",projection:mc,transformation:Xe(1/180,1,-1/180,.5)}),Ho=s({},Se,{projection:mc,transformation:Xe(1,0,-1,0),scale:function(u){return Math.pow(2,u)},zoom:function(u){return Math.log(u)/Math.LN2},distance:function(u,p){var w=p.lng-u.lng,R=p.lat-u.lat;return Math.sqrt(w*w+R*R)},infinite:!0});Se.Earth=je,Se.EPSG3395=Mh,Se.EPSG3857=ht,Se.EPSG900913=bt,Se.EPSG4326=rd,Se.Simple=Ho;var ls=ee.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(u){return u.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(u){return u&&u.removeLayer(this),this},getPane:function(u){return this._map.getPane(u?this.options[u]||u:this.options.pane)},addInteractiveTarget:function(u){return this._map._targets[d(u)]=this,this},removeInteractiveTarget:function(u){return delete this._map._targets[d(u)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(u){var p=u.target;if(p.hasLayer(this)){if(this._map=p,this._zoomAnimated=p._zoomAnimated,this.getEvents){var w=this.getEvents();p.on(w,this),this.once("remove",function(){p.off(w,this)},this)}this.onAdd(p),this.fire("add"),p.fire("layeradd",{layer:this})}}});_t.include({addLayer:function(u){if(!u._layerAdd)throw new Error("The provided object is not a Layer.");var p=d(u);return this._layers[p]?this:(this._layers[p]=u,u._mapToAdd=this,u.beforeAdd&&u.beforeAdd(this),this.whenReady(u._layerAdd,u),this)},removeLayer:function(u){var p=d(u);return this._layers[p]?(this._loaded&&u.onRemove(this),delete this._layers[p],this._loaded&&(this.fire("layerremove",{layer:u}),u.fire("remove")),u._map=u._mapToAdd=null,this):this},hasLayer:function(u){return d(u)in this._layers},eachLayer:function(u,p){for(var w in this._layers)u.call(p,this._layers[w]);return this},_addLayers:function(u){u=u?P(u)?u:[u]:[];for(var p=0,w=u.length;p<w;p++)this.addLayer(u[p])},_addZoomLimit:function(u){(!isNaN(u.options.maxZoom)||!isNaN(u.options.minZoom))&&(this._zoomBoundLayers[d(u)]=u,this._updateZoomLevels())},_removeZoomLimit:function(u){var p=d(u);this._zoomBoundLayers[p]&&(delete this._zoomBoundLayers[p],this._updateZoomLevels())},_updateZoomLevels:function(){var u=1/0,p=-1/0,w=this._getZoomSpan();for(var R in this._zoomBoundLayers){var M=this._zoomBoundLayers[R].options;u=M.minZoom===void 0?u:Math.min(u,M.minZoom),p=M.maxZoom===void 0?p:Math.max(p,M.maxZoom)}this._layersMaxZoom=p===-1/0?void 0:p,this._layersMinZoom=u===1/0?void 0:u,w!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var qo=ls.extend({initialize:function(u,p){E(this,p),this._layers={};var w,R;if(u)for(w=0,R=u.length;w<R;w++)this.addLayer(u[w])},addLayer:function(u){var p=this.getLayerId(u);return this._layers[p]=u,this._map&&this._map.addLayer(u),this},removeLayer:function(u){var p=u in this._layers?u:this.getLayerId(u);return this._map&&this._layers[p]&&this._map.removeLayer(this._layers[p]),delete this._layers[p],this},hasLayer:function(u){var p=typeof u=="number"?u:this.getLayerId(u);return p in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(u){var p=Array.prototype.slice.call(arguments,1),w,R;for(w in this._layers)R=this._layers[w],R[u]&&R[u].apply(R,p);return this},onAdd:function(u){this.eachLayer(u.addLayer,u)},onRemove:function(u){this.eachLayer(u.removeLayer,u)},eachLayer:function(u,p){for(var w in this._layers)u.call(p,this._layers[w]);return this},getLayer:function(u){return this._layers[u]},getLayers:function(){var u=[];return this.eachLayer(u.push,u),u},setZIndex:function(u){return this.invoke("setZIndex",u)},getLayerId:function(u){return d(u)}}),wv=function(u,p){return new qo(u,p)},Ns=qo.extend({addLayer:function(u){return this.hasLayer(u)?this:(u.addEventParent(this),qo.prototype.addLayer.call(this,u),this.fire("layeradd",{layer:u}))},removeLayer:function(u){return this.hasLayer(u)?(u in this._layers&&(u=this._layers[u]),u.removeEventParent(this),qo.prototype.removeLayer.call(this,u),this.fire("layerremove",{layer:u})):this},setStyle:function(u){return this.invoke("setStyle",u)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var u=new me;for(var p in this._layers){var w=this._layers[p];u.extend(w.getBounds?w.getBounds():w.getLatLng())}return u}}),Dh=function(u,p){return new Ns(u,p)},ks=se.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(u){E(this,u)},createIcon:function(u){return this._createIcon("icon",u)},createShadow:function(u){return this._createIcon("shadow",u)},_createIcon:function(u,p){var w=this._getIconUrl(u);if(!w){if(u==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var R=this._createImg(w,p&&p.tagName==="IMG"?p:null);return this._setIconStyles(R,u),(this.options.crossOrigin||this.options.crossOrigin==="")&&(R.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),R},_setIconStyles:function(u,p){var w=this.options,R=w[p+"Size"];typeof R=="number"&&(R=[R,R]);var M=ae(R),B=ae(p==="shadow"&&w.shadowAnchor||w.iconAnchor||M&&M.divideBy(2,!0));u.className="leaflet-marker-"+p+" "+(w.className||""),B&&(u.style.marginLeft=-B.x+"px",u.style.marginTop=-B.y+"px"),M&&(u.style.width=M.x+"px",u.style.height=M.y+"px")},_createImg:function(u,p){return p=p||document.createElement("img"),p.src=u,p},_getIconUrl:function(u){return ze.retina&&this.options[u+"RetinaUrl"]||this.options[u+"Url"]}});function tl(u){return new ks(u)}var nl=ks.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(u){return typeof nl.imagePath!="string"&&(nl.imagePath=this._detectIconPath()),(this.options.imagePath||nl.imagePath)+ks.prototype._getIconUrl.call(this,u)},_stripUrl:function(u){var p=function(w,R,M){var B=R.exec(w);return B&&B[M]};return u=p(u,/^url\((['"])?(.+)\1\)$/,2),u&&p(u,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var u=mt("div","leaflet-default-icon-path",document.body),p=ro(u,"background-image")||ro(u,"backgroundImage");if(document.body.removeChild(u),p=this._stripUrl(p),p)return p;var w=document.querySelector('link[href$="leaflet.css"]');return w?w.href.substring(0,w.href.length-11-1):""}}),il=Rs.extend({initialize:function(u){this._marker=u},addHooks:function(){var u=this._marker._icon;this._draggable||(this._draggable=new kr(u,u,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),J(u,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ye(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(u){var p=this._marker,w=p._map,R=this._marker.options.autoPanSpeed,M=this._marker.options.autoPanPadding,B=ft(p._icon),Q=w.getPixelBounds(),ue=w.getPixelOrigin(),pe=ie(Q.min._subtract(ue).add(M),Q.max._subtract(ue).subtract(M));if(!pe.contains(B)){var Te=ae((Math.max(pe.max.x,B.x)-pe.max.x)/(Q.max.x-pe.max.x)-(Math.min(pe.min.x,B.x)-pe.min.x)/(Q.min.x-pe.min.x),(Math.max(pe.max.y,B.y)-pe.max.y)/(Q.max.y-pe.max.y)-(Math.min(pe.min.y,B.y)-pe.min.y)/(Q.min.y-pe.min.y)).multiplyBy(R);w.panBy(Te,{animate:!1}),this._draggable._newPos._add(Te),this._draggable._startPos._add(Te),We(p._icon,this._draggable._newPos),this._onDrag(u),this._panRequest=K(this._adjustPan.bind(this,u))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(u){this._marker.options.autoPan&&(W(this._panRequest),this._panRequest=K(this._adjustPan.bind(this,u)))},_onDrag:function(u){var p=this._marker,w=p._shadow,R=ft(p._icon),M=p._map.layerPointToLatLng(R);w&&We(w,R),p._latlng=M,u.latlng=M,u.oldLatLng=this._oldLatLng,p.fire("move",u).fire("drag",u)},_onDragEnd:function(u){W(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",u)}}),sl=ls.extend({options:{icon:new nl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(u,p){E(this,p),this._latlng=_e(u)},onAdd:function(u){this._zoomAnimated=this._zoomAnimated&&u.options.markerZoomAnimation,this._zoomAnimated&&u.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(u){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&u.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(u){var p=this._latlng;return this._latlng=_e(u),this.update(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},setZIndexOffset:function(u){return this.options.zIndexOffset=u,this.update()},getIcon:function(){return this.options.icon},setIcon:function(u){return this.options.icon=u,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var u=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(u)}return this},_initIcon:function(){var u=this.options,p="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),w=u.icon.createIcon(this._icon),R=!1;w!==this._icon&&(this._icon&&this._removeIcon(),R=!0,u.title&&(w.title=u.title),w.tagName==="IMG"&&(w.alt=u.alt||"")),J(w,p),u.keyboard&&(w.tabIndex="0",w.setAttribute("role","button")),this._icon=w,u.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&it(w,"focus",this._panOnFocus,this);var M=u.icon.createShadow(this._shadow),B=!1;M!==this._shadow&&(this._removeShadow(),B=!0),M&&(J(M,p),M.alt=""),this._shadow=M,u.opacity<1&&this._updateOpacity(),R&&this.getPane().appendChild(this._icon),this._initInteraction(),M&&B&&this.getPane(u.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&It(this._icon,"focus",this._panOnFocus,this),F(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&F(this._shadow),this._shadow=null},_setPos:function(u){this._icon&&We(this._icon,u),this._shadow&&We(this._shadow,u),this._zIndex=u.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(u){this._icon&&(this._icon.style.zIndex=this._zIndex+u)},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center).round();this._setPos(p)},_initInteraction:function(){if(this.options.interactive&&(J(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),il)){var u=this.options.draggable;this.dragging&&(u=this.dragging.enabled(),this.dragging.disable()),this.dragging=new il(this),u&&this.dragging.enable()}},setOpacity:function(u){return this.options.opacity=u,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var u=this.options.opacity;this._icon&&Ae(this._icon,u),this._shadow&&Ae(this._shadow,u)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var u=this._map;if(u){var p=this.options.icon.options,w=p.iconSize?ae(p.iconSize):ae(0,0),R=p.iconAnchor?ae(p.iconAnchor):ae(0,0);u.panInside(this._latlng,{paddingTopLeft:R,paddingBottomRight:w.subtract(R)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Lh(u,p){return new sl(u,p)}var Ps=ls.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(u){this._renderer=u.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(u){return E(this,u),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&u&&Object.prototype.hasOwnProperty.call(u,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Go=Ps.extend({options:{fill:!0,radius:10},initialize:function(u,p){E(this,p),this._latlng=_e(u),this._radius=this.options.radius},setLatLng:function(u){var p=this._latlng;return this._latlng=_e(u),this.redraw(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(u){return this.options.radius=this._radius=u,this.redraw()},getRadius:function(){return this._radius},setStyle:function(u){var p=u&&u.radius||this._radius;return Ps.prototype.setStyle.call(this,u),this.setRadius(p),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var u=this._radius,p=this._radiusY||u,w=this._clickTolerance(),R=[u+w,p+w];this._pxBounds=new H(this._point.subtract(R),this._point.add(R))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(u){return u.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function jh(u,p){return new Go(u,p)}var gc=Go.extend({initialize:function(u,p,w){if(typeof p=="number"&&(p=s({},w,{radius:p})),E(this,p),this._latlng=_e(u),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(u){return this._mRadius=u,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var u=[this._radius,this._radiusY||this._radius];return new me(this._map.layerPointToLatLng(this._point.subtract(u)),this._map.layerPointToLatLng(this._point.add(u)))},setStyle:Ps.prototype.setStyle,_project:function(){var u=this._latlng.lng,p=this._latlng.lat,w=this._map,R=w.options.crs;if(R.distance===je.distance){var M=Math.PI/180,B=this._mRadius/je.R/M,Q=w.project([p+B,u]),ue=w.project([p-B,u]),pe=Q.add(ue).divideBy(2),Te=w.unproject(pe).lat,De=Math.acos((Math.cos(B*M)-Math.sin(p*M)*Math.sin(Te*M))/(Math.cos(p*M)*Math.cos(Te*M)))/M;(isNaN(De)||De===0)&&(De=B/Math.cos(Math.PI/180*p)),this._point=pe.subtract(w.getPixelOrigin()),this._radius=isNaN(De)?0:pe.x-w.project([Te,u-De]).x,this._radiusY=pe.y-Q.y}else{var Ge=R.unproject(R.project(this._latlng).subtract([this._mRadius,0]));this._point=w.latLngToLayerPoint(this._latlng),this._radius=this._point.x-w.latLngToLayerPoint(Ge).x}this._updateBounds()}});function Ih(u,p,w){return new gc(u,p,w)}var ir=Ps.extend({options:{smoothFactor:1,noClip:!1},initialize:function(u,p){E(this,p),this._setLatLngs(u)},getLatLngs:function(){return this._latlngs},setLatLngs:function(u){return this._setLatLngs(u),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(u){for(var p=1/0,w=null,R=el,M,B,Q=0,ue=this._parts.length;Q<ue;Q++)for(var pe=this._parts[Q],Te=1,De=pe.length;Te<De;Te++){M=pe[Te-1],B=pe[Te];var Ge=R(u,M,B,!0);Ge<p&&(p=Ge,w=R(u,M,B))}return w&&(w.distance=Math.sqrt(p)),w},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $o(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(u,p){return p=p||this._defaultShape(),u=_e(u),p.push(u),this._bounds.extend(u),this.redraw()},_setLatLngs:function(u){this._bounds=new me,this._latlngs=this._convertLatLngs(u)},_defaultShape:function(){return $i(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(u){for(var p=[],w=$i(u),R=0,M=u.length;R<M;R++)w?(p[R]=_e(u[R]),this._bounds.extend(p[R])):p[R]=this._convertLatLngs(u[R]);return p},_project:function(){var u=new H;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,u),this._bounds.isValid()&&u.isValid()&&(this._rawPxBounds=u,this._updateBounds())},_updateBounds:function(){var u=this._clickTolerance(),p=new Y(u,u);this._rawPxBounds&&(this._pxBounds=new H([this._rawPxBounds.min.subtract(p),this._rawPxBounds.max.add(p)]))},_projectLatlngs:function(u,p,w){var R=u[0]instanceof Ce,M=u.length,B,Q;if(R){for(Q=[],B=0;B<M;B++)Q[B]=this._map.latLngToLayerPoint(u[B]),w.extend(Q[B]);p.push(Q)}else for(B=0;B<M;B++)this._projectLatlngs(u[B],p,w)},_clipPoints:function(){var u=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}var p=this._parts,w,R,M,B,Q,ue,pe;for(w=0,M=0,B=this._rings.length;w<B;w++)for(pe=this._rings[w],R=0,Q=pe.length;R<Q-1;R++)ue=Ph(pe[R],pe[R+1],u,R,!0),ue&&(p[M]=p[M]||[],p[M].push(ue[0]),(ue[1]!==pe[R+1]||R===Q-2)&&(p[M].push(ue[1]),M++))}},_simplifyPoints:function(){for(var u=this._parts,p=this.options.smoothFactor,w=0,R=u.length;w<R;w++)u[w]=Th(u[w],p)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(u,p){var w,R,M,B,Q,ue,pe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(w=0,B=this._parts.length;w<B;w++)for(ue=this._parts[w],R=0,Q=ue.length,M=Q-1;R<Q;M=R++)if(!(!p&&R===0)&&Rh(u,ue[M],ue[R])<=pe)return!0;return!1}});function Sv(u,p){return new ir(u,p)}ir._flat=hc;var Ko=ir.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ah(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(u){var p=ir.prototype._convertLatLngs.call(this,u),w=p.length;return w>=2&&p[0]instanceof Ce&&p[0].equals(p[w-1])&&p.pop(),p},_setLatLngs:function(u){ir.prototype._setLatLngs.call(this,u),$i(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return $i(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var u=this._renderer._bounds,p=this.options.weight,w=new Y(p,p);if(u=new H(u.min.subtract(w),u.max.add(w)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}for(var R=0,M=this._rings.length,B;R<M;R++)B=Eh(this._rings[R],u,!0),B.length&&this._parts.push(B)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(u){var p=!1,w,R,M,B,Q,ue,pe,Te;if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(B=0,pe=this._parts.length;B<pe;B++)for(w=this._parts[B],Q=0,Te=w.length,ue=Te-1;Q<Te;ue=Q++)R=w[Q],M=w[ue],R.y>u.y!=M.y>u.y&&u.x<(M.x-R.x)*(u.y-R.y)/(M.y-R.y)+R.x&&(p=!p);return p||ir.prototype._containsPoint.call(this,u,!0)}});function Cv(u,p){return new Ko(u,p)}var sr=Ns.extend({initialize:function(u,p){E(this,p),this._layers={},u&&this.addData(u)},addData:function(u){var p=P(u)?u:u.features,w,R,M;if(p){for(w=0,R=p.length;w<R;w++)M=p[w],(M.geometries||M.geometry||M.features||M.coordinates)&&this.addData(M);return this}var B=this.options;if(B.filter&&!B.filter(u))return this;var Q=Qn(u,B);return Q?(Q.feature=bc(u),Q.defaultOptions=Q.options,this.resetStyle(Q),B.onEachFeature&&B.onEachFeature(u,Q),this.addLayer(Q)):this},resetStyle:function(u){return u===void 0?this.eachLayer(this.resetStyle,this):(u.options=s({},u.defaultOptions),this._setLayerStyle(u,this.options.style),this)},setStyle:function(u){return this.eachLayer(function(p){this._setLayerStyle(p,u)},this)},_setLayerStyle:function(u,p){u.setStyle&&(typeof p=="function"&&(p=p(u.feature)),u.setStyle(p))}});function Qn(u,p){var w=u.type==="Feature"?u.geometry:u,R=w?w.coordinates:null,M=[],B=p&&p.pointToLayer,Q=p&&p.coordsToLatLng||vc,ue,pe,Te,De;if(!R&&!w)return null;switch(w.type){case"Point":return ue=Q(R),Wo(B,u,ue,p);case"MultiPoint":for(Te=0,De=R.length;Te<De;Te++)ue=Q(R[Te]),M.push(Wo(B,u,ue,p));return new Ns(M);case"LineString":case"MultiLineString":return pe=rl(R,w.type==="LineString"?0:1,Q),new ir(pe,p);case"Polygon":case"MultiPolygon":return pe=rl(R,w.type==="Polygon"?1:2,Q),new Ko(pe,p);case"GeometryCollection":for(Te=0,De=w.geometries.length;Te<De;Te++){var Ge=Qn({geometry:w.geometries[Te],type:"Feature",properties:u.properties},p);Ge&&M.push(Ge)}return new Ns(M);case"FeatureCollection":for(Te=0,De=w.features.length;Te<De;Te++){var ct=Qn(w.features[Te],p);ct&&M.push(ct)}return new Ns(M);default:throw new Error("Invalid GeoJSON object.")}}function Wo(u,p,w,R){return u?u(p,w):new sl(w,R&&R.markersInheritOptions&&R)}function vc(u){return new Ce(u[1],u[0],u[2])}function rl(u,p,w){for(var R=[],M=0,B=u.length,Q;M<B;M++)Q=p?rl(u[M],p-1,w):(w||vc)(u[M]),R.push(Q);return R}function yc(u,p){return u=_e(u),u.alt!==void 0?[b(u.lng,p),b(u.lat,p),b(u.alt,p)]:[b(u.lng,p),b(u.lat,p)]}function ol(u,p,w,R){for(var M=[],B=0,Q=u.length;B<Q;B++)M.push(p?ol(u[B],$i(u[B])?0:p-1,w,R):yc(u[B],R));return!p&&w&&M.length>0&&M.push(M[0].slice()),M}function Pr(u,p){return u.feature?s({},u.feature,{geometry:p}):bc(p)}function bc(u){return u.type==="Feature"||u.type==="FeatureCollection"?u:{type:"Feature",properties:{},geometry:u}}var Or={toGeoJSON:function(u){return Pr(this,{type:"Point",coordinates:yc(this.getLatLng(),u)})}};sl.include(Or),gc.include(Or),Go.include(Or),ir.include({toGeoJSON:function(u){var p=!$i(this._latlngs),w=ol(this._latlngs,p?1:0,!1,u);return Pr(this,{type:(p?"Multi":"")+"LineString",coordinates:w})}}),Ko.include({toGeoJSON:function(u){var p=!$i(this._latlngs),w=p&&!$i(this._latlngs[0]),R=ol(this._latlngs,w?2:p?1:0,!0,u);return p||(R=[R]),Pr(this,{type:(w?"Multi":"")+"Polygon",coordinates:R})}}),qo.include({toMultiPoint:function(u){var p=[];return this.eachLayer(function(w){p.push(w.toGeoJSON(u).geometry.coordinates)}),Pr(this,{type:"MultiPoint",coordinates:p})},toGeoJSON:function(u){var p=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(p==="MultiPoint")return this.toMultiPoint(u);var w=p==="GeometryCollection",R=[];return this.eachLayer(function(M){if(M.toGeoJSON){var B=M.toGeoJSON(u);if(w)R.push(B.geometry);else{var Q=bc(B);Q.type==="FeatureCollection"?R.push.apply(R,Q.features):R.push(Q)}}}),w?Pr(this,{geometries:R,type:"GeometryCollection"}):{type:"FeatureCollection",features:R}}});function xc(u,p){return new sr(u,p)}var al=xc,Yo=ls.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(u,p,w){this._url=u,this._bounds=xe(p),E(this,w)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(J(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){F(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(u){return this.options.opacity=u,this._image&&this._updateOpacity(),this},setStyle:function(u){return u.opacity&&this.setOpacity(u.opacity),this},bringToFront:function(){return this._map&&q(this._image),this},bringToBack:function(){return this._map&&oe(this._image),this},setUrl:function(u){return this._url=u,this._image&&(this._image.src=u),this},setBounds:function(u){return this._bounds=xe(u),this._map&&this._reset(),this},getEvents:function(){var u={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var u=this._url.tagName==="IMG",p=this._image=u?this._url:mt("img");if(J(p,"leaflet-image-layer"),this._zoomAnimated&&J(p,"leaflet-zoom-animated"),this.options.className&&J(p,this.options.className),p.onselectstart=v,p.onmousemove=v,p.onload=l(this.fire,this,"load"),p.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),u){this._url=p.src;return}p.src=this._url,p.alt=this.options.alt},_animateZoom:function(u){var p=this._map.getZoomScale(u.zoom),w=this._map._latLngBoundsToNewLayerBounds(this._bounds,u.zoom,u.center).min;tt(this._image,w,p)},_reset:function(){var u=this._image,p=new H(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),w=p.getSize();We(u,p.min),u.style.width=w.x+"px",u.style.height=w.y+"px"},_updateOpacity:function(){Ae(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var u=this.options.errorOverlayUrl;u&&this._url!==u&&(this._url=u,this._image.src=u)},getCenter:function(){return this._bounds.getCenter()}}),zh=function(u,p,w){return new Yo(u,p,w)},Mr=Yo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var u=this._url.tagName==="VIDEO",p=this._image=u?this._url:mt("video");if(J(p,"leaflet-image-layer"),this._zoomAnimated&&J(p,"leaflet-zoom-animated"),this.options.className&&J(p,this.options.className),p.onselectstart=v,p.onmousemove=v,p.onloadeddata=l(this.fire,this,"load"),u){for(var w=p.getElementsByTagName("source"),R=[],M=0;M<w.length;M++)R.push(w[M].src);this._url=w.length>0?R:[p.src];return}P(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(p.style,"objectFit")&&(p.style.objectFit="fill"),p.autoplay=!!this.options.autoplay,p.loop=!!this.options.loop,p.muted=!!this.options.muted,p.playsInline=!!this.options.playsInline;for(var B=0;B<this._url.length;B++){var Q=mt("source");Q.src=this._url[B],p.appendChild(Q)}}});function Zo(u,p,w){return new Mr(u,p,w)}var _c=Yo.extend({_initImage:function(){var u=this._image=this._url;J(u,"leaflet-image-layer"),this._zoomAnimated&&J(u,"leaflet-zoom-animated"),this.options.className&&J(u,this.options.className),u.onselectstart=v,u.onmousemove=v}});function Bh(u,p,w){return new _c(u,p,w)}var Jn=ls.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(u,p){u&&(u instanceof Ce||P(u))?(this._latlng=_e(u),E(this,p)):(E(this,u),this._source=p),this.options.content&&(this._content=this.options.content)},openOn:function(u){return u=arguments.length?u:this._source._map,u.hasLayer(this)||u.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(u){return this._map?this.close():(arguments.length?this._source=u:u=this._source,this._prepareOpen(),this.openOn(u._map)),this},onAdd:function(u){this._zoomAnimated=u._zoomAnimated,this._container||this._initLayout(),u._fadeAnimated&&Ae(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),u._fadeAnimated&&Ae(this._container,1),this.bringToFront(),this.options.interactive&&(J(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(u){u._fadeAnimated?(Ae(this._container,0),this._removeTimeout=setTimeout(l(F,void 0,this._container),200)):F(this._container),this.options.interactive&&(ye(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(u){return this._latlng=_e(u),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(u){return this._content=u,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var u={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&q(this._container),this},bringToBack:function(){return this._map&&oe(this._container),this},_prepareOpen:function(u){var p=this._source;if(!p._map)return!1;if(p instanceof Ns){p=null;var w=this._source._layers;for(var R in w)if(w[R]._map){p=w[R];break}if(!p)return!1;this._source=p}if(!u)if(p.getCenter)u=p.getCenter();else if(p.getLatLng)u=p.getLatLng();else if(p.getBounds)u=p.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(u),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var u=this._contentNode,p=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof p=="string")u.innerHTML=p;else{for(;u.hasChildNodes();)u.removeChild(u.firstChild);u.appendChild(p)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var u=this._map.latLngToLayerPoint(this._latlng),p=ae(this.options.offset),w=this._getAnchor();this._zoomAnimated?We(this._container,u.add(w)):p=p.add(u).add(w);var R=this._containerBottom=-p.y,M=this._containerLeft=-Math.round(this._containerWidth/2)+p.x;this._container.style.bottom=R+"px",this._container.style.left=M+"px"}},_getAnchor:function(){return[0,0]}});_t.include({_initOverlay:function(u,p,w,R){var M=p;return M instanceof u||(M=new u(R).setContent(p)),w&&M.setLatLng(w),M}}),ls.include({_initOverlay:function(u,p,w,R){var M=w;return M instanceof u?(E(M,R),M._source=this):(M=p&&!R?p:new u(R,this),M.setContent(w)),M}});var ll=Jn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(u){return u=arguments.length?u:this._source._map,!u.hasLayer(this)&&u._popup&&u._popup.options.autoClose&&u.removeLayer(u._popup),u._popup=this,Jn.prototype.openOn.call(this,u)},onAdd:function(u){Jn.prototype.onAdd.call(this,u),u.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ps||this._source.on("preclick",as))},onRemove:function(u){Jn.prototype.onRemove.call(this,u),u.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ps||this._source.off("preclick",as))},getEvents:function(){var u=Jn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(u.preclick=this.close),this.options.keepInView&&(u.moveend=this._adjustPan),u},_initLayout:function(){var u="leaflet-popup",p=this._container=mt("div",u+" "+(this.options.className||"")+" leaflet-zoom-animated"),w=this._wrapper=mt("div",u+"-content-wrapper",p);if(this._contentNode=mt("div",u+"-content",w),co(p),Ts(this._contentNode),it(p,"contextmenu",as),this._tipContainer=mt("div",u+"-tip-container",p),this._tip=mt("div",u+"-tip",this._tipContainer),this.options.closeButton){var R=this._closeButton=mt("a",u+"-close-button",p);R.setAttribute("role","button"),R.setAttribute("aria-label","Close popup"),R.href="#close",R.innerHTML='<span aria-hidden="true">&#215;</span>',it(R,"click",function(M){pn(M),this.close()},this)}},_updateLayout:function(){var u=this._contentNode,p=u.style;p.width="",p.whiteSpace="nowrap";var w=u.offsetWidth;w=Math.min(w,this.options.maxWidth),w=Math.max(w,this.options.minWidth),p.width=w+1+"px",p.whiteSpace="",p.height="";var R=u.offsetHeight,M=this.options.maxHeight,B="leaflet-popup-scrolled";M&&R>M?(p.height=M+"px",J(u,B)):ye(u,B),this._containerWidth=this._container.offsetWidth},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center),w=this._getAnchor();We(this._container,p.add(w))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var u=this._map,p=parseInt(ro(this._container,"marginBottom"),10)||0,w=this._container.offsetHeight+p,R=this._containerWidth,M=new Y(this._containerLeft,-w-this._containerBottom);M._add(ft(this._container));var B=u.layerPointToContainerPoint(M),Q=ae(this.options.autoPanPadding),ue=ae(this.options.autoPanPaddingTopLeft||Q),pe=ae(this.options.autoPanPaddingBottomRight||Q),Te=u.getSize(),De=0,Ge=0;B.x+R+pe.x>Te.x&&(De=B.x+R-Te.x+pe.x),B.x-De-ue.x<0&&(De=B.x-ue.x),B.y+w+pe.y>Te.y&&(Ge=B.y+w-Te.y+pe.y),B.y-Ge-ue.y<0&&(Ge=B.y-ue.y),(De||Ge)&&(this.options.keepInView&&(this._autopanning=!0),u.fire("autopanstart").panBy([De,Ge]))}},_getAnchor:function(){return ae(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Uh=function(u,p){return new ll(u,p)};_t.mergeOptions({closePopupOnClick:!0}),_t.include({openPopup:function(u,p,w){return this._initOverlay(ll,u,p,w).openOn(this),this},closePopup:function(u){return u=arguments.length?u:this._popup,u&&u.close(),this}}),ls.include({bindPopup:function(u,p){return this._popup=this._initOverlay(ll,this._popup,u,p),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(u){return this._popup&&(this instanceof Ns||(this._popup._source=this),this._popup._prepareOpen(u||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(u){return this._popup&&this._popup.setContent(u),this},getPopup:function(){return this._popup},_openPopup:function(u){if(!(!this._popup||!this._map)){Nr(u);var p=u.layer||u.target;if(this._popup._source===p&&!(p instanceof Ps)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(u.latlng);return}this._popup._source=p,this.openPopup(u.latlng)}},_movePopup:function(u){this._popup.setLatLng(u.latlng)},_onKeyPress:function(u){u.originalEvent.keyCode===13&&this._openPopup(u)}});var cl=Jn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(u){Jn.prototype.onAdd.call(this,u),this.setOpacity(this.options.opacity),u.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(u){Jn.prototype.onRemove.call(this,u),u.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var u=Jn.prototype.getEvents.call(this);return this.options.permanent||(u.preclick=this.close),u},_initLayout:function(){var u="leaflet-tooltip",p=u+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=mt("div",p),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(u){var p,w,R=this._map,M=this._container,B=R.latLngToContainerPoint(R.getCenter()),Q=R.layerPointToContainerPoint(u),ue=this.options.direction,pe=M.offsetWidth,Te=M.offsetHeight,De=ae(this.options.offset),Ge=this._getAnchor();ue==="top"?(p=pe/2,w=Te):ue==="bottom"?(p=pe/2,w=0):ue==="center"?(p=pe/2,w=Te/2):ue==="right"?(p=0,w=Te/2):ue==="left"?(p=pe,w=Te/2):Q.x<B.x?(ue="right",p=0,w=Te/2):(ue="left",p=pe+(De.x+Ge.x)*2,w=Te/2),u=u.subtract(ae(p,w,!0)).add(De).add(Ge),ye(M,"leaflet-tooltip-right"),ye(M,"leaflet-tooltip-left"),ye(M,"leaflet-tooltip-top"),ye(M,"leaflet-tooltip-bottom"),J(M,"leaflet-tooltip-"+ue),We(M,u)},_updatePosition:function(){var u=this._map.latLngToLayerPoint(this._latlng);this._setPosition(u)},setOpacity:function(u){this.options.opacity=u,this._container&&Ae(this._container,u)},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center);this._setPosition(p)},_getAnchor:function(){return ae(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ev=function(u,p){return new cl(u,p)};_t.include({openTooltip:function(u,p,w){return this._initOverlay(cl,u,p,w).openOn(this),this},closeTooltip:function(u){return u.close(),this}}),ls.include({bindTooltip:function(u,p){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(cl,this._tooltip,u,p),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(u){if(!(!u&&this._tooltipHandlersAdded)){var p=u?"off":"on",w={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?w.add=this._openTooltip:(w.mouseover=this._openTooltip,w.mouseout=this.closeTooltip,w.click=this._openTooltip,this._map?this._addFocusListeners():w.add=this._addFocusListeners),this._tooltip.options.sticky&&(w.mousemove=this._moveTooltip),this[p](w),this._tooltipHandlersAdded=!u}},openTooltip:function(u){return this._tooltip&&(this instanceof Ns||(this._tooltip._source=this),this._tooltip._prepareOpen(u)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(u){return this._tooltip&&this._tooltip.setContent(u),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(u){var p=typeof u.getElement=="function"&&u.getElement();p&&(it(p,"focus",function(){this._tooltip._source=u,this.openTooltip()},this),it(p,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(u){var p=typeof u.getElement=="function"&&u.getElement();p&&p.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(u){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var p=this;this._map.once("moveend",function(){p._openOnceFlag=!1,p._openTooltip(u)});return}this._tooltip._source=u.layer||u.target,this.openTooltip(this._tooltip.options.sticky?u.latlng:void 0)}},_moveTooltip:function(u){var p=u.latlng,w,R;this._tooltip.options.sticky&&u.originalEvent&&(w=this._map.mouseEventToContainerPoint(u.originalEvent),R=this._map.containerPointToLayerPoint(w),p=this._map.layerPointToLatLng(R)),this._tooltip.setLatLng(p)}});var Fh=ks.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(u){var p=u&&u.tagName==="DIV"?u:document.createElement("div"),w=this.options;if(w.html instanceof Element?(te(p),p.appendChild(w.html)):p.innerHTML=w.html!==!1?w.html:"",w.bgPos){var R=ae(w.bgPos);p.style.backgroundPosition=-R.x+"px "+-R.y+"px"}return this._setIconStyles(p,"icon"),p},createShadow:function(){return null}});function Av(u){return new Fh(u)}ks.Default=nl;var Xo=ls.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ze.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(u){E(this,u)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(u){u._addZoomLimit(this)},onRemove:function(u){this._removeAllTiles(),F(this._container),u._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(q(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(oe(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(u){return this.options.opacity=u,this._updateOpacity(),this},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var u=this._clampZoom(this._map.getZoom());u!==this._tileZoom&&(this._tileZoom=u,this._updateLevels()),this._update()}return this},getEvents:function(){var u={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),u.move=this._onMove),this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},createTile:function(){return document.createElement("div")},getTileSize:function(){var u=this.options.tileSize;return u instanceof Y?u:new Y(u,u)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(u){for(var p=this.getPane().children,w=-u(-1/0,1/0),R=0,M=p.length,B;R<M;R++)B=p[R].style.zIndex,p[R]!==this._container&&B&&(w=u(w,+B));isFinite(w)&&(this.options.zIndex=w+u(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ze.ielt9){Ae(this._container,this.options.opacity);var u=+new Date,p=!1,w=!1;for(var R in this._tiles){var M=this._tiles[R];if(!(!M.current||!M.loaded)){var B=Math.min(1,(u-M.loaded)/200);Ae(M.el,B),B<1?p=!0:(M.active?w=!0:this._onOpaqueTile(M),M.active=!0)}}w&&!this._noPrune&&this._pruneTiles(),p&&(W(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=mt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var u=this._tileZoom,p=this.options.maxZoom;if(u!==void 0){for(var w in this._levels)w=Number(w),this._levels[w].el.children.length||w===u?(this._levels[w].el.style.zIndex=p-Math.abs(u-w),this._onUpdateLevel(w)):(F(this._levels[w].el),this._removeTilesAtZoom(w),this._onRemoveLevel(w),delete this._levels[w]);var R=this._levels[u],M=this._map;return R||(R=this._levels[u]={},R.el=mt("div","leaflet-tile-container leaflet-zoom-animated",this._container),R.el.style.zIndex=p,R.origin=M.project(M.unproject(M.getPixelOrigin()),u).round(),R.zoom=u,this._setZoomTransform(R,M.getCenter(),M.getZoom()),v(R.el.offsetWidth),this._onCreateLevel(R)),this._level=R,R}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var u,p,w=this._map.getZoom();if(w>this.options.maxZoom||w<this.options.minZoom){this._removeAllTiles();return}for(u in this._tiles)p=this._tiles[u],p.retain=p.current;for(u in this._tiles)if(p=this._tiles[u],p.current&&!p.active){var R=p.coords;this._retainParent(R.x,R.y,R.z,R.z-5)||this._retainChildren(R.x,R.y,R.z,R.z+2)}for(u in this._tiles)this._tiles[u].retain||this._removeTile(u)}},_removeTilesAtZoom:function(u){for(var p in this._tiles)this._tiles[p].coords.z===u&&this._removeTile(p)},_removeAllTiles:function(){for(var u in this._tiles)this._removeTile(u)},_invalidateAll:function(){for(var u in this._levels)F(this._levels[u].el),this._onRemoveLevel(Number(u)),delete this._levels[u];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(u,p,w,R){var M=Math.floor(u/2),B=Math.floor(p/2),Q=w-1,ue=new Y(+M,+B);ue.z=+Q;var pe=this._tileCoordsToKey(ue),Te=this._tiles[pe];return Te&&Te.active?(Te.retain=!0,!0):(Te&&Te.loaded&&(Te.retain=!0),Q>R?this._retainParent(M,B,Q,R):!1)},_retainChildren:function(u,p,w,R){for(var M=2*u;M<2*u+2;M++)for(var B=2*p;B<2*p+2;B++){var Q=new Y(M,B);Q.z=w+1;var ue=this._tileCoordsToKey(Q),pe=this._tiles[ue];if(pe&&pe.active){pe.retain=!0;continue}else pe&&pe.loaded&&(pe.retain=!0);w+1<R&&this._retainChildren(M,B,w+1,R)}},_resetView:function(u){var p=u&&(u.pinch||u.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),p,p)},_animateZoom:function(u){this._setView(u.center,u.zoom,!0,u.noUpdate)},_clampZoom:function(u){var p=this.options;return p.minNativeZoom!==void 0&&u<p.minNativeZoom?p.minNativeZoom:p.maxNativeZoom!==void 0&&p.maxNativeZoom<u?p.maxNativeZoom:u},_setView:function(u,p,w,R){var M=Math.round(p);this.options.maxZoom!==void 0&&M>this.options.maxZoom||this.options.minZoom!==void 0&&M<this.options.minZoom?M=void 0:M=this._clampZoom(M);var B=this.options.updateWhenZooming&&M!==this._tileZoom;(!R||B)&&(this._tileZoom=M,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),M!==void 0&&this._update(u),w||this._pruneTiles(),this._noPrune=!!w),this._setZoomTransforms(u,p)},_setZoomTransforms:function(u,p){for(var w in this._levels)this._setZoomTransform(this._levels[w],u,p)},_setZoomTransform:function(u,p,w){var R=this._map.getZoomScale(w,u.zoom),M=u.origin.multiplyBy(R).subtract(this._map._getNewPixelOrigin(p,w)).round();ze.any3d?tt(u.el,M,R):We(u.el,M)},_resetGrid:function(){var u=this._map,p=u.options.crs,w=this._tileSize=this.getTileSize(),R=this._tileZoom,M=this._map.getPixelWorldBounds(this._tileZoom);M&&(this._globalTileRange=this._pxBoundsToTileRange(M)),this._wrapX=p.wrapLng&&!this.options.noWrap&&[Math.floor(u.project([0,p.wrapLng[0]],R).x/w.x),Math.ceil(u.project([0,p.wrapLng[1]],R).x/w.y)],this._wrapY=p.wrapLat&&!this.options.noWrap&&[Math.floor(u.project([p.wrapLat[0],0],R).y/w.x),Math.ceil(u.project([p.wrapLat[1],0],R).y/w.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(u){var p=this._map,w=p._animatingZoom?Math.max(p._animateToZoom,p.getZoom()):p.getZoom(),R=p.getZoomScale(w,this._tileZoom),M=p.project(u,this._tileZoom).floor(),B=p.getSize().divideBy(R*2);return new H(M.subtract(B),M.add(B))},_update:function(u){var p=this._map;if(p){var w=this._clampZoom(p.getZoom());if(u===void 0&&(u=p.getCenter()),this._tileZoom!==void 0){var R=this._getTiledPixelBounds(u),M=this._pxBoundsToTileRange(R),B=M.getCenter(),Q=[],ue=this.options.keepBuffer,pe=new H(M.getBottomLeft().subtract([ue,-ue]),M.getTopRight().add([ue,-ue]));if(!(isFinite(M.min.x)&&isFinite(M.min.y)&&isFinite(M.max.x)&&isFinite(M.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Te in this._tiles){var De=this._tiles[Te].coords;(De.z!==this._tileZoom||!pe.contains(new Y(De.x,De.y)))&&(this._tiles[Te].current=!1)}if(Math.abs(w-this._tileZoom)>1){this._setView(u,w);return}for(var Ge=M.min.y;Ge<=M.max.y;Ge++)for(var ct=M.min.x;ct<=M.max.x;ct++){var In=new Y(ct,Ge);if(In.z=this._tileZoom,!!this._isValidTile(In)){var gn=this._tiles[this._tileCoordsToKey(In)];gn?gn.current=!0:Q.push(In)}}if(Q.sort(function(Nt,kt){return Nt.distanceTo(B)-kt.distanceTo(B)}),Q.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Pi=document.createDocumentFragment();for(ct=0;ct<Q.length;ct++)this._addTile(Q[ct],Pi);this._level.el.appendChild(Pi)}}}},_isValidTile:function(u){var p=this._map.options.crs;if(!p.infinite){var w=this._globalTileRange;if(!p.wrapLng&&(u.x<w.min.x||u.x>w.max.x)||!p.wrapLat&&(u.y<w.min.y||u.y>w.max.y))return!1}if(!this.options.bounds)return!0;var R=this._tileCoordsToBounds(u);return xe(this.options.bounds).overlaps(R)},_keyToBounds:function(u){return this._tileCoordsToBounds(this._keyToTileCoords(u))},_tileCoordsToNwSe:function(u){var p=this._map,w=this.getTileSize(),R=u.scaleBy(w),M=R.add(w),B=p.unproject(R,u.z),Q=p.unproject(M,u.z);return[B,Q]},_tileCoordsToBounds:function(u){var p=this._tileCoordsToNwSe(u),w=new me(p[0],p[1]);return this.options.noWrap||(w=this._map.wrapLatLngBounds(w)),w},_tileCoordsToKey:function(u){return u.x+":"+u.y+":"+u.z},_keyToTileCoords:function(u){var p=u.split(":"),w=new Y(+p[0],+p[1]);return w.z=+p[2],w},_removeTile:function(u){var p=this._tiles[u];p&&(F(p.el),delete this._tiles[u],this.fire("tileunload",{tile:p.el,coords:this._keyToTileCoords(u)}))},_initTile:function(u){J(u,"leaflet-tile");var p=this.getTileSize();u.style.width=p.x+"px",u.style.height=p.y+"px",u.onselectstart=v,u.onmousemove=v,ze.ielt9&&this.options.opacity<1&&Ae(u,this.options.opacity)},_addTile:function(u,p){var w=this._getTilePos(u),R=this._tileCoordsToKey(u),M=this.createTile(this._wrapCoords(u),l(this._tileReady,this,u));this._initTile(M),this.createTile.length<2&&K(l(this._tileReady,this,u,null,M)),We(M,w),this._tiles[R]={el:M,coords:u,current:!0},p.appendChild(M),this.fire("tileloadstart",{tile:M,coords:u})},_tileReady:function(u,p,w){p&&this.fire("tileerror",{error:p,tile:w,coords:u});var R=this._tileCoordsToKey(u);w=this._tiles[R],w&&(w.loaded=+new Date,this._map._fadeAnimated?(Ae(w.el,0),W(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this)):(w.active=!0,this._pruneTiles()),p||(J(w.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:w.el,coords:u})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ze.ielt9||!this._map._fadeAnimated?K(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(u){return u.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(u){var p=new Y(this._wrapX?m(u.x,this._wrapX):u.x,this._wrapY?m(u.y,this._wrapY):u.y);return p.z=u.z,p},_pxBoundsToTileRange:function(u){var p=this.getTileSize();return new H(u.min.unscaleBy(p).floor(),u.max.unscaleBy(p).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var u in this._tiles)if(!this._tiles[u].loaded)return!1;return!0}});function Vh(u){return new Xo(u)}var Dr=Xo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(u,p){this._url=u,p=E(this,p),p.detectRetina&&ze.retina&&p.maxZoom>0?(p.tileSize=Math.floor(p.tileSize/2),p.zoomReverse?(p.zoomOffset--,p.minZoom=Math.min(p.maxZoom,p.minZoom+1)):(p.zoomOffset++,p.maxZoom=Math.max(p.minZoom,p.maxZoom-1)),p.minZoom=Math.max(0,p.minZoom)):p.zoomReverse?p.minZoom=Math.min(p.maxZoom,p.minZoom):p.maxZoom=Math.max(p.minZoom,p.maxZoom),typeof p.subdomains=="string"&&(p.subdomains=p.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(u,p){return this._url===u&&p===void 0&&(p=!0),this._url=u,p||this.redraw(),this},createTile:function(u,p){var w=document.createElement("img");return it(w,"load",l(this._tileOnLoad,this,p,w)),it(w,"error",l(this._tileOnError,this,p,w)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(w.referrerPolicy=this.options.referrerPolicy),w.alt="",w.src=this.getTileUrl(u),w},getTileUrl:function(u){var p={r:ze.retina?"@2x":"",s:this._getSubdomain(u),x:u.x,y:u.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var w=this._globalTileRange.max.y-u.y;this.options.tms&&(p.y=w),p["-y"]=w}return N(this._url,s(p,this.options))},_tileOnLoad:function(u,p){ze.ielt9?setTimeout(l(u,this,null,p),0):u(null,p)},_tileOnError:function(u,p,w){var R=this.options.errorTileUrl;R&&p.getAttribute("src")!==R&&(p.src=R),u(w,p)},_onTileRemove:function(u){u.tile.onload=null},_getZoomForUrl:function(){var u=this._tileZoom,p=this.options.maxZoom,w=this.options.zoomReverse,R=this.options.zoomOffset;return w&&(u=p-u),u+R},_getSubdomain:function(u){var p=Math.abs(u.x+u.y)%this.options.subdomains.length;return this.options.subdomains[p]},_abortLoading:function(){var u,p;for(u in this._tiles)if(this._tiles[u].coords.z!==this._tileZoom&&(p=this._tiles[u].el,p.onload=v,p.onerror=v,!p.complete)){p.src=j;var w=this._tiles[u].coords;F(p),delete this._tiles[u],this.fire("tileabort",{tile:p,coords:w})}},_removeTile:function(u){var p=this._tiles[u];if(p)return p.el.setAttribute("src",j),Xo.prototype._removeTile.call(this,u)},_tileReady:function(u,p,w){if(!(!this._map||w&&w.getAttribute("src")===j))return Xo.prototype._tileReady.call(this,u,p,w)}});function Hi(u,p){return new Dr(u,p)}var ul=Dr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(u,p){this._url=u;var w=s({},this.defaultWmsParams);for(var R in p)R in this.options||(w[R]=p[R]);p=E(this,p);var M=p.detectRetina&&ze.retina?2:1,B=this.getTileSize();w.width=B.x*M,w.height=B.y*M,this.wmsParams=w},onAdd:function(u){this._crs=this.options.crs||u.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var p=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[p]=this._crs.code,Dr.prototype.onAdd.call(this,u)},getTileUrl:function(u){var p=this._tileCoordsToNwSe(u),w=this._crs,R=ie(w.project(p[0]),w.project(p[1])),M=R.min,B=R.max,Q=(this._wmsVersion>=1.3&&this._crs===rd?[M.y,M.x,B.y,B.x]:[M.x,M.y,B.x,B.y]).join(","),ue=Dr.prototype.getTileUrl.call(this,u);return ue+T(this.wmsParams,ue,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Q},setParams:function(u,p){return s(this.wmsParams,u),p||this.redraw(),this}});function qi(u,p){return new ul(u,p)}Dr.WMS=ul,Hi.wms=qi;var _i=ls.extend({options:{padding:.1},initialize:function(u){E(this,u),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),J(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var u={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(u.zoomanim=this._onAnimZoom),u},_onAnimZoom:function(u){this._updateTransform(u.center,u.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(u,p){var w=this._map.getZoomScale(p,this._zoom),R=this._map.getSize().multiplyBy(.5+this.options.padding),M=this._map.project(this._center,p),B=R.multiplyBy(-w).add(M).subtract(this._map._getNewPixelOrigin(u,p));ze.any3d?tt(this._container,B,w):We(this._container,B)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var u in this._layers)this._layers[u]._reset()},_onZoomEnd:function(){for(var u in this._layers)this._layers[u]._project()},_updatePaths:function(){for(var u in this._layers)this._layers[u]._update()},_update:function(){var u=this.options.padding,p=this._map.getSize(),w=this._map.containerPointToLayerPoint(p.multiplyBy(-u)).round();this._bounds=new H(w,w.add(p.multiplyBy(1+u*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),wc=_i.extend({options:{tolerance:0},getEvents:function(){var u=_i.prototype.getEvents.call(this);return u.viewprereset=this._onViewPreReset,u},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){_i.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var u=this._container=document.createElement("canvas");it(u,"mousemove",this._onMouseMove,this),it(u,"click dblclick mousedown mouseup contextmenu",this._onClick,this),it(u,"mouseout",this._handleMouseOut,this),u._leaflet_disable_events=!0,this._ctx=u.getContext("2d")},_destroyContainer:function(){W(this._redrawRequest),delete this._ctx,F(this._container),It(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var u;this._redrawBounds=null;for(var p in this._layers)u=this._layers[p],u._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_i.prototype._update.call(this);var u=this._bounds,p=this._container,w=u.getSize(),R=ze.retina?2:1;We(p,u.min),p.width=R*w.x,p.height=R*w.y,p.style.width=w.x+"px",p.style.height=w.y+"px",ze.retina&&this._ctx.scale(2,2),this._ctx.translate(-u.min.x,-u.min.y),this.fire("update")}},_reset:function(){_i.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(u){this._updateDashArray(u),this._layers[d(u)]=u;var p=u._order={layer:u,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=p),this._drawLast=p,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(u){this._requestRedraw(u)},_removePath:function(u){var p=u._order,w=p.next,R=p.prev;w?w.prev=R:this._drawLast=R,R?R.next=w:this._drawFirst=w,delete u._order,delete this._layers[d(u)],this._requestRedraw(u)},_updatePath:function(u){this._extendRedrawBounds(u),u._project(),u._update(),this._requestRedraw(u)},_updateStyle:function(u){this._updateDashArray(u),this._requestRedraw(u)},_updateDashArray:function(u){if(typeof u.options.dashArray=="string"){var p=u.options.dashArray.split(/[, ]+/),w=[],R,M;for(M=0;M<p.length;M++){if(R=Number(p[M]),isNaN(R))return;w.push(R)}u.options._dashArray=w}else u.options._dashArray=u.options.dashArray},_requestRedraw:function(u){this._map&&(this._extendRedrawBounds(u),this._redrawRequest=this._redrawRequest||K(this._redraw,this))},_extendRedrawBounds:function(u){if(u._pxBounds){var p=(u.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new H,this._redrawBounds.extend(u._pxBounds.min.subtract([p,p])),this._redrawBounds.extend(u._pxBounds.max.add([p,p]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var u=this._redrawBounds;if(u){var p=u.getSize();this._ctx.clearRect(u.min.x,u.min.y,p.x,p.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var u,p=this._redrawBounds;if(this._ctx.save(),p){var w=p.getSize();this._ctx.beginPath(),this._ctx.rect(p.min.x,p.min.y,w.x,w.y),this._ctx.clip()}this._drawing=!0;for(var R=this._drawFirst;R;R=R.next)u=R.layer,(!p||u._pxBounds&&u._pxBounds.intersects(p))&&u._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(u,p){if(this._drawing){var w,R,M,B,Q=u._parts,ue=Q.length,pe=this._ctx;if(ue){for(pe.beginPath(),w=0;w<ue;w++){for(R=0,M=Q[w].length;R<M;R++)B=Q[w][R],pe[R?"lineTo":"moveTo"](B.x,B.y);p&&pe.closePath()}this._fillStroke(pe,u)}}},_updateCircle:function(u){if(!(!this._drawing||u._empty())){var p=u._point,w=this._ctx,R=Math.max(Math.round(u._radius),1),M=(Math.max(Math.round(u._radiusY),1)||R)/R;M!==1&&(w.save(),w.scale(1,M)),w.beginPath(),w.arc(p.x,p.y/M,R,0,Math.PI*2,!1),M!==1&&w.restore(),this._fillStroke(w,u)}},_fillStroke:function(u,p){var w=p.options;w.fill&&(u.globalAlpha=w.fillOpacity,u.fillStyle=w.fillColor||w.color,u.fill(w.fillRule||"evenodd")),w.stroke&&w.weight!==0&&(u.setLineDash&&u.setLineDash(p.options&&p.options._dashArray||[]),u.globalAlpha=w.opacity,u.lineWidth=w.weight,u.strokeStyle=w.color,u.lineCap=w.lineCap,u.lineJoin=w.lineJoin,u.stroke())},_onClick:function(u){for(var p=this._map.mouseEventToLayerPoint(u),w,R,M=this._drawFirst;M;M=M.next)w=M.layer,w.options.interactive&&w._containsPoint(p)&&(!(u.type==="click"||u.type==="preclick")||!this._map._draggableMoved(w))&&(R=w);this._fireEvent(R?[R]:!1,u)},_onMouseMove:function(u){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var p=this._map.mouseEventToLayerPoint(u);this._handleMouseHover(u,p)}},_handleMouseOut:function(u){var p=this._hoveredLayer;p&&(ye(this._container,"leaflet-interactive"),this._fireEvent([p],u,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(u,p){if(!this._mouseHoverThrottled){for(var w,R,M=this._drawFirst;M;M=M.next)w=M.layer,w.options.interactive&&w._containsPoint(p)&&(R=w);R!==this._hoveredLayer&&(this._handleMouseOut(u),R&&(J(this._container,"leaflet-interactive"),this._fireEvent([R],u,"mouseover"),this._hoveredLayer=R)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,u),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(u,p,w){this._map._fireDOMEvent(p,w||p.type,u)},_bringToFront:function(u){var p=u._order;if(p){var w=p.next,R=p.prev;if(w)w.prev=R;else return;R?R.next=w:w&&(this._drawFirst=w),p.prev=this._drawLast,this._drawLast.next=p,p.next=null,this._drawLast=p,this._requestRedraw(u)}},_bringToBack:function(u){var p=u._order;if(p){var w=p.next,R=p.prev;if(R)R.next=w;else return;w?w.prev=R:R&&(this._drawLast=R),p.prev=null,p.next=this._drawFirst,this._drawFirst.prev=p,this._drawFirst=p,this._requestRedraw(u)}}});function dl(u){return ze.canvas?new wc(u):null}var Lr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(u){return document.createElement("<lvml:"+u+' class="lvml">')}}catch{}return function(u){return document.createElement("<"+u+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),od={_initContainer:function(){this._container=mt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(_i.prototype._update.call(this),this.fire("update"))},_initPath:function(u){var p=u._container=Lr("shape");J(p,"leaflet-vml-shape "+(this.options.className||"")),p.coordsize="1 1",u._path=Lr("path"),p.appendChild(u._path),this._updateStyle(u),this._layers[d(u)]=u},_addPath:function(u){var p=u._container;this._container.appendChild(p),u.options.interactive&&u.addInteractiveTarget(p)},_removePath:function(u){var p=u._container;F(p),u.removeInteractiveTarget(p),delete this._layers[d(u)]},_updateStyle:function(u){var p=u._stroke,w=u._fill,R=u.options,M=u._container;M.stroked=!!R.stroke,M.filled=!!R.fill,R.stroke?(p||(p=u._stroke=Lr("stroke")),M.appendChild(p),p.weight=R.weight+"px",p.color=R.color,p.opacity=R.opacity,R.dashArray?p.dashStyle=P(R.dashArray)?R.dashArray.join(" "):R.dashArray.replace(/( *, *)/g," "):p.dashStyle="",p.endcap=R.lineCap.replace("butt","flat"),p.joinstyle=R.lineJoin):p&&(M.removeChild(p),u._stroke=null),R.fill?(w||(w=u._fill=Lr("fill")),M.appendChild(w),w.color=R.fillColor||R.color,w.opacity=R.fillOpacity):w&&(M.removeChild(w),u._fill=null)},_updateCircle:function(u){var p=u._point.round(),w=Math.round(u._radius),R=Math.round(u._radiusY||w);this._setPath(u,u._empty()?"M0 0":"AL "+p.x+","+p.y+" "+w+","+R+" 0,"+65535*360)},_setPath:function(u,p){u._path.v=p},_bringToFront:function(u){q(u._container)},_bringToBack:function(u){oe(u._container)}},Os=ze.vml?Lr:zt,Qo=_i.extend({_initContainer:function(){this._container=Os("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Os("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){F(this._container),It(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_i.prototype._update.call(this);var u=this._bounds,p=u.getSize(),w=this._container;(!this._svgSize||!this._svgSize.equals(p))&&(this._svgSize=p,w.setAttribute("width",p.x),w.setAttribute("height",p.y)),We(w,u.min),w.setAttribute("viewBox",[u.min.x,u.min.y,p.x,p.y].join(" ")),this.fire("update")}},_initPath:function(u){var p=u._path=Os("path");u.options.className&&J(p,u.options.className),u.options.interactive&&J(p,"leaflet-interactive"),this._updateStyle(u),this._layers[d(u)]=u},_addPath:function(u){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(u._path),u.addInteractiveTarget(u._path)},_removePath:function(u){F(u._path),u.removeInteractiveTarget(u._path),delete this._layers[d(u)]},_updatePath:function(u){u._project(),u._update()},_updateStyle:function(u){var p=u._path,w=u.options;p&&(w.stroke?(p.setAttribute("stroke",w.color),p.setAttribute("stroke-opacity",w.opacity),p.setAttribute("stroke-width",w.weight),p.setAttribute("stroke-linecap",w.lineCap),p.setAttribute("stroke-linejoin",w.lineJoin),w.dashArray?p.setAttribute("stroke-dasharray",w.dashArray):p.removeAttribute("stroke-dasharray"),w.dashOffset?p.setAttribute("stroke-dashoffset",w.dashOffset):p.removeAttribute("stroke-dashoffset")):p.setAttribute("stroke","none"),w.fill?(p.setAttribute("fill",w.fillColor||w.color),p.setAttribute("fill-opacity",w.fillOpacity),p.setAttribute("fill-rule",w.fillRule||"evenodd")):p.setAttribute("fill","none"))},_updatePoly:function(u,p){this._setPath(u,dn(u._parts,p))},_updateCircle:function(u){var p=u._point,w=Math.max(Math.round(u._radius),1),R=Math.max(Math.round(u._radiusY),1)||w,M="a"+w+","+R+" 0 1,0 ",B=u._empty()?"M0 0":"M"+(p.x-w)+","+p.y+M+w*2+",0 "+M+-w*2+",0 ";this._setPath(u,B)},_setPath:function(u,p){u._path.setAttribute("d",p)},_bringToFront:function(u){q(u._path)},_bringToBack:function(u){oe(u._path)}});ze.vml&&Qo.include(od);function fl(u){return ze.svg||ze.vml?new Qo(u):null}_t.include({getRenderer:function(u){var p=u.options.renderer||this._getPaneRenderer(u.options.pane)||this.options.renderer||this._renderer;return p||(p=this._renderer=this._createRenderer()),this.hasLayer(p)||this.addLayer(p),p},_getPaneRenderer:function(u){if(u==="overlayPane"||u===void 0)return!1;var p=this._paneRenderers[u];return p===void 0&&(p=this._createRenderer({pane:u}),this._paneRenderers[u]=p),p},_createRenderer:function(u){return this.options.preferCanvas&&dl(u)||fl(u)}});var fo=Ko.extend({initialize:function(u,p){Ko.prototype.initialize.call(this,this._boundsToLatLngs(u),p)},setBounds:function(u){return this.setLatLngs(this._boundsToLatLngs(u))},_boundsToLatLngs:function(u){return u=xe(u),[u.getSouthWest(),u.getNorthWest(),u.getNorthEast(),u.getSouthEast()]}});function Tv(u,p){return new fo(u,p)}Qo.create=Os,Qo.pointsToPath=dn,sr.geometryToLayer=Qn,sr.coordsToLatLng=vc,sr.coordsToLatLngs=rl,sr.latLngToCoords=yc,sr.latLngsToCoords=ol,sr.getFeature=Pr,sr.asFeature=bc,_t.mergeOptions({boxZoom:!0});var wi=Rs.extend({initialize:function(u){this._map=u,this._container=u._container,this._pane=u._panes.overlayPane,this._resetStateTimeout=0,u.on("unload",this._destroy,this)},addHooks:function(){it(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){It(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){F(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(u){if(!u.shiftKey||u.which!==1&&u.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ut(),Ar(),this._startPoint=this._map.mouseEventToContainerPoint(u),it(document,{contextmenu:Nr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(u){this._moved||(this._moved=!0,this._box=mt("div","leaflet-zoom-box",this._container),J(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(u);var p=new H(this._point,this._startPoint),w=p.getSize();We(this._box,p.min),this._box.style.width=w.x+"px",this._box.style.height=w.y+"px"},_finish:function(){this._moved&&(F(this._box),ye(this._container,"leaflet-crosshair")),Et(),oo(),It(document,{contextmenu:Nr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(u){if(!(u.which!==1&&u.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var p=new me(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(p).fire("boxzoomend",{boxZoomBounds:p})}},_onKeyDown:function(u){u.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});_t.addInitHook("addHandler","boxZoom",wi),_t.mergeOptions({doubleClickZoom:!0});var Sc=Rs.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(u){var p=this._map,w=p.getZoom(),R=p.options.zoomDelta,M=u.originalEvent.shiftKey?w-R:w+R;p.options.doubleClickZoom==="center"?p.setZoom(M):p.setZoomAround(u.containerPoint,M)}});_t.addInitHook("addHandler","doubleClickZoom",Sc),_t.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ms=Rs.extend({addHooks:function(){if(!this._draggable){var u=this._map;this._draggable=new kr(u._mapPane,u._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),u.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),u.on("zoomend",this._onZoomEnd,this),u.whenReady(this._onZoomEnd,this))}J(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ye(this._map._container,"leaflet-grab"),ye(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var u=this._map;if(u._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var p=xe(this._map.options.maxBounds);this._offsetLimit=ie(this._map.latLngToContainerPoint(p.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(p.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;u.fire("movestart").fire("dragstart"),u.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(u){if(this._map.options.inertia){var p=this._lastTime=+new Date,w=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(w),this._times.push(p),this._prunePositions(p)}this._map.fire("move",u).fire("drag",u)},_prunePositions:function(u){for(;this._positions.length>1&&u-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var u=this._map.getSize().divideBy(2),p=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=p.subtract(u).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(u,p){return u-(u-p)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var u=this._draggable._newPos.subtract(this._draggable._startPos),p=this._offsetLimit;u.x<p.min.x&&(u.x=this._viscousLimit(u.x,p.min.x)),u.y<p.min.y&&(u.y=this._viscousLimit(u.y,p.min.y)),u.x>p.max.x&&(u.x=this._viscousLimit(u.x,p.max.x)),u.y>p.max.y&&(u.y=this._viscousLimit(u.y,p.max.y)),this._draggable._newPos=this._draggable._startPos.add(u)}},_onPreDragWrap:function(){var u=this._worldWidth,p=Math.round(u/2),w=this._initialWorldOffset,R=this._draggable._newPos.x,M=(R-p+w)%u+p-w,B=(R+p+w)%u-p-w,Q=Math.abs(M+w)<Math.abs(B+w)?M:B;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Q},_onDragEnd:function(u){var p=this._map,w=p.options,R=!w.inertia||u.noInertia||this._times.length<2;if(p.fire("dragend",u),R)p.fire("moveend");else{this._prunePositions(+new Date);var M=this._lastPos.subtract(this._positions[0]),B=(this._lastTime-this._times[0])/1e3,Q=w.easeLinearity,ue=M.multiplyBy(Q/B),pe=ue.distanceTo([0,0]),Te=Math.min(w.inertiaMaxSpeed,pe),De=ue.multiplyBy(Te/pe),Ge=Te/(w.inertiaDeceleration*Q),ct=De.multiplyBy(-Ge/2).round();!ct.x&&!ct.y?p.fire("moveend"):(ct=p._limitOffset(ct,p.options.maxBounds),K(function(){p.panBy(ct,{duration:Ge,easeLinearity:Q,noMoveStart:!0,animate:!0})}))}}});_t.addInitHook("addHandler","dragging",Ms),_t.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ad=Rs.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(u){this._map=u,this._setPanDelta(u.options.keyboardPanDelta),this._setZoomDelta(u.options.zoomDelta)},addHooks:function(){var u=this._map._container;u.tabIndex<=0&&(u.tabIndex="0"),it(u,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),It(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var u=document.body,p=document.documentElement,w=u.scrollTop||p.scrollTop,R=u.scrollLeft||p.scrollLeft;this._map._container.focus(),window.scrollTo(R,w)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(u){var p=this._panKeys={},w=this.keyCodes,R,M;for(R=0,M=w.left.length;R<M;R++)p[w.left[R]]=[-1*u,0];for(R=0,M=w.right.length;R<M;R++)p[w.right[R]]=[u,0];for(R=0,M=w.down.length;R<M;R++)p[w.down[R]]=[0,u];for(R=0,M=w.up.length;R<M;R++)p[w.up[R]]=[0,-1*u]},_setZoomDelta:function(u){var p=this._zoomKeys={},w=this.keyCodes,R,M;for(R=0,M=w.zoomIn.length;R<M;R++)p[w.zoomIn[R]]=u;for(R=0,M=w.zoomOut.length;R<M;R++)p[w.zoomOut[R]]=-u},_addHooks:function(){it(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){It(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(u){if(!(u.altKey||u.ctrlKey||u.metaKey)){var p=u.keyCode,w=this._map,R;if(p in this._panKeys){if(!w._panAnim||!w._panAnim._inProgress)if(R=this._panKeys[p],u.shiftKey&&(R=ae(R).multiplyBy(3)),w.options.maxBounds&&(R=w._limitOffset(ae(R),w.options.maxBounds)),w.options.worldCopyJump){var M=w.wrapLatLng(w.unproject(w.project(w.getCenter()).add(R)));w.panTo(M)}else w.panBy(R)}else if(p in this._zoomKeys)w.setZoom(w.getZoom()+(u.shiftKey?3:1)*this._zoomKeys[p]);else if(p===27&&w._popup&&w._popup.options.closeOnEscapeKey)w.closePopup();else return;Nr(u)}}});_t.addInitHook("addHandler","keyboard",ad),_t.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var hl=Rs.extend({addHooks:function(){it(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){It(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(u){var p=ai(u),w=this._map.options.wheelDebounceTime;this._delta+=p,this._lastMousePos=this._map.mouseEventToContainerPoint(u),this._startTime||(this._startTime=+new Date);var R=Math.max(w-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),R),Nr(u)},_performZoom:function(){var u=this._map,p=u.getZoom(),w=this._map.options.zoomSnap||0;u._stop();var R=this._delta/(this._map.options.wheelPxPerZoomLevel*4),M=4*Math.log(2/(1+Math.exp(-Math.abs(R))))/Math.LN2,B=w?Math.ceil(M/w)*w:M,Q=u._limitZoom(p+(this._delta>0?B:-B))-p;this._delta=0,this._startTime=null,Q&&(u.options.scrollWheelZoom==="center"?u.setZoom(p+Q):u.setZoomAround(this._lastMousePos,p+Q))}});_t.addInitHook("addHandler","scrollWheelZoom",hl);var ho=600;_t.mergeOptions({tapHold:ze.touchNative&&ze.safari&&ze.mobile,tapTolerance:15});var Cc=Rs.extend({addHooks:function(){it(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){It(this._map._container,"touchstart",this._onDown,this)},_onDown:function(u){if(clearTimeout(this._holdTimeout),u.touches.length===1){var p=u.touches[0];this._startPos=this._newPos=new Y(p.clientX,p.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(it(document,"touchend",pn),it(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",p))},this),ho),it(document,"touchend touchcancel contextmenu",this._cancel,this),it(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function u(){It(document,"touchend",pn),It(document,"touchend touchcancel",u)},_cancel:function(){clearTimeout(this._holdTimeout),It(document,"touchend touchcancel contextmenu",this._cancel,this),It(document,"touchmove",this._onMove,this)},_onMove:function(u){var p=u.touches[0];this._newPos=new Y(p.clientX,p.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(u,p){var w=new MouseEvent(u,{bubbles:!0,cancelable:!0,view:window,screenX:p.screenX,screenY:p.screenY,clientX:p.clientX,clientY:p.clientY});w._simulated=!0,p.target.dispatchEvent(w)}});_t.addInitHook("addHandler","tapHold",Cc),_t.mergeOptions({touchZoom:ze.touch,bounceAtZoomLimits:!0});var ld=Rs.extend({addHooks:function(){J(this._map._container,"leaflet-touch-zoom"),it(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ye(this._map._container,"leaflet-touch-zoom"),It(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(u){var p=this._map;if(!(!u.touches||u.touches.length!==2||p._animatingZoom||this._zooming)){var w=p.mouseEventToContainerPoint(u.touches[0]),R=p.mouseEventToContainerPoint(u.touches[1]);this._centerPoint=p.getSize()._divideBy(2),this._startLatLng=p.containerPointToLatLng(this._centerPoint),p.options.touchZoom!=="center"&&(this._pinchStartLatLng=p.containerPointToLatLng(w.add(R)._divideBy(2))),this._startDist=w.distanceTo(R),this._startZoom=p.getZoom(),this._moved=!1,this._zooming=!0,p._stop(),it(document,"touchmove",this._onTouchMove,this),it(document,"touchend touchcancel",this._onTouchEnd,this),pn(u)}},_onTouchMove:function(u){if(!(!u.touches||u.touches.length!==2||!this._zooming)){var p=this._map,w=p.mouseEventToContainerPoint(u.touches[0]),R=p.mouseEventToContainerPoint(u.touches[1]),M=w.distanceTo(R)/this._startDist;if(this._zoom=p.getScaleZoom(M,this._startZoom),!p.options.bounceAtZoomLimits&&(this._zoom<p.getMinZoom()&&M<1||this._zoom>p.getMaxZoom()&&M>1)&&(this._zoom=p._limitZoom(this._zoom)),p.options.touchZoom==="center"){if(this._center=this._startLatLng,M===1)return}else{var B=w._add(R)._divideBy(2)._subtract(this._centerPoint);if(M===1&&B.x===0&&B.y===0)return;this._center=p.unproject(p.project(this._pinchStartLatLng,this._zoom).subtract(B),this._zoom)}this._moved||(p._moveStart(!0,!1),this._moved=!0),W(this._animRequest);var Q=l(p._move,p,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=K(Q,this,!0),pn(u)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,W(this._animRequest),It(document,"touchmove",this._onTouchMove,this),It(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});_t.addInitHook("addHandler","touchZoom",ld),_t.BoxZoom=wi,_t.DoubleClickZoom=Sc,_t.Drag=Ms,_t.Keyboard=ad,_t.ScrollWheelZoom=hl,_t.TapHold=Cc,_t.TouchZoom=ld,n.Bounds=H,n.Browser=ze,n.CRS=Se,n.Canvas=wc,n.Circle=gc,n.CircleMarker=Go,n.Class=se,n.Control=ki,n.DivIcon=Fh,n.DivOverlay=Jn,n.DomEvent=dc,n.DomUtil=Fo,n.Draggable=kr,n.Evented=ee,n.FeatureGroup=Ns,n.GeoJSON=sr,n.GridLayer=Xo,n.Handler=Rs,n.Icon=ks,n.ImageOverlay=Yo,n.LatLng=Ce,n.LatLngBounds=me,n.Layer=ls,n.LayerGroup=qo,n.LineUtil=_v,n.Map=_t,n.Marker=sl,n.Mixin=vv,n.Path=Ps,n.Point=Y,n.PolyUtil=id,n.Polygon=Ko,n.Polyline=ir,n.Popup=ll,n.PosAnimation=Vo,n.Projection=Oh,n.Rectangle=fo,n.Renderer=_i,n.SVG=Qo,n.SVGOverlay=_c,n.TileLayer=Dr,n.Tooltip=cl,n.Transformation=Ue,n.Util=X,n.VideoOverlay=Mr,n.bind=l,n.bounds=ie,n.canvas=dl,n.circle=Ih,n.circleMarker=jh,n.control=nr,n.divIcon=Av,n.extend=s,n.featureGroup=Dh,n.geoJSON=xc,n.geoJson=al,n.gridLayer=Vh,n.icon=tl,n.imageOverlay=zh,n.latLng=_e,n.latLngBounds=xe,n.layerGroup=wv,n.map=Xu,n.marker=Lh,n.point=ae,n.polygon=Cv,n.polyline=Sv,n.popup=Uh,n.rectangle=Tv,n.setOptions=E,n.stamp=d,n.svg=fl,n.svgOverlay=Bh,n.tileLayer=Hi,n.tooltip=Ev,n.transformation=Xe,n.version=i,n.videoOverlay=Zo;var cd=window.L;n.noConflict=function(){return window.L=cd,this},window.L=n}))})(rf,rf.exports)),rf.exports}var tv=Jte();function zw(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Bw(e,t){return t==null?function(i,s){const o=x.useRef(void 0);return o.current||(o.current=e(i,s)),o}:function(i,s){const o=x.useRef(void 0);o.current||(o.current=e(i,s));const l=x.useRef(i),{instance:c}=o.current;return x.useEffect(function(){l.current!==i&&(t(c,i,l.current),l.current=i)},[c,i,t]),o}}function ene(e,t){x.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function Sj(e){return function(n){const i=jw(),s=e(Iw(n,i),i);return _j(i.map,n.attribution),wj(s.current,n.eventHandlers),ene(s.current,i),s}}function tne(e,t){const n=Bw(e,t),i=Sj(n);return Wte(i)}function nne(e,t){const n=Bw(e),i=Xte(n,t);return Yte(i)}function ine(e,t){const n=Bw(e,t),i=Sj(n);return Zte(i)}function sne(e,t,n){const{opacity:i,zIndex:s}=t;i!=null&&i!==n.opacity&&e.setOpacity(i),s!=null&&s!==n.zIndex&&e.setZIndex(s)}function rne(){return jw().map}function one({bounds:e,boundsOptions:t,center:n,children:i,className:s,id:o,placeholder:l,style:c,whenReady:d,zoom:h,...m},v){const[b]=x.useState({className:s,id:o,style:c}),[_,C]=x.useState(null),E=x.useRef(void 0);x.useImperativeHandle(v,()=>_?.map??null,[_]);const T=x.useCallback(N=>{if(N!==null&&!E.current){const P=new tv.Map(N,m);E.current=P,n!=null&&h!=null?P.setView(n,h):e!=null&&P.fitBounds(e,t),d!=null&&P.whenReady(d),C(Gte(P))}},[]);x.useEffect(()=>()=>{_?.map.remove()},[_]);const k=_?Mt.createElement(Lw,{value:_},i):l??null;return Mt.createElement("div",{...b,ref:T},k)}const ane=x.forwardRef(one),lne=tne(function({position:t,...n},i){const s=new tv.Marker(t,n);return zw(s,Kte(i,{overlayContainer:s}))},function(t,n,i){n.position!==i.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),cne=nne(function(t,n){const i=new tv.Popup(t,n.overlayContainer);return zw(i,n)},function(t,n,{position:i},s){x.useEffect(function(){const{instance:l}=t;function c(h){h.popup===l&&(l.update(),s(!0))}function d(h){h.popup===l&&s(!1)}return n.map.on({popupopen:c,popupclose:d}),n.overlayContainer==null?(i!=null&&l.setLatLng(i),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){n.map.off({popupopen:c,popupclose:d}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(l)}},[t,n,s,i])}),une=ine(function({url:t,...n},i){const s=new tv.TileLayer(t,Iw(n,i));return zw(s,i)},function(t,n,i){sne(t,n,i);const{url:s}=n;s!=null&&s!==i.url&&t.setUrl(s)}),dne=({bounds:e})=>{const t=rne();return x.useEffect(()=>{e.length>=2?t.fitBounds(e,{padding:[30,30]}):e.length===1&&t.setView(e[0],6)},[e,t]),null},fne=e=>Ws({queryKey:["occurrences",e],queryFn:async()=>{const n=(await PZ(e)).results.filter(i=>i.decimalLatitude&&i.decimalLongitude).map(i=>({decimalLatitude:i.decimalLatitude,decimalLongitude:i.decimalLongitude,eventDate:i.eventDate,locality:i.locality,country:i.country,recordedBy:i.recordedBy,references:i.references}));return{hasResults:n.length>0,occurrences:n}},staleTime:1e3*60*15}),hne=x.memo(({specieKey:e})=>{const{t}=At(),{data:n,isFetching:i}=fne(e),s=n?.occurrences??[],o=n?.hasResults;return i?y.jsx(ih,{className:"m-auto size-4 animate-spin"}):!i&&!o?null:y.jsxs("div",{className:"flex w-full flex-col gap-1 pb-4",children:[y.jsx("div",{style:{isolation:"isolate"},children:y.jsxs(ane,{center:[s[0].decimalLatitude,s[0].decimalLongitude],zoom:4,style:{height:"250px",width:"100%",borderRadius:"12px",border:"none"},children:[y.jsx(une,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),y.jsx(dne,{bounds:s.map(l=>[l.decimalLatitude,l.decimalLongitude])}),s.map((l,c)=>y.jsx(lne,{position:[l.decimalLatitude,l.decimalLongitude],children:y.jsx(cne,{children:y.jsxs("div",{className:"text-sm",children:[y.jsxs("p",{children:[y.jsxs("strong",{children:[t("occurrenceMap.locality"),":"]})," ",l.locality??t("occurrenceMap.notInformed")]}),y.jsxs("p",{children:[y.jsxs("strong",{children:[t("occurrenceMap.country"),":"]})," ",l.country??t("occurrenceMap.notInformed")]}),y.jsxs("p",{children:[y.jsxs("strong",{children:[t("occurrenceMap.date"),": "]}),l.eventDate?new Date(l.eventDate).toLocaleDateString():t("occurrenceMap.noDate")]}),y.jsxs("p",{className:"wrap-break-word",children:[y.jsxs("strong",{children:[t("occurrenceMap.recordedBy"),":"]})," ",l.recordedBy??t("occurrenceMap.unknown")]}),l.references&&y.jsx("p",{className:"mt-2",children:y.jsx("a",{href:l.references,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:t("occurrenceMap.viewReference")})})]})})},c))]},`map-${e}`)}),y.jsxs("div",{className:"bg-card text-muted-foreground rounded-xl p-2 text-xs",children:[t("occurrenceMap.dataProvidedBy"),y.jsx("a",{href:"https://www.gbif.org",target:"_blank",rel:"noopener noreferrer",className:"ml-1 text-blue-600 underline",children:"GBIF.org"}),t("occurrenceMap.dataNote")]})]})}),Hu=({embedded:e=!1,backLabel:t})=>{const{t:n}=At(),{isTablet:i}=zo(),s=Ei(),o=Le(za),l=Dt(za),c=Dt(Qe.expandedNodes),d=Le(Qe.expandedNodes),h=d.find(T=>T.rank==="SPECIES")?.key,m=o??h,v=o!==null,b=!v&&h!==null&&h!==void 0&&i,{data:_,isLoading:C}=Uo({specieKey:m}),E=x.useCallback(()=>{if(v)l(null);else{const T=d.filter(N=>N.rank!=="SPECIES"),k=T.length>0?`/tree/${T.map(N=>N.key).join("/")}`:"/";c(T),s({to:k})}},[v,l,d,s,c]);return C?y.jsxs("div",{className:"p-6",children:[y.jsx(MD,{}),y.jsx(IZ,{})]}):_?y.jsxs(Rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:e?void 0:"h-full overflow-auto",style:{containerType:"inline-size"},children:[(v||b)&&!e&&y.jsx("div",{className:"bg-card/95 sticky top-0 z-10 border-b px-4 py-3 shadow-sm backdrop-blur-sm",children:y.jsxs(Wt,{onClick:E,variant:"ghost",size:"sm",className:"gap-2",children:[y.jsx(Ug,{className:"size-4"}),t??n(b?"specieDetail.backToTree":"specieDetail.backToGallery")]})}),y.jsx("div",{className:`p-4 ${v||b?"pt-6":e?"pt-2":"md:mt-4"}`,children:y.jsxs("div",{className:"mx-auto grid max-w-7xl grid-cols-1 gap-6 lg:grid-cols-2",children:[y.jsx(Rt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-card rounded-xl border p-3 shadow-lg sm:p-6",children:y.jsx(Hte,{})}),y.jsxs("div",{className:"flex flex-col gap-6",children:[y.jsx(Rt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-card overflow-hidden rounded-xl border shadow-lg",children:y.jsx(VZ,{})}),m&&y.jsx(Rt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:y.jsx(hne,{specieKey:m})})]})]})})]}):y.jsx("div",{className:"flex h-full items-center justify-center",children:y.jsx("p",{className:"text-muted-foreground",children:n("specieDetail.notFound")})})},mne=e=>{const t=new Set;return e.filter(n=>t.has(n.kingdom)||n.kingdom.toLowerCase()==="viruses"?!1:(t.add(n.kingdom),!0)).map(n=>({key:n.key,rank:n.rank,numDescendants:n.numDescendants,color:wa[n.key]}))},pne=()=>{const{kingdoms_key:e}=Va,t=sw();return Ws({queryKey:[e],queryFn:async()=>{const n=await AZ();return mne(n)},staleTime:1/0,gcTime:1/0,enabled:!t})};function vs({className:e,...t}){return y.jsx("div",{"data-slot":"skeleton",className:Ye("bg-accent animate-bounce cursor-wait rounded-md",e),...t})}const gne=()=>y.jsxs("div",{className:"flex w-full min-w-1/5 flex-col gap-6 overflow-auto border-r-1 px-4 py-6",children:[y.jsx(vs,{className:"h-12 w-full max-w-2xs"}),y.jsx("div",{className:"flex flex-col gap-1",children:Array.from({length:8}).map((e,t)=>y.jsxs("div",{className:"group flex min-w-2xs items-center gap-4 rounded-lg p-3",children:[y.jsx(vs,{className:"size-11 rounded-lg"}),y.jsxs("div",{className:"flex w-full items-center justify-between gap-1",children:[y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx(vs,{className:"h-4 w-32"}),y.jsx(vs,{className:"h-3 w-16"})]}),y.jsxs("div",{className:"flex flex-col items-end gap-2",children:[y.jsx(vs,{className:"h-4 w-8"}),y.jsx(vs,{className:"h-3 w-10"})]})]})]},t))})]}),d0=({type:e})=>{const{t}=At();if(e==="loading")return y.jsx(gne,{});const n={error:{icon:y.jsx(aO,{className:"h-6 w-6 text-red-500"}),title:t("tree.loadError"),text:t("tree.loadErrorMessage")},empty:{icon:y.jsx(h6,{className:"h-6 w-6"}),title:t("tree.noData"),text:t("tree.noDataMessage")}}[e];return y.jsxs("div",{className:"flex h-[60vh] flex-col items-center justify-center gap-3 text-center",children:[n.icon,y.jsx("h2",{className:"font-semibold",children:n.title}),y.jsx("p",{className:"text-muted-foreground max-w-xs text-sm",children:n.text})]})};function vne(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,yne(s,...t)]}function yne(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function bne(e){const t=xne(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(wne);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function xne(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=Cne(s),c=Sne(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Cj=Symbol("radix.slottable");function _ne(e){const t=({children:n})=>y.jsx(y.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Cj,t}function wne(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Cj}function Sne(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Cne(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ene=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ane=Ene.reduce((e,t)=>{const n=bne(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function Tne(e){const t=Rne(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(kne);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function Rne(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=One(s),c=Pne(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Nne=Symbol("radix.slottable");function kne(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Nne}function Pne(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function One(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Mne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Dne=Mne.reduce((e,t)=>{const n=Tne(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),Ej=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Lne="VisuallyHidden",Aj=x.forwardRef((e,t)=>y.jsx(Dne.span,{...e,ref:t,style:{...Ej,...e.style}}));Aj.displayName=Lne;var jne=Aj,[nv]=vne("Tooltip",[Lu]),iv=Lu(),Tj="TooltipProvider",Ine=700,Lx="tooltip.open",[zne,Uw]=nv(Tj),Rj=e=>{const{__scopeTooltip:t,delayDuration:n=Ine,skipDelayDuration:i=300,disableHoverableContent:s=!1,children:o}=e,l=x.useRef(!0),c=x.useRef(!1),d=x.useRef(0);return x.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),y.jsx(zne,{scope:t,isOpenDelayedRef:l,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,i)},[i]),isPointerInTransitRef:c,onPointerInTransitChange:x.useCallback(h=>{c.current=h},[]),disableHoverableContent:s,children:o})};Rj.displayName=Tj;var Vf="Tooltip",[Bne,hh]=nv(Vf),Nj=e=>{const{__scopeTooltip:t,children:n,open:i,defaultOpen:s,onOpenChange:o,disableHoverableContent:l,delayDuration:c}=e,d=Uw(Vf,e.__scopeTooltip),h=iv(t),[m,v]=x.useState(null),b=_s(),_=x.useRef(0),C=l??d.disableHoverableContent,E=c??d.delayDuration,T=x.useRef(!1),[k,N]=Do({prop:i,defaultProp:s??!1,onChange:z=>{z?(d.onOpen(),document.dispatchEvent(new CustomEvent(Lx))):d.onClose(),o?.(z)},caller:Vf}),P=x.useMemo(()=>k?T.current?"delayed-open":"instant-open":"closed",[k]),O=x.useCallback(()=>{window.clearTimeout(_.current),_.current=0,T.current=!1,N(!0)},[N]),j=x.useCallback(()=>{window.clearTimeout(_.current),_.current=0,N(!1)},[N]),U=x.useCallback(()=>{window.clearTimeout(_.current),_.current=window.setTimeout(()=>{T.current=!0,N(!0),_.current=0},E)},[E,N]);return x.useEffect(()=>()=>{_.current&&(window.clearTimeout(_.current),_.current=0)},[]),y.jsx(Lg,{...h,children:y.jsx(Bne,{scope:t,contentId:b,open:k,stateAttribute:P,trigger:m,onTriggerChange:v,onTriggerEnter:x.useCallback(()=>{d.isOpenDelayedRef.current?U():O()},[d.isOpenDelayedRef,U,O]),onTriggerLeave:x.useCallback(()=>{C?j():(window.clearTimeout(_.current),_.current=0)},[j,C]),onOpen:O,onClose:j,disableHoverableContent:C,children:n})})};Nj.displayName=Vf;var jx="TooltipTrigger",kj=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,s=hh(jx,n),o=Uw(jx,n),l=iv(n),c=x.useRef(null),d=Ct(t,c,s.onTriggerChange),h=x.useRef(!1),m=x.useRef(!1),v=x.useCallback(()=>h.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),y.jsx(x_,{asChild:!0,...l,children:y.jsx(Ane.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...i,ref:d,onPointerMove:Ie(e.onPointerMove,b=>{b.pointerType!=="touch"&&!m.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),m.current=!0)}),onPointerLeave:Ie(e.onPointerLeave,()=>{s.onTriggerLeave(),m.current=!1}),onPointerDown:Ie(e.onPointerDown,()=>{s.open&&s.onClose(),h.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:Ie(e.onFocus,()=>{h.current||s.onOpen()}),onBlur:Ie(e.onBlur,s.onClose),onClick:Ie(e.onClick,s.onClose)})})});kj.displayName=jx;var Fw="TooltipPortal",[Une,Fne]=nv(Fw,{forceMount:void 0}),Pj=e=>{const{__scopeTooltip:t,forceMount:n,children:i,container:s}=e,o=hh(Fw,t);return y.jsx(Une,{scope:t,forceMount:n,children:y.jsx(wr,{present:n||o.open,children:y.jsx(Xf,{asChild:!0,container:s,children:i})})})};Pj.displayName=Fw;var Pu="TooltipContent",Oj=x.forwardRef((e,t)=>{const n=Fne(Pu,e.__scopeTooltip),{forceMount:i=n.forceMount,side:s="top",...o}=e,l=hh(Pu,e.__scopeTooltip);return y.jsx(wr,{present:i||l.open,children:l.disableHoverableContent?y.jsx(Mj,{side:s,...o,ref:t}):y.jsx(Vne,{side:s,...o,ref:t})})}),Vne=x.forwardRef((e,t)=>{const n=hh(Pu,e.__scopeTooltip),i=Uw(Pu,e.__scopeTooltip),s=x.useRef(null),o=Ct(t,s),[l,c]=x.useState(null),{trigger:d,onClose:h}=n,m=s.current,{onPointerInTransitChange:v}=i,b=x.useCallback(()=>{c(null),v(!1)},[v]),_=x.useCallback((C,E)=>{const T=C.currentTarget,k={x:C.clientX,y:C.clientY},N=Gne(k,T.getBoundingClientRect()),P=Kne(k,N),O=Wne(E.getBoundingClientRect()),j=Zne([...P,...O]);c(j),v(!0)},[v]);return x.useEffect(()=>()=>b(),[b]),x.useEffect(()=>{if(d&&m){const C=T=>_(T,m),E=T=>_(T,d);return d.addEventListener("pointerleave",C),m.addEventListener("pointerleave",E),()=>{d.removeEventListener("pointerleave",C),m.removeEventListener("pointerleave",E)}}},[d,m,_,b]),x.useEffect(()=>{if(l){const C=E=>{const T=E.target,k={x:E.clientX,y:E.clientY},N=d?.contains(T)||m?.contains(T),P=!Yne(k,l);N?b():P&&(b(),h())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[d,m,l,h,b]),y.jsx(Mj,{...e,ref:o})}),[$ne,Hne]=nv(Vf,{isInside:!1}),qne=_ne("TooltipContent"),Mj=x.forwardRef((e,t)=>{const{__scopeTooltip:n,children:i,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:l,...c}=e,d=hh(Pu,n),h=iv(n),{onClose:m}=d;return x.useEffect(()=>(document.addEventListener(Lx,m),()=>document.removeEventListener(Lx,m)),[m]),x.useEffect(()=>{if(d.trigger){const v=b=>{b.target?.contains(d.trigger)&&m()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[d.trigger,m]),y.jsx(Yf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:v=>v.preventDefault(),onDismiss:m,children:y.jsxs(__,{"data-state":d.stateAttribute,...h,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[y.jsx(qne,{children:i}),y.jsx($ne,{scope:n,isInside:!0,children:y.jsx(jne,{id:d.contentId,role:"tooltip",children:s||i})})]})})});Oj.displayName=Pu;var Dj="TooltipArrow",Lj=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,s=iv(n);return Hne(Dj,n).isInside?null:y.jsx(w_,{...s,...i,ref:t})});Lj.displayName=Dj;function Gne(e,t){const n=Math.abs(t.top-e.y),i=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,i,s,o)){case o:return"left";case s:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function Kne(e,t,n=5){const i=[];switch(t){case"top":i.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":i.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":i.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":i.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return i}function Wne(e){const{top:t,right:n,bottom:i,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:i},{x:s,y:i}]}function Yne(e,t){const{x:n,y:i}=e;let s=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const c=t[o],d=t[l],h=c.x,m=c.y,v=d.x,b=d.y;m>i!=b>i&&n<(v-h)*(i-m)/(b-m)+h&&(s=!s)}return s}function Zne(e){const t=e.slice();return t.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),Xne(t)}function Xne(e){if(e.length<=1)return e.slice();const t=[];for(let i=0;i<e.length;i++){const s=e[i];for(;t.length>=2;){const o=t[t.length-1],l=t[t.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let i=e.length-1;i>=0;i--){const s=e[i];for(;n.length>=2;){const o=n[n.length-1],l=n[n.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Qne=Rj,Jne=Nj,eie=kj,tie=Pj,nie=Oj,iie=Lj;function sie({delayDuration:e=0,...t}){return y.jsx(Qne,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function jj({...e}){return y.jsx(sie,{children:y.jsx(Jne,{"data-slot":"tooltip",...e})})}function Ij({...e}){return y.jsx(eie,{"data-slot":"tooltip-trigger",...e})}function zj({className:e,sideOffset:t=0,children:n,...i}){return y.jsx(tie,{children:y.jsxs(nie,{"data-slot":"tooltip-content",sideOffset:t,className:Ye("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-2 text-xs text-balance",e),...i,children:[n,y.jsx(iie,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const Ix=async(e,t)=>{try{const n=e.game_info.shortcuts??{},i=t(n),{data:s,error:o}=await Dn.from("users").update({game_info:{...e.game_info,shortcuts:i}}).eq("id",e.id).select().single();return o?(console.error("Error updating shortcuts:",o),null):s}catch(n){return console.error("Unexpected error updating shortcuts:",n),null}},sv=(e,t)=>Ws({queryKey:[Va.parents_key,e],queryFn:()=>PD(e),enabled:t&&!!e,staleTime:1e3*60*60*24,gcTime:1e3*60*60*24*7}),rie=new Set(["SUBSPECIES","VARIETY","SUBVARIETY","FORM","SUBFORM","UNRANKED","CULTIVAR_GROUP","CULTIVAR","STRAIN"]),rv=(e,t,n)=>{const i=e.filter(s=>!rie.has(s.rank)).map(s=>({rank:s.rank,name:s.canonicalName??s.scientificName??"",key:s.key}));return i.push({rank:"SPECIES",name:t,key:n}),i},oie=x.memo(({node:e})=>{const[t,n]=Gs(st.userDb),[i,s]=x.useState(!1),o=e.expanded,l=e?.kingdom?.toLowerCase(),c=Le(Qe.challenge),d=c.status,h=d==="IN_PROGRESS",m=h||d==="COMPLETED",v=c.speciesKey??0,b=Le(Qe.highlightedKeys),_=b.size>0&&b.has(e.key)&&h,C=Le(Qe.expandedNodes),{data:E}=Uo({specieKey:v}),{data:T}=sv(v,m),k=x.useMemo(()=>!T||!E?[]:rv(T,E.canonicalName??E.species??"",v),[T,E,v]),N=x.useMemo(()=>{if(!m)return null;const $=C.findIndex(K=>K.key===e.key);if($===-1)return null;const Z=k[$];return Z?e.canonicalName===Z.name||e.scientificName===Z.name?"success":"error":null},[m,C,e.key,e.canonicalName,e.scientificName,k]),P=Dt(WK);x.useEffect(()=>{_&&N==="error"&&P(e.key)},[_,N,e.key,P]);const O=_&&N!=="error",j=x.useMemo(()=>{const $=t?.game_info?.shortcuts;return $?($[l]?.length??0)>=3:!1},[l,t?.game_info?.shortcuts]),U=x.useCallback(async()=>{!t||h||Ix(t,$=>{const Z=$[l]??[];if(Z.length>=3||Z.some(X=>X.nodes.length===C.length&&X.nodes.every((se,ve)=>se.key===C[ve].key&&se.rank===C[ve].rank)))return $;const W=C.slice(0,C.findIndex(X=>X.key===e.key)+1);return{...$,[l]:[...Z,{name:(e.canonicalName||e.scientificName)??" - ",nodes:W}]}}).then($=>{$&&n($)})},[t,h,l,C,e,n]),z=e.canonicalName||e.scientificName,I=e.scientificName&&e.canonicalName&&e.scientificName!==e.canonicalName;return y.jsx(Rt.div,{className:"item group flex h-full w-full flex-row items-center gap-2",animate:O?{scale:[1,1.03,1]}:N==="success"?{scale:[1,1.05,1]}:N==="error"?{x:[-4,4,-2,2,0]}:{},transition:{duration:.5},children:y.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[y.jsxs("div",{className:"mr-auto flex items-center gap-2",children:[y.jsx("div",{className:"flex flex-col items-start justify-center",children:y.jsx("span",{className:Ye("relative transition-all duration-200 ease-in-out",o&&"font-bold",N==="success"&&"text-emerald-600",N==="error"&&"text-red-500",O&&["z-10","text-emerald-600","after:absolute after:-inset-y-0.5","after:-right-1.5 after:-left-1.5","after:-z-10 after:rounded-md after:bg-emerald-400/15"]),children:z})}),I&&y.jsxs(jj,{open:i,onOpenChange:s,children:[y.jsx(Ij,{asChild:!0,children:y.jsx("button",{onClick:$=>{$.stopPropagation(),s(Z=>!Z)},className:"text-muted-foreground inline-flex items-center",children:y.jsx(L_,{className:"size-3"})})}),y.jsx(zj,{children:e.scientificName})]}),N==="success"&&y.jsx(YP,{className:"h-4 w-4 text-emerald-500"}),N==="error"&&y.jsx(WP,{className:"h-4 w-4 text-red-500"}),y.jsx(cg,{className:Ye("bg-primary-foreground text-primary flex items-center gap-1 rounded-xl px-1 py-0 text-[11px] opacity-0 outline-1 group-hover:opacity-100",o&&"opacity-100"),children:Di(e.rank)}),t&&o&&!h&&y.jsx("div",{className:"opacity-0 transition-all duration-300 group-hover:opacity-100",children:y.jsx(iO,{onClick:$=>{$.stopPropagation(),U()},className:Ye("size-4 scale-x-[-1]",j&&"opacity-50")})})]}),y.jsx("span",{className:"text-[11px]",children:e.numDescendants&&e.numDescendants.toLocaleString("pt-BR")})]})},`${e.key}-${N}`)}),aie=e=>{if(e>=1e6){const t=Math.floor(e/1e5)/10;return`${Number.isInteger(t)?t.toFixed(0):t}M`}return e>=1e3?`${Math.floor(e/1e3)}K`:e.toString()},lie=x.memo(({node:e,isLoading:t})=>{const{isShaking:n,shakeDirection:i}=Le(Qe.animate),s=e.expanded,o=t&&s;return y.jsxs("div",{className:Ye("group flex h-full w-full min-w-2xs cursor-pointer items-center gap-4 rounded-lg px-2",s&&`rounded-bl-none border-2 ${fK[e.key]}`,!s&&"hover:bg-accent"),children:[y.jsx("div",{className:Ye("flex items-center justify-center rounded-xl",!s&&"group-hover:bg-accent bg-accent"),children:y.jsx("div",{className:"flex size-11 items-center justify-center overflow-hidden rounded-lg p-3",children:y.jsx(ii,{src:Bs(e.key),alt:Nu[e.key],className:Ye("h-full w-full transition-transform duration-150 group-hover:scale-150",o?"animate-wiggle":n?i?"rotate-6":"-rotate-6":"rotate-0",n?"":"group-hover:rotate-6",s&&"scale-150")})})}),y.jsx("div",{className:"flex w-full items-center justify-between gap-1",children:y.jsxs("div",{className:"flex flex-col",children:[y.jsx("h1",{className:Ye("text-md font-medium",s&&"font-bold"),children:Di(Nu[e.key])}),y.jsxs("span",{className:"text-xs",children:[aie(e.numDescendants)," ",y.jsx("span",{children:"descendentes"})]})]})})]})}),cie=x.memo(({node:e})=>{const[t,n]=Gs(st.userDb),[i,s]=x.useState(!1),o=Le(Qe.expandedNodes),l=Le(Qe.challenge),d=l.status==="IN_PROGRESS"||l.status==="COMPLETED",h=l.speciesKey,m=x.useMemo(()=>o.some(E=>E.key===e.key),[o,e.key]),v=x.useMemo(()=>!d||!m?null:e.key===h?"success":"error",[d,m,e.key,h]),b=x.useCallback(async()=>{t&&xj(t,E=>{if(E.some(N=>N.key===e.key))return E;const k={key:e.key,date:new Date().toISOString(),fav:!1};return[...E,k]}).then(E=>{E&&n(E)})},[t,e.key,n]),_=e.canonicalName||e.scientificName,C=e.scientificName&&e.canonicalName&&e.scientificName!==e.canonicalName;return y.jsxs(Rt.div,{className:"item flex w-full items-center justify-between",animate:v==="success"?{scale:[1,1.08,1]}:v==="error"?{x:[-4,4,-2,2,0]}:{},transition:{duration:.3},onClick:b,children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("i",{className:Ye("w-max transition-all duration-200 ease-in-out",m&&"font-bold",v==="success"&&"text-emerald-600",v==="error"&&"text-red-500"),children:_}),C&&y.jsxs(jj,{open:i,onOpenChange:s,children:[y.jsx(Ij,{asChild:!0,children:y.jsx("button",{onClick:E=>{E.stopPropagation(),s(T=>!T)},className:"text-muted-foreground inline-flex items-center",children:y.jsx(L_,{className:"size-3"})})}),y.jsx(zj,{children:e.scientificName})]}),v==="success"&&y.jsx(YP,{className:"h-4 w-4 text-emerald-500"}),v==="error"&&y.jsx(WP,{className:"h-4 w-4 text-red-500"}),y.jsx(cg,{className:Ye("bg-primary-foreground text-primary rounded-xl px-1 py-0 text-[11px] opacity-0 group-hover:opacity-100",v&&"opacity-100"),children:Di(e.rank)})]}),y.jsx(y.Fragment,{children:""})]},`${e.key}-${v}`)}),zx=new Set(["SUBSPECIES","VARIETY","SUBVARIETY","FORM","SUBFORM","CULTIVAR_GROUP","CULTIVAR","STRAIN","UNRANKED"]),Bj=e=>e?e.filter(t=>!zx.has(t.rank)):[],Uj=e=>!(e.taxonomicStatus&&e.taxonomicStatus!=="ACCEPTED"||e.nubKey!==void 0&&e.nubKey!==e.key||!e.canonicalName),Fj=e=>{const t={key:e.key,scientificName:e.scientificName,canonicalName:e.canonicalName,rank:e.rank,kingdom:e.kingdom,numDescendants:e.numDescendants,phylum:e.phylum};return e.class&&(t.class=e.class),e.order&&(t.order=e.order),e.family&&(t.family=e.family),e.genus&&(t.genus=e.genus),t},uie=({parentKey:e,expanded:t,numDescendants:n})=>{const{children_key:i}=Va,s=Le(G_);return Ws({queryKey:[i,e,s],queryFn:async()=>{const l=(await kD(e)).filter(Uj),c=s?l:l.filter(d=>d.numDescendants>0||d.rank==="SPECIES");return Bj(c).map(Fj)},enabled:!!e&&t&&n!==0,staleTime:1e3*60*60*24,gcTime:1e3*60*60*24*7})};function mh(){const e=Ei(),t=Le(Qe.nodes),n=Le(Qe.expandedNodes),i=Dt(nM),s=x.useCallback(c=>c.length===0?"/":`/tree/${c.map(d=>d.key).join("/")}`,[]),o=x.useCallback((c,d=!1)=>{i(d?[...c]:null);const h=s(c);e({to:h})},[e,s,i]),l=x.useCallback(c=>{const d=t[c];if(!d)return;const h=n.findIndex(b=>b.key===c);if(h!==-1){o(n.slice(0,h));return}const m=[];let v=d;for(;v;)m.unshift({key:v.key,rank:v.rank,name:v.rank==="KINGDOM"?Di(Nu[v.key]):v.canonicalName||v.scientificName||""}),v=v.parentKey?t[v.parentKey]:void 0;o(m)},[t,n,o]);return{navigateToNodes:o,toggleNode:l,nodesToPath:s}}const die=x.memo(({nodeKey:e,level:t})=>{const[n]=Gs(iM(e)),i=Dt(sM),{toggleNode:s}=mh(),o=n?.expanded,{data:l,isLoading:c}=uie({parentKey:n?.key,expanded:!!o,numDescendants:n?.numDescendants});x.useEffect(()=>{o&&l&&i({key:n.key,children:l})},[o,l,n?.key,i]);const d=x.useCallback(()=>{c||s(e)},[c,s,e]);if(!n)return null;const h=n.rank==="KINGDOM",m=n.rank==="SPECIES",v=ZO[n?.kingdom?.toLocaleLowerCase()],b=t*U_;return y.jsxs("div",{className:Ye("flex",c&&"node-loading"),style:{marginLeft:b,height:h?"4.25rem":"2.125rem",zIndex:1,"--tree-color":v},onClick:d,children:[!h&&y.jsx("div",{className:"z-50 mt-1.5 flex cursor-pointer items-center justify-center rounded-full p-px text-white",style:{backgroundColor:v,width:$0,height:$0,marginLeft:XO,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"700"},children:c?y.jsx(ih,{className:"animate-spin"}):m?y.jsx("span",{className:"size-5"}):y.jsx("span",{className:"flex size-5 items-center justify-center pb-0.5 font-bold",children:o?"":"+"})}),h?y.jsx(lie,{node:n,isLoading:c}):m?y.jsx(cie,{node:n}):y.jsx(oie,{node:n})]})}),fie=({parentNodeKey:e,level:t})=>{const n=Le(iM(e));if(!n)return null;const i=n.canonicalName||n.scientificName||String(e),s=`https://www.gbif.org/species/${e}`;return y.jsx("div",{className:"-ml-4 flex h-full w-full min-w-0 items-start",style:{paddingLeft:t*U_},children:y.jsxs("div",{className:"bg-muted/40 flex w-full min-w-0 flex-col divide-y overflow-hidden rounded-lg border text-xs",children:[y.jsxs("p",{className:"px-3 py-2 leading-relaxed",children:[y.jsx("span",{className:"font-medium italic",children:i})," est registrado como uma classificao aceita no"," ",y.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",onClick:o=>o.stopPropagation(),className:"text-blue-600 hover:underline",children:"GBIF"}),", mas no possui descendentes registrados."]}),y.jsxs("p",{className:"text-muted-foreground px-3 py-2 leading-relaxed",children:["Caso no queira ver ns sem descendentes, desative em"," ",y.jsx("span",{className:"font-medium",children:"Menu > Configuraes > Exibir ns sem descendentes"}),"."]})]})})},hie=()=>{const e=Le(Qe.expandedNodes),t=Dt($K);x.useEffect(()=>{t()},[e,t])};function su(e,t,n){let i=n.initialDeps??[],s,o=!0;function l(){var c,d,h;let m;n.key&&((c=n.debug)!=null&&c.call(n))&&(m=Date.now());const v=e();if(!(v.length!==i.length||v.some((C,E)=>i[E]!==C)))return s;i=v;let _;if(n.key&&((d=n.debug)!=null&&d.call(n))&&(_=Date.now()),s=t(...v),n.key&&((h=n.debug)!=null&&h.call(n))){const C=Math.round((Date.now()-m)*100)/100,E=Math.round((Date.now()-_)*100)/100,T=E/16,k=(N,P)=>{for(N=String(N);N.length<P;)N=" "+N;return N};console.info(`%c ${k(E,5)} /${k(C,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*T,120))}deg 100% 31%);`,n?.key)}return n?.onChange&&!(o&&n.skipInitialOnChange)&&n.onChange(s),o=!1,s}return l.updateDeps=c=>{i=c},l}function QR(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const mie=(e,t)=>Math.abs(e-t)<1.01,pie=(e,t,n)=>{let i;return function(...s){e.clearTimeout(i),i=e.setTimeout(()=>t.apply(this,s),n)}},JR=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},gie=e=>e,vie=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),i=[];for(let s=t;s<=n;s++)i.push(s);return i},yie=(e,t)=>{const n=e.scrollElement;if(!n)return;const i=e.targetWindow;if(!i)return;const s=l=>{const{width:c,height:d}=l;t({width:Math.round(c),height:Math.round(d)})};if(s(JR(n)),!i.ResizeObserver)return()=>{};const o=new i.ResizeObserver(l=>{const c=()=>{const d=l[0];if(d?.borderBoxSize){const h=d.borderBoxSize[0];if(h){s({width:h.inlineSize,height:h.blockSize});return}}s(JR(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(c):c()});return o.observe(n,{box:"border-box"}),()=>{o.unobserve(n)}},eN={passive:!0},tN=typeof window>"u"?!0:"onscrollend"in window,bie=(e,t)=>{const n=e.scrollElement;if(!n)return;const i=e.targetWindow;if(!i)return;let s=0;const o=e.options.useScrollendEvent&&tN?()=>{}:pie(i,()=>{t(s,!1)},e.options.isScrollingResetDelay),l=m=>()=>{const{horizontal:v,isRtl:b}=e.options;s=v?n.scrollLeft*(b&&-1||1):n.scrollTop,o(),t(s,m)},c=l(!0),d=l(!1);n.addEventListener("scroll",c,eN);const h=e.options.useScrollendEvent&&tN;return h&&n.addEventListener("scrollend",d,eN),()=>{n.removeEventListener("scroll",c),h&&n.removeEventListener("scrollend",d)}},xie=(e,t,n)=>{if(t?.borderBoxSize){const i=t.borderBoxSize[0];if(i)return Math.round(i[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},_ie=(e,{adjustments:t=0,behavior:n},i)=>{var s,o;const l=e+t;(o=(s=i.scrollElement)==null?void 0:s.scrollTo)==null||o.call(s,{[i.options.horizontal?"left":"top"]:l,behavior:n})};class wie{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.currentScrollToIndex=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const i=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(s=>{s.forEach(o=>{const l=()=>{this._measureElement(o.target,o)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()})}));return{disconnect:()=>{var s;(s=i())==null||s.disconnect(),n=null},observe:s=>{var o;return(o=i())==null?void 0:o.observe(s,{box:"border-box"})},unobserve:s=>{var o;return(o=i())==null?void 0:o.unobserve(s)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([i,s])=>{typeof s>"u"&&delete n[i]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:gie,rangeExtractor:vie,onChange:()=>{},measureElement:xie,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var i,s;(s=(i=this.options).onChange)==null||s.call(i,this,n)},this.maybeNotify=su(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const i=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==i){if(this.cleanup(),!i){this.maybeNotify();return}this.scrollElement=i,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(s=>{this.observer.observe(s)}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(s,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<s?"forward":"backward":null,this.scrollOffset=s,this.isScrolling=o,this.maybeNotify()})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0})}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,i)=>{const s=new Map,o=new Map;for(let l=i-1;l>=0;l--){const c=n[l];if(s.has(c.lane))continue;const d=o.get(c.lane);if(d==null||c.end>d.end?o.set(c.lane,c):c.end<d.end&&s.set(c.lane,!0),s.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((l,c)=>l.end===c.end?l.index-c.index:l.end-c.end)[0]:void 0},this.getMeasurementOptions=su(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,i,s,o,l,c)=>(this.prevLanes!==void 0&&this.prevLanes!==c&&(this.lanesChangedFlag=!0),this.prevLanes=c,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:i,scrollMargin:s,getItemKey:o,enabled:l,lanes:c}),{key:!1}),this.getMeasurements=su(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:i,scrollMargin:s,getItemKey:o,enabled:l,lanes:c},d)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const b of this.laneAssignments.keys())b>=n&&this.laneAssignments.delete(b);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&!this.lanesSettling&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(b=>{this.itemSizeCache.set(b.key,b.size)}));const h=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const m=this.measurementsCache.slice(0,h),v=new Array(c).fill(void 0);for(let b=0;b<h;b++){const _=m[b];_&&(v[_.lane]=b)}for(let b=h;b<n;b++){const _=o(b),C=this.laneAssignments.get(b);let E,T;if(C!==void 0&&this.options.lanes>1){E=C;const O=v[E],j=O!==void 0?m[O]:void 0;T=j?j.end+this.options.gap:i+s}else{const O=this.options.lanes===1?m[b-1]:this.getFurthestMeasurement(m,b);T=O?O.end+this.options.gap:i+s,E=O?O.lane:b%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(b,E)}const k=d.get(_),N=typeof k=="number"?k:this.options.estimateSize(b),P=T+N;m[b]={index:b,start:T,size:N,end:P,key:_,lane:E},v[E]=b}return this.measurementsCache=m,m},{key:!1,debug:()=>this.options.debug}),this.calculateRange=su(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,i,s,o)=>this.range=n.length>0&&i>0?Sie({measurements:n,outerSize:i,scrollOffset:s,lanes:o}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=su(()=>{let n=null,i=null;const s=this.calculateRange();return s&&(n=s.startIndex,i=s.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,i]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,i]},(n,i,s,o,l)=>o===null||l===null?[]:n({startIndex:o,endIndex:l,overscan:i,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const i=this.options.indexAttribute,s=n.getAttribute(i);return s?parseInt(s,10):(console.warn(`Missing attribute name '${i}={index}' on measured element.`),-1)},this._measureElement=(n,i)=>{const s=this.indexFromElement(n),o=this.measurementsCache[s];if(!o)return;const l=o.key,c=this.elementsCache.get(l);c!==n&&(c&&this.observer.unobserve(c),this.observer.observe(n),this.elementsCache.set(l,n)),n.isConnected&&this.resizeItem(s,this.options.measureElement(n,i,this))},this.resizeItem=(n,i)=>{const s=this.measurementsCache[n];if(!s)return;const o=this.itemSizeCache.get(s.key)??s.size,l=i-o;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,l,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,i)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((i,s)=>{i.isConnected||(this.observer.unobserve(i),this.elementsCache.delete(s))});return}this._measureElement(n,void 0)},this.getVirtualItems=su(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,i)=>{const s=[];for(let o=0,l=n.length;o<l;o++){const c=n[o],d=i[c];s.push(d)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const i=this.getMeasurements();if(i.length!==0)return QR(i[Vj(0,i.length-1,s=>QR(i[s]).start,n)])},this.getMaxScrollOffset=()=>{if(!this.scrollElement)return 0;if("scrollHeight"in this.scrollElement)return this.options.horizontal?this.scrollElement.scrollWidth-this.scrollElement.clientWidth:this.scrollElement.scrollHeight-this.scrollElement.clientHeight;{const n=this.scrollElement.document.documentElement;return this.options.horizontal?n.scrollWidth-this.scrollElement.innerWidth:n.scrollHeight-this.scrollElement.innerHeight}},this.getOffsetForAlignment=(n,i,s=0)=>{if(!this.scrollElement)return 0;const o=this.getSize(),l=this.getScrollOffset();i==="auto"&&(i=n>=l+o?"end":"start"),i==="center"?n+=(s-o)/2:i==="end"&&(n-=o);const c=this.getMaxScrollOffset();return Math.max(Math.min(c,n),0)},this.getOffsetForIndex=(n,i="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const s=this.measurementsCache[n];if(!s)return;const o=this.getSize(),l=this.getScrollOffset();if(i==="auto")if(s.end>=l+o-this.options.scrollPaddingEnd)i="end";else if(s.start<=l+this.options.scrollPaddingStart)i="start";else return[l,i];if(i==="end"&&n===this.options.count-1)return[this.getMaxScrollOffset(),i];const c=i==="end"?s.end+this.options.scrollPaddingEnd:s.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(c,i,s.size),i]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:i="start",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,i),{adjustments:void 0,behavior:s})},this.scrollToIndex=(n,{align:i="auto",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1)),this.currentScrollToIndex=n;let o=0;const l=10,c=h=>{if(!this.targetWindow)return;const m=this.getOffsetForIndex(n,h);if(!m){console.warn("Failed to get offset for index:",n);return}const[v,b]=m;this._scrollToOffset(v,{adjustments:void 0,behavior:s}),this.targetWindow.requestAnimationFrame(()=>{const _=()=>{if(this.currentScrollToIndex!==n)return;const C=this.getScrollOffset(),E=this.getOffsetForIndex(n,b);if(!E){console.warn("Failed to get offset for index:",n);return}mie(E[0],C)||d(b)};this.isDynamicMode()?this.targetWindow.requestAnimationFrame(_):_()})},d=h=>{this.targetWindow&&this.currentScrollToIndex===n&&(o++,o<l?this.targetWindow.requestAnimationFrame(()=>c(h)):console.warn(`Failed to scroll to index ${n} after ${l} attempts.`))};c(i)},this.scrollBy=(n,{behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:i})},this.getTotalSize=()=>{var n;const i=this.getMeasurements();let s;if(i.length===0)s=this.options.paddingStart;else if(this.options.lanes===1)s=((n=i[i.length-1])==null?void 0:n.end)??0;else{const o=Array(this.options.lanes).fill(null);let l=i.length-1;for(;l>=0&&o.some(c=>c===null);){const c=i[l];o[c.lane]===null&&(o[c.lane]=c.end),l--}s=Math.max(...o.filter(c=>c!==null))}return Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:i,behavior:s})=>{this.options.scrollToFn(n,{behavior:s,adjustments:i},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(t)}}const Vj=(e,t,n,i)=>{for(;e<=t;){const s=(e+t)/2|0,o=n(s);if(o<i)e=s+1;else if(o>i)t=s-1;else return s}return e>0?e-1:0};function Sie({measurements:e,outerSize:t,scrollOffset:n,lanes:i}){const s=e.length-1,o=d=>e[d].start;if(e.length<=i)return{startIndex:0,endIndex:s};let l=Vj(0,s,o,n),c=l;if(i===1)for(;c<s&&e[c].end<n+t;)c++;else if(i>1){const d=Array(i).fill(0);for(;c<s&&d.some(m=>m<n+t);){const m=e[c];d[m.lane]=m.end,c++}const h=Array(i).fill(n+t);for(;l>=0&&h.some(m=>m>=n);){const m=e[l];h[m.lane]=m.start,l--}l=Math.max(0,l-l%i),c=Math.min(s,c+(i-1-c%i))}return{startIndex:l,endIndex:c}}const nN=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Cie({useFlushSync:e=!0,...t}){const n=x.useReducer(()=>({}),{})[1],i={...t,onChange:(o,l)=>{var c;e&&l?Ji.flushSync(n):n(),(c=t.onChange)==null||c.call(t,o,l)}},[s]=x.useState(()=>new wie(i));return s.setOptions(i),nN(()=>s._didMount(),[]),nN(()=>s._willUpdate()),s}function Eie(e){return Cie({observeElementRect:yie,observeElementOffset:bie,scrollToFn:_ie,...e})}const Aie=(e,t,n)=>{const i=x.useCallback((m,v,b=0)=>{const _=[];for(const C of v){const E=m[C];if(E)if(_.push({key:C,level:b}),E.expanded&&E.childrenKeys?.length){const T=i(m,E.childrenKeys,b+1);for(let k=0;k<T.length;k++)_.push(T[k])}else E.expanded&&E.rank!=="KINGDOM"&&E.rank!=="SPECIES"&&E.numDescendants===0&&_.push({key:-C,level:b+1,isEmptyInfo:!0,parentNodeKey:C})}return _},[]),s=x.useMemo(()=>i(e,t),[i,e,t]),o=x.useCallback(m=>{const v=s[m];return v.isEmptyInfo?192:e[v.key]?.rank==="KINGDOM"?72:34},[s,e]),l=x.useMemo(()=>{const m=[];let v=0;for(let b=0;b<s.length;b++)m[b]=v,v+=o(b);return m},[s,o]),c=x.useCallback(m=>s[m]?.key??m,[s]),d=Eie({count:s.length,getScrollElement:()=>n.current,estimateSize:m=>o(m),getItemKey:c,overscan:10}),h=x.useMemo(()=>{const m=new Map;s.forEach((_,C)=>m.set(_.key,C));const v=[],b=Math.floor(V0/2);for(let _=0;_<s.length;_++){const{key:C}=s[_],E=e[C];if(!E||!E.childrenKeys?.length||!E.expanded)continue;const T=E.childrenKeys.map(W=>m.get(W)).filter(W=>typeof W=="number");if(!T.length)continue;const k=Math.min(...T),N=Math.max(...T),P=l[k]-Math.round(o(k)/2),O=l[N]+Math.round(o(N)/2),j=Math.max(0,Math.round(O-P)),U=s[k].level,I=Math.round(U*U_+XO+$0/2)-G1,$=Math.round(I),Z=Math.round(P),K=E?.color??ZO[E.kingdom?.toLocaleLowerCase()];v.push({type:"vertical",left:$-b,top:Z,height:j,color:K});for(const W of E.childrenKeys){const X=m.get(W);if(X==null)continue;const se=Math.round(l[X]+o(X)/2);v.push({type:"horizontal",left:$-b,top:se-b,width:G1+b,color:K})}}return v},[s,e,l,o]);return{flattened:s,rowVirtualizer:d,connectors:h}},Tie=({connectors:e,totalHeight:t})=>y.jsx("div",{"aria-hidden":!0,style:{position:"absolute",top:0,left:0,width:"100%",height:t,pointerEvents:"none",zIndex:0},children:e.map((n,i)=>n.type==="vertical"?y.jsx("div",{style:{position:"absolute",left:n.left,top:n.top,width:V0,height:n.height,backgroundColor:n.color,boxSizing:"border-box"}},i):y.jsx("div",{style:{position:"absolute",left:n.left,top:n.top,width:n.width,height:V0,backgroundColor:n.color,boxSizing:"border-box"}},i))});function Rie(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,Nie(s,...t)]}function Nie(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function $j(e){const t=kie(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(Oie);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function kie(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=Die(s),c=Mie(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Pie=Symbol("radix.slottable");function Oie(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Pie}function Mie(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Die(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Lie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Cs=Lie.reduce((e,t)=>{const n=$j(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),jie=[" ","Enter","ArrowUp","ArrowDown"],Iie=[" ","Enter"],Jl="Select",[ov,av,zie]=Rg(Jl),[qu]=Rie(Jl,[zie,Lu]),lv=Lu(),[Bie,Ha]=qu(Jl),[Uie,Fie]=qu(Jl),Hj=e=>{const{__scopeSelect:t,children:n,open:i,defaultOpen:s,onOpenChange:o,value:l,defaultValue:c,onValueChange:d,dir:h,name:m,autoComplete:v,disabled:b,required:_,form:C}=e,E=lv(t),[T,k]=x.useState(null),[N,P]=x.useState(null),[O,j]=x.useState(!1),U=Ng(h),[z,I]=Do({prop:i,defaultProp:s??!1,onChange:o,caller:Jl}),[$,Z]=Do({prop:l,defaultProp:c,onChange:d,caller:Jl}),K=x.useRef(null),W=T?C||!!T.closest("form"):!0,[X,se]=x.useState(new Set),ve=Array.from(X).map(G=>G.props.value).join(";");return y.jsx(Lg,{...E,children:y.jsxs(Bie,{required:_,scope:t,trigger:T,onTriggerChange:k,valueNode:N,onValueNodeChange:P,valueNodeHasChildren:O,onValueNodeHasChildrenChange:j,contentId:_s(),value:$,onValueChange:Z,open:z,onOpenChange:I,dir:U,triggerPointerDownPosRef:K,disabled:b,children:[y.jsx(ov.Provider,{scope:t,children:y.jsx(Uie,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(G=>{se(ee=>new Set(ee).add(G))},[]),onNativeOptionRemove:x.useCallback(G=>{se(ee=>{const Y=new Set(ee);return Y.delete(G),Y})},[]),children:n})}),W?y.jsxs(f2,{"aria-hidden":!0,required:_,tabIndex:-1,name:m,autoComplete:v,value:$,onChange:G=>Z(G.target.value),disabled:b,form:C,children:[$===void 0?y.jsx("option",{value:""}):null,Array.from(X)]},ve):null]})})};Hj.displayName=Jl;var qj="SelectTrigger",Gj=x.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:i=!1,...s}=e,o=lv(n),l=Ha(qj,n),c=l.disabled||i,d=Ct(t,l.onTriggerChange),h=av(n),m=x.useRef("touch"),[v,b,_]=m2(E=>{const T=h().filter(P=>!P.disabled),k=T.find(P=>P.value===l.value),N=p2(T,E,k);N!==void 0&&l.onValueChange(N.value)}),C=E=>{c||(l.onOpenChange(!0),_()),E&&(l.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)})};return y.jsx(x_,{asChild:!0,...o,children:y.jsx(Cs.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":h2(l.value)?"":void 0,...s,ref:d,onClick:Ie(s.onClick,E=>{E.currentTarget.focus(),m.current!=="mouse"&&C(E)}),onPointerDown:Ie(s.onPointerDown,E=>{m.current=E.pointerType;const T=E.target;T.hasPointerCapture(E.pointerId)&&T.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&E.pointerType==="mouse"&&(C(E),E.preventDefault())}),onKeyDown:Ie(s.onKeyDown,E=>{const T=v.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&b(E.key),!(T&&E.key===" ")&&jie.includes(E.key)&&(C(),E.preventDefault())})})})});Gj.displayName=qj;var Kj="SelectValue",Wj=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:i,style:s,children:o,placeholder:l="",...c}=e,d=Ha(Kj,n),{onValueNodeHasChildrenChange:h}=d,m=o!==void 0,v=Ct(t,d.onValueNodeChange);return Ln(()=>{h(m)},[h,m]),y.jsx(Cs.span,{...c,ref:v,style:{pointerEvents:"none"},children:h2(d.value)?y.jsx(y.Fragment,{children:l}):o})});Wj.displayName=Kj;var Vie="SelectIcon",Yj=x.forwardRef((e,t)=>{const{__scopeSelect:n,children:i,...s}=e;return y.jsx(Cs.span,{"aria-hidden":!0,...s,ref:t,children:i||""})});Yj.displayName=Vie;var $ie="SelectPortal",Zj=e=>y.jsx(Xf,{asChild:!0,...e});Zj.displayName=$ie;var ec="SelectContent",Xj=x.forwardRef((e,t)=>{const n=Ha(ec,e.__scopeSelect),[i,s]=x.useState();if(Ln(()=>{s(new DocumentFragment)},[]),!n.open){const o=i;return o?Ji.createPortal(y.jsx(Qj,{scope:e.__scopeSelect,children:y.jsx(ov.Slot,{scope:e.__scopeSelect,children:y.jsx("div",{children:e.children})})}),o):null}return y.jsx(Jj,{...e,ref:t})});Xj.displayName=ec;var fr=10,[Qj,qa]=qu(ec),Hie="SelectContentImpl",qie=$j("SelectContent.RemoveScroll"),Jj=x.forwardRef((e,t)=>{const{__scopeSelect:n,position:i="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:l,side:c,sideOffset:d,align:h,alignOffset:m,arrowPadding:v,collisionBoundary:b,collisionPadding:_,sticky:C,hideWhenDetached:E,avoidCollisions:T,...k}=e,N=Ha(ec,n),[P,O]=x.useState(null),[j,U]=x.useState(null),z=Ct(t,Se=>O(Se)),[I,$]=x.useState(null),[Z,K]=x.useState(null),W=av(n),[X,se]=x.useState(!1),ve=x.useRef(!1);x.useEffect(()=>{if(P)return S_(P)},[P]),d_();const G=x.useCallback(Se=>{const[je,...ke]=W().map(Xe=>Xe.ref.current),[Oe]=ke.slice(-1),Ue=document.activeElement;for(const Xe of Se)if(Xe===Ue||(Xe?.scrollIntoView({block:"nearest"}),Xe===je&&j&&(j.scrollTop=0),Xe===Oe&&j&&(j.scrollTop=j.scrollHeight),Xe?.focus(),document.activeElement!==Ue))return},[W,j]),ee=x.useCallback(()=>G([I,P]),[G,I,P]);x.useEffect(()=>{X&&ee()},[X,ee]);const{onOpenChange:Y,triggerPointerDownPosRef:de}=N;x.useEffect(()=>{if(P){let Se={x:0,y:0};const je=Oe=>{Se={x:Math.abs(Math.round(Oe.pageX)-(de.current?.x??0)),y:Math.abs(Math.round(Oe.pageY)-(de.current?.y??0))}},ke=Oe=>{Se.x<=10&&Se.y<=10?Oe.preventDefault():P.contains(Oe.target)||Y(!1),document.removeEventListener("pointermove",je),de.current=null};return de.current!==null&&(document.addEventListener("pointermove",je),document.addEventListener("pointerup",ke,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",ke,{capture:!0})}}},[P,Y,de]),x.useEffect(()=>{const Se=()=>Y(!1);return window.addEventListener("blur",Se),window.addEventListener("resize",Se),()=>{window.removeEventListener("blur",Se),window.removeEventListener("resize",Se)}},[Y]);const[ae,H]=m2(Se=>{const je=W().filter(Ue=>!Ue.disabled),ke=je.find(Ue=>Ue.ref.current===document.activeElement),Oe=p2(je,Se,ke);Oe&&setTimeout(()=>Oe.ref.current.focus())}),ie=x.useCallback((Se,je,ke)=>{const Oe=!ve.current&&!ke;(N.value!==void 0&&N.value===je||Oe)&&($(Se),Oe&&(ve.current=!0))},[N.value]),me=x.useCallback(()=>P?.focus(),[P]),xe=x.useCallback((Se,je,ke)=>{const Oe=!ve.current&&!ke;(N.value!==void 0&&N.value===je||Oe)&&K(Se)},[N.value]),Ce=i==="popper"?Bx:e2,_e=Ce===Bx?{side:c,sideOffset:d,align:h,alignOffset:m,arrowPadding:v,collisionBoundary:b,collisionPadding:_,sticky:C,hideWhenDetached:E,avoidCollisions:T}:{};return y.jsx(Qj,{scope:n,content:P,viewport:j,onViewportChange:U,itemRefCallback:ie,selectedItem:I,onItemLeave:me,itemTextRefCallback:xe,focusSelectedItem:ee,selectedItemText:Z,position:i,isPositioned:X,searchRef:ae,children:y.jsx(Ig,{as:qie,allowPinchZoom:!0,children:y.jsx(kg,{asChild:!0,trapped:N.open,onMountAutoFocus:Se=>{Se.preventDefault()},onUnmountAutoFocus:Ie(s,Se=>{N.trigger?.focus({preventScroll:!0}),Se.preventDefault()}),children:y.jsx(Yf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:Se=>Se.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:y.jsx(Ce,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:Se=>Se.preventDefault(),...k,..._e,onPlaced:()=>se(!0),ref:z,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:Ie(k.onKeyDown,Se=>{const je=Se.ctrlKey||Se.altKey||Se.metaKey;if(Se.key==="Tab"&&Se.preventDefault(),!je&&Se.key.length===1&&H(Se.key),["ArrowUp","ArrowDown","Home","End"].includes(Se.key)){let Oe=W().filter(Ue=>!Ue.disabled).map(Ue=>Ue.ref.current);if(["ArrowUp","End"].includes(Se.key)&&(Oe=Oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(Se.key)){const Ue=Se.target,Xe=Oe.indexOf(Ue);Oe=Oe.slice(Xe+1)}setTimeout(()=>G(Oe)),Se.preventDefault()}})})})})})})});Jj.displayName=Hie;var Gie="SelectItemAlignedPosition",e2=x.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:i,...s}=e,o=Ha(ec,n),l=qa(ec,n),[c,d]=x.useState(null),[h,m]=x.useState(null),v=Ct(t,z=>m(z)),b=av(n),_=x.useRef(!1),C=x.useRef(!0),{viewport:E,selectedItem:T,selectedItemText:k,focusSelectedItem:N}=l,P=x.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&h&&E&&T&&k){const z=o.trigger.getBoundingClientRect(),I=h.getBoundingClientRect(),$=o.valueNode.getBoundingClientRect(),Z=k.getBoundingClientRect();if(o.dir!=="rtl"){const Ue=Z.left-I.left,Xe=$.left-Ue,ht=z.left-Xe,bt=z.width+ht,zt=Math.max(bt,I.width),dn=window.innerWidth-fr,fn=og(Xe,[fr,Math.max(fr,dn-zt)]);c.style.minWidth=bt+"px",c.style.left=fn+"px"}else{const Ue=I.right-Z.right,Xe=window.innerWidth-$.right-Ue,ht=window.innerWidth-z.right-Xe,bt=z.width+ht,zt=Math.max(bt,I.width),dn=window.innerWidth-fr,fn=og(Xe,[fr,Math.max(fr,dn-zt)]);c.style.minWidth=bt+"px",c.style.right=fn+"px"}const K=b(),W=window.innerHeight-fr*2,X=E.scrollHeight,se=window.getComputedStyle(h),ve=parseInt(se.borderTopWidth,10),G=parseInt(se.paddingTop,10),ee=parseInt(se.borderBottomWidth,10),Y=parseInt(se.paddingBottom,10),de=ve+G+X+Y+ee,ae=Math.min(T.offsetHeight*5,de),H=window.getComputedStyle(E),ie=parseInt(H.paddingTop,10),me=parseInt(H.paddingBottom,10),xe=z.top+z.height/2-fr,Ce=W-xe,_e=T.offsetHeight/2,Se=T.offsetTop+_e,je=ve+G+Se,ke=de-je;if(je<=xe){const Ue=K.length>0&&T===K[K.length-1].ref.current;c.style.bottom="0px";const Xe=h.clientHeight-E.offsetTop-E.offsetHeight,ht=Math.max(Ce,_e+(Ue?me:0)+Xe+ee),bt=je+ht;c.style.height=bt+"px"}else{const Ue=K.length>0&&T===K[0].ref.current;c.style.top="0px";const ht=Math.max(xe,ve+E.offsetTop+(Ue?ie:0)+_e)+ke;c.style.height=ht+"px",E.scrollTop=je-xe+E.offsetTop}c.style.margin=`${fr}px 0`,c.style.minHeight=ae+"px",c.style.maxHeight=W+"px",i?.(),requestAnimationFrame(()=>_.current=!0)}},[b,o.trigger,o.valueNode,c,h,E,T,k,o.dir,i]);Ln(()=>P(),[P]);const[O,j]=x.useState();Ln(()=>{h&&j(window.getComputedStyle(h).zIndex)},[h]);const U=x.useCallback(z=>{z&&C.current===!0&&(P(),N?.(),C.current=!1)},[P,N]);return y.jsx(Wie,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:_,onScrollButtonChange:U,children:y.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:y.jsx(Cs.div,{...s,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});e2.displayName=Gie;var Kie="SelectPopperPosition",Bx=x.forwardRef((e,t)=>{const{__scopeSelect:n,align:i="start",collisionPadding:s=fr,...o}=e,l=lv(n);return y.jsx(__,{...l,...o,ref:t,align:i,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Bx.displayName=Kie;var[Wie,Vw]=qu(ec,{}),Ux="SelectViewport",t2=x.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:i,...s}=e,o=qa(Ux,n),l=Vw(Ux,n),c=Ct(t,o.onViewportChange),d=x.useRef(0);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),y.jsx(ov.Slot,{scope:n,children:y.jsx(Cs.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ie(s.onScroll,h=>{const m=h.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:b}=l;if(b?.current&&v){const _=Math.abs(d.current-m.scrollTop);if(_>0){const C=window.innerHeight-fr*2,E=parseFloat(v.style.minHeight),T=parseFloat(v.style.height),k=Math.max(E,T);if(k<C){const N=k+_,P=Math.min(C,N),O=N-P;v.style.height=P+"px",v.style.bottom==="0px"&&(m.scrollTop=O>0?O:0,v.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});t2.displayName=Ux;var n2="SelectGroup",[Yie,Zie]=qu(n2),Xie=x.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,s=_s();return y.jsx(Yie,{scope:n,id:s,children:y.jsx(Cs.div,{role:"group","aria-labelledby":s,...i,ref:t})})});Xie.displayName=n2;var i2="SelectLabel",Qie=x.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,s=Zie(i2,n);return y.jsx(Cs.div,{id:s.id,...i,ref:t})});Qie.displayName=i2;var yg="SelectItem",[Jie,s2]=qu(yg),r2=x.forwardRef((e,t)=>{const{__scopeSelect:n,value:i,disabled:s=!1,textValue:o,...l}=e,c=Ha(yg,n),d=qa(yg,n),h=c.value===i,[m,v]=x.useState(o??""),[b,_]=x.useState(!1),C=Ct(t,N=>d.itemRefCallback?.(N,i,s)),E=_s(),T=x.useRef("touch"),k=()=>{s||(c.onValueChange(i),c.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return y.jsx(Jie,{scope:n,value:i,disabled:s,textId:E,isSelected:h,onItemTextChange:x.useCallback(N=>{v(P=>P||(N?.textContent??"").trim())},[]),children:y.jsx(ov.ItemSlot,{scope:n,value:i,disabled:s,textValue:m,children:y.jsx(Cs.div,{role:"option","aria-labelledby":E,"data-highlighted":b?"":void 0,"aria-selected":h&&b,"data-state":h?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:C,onFocus:Ie(l.onFocus,()=>_(!0)),onBlur:Ie(l.onBlur,()=>_(!1)),onClick:Ie(l.onClick,()=>{T.current!=="mouse"&&k()}),onPointerUp:Ie(l.onPointerUp,()=>{T.current==="mouse"&&k()}),onPointerDown:Ie(l.onPointerDown,N=>{T.current=N.pointerType}),onPointerMove:Ie(l.onPointerMove,N=>{T.current=N.pointerType,s?d.onItemLeave?.():T.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ie(l.onPointerLeave,N=>{N.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:Ie(l.onKeyDown,N=>{d.searchRef?.current!==""&&N.key===" "||(Iie.includes(N.key)&&k(),N.key===" "&&N.preventDefault())})})})})});r2.displayName=yg;var of="SelectItemText",o2=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:i,style:s,...o}=e,l=Ha(of,n),c=qa(of,n),d=s2(of,n),h=Fie(of,n),[m,v]=x.useState(null),b=Ct(t,k=>v(k),d.onItemTextChange,k=>c.itemTextRefCallback?.(k,d.value,d.disabled)),_=m?.textContent,C=x.useMemo(()=>y.jsx("option",{value:d.value,disabled:d.disabled,children:_},d.value),[d.disabled,d.value,_]),{onNativeOptionAdd:E,onNativeOptionRemove:T}=h;return Ln(()=>(E(C),()=>T(C)),[E,T,C]),y.jsxs(y.Fragment,{children:[y.jsx(Cs.span,{id:d.textId,...o,ref:b}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Ji.createPortal(o.children,l.valueNode):null]})});o2.displayName=of;var a2="SelectItemIndicator",l2=x.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e;return s2(a2,n).isSelected?y.jsx(Cs.span,{"aria-hidden":!0,...i,ref:t}):null});l2.displayName=a2;var Fx="SelectScrollUpButton",c2=x.forwardRef((e,t)=>{const n=qa(Fx,e.__scopeSelect),i=Vw(Fx,e.__scopeSelect),[s,o]=x.useState(!1),l=Ct(t,i.onScrollButtonChange);return Ln(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollTop>0;o(h)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?y.jsx(d2,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});c2.displayName=Fx;var Vx="SelectScrollDownButton",u2=x.forwardRef((e,t)=>{const n=qa(Vx,e.__scopeSelect),i=Vw(Vx,e.__scopeSelect),[s,o]=x.useState(!1),l=Ct(t,i.onScrollButtonChange);return Ln(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<h;o(m)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?y.jsx(d2,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});u2.displayName=Vx;var d2=x.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:i,...s}=e,o=qa("SelectScrollButton",n),l=x.useRef(null),c=av(n),d=x.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return x.useEffect(()=>()=>d(),[d]),Ln(()=>{c().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),y.jsx(Cs.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Ie(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(i,50))}),onPointerMove:Ie(s.onPointerMove,()=>{o.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(i,50))}),onPointerLeave:Ie(s.onPointerLeave,()=>{d()})})}),ese="SelectSeparator",tse=x.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e;return y.jsx(Cs.div,{"aria-hidden":!0,...i,ref:t})});tse.displayName=ese;var $x="SelectArrow",nse=x.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,s=lv(n),o=Ha($x,n),l=qa($x,n);return o.open&&l.position==="popper"?y.jsx(w_,{...s,...i,ref:t}):null});nse.displayName=$x;var ise="SelectBubbleInput",f2=x.forwardRef(({__scopeSelect:e,value:t,...n},i)=>{const s=x.useRef(null),o=Ct(i,s),l=PM(t);return x.useEffect(()=>{const c=s.current;if(!c)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&m){const v=new Event("change",{bubbles:!0});m.call(c,t),c.dispatchEvent(v)}},[l,t]),y.jsx(Cs.select,{...n,style:{...Ej,...n.style},ref:o,defaultValue:t})});f2.displayName=ise;function h2(e){return e===""||e===void 0}function m2(e){const t=Ks(e),n=x.useRef(""),i=x.useRef(0),s=x.useCallback(l=>{const c=n.current+l;t(c),(function d(h){n.current=h,window.clearTimeout(i.current),h!==""&&(i.current=window.setTimeout(()=>d(""),1e3))})(c)},[t]),o=x.useCallback(()=>{n.current="",window.clearTimeout(i.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(i.current),[]),[n,s,o]}function p2(e,t,n){const s=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let l=sse(e,Math.max(o,0));s.length===1&&(l=l.filter(h=>h!==n));const d=l.find(h=>h.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function sse(e,t){return e.map((n,i)=>e[(t+i)%e.length])}var rse=Hj,ose=Gj,ase=Wj,lse=Yj,cse=Zj,use=Xj,dse=t2,fse=r2,hse=o2,mse=l2,pse=c2,gse=u2;function vse({...e}){return y.jsx(rse,{"data-slot":"select",...e})}function yse({...e}){return y.jsx(ase,{"data-slot":"select-value",...e})}function bse({className:e,size:t="default",children:n,...i}){return y.jsxs(ose,{"data-slot":"select-trigger","data-size":t,className:Ye("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...i,children:[n,y.jsx(lse,{asChild:!0,children:y.jsx(ka,{className:"size-4 opacity-50"})})]})}function xse({className:e,children:t,position:n="popper",...i}){return y.jsx(cse,{children:y.jsxs(use,{"data-slot":"select-content",className:Ye("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...i,children:[y.jsx(wse,{}),y.jsx(dse,{className:Ye("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),y.jsx(Sse,{})]})})}function _se({className:e,children:t,...n}){return y.jsxs(fse,{"data-slot":"select-item",className:Ye("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[y.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:y.jsx(mse,{children:y.jsx(GP,{className:"size-4"})})}),y.jsx(hse,{children:t})]})}function wse({className:e,...t}){return y.jsx(pse,{"data-slot":"select-scroll-up-button",className:Ye("flex cursor-default items-center justify-center py-1",e),...t,children:y.jsx(O_,{className:"size-4"})})}function Sse({className:e,...t}){return y.jsx(gse,{"data-slot":"select-scroll-down-button",className:Ye("flex cursor-default items-center justify-center py-1",e),...t,children:y.jsx(ka,{className:"size-4"})})}const Cse=65,Ese=32,Ase=2e3,Tse=450,Rse=700;function Nse(e){const[t,n]=x.useState(""),i=x.useRef({index:0,chars:0,phase:"typing"});return x.useEffect(()=>{if(!e.length){n("");return}i.current={index:0,chars:0,phase:"typing"},n("");let s,o=!0;const l=()=>{if(!o)return;const c=i.current,d=e[c.index%e.length];if(c.phase==="typing"){const h=c.chars+1;c.chars=h,n(d.slice(0,h)),h>=d.length?(c.phase="erasing",s=setTimeout(l,Ase)):s=setTimeout(l,Cse)}else{const h=c.chars-1;c.chars=h,n(d.slice(0,h)),h<=0?(c.index=(c.index+1)%e.length,c.phase="typing",s=setTimeout(l,Tse)):s=setTimeout(l,Ese)}};return s=setTimeout(l,Rse),()=>{o=!1,clearTimeout(s)}},[e]),t}const iN={"":[],animalia:["Canis lupus","Ursus maritimus","Loxodonta","Panthera leo","Gorilla","Orcinus orca","Harpia"],plantae:["Zea mays","Rosa canina","Quercus robur","Arabidopsis thaliana","Solanum lycopersicum","Ficus carica"],fungi:["Amanita muscaria","Penicillium notatum","Boletus edulis","Aspergillus niger"],bacteria:["Escherichia coli","Bacillus subtilis","Streptomyces coelicolor","Lactobacillus acidophilus"],archaea:["Halobacterium salinarum","Methanobacterium formicicum","Sulfolobus acidocaldarius"],chromista:["Navicula radiosa","Fucus vesiculosus","Phytophthora infestans"],protozoa:["Amoeba proteus","Plasmodium falciparum","Trypanosoma brucei"]};function kse({q:e,setQ:t,kingdom:n,setKingdom:i,loading:s,isKeySearch:o,hasResults:l,onSearch:c,onClear:d}){const{t:h}=At(),m=x.useRef(null),v=x.useMemo(()=>Object.entries(Nu).map(([T,k])=>({key:Number(T),name:k})),[]),b=x.useMemo(()=>{if(e)return[];const T=n.toLowerCase();return iN[T]??iN[""]},[e,n]),_=Nse(b),C=h("search.searchByNameOrKey"),E=e.length>0||l;return y.jsxs("form",{onSubmit:c,className:"flex h-9.5 flex-nowrap items-center gap-1.5",children:[!o&&y.jsxs(vse,{value:n,onValueChange:i,children:[y.jsx(bse,{className:"rounded-lg border px-2 text-sm font-medium",children:y.jsx(yse,{placeholder:h("search.kingdom"),children:n?y.jsx(ii,{src:Bs(v.find(T=>T.name===n)?.key??0),alt:"Reino",className:"size-5"}):y.jsx("span",{children:h("search.kingdom")})})}),y.jsx(xse,{className:"rounded-lg text-sm font-medium",children:v.map(T=>y.jsxs(_se,{value:T.name,children:[y.jsx(ii,{src:Bs(T.key),alt:`${T.name} icon`,className:"size-5"}),Di(T.name)]},T.key))})]}),o&&y.jsx("span",{className:"text-muted-foreground flex shrink-0 items-center gap-1 rounded-md border px-2 py-1.5 text-xs font-medium",children:"GBIF key"}),y.jsxs("div",{className:"relative min-w-0 flex-1",children:[y.jsx("input",{ref:m,value:e,onChange:T=>t(T.target.value),placeholder:n?void 0:h("search.selectKingdom"),className:"h-9.5 w-full rounded-md border bg-transparent px-3 py-2 text-sm outline-none focus:ring-1 focus:ring-inset","aria-label":h("search.searchTaxa"),autoComplete:"off",autoCorrect:"off",spellCheck:!1}),n&&!e&&y.jsxs("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 select-none",children:[y.jsx("span",{className:"text-muted-foreground absolute inset-y-0 left-3 flex items-center text-sm",children:_}),y.jsx("span",{className:Ye("text-muted-foreground absolute inset-y-0 left-3 flex items-center text-sm transition-opacity duration-200",_?"opacity-0":"opacity-100"),children:C})]})]}),E&&y.jsx("button",{type:"button",onClick:()=>{d(),m.current?.focus()},"aria-label":h("search.clearSearch"),className:"text-muted-foreground hover:text-foreground h-9.5 shrink-0 cursor-pointer rounded-md border px-2.5 transition-colors",children:y.jsx(Ia,{className:"size-3.5"})}),y.jsx("button",{type:"submit",disabled:s||!e.trim(),"aria-label":h("search.searchTaxa"),className:"h-9.5 shrink-0 cursor-pointer rounded-md border px-3 transition-opacity disabled:cursor-not-allowed disabled:opacity-50",children:s?y.jsx(ih,{className:"size-4 animate-spin"}):y.jsx(sO,{className:"size-4"})})]})}function Pse({results:e,selected:t,minimized:n,setMinimized:i,onPick:s}){const o=async h=>{await s(h),i(!0)},{t:l}=At(),c=h=>{const m=h;return[h.kingdom&&Di(String(h.kingdom)),h.phylum&&Di(String(h.phylum)),m.class&&Di(String(m.class)),h.order&&Di(String(h.order)),h.family&&Di(String(h.family)),h.genus&&Di(String(h.genus))].filter(Boolean).join("  ")},d=n&&t?t.canonicalName||t.scientificName:e.length===0?l("search.noResults"):`${e.length} ${l("search.results")}`;return y.jsxs("div",{className:"bg-card mt-2 overflow-hidden rounded-lg border shadow-sm",children:[y.jsxs("button",{onClick:()=>i(!n),className:"flex w-full cursor-pointer items-center justify-between px-3 py-2","aria-label":l(n?"search.expandResults":"search.minimizeResults"),children:[y.jsx("span",{className:`truncate text-xs font-medium ${n&&t?"italic":"text-muted-foreground"}`,children:d}),n?y.jsx(ka,{className:"text-muted-foreground ml-2 size-3.5 shrink-0"}):y.jsx(O_,{className:"text-muted-foreground ml-2 size-3.5 shrink-0"})]}),!n&&e.length>0&&y.jsx("ul",{className:"max-h-64 divide-y overflow-auto",children:e.map(h=>y.jsx("li",{children:y.jsx("button",{onClick:()=>o(h),className:`hover:bg-accent w-full cursor-pointer px-3 py-2 text-left transition-colors ${t?.key===h.key?"bg-muted":""}`,children:y.jsxs("div",{className:"flex items-start justify-between gap-2",children:[y.jsxs("div",{className:"min-w-0",children:[y.jsx("p",{className:"truncate text-sm font-medium italic",children:h.canonicalName||h.scientificName}),y.jsx("p",{className:"text-muted-foreground truncate text-xs",children:c(h)})]}),y.jsx("span",{className:"text-muted-foreground mt-0.5 shrink-0 text-xs",children:h.rank})]})})},h.key))}),!n&&e.length===0&&y.jsx("p",{className:"text-muted-foreground px-3 pb-3 text-sm",children:l("search.noResults")})]})}const Ose=e=>{const t=e.trim();if(/^\d+$/.test(t)&&t.length>0){const n=parseInt(t,10);return n>0?n:null}return null},sN=(e,t)=>{const n=new Map,i=new Map;e.forEach(l=>{const c=((l.canonicalName||l.scientificName)??"").trim();if(!c)return;const d=c.toLowerCase().split(/\s+/).filter(Boolean);if(d.length>=2){const h=`${d[0]} ${d[1]}`,m=n.get(h);(!m||m.rank!=="SPECIES")&&n.set(h,l)}else if(d.length===1){const h=d[0],m=i.get(h);(!m||m.rank!=="GENUS")&&i.set(h,l)}});const s=t[0]??"",o=[];if(t.length===1&&s){for(const[l,c]of n.entries())l.split(" ")[1]===s&&o.push(c);if(i.has(s))o.unshift(i.get(s));else for(const l of i.values())if(String(l.genus??"").toLowerCase()===s){o.unshift(l);break}if(o.length>0)return o.slice(0,10)}if(s&&i.has(s))o.push(i.get(s));else if(s){for(const l of i.values())if(String(l.genus??"").toLowerCase()===s){o.push(l);break}}for(const[l,c]of n.entries())if(l.startsWith(s+" ")){o.push(c);break}if(o.length===0){if(i.size>0){const l=i.values().next().value;l&&o.push(l)}if(n.size>0){const l=n.values().next().value;l&&o.push(l)}}return o};function Mse(){const{t:e}=At(),{navigateToNodes:t}=mh(),[n,i]=x.useState(""),[s,o]=x.useState(""),[l,c]=x.useState(!1),[d,h]=x.useState(null),[m,v]=x.useState(null),[b,_]=x.useState(null),[C,E]=x.useState(!1),T=Ose(n),k=T!==null,N=x.useCallback(()=>{i(""),h(null),v(null),_(null),E(!1)},[]),P=x.useCallback(async j=>{j?.preventDefault(),v(null),h(null),_(null),E(!1);const U=n.trim();if(U){c(!0);try{if(k&&T!==null){const W=await ux(T),X=W,se=X.nubKey??X.key;if(!se){v(e("search.keyNotFound")),h(null);return}const ve=X.rank?.toUpperCase()??"SPECIES";if(zx.has(ve)){v(e("search.rankNotInTree")),h(null);return}const G={key:se,scientificName:W.scientificName||"",canonicalName:W.canonicalName||W.scientificName||"",rank:ve,kingdom:W.kingdom||"animalia",numDescendants:0,phylum:W.phylum||"",class:W.class,order:W.order,family:W.family,genus:W.genus};h([G]);return}if(!s){v(e("search.selectKingdomFirst"));return}const $=(await RZ(U,s)??[]).filter(W=>{const se=W.nubKey,ve=typeof se=="number"&&se>0,G=String(W.kingdom??"").toLowerCase(),ee=G===String(s??"").toLowerCase()||G==="metazoa"&&String(s??"").toLowerCase()==="animalia",Y=!zx.has(W.rank);return!!(ve&&ee&&Y)}),Z=U.toLowerCase(),K=Z.split(/\s+/).filter(Boolean);if(K.length>=2){const W=$.filter(se=>((se.canonicalName||se.scientificName)??"").toLowerCase()===Z),X=W.length?W:$.filter(se=>{const ve=((se.canonicalName||se.scientificName)??"").toLowerCase();return K.every(G=>ve.includes(G))});h(sN(X,K))}else{const W=$.filter(se=>((se.canonicalName||se.scientificName)??"").toLowerCase()===Z&&se.rank==="SPECIES"),X=W.length?[...W,...$.filter(se=>!W.includes(se))]:$;h(sN(X,K))}}catch(z){console.error(z),v(e("search.gbifError")),h(null)}finally{c(!1)}}},[n,s,k,T,e]),O=x.useCallback(async j=>{c(!0);try{let U,z=null;try{const ee=await ux(j.key);z=ee,U=ee.nubKey??ee.key}catch{}const I=U??j.key,$=await PD(I);if(!$||$.length===0){v(e("search.lineageError"));return}const Z=j.rank==="SPECIES",K=$.findIndex(G=>G.rank==="GENUS");let W=$.length;if(Z&&K!==-1)W=K+1;else if(j.rank==="GENUS"){const G=$.findIndex(ee=>{const Y=ee,de=Y.nubKey??Y.key;return ee.key===j.key||de===j.key});G!==-1&&(W=G+1)}const se=$.slice(0,W).map(G=>{const ee=G,Y=ee.nubKey??ee.key??0,de=ee.canonicalName||ee.scientificName||ee.name||ee.rank||"";return{key:Y,rank:ee.rank?.toUpperCase()??"KINGDOM",name:de}});if(j.rank==="SPECIES"||!!(z&&(z.species||z.species===""))){const G=U??j.key,ee=z?.species||j.canonicalName||j.scientificName||"",Y=se[se.length-1]?.key;G&&G!==Y&&se.push({key:G,rank:"SPECIES",name:ee})}else{const G=U??j.key,ee=se[se.length-1]?.key;G&&G!==ee&&se.push({key:G,rank:j.rank,name:j.canonicalName||j.scientificName||""})}t(se,!0),_(j)}catch(U){console.error(U),v(e("search.pathError"))}finally{c(!1)}},[e,t]);return{q:n,setQ:i,kingdom:s,setKingdom:o,loading:l,results:d,error:m,selected:b,minimized:C,setMinimized:E,isKeySearch:k,onSearch:P,onPick:O,onClear:N}}const Dse=()=>{const{q:e,setQ:t,kingdom:n,setKingdom:i,loading:s,results:o,error:l,selected:c,minimized:d,setMinimized:h,isKeySearch:m,onSearch:v,onPick:b,onClear:_}=Mse();return y.jsxs("div",{children:[y.jsx(kse,{q:e,setQ:t,kingdom:n,setKingdom:i,loading:s,isKeySearch:m,hasResults:o!==null,onSearch:v,onClear:_}),l&&y.jsx("p",{className:"mt-1.5 px-1 text-xs text-red-500",children:l}),o!==null&&y.jsx(Pse,{results:o,selected:c,minimized:d,setMinimized:h,onPick:b})]})},Lse="/treevera/assets/click-success-CCSz7ZCu.wav",jse="/treevera/assets/click-error-e1JTzZ7m.wav",Ise="/treevera/assets/winning-CUspfwTE.wav",zse={success:Lse,error:jse,win:Ise};class Bse{play(t){const n=Wf(),{muted:i,volume:s}=n.get(GM);if(i)return;const o=new Audio(zse[t]);o.volume=s,o.play().catch(()=>{})}}const f0=new Bse,Use=()=>{const e=Le(Qe.expandedNodes),t=Le(Qe.challenge),n=t.status,i=t.speciesKey??0,s=n==="IN_PROGRESS"||n==="COMPLETED",o=x.useRef(!1),l=x.useRef(new Set),{data:c}=Uo({specieKey:i}),{data:d}=sv(i,s),h=x.useMemo(()=>!d||!c?[]:rv(d,c.canonicalName??c.species??"",i),[d,c,i]);x.useEffect(()=>{n==="COMPLETED"&&(o.current||(f0.play("win"),o.current=!0))},[n]),x.useEffect(()=>{if(n!=="IN_PROGRESS")return;if(e.length===0){l.current=new Set;return}const m=e[e.length-1];if(!m)return;const v=!l.current.has(m.key);if(l.current=new Set(e.map(E=>E.key)),!v)return;const b=e.length-1,_=h[b];if(!_)return;m.name.toLowerCase()===_.name.toLowerCase()?f0.play("success"):f0.play("error")},[e,n,h]),x.useEffect(()=>{o.current=!1,l.current=new Set},[i])};function Fse(e,t){const n=Le(Qe.expandedNodes),i=Le(Qe.shortcutScrollTarget),s=Dt(nM),{isMobile:o}=zo(),l=x.useRef({targetPath:null,scrolledKey:null});x.useEffect(()=>{if(!i||i.length===0){l.current={targetPath:null,scrolledKey:null};return}l.current.targetPath!==i&&(l.current={targetPath:i,scrolledKey:null},o&&window.scrollTo({top:0,behavior:"smooth"}));let c=null;for(let h=i.length-1;h>=0;h--){const m=i[h].key;if(n.some(v=>v.key===m)&&e.some(v=>v.key===m)){c=m;break}}if(c===null||c===l.current.scrolledKey)return;l.current.scrolledKey=c;const d=e.findIndex(h=>h.key===c);d!==-1&&(t.scrollToIndex(d,{align:"start",behavior:"smooth"}),c===i[i.length-1]?.key&&s(null))},[i,n,e,t,s,o])}function Vse(){const e=Le(Qe.expandedNodes),t=Le(Qe.nodes),n=Le(Qe.shortcutScrollTarget),i=Dt(sM),s=Le(G_),o=Yg(),l=x.useRef(new Set),c=x.useRef(n);c.current!==n&&(c.current=n,l.current.clear()),x.useEffect(()=>{if(!(!n||n.length===0))for(const d of e){const h=t[d.key];if(!h||h.rank==="SPECIES"||!h.expanded||h.childrenKeys!==void 0||h.numDescendants===0||l.current.has(h.key))continue;const m=h.key;l.current.add(m),o.fetchQuery({queryKey:[Va.children_key,m,s],queryFn:async()=>{const b=(await kD(m)).filter(Uj),_=s?b:b.filter(C=>C.numDescendants>0||C.rank==="SPECIES");return Bj(_).map(Fj)},staleTime:1e3*60*60*24}).then(v=>{i({key:m,children:v})}).finally(()=>{l.current.delete(m)})}},[n,e,t,s,o,i])}function ph({className:e,...t}){return y.jsx("div",{"data-slot":"card",className:Ye("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function $se({className:e,...t}){return y.jsx("div",{"data-slot":"card-header",className:Ye("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Hse({className:e,...t}){return y.jsx("div",{"data-slot":"card-title",className:Ye("leading-none font-semibold",e),...t})}function qse({className:e,...t}){return y.jsx("div",{"data-slot":"card-description",className:Ye("text-muted-foreground text-sm",e),...t})}function gh({className:e,...t}){return y.jsx("div",{"data-slot":"card-content",className:Ye("px-6",e),...t})}function Gse({className:e,...t}){return y.jsx("div",{"data-slot":"card-footer",className:Ye("flex items-center px-6 [.border-t]:pt-6",e),...t})}const vh="/treevera/assets/alvo-DNWwIacs.gif",yh="/treevera/assets/alvo-white-D_dDYQFf.gif",g2=()=>{const[e,t]=x.useState("24:00:00");return x.useEffect(()=>{const n=()=>{const s=new Date,o=new Date;o.setHours(24,0,0,0);const l=o.getTime()-s.getTime(),c=String(Math.floor(l/36e5)).padStart(2,"0"),d=String(Math.floor(l%36e5/6e4)).padStart(2,"0"),h=String(Math.floor(l%6e4/1e3)).padStart(2,"0");t(`${c}:${d}:${h}`)};n();const i=setInterval(n,1e3);return()=>clearInterval(i)},[]),y.jsxs("div",{className:"flex items-center gap-1 text-right",children:[y.jsx(d6,{className:"text-muted-foreground size-3 shrink-0"}),y.jsx("span",{className:"text-muted-foreground font-mono text-xs tabular-nums",children:e})]})},Kse=async e=>{const{data:t,error:n}=await Dn.rpc("get_or_create_daily_challenge",{p_date:e});if(n||!t||t.length===0)return console.error("Error fetching daily challenge:",n),null;const i=t[0];return{gbifKey:i.gbif_key,scientificName:i.scientific_name}},Wse=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${i}`},rN=()=>{const e=new Date;return e.setHours(24,0,0,0),e.getTime()-Date.now()},v2=e=>{const{daily_challenge_key:t}=Va,n=Wse(),i=e??n,s=i===n;return Ws({queryKey:[t,i],queryFn:()=>Kse(i),staleTime:s?rN():1/0,gcTime:s?rN()+1e3*60*5:1e3*60*60*24})},Yse=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${i}`},Zse=async e=>{const t=Yse(),{data:n,error:i}=await Dn.from("daily_challenges").select("date, gbif_key").lte("date",t).order("date",{ascending:!1}).limit(60);if(i||!n)return[];if(!e||n.length===0)return n.map(c=>({date:c.date,gbifKey:c.gbif_key,completed:!1}));const s=n.map(c=>c.gbif_key),{data:o}=await Dn.from("user_challenge_history").select("gbif_key").eq("user_id",e).eq("mode","DAILY").in("gbif_key",s),l=new Set((o??[]).map(c=>c.gbif_key));return n.map(c=>({date:c.date,gbifKey:c.gbif_key,completed:l.has(c.gbif_key)}))},y2=()=>{const t=Le(st.session)?.user?.id;return Ws({queryKey:["challenge_dates",t??"anonymous"],queryFn:()=>Zse(t),staleTime:1e3*60*5})},Xse=(e,t)=>new Date(e,t+1,0).getDate(),Qse=(e,t)=>{const n=new Date(e,t,1).getDay();return n===0?6:n-1},Jse=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${i}`},ere=({selectedDate:e,challengeDates:t,onSelectDate:n,formattedLabel:i})=>{const{i18n:s,t:o}=At(),l=Jse(),[c,d]=x.useState(!1),[h,m]=x.useState(()=>parseInt(e.slice(0,4))),[v,b]=x.useState(()=>parseInt(e.slice(5,7))-1),_=new Map(t.map(X=>[X.date,X])),C=l.split("-"),E=parseInt(C[0]),T=parseInt(C[1])-1,k=t.length>0?t[t.length-1].date:l,N=parseInt(k.slice(0,4)),P=parseInt(k.slice(5,7))-1,O=h===E&&v===T,j=h===N&&v===P,U=()=>{j||(v===0?(m(X=>X-1),b(11)):b(X=>X-1))},z=()=>{O||(v===11?(m(X=>X+1),b(0)):b(X=>X+1))},I=X=>{!_.get(X)||X>l||(n(X),d(!1))},$=Xse(h,v),Z=Qse(h,v),K=new Intl.DateTimeFormat(s.language,{month:"long",year:"numeric"}).format(new Date(h,v,1)),W=Array.from({length:7},(X,se)=>{const ve=new Date(2025,0,6+se);return new Intl.DateTimeFormat(s.language,{weekday:"short"}).format(ve).slice(0,2)});return y.jsxs(Z_,{open:c,onOpenChange:d,children:[y.jsx(PY,{asChild:!0,children:y.jsx("button",{className:"bg-muted/80 rounded-md px-2 py-1 text-sm font-medium transition-colors",children:i})}),y.jsxs(X_,{className:"max-w-[320px] p-0",children:[y.jsx(Q_,{className:"px-5 pt-5 pb-3",children:y.jsx(J_,{className:"text-base",children:o("challenge.dailyChallenges")})}),y.jsxs("div",{className:"px-4 pb-5 select-none",children:[y.jsxs("div",{className:"mb-3 flex items-center justify-between gap-2",children:[y.jsx(Wt,{variant:"ghost",size:"icon",className:"size-7",onClick:U,disabled:j,children:y.jsx(Fg,{className:"size-4"})}),y.jsx("span",{className:"text-sm font-semibold capitalize",children:K}),y.jsx(Wt,{variant:"ghost",size:"icon",className:"size-7",onClick:z,disabled:O,children:y.jsx(sc,{className:"size-4"})})]}),y.jsx("div",{className:"mb-1 grid grid-cols-7",children:W.map(X=>y.jsx("div",{className:"text-muted-foreground py-1 text-center text-[10px] font-medium uppercase",children:X},X))}),y.jsxs("div",{className:"grid grid-cols-7 gap-y-1",children:[Array.from({length:Z},(X,se)=>y.jsx("div",{},`gap-${se}`)),Array.from({length:$},(X,se)=>{const ve=se+1,G=`${h}-${String(v+1).padStart(2,"0")}-${String(ve).padStart(2,"0")}`,ee=G>l,Y=_.get(G),de=!!Y,ae=Y?.completed??!1,H=G===e,ie=ee||!de;return y.jsxs("button",{onClick:()=>!ie&&I(G),disabled:ie,className:["relative mx-auto flex size-8 items-center justify-center rounded-full text-sm transition-all",ie?"text-muted-foreground/35 cursor-not-allowed":"cursor-pointer",H?"ring-primary ring-1":ie?"":"hover:bg-muted",ae&&!H?"font-semibold text-emerald-600 dark:text-emerald-400":""].filter(Boolean).join(" "),children:[ve,ae&&y.jsx("span",{className:"absolute bottom-0.5 left-1/2 size-1 -translate-x-1/2 rounded-full bg-emerald-500"})]},ve)})]}),y.jsx("div",{className:"text-muted-foreground mt-3 flex items-center gap-3 border-t pt-3 text-xs",children:y.jsxs("span",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:"inline-block size-1.5 rounded-full bg-emerald-500"}),o("challenge.completedLabel")]})})]})]})]})},b2=({selectedDate:e,onSelectDate:t})=>{const{i18n:n,t:i}=At(),{data:s=[]}=y2(),o=[...s].sort((m,v)=>m.date.localeCompare(v.date)),l=o.findIndex(m=>m.date===e),c=l>0?o[l-1]:null,d=l<o.length-1?o[l+1]:null,h=new Intl.DateTimeFormat(n.language,{day:"numeric",month:"short",year:"numeric"}).format(new Date(e+"T00:00:00"));return y.jsxs("div",{className:"flex items-center gap-0.5",children:[y.jsx(Wt,{variant:"ghost",size:"icon",className:"bg-muted/80 size-7 shrink-0",disabled:!c,onClick:()=>c&&t(c.date),title:i("challenge.prevDay"),children:y.jsx(Fg,{className:"size-4"})}),y.jsx(ere,{selectedDate:e,challengeDates:s,onSelectDate:t,formattedLabel:h}),y.jsx(Wt,{variant:"ghost",size:"icon",className:"bg-muted/80 size-7 shrink-0",disabled:!d,onClick:()=>d&&t(d.date),title:i("challenge.nextDay"),children:y.jsx(sc,{className:"size-4"})})]})},tre=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${i}`},oN=()=>{const{t:e}=At(),t=Ei(),{theme:n}=Iu(),i=Le(st.isAuthenticated),s=Le(Qe.challenge),o=Dt(Qe.challenge),l=tre(),[c,d]=x.useState(()=>s.challengeDate??l),{data:h=[]}=y2(),{data:m,isLoading:v,isError:b}=v2(c),C=h.find(P=>P.date===c)?.completed??!1,E=c===l,T=P=>{d(P)},k=()=>{if(!i){t({to:"/login"});return}m&&o({mode:"DAILY",status:"IN_PROGRESS",targetSpecies:m.scientificName,speciesKey:m.gbifKey,challengeDate:c})},N=m?.scientificName;return y.jsxs(ph,{className:"relative max-w-3xl rounded-3xl",children:[E&&y.jsx("div",{className:"absolute top-3 right-4",children:y.jsx(g2,{})}),y.jsxs(gh,{className:"flex flex-col gap-4",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(ii,{src:n==="dark"?yh:vh,className:"size-12 shrink-0",alt:"Alvo gif"}),y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("h2",{className:"text-xl font-bold",children:e("challenge.title")}),y.jsxs("p",{className:"text-sm",children:[e("challenge.find"),":"," ",v?y.jsx("span",{className:"text-muted-foreground animate-pulse font-semibold",children:"..."}):b||!N?y.jsx("span",{className:"text-muted-foreground font-semibold",children:""}):y.jsx("span",{className:"font-semibold text-emerald-600",children:N})]})]})]}),y.jsx("p",{className:"text-muted-foreground text-sm",children:e("challenge.missionDescription")}),y.jsxs("div",{className:"flex flex-col items-start gap-2 sm:flex-row sm:items-center",children:[y.jsx(b2,{selectedDate:c,onSelectDate:T}),C&&y.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-emerald-600 dark:text-emerald-400",children:[y.jsx(KP,{className:"size-3.5"}),e("challenge.alreadyCompleted")]})]}),y.jsx(Wt,{size:"lg",className:"bg-emerald-600 text-white hover:bg-emerald-700",onClick:k,disabled:v||b||!m,children:e(C?"challenge.play":"challenge.start")})]})]})},$w=async e=>{const{data:t,error:n}=await Dn.rpc("get_random_challenge_for_user",{p_user_id:e});if(n)return console.error("Error fetching random challenge:",n),null;if(!t||t.length===0)return null;const i=t[0];return{gbifKey:i.gbif_key,scientificName:i.scientific_name}},nre=()=>{const{t:e}=At(),t=Ei(),{theme:n}=Iu(),i=Le(st.isAuthenticated),s=Le(st.session),o=Dt(Qe.challenge),[l,c]=x.useState(!1),[d,h]=x.useState(!1),m=async()=>{if(!i){t({to:"/login"});return}const v=s?.user?.id;if(!v)return;c(!0),h(!1);const b=await $w(v);if(c(!1),!b){h(!0);return}o({mode:"RANDOM",status:"IN_PROGRESS",targetSpecies:b.scientificName,speciesKey:b.gbifKey})};return y.jsx(ph,{className:"max-w-3xl rounded-3xl",children:y.jsxs(gh,{className:"flex flex-col gap-4",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(ii,{src:n==="dark"?yh:vh,className:"size-12 shrink-0",alt:"Alvo gif"}),y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("h2",{className:"text-xl font-bold",children:e("challenge.randomTitle")}),y.jsxs("p",{className:"text-sm",children:[e("challenge.find"),":"," ",y.jsx("span",{className:"font-semibold text-violet-600",children:"????"})]})]})]}),y.jsx("p",{className:"text-muted-foreground text-sm",children:e("challenge.randomMissionDescription")}),d&&y.jsx("p",{className:"text-sm font-medium text-violet-600",children:e("challenge.randomNoChallenge")}),y.jsx(Wt,{size:"lg",className:"bg-violet-600 text-white hover:bg-violet-700",onClick:m,disabled:l,children:e("challenge.play")})]})})},x2=({correctPath:e,activeIndex:t,currentStep:n})=>{const{t:i}=At(),s=Le(Qe.expandedNodes),o=l=>{const c=s[l],d=e[l];return c?d&&c.name===d.name?"success":"error":"locked"};return e.length===0?null:y.jsxs("div",{className:"bg-accent/40 rounded-2xl p-4",children:[y.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[y.jsx("h3",{className:"text-sm font-semibold",children:i("challenge.taxonomicPath")}),y.jsxs("div",{children:[y.jsx("span",{className:"text-xl font-bold text-emerald-600 tabular-nums dark:text-emerald-400",children:n}),y.jsxs("span",{className:"text-muted-foreground text-sm font-medium",children:["/",e.length]})]})]}),y.jsx("div",{className:"grid grid-cols-2 gap-2",children:e.map((l,c)=>{const d=o(c),h=t===c,m=c===e.length-1;return y.jsxs(Rt.div,{layout:!0,animate:h?{scale:[1,1.015,1]}:d==="error"?{x:[-4,4,-3,3,0]}:{scale:1},transition:h?{duration:1.6,repeat:1/0,ease:"easeInOut"}:d==="error"?{duration:.3}:{type:"spring",stiffness:300,damping:20},className:Ye("flex items-center justify-between rounded-xl border p-3 transition-all",m&&"col-span-2",d==="success"&&"border-green-500/60 bg-green-500/10",d==="error"&&"border-red-400/60 bg-red-500/10",d==="locked"&&"border-dashed opacity-50",h&&"border-emerald-400 ring-2 ring-emerald-400/50 dark:border-emerald-500"),children:[y.jsxs("div",{className:"flex min-w-0 flex-col",children:[y.jsx("span",{className:"text-muted-foreground text-[10px] font-semibold tracking-wide uppercase",children:l.rank}),y.jsx("span",{className:Ye("mt-0.5 truncate text-xs font-medium",d==="success"&&"text-green-600 dark:text-green-400",d==="error"&&"text-red-500",h&&"text-emerald-600 dark:text-emerald-400",d==="locked"&&!h&&"text-muted-foreground"),children:h?i("challenge.selectInTree"):d==="locked"?"":s[c]?.name})]}),y.jsxs("div",{className:"ml-2 shrink-0",children:[d==="success"&&y.jsx(KP,{className:"size-4 text-green-500"}),d==="error"&&y.jsx(aO,{className:"size-4 text-red-500"}),d==="locked"&&!h&&y.jsx(O6,{className:"text-muted-foreground/40 size-3"})]})]},`${l.rank}-${c}`)})})]})},Hw=({correctSteps:e,errorIndex:t,totalSteps:n})=>y.jsx("div",{className:"mt-2 flex items-center gap-1",children:Array.from({length:n}).map((i,s)=>{const o=s<e,l=s===t,c=s===e&&t===null;return y.jsx(Rt.div,{className:Ye("h-1.5 flex-1 rounded-full",o?"bg-emerald-500":l?"bg-red-500":c?"bg-emerald-300 dark:bg-emerald-700":"bg-muted"),animate:l?{x:[-3,3,-2,2,0]}:c?{opacity:[.4,1,.4]}:{},transition:l?{duration:.3}:c?{duration:1.2,repeat:1/0,ease:"easeInOut"}:{}},s)})});function ire(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,sre(s,...t)]}function sre(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function rre(e){const t=ore(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(lre);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function ore(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=ure(s),c=cre(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var are=Symbol("radix.slottable");function lre(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===are}function cre(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function ure(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var dre=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qw=dre.reduce((e,t)=>{const n=rre(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),cv="Collapsible",[fre]=ire(cv),[hre,Gw]=fre(cv),_2=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:i,defaultOpen:s,disabled:o,onOpenChange:l,...c}=e,[d,h]=Do({prop:i,defaultProp:s??!1,onChange:l,caller:cv});return y.jsx(hre,{scope:n,disabled:o,contentId:_s(),open:d,onOpenToggle:x.useCallback(()=>h(m=>!m),[h]),children:y.jsx(qw.div,{"data-state":Ww(d),"data-disabled":o?"":void 0,...c,ref:t})})});_2.displayName=cv;var w2="CollapsibleTrigger",S2=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,...i}=e,s=Gw(w2,n);return y.jsx(qw.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Ww(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...i,ref:t,onClick:Ie(e.onClick,s.onOpenToggle)})});S2.displayName=w2;var Kw="CollapsibleContent",C2=x.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=Gw(Kw,e.__scopeCollapsible);return y.jsx(wr,{present:n||s.open,children:({present:o})=>y.jsx(mre,{...i,ref:t,present:o})})});C2.displayName=Kw;var mre=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:i,children:s,...o}=e,l=Gw(Kw,n),[c,d]=x.useState(i),h=x.useRef(null),m=Ct(t,h),v=x.useRef(0),b=v.current,_=x.useRef(0),C=_.current,E=l.open||c,T=x.useRef(E),k=x.useRef(void 0);return x.useEffect(()=>{const N=requestAnimationFrame(()=>T.current=!1);return()=>cancelAnimationFrame(N)},[]),Ln(()=>{const N=h.current;if(N){k.current=k.current||{transitionDuration:N.style.transitionDuration,animationName:N.style.animationName},N.style.transitionDuration="0s",N.style.animationName="none";const P=N.getBoundingClientRect();v.current=P.height,_.current=P.width,T.current||(N.style.transitionDuration=k.current.transitionDuration,N.style.animationName=k.current.animationName),d(i)}},[l.open,i]),y.jsx(qw.div,{"data-state":Ww(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!E,...o,ref:m,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":C?`${C}px`:void 0,...e.style},children:E&&s})});function Ww(e){return e?"open":"closed"}var up=_2,dp=S2,fp=C2;const pre=async e=>{if(e.length===0)return{};const{data:t,error:n}=await Dn.from("challenge_tips").select("canonical_name, hints").in("canonical_name",e);return n||!t?(console.error("Error fetching challenge tips:",n),{}):Object.fromEntries(t.map(i=>[i.canonical_name,i.hints]))},gre=e=>{const t=e.map(n=>n.name);return Ws({queryKey:[Va.challenge_tips_key,...t],queryFn:async()=>await pre(t),enabled:t.length>0,staleTime:1/0,gcTime:1e3*60*60*24})},vre=["pt","en","es"],yre=e=>Ws({queryKey:[Va.vernacular_names_key,e],queryFn:async()=>{const t=await kZ(e),n=new Set,i=t.filter(o=>{const l=`${o.language}::${o.vernacularName.toLowerCase()}`;return n.has(l)?!1:(n.add(l),!0)}),s=o=>{if(!o.language)return 1e3;const l=vre.indexOf(o.language);return l===-1?3:l};return i.sort((o,l)=>s(o)-s(l))},staleTime:1e3*60*60*24,gcTime:1e3*60*60*24*7,enabled:!!e}),bre={KINGDOM:"reino",SUBKINGDOM:"subreino",PHYLUM:"filo",SUBPHYLUM:"subfilo",SUPERCLASS:"superclasse",CLASS:"classe",SUBCLASS:"subclasse",SUPERORDER:"superordem",ORDER:"ordem",SUBORDER:"subordem",SUPERFAMILY:"superfamlia",FAMILY:"famlia",SUBFAMILY:"subfamlia",GENUS:"gnero",SUBGENUS:"subgnero",SPECIES:"espcie",SUBSPECIES:"subespcie"},xre=e=>bre[e]??e.toLowerCase().replace(/_/g," "),Yw=({speciesName:e,speciesKey:t,currentStep:n,errorIndex:i,correctPath:s,onInteraction:o})=>{const{t:l}=At(),{isTablet:c}=zo(),[d,h]=x.useState({}),[m,v]=x.useState(!1),[b,_]=x.useState(n),C=Le(Qe.nodes),E=Dt(KK),T=Dt(YK),k=Dt(GK),N=Dt(HK),P=Vte(),{data:O={}}=gre(s),{data:j}=Uo({specieKey:t}),{data:U,isLoading:z}=lh(t,j?.canonicalName),{data:I=[],isLoading:$}=yre(t),Z=s[b],K=Z?O[Z.name]??[]:[],W=d[b]===!0,X=()=>{h(Y=>({...Y,[b]:!0})),o?.(b,"answerRevealed")},se=3,ve=x.useRef(!1),G=x.useCallback((Y,de)=>{const ae=s[Y];if(!ae)return!1;const H=Y>0?s[Y-1].key:null,ie=H?de[H]?.childrenKeys??[]:[];let me;if(ie.length===0)me=[ae.key];else{const xe=ie.indexOf(ae.key);if(xe===-1)me=[ae.key,...ie.slice(0,se-1)];else{const Ce=Math.max(0,xe+se-ie.length),_e=Math.min(se-1,xe);if(_e<Ce)me=[...ie];else{const Se=Math.floor(Math.random()*(_e-Ce+1))+Ce,je=xe-Se;me=ie.slice(je,je+se)}}}return E(me),T(ae.key),k(ae.rank),ie.length>0},[s,E,T,k]),ee=Y=>{_(Y),ve.current=!1;const de=G(Y,C);ve.current=de,o?.(Y,"tipsViewed")};return x.useEffect(()=>{if(!m)return;_(n),ve.current=!1;const Y=G(n,C);ve.current=Y,o?.(n,"tipsViewed")},[n]),x.useEffect(()=>{if(!m||ve.current||!s[b])return;const de=b>0?s[b-1]?.key:null;!de||!C[de]?.childrenKeys?.length||(ve.current=!0,G(b,C))},[C]),y.jsxs(uD,{modal:!1,open:m,onOpenChange:Y=>{v(Y),c&&N(Y),Y?(_(n),ee(n)):(E([]),k(null),T(null))},children:[y.jsx(dD,{asChild:!0,children:y.jsxs("button",{className:Ye("bg-muted/50 flex w-full items-center justify-between rounded-xl border border-dashed px-3 py-2 text-xs transition-colors"),children:[y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx(eO,{className:Ye("size-3.5 text-amber-500",i!==null&&"fill-amber-300")}),y.jsx("span",{className:Ye(i!==null?"font-medium text-amber-700 dark:text-amber-400":"text-muted-foreground"),children:l(i!==null?"challenge.needHelp":"challenge.tips")})]}),y.jsx("span",{className:"text-muted-foreground/50 text-[10px]",children:""})]})}),y.jsx(fD,{children:y.jsx(hD,{asChild:!0,onInteractOutside:Y=>Y.preventDefault(),onPointerDownOutside:Y=>Y.preventDefault(),children:y.jsxs(Rt.div,{drag:!c,dragControls:P,dragListener:!1,dragMomentum:!1,dragElastic:0,initial:{opacity:0,y:-16},animate:{opacity:1,y:0},exit:{opacity:0,y:-16},transition:{duration:.25,ease:"easeOut"},className:"bg-background fixed top-2 left-1/2 z-50 w-[calc(100%-1rem)] max-w-md -translate-x-1/2 rounded-xl border p-4 shadow-lg",children:[c&&y.jsxs("div",{className:"mb-2.5 flex items-center gap-1.5 border-b pb-2.5",children:[y.jsx("span",{className:"text-muted-foreground shrink-0 text-[11px] font-semibold tracking-wide uppercase",children:"Alvo"}),y.jsx("span",{className:"truncate text-sm font-bold text-emerald-600 italic dark:text-green-400",children:e})]}),y.jsxs("header",{className:Ye("mb-2 flex items-center justify-between",!c&&"cursor-grab active:cursor-grabbing"),onPointerDown:c?void 0:Y=>P.start(Y),children:[y.jsxs("div",{className:"flex max-h-[45dvh] items-center gap-2 overflow-y-auto",children:[y.jsx("button",{onClick:()=>ee(b-1),disabled:b===0,className:"hover:bg-muted rounded p-1 disabled:opacity-30","aria-label":l("challenge.prevStep"),onPointerDown:Y=>Y.stopPropagation(),children:y.jsx(Fg,{className:"size-4"})}),y.jsxs(mD,{className:"flex items-center gap-2 text-sm font-semibold",children:[l("challenge.step")," ",b+1," ",l("challenge.of")," ",s.length]}),y.jsx("button",{onClick:()=>ee(b+1),disabled:b===n,className:"hover:bg-muted rounded p-1 disabled:opacity-30","aria-label":l("challenge.nextStep"),onPointerDown:Y=>Y.stopPropagation(),children:y.jsx(sc,{className:"size-4"})})]}),y.jsx(pD,{className:"hover:bg-muted rounded p-1",onPointerDown:Y=>Y.stopPropagation(),children:y.jsx(Ia,{className:"size-3.5"})})]}),K.length>0?y.jsx("div",{className:"bg-muted/40 mt-3 rounded-lg border p-3 text-sm",children:K.map((Y,de)=>y.jsxs("div",{className:"flex items-start gap-2",children:[y.jsx("span",{children:""}),y.jsx("span",{className:"flex-1",children:Y})]},de))}):y.jsx("div",{className:"bg-muted/40 text-muted-foreground mt-3 rounded-lg border p-3 text-sm",children:"Sem dicas disponveis para esta etapa."}),Z&&y.jsx("div",{className:"mt-4 rounded-lg border border-dashed p-3 text-sm",children:y.jsx(Ql,{mode:"wait",children:y.jsx(Rt.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"easeOut"},children:W?y.jsxs("p",{className:"text-foreground font-medium",children:[xre(Z.rank)," ",y.jsx("span",{className:"font-bold text-green-600",children:Z.name})]}):y.jsxs("button",{onClick:X,className:"flex items-center gap-2 text-amber-600 hover:underline",children:[y.jsx(M_,{className:"size-4"}),l("challenge.revealAnswer")]})},b)})}),y.jsxs(up,{className:"mt-3",children:[y.jsx(dp,{asChild:!0,children:y.jsxs("button",{className:"text-muted-foreground hover:bg-muted/50 flex w-full items-center justify-between rounded-md px-2 py-1 text-xs",children:[y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx(L_,{className:"size-3.5"}),"Mais informaes"]}),y.jsx(ka,{className:"size-3.5 opacity-60"})]})}),y.jsxs(fp,{className:"mt-1 space-y-1 overflow-hidden",children:[y.jsxs(up,{onOpenChange:Y=>{Y&&o?.(b,"namesExpanded")},children:[y.jsx(dp,{asChild:!0,children:y.jsxs("button",{className:"text-muted-foreground hover:bg-muted/50 flex w-full items-center justify-between rounded-md px-2 py-1 text-xs",children:[y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx(ZP,{className:"size-3.5"}),"Nomes populares"]}),y.jsx(ka,{className:"size-3.5 opacity-60"})]})}),y.jsx(fp,{className:"mt-2 overflow-hidden rounded-md border p-2",children:$?y.jsxs("div",{className:"space-y-1",children:[y.jsx(vs,{className:"h-4 w-full"}),y.jsx(vs,{className:"h-4 w-3/4"})]}):I.length===0?y.jsx("div",{className:"text-muted-foreground text-xs",children:"Nenhum nome popular encontrado."}):y.jsx("ul",{className:"space-y-1",children:I.map((Y,de)=>y.jsxs("li",{className:"flex items-center gap-2 text-xs",children:[y.jsx("span",{className:"bg-muted text-muted-foreground rounded px-1 py-0.5 font-mono text-[10px]",children:Y.language||""}),y.jsx("span",{children:Y.vernacularName})]},de))})})]}),y.jsxs(up,{onOpenChange:Y=>{Y&&o?.(b,"imageExpanded")},children:[y.jsx(dp,{asChild:!0,children:y.jsxs("button",{className:"text-muted-foreground hover:bg-muted/50 flex w-full items-center justify-between rounded-md px-2 py-1 text-xs",children:[y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx(JP,{className:"size-3.5"}),"Imagem da espcie"]}),y.jsx(ka,{className:"size-3.5 opacity-60"})]})}),y.jsx(fp,{className:"mt-2 overflow-hidden rounded-md border",children:z?y.jsx(vs,{className:"h-32 w-full"}):U?.imgUrl?y.jsx(ii,{src:U.imgUrl,alt:e,className:"h-32 w-full object-cover"}):y.jsx("div",{className:"text-muted-foreground flex h-32 items-center justify-center text-xs",children:"Imagem no disponvel"})})]}),y.jsxs(up,{children:[y.jsx(dp,{asChild:!0,children:y.jsxs("button",{className:"text-muted-foreground hover:bg-muted/50 flex w-full items-center justify-between rounded-md px-2 py-1 text-xs",children:[y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx(c6,{className:"size-3.5"}),l("challenge.howItWorks")]}),y.jsx(ka,{className:"size-3.5 opacity-60"})]})}),y.jsxs(fp,{className:"text-muted-foreground bg-muted/40 mt-2 rounded-md p-3 text-sm",children:["Expanda os grupos da rvore taxonmica seguindo o caminho correto at chegar  espcie"," ",y.jsx("span",{className:"font-semibold text-emerald-500",children:e}),"."]})]})]})]})]})})})]})},E2=({speciesName:e,speciesKey:t,correctSteps:n,isCompleted:i,onCancel:s,onNext:o,nextLoading:l,errorIndex:c,correctPath:d,errorCount:h=0,onInteraction:m})=>{const{t:v}=At(),{theme:b}=Iu(),_=d[n]?.rank;return y.jsx("div",{className:"px-2",children:y.jsxs(Rt.div,{className:"rounded-2xl border px-3 py-2.5 shadow-sm",children:[y.jsxs("div",{className:"flex items-center gap-2.5",children:[y.jsx(ii,{src:b==="dark"?yh:vh,className:"size-7 shrink-0",alt:"Alvo gif"}),y.jsx("p",{className:"min-w-0 flex-1 truncate text-sm",children:y.jsx("span",{className:"font-bold text-emerald-600 dark:text-green-400",children:e})}),y.jsxs("span",{className:"text-muted-foreground text-xs font-semibold tabular-nums",children:[n,"/",d.length]}),h>0&&y.jsxs("span",{className:"rounded-full bg-orange-100 px-1.5 py-0.5 text-[10px] font-bold text-orange-600 dark:bg-orange-950/50 dark:text-orange-400",children:[h,""]}),o&&y.jsx("button",{onClick:o,disabled:l,className:"text-muted-foreground/60 ml-1 rounded-full p-1 hover:bg-violet-100 hover:text-violet-600 disabled:opacity-50 dark:hover:bg-violet-950","aria-label":v("challenge.nextChallenge"),children:y.jsx(rO,{className:"size-3.5"})}),y.jsx("button",{onClick:s,className:Ye("rounded-full p-1 hover:bg-red-100 hover:text-red-500 dark:hover:bg-red-950",!o&&"ml-auto","text-muted-foreground/60"),"aria-label":v("challenge.cancel"),children:y.jsx(Ia,{className:"size-3.5"})})]}),!i&&d.length>0&&y.jsxs("div",{className:"space-y-1.5",children:[y.jsx(Hw,{correctSteps:n,errorIndex:c,totalSteps:d.length}),_&&y.jsxs("p",{className:"text-muted-foreground text-[10px] font-medium",children:[" ",_.toLowerCase().replace(/_/g," ")]}),y.jsx(Yw,{speciesName:e,speciesKey:t,currentStep:n,errorIndex:c,correctPath:d,onInteraction:m})]})]})})},A2=async({userId:e,gbifKey:t,mode:n})=>{const{data:i,error:s}=await Dn.from("user_challenge_history").upsert({user_id:e,gbif_key:t,mode:n},{onConflict:"user_id,gbif_key,mode",ignoreDuplicates:!0}).select();return s?(console.error("Error saving challenge result:",s),{wasNew:!1}):{wasNew:i!=null&&i.length>0}},T2=async({user:e,speciesName:t,mode:n})=>{const i=n==="DAILY"?"Desafio Dirio":"Desafio Aleatrio",s=`Encontrou a espcie ${t}`,l=[{title:i,description:s,date:new Date().toISOString()},...e.game_info.activities??[]],{data:c,error:d}=await Dn.from("users").update({game_info:{...e.game_info,activities:l}}).eq("id",e.id).select().single();return d?(console.error("Error saving challenge activity:",d),null):c},_re=e=>{if(e<60)return`${e}s`;const t=Math.floor(e/60),n=e%60;return`${t}m ${n.toString().padStart(2,"0")}s`},R2=({speciesName:e,onReplay:t,onNext:n,nextLabel:i,nextLoading:s=!1,children:o,elapsedSeconds:l,errorCount:c,totalSteps:d,correctPath:h,stepErrors:m=[],stepInteractions:v})=>{const{t:b}=At(),[_,C]=x.useState(null),E=c!==void 0&&d!==void 0&&d>0?Math.round(d/(d+c)*100):void 0,T=l!==void 0||c!==void 0,k=h&&h.length>0;return y.jsxs(Rt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.4,ease:"easeOut"},className:"bg-card mx-auto w-full max-w-lg rounded-2xl border p-5 text-center shadow-sm md:mt-5",children:[y.jsx(Rt.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.15,type:"spring",stiffness:200},className:"mx-auto mb-3 flex size-12 items-center justify-center rounded-full bg-emerald-500 md:size-16",children:y.jsx(nH,{className:"size-6 text-white md:size-8"})}),y.jsx("p",{className:"text-sm font-semibold text-emerald-600 md:text-lg dark:text-emerald-400",children:b("challenge.completed")}),y.jsx("p",{className:"mt-1 text-sm md:text-lg",children:y.jsx("strong",{children:e})}),k&&y.jsxs(Rt.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{delay:.25},className:"mt-4",children:[y.jsx("div",{className:"flex gap-1",children:h.map((N,P)=>{const j=(m[P]??0)===0,U=_===P;return y.jsx("button",{onClick:()=>C(U?null:P),"aria-pressed":U,className:Ye("h-4 min-w-3 flex-1 rounded-full transition-all",j?"bg-emerald-500":"bg-yellow-400 dark:bg-yellow-500",U?"ring-offset-card opacity-80 ring-2 ring-white/60 ring-offset-1":"hover:opacity-75")},P)})}),y.jsx(Ql,{mode:"wait",children:_!==null&&y.jsx(Rt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2,ease:"easeOut"},className:"overflow-hidden",children:y.jsxs("div",{className:"mt-2 rounded-xl border p-3 text-left text-xs",children:[y.jsx("p",{className:"text-muted-foreground mb-1 text-[10px] font-semibold tracking-wide uppercase",children:h[_].rank.toLowerCase().replace(/_/g," ")}),y.jsx("p",{className:"mb-2 text-sm font-semibold",children:h[_].name}),y.jsxs("div",{className:"text-muted-foreground flex flex-wrap gap-3",children:[y.jsx("span",{children:b("challenge.stepAttempts",{count:(m[_]??0)+1})}),(m[_]??0)>0&&y.jsx("span",{className:"text-orange-500",children:b("challenge.stepErrors",{count:m[_]})})]}),(()=>{const N=v?.[_];if(!N)return null;const P=[];return N.tipsViewed&&P.push({icon:eO,label:b("challenge.interactionTips")}),N.answerRevealed&&P.push({icon:M_,label:b("challenge.interactionRevealed")}),N.namesExpanded&&P.push({icon:ZP,label:b("challenge.interactionNames")}),N.imageExpanded&&P.push({icon:JP,label:b("challenge.interactionImage")}),P.length===0?null:y.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5 border-t pt-2",children:P.map(({icon:O,label:j},U)=>y.jsxs("span",{className:"bg-muted flex items-center gap-1 rounded-full px-2 py-0.5 text-[10px]",children:[y.jsx(O,{className:"size-2.5 text-amber-500"}),j]},U))})})()]})},_)})]}),T&&y.jsxs(Rt.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-4 flex divide-x overflow-hidden rounded-xl border",children:[l!==void 0&&y.jsxs("div",{className:"flex-1 px-3 py-2.5 text-center",children:[y.jsx("div",{className:"text-base font-bold tabular-nums",children:_re(l)}),y.jsx("div",{className:"text-muted-foreground text-[10px] tracking-wide uppercase",children:b("challenge.timeTaken")})]}),c!==void 0&&y.jsxs("div",{className:"flex-1 px-3 py-2.5 text-center",children:[y.jsx("div",{className:Ye("text-base font-bold tabular-nums",c===0?"text-emerald-600 dark:text-emerald-400":"text-orange-500"),children:c}),y.jsx("div",{className:"text-muted-foreground text-[10px] tracking-wide uppercase",children:b("challenge.errorsLabel")})]}),E!==void 0&&y.jsxs("div",{className:"flex-1 px-3 py-2.5 text-center",children:[y.jsxs("div",{className:Ye("text-base font-bold tabular-nums",E>=80?"text-emerald-600 dark:text-emerald-400":E>=50?"text-yellow-600 dark:text-yellow-400":"text-red-500"),children:[E,"%"]}),y.jsx("div",{className:"text-muted-foreground text-[10px] tracking-wide uppercase",children:b("challenge.accuracyLabel")})]})]}),y.jsxs(Rt.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-5 flex flex-col gap-2 sm:flex-row sm:justify-center",children:[y.jsxs(Wt,{variant:"outline",onClick:t,className:"gap-2",children:[y.jsx(q6,{className:"size-4"}),b("challenge.replay")]}),y.jsxs(Wt,{onClick:n,disabled:s,className:"gap-2 bg-emerald-600 hover:bg-emerald-700",children:[i,y.jsx(sc,{className:"size-4"})]})]}),o&&y.jsxs(Rt.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{delay:.55},className:"mt-5",children:[y.jsxs("div",{className:"relative flex items-center gap-3",children:[y.jsx("div",{className:"flex-1 border-t"}),y.jsx("span",{className:"text-muted-foreground shrink-0 text-xs",children:b("challenge.orPlayOtherDate")}),y.jsx("div",{className:"flex-1 border-t"})]}),y.jsx("div",{className:"mt-3",children:o})]})]})},wre=()=>new Date().toISOString().slice(0,10),Sre=()=>{const{t:e}=At(),t=Dt(Qe.challenge),n=Ei(),i=Le(Qe.expandedNodes),s=Dt(Qe.expandedNodes),o=Yg(),{isTablet:l}=zo(),{theme:c}=Iu(),d=Le(Qe.challenge),h=Le(st.session),[m,v]=Gs(st.userDb),b=wre(),_=d.targetSpecies??"",C=d.speciesKey??0,E=d.challengeDate??b,[T,k]=x.useState(E),{data:N,isLoading:P}=v2(T),[O,j]=x.useState(!1),{data:U}=Uo({specieKey:C}),{data:z}=sv(C,!!C),I=x.useMemo(()=>!z||!U?[]:rv(z,U.canonicalName??U.species??"",C),[z,U,C]),$=x.useMemo(()=>i.filter((ke,Oe)=>{const Ue=I[Oe];return Ue&&ke.name===Ue.name}).length,[i,I]),Z=I.length>0&&$===I.length,[K,W]=x.useState(()=>Date.now()),[X,se]=x.useState({count:0,perStep:[]}),[ve,G]=x.useState({}),[ee,Y]=x.useState(null),de=x.useRef(void 0);x.useEffect(()=>{if(I.length===0||i.length===0)return;const ke=i[i.length-1];if(!ke||ke.key===de.current)return;de.current=ke.key;const Oe=i.length-1,Ue=I[Oe];Ue&&ke.name!==Ue.name&&se(Xe=>{const ht=[...Xe.perStep];return ht[Oe]=(ht[Oe]??0)+1,{count:Xe.count+1,perStep:ht}})},[i,I]),x.useEffect(()=>{Z&&ee===null&&Y(Date.now())},[Z,ee]);const ae=ee?Math.floor((ee-K)/1e3):0;x.useEffect(()=>{if(!Z)return;t(Oe=>Oe.status==="COMPLETED"?Oe:{...Oe,status:"COMPLETED"});const ke=h?.user?.id;!ke||!C||!m||(async()=>{const{wasNew:Oe}=await A2({userId:ke,gbifKey:C,mode:"DAILY"});if(Oe){const Ue=await T2({user:m,speciesName:_,mode:"DAILY"});Ue&&v(Ue),o.invalidateQueries({queryKey:["challenge_dates"]})}})()},[Z,t,h,C,m,_,v,o]);const H=(ke,Oe)=>{G(Ue=>({...Ue,[ke]:{...Ue[ke],[Oe]:!0}}))},ie=()=>{s([]),n({to:"/",replace:!0})},me=()=>{t({status:"NOT_STARTED",mode:"UNSET"}),ie()},xe=()=>{ie(),W(Date.now()),se({count:0,perStep:[]}),G({}),Y(null),de.current=void 0,t(ke=>({...ke,status:"IN_PROGRESS"}))},Ce=async()=>{const ke=h?.user?.id;if(!ke)return;j(!0);const Oe=await $w(ke);j(!1),Oe&&(ie(),t({mode:"RANDOM",status:"IN_PROGRESS",targetSpecies:Oe.scientificName,speciesKey:Oe.gbifKey}))},_e=()=>{N&&(ie(),t({mode:"DAILY",status:"IN_PROGRESS",targetSpecies:N.scientificName,speciesKey:N.gbifKey,challengeDate:T}))},je=x.useMemo(()=>{const ke=i.length-1,Oe=i[ke],Ue=I[ke];return ke>=0&&Ue&&Oe?.name!==Ue.name},[i,I])?i.length-1:null;if(Z){const ke=T===E;return y.jsxs("div",{className:"flex flex-col gap-4 pb-10",children:[y.jsx(R2,{speciesName:_,onReplay:xe,onNext:Ce,nextLabel:e("challenge.nextRandom"),nextLoading:O,elapsedSeconds:ae,errorCount:X.count,totalSteps:I.length,correctPath:I,stepErrors:X.perStep,stepInteractions:ve,children:y.jsxs("div",{className:"flex w-full items-center justify-center gap-3",children:[y.jsx(b2,{selectedDate:T,onSelectDate:k}),!ke&&y.jsx(Wt,{size:"sm",className:"shrink-0 bg-emerald-600 hover:bg-emerald-700",onClick:_e,disabled:P||!N,children:e("challenge.play")})]})}),y.jsx(Hu,{embedded:!0})]})}return l?y.jsx(E2,{speciesName:_,speciesKey:C,correctSteps:$,isCompleted:Z,onCancel:me,errorIndex:je,correctPath:I,errorCount:X.count,onInteraction:H}):y.jsx("div",{className:"mt-22 md:mt-0 md:px-4 md:py-6",children:y.jsxs(ph,{className:"relative mx-auto rounded-3xl",children:[E===b&&y.jsx("div",{className:"absolute top-3 right-4",children:y.jsx(g2,{})}),y.jsxs(gh,{className:"flex flex-col gap-4 pt-5",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(ii,{src:c==="dark"?yh:vh,className:"size-12 shrink-0",alt:"Alvo gif"}),y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("h2",{className:"text-xl font-bold",children:e("challenge.title")}),y.jsxs("p",{className:"truncate text-sm",children:[e("challenge.find"),":"," ",y.jsx("span",{className:"font-semibold text-emerald-600",children:_})]})]})]}),I.length===0?y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx(vs,{className:"h-6 w-1/3 rounded-lg"}),y.jsx("div",{className:"grid grid-cols-2 gap-2",children:Array.from({length:6}).map((ke,Oe)=>y.jsx(vs,{className:"h-14 rounded-xl"},Oe))})]}):y.jsxs(y.Fragment,{children:[y.jsx(Hw,{correctSteps:$,errorIndex:je,totalSteps:I.length}),y.jsx(Yw,{speciesName:_,speciesKey:C,currentStep:$,errorIndex:je,correctPath:I,onInteraction:H}),y.jsx(x2,{currentStep:$,correctPath:I,activeIndex:i.length})]}),!Z&&y.jsx("div",{className:"-mx-6 flex justify-end border-t px-8 pt-4",children:y.jsx(Wt,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-destructive text-xs",onClick:me,children:e("challenge.cancel")})})]})]})})},Cre=()=>{const{t:e}=At(),t=Ei(),n=Dt(Qe.challenge),i=Le(Qe.expandedNodes),s=Dt(Qe.expandedNodes),{isTablet:o}=zo(),{theme:l}=Iu(),c=Le(Qe.challenge),d=Le(st.session),[h,m]=Gs(st.userDb),v=c.targetSpecies??"",b=c.speciesKey??0,{data:_}=Uo({specieKey:b}),{data:C}=sv(b,!!b),E=x.useMemo(()=>!C||!_?[]:rv(C,_.canonicalName??_.species??"",b),[C,_,b]),T=x.useMemo(()=>i.filter((H,ie)=>{const me=E[ie];return me&&H.name===me.name}).length,[i,E]),k=E.length>0&&T===E.length,[N,P]=x.useState(()=>Date.now()),[O,j]=x.useState({count:0,perStep:[]}),[U,z]=x.useState({}),[I,$]=x.useState(null),Z=x.useRef(void 0);x.useEffect(()=>{if(E.length===0||i.length===0)return;const H=i[i.length-1];if(!H||H.key===Z.current)return;Z.current=H.key;const ie=i.length-1,me=E[ie];me&&H.name!==me.name&&j(xe=>{const Ce=[...xe.perStep];return Ce[ie]=(Ce[ie]??0)+1,{count:xe.count+1,perStep:Ce}})},[i,E]),x.useEffect(()=>{k&&I===null&&$(Date.now())},[k,I]);const K=I?Math.floor((I-N)/1e3):0;x.useEffect(()=>{if(!k)return;n(ie=>ie.status==="COMPLETED"?ie:{...ie,status:"COMPLETED"});const H=d?.user?.id;!H||!b||!h||(async()=>{const{wasNew:ie}=await A2({userId:H,gbifKey:b,mode:"RANDOM"});if(ie){const me=await T2({user:h,speciesName:v,mode:"RANDOM"});me&&m(me)}})()},[k,n,d,b,h,v,m]);const W=(H,ie)=>{z(me=>({...me,[H]:{...me[H],[ie]:!0}}))},[X,se]=x.useState(!1),ve=()=>{s([]),t({to:"/",replace:!0})},G=()=>{n({status:"NOT_STARTED",mode:"UNSET"}),ve()},ee=()=>{ve(),P(Date.now()),j({count:0,perStep:[]}),z({}),$(null),Z.current=void 0,n(H=>({...H,status:"IN_PROGRESS"}))},Y=async()=>{const H=d?.user?.id;if(!H)return;se(!0);const ie=await $w(H);se(!1),ie&&(ve(),n({mode:"RANDOM",status:"IN_PROGRESS",targetSpecies:ie.scientificName,speciesKey:ie.gbifKey}))},ae=x.useMemo(()=>{const H=i.length-1,ie=i[H],me=E[H];return H>=0&&me&&ie?.name!==me.name},[i,E])?i.length-1:null;return k?y.jsxs("div",{className:"flex flex-col gap-4 pb-10",children:[y.jsx(R2,{speciesName:v,onReplay:ee,onNext:Y,nextLabel:e("challenge.nextChallenge"),nextLoading:X,elapsedSeconds:K,errorCount:O.count,totalSteps:E.length,correctPath:E,stepErrors:O.perStep,stepInteractions:U}),y.jsx(Hu,{embedded:!0})]}):o?y.jsx(E2,{speciesName:v,speciesKey:b,correctSteps:T,isCompleted:k,onCancel:G,onNext:Y,nextLoading:X,errorIndex:ae,correctPath:E,errorCount:O.count,onInteraction:W}):y.jsx("div",{className:"mt-22 md:mt-0 md:px-4 md:py-6",children:y.jsx(Ql,{mode:"wait",initial:!1,children:y.jsx(Rt.div,{initial:{opacity:0,x:28},animate:{opacity:1,x:0},exit:{opacity:0,x:-28},transition:{duration:.22,ease:"easeOut"},children:y.jsx(ph,{className:"mx-auto rounded-3xl",children:y.jsxs(gh,{className:"flex flex-col gap-4 pt-5",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(ii,{src:l==="dark"?yh:vh,className:"size-12 shrink-0",alt:"Alvo gif"}),y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("h2",{className:"text-xl font-bold",children:e("challenge.randomTitle")}),y.jsxs("p",{className:"truncate text-sm",children:[e("challenge.find"),":"," ",y.jsx("span",{className:"font-semibold text-violet-600",children:v})]})]})]}),E.length===0?y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx(vs,{className:"h-6 w-1/3 rounded-lg"}),y.jsx("div",{className:"grid grid-cols-2 gap-2",children:Array.from({length:6}).map((H,ie)=>y.jsx(vs,{className:"h-14 rounded-xl"},ie))})]}):y.jsxs(y.Fragment,{children:[y.jsx(Hw,{correctSteps:T,errorIndex:ae,totalSteps:E.length}),y.jsx(Yw,{speciesName:v,speciesKey:b,currentStep:T,errorIndex:ae,correctPath:E,onInteraction:W}),y.jsx(x2,{correctPath:E,activeIndex:i.length,currentStep:T})]}),!k&&y.jsxs(Gse,{className:"-mx-6 flex flex-wrap justify-between border-t px-8 pt-4",children:[y.jsx(Wt,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-destructive text-xs",onClick:G,children:e("challenge.cancel")}),y.jsxs(Wt,{className:"gap-2 bg-violet-600 text-white hover:bg-violet-700",onClick:Y,disabled:X,children:[y.jsx(rO,{className:"size-4"}),e("challenge.nextChallenge")]})]})]})})},b||"loading")})})},Ere=e=>{const t=x.useRef(e);t.current=e,x.useEffect(()=>{const n=new Date;n.setHours(24,0,0,0);const i=n.getTime()-Date.now(),s=setTimeout(()=>t.current(),i);return()=>clearTimeout(s)},[])},aN=()=>new Date().toDateString(),N2=()=>{const e=Le(Qe.challenge),t=Yg(),[n,i]=x.useState(aN);return Ere(()=>{t.invalidateQueries({queryKey:["challenge_dates"]}),i(aN())}),e.mode==="DAILY"&&e.status!=="NOT_STARTED"?y.jsx(Sre,{}):e.mode==="DAILY"?y.jsx(Ql,{mode:"wait",initial:!1,children:y.jsx(Rt.div,{initial:{opacity:0,x:28},animate:{opacity:1,x:0},exit:{opacity:0,x:-28},transition:{duration:.22,ease:"easeOut"},children:y.jsx(oN,{})},n)}):e.mode==="RANDOM"?y.jsx(Cre,{}):y.jsxs("div",{className:"flex flex-col gap-6 md:p-8",children:[y.jsx(Ql,{mode:"wait",initial:!1,children:y.jsx(Rt.div,{initial:{opacity:0,x:28},animate:{opacity:1,x:0},exit:{opacity:0,x:-28},transition:{duration:.22,ease:"easeOut"},children:y.jsx(oN,{})},n)}),y.jsx(nre,{})]})},Are=80,Tre=()=>{hie(),Use(),Vse();const e=x.useRef(null),t=Le(Qe.nodes),n=Le(Qe.rootKeys),i=Le(Qe.challenge).mode,s=Le(Qe.challengeTipsOpen),o=Le(Qe.scrollToRank),l=x.useRef(null),c=Le(Qe.scrollToNodeKey),d=x.useRef(null),{isTablet:h}=zo(),{flattened:m,rowVirtualizer:v,connectors:b}=Aie(t,n,e);return x.useEffect(()=>{if(!o||o===l.current)return;l.current=o;const _=m.findIndex(C=>t[C.key]?.rank===o);_!==-1&&v.scrollToIndex(_,{align:"center",behavior:"smooth"})},[o,m,t,v]),x.useEffect(()=>{if(!c||c===d.current)return;d.current=c;const _=m.findIndex(C=>C.key===c);_!==-1&&v.scrollToIndex(_,{align:"center",behavior:"smooth"})},[c,m,v]),Fse(m,v),y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"mb-4 px-4",children:[i&&h&&y.jsx(N2,{}),!i&&y.jsx(Dse,{})]}),y.jsx("div",{ref:e,className:Ye("h-[calc(100dvh-144px)] w-full overflow-auto px-4 pb-28 transition-[padding-top] duration-200",i&&!h&&"h-[calc(100dvh-130px)]",i==="UNSET"&&"pointer-events-none opacity-40"),style:{WebkitOverflowScrolling:"touch",paddingTop:h&&i&&s?Are:void 0},children:y.jsxs("ul",{style:{height:v.getTotalSize()},className:"relative w-full",children:[y.jsx(Tie,{connectors:b,totalHeight:v.getTotalSize()}),v.getVirtualItems().map(_=>{const C=m[_.index];return y.jsx("li",{className:"absolute top-0 left-0 w-full",style:{transform:`translateY(${_.start}px)`},children:C.isEmptyInfo?y.jsx(fie,{parentNodeKey:C.parentNodeKey,level:C.level}):y.jsx(die,{nodeKey:C.key,level:C.level})},C.key)})]})})]})};function Rre(){const e=Ei(),t=F3(),n=Dt(VK),i=Le(Qe.nodes),s=x.useRef(i),o=x.useRef([]),l=x.useRef([]),c=x.useRef(""),d=x.useRef(!0);x.useEffect(()=>{s.current=i},[i]);const h=()=>{if(d.current||o.current.length===0)return;const m=o.current[0],v=s.current[m];if(!v)return;const b={key:v.key,rank:v.rank,name:v.rank==="KINGDOM"?Di(Nu[v.key]):v.canonicalName||v.scientificName||""},_=[...l.current,b],C=o.current.slice(1);l.current=_,o.current=C,C.length===0&&(d.current=!0),n(_),C.length>0&&h()};x.useEffect(()=>{d.current||h()},[i]),x.useEffect(()=>{const m=t.pathname;if(m===c.current)return;c.current=m;const b=m.replace("/treevera","").split("/").filter(Boolean);if(b[0]!=="tree"){o.current=[],l.current=[],d.current=!0,n([]);return}const _=b.slice(1);if(_.length===0){o.current=[],l.current=[],d.current=!0,n([]);return}const C=_.map(Number);if(C.some(isNaN)){console.warn(" URL com keys invalidas:",_),e({to:"/",replace:!0});return}o.current=C,l.current=[],d.current=!1,h()},[t.pathname])}const k2=()=>{const{data:e,isLoading:t,isError:n}=pne(),i=Dt(Qe.mergeNodes),s=Dt(Qe.rootKeys);return Rre(),x.useEffect(()=>{e&&e.length>0&&(i(e.map(o=>({...o}))),s(e.map(o=>o.key)))},[e,i,s]),t?y.jsx(d0,{type:"loading"}):n?y.jsx(d0,{type:"error"}):!e||e.length===0?y.jsx(d0,{type:"empty"}):y.jsx(Tre,{})};function P2(){const{isTablet:e}=zo();return x.useCallback(t=>{if(!e||window.scrollY===0){t();return}window.scrollTo({top:0,behavior:"smooth"});let n=!1;const i=()=>{n||(n=!0,t())};window.addEventListener("scrollend",i,{once:!0}),setTimeout(i,450)},[e])}const Nre=({bgImg:e,alt:t,onClick:n,children:i})=>y.jsxs("div",{className:Ye("relative min-h-screen w-full overflow-hidden bg-black pl-2 md:pl-8",n&&"cursor-pointer"),onClick:n,children:[y.jsx("img",{src:e,alt:t,className:"animate-fade-in absolute inset-0 h-full w-full object-cover"},e),y.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-black/85 via-black/50 to-black/10"}),y.jsx("div",{className:"absolute inset-0 bg-linear-to-t from-black/60 via-transparent to-black/20"}),i]}),kre=({kingdomLabel:e,kingdomName:t,primaryColor:n})=>y.jsxs("div",{className:"absolute top-8 flex items-center gap-3",children:[y.jsx("div",{className:"h-5 w-0.5 rounded-full",style:{backgroundColor:n}}),y.jsxs("span",{className:"text-xs font-semibold tracking-[0.2em] text-white/70 uppercase",children:[e," ",t.toUpperCase()]})]}),Pre=({total:e,currentIndex:t,primaryColor:n,stopPropagation:i=!1,isPaused:s,onPrev:o,onNext:l,onDotClick:c,onTogglePause:d})=>{const h=m=>{i&&m.stopPropagation()};return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"absolute bottom-10 flex items-center gap-2",children:Array.from({length:e}).map((m,v)=>y.jsx("button",{onClick:b=>{h(b),c(v)},className:"h-0.5 rounded-full transition-all duration-300",style:{width:v===t?28:12,backgroundColor:v===t?n:"rgba(255,255,255,0.3)"}},v))}),y.jsxs("div",{className:"absolute right-8 bottom-7 flex items-center gap-3",onClick:h,children:[y.jsx("button",{onClick:o,className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/10 text-white/60 transition hover:bg-white/20",children:y.jsx(Fg,{className:"size-5"})}),y.jsx("button",{onClick:d,className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/10 text-white/60 transition hover:bg-white/20",children:s?y.jsx(V6,{className:"size-4"}):y.jsx(B6,{className:"size-4"})}),y.jsx("button",{onClick:l,className:"flex h-10 w-10 items-center justify-center rounded-full text-black transition",style:{backgroundColor:n},children:y.jsx(sc,{className:"size-5"})})]})]})},O2=({bgImg:e,alt:t,onCardClick:n,kingdomLabel:i,kingdomName:s,primaryColor:o,slideKey:l,badge:c,title:d,description:h,mainGroupsLabel:m,mainGroups:v,extra:b,total:_,currentIndex:C,isPaused:E,stopPropagation:T,onPrev:k,onNext:N,onDotClick:P,onTogglePause:O})=>y.jsxs(Nre,{bgImg:e,alt:t,onClick:n,children:[y.jsx(kre,{kingdomLabel:i,kingdomName:s,primaryColor:o}),y.jsxs("div",{className:"animate-slide-up absolute bottom-32 max-w-xl space-y-5",children:[y.jsx("span",{className:"inline-block rounded-full px-3 py-1 text-xs font-semibold tracking-widest text-white uppercase",style:{backgroundColor:o},children:c}),y.jsx("h1",{className:"text-4xl leading-none font-black tracking-tight text-white sm:text-5xl md:text-7xl",children:d}),y.jsx("p",{className:"max-w-sm pr-2 text-sm leading-relaxed text-white/65",children:h}),y.jsxs("div",{className:"space-y-1",children:[y.jsxs("p",{className:"text-[10px] font-medium tracking-widest text-white/45 uppercase",children:[m,":"]}),y.jsx("div",{className:"flex flex-wrap gap-3 pt-1",children:v.map(({groupName:j,onClick:U},z)=>U?y.jsx("button",{onClick:U,className:"rounded-lg border border-white/10 bg-white/10 px-3 py-2 text-left backdrop-blur-sm transition hover:bg-white/20",children:y.jsx("p",{className:"mt-0.5 text-sm font-semibold",style:{color:o},children:j})},z):y.jsx("div",{className:"rounded-lg border border-white/10 bg-white/10 px-3 py-2 backdrop-blur-sm",children:y.jsx("p",{className:"mt-0.5 text-sm font-semibold",style:{color:o},children:j})},z))})]}),b]},l),y.jsx(Pre,{total:_,currentIndex:C,primaryColor:o,isPaused:E,stopPropagation:T,onPrev:k,onNext:N,onDotClick:P,onTogglePause:O})]}),Ore={KINGDOM:"Reino",PHYLUM:"Filo",CLASS:"Classe",ORDER:"Ordem",FAMILY:"Famlia",GENUS:"Gnero",SPECIES:"Espcie"},Mre=()=>{const{t:e}=At(),t=Le(Qe.exploreInfos),n=Le(st.userDb),i=Le(Qe.expandedNodes),{navigateToNodes:s}=mh(),o=P2(),[l,c]=x.useState(0),[d,h]=x.useState(!1),m=t.find(O=>O.kingdomKey===i[0]?.key),v=i[i.length-1]?.rank,b=x.useMemo(()=>m?v==="KINGDOM"?m.kingdomName:i[i.length-1]?.name??Di(v):"",[i,m,v]),_=x.useMemo(()=>{if(!m)return[];const O=i[0].key;return i.length===1?W1.KINGDOM[O]??[]:W1[v]?.[O]??[]},[i,m,v]),C=_.length;x.useEffect(()=>{if(!C||d)return;const O=setTimeout(()=>c(j=>(j+1)%C),8e3);return()=>clearTimeout(O)},[l,C,d]);const E=x.useMemo(()=>m?NK(m.kingdomName.toLowerCase()):[],[m]),T=x.useMemo(()=>{if(!n?.game_info?.shortcuts)return null;const O=m?.kingdomName.toLocaleLowerCase();return n.game_info.shortcuts[O]},[m?.kingdomName,n]);if(!m||!_.length)return null;const k=E[l%E.length],N=Ore[v]??Di(v),P=T&&y.jsxs("div",{className:"space-y-1",children:[y.jsxs("p",{className:"text-[10px] font-medium tracking-widest text-white/45 uppercase",children:["Seus ",e("shortcuts.title"),":"]}),y.jsx("div",{className:"flex flex-wrap gap-2",children:T.filter(({nodes:O})=>O[0].key===m.kingdomKey).map(({name:O,nodes:j},U)=>y.jsxs("button",{onClick:()=>o(()=>s(j,!0)),className:"flex items-center gap-1.5 rounded-full border border-white/15 bg-white/10 px-3 py-1.5 text-xs font-medium text-white/70 backdrop-blur-sm transition hover:bg-white/20",children:[y.jsx(iO,{className:"size-3 scale-x-[-1]"}),O]},U))})]});return y.jsx(O2,{bgImg:k,alt:m.kingdomName,kingdomLabel:e("explore.kingdom"),kingdomName:m.kingdomName,primaryColor:m.primaryColor,slideKey:l,badge:N,title:b,description:_[l],mainGroupsLabel:e("explore.mainGroups"),mainGroups:m.mainGroups.slice(0,3).map(O=>({groupName:O.groupName,onClick:()=>o(()=>s(O.pathNode))})),extra:P,total:C,currentIndex:l,isPaused:d,onPrev:()=>c(O=>(O-1+C)%C),onNext:()=>c(O=>(O+1)%C),onDotClick:c,onTogglePause:()=>h(O=>!O)})},M2=()=>{const{t:e}=At(),t=Le(Qe.challenge).mode,n=Le(Qe.exploreInfos),i=Le(Qe.expandedNodes),{toggleNode:s}=mh(),o=P2(),[l,c]=x.useState(0),[d,h]=x.useState(!1),m=n.length;if(x.useEffect(()=>{if(d)return;const b=setTimeout(()=>c(_=>(_+1)%m),8e3);return()=>clearTimeout(b)},[l,m,d]),!t&&i.length)return y.jsx(Mre,{});const v=n[l];return y.jsx(O2,{bgImg:v.bgImg,alt:v.kingdomName,onCardClick:()=>o(()=>s(v.kingdomKey)),kingdomLabel:e("explore.kingdom"),kingdomName:v.kingdomName,primaryColor:v.primaryColor,slideKey:l,badge:e("explore.kingdom"),title:v.kingdomName,description:v.description,mainGroupsLabel:e("explore.mainGroups"),mainGroups:v.mainGroups.slice(0,3).map(b=>({groupName:b.groupName})),total:m,currentIndex:l,isPaused:d,stopPropagation:!0,onPrev:()=>c(b=>(b-1+m)%m),onNext:()=>c(b=>(b+1)%m),onDotClick:c,onTogglePause:()=>h(b=>!b)})},Dre=()=>{const e=Le(Qe.expandedNodes),t=Le(Qe.challenge),n=e.find(i=>i.rank==="SPECIES");return y.jsxs("div",{className:"flex flex-col",children:[y.jsx(vD,{}),!t.mode&&n?y.jsx(Hu,{}):y.jsxs(y.Fragment,{children:[y.jsx(k2,{}),!t.mode&&y.jsx(M2,{})]})]})};function Lre(e,t){const n=getComputedStyle(e),i=parseFloat(n.fontSize);return t*i}function jre(e,t){const n=getComputedStyle(e.ownerDocument.body),i=parseFloat(n.fontSize);return t*i}function Ire(e){return e/100*window.innerHeight}function zre(e){return e/100*window.innerWidth}function Bre(e){switch(typeof e){case"number":return[e,"px"];case"string":{const t=parseFloat(e);return e.endsWith("%")?[t,"%"]:e.endsWith("px")?[t,"px"]:e.endsWith("rem")?[t,"rem"]:e.endsWith("em")?[t,"em"]:e.endsWith("vh")?[t,"vh"]:e.endsWith("vw")?[t,"vw"]:[t,"%"]}}}function hp({groupSize:e,panelElement:t,styleProp:n}){let i;const[s,o]=Bre(n);switch(o){case"%":{i=s/100*e;break}case"px":{i=s;break}case"rem":{i=jre(t,s);break}case"em":{i=Lre(t,s);break}case"vh":{i=Ire(s);break}case"vw":{i=zre(s);break}}return i}function pr(e){return parseFloat(e.toFixed(3))}function Ou({group:e}){const{orientation:t,panels:n}=e;return n.reduce((i,s)=>(i+=t==="horizontal"?s.element.offsetWidth:s.element.offsetHeight,i),0)}function Hx(e){const{panels:t}=e,n=Ou({group:e});return n===0?t.map(i=>({collapsedSize:0,collapsible:i.panelConstraints.collapsible===!0,defaultSize:void 0,disabled:i.panelConstraints.disabled,minSize:0,maxSize:100,panelId:i.id})):t.map(i=>{const{element:s,panelConstraints:o}=i;let l=0;if(o.collapsedSize!==void 0){const m=hp({groupSize:n,panelElement:s,styleProp:o.collapsedSize});l=pr(m/n*100)}let c;if(o.defaultSize!==void 0){const m=hp({groupSize:n,panelElement:s,styleProp:o.defaultSize});c=pr(m/n*100)}let d=0;if(o.minSize!==void 0){const m=hp({groupSize:n,panelElement:s,styleProp:o.minSize});d=pr(m/n*100)}let h=100;if(o.maxSize!==void 0){const m=hp({groupSize:n,panelElement:s,styleProp:o.maxSize});h=pr(m/n*100)}return{collapsedSize:l,collapsible:o.collapsible===!0,defaultSize:c,disabled:o.disabled,minSize:d,maxSize:h,panelId:i.id}})}function $t(e,t="Assertion error"){if(!e)throw Error(t)}function qx(e,t){return Array.from(t).sort(e==="horizontal"?Ure:Fre)}function Ure(e,t){const n=e.element.offsetLeft-t.element.offsetLeft;return n!==0?n:e.element.offsetWidth-t.element.offsetWidth}function Fre(e,t){const n=e.element.offsetTop-t.element.offsetTop;return n!==0?n:e.element.offsetHeight-t.element.offsetHeight}function D2(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}function L2(e,t){return{x:e.x>=t.left&&e.x<=t.right?0:Math.min(Math.abs(e.x-t.left),Math.abs(e.x-t.right)),y:e.y>=t.top&&e.y<=t.bottom?0:Math.min(Math.abs(e.y-t.top),Math.abs(e.y-t.bottom))}}function Vre({orientation:e,rects:t,targetRect:n}){const i={x:n.x+n.width/2,y:n.y+n.height/2};let s,o=Number.MAX_VALUE;for(const l of t){const{x:c,y:d}=L2(i,l),h=e==="horizontal"?c:d;h<o&&(o=h,s=l)}return $t(s,"No rect found"),s}let mp;function $re(){return mp===void 0&&(typeof matchMedia=="function"?mp=!!matchMedia("(pointer:coarse)").matches:mp=!1),mp}function j2(e){const{element:t,orientation:n,panels:i,separators:s}=e,o=qx(n,Array.from(t.children).filter(D2).map(C=>({element:C}))).map(({element:C})=>C),l=[];let c=!1,d=!1,h=-1,m=-1,v=0,b,_=[];{let C=-1;for(const E of o)E.hasAttribute("data-panel")&&(C++,E.ariaDisabled===null&&(v++,h===-1&&(h=C),m=C))}if(v>1){let C=-1;for(const E of o)if(E.hasAttribute("data-panel")){C++;const T=i.find(k=>k.element===E);if(T){if(b){const k=b.element.getBoundingClientRect(),N=E.getBoundingClientRect();let P;if(d){const O=n==="horizontal"?new DOMRect(k.right,k.top,0,k.height):new DOMRect(k.left,k.bottom,k.width,0),j=n==="horizontal"?new DOMRect(N.left,N.top,0,N.height):new DOMRect(N.left,N.top,N.width,0);switch(_.length){case 0:{P=[O,j];break}case 1:{const U=_[0],z=Vre({orientation:n,rects:[k,N],targetRect:U.element.getBoundingClientRect()});P=[U,z===k?j:O];break}default:{P=_;break}}}else _.length?P=_:P=[n==="horizontal"?new DOMRect(k.right,N.top,N.left-k.right,N.height):new DOMRect(N.left,k.bottom,N.width,N.top-k.bottom)];for(const O of P){let j="width"in O?O:O.element.getBoundingClientRect();const U=$re()?e.resizeTargetMinimumSize.coarse:e.resizeTargetMinimumSize.fine;if(j.width<U){const I=U-j.width;j=new DOMRect(j.x-I/2,j.y,j.width+I,j.height)}if(j.height<U){const I=U-j.height;j=new DOMRect(j.x,j.y-I/2,j.width,j.height+I)}const z=C<=h||C>m;!c&&!z&&l.push({group:e,groupSize:Ou({group:e}),panels:[b,T],separator:"width"in O?void 0:O,rect:j}),c=!1}}d=!1,b=T,_=[]}}else if(E.hasAttribute("data-separator")){E.ariaDisabled!==null&&(c=!0);const T=s.find(k=>k.element===E);T?_.push(T):(b=void 0,_=[])}else d=!0}return l}class Hre{#e={};addListener(t,n){const i=this.#e[t];return i===void 0?this.#e[t]=[n]:i.includes(n)||i.push(n),()=>{this.removeListener(t,n)}}emit(t,n){const i=this.#e[t];if(i!==void 0)if(i.length===1)i[0].call(null,n);else{let s=!1,o=null;const l=Array.from(i);for(let c=0;c<l.length;c++){const d=l[c];try{d.call(null,n)}catch(h){o===null&&(s=!0,o=h)}}if(s)throw o}}removeAllListeners(){this.#e={}}removeListener(t,n){const i=this.#e[t];if(i!==void 0){const s=i.indexOf(n);s>=0&&i.splice(s,1)}}}function Mi(e,t,n=0){return Math.abs(pr(e)-pr(t))<=n}let Is={cursorFlags:0,interactionState:{state:"inactive"},mountedGroups:new Map};const Oo=new Hre;function Ii(){return Is}function zi(e){const t=typeof e=="function"?e(Is):e;if(Is===t)return Is;const n=Is;return Is={...Is,...t},t.cursorFlags!==void 0&&Oo.emit("cursorFlagsChange",Is.cursorFlags),t.interactionState!==void 0&&Oo.emit("interactionStateChange",Is.interactionState),t.mountedGroups!==void 0&&(Is.mountedGroups.forEach((i,s)=>{i.derivedPanelConstraints.forEach(o=>{if(o.collapsible){const{layout:l}=n.mountedGroups.get(s)??{};if(l){const c=Mi(o.collapsedSize,i.layout[o.panelId]),d=Mi(o.collapsedSize,l[o.panelId]);c&&!d&&(s.inMemoryLastExpandedPanelSizes[o.panelId]=l[o.panelId])}}})}),Oo.emit("mountedGroupsChange",Is.mountedGroups)),Is}function qre(e,t,n){let i,s={x:1/0,y:1/0};for(const o of t){const l=L2(n,o.rect);switch(e){case"horizontal":{l.x<=s.x&&(i=o,s=l);break}case"vertical":{l.y<=s.y&&(i=o,s=l);break}}}return i?{distance:s,hitRegion:i}:void 0}function Gre(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}function Kre(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:uN(e),b:uN(t)};let i;for(;n.a.at(-1)===n.b.at(-1);)i=n.a.pop(),n.b.pop();$t(i,"Stacking order can only be calculated for elements with a common ancestor");const s={a:cN(lN(n.a)),b:cN(lN(n.b))};if(s.a===s.b){const o=i.childNodes,l={a:n.a.at(-1),b:n.b.at(-1)};let c=o.length;for(;c--;){const d=o[c];if(d===l.a)return 1;if(d===l.b)return-1}}return Math.sign(s.a-s.b)}const Wre=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Yre(e){const t=getComputedStyle(I2(e)??e).display;return t==="flex"||t==="inline-flex"}function Zre(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||Yre(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||Wre.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function lN(e){let t=e.length;for(;t--;){const n=e[t];if($t(n,"Missing node"),Zre(n))return n}return null}function cN(e){return e&&Number(getComputedStyle(e).zIndex)||0}function uN(e){const t=[];for(;e;)t.push(e),e=I2(e);return t}function I2(e){const{parentNode:t}=e;return Gre(t)?t.host:t}function Xre(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function Qre({groupElement:e,hitRegion:t,pointerEventTarget:n}){if(!D2(n)||n.contains(e)||e.contains(n))return!0;if(Kre(n,e)>0){let i=n;for(;i;){if(i.contains(e))return!0;if(Xre(i.getBoundingClientRect(),t))return!1;i=i.parentElement}}return!0}function Zw(e,t){const n=[];return t.forEach((i,s)=>{if(s.disabled)return;const o=j2(s),l=qre(s.orientation,o,{x:e.clientX,y:e.clientY});l&&l.distance.x<=0&&l.distance.y<=0&&Qre({groupElement:s.element,hitRegion:l.hitRegion.rect,pointerEventTarget:e.target})&&n.push(l.hitRegion)}),n}function Jre(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function $r(e,t){return Mi(e,t)?0:e>t?1:-1}function vu({overrideDisabledPanels:e,panelConstraints:t,prevSize:n,size:i}){const{collapsedSize:s=0,collapsible:o,disabled:l,maxSize:c=100,minSize:d=0}=t;if(l&&!e)return n;if($r(i,d)<0)if(o){const h=(s+d)/2;$r(i,h)<0?i=s:i=d}else i=d;return i=Math.min(c,i),i=pr(i),i}function $f({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:i,prevLayout:s,trigger:o}){if(Mi(e,0))return t;const l=o==="imperative-api",c=Object.values(t),d=Object.values(s),h=[...c],[m,v]=i;$t(m!=null,"Invalid first pivot index"),$t(v!=null,"Invalid second pivot index");let b=0;switch(o){case"keyboard":{{const E=e<0?v:m,T=n[E];$t(T,`Panel constraints not found for index ${E}`);const{collapsedSize:k=0,collapsible:N,minSize:P=0}=T;if(N){const O=c[E];if($t(O!=null,`Previous layout not found for panel index ${E}`),Mi(O,k)){const j=P-O;$r(j,Math.abs(e))>0&&(e=e<0?0-j:j)}}}{const E=e<0?m:v,T=n[E];$t(T,`No panel constraints found for index ${E}`);const{collapsedSize:k=0,collapsible:N,minSize:P=0}=T;if(N){const O=c[E];if($t(O!=null,`Previous layout not found for panel index ${E}`),Mi(O,P)){const j=O-k;$r(j,Math.abs(e))>0&&(e=e<0?0-j:j)}}}break}default:{const E=e<0?v:m,T=n[E];$t(T,`Panel constraints not found for index ${E}`);const k=c[E],{collapsible:N,collapsedSize:P,minSize:O}=T;if(N&&$r(k,O)<0)if(e>0){const j=O-P,U=j/2,z=k+e;$r(z,O)<0&&(e=$r(e,U)<=0?0:j)}else{const j=O-P,U=100-j/2,z=k-e;$r(z,O)<0&&(e=$r(100+e,U)>0?0:-j)}break}}{const E=e<0?1:-1;let T=e<0?v:m,k=0;for(;;){const P=c[T];$t(P!=null,`Previous layout not found for panel index ${T}`);const O=vu({overrideDisabledPanels:l,panelConstraints:n[T],prevSize:P,size:100})-P;if(k+=O,T+=E,T<0||T>=n.length)break}const N=Math.min(Math.abs(e),Math.abs(k));e=e<0?0-N:N}{let E=e<0?m:v;for(;E>=0&&E<n.length;){const T=Math.abs(e)-Math.abs(b),k=c[E];$t(k!=null,`Previous layout not found for panel index ${E}`);const N=k-T,P=vu({overrideDisabledPanels:l,panelConstraints:n[E],prevSize:k,size:N});if(!Mi(k,P)&&(b+=k-P,h[E]=P,b.toFixed(3).localeCompare(Math.abs(e).toFixed(3),void 0,{numeric:!0})>=0))break;e<0?E--:E++}}if(Jre(d,h))return s;{const E=e<0?v:m,T=c[E];$t(T!=null,`Previous layout not found for panel index ${E}`);const k=T+b,N=vu({overrideDisabledPanels:l,panelConstraints:n[E],prevSize:T,size:k});if(h[E]=N,!Mi(N,k)){let P=k-N,O=e<0?v:m;for(;O>=0&&O<n.length;){const j=h[O];$t(j!=null,`Previous layout not found for panel index ${O}`);const U=j+P,z=vu({overrideDisabledPanels:l,panelConstraints:n[O],prevSize:j,size:U});if(Mi(j,z)||(P-=z-j,h[O]=z),Mi(P,0))break;e>0?O--:O++}}}const _=Object.values(h).reduce((E,T)=>T+E,0);if(!Mi(_,100,.1))return s;const C=Object.keys(s);return h.reduce((E,T,k)=>(E[C[k]]=T,E),{})}function tc(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(t[n]===void 0||$r(e[n],t[n])!==0)return!1;return!0}function nc({layout:e,panelConstraints:t}){const n=Object.values(e),i=[...n],s=i.reduce((c,d)=>c+d,0);if(i.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${i.map(c=>`${c}%`).join(", ")}`);if(!Mi(s,100)&&i.length>0)for(let c=0;c<t.length;c++){const d=i[c];$t(d!=null,`No layout data found for index ${c}`);const h=100/s*d;i[c]=h}let o=0;for(let c=0;c<t.length;c++){const d=n[c];$t(d!=null,`No layout data found for index ${c}`);const h=i[c];$t(h!=null,`No layout data found for index ${c}`);const m=vu({overrideDisabledPanels:!0,panelConstraints:t[c],prevSize:d,size:h});h!=m&&(o+=h-m,i[c]=m)}if(!Mi(o,0))for(let c=0;c<t.length;c++){const d=i[c];$t(d!=null,`No layout data found for index ${c}`);const h=d+o,m=vu({overrideDisabledPanels:!0,panelConstraints:t[c],prevSize:d,size:h});if(d!==m&&(o-=m-d,i[c]=m,Mi(o,0)))break}const l=Object.keys(e);return i.reduce((c,d,h)=>(c[l[h]]=d,c),{})}function z2({groupId:e,panelId:t}){const n=()=>{const{mountedGroups:c}=Ii();for(const[d,{defaultLayoutDeferred:h,derivedPanelConstraints:m,layout:v,separatorToPanels:b}]of c)if(d.id===e)return{defaultLayoutDeferred:h,derivedPanelConstraints:m,group:d,layout:v,separatorToPanels:b};throw Error(`Group ${e} not found`)},i=()=>{const c=n().derivedPanelConstraints.find(d=>d.panelId===t);if(c!==void 0)return c;throw Error(`Panel constraints not found for Panel ${t}`)},s=()=>{const c=n().group.panels.find(d=>d.id===t);if(c!==void 0)return c;throw Error(`Layout not found for Panel ${t}`)},o=()=>{const c=n().layout[t];if(c!==void 0)return c;throw Error(`Layout not found for Panel ${t}`)},l=c=>{const d=o();if(c===d)return;const{defaultLayoutDeferred:h,derivedPanelConstraints:m,group:v,layout:b,separatorToPanels:_}=n(),C=v.panels.findIndex(N=>N.id===t),E=C===v.panels.length-1,T=$f({delta:E?d-c:c-d,initialLayout:b,panelConstraints:m,pivotIndices:E?[C-1,C]:[C,C+1],prevLayout:b,trigger:"imperative-api"}),k=nc({layout:T,panelConstraints:m});tc(b,k)||zi(N=>({mountedGroups:new Map(N.mountedGroups).set(v,{defaultLayoutDeferred:h,derivedPanelConstraints:m,layout:k,separatorToPanels:_})}))};return{collapse:()=>{const{collapsible:c,collapsedSize:d}=i(),{mutableValues:h}=s(),m=o();c&&m!==d&&(h.expandToSize=m,l(d))},expand:()=>{const{collapsible:c,collapsedSize:d,minSize:h}=i(),{mutableValues:m}=s(),v=o();if(c&&v===d){let b=m.expandToSize??h;b===0&&(b=1),l(b)}},getSize:()=>{const{group:c}=n(),d=o(),{element:h}=s(),m=c.orientation==="horizontal"?h.offsetWidth:h.offsetHeight;return{asPercentage:d,inPixels:m}},isCollapsed:()=>{const{collapsible:c,collapsedSize:d}=i(),h=o();return c&&Mi(d,h)},resize:c=>{if(o()!==c){let d;switch(typeof c){case"number":{const{group:h}=n(),m=Ou({group:h});d=pr(c/m*100);break}case"string":{d=parseFloat(c);break}}l(d)}}}}function dN(e){if(e.defaultPrevented)return;const{mountedGroups:t}=Ii();Zw(e,t).forEach(n=>{if(n.separator){const i=n.panels.find(s=>s.panelConstraints.defaultSize!==void 0);if(i){const s=i.panelConstraints.defaultSize,o=z2({groupId:n.group.id,panelId:i.id});o&&s!==void 0&&(o.resize(s),e.preventDefault())}}})}function Op(e){const{mountedGroups:t}=Ii();for(const[n]of t)if(n.separators.some(i=>i.element===e))return n;throw Error("Could not find parent Group for separator element")}function B2({groupId:e}){const t=()=>{const{mountedGroups:n}=Ii();for(const[i,s]of n)if(i.id===e)return{group:i,...s};throw Error(`Could not find Group with id "${e}"`)};return{getLayout(){const{defaultLayoutDeferred:n,layout:i}=t();return n?{}:i},setLayout(n){const{defaultLayoutDeferred:i,derivedPanelConstraints:s,group:o,layout:l,separatorToPanels:c}=t(),d=nc({layout:n,panelConstraints:s});return i?l:(tc(l,d)||zi(h=>({mountedGroups:new Map(h.mountedGroups).set(o,{defaultLayoutDeferred:i,derivedPanelConstraints:s,layout:d,separatorToPanels:c})})),d)}}}function U2(e){const{mountedGroups:t}=Ii(),n=t.get(e);return $t(n,`Mounted Group ${e.id} not found`),n}function Ol(e,t){const n=Op(e),i=U2(n),s=n.separators.find(m=>m.element===e);$t(s,"Matching separator not found");const o=i.separatorToPanels.get(s);$t(o,"Matching panels not found");const l=o.map(m=>n.panels.indexOf(m)),c=B2({groupId:n.id}).getLayout(),d=$f({delta:t,initialLayout:c,panelConstraints:i.derivedPanelConstraints,pivotIndices:l,prevLayout:c,trigger:"keyboard"}),h=nc({layout:d,panelConstraints:i.derivedPanelConstraints});tc(c,h)||zi(m=>({mountedGroups:new Map(m.mountedGroups).set(n,{defaultLayoutDeferred:i.defaultLayoutDeferred,derivedPanelConstraints:i.derivedPanelConstraints,layout:h,separatorToPanels:i.separatorToPanels})}))}function fN(e){if(e.defaultPrevented)return;const t=e.currentTarget,n=Op(t);if(!n.disabled)switch(e.key){case"ArrowDown":{e.preventDefault(),n.orientation==="vertical"&&Ol(t,5);break}case"ArrowLeft":{e.preventDefault(),n.orientation==="horizontal"&&Ol(t,-5);break}case"ArrowRight":{e.preventDefault(),n.orientation==="horizontal"&&Ol(t,5);break}case"ArrowUp":{e.preventDefault(),n.orientation==="vertical"&&Ol(t,-5);break}case"End":{e.preventDefault(),Ol(t,100);break}case"Enter":{e.preventDefault();const i=Op(t),{derivedPanelConstraints:s,layout:o,separatorToPanels:l}=U2(i),c=i.separators.find(v=>v.element===t);$t(c,"Matching separator not found");const d=l.get(c);$t(d,"Matching panels not found");const h=d[0],m=s.find(v=>v.panelId===h.id);if($t(m,"Panel metadata not found"),m.collapsible){const v=o[h.id],b=m.collapsedSize===v?i.inMemoryLastExpandedPanelSizes[h.id]??m.minSize:m.collapsedSize;Ol(t,b-v)}break}case"F6":{e.preventDefault();const i=Op(t).separators.map(l=>l.element),s=Array.from(i).findIndex(l=>l===e.currentTarget);$t(s!==null,"Index not found");const o=e.shiftKey?s>0?s-1:i.length-1:s+1<i.length?s+1:0;i[o].focus();break}case"Home":{e.preventDefault(),Ol(t,-100);break}}}function hN(e){if(e.defaultPrevented||e.pointerType==="mouse"&&e.button>0)return;const{mountedGroups:t}=Ii(),n=Zw(e,t),i=new Map;let s=!1;n.forEach(o=>{o.separator&&(s||(s=!0,o.separator.element.focus()));const l=t.get(o.group);l&&i.set(o.group,l.layout)}),zi({interactionState:{hitRegions:n,initialLayoutMap:i,pointerDownAtPoint:{x:e.clientX,y:e.clientY},state:"active"}}),n.length&&e.preventDefault()}const eoe=e=>e,h0=()=>{},F2=1,V2=2,$2=4,H2=8,mN=3,pN=12;let pp;function gN(){return pp===void 0&&(pp=!1,typeof window<"u"&&(window.navigator.userAgent.includes("Chrome")||window.navigator.userAgent.includes("Firefox"))&&(pp=!0)),pp}function toe({cursorFlags:e,groups:t,state:n}){let i=0,s=0;switch(n){case"active":case"hover":t.forEach(o=>{if(!o.disableCursor)switch(o.orientation){case"horizontal":{i++;break}case"vertical":{s++;break}}})}if(!(i===0&&s===0)){switch(n){case"active":{if(e&&gN()){const o=(e&F2)!==0,l=(e&V2)!==0,c=(e&$2)!==0,d=(e&H2)!==0;if(o)return c?"se-resize":d?"ne-resize":"e-resize";if(l)return c?"sw-resize":d?"nw-resize":"w-resize";if(c)return"s-resize";if(d)return"n-resize"}break}}return gN()?i>0&&s>0?"move":i>0?"ew-resize":"ns-resize":i>0&&s>0?"grab":i>0?"col-resize":"row-resize"}}const vN=new WeakMap;function Xw(e){if(e.defaultView===null||e.defaultView===void 0)return;let{prevStyle:t,styleSheet:n}=vN.get(e)??{};n===void 0&&(n=new e.defaultView.CSSStyleSheet,e.adoptedStyleSheets&&e.adoptedStyleSheets.push(n));const{cursorFlags:i,interactionState:s}=Ii();switch(s.state){case"active":case"hover":{const o=toe({cursorFlags:i,groups:s.hitRegions.map(c=>c.group),state:s.state}),l=`*, *:hover {cursor: ${o} !important; }`;if(t===l)return;t=l,o?n.cssRules.length===0?n.insertRule(l):n.replaceSync(l):n.cssRules.length===1&&n.deleteRule(0);break}case"inactive":{t=void 0,n.cssRules.length===1&&n.deleteRule(0);break}}vN.set(e,{prevStyle:t,styleSheet:n})}function q2({document:e,event:t,hitRegions:n,initialLayoutMap:i,mountedGroups:s,pointerDownAtPoint:o,prevCursorFlags:l}){let c=0;const d=new Map(s);n.forEach(m=>{const{group:v,groupSize:b}=m,{disableCursor:_,orientation:C,panels:E}=v;let T=0;o?C==="horizontal"?T=(t.clientX-o.x)/b*100:T=(t.clientY-o.y)/b*100:C==="horizontal"?T=t.clientX<0?-100:100:T=t.clientY<0?-100:100;const k=i.get(v),{defaultLayoutDeferred:N,derivedPanelConstraints:P,layout:O,separatorToPanels:j}=s.get(v)??{defaultLayoutDeferred:!1};if(P&&k&&O&&j){const U=$f({delta:T,initialLayout:k,panelConstraints:P,pivotIndices:m.panels.map(z=>E.indexOf(z)),prevLayout:O,trigger:"mouse-or-touch"});if(tc(U,O)){if(T!==0&&!_)switch(C){case"horizontal":{c|=T<0?F2:V2;break}case"vertical":{c|=T<0?$2:H2;break}}}else d.set(m.group,{defaultLayoutDeferred:N,derivedPanelConstraints:P,layout:U,separatorToPanels:j})}});let h=0;t.movementX===0?h|=l&mN:h|=c&mN,t.movementY===0?h|=l&pN:h|=c&pN,zi({cursorFlags:h,mountedGroups:d}),Xw(e)}function yN(e){const{cursorFlags:t,interactionState:n,mountedGroups:i}=Ii();n.state==="active"&&q2({document:e.currentTarget,event:e,hitRegions:n.hitRegions,initialLayoutMap:n.initialLayoutMap,mountedGroups:i,prevCursorFlags:t})}function bN(e){if(e.defaultPrevented)return;const{cursorFlags:t,interactionState:n,mountedGroups:i}=Ii();switch(n.state){case"active":{if(e.buttons===0){zi(s=>s.interactionState.state==="inactive"?s:{cursorFlags:0,interactionState:{state:"inactive"}}),zi(s=>({mountedGroups:new Map(s.mountedGroups)}));return}q2({document:e.currentTarget,event:e,hitRegions:n.hitRegions,initialLayoutMap:n.initialLayoutMap,mountedGroups:i,pointerDownAtPoint:n.pointerDownAtPoint,prevCursorFlags:t});break}default:{const s=Zw(e,i);s.length===0?n.state!=="inactive"&&zi({interactionState:{state:"inactive"}}):zi({interactionState:{hitRegions:s,state:"hover"}}),Xw(e.currentTarget);break}}}function xN(e){if(e.relatedTarget instanceof HTMLIFrameElement){const{interactionState:t}=Ii();t.state==="hover"&&zi({interactionState:{state:"inactive"}})}}function _N(e){if(e.defaultPrevented||e.pointerType==="mouse"&&e.button>0)return;const{interactionState:t}=Ii();t.state==="active"&&(zi({cursorFlags:0,interactionState:{state:"inactive"}}),t.hitRegions.length>0&&(Xw(e.currentTarget),zi(n=>({mountedGroups:new Map(n.mountedGroups)})),e.preventDefault()))}function wN(e){let t=0,n=0;const i={};for(const o of e)if(o.defaultSize!==void 0){t++;const l=pr(o.defaultSize);n+=l,i[o.panelId]=l}else i[o.panelId]=void 0;const s=e.length-t;if(s!==0){const o=pr((100-n)/s);for(const l of e)l.defaultSize===void 0&&(i[l.panelId]=o)}return i}function noe(e,t,n){if(!n[0])return;const i=e.panels.find(d=>d.element===t);if(!i||!i.onResize)return;const s=Ou({group:e}),o=e.orientation==="horizontal"?i.element.offsetWidth:i.element.offsetHeight,l=i.mutableValues.prevSize,c={asPercentage:pr(o/s*100),inPixels:o};i.mutableValues.prevSize=c,i.onResize(c,i.id,l)}function ioe(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function soe(e,t){const n=e.map(s=>s.id),i=Object.keys(t);if(n.length!==i.length)return!1;for(const s of n)if(!i.includes(s))return!1;return!0}const ru=new Map;function roe(e){let t=!0;$t(e.element.ownerDocument.defaultView,"Cannot register an unmounted Group");const n=e.element.ownerDocument.defaultView.ResizeObserver,i=new Set,s=new Set,o=new n(C=>{for(const E of C){const{borderBoxSize:T,target:k}=E;if(k===e.element){if(t){if(Ou({group:e})===0)return;zi(N=>{const P=N.mountedGroups.get(e);if(P){const O=Hx(e),j=P.defaultLayoutDeferred?wN(O):P.layout,U=nc({layout:j,panelConstraints:O});return!P.defaultLayoutDeferred&&tc(j,U)&&ioe(P.derivedPanelConstraints,O)?N:{mountedGroups:new Map(N.mountedGroups).set(e,{defaultLayoutDeferred:!1,derivedPanelConstraints:O,layout:U,separatorToPanels:P.separatorToPanels})}}return N})}}else noe(e,k,T)}});o.observe(e.element),e.panels.forEach(C=>{$t(!i.has(C.id),`Panel ids must be unique; id "${C.id}" was used more than once`),i.add(C.id),C.onResize&&o.observe(C.element)});const l=Ou({group:e}),c=Hx(e),d=e.panels.map(({id:C})=>C).join(",");let h=e.defaultLayout;h&&(soe(e.panels,h)||(h=void 0));const m=e.inMemoryLayouts[d]??h??wN(c),v=nc({layout:m,panelConstraints:c}),b=j2(e),_=e.element.ownerDocument;return zi(C=>{const E=new Map;return ru.set(_,(ru.get(_)??0)+1),b.forEach(T=>{T.separator&&E.set(T.separator,T.panels)}),{mountedGroups:new Map(C.mountedGroups).set(e,{defaultLayoutDeferred:l===0,derivedPanelConstraints:c,layout:v,separatorToPanels:E})}}),e.separators.forEach(C=>{$t(!s.has(C.id),`Separator ids must be unique; id "${C.id}" was used more than once`),s.add(C.id),C.element.addEventListener("keydown",fN)}),ru.get(_)===1&&(_.addEventListener("dblclick",dN,!0),_.addEventListener("pointerdown",hN,!0),_.addEventListener("pointerleave",yN),_.addEventListener("pointermove",bN),_.addEventListener("pointerout",xN),_.addEventListener("pointerup",_N,!0)),function(){t=!1,ru.set(_,Math.max(0,(ru.get(_)??0)-1)),zi(C=>{const E=new Map(C.mountedGroups);return E.delete(e),{mountedGroups:E}}),e.separators.forEach(C=>{C.element.removeEventListener("keydown",fN)}),ru.get(_)||(_.removeEventListener("dblclick",dN,!0),_.removeEventListener("pointerdown",hN,!0),_.removeEventListener("pointerleave",yN),_.removeEventListener("pointermove",bN),_.removeEventListener("pointerout",xN),_.removeEventListener("pointerup",_N,!0)),o.disconnect()}}function ooe(){const[e,t]=x.useState({}),n=x.useCallback(()=>t({}),[]);return[e,n]}function Qw(e){const t=x.useId();return`${e??t}`}const oc=typeof window<"u"?x.useLayoutEffect:x.useEffect;function yf(e){const t=x.useRef(e);return oc(()=>{t.current=e},[e]),x.useCallback((...n)=>t.current?.(...n),[t])}function Jw(...e){return yf(t=>{e.forEach(n=>{if(n)switch(typeof n){case"function":{n(t);break}case"object":{n.current=t;break}}})})}function eS(e){const t=x.useRef({...e});return oc(()=>{for(const n in e)t.current[n]=e[n]},[e]),t.current}const G2=x.createContext(null);function aoe(e,t){const n=x.useRef({getLayout:()=>({}),setLayout:eoe});x.useImperativeHandle(t,()=>n.current,[]),oc(()=>{Object.assign(n.current,B2({groupId:e}))})}function K2({children:e,className:t,defaultLayout:n,disableCursor:i,disabled:s,elementRef:o,groupRef:l,id:c,onLayoutChange:d,onLayoutChanged:h,orientation:m="horizontal",resizeTargetMinimumSize:v={coarse:20,fine:10},style:b,..._}){const C=x.useRef({onLayoutChange:{},onLayoutChanged:{}}),E=yf(K=>{tc(C.current.onLayoutChange,K)||(C.current.onLayoutChange=K,d?.(K))}),T=yf(K=>{tc(C.current.onLayoutChanged,K)||(C.current.onLayoutChanged=K,h?.(K))}),k=Qw(c),N=x.useRef(null),[P,O]=ooe(),j=x.useRef({lastExpandedPanelSizes:{},layouts:{},panels:[],resizeTargetMinimumSize:v,separators:[]}),U=Jw(N,o);aoe(k,l);const z=yf((K,W)=>{const{interactionState:X,mountedGroups:se}=Ii();for(const ve of se.keys())if(ve.id===K){const G=se.get(ve);if(G){let ee=!1;return X.state==="active"&&(ee=X.hitRegions.some(Y=>Y.group===ve)),{flexGrow:G.layout[W]??1,pointerEvents:ee?"none":void 0}}}return{flexGrow:n?.[W]??1}}),I=eS({defaultLayout:n,disableCursor:i}),$=x.useMemo(()=>({get disableCursor(){return!!I.disableCursor},getPanelStyles:z,id:k,orientation:m,registerPanel:K=>{const W=j.current;return W.panels=qx(m,[...W.panels,K]),O(),()=>{W.panels=W.panels.filter(X=>X!==K),O()}},registerSeparator:K=>{const W=j.current;return W.separators=qx(m,[...W.separators,K]),O(),()=>{W.separators=W.separators.filter(X=>X!==K),O()}},togglePanelDisabled:(K,W)=>{const X=j.current.panels.find(ve=>ve.id===K);X&&(X.panelConstraints.disabled=W);const{mountedGroups:se}=Ii();for(const ve of se.keys())if(ve.id===k){const G=se.get(ve);G&&(G.derivedPanelConstraints=Hx(ve))}},toggleSeparatorDisabled:(K,W)=>{const X=j.current.separators.find(se=>se.id===K);X&&(X.disabled=W)}}),[z,k,O,m,I]),Z=x.useRef(null);return oc(()=>{const K=N.current;if(K===null)return;const W=j.current;let X;if(I.defaultLayout!==void 0&&Object.keys(I.defaultLayout).length===W.panels.length){X={};for(const de of W.panels){const ae=I.defaultLayout[de.id];ae!==void 0&&(X[de.id]=ae)}}const se={defaultLayout:X,disableCursor:!!I.disableCursor,disabled:!!s,element:K,id:k,inMemoryLastExpandedPanelSizes:j.current.lastExpandedPanelSizes,inMemoryLayouts:j.current.layouts,orientation:m,panels:W.panels,resizeTargetMinimumSize:W.resizeTargetMinimumSize,separators:W.separators};Z.current=se;const ve=roe(se),G=Ii().mountedGroups.get(se);if(G){const{defaultLayoutDeferred:de,derivedPanelConstraints:ae,layout:H}=G;!de&&ae.length>0&&(E(H),T(H))}const ee=Oo.addListener("interactionStateChange",de=>{de.state}),Y=Oo.addListener("mountedGroupsChange",de=>{const ae=de.get(se);if(ae){const{defaultLayoutDeferred:H,derivedPanelConstraints:ie,layout:me}=ae;if(H||ie.length===0)return;const xe=se.panels.map(({id:Se})=>Se).join(",");se.inMemoryLayouts[xe]=me;const{interactionState:Ce}=Ii(),_e=Ce.state!=="active";E(me),_e&&T(me)}});return()=>{Z.current=null,ve(),ee(),Y()}},[s,k,T,E,m,P,I]),x.useEffect(()=>{const K=Z.current;K&&(K.defaultLayout=n,K.disableCursor=!!i)}),y.jsx(G2.Provider,{value:$,children:y.jsx("div",{..._,className:t,"data-group":!0,"data-testid":k,id:k,ref:U,style:{height:"100%",width:"100%",overflow:"hidden",...b,display:"flex",flexDirection:m==="horizontal"?"row":"column",flexWrap:"nowrap",touchAction:m==="horizontal"?"pan-y":"pan-x"},children:e})})}K2.displayName="Group";function tS(){const e=x.useContext(G2);return $t(e,"Group Context not found; did you render a Panel or Separator outside of a Group?"),e}function loe(e,t){const{id:n}=tS(),i=x.useRef({collapse:h0,expand:h0,getSize:()=>({asPercentage:0,inPixels:0}),isCollapsed:()=>!1,resize:h0});x.useImperativeHandle(t,()=>i.current,[]),oc(()=>{Object.assign(i.current,z2({groupId:n,panelId:e}))})}function W2({children:e,className:t,collapsedSize:n="0%",collapsible:i=!1,defaultSize:s,disabled:o,elementRef:l,id:c,maxSize:d="100%",minSize:h="0%",onResize:m,panelRef:v,style:b,..._}){const C=!!c,E=Qw(c),T=eS({disabled:o}),k=x.useRef(null),N=Jw(k,l),{getPanelStyles:P,id:O,orientation:j,registerPanel:U,togglePanelDisabled:z}=tS(),I=m!==null,$=yf((K,W,X)=>{m?.(K,c,X)});oc(()=>{const K=k.current;if(K!==null){const W={element:K,id:E,idIsStable:C,mutableValues:{expandToSize:void 0,prevSize:void 0},onResize:I?$:void 0,panelConstraints:{collapsedSize:n,collapsible:i,defaultSize:s,disabled:T.disabled,maxSize:d,minSize:h}};return U(W)}},[n,i,s,I,E,C,d,h,$,U,T]),x.useEffect(()=>{z(E,!!o)},[o,E,z]),loe(E,v);const Z=x.useSyncExternalStore(K=>(Oo.addListener("mountedGroupsChange",K),()=>{Oo.removeListener("mountedGroupsChange",K)}),()=>JSON.stringify(P(O,E)),()=>JSON.stringify(P(O,E)));return y.jsx("div",{..._,"aria-disabled":o||void 0,"data-panel":!0,"data-testid":E,id:E,ref:N,style:{...coe,display:"flex",flexBasis:0,flexShrink:1,overflow:"hidden",...JSON.parse(Z)},children:y.jsx("div",{className:t,style:{maxHeight:"100%",maxWidth:"100%",flexGrow:1,...b,touchAction:j==="horizontal"?"pan-y":"pan-x"},children:e})})}W2.displayName="Panel";const coe={minHeight:0,maxHeight:"100%",height:"auto",minWidth:0,maxWidth:"100%",width:"auto",border:"none",borderWidth:0,padding:0,margin:0};function uoe({layout:e,panelConstraints:t,panelId:n,panelIndex:i}){let s,o;const l=e[n],c=t.find(d=>d.panelId===n);if(c){const d=c.maxSize,h=c.collapsible?c.collapsedSize:c.minSize,m=[i,i+1];o=nc({layout:$f({delta:h-l,initialLayout:e,panelConstraints:t,pivotIndices:m,prevLayout:e}),panelConstraints:t})[n],s=nc({layout:$f({delta:d-l,initialLayout:e,panelConstraints:t,pivotIndices:m,prevLayout:e}),panelConstraints:t})[n]}return{valueControls:n,valueMax:s,valueMin:o,valueNow:l}}function Y2({children:e,className:t,disabled:n,elementRef:i,id:s,style:o,...l}){const c=Qw(s),d=eS({disabled:n}),[h,m]=x.useState({}),[v,b]=x.useState("inactive"),_=x.useRef(null),C=Jw(_,i),{disableCursor:E,id:T,orientation:k,registerSeparator:N,toggleSeparatorDisabled:P}=tS(),O=k==="horizontal"?"vertical":"horizontal";oc(()=>{const U=_.current;if(U!==null){const z={disabled:d.disabled,element:U,id:c},I=N(z),$=Oo.addListener("interactionStateChange",K=>{b(K.state!=="inactive"&&K.hitRegions.some(W=>W.separator===z)?K.state:"inactive")}),Z=Oo.addListener("mountedGroupsChange",K=>{K.forEach(({derivedPanelConstraints:W,layout:X,separatorToPanels:se},ve)=>{if(ve.id===T){const G=se.get(z);if(G){const ee=G[0],Y=ve.panels.indexOf(ee);m(uoe({layout:X,panelConstraints:W,panelId:ee.id,panelIndex:Y}))}}})});return()=>{$(),Z(),I()}}},[T,c,N,d]),x.useEffect(()=>{P(c,!!n)},[n,c,P]);let j;return n&&!E&&(j="not-allowed"),y.jsx("div",{...l,"aria-controls":h.valueControls,"aria-disabled":n||void 0,"aria-orientation":O,"aria-valuemax":h.valueMax,"aria-valuemin":h.valueMin,"aria-valuenow":h.valueNow,children:e,className:t,"data-separator":n?"disabled":v,"data-testid":c,id:c,ref:C,role:"separator",style:{flexBasis:"auto",cursor:j,...o,flexGrow:0,flexShrink:0,touchAction:"none"},tabIndex:n?void 0:0})}Y2.displayName="Separator";function doe({className:e,...t}){return y.jsx(K2,{"data-slot":"resizable-panel-group",className:Ye("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t})}function SN({...e}){return y.jsx(W2,{"data-slot":"resizable-panel",...e})}function foe({withHandle:e,className:t,...n}){return y.jsx(Y2,{"data-slot":"resizable-handle",className:Ye("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...n,children:e&&y.jsx("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:y.jsx(XP,{className:"size-2.5"})})})}const hoe=()=>{const e=Le(Qe.expandedNodes),t=Le(Qe.challenge),n=e.find(i=>i.rank==="SPECIES");return y.jsxs(doe,{orientation:"horizontal",children:[y.jsxs(SN,{className:"relative",defaultSize:480,minSize:452,maxSize:855,children:[y.jsx(vD,{}),y.jsx(k2,{})]}),y.jsx(foe,{}),y.jsx(SN,{className:"flex w-full flex-col gap-4",children:y.jsxs("div",{className:"h-screen w-full overflow-auto",children:[t.mode&&y.jsx(N2,{}),!t.mode&&(n?y.jsx(Hu,{}):y.jsx(M2,{}))]})})]})},Ys=()=>{const{isTablet:e}=zo(),t=Dt(Qe.challenge),n=yr({from:"/challenges",shouldThrow:!1});return x.useEffect(()=>{n&&t({mode:"UNSET",status:"NOT_STARTED"})},[n,t]),e?y.jsx(Dre,{}):y.jsx(hoe,{})},moe=[{icon:y6,title:"Salvar atalhos",description:"Defina ns mais visitados para agilizar sua navegao",color:"text-purple-600",bgColor:""},{icon:oO,title:"Desafios Dirios e Aleatrios",description:"Novos desafios todos os dias para testar seus conhecimentos",color:"text-green-600",bgColor:""},{icon:M_,title:"Historico de visualizaes",description:"Acompanhe as espcies que voc j explorou",color:"text-yellow-600",bgColor:""},{icon:D_,title:"Galeria de Espcies",description:"Organize e favorite suas espcies j descobertas",color:"text-pink-600",bgColor:""},{icon:R6,title:"Historico de atividades",description:"Veja um resumo das suas interaes na plataforma",color:"text-blue-600",bgColor:""}],poe=y.jsxs("svg",{className:"mr-3 size-5",viewBox:"0 0 24 24",children:[y.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),y.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),y.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),y.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),goe=()=>{const{t:e}=At(),t=Ss(),{login:n}=H_(),i=Le(st.loginStatus)==="loading",s=Le(st.error),o=Le(st.isAuthenticated);x.useEffect(()=>{o&&t.navigate({to:"/profile"})},[o,t]);const l=async()=>{(await n("google")).success&&t.navigate({to:"/profile"})},c=()=>{window.history.length>1?window.history.back():t.navigate({to:"/"})};return y.jsx("main",{className:"flex min-h-screen items-center justify-center p-4",children:y.jsx("section",{className:"relative z-10 mx-auto w-full max-w-lg",children:y.jsxs(ph,{className:"border-0 shadow-xl",children:[y.jsxs($se,{className:"text-center",children:[y.jsx(Hse,{className:"text-2xl",children:e("welcome")}),y.jsx(qse,{className:"text-sm leading-relaxed",children:e("auth.descriptionGoogle")})]}),y.jsxs(gh,{className:"space-y-6",children:[s&&y.jsxs("div",{className:"bg-accent rounded-lg p-3 text-sm text-red-600",children:[y.jsx("p",{className:"font-medium",children:e("auth.loginError")}),y.jsx("p",{className:"mt-1 text-xs",children:s?.message})]}),y.jsx(Wt,{onClick:l,disabled:i,className:"h-12 w-full border border-gray-300 text-base font-medium shadow-sm hover:bg-gray-50",variant:"outline",children:i?y.jsxs(y.Fragment,{children:[y.jsx(tO,{className:"mr-2 size-5 animate-spin"})," ",e("auth.signingIn")]}):y.jsxs(y.Fragment,{children:[poe,e("auth.continueWithGoogle")]})}),y.jsxs("div",{className:"space-y-4 border-t pt-4",children:[y.jsx("div",{className:"text-center",children:y.jsx("p",{className:"text-sm text-gray-500",children:e("auth.exclusiveFeatures")})}),y.jsx("ul",{className:"grid h-48 grid-cols-1 overflow-auto 2xl:h-full",children:moe.map((d,h)=>{const m=d.icon;return y.jsxs("li",{className:"flex items-start space-x-3 rounded-lg px-2 py-3",children:[y.jsx("div",{className:`flex size-8 shrink-0 items-center justify-center rounded-full ${d.bgColor} ${d.color}`,children:y.jsx(m,{className:"size-4"})}),y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("h4",{className:`text-sm font-medium ${d.color}`,children:d.title}),y.jsx("p",{className:"text-xs text-gray-500",children:d.description})]})]},h)})})]})]}),y.jsxs("div",{className:"space-y-4 border-t border-border p-6 pb-1 text-muted-foreground",children:[y.jsx("p",{className:"text-center text-sm leading-relaxed",children:e("auth.continueWithoutLogin")}),y.jsxs(Wt,{className:"h-11 w-full border border-border font-medium transition-all duration-200",variant:"outline","aria-label":e("auth.backAriaLabel"),onClick:c,children:[y.jsx(Ug,{className:"mr-2 size-4","aria-hidden":"true"}),e("auth.back")]})]})]})})})},CN="/treevera/assets/avif-new-logo-CsHr8CWA.avif",voe=()=>{const{isMobile:e}=zo();return y.jsxs("div",{className:"relative",children:[y.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden","aria-hidden":"true",children:[!e&&y.jsx(ii,{src:CN,alt:"Logo",className:"absolute -top-16 -left-16 -z-50 w-64 max-w-3xl rotate-12 transform-gpu opacity-10 sm:w-80 md:w-96 lg:w-md xl:w-lg 2xl:w-full"}),y.jsx(ii,{src:CN,alt:"Logo",className:Ye("absolute -right-16 -bottom-16 -z-50 w-64 max-w-3xl scale-x-[-1] rotate-45 transform-gpu opacity-10 sm:w-80 md:w-96 lg:w-md xl:w-lg 2xl:w-full",e&&"fixed -right-6 bottom-50")})]}),y.jsx(dk,{})]})},m0=async(e,t)=>{try{const n=e.game_info.top_fav_species??[],i=t(n),{data:s,error:o}=await Dn.from("users").update({game_info:{...e.game_info,top_fav_species:i}}).eq("id",e.id).select().single();return o?(console.error("Error updating top_fav_species:",o),null):s}catch(n){return console.error("Unexpected error updating top_fav_species:",n),null}};function yoe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return x.useMemo(()=>i=>{t.forEach(s=>s(i))},t)}const uv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Gu(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function nS(e){return"nodeType"in e}function es(e){var t,n;return e?Gu(e)?e:nS(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function iS(e){const{Document:t}=es(e);return e instanceof t}function bh(e){return Gu(e)?!1:e instanceof es(e).HTMLElement}function Z2(e){return e instanceof es(e).SVGElement}function Ku(e){return e?Gu(e)?e.document:nS(e)?iS(e)?e:bh(e)||Z2(e)?e.ownerDocument:document:document:document}const Qr=uv?x.useLayoutEffect:x.useEffect;function sS(e){const t=x.useRef(e);return Qr(()=>{t.current=e}),x.useCallback(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t.current==null?void 0:t.current(...i)},[])}function boe(){const e=x.useRef(null),t=x.useCallback((i,s)=>{e.current=setInterval(i,s)},[]),n=x.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Hf(e,t){t===void 0&&(t=[e]);const n=x.useRef(e);return Qr(()=>{n.current!==e&&(n.current=e)},t),n}function xh(e,t){const n=x.useRef();return x.useMemo(()=>{const i=e(n.current);return n.current=i,i},[...t])}function bg(e){const t=sS(e),n=x.useRef(null),i=x.useCallback(s=>{s!==n.current&&t?.(s,n.current),n.current=s},[]);return[n,i]}function Gx(e){const t=x.useRef();return x.useEffect(()=>{t.current=e},[e]),t.current}let p0={};function _h(e,t){return x.useMemo(()=>{if(t)return t;const n=p0[e]==null?0:p0[e]+1;return p0[e]=n,e+"-"+n},[e,t])}function X2(e){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return i.reduce((o,l)=>{const c=Object.entries(l);for(const[d,h]of c){const m=o[d];m!=null&&(o[d]=m+e*h)}return o},{...t})}}const Eu=X2(1),xg=X2(-1);function xoe(e){return"clientX"in e&&"clientY"in e}function rS(e){if(!e)return!1;const{KeyboardEvent:t}=es(e.target);return t&&e instanceof t}function _oe(e){if(!e)return!1;const{TouchEvent:t}=es(e.target);return t&&e instanceof t}function Kx(e){if(_oe(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return xoe(e)?{x:e.clientX,y:e.clientY}:null}const qf=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[qf.Translate.toString(e),qf.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:i}=e;return t+" "+n+"ms "+i}}}),EN="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function woe(e){return e.matches(EN)?e:e.querySelector(EN)}const Soe={display:"none"};function Coe(e){let{id:t,value:n}=e;return Mt.createElement("div",{id:t,style:Soe},n)}function Eoe(e){let{id:t,announcement:n,ariaLiveType:i="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Mt.createElement("div",{id:t,style:s,role:"status","aria-live":i,"aria-atomic":!0},n)}function Aoe(){const[e,t]=x.useState("");return{announce:x.useCallback(i=>{i!=null&&t(i)},[]),announcement:e}}const Q2=x.createContext(null);function Toe(e){const t=x.useContext(Q2);x.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Roe(){const[e]=x.useState(()=>new Set),t=x.useCallback(i=>(e.add(i),()=>e.delete(i)),[e]);return[x.useCallback(i=>{let{type:s,event:o}=i;e.forEach(l=>{var c;return(c=l[s])==null?void 0:c.call(l,o)})},[e]),t]}const Noe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},koe={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Poe(e){let{announcements:t=koe,container:n,hiddenTextDescribedById:i,screenReaderInstructions:s=Noe}=e;const{announce:o,announcement:l}=Aoe(),c=_h("DndLiveRegion"),[d,h]=x.useState(!1);if(x.useEffect(()=>{h(!0)},[]),Toe(x.useMemo(()=>({onDragStart(v){let{active:b}=v;o(t.onDragStart({active:b}))},onDragMove(v){let{active:b,over:_}=v;t.onDragMove&&o(t.onDragMove({active:b,over:_}))},onDragOver(v){let{active:b,over:_}=v;o(t.onDragOver({active:b,over:_}))},onDragEnd(v){let{active:b,over:_}=v;o(t.onDragEnd({active:b,over:_}))},onDragCancel(v){let{active:b,over:_}=v;o(t.onDragCancel({active:b,over:_}))}}),[o,t])),!d)return null;const m=Mt.createElement(Mt.Fragment,null,Mt.createElement(Coe,{id:i,value:s.draggable}),Mt.createElement(Eoe,{id:c,announcement:l}));return n?Ji.createPortal(m,n):m}var Vn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Vn||(Vn={}));function _g(){}function AN(e,t){return x.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Ooe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return x.useMemo(()=>[...t].filter(i=>i!=null),[...t])}const _r=Object.freeze({x:0,y:0});function Moe(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Doe(e,t){let{data:{value:n}}=e,{data:{value:i}}=t;return n-i}function Loe(e,t){let{data:{value:n}}=e,{data:{value:i}}=t;return i-n}function joe(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function TN(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Ioe=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:i}=e;const s=TN(t,t.left,t.top),o=[];for(const l of i){const{id:c}=l,d=n.get(c);if(d){const h=Moe(TN(d),s);o.push({id:c,data:{droppableContainer:l,value:h}})}}return o.sort(Doe)};function zoe(e,t){const n=Math.max(t.top,e.top),i=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),l=s-i,c=o-n;if(i<s&&n<o){const d=t.width*t.height,h=e.width*e.height,m=l*c,v=m/(d+h-m);return Number(v.toFixed(4))}return 0}const Boe=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:i}=e;const s=[];for(const o of i){const{id:l}=o,c=n.get(l);if(c){const d=zoe(c,t);d>0&&s.push({id:l,data:{droppableContainer:o,value:d}})}}return s.sort(Loe)};function Uoe(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function J2(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:_r}function Foe(e){return function(n){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return s.reduce((l,c)=>({...l,top:l.top+e*c.y,bottom:l.bottom+e*c.y,left:l.left+e*c.x,right:l.right+e*c.x}),{...n})}}const Voe=Foe(1);function $oe(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Hoe(e,t,n){const i=$oe(t);if(!i)return e;const{scaleX:s,scaleY:o,x:l,y:c}=i,d=e.left-l-(1-s)*parseFloat(n),h=e.top-c-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),m=s?e.width/s:e.width,v=o?e.height/o:e.height;return{width:m,height:v,top:h,right:d+m,bottom:h+v,left:d}}const qoe={ignoreTransform:!1};function Wu(e,t){t===void 0&&(t=qoe);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:h,transformOrigin:m}=es(e).getComputedStyle(e);h&&(n=Hoe(n,h,m))}const{top:i,left:s,width:o,height:l,bottom:c,right:d}=n;return{top:i,left:s,width:o,height:l,bottom:c,right:d}}function RN(e){return Wu(e,{ignoreTransform:!0})}function Goe(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Koe(e,t){return t===void 0&&(t=es(e).getComputedStyle(e)),t.position==="fixed"}function Woe(e,t){t===void 0&&(t=es(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=t[s];return typeof o=="string"?n.test(o):!1})}function oS(e,t){const n=[];function i(s){if(t!=null&&n.length>=t||!s)return n;if(iS(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!bh(s)||Z2(s)||n.includes(s))return n;const o=es(e).getComputedStyle(s);return s!==e&&Woe(s,o)&&n.push(s),Koe(s,o)?n:i(s.parentNode)}return e?i(e):n}function eI(e){const[t]=oS(e,1);return t??null}function g0(e){return!uv||!e?null:Gu(e)?e:nS(e)?iS(e)||e===Ku(e).scrollingElement?window:bh(e)?e:null:null}function tI(e){return Gu(e)?e.scrollX:e.scrollLeft}function nI(e){return Gu(e)?e.scrollY:e.scrollTop}function Wx(e){return{x:tI(e),y:nI(e)}}var ni;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(ni||(ni={}));function iI(e){return!uv||!e?!1:e===document.scrollingElement}function sI(e){const t={x:0,y:0},n=iI(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,l=e.scrollTop>=i.y,c=e.scrollLeft>=i.x;return{isTop:s,isLeft:o,isBottom:l,isRight:c,maxScroll:i,minScroll:t}}const Yoe={x:.2,y:.2};function Zoe(e,t,n,i,s){let{top:o,left:l,right:c,bottom:d}=n;i===void 0&&(i=10),s===void 0&&(s=Yoe);const{isTop:h,isBottom:m,isLeft:v,isRight:b}=sI(e),_={x:0,y:0},C={x:0,y:0},E={height:t.height*s.y,width:t.width*s.x};return!h&&o<=t.top+E.height?(_.y=ni.Backward,C.y=i*Math.abs((t.top+E.height-o)/E.height)):!m&&d>=t.bottom-E.height&&(_.y=ni.Forward,C.y=i*Math.abs((t.bottom-E.height-d)/E.height)),!b&&c>=t.right-E.width?(_.x=ni.Forward,C.x=i*Math.abs((t.right-E.width-c)/E.width)):!v&&l<=t.left+E.width&&(_.x=ni.Backward,C.x=i*Math.abs((t.left+E.width-l)/E.width)),{direction:_,speed:C}}function Xoe(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:l}=window;return{top:0,left:0,right:o,bottom:l,width:o,height:l}}const{top:t,left:n,right:i,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:i,bottom:s,width:e.clientWidth,height:e.clientHeight}}function rI(e){return e.reduce((t,n)=>Eu(t,Wx(n)),_r)}function Qoe(e){return e.reduce((t,n)=>t+tI(n),0)}function Joe(e){return e.reduce((t,n)=>t+nI(n),0)}function eae(e,t){if(t===void 0&&(t=Wu),!e)return;const{top:n,left:i,bottom:s,right:o}=t(e);eI(e)&&(s<=0||o<=0||n>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const tae=[["x",["left","right"],Qoe],["y",["top","bottom"],Joe]];class aS{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=oS(n),s=rI(i);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,l,c]of tae)for(const d of l)Object.defineProperty(this,d,{get:()=>{const h=c(i),m=s[o]-h;return this.rect[d]+m},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class bf{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...n)})},this.target=t}add(t,n,i){var s;(s=this.target)==null||s.addEventListener(t,n,i),this.listeners.push([t,n,i])}}function nae(e){const{EventTarget:t}=es(e);return e instanceof t?e:Ku(e)}function v0(e,t){const n=Math.abs(e.x),i=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+i**2)>t:"x"in t&&"y"in t?n>t.x&&i>t.y:"x"in t?n>t.x:"y"in t?i>t.y:!1}var Fs;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Fs||(Fs={}));function NN(e){e.preventDefault()}function iae(e){e.stopPropagation()}var jt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(jt||(jt={}));const oI={start:[jt.Space,jt.Enter],cancel:[jt.Esc],end:[jt.Space,jt.Enter,jt.Tab]},sae=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case jt.Right:return{...n,x:n.x+25};case jt.Left:return{...n,x:n.x-25};case jt.Down:return{...n,y:n.y+25};case jt.Up:return{...n,y:n.y-25}}};class aI{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new bf(Ku(n)),this.windowListeners=new bf(es(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Fs.Resize,this.handleCancel),this.windowListeners.add(Fs.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Fs.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,i=t.node.current;i&&eae(i),n(_r)}handleKeyDown(t){if(rS(t)){const{active:n,context:i,options:s}=this.props,{keyboardCodes:o=oI,coordinateGetter:l=sae,scrollBehavior:c="smooth"}=s,{code:d}=t;if(o.end.includes(d)){this.handleEnd(t);return}if(o.cancel.includes(d)){this.handleCancel(t);return}const{collisionRect:h}=i.current,m=h?{x:h.left,y:h.top}:_r;this.referenceCoordinates||(this.referenceCoordinates=m);const v=l(t,{active:n,context:i.current,currentCoordinates:m});if(v){const b=xg(v,m),_={x:0,y:0},{scrollableAncestors:C}=i.current;for(const E of C){const T=t.code,{isTop:k,isRight:N,isLeft:P,isBottom:O,maxScroll:j,minScroll:U}=sI(E),z=Xoe(E),I={x:Math.min(T===jt.Right?z.right-z.width/2:z.right,Math.max(T===jt.Right?z.left:z.left+z.width/2,v.x)),y:Math.min(T===jt.Down?z.bottom-z.height/2:z.bottom,Math.max(T===jt.Down?z.top:z.top+z.height/2,v.y))},$=T===jt.Right&&!N||T===jt.Left&&!P,Z=T===jt.Down&&!O||T===jt.Up&&!k;if($&&I.x!==v.x){const K=E.scrollLeft+b.x,W=T===jt.Right&&K<=j.x||T===jt.Left&&K>=U.x;if(W&&!b.y){E.scrollTo({left:K,behavior:c});return}W?_.x=E.scrollLeft-K:_.x=T===jt.Right?E.scrollLeft-j.x:E.scrollLeft-U.x,_.x&&E.scrollBy({left:-_.x,behavior:c});break}else if(Z&&I.y!==v.y){const K=E.scrollTop+b.y,W=T===jt.Down&&K<=j.y||T===jt.Up&&K>=U.y;if(W&&!b.x){E.scrollTo({top:K,behavior:c});return}W?_.y=E.scrollTop-K:_.y=T===jt.Down?E.scrollTop-j.y:E.scrollTop-U.y,_.y&&E.scrollBy({top:-_.y,behavior:c});break}}this.handleMove(t,Eu(xg(v,this.referenceCoordinates),_))}}}handleMove(t,n){const{onMove:i}=this.props;t.preventDefault(),i(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}aI.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:i=oI,onActivation:s}=t,{active:o}=n;const{code:l}=e.nativeEvent;if(i.start.includes(l)){const c=o.activatorNode.current;return c&&e.target!==c?!1:(e.preventDefault(),s?.({event:e.nativeEvent}),!0)}return!1}}];function kN(e){return!!(e&&"distance"in e)}function PN(e){return!!(e&&"delay"in e)}class lS{constructor(t,n,i){var s;i===void 0&&(i=nae(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:l}=o;this.props=t,this.events=n,this.document=Ku(l),this.documentListeners=new bf(this.document),this.listeners=new bf(i),this.windowListeners=new bf(es(l)),this.initialCoordinates=(s=Kx(o))!=null?s:_r,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:i}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Fs.Resize,this.handleCancel),this.windowListeners.add(Fs.DragStart,NN),this.windowListeners.add(Fs.VisibilityChange,this.handleCancel),this.windowListeners.add(Fs.ContextMenu,NN),this.documentListeners.add(Fs.Keydown,this.handleKeydown),n){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(PN(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(kN(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:i,onPending:s}=this.props;s(i,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Fs.Click,iae,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Fs.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:i,initialCoordinates:s,props:o}=this,{onMove:l,options:{activationConstraint:c}}=o;if(!s)return;const d=(n=Kx(t))!=null?n:_r,h=xg(s,d);if(!i&&c){if(kN(c)){if(c.tolerance!=null&&v0(h,c.tolerance))return this.handleCancel();if(v0(h,c.distance))return this.handleStart()}if(PN(c)&&v0(h,c.tolerance))return this.handleCancel();this.handlePending(c,h);return}t.cancelable&&t.preventDefault(),l(d)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===jt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const rae={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class cS extends lS{constructor(t){const{event:n}=t,i=Ku(n.target);super(t,rae,i)}}cS.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:i}=t;return!n.isPrimary||n.button!==0?!1:(i?.({event:n}),!0)}}];const oae={move:{name:"mousemove"},end:{name:"mouseup"}};var Yx;(function(e){e[e.RightClick=2]="RightClick"})(Yx||(Yx={}));class aae extends lS{constructor(t){super(t,oae,Ku(t.event.target))}}aae.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:i}=t;return n.button===Yx.RightClick?!1:(i?.({event:n}),!0)}}];const y0={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class lI extends lS{constructor(t){super(t,y0)}static setup(){return window.addEventListener(y0.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(y0.move.name,t)};function t(){}}}lI.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:i}=t;const{touches:s}=n;return s.length>1?!1:(i?.({event:n}),!0)}}];var xf;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(xf||(xf={}));var wg;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(wg||(wg={}));function lae(e){let{acceleration:t,activator:n=xf.Pointer,canScroll:i,draggingRect:s,enabled:o,interval:l=5,order:c=wg.TreeOrder,pointerCoordinates:d,scrollableAncestors:h,scrollableAncestorRects:m,delta:v,threshold:b}=e;const _=uae({delta:v,disabled:!o}),[C,E]=boe(),T=x.useRef({x:0,y:0}),k=x.useRef({x:0,y:0}),N=x.useMemo(()=>{switch(n){case xf.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case xf.DraggableRect:return s}},[n,s,d]),P=x.useRef(null),O=x.useCallback(()=>{const U=P.current;if(!U)return;const z=T.current.x*k.current.x,I=T.current.y*k.current.y;U.scrollBy(z,I)},[]),j=x.useMemo(()=>c===wg.TreeOrder?[...h].reverse():h,[c,h]);x.useEffect(()=>{if(!o||!h.length||!N){E();return}for(const U of j){if(i?.(U)===!1)continue;const z=h.indexOf(U),I=m[z];if(!I)continue;const{direction:$,speed:Z}=Zoe(U,I,N,t,b);for(const K of["x","y"])_[K][$[K]]||(Z[K]=0,$[K]=0);if(Z.x>0||Z.y>0){E(),P.current=U,C(O,l),T.current=Z,k.current=$;return}}T.current={x:0,y:0},k.current={x:0,y:0},E()},[t,O,i,E,o,l,JSON.stringify(N),JSON.stringify(_),C,h,j,m,JSON.stringify(b)])}const cae={x:{[ni.Backward]:!1,[ni.Forward]:!1},y:{[ni.Backward]:!1,[ni.Forward]:!1}};function uae(e){let{delta:t,disabled:n}=e;const i=Gx(t);return xh(s=>{if(n||!i||!s)return cae;const o={x:Math.sign(t.x-i.x),y:Math.sign(t.y-i.y)};return{x:{[ni.Backward]:s.x[ni.Backward]||o.x===-1,[ni.Forward]:s.x[ni.Forward]||o.x===1},y:{[ni.Backward]:s.y[ni.Backward]||o.y===-1,[ni.Forward]:s.y[ni.Forward]||o.y===1}}},[n,t,i])}function dae(e,t){const n=t!=null?e.get(t):void 0,i=n?n.node.current:null;return xh(s=>{var o;return t==null?null:(o=i??s)!=null?o:null},[i,t])}function fae(e,t){return x.useMemo(()=>e.reduce((n,i)=>{const{sensor:s}=i,o=s.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,i)}));return[...n,...o]},[]),[e,t])}var Gf;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Gf||(Gf={}));var Zx;(function(e){e.Optimized="optimized"})(Zx||(Zx={}));const ON=new Map;function hae(e,t){let{dragging:n,dependencies:i,config:s}=t;const[o,l]=x.useState(null),{frequency:c,measure:d,strategy:h}=s,m=x.useRef(e),v=T(),b=Hf(v),_=x.useCallback(function(k){k===void 0&&(k=[]),!b.current&&l(N=>N===null?k:N.concat(k.filter(P=>!N.includes(P))))},[b]),C=x.useRef(null),E=xh(k=>{if(v&&!n)return ON;if(!k||k===ON||m.current!==e||o!=null){const N=new Map;for(let P of e){if(!P)continue;if(o&&o.length>0&&!o.includes(P.id)&&P.rect.current){N.set(P.id,P.rect.current);continue}const O=P.node.current,j=O?new aS(d(O),O):null;P.rect.current=j,j&&N.set(P.id,j)}return N}return k},[e,o,n,v,d]);return x.useEffect(()=>{m.current=e},[e]),x.useEffect(()=>{v||_()},[n,v]),x.useEffect(()=>{o&&o.length>0&&l(null)},[JSON.stringify(o)]),x.useEffect(()=>{v||typeof c!="number"||C.current!==null||(C.current=setTimeout(()=>{_(),C.current=null},c))},[c,v,_,...i]),{droppableRects:E,measureDroppableContainers:_,measuringScheduled:o!=null};function T(){switch(h){case Gf.Always:return!1;case Gf.BeforeDragging:return n;default:return!n}}}function cI(e,t){return xh(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function mae(e,t){return cI(e,t)}function pae(e){let{callback:t,disabled:n}=e;const i=sS(t),s=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(i)},[i,n]);return x.useEffect(()=>()=>s?.disconnect(),[s]),s}function dv(e){let{callback:t,disabled:n}=e;const i=sS(t),s=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(i)},[n]);return x.useEffect(()=>()=>s?.disconnect(),[s]),s}function gae(e){return new aS(Wu(e),e)}function MN(e,t,n){t===void 0&&(t=gae);const[i,s]=x.useState(null);function o(){s(d=>{if(!e)return null;if(e.isConnected===!1){var h;return(h=d??n)!=null?h:null}const m=t(e);return JSON.stringify(d)===JSON.stringify(m)?d:m})}const l=pae({callback(d){if(e)for(const h of d){const{type:m,target:v}=h;if(m==="childList"&&v instanceof HTMLElement&&v.contains(e)){o();break}}}}),c=dv({callback:o});return Qr(()=>{o(),e?(c?.observe(e),l?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),l?.disconnect())},[e]),i}function vae(e){const t=cI(e);return J2(e,t)}const DN=[];function yae(e){const t=x.useRef(e),n=xh(i=>e?i&&i!==DN&&e&&t.current&&e.parentNode===t.current.parentNode?i:oS(e):DN,[e]);return x.useEffect(()=>{t.current=e},[e]),n}function bae(e){const[t,n]=x.useState(null),i=x.useRef(e),s=x.useCallback(o=>{const l=g0(o.target);l&&n(c=>c?(c.set(l,Wx(l)),new Map(c)):null)},[]);return x.useEffect(()=>{const o=i.current;if(e!==o){l(o);const c=e.map(d=>{const h=g0(d);return h?(h.addEventListener("scroll",s,{passive:!0}),[h,Wx(h)]):null}).filter(d=>d!=null);n(c.length?new Map(c):null),i.current=e}return()=>{l(e),l(o)};function l(c){c.forEach(d=>{const h=g0(d);h?.removeEventListener("scroll",s)})}},[s,e]),x.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,l)=>Eu(o,l),_r):rI(e):_r,[e,t])}function LN(e,t){t===void 0&&(t=[]);const n=x.useRef(null);return x.useEffect(()=>{n.current=null},t),x.useEffect(()=>{const i=e!==_r;i&&!n.current&&(n.current=e),!i&&n.current&&(n.current=null)},[e]),n.current?xg(e,n.current):_r}function xae(e){x.useEffect(()=>{if(!uv)return;const t=e.map(n=>{let{sensor:i}=n;return i.setup==null?void 0:i.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function _ae(e,t){return x.useMemo(()=>e.reduce((n,i)=>{let{eventName:s,handler:o}=i;return n[s]=l=>{o(l,t)},n},{}),[e,t])}function uI(e){return x.useMemo(()=>e?Goe(e):null,[e])}const jN=[];function wae(e,t){t===void 0&&(t=Wu);const[n]=e,i=uI(n?es(n):null),[s,o]=x.useState(jN);function l(){o(()=>e.length?e.map(d=>iI(d)?i:new aS(t(d),d)):jN)}const c=dv({callback:l});return Qr(()=>{c?.disconnect(),l(),e.forEach(d=>c?.observe(d))},[e]),s}function Sae(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return bh(t)?t:e}function Cae(e){let{measure:t}=e;const[n,i]=x.useState(null),s=x.useCallback(h=>{for(const{target:m}of h)if(bh(m)){i(v=>{const b=t(m);return v?{...v,width:b.width,height:b.height}:b});break}},[t]),o=dv({callback:s}),l=x.useCallback(h=>{const m=Sae(h);o?.disconnect(),m&&o?.observe(m),i(m?t(m):null)},[t,o]),[c,d]=bg(l);return x.useMemo(()=>({nodeRef:c,rect:n,setRef:d}),[n,c,d])}const Eae=[{sensor:cS,options:{}},{sensor:aI,options:{}}],Aae={current:{}},Mp={draggable:{measure:RN},droppable:{measure:RN,strategy:Gf.WhileDragging,frequency:Zx.Optimized},dragOverlay:{measure:Wu}};class _f extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,i;return(n=(i=this.get(t))==null?void 0:i.node.current)!=null?n:void 0}}const Tae={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new _f,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:_g},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Mp,measureDroppableContainers:_g,windowRect:null,measuringScheduled:!1},Rae={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:_g,draggableNodes:new Map,over:null,measureDroppableContainers:_g},fv=x.createContext(Rae),dI=x.createContext(Tae);function Nae(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new _f}}}function kae(e,t){switch(t.type){case Vn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Vn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Vn.DragEnd:case Vn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Vn.RegisterDroppable:{const{element:n}=t,{id:i}=n,s=new _f(e.droppable.containers);return s.set(i,n),{...e,droppable:{...e.droppable,containers:s}}}case Vn.SetDroppableDisabled:{const{id:n,key:i,disabled:s}=t,o=e.droppable.containers.get(n);if(!o||i!==o.key)return e;const l=new _f(e.droppable.containers);return l.set(n,{...o,disabled:s}),{...e,droppable:{...e.droppable,containers:l}}}case Vn.UnregisterDroppable:{const{id:n,key:i}=t,s=e.droppable.containers.get(n);if(!s||i!==s.key)return e;const o=new _f(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function Pae(e){let{disabled:t}=e;const{active:n,activatorEvent:i,draggableNodes:s}=x.useContext(fv),o=Gx(i),l=Gx(n?.id);return x.useEffect(()=>{if(!t&&!i&&o&&l!=null){if(!rS(o)||document.activeElement===o.target)return;const c=s.get(l);if(!c)return;const{activatorNode:d,node:h}=c;if(!d.current&&!h.current)return;requestAnimationFrame(()=>{for(const m of[d.current,h.current]){if(!m)continue;const v=woe(m);if(v){v.focus();break}}})}},[i,t,s,l,o]),null}function Oae(e,t){let{transform:n,...i}=t;return e!=null&&e.length?e.reduce((s,o)=>o({transform:s,...i}),n):n}function Mae(e){return x.useMemo(()=>({draggable:{...Mp.draggable,...e?.draggable},droppable:{...Mp.droppable,...e?.droppable},dragOverlay:{...Mp.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function Dae(e){let{activeNode:t,measure:n,initialRect:i,config:s=!0}=e;const o=x.useRef(!1),{x:l,y:c}=typeof s=="boolean"?{x:s,y:s}:s;Qr(()=>{if(!l&&!c||!t){o.current=!1;return}if(o.current||!i)return;const h=t?.node.current;if(!h||h.isConnected===!1)return;const m=n(h),v=J2(m,i);if(l||(v.x=0),c||(v.y=0),o.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const b=eI(h);b&&b.scrollBy({top:v.y,left:v.x})}},[t,l,c,i,n])}const fI=x.createContext({..._r,scaleX:1,scaleY:1});var Aa;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Aa||(Aa={}));const Lae=x.memo(function(t){var n,i,s,o;let{id:l,accessibility:c,autoScroll:d=!0,children:h,sensors:m=Eae,collisionDetection:v=Boe,measuring:b,modifiers:_,...C}=t;const E=x.useReducer(kae,void 0,Nae),[T,k]=E,[N,P]=Roe(),[O,j]=x.useState(Aa.Uninitialized),U=O===Aa.Initialized,{draggable:{active:z,nodes:I,translate:$},droppable:{containers:Z}}=T,K=z!=null?I.get(z):null,W=x.useRef({initial:null,translated:null}),X=x.useMemo(()=>{var Yt;return z!=null?{id:z,data:(Yt=K?.data)!=null?Yt:Aae,rect:W}:null},[z,K]),se=x.useRef(null),[ve,G]=x.useState(null),[ee,Y]=x.useState(null),de=Hf(C,Object.values(C)),ae=_h("DndDescribedBy",l),H=x.useMemo(()=>Z.getEnabled(),[Z]),ie=Mae(b),{droppableRects:me,measureDroppableContainers:xe,measuringScheduled:Ce}=hae(H,{dragging:U,dependencies:[$.x,$.y],config:ie.droppable}),_e=dae(I,z),Se=x.useMemo(()=>ee?Kx(ee):null,[ee]),je=Xs(),ke=mae(_e,ie.draggable.measure);Dae({activeNode:z!=null?I.get(z):null,config:je.layoutShiftCompensation,initialRect:ke,measure:ie.draggable.measure});const Oe=MN(_e,ie.draggable.measure,ke),Ue=MN(_e?_e.parentElement:null),Xe=x.useRef({activatorEvent:null,active:null,activeNode:_e,collisionRect:null,collisions:null,droppableRects:me,draggableNodes:I,draggingNode:null,draggingNodeRect:null,droppableContainers:Z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ht=Z.getNodeFor((n=Xe.current.over)==null?void 0:n.id),bt=Cae({measure:ie.dragOverlay.measure}),zt=(i=bt.nodeRef.current)!=null?i:_e,dn=U?(s=bt.rect)!=null?s:Oe:null,fn=!!(bt.nodeRef.current&&bt.rect),jn=vae(fn?null:Oe),_n=uI(zt?es(zt):null),wn=yae(U?ht??_e:null),qn=wae(wn),Ti=Oae(_,{transform:{x:$.x-jn.x,y:$.y-jn.y,scaleX:1,scaleY:1},activatorEvent:ee,active:X,activeNodeRect:Oe,containerNodeRect:Ue,draggingNodeRect:dn,over:Xe.current.over,overlayNodeRect:bt.rect,scrollableAncestors:wn,scrollableAncestorRects:qn,windowRect:_n}),Es=Se?Eu(Se,$):null,sn=bae(wn),Cr=LN(sn),xt=LN(sn,[Oe]),Tt=Eu(Ti,Cr),Bt=dn?Voe(dn,Ti):null,Ri=X&&Bt?v({active:X,collisionRect:Bt,droppableRects:me,droppableContainers:H,pointerCoordinates:Es}):null,Zs=joe(Ri,"id"),[vi,eo]=x.useState(null),ts=fn?Ti:Eu(Ti,xt),rn=Uoe(ts,(o=vi?.rect)!=null?o:null,Oe),si=x.useRef(null),En=x.useCallback((Yt,Zt)=>{let{sensor:hn,options:Kn}=Zt;if(se.current==null)return;const Wn=I.get(se.current);if(!Wn)return;const An=Yt.nativeEvent,Yn=new hn({active:se.current,activeNode:Wn,event:An,options:Kn,context:Xe,onAbort(on){if(!I.get(on))return;const{onDragAbort:ri}=de.current,yi={id:on};ri?.(yi),N({type:"onDragAbort",event:yi})},onPending(on,Ni,ri,yi){if(!I.get(on))return;const{onDragPending:ze}=de.current,bi={id:on,constraint:Ni,initialCoordinates:ri,offset:yi};ze?.(bi),N({type:"onDragPending",event:bi})},onStart(on){const Ni=se.current;if(Ni==null)return;const ri=I.get(Ni);if(!ri)return;const{onDragStart:yi}=de.current,an={activatorEvent:An,active:{id:Ni,data:ri.data,rect:W}};Ji.unstable_batchedUpdates(()=>{yi?.(an),j(Aa.Initializing),k({type:Vn.DragStart,initialCoordinates:on,active:Ni}),N({type:"onDragStart",event:an}),G(si.current),Y(An)})},onMove(on){k({type:Vn.DragMove,coordinates:on})},onEnd:Zn(Vn.DragEnd),onCancel:Zn(Vn.DragCancel)});si.current=Yn;function Zn(on){return async function(){const{active:ri,collisions:yi,over:an,scrollAdjustedTranslate:ze}=Xe.current;let bi=null;if(ri&&ze){const{cancelDrop:is}=de.current;bi={activatorEvent:An,active:ri,collisions:yi,delta:ze,over:an},on===Vn.DragEnd&&typeof is=="function"&&await Promise.resolve(is(bi))&&(on=Vn.DragCancel)}se.current=null,Ji.unstable_batchedUpdates(()=>{k({type:on}),j(Aa.Uninitialized),eo(null),G(null),Y(null),si.current=null;const is=on===Vn.DragEnd?"onDragEnd":"onDragCancel";if(bi){const oi=de.current[is];oi?.(bi),N({type:is,event:bi})}})}}},[I]),ns=x.useCallback((Yt,Zt)=>(hn,Kn)=>{const Wn=hn.nativeEvent,An=I.get(Kn);if(se.current!==null||!An||Wn.dndKit||Wn.defaultPrevented)return;const Yn={active:An};Yt(hn,Zt.options,Yn)===!0&&(Wn.dndKit={capturedBy:Zt.sensor},se.current=Kn,En(hn,Zt))},[I,En]),to=fae(m,ns);xae(m),Qr(()=>{Oe&&O===Aa.Initializing&&j(Aa.Initialized)},[Oe,O]),x.useEffect(()=>{const{onDragMove:Yt}=de.current,{active:Zt,activatorEvent:hn,collisions:Kn,over:Wn}=Xe.current;if(!Zt||!hn)return;const An={active:Zt,activatorEvent:hn,collisions:Kn,delta:{x:Tt.x,y:Tt.y},over:Wn};Ji.unstable_batchedUpdates(()=>{Yt?.(An),N({type:"onDragMove",event:An})})},[Tt.x,Tt.y]),x.useEffect(()=>{const{active:Yt,activatorEvent:Zt,collisions:hn,droppableContainers:Kn,scrollAdjustedTranslate:Wn}=Xe.current;if(!Yt||se.current==null||!Zt||!Wn)return;const{onDragOver:An}=de.current,Yn=Kn.get(Zs),Zn=Yn&&Yn.rect.current?{id:Yn.id,rect:Yn.rect.current,data:Yn.data,disabled:Yn.disabled}:null,on={active:Yt,activatorEvent:Zt,collisions:hn,delta:{x:Wn.x,y:Wn.y},over:Zn};Ji.unstable_batchedUpdates(()=>{eo(Zn),An?.(on),N({type:"onDragOver",event:on})})},[Zs]),Qr(()=>{Xe.current={activatorEvent:ee,active:X,activeNode:_e,collisionRect:Bt,collisions:Ri,droppableRects:me,draggableNodes:I,draggingNode:zt,draggingNodeRect:dn,droppableContainers:Z,over:vi,scrollableAncestors:wn,scrollAdjustedTranslate:Tt},W.current={initial:dn,translated:Bt}},[X,_e,Ri,Bt,I,zt,dn,me,Z,vi,wn,Tt]),lae({...je,delta:$,draggingRect:Bt,pointerCoordinates:Es,scrollableAncestors:wn,scrollableAncestorRects:qn});const Ga=x.useMemo(()=>({active:X,activeNode:_e,activeNodeRect:Oe,activatorEvent:ee,collisions:Ri,containerNodeRect:Ue,dragOverlay:bt,draggableNodes:I,droppableContainers:Z,droppableRects:me,over:vi,measureDroppableContainers:xe,scrollableAncestors:wn,scrollableAncestorRects:qn,measuringConfiguration:ie,measuringScheduled:Ce,windowRect:_n}),[X,_e,Oe,ee,Ri,Ue,bt,I,Z,me,vi,xe,wn,qn,ie,Ce,_n]),Gn=x.useMemo(()=>({activatorEvent:ee,activators:to,active:X,activeNodeRect:Oe,ariaDescribedById:{draggable:ae},dispatch:k,draggableNodes:I,over:vi,measureDroppableContainers:xe}),[ee,to,X,Oe,k,ae,I,vi,xe]);return Mt.createElement(Q2.Provider,{value:P},Mt.createElement(fv.Provider,{value:Gn},Mt.createElement(dI.Provider,{value:Ga},Mt.createElement(fI.Provider,{value:rn},h)),Mt.createElement(Pae,{disabled:c?.restoreFocus===!1})),Mt.createElement(Poe,{...c,hiddenTextDescribedById:ae}));function Xs(){const Yt=ve?.autoScrollEnabled===!1,Zt=typeof d=="object"?d.enabled===!1:d===!1,hn=U&&!Yt&&!Zt;return typeof d=="object"?{...d,enabled:hn}:{enabled:hn}}}),jae=x.createContext(null),IN="button",Iae="Draggable";function zae(e){let{id:t,data:n,disabled:i=!1,attributes:s}=e;const o=_h(Iae),{activators:l,activatorEvent:c,active:d,activeNodeRect:h,ariaDescribedById:m,draggableNodes:v,over:b}=x.useContext(fv),{role:_=IN,roleDescription:C="draggable",tabIndex:E=0}=s??{},T=d?.id===t,k=x.useContext(T?fI:jae),[N,P]=bg(),[O,j]=bg(),U=_ae(l,t),z=Hf(n);Qr(()=>(v.set(t,{id:t,key:o,node:N,activatorNode:O,data:z}),()=>{const $=v.get(t);$&&$.key===o&&v.delete(t)}),[v,t]);const I=x.useMemo(()=>({role:_,tabIndex:E,"aria-disabled":i,"aria-pressed":T&&_===IN?!0:void 0,"aria-roledescription":C,"aria-describedby":m.draggable}),[i,_,E,T,C,m.draggable]);return{active:d,activatorEvent:c,activeNodeRect:h,attributes:I,isDragging:T,listeners:i?void 0:U,node:N,over:b,setNodeRef:P,setActivatorNodeRef:j,transform:k}}function Bae(){return x.useContext(dI)}const Uae="Droppable",Fae={timeout:25};function Vae(e){let{data:t,disabled:n=!1,id:i,resizeObserverConfig:s}=e;const o=_h(Uae),{active:l,dispatch:c,over:d,measureDroppableContainers:h}=x.useContext(fv),m=x.useRef({disabled:n}),v=x.useRef(!1),b=x.useRef(null),_=x.useRef(null),{disabled:C,updateMeasurementsFor:E,timeout:T}={...Fae,...s},k=Hf(E??i),N=x.useCallback(()=>{if(!v.current){v.current=!0;return}_.current!=null&&clearTimeout(_.current),_.current=setTimeout(()=>{h(Array.isArray(k.current)?k.current:[k.current]),_.current=null},T)},[T]),P=dv({callback:N,disabled:C||!l}),O=x.useCallback((I,$)=>{P&&($&&(P.unobserve($),v.current=!1),I&&P.observe(I))},[P]),[j,U]=bg(O),z=Hf(t);return x.useEffect(()=>{!P||!j.current||(P.disconnect(),v.current=!1,P.observe(j.current))},[j,P]),x.useEffect(()=>(c({type:Vn.RegisterDroppable,element:{id:i,key:o,disabled:n,node:j,rect:b,data:z}}),()=>c({type:Vn.UnregisterDroppable,key:o,id:i})),[i]),x.useEffect(()=>{n!==m.current.disabled&&(c({type:Vn.SetDroppableDisabled,id:i,key:o,disabled:n}),m.current.disabled=n)},[i,o,n,c]),{active:l,rect:b,isOver:d?.id===i,node:j,over:d,setNodeRef:U}}function uS(e,t,n){const i=e.slice();return i.splice(n<0?i.length+n:n,0,i.splice(t,1)[0]),i}function $ae(e,t){return e.reduce((n,i,s)=>{const o=t.get(i);return o&&(n[s]=o),n},Array(e.length))}function gp(e){return e!==null&&e>=0}function Hae(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function qae(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const dS=e=>{let{rects:t,activeIndex:n,overIndex:i,index:s}=e;const o=uS(t,i,n),l=t[s],c=o[s];return!c||!l?null:{x:c.left-l.left,y:c.top-l.top,scaleX:c.width/l.width,scaleY:c.height/l.height}},hI="Sortable",mI=Mt.createContext({activeIndex:-1,containerId:hI,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:dS,disabled:{draggable:!1,droppable:!1}});function Gae(e){let{children:t,id:n,items:i,strategy:s=dS,disabled:o=!1}=e;const{active:l,dragOverlay:c,droppableRects:d,over:h,measureDroppableContainers:m}=Bae(),v=_h(hI,n),b=c.rect!==null,_=x.useMemo(()=>i.map(U=>typeof U=="object"&&"id"in U?U.id:U),[i]),C=l!=null,E=l?_.indexOf(l.id):-1,T=h?_.indexOf(h.id):-1,k=x.useRef(_),N=!Hae(_,k.current),P=T!==-1&&E===-1||N,O=qae(o);Qr(()=>{N&&C&&m(_)},[N,_,C,m]),x.useEffect(()=>{k.current=_},[_]);const j=x.useMemo(()=>({activeIndex:E,containerId:v,disabled:O,disableTransforms:P,items:_,overIndex:T,useDragOverlay:b,sortedRects:$ae(_,d),strategy:s}),[E,v,O.draggable,O.droppable,P,_,T,d,b,s]);return Mt.createElement(mI.Provider,{value:j},t)}const Kae=e=>{let{id:t,items:n,activeIndex:i,overIndex:s}=e;return uS(n,i,s).indexOf(t)},Wae=e=>{let{containerId:t,isSorting:n,wasDragging:i,index:s,items:o,newIndex:l,previousItems:c,previousContainerId:d,transition:h}=e;return!h||!i||c!==o&&s===l?!1:n?!0:l!==s&&t===d},Yae={duration:200,easing:"ease"},pI="transform",Zae=qf.Transition.toString({property:pI,duration:0,easing:"linear"}),Xae={roleDescription:"sortable"};function Qae(e){let{disabled:t,index:n,node:i,rect:s}=e;const[o,l]=x.useState(null),c=x.useRef(n);return Qr(()=>{if(!t&&n!==c.current&&i.current){const d=s.current;if(d){const h=Wu(i.current,{ignoreTransform:!0}),m={x:d.left-h.left,y:d.top-h.top,scaleX:d.width/h.width,scaleY:d.height/h.height};(m.x||m.y)&&l(m)}}n!==c.current&&(c.current=n)},[t,n,i,s]),x.useEffect(()=>{o&&l(null)},[o]),o}function Jae(e){let{animateLayoutChanges:t=Wae,attributes:n,disabled:i,data:s,getNewIndex:o=Kae,id:l,strategy:c,resizeObserverConfig:d,transition:h=Yae}=e;const{items:m,containerId:v,activeIndex:b,disabled:_,disableTransforms:C,sortedRects:E,overIndex:T,useDragOverlay:k,strategy:N}=x.useContext(mI),P=ele(i,_),O=m.indexOf(l),j=x.useMemo(()=>({sortable:{containerId:v,index:O,items:m},...s}),[v,s,O,m]),U=x.useMemo(()=>m.slice(m.indexOf(l)),[m,l]),{rect:z,node:I,isOver:$,setNodeRef:Z}=Vae({id:l,data:j,disabled:P.droppable,resizeObserverConfig:{updateMeasurementsFor:U,...d}}),{active:K,activatorEvent:W,activeNodeRect:X,attributes:se,setNodeRef:ve,listeners:G,isDragging:ee,over:Y,setActivatorNodeRef:de,transform:ae}=zae({id:l,data:j,attributes:{...Xae,...n},disabled:P.draggable}),H=yoe(Z,ve),ie=!!K,me=ie&&!C&&gp(b)&&gp(T),xe=!k&&ee,Ce=xe&&me?ae:null,Se=me?Ce??(c??N)({rects:E,activeNodeRect:X,activeIndex:b,overIndex:T,index:O}):null,je=gp(b)&&gp(T)?o({id:l,items:m,activeIndex:b,overIndex:T}):O,ke=K?.id,Oe=x.useRef({activeId:ke,items:m,newIndex:je,containerId:v}),Ue=m!==Oe.current.items,Xe=t({active:K,containerId:v,isDragging:ee,isSorting:ie,id:l,index:O,items:m,newIndex:Oe.current.newIndex,previousItems:Oe.current.items,previousContainerId:Oe.current.containerId,transition:h,wasDragging:Oe.current.activeId!=null}),ht=Qae({disabled:!Xe,index:O,node:I,rect:z});return x.useEffect(()=>{ie&&Oe.current.newIndex!==je&&(Oe.current.newIndex=je),v!==Oe.current.containerId&&(Oe.current.containerId=v),m!==Oe.current.items&&(Oe.current.items=m)},[ie,je,v,m]),x.useEffect(()=>{if(ke===Oe.current.activeId)return;if(ke!=null&&Oe.current.activeId==null){Oe.current.activeId=ke;return}const zt=setTimeout(()=>{Oe.current.activeId=ke},50);return()=>clearTimeout(zt)},[ke]),{active:K,activeIndex:b,attributes:se,data:j,rect:z,index:O,newIndex:je,items:m,isOver:$,isSorting:ie,isDragging:ee,listeners:G,node:I,overIndex:T,over:Y,setNodeRef:H,setActivatorNodeRef:de,setDroppableNodeRef:Z,setDraggableNodeRef:ve,transform:ht??Se,transition:bt()};function bt(){if(ht||Ue&&Oe.current.newIndex===O)return Zae;if(!(xe&&!rS(W)||!h)&&(ie||Xe))return qf.Transition.toString({...h,property:pI})}}function ele(e,t){var n,i;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(i=e?.droppable)!=null?i:t.droppable}}jt.Down,jt.Right,jt.Up,jt.Left;const gI=({editMode:e,onAdd:t})=>{const{t:n}=At();return y.jsx("div",{onClick:e?t:void 0,className:`border-border bg-muted flex aspect-3/4 w-full items-center justify-center overflow-hidden rounded-xl border-2 border-dashed transition-all duration-300 ${e?"hover:border-primary/60 hover:bg-primary/5 cursor-pointer":""}`,children:y.jsxs("div",{className:"text-center",children:[y.jsx(Xp,{className:`mx-auto mb-2 h-8 w-8 transition-colors ${e?"text-primary/60":"text-muted-foreground/40"}`}),y.jsx("div",{className:`text-xs transition-colors ${e?"text-primary/70 font-medium":"text-muted-foreground/70"}`,children:n("favSpecies.addFavorite")})]})})},hv=e=>{const{data:t,isLoading:n}=Uo({specieKey:e});return{specieName:t?.canonicalName||t?.scientificName||"",familyName:t?.family||"",isLoading:n}},tle=({specieKey:e,editMode:t,onClick:n,onRemove:i,dragHandleProps:s})=>{const{specieName:o,familyName:l,isLoading:c}=hv(e),{t:d}=At(),h=!c&&o!==""?o:void 0,{data:m,isLoading:v}=lh(e,h),b=c||v;return y.jsx("div",{className:"group relative",children:b?y.jsx("div",{className:"bg-accent flex aspect-3/4 w-full animate-pulse items-center justify-center overflow-hidden rounded-xl",children:y.jsx(ih,{className:"size-5 animate-spin"})}):m?.imgUrl?y.jsxs(y.Fragment,{children:[y.jsxs("figure",{onClick:n,className:`relative aspect-3/4 w-full cursor-pointer overflow-hidden rounded-xl shadow-sm transition-all duration-300 ease-out ${t?"ring-primary/40 ring-2 brightness-75 hover:brightness-90":"group-hover:shadow-lg"}`,children:[y.jsx(ii,{src:m.imgUrl,alt:o,loading:"lazy",className:`size-full object-cover transition-transform duration-500 ease-out ${t?"":"group-hover:scale-110"}`}),y.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-linear-to-t from-black/75 via-black/30 to-transparent px-3 pt-8 pb-3",children:[y.jsx("p",{className:"truncate text-xs leading-tight font-semibold text-white",children:o}),y.jsx("p",{className:"truncate text-xs text-white/70 italic",children:l})]}),t&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:y.jsx("span",{className:"rounded-full bg-white/20 px-3 py-1 text-xs font-medium text-white backdrop-blur-sm",children:d("favSpecies.replace")})})]}),t&&y.jsx("button",{onPointerDown:_=>_.stopPropagation(),onClick:_=>{_.stopPropagation(),i()},className:"bg-destructive hover:bg-destructive/80 absolute -top-2 -right-2 z-10 flex size-6 items-center justify-center rounded-full text-white shadow-md transition-colors",children:y.jsx(Ia,{className:"size-3.5"})}),t&&s&&y.jsx("div",{...s,onPointerDown:_=>{_.stopPropagation(),s.onPointerDown?.(_)},className:"absolute right-1 bottom-2 z-10 flex -translate-x-1/2 cursor-grab touch-none items-center justify-center rounded-full bg-black/40 px-2 py-0.5 text-white transition-colors hover:bg-black/60 active:cursor-grabbing",children:y.jsx(XP,{className:"size-3.5"})}),!t&&y.jsxs("div",{className:"pointer-events-none absolute bottom-[calc(100%+10px)] left-1/2 z-50 -translate-x-1/2 translate-y-2 opacity-0 transition-all duration-300 ease-out group-hover:translate-y-0 group-hover:opacity-100",children:[y.jsx("div",{className:"bg-popover ring-border overflow-hidden rounded-xl shadow-2xl ring-1",children:y.jsx("img",{src:m.imgUrl,alt:o,className:"block max-h-56 max-w-56 object-contain"})}),y.jsx("div",{className:"border-t-popover mx-auto h-0 w-0 border-x-[7px] border-t-[7px] border-x-transparent"})]})]}):y.jsx(gI,{editMode:t,onAdd:t?n:void 0})})},nle=e=>{const{attributes:t,listeners:n,setNodeRef:i,transform:s,transition:o,isDragging:l}=Jae({id:String(e.specieKey),disabled:!e.editMode}),c={transform:qf.Transform.toString(s),transition:o,zIndex:l?50:void 0,opacity:l?.5:1};return y.jsx("div",{ref:i,style:c,children:y.jsx(tle,{...e,dragHandleProps:e.editMode?{...t,...n}:void 0})})},ile=({specieKey:e,onSelect:t})=>{const{specieName:n,familyName:i,isLoading:s}=hv(e),o=!s&&n!==""?n:void 0,{data:l,isLoading:c}=lh(e,o),d=s||c,h=()=>{d||t({key:e,name:n,img:l?.imgUrl??"",family:i})};return y.jsxs("button",{onClick:h,disabled:d,className:"hover:bg-accent flex w-full items-center gap-3 rounded-xl px-3 py-2 text-left transition-colors disabled:opacity-50",children:[y.jsx("div",{className:"bg-muted size-12 shrink-0 overflow-hidden rounded-lg",children:d?y.jsx("div",{className:"size-full animate-pulse"}):l?.imgUrl?y.jsx("img",{src:l.imgUrl,alt:n,className:"size-full object-cover"}):y.jsx("div",{className:"flex size-full items-center justify-center",children:y.jsx(Xp,{className:"text-muted-foreground size-4"})})}),y.jsx("div",{className:"min-w-0 flex-1",children:d?y.jsx("div",{className:"bg-muted h-4 w-3/4 animate-pulse rounded"}):y.jsxs(y.Fragment,{children:[y.jsx("p",{className:"truncate text-sm font-medium",children:n}),y.jsx("p",{className:"text-muted-foreground truncate text-xs italic",children:i})]})}),y.jsx(Xp,{className:"text-muted-foreground size-4 shrink-0"})]})},b0=(e,t)=>{const n=new Map(t.map(i=>[i.key,i]));return e.map(i=>n.get(i)??{key:i,name:"",img:"",family:""})},sle=()=>{const{t:e}=At(),[t,n]=Gs(st.userDb),i=Dt(za),[s,o]=x.useState(!1),[l,c]=x.useState(!1),[d,h]=x.useState(null),m=Ooe(AN(cS,{activationConstraint:{distance:8}}),AN(lI,{activationConstraint:{delay:200,tolerance:5}})),v=x.useMemo(()=>{const N=t?.game_info.top_fav_species;return N!=null?N.map(O=>O.key):(t?.game_info.seen_species??[]).filter(O=>O.fav).sort((O,j)=>new Date(j.date).getTime()-new Date(O.date).getTime()).map(O=>O.key).slice(0,4)},[t]),b=x.useMemo(()=>{const N=t?.game_info.seen_species??[],P=new Set(v);return d!==null&&v[d]!==void 0&&P.delete(v[d]),N.filter(O=>O.fav&&!P.has(O.key)).sort((O,j)=>new Date(j.date).getTime()-new Date(O.date).getTime()).map(O=>O.key)},[t,v,d]),_=Math.max(0,4-v.length),C=N=>{h(N),c(!0)},E=async N=>{if(!t)return;const P=b0(v,t.game_info.top_fav_species??[]),O=await m0(t,()=>P.filter((j,U)=>U!==N));O&&n(O)},T=async N=>{if(!t)return;c(!1);const P=b0(v,t.game_info.top_fav_species??[]),O=await m0(t,()=>{const j=[...P];return d!==null&&d<j.length?j[d]=N:j.push(N),j.slice(0,4)});O&&n(O),h(null)},k=async N=>{const{active:P,over:O}=N;if(!O||P.id===O.id||!t)return;const j=v.indexOf(Number(P.id)),U=v.indexOf(Number(O.id));if(j===-1||U===-1)return;const z=uS([...v],j,U),I=b0(z,t.game_info.top_fav_species??[]),$=await m0(t,()=>I);$&&n($)};return y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex items-center justify-between border-b pb-1",children:[y.jsx("h2",{children:e("favSpecies.title")}),y.jsx(Wt,{variant:"ghost",size:"sm",className:"gap-1.5",onClick:()=>o(N=>!N),children:s?e("favSpecies.done"):y.jsxs(y.Fragment,{children:[y.jsx(nO,{className:"size-3.5"}),e("favSpecies.edit")]})})]}),y.jsx(Lae,{sensors:m,collisionDetection:Ioe,onDragEnd:k,children:y.jsx(Gae,{items:v.map(String),strategy:dS,children:y.jsxs("div",{className:"grid grid-cols-2 gap-3 overflow-visible sm:gap-4 lg:grid-cols-4",children:[v.map((N,P)=>y.jsx(nle,{specieKey:N,editMode:s,onClick:()=>s?C(P):i(N),onRemove:()=>E(P)},N)),Array.from({length:_}).map((N,P)=>y.jsx(gI,{editMode:s,onAdd:s?()=>C(v.length+P):void 0},`empty-${P}`))]})})}),y.jsx(Z_,{open:l,onOpenChange:N=>{c(N),N||h(null)},children:y.jsxs(X_,{className:"flex flex-col",children:[y.jsx(Q_,{children:y.jsx(J_,{children:e("favSpecies.pickerTitle")})}),b.length===0?y.jsxs("div",{className:"flex flex-col items-center gap-2 px-6 py-10 text-center",children:[y.jsx(Xp,{className:"text-muted-foreground/40 size-10"}),y.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:e("favSpecies.pickerEmpty")}),y.jsx("p",{className:"text-muted-foreground text-xs",children:e("favSpecies.pickerEmptyHint")})]}):y.jsx("div",{className:"max-h-[60dvh] overflow-y-auto px-3 pb-4",children:y.jsx("div",{className:"flex flex-col gap-1",children:b.map(N=>y.jsx(ile,{specieKey:N,onSelect:T},N))})})]})})]})},rle=e=>{if(!e)return"";const t=typeof e=="string"?new Date(e):e,n=new Intl.DateTimeFormat(Qt.language,{month:"long",year:"numeric"}).format(t);return n.charAt(0).toUpperCase()+n.slice(1)},vI=e=>{if(!e)return"";const t=typeof e=="string"?new Date(e):e,i=new Date().getTime()-t.getTime(),s=Math.floor(i/1e3),o=Math.floor(s/60),l=Math.floor(o/60),c=Math.floor(l/24);if(s<60)return Qt.t("time.now","Agora mesmo");if(o<60){const d=Math.floor(o/5)*5||1;return Qt.t("time.minutesAgo",{count:d,defaultValue:"{{count}}m atrs"})}return l<24?Qt.t("time.hoursAgo",{count:l,defaultValue:"{{count}}h atrs"}):c===1?Qt.t("time.yesterday","Ontem"):c<=3?Qt.t("time.daysAgo",{count:c,defaultValue:"{{count}} dias atrs"}):new Intl.DateTimeFormat(Qt.language,{day:"2-digit",month:"2-digit",year:"numeric"}).format(t)},ole=()=>{const{t:e}=At(),t=Le(st.userDb);return y.jsx("header",{className:"flex flex-col gap-4 rounded-2xl",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(gD,{isProfilePage:!0}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h1",{className:"text-xl font-bold",children:t?.name}),y.jsxs("span",{className:"mt-0.5 flex items-center gap-1 text-xs",children:[e("profilePage.memberSince"),y.jsx("strong",{children:rle(t?.created_at)})]})]})]})})},ale=()=>{const{t:e}=At(),n=Le(st.userDb)?.game_info?.activities??[],[i,s]=x.useState(!1),o=4,l=i?n:n.slice(0,4),c=n.length>o;return y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex justify-between border-b",children:[y.jsx("h2",{children:e("activity.title")}),c&&y.jsxs(Wt,{variant:"ghost",size:"sm",className:"text-muted-foreground h-7 px-2 text-xs",onClick:()=>s(d=>!d),children:[i?"Recolher":"Expandir",i?y.jsx(O_,{className:"ml-1 size-3"}):y.jsx(ka,{className:"ml-1 size-3"})]})]}),y.jsx("div",{className:`space-y-2 ${i&&n.length>4?"max-h-100 overflow-y-auto pr-1":""}`,children:l.map((d,h)=>y.jsxs("div",{className:"flex items-center gap-2 border-b py-2 last:border-0",children:[y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("div",{className:"truncate text-xs font-medium",children:d.title}),y.jsx("div",{className:"text-muted-foreground text-xs",children:d.description})]}),y.jsx("div",{className:"text-muted-foreground shrink-0 text-xs",children:vI(d.date)})]},h))})]})},lle=({specieKey:e,date:t})=>{const{specieName:n,familyName:i,isLoading:s}=hv(e);return s?y.jsxs("div",{className:"-mx-2 border-b px-2 py-2 last:border-0",children:[y.jsx("div",{className:"bg-muted mb-1 h-4 w-32 animate-pulse rounded"}),y.jsx("div",{className:"bg-muted h-3 w-24 animate-pulse rounded"})]}):y.jsxs("div",{className:"-mx-2 flex items-center justify-between border-b px-2 py-2 last:border-0",children:[y.jsx("div",{className:"flex items-center gap-2",children:y.jsxs("div",{children:[y.jsx("div",{className:"text-xs font-medium italic",children:n}),y.jsx("div",{className:"text-muted-foreground text-xs",children:i})]})}),y.jsx("div",{className:"text-muted-foreground shrink-0 text-xs",children:vI(t)})]})},cle=()=>{const{t:e}=At(),t=Le(st.userDb),n=Ei(),i=t?.game_info?.seen_species??[];if(!t||!t.game_info)return null;const s=()=>{n({to:"/profile/species-gallery"})};return y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex justify-between border-b",children:[y.jsx("h2",{children:e("seenSpecies.title")}),y.jsxs(Wt,{variant:"ghost",size:"sm",className:"text-muted-foreground h-7 px-2 text-xs",disabled:!i.length,onClick:s,children:[e("seenSpecies.openGallery")," ",y.jsx(sc,{className:"ml-1 size-3"})]})]}),i.length?i.slice().reverse().slice(0,4).map(o=>y.jsx(lle,{specieKey:o.key,date:o.date},o.key)):y.jsxs("div",{className:"text-muted-foreground py-8 text-center",children:[y.jsx(D_,{className:"text-muted-foreground/50 mx-auto mb-3 h-12 w-12"}),y.jsx("div",{className:"mb-1 text-sm font-medium",children:e("seenSpecies.emptyTitle")}),y.jsx("div",{className:"text-xs",children:e("seenSpecies.emptyHint")})]})]})},ule=()=>{const{t:e}=At(),[t,n]=Gs(st.userDb),{navigateToNodes:i}=mh(),[s,o]=x.useState({isEdit:!1,newName:""}),l=x.useRef(null);if(x.useEffect(()=>{s.isEdit&&l.current&&l.current.focus()},[s.isEdit]),!t)return null;const c=t.game_info?.shortcuts;if(!c)return null;const d=_=>{i(_,!0)},h=async(_,C)=>{if(!t)return;if(!c)return null;const T=(c[_]??[]).filter((k,N)=>N!==C);(async()=>{const k=await Ix(t,N=>({...N,[_]:T}));k&&n(k)})()},m=async()=>{if(!s.isEdit||!t||!s.kingdom)return;const{kingdom:_,index:C,newName:E}=s;if(!E.trim())return;const T=c[_]??[];if(!T[C])return;const k=[...T];k[C]={...k[C],name:E.trim()},(async()=>{const N=await Ix(t,P=>({...P,[_]:k}));N&&n(N)})(),v()},v=()=>o({isEdit:!1,newName:""}),b=Object.keys(c);return y.jsxs("div",{className:"space-y-3",children:[y.jsx("h2",{className:"border-b",children:e("shortcuts.title")}),b.map(_=>{const C=c[_];return C?.length?y.jsx("div",{className:"space-y-3",children:C.map((E,T)=>{if(!E?.nodes)return null;const k=s.isEdit&&s.kingdom===_&&s.index===T;return y.jsxs("div",{className:"hover:bg-muted/50 flex items-center justify-between rounded-md border py-1 pl-2.5",children:[y.jsxs("div",{className:"flex min-w-0 flex-1 cursor-pointer items-center gap-2",onClick:()=>!k&&d(E.nodes),children:[y.jsx("figure",{className:"flex size-6 shrink-0 items-center",children:y.jsx(ii,{src:Bs(YO[_]),alt:`${_} icon`,className:"size-5"})}),y.jsxs("div",{className:"min-w-0 flex-1",children:[k?y.jsx("input",{ref:l,type:"text",value:s.newName,maxLength:52,onChange:N=>o(P=>({...P,newName:N.target.value})),className:"rounded border px-1 text-sm"}):y.jsx("p",{className:"truncate text-sm font-medium",children:E.name}),y.jsx("span",{className:"text-muted-foreground block truncate text-xs leading-tight",children:E.nodes.map((N,P)=>y.jsxs(x.Fragment,{children:[N.name??N.rank,P<E.nodes.length-1&&" > "]},N.key))})]})]}),y.jsx("div",{className:"flex flex-col gap-px border-l px-1",children:k?y.jsxs(y.Fragment,{children:[y.jsx(Wt,{variant:"ghost",size:"icon",className:"size-6 text-green-600 hover:text-green-800",title:e("shortcuts.saveEdit"),onClick:m,children:y.jsx(GP,{className:"size-4"})}),y.jsx(Wt,{variant:"ghost",size:"icon",className:"size-6 text-blue-500 hover:text-blue-800",title:e("shortcuts.cancelEdit"),onClick:v,children:y.jsx(Ia,{className:"size-4"})})]}):y.jsxs(y.Fragment,{children:[y.jsx(Wt,{variant:"ghost",size:"icon",className:"text-muted-foreground size-6 hover:text-blue-700",title:e("shortcuts.editName"),onClick:()=>o({isEdit:!0,kingdom:_,index:T,newName:E.name}),children:y.jsx(nO,{className:"size-4"})}),y.jsx(Wt,{variant:"ghost",size:"icon",className:"text-muted-foreground size-6 hover:text-red-700",onClick:()=>h(_,T),title:e("shortcuts.remove"),children:y.jsx(Ia,{className:"size-4"})})]})})]},T)})},_):null}),b.every(_=>!c[_]?.length)&&y.jsxs("div",{className:"text-muted-foreground py-6 text-center",children:[y.jsx(cH,{className:"text-muted-foreground/50 mx-auto mb-3 h-10 w-10"}),y.jsx("div",{className:"mb-1 text-sm font-medium",children:e("shortcuts.empty")}),y.jsx("div",{className:"text-xs",children:e("shortcuts.emptyHint")})]}),y.jsx("div",{className:"bg-muted text-muted-foreground rounded-lg p-2 text-center text-xs italic",children:e("shortcuts.tip")})]})},dle=()=>{const{t:e}=At(),t=Le(st.isAuthenticated),n=Le(za),i=Ei();return x.useEffect(()=>{if(!t){i({to:"/login"});return}},[t,i]),y.jsx(Ql,{mode:"wait",children:n!==null?y.jsx(Rt.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.2},className:"h-screen",children:y.jsx(Hu,{backLabel:e("specieDetail.backToProfile")})},"detail"):y.jsx(Rt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"h-screen overflow-auto",children:y.jsx("div",{className:"mx-auto max-w-7xl space-y-12 p-4",children:y.jsxs("div",{className:"grid grid-cols-1 gap-20 lg:grid-cols-3",children:[y.jsxs("div",{className:"space-y-10 md:space-y-16 lg:col-span-2",children:[y.jsx(ole,{}),y.jsx(sle,{})]}),y.jsxs("div",{className:"space-y-10 md:space-y-16",children:[y.jsx(cle,{}),y.jsx(ule,{}),y.jsx(ale,{})]})]})})},"profile")})},fle=()=>(x.useEffect(()=>{(async()=>{try{await new Promise(t=>setTimeout(t,2e3));try{const t=new BroadcastChannel("supabase-auth");t.postMessage("oauth_complete"),t.close()}catch(t){console.warn(" [Popup] BroadcastChannel falhou:",t)}if(window.opener&&!window.opener.closed)try{window.opener.postMessage({type:"OAUTH_COMPLETE"},window.location.origin)}catch(t){console.warn(" [Popup] postMessage falhou:",t)}await new Promise(t=>setTimeout(t,500)),window.close()}catch(t){console.error(" [Popup] Erro:",t),setTimeout(()=>{window.close()},1e3)}})()},[]),y.jsx("div",{className:"flex min-h-screen items-center justify-center",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"mb-4 inline-flex h-16 w-16 items-center justify-center rounded-full bg-green-100",children:y.jsx("svg",{className:"h-8 w-8 animate-spin text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),y.jsx("h1",{className:"mb-2 text-xl font-semibold",children:"Finalizando autenticao..."}),y.jsx("p",{className:"text-muted-foreground text-sm",children:"Aguarde alguns segundos."})]})})),hle=({species:e,onClick:t,searchQuery:n,onImageResolved:i})=>{const{t:s}=At(),{specieName:o,familyName:l,isLoading:c}=hv(e.key),d=!c&&o!==""?o:void 0,{data:h,isLoading:m}=lh(e.key,d),v=c||m;if(x.useEffect(()=>{v||i?.(e.key,!!h?.imgUrl)},[v]),!v&&n?.trim()){const b=n.toLowerCase();if(!o.toLowerCase().includes(b)&&!l.toLowerCase().includes(b))return null}return y.jsxs("div",{onClick:t,className:"group bg-card relative cursor-pointer overflow-hidden rounded-xl border shadow-md transition-all duration-300 hover:shadow-2xl",children:[y.jsxs("div",{className:"bg-muted relative w-full overflow-hidden",children:[v?y.jsx("div",{className:"flex aspect-4/3 items-center justify-center",children:y.jsx(tO,{className:"text-muted-foreground size-8 animate-spin"})}):h?.imgUrl?y.jsxs(y.Fragment,{children:[y.jsx("img",{src:h.imgUrl,alt:o,className:"h-auto w-full object-cover transition-transform duration-500 group-hover:scale-105",loading:"lazy"}),y.jsx("div",{className:"absolute inset-0 bg-linear-to-t from-black/60 via-black/10 to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"})]}):y.jsxs("div",{className:"text-muted-foreground flex aspect-4/3 flex-col items-center justify-center",children:[y.jsx(QP,{className:"mb-2 size-12"}),y.jsx("p",{className:"text-xs",children:s("gallery.noImage")})]}),e.fav&&y.jsx("div",{className:"bg-card/95 absolute top-2 right-2 rounded-full p-1.5 shadow-lg backdrop-blur-sm",children:y.jsx(Zp,{className:"size-4 fill-red-500 text-red-500"})})]}),y.jsxs("div",{className:"p-3",children:[y.jsx("h3",{className:"text-foreground group-hover:text-primary mb-1 line-clamp-2 text-sm font-semibold italic transition-colors",children:o}),y.jsx("p",{className:"text-muted-foreground line-clamp-1 text-xs",children:l})]}),y.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-xl border-2 border-transparent transition-colors group-hover:border-blue-500"})]})},x0=20,mle=()=>{const[e,t]=x.useState(1);return x.useEffect(()=>{const n=()=>{const i=window.innerWidth;i>=1280?t(5):i>=1024?t(4):i>=768?t(3):i>=640?t(2):t(1)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e},ple=()=>{const{t:e}=At(),t=Ei(),n=Le(st.userDb),i=Dt(za),s=mle(),o=x.useMemo(()=>n?.game_info?.seen_species??[],[n]),[l,c]=x.useState(""),[d,h]=x.useState(!1),[m,v]=x.useState("newest"),[b,_]=x.useState(!0),[C,E]=x.useState({}),[T,k]=x.useState(x0),N=x.useRef(null),P=x.useRef(null),O=x.useCallback((X,se)=>{E(ve=>ve[X]===se?ve:{...ve,[X]:se})},[]),j=x.useMemo(()=>{let X=[...o];return d&&(X=X.filter(se=>se.fav)),X.sort((se,ve)=>{if(b){const Y=C[se.key]===!1,de=C[ve.key]===!1;if(Y!==de)return Y?1:-1}const G=new Date(se.date).getTime(),ee=new Date(ve.date).getTime();return m==="newest"?ee-G:G-ee}),X},[o,d,m,b,C]),U=j.slice(0,T),z=T<j.length,I=x.useMemo(()=>{const X=Array.from({length:s},()=>[]);return U.forEach((se,ve)=>{X[ve%s].push({species:se,globalIndex:ve})}),X},[U,s]);x.useEffect(()=>{k(x0)},[d,m,b,l]),x.useEffect(()=>{if(!z||!P.current||!N.current)return;const X=new IntersectionObserver(se=>{se[0].isIntersecting&&k(ve=>ve+x0)},{root:N.current,rootMargin:"200px"});return X.observe(P.current),()=>X.disconnect()},[z,T]);const $=x.useCallback(()=>{i(null),t({to:"/profile"})},[t,i]),Z=x.useCallback(X=>{i(X.key)},[i]),K=x.useCallback(()=>{h(X=>!X)},[]),W=o.filter(X=>X.fav).length;return n?y.jsxs("div",{className:"bg-background fixed inset-0 z-50 flex flex-col",children:[y.jsxs(Rt.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"bg-background/95 relative z-10 border-b backdrop-blur-sm",children:[y.jsxs("div",{className:"mx-auto flex max-w-7xl items-center gap-3 px-4 pt-3 pb-2",children:[y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("h1",{className:"text-base leading-tight font-bold",children:e("gallery.title")}),y.jsxs("span",{className:"text-muted-foreground text-xs",children:[j.length===o.length?`${o.length} ${e("gallery.species")}`:`${j.length} ${e("gallery.of")} ${o.length}`,W>0&&y.jsxs("span",{className:"ml-1.5",children:[" ",W," ",y.jsx(Zp,{className:"inline size-3 fill-current text-red-500"})]})]})]}),y.jsx(Wt,{onClick:$,variant:"ghost",size:"icon",className:"size-8 shrink-0",children:y.jsx(Ia,{className:"size-4"})})]}),y.jsxs("div",{className:"mx-auto flex max-w-7xl items-center gap-2 px-4 pb-3",children:[y.jsxs("div",{className:"relative min-w-0 flex-1",children:[y.jsx(sO,{className:"text-muted-foreground absolute top-1/2 left-3 size-3.5 -translate-y-1/2"}),y.jsx("input",{type:"text",placeholder:e("gallery.searchPlaceholder"),value:l,onChange:X=>c(X.target.value),className:"bg-muted/50 focus:bg-background focus:border-border h-8 w-full rounded-lg border border-transparent pl-8 text-sm transition-colors outline-none"})]}),y.jsxs("div",{className:"flex shrink-0 items-center gap-1.5",children:[y.jsxs(CO,{children:[y.jsx(EO,{asChild:!0,children:y.jsxs(Wt,{variant:"outline",size:"sm",className:"h-8 gap-1.5 px-2.5",children:[y.jsx(t6,{className:"size-3.5"}),y.jsx("span",{className:"hidden text-xs sm:inline",children:e(m==="newest"?"gallery.newest":"gallery.oldest")})]})}),y.jsxs(AO,{align:"end",children:[y.jsx(Qi,{onClick:()=>v("newest"),children:e("gallery.newestFirst")}),y.jsx(Qi,{onClick:()=>v("oldest"),children:e("gallery.oldestFirst")})]})]}),y.jsxs(Wt,{onClick:()=>_(X=>!X),variant:b?"secondary":"ghost",size:"sm",className:"h-8 gap-1.5 px-2.5",title:e("gallery.photosFirst"),children:[y.jsx(QP,{className:"size-3.5"}),y.jsx("span",{className:"hidden text-xs sm:inline",children:e("gallery.photosFirst")})]}),y.jsxs(Wt,{onClick:K,variant:d?"secondary":"ghost",size:"sm",className:"h-8 gap-1.5 px-2.5",children:[y.jsx(Zp,{className:`size-3.5 ${d?"fill-current text-red-500":""}`}),y.jsx("span",{className:"hidden text-xs sm:inline",children:e("gallery.favorites")})]})]})]})]}),y.jsx("div",{ref:N,className:"flex-1 overflow-y-auto",children:j.length===0?y.jsx("div",{className:"flex h-full items-center justify-center",children:y.jsxs("div",{className:"text-muted-foreground text-center",children:[y.jsx(D_,{className:"mx-auto mb-3 size-16 opacity-30"}),y.jsx("p",{className:"mb-1 text-lg font-medium",children:e("gallery.noSpeciesFound")}),y.jsx("p",{className:"text-sm",children:e(d?"gallery.noFavorites":"gallery.adjustFilters")})]})}):y.jsx("div",{className:"p-4 md:p-6 lg:p-8",children:y.jsxs("div",{className:"mx-auto max-w-7xl",children:[y.jsx("div",{className:"flex gap-4",children:I.map((X,se)=>y.jsx("div",{className:"flex min-w-0 flex-1 flex-col gap-4",children:X.map(({species:ve,globalIndex:G})=>y.jsx(Rt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:G*.02,duration:.25},children:y.jsx(hle,{species:ve,onClick:()=>Z(ve),searchQuery:l,onImageResolved:O})},ve.key))},se))}),z&&y.jsx("div",{ref:P,className:"h-4"})]})})})]}):null},gle=()=>{const e=Le(za);return y.jsx(Ql,{mode:"wait",children:e===null?y.jsx(Rt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:y.jsx(ple,{})},"gallery"):y.jsx(Rt.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.2},children:y.jsx(Hu,{})},"detail")})},vle="/treevera/assets/avif-new-fav-icon-ViAcN2Tf.avif";function yle(){const e=Ei();return y.jsx("div",{className:"relative flex min-h-screen flex-col items-center justify-center px-4 text-center",children:y.jsxs("div",{className:"flex max-w-md flex-col items-center gap-6",children:[y.jsx(ii,{alt:"Logo Treevera",src:vle,className:"size-20 rounded-full opacity-60"}),y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx("p",{className:"text-muted-foreground/60 text-sm font-medium tracking-widest uppercase",children:"Erro 404"}),y.jsx("h1",{className:"text-foreground text-3xl font-bold",children:"Pgina no encontrada"}),y.jsx("p",{className:"text-muted-foreground mt-1 text-base leading-relaxed",children:"Este galho no leva a lugar nenhum. A pgina pode ter sido movida ou nunca existiu."})]}),y.jsxs("button",{onClick:()=>{e({to:"/"})},className:"bg-primary text-primary-foreground hover:bg-primary/90 flex items-center gap-2 rounded-lg px-6 py-2.5 text-sm font-medium transition-colors",children:[y.jsx(Ug,{className:"h-4 w-4"}),"Voltar para a pgina inicial"]})]})})}const gi=N3({component:voe,notFoundComponent:yle}),ble=pi({getParentRoute:()=>gi,path:"/",component:Ys}),xle=pi({getParentRoute:()=>gi,path:"/tree",component:Ys}),_le=pi({getParentRoute:()=>gi,path:"/tree/$level1",component:Ys}),wle=pi({getParentRoute:()=>gi,path:"/tree/$level1/$level2",component:Ys}),Sle=pi({getParentRoute:()=>gi,path:"/tree/$level1/$level2/$level3",component:Ys}),Cle=pi({getParentRoute:()=>gi,path:"/tree/$level1/$level2/$level3/$level4",component:Ys}),Ele=pi({getParentRoute:()=>gi,path:"/tree/$level1/$level2/$level3/$level4/$level5",component:Ys}),Ale=pi({getParentRoute:()=>gi,path:"/tree/$level1/$level2/$level3/$level4/$level5/$level6",component:Ys}),Tle=pi({getParentRoute:()=>gi,path:"/tree/$level1/$level2/$level3/$level4/$level5/$level6/$level7",component:Ys}),Rle=pi({getParentRoute:()=>gi,path:"/auth-callback",component:fle}),Nle=pi({getParentRoute:()=>gi,path:"/login",component:goe,beforeLoad:()=>{const e=Wf(),t=e.get(st.initialized),n=e.get(st.isAuthenticated);if(t&&n)throw Eg({to:"/profile"})}}),kle=pi({getParentRoute:()=>gi,path:"/profile",component:dle,beforeLoad:()=>{const e=Wf(),t=e.get(st.initialized),n=e.get(st.isAuthenticated);if(t&&!n)throw Eg({to:"/login"})}}),Ple=pi({getParentRoute:()=>gi,path:"/profile/species-gallery",component:gle,beforeLoad:()=>{const e=Wf(),t=e.get(st.initialized),n=e.get(st.isAuthenticated);if(t&&!n)throw Eg({to:"/login"})}}),Ole=pi({getParentRoute:()=>gi,path:"/challenges",component:Ys}),Mle=pi({getParentRoute:()=>gi,path:"/challenges/daily/in-progress",component:Ys}),Dle=pi({getParentRoute:()=>gi,path:"/challenges/random/in-progress",component:Ys}),Lle=gi.addChildren([Nle,ble,xle,_le,wle,Sle,Cle,Ele,Ale,Tle,Rle,kle,Ple,Ole,Mle,Dle]),jle=I3({routeTree:Lle,basepath:"/treevera"}),Ile=()=>{const e=sw(),{t}=At(),{isInitializing:n}=H_();return e?y.jsx("div",{children:t("loading.restoringCache")}):n?y.jsx("div",{children:t("loading.initializing")}):y.jsx(U3,{router:jle})};var zle=["added","removed","updated"];function zN(e){return zle.includes(e)}async function Ble({queryClient:e,persister:t,maxAge:n=1e3*60*60*24,buster:i="",hydrateOptions:s}){try{const o=await t.restoreClient();if(o)if(o.timestamp){const l=Date.now()-o.timestamp>n,c=o.buster!==i;if(l||c)return t.removeClient();QY(e,o.clientState,s)}else return t.removeClient()}catch(o){throw await t.removeClient(),o}}async function BN({queryClient:e,persister:t,buster:n="",dehydrateOptions:i}){const s={buster:n,timestamp:Date.now(),clientState:XY(e,i)};await t.persistClient(s)}function Ule(e){const t=e.queryClient.getQueryCache().subscribe(i=>{zN(i.type)&&BN(e)}),n=e.queryClient.getMutationCache().subscribe(i=>{zN(i.type)&&BN(e)});return()=>{t(),n()}}var Fle=({children:e,persistOptions:t,onSuccess:n,onError:i,...s})=>{const[o,l]=x.useState(!0),c=x.useRef({persistOptions:t,onSuccess:n,onError:i}),d=x.useRef(!1);return x.useEffect(()=>{c.current={persistOptions:t,onSuccess:n,onError:i}}),x.useEffect(()=>{const h={...c.current.persistOptions,queryClient:s.client};return d.current||(d.current=!0,Ble(h).then(()=>c.current.onSuccess?.()).catch(()=>c.current.onError?.()).finally(()=>{l(!1)})),o?void 0:Ule(h)},[s.client,o]),y.jsx(hZ,{...s,children:y.jsx(mZ,{value:o,children:e})})};function Xx(){}function Vle(e,{interval:t=1e3,onError:n=Xx}={}){if(typeof e!="function")throw new Error("argument is not function.");let i=0,s=null,o=!1,l=!1;return async(...c)=>{if(s=c,!l){for(l=!0;o;)await new Promise(d=>ko.setTimeout(d,t));for(;Date.now()<i;)await new Promise(d=>ko.setTimeout(d,i-Date.now()));l=!1,o=!0;try{await e(...s)}catch(d){try{n(d)}catch{}}i=Date.now()+t,o=!1}}}var $le=({storage:e,key:t="REACT_QUERY_OFFLINE_CACHE",throttleTime:n=1e3,serialize:i=JSON.stringify,deserialize:s=JSON.parse,retry:o})=>{if(e){const l=async c=>{try{const d=await i(c);await e.setItem(t,d);return}catch(d){return d}};return{persistClient:Vle(async c=>{let d=c,h=await l(d),m=0;for(;h&&d;)m++,d=await o?.({persistedClient:d,error:h,errorCount:m}),d&&(h=await l(d))},{interval:n}),restoreClient:async()=>{const c=await e.getItem(t);if(c)return await s(c)},removeClient:()=>e.removeItem(t)}}return{persistClient:Xx,restoreClient:()=>Promise.resolve(void 0),removeClient:Xx}};function vp(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var _0={exports:{}};var UN;function Hle(){return UN||(UN=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(i,s,o){function l(h,m){if(!s[h]){if(!i[h]){var v=typeof vp=="function"&&vp;if(!m&&v)return v(h,!0);if(c)return c(h,!0);var b=new Error("Cannot find module '"+h+"'");throw b.code="MODULE_NOT_FOUND",b}var _=s[h]={exports:{}};i[h][0].call(_.exports,function(C){var E=i[h][1][C];return l(E||C)},_,_.exports,n,i,s,o)}return s[h].exports}for(var c=typeof vp=="function"&&vp,d=0;d<o.length;d++)l(o[d]);return l})({1:[function(n,i,s){(function(o){var l=o.MutationObserver||o.WebKitMutationObserver,c;if(l){var d=0,h=new l(C),m=o.document.createTextNode("");h.observe(m,{characterData:!0}),c=function(){m.data=d=++d%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var v=new o.MessageChannel;v.port1.onmessage=C,c=function(){v.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?c=function(){var T=o.document.createElement("script");T.onreadystatechange=function(){C(),T.onreadystatechange=null,T.parentNode.removeChild(T),T=null},o.document.documentElement.appendChild(T)}:c=function(){setTimeout(C,0)};var b,_=[];function C(){b=!0;for(var T,k,N=_.length;N;){for(k=_,_=[],T=-1;++T<N;)k[T]();N=_.length}b=!1}i.exports=E;function E(T){_.push(T)===1&&!b&&c()}}).call(this,typeof Bm<"u"?Bm:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,i,s){var o=n(1);function l(){}var c={},d=["REJECTED"],h=["FULFILLED"],m=["PENDING"];i.exports=v;function v(j){if(typeof j!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,j!==l&&E(this,j)}v.prototype.catch=function(j){return this.then(null,j)},v.prototype.then=function(j,U){if(typeof j!="function"&&this.state===h||typeof U!="function"&&this.state===d)return this;var z=new this.constructor(l);if(this.state!==m){var I=this.state===h?j:U;_(z,I,this.outcome)}else this.queue.push(new b(z,j,U));return z};function b(j,U,z){this.promise=j,typeof U=="function"&&(this.onFulfilled=U,this.callFulfilled=this.otherCallFulfilled),typeof z=="function"&&(this.onRejected=z,this.callRejected=this.otherCallRejected)}b.prototype.callFulfilled=function(j){c.resolve(this.promise,j)},b.prototype.otherCallFulfilled=function(j){_(this.promise,this.onFulfilled,j)},b.prototype.callRejected=function(j){c.reject(this.promise,j)},b.prototype.otherCallRejected=function(j){_(this.promise,this.onRejected,j)};function _(j,U,z){o(function(){var I;try{I=U(z)}catch($){return c.reject(j,$)}I===j?c.reject(j,new TypeError("Cannot resolve promise with itself")):c.resolve(j,I)})}c.resolve=function(j,U){var z=T(C,U);if(z.status==="error")return c.reject(j,z.value);var I=z.value;if(I)E(j,I);else{j.state=h,j.outcome=U;for(var $=-1,Z=j.queue.length;++$<Z;)j.queue[$].callFulfilled(U)}return j},c.reject=function(j,U){j.state=d,j.outcome=U;for(var z=-1,I=j.queue.length;++z<I;)j.queue[z].callRejected(U);return j};function C(j){var U=j&&j.then;if(j&&(typeof j=="object"||typeof j=="function")&&typeof U=="function")return function(){U.apply(j,arguments)}}function E(j,U){var z=!1;function I(W){z||(z=!0,c.reject(j,W))}function $(W){z||(z=!0,c.resolve(j,W))}function Z(){U($,I)}var K=T(Z);K.status==="error"&&I(K.value)}function T(j,U){var z={};try{z.value=j(U),z.status="success"}catch(I){z.status="error",z.value=I}return z}v.resolve=k;function k(j){return j instanceof this?j:c.resolve(new this(l),j)}v.reject=N;function N(j){var U=new this(l);return c.reject(U,j)}v.all=P;function P(j){var U=this;if(Object.prototype.toString.call(j)!=="[object Array]")return this.reject(new TypeError("must be an array"));var z=j.length,I=!1;if(!z)return this.resolve([]);for(var $=new Array(z),Z=0,K=-1,W=new this(l);++K<z;)X(j[K],K);return W;function X(se,ve){U.resolve(se).then(G,function(ee){I||(I=!0,c.reject(W,ee))});function G(ee){$[ve]=ee,++Z===z&&!I&&(I=!0,c.resolve(W,$))}}}v.race=O;function O(j){var U=this;if(Object.prototype.toString.call(j)!=="[object Array]")return this.reject(new TypeError("must be an array"));var z=j.length,I=!1;if(!z)return this.resolve([]);for(var $=-1,Z=new this(l);++$<z;)K(j[$]);return Z;function K(W){U.resolve(W).then(function(X){I||(I=!0,c.resolve(Z,X))},function(X){I||(I=!0,c.reject(Z,X))})}}},{1:1}],3:[function(n,i,s){(function(o){typeof o.Promise!="function"&&(o.Promise=n(2))}).call(this,typeof Bm<"u"?Bm:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,i,s){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F};function l(F,te){if(!(F instanceof te))throw new TypeError("Cannot call a class as a function")}function c(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var d=c();function h(){try{if(!d||!d.open)return!1;var F=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),te=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!F||te)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function m(F,te){F=F||[],te=te||{};try{return new Blob(F,te)}catch(J){if(J.name!=="TypeError")throw J;for(var q=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,oe=new q,le=0;le<F.length;le+=1)oe.append(F[le]);return oe.getBlob(te.type)}}typeof Promise>"u"&&n(3);var v=Promise;function b(F,te){te&&F.then(function(q){te(null,q)},function(q){te(q)})}function _(F,te,q){typeof te=="function"&&F.then(te),typeof q=="function"&&F.catch(q)}function C(F){return typeof F!="string"&&(console.warn(F+" used as a key, but it is not a string."),F=String(F)),F}function E(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var T="local-forage-detect-blob-support",k=void 0,N={},P=Object.prototype.toString,O="readonly",j="readwrite";function U(F){for(var te=F.length,q=new ArrayBuffer(te),oe=new Uint8Array(q),le=0;le<te;le++)oe[le]=F.charCodeAt(le);return q}function z(F){return new v(function(te){var q=F.transaction(T,j),oe=m([""]);q.objectStore(T).put(oe,"key"),q.onabort=function(le){le.preventDefault(),le.stopPropagation(),te(!1)},q.oncomplete=function(){var le=navigator.userAgent.match(/Chrome\/(\d+)/),J=navigator.userAgent.match(/Edge\//);te(J||!le||parseInt(le[1],10)>=43)}}).catch(function(){return!1})}function I(F){return typeof k=="boolean"?v.resolve(k):z(F).then(function(te){return k=te,k})}function $(F){var te=N[F.name],q={};q.promise=new v(function(oe,le){q.resolve=oe,q.reject=le}),te.deferredOperations.push(q),te.dbReady?te.dbReady=te.dbReady.then(function(){return q.promise}):te.dbReady=q.promise}function Z(F){var te=N[F.name],q=te.deferredOperations.pop();if(q)return q.resolve(),q.promise}function K(F,te){var q=N[F.name],oe=q.deferredOperations.pop();if(oe)return oe.reject(te),oe.promise}function W(F,te){return new v(function(q,oe){if(N[F.name]=N[F.name]||ie(),F.db)if(te)$(F),F.db.close();else return q(F.db);var le=[F.name];te&&le.push(F.version);var J=d.open.apply(d,le);te&&(J.onupgradeneeded=function(ye){var Ne=J.result;try{Ne.createObjectStore(F.storeName),ye.oldVersion<=1&&Ne.createObjectStore(T)}catch(Pe){if(Pe.name==="ConstraintError")console.warn('The database "'+F.name+'" has been upgraded from version '+ye.oldVersion+" to version "+ye.newVersion+', but the storage "'+F.storeName+'" already exists.');else throw Pe}}),J.onerror=function(ye){ye.preventDefault(),oe(J.error)},J.onsuccess=function(){var ye=J.result;ye.onversionchange=function(Ne){Ne.target.close()},q(ye),Z(F)}})}function X(F){return W(F,!1)}function se(F){return W(F,!0)}function ve(F,te){if(!F.db)return!0;var q=!F.db.objectStoreNames.contains(F.storeName),oe=F.version<F.db.version,le=F.version>F.db.version;if(oe&&(F.version!==te&&console.warn('The database "'+F.name+`" can't be downgraded from version `+F.db.version+" to version "+F.version+"."),F.version=F.db.version),le||q){if(q){var J=F.db.version+1;J>F.version&&(F.version=J)}return!0}return!1}function G(F){return new v(function(te,q){var oe=new FileReader;oe.onerror=q,oe.onloadend=function(le){var J=btoa(le.target.result||"");te({__local_forage_encoded_blob:!0,data:J,type:F.type})},oe.readAsBinaryString(F)})}function ee(F){var te=U(atob(F.data));return m([te],{type:F.type})}function Y(F){return F&&F.__local_forage_encoded_blob}function de(F){var te=this,q=te._initReady().then(function(){var oe=N[te._dbInfo.name];if(oe&&oe.dbReady)return oe.dbReady});return _(q,F,F),q}function ae(F){$(F);for(var te=N[F.name],q=te.forages,oe=0;oe<q.length;oe++){var le=q[oe];le._dbInfo.db&&(le._dbInfo.db.close(),le._dbInfo.db=null)}return F.db=null,X(F).then(function(J){return F.db=J,ve(F)?se(F):J}).then(function(J){F.db=te.db=J;for(var ye=0;ye<q.length;ye++)q[ye]._dbInfo.db=J}).catch(function(J){throw K(F,J),J})}function H(F,te,q,oe){oe===void 0&&(oe=1);try{var le=F.db.transaction(F.storeName,te);q(null,le)}catch(J){if(oe>0&&(!F.db||J.name==="InvalidStateError"||J.name==="NotFoundError"))return v.resolve().then(function(){if(!F.db||J.name==="NotFoundError"&&!F.db.objectStoreNames.contains(F.storeName)&&F.version<=F.db.version)return F.db&&(F.version=F.db.version+1),se(F)}).then(function(){return ae(F).then(function(){H(F,te,q,oe-1)})}).catch(q);q(J)}}function ie(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function me(F){var te=this,q={db:null};if(F)for(var oe in F)q[oe]=F[oe];var le=N[q.name];le||(le=ie(),N[q.name]=le),le.forages.push(te),te._initReady||(te._initReady=te.ready,te.ready=de);var J=[];function ye(){return v.resolve()}for(var Ne=0;Ne<le.forages.length;Ne++){var Pe=le.forages[Ne];Pe!==te&&J.push(Pe._initReady().catch(ye))}var Ae=le.forages.slice(0);return v.all(J).then(function(){return q.db=le.db,X(q)}).then(function(Me){return q.db=Me,ve(q,te._defaultConfig.version)?se(q):Me}).then(function(Me){q.db=le.db=Me,te._dbInfo=q;for(var Be=0;Be<Ae.length;Be++){var tt=Ae[Be];tt!==te&&(tt._dbInfo.db=q.db,tt._dbInfo.version=q.version)}})}function xe(F,te){var q=this;F=C(F);var oe=new v(function(le,J){q.ready().then(function(){H(q._dbInfo,O,function(ye,Ne){if(ye)return J(ye);try{var Pe=Ne.objectStore(q._dbInfo.storeName),Ae=Pe.get(F);Ae.onsuccess=function(){var Me=Ae.result;Me===void 0&&(Me=null),Y(Me)&&(Me=ee(Me)),le(Me)},Ae.onerror=function(){J(Ae.error)}}catch(Me){J(Me)}})}).catch(J)});return b(oe,te),oe}function Ce(F,te){var q=this,oe=new v(function(le,J){q.ready().then(function(){H(q._dbInfo,O,function(ye,Ne){if(ye)return J(ye);try{var Pe=Ne.objectStore(q._dbInfo.storeName),Ae=Pe.openCursor(),Me=1;Ae.onsuccess=function(){var Be=Ae.result;if(Be){var tt=Be.value;Y(tt)&&(tt=ee(tt));var We=F(tt,Be.key,Me++);We!==void 0?le(We):Be.continue()}else le()},Ae.onerror=function(){J(Ae.error)}}catch(Be){J(Be)}})}).catch(J)});return b(oe,te),oe}function _e(F,te,q){var oe=this;F=C(F);var le=new v(function(J,ye){var Ne;oe.ready().then(function(){return Ne=oe._dbInfo,P.call(te)==="[object Blob]"?I(Ne.db).then(function(Pe){return Pe?te:G(te)}):te}).then(function(Pe){H(oe._dbInfo,j,function(Ae,Me){if(Ae)return ye(Ae);try{var Be=Me.objectStore(oe._dbInfo.storeName);Pe===null&&(Pe=void 0);var tt=Be.put(Pe,F);Me.oncomplete=function(){Pe===void 0&&(Pe=null),J(Pe)},Me.onabort=Me.onerror=function(){var We=tt.error?tt.error:tt.transaction.error;ye(We)}}catch(We){ye(We)}})}).catch(ye)});return b(le,q),le}function Se(F,te){var q=this;F=C(F);var oe=new v(function(le,J){q.ready().then(function(){H(q._dbInfo,j,function(ye,Ne){if(ye)return J(ye);try{var Pe=Ne.objectStore(q._dbInfo.storeName),Ae=Pe.delete(F);Ne.oncomplete=function(){le()},Ne.onerror=function(){J(Ae.error)},Ne.onabort=function(){var Me=Ae.error?Ae.error:Ae.transaction.error;J(Me)}}catch(Me){J(Me)}})}).catch(J)});return b(oe,te),oe}function je(F){var te=this,q=new v(function(oe,le){te.ready().then(function(){H(te._dbInfo,j,function(J,ye){if(J)return le(J);try{var Ne=ye.objectStore(te._dbInfo.storeName),Pe=Ne.clear();ye.oncomplete=function(){oe()},ye.onabort=ye.onerror=function(){var Ae=Pe.error?Pe.error:Pe.transaction.error;le(Ae)}}catch(Ae){le(Ae)}})}).catch(le)});return b(q,F),q}function ke(F){var te=this,q=new v(function(oe,le){te.ready().then(function(){H(te._dbInfo,O,function(J,ye){if(J)return le(J);try{var Ne=ye.objectStore(te._dbInfo.storeName),Pe=Ne.count();Pe.onsuccess=function(){oe(Pe.result)},Pe.onerror=function(){le(Pe.error)}}catch(Ae){le(Ae)}})}).catch(le)});return b(q,F),q}function Oe(F,te){var q=this,oe=new v(function(le,J){if(F<0){le(null);return}q.ready().then(function(){H(q._dbInfo,O,function(ye,Ne){if(ye)return J(ye);try{var Pe=Ne.objectStore(q._dbInfo.storeName),Ae=!1,Me=Pe.openKeyCursor();Me.onsuccess=function(){var Be=Me.result;if(!Be){le(null);return}F===0||Ae?le(Be.key):(Ae=!0,Be.advance(F))},Me.onerror=function(){J(Me.error)}}catch(Be){J(Be)}})}).catch(J)});return b(oe,te),oe}function Ue(F){var te=this,q=new v(function(oe,le){te.ready().then(function(){H(te._dbInfo,O,function(J,ye){if(J)return le(J);try{var Ne=ye.objectStore(te._dbInfo.storeName),Pe=Ne.openKeyCursor(),Ae=[];Pe.onsuccess=function(){var Me=Pe.result;if(!Me){oe(Ae);return}Ae.push(Me.key),Me.continue()},Pe.onerror=function(){le(Pe.error)}}catch(Me){le(Me)}})}).catch(le)});return b(q,F),q}function Xe(F,te){te=E.apply(this,arguments);var q=this.config();F=typeof F!="function"&&F||{},F.name||(F.name=F.name||q.name,F.storeName=F.storeName||q.storeName);var oe=this,le;if(!F.name)le=v.reject("Invalid arguments");else{var J=F.name===q.name&&oe._dbInfo.db,ye=J?v.resolve(oe._dbInfo.db):X(F).then(function(Ne){var Pe=N[F.name],Ae=Pe.forages;Pe.db=Ne;for(var Me=0;Me<Ae.length;Me++)Ae[Me]._dbInfo.db=Ne;return Ne});F.storeName?le=ye.then(function(Ne){if(Ne.objectStoreNames.contains(F.storeName)){var Pe=Ne.version+1;$(F);var Ae=N[F.name],Me=Ae.forages;Ne.close();for(var Be=0;Be<Me.length;Be++){var tt=Me[Be];tt._dbInfo.db=null,tt._dbInfo.version=Pe}var We=new v(function(ft,Ut){var Et=d.open(F.name,Pe);Et.onerror=function(Xn){var Vi=Et.result;Vi.close(),Ut(Xn)},Et.onupgradeneeded=function(){var Xn=Et.result;Xn.deleteObjectStore(F.storeName)},Et.onsuccess=function(){var Xn=Et.result;Xn.close(),ft(Xn)}});return We.then(function(ft){Ae.db=ft;for(var Ut=0;Ut<Me.length;Ut++){var Et=Me[Ut];Et._dbInfo.db=ft,Z(Et._dbInfo)}}).catch(function(ft){throw(K(F,ft)||v.resolve()).catch(function(){}),ft})}}):le=ye.then(function(Ne){$(F);var Pe=N[F.name],Ae=Pe.forages;Ne.close();for(var Me=0;Me<Ae.length;Me++){var Be=Ae[Me];Be._dbInfo.db=null}var tt=new v(function(We,ft){var Ut=d.deleteDatabase(F.name);Ut.onerror=function(){var Et=Ut.result;Et&&Et.close(),ft(Ut.error)},Ut.onblocked=function(){console.warn('dropInstance blocked for database "'+F.name+'" until all open connections are closed')},Ut.onsuccess=function(){var Et=Ut.result;Et&&Et.close(),We(Et)}});return tt.then(function(We){Pe.db=We;for(var ft=0;ft<Ae.length;ft++){var Ut=Ae[ft];Z(Ut._dbInfo)}}).catch(function(We){throw(K(F,We)||v.resolve()).catch(function(){}),We})})}return b(le,te),le}var ht={_driver:"asyncStorage",_initStorage:me,_support:h(),iterate:Ce,getItem:xe,setItem:_e,removeItem:Se,clear:je,length:ke,key:Oe,keys:Ue,dropInstance:Xe};function bt(){return typeof openDatabase=="function"}var zt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dn="~~local_forage_type~",fn=/^~~local_forage_type~([^~]+)~/,jn="__lfsc__:",_n=jn.length,wn="arbf",qn="blob",Ti="si08",Es="ui08",sn="uic8",Cr="si16",xt="si32",Tt="ur16",Bt="ui32",Ri="fl32",Zs="fl64",vi=_n+wn.length,eo=Object.prototype.toString;function ts(F){var te=F.length*.75,q=F.length,oe,le=0,J,ye,Ne,Pe;F[F.length-1]==="="&&(te--,F[F.length-2]==="="&&te--);var Ae=new ArrayBuffer(te),Me=new Uint8Array(Ae);for(oe=0;oe<q;oe+=4)J=zt.indexOf(F[oe]),ye=zt.indexOf(F[oe+1]),Ne=zt.indexOf(F[oe+2]),Pe=zt.indexOf(F[oe+3]),Me[le++]=J<<2|ye>>4,Me[le++]=(ye&15)<<4|Ne>>2,Me[le++]=(Ne&3)<<6|Pe&63;return Ae}function rn(F){var te=new Uint8Array(F),q="",oe;for(oe=0;oe<te.length;oe+=3)q+=zt[te[oe]>>2],q+=zt[(te[oe]&3)<<4|te[oe+1]>>4],q+=zt[(te[oe+1]&15)<<2|te[oe+2]>>6],q+=zt[te[oe+2]&63];return te.length%3===2?q=q.substring(0,q.length-1)+"=":te.length%3===1&&(q=q.substring(0,q.length-2)+"=="),q}function si(F,te){var q="";if(F&&(q=eo.call(F)),F&&(q==="[object ArrayBuffer]"||F.buffer&&eo.call(F.buffer)==="[object ArrayBuffer]")){var oe,le=jn;F instanceof ArrayBuffer?(oe=F,le+=wn):(oe=F.buffer,q==="[object Int8Array]"?le+=Ti:q==="[object Uint8Array]"?le+=Es:q==="[object Uint8ClampedArray]"?le+=sn:q==="[object Int16Array]"?le+=Cr:q==="[object Uint16Array]"?le+=Tt:q==="[object Int32Array]"?le+=xt:q==="[object Uint32Array]"?le+=Bt:q==="[object Float32Array]"?le+=Ri:q==="[object Float64Array]"?le+=Zs:te(new Error("Failed to get type for BinaryArray"))),te(le+rn(oe))}else if(q==="[object Blob]"){var J=new FileReader;J.onload=function(){var ye=dn+F.type+"~"+rn(this.result);te(jn+qn+ye)},J.readAsArrayBuffer(F)}else try{te(JSON.stringify(F))}catch(ye){console.error("Couldn't convert value into a JSON string: ",F),te(null,ye)}}function En(F){if(F.substring(0,_n)!==jn)return JSON.parse(F);var te=F.substring(vi),q=F.substring(_n,vi),oe;if(q===qn&&fn.test(te)){var le=te.match(fn);oe=le[1],te=te.substring(le[0].length)}var J=ts(te);switch(q){case wn:return J;case qn:return m([J],{type:oe});case Ti:return new Int8Array(J);case Es:return new Uint8Array(J);case sn:return new Uint8ClampedArray(J);case Cr:return new Int16Array(J);case Tt:return new Uint16Array(J);case xt:return new Int32Array(J);case Bt:return new Uint32Array(J);case Ri:return new Float32Array(J);case Zs:return new Float64Array(J);default:throw new Error("Unkown type: "+q)}}var ns={serialize:si,deserialize:En,stringToBuffer:ts,bufferToString:rn};function to(F,te,q,oe){F.executeSql("CREATE TABLE IF NOT EXISTS "+te.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],q,oe)}function Ga(F){var te=this,q={db:null};if(F)for(var oe in F)q[oe]=typeof F[oe]!="string"?F[oe].toString():F[oe];var le=new v(function(J,ye){try{q.db=openDatabase(q.name,String(q.version),q.description,q.size)}catch(Ne){return ye(Ne)}q.db.transaction(function(Ne){to(Ne,q,function(){te._dbInfo=q,J()},function(Pe,Ae){ye(Ae)})},ye)});return q.serializer=ns,le}function Gn(F,te,q,oe,le,J){F.executeSql(q,oe,le,function(ye,Ne){Ne.code===Ne.SYNTAX_ERR?ye.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[te.storeName],function(Pe,Ae){Ae.rows.length?J(Pe,Ne):to(Pe,te,function(){Pe.executeSql(q,oe,le,J)},J)},J):J(ye,Ne)},J)}function Xs(F,te){var q=this;F=C(F);var oe=new v(function(le,J){q.ready().then(function(){var ye=q._dbInfo;ye.db.transaction(function(Ne){Gn(Ne,ye,"SELECT * FROM "+ye.storeName+" WHERE key = ? LIMIT 1",[F],function(Pe,Ae){var Me=Ae.rows.length?Ae.rows.item(0).value:null;Me&&(Me=ye.serializer.deserialize(Me)),le(Me)},function(Pe,Ae){J(Ae)})})}).catch(J)});return b(oe,te),oe}function Yt(F,te){var q=this,oe=new v(function(le,J){q.ready().then(function(){var ye=q._dbInfo;ye.db.transaction(function(Ne){Gn(Ne,ye,"SELECT * FROM "+ye.storeName,[],function(Pe,Ae){for(var Me=Ae.rows,Be=Me.length,tt=0;tt<Be;tt++){var We=Me.item(tt),ft=We.value;if(ft&&(ft=ye.serializer.deserialize(ft)),ft=F(ft,We.key,tt+1),ft!==void 0){le(ft);return}}le()},function(Pe,Ae){J(Ae)})})}).catch(J)});return b(oe,te),oe}function Zt(F,te,q,oe){var le=this;F=C(F);var J=new v(function(ye,Ne){le.ready().then(function(){te===void 0&&(te=null);var Pe=te,Ae=le._dbInfo;Ae.serializer.serialize(te,function(Me,Be){Be?Ne(Be):Ae.db.transaction(function(tt){Gn(tt,Ae,"INSERT OR REPLACE INTO "+Ae.storeName+" (key, value) VALUES (?, ?)",[F,Me],function(){ye(Pe)},function(We,ft){Ne(ft)})},function(tt){if(tt.code===tt.QUOTA_ERR){if(oe>0){ye(Zt.apply(le,[F,Pe,q,oe-1]));return}Ne(tt)}})})}).catch(Ne)});return b(J,q),J}function hn(F,te,q){return Zt.apply(this,[F,te,q,1])}function Kn(F,te){var q=this;F=C(F);var oe=new v(function(le,J){q.ready().then(function(){var ye=q._dbInfo;ye.db.transaction(function(Ne){Gn(Ne,ye,"DELETE FROM "+ye.storeName+" WHERE key = ?",[F],function(){le()},function(Pe,Ae){J(Ae)})})}).catch(J)});return b(oe,te),oe}function Wn(F){var te=this,q=new v(function(oe,le){te.ready().then(function(){var J=te._dbInfo;J.db.transaction(function(ye){Gn(ye,J,"DELETE FROM "+J.storeName,[],function(){oe()},function(Ne,Pe){le(Pe)})})}).catch(le)});return b(q,F),q}function An(F){var te=this,q=new v(function(oe,le){te.ready().then(function(){var J=te._dbInfo;J.db.transaction(function(ye){Gn(ye,J,"SELECT COUNT(key) as c FROM "+J.storeName,[],function(Ne,Pe){var Ae=Pe.rows.item(0).c;oe(Ae)},function(Ne,Pe){le(Pe)})})}).catch(le)});return b(q,F),q}function Yn(F,te){var q=this,oe=new v(function(le,J){q.ready().then(function(){var ye=q._dbInfo;ye.db.transaction(function(Ne){Gn(Ne,ye,"SELECT key FROM "+ye.storeName+" WHERE id = ? LIMIT 1",[F+1],function(Pe,Ae){var Me=Ae.rows.length?Ae.rows.item(0).key:null;le(Me)},function(Pe,Ae){J(Ae)})})}).catch(J)});return b(oe,te),oe}function Zn(F){var te=this,q=new v(function(oe,le){te.ready().then(function(){var J=te._dbInfo;J.db.transaction(function(ye){Gn(ye,J,"SELECT key FROM "+J.storeName,[],function(Ne,Pe){for(var Ae=[],Me=0;Me<Pe.rows.length;Me++)Ae.push(Pe.rows.item(Me).key);oe(Ae)},function(Ne,Pe){le(Pe)})})}).catch(le)});return b(q,F),q}function on(F){return new v(function(te,q){F.transaction(function(oe){oe.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(le,J){for(var ye=[],Ne=0;Ne<J.rows.length;Ne++)ye.push(J.rows.item(Ne).name);te({db:F,storeNames:ye})},function(le,J){q(J)})},function(oe){q(oe)})})}function Ni(F,te){te=E.apply(this,arguments);var q=this.config();F=typeof F!="function"&&F||{},F.name||(F.name=F.name||q.name,F.storeName=F.storeName||q.storeName);var oe=this,le;return F.name?le=new v(function(J){var ye;F.name===q.name?ye=oe._dbInfo.db:ye=openDatabase(F.name,"","",0),F.storeName?J({db:ye,storeNames:[F.storeName]}):J(on(ye))}).then(function(J){return new v(function(ye,Ne){J.db.transaction(function(Pe){function Ae(We){return new v(function(ft,Ut){Pe.executeSql("DROP TABLE IF EXISTS "+We,[],function(){ft()},function(Et,Xn){Ut(Xn)})})}for(var Me=[],Be=0,tt=J.storeNames.length;Be<tt;Be++)Me.push(Ae(J.storeNames[Be]));v.all(Me).then(function(){ye()}).catch(function(We){Ne(We)})},function(Pe){Ne(Pe)})})}):le=v.reject("Invalid arguments"),b(le,te),le}var ri={_driver:"webSQLStorage",_initStorage:Ga,_support:bt(),iterate:Yt,getItem:Xs,setItem:hn,removeItem:Kn,clear:Wn,length:An,key:Yn,keys:Zn,dropInstance:Ni};function yi(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function an(F,te){var q=F.name+"/";return F.storeName!==te.storeName&&(q+=F.storeName+"/"),q}function ze(){var F="_localforage_support_test";try{return localStorage.setItem(F,!0),localStorage.removeItem(F),!1}catch{return!0}}function bi(){return!ze()||localStorage.length>0}function is(F){var te=this,q={};if(F)for(var oe in F)q[oe]=F[oe];return q.keyPrefix=an(F,te._defaultConfig),bi()?(te._dbInfo=q,q.serializer=ns,v.resolve()):v.reject()}function oi(F){var te=this,q=te.ready().then(function(){for(var oe=te._dbInfo.keyPrefix,le=localStorage.length-1;le>=0;le--){var J=localStorage.key(le);J.indexOf(oe)===0&&localStorage.removeItem(J)}});return b(q,F),q}function mn(F,te){var q=this;F=C(F);var oe=q.ready().then(function(){var le=q._dbInfo,J=localStorage.getItem(le.keyPrefix+F);return J&&(J=le.serializer.deserialize(J)),J});return b(oe,te),oe}function Tn(F,te){var q=this,oe=q.ready().then(function(){for(var le=q._dbInfo,J=le.keyPrefix,ye=J.length,Ne=localStorage.length,Pe=1,Ae=0;Ae<Ne;Ae++){var Me=localStorage.key(Ae);if(Me.indexOf(J)===0){var Be=localStorage.getItem(Me);if(Be&&(Be=le.serializer.deserialize(Be)),Be=F(Be,Me.substring(ye),Pe++),Be!==void 0)return Be}}});return b(oe,te),oe}function Qs(F,te){var q=this,oe=q.ready().then(function(){var le=q._dbInfo,J;try{J=localStorage.key(F)}catch{J=null}return J&&(J=J.substring(le.keyPrefix.length)),J});return b(oe,te),oe}function As(F){var te=this,q=te.ready().then(function(){for(var oe=te._dbInfo,le=localStorage.length,J=[],ye=0;ye<le;ye++){var Ne=localStorage.key(ye);Ne.indexOf(oe.keyPrefix)===0&&J.push(Ne.substring(oe.keyPrefix.length))}return J});return b(q,F),q}function ac(F){var te=this,q=te.keys().then(function(oe){return oe.length});return b(q,F),q}function Yu(F,te){var q=this;F=C(F);var oe=q.ready().then(function(){var le=q._dbInfo;localStorage.removeItem(le.keyPrefix+F)});return b(oe,te),oe}function lc(F,te,q){var oe=this;F=C(F);var le=oe.ready().then(function(){te===void 0&&(te=null);var J=te;return new v(function(ye,Ne){var Pe=oe._dbInfo;Pe.serializer.serialize(te,function(Ae,Me){if(Me)Ne(Me);else try{localStorage.setItem(Pe.keyPrefix+F,Ae),ye(J)}catch(Be){(Be.name==="QuotaExceededError"||Be.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Ne(Be),Ne(Be)}})})});return b(le,q),le}function no(F,te){if(te=E.apply(this,arguments),F=typeof F!="function"&&F||{},!F.name){var q=this.config();F.name=F.name||q.name,F.storeName=F.storeName||q.storeName}var oe=this,le;return F.name?le=new v(function(J){F.storeName?J(an(F,oe._defaultConfig)):J(F.name+"/")}).then(function(J){for(var ye=localStorage.length-1;ye>=0;ye--){var Ne=localStorage.key(ye);Ne.indexOf(J)===0&&localStorage.removeItem(Ne)}}):le=v.reject("Invalid arguments"),b(le,te),le}var Ka={_driver:"localStorageWrapper",_initStorage:is,_support:yi(),iterate:Tn,getItem:mn,setItem:lc,removeItem:Yu,clear:oi,length:ac,key:Qs,keys:As,dropInstance:no},Js=function(te,q){return te===q||typeof te=="number"&&typeof q=="number"&&isNaN(te)&&isNaN(q)},Er=function(te,q){for(var oe=te.length,le=0;le<oe;){if(Js(te[le],q))return!0;le++}return!1},ss=Array.isArray||function(F){return Object.prototype.toString.call(F)==="[object Array]"},Bi={},ln={},er={INDEXEDDB:ht,WEBSQL:ri,LOCALSTORAGE:Ka},cc=[er.INDEXEDDB._driver,er.WEBSQL._driver,er.LOCALSTORAGE._driver],Ui=["dropInstance"],Fi=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ui),io={description:"",driver:cc.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Wa(F,te){F[te]=function(){var q=arguments;return F.ready().then(function(){return F[te].apply(F,q)})}}function so(){for(var F=1;F<arguments.length;F++){var te=arguments[F];if(te)for(var q in te)te.hasOwnProperty(q)&&(ss(te[q])?arguments[0][q]=te[q].slice():arguments[0][q]=te[q])}return arguments[0]}var ro=(function(){function F(te){l(this,F);for(var q in er)if(er.hasOwnProperty(q)){var oe=er[q],le=oe._driver;this[q]=le,Bi[le]||this.defineDriver(oe)}this._defaultConfig=so({},io),this._config=so({},this._defaultConfig,te),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return F.prototype.config=function(q){if((typeof q>"u"?"undefined":o(q))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var oe in q){if(oe==="storeName"&&(q[oe]=q[oe].replace(/\W/g,"_")),oe==="version"&&typeof q[oe]!="number")return new Error("Database version must be a number.");this._config[oe]=q[oe]}return"driver"in q&&q.driver?this.setDriver(this._config.driver):!0}else return typeof q=="string"?this._config[q]:this._config},F.prototype.defineDriver=function(q,oe,le){var J=new v(function(ye,Ne){try{var Pe=q._driver,Ae=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!q._driver){Ne(Ae);return}for(var Me=Fi.concat("_initStorage"),Be=0,tt=Me.length;Be<tt;Be++){var We=Me[Be],ft=!Er(Ui,We);if((ft||q[We])&&typeof q[We]!="function"){Ne(Ae);return}}var Ut=function(){for(var Vi=function(Rr){return function(){var xi=new Error("Method "+Rr+" is not implemented by the current driver"),ao=v.reject(xi);return b(ao,arguments[arguments.length-1]),ao}},Ar=0,oo=Ui.length;Ar<oo;Ar++){var Tr=Ui[Ar];q[Tr]||(q[Tr]=Vi(Tr))}};Ut();var Et=function(Vi){Bi[Pe]&&console.info("Redefining LocalForage driver: "+Pe),Bi[Pe]=q,ln[Pe]=Vi,ye()};"_support"in q?q._support&&typeof q._support=="function"?q._support().then(Et,Ne):Et(!!q._support):Et(!0)}catch(Xn){Ne(Xn)}});return _(J,oe,le),J},F.prototype.driver=function(){return this._driver||null},F.prototype.getDriver=function(q,oe,le){var J=Bi[q]?v.resolve(Bi[q]):v.reject(new Error("Driver not found."));return _(J,oe,le),J},F.prototype.getSerializer=function(q){var oe=v.resolve(ns);return _(oe,q),oe},F.prototype.ready=function(q){var oe=this,le=oe._driverSet.then(function(){return oe._ready===null&&(oe._ready=oe._initDriver()),oe._ready});return _(le,q,q),le},F.prototype.setDriver=function(q,oe,le){var J=this;ss(q)||(q=[q]);var ye=this._getSupportedDrivers(q);function Ne(){J._config.driver=J.driver()}function Pe(Be){return J._extend(Be),Ne(),J._ready=J._initStorage(J._config),J._ready}function Ae(Be){return function(){var tt=0;function We(){for(;tt<Be.length;){var ft=Be[tt];return tt++,J._dbInfo=null,J._ready=null,J.getDriver(ft).then(Pe).catch(We)}Ne();var Ut=new Error("No available storage method found.");return J._driverSet=v.reject(Ut),J._driverSet}return We()}}var Me=this._driverSet!==null?this._driverSet.catch(function(){return v.resolve()}):v.resolve();return this._driverSet=Me.then(function(){var Be=ye[0];return J._dbInfo=null,J._ready=null,J.getDriver(Be).then(function(tt){J._driver=tt._driver,Ne(),J._wrapLibraryMethodsWithReady(),J._initDriver=Ae(ye)})}).catch(function(){Ne();var Be=new Error("No available storage method found.");return J._driverSet=v.reject(Be),J._driverSet}),_(this._driverSet,oe,le),this._driverSet},F.prototype.supports=function(q){return!!ln[q]},F.prototype._extend=function(q){so(this,q)},F.prototype._getSupportedDrivers=function(q){for(var oe=[],le=0,J=q.length;le<J;le++){var ye=q[le];this.supports(ye)&&oe.push(ye)}return oe},F.prototype._wrapLibraryMethodsWithReady=function(){for(var q=0,oe=Fi.length;q<oe;q++)Wa(this,Fi[q])},F.prototype.createInstance=function(q){return new F(q)},F})(),mt=new ro;i.exports=mt},{3:3}]},{},[4])(4)})})(_0)),_0.exports}var qle=Hle();const Gle=Qx(qle),Kle=new fZ({defaultOptions:{queries:{gcTime:1e3*60*60*24,staleTime:1e3*60*5,retry:1,refetchOnWindowFocus:!1}}}),Wle=Gle.createInstance({name:"treevera-db",storeName:"react-query-cache"}),Yle=$le({storage:Wle,key:"treevera-react-query-cache",throttleTime:1e3});$z.createRoot(document.getElementById("root")).render(y.jsx(x.StrictMode,{children:y.jsx(Fle,{client:Kle,persistOptions:{persister:Yle},children:y.jsx(Uq,{children:y.jsx(Ile,{})})})}));
