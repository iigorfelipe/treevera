function Rz(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(i,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var zm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ib={exports:{}},Fd={};var sA;function Nz(){if(sA)return Fd;sA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:e,type:i,key:l,ref:s!==void 0?s:null,props:o}}return Fd.Fragment=t,Fd.jsx=n,Fd.jsxs=n,Fd}var rA;function kz(){return rA||(rA=1,ib.exports=Nz()),ib.exports}var y=kz(),sb={exports:{}},at={};var oA;function Pz(){if(oA)return at;oA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function _(G){return G===null||typeof G!="object"?null:(G=b&&G[b]||G["@@iterator"],typeof G=="function"?G:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function k(G,oe,be){this.props=G,this.context=oe,this.refs=T,this.updater=be||C}k.prototype.isReactComponent={},k.prototype.setState=function(G,oe){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,oe,"setState")},k.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function N(){}N.prototype=k.prototype;function P(G,oe,be){this.props=G,this.context=oe,this.refs=T,this.updater=be||C}var O=P.prototype=new N;O.constructor=P,E(O,k.prototype),O.isPureReactComponent=!0;var j=Array.isArray;function V(){}var z={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function $(G,oe,be){var xe=be.ref;return{$$typeof:e,type:G,key:oe,ref:xe!==void 0?xe:null,props:be}}function Z(G,oe){return $(G.type,oe,G.props)}function K(G){return typeof G=="object"&&G!==null&&G.$$typeof===e}function Y(G){var oe={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(be){return oe[be]})}var Q=/\/+/g;function ie(G,oe){return typeof G=="object"&&G!==null&&G.key!=null?Y(""+G.key):oe.toString(36)}function ge(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(V,V):(G.status="pending",G.then(function(oe){G.status==="pending"&&(G.status="fulfilled",G.value=oe)},function(oe){G.status==="pending"&&(G.status="rejected",G.reason=oe)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function q(G,oe,be,xe,Re){var Se=typeof G;(Se==="undefined"||Se==="boolean")&&(G=null);var we=!1;if(G===null)we=!0;else switch(Se){case"bigint":case"string":case"number":we=!0;break;case"object":switch(G.$$typeof){case e:case t:we=!0;break;case m:return we=G._init,q(we(G._payload),oe,be,xe,Re)}}if(we)return Re=Re(G),we=xe===""?"."+ie(G,0):xe,j(Re)?(be="",we!=null&&(be=we.replace(Q,"$&/")+"/"),q(Re,oe,be,"",function(Le){return Le})):Re!=null&&(K(Re)&&(Re=Z(Re,be+(Re.key==null||G&&G.key===Re.key?"":(""+Re.key).replace(Q,"$&/")+"/")+we)),oe.push(Re)),1;we=0;var je=xe===""?".":xe+":";if(j(G))for(var De=0;De<G.length;De++)xe=G[De],Se=je+ie(xe,De),we+=q(xe,oe,be,Se,Re);else if(De=_(G),typeof De=="function")for(G=De.call(G),De=0;!(xe=G.next()).done;)xe=xe.value,Se=je+ie(xe,De++),we+=q(xe,oe,be,Se,Re);else if(Se==="object"){if(typeof G.then=="function")return q(ge(G),oe,be,xe,Re);throw oe=String(G),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return we}function W(G,oe,be){if(G==null)return G;var xe=[],Re=0;return q(G,xe,"","",function(Se){return oe.call(be,Se,Re++)}),xe}function ee(G){if(G._status===-1){var oe=G._result;oe=oe(),oe.then(function(be){(G._status===0||G._status===-1)&&(G._status=1,G._result=be)},function(be){(G._status===0||G._status===-1)&&(G._status=2,G._result=be)}),G._status===-1&&(G._status=0,G._result=oe)}if(G._status===1)return G._result.default;throw G._result}var de=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},ae={map:W,forEach:function(G,oe,be){W(G,function(){oe.apply(this,arguments)},be)},count:function(G){var oe=0;return W(G,function(){oe++}),oe},toArray:function(G){return W(G,function(oe){return oe})||[]},only:function(G){if(!K(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return at.Activity=v,at.Children=ae,at.Component=k,at.Fragment=n,at.Profiler=s,at.PureComponent=P,at.StrictMode=i,at.Suspense=d,at.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,at.__COMPILER_RUNTIME={__proto__:null,c:function(G){return z.H.useMemoCache(G)}},at.cache=function(G){return function(){return G.apply(null,arguments)}},at.cacheSignal=function(){return null},at.cloneElement=function(G,oe,be){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var xe=E({},G.props),Re=G.key;if(oe!=null)for(Se in oe.key!==void 0&&(Re=""+oe.key),oe)!I.call(oe,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&oe.ref===void 0||(xe[Se]=oe[Se]);var Se=arguments.length-2;if(Se===1)xe.children=be;else if(1<Se){for(var we=Array(Se),je=0;je<Se;je++)we[je]=arguments[je+2];xe.children=we}return $(G.type,Re,xe)},at.createContext=function(G){return G={$$typeof:l,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:o,_context:G},G},at.createElement=function(G,oe,be){var xe,Re={},Se=null;if(oe!=null)for(xe in oe.key!==void 0&&(Se=""+oe.key),oe)I.call(oe,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(Re[xe]=oe[xe]);var we=arguments.length-2;if(we===1)Re.children=be;else if(1<we){for(var je=Array(we),De=0;De<we;De++)je[De]=arguments[De+2];Re.children=je}if(G&&G.defaultProps)for(xe in we=G.defaultProps,we)Re[xe]===void 0&&(Re[xe]=we[xe]);return $(G,Se,Re)},at.createRef=function(){return{current:null}},at.forwardRef=function(G){return{$$typeof:c,render:G}},at.isValidElement=K,at.lazy=function(G){return{$$typeof:m,_payload:{_status:-1,_result:G},_init:ee}},at.memo=function(G,oe){return{$$typeof:h,type:G,compare:oe===void 0?null:oe}},at.startTransition=function(G){var oe=z.T,be={};z.T=be;try{var xe=G(),Re=z.S;Re!==null&&Re(be,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(V,de)}catch(Se){de(Se)}finally{oe!==null&&be.types!==null&&(oe.types=be.types),z.T=oe}},at.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},at.use=function(G){return z.H.use(G)},at.useActionState=function(G,oe,be){return z.H.useActionState(G,oe,be)},at.useCallback=function(G,oe){return z.H.useCallback(G,oe)},at.useContext=function(G){return z.H.useContext(G)},at.useDebugValue=function(){},at.useDeferredValue=function(G,oe){return z.H.useDeferredValue(G,oe)},at.useEffect=function(G,oe){return z.H.useEffect(G,oe)},at.useEffectEvent=function(G){return z.H.useEffectEvent(G)},at.useId=function(){return z.H.useId()},at.useImperativeHandle=function(G,oe,be){return z.H.useImperativeHandle(G,oe,be)},at.useInsertionEffect=function(G,oe){return z.H.useInsertionEffect(G,oe)},at.useLayoutEffect=function(G,oe){return z.H.useLayoutEffect(G,oe)},at.useMemo=function(G,oe){return z.H.useMemo(G,oe)},at.useOptimistic=function(G,oe){return z.H.useOptimistic(G,oe)},at.useReducer=function(G,oe,be){return z.H.useReducer(G,oe,be)},at.useRef=function(G){return z.H.useRef(G)},at.useState=function(G){return z.H.useState(G)},at.useSyncExternalStore=function(G,oe,be){return z.H.useSyncExternalStore(G,oe,be)},at.useTransition=function(){return z.H.useTransition()},at.version="19.2.4",at}var aA;function Gf(){return aA||(aA=1,sb.exports=Pz()),sb.exports}var x=Gf();const Ot=Xx(x),Qx=Rz({__proto__:null,default:Ot},[x]);var rb={exports:{}},Vd={},ob={exports:{}},ab={};var lA;function Oz(){return lA||(lA=1,(function(e){function t(q,W){var ee=q.length;q.push(W);e:for(;0<ee;){var de=ee-1>>>1,ae=q[de];if(0<s(ae,W))q[de]=W,q[ee]=ae,ee=de;else break e}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var W=q[0],ee=q.pop();if(ee!==W){q[0]=ee;e:for(var de=0,ae=q.length,G=ae>>>1;de<G;){var oe=2*(de+1)-1,be=q[oe],xe=oe+1,Re=q[xe];if(0>s(be,ee))xe<ae&&0>s(Re,be)?(q[de]=Re,q[xe]=ee,de=xe):(q[de]=be,q[oe]=ee,de=oe);else if(xe<ae&&0>s(Re,ee))q[de]=Re,q[xe]=ee,de=xe;else break e}}return W}function s(q,W){var ee=q.sortIndex-W.sortIndex;return ee!==0?ee:q.id-W.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],h=[],m=1,v=null,b=3,_=!1,C=!1,E=!1,T=!1,k=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function O(q){for(var W=n(h);W!==null;){if(W.callback===null)i(h);else if(W.startTime<=q)i(h),W.sortIndex=W.expirationTime,t(d,W);else break;W=n(h)}}function j(q){if(E=!1,O(q),!C)if(n(d)!==null)C=!0,V||(V=!0,Y());else{var W=n(h);W!==null&&ge(j,W.startTime-q)}}var V=!1,z=-1,I=5,$=-1;function Z(){return T?!0:!(e.unstable_now()-$<I)}function K(){if(T=!1,V){var q=e.unstable_now();$=q;var W=!0;try{e:{C=!1,E&&(E=!1,N(z),z=-1),_=!0;var ee=b;try{t:{for(O(q),v=n(d);v!==null&&!(v.expirationTime>q&&Z());){var de=v.callback;if(typeof de=="function"){v.callback=null,b=v.priorityLevel;var ae=de(v.expirationTime<=q);if(q=e.unstable_now(),typeof ae=="function"){v.callback=ae,O(q),W=!0;break t}v===n(d)&&i(d),O(q)}else i(d);v=n(d)}if(v!==null)W=!0;else{var G=n(h);G!==null&&ge(j,G.startTime-q),W=!1}}break e}finally{v=null,b=ee,_=!1}W=void 0}}finally{W?Y():V=!1}}}var Y;if(typeof P=="function")Y=function(){P(K)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ie=Q.port2;Q.port1.onmessage=K,Y=function(){ie.postMessage(null)}}else Y=function(){k(K,0)};function ge(q,W){z=k(function(){q(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(q){switch(b){case 1:case 2:case 3:var W=3;break;default:W=b}var ee=b;b=W;try{return q()}finally{b=ee}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(q,W){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ee=b;b=q;try{return W()}finally{b=ee}},e.unstable_scheduleCallback=function(q,W,ee){var de=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?de+ee:de):ee=de,q){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=ee+ae,q={id:m++,callback:W,priorityLevel:q,startTime:ee,expirationTime:ae,sortIndex:-1},ee>de?(q.sortIndex=ee,t(h,q),n(d)===null&&q===n(h)&&(E?(N(z),z=-1):E=!0,ge(j,ee-de))):(q.sortIndex=ae,t(d,q),C||_||(C=!0,V||(V=!0,Y()))),q},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(q){var W=b;return function(){var ee=b;b=W;try{return q.apply(this,arguments)}finally{b=ee}}}})(ab)),ab}var cA;function Mz(){return cA||(cA=1,ob.exports=Oz()),ob.exports}var lb={exports:{}},Si={};var uA;function Dz(){if(uA)return Si;uA=1;var e=Gf();function t(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,h,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:d,containerInfo:h,implementation:m}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Si.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Si.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return o(d,h,null,m)},Si.flushSync=function(d){var h=l.T,m=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=h,i.p=m,i.d.f()}},Si.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(d,h))},Si.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Si.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,v=c(m,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?i.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:_}):m==="script"&&i.d.X(d,{crossOrigin:v,integrity:b,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Si.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);i.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(d)},Si.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,v=c(m,h.crossOrigin);i.d.L(d,m,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Si.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=c(h.as,h.crossOrigin);i.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(d)},Si.requestFormReset=function(d){i.d.r(d)},Si.unstable_batchedUpdates=function(d,h){return d(h)},Si.useFormState=function(d,h,m){return l.H.useFormState(d,h,m)},Si.useFormStatus=function(){return l.H.useHostTransitionStatus()},Si.version="19.2.4",Si}var dA;function BN(){if(dA)return lb.exports;dA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),lb.exports=Dz(),lb.exports}var fA;function Lz(){if(fA)return Vd;fA=1;var e=Mz(),t=Gf(),n=BN();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)a+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,f=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(f=a.return),r=a.return;while(r)}return a.tag===3?f:null}function l(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function c(r){if(r.tag===31){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(i(188))}function h(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var f=r,g=a;;){var S=f.return;if(S===null)break;var A=S.alternate;if(A===null){if(g=S.return,g!==null){f=g;continue}break}if(S.child===A.child){for(A=S.child;A;){if(A===f)return d(S),r;if(A===g)return d(S),a;A=A.sibling}throw Error(i(188))}if(f.return!==g.return)f=S,g=A;else{for(var D=!1,F=S.child;F;){if(F===f){D=!0,f=S,g=A;break}if(F===g){D=!0,g=S,f=A;break}F=F.sibling}if(!D){for(F=A.child;F;){if(F===f){D=!0,f=A,g=S;break}if(F===g){D=!0,g=A,f=S;break}F=F.sibling}if(!D)throw Error(i(189))}}if(f.alternate!==g)throw Error(i(190))}if(f.tag!==3)throw Error(i(188));return f.stateNode.current===f?r:a}function m(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=m(r),a!==null)return a;r=r.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),P=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function Y(r){return r===null||typeof r!="object"?null:(r=K&&r[K]||r["@@iterator"],typeof r=="function"?r:null)}var Q=Symbol.for("react.client.reference");function ie(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===Q?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case k:return"Profiler";case T:return"StrictMode";case j:return"Suspense";case V:return"SuspenseList";case $:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case P:return r.displayName||"Context";case N:return(r._context.displayName||"Context")+".Consumer";case O:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case z:return a=r.displayName||null,a!==null?a:ie(r.type)||"Memo";case I:a=r._payload,r=r._init;try{return ie(r(a))}catch{}}return null}var ge=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},de=[],ae=-1;function G(r){return{current:r}}function oe(r){0>ae||(r.current=de[ae],de[ae]=null,ae--)}function be(r,a){ae++,de[ae]=r.current,r.current=a}var xe=G(null),Re=G(null),Se=G(null),we=G(null);function je(r,a){switch(be(Se,a),be(Re,r),be(xe,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?TE(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=TE(a),r=RE(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}oe(xe),be(xe,r)}function De(){oe(xe),oe(Re),oe(Se)}function Le(r){r.memoizedState!==null&&be(we,r);var a=xe.current,f=RE(a,r.type);a!==f&&(be(Re,r),be(xe,f))}function Xe(r){Re.current===r&&(oe(xe),oe(Re)),we.current===r&&(oe(we),Id._currentValue=ee)}var Qe,Ct;function yt(r){if(Qe===void 0)try{throw Error()}catch(f){var a=f.stack.trim().match(/\n( *(at )?)/);Qe=a&&a[1]||"",Ct=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qe+r+Ct}var zt=!1;function dn(r,a){if(!r||zt)return"";zt=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(a){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(ye){var pe=ye}Reflect.construct(r,[],Te)}else{try{Te.call()}catch(ye){pe=ye}r.call(Te.prototype)}}else{try{throw Error()}catch(ye){pe=ye}(Te=r())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(ye){if(ye&&pe&&typeof ye.stack=="string")return[ye.stack,pe.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=g.DetermineComponentFrameRoot(),D=A[0],F=A[1];if(D&&F){var ne=D.split(`
`),he=F.split(`
`);for(S=g=0;g<ne.length&&!ne[g].includes("DetermineComponentFrameRoot");)g++;for(;S<he.length&&!he[S].includes("DetermineComponentFrameRoot");)S++;if(g===ne.length||S===he.length)for(g=ne.length-1,S=he.length-1;1<=g&&0<=S&&ne[g]!==he[S];)S--;for(;1<=g&&0<=S;g--,S--)if(ne[g]!==he[S]){if(g!==1||S!==1)do if(g--,S--,0>S||ne[g]!==he[S]){var _e=`
`+ne[g].replace(" at new "," at ");return r.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",r.displayName)),_e}while(1<=g&&0<=S);break}}}finally{zt=!1,Error.prepareStackTrace=f}return(f=r?r.displayName||r.name:"")?yt(f):""}function fn(r,a){switch(r.tag){case 26:case 27:case 5:return yt(r.type);case 16:return yt("Lazy");case 13:return r.child!==a&&a!==null?yt("Suspense Fallback"):yt("Suspense");case 19:return yt("SuspenseList");case 0:case 15:return dn(r.type,!1);case 11:return dn(r.type.render,!1);case 1:return dn(r.type,!0);case 31:return yt("Activity");default:return""}}function jn(r){try{var a="",f=null;do a+=fn(r,f),f=r,r=r.return;while(r);return a}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var _n=Object.prototype.hasOwnProperty,wn=e.unstable_scheduleCallback,qn=e.unstable_cancelCallback,Ti=e.unstable_shouldYield,Cs=e.unstable_requestPaint,sn=e.unstable_now,Sr=e.unstable_getCurrentPriorityLevel,bt=e.unstable_ImmediatePriority,Tt=e.unstable_UserBlockingPriority,Bt=e.unstable_NormalPriority,Ri=e.unstable_LowPriority,Ys=e.unstable_IdlePriority,vi=e.log,Jr=e.unstable_setDisableYieldValue,ts=null,rn=null;function si(r){if(typeof vi=="function"&&Jr(r),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(ts,r)}catch{}}var En=Math.clz32?Math.clz32:Ga,ns=Math.log,eo=Math.LN2;function Ga(r){return r>>>=0,r===0?32:31-(ns(r)/eo|0)|0}var Gn=256,Zs=262144,Yt=4194304;function Zt(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function hn(r,a,f){var g=r.pendingLanes;if(g===0)return 0;var S=0,A=r.suspendedLanes,D=r.pingedLanes;r=r.warmLanes;var F=g&134217727;return F!==0?(g=F&~A,g!==0?S=Zt(g):(D&=F,D!==0?S=Zt(D):f||(f=F&~r,f!==0&&(S=Zt(f))))):(F=g&~A,F!==0?S=Zt(F):D!==0?S=Zt(D):f||(f=g&~r,f!==0&&(S=Zt(f)))),S===0?0:a!==0&&a!==S&&(a&A)===0&&(A=S&-S,f=a&-a,A>=f||A===32&&(f&4194048)!==0)?a:S}function Kn(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Wn(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function An(){var r=Yt;return Yt<<=1,(Yt&62914560)===0&&(Yt=4194304),r}function Yn(r){for(var a=[],f=0;31>f;f++)a.push(r);return a}function Zn(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function on(r,a,f,g,S,A){var D=r.pendingLanes;r.pendingLanes=f,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=f,r.entangledLanes&=f,r.errorRecoveryDisabledLanes&=f,r.shellSuspendCounter=0;var F=r.entanglements,ne=r.expirationTimes,he=r.hiddenUpdates;for(f=D&~f;0<f;){var _e=31-En(f),Te=1<<_e;F[_e]=0,ne[_e]=-1;var pe=he[_e];if(pe!==null)for(he[_e]=null,_e=0;_e<pe.length;_e++){var ye=pe[_e];ye!==null&&(ye.lane&=-536870913)}f&=~Te}g!==0&&Ni(r,g,0),A!==0&&S===0&&r.tag!==0&&(r.suspendedLanes|=A&~(D&~a))}function Ni(r,a,f){r.pendingLanes|=a,r.suspendedLanes&=~a;var g=31-En(a);r.entangledLanes|=a,r.entanglements[g]=r.entanglements[g]|1073741824|f&261930}function ri(r,a){var f=r.entangledLanes|=a;for(r=r.entanglements;f;){var g=31-En(f),S=1<<g;S&a|r[g]&a&&(r[g]|=a),f&=~S}}function yi(r,a){var f=a&-a;return f=(f&42)!==0?1:an(f),(f&(r.suspendedLanes|a))!==0?0:f}function an(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ze(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function bi(){var r=W.p;return r!==0?r:(r=window.event,r===void 0?32:XE(r.type))}function is(r,a){var f=W.p;try{return W.p=r,a()}finally{W.p=f}}var oi=Math.random().toString(36).slice(2),mn="__reactFiber$"+oi,Tn="__reactProps$"+oi,Xs="__reactContainer$"+oi,Es="__reactEvents$"+oi,oc="__reactListeners$"+oi,Wu="__reactHandles$"+oi,ac="__reactResources$"+oi,to="__reactMarker$"+oi;function Ka(r){delete r[mn],delete r[Tn],delete r[Es],delete r[oc],delete r[Wu]}function Qs(r){var a=r[mn];if(a)return a;for(var f=r.parentNode;f;){if(a=f[Xs]||f[mn]){if(f=a.alternate,a.child!==null||f!==null&&f.child!==null)for(r=LE(r);r!==null;){if(f=r[mn])return f;r=LE(r)}return a}r=f,f=r.parentNode}return null}function Cr(r){if(r=r[mn]||r[Xs]){var a=r.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return r}return null}function ss(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Bi(r){var a=r[ac];return a||(a=r[ac]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ln(r){r[to]=!0}var Js=new Set,lc={};function Ui(r,a){Fi(r,a),Fi(r+"Capture",a)}function Fi(r,a){for(lc[r]=a,r=0;r<a.length;r++)Js.add(a[r])}var no=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wa={},io={};function so(r){return _n.call(io,r)?!0:_n.call(Wa,r)?!1:no.test(r)?io[r]=!0:(Wa[r]=!0,!1)}function ht(r,a,f){if(so(a))if(f===null)r.removeAttribute(a);else{switch(typeof f){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var g=a.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+f)}}function U(r,a,f){if(f===null)r.removeAttribute(a);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+f)}}function te(r,a,f,g){if(g===null)r.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(f);return}r.setAttributeNS(a,f,""+g)}}function H(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function re(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function le(r,a,f){var g=Object.getOwnPropertyDescriptor(r.constructor.prototype,a);if(!r.hasOwnProperty(a)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var S=g.get,A=g.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return S.call(this)},set:function(D){f=""+D,A.call(this,D)}}),Object.defineProperty(r,a,{enumerable:g.enumerable}),{getValue:function(){return f},setValue:function(D){f=""+D},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function J(r){if(!r._valueTracker){var a=re(r)?"checked":"value";r._valueTracker=le(r,a,""+r[a])}}function ve(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var f=a.getValue(),g="";return r&&(g=re(r)?r.checked?"true":"false":r.value),r=g,r!==f?(a.setValue(r),!0):!1}function Ne(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var ke=/[\n"\\]/g;function Ee(r){return r.replace(ke,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Pe(r,a,f,g,S,A,D,F){r.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.type=D:r.removeAttribute("type"),a!=null?D==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+H(a)):r.value!==""+H(a)&&(r.value=""+H(a)):D!=="submit"&&D!=="reset"||r.removeAttribute("value"),a!=null?tt(r,D,H(a)):f!=null?tt(r,D,H(f)):g!=null&&r.removeAttribute("value"),S==null&&A!=null&&(r.defaultChecked=!!A),S!=null&&(r.checked=S&&typeof S!="function"&&typeof S!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?r.name=""+H(F):r.removeAttribute("name")}function Be(r,a,f,g,S,A,D,F){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(r.type=A),a!=null||f!=null){if(!(A!=="submit"&&A!=="reset"||a!=null)){J(r);return}f=f!=null?""+H(f):"",a=a!=null?""+H(a):f,F||a===r.value||(r.value=a),r.defaultValue=a}g=g??S,g=typeof g!="function"&&typeof g!="symbol"&&!!g,r.checked=F?r.checked:!!g,r.defaultChecked=!!g,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(r.name=D),J(r)}function tt(r,a,f){a==="number"&&Ne(r.ownerDocument)===r||r.defaultValue===""+f||(r.defaultValue=""+f)}function Ke(r,a,f,g){if(r=r.options,a){a={};for(var S=0;S<f.length;S++)a["$"+f[S]]=!0;for(f=0;f<r.length;f++)S=a.hasOwnProperty("$"+r[f].value),r[f].selected!==S&&(r[f].selected=S),S&&g&&(r[f].defaultSelected=!0)}else{for(f=""+H(f),a=null,S=0;S<r.length;S++){if(r[S].value===f){r[S].selected=!0,g&&(r[S].defaultSelected=!0);return}a!==null||r[S].disabled||(a=r[S])}a!==null&&(a.selected=!0)}}function ft(r,a,f){if(a!=null&&(a=""+H(a),a!==r.value&&(r.value=a),f==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=f!=null?""+H(f):""}function Ut(r,a,f,g){if(a==null){if(g!=null){if(f!=null)throw Error(i(92));if(ge(g)){if(1<g.length)throw Error(i(93));g=g[0]}f=g}f==null&&(f=""),a=f}f=H(a),r.defaultValue=f,g=r.textContent,g===f&&g!==""&&g!==null&&(r.value=g),J(r)}function Et(r,a){if(a){var f=r.firstChild;if(f&&f===r.lastChild&&f.nodeType===3){f.nodeValue=a;return}}r.textContent=a}var Xn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vi(r,a,f){var g=a.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?g?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":g?r.setProperty(a,f):typeof f!="number"||f===0||Xn.has(a)?a==="float"?r.cssFloat=f:r[a]=(""+f).trim():r[a]=f+"px"}function Er(r,a,f){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,f!=null){for(var g in f)!f.hasOwnProperty(g)||a!=null&&a.hasOwnProperty(g)||(g.indexOf("--")===0?r.setProperty(g,""):g==="float"?r.cssFloat="":r[g]="");for(var S in a)g=a[S],a.hasOwnProperty(S)&&f[S]!==g&&Vi(r,S,g)}else for(var A in a)a.hasOwnProperty(A)&&Vi(r,A,a[A])}function ro(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ar=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tr(r){return cc.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function xi(){}var oo=null;function Ya(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Fo=null,st=null;function rs(r){var a=Cr(r);if(a&&(r=a.stateNode)){var f=r[Tn]||null;e:switch(r=a.stateNode,a.type){case"input":if(Pe(r,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),a=f.name,f.type==="radio"&&a!=null){for(f=r;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Ee(""+a)+'"][type="radio"]'),a=0;a<f.length;a++){var g=f[a];if(g!==r&&g.form===r.form){var S=g[Tn]||null;if(!S)throw Error(i(90));Pe(g,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(a=0;a<f.length;a++)g=f[a],g.form===r.form&&ve(g)}break e;case"textarea":ft(r,f.value,f.defaultValue);break e;case"select":a=f.value,a!=null&&Ke(r,!!f.multiple,a,!1)}}}var It=!1;function Yu(r,a,f){if(It)return r(a,f);It=!0;try{var g=r(a);return g}finally{if(It=!1,(Fo!==null||st!==null)&&(gm(),Fo&&(a=Fo,r=st,st=Fo=null,rs(a),r)))for(a=0;a<r.length;a++)rs(r[a])}}function ao(r,a){var f=r.stateNode;if(f===null)return null;var g=f[Tn]||null;if(g===null)return null;f=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(r=r.type,g=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!g;break e;default:r=!1}if(r)return null;if(f&&typeof f!="function")throw Error(i(231,a,typeof f));return f}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Za=!1;if(os)try{var as={};Object.defineProperty(as,"passive",{get:function(){Za=!0}}),window.addEventListener("test",as,as),window.removeEventListener("test",as,as)}catch{Za=!1}var As=null,lo=null,pn=null;function Rr(){if(pn)return pn;var r,a=lo,f=a.length,g,S="value"in As?As.value:As.textContent,A=S.length;for(r=0;r<f&&a[r]===S[r];r++);var D=f-r;for(g=1;g<=D&&a[f-g]===S[A-g];g++);return pn=S.slice(r,1<g?1-g:void 0)}function Xa(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Qa(){return!0}function _h(){return!1}function ai(r){function a(f,g,S,A,D){this._reactName=f,this._targetInst=S,this.type=g,this.nativeEvent=A,this.target=D,this.currentTarget=null;for(var F in r)r.hasOwnProperty(F)&&(f=r[F],this[F]=f?f(A):A[F]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Qa:_h,this.isPropagationStopped=_h,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Qa)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Qa)},persist:function(){},isPersistent:Qa}),a}var er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uc=ai(er),Vo=v({},er,{view:0,detail:0}),xt=ai(Vo),Zu,ki,tr,Ja=v({},Vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nd,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==tr&&(tr&&r.type==="mousemove"?(Zu=r.screenX-tr.screenX,ki=r.screenY-tr.screenY):ki=Zu=0,tr=r),Zu)},movementY:function(r){return"movementY"in r?r.movementY:ki}}),wh=ai(Ja),Xu=v({},Ja,{dataTransfer:0}),hv=ai(Xu),Sh=v({},Vo,{relatedTarget:0}),Qu=ai(Sh),mv=v({},er,{animationName:0,elapsedTime:0,pseudoElement:0}),Ju=ai(mv),pv=v({},er,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ts=ai(pv),gv=v({},er,{data:0}),ed=ai(gv),Nr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function td(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Eh[r])?!!a[r]:!1}function nd(){return td}var Ah=v({},Vo,{key:function(r){if(r.key){var a=Nr[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Xa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ch[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nd,charCode:function(r){return r.type==="keypress"?Xa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Xa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Th=ai(Ah),vv=v({},Ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rh=ai(vv),id=v({},Vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nd}),yv=ai(id),Nh=v({},er,{propertyName:0,elapsedTime:0,pseudoElement:0}),kh=ai(Nh),dc=v({},Ja,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),co=ai(dc),bv=v({},er,{newState:0,oldState:0}),el=ai(bv),$i=[9,13,27,32],fc=os&&"CompositionEvent"in window,$o=null;os&&"documentMode"in document&&($o=document.documentMode);var xv=os&&"TextEvent"in window&&!$o,hc=os&&(!fc||$o&&8<$o&&11>=$o),mc=" ",Ph=!1;function Oh(r,a){switch(r){case"keyup":return $i.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sd(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ho=!1;function ls(r,a){switch(r){case"compositionend":return sd(a);case"keypress":return a.which!==32?null:(Ph=!0,mc);case"textInput":return r=a.data,r===mc&&Ph?null:r;default:return null}}function qo(r,a){if(Ho)return r==="compositionend"||!fc&&Oh(r,a)?(r=Rr(),pn=lo=As=null,Ho=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return hc&&a.locale!=="ko"?null:a.data;default:return null}}var _v={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rs(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!_v[r.type]:a==="textarea"}function Mh(r,a,f,g){Fo?st?st.push(g):st=[g]:Fo=g,a=Sm(a,"onChange"),0<a.length&&(f=new uc("onChange","change",null,f,g),r.push({event:f,listeners:a}))}var Ns=null,tl=null;function nl(r){_E(r,0)}function il(r){var a=ss(r);if(ve(a))return r}function sl(r,a){if(r==="change")return a}var Dh=!1;if(os){var ks;if(os){var Go="oninput"in document;if(!Go){var Lh=document.createElement("div");Lh.setAttribute("oninput","return;"),Go=typeof Lh.oninput=="function"}ks=Go}else ks=!1;Dh=ks&&(!document.documentMode||9<document.documentMode)}function pc(){Ns&&(Ns.detachEvent("onpropertychange",jh),tl=Ns=null)}function jh(r){if(r.propertyName==="value"&&il(tl)){var a=[];Mh(a,tl,r,Ya(r)),Yu(nl,a)}}function nr(r,a,f){r==="focusin"?(pc(),Ns=a,tl=f,Ns.attachEvent("onpropertychange",jh)):r==="focusout"&&pc()}function wv(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return il(tl)}function Ko(r,a){if(r==="click")return il(a)}function Sv(r,a){if(r==="input"||r==="change")return il(a)}function ir(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Qn=typeof Object.is=="function"?Object.is:ir;function Wo(r,a){if(Qn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var f=Object.keys(r),g=Object.keys(a);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var S=f[g];if(!_n.call(a,S)||!Qn(r[S],a[S]))return!1}return!0}function gc(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function rl(r,a){var f=gc(r);r=0;for(var g;f;){if(f.nodeType===3){if(g=r+f.textContent.length,r<=a&&g>=a)return{node:f,offset:a-r};r=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=gc(f)}}function vc(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?vc(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function ol(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Ne(r.document);a instanceof r.HTMLIFrameElement;){try{var f=typeof a.contentWindow.location.href=="string"}catch{f=!1}if(f)r=a.contentWindow;else break;a=Ne(r.document)}return a}function kr(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var yc=os&&"documentMode"in document&&11>=document.documentMode,Pr=null,bc=null,al=null,Yo=!1;function Ih(r,a,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Yo||Pr==null||Pr!==Ne(g)||(g=Pr,"selectionStart"in g&&kr(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),al&&Wo(al,g)||(al=g,g=Sm(bc,"onSelect"),0<g.length&&(a=new uc("onSelect","select",null,a,f),r.push({event:a,listeners:g}),a.target=Pr)))}function Or(r,a){var f={};return f[r.toLowerCase()]=a.toLowerCase(),f["Webkit"+r]="webkit"+a,f["Moz"+r]="moz"+a,f}var Zo={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionrun:Or("Transition","TransitionRun"),transitionstart:Or("Transition","TransitionStart"),transitioncancel:Or("Transition","TransitionCancel"),transitionend:Or("Transition","TransitionEnd")},xc={},zh={};os&&(zh=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function Jn(r){if(xc[r])return xc[r];if(!Zo[r])return r;var a=Zo[r],f;for(f in a)if(a.hasOwnProperty(f)&&f in zh)return xc[r]=a[f];return r}var ll=Jn("animationend"),Bh=Jn("animationiteration"),cl=Jn("animationstart"),Cv=Jn("transitionrun"),Uh=Jn("transitionstart"),Ev=Jn("transitioncancel"),Xo=Jn("transitionend"),Fh=new Map,Mr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mr.push("scrollEnd");function Hi(r,a){Fh.set(r,a),Ui(a,[r])}var ul=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},qi=[],_i=0,_c=0;function dl(){for(var r=_i,a=_c=_i=0;a<r;){var f=qi[a];qi[a++]=null;var g=qi[a];qi[a++]=null;var S=qi[a];qi[a++]=null;var A=qi[a];if(qi[a++]=null,g!==null&&S!==null){var D=g.pending;D===null?S.next=S:(S.next=D.next,D.next=S),g.pending=S}A!==0&&Qo(f,S,A)}}function Dr(r,a,f,g){qi[_i++]=r,qi[_i++]=a,qi[_i++]=f,qi[_i++]=g,_c|=g,r.lanes|=g,r=r.alternate,r!==null&&(r.lanes|=g)}function rd(r,a,f,g){return Dr(r,a,f,g),fl(r)}function Ps(r,a){return Dr(r,null,null,a),fl(r)}function Qo(r,a,f){r.lanes|=f;var g=r.alternate;g!==null&&(g.lanes|=f);for(var S=!1,A=r.return;A!==null;)A.childLanes|=f,g=A.alternate,g!==null&&(g.childLanes|=f),A.tag===22&&(r=A.stateNode,r===null||r._visibility&1||(S=!0)),r=A,A=A.return;return r.tag===3?(A=r.stateNode,S&&a!==null&&(S=31-En(f),r=A.hiddenUpdates,g=r[S],g===null?r[S]=[a]:g.push(a),a.lane=f|536870912),A):null}function fl(r){if(50<kd)throw kd=0,Ty=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var uo={};function Av(r,a,f,g){this.tag=r,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wi(r,a,f,g){return new Av(r,a,f,g)}function wc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Os(r,a){var f=r.alternate;return f===null?(f=wi(r.tag,a,r.key,r.mode),f.elementType=r.elementType,f.type=r.type,f.stateNode=r.stateNode,f.alternate=r,r.alternate=f):(f.pendingProps=a,f.type=r.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=r.flags&65011712,f.childLanes=r.childLanes,f.lanes=r.lanes,f.child=r.child,f.memoizedProps=r.memoizedProps,f.memoizedState=r.memoizedState,f.updateQueue=r.updateQueue,a=r.dependencies,f.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},f.sibling=r.sibling,f.index=r.index,f.ref=r.ref,f.refCleanup=r.refCleanup,f}function od(r,a){r.flags&=65011714;var f=r.alternate;return f===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=f.childLanes,r.lanes=f.lanes,r.child=f.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=f.memoizedProps,r.memoizedState=f.memoizedState,r.updateQueue=f.updateQueue,r.type=f.type,a=f.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function hl(r,a,f,g,S,A){var D=0;if(g=r,typeof r=="function")wc(r)&&(D=1);else if(typeof r=="string")D=gz(r,f,xe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case $:return r=wi(31,f,a,S),r.elementType=$,r.lanes=A,r;case E:return fo(f.children,S,A,a);case T:D=8,S|=24;break;case k:return r=wi(12,f,a,S|2),r.elementType=k,r.lanes=A,r;case j:return r=wi(13,f,a,S),r.elementType=j,r.lanes=A,r;case V:return r=wi(19,f,a,S),r.elementType=V,r.lanes=A,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case P:D=10;break e;case N:D=9;break e;case O:D=11;break e;case z:D=14;break e;case I:D=16,g=null;break e}D=29,f=Error(i(130,r===null?"null":typeof r,"")),g=null}return a=wi(D,f,a,S),a.elementType=r,a.type=g,a.lanes=A,a}function fo(r,a,f,g){return r=wi(7,r,g,a),r.lanes=f,r}function Sc(r,a,f){return r=wi(6,r,null,a),r.lanes=f,r}function ad(r){var a=wi(18,null,null,0);return a.stateNode=r,a}function ld(r,a,f){return a=wi(4,r.children!==null?r.children:[],r.key,a),a.lanes=f,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var u=new WeakMap;function p(r,a){if(typeof r=="object"&&r!==null){var f=u.get(r);return f!==void 0?f:(a={value:r,source:a,stack:jn(a)},u.set(r,a),a)}return{value:r,source:a,stack:jn(a)}}var w=[],R=0,M=null,B=0,X=[],ue=0,me=null,Ae=1,Oe="";function qe(r,a){w[R++]=B,w[R++]=M,M=r,B=a}function ct(r,a,f){X[ue++]=Ae,X[ue++]=Oe,X[ue++]=me,me=r;var g=Ae;r=Oe;var S=32-En(g)-1;g&=~(1<<S),f+=1;var A=32-En(a)+S;if(30<A){var D=S-S%5;A=(g&(1<<D)-1).toString(32),g>>=D,S-=D,Ae=1<<32-En(a)+S|f<<S|g,Oe=A+r}else Ae=1<<A|f<<S|g,Oe=r}function In(r){r.return!==null&&(qe(r,1),ct(r,1,0))}function gn(r){for(;r===M;)M=w[--R],w[R]=null,B=w[--R],w[R]=null;for(;r===me;)me=X[--ue],X[ue]=null,Oe=X[--ue],X[ue]=null,Ae=X[--ue],X[ue]=null}function Pi(r,a){X[ue++]=Ae,X[ue++]=Oe,X[ue++]=me,Ae=a.id,Oe=a.overflow,me=r}var Rt=null,Nt=null,pt=!1,Lr=null,Gi=!1,Cc=Error(i(519));function jr(r){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ml(p(a,r)),Cc}function cd(r){var a=r.stateNode,f=r.type,g=r.memoizedProps;switch(a[mn]=r,a[Tn]=g,f){case"dialog":vt("cancel",a),vt("close",a);break;case"iframe":case"object":case"embed":vt("load",a);break;case"video":case"audio":for(f=0;f<Od.length;f++)vt(Od[f],a);break;case"source":vt("error",a);break;case"img":case"image":case"link":vt("error",a),vt("load",a);break;case"details":vt("toggle",a);break;case"input":vt("invalid",a),Be(a,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":vt("invalid",a);break;case"textarea":vt("invalid",a),Ut(a,g.value,g.defaultValue,g.children)}f=g.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||a.textContent===""+f||g.suppressHydrationWarning===!0||EE(a.textContent,f)?(g.popover!=null&&(vt("beforetoggle",a),vt("toggle",a)),g.onScroll!=null&&vt("scroll",a),g.onScrollEnd!=null&&vt("scrollend",a),g.onClick!=null&&(a.onclick=xi),a=!0):a=!1,a||jr(r,!0)}function cn(r){for(Rt=r.return;Rt;)switch(Rt.tag){case 5:case 31:case 13:Gi=!1;return;case 27:case 3:Gi=!0;return;default:Rt=Rt.return}}function sr(r){if(r!==Rt)return!1;if(!pt)return cn(r),pt=!0,!1;var a=r.tag,f;if((f=a!==3&&a!==27)&&((f=a===5)&&(f=r.type,f=!(f!=="form"&&f!=="button")||Vy(r.type,r.memoizedProps)),f=!f),f&&Nt&&jr(r),cn(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Nt=DE(r)}else if(a===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Nt=DE(r)}else a===27?(a=Nt,fa(r.type)?(r=Ky,Ky=null,Nt=r):Nt=a):Nt=Rt?Ds(r.stateNode.nextSibling):null;return!0}function ho(){Nt=Rt=null,pt=!1}function ud(){var r=Lr;return r!==null&&(Zi===null?Zi=r:Zi.push.apply(Zi,r),Lr=null),r}function ml(r){Lr===null?Lr=[r]:Lr.push(r)}var pl=G(null),Ir=null,rr=null;function Jo(r,a,f){be(pl,a._currentValue),a._currentValue=f}function mo(r){r._currentValue=pl.current,oe(pl)}function Tv(r,a,f){for(;r!==null;){var g=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),r===f)break;r=r.return}}function Rv(r,a,f,g){var S=r.child;for(S!==null&&(S.return=r);S!==null;){var A=S.dependencies;if(A!==null){var D=S.child;A=A.firstContext;e:for(;A!==null;){var F=A;A=S;for(var ne=0;ne<a.length;ne++)if(F.context===a[ne]){A.lanes|=f,F=A.alternate,F!==null&&(F.lanes|=f),Tv(A.return,f,r),g||(D=null);break e}A=F.next}}else if(S.tag===18){if(D=S.return,D===null)throw Error(i(341));D.lanes|=f,A=D.alternate,A!==null&&(A.lanes|=f),Tv(D,f,r),D=null}else D=S.child;if(D!==null)D.return=S;else for(D=S;D!==null;){if(D===r){D=null;break}if(S=D.sibling,S!==null){S.return=D.return,D=S;break}D=D.return}S=D}}function Ec(r,a,f,g){r=null;for(var S=a,A=!1;S!==null;){if(!A){if((S.flags&524288)!==0)A=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var D=S.alternate;if(D===null)throw Error(i(387));if(D=D.memoizedProps,D!==null){var F=S.type;Qn(S.pendingProps.value,D.value)||(r!==null?r.push(F):r=[F])}}else if(S===we.current){if(D=S.alternate,D===null)throw Error(i(387));D.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(r!==null?r.push(Id):r=[Id])}S=S.return}r!==null&&Rv(a,r,f,g),a.flags|=262144}function Vh(r){for(r=r.firstContext;r!==null;){if(!Qn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function gl(r){Ir=r,rr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function li(r){return uS(Ir,r)}function $h(r,a){return Ir===null&&gl(r),uS(r,a)}function uS(r,a){var f=a._currentValue;if(a={context:a,memoizedValue:f,next:null},rr===null){if(r===null)throw Error(i(308));rr=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else rr=rr.next=a;return f}var fI=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(f,g){r.push(g)}};this.abort=function(){a.aborted=!0,r.forEach(function(f){return f()})}},hI=e.unstable_scheduleCallback,mI=e.unstable_NormalPriority,Rn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nv(){return{controller:new fI,data:new Map,refCount:0}}function dd(r){r.refCount--,r.refCount===0&&hI(mI,function(){r.controller.abort()})}var fd=null,kv=0,Ac=0,Tc=null;function pI(r,a){if(fd===null){var f=fd=[];kv=0,Ac=My(),Tc={status:"pending",value:void 0,then:function(g){f.push(g)}}}return kv++,a.then(dS,dS),a}function dS(){if(--kv===0&&fd!==null){Tc!==null&&(Tc.status="fulfilled");var r=fd;fd=null,Ac=0,Tc=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function gI(r,a){var f=[],g={status:"pending",value:null,reason:null,then:function(S){f.push(S)}};return r.then(function(){g.status="fulfilled",g.value=a;for(var S=0;S<f.length;S++)(0,f[S])(a)},function(S){for(g.status="rejected",g.reason=S,S=0;S<f.length;S++)(0,f[S])(void 0)}),g}var fS=q.S;q.S=function(r,a){YC=sn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&pI(r,a),fS!==null&&fS(r,a)};var vl=G(null);function Pv(){var r=vl.current;return r!==null?r:Kt.pooledCache}function Hh(r,a){a===null?be(vl,vl.current):be(vl,a.pool)}function hS(){var r=Pv();return r===null?null:{parent:Rn._currentValue,pool:r}}var Rc=Error(i(460)),Ov=Error(i(474)),qh=Error(i(542)),Gh={then:function(){}};function mS(r){return r=r.status,r==="fulfilled"||r==="rejected"}function pS(r,a,f){switch(f=r[f],f===void 0?r.push(a):f!==a&&(a.then(xi,xi),a=f),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,vS(r),r;default:if(typeof a.status=="string")a.then(xi,xi);else{if(r=Kt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(g){if(a.status==="pending"){var S=a;S.status="fulfilled",S.value=g}},function(g){if(a.status==="pending"){var S=a;S.status="rejected",S.reason=g}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,vS(r),r}throw bl=a,Rc}}function yl(r){try{var a=r._init;return a(r._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(bl=f,Rc):f}}var bl=null;function gS(){if(bl===null)throw Error(i(459));var r=bl;return bl=null,r}function vS(r){if(r===Rc||r===qh)throw Error(i(483))}var Nc=null,hd=0;function Kh(r){var a=hd;return hd+=1,Nc===null&&(Nc=[]),pS(Nc,r,a)}function md(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Wh(r,a){throw a.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function yS(r){function a(ce,se){if(r){var fe=ce.deletions;fe===null?(ce.deletions=[se],ce.flags|=16):fe.push(se)}}function f(ce,se){if(!r)return null;for(;se!==null;)a(ce,se),se=se.sibling;return null}function g(ce){for(var se=new Map;ce!==null;)ce.key!==null?se.set(ce.key,ce):se.set(ce.index,ce),ce=ce.sibling;return se}function S(ce,se){return ce=Os(ce,se),ce.index=0,ce.sibling=null,ce}function A(ce,se,fe){return ce.index=fe,r?(fe=ce.alternate,fe!==null?(fe=fe.index,fe<se?(ce.flags|=67108866,se):fe):(ce.flags|=67108866,se)):(ce.flags|=1048576,se)}function D(ce){return r&&ce.alternate===null&&(ce.flags|=67108866),ce}function F(ce,se,fe,Ce){return se===null||se.tag!==6?(se=Sc(fe,ce.mode,Ce),se.return=ce,se):(se=S(se,fe),se.return=ce,se)}function ne(ce,se,fe,Ce){var We=fe.type;return We===E?_e(ce,se,fe.props.children,Ce,fe.key):se!==null&&(se.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===I&&yl(We)===se.type)?(se=S(se,fe.props),md(se,fe),se.return=ce,se):(se=hl(fe.type,fe.key,fe.props,null,ce.mode,Ce),md(se,fe),se.return=ce,se)}function he(ce,se,fe,Ce){return se===null||se.tag!==4||se.stateNode.containerInfo!==fe.containerInfo||se.stateNode.implementation!==fe.implementation?(se=ld(fe,ce.mode,Ce),se.return=ce,se):(se=S(se,fe.children||[]),se.return=ce,se)}function _e(ce,se,fe,Ce,We){return se===null||se.tag!==7?(se=fo(fe,ce.mode,Ce,We),se.return=ce,se):(se=S(se,fe),se.return=ce,se)}function Te(ce,se,fe){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return se=Sc(""+se,ce.mode,fe),se.return=ce,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case _:return fe=hl(se.type,se.key,se.props,null,ce.mode,fe),md(fe,se),fe.return=ce,fe;case C:return se=ld(se,ce.mode,fe),se.return=ce,se;case I:return se=yl(se),Te(ce,se,fe)}if(ge(se)||Y(se))return se=fo(se,ce.mode,fe,null),se.return=ce,se;if(typeof se.then=="function")return Te(ce,Kh(se),fe);if(se.$$typeof===P)return Te(ce,$h(ce,se),fe);Wh(ce,se)}return null}function pe(ce,se,fe,Ce){var We=se!==null?se.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return We!==null?null:F(ce,se,""+fe,Ce);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case _:return fe.key===We?ne(ce,se,fe,Ce):null;case C:return fe.key===We?he(ce,se,fe,Ce):null;case I:return fe=yl(fe),pe(ce,se,fe,Ce)}if(ge(fe)||Y(fe))return We!==null?null:_e(ce,se,fe,Ce,null);if(typeof fe.then=="function")return pe(ce,se,Kh(fe),Ce);if(fe.$$typeof===P)return pe(ce,se,$h(ce,fe),Ce);Wh(ce,fe)}return null}function ye(ce,se,fe,Ce,We){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return ce=ce.get(fe)||null,F(se,ce,""+Ce,We);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case _:return ce=ce.get(Ce.key===null?fe:Ce.key)||null,ne(se,ce,Ce,We);case C:return ce=ce.get(Ce.key===null?fe:Ce.key)||null,he(se,ce,Ce,We);case I:return Ce=yl(Ce),ye(ce,se,fe,Ce,We)}if(ge(Ce)||Y(Ce))return ce=ce.get(fe)||null,_e(se,ce,Ce,We,null);if(typeof Ce.then=="function")return ye(ce,se,fe,Kh(Ce),We);if(Ce.$$typeof===P)return ye(ce,se,fe,$h(se,Ce),We);Wh(se,Ce)}return null}function Ue(ce,se,fe,Ce){for(var We=null,kt=null,He=se,ut=se=0,wt=null;He!==null&&ut<fe.length;ut++){He.index>ut?(wt=He,He=null):wt=He.sibling;var Pt=pe(ce,He,fe[ut],Ce);if(Pt===null){He===null&&(He=wt);break}r&&He&&Pt.alternate===null&&a(ce,He),se=A(Pt,se,ut),kt===null?We=Pt:kt.sibling=Pt,kt=Pt,He=wt}if(ut===fe.length)return f(ce,He),pt&&qe(ce,ut),We;if(He===null){for(;ut<fe.length;ut++)He=Te(ce,fe[ut],Ce),He!==null&&(se=A(He,se,ut),kt===null?We=He:kt.sibling=He,kt=He);return pt&&qe(ce,ut),We}for(He=g(He);ut<fe.length;ut++)wt=ye(He,ce,ut,fe[ut],Ce),wt!==null&&(r&&wt.alternate!==null&&He.delete(wt.key===null?ut:wt.key),se=A(wt,se,ut),kt===null?We=wt:kt.sibling=wt,kt=wt);return r&&He.forEach(function(va){return a(ce,va)}),pt&&qe(ce,ut),We}function Je(ce,se,fe,Ce){if(fe==null)throw Error(i(151));for(var We=null,kt=null,He=se,ut=se=0,wt=null,Pt=fe.next();He!==null&&!Pt.done;ut++,Pt=fe.next()){He.index>ut?(wt=He,He=null):wt=He.sibling;var va=pe(ce,He,Pt.value,Ce);if(va===null){He===null&&(He=wt);break}r&&He&&va.alternate===null&&a(ce,He),se=A(va,se,ut),kt===null?We=va:kt.sibling=va,kt=va,He=wt}if(Pt.done)return f(ce,He),pt&&qe(ce,ut),We;if(He===null){for(;!Pt.done;ut++,Pt=fe.next())Pt=Te(ce,Pt.value,Ce),Pt!==null&&(se=A(Pt,se,ut),kt===null?We=Pt:kt.sibling=Pt,kt=Pt);return pt&&qe(ce,ut),We}for(He=g(He);!Pt.done;ut++,Pt=fe.next())Pt=ye(He,ce,ut,Pt.value,Ce),Pt!==null&&(r&&Pt.alternate!==null&&He.delete(Pt.key===null?ut:Pt.key),se=A(Pt,se,ut),kt===null?We=Pt:kt.sibling=Pt,kt=Pt);return r&&He.forEach(function(Tz){return a(ce,Tz)}),pt&&qe(ce,ut),We}function Gt(ce,se,fe,Ce){if(typeof fe=="object"&&fe!==null&&fe.type===E&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case _:e:{for(var We=fe.key;se!==null;){if(se.key===We){if(We=fe.type,We===E){if(se.tag===7){f(ce,se.sibling),Ce=S(se,fe.props.children),Ce.return=ce,ce=Ce;break e}}else if(se.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===I&&yl(We)===se.type){f(ce,se.sibling),Ce=S(se,fe.props),md(Ce,fe),Ce.return=ce,ce=Ce;break e}f(ce,se);break}else a(ce,se);se=se.sibling}fe.type===E?(Ce=fo(fe.props.children,ce.mode,Ce,fe.key),Ce.return=ce,ce=Ce):(Ce=hl(fe.type,fe.key,fe.props,null,ce.mode,Ce),md(Ce,fe),Ce.return=ce,ce=Ce)}return D(ce);case C:e:{for(We=fe.key;se!==null;){if(se.key===We)if(se.tag===4&&se.stateNode.containerInfo===fe.containerInfo&&se.stateNode.implementation===fe.implementation){f(ce,se.sibling),Ce=S(se,fe.children||[]),Ce.return=ce,ce=Ce;break e}else{f(ce,se);break}else a(ce,se);se=se.sibling}Ce=ld(fe,ce.mode,Ce),Ce.return=ce,ce=Ce}return D(ce);case I:return fe=yl(fe),Gt(ce,se,fe,Ce)}if(ge(fe))return Ue(ce,se,fe,Ce);if(Y(fe)){if(We=Y(fe),typeof We!="function")throw Error(i(150));return fe=We.call(fe),Je(ce,se,fe,Ce)}if(typeof fe.then=="function")return Gt(ce,se,Kh(fe),Ce);if(fe.$$typeof===P)return Gt(ce,se,$h(ce,fe),Ce);Wh(ce,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,se!==null&&se.tag===6?(f(ce,se.sibling),Ce=S(se,fe),Ce.return=ce,ce=Ce):(f(ce,se),Ce=Sc(fe,ce.mode,Ce),Ce.return=ce,ce=Ce),D(ce)):f(ce,se)}return function(ce,se,fe,Ce){try{hd=0;var We=Gt(ce,se,fe,Ce);return Nc=null,We}catch(He){if(He===Rc||He===qh)throw He;var kt=wi(29,He,null,ce.mode);return kt.lanes=Ce,kt.return=ce,kt}}}var xl=yS(!0),bS=yS(!1),ea=!1;function Mv(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dv(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ta(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function na(r,a,f){var g=r.updateQueue;if(g===null)return null;if(g=g.shared,(Dt&2)!==0){var S=g.pending;return S===null?a.next=a:(a.next=S.next,S.next=a),g.pending=a,a=fl(r),Qo(r,null,f),a}return Dr(r,g,a,f),fl(r)}function pd(r,a,f){if(a=a.updateQueue,a!==null&&(a=a.shared,(f&4194048)!==0)){var g=a.lanes;g&=r.pendingLanes,f|=g,a.lanes=f,ri(r,f)}}function Lv(r,a){var f=r.updateQueue,g=r.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var S=null,A=null;if(f=f.firstBaseUpdate,f!==null){do{var D={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};A===null?S=A=D:A=A.next=D,f=f.next}while(f!==null);A===null?S=A=a:A=A.next=a}else S=A=a;f={baseState:g.baseState,firstBaseUpdate:S,lastBaseUpdate:A,shared:g.shared,callbacks:g.callbacks},r.updateQueue=f;return}r=f.lastBaseUpdate,r===null?f.firstBaseUpdate=a:r.next=a,f.lastBaseUpdate=a}var jv=!1;function gd(){if(jv){var r=Tc;if(r!==null)throw r}}function vd(r,a,f,g){jv=!1;var S=r.updateQueue;ea=!1;var A=S.firstBaseUpdate,D=S.lastBaseUpdate,F=S.shared.pending;if(F!==null){S.shared.pending=null;var ne=F,he=ne.next;ne.next=null,D===null?A=he:D.next=he,D=ne;var _e=r.alternate;_e!==null&&(_e=_e.updateQueue,F=_e.lastBaseUpdate,F!==D&&(F===null?_e.firstBaseUpdate=he:F.next=he,_e.lastBaseUpdate=ne))}if(A!==null){var Te=S.baseState;D=0,_e=he=ne=null,F=A;do{var pe=F.lane&-536870913,ye=pe!==F.lane;if(ye?(_t&pe)===pe:(g&pe)===pe){pe!==0&&pe===Ac&&(jv=!0),_e!==null&&(_e=_e.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var Ue=r,Je=F;pe=a;var Gt=f;switch(Je.tag){case 1:if(Ue=Je.payload,typeof Ue=="function"){Te=Ue.call(Gt,Te,pe);break e}Te=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Je.payload,pe=typeof Ue=="function"?Ue.call(Gt,Te,pe):Ue,pe==null)break e;Te=v({},Te,pe);break e;case 2:ea=!0}}pe=F.callback,pe!==null&&(r.flags|=64,ye&&(r.flags|=8192),ye=S.callbacks,ye===null?S.callbacks=[pe]:ye.push(pe))}else ye={lane:pe,tag:F.tag,payload:F.payload,callback:F.callback,next:null},_e===null?(he=_e=ye,ne=Te):_e=_e.next=ye,D|=pe;if(F=F.next,F===null){if(F=S.shared.pending,F===null)break;ye=F,F=ye.next,ye.next=null,S.lastBaseUpdate=ye,S.shared.pending=null}}while(!0);_e===null&&(ne=Te),S.baseState=ne,S.firstBaseUpdate=he,S.lastBaseUpdate=_e,A===null&&(S.shared.lanes=0),aa|=D,r.lanes=D,r.memoizedState=Te}}function xS(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function _S(r,a){var f=r.callbacks;if(f!==null)for(r.callbacks=null,r=0;r<f.length;r++)xS(f[r],a)}var kc=G(null),Yh=G(0);function wS(r,a){r=So,be(Yh,r),be(kc,a),So=r|a.baseLanes}function Iv(){be(Yh,So),be(kc,kc.current)}function zv(){So=Yh.current,oe(kc),oe(Yh)}var cs=G(null),Ms=null;function ia(r){var a=r.alternate;be(Sn,Sn.current&1),be(cs,r),Ms===null&&(a===null||kc.current!==null||a.memoizedState!==null)&&(Ms=r)}function Bv(r){be(Sn,Sn.current),be(cs,r),Ms===null&&(Ms=r)}function SS(r){r.tag===22?(be(Sn,Sn.current),be(cs,r),Ms===null&&(Ms=r)):sa()}function sa(){be(Sn,Sn.current),be(cs,cs.current)}function us(r){oe(cs),Ms===r&&(Ms=null),oe(Sn)}var Sn=G(0);function Zh(r){for(var a=r;a!==null;){if(a.tag===13){var f=a.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||qy(f)||Gy(f)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var po=0,lt=null,Ht=null,Nn=null,Xh=!1,Pc=!1,_l=!1,Qh=0,yd=0,Oc=null,vI=0;function vn(){throw Error(i(321))}function Uv(r,a){if(a===null)return!1;for(var f=0;f<a.length&&f<r.length;f++)if(!Qn(r[f],a[f]))return!1;return!0}function Fv(r,a,f,g,S,A){return po=A,lt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,q.H=r===null||r.memoizedState===null?oC:ny,_l=!1,A=f(g,S),_l=!1,Pc&&(A=ES(a,f,g,S)),CS(r),A}function CS(r){q.H=_d;var a=Ht!==null&&Ht.next!==null;if(po=0,Nn=Ht=lt=null,Xh=!1,yd=0,Oc=null,a)throw Error(i(300));r===null||kn||(r=r.dependencies,r!==null&&Vh(r)&&(kn=!0))}function ES(r,a,f,g){lt=r;var S=0;do{if(Pc&&(Oc=null),yd=0,Pc=!1,25<=S)throw Error(i(301));if(S+=1,Nn=Ht=null,r.updateQueue!=null){var A=r.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}q.H=aC,A=a(f,g)}while(Pc);return A}function yI(){var r=q.H,a=r.useState()[0];return a=typeof a.then=="function"?bd(a):a,r=r.useState()[0],(Ht!==null?Ht.memoizedState:null)!==r&&(lt.flags|=1024),a}function Vv(){var r=Qh!==0;return Qh=0,r}function $v(r,a,f){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~f}function Hv(r){if(Xh){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Xh=!1}po=0,Nn=Ht=lt=null,Pc=!1,yd=Qh=0,Oc=null}function Oi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?lt.memoizedState=Nn=r:Nn=Nn.next=r,Nn}function Cn(){if(Ht===null){var r=lt.alternate;r=r!==null?r.memoizedState:null}else r=Ht.next;var a=Nn===null?lt.memoizedState:Nn.next;if(a!==null)Nn=a,Ht=r;else{if(r===null)throw lt.alternate===null?Error(i(467)):Error(i(310));Ht=r,r={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Nn===null?lt.memoizedState=Nn=r:Nn=Nn.next=r}return Nn}function Jh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bd(r){var a=yd;return yd+=1,Oc===null&&(Oc=[]),r=pS(Oc,r,a),a=lt,(Nn===null?a.memoizedState:Nn.next)===null&&(a=a.alternate,q.H=a===null||a.memoizedState===null?oC:ny),r}function em(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return bd(r);if(r.$$typeof===P)return li(r)}throw Error(i(438,String(r)))}function qv(r){var a=null,f=lt.updateQueue;if(f!==null&&(a=f.memoCache),a==null){var g=lt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(a={data:g.data.map(function(S){return S.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),f===null&&(f=Jh(),lt.updateQueue=f),f.memoCache=a,f=a.data[a.index],f===void 0)for(f=a.data[a.index]=Array(r),g=0;g<r;g++)f[g]=Z;return a.index++,f}function go(r,a){return typeof a=="function"?a(r):a}function tm(r){var a=Cn();return Gv(a,Ht,r)}function Gv(r,a,f){var g=r.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=f;var S=r.baseQueue,A=g.pending;if(A!==null){if(S!==null){var D=S.next;S.next=A.next,A.next=D}a.baseQueue=S=A,g.pending=null}if(A=r.baseState,S===null)r.memoizedState=A;else{a=S.next;var F=D=null,ne=null,he=a,_e=!1;do{var Te=he.lane&-536870913;if(Te!==he.lane?(_t&Te)===Te:(po&Te)===Te){var pe=he.revertLane;if(pe===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),Te===Ac&&(_e=!0);else if((po&pe)===pe){he=he.next,pe===Ac&&(_e=!0);continue}else Te={lane:0,revertLane:he.revertLane,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},ne===null?(F=ne=Te,D=A):ne=ne.next=Te,lt.lanes|=pe,aa|=pe;Te=he.action,_l&&f(A,Te),A=he.hasEagerState?he.eagerState:f(A,Te)}else pe={lane:Te,revertLane:he.revertLane,gesture:he.gesture,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},ne===null?(F=ne=pe,D=A):ne=ne.next=pe,lt.lanes|=Te,aa|=Te;he=he.next}while(he!==null&&he!==a);if(ne===null?D=A:ne.next=F,!Qn(A,r.memoizedState)&&(kn=!0,_e&&(f=Tc,f!==null)))throw f;r.memoizedState=A,r.baseState=D,r.baseQueue=ne,g.lastRenderedState=A}return S===null&&(g.lanes=0),[r.memoizedState,g.dispatch]}function Kv(r){var a=Cn(),f=a.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=r;var g=f.dispatch,S=f.pending,A=a.memoizedState;if(S!==null){f.pending=null;var D=S=S.next;do A=r(A,D.action),D=D.next;while(D!==S);Qn(A,a.memoizedState)||(kn=!0),a.memoizedState=A,a.baseQueue===null&&(a.baseState=A),f.lastRenderedState=A}return[A,g]}function AS(r,a,f){var g=lt,S=Cn(),A=pt;if(A){if(f===void 0)throw Error(i(407));f=f()}else f=a();var D=!Qn((Ht||S).memoizedState,f);if(D&&(S.memoizedState=f,kn=!0),S=S.queue,Zv(NS.bind(null,g,S,r),[r]),S.getSnapshot!==a||D||Nn!==null&&Nn.memoizedState.tag&1){if(g.flags|=2048,Mc(9,{destroy:void 0},RS.bind(null,g,S,f,a),null),Kt===null)throw Error(i(349));A||(po&127)!==0||TS(g,a,f)}return f}function TS(r,a,f){r.flags|=16384,r={getSnapshot:a,value:f},a=lt.updateQueue,a===null?(a=Jh(),lt.updateQueue=a,a.stores=[r]):(f=a.stores,f===null?a.stores=[r]:f.push(r))}function RS(r,a,f,g){a.value=f,a.getSnapshot=g,kS(a)&&PS(r)}function NS(r,a,f){return f(function(){kS(a)&&PS(r)})}function kS(r){var a=r.getSnapshot;r=r.value;try{var f=a();return!Qn(r,f)}catch{return!0}}function PS(r){var a=Ps(r,2);a!==null&&Xi(a,r,2)}function Wv(r){var a=Oi();if(typeof r=="function"){var f=r;if(r=f(),_l){si(!0);try{f()}finally{si(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:r},a}function OS(r,a,f,g){return r.baseState=f,Gv(r,Ht,typeof g=="function"?g:go)}function bI(r,a,f,g,S){if(sm(r))throw Error(i(485));if(r=a.action,r!==null){var A={payload:S,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){A.listeners.push(D)}};q.T!==null?f(!0):A.isTransition=!1,g(A),f=a.pending,f===null?(A.next=a.pending=A,MS(a,A)):(A.next=f.next,a.pending=f.next=A)}}function MS(r,a){var f=a.action,g=a.payload,S=r.state;if(a.isTransition){var A=q.T,D={};q.T=D;try{var F=f(S,g),ne=q.S;ne!==null&&ne(D,F),DS(r,a,F)}catch(he){Yv(r,a,he)}finally{A!==null&&D.types!==null&&(A.types=D.types),q.T=A}}else try{A=f(S,g),DS(r,a,A)}catch(he){Yv(r,a,he)}}function DS(r,a,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(g){LS(r,a,g)},function(g){return Yv(r,a,g)}):LS(r,a,f)}function LS(r,a,f){a.status="fulfilled",a.value=f,jS(a),r.state=f,a=r.pending,a!==null&&(f=a.next,f===a?r.pending=null:(f=f.next,a.next=f,MS(r,f)))}function Yv(r,a,f){var g=r.pending;if(r.pending=null,g!==null){g=g.next;do a.status="rejected",a.reason=f,jS(a),a=a.next;while(a!==g)}r.action=null}function jS(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function IS(r,a){return a}function zS(r,a){if(pt){var f=Kt.formState;if(f!==null){e:{var g=lt;if(pt){if(Nt){t:{for(var S=Nt,A=Gi;S.nodeType!==8;){if(!A){S=null;break t}if(S=Ds(S.nextSibling),S===null){S=null;break t}}A=S.data,S=A==="F!"||A==="F"?S:null}if(S){Nt=Ds(S.nextSibling),g=S.data==="F!";break e}}jr(g)}g=!1}g&&(a=f[0])}}return f=Oi(),f.memoizedState=f.baseState=a,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:IS,lastRenderedState:a},f.queue=g,f=iC.bind(null,lt,g),g.dispatch=f,g=Wv(!1),A=ty.bind(null,lt,!1,g.queue),g=Oi(),S={state:a,dispatch:null,action:r,pending:null},g.queue=S,f=bI.bind(null,lt,S,A,f),S.dispatch=f,g.memoizedState=r,[a,f,!1]}function BS(r){var a=Cn();return US(a,Ht,r)}function US(r,a,f){if(a=Gv(r,a,IS)[0],r=tm(go)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var g=bd(a)}catch(D){throw D===Rc?qh:D}else g=a;a=Cn();var S=a.queue,A=S.dispatch;return f!==a.memoizedState&&(lt.flags|=2048,Mc(9,{destroy:void 0},xI.bind(null,S,f),null)),[g,A,r]}function xI(r,a){r.action=a}function FS(r){var a=Cn(),f=Ht;if(f!==null)return US(a,f,r);Cn(),a=a.memoizedState,f=Cn();var g=f.queue.dispatch;return f.memoizedState=r,[a,g,!1]}function Mc(r,a,f,g){return r={tag:r,create:f,deps:g,inst:a,next:null},a=lt.updateQueue,a===null&&(a=Jh(),lt.updateQueue=a),f=a.lastEffect,f===null?a.lastEffect=r.next=r:(g=f.next,f.next=r,r.next=g,a.lastEffect=r),r}function VS(){return Cn().memoizedState}function nm(r,a,f,g){var S=Oi();lt.flags|=r,S.memoizedState=Mc(1|a,{destroy:void 0},f,g===void 0?null:g)}function im(r,a,f,g){var S=Cn();g=g===void 0?null:g;var A=S.memoizedState.inst;Ht!==null&&g!==null&&Uv(g,Ht.memoizedState.deps)?S.memoizedState=Mc(a,A,f,g):(lt.flags|=r,S.memoizedState=Mc(1|a,A,f,g))}function $S(r,a){nm(8390656,8,r,a)}function Zv(r,a){im(2048,8,r,a)}function _I(r){lt.flags|=4;var a=lt.updateQueue;if(a===null)a=Jh(),lt.updateQueue=a,a.events=[r];else{var f=a.events;f===null?a.events=[r]:f.push(r)}}function HS(r){var a=Cn().memoizedState;return _I({ref:a,nextImpl:r}),function(){if((Dt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function qS(r,a){return im(4,2,r,a)}function GS(r,a){return im(4,4,r,a)}function KS(r,a){if(typeof a=="function"){r=r();var f=a(r);return function(){typeof f=="function"?f():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function WS(r,a,f){f=f!=null?f.concat([r]):null,im(4,4,KS.bind(null,a,r),f)}function Xv(){}function YS(r,a){var f=Cn();a=a===void 0?null:a;var g=f.memoizedState;return a!==null&&Uv(a,g[1])?g[0]:(f.memoizedState=[r,a],r)}function ZS(r,a){var f=Cn();a=a===void 0?null:a;var g=f.memoizedState;if(a!==null&&Uv(a,g[1]))return g[0];if(g=r(),_l){si(!0);try{r()}finally{si(!1)}}return f.memoizedState=[g,a],g}function Qv(r,a,f){return f===void 0||(po&1073741824)!==0&&(_t&261930)===0?r.memoizedState=a:(r.memoizedState=f,r=XC(),lt.lanes|=r,aa|=r,f)}function XS(r,a,f,g){return Qn(f,a)?f:kc.current!==null?(r=Qv(r,f,g),Qn(r,a)||(kn=!0),r):(po&42)===0||(po&1073741824)!==0&&(_t&261930)===0?(kn=!0,r.memoizedState=f):(r=XC(),lt.lanes|=r,aa|=r,a)}function QS(r,a,f,g,S){var A=W.p;W.p=A!==0&&8>A?A:8;var D=q.T,F={};q.T=F,ty(r,!1,a,f);try{var ne=S(),he=q.S;if(he!==null&&he(F,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var _e=gI(ne,g);xd(r,a,_e,hs(r))}else xd(r,a,g,hs(r))}catch(Te){xd(r,a,{then:function(){},status:"rejected",reason:Te},hs())}finally{W.p=A,D!==null&&F.types!==null&&(D.types=F.types),q.T=D}}function wI(){}function Jv(r,a,f,g){if(r.tag!==5)throw Error(i(476));var S=JS(r).queue;QS(r,S,a,ee,f===null?wI:function(){return eC(r),f(g)})}function JS(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:ee},next:null};var f={};return a.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:f},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function eC(r){var a=JS(r);a.next===null&&(a=r.alternate.memoizedState),xd(r,a.next.queue,{},hs())}function ey(){return li(Id)}function tC(){return Cn().memoizedState}function nC(){return Cn().memoizedState}function SI(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var f=hs();r=ta(f);var g=na(a,r,f);g!==null&&(Xi(g,a,f),pd(g,a,f)),a={cache:Nv()},r.payload=a;return}a=a.return}}function CI(r,a,f){var g=hs();f={lane:g,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},sm(r)?sC(a,f):(f=rd(r,a,f,g),f!==null&&(Xi(f,r,g),rC(f,a,g)))}function iC(r,a,f){var g=hs();xd(r,a,f,g)}function xd(r,a,f,g){var S={lane:g,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(sm(r))sC(a,S);else{var A=r.alternate;if(r.lanes===0&&(A===null||A.lanes===0)&&(A=a.lastRenderedReducer,A!==null))try{var D=a.lastRenderedState,F=A(D,f);if(S.hasEagerState=!0,S.eagerState=F,Qn(F,D))return Dr(r,a,S,0),Kt===null&&dl(),!1}catch{}if(f=rd(r,a,S,g),f!==null)return Xi(f,r,g),rC(f,a,g),!0}return!1}function ty(r,a,f,g){if(g={lane:2,revertLane:My(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},sm(r)){if(a)throw Error(i(479))}else a=rd(r,f,g,2),a!==null&&Xi(a,r,2)}function sm(r){var a=r.alternate;return r===lt||a!==null&&a===lt}function sC(r,a){Pc=Xh=!0;var f=r.pending;f===null?a.next=a:(a.next=f.next,f.next=a),r.pending=a}function rC(r,a,f){if((f&4194048)!==0){var g=a.lanes;g&=r.pendingLanes,f|=g,a.lanes=f,ri(r,f)}}var _d={readContext:li,use:em,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useLayoutEffect:vn,useInsertionEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useSyncExternalStore:vn,useId:vn,useHostTransitionStatus:vn,useFormState:vn,useActionState:vn,useOptimistic:vn,useMemoCache:vn,useCacheRefresh:vn};_d.useEffectEvent=vn;var oC={readContext:li,use:em,useCallback:function(r,a){return Oi().memoizedState=[r,a===void 0?null:a],r},useContext:li,useEffect:$S,useImperativeHandle:function(r,a,f){f=f!=null?f.concat([r]):null,nm(4194308,4,KS.bind(null,a,r),f)},useLayoutEffect:function(r,a){return nm(4194308,4,r,a)},useInsertionEffect:function(r,a){nm(4,2,r,a)},useMemo:function(r,a){var f=Oi();a=a===void 0?null:a;var g=r();if(_l){si(!0);try{r()}finally{si(!1)}}return f.memoizedState=[g,a],g},useReducer:function(r,a,f){var g=Oi();if(f!==void 0){var S=f(a);if(_l){si(!0);try{f(a)}finally{si(!1)}}}else S=a;return g.memoizedState=g.baseState=S,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:S},g.queue=r,r=r.dispatch=CI.bind(null,lt,r),[g.memoizedState,r]},useRef:function(r){var a=Oi();return r={current:r},a.memoizedState=r},useState:function(r){r=Wv(r);var a=r.queue,f=iC.bind(null,lt,a);return a.dispatch=f,[r.memoizedState,f]},useDebugValue:Xv,useDeferredValue:function(r,a){var f=Oi();return Qv(f,r,a)},useTransition:function(){var r=Wv(!1);return r=QS.bind(null,lt,r.queue,!0,!1),Oi().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,f){var g=lt,S=Oi();if(pt){if(f===void 0)throw Error(i(407));f=f()}else{if(f=a(),Kt===null)throw Error(i(349));(_t&127)!==0||TS(g,a,f)}S.memoizedState=f;var A={value:f,getSnapshot:a};return S.queue=A,$S(NS.bind(null,g,A,r),[r]),g.flags|=2048,Mc(9,{destroy:void 0},RS.bind(null,g,A,f,a),null),f},useId:function(){var r=Oi(),a=Kt.identifierPrefix;if(pt){var f=Oe,g=Ae;f=(g&~(1<<32-En(g)-1)).toString(32)+f,a="_"+a+"R_"+f,f=Qh++,0<f&&(a+="H"+f.toString(32)),a+="_"}else f=vI++,a="_"+a+"r_"+f.toString(32)+"_";return r.memoizedState=a},useHostTransitionStatus:ey,useFormState:zS,useActionState:zS,useOptimistic:function(r){var a=Oi();a.memoizedState=a.baseState=r;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=f,a=ty.bind(null,lt,!0,f),f.dispatch=a,[r,a]},useMemoCache:qv,useCacheRefresh:function(){return Oi().memoizedState=SI.bind(null,lt)},useEffectEvent:function(r){var a=Oi(),f={impl:r};return a.memoizedState=f,function(){if((Dt&2)!==0)throw Error(i(440));return f.impl.apply(void 0,arguments)}}},ny={readContext:li,use:em,useCallback:YS,useContext:li,useEffect:Zv,useImperativeHandle:WS,useInsertionEffect:qS,useLayoutEffect:GS,useMemo:ZS,useReducer:tm,useRef:VS,useState:function(){return tm(go)},useDebugValue:Xv,useDeferredValue:function(r,a){var f=Cn();return XS(f,Ht.memoizedState,r,a)},useTransition:function(){var r=tm(go)[0],a=Cn().memoizedState;return[typeof r=="boolean"?r:bd(r),a]},useSyncExternalStore:AS,useId:tC,useHostTransitionStatus:ey,useFormState:BS,useActionState:BS,useOptimistic:function(r,a){var f=Cn();return OS(f,Ht,r,a)},useMemoCache:qv,useCacheRefresh:nC};ny.useEffectEvent=HS;var aC={readContext:li,use:em,useCallback:YS,useContext:li,useEffect:Zv,useImperativeHandle:WS,useInsertionEffect:qS,useLayoutEffect:GS,useMemo:ZS,useReducer:Kv,useRef:VS,useState:function(){return Kv(go)},useDebugValue:Xv,useDeferredValue:function(r,a){var f=Cn();return Ht===null?Qv(f,r,a):XS(f,Ht.memoizedState,r,a)},useTransition:function(){var r=Kv(go)[0],a=Cn().memoizedState;return[typeof r=="boolean"?r:bd(r),a]},useSyncExternalStore:AS,useId:tC,useHostTransitionStatus:ey,useFormState:FS,useActionState:FS,useOptimistic:function(r,a){var f=Cn();return Ht!==null?OS(f,Ht,r,a):(f.baseState=r,[r,f.queue.dispatch])},useMemoCache:qv,useCacheRefresh:nC};aC.useEffectEvent=HS;function iy(r,a,f,g){a=r.memoizedState,f=f(g,a),f=f==null?a:v({},a,f),r.memoizedState=f,r.lanes===0&&(r.updateQueue.baseState=f)}var sy={enqueueSetState:function(r,a,f){r=r._reactInternals;var g=hs(),S=ta(g);S.payload=a,f!=null&&(S.callback=f),a=na(r,S,g),a!==null&&(Xi(a,r,g),pd(a,r,g))},enqueueReplaceState:function(r,a,f){r=r._reactInternals;var g=hs(),S=ta(g);S.tag=1,S.payload=a,f!=null&&(S.callback=f),a=na(r,S,g),a!==null&&(Xi(a,r,g),pd(a,r,g))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var f=hs(),g=ta(f);g.tag=2,a!=null&&(g.callback=a),a=na(r,g,f),a!==null&&(Xi(a,r,f),pd(a,r,f))}};function lC(r,a,f,g,S,A,D){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(g,A,D):a.prototype&&a.prototype.isPureReactComponent?!Wo(f,g)||!Wo(S,A):!0}function cC(r,a,f,g){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(f,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(f,g),a.state!==r&&sy.enqueueReplaceState(a,a.state,null)}function wl(r,a){var f=a;if("ref"in a){f={};for(var g in a)g!=="ref"&&(f[g]=a[g])}if(r=r.defaultProps){f===a&&(f=v({},f));for(var S in r)f[S]===void 0&&(f[S]=r[S])}return f}function uC(r){ul(r)}function dC(r){console.error(r)}function fC(r){ul(r)}function rm(r,a){try{var f=r.onUncaughtError;f(a.value,{componentStack:a.stack})}catch(g){setTimeout(function(){throw g})}}function hC(r,a,f){try{var g=r.onCaughtError;g(f.value,{componentStack:f.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function ry(r,a,f){return f=ta(f),f.tag=3,f.payload={element:null},f.callback=function(){rm(r,a)},f}function mC(r){return r=ta(r),r.tag=3,r}function pC(r,a,f,g){var S=f.type.getDerivedStateFromError;if(typeof S=="function"){var A=g.value;r.payload=function(){return S(A)},r.callback=function(){hC(a,f,g)}}var D=f.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(r.callback=function(){hC(a,f,g),typeof S!="function"&&(la===null?la=new Set([this]):la.add(this));var F=g.stack;this.componentDidCatch(g.value,{componentStack:F!==null?F:""})})}function EI(r,a,f,g,S){if(f.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(a=f.alternate,a!==null&&Ec(a,f,S,!0),f=cs.current,f!==null){switch(f.tag){case 31:case 13:return Ms===null?vm():f.alternate===null&&yn===0&&(yn=3),f.flags&=-257,f.flags|=65536,f.lanes=S,g===Gh?f.flags|=16384:(a=f.updateQueue,a===null?f.updateQueue=new Set([g]):a.add(g),ky(r,g,S)),!1;case 22:return f.flags|=65536,g===Gh?f.flags|=16384:(a=f.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([g])},f.updateQueue=a):(f=a.retryQueue,f===null?a.retryQueue=new Set([g]):f.add(g)),ky(r,g,S)),!1}throw Error(i(435,f.tag))}return ky(r,g,S),vm(),!1}if(pt)return a=cs.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=S,g!==Cc&&(r=Error(i(422),{cause:g}),ml(p(r,f)))):(g!==Cc&&(a=Error(i(423),{cause:g}),ml(p(a,f))),r=r.current.alternate,r.flags|=65536,S&=-S,r.lanes|=S,g=p(g,f),S=ry(r.stateNode,g,S),Lv(r,S),yn!==4&&(yn=2)),!1;var A=Error(i(520),{cause:g});if(A=p(A,f),Nd===null?Nd=[A]:Nd.push(A),yn!==4&&(yn=2),a===null)return!0;g=p(g,f),f=a;do{switch(f.tag){case 3:return f.flags|=65536,r=S&-S,f.lanes|=r,r=ry(f.stateNode,g,r),Lv(f,r),!1;case 1:if(a=f.type,A=f.stateNode,(f.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(la===null||!la.has(A))))return f.flags|=65536,S&=-S,f.lanes|=S,S=mC(S),pC(S,r,f,g),Lv(f,S),!1}f=f.return}while(f!==null);return!1}var oy=Error(i(461)),kn=!1;function ci(r,a,f,g){a.child=r===null?bS(a,null,f,g):xl(a,r.child,f,g)}function gC(r,a,f,g,S){f=f.render;var A=a.ref;if("ref"in g){var D={};for(var F in g)F!=="ref"&&(D[F]=g[F])}else D=g;return gl(a),g=Fv(r,a,f,D,A,S),F=Vv(),r!==null&&!kn?($v(r,a,S),vo(r,a,S)):(pt&&F&&In(a),a.flags|=1,ci(r,a,g,S),a.child)}function vC(r,a,f,g,S){if(r===null){var A=f.type;return typeof A=="function"&&!wc(A)&&A.defaultProps===void 0&&f.compare===null?(a.tag=15,a.type=A,yC(r,a,A,g,S)):(r=hl(f.type,null,g,a,a.mode,S),r.ref=a.ref,r.return=a,a.child=r)}if(A=r.child,!my(r,S)){var D=A.memoizedProps;if(f=f.compare,f=f!==null?f:Wo,f(D,g)&&r.ref===a.ref)return vo(r,a,S)}return a.flags|=1,r=Os(A,g),r.ref=a.ref,r.return=a,a.child=r}function yC(r,a,f,g,S){if(r!==null){var A=r.memoizedProps;if(Wo(A,g)&&r.ref===a.ref)if(kn=!1,a.pendingProps=g=A,my(r,S))(r.flags&131072)!==0&&(kn=!0);else return a.lanes=r.lanes,vo(r,a,S)}return ay(r,a,f,g,S)}function bC(r,a,f,g){var S=g.children,A=r!==null?r.memoizedState:null;if(r===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((a.flags&128)!==0){if(A=A!==null?A.baseLanes|f:f,r!==null){for(g=a.child=r.child,S=0;g!==null;)S=S|g.lanes|g.childLanes,g=g.sibling;g=S&~A}else g=0,a.child=null;return xC(r,a,A,f,g)}if((f&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Hh(a,A!==null?A.cachePool:null),A!==null?wS(a,A):Iv(),SS(a);else return g=a.lanes=536870912,xC(r,a,A!==null?A.baseLanes|f:f,f,g)}else A!==null?(Hh(a,A.cachePool),wS(a,A),sa(),a.memoizedState=null):(r!==null&&Hh(a,null),Iv(),sa());return ci(r,a,S,f),a.child}function wd(r,a){return r!==null&&r.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function xC(r,a,f,g,S){var A=Pv();return A=A===null?null:{parent:Rn._currentValue,pool:A},a.memoizedState={baseLanes:f,cachePool:A},r!==null&&Hh(a,null),Iv(),SS(a),r!==null&&Ec(r,a,g,!0),a.childLanes=S,null}function om(r,a){return a=lm({mode:a.mode,children:a.children},r.mode),a.ref=r.ref,r.child=a,a.return=r,a}function _C(r,a,f){return xl(a,r.child,null,f),r=om(a,a.pendingProps),r.flags|=2,us(a),a.memoizedState=null,r}function AI(r,a,f){var g=a.pendingProps,S=(a.flags&128)!==0;if(a.flags&=-129,r===null){if(pt){if(g.mode==="hidden")return r=om(a,g),a.lanes=536870912,wd(null,r);if(Bv(a),(r=Nt)?(r=ME(r,Gi),r=r!==null&&r.data==="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:me!==null?{id:Ae,overflow:Oe}:null,retryLane:536870912,hydrationErrors:null},f=ad(r),f.return=a,a.child=f,Rt=a,Nt=null)):r=null,r===null)throw jr(a);return a.lanes=536870912,null}return om(a,g)}var A=r.memoizedState;if(A!==null){var D=A.dehydrated;if(Bv(a),S)if(a.flags&256)a.flags&=-257,a=_C(r,a,f);else if(a.memoizedState!==null)a.child=r.child,a.flags|=128,a=null;else throw Error(i(558));else if(kn||Ec(r,a,f,!1),S=(f&r.childLanes)!==0,kn||S){if(g=Kt,g!==null&&(D=yi(g,f),D!==0&&D!==A.retryLane))throw A.retryLane=D,Ps(r,D),Xi(g,r,D),oy;vm(),a=_C(r,a,f)}else r=A.treeContext,Nt=Ds(D.nextSibling),Rt=a,pt=!0,Lr=null,Gi=!1,r!==null&&Pi(a,r),a=om(a,g),a.flags|=4096;return a}return r=Os(r.child,{mode:g.mode,children:g.children}),r.ref=a.ref,a.child=r,r.return=a,r}function am(r,a){var f=a.ref;if(f===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(i(284));(r===null||r.ref!==f)&&(a.flags|=4194816)}}function ay(r,a,f,g,S){return gl(a),f=Fv(r,a,f,g,void 0,S),g=Vv(),r!==null&&!kn?($v(r,a,S),vo(r,a,S)):(pt&&g&&In(a),a.flags|=1,ci(r,a,f,S),a.child)}function wC(r,a,f,g,S,A){return gl(a),a.updateQueue=null,f=ES(a,g,f,S),CS(r),g=Vv(),r!==null&&!kn?($v(r,a,A),vo(r,a,A)):(pt&&g&&In(a),a.flags|=1,ci(r,a,f,A),a.child)}function SC(r,a,f,g,S){if(gl(a),a.stateNode===null){var A=uo,D=f.contextType;typeof D=="object"&&D!==null&&(A=li(D)),A=new f(g,A),a.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=sy,a.stateNode=A,A._reactInternals=a,A=a.stateNode,A.props=g,A.state=a.memoizedState,A.refs={},Mv(a),D=f.contextType,A.context=typeof D=="object"&&D!==null?li(D):uo,A.state=a.memoizedState,D=f.getDerivedStateFromProps,typeof D=="function"&&(iy(a,f,D,g),A.state=a.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(D=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),D!==A.state&&sy.enqueueReplaceState(A,A.state,null),vd(a,g,A,S),gd(),A.state=a.memoizedState),typeof A.componentDidMount=="function"&&(a.flags|=4194308),g=!0}else if(r===null){A=a.stateNode;var F=a.memoizedProps,ne=wl(f,F);A.props=ne;var he=A.context,_e=f.contextType;D=uo,typeof _e=="object"&&_e!==null&&(D=li(_e));var Te=f.getDerivedStateFromProps;_e=typeof Te=="function"||typeof A.getSnapshotBeforeUpdate=="function",F=a.pendingProps!==F,_e||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(F||he!==D)&&cC(a,A,g,D),ea=!1;var pe=a.memoizedState;A.state=pe,vd(a,g,A,S),gd(),he=a.memoizedState,F||pe!==he||ea?(typeof Te=="function"&&(iy(a,f,Te,g),he=a.memoizedState),(ne=ea||lC(a,f,ne,g,pe,he,D))?(_e||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(a.flags|=4194308)):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=he),A.props=g,A.state=he,A.context=D,g=ne):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{A=a.stateNode,Dv(r,a),D=a.memoizedProps,_e=wl(f,D),A.props=_e,Te=a.pendingProps,pe=A.context,he=f.contextType,ne=uo,typeof he=="object"&&he!==null&&(ne=li(he)),F=f.getDerivedStateFromProps,(he=typeof F=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(D!==Te||pe!==ne)&&cC(a,A,g,ne),ea=!1,pe=a.memoizedState,A.state=pe,vd(a,g,A,S),gd();var ye=a.memoizedState;D!==Te||pe!==ye||ea||r!==null&&r.dependencies!==null&&Vh(r.dependencies)?(typeof F=="function"&&(iy(a,f,F,g),ye=a.memoizedState),(_e=ea||lC(a,f,_e,g,pe,ye,ne)||r!==null&&r.dependencies!==null&&Vh(r.dependencies))?(he||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(g,ye,ne),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(g,ye,ne)),typeof A.componentDidUpdate=="function"&&(a.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof A.componentDidUpdate!="function"||D===r.memoizedProps&&pe===r.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&pe===r.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=ye),A.props=g,A.state=ye,A.context=ne,g=_e):(typeof A.componentDidUpdate!="function"||D===r.memoizedProps&&pe===r.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&pe===r.memoizedState||(a.flags|=1024),g=!1)}return A=g,am(r,a),g=(a.flags&128)!==0,A||g?(A=a.stateNode,f=g&&typeof f.getDerivedStateFromError!="function"?null:A.render(),a.flags|=1,r!==null&&g?(a.child=xl(a,r.child,null,S),a.child=xl(a,null,f,S)):ci(r,a,f,S),a.memoizedState=A.state,r=a.child):r=vo(r,a,S),r}function CC(r,a,f,g){return ho(),a.flags|=256,ci(r,a,f,g),a.child}var ly={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cy(r){return{baseLanes:r,cachePool:hS()}}function uy(r,a,f){return r=r!==null?r.childLanes&~f:0,a&&(r|=fs),r}function EC(r,a,f){var g=a.pendingProps,S=!1,A=(a.flags&128)!==0,D;if((D=A)||(D=r!==null&&r.memoizedState===null?!1:(Sn.current&2)!==0),D&&(S=!0,a.flags&=-129),D=(a.flags&32)!==0,a.flags&=-33,r===null){if(pt){if(S?ia(a):sa(),(r=Nt)?(r=ME(r,Gi),r=r!==null&&r.data!=="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:me!==null?{id:Ae,overflow:Oe}:null,retryLane:536870912,hydrationErrors:null},f=ad(r),f.return=a,a.child=f,Rt=a,Nt=null)):r=null,r===null)throw jr(a);return Gy(r)?a.lanes=32:a.lanes=536870912,null}var F=g.children;return g=g.fallback,S?(sa(),S=a.mode,F=lm({mode:"hidden",children:F},S),g=fo(g,S,f,null),F.return=a,g.return=a,F.sibling=g,a.child=F,g=a.child,g.memoizedState=cy(f),g.childLanes=uy(r,D,f),a.memoizedState=ly,wd(null,g)):(ia(a),dy(a,F))}var ne=r.memoizedState;if(ne!==null&&(F=ne.dehydrated,F!==null)){if(A)a.flags&256?(ia(a),a.flags&=-257,a=fy(r,a,f)):a.memoizedState!==null?(sa(),a.child=r.child,a.flags|=128,a=null):(sa(),F=g.fallback,S=a.mode,g=lm({mode:"visible",children:g.children},S),F=fo(F,S,f,null),F.flags|=2,g.return=a,F.return=a,g.sibling=F,a.child=g,xl(a,r.child,null,f),g=a.child,g.memoizedState=cy(f),g.childLanes=uy(r,D,f),a.memoizedState=ly,a=wd(null,g));else if(ia(a),Gy(F)){if(D=F.nextSibling&&F.nextSibling.dataset,D)var he=D.dgst;D=he,g=Error(i(419)),g.stack="",g.digest=D,ml({value:g,source:null,stack:null}),a=fy(r,a,f)}else if(kn||Ec(r,a,f,!1),D=(f&r.childLanes)!==0,kn||D){if(D=Kt,D!==null&&(g=yi(D,f),g!==0&&g!==ne.retryLane))throw ne.retryLane=g,Ps(r,g),Xi(D,r,g),oy;qy(F)||vm(),a=fy(r,a,f)}else qy(F)?(a.flags|=192,a.child=r.child,a=null):(r=ne.treeContext,Nt=Ds(F.nextSibling),Rt=a,pt=!0,Lr=null,Gi=!1,r!==null&&Pi(a,r),a=dy(a,g.children),a.flags|=4096);return a}return S?(sa(),F=g.fallback,S=a.mode,ne=r.child,he=ne.sibling,g=Os(ne,{mode:"hidden",children:g.children}),g.subtreeFlags=ne.subtreeFlags&65011712,he!==null?F=Os(he,F):(F=fo(F,S,f,null),F.flags|=2),F.return=a,g.return=a,g.sibling=F,a.child=g,wd(null,g),g=a.child,F=r.child.memoizedState,F===null?F=cy(f):(S=F.cachePool,S!==null?(ne=Rn._currentValue,S=S.parent!==ne?{parent:ne,pool:ne}:S):S=hS(),F={baseLanes:F.baseLanes|f,cachePool:S}),g.memoizedState=F,g.childLanes=uy(r,D,f),a.memoizedState=ly,wd(r.child,g)):(ia(a),f=r.child,r=f.sibling,f=Os(f,{mode:"visible",children:g.children}),f.return=a,f.sibling=null,r!==null&&(D=a.deletions,D===null?(a.deletions=[r],a.flags|=16):D.push(r)),a.child=f,a.memoizedState=null,f)}function dy(r,a){return a=lm({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function lm(r,a){return r=wi(22,r,null,a),r.lanes=0,r}function fy(r,a,f){return xl(a,r.child,null,f),r=dy(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function AC(r,a,f){r.lanes|=a;var g=r.alternate;g!==null&&(g.lanes|=a),Tv(r.return,a,f)}function hy(r,a,f,g,S,A){var D=r.memoizedState;D===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:S,treeForkCount:A}:(D.isBackwards=a,D.rendering=null,D.renderingStartTime=0,D.last=g,D.tail=f,D.tailMode=S,D.treeForkCount=A)}function TC(r,a,f){var g=a.pendingProps,S=g.revealOrder,A=g.tail;g=g.children;var D=Sn.current,F=(D&2)!==0;if(F?(D=D&1|2,a.flags|=128):D&=1,be(Sn,D),ci(r,a,g,f),g=pt?B:0,!F&&r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&AC(r,f,a);else if(r.tag===19)AC(r,f,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(S){case"forwards":for(f=a.child,S=null;f!==null;)r=f.alternate,r!==null&&Zh(r)===null&&(S=f),f=f.sibling;f=S,f===null?(S=a.child,a.child=null):(S=f.sibling,f.sibling=null),hy(a,!1,S,f,A,g);break;case"backwards":case"unstable_legacy-backwards":for(f=null,S=a.child,a.child=null;S!==null;){if(r=S.alternate,r!==null&&Zh(r)===null){a.child=S;break}r=S.sibling,S.sibling=f,f=S,S=r}hy(a,!0,f,null,A,g);break;case"together":hy(a,!1,null,null,void 0,g);break;default:a.memoizedState=null}return a.child}function vo(r,a,f){if(r!==null&&(a.dependencies=r.dependencies),aa|=a.lanes,(f&a.childLanes)===0)if(r!==null){if(Ec(r,a,f,!1),(f&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,f=Os(r,r.pendingProps),a.child=f,f.return=a;r.sibling!==null;)r=r.sibling,f=f.sibling=Os(r,r.pendingProps),f.return=a;f.sibling=null}return a.child}function my(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Vh(r)))}function TI(r,a,f){switch(a.tag){case 3:je(a,a.stateNode.containerInfo),Jo(a,Rn,r.memoizedState.cache),ho();break;case 27:case 5:Le(a);break;case 4:je(a,a.stateNode.containerInfo);break;case 10:Jo(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Bv(a),null;break;case 13:var g=a.memoizedState;if(g!==null)return g.dehydrated!==null?(ia(a),a.flags|=128,null):(f&a.child.childLanes)!==0?EC(r,a,f):(ia(a),r=vo(r,a,f),r!==null?r.sibling:null);ia(a);break;case 19:var S=(r.flags&128)!==0;if(g=(f&a.childLanes)!==0,g||(Ec(r,a,f,!1),g=(f&a.childLanes)!==0),S){if(g)return TC(r,a,f);a.flags|=128}if(S=a.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),be(Sn,Sn.current),g)break;return null;case 22:return a.lanes=0,bC(r,a,f,a.pendingProps);case 24:Jo(a,Rn,r.memoizedState.cache)}return vo(r,a,f)}function RC(r,a,f){if(r!==null)if(r.memoizedProps!==a.pendingProps)kn=!0;else{if(!my(r,f)&&(a.flags&128)===0)return kn=!1,TI(r,a,f);kn=(r.flags&131072)!==0}else kn=!1,pt&&(a.flags&1048576)!==0&&ct(a,B,a.index);switch(a.lanes=0,a.tag){case 16:e:{var g=a.pendingProps;if(r=yl(a.elementType),a.type=r,typeof r=="function")wc(r)?(g=wl(r,g),a.tag=1,a=SC(null,a,r,g,f)):(a.tag=0,a=ay(null,a,r,g,f));else{if(r!=null){var S=r.$$typeof;if(S===O){a.tag=11,a=gC(null,a,r,g,f);break e}else if(S===z){a.tag=14,a=vC(null,a,r,g,f);break e}}throw a=ie(r)||r,Error(i(306,a,""))}}return a;case 0:return ay(r,a,a.type,a.pendingProps,f);case 1:return g=a.type,S=wl(g,a.pendingProps),SC(r,a,g,S,f);case 3:e:{if(je(a,a.stateNode.containerInfo),r===null)throw Error(i(387));g=a.pendingProps;var A=a.memoizedState;S=A.element,Dv(r,a),vd(a,g,null,f);var D=a.memoizedState;if(g=D.cache,Jo(a,Rn,g),g!==A.cache&&Rv(a,[Rn],f,!0),gd(),g=D.element,A.isDehydrated)if(A={element:g,isDehydrated:!1,cache:D.cache},a.updateQueue.baseState=A,a.memoizedState=A,a.flags&256){a=CC(r,a,g,f);break e}else if(g!==S){S=p(Error(i(424)),a),ml(S),a=CC(r,a,g,f);break e}else for(r=a.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,Nt=Ds(r.firstChild),Rt=a,pt=!0,Lr=null,Gi=!0,f=bS(a,null,g,f),a.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(ho(),g===S){a=vo(r,a,f);break e}ci(r,a,g,f)}a=a.child}return a;case 26:return am(r,a),r===null?(f=BE(a.type,null,a.pendingProps,null))?a.memoizedState=f:pt||(f=a.type,r=a.pendingProps,g=Cm(Se.current).createElement(f),g[mn]=a,g[Tn]=r,ui(g,f,r),ln(g),a.stateNode=g):a.memoizedState=BE(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Le(a),r===null&&pt&&(g=a.stateNode=jE(a.type,a.pendingProps,Se.current),Rt=a,Gi=!0,S=Nt,fa(a.type)?(Ky=S,Nt=Ds(g.firstChild)):Nt=S),ci(r,a,a.pendingProps.children,f),am(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&pt&&((S=g=Nt)&&(g=iz(g,a.type,a.pendingProps,Gi),g!==null?(a.stateNode=g,Rt=a,Nt=Ds(g.firstChild),Gi=!1,S=!0):S=!1),S||jr(a)),Le(a),S=a.type,A=a.pendingProps,D=r!==null?r.memoizedProps:null,g=A.children,Vy(S,A)?g=null:D!==null&&Vy(S,D)&&(a.flags|=32),a.memoizedState!==null&&(S=Fv(r,a,yI,null,null,f),Id._currentValue=S),am(r,a),ci(r,a,g,f),a.child;case 6:return r===null&&pt&&((r=f=Nt)&&(f=sz(f,a.pendingProps,Gi),f!==null?(a.stateNode=f,Rt=a,Nt=null,r=!0):r=!1),r||jr(a)),null;case 13:return EC(r,a,f);case 4:return je(a,a.stateNode.containerInfo),g=a.pendingProps,r===null?a.child=xl(a,null,g,f):ci(r,a,g,f),a.child;case 11:return gC(r,a,a.type,a.pendingProps,f);case 7:return ci(r,a,a.pendingProps,f),a.child;case 8:return ci(r,a,a.pendingProps.children,f),a.child;case 12:return ci(r,a,a.pendingProps.children,f),a.child;case 10:return g=a.pendingProps,Jo(a,a.type,g.value),ci(r,a,g.children,f),a.child;case 9:return S=a.type._context,g=a.pendingProps.children,gl(a),S=li(S),g=g(S),a.flags|=1,ci(r,a,g,f),a.child;case 14:return vC(r,a,a.type,a.pendingProps,f);case 15:return yC(r,a,a.type,a.pendingProps,f);case 19:return TC(r,a,f);case 31:return AI(r,a,f);case 22:return bC(r,a,f,a.pendingProps);case 24:return gl(a),g=li(Rn),r===null?(S=Pv(),S===null&&(S=Kt,A=Nv(),S.pooledCache=A,A.refCount++,A!==null&&(S.pooledCacheLanes|=f),S=A),a.memoizedState={parent:g,cache:S},Mv(a),Jo(a,Rn,S)):((r.lanes&f)!==0&&(Dv(r,a),vd(a,null,null,f),gd()),S=r.memoizedState,A=a.memoizedState,S.parent!==g?(S={parent:g,cache:g},a.memoizedState=S,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=S),Jo(a,Rn,g)):(g=A.cache,Jo(a,Rn,g),g!==S.cache&&Rv(a,[Rn],f,!0))),ci(r,a,a.pendingProps.children,f),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function yo(r){r.flags|=4}function py(r,a,f,g,S){if((a=(r.mode&32)!==0)&&(a=!1),a){if(r.flags|=16777216,(S&335544128)===S)if(r.stateNode.complete)r.flags|=8192;else if(tE())r.flags|=8192;else throw bl=Gh,Ov}else r.flags&=-16777217}function NC(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!HE(a))if(tE())r.flags|=8192;else throw bl=Gh,Ov}function cm(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?An():536870912,r.lanes|=a,Ic|=a)}function Sd(r,a){if(!pt)switch(r.tailMode){case"hidden":a=r.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?r.tail=null:f.sibling=null;break;case"collapsed":f=r.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:g.sibling=null}}function en(r){var a=r.alternate!==null&&r.alternate.child===r.child,f=0,g=0;if(a)for(var S=r.child;S!==null;)f|=S.lanes|S.childLanes,g|=S.subtreeFlags&65011712,g|=S.flags&65011712,S.return=r,S=S.sibling;else for(S=r.child;S!==null;)f|=S.lanes|S.childLanes,g|=S.subtreeFlags,g|=S.flags,S.return=r,S=S.sibling;return r.subtreeFlags|=g,r.childLanes=f,a}function RI(r,a,f){var g=a.pendingProps;switch(gn(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(a),null;case 1:return en(a),null;case 3:return f=a.stateNode,g=null,r!==null&&(g=r.memoizedState.cache),a.memoizedState.cache!==g&&(a.flags|=2048),mo(Rn),De(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(sr(a)?yo(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ud())),en(a),null;case 26:var S=a.type,A=a.memoizedState;return r===null?(yo(a),A!==null?(en(a),NC(a,A)):(en(a),py(a,S,null,g,f))):A?A!==r.memoizedState?(yo(a),en(a),NC(a,A)):(en(a),a.flags&=-16777217):(r=r.memoizedProps,r!==g&&yo(a),en(a),py(a,S,r,g,f)),null;case 27:if(Xe(a),f=Se.current,S=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==g&&yo(a);else{if(!g){if(a.stateNode===null)throw Error(i(166));return en(a),null}r=xe.current,sr(a)?cd(a):(r=jE(S,g,f),a.stateNode=r,yo(a))}return en(a),null;case 5:if(Xe(a),S=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==g&&yo(a);else{if(!g){if(a.stateNode===null)throw Error(i(166));return en(a),null}if(A=xe.current,sr(a))cd(a);else{var D=Cm(Se.current);switch(A){case 1:A=D.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:A=D.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":A=D.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":A=D.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":A=D.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof g.is=="string"?D.createElement("select",{is:g.is}):D.createElement("select"),g.multiple?A.multiple=!0:g.size&&(A.size=g.size);break;default:A=typeof g.is=="string"?D.createElement(S,{is:g.is}):D.createElement(S)}}A[mn]=a,A[Tn]=g;e:for(D=a.child;D!==null;){if(D.tag===5||D.tag===6)A.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===a)break e;for(;D.sibling===null;){if(D.return===null||D.return===a)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}a.stateNode=A;e:switch(ui(A,S,g),S){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&yo(a)}}return en(a),py(a,a.type,r===null?null:r.memoizedProps,a.pendingProps,f),null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==g&&yo(a);else{if(typeof g!="string"&&a.stateNode===null)throw Error(i(166));if(r=Se.current,sr(a)){if(r=a.stateNode,f=a.memoizedProps,g=null,S=Rt,S!==null)switch(S.tag){case 27:case 5:g=S.memoizedProps}r[mn]=a,r=!!(r.nodeValue===f||g!==null&&g.suppressHydrationWarning===!0||EE(r.nodeValue,f)),r||jr(a,!0)}else r=Cm(r).createTextNode(g),r[mn]=a,a.stateNode=r}return en(a),null;case 31:if(f=a.memoizedState,r===null||r.memoizedState!==null){if(g=sr(a),f!==null){if(r===null){if(!g)throw Error(i(318));if(r=a.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[mn]=a}else ho(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;en(a),r=!1}else f=ud(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),r=!0;if(!r)return a.flags&256?(us(a),a):(us(a),null);if((a.flags&128)!==0)throw Error(i(558))}return en(a),null;case 13:if(g=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(S=sr(a),g!==null&&g.dehydrated!==null){if(r===null){if(!S)throw Error(i(318));if(S=a.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(i(317));S[mn]=a}else ho(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;en(a),S=!1}else S=ud(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=S),S=!0;if(!S)return a.flags&256?(us(a),a):(us(a),null)}return us(a),(a.flags&128)!==0?(a.lanes=f,a):(f=g!==null,r=r!==null&&r.memoizedState!==null,f&&(g=a.child,S=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(S=g.alternate.memoizedState.cachePool.pool),A=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(A=g.memoizedState.cachePool.pool),A!==S&&(g.flags|=2048)),f!==r&&f&&(a.child.flags|=8192),cm(a,a.updateQueue),en(a),null);case 4:return De(),r===null&&Iy(a.stateNode.containerInfo),en(a),null;case 10:return mo(a.type),en(a),null;case 19:if(oe(Sn),g=a.memoizedState,g===null)return en(a),null;if(S=(a.flags&128)!==0,A=g.rendering,A===null)if(S)Sd(g,!1);else{if(yn!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(A=Zh(r),A!==null){for(a.flags|=128,Sd(g,!1),r=A.updateQueue,a.updateQueue=r,cm(a,r),a.subtreeFlags=0,r=f,f=a.child;f!==null;)od(f,r),f=f.sibling;return be(Sn,Sn.current&1|2),pt&&qe(a,g.treeForkCount),a.child}r=r.sibling}g.tail!==null&&sn()>mm&&(a.flags|=128,S=!0,Sd(g,!1),a.lanes=4194304)}else{if(!S)if(r=Zh(A),r!==null){if(a.flags|=128,S=!0,r=r.updateQueue,a.updateQueue=r,cm(a,r),Sd(g,!0),g.tail===null&&g.tailMode==="hidden"&&!A.alternate&&!pt)return en(a),null}else 2*sn()-g.renderingStartTime>mm&&f!==536870912&&(a.flags|=128,S=!0,Sd(g,!1),a.lanes=4194304);g.isBackwards?(A.sibling=a.child,a.child=A):(r=g.last,r!==null?r.sibling=A:a.child=A,g.last=A)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=sn(),r.sibling=null,f=Sn.current,be(Sn,S?f&1|2:f&1),pt&&qe(a,g.treeForkCount),r):(en(a),null);case 22:case 23:return us(a),zv(),g=a.memoizedState!==null,r!==null?r.memoizedState!==null!==g&&(a.flags|=8192):g&&(a.flags|=8192),g?(f&536870912)!==0&&(a.flags&128)===0&&(en(a),a.subtreeFlags&6&&(a.flags|=8192)):en(a),f=a.updateQueue,f!==null&&cm(a,f.retryQueue),f=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),g=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(g=a.memoizedState.cachePool.pool),g!==f&&(a.flags|=2048),r!==null&&oe(vl),null;case 24:return f=null,r!==null&&(f=r.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),mo(Rn),en(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function NI(r,a){switch(gn(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return mo(Rn),De(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Xe(a),null;case 31:if(a.memoizedState!==null){if(us(a),a.alternate===null)throw Error(i(340));ho()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 13:if(us(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));ho()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return oe(Sn),null;case 4:return De(),null;case 10:return mo(a.type),null;case 22:case 23:return us(a),zv(),r!==null&&oe(vl),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return mo(Rn),null;case 25:return null;default:return null}}function kC(r,a){switch(gn(a),a.tag){case 3:mo(Rn),De();break;case 26:case 27:case 5:Xe(a);break;case 4:De();break;case 31:a.memoizedState!==null&&us(a);break;case 13:us(a);break;case 19:oe(Sn);break;case 10:mo(a.type);break;case 22:case 23:us(a),zv(),r!==null&&oe(vl);break;case 24:mo(Rn)}}function Cd(r,a){try{var f=a.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var S=g.next;f=S;do{if((f.tag&r)===r){g=void 0;var A=f.create,D=f.inst;g=A(),D.destroy=g}f=f.next}while(f!==S)}}catch(F){Vt(a,a.return,F)}}function ra(r,a,f){try{var g=a.updateQueue,S=g!==null?g.lastEffect:null;if(S!==null){var A=S.next;g=A;do{if((g.tag&r)===r){var D=g.inst,F=D.destroy;if(F!==void 0){D.destroy=void 0,S=a;var ne=f,he=F;try{he()}catch(_e){Vt(S,ne,_e)}}}g=g.next}while(g!==A)}}catch(_e){Vt(a,a.return,_e)}}function PC(r){var a=r.updateQueue;if(a!==null){var f=r.stateNode;try{_S(a,f)}catch(g){Vt(r,r.return,g)}}}function OC(r,a,f){f.props=wl(r.type,r.memoizedProps),f.state=r.memoizedState;try{f.componentWillUnmount()}catch(g){Vt(r,a,g)}}function Ed(r,a){try{var f=r.ref;if(f!==null){switch(r.tag){case 26:case 27:case 5:var g=r.stateNode;break;case 30:g=r.stateNode;break;default:g=r.stateNode}typeof f=="function"?r.refCleanup=f(g):f.current=g}}catch(S){Vt(r,a,S)}}function zr(r,a){var f=r.ref,g=r.refCleanup;if(f!==null)if(typeof g=="function")try{g()}catch(S){Vt(r,a,S)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(S){Vt(r,a,S)}else f.current=null}function MC(r){var a=r.type,f=r.memoizedProps,g=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":f.autoFocus&&g.focus();break e;case"img":f.src?g.src=f.src:f.srcSet&&(g.srcset=f.srcSet)}}catch(S){Vt(r,r.return,S)}}function gy(r,a,f){try{var g=r.stateNode;XI(g,r.type,f,a),g[Tn]=a}catch(S){Vt(r,r.return,S)}}function DC(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&fa(r.type)||r.tag===4}function vy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||DC(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&fa(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function yy(r,a,f){var g=r.tag;if(g===5||g===6)r=r.stateNode,a?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(r,a):(a=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,a.appendChild(r),f=f._reactRootContainer,f!=null||a.onclick!==null||(a.onclick=xi));else if(g!==4&&(g===27&&fa(r.type)&&(f=r.stateNode,a=null),r=r.child,r!==null))for(yy(r,a,f),r=r.sibling;r!==null;)yy(r,a,f),r=r.sibling}function um(r,a,f){var g=r.tag;if(g===5||g===6)r=r.stateNode,a?f.insertBefore(r,a):f.appendChild(r);else if(g!==4&&(g===27&&fa(r.type)&&(f=r.stateNode),r=r.child,r!==null))for(um(r,a,f),r=r.sibling;r!==null;)um(r,a,f),r=r.sibling}function LC(r){var a=r.stateNode,f=r.memoizedProps;try{for(var g=r.type,S=a.attributes;S.length;)a.removeAttributeNode(S[0]);ui(a,g,f),a[mn]=r,a[Tn]=f}catch(A){Vt(r,r.return,A)}}var bo=!1,Pn=!1,by=!1,jC=typeof WeakSet=="function"?WeakSet:Set,ei=null;function kI(r,a){if(r=r.containerInfo,Uy=Pm,r=ol(r),kr(r)){if("selectionStart"in r)var f={start:r.selectionStart,end:r.selectionEnd};else e:{f=(f=r.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var S=g.anchorOffset,A=g.focusNode;g=g.focusOffset;try{f.nodeType,A.nodeType}catch{f=null;break e}var D=0,F=-1,ne=-1,he=0,_e=0,Te=r,pe=null;t:for(;;){for(var ye;Te!==f||S!==0&&Te.nodeType!==3||(F=D+S),Te!==A||g!==0&&Te.nodeType!==3||(ne=D+g),Te.nodeType===3&&(D+=Te.nodeValue.length),(ye=Te.firstChild)!==null;)pe=Te,Te=ye;for(;;){if(Te===r)break t;if(pe===f&&++he===S&&(F=D),pe===A&&++_e===g&&(ne=D),(ye=Te.nextSibling)!==null)break;Te=pe,pe=Te.parentNode}Te=ye}f=F===-1||ne===-1?null:{start:F,end:ne}}else f=null}f=f||{start:0,end:0}}else f=null;for(Fy={focusedElem:r,selectionRange:f},Pm=!1,ei=a;ei!==null;)if(a=ei,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,ei=r;else for(;ei!==null;){switch(a=ei,A=a.alternate,r=a.flags,a.tag){case 0:if((r&4)!==0&&(r=a.updateQueue,r=r!==null?r.events:null,r!==null))for(f=0;f<r.length;f++)S=r[f],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&A!==null){r=void 0,f=a,S=A.memoizedProps,A=A.memoizedState,g=f.stateNode;try{var Ue=wl(f.type,S);r=g.getSnapshotBeforeUpdate(Ue,A),g.__reactInternalSnapshotBeforeUpdate=r}catch(Je){Vt(f,f.return,Je)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,f=r.nodeType,f===9)Hy(r);else if(f===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Hy(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,ei=r;break}ei=a.return}}function IC(r,a,f){var g=f.flags;switch(f.tag){case 0:case 11:case 15:_o(r,f),g&4&&Cd(5,f);break;case 1:if(_o(r,f),g&4)if(r=f.stateNode,a===null)try{r.componentDidMount()}catch(D){Vt(f,f.return,D)}else{var S=wl(f.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(S,a,r.__reactInternalSnapshotBeforeUpdate)}catch(D){Vt(f,f.return,D)}}g&64&&PC(f),g&512&&Ed(f,f.return);break;case 3:if(_o(r,f),g&64&&(r=f.updateQueue,r!==null)){if(a=null,f.child!==null)switch(f.child.tag){case 27:case 5:a=f.child.stateNode;break;case 1:a=f.child.stateNode}try{_S(r,a)}catch(D){Vt(f,f.return,D)}}break;case 27:a===null&&g&4&&LC(f);case 26:case 5:_o(r,f),a===null&&g&4&&MC(f),g&512&&Ed(f,f.return);break;case 12:_o(r,f);break;case 31:_o(r,f),g&4&&UC(r,f);break;case 13:_o(r,f),g&4&&FC(r,f),g&64&&(r=f.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(f=BI.bind(null,f),rz(r,f))));break;case 22:if(g=f.memoizedState!==null||bo,!g){a=a!==null&&a.memoizedState!==null||Pn,S=bo;var A=Pn;bo=g,(Pn=a)&&!A?wo(r,f,(f.subtreeFlags&8772)!==0):_o(r,f),bo=S,Pn=A}break;case 30:break;default:_o(r,f)}}function zC(r){var a=r.alternate;a!==null&&(r.alternate=null,zC(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Ka(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var tn=null,Ki=!1;function xo(r,a,f){for(f=f.child;f!==null;)BC(r,a,f),f=f.sibling}function BC(r,a,f){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(ts,f)}catch{}switch(f.tag){case 26:Pn||zr(f,a),xo(r,a,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Pn||zr(f,a);var g=tn,S=Ki;fa(f.type)&&(tn=f.stateNode,Ki=!1),xo(r,a,f),Dd(f.stateNode),tn=g,Ki=S;break;case 5:Pn||zr(f,a);case 6:if(g=tn,S=Ki,tn=null,xo(r,a,f),tn=g,Ki=S,tn!==null)if(Ki)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(f.stateNode)}catch(A){Vt(f,a,A)}else try{tn.removeChild(f.stateNode)}catch(A){Vt(f,a,A)}break;case 18:tn!==null&&(Ki?(r=tn,PE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,f.stateNode),qc(r)):PE(tn,f.stateNode));break;case 4:g=tn,S=Ki,tn=f.stateNode.containerInfo,Ki=!0,xo(r,a,f),tn=g,Ki=S;break;case 0:case 11:case 14:case 15:ra(2,f,a),Pn||ra(4,f,a),xo(r,a,f);break;case 1:Pn||(zr(f,a),g=f.stateNode,typeof g.componentWillUnmount=="function"&&OC(f,a,g)),xo(r,a,f);break;case 21:xo(r,a,f);break;case 22:Pn=(g=Pn)||f.memoizedState!==null,xo(r,a,f),Pn=g;break;default:xo(r,a,f)}}function UC(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{qc(r)}catch(f){Vt(a,a.return,f)}}}function FC(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{qc(r)}catch(f){Vt(a,a.return,f)}}function PI(r){switch(r.tag){case 31:case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new jC),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new jC),a;default:throw Error(i(435,r.tag))}}function dm(r,a){var f=PI(r);a.forEach(function(g){if(!f.has(g)){f.add(g);var S=UI.bind(null,r,g);g.then(S,S)}})}function Wi(r,a){var f=a.deletions;if(f!==null)for(var g=0;g<f.length;g++){var S=f[g],A=r,D=a,F=D;e:for(;F!==null;){switch(F.tag){case 27:if(fa(F.type)){tn=F.stateNode,Ki=!1;break e}break;case 5:tn=F.stateNode,Ki=!1;break e;case 3:case 4:tn=F.stateNode.containerInfo,Ki=!0;break e}F=F.return}if(tn===null)throw Error(i(160));BC(A,D,S),tn=null,Ki=!1,A=S.alternate,A!==null&&(A.return=null),S.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)VC(a,r),a=a.sibling}var or=null;function VC(r,a){var f=r.alternate,g=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Wi(a,r),Yi(r),g&4&&(ra(3,r,r.return),Cd(3,r),ra(5,r,r.return));break;case 1:Wi(a,r),Yi(r),g&512&&(Pn||f===null||zr(f,f.return)),g&64&&bo&&(r=r.updateQueue,r!==null&&(g=r.callbacks,g!==null&&(f=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=f===null?g:f.concat(g))));break;case 26:var S=or;if(Wi(a,r),Yi(r),g&512&&(Pn||f===null||zr(f,f.return)),g&4){var A=f!==null?f.memoizedState:null;if(g=r.memoizedState,f===null)if(g===null)if(r.stateNode===null){e:{g=r.type,f=r.memoizedProps,S=S.ownerDocument||S;t:switch(g){case"title":A=S.getElementsByTagName("title")[0],(!A||A[to]||A[mn]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=S.createElement(g),S.head.insertBefore(A,S.querySelector("head > title"))),ui(A,g,f),A[mn]=r,ln(A),g=A;break e;case"link":var D=VE("link","href",S).get(g+(f.href||""));if(D){for(var F=0;F<D.length;F++)if(A=D[F],A.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&A.getAttribute("rel")===(f.rel==null?null:f.rel)&&A.getAttribute("title")===(f.title==null?null:f.title)&&A.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){D.splice(F,1);break t}}A=S.createElement(g),ui(A,g,f),S.head.appendChild(A);break;case"meta":if(D=VE("meta","content",S).get(g+(f.content||""))){for(F=0;F<D.length;F++)if(A=D[F],A.getAttribute("content")===(f.content==null?null:""+f.content)&&A.getAttribute("name")===(f.name==null?null:f.name)&&A.getAttribute("property")===(f.property==null?null:f.property)&&A.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&A.getAttribute("charset")===(f.charSet==null?null:f.charSet)){D.splice(F,1);break t}}A=S.createElement(g),ui(A,g,f),S.head.appendChild(A);break;default:throw Error(i(468,g))}A[mn]=r,ln(A),g=A}r.stateNode=g}else $E(S,r.type,r.stateNode);else r.stateNode=FE(S,g,r.memoizedProps);else A!==g?(A===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):A.count--,g===null?$E(S,r.type,r.stateNode):FE(S,g,r.memoizedProps)):g===null&&r.stateNode!==null&&gy(r,r.memoizedProps,f.memoizedProps)}break;case 27:Wi(a,r),Yi(r),g&512&&(Pn||f===null||zr(f,f.return)),f!==null&&g&4&&gy(r,r.memoizedProps,f.memoizedProps);break;case 5:if(Wi(a,r),Yi(r),g&512&&(Pn||f===null||zr(f,f.return)),r.flags&32){S=r.stateNode;try{Et(S,"")}catch(Ue){Vt(r,r.return,Ue)}}g&4&&r.stateNode!=null&&(S=r.memoizedProps,gy(r,S,f!==null?f.memoizedProps:S)),g&1024&&(by=!0);break;case 6:if(Wi(a,r),Yi(r),g&4){if(r.stateNode===null)throw Error(i(162));g=r.memoizedProps,f=r.stateNode;try{f.nodeValue=g}catch(Ue){Vt(r,r.return,Ue)}}break;case 3:if(Tm=null,S=or,or=Em(a.containerInfo),Wi(a,r),or=S,Yi(r),g&4&&f!==null&&f.memoizedState.isDehydrated)try{qc(a.containerInfo)}catch(Ue){Vt(r,r.return,Ue)}by&&(by=!1,$C(r));break;case 4:g=or,or=Em(r.stateNode.containerInfo),Wi(a,r),Yi(r),or=g;break;case 12:Wi(a,r),Yi(r);break;case 31:Wi(a,r),Yi(r),g&4&&(g=r.updateQueue,g!==null&&(r.updateQueue=null,dm(r,g)));break;case 13:Wi(a,r),Yi(r),r.child.flags&8192&&r.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(hm=sn()),g&4&&(g=r.updateQueue,g!==null&&(r.updateQueue=null,dm(r,g)));break;case 22:S=r.memoizedState!==null;var ne=f!==null&&f.memoizedState!==null,he=bo,_e=Pn;if(bo=he||S,Pn=_e||ne,Wi(a,r),Pn=_e,bo=he,Yi(r),g&8192)e:for(a=r.stateNode,a._visibility=S?a._visibility&-2:a._visibility|1,S&&(f===null||ne||bo||Pn||Sl(r)),f=null,a=r;;){if(a.tag===5||a.tag===26){if(f===null){ne=f=a;try{if(A=ne.stateNode,S)D=A.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{F=ne.stateNode;var Te=ne.memoizedProps.style,pe=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;F.style.display=pe==null||typeof pe=="boolean"?"":(""+pe).trim()}}catch(Ue){Vt(ne,ne.return,Ue)}}}else if(a.tag===6){if(f===null){ne=a;try{ne.stateNode.nodeValue=S?"":ne.memoizedProps}catch(Ue){Vt(ne,ne.return,Ue)}}}else if(a.tag===18){if(f===null){ne=a;try{var ye=ne.stateNode;S?OE(ye,!0):OE(ne.stateNode,!1)}catch(Ue){Vt(ne,ne.return,Ue)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;f===a&&(f=null),a=a.return}f===a&&(f=null),a.sibling.return=a.return,a=a.sibling}g&4&&(g=r.updateQueue,g!==null&&(f=g.retryQueue,f!==null&&(g.retryQueue=null,dm(r,f))));break;case 19:Wi(a,r),Yi(r),g&4&&(g=r.updateQueue,g!==null&&(r.updateQueue=null,dm(r,g)));break;case 30:break;case 21:break;default:Wi(a,r),Yi(r)}}function Yi(r){var a=r.flags;if(a&2){try{for(var f,g=r.return;g!==null;){if(DC(g)){f=g;break}g=g.return}if(f==null)throw Error(i(160));switch(f.tag){case 27:var S=f.stateNode,A=vy(r);um(r,A,S);break;case 5:var D=f.stateNode;f.flags&32&&(Et(D,""),f.flags&=-33);var F=vy(r);um(r,F,D);break;case 3:case 4:var ne=f.stateNode.containerInfo,he=vy(r);yy(r,he,ne);break;default:throw Error(i(161))}}catch(_e){Vt(r,r.return,_e)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function $C(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;$C(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function _o(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)IC(r,a.alternate,a),a=a.sibling}function Sl(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:ra(4,a,a.return),Sl(a);break;case 1:zr(a,a.return);var f=a.stateNode;typeof f.componentWillUnmount=="function"&&OC(a,a.return,f),Sl(a);break;case 27:Dd(a.stateNode);case 26:case 5:zr(a,a.return),Sl(a);break;case 22:a.memoizedState===null&&Sl(a);break;case 30:Sl(a);break;default:Sl(a)}r=r.sibling}}function wo(r,a,f){for(f=f&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var g=a.alternate,S=r,A=a,D=A.flags;switch(A.tag){case 0:case 11:case 15:wo(S,A,f),Cd(4,A);break;case 1:if(wo(S,A,f),g=A,S=g.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(he){Vt(g,g.return,he)}if(g=A,S=g.updateQueue,S!==null){var F=g.stateNode;try{var ne=S.shared.hiddenCallbacks;if(ne!==null)for(S.shared.hiddenCallbacks=null,S=0;S<ne.length;S++)xS(ne[S],F)}catch(he){Vt(g,g.return,he)}}f&&D&64&&PC(A),Ed(A,A.return);break;case 27:LC(A);case 26:case 5:wo(S,A,f),f&&g===null&&D&4&&MC(A),Ed(A,A.return);break;case 12:wo(S,A,f);break;case 31:wo(S,A,f),f&&D&4&&UC(S,A);break;case 13:wo(S,A,f),f&&D&4&&FC(S,A);break;case 22:A.memoizedState===null&&wo(S,A,f),Ed(A,A.return);break;case 30:break;default:wo(S,A,f)}a=a.sibling}}function xy(r,a){var f=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==f&&(r!=null&&r.refCount++,f!=null&&dd(f))}function _y(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&dd(r))}function ar(r,a,f,g){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)HC(r,a,f,g),a=a.sibling}function HC(r,a,f,g){var S=a.flags;switch(a.tag){case 0:case 11:case 15:ar(r,a,f,g),S&2048&&Cd(9,a);break;case 1:ar(r,a,f,g);break;case 3:ar(r,a,f,g),S&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&dd(r)));break;case 12:if(S&2048){ar(r,a,f,g),r=a.stateNode;try{var A=a.memoizedProps,D=A.id,F=A.onPostCommit;typeof F=="function"&&F(D,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(ne){Vt(a,a.return,ne)}}else ar(r,a,f,g);break;case 31:ar(r,a,f,g);break;case 13:ar(r,a,f,g);break;case 23:break;case 22:A=a.stateNode,D=a.alternate,a.memoizedState!==null?A._visibility&2?ar(r,a,f,g):Ad(r,a):A._visibility&2?ar(r,a,f,g):(A._visibility|=2,Dc(r,a,f,g,(a.subtreeFlags&10256)!==0||!1)),S&2048&&xy(D,a);break;case 24:ar(r,a,f,g),S&2048&&_y(a.alternate,a);break;default:ar(r,a,f,g)}}function Dc(r,a,f,g,S){for(S=S&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var A=r,D=a,F=f,ne=g,he=D.flags;switch(D.tag){case 0:case 11:case 15:Dc(A,D,F,ne,S),Cd(8,D);break;case 23:break;case 22:var _e=D.stateNode;D.memoizedState!==null?_e._visibility&2?Dc(A,D,F,ne,S):Ad(A,D):(_e._visibility|=2,Dc(A,D,F,ne,S)),S&&he&2048&&xy(D.alternate,D);break;case 24:Dc(A,D,F,ne,S),S&&he&2048&&_y(D.alternate,D);break;default:Dc(A,D,F,ne,S)}a=a.sibling}}function Ad(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var f=r,g=a,S=g.flags;switch(g.tag){case 22:Ad(f,g),S&2048&&xy(g.alternate,g);break;case 24:Ad(f,g),S&2048&&_y(g.alternate,g);break;default:Ad(f,g)}a=a.sibling}}var Td=8192;function Lc(r,a,f){if(r.subtreeFlags&Td)for(r=r.child;r!==null;)qC(r,a,f),r=r.sibling}function qC(r,a,f){switch(r.tag){case 26:Lc(r,a,f),r.flags&Td&&r.memoizedState!==null&&vz(f,or,r.memoizedState,r.memoizedProps);break;case 5:Lc(r,a,f);break;case 3:case 4:var g=or;or=Em(r.stateNode.containerInfo),Lc(r,a,f),or=g;break;case 22:r.memoizedState===null&&(g=r.alternate,g!==null&&g.memoizedState!==null?(g=Td,Td=16777216,Lc(r,a,f),Td=g):Lc(r,a,f));break;default:Lc(r,a,f)}}function GC(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Rd(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var f=0;f<a.length;f++){var g=a[f];ei=g,WC(g,r)}GC(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)KC(r),r=r.sibling}function KC(r){switch(r.tag){case 0:case 11:case 15:Rd(r),r.flags&2048&&ra(9,r,r.return);break;case 3:Rd(r);break;case 12:Rd(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,fm(r)):Rd(r);break;default:Rd(r)}}function fm(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var f=0;f<a.length;f++){var g=a[f];ei=g,WC(g,r)}GC(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:ra(8,a,a.return),fm(a);break;case 22:f=a.stateNode,f._visibility&2&&(f._visibility&=-3,fm(a));break;default:fm(a)}r=r.sibling}}function WC(r,a){for(;ei!==null;){var f=ei;switch(f.tag){case 0:case 11:case 15:ra(8,f,a);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var g=f.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:dd(f.memoizedState.cache)}if(g=f.child,g!==null)g.return=f,ei=g;else e:for(f=r;ei!==null;){g=ei;var S=g.sibling,A=g.return;if(zC(g),g===f){ei=null;break e}if(S!==null){S.return=A,ei=S;break e}ei=A}}}var OI={getCacheForType:function(r){var a=li(Rn),f=a.data.get(r);return f===void 0&&(f=r(),a.data.set(r,f)),f},cacheSignal:function(){return li(Rn).controller.signal}},MI=typeof WeakMap=="function"?WeakMap:Map,Dt=0,Kt=null,gt=null,_t=0,Ft=0,ds=null,oa=!1,jc=!1,wy=!1,So=0,yn=0,aa=0,Cl=0,Sy=0,fs=0,Ic=0,Nd=null,Zi=null,Cy=!1,hm=0,YC=0,mm=1/0,pm=null,la=null,zn=0,ca=null,zc=null,Co=0,Ey=0,Ay=null,ZC=null,kd=0,Ty=null;function hs(){return(Dt&2)!==0&&_t!==0?_t&-_t:q.T!==null?My():bi()}function XC(){if(fs===0)if((_t&536870912)===0||pt){var r=Zs;Zs<<=1,(Zs&3932160)===0&&(Zs=262144),fs=r}else fs=536870912;return r=cs.current,r!==null&&(r.flags|=32),fs}function Xi(r,a,f){(r===Kt&&(Ft===2||Ft===9)||r.cancelPendingCommit!==null)&&(Bc(r,0),ua(r,_t,fs,!1)),Zn(r,f),((Dt&2)===0||r!==Kt)&&(r===Kt&&((Dt&2)===0&&(Cl|=f),yn===4&&ua(r,_t,fs,!1)),Br(r))}function QC(r,a,f){if((Dt&6)!==0)throw Error(i(327));var g=!f&&(a&127)===0&&(a&r.expiredLanes)===0||Kn(r,a),S=g?jI(r,a):Ny(r,a,!0),A=g;do{if(S===0){jc&&!g&&ua(r,a,0,!1);break}else{if(f=r.current.alternate,A&&!DI(f)){S=Ny(r,a,!1),A=!1;continue}if(S===2){if(A=a,r.errorRecoveryDisabledLanes&A)var D=0;else D=r.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){a=D;e:{var F=r;S=Nd;var ne=F.current.memoizedState.isDehydrated;if(ne&&(Bc(F,D).flags|=256),D=Ny(F,D,!1),D!==2){if(wy&&!ne){F.errorRecoveryDisabledLanes|=A,Cl|=A,S=4;break e}A=Zi,Zi=S,A!==null&&(Zi===null?Zi=A:Zi.push.apply(Zi,A))}S=D}if(A=!1,S!==2)continue}}if(S===1){Bc(r,0),ua(r,a,0,!0);break}e:{switch(g=r,A=S,A){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ua(g,a,fs,!oa);break e;case 2:Zi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(S=hm+300-sn(),10<S)){if(ua(g,a,fs,!oa),hn(g,0,!0)!==0)break e;Co=a,g.timeoutHandle=NE(JC.bind(null,g,f,Zi,pm,Cy,a,fs,Cl,Ic,oa,A,"Throttled",-0,0),S);break e}JC(g,f,Zi,pm,Cy,a,fs,Cl,Ic,oa,A,null,-0,0)}}break}while(!0);Br(r)}function JC(r,a,f,g,S,A,D,F,ne,he,_e,Te,pe,ye){if(r.timeoutHandle=-1,Te=a.subtreeFlags,Te&8192||(Te&16785408)===16785408){Te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xi},qC(a,A,Te);var Ue=(A&62914560)===A?hm-sn():(A&4194048)===A?YC-sn():0;if(Ue=yz(Te,Ue),Ue!==null){Co=A,r.cancelPendingCommit=Ue(aE.bind(null,r,a,A,f,g,S,D,F,ne,_e,Te,null,pe,ye)),ua(r,A,D,!he);return}}aE(r,a,A,f,g,S,D,F,ne)}function DI(r){for(var a=r;;){var f=a.tag;if((f===0||f===11||f===15)&&a.flags&16384&&(f=a.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var g=0;g<f.length;g++){var S=f[g],A=S.getSnapshot;S=S.value;try{if(!Qn(A(),S))return!1}catch{return!1}}if(f=a.child,a.subtreeFlags&16384&&f!==null)f.return=a,a=f;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ua(r,a,f,g){a&=~Sy,a&=~Cl,r.suspendedLanes|=a,r.pingedLanes&=~a,g&&(r.warmLanes|=a),g=r.expirationTimes;for(var S=a;0<S;){var A=31-En(S),D=1<<A;g[A]=-1,S&=~D}f!==0&&Ni(r,f,a)}function gm(){return(Dt&6)===0?(Pd(0),!1):!0}function Ry(){if(gt!==null){if(Ft===0)var r=gt.return;else r=gt,rr=Ir=null,Hv(r),Nc=null,hd=0,r=gt;for(;r!==null;)kC(r.alternate,r),r=r.return;gt=null}}function Bc(r,a){var f=r.timeoutHandle;f!==-1&&(r.timeoutHandle=-1,ez(f)),f=r.cancelPendingCommit,f!==null&&(r.cancelPendingCommit=null,f()),Co=0,Ry(),Kt=r,gt=f=Os(r.current,null),_t=a,Ft=0,ds=null,oa=!1,jc=Kn(r,a),wy=!1,Ic=fs=Sy=Cl=aa=yn=0,Zi=Nd=null,Cy=!1,(a&8)!==0&&(a|=a&32);var g=r.entangledLanes;if(g!==0)for(r=r.entanglements,g&=a;0<g;){var S=31-En(g),A=1<<S;a|=r[S],g&=~A}return So=a,dl(),f}function eE(r,a){lt=null,q.H=_d,a===Rc||a===qh?(a=gS(),Ft=3):a===Ov?(a=gS(),Ft=4):Ft=a===oy?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ds=a,gt===null&&(yn=1,rm(r,p(a,r.current)))}function tE(){var r=cs.current;return r===null?!0:(_t&4194048)===_t?Ms===null:(_t&62914560)===_t||(_t&536870912)!==0?r===Ms:!1}function nE(){var r=q.H;return q.H=_d,r===null?_d:r}function iE(){var r=q.A;return q.A=OI,r}function vm(){yn=4,oa||(_t&4194048)!==_t&&cs.current!==null||(jc=!0),(aa&134217727)===0&&(Cl&134217727)===0||Kt===null||ua(Kt,_t,fs,!1)}function Ny(r,a,f){var g=Dt;Dt|=2;var S=nE(),A=iE();(Kt!==r||_t!==a)&&(pm=null,Bc(r,a)),a=!1;var D=yn;e:do try{if(Ft!==0&&gt!==null){var F=gt,ne=ds;switch(Ft){case 8:Ry(),D=6;break e;case 3:case 2:case 9:case 6:cs.current===null&&(a=!0);var he=Ft;if(Ft=0,ds=null,Uc(r,F,ne,he),f&&jc){D=0;break e}break;default:he=Ft,Ft=0,ds=null,Uc(r,F,ne,he)}}LI(),D=yn;break}catch(_e){eE(r,_e)}while(!0);return a&&r.shellSuspendCounter++,rr=Ir=null,Dt=g,q.H=S,q.A=A,gt===null&&(Kt=null,_t=0,dl()),D}function LI(){for(;gt!==null;)sE(gt)}function jI(r,a){var f=Dt;Dt|=2;var g=nE(),S=iE();Kt!==r||_t!==a?(pm=null,mm=sn()+500,Bc(r,a)):jc=Kn(r,a);e:do try{if(Ft!==0&&gt!==null){a=gt;var A=ds;t:switch(Ft){case 1:Ft=0,ds=null,Uc(r,a,A,1);break;case 2:case 9:if(mS(A)){Ft=0,ds=null,rE(a);break}a=function(){Ft!==2&&Ft!==9||Kt!==r||(Ft=7),Br(r)},A.then(a,a);break e;case 3:Ft=7;break e;case 4:Ft=5;break e;case 7:mS(A)?(Ft=0,ds=null,rE(a)):(Ft=0,ds=null,Uc(r,a,A,7));break;case 5:var D=null;switch(gt.tag){case 26:D=gt.memoizedState;case 5:case 27:var F=gt;if(D?HE(D):F.stateNode.complete){Ft=0,ds=null;var ne=F.sibling;if(ne!==null)gt=ne;else{var he=F.return;he!==null?(gt=he,ym(he)):gt=null}break t}}Ft=0,ds=null,Uc(r,a,A,5);break;case 6:Ft=0,ds=null,Uc(r,a,A,6);break;case 8:Ry(),yn=6;break e;default:throw Error(i(462))}}II();break}catch(_e){eE(r,_e)}while(!0);return rr=Ir=null,q.H=g,q.A=S,Dt=f,gt!==null?0:(Kt=null,_t=0,dl(),yn)}function II(){for(;gt!==null&&!Ti();)sE(gt)}function sE(r){var a=RC(r.alternate,r,So);r.memoizedProps=r.pendingProps,a===null?ym(r):gt=a}function rE(r){var a=r,f=a.alternate;switch(a.tag){case 15:case 0:a=wC(f,a,a.pendingProps,a.type,void 0,_t);break;case 11:a=wC(f,a,a.pendingProps,a.type.render,a.ref,_t);break;case 5:Hv(a);default:kC(f,a),a=gt=od(a,So),a=RC(f,a,So)}r.memoizedProps=r.pendingProps,a===null?ym(r):gt=a}function Uc(r,a,f,g){rr=Ir=null,Hv(a),Nc=null,hd=0;var S=a.return;try{if(EI(r,S,a,f,_t)){yn=1,rm(r,p(f,r.current)),gt=null;return}}catch(A){if(S!==null)throw gt=S,A;yn=1,rm(r,p(f,r.current)),gt=null;return}a.flags&32768?(pt||g===1?r=!0:jc||(_t&536870912)!==0?r=!1:(oa=r=!0,(g===2||g===9||g===3||g===6)&&(g=cs.current,g!==null&&g.tag===13&&(g.flags|=16384))),oE(a,r)):ym(a)}function ym(r){var a=r;do{if((a.flags&32768)!==0){oE(a,oa);return}r=a.return;var f=RI(a.alternate,a,So);if(f!==null){gt=f;return}if(a=a.sibling,a!==null){gt=a;return}gt=a=r}while(a!==null);yn===0&&(yn=5)}function oE(r,a){do{var f=NI(r.alternate,r);if(f!==null){f.flags&=32767,gt=f;return}if(f=r.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!a&&(r=r.sibling,r!==null)){gt=r;return}gt=r=f}while(r!==null);yn=6,gt=null}function aE(r,a,f,g,S,A,D,F,ne){r.cancelPendingCommit=null;do bm();while(zn!==0);if((Dt&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(A=a.lanes|a.childLanes,A|=_c,on(r,f,A,D,F,ne),r===Kt&&(gt=Kt=null,_t=0),zc=a,ca=r,Co=f,Ey=A,Ay=S,ZC=g,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,FI(Bt,function(){return fE(),null})):(r.callbackNode=null,r.callbackPriority=0),g=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||g){g=q.T,q.T=null,S=W.p,W.p=2,D=Dt,Dt|=4;try{kI(r,a,f)}finally{Dt=D,W.p=S,q.T=g}}zn=1,lE(),cE(),uE()}}function lE(){if(zn===1){zn=0;var r=ca,a=zc,f=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||f){f=q.T,q.T=null;var g=W.p;W.p=2;var S=Dt;Dt|=4;try{VC(a,r);var A=Fy,D=ol(r.containerInfo),F=A.focusedElem,ne=A.selectionRange;if(D!==F&&F&&F.ownerDocument&&vc(F.ownerDocument.documentElement,F)){if(ne!==null&&kr(F)){var he=ne.start,_e=ne.end;if(_e===void 0&&(_e=he),"selectionStart"in F)F.selectionStart=he,F.selectionEnd=Math.min(_e,F.value.length);else{var Te=F.ownerDocument||document,pe=Te&&Te.defaultView||window;if(pe.getSelection){var ye=pe.getSelection(),Ue=F.textContent.length,Je=Math.min(ne.start,Ue),Gt=ne.end===void 0?Je:Math.min(ne.end,Ue);!ye.extend&&Je>Gt&&(D=Gt,Gt=Je,Je=D);var ce=rl(F,Je),se=rl(F,Gt);if(ce&&se&&(ye.rangeCount!==1||ye.anchorNode!==ce.node||ye.anchorOffset!==ce.offset||ye.focusNode!==se.node||ye.focusOffset!==se.offset)){var fe=Te.createRange();fe.setStart(ce.node,ce.offset),ye.removeAllRanges(),Je>Gt?(ye.addRange(fe),ye.extend(se.node,se.offset)):(fe.setEnd(se.node,se.offset),ye.addRange(fe))}}}}for(Te=[],ye=F;ye=ye.parentNode;)ye.nodeType===1&&Te.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<Te.length;F++){var Ce=Te[F];Ce.element.scrollLeft=Ce.left,Ce.element.scrollTop=Ce.top}}Pm=!!Uy,Fy=Uy=null}finally{Dt=S,W.p=g,q.T=f}}r.current=a,zn=2}}function cE(){if(zn===2){zn=0;var r=ca,a=zc,f=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||f){f=q.T,q.T=null;var g=W.p;W.p=2;var S=Dt;Dt|=4;try{IC(r,a.alternate,a)}finally{Dt=S,W.p=g,q.T=f}}zn=3}}function uE(){if(zn===4||zn===3){zn=0,Cs();var r=ca,a=zc,f=Co,g=ZC;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?zn=5:(zn=0,zc=ca=null,dE(r,r.pendingLanes));var S=r.pendingLanes;if(S===0&&(la=null),ze(f),a=a.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(ts,a,void 0,(a.current.flags&128)===128)}catch{}if(g!==null){a=q.T,S=W.p,W.p=2,q.T=null;try{for(var A=r.onRecoverableError,D=0;D<g.length;D++){var F=g[D];A(F.value,{componentStack:F.stack})}}finally{q.T=a,W.p=S}}(Co&3)!==0&&bm(),Br(r),S=r.pendingLanes,(f&261930)!==0&&(S&42)!==0?r===Ty?kd++:(kd=0,Ty=r):kd=0,Pd(0)}}function dE(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,dd(a)))}function bm(){return lE(),cE(),uE(),fE()}function fE(){if(zn!==5)return!1;var r=ca,a=Ey;Ey=0;var f=ze(Co),g=q.T,S=W.p;try{W.p=32>f?32:f,q.T=null,f=Ay,Ay=null;var A=ca,D=Co;if(zn=0,zc=ca=null,Co=0,(Dt&6)!==0)throw Error(i(331));var F=Dt;if(Dt|=4,KC(A.current),HC(A,A.current,D,f),Dt=F,Pd(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(ts,A)}catch{}return!0}finally{W.p=S,q.T=g,dE(r,a)}}function hE(r,a,f){a=p(f,a),a=ry(r.stateNode,a,2),r=na(r,a,2),r!==null&&(Zn(r,2),Br(r))}function Vt(r,a,f){if(r.tag===3)hE(r,r,f);else for(;a!==null;){if(a.tag===3){hE(a,r,f);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(la===null||!la.has(g))){r=p(f,r),f=mC(2),g=na(a,f,2),g!==null&&(pC(f,g,a,r),Zn(g,2),Br(g));break}}a=a.return}}function ky(r,a,f){var g=r.pingCache;if(g===null){g=r.pingCache=new MI;var S=new Set;g.set(a,S)}else S=g.get(a),S===void 0&&(S=new Set,g.set(a,S));S.has(f)||(wy=!0,S.add(f),r=zI.bind(null,r,a,f),a.then(r,r))}function zI(r,a,f){var g=r.pingCache;g!==null&&g.delete(a),r.pingedLanes|=r.suspendedLanes&f,r.warmLanes&=~f,Kt===r&&(_t&f)===f&&(yn===4||yn===3&&(_t&62914560)===_t&&300>sn()-hm?(Dt&2)===0&&Bc(r,0):Sy|=f,Ic===_t&&(Ic=0)),Br(r)}function mE(r,a){a===0&&(a=An()),r=Ps(r,a),r!==null&&(Zn(r,a),Br(r))}function BI(r){var a=r.memoizedState,f=0;a!==null&&(f=a.retryLane),mE(r,f)}function UI(r,a){var f=0;switch(r.tag){case 31:case 13:var g=r.stateNode,S=r.memoizedState;S!==null&&(f=S.retryLane);break;case 19:g=r.stateNode;break;case 22:g=r.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(a),mE(r,f)}function FI(r,a){return wn(r,a)}var xm=null,Fc=null,Py=!1,_m=!1,Oy=!1,da=0;function Br(r){r!==Fc&&r.next===null&&(Fc===null?xm=Fc=r:Fc=Fc.next=r),_m=!0,Py||(Py=!0,$I())}function Pd(r,a){if(!Oy&&_m){Oy=!0;do for(var f=!1,g=xm;g!==null;){if(r!==0){var S=g.pendingLanes;if(S===0)var A=0;else{var D=g.suspendedLanes,F=g.pingedLanes;A=(1<<31-En(42|r)+1)-1,A&=S&~(D&~F),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(f=!0,yE(g,A))}else A=_t,A=hn(g,g===Kt?A:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(A&3)===0||Kn(g,A)||(f=!0,yE(g,A));g=g.next}while(f);Oy=!1}}function VI(){pE()}function pE(){_m=Py=!1;var r=0;da!==0&&JI()&&(r=da);for(var a=sn(),f=null,g=xm;g!==null;){var S=g.next,A=gE(g,a);A===0?(g.next=null,f===null?xm=S:f.next=S,S===null&&(Fc=f)):(f=g,(r!==0||(A&3)!==0)&&(_m=!0)),g=S}zn!==0&&zn!==5||Pd(r),da!==0&&(da=0)}function gE(r,a){for(var f=r.suspendedLanes,g=r.pingedLanes,S=r.expirationTimes,A=r.pendingLanes&-62914561;0<A;){var D=31-En(A),F=1<<D,ne=S[D];ne===-1?((F&f)===0||(F&g)!==0)&&(S[D]=Wn(F,a)):ne<=a&&(r.expiredLanes|=F),A&=~F}if(a=Kt,f=_t,f=hn(r,r===a?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),g=r.callbackNode,f===0||r===a&&(Ft===2||Ft===9)||r.cancelPendingCommit!==null)return g!==null&&g!==null&&qn(g),r.callbackNode=null,r.callbackPriority=0;if((f&3)===0||Kn(r,f)){if(a=f&-f,a===r.callbackPriority)return a;switch(g!==null&&qn(g),ze(f)){case 2:case 8:f=Tt;break;case 32:f=Bt;break;case 268435456:f=Ys;break;default:f=Bt}return g=vE.bind(null,r),f=wn(f,g),r.callbackPriority=a,r.callbackNode=f,a}return g!==null&&g!==null&&qn(g),r.callbackPriority=2,r.callbackNode=null,2}function vE(r,a){if(zn!==0&&zn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var f=r.callbackNode;if(bm()&&r.callbackNode!==f)return null;var g=_t;return g=hn(r,r===Kt?g:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),g===0?null:(QC(r,g,a),gE(r,sn()),r.callbackNode!=null&&r.callbackNode===f?vE.bind(null,r):null)}function yE(r,a){if(bm())return null;QC(r,a,!0)}function $I(){tz(function(){(Dt&6)!==0?wn(bt,VI):pE()})}function My(){if(da===0){var r=Ac;r===0&&(r=Gn,Gn<<=1,(Gn&261888)===0&&(Gn=256)),da=r}return da}function bE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Tr(""+r)}function xE(r,a){var f=a.ownerDocument.createElement("input");return f.name=a.name,f.value=a.value,r.id&&f.setAttribute("form",r.id),a.parentNode.insertBefore(f,a),r=new FormData(r),f.parentNode.removeChild(f),r}function HI(r,a,f,g,S){if(a==="submit"&&f&&f.stateNode===S){var A=bE((S[Tn]||null).action),D=g.submitter;D&&(a=(a=D[Tn]||null)?bE(a.formAction):D.getAttribute("formAction"),a!==null&&(A=a,D=null));var F=new uc("action","action",null,g,S);r.push({event:F,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(da!==0){var ne=D?xE(S,D):new FormData(S);Jv(f,{pending:!0,data:ne,method:S.method,action:A},null,ne)}}else typeof A=="function"&&(F.preventDefault(),ne=D?xE(S,D):new FormData(S),Jv(f,{pending:!0,data:ne,method:S.method,action:A},A,ne))},currentTarget:S}]})}}for(var Dy=0;Dy<Mr.length;Dy++){var Ly=Mr[Dy],qI=Ly.toLowerCase(),GI=Ly[0].toUpperCase()+Ly.slice(1);Hi(qI,"on"+GI)}Hi(ll,"onAnimationEnd"),Hi(Bh,"onAnimationIteration"),Hi(cl,"onAnimationStart"),Hi("dblclick","onDoubleClick"),Hi("focusin","onFocus"),Hi("focusout","onBlur"),Hi(Cv,"onTransitionRun"),Hi(Uh,"onTransitionStart"),Hi(Ev,"onTransitionCancel"),Hi(Xo,"onTransitionEnd"),Fi("onMouseEnter",["mouseout","mouseover"]),Fi("onMouseLeave",["mouseout","mouseover"]),Fi("onPointerEnter",["pointerout","pointerover"]),Fi("onPointerLeave",["pointerout","pointerover"]),Ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Od="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Od));function _E(r,a){a=(a&4)!==0;for(var f=0;f<r.length;f++){var g=r[f],S=g.event;g=g.listeners;e:{var A=void 0;if(a)for(var D=g.length-1;0<=D;D--){var F=g[D],ne=F.instance,he=F.currentTarget;if(F=F.listener,ne!==A&&S.isPropagationStopped())break e;A=F,S.currentTarget=he;try{A(S)}catch(_e){ul(_e)}S.currentTarget=null,A=ne}else for(D=0;D<g.length;D++){if(F=g[D],ne=F.instance,he=F.currentTarget,F=F.listener,ne!==A&&S.isPropagationStopped())break e;A=F,S.currentTarget=he;try{A(S)}catch(_e){ul(_e)}S.currentTarget=null,A=ne}}}}function vt(r,a){var f=a[Es];f===void 0&&(f=a[Es]=new Set);var g=r+"__bubble";f.has(g)||(wE(a,r,2,!1),f.add(g))}function jy(r,a,f){var g=0;a&&(g|=4),wE(f,r,g,a)}var wm="_reactListening"+Math.random().toString(36).slice(2);function Iy(r){if(!r[wm]){r[wm]=!0,Js.forEach(function(f){f!=="selectionchange"&&(KI.has(f)||jy(f,!1,r),jy(f,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[wm]||(a[wm]=!0,jy("selectionchange",!1,a))}}function wE(r,a,f,g){switch(XE(a)){case 2:var S=_z;break;case 8:S=wz;break;default:S=Qy}f=S.bind(null,a,f,r),S=void 0,!Za||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(S=!0),g?S!==void 0?r.addEventListener(a,f,{capture:!0,passive:S}):r.addEventListener(a,f,!0):S!==void 0?r.addEventListener(a,f,{passive:S}):r.addEventListener(a,f,!1)}function zy(r,a,f,g,S){var A=g;if((a&1)===0&&(a&2)===0&&g!==null)e:for(;;){if(g===null)return;var D=g.tag;if(D===3||D===4){var F=g.stateNode.containerInfo;if(F===S)break;if(D===4)for(D=g.return;D!==null;){var ne=D.tag;if((ne===3||ne===4)&&D.stateNode.containerInfo===S)return;D=D.return}for(;F!==null;){if(D=Qs(F),D===null)return;if(ne=D.tag,ne===5||ne===6||ne===26||ne===27){g=A=D;continue e}F=F.parentNode}}g=g.return}Yu(function(){var he=A,_e=Ya(f),Te=[];e:{var pe=Fh.get(r);if(pe!==void 0){var ye=uc,Ue=r;switch(r){case"keypress":if(Xa(f)===0)break e;case"keydown":case"keyup":ye=Th;break;case"focusin":Ue="focus",ye=Qu;break;case"focusout":Ue="blur",ye=Qu;break;case"beforeblur":case"afterblur":ye=Qu;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=wh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=hv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=yv;break;case ll:case Bh:case cl:ye=Ju;break;case Xo:ye=kh;break;case"scroll":case"scrollend":ye=xt;break;case"wheel":ye=co;break;case"copy":case"cut":case"paste":ye=Ts;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=Rh;break;case"toggle":case"beforetoggle":ye=el}var Je=(a&4)!==0,Gt=!Je&&(r==="scroll"||r==="scrollend"),ce=Je?pe!==null?pe+"Capture":null:pe;Je=[];for(var se=he,fe;se!==null;){var Ce=se;if(fe=Ce.stateNode,Ce=Ce.tag,Ce!==5&&Ce!==26&&Ce!==27||fe===null||ce===null||(Ce=ao(se,ce),Ce!=null&&Je.push(Md(se,Ce,fe))),Gt)break;se=se.return}0<Je.length&&(pe=new ye(pe,Ue,null,f,_e),Te.push({event:pe,listeners:Je}))}}if((a&7)===0){e:{if(pe=r==="mouseover"||r==="pointerover",ye=r==="mouseout"||r==="pointerout",pe&&f!==oo&&(Ue=f.relatedTarget||f.fromElement)&&(Qs(Ue)||Ue[Xs]))break e;if((ye||pe)&&(pe=_e.window===_e?_e:(pe=_e.ownerDocument)?pe.defaultView||pe.parentWindow:window,ye?(Ue=f.relatedTarget||f.toElement,ye=he,Ue=Ue?Qs(Ue):null,Ue!==null&&(Gt=o(Ue),Je=Ue.tag,Ue!==Gt||Je!==5&&Je!==27&&Je!==6)&&(Ue=null)):(ye=null,Ue=he),ye!==Ue)){if(Je=wh,Ce="onMouseLeave",ce="onMouseEnter",se="mouse",(r==="pointerout"||r==="pointerover")&&(Je=Rh,Ce="onPointerLeave",ce="onPointerEnter",se="pointer"),Gt=ye==null?pe:ss(ye),fe=Ue==null?pe:ss(Ue),pe=new Je(Ce,se+"leave",ye,f,_e),pe.target=Gt,pe.relatedTarget=fe,Ce=null,Qs(_e)===he&&(Je=new Je(ce,se+"enter",Ue,f,_e),Je.target=fe,Je.relatedTarget=Gt,Ce=Je),Gt=Ce,ye&&Ue)t:{for(Je=WI,ce=ye,se=Ue,fe=0,Ce=ce;Ce;Ce=Je(Ce))fe++;Ce=0;for(var We=se;We;We=Je(We))Ce++;for(;0<fe-Ce;)ce=Je(ce),fe--;for(;0<Ce-fe;)se=Je(se),Ce--;for(;fe--;){if(ce===se||se!==null&&ce===se.alternate){Je=ce;break t}ce=Je(ce),se=Je(se)}Je=null}else Je=null;ye!==null&&SE(Te,pe,ye,Je,!1),Ue!==null&&Gt!==null&&SE(Te,Gt,Ue,Je,!0)}}e:{if(pe=he?ss(he):window,ye=pe.nodeName&&pe.nodeName.toLowerCase(),ye==="select"||ye==="input"&&pe.type==="file")var kt=sl;else if(Rs(pe))if(Dh)kt=Sv;else{kt=wv;var He=nr}else ye=pe.nodeName,!ye||ye.toLowerCase()!=="input"||pe.type!=="checkbox"&&pe.type!=="radio"?he&&ro(he.elementType)&&(kt=sl):kt=Ko;if(kt&&(kt=kt(r,he))){Mh(Te,kt,f,_e);break e}He&&He(r,pe,he),r==="focusout"&&he&&pe.type==="number"&&he.memoizedProps.value!=null&&tt(pe,"number",pe.value)}switch(He=he?ss(he):window,r){case"focusin":(Rs(He)||He.contentEditable==="true")&&(Pr=He,bc=he,al=null);break;case"focusout":al=bc=Pr=null;break;case"mousedown":Yo=!0;break;case"contextmenu":case"mouseup":case"dragend":Yo=!1,Ih(Te,f,_e);break;case"selectionchange":if(yc)break;case"keydown":case"keyup":Ih(Te,f,_e)}var ut;if(fc)e:{switch(r){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else Ho?Oh(r,f)&&(wt="onCompositionEnd"):r==="keydown"&&f.keyCode===229&&(wt="onCompositionStart");wt&&(hc&&f.locale!=="ko"&&(Ho||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&Ho&&(ut=Rr()):(As=_e,lo="value"in As?As.value:As.textContent,Ho=!0)),He=Sm(he,wt),0<He.length&&(wt=new ed(wt,r,null,f,_e),Te.push({event:wt,listeners:He}),ut?wt.data=ut:(ut=sd(f),ut!==null&&(wt.data=ut)))),(ut=xv?ls(r,f):qo(r,f))&&(wt=Sm(he,"onBeforeInput"),0<wt.length&&(He=new ed("onBeforeInput","beforeinput",null,f,_e),Te.push({event:He,listeners:wt}),He.data=ut)),HI(Te,r,he,f,_e)}_E(Te,a)})}function Md(r,a,f){return{instance:r,listener:a,currentTarget:f}}function Sm(r,a){for(var f=a+"Capture",g=[];r!==null;){var S=r,A=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||A===null||(S=ao(r,f),S!=null&&g.unshift(Md(r,S,A)),S=ao(r,a),S!=null&&g.push(Md(r,S,A))),r.tag===3)return g;r=r.return}return[]}function WI(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function SE(r,a,f,g,S){for(var A=a._reactName,D=[];f!==null&&f!==g;){var F=f,ne=F.alternate,he=F.stateNode;if(F=F.tag,ne!==null&&ne===g)break;F!==5&&F!==26&&F!==27||he===null||(ne=he,S?(he=ao(f,A),he!=null&&D.unshift(Md(f,he,ne))):S||(he=ao(f,A),he!=null&&D.push(Md(f,he,ne)))),f=f.return}D.length!==0&&r.push({event:a,listeners:D})}var YI=/\r\n?/g,ZI=/\u0000|\uFFFD/g;function CE(r){return(typeof r=="string"?r:""+r).replace(YI,`
`).replace(ZI,"")}function EE(r,a){return a=CE(a),CE(r)===a}function qt(r,a,f,g,S,A){switch(f){case"children":typeof g=="string"?a==="body"||a==="textarea"&&g===""||Et(r,g):(typeof g=="number"||typeof g=="bigint")&&a!=="body"&&Et(r,""+g);break;case"className":U(r,"class",g);break;case"tabIndex":U(r,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":U(r,f,g);break;case"style":Er(r,g,A);break;case"data":if(a!=="object"){U(r,"data",g);break}case"src":case"href":if(g===""&&(a!=="a"||f!=="href")){r.removeAttribute(f);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){r.removeAttribute(f);break}g=Tr(""+g),r.setAttribute(f,g);break;case"action":case"formAction":if(typeof g=="function"){r.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(f==="formAction"?(a!=="input"&&qt(r,a,"name",S.name,S,null),qt(r,a,"formEncType",S.formEncType,S,null),qt(r,a,"formMethod",S.formMethod,S,null),qt(r,a,"formTarget",S.formTarget,S,null)):(qt(r,a,"encType",S.encType,S,null),qt(r,a,"method",S.method,S,null),qt(r,a,"target",S.target,S,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){r.removeAttribute(f);break}g=Tr(""+g),r.setAttribute(f,g);break;case"onClick":g!=null&&(r.onclick=xi);break;case"onScroll":g!=null&&vt("scroll",r);break;case"onScrollEnd":g!=null&&vt("scrollend",r);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(f=g.__html,f!=null){if(S.children!=null)throw Error(i(60));r.innerHTML=f}}break;case"multiple":r.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":r.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){r.removeAttribute("xlink:href");break}f=Tr(""+g),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(f,""+g):r.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(f,""):r.removeAttribute(f);break;case"capture":case"download":g===!0?r.setAttribute(f,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(f,g):r.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?r.setAttribute(f,g):r.removeAttribute(f);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?r.removeAttribute(f):r.setAttribute(f,g);break;case"popover":vt("beforetoggle",r),vt("toggle",r),ht(r,"popover",g);break;case"xlinkActuate":te(r,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":te(r,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":te(r,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":te(r,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":te(r,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":te(r,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":te(r,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":te(r,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":te(r,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":ht(r,"is",g);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=Ar.get(f)||f,ht(r,f,g))}}function By(r,a,f,g,S,A){switch(f){case"style":Er(r,g,A);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(f=g.__html,f!=null){if(S.children!=null)throw Error(i(60));r.innerHTML=f}}break;case"children":typeof g=="string"?Et(r,g):(typeof g=="number"||typeof g=="bigint")&&Et(r,""+g);break;case"onScroll":g!=null&&vt("scroll",r);break;case"onScrollEnd":g!=null&&vt("scrollend",r);break;case"onClick":g!=null&&(r.onclick=xi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lc.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(S=f.endsWith("Capture"),a=f.slice(2,S?f.length-7:void 0),A=r[Tn]||null,A=A!=null?A[f]:null,typeof A=="function"&&r.removeEventListener(a,A,S),typeof g=="function")){typeof A!="function"&&A!==null&&(f in r?r[f]=null:r.hasAttribute(f)&&r.removeAttribute(f)),r.addEventListener(a,g,S);break e}f in r?r[f]=g:g===!0?r.setAttribute(f,""):ht(r,f,g)}}}function ui(r,a,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",r),vt("load",r);var g=!1,S=!1,A;for(A in f)if(f.hasOwnProperty(A)){var D=f[A];if(D!=null)switch(A){case"src":g=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:qt(r,a,A,D,f,null)}}S&&qt(r,a,"srcSet",f.srcSet,f,null),g&&qt(r,a,"src",f.src,f,null);return;case"input":vt("invalid",r);var F=A=D=S=null,ne=null,he=null;for(g in f)if(f.hasOwnProperty(g)){var _e=f[g];if(_e!=null)switch(g){case"name":S=_e;break;case"type":D=_e;break;case"checked":ne=_e;break;case"defaultChecked":he=_e;break;case"value":A=_e;break;case"defaultValue":F=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(i(137,a));break;default:qt(r,a,g,_e,f,null)}}Be(r,A,F,ne,he,D,S,!1);return;case"select":vt("invalid",r),g=D=A=null;for(S in f)if(f.hasOwnProperty(S)&&(F=f[S],F!=null))switch(S){case"value":A=F;break;case"defaultValue":D=F;break;case"multiple":g=F;default:qt(r,a,S,F,f,null)}a=A,f=D,r.multiple=!!g,a!=null?Ke(r,!!g,a,!1):f!=null&&Ke(r,!!g,f,!0);return;case"textarea":vt("invalid",r),A=S=g=null;for(D in f)if(f.hasOwnProperty(D)&&(F=f[D],F!=null))switch(D){case"value":g=F;break;case"defaultValue":S=F;break;case"children":A=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(91));break;default:qt(r,a,D,F,f,null)}Ut(r,g,S,A);return;case"option":for(ne in f)f.hasOwnProperty(ne)&&(g=f[ne],g!=null)&&(ne==="selected"?r.selected=g&&typeof g!="function"&&typeof g!="symbol":qt(r,a,ne,g,f,null));return;case"dialog":vt("beforetoggle",r),vt("toggle",r),vt("cancel",r),vt("close",r);break;case"iframe":case"object":vt("load",r);break;case"video":case"audio":for(g=0;g<Od.length;g++)vt(Od[g],r);break;case"image":vt("error",r),vt("load",r);break;case"details":vt("toggle",r);break;case"embed":case"source":case"link":vt("error",r),vt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in f)if(f.hasOwnProperty(he)&&(g=f[he],g!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:qt(r,a,he,g,f,null)}return;default:if(ro(a)){for(_e in f)f.hasOwnProperty(_e)&&(g=f[_e],g!==void 0&&By(r,a,_e,g,f,void 0));return}}for(F in f)f.hasOwnProperty(F)&&(g=f[F],g!=null&&qt(r,a,F,g,f,null))}function XI(r,a,f,g){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,A=null,D=null,F=null,ne=null,he=null,_e=null;for(ye in f){var Te=f[ye];if(f.hasOwnProperty(ye)&&Te!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":ne=Te;default:g.hasOwnProperty(ye)||qt(r,a,ye,null,g,Te)}}for(var pe in g){var ye=g[pe];if(Te=f[pe],g.hasOwnProperty(pe)&&(ye!=null||Te!=null))switch(pe){case"type":A=ye;break;case"name":S=ye;break;case"checked":he=ye;break;case"defaultChecked":_e=ye;break;case"value":D=ye;break;case"defaultValue":F=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(i(137,a));break;default:ye!==Te&&qt(r,a,pe,ye,g,Te)}}Pe(r,D,F,ne,he,_e,A,S);return;case"select":ye=D=F=pe=null;for(A in f)if(ne=f[A],f.hasOwnProperty(A)&&ne!=null)switch(A){case"value":break;case"multiple":ye=ne;default:g.hasOwnProperty(A)||qt(r,a,A,null,g,ne)}for(S in g)if(A=g[S],ne=f[S],g.hasOwnProperty(S)&&(A!=null||ne!=null))switch(S){case"value":pe=A;break;case"defaultValue":F=A;break;case"multiple":D=A;default:A!==ne&&qt(r,a,S,A,g,ne)}a=F,f=D,g=ye,pe!=null?Ke(r,!!f,pe,!1):!!g!=!!f&&(a!=null?Ke(r,!!f,a,!0):Ke(r,!!f,f?[]:"",!1));return;case"textarea":ye=pe=null;for(F in f)if(S=f[F],f.hasOwnProperty(F)&&S!=null&&!g.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:qt(r,a,F,null,g,S)}for(D in g)if(S=g[D],A=f[D],g.hasOwnProperty(D)&&(S!=null||A!=null))switch(D){case"value":pe=S;break;case"defaultValue":ye=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:S!==A&&qt(r,a,D,S,g,A)}ft(r,pe,ye);return;case"option":for(var Ue in f)pe=f[Ue],f.hasOwnProperty(Ue)&&pe!=null&&!g.hasOwnProperty(Ue)&&(Ue==="selected"?r.selected=!1:qt(r,a,Ue,null,g,pe));for(ne in g)pe=g[ne],ye=f[ne],g.hasOwnProperty(ne)&&pe!==ye&&(pe!=null||ye!=null)&&(ne==="selected"?r.selected=pe&&typeof pe!="function"&&typeof pe!="symbol":qt(r,a,ne,pe,g,ye));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Je in f)pe=f[Je],f.hasOwnProperty(Je)&&pe!=null&&!g.hasOwnProperty(Je)&&qt(r,a,Je,null,g,pe);for(he in g)if(pe=g[he],ye=f[he],g.hasOwnProperty(he)&&pe!==ye&&(pe!=null||ye!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(i(137,a));break;default:qt(r,a,he,pe,g,ye)}return;default:if(ro(a)){for(var Gt in f)pe=f[Gt],f.hasOwnProperty(Gt)&&pe!==void 0&&!g.hasOwnProperty(Gt)&&By(r,a,Gt,void 0,g,pe);for(_e in g)pe=g[_e],ye=f[_e],!g.hasOwnProperty(_e)||pe===ye||pe===void 0&&ye===void 0||By(r,a,_e,pe,g,ye);return}}for(var ce in f)pe=f[ce],f.hasOwnProperty(ce)&&pe!=null&&!g.hasOwnProperty(ce)&&qt(r,a,ce,null,g,pe);for(Te in g)pe=g[Te],ye=f[Te],!g.hasOwnProperty(Te)||pe===ye||pe==null&&ye==null||qt(r,a,Te,pe,g,ye)}function AE(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QI(){if(typeof performance.getEntriesByType=="function"){for(var r=0,a=0,f=performance.getEntriesByType("resource"),g=0;g<f.length;g++){var S=f[g],A=S.transferSize,D=S.initiatorType,F=S.duration;if(A&&F&&AE(D)){for(D=0,F=S.responseEnd,g+=1;g<f.length;g++){var ne=f[g],he=ne.startTime;if(he>F)break;var _e=ne.transferSize,Te=ne.initiatorType;_e&&AE(Te)&&(ne=ne.responseEnd,D+=_e*(ne<F?1:(F-he)/(ne-he)))}if(--g,a+=8*(A+D)/(S.duration/1e3),r++,10<r)break}}if(0<r)return a/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Uy=null,Fy=null;function Cm(r){return r.nodeType===9?r:r.ownerDocument}function TE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function RE(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Vy(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var $y=null;function JI(){var r=window.event;return r&&r.type==="popstate"?r===$y?!1:($y=r,!0):($y=null,!1)}var NE=typeof setTimeout=="function"?setTimeout:void 0,ez=typeof clearTimeout=="function"?clearTimeout:void 0,kE=typeof Promise=="function"?Promise:void 0,tz=typeof queueMicrotask=="function"?queueMicrotask:typeof kE<"u"?function(r){return kE.resolve(null).then(r).catch(nz)}:NE;function nz(r){setTimeout(function(){throw r})}function fa(r){return r==="head"}function PE(r,a){var f=a,g=0;do{var S=f.nextSibling;if(r.removeChild(f),S&&S.nodeType===8)if(f=S.data,f==="/$"||f==="/&"){if(g===0){r.removeChild(S),qc(a);return}g--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")g++;else if(f==="html")Dd(r.ownerDocument.documentElement);else if(f==="head"){f=r.ownerDocument.head,Dd(f);for(var A=f.firstChild;A;){var D=A.nextSibling,F=A.nodeName;A[to]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&A.rel.toLowerCase()==="stylesheet"||f.removeChild(A),A=D}}else f==="body"&&Dd(r.ownerDocument.body);f=S}while(f);qc(a)}function OE(r,a){var f=r;r=0;do{var g=f.nextSibling;if(f.nodeType===1?a?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(a?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),g&&g.nodeType===8)if(f=g.data,f==="/$"){if(r===0)break;r--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||r++;f=g}while(f)}function Hy(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var f=a;switch(a=a.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Hy(f),Ka(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}r.removeChild(f)}}function iz(r,a,f,g){for(;r.nodeType===1;){var S=f;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!g&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(g){if(!r[to])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(A=r.getAttribute("rel"),A==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(A!==S.rel||r.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||r.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||r.getAttribute("title")!==(S.title==null?null:S.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(A=r.getAttribute("src"),(A!==(S.src==null?null:S.src)||r.getAttribute("type")!==(S.type==null?null:S.type)||r.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&A&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var A=S.name==null?null:""+S.name;if(S.type==="hidden"&&r.getAttribute("name")===A)return r}else return r;if(r=Ds(r.nextSibling),r===null)break}return null}function sz(r,a,f){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!f||(r=Ds(r.nextSibling),r===null))return null;return r}function ME(r,a){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=Ds(r.nextSibling),r===null))return null;return r}function qy(r){return r.data==="$?"||r.data==="$~"}function Gy(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function rz(r,a){var f=r.ownerDocument;if(r.data==="$~")r._reactRetry=a;else if(r.data!=="$?"||f.readyState!=="loading")a();else{var g=function(){a(),f.removeEventListener("DOMContentLoaded",g)};f.addEventListener("DOMContentLoaded",g),r._reactRetry=g}}function Ds(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return r}var Ky=null;function DE(r){r=r.nextSibling;for(var a=0;r;){if(r.nodeType===8){var f=r.data;if(f==="/$"||f==="/&"){if(a===0)return Ds(r.nextSibling);a--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||a++}r=r.nextSibling}return null}function LE(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var f=r.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(a===0)return r;a--}else f!=="/$"&&f!=="/&"||a++}r=r.previousSibling}return null}function jE(r,a,f){switch(a=Cm(f),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Dd(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Ka(r)}var Ls=new Map,IE=new Set;function Em(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Eo=W.d;W.d={f:oz,r:az,D:lz,C:cz,L:uz,m:dz,X:hz,S:fz,M:mz};function oz(){var r=Eo.f(),a=gm();return r||a}function az(r){var a=Cr(r);a!==null&&a.tag===5&&a.type==="form"?eC(a):Eo.r(r)}var Vc=typeof document>"u"?null:document;function zE(r,a,f){var g=Vc;if(g&&typeof a=="string"&&a){var S=Ee(a);S='link[rel="'+r+'"][href="'+S+'"]',typeof f=="string"&&(S+='[crossorigin="'+f+'"]'),IE.has(S)||(IE.add(S),r={rel:r,crossOrigin:f,href:a},g.querySelector(S)===null&&(a=g.createElement("link"),ui(a,"link",r),ln(a),g.head.appendChild(a)))}}function lz(r){Eo.D(r),zE("dns-prefetch",r,null)}function cz(r,a){Eo.C(r,a),zE("preconnect",r,a)}function uz(r,a,f){Eo.L(r,a,f);var g=Vc;if(g&&r&&a){var S='link[rel="preload"][as="'+Ee(a)+'"]';a==="image"&&f&&f.imageSrcSet?(S+='[imagesrcset="'+Ee(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(S+='[imagesizes="'+Ee(f.imageSizes)+'"]')):S+='[href="'+Ee(r)+'"]';var A=S;switch(a){case"style":A=$c(r);break;case"script":A=Hc(r)}Ls.has(A)||(r=v({rel:"preload",href:a==="image"&&f&&f.imageSrcSet?void 0:r,as:a},f),Ls.set(A,r),g.querySelector(S)!==null||a==="style"&&g.querySelector(Ld(A))||a==="script"&&g.querySelector(jd(A))||(a=g.createElement("link"),ui(a,"link",r),ln(a),g.head.appendChild(a)))}}function dz(r,a){Eo.m(r,a);var f=Vc;if(f&&r){var g=a&&typeof a.as=="string"?a.as:"script",S='link[rel="modulepreload"][as="'+Ee(g)+'"][href="'+Ee(r)+'"]',A=S;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=Hc(r)}if(!Ls.has(A)&&(r=v({rel:"modulepreload",href:r},a),Ls.set(A,r),f.querySelector(S)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(jd(A)))return}g=f.createElement("link"),ui(g,"link",r),ln(g),f.head.appendChild(g)}}}function fz(r,a,f){Eo.S(r,a,f);var g=Vc;if(g&&r){var S=Bi(g).hoistableStyles,A=$c(r);a=a||"default";var D=S.get(A);if(!D){var F={loading:0,preload:null};if(D=g.querySelector(Ld(A)))F.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":a},f),(f=Ls.get(A))&&Wy(r,f);var ne=D=g.createElement("link");ln(ne),ui(ne,"link",r),ne._p=new Promise(function(he,_e){ne.onload=he,ne.onerror=_e}),ne.addEventListener("load",function(){F.loading|=1}),ne.addEventListener("error",function(){F.loading|=2}),F.loading|=4,Am(D,a,g)}D={type:"stylesheet",instance:D,count:1,state:F},S.set(A,D)}}}function hz(r,a){Eo.X(r,a);var f=Vc;if(f&&r){var g=Bi(f).hoistableScripts,S=Hc(r),A=g.get(S);A||(A=f.querySelector(jd(S)),A||(r=v({src:r,async:!0},a),(a=Ls.get(S))&&Yy(r,a),A=f.createElement("script"),ln(A),ui(A,"link",r),f.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},g.set(S,A))}}function mz(r,a){Eo.M(r,a);var f=Vc;if(f&&r){var g=Bi(f).hoistableScripts,S=Hc(r),A=g.get(S);A||(A=f.querySelector(jd(S)),A||(r=v({src:r,async:!0,type:"module"},a),(a=Ls.get(S))&&Yy(r,a),A=f.createElement("script"),ln(A),ui(A,"link",r),f.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},g.set(S,A))}}function BE(r,a,f,g){var S=(S=Se.current)?Em(S):null;if(!S)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(a=$c(f.href),f=Bi(S).hoistableStyles,g=f.get(a),g||(g={type:"style",instance:null,count:0,state:null},f.set(a,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){r=$c(f.href);var A=Bi(S).hoistableStyles,D=A.get(r);if(D||(S=S.ownerDocument||S,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(r,D),(A=S.querySelector(Ld(r)))&&!A._p&&(D.instance=A,D.state.loading=5),Ls.has(r)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Ls.set(r,f),A||pz(S,r,f,D.state))),a&&g===null)throw Error(i(528,""));return D}if(a&&g!==null)throw Error(i(529,""));return null;case"script":return a=f.async,f=f.src,typeof f=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Hc(f),f=Bi(S).hoistableScripts,g=f.get(a),g||(g={type:"script",instance:null,count:0,state:null},f.set(a,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function $c(r){return'href="'+Ee(r)+'"'}function Ld(r){return'link[rel="stylesheet"]['+r+"]"}function UE(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function pz(r,a,f,g){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?g.loading=1:(a=r.createElement("link"),g.preload=a,a.addEventListener("load",function(){return g.loading|=1}),a.addEventListener("error",function(){return g.loading|=2}),ui(a,"link",f),ln(a),r.head.appendChild(a))}function Hc(r){return'[src="'+Ee(r)+'"]'}function jd(r){return"script[async]"+r}function FE(r,a,f){if(a.count++,a.instance===null)switch(a.type){case"style":var g=r.querySelector('style[data-href~="'+Ee(f.href)+'"]');if(g)return a.instance=g,ln(g),g;var S=v({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return g=(r.ownerDocument||r).createElement("style"),ln(g),ui(g,"style",S),Am(g,f.precedence,r),a.instance=g;case"stylesheet":S=$c(f.href);var A=r.querySelector(Ld(S));if(A)return a.state.loading|=4,a.instance=A,ln(A),A;g=UE(f),(S=Ls.get(S))&&Wy(g,S),A=(r.ownerDocument||r).createElement("link"),ln(A);var D=A;return D._p=new Promise(function(F,ne){D.onload=F,D.onerror=ne}),ui(A,"link",g),a.state.loading|=4,Am(A,f.precedence,r),a.instance=A;case"script":return A=Hc(f.src),(S=r.querySelector(jd(A)))?(a.instance=S,ln(S),S):(g=f,(S=Ls.get(A))&&(g=v({},f),Yy(g,S)),r=r.ownerDocument||r,S=r.createElement("script"),ln(S),ui(S,"link",g),r.head.appendChild(S),a.instance=S);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(g=a.instance,a.state.loading|=4,Am(g,f.precedence,r));return a.instance}function Am(r,a,f){for(var g=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=g.length?g[g.length-1]:null,A=S,D=0;D<g.length;D++){var F=g[D];if(F.dataset.precedence===a)A=F;else if(A!==S)break}A?A.parentNode.insertBefore(r,A.nextSibling):(a=f.nodeType===9?f.head:f,a.insertBefore(r,a.firstChild))}function Wy(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Yy(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Tm=null;function VE(r,a,f){if(Tm===null){var g=new Map,S=Tm=new Map;S.set(f,g)}else S=Tm,g=S.get(f),g||(g=new Map,S.set(f,g));if(g.has(r))return g;for(g.set(r,null),f=f.getElementsByTagName(r),S=0;S<f.length;S++){var A=f[S];if(!(A[to]||A[mn]||r==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var D=A.getAttribute(a)||"";D=r+D;var F=g.get(D);F?F.push(A):g.set(D,[A])}}return g}function $E(r,a,f){r=r.ownerDocument||r,r.head.insertBefore(f,a==="title"?r.querySelector("head > title"):null)}function gz(r,a,f){if(f===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(r=a.disabled,typeof a.precedence=="string"&&r==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function HE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function vz(r,a,f,g){if(f.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var S=$c(g.href),A=a.querySelector(Ld(S));if(A){a=A._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(r.count++,r=Rm.bind(r),a.then(r,r)),f.state.loading|=4,f.instance=A,ln(A);return}A=a.ownerDocument||a,g=UE(g),(S=Ls.get(S))&&Wy(g,S),A=A.createElement("link"),ln(A);var D=A;D._p=new Promise(function(F,ne){D.onload=F,D.onerror=ne}),ui(A,"link",g),f.instance=A}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(f,a),(a=f.state.preload)&&(f.state.loading&3)===0&&(r.count++,f=Rm.bind(r),a.addEventListener("load",f),a.addEventListener("error",f))}}var Zy=0;function yz(r,a){return r.stylesheets&&r.count===0&&km(r,r.stylesheets),0<r.count||0<r.imgCount?function(f){var g=setTimeout(function(){if(r.stylesheets&&km(r,r.stylesheets),r.unsuspend){var A=r.unsuspend;r.unsuspend=null,A()}},6e4+a);0<r.imgBytes&&Zy===0&&(Zy=62500*QI());var S=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&km(r,r.stylesheets),r.unsuspend)){var A=r.unsuspend;r.unsuspend=null,A()}},(r.imgBytes>Zy?50:800)+a);return r.unsuspend=f,function(){r.unsuspend=null,clearTimeout(g),clearTimeout(S)}}:null}function Rm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)km(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Nm=null;function km(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Nm=new Map,a.forEach(bz,r),Nm=null,Rm.call(r))}function bz(r,a){if(!(a.state.loading&4)){var f=Nm.get(r);if(f)var g=f.get(null);else{f=new Map,Nm.set(r,f);for(var S=r.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<S.length;A++){var D=S[A];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(f.set(D.dataset.precedence,D),g=D)}g&&f.set(null,g)}S=a.instance,D=S.getAttribute("data-precedence"),A=f.get(D)||g,A===g&&f.set(null,S),f.set(D,S),this.count++,g=Rm.bind(this),S.addEventListener("load",g),S.addEventListener("error",g),A?A.parentNode.insertBefore(S,A.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(S,r.firstChild)),a.state.loading|=4}}var Id={$$typeof:P,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function xz(r,a,f,g,S,A,D,F,ne){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yn(0),this.hiddenUpdates=Yn(null),this.identifierPrefix=g,this.onUncaughtError=S,this.onCaughtError=A,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function qE(r,a,f,g,S,A,D,F,ne,he,_e,Te){return r=new xz(r,a,f,D,ne,he,_e,Te,F),a=1,A===!0&&(a|=24),A=wi(3,null,null,a),r.current=A,A.stateNode=r,a=Nv(),a.refCount++,r.pooledCache=a,a.refCount++,A.memoizedState={element:g,isDehydrated:f,cache:a},Mv(A),r}function GE(r){return r?(r=uo,r):uo}function KE(r,a,f,g,S,A){S=GE(S),g.context===null?g.context=S:g.pendingContext=S,g=ta(a),g.payload={element:f},A=A===void 0?null:A,A!==null&&(g.callback=A),f=na(r,g,a),f!==null&&(Xi(f,r,a),pd(f,r,a))}function WE(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var f=r.retryLane;r.retryLane=f!==0&&f<a?f:a}}function Xy(r,a){WE(r,a),(r=r.alternate)&&WE(r,a)}function YE(r){if(r.tag===13||r.tag===31){var a=Ps(r,67108864);a!==null&&Xi(a,r,67108864),Xy(r,67108864)}}function ZE(r){if(r.tag===13||r.tag===31){var a=hs();a=an(a);var f=Ps(r,a);f!==null&&Xi(f,r,a),Xy(r,a)}}var Pm=!0;function _z(r,a,f,g){var S=q.T;q.T=null;var A=W.p;try{W.p=2,Qy(r,a,f,g)}finally{W.p=A,q.T=S}}function wz(r,a,f,g){var S=q.T;q.T=null;var A=W.p;try{W.p=8,Qy(r,a,f,g)}finally{W.p=A,q.T=S}}function Qy(r,a,f,g){if(Pm){var S=Jy(g);if(S===null)zy(r,a,g,Om,f),QE(r,g);else if(Cz(S,r,a,f,g))g.stopPropagation();else if(QE(r,g),a&4&&-1<Sz.indexOf(r)){for(;S!==null;){var A=Cr(S);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var D=Zt(A.pendingLanes);if(D!==0){var F=A;for(F.pendingLanes|=2,F.entangledLanes|=2;D;){var ne=1<<31-En(D);F.entanglements[1]|=ne,D&=~ne}Br(A),(Dt&6)===0&&(mm=sn()+500,Pd(0))}}break;case 31:case 13:F=Ps(A,2),F!==null&&Xi(F,A,2),gm(),Xy(A,2)}if(A=Jy(g),A===null&&zy(r,a,g,Om,f),A===S)break;S=A}S!==null&&g.stopPropagation()}else zy(r,a,g,null,f)}}function Jy(r){return r=Ya(r),eb(r)}var Om=null;function eb(r){if(Om=null,r=Qs(r),r!==null){var a=o(r);if(a===null)r=null;else{var f=a.tag;if(f===13){if(r=l(a),r!==null)return r;r=null}else if(f===31){if(r=c(a),r!==null)return r;r=null}else if(f===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Om=r,null}function XE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sr()){case bt:return 2;case Tt:return 8;case Bt:case Ri:return 32;case Ys:return 268435456;default:return 32}default:return 32}}var tb=!1,ha=null,ma=null,pa=null,zd=new Map,Bd=new Map,ga=[],Sz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function QE(r,a){switch(r){case"focusin":case"focusout":ha=null;break;case"dragenter":case"dragleave":ma=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":zd.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bd.delete(a.pointerId)}}function Ud(r,a,f,g,S,A){return r===null||r.nativeEvent!==A?(r={blockedOn:a,domEventName:f,eventSystemFlags:g,nativeEvent:A,targetContainers:[S]},a!==null&&(a=Cr(a),a!==null&&YE(a)),r):(r.eventSystemFlags|=g,a=r.targetContainers,S!==null&&a.indexOf(S)===-1&&a.push(S),r)}function Cz(r,a,f,g,S){switch(a){case"focusin":return ha=Ud(ha,r,a,f,g,S),!0;case"dragenter":return ma=Ud(ma,r,a,f,g,S),!0;case"mouseover":return pa=Ud(pa,r,a,f,g,S),!0;case"pointerover":var A=S.pointerId;return zd.set(A,Ud(zd.get(A)||null,r,a,f,g,S)),!0;case"gotpointercapture":return A=S.pointerId,Bd.set(A,Ud(Bd.get(A)||null,r,a,f,g,S)),!0}return!1}function JE(r){var a=Qs(r.target);if(a!==null){var f=o(a);if(f!==null){if(a=f.tag,a===13){if(a=l(f),a!==null){r.blockedOn=a,is(r.priority,function(){ZE(f)});return}}else if(a===31){if(a=c(f),a!==null){r.blockedOn=a,is(r.priority,function(){ZE(f)});return}}else if(a===3&&f.stateNode.current.memoizedState.isDehydrated){r.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Mm(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var f=Jy(r.nativeEvent);if(f===null){f=r.nativeEvent;var g=new f.constructor(f.type,f);oo=g,f.target.dispatchEvent(g),oo=null}else return a=Cr(f),a!==null&&YE(a),r.blockedOn=f,!1;a.shift()}return!0}function eA(r,a,f){Mm(r)&&f.delete(a)}function Ez(){tb=!1,ha!==null&&Mm(ha)&&(ha=null),ma!==null&&Mm(ma)&&(ma=null),pa!==null&&Mm(pa)&&(pa=null),zd.forEach(eA),Bd.forEach(eA)}function Dm(r,a){r.blockedOn===a&&(r.blockedOn=null,tb||(tb=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ez)))}var Lm=null;function tA(r){Lm!==r&&(Lm=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Lm===r&&(Lm=null);for(var a=0;a<r.length;a+=3){var f=r[a],g=r[a+1],S=r[a+2];if(typeof g!="function"){if(eb(g||f)===null)continue;break}var A=Cr(f);A!==null&&(r.splice(a,3),a-=3,Jv(A,{pending:!0,data:S,method:f.method,action:g},g,S))}}))}function qc(r){function a(ne){return Dm(ne,r)}ha!==null&&Dm(ha,r),ma!==null&&Dm(ma,r),pa!==null&&Dm(pa,r),zd.forEach(a),Bd.forEach(a);for(var f=0;f<ga.length;f++){var g=ga[f];g.blockedOn===r&&(g.blockedOn=null)}for(;0<ga.length&&(f=ga[0],f.blockedOn===null);)JE(f),f.blockedOn===null&&ga.shift();if(f=(r.ownerDocument||r).$$reactFormReplay,f!=null)for(g=0;g<f.length;g+=3){var S=f[g],A=f[g+1],D=S[Tn]||null;if(typeof A=="function")D||tA(f);else if(D){var F=null;if(A&&A.hasAttribute("formAction")){if(S=A,D=A[Tn]||null)F=D.formAction;else if(eb(S)!==null)continue}else F=D.action;typeof F=="function"?f[g+1]=F:(f.splice(g,3),g-=3),tA(f)}}}function nA(){function r(A){A.canIntercept&&A.info==="react-transition"&&A.intercept({handler:function(){return new Promise(function(D){return S=D})},focusReset:"manual",scroll:"manual"})}function a(){S!==null&&(S(),S=null),g||setTimeout(f,20)}function f(){if(!g&&!navigation.transition){var A=navigation.currentEntry;A&&A.url!=null&&navigation.navigate(A.url,{state:A.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,S=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(f,100),function(){g=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),S!==null&&(S(),S=null)}}}function nb(r){this._internalRoot=r}jm.prototype.render=nb.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var f=a.current,g=hs();KE(f,g,r,a,null,null)},jm.prototype.unmount=nb.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;KE(r.current,2,null,r,null,null),gm(),a[Xs]=null}};function jm(r){this._internalRoot=r}jm.prototype.unstable_scheduleHydration=function(r){if(r){var a=bi();r={blockedOn:null,target:r,priority:a};for(var f=0;f<ga.length&&a!==0&&a<ga[f].priority;f++);ga.splice(f,0,r),f===0&&JE(r)}};var iA=t.version;if(iA!=="19.2.4")throw Error(i(527,iA,"19.2.4"));W.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(a),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var Az={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Im=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Im.isDisabled&&Im.supportsFiber)try{ts=Im.inject(Az),rn=Im}catch{}}return Vd.createRoot=function(r,a){if(!s(r))throw Error(i(299));var f=!1,g="",S=uC,A=dC,D=fC;return a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(S=a.onUncaughtError),a.onCaughtError!==void 0&&(A=a.onCaughtError),a.onRecoverableError!==void 0&&(D=a.onRecoverableError)),a=qE(r,1,!1,null,null,f,g,null,S,A,D,nA),r[Xs]=a.current,Iy(r),new nb(a)},Vd.hydrateRoot=function(r,a,f){if(!s(r))throw Error(i(299));var g=!1,S="",A=uC,D=dC,F=fC,ne=null;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onUncaughtError!==void 0&&(A=f.onUncaughtError),f.onCaughtError!==void 0&&(D=f.onCaughtError),f.onRecoverableError!==void 0&&(F=f.onRecoverableError),f.formState!==void 0&&(ne=f.formState)),a=qE(r,1,!0,a,f??null,g,S,ne,A,D,F,nA),a.context=GE(null),f=a.current,g=hs(),g=an(g),S=ta(g),S.callback=null,na(f,S,g),f=g,a.current.lanes=f,Zn(a,f),Br(a),r[Xs]=a.current,Iy(r),new jm(a)},Vd.version="19.2.4",Vd}var hA;function jz(){if(hA)return rb.exports;hA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),rb.exports=Lz(),rb.exports}var Iz=jz(),nn=(e=>(e[e.None=0]="None",e[e.Mutable=1]="Mutable",e[e.Watching=2]="Watching",e[e.RecursedCheck=4]="RecursedCheck",e[e.Recursed=8]="Recursed",e[e.Dirty=16]="Dirty",e[e.Pending=32]="Pending",e))(nn||{});function UN({update:e,notify:t,unwatched:n}){return{link:i,unlink:s,propagate:o,checkDirty:l,shallowPropagate:c};function i(h,m,v){const b=m.depsTail;if(b!==void 0&&b.dep===h)return;const _=b!==void 0?b.nextDep:m.deps;if(_!==void 0&&_.dep===h){_.version=v,m.depsTail=_;return}const C=h.subsTail;if(C!==void 0&&C.version===v&&C.sub===m)return;const E=m.depsTail=h.subsTail={version:v,dep:h,sub:m,prevDep:b,nextDep:_,prevSub:C,nextSub:void 0};_!==void 0&&(_.prevDep=E),b!==void 0?b.nextDep=E:m.deps=E,C!==void 0?C.nextSub=E:h.subs=E}function s(h,m=h.sub){const v=h.dep,b=h.prevDep,_=h.nextDep,C=h.nextSub,E=h.prevSub;return _!==void 0?_.prevDep=b:m.depsTail=b,b!==void 0?b.nextDep=_:m.deps=_,C!==void 0?C.prevSub=E:v.subsTail=E,E!==void 0?E.nextSub=C:(v.subs=C)===void 0&&n(v),_}function o(h){let m=h.nextSub,v;e:do{const b=h.sub;let _=b.flags;if(_&60?_&12?_&4?!(_&48)&&d(h,b)?(b.flags=_|40,_&=1):_=0:b.flags=_&-9|32:_=0:b.flags=_|32,_&2&&t(b),_&1){const C=b.subs;if(C!==void 0){const E=(h=C).nextSub;E!==void 0&&(v={value:m,prev:v},m=E);continue}}if((h=m)!==void 0){m=h.nextSub;continue}for(;v!==void 0;)if(h=v.value,v=v.prev,h!==void 0){m=h.nextSub;continue e}break}while(!0)}function l(h,m){let v,b=0,_=!1;e:do{const C=h.dep,E=C.flags;if(m.flags&16)_=!0;else if((E&17)===17){if(e(C)){const T=C.subs;T.nextSub!==void 0&&c(T),_=!0}}else if((E&33)===33){(h.nextSub!==void 0||h.prevSub!==void 0)&&(v={value:h,prev:v}),h=C.deps,m=C,++b;continue}if(!_){const T=h.nextDep;if(T!==void 0){h=T;continue}}for(;b--;){const T=m.subs,k=T.nextSub!==void 0;if(k?(h=v.value,v=v.prev):h=T,_){if(e(m)){k&&c(T),m=h.sub;continue}_=!1}else m.flags&=-33;m=h.sub;const N=h.nextDep;if(N!==void 0){h=N;continue e}}return _}while(!0)}function c(h){do{const m=h.sub,v=m.flags;(v&48)===32&&(m.flags=v|16,(v&6)===2&&t(m))}while((h=h.nextSub)!==void 0)}function d(h,m){let v=m.depsTail;for(;v!==void 0;){if(v===h)return!0;v=v.prevDep}return!1}}let Jx=0,El=0,of=0;const No=[],{link:tce,unlink:FN,propagate:nce,checkDirty:zz,shallowPropagate:ice}=UN({update(e){return e.depsTail!==void 0?Vz(e):$z(e)},notify(e){let t=of,n=t;do if(No[t++]=e,e.flags&=-3,e=e.subs?.sub,e===void 0||!(e.flags&2))break;while(!0);for(of=t;n<--t;){const i=No[n];No[n++]=No[t],No[t]=i}},unwatched(e){e.flags&1?e.depsTail!==void 0&&(e.depsTail=void 0,e.flags=17,wg(e)):Gz.call(e)}});function Bz(){return Jx}function Uz(){++Jx}function Fz(){--Jx||qz()}function Vz(e){e.depsTail=void 0,e.flags=5;try{const t=e.value;return t!==(e.value=e.getter(t))}finally{e.flags&=-5,wg(e)}}function $z(e){return e.flags=1,e.currentValue!==(e.currentValue=e.pendingValue)}function Hz(e){const t=e.flags;if(t&16||t&32&&zz(e.deps,e)){e.depsTail=void 0,e.flags=6;try{e.fn()}finally{e.flags&=-5,wg(e)}}else e.flags=2}function qz(){try{for(;El<of;){const e=No[El];No[El++]=void 0,Hz(e)}}finally{for(;El<of;){const e=No[El];No[El++]=void 0,e.flags|=10}El=0,of=0}}function Gz(){this.depsTail=void 0,this.flags=0,wg(this);const e=this.subs;e!==void 0&&FN(e)}function wg(e){const t=e.depsTail;let n=t!==void 0?t.nextDep:e.deps;for(;n!==void 0;)n=FN(n,e)}function VN(e,t,n){const i=typeof e=="object",s=i?e:void 0;return{next:(i?e.next:e)?.bind(s),error:(i?e.error:t)?.bind(s),complete:(i?e.complete:n)?.bind(s)}}const _0=[];let vp=0;const{link:mA,unlink:Kz,propagate:Wz,checkDirty:$N,shallowPropagate:pA}=UN({update(e){return e._update()},notify(e){_0[w0++]=e,e.flags&=~nn.Watching},unwatched(e){e.depsTail!==void 0&&(e.depsTail=void 0,e.flags=nn.Mutable|nn.Dirty,Mp(e))}});let Bm=0,w0=0,Fr;function Mp(e){const t=e.depsTail;let n=t!==void 0?t.nextDep:e.deps;for(;n!==void 0;)n=Kz(n,e)}function HN(){if(!(Bz()>0)){for(;Bm<w0;){const e=_0[Bm];_0[Bm++]=void 0,e.notify()}Bm=0,w0=0}}function Yz(e,t){const n=typeof e=="function",i=e,s={_snapshot:n?void 0:e,subs:void 0,subsTail:void 0,deps:void 0,depsTail:void 0,flags:n?nn.None:nn.Mutable,get(){return Fr!==void 0&&mA(s,Fr,vp),s._snapshot},subscribe(o){const l=VN(o),c={current:!1},d=Zz(()=>{s.get(),c.current?l.next?.(s._snapshot):c.current=!0});return{unsubscribe:()=>{d.stop()}}},_update(o){const l=Fr,c=Object.is;Fr=s,++vp,s.depsTail=void 0,n&&(s.flags=nn.Mutable|nn.RecursedCheck);try{const d=s._snapshot,h=typeof o=="function"?o(d):o===void 0&&n?i(d):o;return d===void 0||!c(d,h)?(s._snapshot=h,!0):!1}finally{Fr=l,n&&(s.flags&=~nn.RecursedCheck),Mp(s)}}};return n?(s.flags=nn.Mutable|nn.Dirty,s.get=function(){const o=s.flags;if(o&nn.Dirty||o&nn.Pending&&$N(s.deps,s)){if(s._update()){const l=s.subs;l!==void 0&&pA(l)}}else o&nn.Pending&&(s.flags=o&~nn.Pending);return Fr!==void 0&&mA(s,Fr,vp),s._snapshot}):s.set=function(o){if(s._update(o)){const l=s.subs;l!==void 0&&(Wz(l),pA(l),HN())}},s}function Zz(e){const t=()=>{const i=Fr;Fr=n,++vp,n.depsTail=void 0,n.flags=nn.Watching|nn.RecursedCheck;try{return e()}finally{Fr=i,n.flags&=~nn.RecursedCheck,Mp(n)}},n={deps:void 0,depsTail:void 0,subs:void 0,subsTail:void 0,flags:nn.Watching|nn.RecursedCheck,notify(){const i=this.flags;i&nn.Dirty||i&nn.Pending&&$N(this.deps,this)?t():this.flags=nn.Watching},stop(){this.flags=nn.None,this.depsTail=void 0,Mp(this)}};return t(),n}class Xz{constructor(t){this.atom=Yz(t)}setState(t){this.atom.set(t)}get state(){return this.atom.get()}get(){return this.state}subscribe(t){return this.atom.subscribe(VN(t))}}function Qz(e){try{Uz(),e()}finally{Fz(),HN()}}const Oa="__TSR_index",gA="popstate",vA="beforeunload";function Jz(e){let t=e.getLocation();const n=new Set,i=l=>{t=e.getLocation(),n.forEach(c=>c({location:t,action:l}))},s=l=>{e.notifyOnIndexChange??!0?i(l):t=e.getLocation()},o=async({task:l,navigateOpts:c,...d})=>{if(c?.ignoreBlocker??!1){l();return}const m=e.getBlockers?.()??[],v=d.type==="PUSH"||d.type==="REPLACE";if(typeof document<"u"&&m.length&&v)for(const b of m){const _=Dp(d.path,d.state);if(await b.blockerFn({currentLocation:t,nextLocation:_,action:d.type})){e.onBlocked?.();return}}l()};return{get location(){return t},get length(){return e.getLength()},subscribers:n,subscribe:l=>(n.add(l),()=>{n.delete(l)}),push:(l,c,d)=>{const h=t.state[Oa];c=yA(h+1,c),o({task:()=>{e.pushState(l,c),i({type:"PUSH"})},navigateOpts:d,type:"PUSH",path:l,state:c})},replace:(l,c,d)=>{const h=t.state[Oa];c=yA(h,c),o({task:()=>{e.replaceState(l,c),i({type:"REPLACE"})},navigateOpts:d,type:"REPLACE",path:l,state:c})},go:(l,c)=>{o({task:()=>{e.go(l),s({type:"GO",index:l})},navigateOpts:c,type:"GO"})},back:l=>{o({task:()=>{e.back(l?.ignoreBlocker??!1),s({type:"BACK"})},navigateOpts:l,type:"BACK"})},forward:l=>{o({task:()=>{e.forward(l?.ignoreBlocker??!1),s({type:"FORWARD"})},navigateOpts:l,type:"FORWARD"})},canGoBack:()=>t.state[Oa]!==0,createHref:l=>e.createHref(l),block:l=>{if(!e.setBlockers)return()=>{};const c=e.getBlockers?.()??[];return e.setBlockers([...c,l]),()=>{const d=e.getBlockers?.()??[];e.setBlockers?.(d.filter(h=>h!==l))}},flush:()=>e.flush?.(),destroy:()=>e.destroy?.(),notify:i}}function yA(e,t){t||(t={});const n=e_();return{...t,key:n,__TSR_key:n,[Oa]:e}}function eB(e){const t=typeof document<"u"?window:void 0,n=t.history.pushState,i=t.history.replaceState;let s=[];const o=()=>s,l=I=>s=I,c=(I=>I),d=(()=>Dp(`${t.location.pathname}${t.location.search}${t.location.hash}`,t.history.state));if(!t.history.state?.__TSR_key&&!t.history.state?.key){const I=e_();t.history.replaceState({[Oa]:0,key:I,__TSR_key:I},"")}let h=d(),m,v=!1,b=!1,_=!1,C=!1;const E=()=>h;let T,k;const N=()=>{T&&(z._ignoreSubscribers=!0,(T.isPush?t.history.pushState:t.history.replaceState)(T.state,"",T.href),z._ignoreSubscribers=!1,T=void 0,k=void 0,m=void 0)},P=(I,$,Z)=>{const K=c($);k||(m=h),h=Dp($,Z),T={href:K,state:Z,isPush:T?.isPush||I==="push"},k||(k=Promise.resolve().then(()=>N()))},O=I=>{h=d(),z.notify({type:I})},j=async()=>{if(b){b=!1;return}const I=d(),$=I.state[Oa]-h.state[Oa],Z=$===1,K=$===-1,Y=!Z&&!K||v;v=!1;const Q=Y?"GO":K?"BACK":"FORWARD",ie=Y?{type:"GO",index:$}:{type:K?"BACK":"FORWARD"};if(_)_=!1;else{const ge=o();if(typeof document<"u"&&ge.length){for(const q of ge)if(await q.blockerFn({currentLocation:h,nextLocation:I,action:Q})){b=!0,t.history.go(1),z.notify(ie);return}}}h=d(),z.notify(ie)},V=I=>{if(C){C=!1;return}let $=!1;const Z=o();if(typeof document<"u"&&Z.length)for(const K of Z){const Y=K.enableBeforeUnload??!0;if(Y===!0){$=!0;break}if(typeof Y=="function"&&Y()===!0){$=!0;break}}if($)return I.preventDefault(),I.returnValue=""},z=Jz({getLocation:E,getLength:()=>t.history.length,pushState:(I,$)=>P("push",I,$),replaceState:(I,$)=>P("replace",I,$),back:I=>(I&&(_=!0),C=!0,t.history.back()),forward:I=>{I&&(_=!0),C=!0,t.history.forward()},go:I=>{v=!0,t.history.go(I)},createHref:I=>c(I),flush:N,destroy:()=>{t.history.pushState=n,t.history.replaceState=i,t.removeEventListener(vA,V,{capture:!0}),t.removeEventListener(gA,j)},onBlocked:()=>{m&&h!==m&&(h=m)},getBlockers:o,setBlockers:l,notifyOnIndexChange:!1});return t.addEventListener(vA,V,{capture:!0}),t.addEventListener(gA,j),t.history.pushState=function(...I){const $=n.apply(t.history,I);return z._ignoreSubscribers||O("PUSH"),$},t.history.replaceState=function(...I){const $=i.apply(t.history,I);return z._ignoreSubscribers||O("REPLACE"),$},z}function tB(e){let t=e.replace(/[\x00-\x1f\x7f]/g,"");return t.startsWith("//")&&(t="/"+t.replace(/^\/+/,"")),t}function Dp(e,t){const n=tB(e),i=n.indexOf("#"),s=n.indexOf("?"),o=e_();return{href:n,pathname:n.substring(0,i>0?s>0?Math.min(i,s):i:s>0?s:n.length),hash:i>-1?n.substring(i):"",search:s>-1?n.slice(s,i===-1?void 0:i):"",state:t||{[Oa]:0,key:o,__TSR_key:o}}}function e_(){return(Math.random()+1).toString(36).substring(7)}const nB=!1;function af(e){let t;return Qz(()=>{t=e()}),t}function _f(e){return e[e.length-1]}function iB(e){return typeof e=="function"}function Ra(e,t){return iB(e)?e(t):e}const sB=Object.prototype.hasOwnProperty,bA=Object.prototype.propertyIsEnumerable;function ps(e,t,n=0){if(e===t)return e;if(n>500)return t;const i=t,s=wA(e)&&wA(i);if(!s&&!(Lp(e)&&Lp(i)))return i;const o=s?e:xA(e);if(!o)return i;const l=s?i:xA(i);if(!l)return i;const c=o.length,d=l.length,h=s?new Array(d):{};let m=0;for(let v=0;v<d;v++){const b=s?v:l[v],_=e[b],C=i[b];if(_===C){h[b]=_,(s?v<c:sB.call(e,b))&&m++;continue}if(_===null||C===null||typeof _!="object"||typeof C!="object"){h[b]=C;continue}const E=ps(_,C,n+1);h[b]=E,E===_&&m++}return c===d&&m===c?e:h}function xA(e){const t=Object.getOwnPropertyNames(e);for(const s of t)if(!bA.call(e,s))return!1;const n=Object.getOwnPropertySymbols(e);if(n.length===0)return t;const i=t;for(const s of n){if(!bA.call(e,s))return!1;i.push(s)}return i}function Lp(e){if(!_A(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!_A(n)||!n.hasOwnProperty("isPrototypeOf"))}function _A(e){return Object.prototype.toString.call(e)==="[object Object]"}function wA(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Vl(e,t,n){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let i=0,s=e.length;i<s;i++)if(!Vl(e[i],t[i],n))return!1;return!0}if(Lp(e)&&Lp(t)){const i=n?.ignoreUndefined??!0;if(n?.partial){for(const l in t)if((!i||t[l]!==void 0)&&!Vl(e[l],t[l],n))return!1;return!0}let s=0;if(!i)s=Object.keys(e).length;else for(const l in e)e[l]!==void 0&&s++;let o=0;for(const l in t)if((!i||t[l]!==void 0)&&(o++,o>s||!Vl(e[l],t[l],n)))return!1;return s===o}return!1}function Eu(e){let t,n;const i=new Promise((s,o)=>{t=s,n=o});return i.status="pending",i.resolve=s=>{i.status="resolved",i.value=s,t(s),e?.(s)},i.reject=s=>{i.status="rejected",n(s)},i}function vu(e){return!!(e&&typeof e=="object"&&typeof e.then=="function")}function rB(e){return e.replace(/[\x00-\x1f\x7f]/g,"")}function SA(e){let t;try{t=decodeURI(e)}catch{t=e.replaceAll(/%[0-9A-F]{2}/gi,n=>{try{return decodeURI(n)}catch{return n}})}return rB(t)}const oB=["http:","https:","mailto:","tel:"];function jp(e,t){if(!e)return!1;try{const n=new URL(e);return!t.has(n.protocol)}catch{return!1}}function $d(e){if(!e)return{path:e,handledProtocolRelativeURL:!1};if(!/[%\\\x00-\x1f\x7f]/.test(e)&&!e.startsWith("//"))return{path:e,handledProtocolRelativeURL:!1};const t=/%25|%5C/gi;let n=0,i="",s;for(;(s=t.exec(e))!==null;)i+=SA(e.slice(n,s.index))+s[0],n=t.lastIndex;i=i+SA(n?e.slice(n):e);let o=!1;return i.startsWith("//")&&(o=!0,i="/"+i.replace(/^\/+/,"")),{path:i,handledProtocolRelativeURL:o}}function aB(e){return/\s|[^\u0000-\u007F]/.test(e)?e.replace(/\s|[^\u0000-\u007F]/gu,encodeURIComponent):e}var lB="Invariant failed";function Mo(e,t){if(!e)throw new Error(lB)}function Ip(e){const t=new Map;let n,i;const s=o=>{o.next&&(o.prev?(o.prev.next=o.next,o.next.prev=o.prev,o.next=void 0,i&&(i.next=o,o.prev=i)):(o.next.prev=void 0,n=o.next,o.next=void 0,i&&(o.prev=i,i.next=o)),i=o)};return{get(o){const l=t.get(o);if(l)return s(l),l.value},set(o,l){if(t.size>=e&&n){const d=n;t.delete(d.key),d.next&&(n=d.next,d.next.prev=void 0),d===i&&(i=void 0)}const c=t.get(o);if(c)c.value=l,s(c);else{const d={key:o,value:l,prev:i};i&&(i.next=d),i=d,n||(n=d),t.set(o,d)}},clear(){t.clear(),n=void 0,i=void 0}}}const Au=0,ql=1,Gl=2,wf=3,Il=4,qN=5;function cB(e){const t=e.indexOf("{");if(t===-1)return null;const n=e.indexOf("}",t);return n===-1||t+1>=e.length?null:[t,n]}function t_(e,t,n=new Uint16Array(6)){const i=e.indexOf("/",t),s=i===-1?e.length:i,o=e.substring(t,s);if(!o||!o.includes("$"))return n[0]=Au,n[1]=t,n[2]=t,n[3]=s,n[4]=s,n[5]=s,n;if(o==="$"){const c=e.length;return n[0]=Gl,n[1]=t,n[2]=t,n[3]=c,n[4]=c,n[5]=c,n}if(o.charCodeAt(0)===36)return n[0]=ql,n[1]=t,n[2]=t+1,n[3]=s,n[4]=s,n[5]=s,n;const l=cB(o);if(l){const[c,d]=l,h=o.charCodeAt(c+1);if(h===45){if(c+2<o.length&&o.charCodeAt(c+2)===36){const m=c+3,v=d;if(m<v)return n[0]=wf,n[1]=t+c,n[2]=t+m,n[3]=t+v,n[4]=t+d+1,n[5]=s,n}}else if(h===36){const m=c+1,v=c+2;return v===d?(n[0]=Gl,n[1]=t+c,n[2]=t+m,n[3]=t+v,n[4]=t+d+1,n[5]=e.length,n):(n[0]=ql,n[1]=t+c,n[2]=t+v,n[3]=t+d,n[4]=t+d+1,n[5]=s,n)}}return n[0]=Au,n[1]=t,n[2]=t,n[3]=s,n[4]=s,n[5]=s,n}function Sg(e,t,n,i,s,o,l){l?.(n);let c=i;{const d=n.fullPath??n.from,h=d.length,m=n.options?.caseSensitive??e,v=!!(n.options?.params?.parse&&n.options?.skipRouteOnParseError?.params);for(;c<h;){const _=t_(d,c,t);let C;const E=c,T=_[5];switch(c=T+1,o++,_[0]){case Au:{const N=d.substring(_[2],_[3]);if(m){const P=s.static?.get(N);if(P)C=P;else{s.static??=new Map;const O=zl(n.fullPath??n.from);O.parent=s,O.depth=o,C=O,s.static.set(N,O)}}else{const P=N.toLowerCase(),O=s.staticInsensitive?.get(P);if(O)C=O;else{s.staticInsensitive??=new Map;const j=zl(n.fullPath??n.from);j.parent=s,j.depth=o,C=j,s.staticInsensitive.set(P,j)}}break}case ql:{const N=d.substring(E,_[1]),P=d.substring(_[4],T),O=m&&!!(N||P),j=N?O?N:N.toLowerCase():void 0,V=P?O?P:P.toLowerCase():void 0,z=!v&&s.dynamic?.find(I=>!I.skipOnParamError&&I.caseSensitive===O&&I.prefix===j&&I.suffix===V);if(z)C=z;else{const I=ub(ql,n.fullPath??n.from,O,j,V);C=I,I.depth=o,I.parent=s,s.dynamic??=[],s.dynamic.push(I)}break}case wf:{const N=d.substring(E,_[1]),P=d.substring(_[4],T),O=m&&!!(N||P),j=N?O?N:N.toLowerCase():void 0,V=P?O?P:P.toLowerCase():void 0,z=!v&&s.optional?.find(I=>!I.skipOnParamError&&I.caseSensitive===O&&I.prefix===j&&I.suffix===V);if(z)C=z;else{const I=ub(wf,n.fullPath??n.from,O,j,V);C=I,I.parent=s,I.depth=o,s.optional??=[],s.optional.push(I)}break}case Gl:{const N=d.substring(E,_[1]),P=d.substring(_[4],T),O=m&&!!(N||P),j=N?O?N:N.toLowerCase():void 0,V=P?O?P:P.toLowerCase():void 0,z=ub(Gl,n.fullPath??n.from,O,j,V);C=z,z.parent=s,z.depth=o,s.wildcard??=[],s.wildcard.push(z)}}s=C}if(v&&n.children&&!n.isRoot&&n.id&&n.id.charCodeAt(n.id.lastIndexOf("/")+1)===95){const _=zl(n.fullPath??n.from);_.kind=qN,_.parent=s,o++,_.depth=o,s.pathless??=[],s.pathless.push(_),s=_}const b=(n.path||!n.children)&&!n.isRoot;if(b&&d.endsWith("/")){const _=zl(n.fullPath??n.from);_.kind=Il,_.parent=s,o++,_.depth=o,s.index=_,s=_}s.parse=n.options?.params?.parse??null,s.skipOnParamError=v,s.parsingPriority=n.options?.skipRouteOnParseError?.priority??0,b&&!s.route&&(s.route=n,s.fullPath=n.fullPath??n.from)}if(n.children)for(const d of n.children)Sg(e,t,d,c,s,o,l)}function cb(e,t){if(e.skipOnParamError&&!t.skipOnParamError)return-1;if(!e.skipOnParamError&&t.skipOnParamError)return 1;if(e.skipOnParamError&&t.skipOnParamError&&(e.parsingPriority||t.parsingPriority))return t.parsingPriority-e.parsingPriority;if(e.prefix&&t.prefix&&e.prefix!==t.prefix){if(e.prefix.startsWith(t.prefix))return-1;if(t.prefix.startsWith(e.prefix))return 1}if(e.suffix&&t.suffix&&e.suffix!==t.suffix){if(e.suffix.endsWith(t.suffix))return-1;if(t.suffix.endsWith(e.suffix))return 1}return e.prefix&&!t.prefix?-1:!e.prefix&&t.prefix?1:e.suffix&&!t.suffix?-1:!e.suffix&&t.suffix?1:e.caseSensitive&&!t.caseSensitive?-1:!e.caseSensitive&&t.caseSensitive?1:0}function Ca(e){if(e.pathless)for(const t of e.pathless)Ca(t);if(e.static)for(const t of e.static.values())Ca(t);if(e.staticInsensitive)for(const t of e.staticInsensitive.values())Ca(t);if(e.dynamic?.length){e.dynamic.sort(cb);for(const t of e.dynamic)Ca(t)}if(e.optional?.length){e.optional.sort(cb);for(const t of e.optional)Ca(t)}if(e.wildcard?.length){e.wildcard.sort(cb);for(const t of e.wildcard)Ca(t)}}function zl(e){return{kind:Au,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:e,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0}}function ub(e,t,n,i,s){return{kind:e,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:t,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0,caseSensitive:n,prefix:i,suffix:s}}function uB(e,t){const n=zl("/"),i=new Uint16Array(6);for(const s of e)Sg(!1,i,s,1,n,0);Ca(n),t.masksTree=n,t.flatCache=Ip(1e3)}function dB(e,t){e||="/";const n=t.flatCache.get(e);if(n)return n;const i=n_(e,t.masksTree);return t.flatCache.set(e,i),i}function fB(e,t,n,i,s){e||="/",i||="/";const o=t?`case\0${e}`:e;let l=s.singleCache.get(o);if(!l){l=zl("/");const c=new Uint16Array(6);Sg(t,c,{from:e},1,l,0),s.singleCache.set(o,l)}return n_(i,l,n)}function hB(e,t,n=!1){const i=n?e:`nofuzz\0${e}`,s=t.matchCache.get(i);if(s!==void 0)return s;e||="/";let o;try{o=n_(e,t.segmentTree,n)}catch(l){if(l instanceof URIError)o=null;else throw l}return o&&(o.branch=gB(o.route)),t.matchCache.set(i,o),o}function mB(e){return e==="/"?e:e.replace(/\/{1,}$/,"")}function pB(e,t=!1,n){const i=zl(e.fullPath),s=new Uint16Array(6),o={},l={};let c=0;return Sg(t,s,e,1,i,0,h=>{if(n?.(h,c),Mo(!(h.id in o),`Duplicate routes found with id: ${String(h.id)}`),o[h.id]=h,c!==0&&h.path){const m=mB(h.fullPath);(!l[m]||h.fullPath.endsWith("/"))&&(l[m]=h)}c++}),Ca(i),{processedTree:{segmentTree:i,singleCache:Ip(1e3),matchCache:Ip(1e3),flatCache:null,masksTree:null},routesById:o,routesByPath:l}}function n_(e,t,n=!1){const i=e.split("/"),s=yB(e,i,t,n);if(!s)return null;const[o]=GN(e,i,s);return{route:s.node.route,rawParams:o,parsedParams:s.parsedParams}}function GN(e,t,n){const i=vB(n.node);let s=null;const o={};let l=n.extract?.part??0,c=n.extract?.node??0,d=n.extract?.path??0,h=n.extract?.segment??0;for(;c<i.length;l++,c++,d++,h++){const m=i[c];if(m.kind===Il)break;if(m.kind===qN){h--,l--,d--;continue}const v=t[l],b=d;if(v&&(d+=v.length),m.kind===ql){s??=n.node.fullPath.split("/");const _=s[h],C=m.prefix?.length??0;if(_.charCodeAt(C)===123){const T=m.suffix?.length??0,k=_.substring(C+2,_.length-T-1),N=v.substring(C,v.length-T);o[k]=decodeURIComponent(N)}else{const T=_.substring(1);o[T]=decodeURIComponent(v)}}else if(m.kind===wf){if(n.skipped&1<<c){l--,d=b-1;continue}s??=n.node.fullPath.split("/");const _=s[h],C=m.prefix?.length??0,E=m.suffix?.length??0,T=_.substring(C+3,_.length-E-1),k=m.suffix||m.prefix?v.substring(C,v.length-E):v;k&&(o[T]=decodeURIComponent(k))}else if(m.kind===Gl){const _=m,C=e.substring(b+(_.prefix?.length??0),e.length-(_.suffix?.length??0)),E=decodeURIComponent(C);o["*"]=E,o._splat=E;break}}return n.rawParams&&Object.assign(o,n.rawParams),[o,{part:l,node:c,path:d,segment:h}]}function gB(e){const t=[e];for(;e.parentRoute;)e=e.parentRoute,t.push(e);return t.reverse(),t}function vB(e){const t=Array(e.depth+1);do t[e.depth]=e,e=e.parent;while(e);return t}function yB(e,t,n,i){if(e==="/"&&n.index)return{node:n.index,skipped:0};const s=!_f(t),o=s&&e!=="/",l=t.length-(s?1:0),c=[{node:n,index:1,skipped:0,depth:1,statics:1,dynamics:0,optionals:0}];let d=null,h=null,m=null;for(;c.length;){const v=c.pop(),{node:b,index:_,skipped:C,depth:E,statics:T,dynamics:k,optionals:N}=v;let{extract:P,rawParams:O,parsedParams:j}=v;if(b.skipOnParamError){if(!db(e,t,v))continue;O=v.rawParams,P=v.extract,j=v.parsedParams}i&&b.route&&b.kind!==Il&&Hd(h,v)&&(h=v);const V=_===l;if(V&&(b.route&&!o&&Hd(m,v)&&(m=v),!b.optional&&!b.wildcard&&!b.index&&!b.pathless))continue;const z=V?void 0:t[_];let I;if(V&&b.index){const $={node:b.index,index:_,skipped:C,depth:E+1,statics:T,dynamics:k,optionals:N,extract:P,rawParams:O,parsedParams:j};let Z=!0;if(b.index.skipOnParamError&&(db(e,t,$)||(Z=!1)),Z){if(T===l&&!k&&!N&&!C)return $;Hd(m,$)&&(m=$)}}if(b.wildcard&&Hd(d,v))for(const $ of b.wildcard){const{prefix:Z,suffix:K}=$;if(Z&&(V||!($.caseSensitive?z:I??=z.toLowerCase()).startsWith(Z)))continue;if(K){if(V)continue;const Q=t.slice(_).join("/").slice(-K.length);if(($.caseSensitive?Q:Q.toLowerCase())!==K)continue}const Y={node:$,index:l,skipped:C,depth:E,statics:T,dynamics:k,optionals:N,extract:P,rawParams:O,parsedParams:j};if(!($.skipOnParamError&&!db(e,t,Y))){d=Y;break}}if(b.optional){const $=C|1<<E,Z=E+1;for(let K=b.optional.length-1;K>=0;K--){const Y=b.optional[K];c.push({node:Y,index:_,skipped:$,depth:Z,statics:T,dynamics:k,optionals:N,extract:P,rawParams:O,parsedParams:j})}if(!V)for(let K=b.optional.length-1;K>=0;K--){const Y=b.optional[K],{prefix:Q,suffix:ie}=Y;if(Q||ie){const ge=Y.caseSensitive?z:I??=z.toLowerCase();if(Q&&!ge.startsWith(Q)||ie&&!ge.endsWith(ie))continue}c.push({node:Y,index:_+1,skipped:C,depth:Z,statics:T,dynamics:k,optionals:N+1,extract:P,rawParams:O,parsedParams:j})}}if(!V&&b.dynamic&&z)for(let $=b.dynamic.length-1;$>=0;$--){const Z=b.dynamic[$],{prefix:K,suffix:Y}=Z;if(K||Y){const Q=Z.caseSensitive?z:I??=z.toLowerCase();if(K&&!Q.startsWith(K)||Y&&!Q.endsWith(Y))continue}c.push({node:Z,index:_+1,skipped:C,depth:E+1,statics:T,dynamics:k+1,optionals:N,extract:P,rawParams:O,parsedParams:j})}if(!V&&b.staticInsensitive){const $=b.staticInsensitive.get(I??=z.toLowerCase());$&&c.push({node:$,index:_+1,skipped:C,depth:E+1,statics:T+1,dynamics:k,optionals:N,extract:P,rawParams:O,parsedParams:j})}if(!V&&b.static){const $=b.static.get(z);$&&c.push({node:$,index:_+1,skipped:C,depth:E+1,statics:T+1,dynamics:k,optionals:N,extract:P,rawParams:O,parsedParams:j})}if(b.pathless){const $=E+1;for(let Z=b.pathless.length-1;Z>=0;Z--){const K=b.pathless[Z];c.push({node:K,index:_,skipped:C,depth:$,statics:T,dynamics:k,optionals:N,extract:P,rawParams:O,parsedParams:j})}}}if(m&&d)return Hd(d,m)?m:d;if(m)return m;if(d)return d;if(i&&h){let v=h.index;for(let _=0;_<h.index;_++)v+=t[_].length;const b=v===e.length?"/":e.slice(v);return h.rawParams??={},h.rawParams["**"]=decodeURIComponent(b),h}return null}function db(e,t,n){try{const[i,s]=GN(e,t,n);n.rawParams=i,n.extract=s;const o=n.node.parse(i);return n.parsedParams=Object.assign({},n.parsedParams,o),!0}catch{return null}}function Hd(e,t){return e?t.statics>e.statics||t.statics===e.statics&&(t.dynamics>e.dynamics||t.dynamics===e.dynamics&&(t.optionals>e.optionals||t.optionals===e.optionals&&((t.node.kind===Il)>(e.node.kind===Il)||t.node.kind===Il==(e.node.kind===Il)&&t.depth>e.depth))):!0}function yp(e){return i_(e.filter(t=>t!==void 0).join("/"))}function i_(e){return e.replace(/\/{2,}/g,"/")}function KN(e){return e==="/"?e:e.replace(/^\/{1,}/,"")}function Ma(e){const t=e.length;return t>1&&e[t-1]==="/"?e.replace(/\/{1,}$/,""):e}function WN(e){return Ma(KN(e))}function zp(e,t){return e?.endsWith("/")&&e!=="/"&&e!==`${t}/`?e.slice(0,-1):e}function bB(e,t,n){return zp(e,n)===zp(t,n)}function xB({base:e,to:t,trailingSlash:n="never",cache:i}){const s=t.startsWith("/"),o=!s&&t===".";let l;if(i){l=s?t:o?e:e+"\0"+t;const v=i.get(l);if(v)return v}let c;if(o)c=e.split("/");else if(s)c=t.split("/");else{for(c=e.split("/");c.length>1&&_f(c)==="";)c.pop();const v=t.split("/");for(let b=0,_=v.length;b<_;b++){const C=v[b];C===""?b?b===_-1&&c.push(C):c=[C]:C===".."?c.pop():C==="."||c.push(C)}}c.length>1&&(_f(c)===""?n==="never"&&c.pop():n==="always"&&c.push(""));let d,h="";for(let v=0;v<c.length;v++){v>0&&(h+="/");const b=c[v];if(!b)continue;d=t_(b,0,d);const _=d[0];if(_===Au){h+=b;continue}const C=d[5],E=b.substring(0,d[1]),T=b.substring(d[4],C),k=b.substring(d[2],d[3]);_===ql?h+=E||T?`${E}{$${k}}${T}`:`$${k}`:_===Gl?h+=E||T?`${E}{$}${T}`:"$":h+=`${E}{-$${k}}${T}`}h=i_(h);const m=h||"/";return l&&i&&i.set(l,m),m}function _B(e){const t=new Map(e.map(s=>[encodeURIComponent(s),s])),n=Array.from(t.keys()).map(s=>s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),i=new RegExp(n,"g");return s=>s.replace(i,o=>t.get(o)??o)}function fb(e,t,n){const i=t[e];return typeof i!="string"?i:e==="_splat"?/^[a-zA-Z0-9\-._~!/]*$/.test(i)?i:i.split("/").map(s=>EA(s,n)).join("/"):EA(i,n)}function CA({path:e,params:t,decoder:n,...i}){let s=!1;const o={};if(!e||e==="/")return{interpolatedPath:"/",usedParams:o,isMissingParams:s};if(!e.includes("$"))return{interpolatedPath:e,usedParams:o,isMissingParams:s};const l=e.length;let c=0,d,h="";for(;c<l;){const v=c;d=t_(e,v,d);const b=d[5];if(c=b+1,v===b)continue;const _=d[0];if(_===Au){h+="/"+e.substring(v,b);continue}if(_===Gl){const C=t._splat;o._splat=C,o["*"]=C;const E=e.substring(v,d[1]),T=e.substring(d[4],b);if(!C){s=!0,(E||T)&&(h+="/"+E+T);continue}const k=fb("_splat",t,n);h+="/"+E+k+T;continue}if(_===ql){const C=e.substring(d[2],d[3]);!s&&!(C in t)&&(s=!0),o[C]=t[C];const E=e.substring(v,d[1]),T=e.substring(d[4],b),k=fb(C,t,n)??"undefined";h+="/"+E+k+T;continue}if(_===wf){const C=e.substring(d[2],d[3]),E=t[C];if(E==null)continue;o[C]=E;const T=e.substring(v,d[1]),k=e.substring(d[4],b),N=fb(C,t,n)??"";h+="/"+T+N+k;continue}}return e.endsWith("/")&&(h+="/"),{usedParams:o,interpolatedPath:h||"/",isMissingParams:s}}function EA(e,t){const n=encodeURIComponent(e);return t?.(n)??n}function ys(e){return!!e?.isNotFound}function wB(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const S0="tsr-scroll-restoration-v1_3",SB=(e,t)=>{let n;return(...i)=>{n||(n=setTimeout(()=>{e(...i),n=null},t))}};function CB(){const e=wB();if(!e)return null;const t=e.getItem(S0);let n=t?JSON.parse(t):{};return{state:n,set:i=>{n=Ra(i,n)||n;try{e.setItem(S0,JSON.stringify(n))}catch{console.warn("[ts-router] Could not persist scroll restoration state to sessionStorage.")}}}}const Um=CB(),EB=e=>e.state.__TSR_key||e.href;function AB(e){const t=[];let n;for(;n=e.parentNode;)t.push(`${e.tagName}:nth-child(${Array.prototype.indexOf.call(n.children,e)+1})`),e=n;return`${t.reverse().join(" > ")}`.toLowerCase()}let Bp=!1;function TB({storageKey:e,key:t,behavior:n,shouldScrollRestoration:i,scrollToTopSelectors:s,location:o}){let l;try{l=JSON.parse(sessionStorage.getItem(e)||"{}")}catch(h){console.error(h);return}const c=t||window.history.state?.__TSR_key,d=l[c];Bp=!0;e:{if(i&&d&&Object.keys(d).length>0){for(const v in d){const b=d[v];if(v==="window")window.scrollTo({top:b.scrollY,left:b.scrollX,behavior:n});else if(v){const _=document.querySelector(v);_&&(_.scrollLeft=b.scrollX,_.scrollTop=b.scrollY)}}break e}const h=(o??window.location).hash.split("#",2)[1];if(h){const v=window.history.state?.__hashScrollIntoViewOptions??!0;if(v){const b=document.getElementById(h);b&&b.scrollIntoView(v)}break e}const m={top:0,left:0,behavior:n};if(window.scrollTo(m),s)for(const v of s){if(v==="window")continue;const b=typeof v=="function"?v():document.querySelector(v);b&&b.scrollTo(m)}}Bp=!1}function RB(e,t){if(!Um||((e.options.scrollRestoration??!1)&&(e.isScrollRestoring=!0),e.isScrollRestorationSetup||!Um))return;e.isScrollRestorationSetup=!0,Bp=!1;const i=e.options.getScrollRestorationKey||EB;window.history.scrollRestoration="manual";const s=o=>{if(Bp||!e.isScrollRestoring)return;let l="";if(o.target===document||o.target===window)l="window";else{const d=o.target.getAttribute("data-scroll-restoration-id");d?l=`[data-scroll-restoration-id="${d}"]`:l=AB(o.target)}const c=i(e.state.location);Um.set(d=>{const h=d[c]||={},m=h[l]||={};if(l==="window")m.scrollX=window.scrollX||0,m.scrollY=window.scrollY||0;else if(l){const v=document.querySelector(l);v&&(m.scrollX=v.scrollLeft||0,m.scrollY=v.scrollTop||0)}return d})};typeof document<"u"&&document.addEventListener("scroll",SB(s,100),!0),e.subscribe("onRendered",o=>{const l=i(o.toLocation);if(!e.resetNextScroll){e.resetNextScroll=!0;return}typeof e.options.scrollRestoration=="function"&&!e.options.scrollRestoration({location:e.latestLocation})||(TB({storageKey:S0,key:l,behavior:e.options.scrollRestorationBehavior,shouldScrollRestoration:e.isScrollRestoring,scrollToTopSelectors:e.options.scrollToTopSelectors,location:e.history.location}),e.isScrollRestoring&&Um.set(c=>(c[l]||={},c)))})}function NB(e){if(typeof document<"u"&&document.querySelector){const t=e.state.location.state.__hashScrollIntoViewOptions??!0;if(t&&e.state.location.hash!==""){const n=document.getElementById(e.state.location.hash);n&&n.scrollIntoView(t)}}}function kB(e,t=String){const n=new URLSearchParams;for(const i in e){const s=e[i];s!==void 0&&n.set(i,t(s))}return n.toString()}function hb(e){return e?e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e:""}function PB(e){const t=new URLSearchParams(e),n={};for(const[i,s]of t.entries()){const o=n[i];o==null?n[i]=hb(s):Array.isArray(o)?o.push(hb(s)):n[i]=[o,hb(s)]}return n}const OB=DB(JSON.parse),MB=LB(JSON.stringify,JSON.parse);function DB(e){return t=>{t[0]==="?"&&(t=t.substring(1));const n=PB(t);for(const i in n){const s=n[i];if(typeof s=="string")try{n[i]=e(s)}catch{}}return n}}function LB(e,t){const n=typeof t=="function";function i(s){if(typeof s=="object"&&s!==null)try{return e(s)}catch{}else if(n&&typeof s=="string")try{return t(s),e(s)}catch{}return s}return s=>{const o=kB(s,i);return o?`?${o}`:""}}const Is="__root__";function Cg(e){if(e.statusCode=e.statusCode||e.code||307,!e._builtLocation&&!e.reloadDocument&&typeof e.href=="string")try{new URL(e.href),e.reloadDocument=!0}catch{}const t=new Headers(e.headers);e.href&&t.get("Location")===null&&t.set("Location",e.href);const n=new Response(null,{status:e.statusCode,headers:t});if(n.options=e,e.throw)throw n;return n}function Fs(e){return e instanceof Response&&!!e.options}const bp=e=>{if(!e.rendered)return e.rendered=!0,e.onReady?.()},Eg=(e,t)=>!!(e.preload&&!e.router.state.matches.some(n=>n.id===t)),yu=(e,t,n=!0)=>{const i={...e.router.options.context??{}},s=n?t:t-1;for(let o=0;o<=s;o++){const l=e.matches[o];if(!l)continue;const c=e.router.getMatch(l.id);c&&Object.assign(i,c.__routeContext,c.__beforeLoadContext)}return i},YN=(e,t,n)=>{const i=e.router.routesById[t.routeId??""]??e.router.routeTree;!i.options.notFoundComponent&&e.router.options?.defaultNotFoundComponent&&(i.options.notFoundComponent=e.router.options.defaultNotFoundComponent);const s=n==="BEFORE_LOAD"&&i.parentRoute;s||Mo(i.options.notFoundComponent);const o=e.matches.find(l=>l.routeId===i.id);Mo(o,"Could not find match for route: "+i.id),e.updateMatch(o.id,l=>({...l,status:"notFound",error:t,isFetching:!1})),s&&(t.routeId=i.parentRoute.id,YN(e,t,n))},Na=(e,t,n,i)=>{if(!(!Fs(n)&&!ys(n))){if(Fs(n)&&n.redirectHandled&&!n.options.reloadDocument)throw n;if(t){t._nonReactive.beforeLoadPromise?.resolve(),t._nonReactive.loaderPromise?.resolve(),t._nonReactive.beforeLoadPromise=void 0,t._nonReactive.loaderPromise=void 0;const s=Fs(n)?"redirected":"notFound";t._nonReactive.error=n,e.updateMatch(t.id,o=>({...o,status:s,context:yu(e,t.index),isFetching:!1,error:n})),ys(n)&&!n.routeId&&(n.routeId=t.routeId),t._nonReactive.loadPromise?.resolve()}throw Fs(n)?(e.rendered=!0,n.options._fromLocation=e.location,n.redirectHandled=!0,n=e.router.resolveRedirect(n),n):(YN(e,n,i),n)}},ZN=(e,t)=>!!e.router.getMatch(t)._nonReactive.dehydrated,qd=(e,t,n,i)=>{const{id:s,routeId:o}=e.matches[t],l=e.router.looseRoutesById[o];if(n instanceof Promise)throw n;n.routerCode=i,e.firstBadMatchIndex??=t,Na(e,e.router.getMatch(s),n,i);try{l.options.onError?.(n)}catch(c){n=c,Na(e,e.router.getMatch(s),n,i)}e.updateMatch(s,c=>(c._nonReactive.beforeLoadPromise?.resolve(),c._nonReactive.beforeLoadPromise=void 0,c._nonReactive.loadPromise?.resolve(),{...c,error:n,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}))},XN=(e,t,n,i)=>{if(i._nonReactive.pendingTimeout!==void 0)return;const s=n.options.pendingMs??e.router.options.defaultPendingMs;if(!!(e.onReady&&!Eg(e,t)&&(n.options.loader||n.options.beforeLoad||ek(n))&&typeof s=="number"&&s!==1/0&&(n.options.pendingComponent??e.router.options?.defaultPendingComponent))){const l=setTimeout(()=>{bp(e)},s);i._nonReactive.pendingTimeout=l}},jB=(e,t,n)=>{const i=e.router.getMatch(t);if(!i._nonReactive.beforeLoadPromise&&!i._nonReactive.loaderPromise)return;XN(e,t,n,i);const s=()=>{const o=e.router.getMatch(t);o.preload&&(o.status==="redirected"||o.status==="notFound")&&Na(e,o,o.error)};return i._nonReactive.beforeLoadPromise?i._nonReactive.beforeLoadPromise.then(s):s()},IB=(e,t,n,i)=>{const s=e.router.getMatch(t),o=s._nonReactive.loadPromise;s._nonReactive.loadPromise=Eu(()=>{o?.resolve()});const{paramsError:l,searchError:c}=s;l&&qd(e,n,l,"PARSE_PARAMS"),c&&qd(e,n,c,"VALIDATE_SEARCH"),XN(e,t,i,s);const d=new AbortController;let h=!1;const m=()=>{h||(h=!0,e.updateMatch(t,O=>({...O,isFetching:"beforeLoad",fetchCount:O.fetchCount+1,abortController:d})))},v=()=>{s._nonReactive.beforeLoadPromise?.resolve(),s._nonReactive.beforeLoadPromise=void 0,e.updateMatch(t,O=>({...O,isFetching:!1}))};if(!i.options.beforeLoad){af(()=>{m(),v()});return}s._nonReactive.beforeLoadPromise=Eu();const b={...yu(e,n,!1),...s.__routeContext},{search:_,params:C,cause:E}=s,T=Eg(e,t),k={search:_,abortController:d,params:C,preload:T,context:b,location:e.location,navigate:O=>e.router.navigate({...O,_fromLocation:e.location}),buildLocation:e.router.buildLocation,cause:T?"preload":E,matches:e.matches,routeId:i.id,...e.router.options.additionalContext},N=O=>{if(O===void 0){af(()=>{m(),v()});return}(Fs(O)||ys(O))&&(m(),qd(e,n,O,"BEFORE_LOAD")),af(()=>{m(),e.updateMatch(t,j=>({...j,__beforeLoadContext:O})),v()})};let P;try{if(P=i.options.beforeLoad(k),vu(P))return m(),P.catch(O=>{qd(e,n,O,"BEFORE_LOAD")}).then(N)}catch(O){m(),qd(e,n,O,"BEFORE_LOAD")}N(P)},zB=(e,t)=>{const{id:n,routeId:i}=e.matches[t],s=e.router.looseRoutesById[i],o=()=>c(),l=()=>IB(e,n,t,s),c=()=>{if(ZN(e,n))return;const d=jB(e,n,s);return vu(d)?d.then(l):l()};return o()},BB=(e,t,n)=>{const i=e.router.getMatch(t);if(!i||!n.options.head&&!n.options.scripts&&!n.options.headers)return;const s={ssr:e.router.options.ssr,matches:e.matches,match:i,params:i.params,loaderData:i.loaderData};return Promise.all([n.options.head?.(s),n.options.scripts?.(s),n.options.headers?.(s)]).then(([o,l,c])=>{const d=o?.meta,h=o?.links,m=o?.scripts,v=o?.styles;return{meta:d,links:h,headScripts:m,headers:c,scripts:l,styles:v}})},QN=(e,t,n,i)=>{const s=e.matchPromises[n-1],{params:o,loaderDeps:l,abortController:c,cause:d}=e.router.getMatch(t),h=yu(e,n),m=Eg(e,t);return{params:o,deps:l,preload:!!m,parentMatchPromise:s,abortController:c,context:h,location:e.location,navigate:v=>e.router.navigate({...v,_fromLocation:e.location}),cause:m?"preload":d,route:i,...e.router.options.additionalContext}},AA=async(e,t,n,i)=>{try{const s=e.router.getMatch(t);try{(!(nB??e.router.isServer)||s.ssr===!0)&&JN(i);const o=i.options.loader?.(QN(e,t,n,i)),l=i.options.loader&&vu(o);if((l||i._lazyPromise||i._componentsPromise||i.options.head||i.options.scripts||i.options.headers||s._nonReactive.minPendingPromise)&&e.updateMatch(t,h=>({...h,isFetching:"loader"})),i.options.loader){const h=l?await o:o;Na(e,e.router.getMatch(t),h),h!==void 0&&e.updateMatch(t,m=>({...m,loaderData:h}))}i._lazyPromise&&await i._lazyPromise;const d=s._nonReactive.minPendingPromise;d&&await d,i._componentsPromise&&await i._componentsPromise,e.updateMatch(t,h=>({...h,error:void 0,context:yu(e,n),status:"success",isFetching:!1,updatedAt:Date.now()}))}catch(o){let l=o;if(l?.name==="AbortError"){if(s.abortController.signal.aborted){s._nonReactive.loaderPromise?.resolve(),s._nonReactive.loaderPromise=void 0;return}e.updateMatch(t,d=>({...d,status:d.status==="pending"?"success":d.status,isFetching:!1,context:yu(e,n)}));return}const c=s._nonReactive.minPendingPromise;c&&await c,ys(o)&&await i.options.notFoundComponent?.preload?.(),Na(e,e.router.getMatch(t),o);try{i.options.onError?.(o)}catch(d){l=d,Na(e,e.router.getMatch(t),d)}e.updateMatch(t,d=>({...d,error:l,context:yu(e,n),status:"error",isFetching:!1}))}}catch(s){const o=e.router.getMatch(t);o&&(o._nonReactive.loaderPromise=void 0),Na(e,o,s)}},UB=async(e,t)=>{async function n(m,v,b,_){const C=Date.now()-v.updatedAt,E=m?_.options.preloadStaleTime??e.router.options.defaultPreloadStaleTime??3e4:_.options.staleTime??e.router.options.defaultStaleTime??0,T=_.options.shouldReload,k=typeof T=="function"?T(QN(e,i,t,_)):T,{status:N,invalid:P}=b;o=N==="success"&&(P||(k??C>E)),m&&_.options.preload===!1||(o&&!e.sync?(l=!0,(async()=>{try{await AA(e,i,t,_);const O=e.router.getMatch(i);O._nonReactive.loaderPromise?.resolve(),O._nonReactive.loadPromise?.resolve(),O._nonReactive.loaderPromise=void 0}catch(O){Fs(O)&&await e.router.navigate(O.options)}})()):(N!=="success"||o&&e.sync)&&await AA(e,i,t,_))}const{id:i,routeId:s}=e.matches[t];let o=!1,l=!1;const c=e.router.looseRoutesById[s];if(!ZN(e,i)){const m=e.router.getMatch(i),v=Eg(e,i);if(m._nonReactive.loaderPromise){if(m.status==="success"&&!e.sync&&!m.preload)return m;await m._nonReactive.loaderPromise;const b=e.router.getMatch(i),_=b._nonReactive.error||b.error;_&&Na(e,b,_),b.status==="pending"&&await n(v,m,b,c)}else{const b=v&&!e.router.state.matches.some(C=>C.id===i),_=e.router.getMatch(i);_._nonReactive.loaderPromise=Eu(),b!==_.preload&&e.updateMatch(i,C=>({...C,preload:b})),await n(v,m,_,c)}}const d=e.router.getMatch(i);l||(d._nonReactive.loaderPromise?.resolve(),d._nonReactive.loadPromise?.resolve()),clearTimeout(d._nonReactive.pendingTimeout),d._nonReactive.pendingTimeout=void 0,l||(d._nonReactive.loaderPromise=void 0),d._nonReactive.dehydrated=void 0;const h=l?d.isFetching:!1;return h!==d.isFetching||d.invalid!==!1?(e.updateMatch(i,m=>({...m,isFetching:h,invalid:!1})),e.router.getMatch(i)):d};async function TA(e){const t=Object.assign(e,{matchPromises:[]});t.router.state.matches.some(n=>n._forcePending)&&bp(t);try{for(let c=0;c<t.matches.length;c++){const d=zB(t,c);vu(d)&&await d}const n=t.firstBadMatchIndex??t.matches.length;for(let c=0;c<n;c++)t.matchPromises.push(UB(t,c));const s=(await Promise.allSettled(t.matchPromises)).filter(c=>c.status==="rejected").map(c=>c.reason);let o;for(const c of s){if(Fs(c))throw c;!o&&ys(c)&&(o=c)}for(const c of t.matches){const{id:d,routeId:h}=c,m=t.router.looseRoutesById[h];try{const v=BB(t,d,m);if(v){const b=await v;t.updateMatch(d,_=>({..._,...b}))}}catch(v){console.error(`Error executing head for route ${h}:`,v)}}if(o)throw o;const l=bp(t);vu(l)&&await l}catch(n){if(ys(n)&&!t.preload){const i=bp(t);throw vu(i)&&await i,n}if(Fs(n))throw n}return t.matches}async function JN(e){if(!e._lazyLoaded&&e._lazyPromise===void 0&&(e.lazyFn?e._lazyPromise=e.lazyFn().then(t=>{const{id:n,...i}=t.options;Object.assign(e.options,i),e._lazyLoaded=!0,e._lazyPromise=void 0}):e._lazyLoaded=!0),!e._componentsLoaded&&e._componentsPromise===void 0){const t=()=>{const n=[];for(const i of tk){const s=e.options[i]?.preload;s&&n.push(s())}if(n.length)return Promise.all(n).then(()=>{e._componentsLoaded=!0,e._componentsPromise=void 0});e._componentsLoaded=!0,e._componentsPromise=void 0};e._componentsPromise=e._lazyPromise?e._lazyPromise.then(t):t()}return e._componentsPromise}function ek(e){for(const t of tk)if(e.options[t]?.preload)return!0;return!1}const tk=["component","errorComponent","pendingComponent","notFoundComponent"];function FB(e){return{input:({url:t})=>{for(const n of e)t=C0(n,t);return t},output:({url:t})=>{for(let n=e.length-1;n>=0;n--)t=nk(e[n],t);return t}}}function VB(e){const t=WN(e.basepath),n=`/${t}`,i=`${n}/`,s=e.caseSensitive?n:n.toLowerCase(),o=e.caseSensitive?i:i.toLowerCase();return{input:({url:l})=>{const c=e.caseSensitive?l.pathname:l.pathname.toLowerCase();return c===s?l.pathname="/":c.startsWith(o)&&(l.pathname=l.pathname.slice(n.length)),l},output:({url:l})=>(l.pathname=yp(["/",t,l.pathname]),l)}}function C0(e,t){const n=e?.input?.({url:t});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return t}function nk(e,t){const n=e?.output?.({url:t});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return t}function $l(e){const t=e.resolvedLocation,n=e.location,i=t?.pathname!==n.pathname,s=t?.href!==n.href,o=t?.hash!==n.hash;return{fromLocation:t,toLocation:n,pathChanged:i,hrefChanged:s,hashChanged:o}}function $B(e){const t=e.filter(n=>n.status!=="redirected");return t.length===e.length?e:t}class HB{constructor(t){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=n=>n(),this.update=n=>{n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const i=this.options,s=this.basepath??i?.basepath??"/",o=this.basepath===void 0,l=i?.rewrite;if(this.options={...i,...n},this.isServer=this.options.isServer??typeof document>"u",this.protocolAllowlist=new Set(this.options.protocolAllowlist),this.options.pathParamsAllowedCharacters&&(this.pathParamsDecoder=_B(this.options.pathParamsAllowedCharacters)),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.history=eB()),this.origin=this.options.origin,this.origin||(window?.origin&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree){this.routeTree=this.options.routeTree;let b;this.resolvePathCache=Ip(1e3),b=this.buildRouteTree(),this.setRoutes(b)}!this.__store&&this.latestLocation&&(this.__store=new Xz(GB(this.latestLocation)),RB(this));let c=!1;const d=this.options.basepath??"/",h=this.options.rewrite;if(o||s!==d||l!==h){this.basepath=d;const b=[],_=WN(d);_&&_!=="/"&&b.push(VB({basepath:d})),h&&b.push(h),this.rewrite=b.length===0?void 0:b.length===1?b[0]:FB(b),this.history&&this.updateLatestLocation(),c=!0}c&&this.__store&&this.__store.setState(b=>({...b,location:this.latestLocation})),typeof window<"u"&&"CSS"in window&&typeof window.CSS?.supports=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const n=pB(this.routeTree,this.options.caseSensitive,(i,s)=>{i.init({originalIndex:s})});return this.options.routeMasks&&uB(this.options.routeMasks,n.processedTree),n},this.subscribe=(n,i)=>{const s={eventType:n,fn:i};return this.subscribers.add(s),()=>{this.subscribers.delete(s)}},this.emit=n=>{this.subscribers.forEach(i=>{i.eventType===n.type&&i.fn(n)})},this.parseLocation=(n,i)=>{const s=({pathname:d,search:h,hash:m,href:v,state:b})=>{if(!this.rewrite&&!/[ \x00-\x1f\x7f\u0080-\uffff]/.test(d)){const N=this.options.parseSearch(h),P=this.options.stringifySearch(N);return{href:d+P+m,publicHref:v,pathname:$d(d).path,external:!1,searchStr:P,search:ps(i?.search,N),hash:$d(m.slice(1)).path,state:ps(i?.state,b)}}const _=new URL(v,this.origin),C=C0(this.rewrite,_),E=this.options.parseSearch(C.search),T=this.options.stringifySearch(E);return C.search=T,{href:C.href.replace(C.origin,""),publicHref:v,pathname:$d(C.pathname).path,external:!!this.rewrite&&C.origin!==this.origin,searchStr:T,search:ps(i?.search,E),hash:$d(C.hash.slice(1)).path,state:ps(i?.state,b)}},o=s(n),{__tempLocation:l,__tempKey:c}=o.state;if(l&&(!c||c===this.tempLocationKey)){const d=s(l);return d.state.key=o.state.key,d.state.__TSR_key=o.state.__TSR_key,delete d.state.__tempLocation,{...d,maskedLocation:o}}return o},this.resolvePathWithBase=(n,i)=>xB({base:n,to:i_(i),trailingSlash:this.options.trailingSlash,cache:this.resolvePathCache}),this.matchRoutes=(n,i,s)=>typeof n=="string"?this.matchRoutesInternal({pathname:n,search:i},s):this.matchRoutesInternal(n,i),this.getMatchedRoutes=n=>KB({pathname:n,routesById:this.routesById,processedTree:this.processedTree}),this.cancelMatch=n=>{const i=this.getMatch(n);i&&(i.abortController.abort(),clearTimeout(i._nonReactive.pendingTimeout),i._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{const n=this.state.matches.filter(o=>o.status==="pending"),i=this.state.matches.filter(o=>o.isFetching==="loader");new Set([...this.state.pendingMatches??[],...n,...i]).forEach(o=>{this.cancelMatch(o.id)})},this.buildLocation=n=>{const i=(o={})=>{const l=o._fromLocation||this.pendingBuiltLocation||this.latestLocation,c=this.matchRoutesLightweight(l);o.from;const d=o.unsafeRelative==="path"?l.pathname:o.from??c.fullPath,h=this.resolvePathWithBase(d,"."),m=c.search,v={...c.params},b=o.to?this.resolvePathWithBase(h,`${o.to}`):this.resolvePathWithBase(h,"."),_=o.params===!1||o.params===null?{}:(o.params??!0)===!0?v:Object.assign(v,Ra(o.params,v)),C=this.getMatchedRoutes(b);let E=C.matchedRoutes;if((!C.foundRoute||C.foundRoute.path!=="/"&&C.routeParams["**"])&&this.options.notFoundRoute&&(E=[...E,this.options.notFoundRoute]),Object.keys(_).length>0)for(const K of E){const Y=K.options.params?.stringify??K.options.stringifyParams;if(Y)try{Object.assign(_,Y(_))}catch{}}const k=n.leaveParams?b:$d(CA({path:b,params:_,decoder:this.pathParamsDecoder,server:this.isServer}).interpolatedPath).path;let N=m;if(n._includeValidateSearch&&this.options.search?.strict){const K={};E.forEach(Y=>{if(Y.options.validateSearch)try{Object.assign(K,xp(Y.options.validateSearch,{...K,...N}))}catch{}}),N=K}N=WB({search:N,dest:o,destRoutes:E,_includeValidateSearch:n._includeValidateSearch}),N=ps(m,N);const P=this.options.stringifySearch(N),O=o.hash===!0?l.hash:o.hash?Ra(o.hash,l.hash):void 0,j=O?`#${O}`:"";let V=o.state===!0?l.state:o.state?Ra(o.state,l.state):{};V=ps(l.state,V);const z=`${k}${P}${j}`;let I,$,Z=!1;if(this.rewrite){const K=new URL(z,this.origin),Y=nk(this.rewrite,K);I=K.href.replace(K.origin,""),Y.origin!==this.origin?($=Y.href,Z=!0):$=Y.pathname+Y.search+Y.hash}else I=aB(z),$=I;return{publicHref:$,href:I,pathname:k,search:N,searchStr:P,state:V,hash:O??"",external:Z,unmaskOnReload:o.unmaskOnReload}},s=(o={},l)=>{const c=i(o);let d=l?i(l):void 0;if(!d){const h={};if(this.options.routeMasks){const m=dB(c.pathname,this.processedTree);if(m){Object.assign(h,m.rawParams);const{from:v,params:b,..._}=m.route,C=b===!1||b===null?{}:(b??!0)===!0?h:Object.assign(h,Ra(b,h));l={from:n.from,..._,params:C},d=i(l)}}}return d&&(c.maskedLocation=d),c};return n.mask?s(n,{from:n.from,...n.mask}):s(n)},this.commitLocation=async({viewTransition:n,ignoreBlocker:i,...s})=>{const o=()=>{const d=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];d.forEach(m=>{s.state[m]=this.latestLocation.state[m]});const h=Vl(s.state,this.latestLocation.state);return d.forEach(m=>{delete s.state[m]}),h},l=Ma(this.latestLocation.href)===Ma(s.href),c=this.commitLocationPromise;if(this.commitLocationPromise=Eu(()=>{c?.resolve()}),l&&o())this.load();else{let{maskedLocation:d,hashScrollIntoView:h,...m}=s;d&&(m={...d,state:{...d.state,__tempKey:void 0,__tempLocation:{...m,search:m.searchStr,state:{...m.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(m.unmaskOnReload??this.options.unmaskOnReload??!1)&&(m.state.__tempKey=this.tempLocationKey)),m.state.__hashScrollIntoViewOptions=h??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[s.replace?"replace":"push"](m.publicHref,m.state,{ignoreBlocker:i})}return this.resetNextScroll=s.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:i,hashScrollIntoView:s,viewTransition:o,ignoreBlocker:l,href:c,...d}={})=>{if(c){const v=this.history.location.state.__TSR_index,b=Dp(c,{__TSR_index:n?v:v+1}),_=new URL(b.pathname,this.origin),C=C0(this.rewrite,_);d.to=C.pathname,d.search=this.options.parseSearch(b.search),d.hash=b.hash.slice(1)}const h=this.buildLocation({...d,_includeValidateSearch:!0});this.pendingBuiltLocation=h;const m=this.commitLocation({...h,viewTransition:o,replace:n,resetScroll:i,hashScrollIntoView:s,ignoreBlocker:l});return Promise.resolve().then(()=>{this.pendingBuiltLocation===h&&(this.pendingBuiltLocation=void 0)}),m},this.navigate=async({to:n,reloadDocument:i,href:s,publicHref:o,...l})=>{let c=!1;if(s)try{new URL(`${s}`),c=!0}catch{}if(c&&!i&&(i=!0),i){if(n!==void 0||!s){const h=this.buildLocation({to:n,...l});s=s??h.publicHref,o=o??h.publicHref}const d=!c&&o?o:s;if(jp(d,this.protocolAllowlist))return Promise.resolve();if(!l.ignoreBlocker){const m=this.history.getBlockers?.()??[];for(const v of m)if(v?.blockerFn&&await v.blockerFn({currentLocation:this.latestLocation,nextLocation:this.latestLocation,action:"PUSH"}))return Promise.resolve()}return l.replace?window.location.replace(d):window.location.href=d,Promise.resolve()}return this.buildAndCommitLocation({...l,href:s,to:n,_isNavigate:!0})},this.beforeLoad=()=>{this.cancelMatches(),this.updateLatestLocation();const n=this.matchRoutes(this.latestLocation);this.__store.setState(i=>({...i,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:n,cachedMatches:i.cachedMatches.filter(s=>!n.some(o=>o.id===s.id))}))},this.load=async n=>{let i,s,o;for(o=new Promise(c=>{this.startTransition(async()=>{try{this.beforeLoad();const d=this.latestLocation,h=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...$l({resolvedLocation:h,location:d})}),this.emit({type:"onBeforeLoad",...$l({resolvedLocation:h,location:d})}),await TA({router:this,sync:n?.sync,matches:this.state.pendingMatches,location:d,updateMatch:this.updateMatch,onReady:async()=>{this.startTransition(()=>{this.startViewTransition(async()=>{let m=[],v=[],b=[];af(()=>{this.__store.setState(_=>{const C=_.matches,E=_.pendingMatches||_.matches;return m=C.filter(T=>!E.some(k=>k.id===T.id)),v=E.filter(T=>!C.some(k=>k.id===T.id)),b=E.filter(T=>C.some(k=>k.id===T.id)),{..._,isLoading:!1,loadedAt:Date.now(),matches:E,pendingMatches:void 0,cachedMatches:[..._.cachedMatches,...m.filter(T=>T.status!=="error"&&T.status!=="notFound"&&T.status!=="redirected")]}}),this.clearExpiredCache()}),[[m,"onLeave"],[v,"onEnter"],[b,"onStay"]].forEach(([_,C])=>{_.forEach(E=>{this.looseRoutesById[E.routeId].options[C]?.(E)})})})})}})}catch(d){Fs(d)?(i=d,this.navigate({...i.options,replace:!0,ignoreBlocker:!0})):ys(d)&&(s=d),this.__store.setState(h=>({...h,statusCode:i?i.status:s?404:h.matches.some(m=>m.status==="error")?500:200,redirect:i}))}this.latestLoadPromise===o&&(this.commitLocationPromise?.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),c()})}),this.latestLoadPromise=o,await o;this.latestLoadPromise&&o!==this.latestLoadPromise;)await this.latestLoadPromise;let l;this.hasNotFoundMatch()?l=404:this.__store.state.matches.some(c=>c.status==="error")&&(l=500),l!==void 0&&this.__store.setState(c=>({...c,statusCode:l}))},this.startViewTransition=n=>{const i=this.shouldViewTransition??this.options.defaultViewTransition;if(this.shouldViewTransition=void 0,i&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let s;if(typeof i=="object"&&this.isViewTransitionTypesSupported){const o=this.latestLocation,l=this.state.resolvedLocation,c=typeof i.types=="function"?i.types($l({resolvedLocation:l,location:o})):i.types;if(c===!1){n();return}s={update:n,types:c}}else s=n;document.startViewTransition(s)}else n()},this.updateMatch=(n,i)=>{this.startTransition(()=>{const s=this.state.pendingMatches?.some(o=>o.id===n)?"pendingMatches":this.state.matches.some(o=>o.id===n)?"matches":this.state.cachedMatches.some(o=>o.id===n)?"cachedMatches":"";s&&(s==="cachedMatches"?this.__store.setState(o=>({...o,cachedMatches:$B(o.cachedMatches.map(l=>l.id===n?i(l):l))})):this.__store.setState(o=>({...o,[s]:o[s]?.map(l=>l.id===n?i(l):l)})))})},this.getMatch=n=>{const i=s=>s.id===n;return this.state.cachedMatches.find(i)??this.state.pendingMatches?.find(i)??this.state.matches.find(i)},this.invalidate=n=>{const i=s=>n?.filter?.(s)??!0?{...s,invalid:!0,...n?.forcePending||s.status==="error"||s.status==="notFound"?{status:"pending",error:void 0}:void 0}:s;return this.__store.setState(s=>({...s,matches:s.matches.map(i),cachedMatches:s.cachedMatches.map(i),pendingMatches:s.pendingMatches?.map(i)})),this.shouldViewTransition=!1,this.load({sync:n?.sync})},this.getParsedLocationHref=n=>n.publicHref||"/",this.resolveRedirect=n=>{const i=n.headers.get("Location");if(!n.options.href||n.options._builtLocation){const s=n.options._builtLocation??this.buildLocation(n.options),o=this.getParsedLocationHref(s);n.options.href=o,n.headers.set("Location",o)}else if(i)try{const s=new URL(i);if(this.origin&&s.origin===this.origin){const o=s.pathname+s.search+s.hash;n.options.href=o,n.headers.set("Location",o)}}catch{}if(n.options.href&&!n.options._builtLocation&&jp(n.options.href,this.protocolAllowlist))throw new Error(`Redirect blocked: unsafe protocol in href "${n.options.href}". Allowed protocols: ${Array.from(this.protocolAllowlist).join(", ")}.`);return n.headers.get("Location")||n.headers.set("Location",n.options.href),n},this.clearCache=n=>{const i=n?.filter;i!==void 0?this.__store.setState(s=>({...s,cachedMatches:s.cachedMatches.filter(o=>!i(o))})):this.__store.setState(s=>({...s,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=i=>{const s=this.looseRoutesById[i.routeId];if(!s.options.loader)return!0;const o=(i.preload?s.options.preloadGcTime??this.options.defaultPreloadGcTime:s.options.gcTime??this.options.defaultGcTime)??300*1e3;return i.status==="error"?!0:Date.now()-i.updatedAt>=o};this.clearCache({filter:n})},this.loadRouteChunk=JN,this.preloadRoute=async n=>{const i=n._builtLocation??this.buildLocation(n);let s=this.matchRoutes(i,{throwOnError:!0,preload:!0,dest:n});const o=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(c=>c.id)),l=new Set([...o,...this.state.cachedMatches.map(c=>c.id)]);af(()=>{s.forEach(c=>{l.has(c.id)||this.__store.setState(d=>({...d,cachedMatches:[...d.cachedMatches,c]}))})});try{return s=await TA({router:this,matches:s,location:i,preload:!0,updateMatch:(c,d)=>{o.has(c)?s=s.map(h=>h.id===c?d(h):h):this.updateMatch(c,d)}}),s}catch(c){if(Fs(c))return c.options.reloadDocument?void 0:await this.preloadRoute({...c.options,_fromLocation:i});ys(c)||console.error(c);return}},this.matchRoute=(n,i)=>{const s={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},o=this.buildLocation(s);if(i?.pending&&this.state.status!=="pending")return!1;const c=(i?.pending===void 0?!this.state.isLoading:i.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,d=fB(o.pathname,i?.caseSensitive??!1,i?.fuzzy??!1,c.pathname,this.processedTree);return!d||n.params&&!Vl(d.rawParams,n.params,{partial:!0})?!1:i?.includeSearch??!0?Vl(c.search,o.search,{partial:!0})?d.rawParams:!1:d.rawParams},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...t,caseSensitive:t.caseSensitive??!1,notFoundMode:t.notFoundMode??"fuzzy",stringifySearch:t.stringifySearch??MB,parseSearch:t.parseSearch??OB,protocolAllowlist:t.protocolAllowlist??oB}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}setRoutes({routesById:t,routesByPath:n,processedTree:i}){this.routesById=t,this.routesByPath=n,this.processedTree=i;const s=this.options.notFoundRoute;s&&(s.init({originalIndex:99999999999}),this.routesById[s.id]=s)}get looseRoutesById(){return this.routesById}getParentContext(t){return t?.id?t.context??this.options.context??void 0:this.options.context??void 0}matchRoutesInternal(t,n){const i=this.getMatchedRoutes(t.pathname),{foundRoute:s,routeParams:o,parsedParams:l}=i;let{matchedRoutes:c}=i,d=!1;(s?s.path!=="/"&&o["**"]:Ma(t.pathname))&&(this.options.notFoundRoute?c=[...c,this.options.notFoundRoute]:d=!0);const h=d?ZB(this.options.notFoundMode,c):void 0,m=new Array(c.length),v=new Map(this.state.matches.map(b=>[b.routeId,b]));for(let b=0;b<c.length;b++){const _=c[b],C=m[b-1];let E,T,k;{const ie=C?.search??t.search,ge=C?._strictSearch??void 0;try{const q=xp(_.options.validateSearch,{...ie})??void 0;E={...ie,...q},T={...ge,...q},k=void 0}catch(q){let W=q;if(q instanceof Up||(W=new Up(q.message,{cause:q})),n?.throwOnError)throw W;E=ie,T={},k=W}}const N=_.options.loaderDeps?.({search:E})??"",P=N?JSON.stringify(N):"",{interpolatedPath:O,usedParams:j}=CA({path:_.fullPath,params:o,decoder:this.pathParamsDecoder,server:this.isServer}),V=_.id+O+P,z=this.getMatch(V),I=v.get(_.id),$=z?._strictParams??j;let Z;if(!z)try{RA(_,j,l,$)}catch(ie){if(ys(ie)||Fs(ie)?Z=ie:Z=new qB(ie.message,{cause:ie}),n?.throwOnError)throw Z}Object.assign(o,$);const K=I?"stay":"enter";let Y;if(z)Y={...z,cause:K,params:I?.params??o,_strictParams:$,search:ps(I?I.search:z.search,E),_strictSearch:T};else{const ie=_.options.loader||_.options.beforeLoad||_.lazyFn||ek(_)?"pending":"success";Y={id:V,ssr:_.options.ssr,index:b,routeId:_.id,params:I?.params??o,_strictParams:$,pathname:O,updatedAt:Date.now(),search:I?ps(I.search,E):E,_strictSearch:T,searchError:void 0,status:ie,isFetching:!1,error:void 0,paramsError:Z,__routeContext:void 0,_nonReactive:{loadPromise:Eu()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:K,loaderDeps:I?ps(I.loaderDeps,N):N,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:_.options.staticData||{},fullPath:_.fullPath}}n?.preload||(Y.globalNotFound=h===_.id),Y.searchError=k;const Q=this.getParentContext(C);Y.context={...Q,...Y.__routeContext,...Y.__beforeLoadContext},m[b]=Y}for(let b=0;b<m.length;b++){const _=m[b],C=this.looseRoutesById[_.routeId],E=this.getMatch(_.id),T=v.get(_.routeId);if(_.params=T?ps(T.params,o):o,!E){const k=m[b-1],N=this.getParentContext(k);if(C.options.context){const P={deps:_.loaderDeps,params:_.params,context:N??{},location:t,navigate:O=>this.navigate({...O,_fromLocation:t}),buildLocation:this.buildLocation,cause:_.cause,abortController:_.abortController,preload:!!_.preload,matches:m,routeId:C.id};_.__routeContext=C.options.context(P)??void 0}_.context={...N,..._.__routeContext,..._.__beforeLoadContext}}}return m}matchRoutesLightweight(t){const{matchedRoutes:n,routeParams:i,parsedParams:s}=this.getMatchedRoutes(t.pathname),o=_f(n),l={...t.search};for(const m of n)try{Object.assign(l,xp(m.options.validateSearch,l))}catch{}const c=_f(this.state.matches),d=c&&c.routeId===o.id&&t.pathname===this.state.location.pathname;let h;if(d)h=c.params;else{const m={...i};for(const v of n)try{RA(v,i,s??{},m)}catch{}h=m}return{matchedRoutes:n,fullPath:o.fullPath,search:l,params:h}}}class Up extends Error{}class qB extends Error{}function GB(e){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:e,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function xp(e,t){if(e==null)return{};if("~standard"in e){const n=e["~standard"].validate(t);if(n instanceof Promise)throw new Up("Async validation not supported");if(n.issues)throw new Up(JSON.stringify(n.issues,void 0,2),{cause:n});return n.value}return"parse"in e?e.parse(t):typeof e=="function"?e(t):{}}function KB({pathname:e,routesById:t,processedTree:n}){const i={},s=Ma(e);let o,l;const c=hB(s,n,!0);return c&&(o=c.route,Object.assign(i,c.rawParams),l=Object.assign({},c.parsedParams)),{matchedRoutes:c?.branch||[t[Is]],routeParams:i,foundRoute:o,parsedParams:l}}function WB({search:e,dest:t,destRoutes:n,_includeValidateSearch:i}){return YB(n)(e,t,i??!1)}function YB(e){const t={dest:null,_includeValidateSearch:!1,middlewares:[]};for(const s of e){if("search"in s.options)s.options.search?.middlewares&&t.middlewares.push(...s.options.search.middlewares);else if(s.options.preSearchFilters||s.options.postSearchFilters){const o=({search:l,next:c})=>{let d=l;"preSearchFilters"in s.options&&s.options.preSearchFilters&&(d=s.options.preSearchFilters.reduce((m,v)=>v(m),l));const h=c(d);return"postSearchFilters"in s.options&&s.options.postSearchFilters?s.options.postSearchFilters.reduce((m,v)=>v(m),h):h};t.middlewares.push(o)}if(s.options.validateSearch){const o=({search:l,next:c})=>{const d=c(l);if(!t._includeValidateSearch)return d;try{return{...d,...xp(s.options.validateSearch,d)??void 0}}catch{return d}};t.middlewares.push(o)}}const n=({search:s})=>{const o=t.dest;return o.search?o.search===!0?s:Ra(o.search,s):{}};t.middlewares.push(n);const i=(s,o,l)=>{if(s>=l.length)return o;const c=l[s];return c({search:o,next:h=>i(s+1,h,l)})};return function(o,l,c){return t.dest=l,t._includeValidateSearch=c,i(0,o,t.middlewares)}}function ZB(e,t){if(e!=="root")for(let n=t.length-1;n>=0;n--){const i=t[n];if(i.children)return i.id}return Is}function RA(e,t,n,i){const s=e.options.params?.parse??e.options.parseParams;if(s)if(e.options.skipRouteOnParseError)for(const o in t)o in n&&(i[o]=n[o]);else{const o=s(i);Object.assign(i,o)}}const XB="Error preloading route! ";class ik{constructor(t){if(this.init=n=>{this.originalIndex=n.originalIndex;const i=this.options,s=!i?.path&&!i?.id;this.parentRoute=this.options.getParentRoute?.(),s?this._path=Is:this.parentRoute||Mo(!1);let o=s?Is:i?.path;o&&o!=="/"&&(o=KN(o));const l=i?.id||o;let c=s?Is:yp([this.parentRoute.id===Is?"":this.parentRoute.id,l]);o===Is&&(o="/"),c!==Is&&(c=yp(["/",c]));const d=c===Is?"/":yp([this.parentRoute.fullPath,o]);this._path=o,this._id=c,this._fullPath=d,this._to=Ma(d)},this.addChildren=n=>this._addFileChildren(n),this._addFileChildren=n=>(Array.isArray(n)&&(this.children=n),typeof n=="object"&&n!==null&&(this.children=Object.values(n)),this),this._addFileTypes=()=>this,this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.redirect=n=>Cg({from:this.fullPath,...n}),this.options=t||{},this.isRoot=!t?.getParentRoute,t?.id&&t?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class QB extends ik{constructor(t){super(t)}}const Fm=typeof window<"u"?x.useLayoutEffect:x.useEffect;function mb(e){const t=x.useRef({value:e,prev:null}),n=t.current.value;return e!==n&&(t.current={value:e,prev:n}),t.current.prev}function JB(e,t,n={},i={}){x.useEffect(()=>{if(!e.current||i.disabled||typeof IntersectionObserver!="function")return;const s=new IntersectionObserver(([o])=>{t(o)},n);return s.observe(e.current),()=>{s.disconnect()}},[t,n,i.disabled,e])}function e3(e){const t=x.useRef(null);return x.useImperativeHandle(e,()=>t.current,[]),t}function s_(e){const t=e.errorComponent??r_;return y.jsx(t3,{getResetKey:e.getResetKey,onCatch:e.onCatch,children:({error:n,reset:i})=>n?x.createElement(t,{error:n,reset:i}):e.children})}class t3 extends x.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(t){return{resetKey:t.getResetKey()}}static getDerivedStateFromError(t){return{error:t}}reset(){this.setState({error:null})}componentDidUpdate(t,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(t,n){this.props.onCatch&&this.props.onCatch(t,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function r_({error:e}){const[t,n]=x.useState(!1);return y.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[y.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),y.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(i=>!i),children:t?"Hide Error":"Show Error"})]}),y.jsx("div",{style:{height:".25rem"}}),t?y.jsx("div",{children:y.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:e.message?y.jsx("code",{children:e.message}):null})}):null]})}function n3({children:e,fallback:t=null}){return sk()?y.jsx(Ot.Fragment,{children:e}):y.jsx(Ot.Fragment,{children:t})}function sk(){return Ot.useSyncExternalStore(i3,()=>!0,()=>!1)}function i3(){return()=>{}}var pb={exports:{}},gb={},vb={exports:{}},yb={};var NA;function s3(){if(NA)return yb;NA=1;var e=Gf();function t(v,b){return v===b&&(v!==0||1/v===1/b)||v!==v&&b!==b}var n=typeof Object.is=="function"?Object.is:t,i=e.useState,s=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function c(v,b){var _=b(),C=i({inst:{value:_,getSnapshot:b}}),E=C[0].inst,T=C[1];return o(function(){E.value=_,E.getSnapshot=b,d(E)&&T({inst:E})},[v,_,b]),s(function(){return d(E)&&T({inst:E}),v(function(){d(E)&&T({inst:E})})},[v]),l(_),_}function d(v){var b=v.getSnapshot;v=v.value;try{var _=b();return!n(v,_)}catch{return!0}}function h(v,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return yb.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,yb}var kA;function rk(){return kA||(kA=1,vb.exports=s3()),vb.exports}var PA;function r3(){if(PA)return gb;PA=1;var e=Gf(),t=rk();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var i=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,o=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return gb.useSyncExternalStoreWithSelector=function(h,m,v,b,_){var C=o(null);if(C.current===null){var E={hasValue:!1,value:null};C.current=E}else E=C.current;C=c(function(){function k(V){if(!N){if(N=!0,P=V,V=b(V),_!==void 0&&E.hasValue){var z=E.value;if(_(z,V))return O=z}return O=V}if(z=O,i(P,V))return z;var I=b(V);return _!==void 0&&_(z,I)?(P=V,z):(P=V,O=I)}var N=!1,P,O,j=v===void 0?null:v;return[function(){return k(m())},j===null?void 0:function(){return k(j())}]},[m,v,b,_]);var T=s(h,C[0],C[1]);return l(function(){E.hasValue=!0,E.value=T},[T]),d(T),T},gb}var OA;function o3(){return OA||(OA=1,pb.exports=r3()),pb.exports}var a3=o3();function l3(e,t){return e===t}function c3(e,t,n=l3){const i=x.useCallback(l=>{if(!e)return()=>{};const{unsubscribe:c}=e.subscribe(l);return c},[e]),s=x.useCallback(()=>e?.get(),[e]);return a3.useSyncExternalStoreWithSelector(i,s,s,t,n)}const bb=x.createContext(null);function ok(){return typeof document>"u"?bb:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=bb,bb)}function ws(e){const t=x.useContext(ok());return e?.warn,t}function bs(e){const t=ws({warn:e?.router===void 0}),n=e?.router||t,i=x.useRef(void 0);return c3(n.__store,s=>{if(e?.select){if(e.structuralSharing??n.options.defaultStructuralSharing){const o=ps(i.current,e.select(s));return i.current=o,o}return e.select(s)}return s})}const Ag=x.createContext(void 0),u3=x.createContext(void 0);function vr(e){const t=x.useContext(e.from?u3:Ag);return bs({select:i=>{const s=i.matches.find(o=>e.from?e.from===o.routeId:o.id===t);if(Mo(!((e.shouldThrow??!0)&&!s),`Could not find ${e.from?`an active match from "${e.from}"`:"a nearest match!"}`),s!==void 0)return e.select?e.select(s):s},structuralSharing:e.structuralSharing})}function o_(e){return vr({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.loaderData):t.loaderData})}function a_(e){const{select:t,...n}=e;return vr({...n,select:i=>t?t(i.loaderDeps):i.loaderDeps})}function l_(e){return vr({from:e.from,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,strict:e.strict,select:t=>{const n=e.strict===!1?t.params:t._strictParams;return e.select?e.select(n):n}})}function c_(e){return vr({from:e.from,strict:e.strict,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.search):t.search})}function Ei(e){const t=ws();return x.useCallback(n=>t.navigate({...n,from:n.from??e?.from}),[e?.from,t])}var Ji=BN();const d3=Xx(Ji);function f3(e,t){const n=ws(),i=e3(t),{activeProps:s,inactiveProps:o,activeOptions:l,to:c,preload:d,preloadDelay:h,hashScrollIntoView:m,replace:v,startTransition:b,resetScroll:_,viewTransition:C,children:E,target:T,disabled:k,style:N,className:P,onClick:O,onFocus:j,onMouseEnter:V,onMouseLeave:z,onTouchStart:I,ignoreBlocker:$,params:Z,search:K,hash:Y,state:Q,mask:ie,reloadDocument:ge,unsafeRelative:q,from:W,_fromLocation:ee,...de}=e,ae=sk(),G=bs({select:bt=>{const Tt=bt.matches[bt.matches.length-1];return{search:Tt?.search,hash:bt.location.hash,path:Tt?.pathname}},structuralSharing:!0}),oe=e.from,be=x.useMemo(()=>({...e,from:oe}),[n,G,oe,e._fromLocation,e.hash,e.to,e.search,e.params,e.state,e.mask,e.unsafeRelative]),xe=x.useMemo(()=>n.buildLocation({...be}),[n,be]),Re=xe.maskedLocation?xe.maskedLocation.publicHref:xe.publicHref,Se=xe.maskedLocation?xe.maskedLocation.external:xe.external,we=x.useMemo(()=>y3(Re,Se,n.history,k),[k,Se,Re,n.history]),je=x.useMemo(()=>{if(we?.external)return jp(we.href,n.protocolAllowlist)?void 0:we.href;if(!b3(c)&&!(typeof c!="string"||c.indexOf(":")===-1))try{return new URL(c),jp(c,n.protocolAllowlist)?void 0:c}catch{}},[c,we,n.protocolAllowlist]),De=bs({select:bt=>{if(je)return!1;if(l?.exact){if(!bB(bt.location.pathname,xe.pathname,n.basepath))return!1}else{const Tt=zp(bt.location.pathname,n.basepath),Bt=zp(xe.pathname,n.basepath);if(!(Tt.startsWith(Bt)&&(Tt.length===Bt.length||Tt[Bt.length]==="/")))return!1}return(l?.includeSearch??!0)&&!Vl(bt.location.search,xe.search,{partial:!l?.exact,ignoreUndefined:!l?.explicitUndefined})?!1:l?.includeHash?ae&&bt.location.hash===xe.hash:!0}}),Le=De?Ra(s,{})??h3:xb,Xe=De?xb:Ra(o,{})??xb,Qe=[P,Le.className,Xe.className].filter(Boolean).join(" "),Ct=(N||Le.style||Xe.style)&&{...N,...Le.style,...Xe.style},[yt,zt]=x.useState(!1),dn=x.useRef(!1),fn=e.reloadDocument||je?!1:d??n.options.defaultPreload,jn=h??n.options.defaultPreloadDelay??0,_n=x.useCallback(()=>{n.preloadRoute({...be,_builtLocation:xe}).catch(bt=>{console.warn(bt),console.warn(XB)})},[n,be,xe]),wn=x.useCallback(bt=>{bt?.isIntersecting&&_n()},[_n]);JB(i,wn,v3,{disabled:!!k||fn!=="viewport"}),x.useEffect(()=>{dn.current||!k&&fn==="render"&&(_n(),dn.current=!0)},[k,_n,fn]);const qn=bt=>{const Tt=bt.currentTarget.getAttribute("target"),Bt=T!==void 0?T:Tt;if(!k&&!x3(bt)&&!bt.defaultPrevented&&(!Bt||Bt==="_self")&&bt.button===0){bt.preventDefault(),Ji.flushSync(()=>{zt(!0)});const Ri=n.subscribe("onResolved",()=>{Ri(),zt(!1)});n.navigate({...be,replace:v,resetScroll:_,hashScrollIntoView:m,startTransition:b,viewTransition:C,ignoreBlocker:$})}};if(je)return{...de,ref:i,href:je,...E&&{children:E},...T&&{target:T},...k&&{disabled:k},...N&&{style:N},...P&&{className:P},...O&&{onClick:O},...j&&{onFocus:j},...V&&{onMouseEnter:V},...z&&{onMouseLeave:z},...I&&{onTouchStart:I}};const Ti=bt=>{k||fn&&_n()},Cs=Ti,sn=bt=>{if(!(k||!fn))if(!jn)_n();else{const Tt=bt.target;if(Gd.has(Tt))return;const Bt=setTimeout(()=>{Gd.delete(Tt),_n()},jn);Gd.set(Tt,Bt)}},Sr=bt=>{if(k||!fn||!jn)return;const Tt=bt.target,Bt=Gd.get(Tt);Bt&&(clearTimeout(Bt),Gd.delete(Tt))};return{...de,...Le,...Xe,href:we?.href,ref:i,onClick:Kd([O,qn]),onFocus:Kd([j,Ti]),onMouseEnter:Kd([V,sn]),onMouseLeave:Kd([z,Sr]),onTouchStart:Kd([I,Cs]),disabled:!!k,target:T,...Ct&&{style:Ct},...Qe&&{className:Qe},...k&&m3,...De&&p3,...ae&&yt&&g3}}const xb={},h3={className:"active"},m3={role:"link","aria-disabled":!0},p3={"data-status":"active","aria-current":"page"},g3={"data-transitioning":"transitioning"},Gd=new WeakMap,v3={rootMargin:"100px"},Kd=e=>t=>{for(const n of e)if(n){if(t.defaultPrevented)return;n(t)}};function y3(e,t,n,i){if(!i)return t?{href:e,external:!0}:{href:n.createHref(e)||"/",external:!1}}function b3(e){if(typeof e!="string")return!1;const t=e.charCodeAt(0);return t===47?e.charCodeAt(1)!==47:t===46}const lf=x.forwardRef((e,t)=>{const{_asChild:n,...i}=e,{type:s,...o}=f3(i,t),l=typeof i.children=="function"?i.children({isActive:o["data-status"]==="active"}):i.children;if(!n){const{disabled:c,...d}=o;return x.createElement("a",d,l)}return x.createElement(n,o,l)});function x3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}let _3=class extends ik{constructor(t){super(t),this.useMatch=n=>vr({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>vr({...n,from:this.id,select:i=>n?.select?n.select(i.context):i.context}),this.useSearch=n=>c_({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>l_({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>a_({...n,from:this.id}),this.useLoaderData=n=>o_({...n,from:this.id}),this.useNavigate=()=>Ei({from:this.fullPath}),this.Link=Ot.forwardRef((n,i)=>y.jsx(lf,{ref:i,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}};function pi(e){return new _3(e)}class w3 extends QB{constructor(t){super(t),this.useMatch=n=>vr({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>vr({...n,from:this.id,select:i=>n?.select?n.select(i.context):i.context}),this.useSearch=n=>c_({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>l_({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>a_({...n,from:this.id}),this.useLoaderData=n=>o_({...n,from:this.id}),this.useNavigate=()=>Ei({from:this.fullPath}),this.Link=Ot.forwardRef((n,i)=>y.jsx(lf,{ref:i,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function S3(e){return new w3(e)}function MA(e){return typeof e=="object"?new DA(e,{silent:!0}).createRoute(e):new DA(e,{silent:!0}).createRoute}class DA{constructor(t,n){this.path=t,this.createRoute=i=>{this.silent;const s=pi(i);return s.isRoot=!1,s},this.silent=n?.silent}}class LA{constructor(t){this.useMatch=n=>vr({select:n?.select,from:this.options.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>vr({from:this.options.id,select:i=>n?.select?n.select(i.context):i.context}),this.useSearch=n=>c_({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useParams=n=>l_({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useLoaderDeps=n=>a_({...n,from:this.options.id}),this.useLoaderData=n=>o_({...n,from:this.options.id}),this.useNavigate=()=>{const n=ws();return Ei({from:n.routesById[this.options.id].fullPath})},this.options=t,this.$$typeof=Symbol.for("react.memo")}}function jA(e){return typeof e=="object"?new LA(e):t=>new LA({id:e,...t})}function C3(){const e=ws(),t=x.useRef({router:e,mounted:!1}),[n,i]=x.useState(!1),{hasPendingMatches:s,isLoading:o}=bs({select:v=>({isLoading:v.isLoading,hasPendingMatches:v.matches.some(b=>b.status==="pending")}),structuralSharing:!0}),l=mb(o),c=o||n||s,d=mb(c),h=o||s,m=mb(h);return e.startTransition=v=>{i(!0),x.startTransition(()=>{v(),i(!1)})},x.useEffect(()=>{const v=e.history.subscribe(e.load),b=e.buildLocation({to:e.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Ma(e.latestLocation.publicHref)!==Ma(b.publicHref)&&e.commitLocation({...b,replace:!0}),()=>{v()}},[e,e.history]),Fm(()=>{if(typeof window<"u"&&e.ssr||t.current.router===e&&t.current.mounted)return;t.current={router:e,mounted:!0},(async()=>{try{await e.load()}catch(b){console.error(b)}})()},[e]),Fm(()=>{l&&!o&&e.emit({type:"onLoad",...$l(e.state)})},[l,e,o]),Fm(()=>{m&&!h&&e.emit({type:"onBeforeRouteMount",...$l(e.state)})},[h,m,e]),Fm(()=>{if(d&&!c){const v=$l(e.state);e.emit({type:"onResolved",...v}),e.__store.setState(b=>({...b,status:"idle",resolvedLocation:b.location})),v.hrefChanged&&NB(e)}},[c,d,e]),null}function E3(e){const t=bs({select:n=>`not-found-${n.location.pathname}-${n.status}`});return y.jsx(s_,{getResetKey:()=>t,onCatch:(n,i)=>{if(ys(n))e.onCatch?.(n,i);else throw n},errorComponent:({error:n})=>{if(ys(n))return e.fallback?.(n);throw n},children:e.children})}function A3(){return y.jsx("p",{children:"Not Found"})}function ru(e){return y.jsx(y.Fragment,{children:e.children})}function ak(e,t,n){return t.options.notFoundComponent?y.jsx(t.options.notFoundComponent,{...n}):e.options.defaultNotFoundComponent?y.jsx(e.options.defaultNotFoundComponent,{...n}):y.jsx(A3,{})}function T3(){return ws().isScrollRestoring,null}const lk=x.memo(function({matchId:t}){const n=ws(),i=bs({select:E=>{const T=E.matches.findIndex(N=>N.id===t),k=E.matches[T];return Mo(k),{routeId:k.routeId,ssr:k.ssr,_displayPending:k._displayPending,resetKey:E.loadedAt,parentRouteId:E.matches[T-1]?.routeId}},structuralSharing:!0}),s=n.routesById[i.routeId],o=s.options.pendingComponent??n.options.defaultPendingComponent,l=o?y.jsx(o,{}):null,c=s.options.errorComponent??n.options.defaultErrorComponent,d=s.options.onCatch??n.options.defaultOnCatch,h=s.isRoot?s.options.notFoundComponent??n.options.notFoundRoute?.options.component:s.options.notFoundComponent,m=i.ssr===!1||i.ssr==="data-only",v=(!s.isRoot||s.options.wrapInSuspense||m)&&(s.options.wrapInSuspense??o??(s.options.errorComponent?.preload||m))?x.Suspense:ru,b=c?s_:ru,_=h?E3:ru,C=s.isRoot?s.options.shellComponent??ru:ru;return y.jsxs(C,{children:[y.jsx(Ag.Provider,{value:t,children:y.jsx(v,{fallback:l,children:y.jsx(b,{getResetKey:()=>i.resetKey,errorComponent:c||r_,onCatch:(E,T)=>{if(ys(E))throw E;d?.(E,T)},children:y.jsx(_,{fallback:E=>{if(!h||E.routeId&&E.routeId!==i.routeId||!E.routeId&&!s.isRoot)throw E;return x.createElement(h,E)},children:m||i._displayPending?y.jsx(n3,{fallback:l,children:y.jsx(IA,{matchId:t})}):y.jsx(IA,{matchId:t})})})})}),i.parentRouteId===Is&&n.options.scrollRestoration?y.jsxs(y.Fragment,{children:[y.jsx(R3,{}),y.jsx(T3,{})]}):null]})});function R3(){const e=ws(),t=x.useRef(void 0);return y.jsx("script",{suppressHydrationWarning:!0,ref:n=>{n&&(t.current===void 0||t.current.href!==e.latestLocation.href)&&(e.emit({type:"onRendered",...$l(e.state)}),t.current=e.latestLocation)}},e.latestLocation.state.__TSR_key)}const IA=x.memo(function({matchId:t}){const n=ws(),{match:i,key:s,routeId:o}=bs({select:d=>{const h=d.matches.find(C=>C.id===t),m=h.routeId,b=(n.routesById[m].options.remountDeps??n.options.defaultRemountDeps)?.({routeId:m,loaderDeps:h.loaderDeps,params:h._strictParams,search:h._strictSearch});return{key:b?JSON.stringify(b):void 0,routeId:m,match:{id:h.id,status:h.status,error:h.error,invalid:h.invalid,_forcePending:h._forcePending,_displayPending:h._displayPending}}},structuralSharing:!0}),l=n.routesById[o],c=x.useMemo(()=>{const d=l.options.component??n.options.defaultComponent;return d?y.jsx(d,{},s):y.jsx(ck,{})},[s,l.options.component,n.options.defaultComponent]);if(i._displayPending)throw n.getMatch(i.id)?._nonReactive.displayPendingPromise;if(i._forcePending)throw n.getMatch(i.id)?._nonReactive.minPendingPromise;if(i.status==="pending"){const d=l.options.pendingMinMs??n.options.defaultPendingMinMs;if(d){const h=n.getMatch(i.id);if(h&&!h._nonReactive.minPendingPromise){const m=Eu();h._nonReactive.minPendingPromise=m,setTimeout(()=>{m.resolve(),h._nonReactive.minPendingPromise=void 0},d)}}throw n.getMatch(i.id)?._nonReactive.loadPromise}if(i.status==="notFound")return Mo(ys(i.error)),ak(n,l,i.error);if(i.status==="redirected")throw Mo(Fs(i.error)),n.getMatch(i.id)?._nonReactive.loadPromise;if(i.status==="error")throw i.error;return c}),ck=x.memo(function(){const t=ws(),n=x.useContext(Ag),i=bs({select:h=>h.matches.find(m=>m.id===n)?.routeId}),s=t.routesById[i],o=bs({select:h=>{const v=h.matches.find(b=>b.id===n);return Mo(v),v.globalNotFound}}),l=bs({select:h=>{const m=h.matches,v=m.findIndex(b=>b.id===n);return m[v+1]?.id}}),c=t.options.defaultPendingComponent?y.jsx(t.options.defaultPendingComponent,{}):null;if(o)return ak(t,s,void 0);if(!l)return null;const d=y.jsx(lk,{matchId:l});return i===Is?y.jsx(x.Suspense,{fallback:c,children:d}):d});function N3(){const e=ws(),n=e.routesById[Is].options.pendingComponent??e.options.defaultPendingComponent,i=n?y.jsx(n,{}):null,s=typeof document<"u"&&e.ssr?ru:x.Suspense,o=y.jsxs(s,{fallback:i,children:[y.jsx(C3,{}),y.jsx(k3,{})]});return e.options.InnerWrap?y.jsx(e.options.InnerWrap,{children:o}):o}function k3(){const e=ws(),t=bs({select:s=>s.matches[0]?.id}),n=bs({select:s=>s.loadedAt}),i=t?y.jsx(lk,{matchId:t}):null;return y.jsx(Ag.Provider,{value:t,children:e.options.disableGlobalCatchBoundary?i:y.jsx(s_,{getResetKey:()=>n,errorComponent:r_,onCatch:s=>{s.message||s.toString()},children:i})})}const P3=e=>new O3(e);class O3 extends HB{constructor(t){super(t)}}typeof globalThis<"u"?(globalThis.createFileRoute=MA,globalThis.createLazyFileRoute=jA):typeof window<"u"&&(window.createFileRoute=MA,window.createLazyFileRoute=jA);function M3({router:e,children:t,...n}){Object.keys(n).length>0&&e.update({...e.options,...n,context:{...e.options.context,...n.context}});const i=ok(),s=y.jsx(i.Provider,{value:e,children:t});return e.options.Wrap?y.jsx(e.options.Wrap,{children:s}):s}function D3({router:e,...t}){return y.jsx(M3,{router:e,...t,children:y.jsx(N3,{})})}function L3(e){return bs({select:t=>t.location})}const uk={sm:"480px",md:"768px"},j3=Number(uk.sm.replace("px","")),I3=Number(uk.md.replace("px","")),zo=()=>{const[e,t]=x.useState(!1),[n,i]=x.useState(!1);return x.useEffect(()=>{const s=()=>{t(window.innerWidth<=j3),i(window.innerWidth<=I3)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),{isMobile:e,isTablet:n}},$r={BASE_URL:"/treevera/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyBzinELXu5WO8e3uiZgBalJSQh5F_XAi28",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp2amlyb2Nuc3Vjc2Fwd25qZnBlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUxOTQwODksImV4cCI6MjA3MDc3MDA4OX0.eQESQzBSt0_gciw0LN5zByYGBGugi-NuCChs-1mMVoA",VITE_SUPABASE_URL:"https://jvjirocnsucsapwnjfpe.supabase.co"};function dk(e){return"init"in e}function E0(e){return!!e.write}function zA(e){return"v"in e||"e"in e}function Fp(e){if("e"in e)throw e.e;if(($r?"production":void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v}function Vp(e){return typeof e?.then=="function"}function fk(e,t,n){if(!n.p.has(e)){n.p.add(e);const i=()=>n.p.delete(e);t.then(i,i)}}function hk(e,t,n){var i;const s=new Set;for(const o of((i=n.get(e))==null?void 0:i.t)||[])s.add(o);for(const o of t.p)s.add(o);return s}const z3=(e,t,...n)=>t.read(...n),B3=(e,t,...n)=>t.write(...n),U3=(e,t)=>{var n;return(n=t.INTERNAL_onInit)==null?void 0:n.call(t,e)},F3=(e,t,n)=>{var i;return(i=t.onMount)==null?void 0:i.call(t,n)},V3=(e,t)=>{var n;const i=$n(e),s=i[0],o=i[6],l=i[9];if(($r?"production":void 0)!=="production"&&!t)throw new Error("Atom is undefined or null");let c=s.get(t);return c||(c={d:new Map,p:new Set,n:0},s.set(t,c),(n=o.i)==null||n.call(o,t),l?.(e,t)),c},$3=e=>{const t=$n(e),n=t[1],i=t[3],s=t[4],o=t[5],l=t[6],c=t[13],d=[],h=m=>{try{m()}catch(v){d.push(v)}};do{l.f&&h(l.f);const m=new Set,v=m.add.bind(m);i.forEach(b=>{var _;return(_=n.get(b))==null?void 0:_.l.forEach(v)}),i.clear(),o.forEach(v),o.clear(),s.forEach(v),s.clear(),m.forEach(h),i.size&&c(e)}while(i.size||o.size||s.size);if(d.length)throw new AggregateError(d)},H3=e=>{const t=$n(e),n=t[1],i=t[2],s=t[3],o=t[11],l=t[14],c=t[17],d=[],h=new WeakSet,m=new WeakSet,v=Array.from(s);for(;v.length;){const b=v[v.length-1],_=o(e,b);if(m.has(b)){v.pop();continue}if(h.has(b)){if(i.get(b)===_.n)d.push([b,_]);else if(($r?"production":void 0)!=="production"&&i.has(b))throw new Error("[Bug] invalidated atom exists");m.add(b),v.pop();continue}h.add(b);for(const C of hk(b,_,n))h.has(C)||v.push(C)}for(let b=d.length-1;b>=0;--b){const[_,C]=d[b];let E=!1;for(const T of C.d.keys())if(T!==_&&s.has(T)){E=!0;break}E&&(l(e,_),c(e,_)),i.delete(_)}},A0=new WeakSet,q3=(e,t)=>{var n,i;const s=$n(e),o=s[1],l=s[2],c=s[3],d=s[6],h=s[7],m=s[11],v=s[12],b=s[13],_=s[14],C=s[16],E=s[17],T=s[20],k=s[26],N=m(e,t);if(zA(N)){if(o.has(t)&&l.get(t)!==N.n)return N;let Q=!1;for(const[ie,ge]of N.d)if(_(e,ie).n!==ge){Q=!0;break}if(!Q)return N}let P=!0;const O=new Set(N.d.keys()),j=new Map,V=()=>{for(const Q of O)j.has(Q)||N.d.delete(Q)},z=()=>{if(o.has(t)){const Q=!c.size;E(e,t),Q&&(b(e),v(e))}},I=Q=>{var ie;if(Q===t){const q=m(e,Q);if(!zA(q))if(dk(Q))T(e,Q,Q.init);else throw new Error("no atom init");return Fp(q)}const ge=_(e,Q);try{return Fp(ge)}finally{j.set(Q,ge.n),N.d.set(Q,ge.n),Vp(N.v)&&fk(t,N.v,ge),o.has(t)&&((ie=o.get(Q))==null||ie.t.add(t)),P||z()}};let $,Z;const K={get signal(){return $||($=new AbortController),$.signal},get setSelf(){return($r?"production":void 0)!=="production"&&console.warn("[DEPRECATED] setSelf is deprecated and will be removed in v3."),($r?"production":void 0)!=="production"&&!E0(t)&&console.warn("setSelf function cannot be used with read-only atom"),!Z&&E0(t)&&(Z=(...Q)=>{if(($r?"production":void 0)!=="production"&&P&&console.warn("setSelf function cannot be called in sync"),!P)try{return C(e,t,...Q)}finally{b(e),v(e)}}),Z}},Y=N.n;try{($r?"production":void 0)!=="production"&&A0.delete(e);const Q=h(e,t,I,K);if(($r?"production":void 0)!=="production"&&A0.has(e)&&console.warn("Detected store mutation during atom read. This is not supported."),T(e,t,Q),Vp(Q)){k(e,Q,()=>$?.abort());const ie=()=>{V(),z()};Q.then(ie,ie)}else V();return(n=d.r)==null||n.call(d,t),N}catch(Q){return delete N.v,N.e=Q,++N.n,N}finally{P=!1,Y!==N.n&&l.get(t)===Y&&(l.set(t,N.n),c.add(t),(i=d.c)==null||i.call(d,t))}},G3=(e,t)=>{const n=$n(e),i=n[1],s=n[2],o=n[11],l=[t];for(;l.length;){const c=l.pop(),d=o(e,c);for(const h of hk(c,d,i)){const m=o(e,h);s.get(h)!==m.n&&(s.set(h,m.n),l.push(h))}}},K3=(e,t,...n)=>{const i=$n(e),s=i[3],o=i[6],l=i[8],c=i[11],d=i[12],h=i[13],m=i[14],v=i[15],b=i[16],_=i[17],C=i[20];let E=!0;const T=N=>Fp(m(e,N)),k=(N,...P)=>{var O;const j=c(e,N);try{if(N===t){if(!dk(N))throw new Error("atom not writable");($r?"production":void 0)!=="production"&&A0.add(e);const V=j.n,z=P[0];C(e,N,z),_(e,N),V!==j.n&&(s.add(N),v(e,N),(O=o.c)==null||O.call(o,N));return}else return b(e,N,...P)}finally{E||(h(e),d(e))}};try{return l(e,t,T,k,...n)}finally{E=!1}},W3=(e,t)=>{var n;const i=$n(e),s=i[1],o=i[3],l=i[6],c=i[11],d=i[15],h=i[18],m=i[19],v=c(e,t),b=s.get(t);if(b){for(const[_,C]of v.d)if(!b.d.has(_)){const E=c(e,_);h(e,_).t.add(t),b.d.add(_),C!==E.n&&(o.add(_),d(e,_),(n=l.c)==null||n.call(l,_))}for(const _ of b.d)if(!v.d.has(_)){b.d.delete(_);const C=m(e,_);C?.t.delete(t)}}},Y3=(e,t)=>{var n;const i=$n(e),s=i[1],o=i[4],l=i[6],c=i[10],d=i[11],h=i[12],m=i[13],v=i[14],b=i[16],_=i[18],C=d(e,t);let E=s.get(t);if(!E){v(e,t);for(const T of C.d.keys())_(e,T).t.add(t);if(E={l:new Set,d:new Set(C.d.keys()),t:new Set},s.set(t,E),E0(t)){const T=()=>{let k=!0;const N=(...P)=>{try{return b(e,t,...P)}finally{k||(m(e),h(e))}};try{const P=c(e,t,N);P&&(E.u=()=>{k=!0;try{P()}finally{k=!1}})}finally{k=!1}};o.add(T)}(n=l.m)==null||n.call(l,t)}return E},Z3=(e,t)=>{var n,i;const s=$n(e),o=s[1],l=s[5],c=s[6],d=s[11],h=s[19],m=d(e,t);let v=o.get(t);if(!v||v.l.size)return v;let b=!1;for(const _ of v.t)if((n=o.get(_))!=null&&n.d.has(t)){b=!0;break}if(!b){v.u&&l.add(v.u),v=void 0,o.delete(t);for(const _ of m.d.keys()){const C=h(e,_);C?.t.delete(t)}(i=c.u)==null||i.call(c,t);return}return v},X3=(e,t,n)=>{const i=$n(e),s=i[11],o=i[27],l=s(e,t),c="v"in l,d=l.v;if(Vp(n))for(const h of l.d.keys())fk(t,n,s(e,h));l.v=n,delete l.e,(!c||!Object.is(d,l.v))&&(++l.n,Vp(d)&&o(e,d))},Q3=(e,t)=>{const n=$n(e)[14];return Fp(n(e,t))},J3=(e,t,...n)=>{const i=$n(e),s=i[12],o=i[13],l=i[16];try{return l(e,t,...n)}finally{o(e),s(e)}},e5=(e,t,n)=>{const i=$n(e),s=i[12],o=i[18],l=i[19],d=o(e,t).l;return d.add(n),s(e),()=>{d.delete(n),l(e,t),s(e)}},t5=(e,t,n)=>{const s=$n(e)[25];let o=s.get(t);if(!o){o=new Set,s.set(t,o);const l=()=>s.delete(t);t.then(l,l)}o.add(n)},n5=(e,t)=>{const s=$n(e)[25].get(t);s?.forEach(o=>o())},mk=new WeakMap,$n=e=>{const t=mk.get(e);if(($r?"production":void 0)!=="production"&&!t)throw new Error("Store must be created by buildStore to read its building blocks");return t};function i5(e){const t=$n(e),n=t[24];return n?n(t):t}function s5(...e){const t={get(i){const s=$n(t)[21];return s(t,i)},set(i,...s){const o=$n(t)[22];return o(t,i,...s)},sub(i,s){const o=$n(t)[23];return o(t,i,s)}},n=[new WeakMap,new WeakMap,new WeakMap,new Set,new Set,new Set,{},z3,B3,U3,F3,V3,$3,H3,q3,G3,K3,W3,Y3,Z3,X3,Q3,J3,e5,void 0,new WeakMap,t5,n5].map((i,s)=>e[s]||i);return mk.set(t,Object.freeze(n)),t}const pk={};let r5=0;function dt(e,t){const n=`atom${++r5}`,i={toString(){return(pk?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof e=="function"?i.read=e:(i.init=e,i.read=o5,i.write=a5),t&&(i.write=t),i}function o5(e){return e(this)}function a5(e,t,n){return t(this,typeof n=="function"?n(e(this)):n)}function l5(){return s5()}let Wd;function Kf(){return Wd||(Wd=l5(),(pk?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=Wd),globalThis.__JOTAI_DEFAULT_STORE__!==Wd&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),Wd}const c5={},u5=x.createContext(void 0);function gk(e){return x.useContext(u5)||Kf()}const T0=e=>typeof e?.then=="function",R0=e=>{e.status||(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}))},d5=Ot.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(R0(e),e)}),_b=new WeakMap,BA=(e,t,n)=>{const s=i5(e)[26];let o=_b.get(t);return o||(o=new Promise((l,c)=>{let d=t;const h=b=>_=>{d===b&&l(_)},m=b=>_=>{d===b&&c(_)},v=()=>{try{const b=n();T0(b)?(_b.set(b,o),d=b,b.then(h(b),m(b)),s(e,b,v)):l(b)}catch(b){c(b)}};t.then(h(t),m(t)),s(e,t,v)}),_b.set(t,o)),o};function Me(e,t){const{delay:n,unstable_promiseStatus:i=!Ot.use}={},s=gk(),[[o,l,c],d]=x.useReducer(m=>{const v=s.get(e);return Object.is(m[0],v)&&m[1]===s&&m[2]===e?m:[v,s,e]},void 0,()=>[s.get(e),s,e]);let h=o;if((l!==s||c!==e)&&(d(),h=s.get(e)),x.useEffect(()=>{const m=s.sub(e,()=>{if(i)try{const v=s.get(e);T0(v)&&R0(BA(s,v,()=>s.get(e)))}catch{}if(typeof n=="number"){setTimeout(d,n);return}d()});return d(),m},[s,e,n,i]),x.useDebugValue(h),T0(h)){const m=BA(s,h,()=>s.get(e));return i&&R0(m),d5(m)}return h}function Mt(e,t){const n=gk();return x.useCallback((...s)=>{if((c5?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return n.set(e,...s)},[n,e])}function qs(e,t){return[Me(e),Mt(e)]}const ii=({src:e,alt:t,fallbackSrc:n="",loading:i="lazy",decoding:s="async",onFallbackChange:o,...l})=>{const[c,d]=x.useState(e);x.useEffect(()=>{d(e)},[e]);const h=c===n;return x.useEffect(()=>{o?.(h)},[h,o]),y.jsx("img",{src:c,alt:t,loading:i,decoding:s,onError:()=>{n&&!h&&d(n)},...l})},f5="/treevera/assets/avif-new-logo-CsHr8CWA.avif";function Ie(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e?.(s),n===!1||!s.defaultPrevented)return t?.(s)}}function UA(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Hn(...e){return t=>{let n=!1;const i=e.map(s=>{const o=UA(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<i.length;s++){const o=i[s];typeof o=="function"?o():UA(e[s],null)}}}}function St(...e){return x.useCallback(Hn(...e),e)}function h5(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,m5(s,...t)]}function m5(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var Ln=globalThis?.document?x.useLayoutEffect:()=>{},p5=Qx[" useInsertionEffect ".trim().toString()]||Ln;function Do({prop:e,defaultProp:t,onChange:n=()=>{},caller:i}){const[s,o,l]=g5({defaultProp:t,onChange:n}),c=e!==void 0,d=c?e:s;{const m=x.useRef(e!==void 0);x.useEffect(()=>{const v=m.current;v!==c&&console.warn(`${i} is changing from ${v?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,i])}const h=x.useCallback(m=>{if(c){const v=v5(m)?m(e):m;v!==e&&l.current?.(v)}else o(m)},[c,e,o,l]);return[d,h]}function g5({defaultProp:e,onChange:t}){const[n,i]=x.useState(e),s=x.useRef(n),o=x.useRef(t);return p5(()=>{o.current=t},[t]),x.useEffect(()=>{s.current!==n&&(o.current?.(n),s.current=n)},[n,s]),[n,i,o]}function v5(e){return typeof e=="function"}function y5(e){const t=b5(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(_5);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function b5(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=S5(s),c=w5(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var x5=Symbol("radix.slottable");function _5(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===x5}function w5(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function S5(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var C5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],E5=C5.reduce((e,t)=>{const n=y5(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function A5(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,T5(s,...t)]}function T5(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function FA(e){const t=R5(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(k5);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function R5(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=O5(s),c=P5(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var N5=Symbol("radix.slottable");function k5(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===N5}function P5(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function O5(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Tg(e){const t=e+"CollectionProvider",[n,i]=A5(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=E=>{const{scope:T,children:k}=E,N=Ot.useRef(null),P=Ot.useRef(new Map).current;return y.jsx(s,{scope:T,itemMap:P,collectionRef:N,children:k})};l.displayName=t;const c=e+"CollectionSlot",d=FA(c),h=Ot.forwardRef((E,T)=>{const{scope:k,children:N}=E,P=o(c,k),O=St(T,P.collectionRef);return y.jsx(d,{ref:O,children:N})});h.displayName=c;const m=e+"CollectionItemSlot",v="data-radix-collection-item",b=FA(m),_=Ot.forwardRef((E,T)=>{const{scope:k,children:N,...P}=E,O=Ot.useRef(null),j=St(T,O),V=o(m,k);return Ot.useEffect(()=>(V.itemMap.set(O,{ref:O,...P}),()=>{V.itemMap.delete(O)})),y.jsx(b,{[v]:"",ref:j,children:N})});_.displayName=m;function C(E){const T=o(e+"CollectionConsumer",E);return Ot.useCallback(()=>{const N=T.collectionRef.current;if(!N)return[];const P=Array.from(N.querySelectorAll(`[${v}]`));return Array.from(T.itemMap.values()).sort((V,z)=>P.indexOf(V.ref.current)-P.indexOf(z.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:l,Slot:h,ItemSlot:_},C,i]}function M5(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,D5(s,...t)]}function D5(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var L5=x.createContext(void 0);function Rg(e){const t=x.useContext(L5);return e||t||"ltr"}function j5(e){const t=I5(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(B5);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function I5(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=F5(s),c=U5(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var z5=Symbol("radix.slottable");function B5(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===z5}function U5(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function F5(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var V5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],vk=V5.reduce((e,t)=>{const n=j5(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function $5(e,t){e&&Ji.flushSync(()=>e.dispatchEvent(t))}function Gs(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...n)=>t.current?.(...n),[])}function H5(e,t=globalThis?.document){const n=Gs(e);x.useEffect(()=>{const i=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[n,t])}var q5="DismissableLayer",N0="dismissableLayer.update",G5="dismissableLayer.pointerDownOutside",K5="dismissableLayer.focusOutside",VA,yk=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wf=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...d}=e,h=x.useContext(yk),[m,v]=x.useState(null),b=m?.ownerDocument??globalThis?.document,[,_]=x.useState({}),C=St(t,z=>v(z)),E=Array.from(h.layers),[T]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),k=E.indexOf(T),N=m?E.indexOf(m):-1,P=h.layersWithOutsidePointerEventsDisabled.size>0,O=N>=k,j=Z5(z=>{const I=z.target,$=[...h.branches].some(Z=>Z.contains(I));!O||$||(s?.(z),l?.(z),z.defaultPrevented||c?.())},b),V=X5(z=>{const I=z.target;[...h.branches].some(Z=>Z.contains(I))||(o?.(z),l?.(z),z.defaultPrevented||c?.())},b);return H5(z=>{N===h.layers.size-1&&(i?.(z),!z.defaultPrevented&&c&&(z.preventDefault(),c()))},b),x.useEffect(()=>{if(m)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(VA=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),$A(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=VA)}},[m,b,n,h]),x.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),$A())},[m,h]),x.useEffect(()=>{const z=()=>_({});return document.addEventListener(N0,z),()=>document.removeEventListener(N0,z)},[]),y.jsx(vk.div,{...d,ref:C,style:{pointerEvents:P?O?"auto":"none":void 0,...e.style},onFocusCapture:Ie(e.onFocusCapture,V.onFocusCapture),onBlurCapture:Ie(e.onBlurCapture,V.onBlurCapture),onPointerDownCapture:Ie(e.onPointerDownCapture,j.onPointerDownCapture)})});Wf.displayName=q5;var W5="DismissableLayerBranch",Y5=x.forwardRef((e,t)=>{const n=x.useContext(yk),i=x.useRef(null),s=St(t,i);return x.useEffect(()=>{const o=i.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),y.jsx(vk.div,{...e,ref:s})});Y5.displayName=W5;function Z5(e,t=globalThis?.document){const n=Gs(e),i=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const o=c=>{if(c.target&&!i.current){let d=function(){bk(G5,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);i.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>i.current=!0}}function X5(e,t=globalThis?.document){const n=Gs(e),i=x.useRef(!1);return x.useEffect(()=>{const s=o=>{o.target&&!i.current&&bk(K5,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function $A(){const e=new CustomEvent(N0);document.dispatchEvent(e)}function bk(e,t,n,{discrete:i}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),i?$5(s,o):s.dispatchEvent(o)}var wb=0;function u_(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??HA()),document.body.insertAdjacentElement("beforeend",e[1]??HA()),wb++,()=>{wb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),wb--}},[])}function HA(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}function Q5(e){const t=J5(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(tU);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function J5(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=iU(s),c=nU(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eU=Symbol("radix.slottable");function tU(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eU}function nU(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function iU(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var sU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],rU=sU.reduce((e,t)=>{const n=Q5(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),Sb="focusScope.autoFocusOnMount",Cb="focusScope.autoFocusOnUnmount",qA={bubbles:!1,cancelable:!0},oU="FocusScope",Ng=x.forwardRef((e,t)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...l}=e,[c,d]=x.useState(null),h=Gs(s),m=Gs(o),v=x.useRef(null),b=St(t,E=>d(E)),_=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(i){let E=function(P){if(_.paused||!c)return;const O=P.target;c.contains(O)?v.current=O:_a(v.current,{select:!0})},T=function(P){if(_.paused||!c)return;const O=P.relatedTarget;O!==null&&(c.contains(O)||_a(v.current,{select:!0}))},k=function(P){if(document.activeElement===document.body)for(const j of P)j.removedNodes.length>0&&_a(c)};document.addEventListener("focusin",E),document.addEventListener("focusout",T);const N=new MutationObserver(k);return c&&N.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",T),N.disconnect()}}},[i,c,_.paused]),x.useEffect(()=>{if(c){KA.add(_);const E=document.activeElement;if(!c.contains(E)){const k=new CustomEvent(Sb,qA);c.addEventListener(Sb,h),c.dispatchEvent(k),k.defaultPrevented||(aU(fU(xk(c)),{select:!0}),document.activeElement===E&&_a(c))}return()=>{c.removeEventListener(Sb,h),setTimeout(()=>{const k=new CustomEvent(Cb,qA);c.addEventListener(Cb,m),c.dispatchEvent(k),k.defaultPrevented||_a(E??document.body,{select:!0}),c.removeEventListener(Cb,m),KA.remove(_)},0)}}},[c,h,m,_]);const C=x.useCallback(E=>{if(!n&&!i||_.paused)return;const T=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,k=document.activeElement;if(T&&k){const N=E.currentTarget,[P,O]=lU(N);P&&O?!E.shiftKey&&k===O?(E.preventDefault(),n&&_a(P,{select:!0})):E.shiftKey&&k===P&&(E.preventDefault(),n&&_a(O,{select:!0})):k===N&&E.preventDefault()}},[n,i,_.paused]);return y.jsx(rU.div,{tabIndex:-1,...l,ref:b,onKeyDown:C})});Ng.displayName=oU;function aU(e,{select:t=!1}={}){const n=document.activeElement;for(const i of e)if(_a(i,{select:t}),document.activeElement!==n)return}function lU(e){const t=xk(e),n=GA(t,e),i=GA(t.reverse(),e);return[n,i]}function xk(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function GA(e,t){for(const n of e)if(!cU(n,{upTo:t}))return n}function cU(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function uU(e){return e instanceof HTMLInputElement&&"select"in e}function _a(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&uU(e)&&t&&e.select()}}var KA=dU();function dU(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=WA(e,t),e.unshift(t)},remove(t){e=WA(e,t),e[0]?.resume()}}}function WA(e,t){const n=[...e],i=n.indexOf(t);return i!==-1&&n.splice(i,1),n}function fU(e){return e.filter(t=>t.tagName!=="A")}var hU=Qx[" useId ".trim().toString()]||(()=>{}),mU=0;function xs(e){const[t,n]=x.useState(hU());return Ln(()=>{n(i=>i??String(mU++))},[e]),t?`radix-${t}`:""}const pU=["top","right","bottom","left"],La=Math.min,gs=Math.max,$p=Math.round,Vm=Math.floor,Kr=e=>({x:e,y:e}),gU={left:"right",right:"left",bottom:"top",top:"bottom"},vU={start:"end",end:"start"};function k0(e,t,n){return gs(e,La(t,n))}function Lo(e,t){return typeof e=="function"?e(t):e}function jo(e){return e.split("-")[0]}function Mu(e){return e.split("-")[1]}function d_(e){return e==="x"?"y":"x"}function f_(e){return e==="y"?"height":"width"}const yU=new Set(["top","bottom"]);function qr(e){return yU.has(jo(e))?"y":"x"}function h_(e){return d_(qr(e))}function bU(e,t,n){n===void 0&&(n=!1);const i=Mu(e),s=h_(e),o=f_(s);let l=s==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=Hp(l)),[l,Hp(l)]}function xU(e){const t=Hp(e);return[P0(e),t,P0(t)]}function P0(e){return e.replace(/start|end/g,t=>vU[t])}const YA=["left","right"],ZA=["right","left"],_U=["top","bottom"],wU=["bottom","top"];function SU(e,t,n){switch(e){case"top":case"bottom":return n?t?ZA:YA:t?YA:ZA;case"left":case"right":return t?_U:wU;default:return[]}}function CU(e,t,n,i){const s=Mu(e);let o=SU(jo(e),n==="start",i);return s&&(o=o.map(l=>l+"-"+s),t&&(o=o.concat(o.map(P0)))),o}function Hp(e){return e.replace(/left|right|bottom|top/g,t=>gU[t])}function EU(e){return{top:0,right:0,bottom:0,left:0,...e}}function _k(e){return typeof e!="number"?EU(e):{top:e,right:e,bottom:e,left:e}}function qp(e){const{x:t,y:n,width:i,height:s}=e;return{width:i,height:s,top:n,left:t,right:t+i,bottom:n+s,x:t,y:n}}function XA(e,t,n){let{reference:i,floating:s}=e;const o=qr(t),l=h_(t),c=f_(l),d=jo(t),h=o==="y",m=i.x+i.width/2-s.width/2,v=i.y+i.height/2-s.height/2,b=i[c]/2-s[c]/2;let _;switch(d){case"top":_={x:m,y:i.y-s.height};break;case"bottom":_={x:m,y:i.y+i.height};break;case"right":_={x:i.x+i.width,y:v};break;case"left":_={x:i.x-s.width,y:v};break;default:_={x:i.x,y:i.y}}switch(Mu(t)){case"start":_[l]-=b*(n&&h?-1:1);break;case"end":_[l]+=b*(n&&h?-1:1);break}return _}async function AU(e,t){var n;t===void 0&&(t={});const{x:i,y:s,platform:o,rects:l,elements:c,strategy:d}=e,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:v="floating",altBoundary:b=!1,padding:_=0}=Lo(t,e),C=_k(_),T=c[b?v==="floating"?"reference":"floating":v],k=qp(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(T)))==null||n?T:T.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:h,rootBoundary:m,strategy:d})),N=v==="floating"?{x:i,y:s,width:l.floating.width,height:l.floating.height}:l.reference,P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),O=await(o.isElement==null?void 0:o.isElement(P))?await(o.getScale==null?void 0:o.getScale(P))||{x:1,y:1}:{x:1,y:1},j=qp(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:N,offsetParent:P,strategy:d}):N);return{top:(k.top-j.top+C.top)/O.y,bottom:(j.bottom-k.bottom+C.bottom)/O.y,left:(k.left-j.left+C.left)/O.x,right:(j.right-k.right+C.right)/O.x}}const TU=async(e,t,n)=>{const{placement:i="bottom",strategy:s="absolute",middleware:o=[],platform:l}=n,c=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let h=await l.getElementRects({reference:e,floating:t,strategy:s}),{x:m,y:v}=XA(h,i,d),b=i,_={},C=0;for(let T=0;T<c.length;T++){var E;const{name:k,fn:N}=c[T],{x:P,y:O,data:j,reset:V}=await N({x:m,y:v,initialPlacement:i,placement:b,strategy:s,middlewareData:_,rects:h,platform:{...l,detectOverflow:(E=l.detectOverflow)!=null?E:AU},elements:{reference:e,floating:t}});m=P??m,v=O??v,_={..._,[k]:{..._[k],...j}},V&&C<=50&&(C++,typeof V=="object"&&(V.placement&&(b=V.placement),V.rects&&(h=V.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:s}):V.rects),{x:m,y:v}=XA(h,b,d)),T=-1)}return{x:m,y:v,placement:b,strategy:s,middlewareData:_}},RU=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:s,rects:o,platform:l,elements:c,middlewareData:d}=t,{element:h,padding:m=0}=Lo(e,t)||{};if(h==null)return{};const v=_k(m),b={x:n,y:i},_=h_(s),C=f_(_),E=await l.getDimensions(h),T=_==="y",k=T?"top":"left",N=T?"bottom":"right",P=T?"clientHeight":"clientWidth",O=o.reference[C]+o.reference[_]-b[_]-o.floating[C],j=b[_]-o.reference[_],V=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let z=V?V[P]:0;(!z||!await(l.isElement==null?void 0:l.isElement(V)))&&(z=c.floating[P]||o.floating[C]);const I=O/2-j/2,$=z/2-E[C]/2-1,Z=La(v[k],$),K=La(v[N],$),Y=Z,Q=z-E[C]-K,ie=z/2-E[C]/2+I,ge=k0(Y,ie,Q),q=!d.arrow&&Mu(s)!=null&&ie!==ge&&o.reference[C]/2-(ie<Y?Z:K)-E[C]/2<0,W=q?ie<Y?ie-Y:ie-Q:0;return{[_]:b[_]+W,data:{[_]:ge,centerOffset:ie-ge-W,...q&&{alignmentOffset:W}},reset:q}}}),NU=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:s,middlewareData:o,rects:l,initialPlacement:c,platform:d,elements:h}=t,{mainAxis:m=!0,crossAxis:v=!0,fallbackPlacements:b,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:E=!0,...T}=Lo(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const k=jo(s),N=qr(c),P=jo(c)===c,O=await(d.isRTL==null?void 0:d.isRTL(h.floating)),j=b||(P||!E?[Hp(c)]:xU(c)),V=C!=="none";!b&&V&&j.push(...CU(c,E,C,O));const z=[c,...j],I=await d.detectOverflow(t,T),$=[];let Z=((i=o.flip)==null?void 0:i.overflows)||[];if(m&&$.push(I[k]),v){const ie=bU(s,l,O);$.push(I[ie[0]],I[ie[1]])}if(Z=[...Z,{placement:s,overflows:$}],!$.every(ie=>ie<=0)){var K,Y;const ie=(((K=o.flip)==null?void 0:K.index)||0)+1,ge=z[ie];if(ge&&(!(v==="alignment"?N!==qr(ge):!1)||Z.every(ee=>qr(ee.placement)===N?ee.overflows[0]>0:!0)))return{data:{index:ie,overflows:Z},reset:{placement:ge}};let q=(Y=Z.filter(W=>W.overflows[0]<=0).sort((W,ee)=>W.overflows[1]-ee.overflows[1])[0])==null?void 0:Y.placement;if(!q)switch(_){case"bestFit":{var Q;const W=(Q=Z.filter(ee=>{if(V){const de=qr(ee.placement);return de===N||de==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(de=>de>0).reduce((de,ae)=>de+ae,0)]).sort((ee,de)=>ee[1]-de[1])[0])==null?void 0:Q[0];W&&(q=W);break}case"initialPlacement":q=c;break}if(s!==q)return{reset:{placement:q}}}return{}}}};function QA(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function JA(e){return pU.some(t=>e[t]>=0)}const kU=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:i}=t,{strategy:s="referenceHidden",...o}=Lo(e,t);switch(s){case"referenceHidden":{const l=await i.detectOverflow(t,{...o,elementContext:"reference"}),c=QA(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:JA(c)}}}case"escaped":{const l=await i.detectOverflow(t,{...o,altBoundary:!0}),c=QA(l,n.floating);return{data:{escapedOffsets:c,escaped:JA(c)}}}default:return{}}}}},wk=new Set(["left","top"]);async function PU(e,t){const{placement:n,platform:i,elements:s}=e,o=await(i.isRTL==null?void 0:i.isRTL(s.floating)),l=jo(n),c=Mu(n),d=qr(n)==="y",h=wk.has(l)?-1:1,m=o&&d?-1:1,v=Lo(t,e);let{mainAxis:b,crossAxis:_,alignmentAxis:C}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return c&&typeof C=="number"&&(_=c==="end"?C*-1:C),d?{x:_*m,y:b*h}:{x:b*h,y:_*m}}const OU=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:s,y:o,placement:l,middlewareData:c}=t,d=await PU(t,e);return l===((n=c.offset)==null?void 0:n.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:s+d.x,y:o+d.y,data:{...d,placement:l}}}}},MU=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:s,platform:o}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:k=>{let{x:N,y:P}=k;return{x:N,y:P}}},...h}=Lo(e,t),m={x:n,y:i},v=await o.detectOverflow(t,h),b=qr(jo(s)),_=d_(b);let C=m[_],E=m[b];if(l){const k=_==="y"?"top":"left",N=_==="y"?"bottom":"right",P=C+v[k],O=C-v[N];C=k0(P,C,O)}if(c){const k=b==="y"?"top":"left",N=b==="y"?"bottom":"right",P=E+v[k],O=E-v[N];E=k0(P,E,O)}const T=d.fn({...t,[_]:C,[b]:E});return{...T,data:{x:T.x-n,y:T.y-i,enabled:{[_]:l,[b]:c}}}}}},DU=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:i,placement:s,rects:o,middlewareData:l}=t,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=Lo(e,t),m={x:n,y:i},v=qr(s),b=d_(v);let _=m[b],C=m[v];const E=Lo(c,t),T=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(d){const P=b==="y"?"height":"width",O=o.reference[b]-o.floating[P]+T.mainAxis,j=o.reference[b]+o.reference[P]-T.mainAxis;_<O?_=O:_>j&&(_=j)}if(h){var k,N;const P=b==="y"?"width":"height",O=wk.has(jo(s)),j=o.reference[v]-o.floating[P]+(O&&((k=l.offset)==null?void 0:k[v])||0)+(O?0:T.crossAxis),V=o.reference[v]+o.reference[P]+(O?0:((N=l.offset)==null?void 0:N[v])||0)-(O?T.crossAxis:0);C<j?C=j:C>V&&(C=V)}return{[b]:_,[v]:C}}}},LU=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,i;const{placement:s,rects:o,platform:l,elements:c}=t,{apply:d=()=>{},...h}=Lo(e,t),m=await l.detectOverflow(t,h),v=jo(s),b=Mu(s),_=qr(s)==="y",{width:C,height:E}=o.floating;let T,k;v==="top"||v==="bottom"?(T=v,k=b===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(k=v,T=b==="end"?"top":"bottom");const N=E-m.top-m.bottom,P=C-m.left-m.right,O=La(E-m[T],N),j=La(C-m[k],P),V=!t.middlewareData.shift;let z=O,I=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(I=P),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(z=N),V&&!b){const Z=gs(m.left,0),K=gs(m.right,0),Y=gs(m.top,0),Q=gs(m.bottom,0);_?I=C-2*(Z!==0||K!==0?Z+K:gs(m.left,m.right)):z=E-2*(Y!==0||Q!==0?Y+Q:gs(m.top,m.bottom))}await d({...t,availableWidth:I,availableHeight:z});const $=await l.getDimensions(c.floating);return C!==$.width||E!==$.height?{reset:{rects:!0}}:{}}}};function kg(){return typeof window<"u"}function Du(e){return Sk(e)?(e.nodeName||"").toLowerCase():"#document"}function _s(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Qr(e){var t;return(t=(Sk(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Sk(e){return kg()?e instanceof Node||e instanceof _s(e).Node:!1}function yr(e){return kg()?e instanceof Element||e instanceof _s(e).Element:!1}function Yr(e){return kg()?e instanceof HTMLElement||e instanceof _s(e).HTMLElement:!1}function e1(e){return!kg()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof _s(e).ShadowRoot}const jU=new Set(["inline","contents"]);function Yf(e){const{overflow:t,overflowX:n,overflowY:i,display:s}=br(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!jU.has(s)}const IU=new Set(["table","td","th"]);function zU(e){return IU.has(Du(e))}const BU=[":popover-open",":modal"];function Pg(e){return BU.some(t=>{try{return e.matches(t)}catch{return!1}})}const UU=["transform","translate","scale","rotate","perspective"],FU=["transform","translate","scale","rotate","perspective","filter"],VU=["paint","layout","strict","content"];function m_(e){const t=p_(),n=yr(e)?br(e):e;return UU.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||FU.some(i=>(n.willChange||"").includes(i))||VU.some(i=>(n.contain||"").includes(i))}function $U(e){let t=ja(e);for(;Yr(t)&&!Tu(t);){if(m_(t))return t;if(Pg(t))return null;t=ja(t)}return null}function p_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const HU=new Set(["html","body","#document"]);function Tu(e){return HU.has(Du(e))}function br(e){return _s(e).getComputedStyle(e)}function Og(e){return yr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ja(e){if(Du(e)==="html")return e;const t=e.assignedSlot||e.parentNode||e1(e)&&e.host||Qr(e);return e1(t)?t.host:t}function Ck(e){const t=ja(e);return Tu(t)?e.ownerDocument?e.ownerDocument.body:e.body:Yr(t)&&Yf(t)?t:Ck(t)}function Sf(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Ck(e),o=s===((i=e.ownerDocument)==null?void 0:i.body),l=_s(s);if(o){const c=O0(l);return t.concat(l,l.visualViewport||[],Yf(s)?s:[],c&&n?Sf(c):[])}return t.concat(s,Sf(s,[],n))}function O0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ek(e){const t=br(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const s=Yr(e),o=s?e.offsetWidth:n,l=s?e.offsetHeight:i,c=$p(n)!==o||$p(i)!==l;return c&&(n=o,i=l),{width:n,height:i,$:c}}function g_(e){return yr(e)?e:e.contextElement}function bu(e){const t=g_(e);if(!Yr(t))return Kr(1);const n=t.getBoundingClientRect(),{width:i,height:s,$:o}=Ek(t);let l=(o?$p(n.width):n.width)/i,c=(o?$p(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const qU=Kr(0);function Ak(e){const t=_s(e);return!p_()||!t.visualViewport?qU:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function GU(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==_s(e)?!1:t}function Kl(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=g_(e);let l=Kr(1);t&&(i?yr(i)&&(l=bu(i)):l=bu(e));const c=GU(o,n,i)?Ak(o):Kr(0);let d=(s.left+c.x)/l.x,h=(s.top+c.y)/l.y,m=s.width/l.x,v=s.height/l.y;if(o){const b=_s(o),_=i&&yr(i)?_s(i):i;let C=b,E=O0(C);for(;E&&i&&_!==C;){const T=bu(E),k=E.getBoundingClientRect(),N=br(E),P=k.left+(E.clientLeft+parseFloat(N.paddingLeft))*T.x,O=k.top+(E.clientTop+parseFloat(N.paddingTop))*T.y;d*=T.x,h*=T.y,m*=T.x,v*=T.y,d+=P,h+=O,C=_s(E),E=O0(C)}}return qp({width:m,height:v,x:d,y:h})}function Mg(e,t){const n=Og(e).scrollLeft;return t?t.left+n:Kl(Qr(e)).left+n}function Tk(e,t){const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-Mg(e,n),s=n.top+t.scrollTop;return{x:i,y:s}}function KU(e){let{elements:t,rect:n,offsetParent:i,strategy:s}=e;const o=s==="fixed",l=Qr(i),c=t?Pg(t.floating):!1;if(i===l||c&&o)return n;let d={scrollLeft:0,scrollTop:0},h=Kr(1);const m=Kr(0),v=Yr(i);if((v||!v&&!o)&&((Du(i)!=="body"||Yf(l))&&(d=Og(i)),Yr(i))){const _=Kl(i);h=bu(i),m.x=_.x+i.clientLeft,m.y=_.y+i.clientTop}const b=l&&!v&&!o?Tk(l,d):Kr(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+m.x+b.x,y:n.y*h.y-d.scrollTop*h.y+m.y+b.y}}function WU(e){return Array.from(e.getClientRects())}function YU(e){const t=Qr(e),n=Og(e),i=e.ownerDocument.body,s=gs(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),o=gs(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let l=-n.scrollLeft+Mg(e);const c=-n.scrollTop;return br(i).direction==="rtl"&&(l+=gs(t.clientWidth,i.clientWidth)-s),{width:s,height:o,x:l,y:c}}const t1=25;function ZU(e,t){const n=_s(e),i=Qr(e),s=n.visualViewport;let o=i.clientWidth,l=i.clientHeight,c=0,d=0;if(s){o=s.width,l=s.height;const m=p_();(!m||m&&t==="fixed")&&(c=s.offsetLeft,d=s.offsetTop)}const h=Mg(i);if(h<=0){const m=i.ownerDocument,v=m.body,b=getComputedStyle(v),_=m.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,C=Math.abs(i.clientWidth-v.clientWidth-_);C<=t1&&(o-=C)}else h<=t1&&(o+=h);return{width:o,height:l,x:c,y:d}}const XU=new Set(["absolute","fixed"]);function QU(e,t){const n=Kl(e,!0,t==="fixed"),i=n.top+e.clientTop,s=n.left+e.clientLeft,o=Yr(e)?bu(e):Kr(1),l=e.clientWidth*o.x,c=e.clientHeight*o.y,d=s*o.x,h=i*o.y;return{width:l,height:c,x:d,y:h}}function n1(e,t,n){let i;if(t==="viewport")i=ZU(e,n);else if(t==="document")i=YU(Qr(e));else if(yr(t))i=QU(t,n);else{const s=Ak(e);i={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return qp(i)}function Rk(e,t){const n=ja(e);return n===t||!yr(n)||Tu(n)?!1:br(n).position==="fixed"||Rk(n,t)}function JU(e,t){const n=t.get(e);if(n)return n;let i=Sf(e,[],!1).filter(c=>yr(c)&&Du(c)!=="body"),s=null;const o=br(e).position==="fixed";let l=o?ja(e):e;for(;yr(l)&&!Tu(l);){const c=br(l),d=m_(l);!d&&c.position==="fixed"&&(s=null),(o?!d&&!s:!d&&c.position==="static"&&!!s&&XU.has(s.position)||Yf(l)&&!d&&Rk(e,l))?i=i.filter(m=>m!==l):s=c,l=ja(l)}return t.set(e,i),i}function e4(e){let{element:t,boundary:n,rootBoundary:i,strategy:s}=e;const l=[...n==="clippingAncestors"?Pg(t)?[]:JU(t,this._c):[].concat(n),i],c=l[0],d=l.reduce((h,m)=>{const v=n1(t,m,s);return h.top=gs(v.top,h.top),h.right=La(v.right,h.right),h.bottom=La(v.bottom,h.bottom),h.left=gs(v.left,h.left),h},n1(t,c,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function t4(e){const{width:t,height:n}=Ek(e);return{width:t,height:n}}function n4(e,t,n){const i=Yr(t),s=Qr(t),o=n==="fixed",l=Kl(e,!0,o,t);let c={scrollLeft:0,scrollTop:0};const d=Kr(0);function h(){d.x=Mg(s)}if(i||!i&&!o)if((Du(t)!=="body"||Yf(s))&&(c=Og(t)),i){const _=Kl(t,!0,o,t);d.x=_.x+t.clientLeft,d.y=_.y+t.clientTop}else s&&h();o&&!i&&s&&h();const m=s&&!i&&!o?Tk(s,c):Kr(0),v=l.left+c.scrollLeft-d.x-m.x,b=l.top+c.scrollTop-d.y-m.y;return{x:v,y:b,width:l.width,height:l.height}}function Eb(e){return br(e).position==="static"}function i1(e,t){if(!Yr(e)||br(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Qr(e)===n&&(n=n.ownerDocument.body),n}function Nk(e,t){const n=_s(e);if(Pg(e))return n;if(!Yr(e)){let s=ja(e);for(;s&&!Tu(s);){if(yr(s)&&!Eb(s))return s;s=ja(s)}return n}let i=i1(e,t);for(;i&&zU(i)&&Eb(i);)i=i1(i,t);return i&&Tu(i)&&Eb(i)&&!m_(i)?n:i||$U(e)||n}const i4=async function(e){const t=this.getOffsetParent||Nk,n=this.getDimensions,i=await n(e.floating);return{reference:n4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function s4(e){return br(e).direction==="rtl"}const r4={convertOffsetParentRelativeRectToViewportRelativeRect:KU,getDocumentElement:Qr,getClippingRect:e4,getOffsetParent:Nk,getElementRects:i4,getClientRects:WU,getDimensions:t4,getScale:bu,isElement:yr,isRTL:s4};function kk(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function o4(e,t){let n=null,i;const s=Qr(e);function o(){var c;clearTimeout(i),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const h=e.getBoundingClientRect(),{left:m,top:v,width:b,height:_}=h;if(c||t(),!b||!_)return;const C=Vm(v),E=Vm(s.clientWidth-(m+b)),T=Vm(s.clientHeight-(v+_)),k=Vm(m),P={rootMargin:-C+"px "+-E+"px "+-T+"px "+-k+"px",threshold:gs(0,La(1,d))||1};let O=!0;function j(V){const z=V[0].intersectionRatio;if(z!==d){if(!O)return l();z?l(!1,z):i=setTimeout(()=>{l(!1,1e-7)},1e3)}z===1&&!kk(h,e.getBoundingClientRect())&&l(),O=!1}try{n=new IntersectionObserver(j,{...P,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,P)}n.observe(e)}return l(!0),o}function a4(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=i,h=g_(e),m=s||o?[...h?Sf(h):[],...Sf(t)]:[];m.forEach(k=>{s&&k.addEventListener("scroll",n,{passive:!0}),o&&k.addEventListener("resize",n)});const v=h&&c?o4(h,n):null;let b=-1,_=null;l&&(_=new ResizeObserver(k=>{let[N]=k;N&&N.target===h&&_&&(_.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var P;(P=_)==null||P.observe(t)})),n()}),h&&!d&&_.observe(h),_.observe(t));let C,E=d?Kl(e):null;d&&T();function T(){const k=Kl(e);E&&!kk(E,k)&&n(),E=k,C=requestAnimationFrame(T)}return n(),()=>{var k;m.forEach(N=>{s&&N.removeEventListener("scroll",n),o&&N.removeEventListener("resize",n)}),v?.(),(k=_)==null||k.disconnect(),_=null,d&&cancelAnimationFrame(C)}}const l4=OU,c4=MU,u4=NU,d4=LU,f4=kU,s1=RU,h4=DU,m4=(e,t,n)=>{const i=new Map,s={platform:r4,...n},o={...s.platform,_c:i};return TU(e,t,{...s,platform:o})};var p4=typeof document<"u",g4=function(){},_p=p4?x.useLayoutEffect:g4;function Gp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(!Gp(e[i],t[i]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(t,s[i]))return!1;for(i=n;i--!==0;){const o=s[i];if(!(o==="_owner"&&e.$$typeof)&&!Gp(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Pk(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function r1(e,t){const n=Pk(e);return Math.round(t*n)/n}function Ab(e){const t=x.useRef(e);return _p(()=>{t.current=e}),t}function v4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:s,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:d,open:h}=e,[m,v]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,_]=x.useState(i);Gp(b,i)||_(i);const[C,E]=x.useState(null),[T,k]=x.useState(null),N=x.useCallback(ee=>{ee!==V.current&&(V.current=ee,E(ee))},[]),P=x.useCallback(ee=>{ee!==z.current&&(z.current=ee,k(ee))},[]),O=o||C,j=l||T,V=x.useRef(null),z=x.useRef(null),I=x.useRef(m),$=d!=null,Z=Ab(d),K=Ab(s),Y=Ab(h),Q=x.useCallback(()=>{if(!V.current||!z.current)return;const ee={placement:t,strategy:n,middleware:b};K.current&&(ee.platform=K.current),m4(V.current,z.current,ee).then(de=>{const ae={...de,isPositioned:Y.current!==!1};ie.current&&!Gp(I.current,ae)&&(I.current=ae,Ji.flushSync(()=>{v(ae)}))})},[b,t,n,K,Y]);_p(()=>{h===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,v(ee=>({...ee,isPositioned:!1})))},[h]);const ie=x.useRef(!1);_p(()=>(ie.current=!0,()=>{ie.current=!1}),[]),_p(()=>{if(O&&(V.current=O),j&&(z.current=j),O&&j){if(Z.current)return Z.current(O,j,Q);Q()}},[O,j,Q,Z,$]);const ge=x.useMemo(()=>({reference:V,floating:z,setReference:N,setFloating:P}),[N,P]),q=x.useMemo(()=>({reference:O,floating:j}),[O,j]),W=x.useMemo(()=>{const ee={position:n,left:0,top:0};if(!q.floating)return ee;const de=r1(q.floating,m.x),ae=r1(q.floating,m.y);return c?{...ee,transform:"translate("+de+"px, "+ae+"px)",...Pk(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:de,top:ae}},[n,c,q.floating,m.x,m.y]);return x.useMemo(()=>({...m,update:Q,refs:ge,elements:q,floatingStyles:W}),[m,Q,ge,q,W])}const y4=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:i,padding:s}=typeof e=="function"?e(n):e;return i&&t(i)?i.current!=null?s1({element:i.current,padding:s}).fn(n):{}:i?s1({element:i,padding:s}).fn(n):{}}}},b4=(e,t)=>({...l4(e),options:[e,t]}),x4=(e,t)=>({...c4(e),options:[e,t]}),_4=(e,t)=>({...h4(e),options:[e,t]}),w4=(e,t)=>({...u4(e),options:[e,t]}),S4=(e,t)=>({...d4(e),options:[e,t]}),C4=(e,t)=>({...f4(e),options:[e,t]}),E4=(e,t)=>({...y4(e),options:[e,t]});function A4(e){const t=T4(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(N4);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function T4(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=P4(s),c=k4(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var R4=Symbol("radix.slottable");function N4(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===R4}function k4(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function P4(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var O4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],M4=O4.reduce((e,t)=>{const n=A4(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),D4="Arrow",Ok=x.forwardRef((e,t)=>{const{children:n,width:i=10,height:s=5,...o}=e;return y.jsx(M4.svg,{...o,ref:t,width:i,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ok.displayName=D4;var L4=Ok;function j4(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,I4(s,...t)]}function I4(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function z4(e){const t=B4(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(F4);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function B4(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=$4(s),c=V4(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var U4=Symbol("radix.slottable");function F4(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===U4}function V4(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function $4(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var H4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Mk=H4.reduce((e,t)=>{const n=z4(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function Dk(e){const[t,n]=x.useState(void 0);return Ln(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let l,c;if("borderBoxSize"in o){const d=o.borderBoxSize,h=Array.isArray(d)?d[0]:d;l=h.inlineSize,c=h.blockSize}else l=e.offsetWidth,c=e.offsetHeight;n({width:l,height:c})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else n(void 0)},[e]),t}var v_="Popper",[Lk,Lu]=j4(v_),[q4,jk]=Lk(v_),Ik=e=>{const{__scopePopper:t,children:n}=e,[i,s]=x.useState(null);return y.jsx(q4,{scope:t,anchor:i,onAnchorChange:s,children:n})};Ik.displayName=v_;var zk="PopperAnchor",Bk=x.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:i,...s}=e,o=jk(zk,n),l=x.useRef(null),c=St(t,l),d=x.useRef(null);return x.useEffect(()=>{const h=d.current;d.current=i?.current||l.current,h!==d.current&&o.onAnchorChange(d.current)}),i?null:y.jsx(Mk.div,{...s,ref:c})});Bk.displayName=zk;var y_="PopperContent",[G4,K4]=Lk(y_),Uk=x.forwardRef((e,t)=>{const{__scopePopper:n,side:i="bottom",sideOffset:s=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:v="partial",hideWhenDetached:b=!1,updatePositionStrategy:_="optimized",onPlaced:C,...E}=e,T=jk(y_,n),[k,N]=x.useState(null),P=St(t,we=>N(we)),[O,j]=x.useState(null),V=Dk(O),z=V?.width??0,I=V?.height??0,$=i+(o!=="center"?"-"+o:""),Z=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},K=Array.isArray(h)?h:[h],Y=K.length>0,Q={padding:Z,boundary:K.filter(Y4),altBoundary:Y},{refs:ie,floatingStyles:ge,placement:q,isPositioned:W,middlewareData:ee}=v4({strategy:"fixed",placement:$,whileElementsMounted:(...we)=>a4(...we,{animationFrame:_==="always"}),elements:{reference:T.anchor},middleware:[b4({mainAxis:s+I,alignmentAxis:l}),d&&x4({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?_4():void 0,...Q}),d&&w4({...Q}),S4({...Q,apply:({elements:we,rects:je,availableWidth:De,availableHeight:Le})=>{const{width:Xe,height:Qe}=je.reference,Ct=we.floating.style;Ct.setProperty("--radix-popper-available-width",`${De}px`),Ct.setProperty("--radix-popper-available-height",`${Le}px`),Ct.setProperty("--radix-popper-anchor-width",`${Xe}px`),Ct.setProperty("--radix-popper-anchor-height",`${Qe}px`)}}),O&&E4({element:O,padding:c}),Z4({arrowWidth:z,arrowHeight:I}),b&&C4({strategy:"referenceHidden",...Q})]}),[de,ae]=$k(q),G=Gs(C);Ln(()=>{W&&G?.()},[W,G]);const oe=ee.arrow?.x,be=ee.arrow?.y,xe=ee.arrow?.centerOffset!==0,[Re,Se]=x.useState();return Ln(()=>{k&&Se(window.getComputedStyle(k).zIndex)},[k]),y.jsx("div",{ref:ie.setFloating,"data-radix-popper-content-wrapper":"",style:{...ge,transform:W?ge.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[ee.transformOrigin?.x,ee.transformOrigin?.y].join(" "),...ee.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:y.jsx(G4,{scope:n,placedSide:de,onArrowChange:j,arrowX:oe,arrowY:be,shouldHideArrow:xe,children:y.jsx(Mk.div,{"data-side":de,"data-align":ae,...E,ref:P,style:{...E.style,animation:W?void 0:"none"}})})})});Uk.displayName=y_;var Fk="PopperArrow",W4={top:"bottom",right:"left",bottom:"top",left:"right"},Vk=x.forwardRef(function(t,n){const{__scopePopper:i,...s}=t,o=K4(Fk,i),l=W4[o.placedSide];return y.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:y.jsx(L4,{...s,ref:n,style:{...s.style,display:"block"}})})});Vk.displayName=Fk;function Y4(e){return e!==null}var Z4=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:i,middlewareData:s}=t,l=s.arrow?.centerOffset!==0,c=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[h,m]=$k(n),v={start:"0%",center:"50%",end:"100%"}[m],b=(s.arrow?.x??0)+c/2,_=(s.arrow?.y??0)+d/2;let C="",E="";return h==="bottom"?(C=l?v:`${b}px`,E=`${-d}px`):h==="top"?(C=l?v:`${b}px`,E=`${i.floating.height+d}px`):h==="right"?(C=`${-d}px`,E=l?v:`${_}px`):h==="left"&&(C=`${i.floating.width+d}px`,E=l?v:`${_}px`),{data:{x:C,y:E}}}});function $k(e){const[t,n="center"]=e.split("-");return[t,n]}var Dg=Ik,b_=Bk,x_=Uk,__=Vk;function X4(e){const t=Q4(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(eF);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function Q4(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=nF(s),c=tF(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var J4=Symbol("radix.slottable");function eF(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===J4}function tF(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function nF(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var iF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],sF=iF.reduce((e,t)=>{const n=X4(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),rF="Portal",Zf=x.forwardRef((e,t)=>{const{container:n,...i}=e,[s,o]=x.useState(!1);Ln(()=>o(!0),[]);const l=n||s&&globalThis?.document?.body;return l?d3.createPortal(y.jsx(sF.div,{...i,ref:t}),l):null});Zf.displayName=rF;function oF(e,t){return x.useReducer((n,i)=>t[n][i]??n,e)}var _r=e=>{const{present:t,children:n}=e,i=aF(t),s=typeof n=="function"?n({present:i.isPresent}):x.Children.only(n),o=St(i.ref,lF(s));return typeof n=="function"||i.isPresent?x.cloneElement(s,{ref:o}):null};_r.displayName="Presence";function aF(e){const[t,n]=x.useState(),i=x.useRef(null),s=x.useRef(e),o=x.useRef("none"),l=e?"mounted":"unmounted",[c,d]=oF(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const h=$m(i.current);o.current=c==="mounted"?h:"none"},[c]),Ln(()=>{const h=i.current,m=s.current;if(m!==e){const b=o.current,_=$m(h);e?d("MOUNT"):_==="none"||h?.display==="none"?d("UNMOUNT"):d(m&&b!==_?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),Ln(()=>{if(t){let h;const m=t.ownerDocument.defaultView??window,v=_=>{const E=$m(i.current).includes(CSS.escape(_.animationName));if(_.target===t&&E&&(d("ANIMATION_END"),!s.current)){const T=t.style.animationFillMode;t.style.animationFillMode="forwards",h=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=T)})}},b=_=>{_.target===t&&(o.current=$m(i.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{m.clearTimeout(h),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:x.useCallback(h=>{i.current=h?getComputedStyle(h):null,n(h)},[])}}function $m(e){return e?.animationName||"none"}function lF(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Hk(e){const t=cF(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(dF);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function cF(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=hF(s),c=fF(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var uF=Symbol("radix.slottable");function dF(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===uF}function fF(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function hF(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var mF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xf=mF.reduce((e,t)=>{const n=Hk(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function pF(e,t){e&&Ji.flushSync(()=>e.dispatchEvent(t))}function gF(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,vF(s,...t)]}function vF(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function yF(e){const t=bF(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(_F);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function bF(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=SF(s),c=wF(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xF=Symbol("radix.slottable");function _F(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xF}function wF(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function SF(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var CF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qk=CF.reduce((e,t)=>{const n=yF(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),Tb="rovingFocusGroup.onEntryFocus",EF={bubbles:!1,cancelable:!0},Qf="RovingFocusGroup",[M0,Gk,AF]=Tg(Qf),[TF,Kk]=gF(Qf,[AF]),[RF,NF]=TF(Qf),Wk=x.forwardRef((e,t)=>y.jsx(M0.Provider,{scope:e.__scopeRovingFocusGroup,children:y.jsx(M0.Slot,{scope:e.__scopeRovingFocusGroup,children:y.jsx(kF,{...e,ref:t})})}));Wk.displayName=Qf;var kF=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:s=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...v}=e,b=x.useRef(null),_=St(t,b),C=Rg(o),[E,T]=Do({prop:l,defaultProp:c??null,onChange:d,caller:Qf}),[k,N]=x.useState(!1),P=Gs(h),O=Gk(n),j=x.useRef(!1),[V,z]=x.useState(0);return x.useEffect(()=>{const I=b.current;if(I)return I.addEventListener(Tb,P),()=>I.removeEventListener(Tb,P)},[P]),y.jsx(RF,{scope:n,orientation:i,dir:C,loop:s,currentTabStopId:E,onItemFocus:x.useCallback(I=>T(I),[T]),onItemShiftTab:x.useCallback(()=>N(!0),[]),onFocusableItemAdd:x.useCallback(()=>z(I=>I+1),[]),onFocusableItemRemove:x.useCallback(()=>z(I=>I-1),[]),children:y.jsx(qk.div,{tabIndex:k||V===0?-1:0,"data-orientation":i,...v,ref:_,style:{outline:"none",...e.style},onMouseDown:Ie(e.onMouseDown,()=>{j.current=!0}),onFocus:Ie(e.onFocus,I=>{const $=!j.current;if(I.target===I.currentTarget&&$&&!k){const Z=new CustomEvent(Tb,EF);if(I.currentTarget.dispatchEvent(Z),!Z.defaultPrevented){const K=O().filter(q=>q.focusable),Y=K.find(q=>q.active),Q=K.find(q=>q.id===E),ge=[Y,Q,...K].filter(Boolean).map(q=>q.ref.current);Xk(ge,m)}}j.current=!1}),onBlur:Ie(e.onBlur,()=>N(!1))})})}),Yk="RovingFocusGroupItem",Zk=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:s=!1,tabStopId:o,children:l,...c}=e,d=xs(),h=o||d,m=NF(Yk,n),v=m.currentTabStopId===h,b=Gk(n),{onFocusableItemAdd:_,onFocusableItemRemove:C,currentTabStopId:E}=m;return x.useEffect(()=>{if(i)return _(),()=>C()},[i,_,C]),y.jsx(M0.ItemSlot,{scope:n,id:h,focusable:i,active:s,children:y.jsx(qk.span,{tabIndex:v?0:-1,"data-orientation":m.orientation,...c,ref:t,onMouseDown:Ie(e.onMouseDown,T=>{i?m.onItemFocus(h):T.preventDefault()}),onFocus:Ie(e.onFocus,()=>m.onItemFocus(h)),onKeyDown:Ie(e.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){m.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const k=MF(T,m.orientation,m.dir);if(k!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let P=b().filter(O=>O.focusable).map(O=>O.ref.current);if(k==="last")P.reverse();else if(k==="prev"||k==="next"){k==="prev"&&P.reverse();const O=P.indexOf(T.currentTarget);P=m.loop?DF(P,O+1):P.slice(O+1)}setTimeout(()=>Xk(P))}}),children:typeof l=="function"?l({isCurrentTabStop:v,hasTabStop:E!=null}):l})})});Zk.displayName=Yk;var PF={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function OF(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function MF(e,t,n){const i=OF(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return PF[i]}function Xk(e,t=!1){const n=document.activeElement;for(const i of e)if(i===n||(i.focus({preventScroll:t}),document.activeElement!==n))return}function DF(e,t){return e.map((n,i)=>e[(t+i)%e.length])}var LF=Wk,jF=Zk,IF=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Gc=new WeakMap,Hm=new WeakMap,qm={},Rb=0,Qk=function(e){return e&&(e.host||Qk(e.parentNode))},zF=function(e,t){return t.map(function(n){if(e.contains(n))return n;var i=Qk(n);return i&&e.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},BF=function(e,t,n,i){var s=zF(t,Array.isArray(e)?e:[e]);qm[n]||(qm[n]=new WeakMap);var o=qm[n],l=[],c=new Set,d=new Set(s),h=function(v){!v||c.has(v)||(c.add(v),h(v.parentNode))};s.forEach(h);var m=function(v){!v||d.has(v)||Array.prototype.forEach.call(v.children,function(b){if(c.has(b))m(b);else try{var _=b.getAttribute(i),C=_!==null&&_!=="false",E=(Gc.get(b)||0)+1,T=(o.get(b)||0)+1;Gc.set(b,E),o.set(b,T),l.push(b),E===1&&C&&Hm.set(b,!0),T===1&&b.setAttribute(n,"true"),C||b.setAttribute(i,"true")}catch(k){console.error("aria-hidden: cannot operate on ",b,k)}})};return m(t),c.clear(),Rb++,function(){l.forEach(function(v){var b=Gc.get(v)-1,_=o.get(v)-1;Gc.set(v,b),o.set(v,_),b||(Hm.has(v)||v.removeAttribute(i),Hm.delete(v)),_||v.removeAttribute(n)}),Rb--,Rb||(Gc=new WeakMap,Gc=new WeakMap,Hm=new WeakMap,qm={})}},w_=function(e,t,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),s=IF(e);return s?(i.push.apply(i,Array.from(s.querySelectorAll("[aria-live], script"))),BF(i,s,n,"aria-hidden")):function(){return null}},Hr=function(){return Hr=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Hr.apply(this,arguments)};function ju(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function UF(e,t,n,i){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(m){try{h(i.next(m))}catch(v){l(v)}}function d(m){try{h(i.throw(m))}catch(v){l(v)}}function h(m){m.done?o(m.value):s(m.value).then(c,d)}h((i=i.apply(e,t||[])).next())})}function FF(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,o;i<s;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))}var wp="right-scroll-bar-position",Sp="width-before-scroll-bar",VF="with-scroll-bars-hidden",$F="--removed-body-scroll-bar-size";function Nb(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function HF(e,t){var n=x.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(i){var s=n.value;s!==i&&(n.value=i,n.callback(i,s))}}}})[0];return n.callback=t,n.facade}var qF=typeof window<"u"?x.useLayoutEffect:x.useEffect,o1=new WeakMap;function GF(e,t){var n=HF(null,function(i){return e.forEach(function(s){return Nb(s,i)})});return qF(function(){var i=o1.get(n);if(i){var s=new Set(i),o=new Set(e),l=n.current;s.forEach(function(c){o.has(c)||Nb(c,null)}),o.forEach(function(c){s.has(c)||Nb(c,l)})}o1.set(n,e)},[e]),n}function KF(e){return e}function WF(e,t){t===void 0&&(t=KF);var n=[],i=!1,s={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var l=t(o,i);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(o){for(i=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){i=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(o),l=n}var d=function(){var m=l;l=[],m.forEach(o)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(m){l.push(m),h()},filter:function(m){return l=l.filter(m),n}}}};return s}function YF(e){e===void 0&&(e={});var t=WF(null);return t.options=Hr({async:!0,ssr:!1},e),t}var Jk=function(e){var t=e.sideCar,n=ju(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return x.createElement(i,Hr({},n))};Jk.isSideCarExport=!0;function ZF(e,t){return e.useMedium(t),Jk}var eP=YF(),kb=function(){},Lg=x.forwardRef(function(e,t){var n=x.useRef(null),i=x.useState({onScrollCapture:kb,onWheelCapture:kb,onTouchMoveCapture:kb}),s=i[0],o=i[1],l=e.forwardProps,c=e.children,d=e.className,h=e.removeScrollBar,m=e.enabled,v=e.shards,b=e.sideCar,_=e.noRelative,C=e.noIsolation,E=e.inert,T=e.allowPinchZoom,k=e.as,N=k===void 0?"div":k,P=e.gapMode,O=ju(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=b,V=GF([n,t]),z=Hr(Hr({},O),s);return x.createElement(x.Fragment,null,m&&x.createElement(j,{sideCar:eP,removeScrollBar:h,shards:v,noRelative:_,noIsolation:C,inert:E,setCallbacks:o,allowPinchZoom:!!T,lockRef:n,gapMode:P}),l?x.cloneElement(x.Children.only(c),Hr(Hr({},z),{ref:V})):x.createElement(N,Hr({},z,{className:d,ref:V}),c))});Lg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lg.classNames={fullWidth:Sp,zeroRight:wp};var XF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function QF(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=XF();return t&&e.setAttribute("nonce",t),e}function JF(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function eV(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var tV=function(){var e=0,t=null;return{add:function(n){e==0&&(t=QF())&&(JF(t,n),eV(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},nV=function(){var e=tV();return function(t,n){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},tP=function(){var e=nV(),t=function(n){var i=n.styles,s=n.dynamic;return e(i,s),null};return t},iV={left:0,top:0,right:0,gap:0},Pb=function(e){return parseInt(e||"",10)||0},sV=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Pb(n),Pb(i),Pb(s)]},rV=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return iV;var t=sV(e),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-n+t[2]-t[0])}},oV=tP(),xu="data-scroll-locked",aV=function(e,t,n,i){var s=e.left,o=e.top,l=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(VF,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(c,"px ").concat(i,`;
  }
  body[`).concat(xu,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wp,` {
    right: `).concat(c,"px ").concat(i,`;
  }
  
  .`).concat(Sp,` {
    margin-right: `).concat(c,"px ").concat(i,`;
  }
  
  .`).concat(wp," .").concat(wp,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Sp," .").concat(Sp,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(xu,`] {
    `).concat($F,": ").concat(c,`px;
  }
`)},a1=function(){var e=parseInt(document.body.getAttribute(xu)||"0",10);return isFinite(e)?e:0},lV=function(){x.useEffect(function(){return document.body.setAttribute(xu,(a1()+1).toString()),function(){var e=a1()-1;e<=0?document.body.removeAttribute(xu):document.body.setAttribute(xu,e.toString())}},[])},cV=function(e){var t=e.noRelative,n=e.noImportant,i=e.gapMode,s=i===void 0?"margin":i;lV();var o=x.useMemo(function(){return rV(s)},[s]);return x.createElement(oV,{styles:aV(o,!t,s,n?"":"!important")})},D0=!1;if(typeof window<"u")try{var Gm=Object.defineProperty({},"passive",{get:function(){return D0=!0,!0}});window.addEventListener("test",Gm,Gm),window.removeEventListener("test",Gm,Gm)}catch{D0=!1}var Kc=D0?{passive:!1}:!1,uV=function(e){return e.tagName==="TEXTAREA"},nP=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!uV(e)&&n[t]==="visible")},dV=function(e){return nP(e,"overflowY")},fV=function(e){return nP(e,"overflowX")},l1=function(e,t){var n=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var s=iP(e,i);if(s){var o=sP(e,i),l=o[1],c=o[2];if(l>c)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},hV=function(e){var t=e.scrollTop,n=e.scrollHeight,i=e.clientHeight;return[t,n,i]},mV=function(e){var t=e.scrollLeft,n=e.scrollWidth,i=e.clientWidth;return[t,n,i]},iP=function(e,t){return e==="v"?dV(t):fV(t)},sP=function(e,t){return e==="v"?hV(t):mV(t)},pV=function(e,t){return e==="h"&&t==="rtl"?-1:1},gV=function(e,t,n,i,s){var o=pV(e,window.getComputedStyle(t).direction),l=o*i,c=n.target,d=t.contains(c),h=!1,m=l>0,v=0,b=0;do{if(!c)break;var _=sP(e,c),C=_[0],E=_[1],T=_[2],k=E-T-o*C;(C||k)&&iP(e,c)&&(v+=k,b+=C);var N=c.parentNode;c=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(m&&Math.abs(v)<1||!m&&Math.abs(b)<1)&&(h=!0),h},Km=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},c1=function(e){return[e.deltaX,e.deltaY]},u1=function(e){return e&&"current"in e?e.current:e},vV=function(e,t){return e[0]===t[0]&&e[1]===t[1]},yV=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},bV=0,Wc=[];function xV(e){var t=x.useRef([]),n=x.useRef([0,0]),i=x.useRef(),s=x.useState(bV++)[0],o=x.useState(tP)[0],l=x.useRef(e);x.useEffect(function(){l.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var E=FF([e.lockRef.current],(e.shards||[]).map(u1),!0).filter(Boolean);return E.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),E.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var c=x.useCallback(function(E,T){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!l.current.allowPinchZoom;var k=Km(E),N=n.current,P="deltaX"in E?E.deltaX:N[0]-k[0],O="deltaY"in E?E.deltaY:N[1]-k[1],j,V=E.target,z=Math.abs(P)>Math.abs(O)?"h":"v";if("touches"in E&&z==="h"&&V.type==="range")return!1;var I=window.getSelection(),$=I&&I.anchorNode,Z=$?$===V||$.contains(V):!1;if(Z)return!1;var K=l1(z,V);if(!K)return!0;if(K?j=z:(j=z==="v"?"h":"v",K=l1(z,V)),!K)return!1;if(!i.current&&"changedTouches"in E&&(P||O)&&(i.current=j),!j)return!0;var Y=i.current||j;return gV(Y,T,E,Y==="h"?P:O)},[]),d=x.useCallback(function(E){var T=E;if(!(!Wc.length||Wc[Wc.length-1]!==o)){var k="deltaY"in T?c1(T):Km(T),N=t.current.filter(function(j){return j.name===T.type&&(j.target===T.target||T.target===j.shadowParent)&&vV(j.delta,k)})[0];if(N&&N.should){T.cancelable&&T.preventDefault();return}if(!N){var P=(l.current.shards||[]).map(u1).filter(Boolean).filter(function(j){return j.contains(T.target)}),O=P.length>0?c(T,P[0]):!l.current.noIsolation;O&&T.cancelable&&T.preventDefault()}}},[]),h=x.useCallback(function(E,T,k,N){var P={name:E,delta:T,target:k,should:N,shadowParent:_V(k)};t.current.push(P),setTimeout(function(){t.current=t.current.filter(function(O){return O!==P})},1)},[]),m=x.useCallback(function(E){n.current=Km(E),i.current=void 0},[]),v=x.useCallback(function(E){h(E.type,c1(E),E.target,c(E,e.lockRef.current))},[]),b=x.useCallback(function(E){h(E.type,Km(E),E.target,c(E,e.lockRef.current))},[]);x.useEffect(function(){return Wc.push(o),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:b}),document.addEventListener("wheel",d,Kc),document.addEventListener("touchmove",d,Kc),document.addEventListener("touchstart",m,Kc),function(){Wc=Wc.filter(function(E){return E!==o}),document.removeEventListener("wheel",d,Kc),document.removeEventListener("touchmove",d,Kc),document.removeEventListener("touchstart",m,Kc)}},[]);var _=e.removeScrollBar,C=e.inert;return x.createElement(x.Fragment,null,C?x.createElement(o,{styles:yV(s)}):null,_?x.createElement(cV,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function _V(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const wV=ZF(eP,xV);var jg=x.forwardRef(function(e,t){return x.createElement(Lg,Hr({},e,{ref:t,sideCar:wV}))});jg.classNames=Lg.classNames;var L0=["Enter"," "],SV=["ArrowDown","PageUp","Home"],rP=["ArrowUp","PageDown","End"],CV=[...SV,...rP],EV={ltr:[...L0,"ArrowRight"],rtl:[...L0,"ArrowLeft"]},AV={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Jf="Menu",[Cf,TV,RV]=Tg(Jf),[nc,oP]=M5(Jf,[RV,Lu,Kk]),eh=Lu(),aP=Kk(),[lP,Ua]=nc(Jf),[NV,th]=nc(Jf),cP=e=>{const{__scopeMenu:t,open:n=!1,children:i,dir:s,onOpenChange:o,modal:l=!0}=e,c=eh(t),[d,h]=x.useState(null),m=x.useRef(!1),v=Gs(o),b=Rg(s);return x.useEffect(()=>{const _=()=>{m.current=!0,document.addEventListener("pointerdown",C,{capture:!0,once:!0}),document.addEventListener("pointermove",C,{capture:!0,once:!0})},C=()=>m.current=!1;return document.addEventListener("keydown",_,{capture:!0}),()=>{document.removeEventListener("keydown",_,{capture:!0}),document.removeEventListener("pointerdown",C,{capture:!0}),document.removeEventListener("pointermove",C,{capture:!0})}},[]),y.jsx(Dg,{...c,children:y.jsx(lP,{scope:t,open:n,onOpenChange:v,content:d,onContentChange:h,children:y.jsx(NV,{scope:t,onClose:x.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:m,dir:b,modal:l,children:i})})})};cP.displayName=Jf;var kV="MenuAnchor",S_=x.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e,s=eh(n);return y.jsx(b_,{...s,...i,ref:t})});S_.displayName=kV;var C_="MenuPortal",[PV,uP]=nc(C_,{forceMount:void 0}),dP=e=>{const{__scopeMenu:t,forceMount:n,children:i,container:s}=e,o=Ua(C_,t);return y.jsx(PV,{scope:t,forceMount:n,children:y.jsx(_r,{present:n||o.open,children:y.jsx(Zf,{asChild:!0,container:s,children:i})})})};dP.displayName=C_;var $s="MenuContent",[OV,E_]=nc($s),fP=x.forwardRef((e,t)=>{const n=uP($s,e.__scopeMenu),{forceMount:i=n.forceMount,...s}=e,o=Ua($s,e.__scopeMenu),l=th($s,e.__scopeMenu);return y.jsx(Cf.Provider,{scope:e.__scopeMenu,children:y.jsx(_r,{present:i||o.open,children:y.jsx(Cf.Slot,{scope:e.__scopeMenu,children:l.modal?y.jsx(MV,{...s,ref:t}):y.jsx(DV,{...s,ref:t})})})})}),MV=x.forwardRef((e,t)=>{const n=Ua($s,e.__scopeMenu),i=x.useRef(null),s=St(t,i);return x.useEffect(()=>{const o=i.current;if(o)return w_(o)},[]),y.jsx(A_,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ie(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),DV=x.forwardRef((e,t)=>{const n=Ua($s,e.__scopeMenu);return y.jsx(A_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),LV=Hk("MenuContent.ScrollLock"),A_=x.forwardRef((e,t)=>{const{__scopeMenu:n,loop:i=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:v,onInteractOutside:b,onDismiss:_,disableOutsideScroll:C,...E}=e,T=Ua($s,n),k=th($s,n),N=eh(n),P=aP(n),O=TV(n),[j,V]=x.useState(null),z=x.useRef(null),I=St(t,z,T.onContentChange),$=x.useRef(0),Z=x.useRef(""),K=x.useRef(0),Y=x.useRef(null),Q=x.useRef("right"),ie=x.useRef(0),ge=C?jg:x.Fragment,q=C?{as:LV,allowPinchZoom:!0}:void 0,W=de=>{const ae=Z.current+de,G=O().filter(we=>!we.disabled),oe=document.activeElement,be=G.find(we=>we.ref.current===oe)?.textValue,xe=G.map(we=>we.textValue),Re=KV(xe,ae,be),Se=G.find(we=>we.textValue===Re)?.ref.current;(function we(je){Z.current=je,window.clearTimeout($.current),je!==""&&($.current=window.setTimeout(()=>we(""),1e3))})(ae),Se&&setTimeout(()=>Se.focus())};x.useEffect(()=>()=>window.clearTimeout($.current),[]),u_();const ee=x.useCallback(de=>Q.current===Y.current?.side&&YV(de,Y.current?.area),[]);return y.jsx(OV,{scope:n,searchRef:Z,onItemEnter:x.useCallback(de=>{ee(de)&&de.preventDefault()},[ee]),onItemLeave:x.useCallback(de=>{ee(de)||(z.current?.focus(),V(null))},[ee]),onTriggerLeave:x.useCallback(de=>{ee(de)&&de.preventDefault()},[ee]),pointerGraceTimerRef:K,onPointerGraceIntentChange:x.useCallback(de=>{Y.current=de},[]),children:y.jsx(ge,{...q,children:y.jsx(Ng,{asChild:!0,trapped:s,onMountAutoFocus:Ie(o,de=>{de.preventDefault(),z.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:y.jsx(Wf,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:v,onInteractOutside:b,onDismiss:_,children:y.jsx(LF,{asChild:!0,...P,dir:k.dir,orientation:"vertical",loop:i,currentTabStopId:j,onCurrentTabStopIdChange:V,onEntryFocus:Ie(d,de=>{k.isUsingKeyboardRef.current||de.preventDefault()}),preventScrollOnEntryFocus:!0,children:y.jsx(x_,{role:"menu","aria-orientation":"vertical","data-state":NP(T.open),"data-radix-menu-content":"",dir:k.dir,...N,...E,ref:I,style:{outline:"none",...E.style},onKeyDown:Ie(E.onKeyDown,de=>{const G=de.target.closest("[data-radix-menu-content]")===de.currentTarget,oe=de.ctrlKey||de.altKey||de.metaKey,be=de.key.length===1;G&&(de.key==="Tab"&&de.preventDefault(),!oe&&be&&W(de.key));const xe=z.current;if(de.target!==xe||!CV.includes(de.key))return;de.preventDefault();const Se=O().filter(we=>!we.disabled).map(we=>we.ref.current);rP.includes(de.key)&&Se.reverse(),qV(Se)}),onBlur:Ie(e.onBlur,de=>{de.currentTarget.contains(de.target)||(window.clearTimeout($.current),Z.current="")}),onPointerMove:Ie(e.onPointerMove,Ef(de=>{const ae=de.target,G=ie.current!==de.clientX;if(de.currentTarget.contains(ae)&&G){const oe=de.clientX>ie.current?"right":"left";Q.current=oe,ie.current=de.clientX}}))})})})})})})});fP.displayName=$s;var jV="MenuGroup",T_=x.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e;return y.jsx(Xf.div,{role:"group",...i,ref:t})});T_.displayName=jV;var IV="MenuLabel",hP=x.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e;return y.jsx(Xf.div,{...i,ref:t})});hP.displayName=IV;var Kp="MenuItem",d1="menu.itemSelect",Ig=x.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:i,...s}=e,o=x.useRef(null),l=th(Kp,e.__scopeMenu),c=E_(Kp,e.__scopeMenu),d=St(t,o),h=x.useRef(!1),m=()=>{const v=o.current;if(!n&&v){const b=new CustomEvent(d1,{bubbles:!0,cancelable:!0});v.addEventListener(d1,_=>i?.(_),{once:!0}),pF(v,b),b.defaultPrevented?h.current=!1:l.onClose()}};return y.jsx(mP,{...s,ref:d,disabled:n,onClick:Ie(e.onClick,m),onPointerDown:v=>{e.onPointerDown?.(v),h.current=!0},onPointerUp:Ie(e.onPointerUp,v=>{h.current||v.currentTarget?.click()}),onKeyDown:Ie(e.onKeyDown,v=>{const b=c.searchRef.current!=="";n||b&&v.key===" "||L0.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});Ig.displayName=Kp;var mP=x.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:i=!1,textValue:s,...o}=e,l=E_(Kp,n),c=aP(n),d=x.useRef(null),h=St(t,d),[m,v]=x.useState(!1),[b,_]=x.useState("");return x.useEffect(()=>{const C=d.current;C&&_((C.textContent??"").trim())},[o.children]),y.jsx(Cf.ItemSlot,{scope:n,disabled:i,textValue:s??b,children:y.jsx(jF,{asChild:!0,...c,focusable:!i,children:y.jsx(Xf.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...o,ref:h,onPointerMove:Ie(e.onPointerMove,Ef(C=>{i?l.onItemLeave(C):(l.onItemEnter(C),C.defaultPrevented||C.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ie(e.onPointerLeave,Ef(C=>l.onItemLeave(C))),onFocus:Ie(e.onFocus,()=>v(!0)),onBlur:Ie(e.onBlur,()=>v(!1))})})})}),zV="MenuCheckboxItem",pP=x.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:i,...s}=e;return y.jsx(xP,{scope:e.__scopeMenu,checked:n,children:y.jsx(Ig,{role:"menuitemcheckbox","aria-checked":Wp(n)?"mixed":n,...s,ref:t,"data-state":k_(n),onSelect:Ie(s.onSelect,()=>i?.(Wp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});pP.displayName=zV;var gP="MenuRadioGroup",[BV,UV]=nc(gP,{value:void 0,onValueChange:()=>{}}),vP=x.forwardRef((e,t)=>{const{value:n,onValueChange:i,...s}=e,o=Gs(i);return y.jsx(BV,{scope:e.__scopeMenu,value:n,onValueChange:o,children:y.jsx(T_,{...s,ref:t})})});vP.displayName=gP;var yP="MenuRadioItem",bP=x.forwardRef((e,t)=>{const{value:n,...i}=e,s=UV(yP,e.__scopeMenu),o=n===s.value;return y.jsx(xP,{scope:e.__scopeMenu,checked:o,children:y.jsx(Ig,{role:"menuitemradio","aria-checked":o,...i,ref:t,"data-state":k_(o),onSelect:Ie(i.onSelect,()=>s.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});bP.displayName=yP;var R_="MenuItemIndicator",[xP,FV]=nc(R_,{checked:!1}),_P=x.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:i,...s}=e,o=FV(R_,n);return y.jsx(_r,{present:i||Wp(o.checked)||o.checked===!0,children:y.jsx(Xf.span,{...s,ref:t,"data-state":k_(o.checked)})})});_P.displayName=R_;var VV="MenuSeparator",wP=x.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e;return y.jsx(Xf.div,{role:"separator","aria-orientation":"horizontal",...i,ref:t})});wP.displayName=VV;var $V="MenuArrow",SP=x.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e,s=eh(n);return y.jsx(__,{...s,...i,ref:t})});SP.displayName=$V;var N_="MenuSub",[HV,CP]=nc(N_),EP=e=>{const{__scopeMenu:t,children:n,open:i=!1,onOpenChange:s}=e,o=Ua(N_,t),l=eh(t),[c,d]=x.useState(null),[h,m]=x.useState(null),v=Gs(s);return x.useEffect(()=>(o.open===!1&&v(!1),()=>v(!1)),[o.open,v]),y.jsx(Dg,{...l,children:y.jsx(lP,{scope:t,open:i,onOpenChange:v,content:h,onContentChange:m,children:y.jsx(HV,{scope:t,contentId:xs(),triggerId:xs(),trigger:c,onTriggerChange:d,children:n})})})};EP.displayName=N_;var ef="MenuSubTrigger",AP=x.forwardRef((e,t)=>{const n=Ua(ef,e.__scopeMenu),i=th(ef,e.__scopeMenu),s=CP(ef,e.__scopeMenu),o=E_(ef,e.__scopeMenu),l=x.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=o,h={__scopeMenu:e.__scopeMenu},m=x.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return x.useEffect(()=>m,[m]),x.useEffect(()=>{const v=c.current;return()=>{window.clearTimeout(v),d(null)}},[c,d]),y.jsx(S_,{asChild:!0,...h,children:y.jsx(mP,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":NP(n.open),...e,ref:Hn(t,s.onTriggerChange),onClick:v=>{e.onClick?.(v),!(e.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ie(e.onPointerMove,Ef(v=>{o.onItemEnter(v),!v.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(o.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:Ie(e.onPointerLeave,Ef(v=>{m();const b=n.content?.getBoundingClientRect();if(b){const _=n.content?.dataset.side,C=_==="right",E=C?-5:5,T=b[C?"left":"right"],k=b[C?"right":"left"];o.onPointerGraceIntentChange({area:[{x:v.clientX+E,y:v.clientY},{x:T,y:b.top},{x:k,y:b.top},{x:k,y:b.bottom},{x:T,y:b.bottom}],side:_}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(v),v.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Ie(e.onKeyDown,v=>{const b=o.searchRef.current!=="";e.disabled||b&&v.key===" "||EV[i.dir].includes(v.key)&&(n.onOpenChange(!0),n.content?.focus(),v.preventDefault())})})})});AP.displayName=ef;var TP="MenuSubContent",RP=x.forwardRef((e,t)=>{const n=uP($s,e.__scopeMenu),{forceMount:i=n.forceMount,...s}=e,o=Ua($s,e.__scopeMenu),l=th($s,e.__scopeMenu),c=CP(TP,e.__scopeMenu),d=x.useRef(null),h=St(t,d);return y.jsx(Cf.Provider,{scope:e.__scopeMenu,children:y.jsx(_r,{present:i||o.open,children:y.jsx(Cf.Slot,{scope:e.__scopeMenu,children:y.jsx(A_,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:h,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{l.isUsingKeyboardRef.current&&d.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:Ie(e.onFocusOutside,m=>{m.target!==c.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Ie(e.onEscapeKeyDown,m=>{l.onClose(),m.preventDefault()}),onKeyDown:Ie(e.onKeyDown,m=>{const v=m.currentTarget.contains(m.target),b=AV[l.dir].includes(m.key);v&&b&&(o.onOpenChange(!1),c.trigger?.focus(),m.preventDefault())})})})})})});RP.displayName=TP;function NP(e){return e?"open":"closed"}function Wp(e){return e==="indeterminate"}function k_(e){return Wp(e)?"indeterminate":e?"checked":"unchecked"}function qV(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function GV(e,t){return e.map((n,i)=>e[(t+i)%e.length])}function KV(e,t,n){const s=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let l=GV(e,Math.max(o,0));s.length===1&&(l=l.filter(h=>h!==n));const d=l.find(h=>h.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function WV(e,t){const{x:n,y:i}=e;let s=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const c=t[o],d=t[l],h=c.x,m=c.y,v=d.x,b=d.y;m>i!=b>i&&n<(v-h)*(i-m)/(b-m)+h&&(s=!s)}return s}function YV(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return WV(n,t)}function Ef(e){return t=>t.pointerType==="mouse"?e(t):void 0}var ZV=cP,XV=S_,QV=dP,JV=fP,e$=T_,t$=hP,n$=Ig,i$=pP,s$=vP,r$=bP,o$=_P,a$=wP,l$=SP,c$=EP,u$=AP,d$=RP,zg="DropdownMenu",[f$]=h5(zg,[oP]),Ai=oP(),[h$,kP]=f$(zg),PP=e=>{const{__scopeDropdownMenu:t,children:n,dir:i,open:s,defaultOpen:o,onOpenChange:l,modal:c=!0}=e,d=Ai(t),h=x.useRef(null),[m,v]=Do({prop:s,defaultProp:o??!1,onChange:l,caller:zg});return y.jsx(h$,{scope:t,triggerId:xs(),triggerRef:h,contentId:xs(),open:m,onOpenChange:v,onOpenToggle:x.useCallback(()=>v(b=>!b),[v]),modal:c,children:y.jsx(ZV,{...d,open:m,onOpenChange:v,dir:i,modal:c,children:n})})};PP.displayName=zg;var OP="DropdownMenuTrigger",MP=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:i=!1,...s}=e,o=kP(OP,n),l=Ai(n);return y.jsx(XV,{asChild:!0,...l,children:y.jsx(E5.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...s,ref:Hn(t,o.triggerRef),onPointerDown:Ie(e.onPointerDown,c=>{!i&&c.button===0&&c.ctrlKey===!1&&(o.onOpenToggle(),o.open||c.preventDefault())}),onKeyDown:Ie(e.onKeyDown,c=>{i||(["Enter"," "].includes(c.key)&&o.onOpenToggle(),c.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});MP.displayName=OP;var m$="DropdownMenuPortal",DP=e=>{const{__scopeDropdownMenu:t,...n}=e,i=Ai(t);return y.jsx(QV,{...i,...n})};DP.displayName=m$;var LP="DropdownMenuContent",jP=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=kP(LP,n),o=Ai(n),l=x.useRef(!1);return y.jsx(JV,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...i,ref:t,onCloseAutoFocus:Ie(e.onCloseAutoFocus,c=>{l.current||s.triggerRef.current?.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:Ie(e.onInteractOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,m=d.button===2||h;(!s.modal||m)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jP.displayName=LP;var p$="DropdownMenuGroup",IP=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(e$,{...s,...i,ref:t})});IP.displayName=p$;var g$="DropdownMenuLabel",v$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(t$,{...s,...i,ref:t})});v$.displayName=g$;var y$="DropdownMenuItem",zP=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(n$,{...s,...i,ref:t})});zP.displayName=y$;var b$="DropdownMenuCheckboxItem",x$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(i$,{...s,...i,ref:t})});x$.displayName=b$;var _$="DropdownMenuRadioGroup",w$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(s$,{...s,...i,ref:t})});w$.displayName=_$;var S$="DropdownMenuRadioItem",C$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(r$,{...s,...i,ref:t})});C$.displayName=S$;var E$="DropdownMenuItemIndicator",A$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(o$,{...s,...i,ref:t})});A$.displayName=E$;var T$="DropdownMenuSeparator",BP=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(a$,{...s,...i,ref:t})});BP.displayName=T$;var R$="DropdownMenuArrow",N$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(l$,{...s,...i,ref:t})});N$.displayName=R$;var k$=e=>{const{__scopeDropdownMenu:t,children:n,open:i,onOpenChange:s,defaultOpen:o}=e,l=Ai(t),[c,d]=Do({prop:i,defaultProp:o??!1,onChange:s,caller:"DropdownMenuSub"});return y.jsx(c$,{...l,open:c,onOpenChange:d,children:n})},P$="DropdownMenuSubTrigger",UP=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(u$,{...s,...i,ref:t})});UP.displayName=P$;var O$="DropdownMenuSubContent",FP=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(d$,{...s,...i,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});FP.displayName=O$;var M$=PP,D$=MP,VP=DP,L$=jP,j$=IP,I$=zP,z$=BP,B$=k$,U$=UP,F$=FP;const $P=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim();const V$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const $$=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase());const f1=e=>{const t=$$(e);return t.charAt(0).toUpperCase()+t.slice(1)};var H$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const q$=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const G$=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:o,iconNode:l,...c},d)=>x.createElement("svg",{ref:d,...H$,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:$P("lucide",s),...!o&&!q$(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,m])=>x.createElement(h,m)),...Array.isArray(o)?o:[o]]));const it=(e,t)=>{const n=x.forwardRef(({className:i,...s},o)=>x.createElement(G$,{ref:o,iconNode:t,className:$P(`lucide-${V$(f1(e))}`,`lucide-${e}`,i),...s}));return n.displayName=f1(e),n};const K$=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Bg=it("arrow-left",K$);const W$=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Y$=it("arrow-up-down",W$);const Z$=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],X$=it("award",Z$);const Q$=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],HP=it("check",Q$);const J$=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ka=it("chevron-down",J$);const e6=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ug=it("chevron-left",e6);const t6=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ic=it("chevron-right",t6);const n6=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],P_=it("chevron-up",n6);const i6=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],s6=it("circle-check-big",i6);const r6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],o6=it("circle-check",r6);const a6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],l6=it("circle-question-mark",a6);const c6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],u6=it("clock",c6);const d6=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],f6=it("crown",d6);const h6=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],m6=it("database",h6);const p6=[["path",{d:"M15 2c-1.35 1.5-2.092 3-2.5 4.5L14 8",key:"1bivrr"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c3.333-3 6.667-3 10-3",key:"nxix30"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M22 9c-1.5 1.35-3 2.092-4.5 2.5l-1-1",key:"18cutr"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.35-1.5 2.092-3 2.5-4.5L10 16",key:"rlvei3"}]],qP=it("dna-off",p6);const g6=[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]],GP=it("dna",g6);const v6=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],y6=it("eye",v6);const b6=[["path",{d:"M6 3v12",key:"qpgusn"}],["path",{d:"M18 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",key:"1d02ji"}],["path",{d:"M6 21a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",key:"chk6ph"}],["path",{d:"M15 6a9 9 0 0 0-9 9",key:"or332x"}],["path",{d:"M18 15v6",key:"9wciyi"}],["path",{d:"M21 18h-6",key:"139f0c"}]],x6=it("git-branch-plus",b6);const _6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],w6=it("globe",_6);const S6=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],KP=it("grip-vertical",S6);const C6=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Yp=it("heart",C6);const E6=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]],WP=it("image-off",E6);const A6=[["path",{d:"m22 11-1.296-1.296a2.4 2.4 0 0 0-3.408 0L11 16",key:"9kzy35"}],["path",{d:"M4 8a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2",key:"1t0f0t"}],["circle",{cx:"13",cy:"7",r:"1",fill:"currentColor",key:"1obus6"}],["rect",{x:"8",y:"2",width:"14",height:"14",rx:"2",key:"1gvhby"}]],O_=it("images",A6);const T6=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],R6=it("image",T6);const N6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],M_=it("info",N6);const k6=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],P6=it("lightbulb",k6);const O6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],YP=it("loader-circle",O6);const M6=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],nh=it("loader",M6);const D6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],L6=it("lock",D6);const j6=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],I6=it("log-in",j6);const z6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],h1=it("log-out",z6);const B6=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],U6=it("menu",B6);const F6=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],V6=it("pause",F6);const $6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ZP=it("pencil",$6);const H6=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],q6=it("play",H6);const G6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Zp=it("plus",G6);const K6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],W6=it("rotate-ccw",K6);const Y6=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],XP=it("route",Y6);const Z6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],QP=it("search",Z6);const X6=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Q6=it("settings",X6);const J6=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],JP=it("shuffle",J6);const eH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],tH=it("target",eH);const nH=[["path",{d:"m10.065 12.493-6.18 1.318a.934.934 0 0 1-1.108-.702l-.537-2.15a1.07 1.07 0 0 1 .691-1.265l13.504-4.44",key:"k4qptu"}],["path",{d:"m13.56 11.747 4.332-.924",key:"19l80z"}],["path",{d:"m16 21-3.105-6.21",key:"7oh9d"}],["path",{d:"M16.485 5.94a2 2 0 0 1 1.455-2.425l1.09-.272a1 1 0 0 1 1.212.727l1.515 6.06a1 1 0 0 1-.727 1.213l-1.09.272a2 2 0 0 1-2.425-1.455z",key:"m7xp4m"}],["path",{d:"m6.158 8.633 1.114 4.456",key:"74o979"}],["path",{d:"m8 21 3.105-6.21",key:"1fvxut"}],["circle",{cx:"12",cy:"13",r:"2",key:"1c1ljs"}]],iH=it("telescope",nH);const sH=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],rH=it("trending-up",sH);const oH=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],eO=it("triangle-alert",oH);const aH=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],tO=it("trophy",aH);const lH=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],cH=it("volume-2",lH);const uH=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],dH=it("volume-x",uH);const fH=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ia=it("x",fH);const hH=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],mH=it("zap",hH);function nO(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=nO(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function iO(){for(var e,t,n=0,i="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=nO(e))&&(i&&(i+=" "),i+=t);return i}const pH=(e,t)=>{const n=new Array(e.length+t.length);for(let i=0;i<e.length;i++)n[i]=e[i];for(let i=0;i<t.length;i++)n[e.length+i]=t[i];return n},gH=(e,t)=>({classGroupId:e,validator:t}),sO=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Xp="-",m1=[],vH="arbitrary..",yH=e=>{const t=xH(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return bH(l);const c=l.split(Xp),d=c[0]===""&&c.length>1?1:0;return rO(c,d,t)},getConflictingClassGroupIds:(l,c)=>{if(c){const d=i[l],h=n[l];return d?h?pH(h,d):d:h||m1}return n[l]||m1}}},rO=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const s=e[t],o=n.nextPart.get(s);if(o){const h=rO(e,t+1,o);if(h)return h}const l=n.validators;if(l===null)return;const c=t===0?e.join(Xp):e.slice(t).join(Xp),d=l.length;for(let h=0;h<d;h++){const m=l[h];if(m.validator(c))return m.classGroupId}},bH=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),i=t.slice(0,n);return i?vH+i:void 0})(),xH=e=>{const{theme:t,classGroups:n}=e;return _H(n,t)},_H=(e,t)=>{const n=sO();for(const i in e){const s=e[i];D_(s,n,i,t)}return n},D_=(e,t,n,i)=>{const s=e.length;for(let o=0;o<s;o++){const l=e[o];wH(l,t,n,i)}},wH=(e,t,n,i)=>{if(typeof e=="string"){SH(e,t,n);return}if(typeof e=="function"){CH(e,t,n,i);return}EH(e,t,n,i)},SH=(e,t,n)=>{const i=e===""?t:oO(t,e);i.classGroupId=n},CH=(e,t,n,i)=>{if(AH(e)){D_(e(i),t,n,i);return}t.validators===null&&(t.validators=[]),t.validators.push(gH(n,e))},EH=(e,t,n,i)=>{const s=Object.entries(e),o=s.length;for(let l=0;l<o;l++){const[c,d]=s[l];D_(d,oO(t,c),n,i)}},oO=(e,t)=>{let n=e;const i=t.split(Xp),s=i.length;for(let o=0;o<s;o++){const l=i[o];let c=n.nextPart.get(l);c||(c=sO(),n.nextPart.set(l,c)),n=c}return n},AH=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,TH=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),i=Object.create(null);const s=(o,l)=>{n[o]=l,t++,t>e&&(t=0,i=n,n=Object.create(null))};return{get(o){let l=n[o];if(l!==void 0)return l;if((l=i[o])!==void 0)return s(o,l),l},set(o,l){o in n?n[o]=l:s(o,l)}}},j0="!",p1=":",RH=[],g1=(e,t,n,i,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:i,isExternal:s}),NH=e=>{const{prefix:t,experimentalParseClassName:n}=e;let i=s=>{const o=[];let l=0,c=0,d=0,h;const m=s.length;for(let E=0;E<m;E++){const T=s[E];if(l===0&&c===0){if(T===p1){o.push(s.slice(d,E)),d=E+1;continue}if(T==="/"){h=E;continue}}T==="["?l++:T==="]"?l--:T==="("?c++:T===")"&&c--}const v=o.length===0?s:s.slice(d);let b=v,_=!1;v.endsWith(j0)?(b=v.slice(0,-1),_=!0):v.startsWith(j0)&&(b=v.slice(1),_=!0);const C=h&&h>d?h-d:void 0;return g1(o,_,b,C)};if(t){const s=t+p1,o=i;i=l=>l.startsWith(s)?o(l.slice(s.length)):g1(RH,!1,l,void 0,!0)}if(n){const s=i;i=o=>n({className:o,parseClassName:s})}return i},kH=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,i)=>{t.set(n,1e6+i)}),n=>{const i=[];let s=[];for(let o=0;o<n.length;o++){const l=n[o],c=l[0]==="[",d=t.has(l);c||d?(s.length>0&&(s.sort(),i.push(...s),s=[]),i.push(l)):s.push(l)}return s.length>0&&(s.sort(),i.push(...s)),i}},PH=e=>({cache:TH(e.cacheSize),parseClassName:NH(e),sortModifiers:kH(e),...yH(e)}),OH=/\s+/,MH=(e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:s,sortModifiers:o}=t,l=[],c=e.trim().split(OH);let d="";for(let h=c.length-1;h>=0;h-=1){const m=c[h],{isExternal:v,modifiers:b,hasImportantModifier:_,baseClassName:C,maybePostfixModifierPosition:E}=n(m);if(v){d=m+(d.length>0?" "+d:d);continue}let T=!!E,k=i(T?C.substring(0,E):C);if(!k){if(!T){d=m+(d.length>0?" "+d:d);continue}if(k=i(C),!k){d=m+(d.length>0?" "+d:d);continue}T=!1}const N=b.length===0?"":b.length===1?b[0]:o(b).join(":"),P=_?N+j0:N,O=P+k;if(l.indexOf(O)>-1)continue;l.push(O);const j=s(k,T);for(let V=0;V<j.length;++V){const z=j[V];l.push(P+z)}d=m+(d.length>0?" "+d:d)}return d},DH=(...e)=>{let t=0,n,i,s="";for(;t<e.length;)(n=e[t++])&&(i=aO(n))&&(s&&(s+=" "),s+=i);return s},aO=e=>{if(typeof e=="string")return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=aO(e[i]))&&(n&&(n+=" "),n+=t);return n},LH=(e,...t)=>{let n,i,s,o;const l=d=>{const h=t.reduce((m,v)=>v(m),e());return n=PH(h),i=n.cache.get,s=n.cache.set,o=c,c(d)},c=d=>{const h=i(d);if(h)return h;const m=MH(d,n);return s(d,m),m};return o=l,(...d)=>o(DH(...d))},jH=[],Bn=e=>{const t=n=>n[e]||jH;return t.isThemeGetter=!0,t},lO=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,cO=/^\((?:(\w[\w-]*):)?(.+)\)$/i,IH=/^\d+(?:\.\d+)?\/\d+(?:\.\d+)?$/,zH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,BH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,UH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,FH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,VH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ya=e=>IH.test(e),mt=e=>!!e&&!Number.isNaN(Number(e)),ba=e=>!!e&&Number.isInteger(Number(e)),Ob=e=>e.endsWith("%")&&mt(e.slice(0,-1)),Ao=e=>zH.test(e),uO=()=>!0,$H=e=>BH.test(e)&&!UH.test(e),L_=()=>!1,HH=e=>FH.test(e),qH=e=>VH.test(e),GH=e=>!Fe(e)&&!$e(e),KH=e=>Fa(e,hO,L_),Fe=e=>lO.test(e),Al=e=>Fa(e,mO,$H),v1=e=>Fa(e,t8,mt),WH=e=>Fa(e,gO,uO),YH=e=>Fa(e,pO,L_),y1=e=>Fa(e,dO,L_),ZH=e=>Fa(e,fO,qH),Wm=e=>Fa(e,vO,HH),$e=e=>cO.test(e),Yd=e=>sc(e,mO),XH=e=>sc(e,pO),b1=e=>sc(e,dO),QH=e=>sc(e,hO),JH=e=>sc(e,fO),Ym=e=>sc(e,vO,!0),e8=e=>sc(e,gO,!0),Fa=(e,t,n)=>{const i=lO.exec(e);return i?i[1]?t(i[1]):n(i[2]):!1},sc=(e,t,n=!1)=>{const i=cO.exec(e);return i?i[1]?t(i[1]):n:!1},dO=e=>e==="position"||e==="percentage",fO=e=>e==="image"||e==="url",hO=e=>e==="length"||e==="size"||e==="bg-size",mO=e=>e==="length",t8=e=>e==="number",pO=e=>e==="family-name",gO=e=>e==="number"||e==="weight",vO=e=>e==="shadow",n8=()=>{const e=Bn("color"),t=Bn("font"),n=Bn("text"),i=Bn("font-weight"),s=Bn("tracking"),o=Bn("leading"),l=Bn("breakpoint"),c=Bn("container"),d=Bn("spacing"),h=Bn("radius"),m=Bn("shadow"),v=Bn("inset-shadow"),b=Bn("text-shadow"),_=Bn("drop-shadow"),C=Bn("blur"),E=Bn("perspective"),T=Bn("aspect"),k=Bn("ease"),N=Bn("animate"),P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],j=()=>[...O(),$e,Fe],V=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],I=()=>[$e,Fe,d],$=()=>[ya,"full","auto",...I()],Z=()=>[ba,"none","subgrid",$e,Fe],K=()=>["auto",{span:["full",ba,$e,Fe]},ba,$e,Fe],Y=()=>[ba,"auto",$e,Fe],Q=()=>["auto","min","max","fr",$e,Fe],ie=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ge=()=>["start","end","center","stretch","center-safe","end-safe"],q=()=>["auto",...I()],W=()=>[ya,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],ee=()=>[ya,"screen","full","dvw","lvw","svw","min","max","fit",...I()],de=()=>[ya,"screen","full","lh","dvh","lvh","svh","min","max","fit",...I()],ae=()=>[e,$e,Fe],G=()=>[...O(),b1,y1,{position:[$e,Fe]}],oe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],be=()=>["auto","cover","contain",QH,KH,{size:[$e,Fe]}],xe=()=>[Ob,Yd,Al],Re=()=>["","none","full",h,$e,Fe],Se=()=>["",mt,Yd,Al],we=()=>["solid","dashed","dotted","double"],je=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],De=()=>[mt,Ob,b1,y1],Le=()=>["","none",C,$e,Fe],Xe=()=>["none",mt,$e,Fe],Qe=()=>["none",mt,$e,Fe],Ct=()=>[mt,$e,Fe],yt=()=>[ya,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ao],breakpoint:[Ao],color:[uO],container:[Ao],"drop-shadow":[Ao],ease:["in","out","in-out"],font:[GH],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ao],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ao],shadow:[Ao],spacing:["px",mt],text:[Ao],"text-shadow":[Ao],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ya,Fe,$e,T]}],container:["container"],columns:[{columns:[mt,Fe,$e,c]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:j()}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:$()}],"inset-x":[{"inset-x":$()}],"inset-y":[{"inset-y":$()}],start:[{"inset-s":$(),start:$()}],end:[{"inset-e":$(),end:$()}],"inset-bs":[{"inset-bs":$()}],"inset-be":[{"inset-be":$()}],top:[{top:$()}],right:[{right:$()}],bottom:[{bottom:$()}],left:[{left:$()}],visibility:["visible","invisible","collapse"],z:[{z:[ba,"auto",$e,Fe]}],basis:[{basis:[ya,"full","auto",c,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[mt,ya,"auto","initial","none",Fe]}],grow:[{grow:["",mt,$e,Fe]}],shrink:[{shrink:["",mt,$e,Fe]}],order:[{order:[ba,"first","last","none",$e,Fe]}],"grid-cols":[{"grid-cols":Z()}],"col-start-end":[{col:K()}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":Z()}],"row-start-end":[{row:K()}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Q()}],"auto-rows":[{"auto-rows":Q()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...ie(),"normal"]}],"justify-items":[{"justify-items":[...ge(),"normal"]}],"justify-self":[{"justify-self":["auto",...ge()]}],"align-content":[{content:["normal",...ie()]}],"align-items":[{items:[...ge(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ge(),{baseline:["","last"]}]}],"place-content":[{"place-content":ie()}],"place-items":[{"place-items":[...ge(),"baseline"]}],"place-self":[{"place-self":["auto",...ge()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pbs:[{pbs:I()}],pbe:[{pbe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:q()}],mx:[{mx:q()}],my:[{my:q()}],ms:[{ms:q()}],me:[{me:q()}],mbs:[{mbs:q()}],mbe:[{mbe:q()}],mt:[{mt:q()}],mr:[{mr:q()}],mb:[{mb:q()}],ml:[{ml:q()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],"inline-size":[{inline:["auto",...ee()]}],"min-inline-size":[{"min-inline":["auto",...ee()]}],"max-inline-size":[{"max-inline":["none",...ee()]}],"block-size":[{block:["auto",...de()]}],"min-block-size":[{"min-block":["auto",...de()]}],"max-block-size":[{"max-block":["none",...de()]}],w:[{w:[c,"screen",...W()]}],"min-w":[{"min-w":[c,"screen","none",...W()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...W()]}],h:[{h:["screen","lh",...W()]}],"min-h":[{"min-h":["screen","lh","none",...W()]}],"max-h":[{"max-h":["screen","lh",...W()]}],"font-size":[{text:["base",n,Yd,Al]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,e8,WH]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ob,Fe]}],"font-family":[{font:[XH,YH,t]}],"font-features":[{"font-features":[Fe]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,$e,Fe]}],"line-clamp":[{"line-clamp":[mt,"none",$e,v1]}],leading:[{leading:[o,...I()]}],"list-image":[{"list-image":["none",$e,Fe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",$e,Fe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ae()}],"text-color":[{text:ae()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...we(),"wavy"]}],"text-decoration-thickness":[{decoration:[mt,"from-font","auto",$e,Al]}],"text-decoration-color":[{decoration:ae()}],"underline-offset":[{"underline-offset":[mt,"auto",$e,Fe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e,Fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e,Fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:G()}],"bg-repeat":[{bg:oe()}],"bg-size":[{bg:be()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ba,$e,Fe],radial:["",$e,Fe],conic:[ba,$e,Fe]},JH,ZH]}],"bg-color":[{bg:ae()}],"gradient-from-pos":[{from:xe()}],"gradient-via-pos":[{via:xe()}],"gradient-to-pos":[{to:xe()}],"gradient-from":[{from:ae()}],"gradient-via":[{via:ae()}],"gradient-to":[{to:ae()}],rounded:[{rounded:Re()}],"rounded-s":[{"rounded-s":Re()}],"rounded-e":[{"rounded-e":Re()}],"rounded-t":[{"rounded-t":Re()}],"rounded-r":[{"rounded-r":Re()}],"rounded-b":[{"rounded-b":Re()}],"rounded-l":[{"rounded-l":Re()}],"rounded-ss":[{"rounded-ss":Re()}],"rounded-se":[{"rounded-se":Re()}],"rounded-ee":[{"rounded-ee":Re()}],"rounded-es":[{"rounded-es":Re()}],"rounded-tl":[{"rounded-tl":Re()}],"rounded-tr":[{"rounded-tr":Re()}],"rounded-br":[{"rounded-br":Re()}],"rounded-bl":[{"rounded-bl":Re()}],"border-w":[{border:Se()}],"border-w-x":[{"border-x":Se()}],"border-w-y":[{"border-y":Se()}],"border-w-s":[{"border-s":Se()}],"border-w-e":[{"border-e":Se()}],"border-w-bs":[{"border-bs":Se()}],"border-w-be":[{"border-be":Se()}],"border-w-t":[{"border-t":Se()}],"border-w-r":[{"border-r":Se()}],"border-w-b":[{"border-b":Se()}],"border-w-l":[{"border-l":Se()}],"divide-x":[{"divide-x":Se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...we(),"hidden","none"]}],"divide-style":[{divide:[...we(),"hidden","none"]}],"border-color":[{border:ae()}],"border-color-x":[{"border-x":ae()}],"border-color-y":[{"border-y":ae()}],"border-color-s":[{"border-s":ae()}],"border-color-e":[{"border-e":ae()}],"border-color-bs":[{"border-bs":ae()}],"border-color-be":[{"border-be":ae()}],"border-color-t":[{"border-t":ae()}],"border-color-r":[{"border-r":ae()}],"border-color-b":[{"border-b":ae()}],"border-color-l":[{"border-l":ae()}],"divide-color":[{divide:ae()}],"outline-style":[{outline:[...we(),"none","hidden"]}],"outline-offset":[{"outline-offset":[mt,$e,Fe]}],"outline-w":[{outline:["",mt,Yd,Al]}],"outline-color":[{outline:ae()}],shadow:[{shadow:["","none",m,Ym,Wm]}],"shadow-color":[{shadow:ae()}],"inset-shadow":[{"inset-shadow":["none",v,Ym,Wm]}],"inset-shadow-color":[{"inset-shadow":ae()}],"ring-w":[{ring:Se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ae()}],"ring-offset-w":[{"ring-offset":[mt,Al]}],"ring-offset-color":[{"ring-offset":ae()}],"inset-ring-w":[{"inset-ring":Se()}],"inset-ring-color":[{"inset-ring":ae()}],"text-shadow":[{"text-shadow":["none",b,Ym,Wm]}],"text-shadow-color":[{"text-shadow":ae()}],opacity:[{opacity:[mt,$e,Fe]}],"mix-blend":[{"mix-blend":[...je(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":je()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[mt]}],"mask-image-linear-from-pos":[{"mask-linear-from":De()}],"mask-image-linear-to-pos":[{"mask-linear-to":De()}],"mask-image-linear-from-color":[{"mask-linear-from":ae()}],"mask-image-linear-to-color":[{"mask-linear-to":ae()}],"mask-image-t-from-pos":[{"mask-t-from":De()}],"mask-image-t-to-pos":[{"mask-t-to":De()}],"mask-image-t-from-color":[{"mask-t-from":ae()}],"mask-image-t-to-color":[{"mask-t-to":ae()}],"mask-image-r-from-pos":[{"mask-r-from":De()}],"mask-image-r-to-pos":[{"mask-r-to":De()}],"mask-image-r-from-color":[{"mask-r-from":ae()}],"mask-image-r-to-color":[{"mask-r-to":ae()}],"mask-image-b-from-pos":[{"mask-b-from":De()}],"mask-image-b-to-pos":[{"mask-b-to":De()}],"mask-image-b-from-color":[{"mask-b-from":ae()}],"mask-image-b-to-color":[{"mask-b-to":ae()}],"mask-image-l-from-pos":[{"mask-l-from":De()}],"mask-image-l-to-pos":[{"mask-l-to":De()}],"mask-image-l-from-color":[{"mask-l-from":ae()}],"mask-image-l-to-color":[{"mask-l-to":ae()}],"mask-image-x-from-pos":[{"mask-x-from":De()}],"mask-image-x-to-pos":[{"mask-x-to":De()}],"mask-image-x-from-color":[{"mask-x-from":ae()}],"mask-image-x-to-color":[{"mask-x-to":ae()}],"mask-image-y-from-pos":[{"mask-y-from":De()}],"mask-image-y-to-pos":[{"mask-y-to":De()}],"mask-image-y-from-color":[{"mask-y-from":ae()}],"mask-image-y-to-color":[{"mask-y-to":ae()}],"mask-image-radial":[{"mask-radial":[$e,Fe]}],"mask-image-radial-from-pos":[{"mask-radial-from":De()}],"mask-image-radial-to-pos":[{"mask-radial-to":De()}],"mask-image-radial-from-color":[{"mask-radial-from":ae()}],"mask-image-radial-to-color":[{"mask-radial-to":ae()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":O()}],"mask-image-conic-pos":[{"mask-conic":[mt]}],"mask-image-conic-from-pos":[{"mask-conic-from":De()}],"mask-image-conic-to-pos":[{"mask-conic-to":De()}],"mask-image-conic-from-color":[{"mask-conic-from":ae()}],"mask-image-conic-to-color":[{"mask-conic-to":ae()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:G()}],"mask-repeat":[{mask:oe()}],"mask-size":[{mask:be()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",$e,Fe]}],filter:[{filter:["","none",$e,Fe]}],blur:[{blur:Le()}],brightness:[{brightness:[mt,$e,Fe]}],contrast:[{contrast:[mt,$e,Fe]}],"drop-shadow":[{"drop-shadow":["","none",_,Ym,Wm]}],"drop-shadow-color":[{"drop-shadow":ae()}],grayscale:[{grayscale:["",mt,$e,Fe]}],"hue-rotate":[{"hue-rotate":[mt,$e,Fe]}],invert:[{invert:["",mt,$e,Fe]}],saturate:[{saturate:[mt,$e,Fe]}],sepia:[{sepia:["",mt,$e,Fe]}],"backdrop-filter":[{"backdrop-filter":["","none",$e,Fe]}],"backdrop-blur":[{"backdrop-blur":Le()}],"backdrop-brightness":[{"backdrop-brightness":[mt,$e,Fe]}],"backdrop-contrast":[{"backdrop-contrast":[mt,$e,Fe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",mt,$e,Fe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[mt,$e,Fe]}],"backdrop-invert":[{"backdrop-invert":["",mt,$e,Fe]}],"backdrop-opacity":[{"backdrop-opacity":[mt,$e,Fe]}],"backdrop-saturate":[{"backdrop-saturate":[mt,$e,Fe]}],"backdrop-sepia":[{"backdrop-sepia":["",mt,$e,Fe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",$e,Fe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[mt,"initial",$e,Fe]}],ease:[{ease:["linear","initial",k,$e,Fe]}],delay:[{delay:[mt,$e,Fe]}],animate:[{animate:["none",N,$e,Fe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,$e,Fe]}],"perspective-origin":[{"perspective-origin":j()}],rotate:[{rotate:Xe()}],"rotate-x":[{"rotate-x":Xe()}],"rotate-y":[{"rotate-y":Xe()}],"rotate-z":[{"rotate-z":Xe()}],scale:[{scale:Qe()}],"scale-x":[{"scale-x":Qe()}],"scale-y":[{"scale-y":Qe()}],"scale-z":[{"scale-z":Qe()}],"scale-3d":["scale-3d"],skew:[{skew:Ct()}],"skew-x":[{"skew-x":Ct()}],"skew-y":[{"skew-y":Ct()}],transform:[{transform:[$e,Fe,"","none","gpu","cpu"]}],"transform-origin":[{origin:j()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:yt()}],"translate-x":[{"translate-x":yt()}],"translate-y":[{"translate-y":yt()}],"translate-z":[{"translate-z":yt()}],"translate-none":["translate-none"],accent:[{accent:ae()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ae()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e,Fe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mbs":[{"scroll-mbs":I()}],"scroll-mbe":[{"scroll-mbe":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pbs":[{"scroll-pbs":I()}],"scroll-pbe":[{"scroll-pbe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e,Fe]}],fill:[{fill:["none",...ae()]}],"stroke-w":[{stroke:[mt,Yd,Al,v1]}],stroke:[{stroke:["none",...ae()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","inset-bs","inset-be","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pbs","pbe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mbs","mbe","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-bs","border-w-be","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-bs","border-color-be","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mbs","scroll-mbe","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pbs","scroll-pbe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},i8=LH(n8);function Ze(...e){return i8(iO(e))}function yO({...e}){return y.jsx(M$,{"data-slot":"dropdown-menu",...e})}function Mb({...e}){return y.jsx(VP,{"data-slot":"dropdown-menu-portal",...e})}function bO({...e}){return y.jsx(D$,{"data-slot":"dropdown-menu-trigger",...e})}function xO({className:e,sideOffset:t=4,...n}){return y.jsx(VP,{children:y.jsx(L$,{"data-slot":"dropdown-menu-content",sideOffset:t,className:Ze("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function s8({...e}){return y.jsx(j$,{"data-slot":"dropdown-menu-group",...e})}function Qi({className:e,inset:t,variant:n="default",...i}){return y.jsx(I$,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:Ze("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default cursor-pointer items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...i})}function xa({className:e,...t}){return y.jsx(z$,{"data-slot":"dropdown-menu-separator",className:Ze("bg-border -mx-1 my-1 h-px",e),...t})}function Db({...e}){return y.jsx(B$,{"data-slot":"dropdown-menu-sub",...e})}function Lb({className:e,inset:t,children:n,...i}){return y.jsxs(U$,{"data-slot":"dropdown-menu-sub-trigger","data-inset":t,className:Ze("focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8",e),...i,children:[n,y.jsx(ic,{className:"ml-auto size-4"})]})}function jb({className:e,...t}){return y.jsx(F$,{"data-slot":"dropdown-menu-sub-content",className:Ze("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg",e),...t})}const ot=e=>typeof e=="string",Zd=()=>{let e,t;const n=new Promise((i,s)=>{e=i,t=s});return n.resolve=e,n.reject=t,n},x1=e=>e==null?"":""+e,r8=(e,t,n)=>{e.forEach(i=>{t[i]&&(n[i]=t[i])})},o8=/###/g,_1=e=>e&&e.indexOf("###")>-1?e.replace(o8,"."):e,w1=e=>!e||ot(e),cf=(e,t,n)=>{const i=ot(t)?t.split("."):t;let s=0;for(;s<i.length-1;){if(w1(e))return{};const o=_1(i[s]);!e[o]&&n&&(e[o]=new n),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={},++s}return w1(e)?{}:{obj:e,k:_1(i[s])}},S1=(e,t,n)=>{const{obj:i,k:s}=cf(e,t,Object);if(i!==void 0||t.length===1){i[s]=n;return}let o=t[t.length-1],l=t.slice(0,t.length-1),c=cf(e,l,Object);for(;c.obj===void 0&&l.length;)o=`${l[l.length-1]}.${o}`,l=l.slice(0,l.length-1),c=cf(e,l,Object),c?.obj&&typeof c.obj[`${c.k}.${o}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${o}`]=n},a8=(e,t,n,i)=>{const{obj:s,k:o}=cf(e,t,Object);s[o]=s[o]||[],s[o].push(n)},Qp=(e,t)=>{const{obj:n,k:i}=cf(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,i))return n[i]},l8=(e,t,n)=>{const i=Qp(e,n);return i!==void 0?i:Qp(t,n)},_O=(e,t,n)=>{for(const i in t)i!=="__proto__"&&i!=="constructor"&&(i in e?ot(e[i])||e[i]instanceof String||ot(t[i])||t[i]instanceof String?n&&(e[i]=t[i]):_O(e[i],t[i],n):e[i]=t[i]);return e},Tl=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var c8={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const u8=e=>ot(e)?e.replace(/[&<>"'\/]/g,t=>c8[t]):e;class d8{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const i=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,i),this.regExpQueue.push(t),i}}const f8=[" ",",","?","!",";"],h8=new d8(20),m8=(e,t,n)=>{t=t||"",n=n||"";const i=f8.filter(l=>t.indexOf(l)<0&&n.indexOf(l)<0);if(i.length===0)return!0;const s=h8.getRegExp(`(${i.map(l=>l==="?"?"\\?":l).join("|")})`);let o=!s.test(e);if(!o){const l=e.indexOf(n);l>0&&!s.test(e.substring(0,l))&&(o=!0)}return o},I0=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const i=t.split(n);let s=e;for(let o=0;o<i.length;){if(!s||typeof s!="object")return;let l,c="";for(let d=o;d<i.length;++d)if(d!==o&&(c+=n),c+=i[d],l=s[c],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&d<i.length-1)continue;o+=d-o+1;break}s=l}return s},Af=e=>e?.replace("_","-"),p8={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class Jp{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||p8,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,i,s){return s&&!this.debug?null:(ot(t[0])&&(t[0]=`${i}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Jp(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Jp(this.logger,t)}}var Gr=new Jp;class Fg{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const s=this.observers[i].get(n)||0;this.observers[i].set(n,s+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([s,o])=>{for(let l=0;l<o;l++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,o])=>{for(let l=0;l<o;l++)s.apply(s,[t,...n])})}}class C1 extends Fg{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,i,s={}){const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;t.indexOf(".")>-1?c=t.split("."):(c=[t,n],i&&(Array.isArray(i)?c.push(...i):ot(i)&&o?c.push(...i.split(o)):c.push(i)));const d=Qp(this.data,c);return!d&&!n&&!i&&t.indexOf(".")>-1&&(t=c[0],n=c[1],i=c.slice(2).join(".")),d||!l||!ot(i)?d:I0(this.data?.[t]?.[n],i,o)}addResource(t,n,i,s,o={silent:!1}){const l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let c=[t,n];i&&(c=c.concat(l?i.split(l):i)),t.indexOf(".")>-1&&(c=t.split("."),s=n,n=c[1]),this.addNamespaces(n),S1(this.data,c,s),o.silent||this.emit("added",t,n,i,s)}addResources(t,n,i,s={silent:!1}){for(const o in i)(ot(i[o])||Array.isArray(i[o]))&&this.addResource(t,n,o,i[o],{silent:!0});s.silent||this.emit("added",t,n,i)}addResourceBundle(t,n,i,s,o,l={silent:!1,skipCopy:!1}){let c=[t,n];t.indexOf(".")>-1&&(c=t.split("."),s=i,i=n,n=c[1]),this.addNamespaces(n);let d=Qp(this.data,c)||{};l.skipCopy||(i=JSON.parse(JSON.stringify(i))),s?_O(d,i,o):d={...d,...i},S1(this.data,c,d),l.silent||this.emit("added",t,n,i)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var wO={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,i,s){return e.forEach(o=>{t=this.processors[o]?.process(t,n,i,s)??t}),t}};const SO=Symbol("i18next/PATH_KEY");function g8(){const e=[],t=Object.create(null);let n;return t.get=(i,s)=>(n?.revoke?.(),s===SO?e:(e.push(s),n=Proxy.revocable(i,t),n.proxy)),Proxy.revocable(Object.create(null),t).proxy}function z0(e,t){const{[SO]:n}=e(g8());return n.join(t?.keySeparator??".")}const E1={},Ib=e=>!ot(e)&&typeof e!="boolean"&&typeof e!="number";class eg extends Fg{constructor(t,n={}){super(),r8(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Gr.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const i={...n};if(t==null)return!1;const s=this.resolve(t,i);if(s?.res===void 0)return!1;const o=Ib(s.res);return!(i.returnObjects===!1&&o)}extractFromKey(t,n){let i=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const l=i&&t.indexOf(i)>-1,c=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!m8(t,i,s);if(l&&!c){const d=t.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:t,namespaces:ot(o)?[o]:o};const h=t.split(i);(i!==s||i===s&&this.options.ns.indexOf(h[0])>-1)&&(o=h.shift()),t=h.join(s)}return{key:t,namespaces:ot(o)?[o]:o}}translate(t,n,i){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),t==null)return"";typeof t=="function"&&(t=z0(t,{...this.options,...s})),Array.isArray(t)||(t=[String(t)]);const o=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:c,namespaces:d}=this.extractFromKey(t[t.length-1],s),h=d[d.length-1];let m=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;m===void 0&&(m=":");const v=s.lng||this.language,b=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v?.toLowerCase()==="cimode")return b?o?{res:`${h}${m}${c}`,usedKey:c,exactUsedKey:c,usedLng:v,usedNS:h,usedParams:this.getUsedParamsDetails(s)}:`${h}${m}${c}`:o?{res:c,usedKey:c,exactUsedKey:c,usedLng:v,usedNS:h,usedParams:this.getUsedParamsDetails(s)}:c;const _=this.resolve(t,s);let C=_?.res;const E=_?.usedKey||c,T=_?.exactUsedKey||c,k=["[object Number]","[object Function]","[object RegExp]"],N=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,P=!this.i18nFormat||this.i18nFormat.handleAsObject,O=s.count!==void 0&&!ot(s.count),j=eg.hasDefaultValue(s),V=O?this.pluralResolver.getSuffix(v,s.count,s):"",z=s.ordinal&&O?this.pluralResolver.getSuffix(v,s.count,{ordinal:!1}):"",I=O&&!s.ordinal&&s.count===0,$=I&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${V}`]||s[`defaultValue${z}`]||s.defaultValue;let Z=C;P&&!C&&j&&(Z=$);const K=Ib(Z),Y=Object.prototype.toString.apply(Z);if(P&&Z&&K&&k.indexOf(Y)<0&&!(ot(N)&&Array.isArray(Z))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const Q=this.options.returnedObjectHandler?this.options.returnedObjectHandler(E,Z,{...s,ns:d}):`key '${c} (${this.language})' returned an object instead of string.`;return o?(_.res=Q,_.usedParams=this.getUsedParamsDetails(s),_):Q}if(l){const Q=Array.isArray(Z),ie=Q?[]:{},ge=Q?T:E;for(const q in Z)if(Object.prototype.hasOwnProperty.call(Z,q)){const W=`${ge}${l}${q}`;j&&!C?ie[q]=this.translate(W,{...s,defaultValue:Ib($)?$[q]:void 0,joinArrays:!1,ns:d}):ie[q]=this.translate(W,{...s,joinArrays:!1,ns:d}),ie[q]===W&&(ie[q]=Z[q])}C=ie}}else if(P&&ot(N)&&Array.isArray(C))C=C.join(N),C&&(C=this.extendTranslation(C,t,s,i));else{let Q=!1,ie=!1;!this.isValidLookup(C)&&j&&(Q=!0,C=$),this.isValidLookup(C)||(ie=!0,C=c);const q=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ie?void 0:C,W=j&&$!==C&&this.options.updateMissing;if(ie||Q||W){if(this.logger.log(W?"updateKey":"missingKey",v,h,c,W?$:C),l){const G=this.resolve(c,{...s,keySeparator:!1});G&&G.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ee=[];const de=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&de&&de[0])for(let G=0;G<de.length;G++)ee.push(de[G]);else this.options.saveMissingTo==="all"?ee=this.languageUtils.toResolveHierarchy(s.lng||this.language):ee.push(s.lng||this.language);const ae=(G,oe,be)=>{const xe=j&&be!==C?be:q;this.options.missingKeyHandler?this.options.missingKeyHandler(G,h,oe,xe,W,s):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(G,h,oe,xe,W,s),this.emit("missingKey",G,h,oe,C)};this.options.saveMissing&&(this.options.saveMissingPlurals&&O?ee.forEach(G=>{const oe=this.pluralResolver.getSuffixes(G,s);I&&s[`defaultValue${this.options.pluralSeparator}zero`]&&oe.indexOf(`${this.options.pluralSeparator}zero`)<0&&oe.push(`${this.options.pluralSeparator}zero`),oe.forEach(be=>{ae([G],c+be,s[`defaultValue${be}`]||$)})}):ae(ee,c,$))}C=this.extendTranslation(C,t,s,_,i),ie&&C===c&&this.options.appendNamespaceToMissingKey&&(C=`${h}${m}${c}`),(ie||Q)&&this.options.parseMissingKeyHandler&&(C=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${m}${c}`:c,Q?C:void 0,s))}return o?(_.res=C,_.usedParams=this.getUsedParamsDetails(s),_):C}extendTranslation(t,n,i,s,o){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const d=ot(t)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(d){const v=t.match(this.interpolator.nestingRegexp);h=v&&v.length}let m=i.replace&&!ot(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),t=this.interpolator.interpolate(t,m,i.lng||this.language||s.usedLng,i),d){const v=t.match(this.interpolator.nestingRegexp),b=v&&v.length;h<b&&(i.nest=!1)}!i.lng&&s&&s.res&&(i.lng=this.language||s.usedLng),i.nest!==!1&&(t=this.interpolator.nest(t,(...v)=>o?.[0]===v[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${n[0]}`),null):this.translate(...v,n),i)),i.interpolation&&this.interpolator.reset()}const l=i.postProcess||this.options.postProcess,c=ot(l)?[l]:l;return t!=null&&c?.length&&i.applyPostProcessor!==!1&&(t=wO.handle(c,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),t}resolve(t,n={}){let i,s,o,l,c;return ot(t)&&(t=[t]),t.forEach(d=>{if(this.isValidLookup(i))return;const h=this.extractFromKey(d,n),m=h.key;s=m;let v=h.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const b=n.count!==void 0&&!ot(n.count),_=b&&!n.ordinal&&n.count===0,C=n.context!==void 0&&(ot(n.context)||typeof n.context=="number")&&n.context!=="",E=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);v.forEach(T=>{this.isValidLookup(i)||(c=T,!E1[`${E[0]}-${T}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(c)&&(E1[`${E[0]}-${T}`]=!0,this.logger.warn(`key "${s}" for languages "${E.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),E.forEach(k=>{if(this.isValidLookup(i))return;l=k;const N=[m];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(N,m,k,T,n);else{let O;b&&(O=this.pluralResolver.getSuffix(k,n.count,n));const j=`${this.options.pluralSeparator}zero`,V=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(b&&(n.ordinal&&O.indexOf(V)===0&&N.push(m+O.replace(V,this.options.pluralSeparator)),N.push(m+O),_&&N.push(m+j)),C){const z=`${m}${this.options.contextSeparator||"_"}${n.context}`;N.push(z),b&&(n.ordinal&&O.indexOf(V)===0&&N.push(z+O.replace(V,this.options.pluralSeparator)),N.push(z+O),_&&N.push(z+j))}}let P;for(;P=N.pop();)this.isValidLookup(i)||(o=P,i=this.getResource(k,T,P,n))}))})}),{res:i,usedKey:s,exactUsedKey:o,usedLng:l,usedNS:c}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,i,s={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,n,i,s):this.resourceStore.getResource(t,n,i,s)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=t.replace&&!ot(t.replace);let s=i?t.replace:t;if(i&&typeof t.count<"u"&&(s.count=t.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!i){s={...s};for(const o of n)delete s[o]}return s}static hasDefaultValue(t){const n="defaultValue";for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&n===i.substring(0,n.length)&&t[i]!==void 0)return!0;return!1}}class A1{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Gr.create("languageUtils")}getScriptPartFromCode(t){if(t=Af(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=Af(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(ot(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(i=>{if(n)return;const s=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&t.forEach(i=>{if(n)return;const s=this.getScriptPartFromCode(i);if(this.isSupportedCode(s))return n=s;const o=this.getLanguagePartFromCode(i);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(l=>{if(l===o)return l;if(!(l.indexOf("-")<0&&o.indexOf("-")<0)&&(l.indexOf("-")>0&&o.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===o||l.indexOf(o)===0&&o.length>1))return l})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),ot(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let i=t[n];return i||(i=t[this.getScriptPartFromCode(n)]),i||(i=t[this.formatLanguageCode(n)]),i||(i=t[this.getLanguagePartFromCode(n)]),i||(i=t.default),i||[]}toResolveHierarchy(t,n){const i=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),s=[],o=l=>{l&&(this.isSupportedCode(l)?s.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return ot(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):ot(t)&&o(this.formatLanguageCode(t)),i.forEach(l=>{s.indexOf(l)<0&&o(this.formatLanguageCode(l))}),s}}const T1={zero:0,one:1,two:2,few:3,many:4,other:5},R1={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class v8{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=Gr.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const i=Af(t==="dev"?"en":t),s=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:i,type:s});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let l;try{l=new Intl.PluralRules(i,{type:s})}catch{if(typeof Intl>"u")return this.logger.error("No Intl support, please use an Intl polyfill!"),R1;if(!t.match(/-|_/))return R1;const d=this.languageUtils.getLanguagePartFromCode(t);l=this.getRule(d,n)}return this.pluralRulesCache[o]=l,l}needsPlural(t,n={}){let i=this.getRule(t,n);return i||(i=this.getRule("dev",n)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,n,i={}){return this.getSuffixes(t,i).map(s=>`${n}${s}`)}getSuffixes(t,n={}){let i=this.getRule(t,n);return i||(i=this.getRule("dev",n)),i?i.resolvedOptions().pluralCategories.sort((s,o)=>T1[s]-T1[o]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(t,n,i={}){const s=this.getRule(t,i);return s?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,i))}}const N1=(e,t,n,i=".",s=!0)=>{let o=l8(e,t,n);return!o&&s&&ot(n)&&(o=I0(e,n,i),o===void 0&&(o=I0(t,n,i))),o},zb=e=>e.replace(/\$/g,"$$$$");class k1{constructor(t={}){this.logger=Gr.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:i,useRawValueToEscape:s,prefix:o,prefixEscaped:l,suffix:c,suffixEscaped:d,formatSeparator:h,unescapeSuffix:m,unescapePrefix:v,nestingPrefix:b,nestingPrefixEscaped:_,nestingSuffix:C,nestingSuffixEscaped:E,nestingOptionsSeparator:T,maxReplaces:k,alwaysFormat:N}=t.interpolation;this.escape=n!==void 0?n:u8,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=o?Tl(o):l||"{{",this.suffix=c?Tl(c):d||"}}",this.formatSeparator=h||",",this.unescapePrefix=m?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":m||"",this.nestingPrefix=b?Tl(b):_||Tl("$t("),this.nestingSuffix=C?Tl(C):E||Tl(")"),this.nestingOptionsSeparator=T||",",this.maxReplaces=k||1e3,this.alwaysFormat=N!==void 0?N:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,i)=>n?.source===i?(n.lastIndex=0,n):new RegExp(i,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,i,s){let o,l,c;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=_=>{if(_.indexOf(this.formatSeparator)<0){const k=N1(n,d,_,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(k,void 0,i,{...s,...n,interpolationkey:_}):k}const C=_.split(this.formatSeparator),E=C.shift().trim(),T=C.join(this.formatSeparator).trim();return this.format(N1(n,d,E,this.options.keySeparator,this.options.ignoreJSONStructure),T,i,{...s,...n,interpolationkey:E})};this.resetRegExp();const m=s?.missingInterpolationHandler||this.options.missingInterpolationHandler,v=s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:_=>zb(_)},{regex:this.regexp,safeValue:_=>this.escapeValue?zb(this.escape(_)):zb(_)}].forEach(_=>{for(c=0;o=_.regex.exec(t);){const C=o[1].trim();if(l=h(C),l===void 0)if(typeof m=="function"){const T=m(t,o,s);l=ot(T)?T:""}else if(s&&Object.prototype.hasOwnProperty.call(s,C))l="";else if(v){l=o[0];continue}else this.logger.warn(`missed to pass in variable ${C} for interpolating ${t}`),l="";else!ot(l)&&!this.useRawValueToEscape&&(l=x1(l));const E=_.safeValue(l);if(t=t.replace(o[0],E),v?(_.regex.lastIndex+=l.length,_.regex.lastIndex-=o[0].length):_.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),t}nest(t,n,i={}){let s,o,l;const c=(d,h)=>{const m=this.nestingOptionsSeparator;if(d.indexOf(m)<0)return d;const v=d.split(new RegExp(`${Tl(m)}[ ]*{`));let b=`{${v[1]}`;d=v[0],b=this.interpolate(b,l);const _=b.match(/'/g),C=b.match(/"/g);((_?.length??0)%2===0&&!C||(C?.length??0)%2!==0)&&(b=b.replace(/'/g,'"'));try{l=JSON.parse(b),h&&(l={...h,...l})}catch(E){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,E),`${d}${m}${b}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,d};for(;s=this.nestingRegexp.exec(t);){let d=[];l={...i},l=l.replace&&!ot(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const h=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(h!==-1&&(d=s[1].slice(h).split(this.formatSeparator).map(m=>m.trim()).filter(Boolean),s[1]=s[1].slice(0,h)),o=n(c.call(this,s[1].trim(),l),l),o&&s[0]===t&&!ot(o))return o;ot(o)||(o=x1(o)),o||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${t}`),o=""),d.length&&(o=d.reduce((m,v)=>this.format(m,v,i.lng,{...i,interpolationkey:s[1].trim()}),o.trim())),t=t.replace(s[0],o),this.regexp.lastIndex=0}return t}}const y8=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const i=e.split("(");t=i[0].toLowerCase().trim();const s=i[1].substring(0,i[1].length-1);t==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):t==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(l=>{if(l){const[c,...d]=l.split(":"),h=d.join(":").trim().replace(/^'+|'+$/g,""),m=c.trim();n[m]||(n[m]=h),h==="false"&&(n[m]=!1),h==="true"&&(n[m]=!0),isNaN(h)||(n[m]=parseInt(h,10))}})}return{formatName:t,formatOptions:n}},P1=e=>{const t={};return(n,i,s)=>{let o=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(o={...o,[s.interpolationkey]:void 0});const l=i+JSON.stringify(o);let c=t[l];return c||(c=e(Af(i),s),t[l]=c),c(n)}},b8=e=>(t,n,i)=>e(Af(n),i)(t);class x8{constructor(t={}){this.logger=Gr.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const i=n.cacheInBuiltFormats?P1:b8;this.formats={number:i((s,o)=>{const l=new Intl.NumberFormat(s,{...o});return c=>l.format(c)}),currency:i((s,o)=>{const l=new Intl.NumberFormat(s,{...o,style:"currency"});return c=>l.format(c)}),datetime:i((s,o)=>{const l=new Intl.DateTimeFormat(s,{...o});return c=>l.format(c)}),relativetime:i((s,o)=>{const l=new Intl.RelativeTimeFormat(s,{...o});return c=>l.format(c,o.range||"day")}),list:i((s,o)=>{const l=new Intl.ListFormat(s,{...o});return c=>l.format(c)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=P1(n)}format(t,n,i,s={}){const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(c=>c.indexOf(")")>-1)){const c=o.findIndex(d=>d.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,c)].join(this.formatSeparator)}return o.reduce((c,d)=>{const{formatName:h,formatOptions:m}=y8(d);if(this.formats[h]){let v=c;try{const b=s?.formatParams?.[s.interpolationkey]||{},_=b.locale||b.lng||s.locale||s.lng||i;v=this.formats[h](c,_,{...m,...s,...b})}catch(b){this.logger.warn(b)}return v}else this.logger.warn(`there was no format function for ${h}`);return c},t)}}const _8=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class w8 extends Fg{constructor(t,n,i,s={}){super(),this.backend=t,this.store=n,this.services=i,this.languageUtils=i.languageUtils,this.options=s,this.logger=Gr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,s.backend,s)}queueLoad(t,n,i,s){const o={},l={},c={},d={};return t.forEach(h=>{let m=!0;n.forEach(v=>{const b=`${h}|${v}`;!i.reload&&this.store.hasResourceBundle(h,v)?this.state[b]=2:this.state[b]<0||(this.state[b]===1?l[b]===void 0&&(l[b]=!0):(this.state[b]=1,m=!1,l[b]===void 0&&(l[b]=!0),o[b]===void 0&&(o[b]=!0),d[v]===void 0&&(d[v]=!0)))}),m||(c[h]=!0)}),(Object.keys(o).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(o),pending:Object.keys(l),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(d)}}loaded(t,n,i){const s=t.split("|"),o=s[0],l=s[1];n&&this.emit("failedLoading",o,l,n),!n&&i&&this.store.addResourceBundle(o,l,i,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&i&&(this.state[t]=0);const c={};this.queue.forEach(d=>{a8(d.loaded,[o],l),_8(d,t),n&&d.errors.push(n),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(h=>{c[h]||(c[h]={});const m=d.loaded[h];m.length&&m.forEach(v=>{c[h][v]===void 0&&(c[h][v]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(d=>!d.done)}read(t,n,i,s=0,o=this.retryTimeout,l){if(!t.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:i,tried:s,wait:o,callback:l});return}this.readingCalls++;const c=(h,m)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(h&&m&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,i,s+1,o*2,l)},o);return}l(h,m)},d=this.backend[i].bind(this.backend);if(d.length===2){try{const h=d(t,n);h&&typeof h.then=="function"?h.then(m=>c(null,m)).catch(c):c(null,h)}catch(h){c(h)}return}return d(t,n,c)}prepareLoading(t,n,i={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();ot(t)&&(t=this.languageUtils.toResolveHierarchy(t)),ot(n)&&(n=[n]);const o=this.queueLoad(t,n,i,s);if(!o.toLoad.length)return o.pending.length||s(),null;o.toLoad.forEach(l=>{this.loadOne(l)})}load(t,n,i){this.prepareLoading(t,n,{},i)}reload(t,n,i){this.prepareLoading(t,n,{reload:!0},i)}loadOne(t,n=""){const i=t.split("|"),s=i[0],o=i[1];this.read(s,o,"read",void 0,void 0,(l,c)=>{l&&this.logger.warn(`${n}loading namespace ${o} for language ${s} failed`,l),!l&&c&&this.logger.log(`${n}loaded namespace ${o} for language ${s}`,c),this.loaded(t,l,c)})}saveMissing(t,n,i,s,o,l={},c=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${i}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){const d={...l,isUpdate:o},h=this.backend.create.bind(this.backend);if(h.length<6)try{let m;h.length===5?m=h(t,n,i,s,d):m=h(t,n,i,s),m&&typeof m.then=="function"?m.then(v=>c(null,v)).catch(c):c(null,m)}catch(m){c(m)}else h(t,n,i,s,c,d)}!t||!t[0]||this.store.addResource(t[0],n,i,s)}}}const Bb=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),ot(e[1])&&(t.defaultValue=e[1]),ot(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(i=>{t[i]=n[i]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),O1=e=>(ot(e.ns)&&(e.ns=[e.ns]),ot(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),ot(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),Zm=()=>{},S8=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})},CO="__i18next_supportNoticeShown",C8=()=>typeof globalThis<"u"&&!!globalThis[CO],E8=()=>{typeof globalThis<"u"&&(globalThis[CO]=!0)},A8=e=>!!(e?.modules?.backend?.name?.indexOf("Locize")>0||e?.modules?.backend?.constructor?.name?.indexOf("Locize")>0||e?.options?.backend?.backends&&e.options.backend.backends.some(t=>t?.name?.indexOf("Locize")>0||t?.constructor?.name?.indexOf("Locize")>0)||e?.options?.backend?.projectId||e?.options?.backend?.backendOptions&&e.options.backend.backendOptions.some(t=>t?.projectId));class uf extends Fg{constructor(t={},n){if(super(),this.options=O1(t),this.services={},this.logger=Gr,this.modules={external:[]},S8(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(ot(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const i=Bb();this.options={...i,...this.options,...O1(t)},this.options.interpolation={...i.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=i.overloadTranslationOptionHandler),this.options.showSupportNotice!==!1&&!A8(this)&&!C8()&&(typeof console<"u"&&typeof console.info<"u"&&console.info(" i18next is maintained with support from Locize  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com "),E8());const s=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?Gr.init(s(this.modules.logger),this.options):Gr.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=x8;const m=new A1(this.options);this.store=new C1(this.options.resources,this.options);const v=this.services;v.logger=Gr,v.resourceStore=this.store,v.languageUtils=m,v.pluralResolver=new v8(m,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(v.formatter=s(h),v.formatter.init&&v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new k1(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new w8(s(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(_,...C)=>{this.emit(_,...C)}),this.modules.languageDetector&&(v.languageDetector=s(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=s(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new eg(this.services,this.options),this.translator.on("*",(_,...C)=>{this.emit(_,...C)}),this.modules.external.forEach(_=>{_.init&&_.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Zm),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...m)=>this.store[h](...m)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...m)=>(this.store[h](...m),this)});const c=Zd(),d=()=>{const h=(m,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(v),n(m,v)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),c}loadResources(t,n=Zm){let i=n;const s=ot(t)?t:this.language;if(typeof t=="function"&&(i=t),!this.options.resources||this.options.partialBundledLanguages){if(s?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const o=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(h=>{h!=="cimode"&&o.indexOf(h)<0&&o.push(h)})};s?l(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),this.options.preload?.forEach?.(c=>l(c)),this.services.backendConnector.load(o,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(c)})}else i(null)}reloadResources(t,n,i){const s=Zd();return typeof t=="function"&&(i=t,t=void 0),typeof n=="function"&&(i=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),i||(i=Zm),this.services.backendConnector.reload(t,n,o=>{s.resolve(),i(o)}),s}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&wO.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const i=this.languages[n];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const i=Zd();this.emit("languageChanging",t);const s=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,d)=>{d?this.isLanguageChangingTo===t&&(s(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,i.resolve((...h)=>this.t(...h)),n&&n(c,(...h)=>this.t(...h))},l=c=>{!t&&!c&&this.services.languageDetector&&(c=[]);const d=ot(c)?c:c&&c[0],h=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(ot(c)?[c]:c);h&&(this.language||s(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector?.cacheUserLanguage?.(h)),this.loadResources(h,m=>{o(m,h)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(t),i}getFixedT(t,n,i){const s=(o,l,...c)=>{let d;typeof l!="object"?d=this.options.overloadTranslationOptionHandler([o,l].concat(c)):d={...l},d.lng=d.lng||s.lng,d.lngs=d.lngs||s.lngs,d.ns=d.ns||s.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||i||s.keyPrefix);const h=this.options.keySeparator||".";let m;return d.keyPrefix&&Array.isArray(o)?m=o.map(v=>(typeof v=="function"&&(v=z0(v,{...this.options,...l})),`${d.keyPrefix}${h}${v}`)):(typeof o=="function"&&(o=z0(o,{...this.options,...l})),m=d.keyPrefix?`${d.keyPrefix}${h}${o}`:o),this.t(m,d)};return ot(t)?s.lng=t:s.lngs=t,s.ns=n,s.keyPrefix=i,s}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const l=(c,d)=>{const h=this.services.backendConnector.state[`${c}|${d}`];return h===-1||h===0||h===2};if(n.precheck){const c=n.precheck(this,l);if(c!==void 0)return c}return!!(this.hasResourceBundle(i,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(i,t)&&(!s||l(o,t)))}loadNamespaces(t,n){const i=Zd();return this.options.ns?(ot(t)&&(t=[t]),t.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{i.resolve(),n&&n(s)}),i):(n&&n(),Promise.resolve())}loadLanguages(t,n){const i=Zd();ot(t)&&(t=[t]);const s=this.options.preload||[],o=t.filter(l=>s.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return o.length?(this.options.preload=s.concat(o),this.loadResources(l=>{i.resolve(),n&&n(l)}),i):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const s=new Intl.Locale(t);if(s&&s.getTextInfo){const o=s.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new A1(Bb());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(i.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){const i=new uf(t,n);return i.createInstance=uf.createInstance,i}cloneInstance(t={},n=Zm){const i=t.forkResourceStore;i&&delete t.forkResourceStore;const s={...this.options,...t,isClone:!0},o=new uf(s);if((t.debug!==void 0||t.prefix!==void 0)&&(o.logger=o.logger.clone(t)),["store","services","language"].forEach(c=>{o[c]=this[c]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},i){const c=Object.keys(this.store.data).reduce((d,h)=>(d[h]={...this.store.data[h]},d[h]=Object.keys(d[h]).reduce((m,v)=>(m[v]={...d[h][v]},m),d[h]),d),{});o.store=new C1(c,s),o.services.resourceStore=o.store}if(t.interpolation){const d={...Bb().interpolation,...this.options.interpolation,...t.interpolation},h={...s,interpolation:d};o.services.interpolator=new k1(h)}return o.translator=new eg(o.services,s),o.translator.on("*",(c,...d)=>{o.emit(c,...d)}),o.init(s,n),o.translator.options=s,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Qt=uf.createInstance();Qt.createInstance;Qt.dir;Qt.init;Qt.loadResources;Qt.reloadResources;Qt.use;Qt.changeLanguage;Qt.getFixedT;Qt.t;Qt.exists;Qt.setDefaultNamespace;Qt.hasLoadedNamespace;Qt.loadNamespaces;Qt.loadLanguages;const T8=(e,t,n,i)=>{const s=[n,{code:t,...i||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(s,"warn","react-i18next::",!0);Wl(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...s):console?.warn&&console.warn(...s)},M1={},EO=(e,t,n,i)=>{Wl(n)&&M1[n]||(Wl(n)&&(M1[n]=new Date),T8(e,t,n,i))},AO=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},B0=(e,t,n)=>{e.loadNamespaces(t,AO(e,n))},D1=(e,t,n,i)=>{if(Wl(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return B0(e,n,i);n.forEach(s=>{e.options.ns.indexOf(s)<0&&e.options.ns.push(s)}),e.loadLanguages(t,AO(e,i))},R8=(e,t,n={})=>!t.languages||!t.languages.length?(EO(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(i,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!s(i.isLanguageChangingTo,e))return!1}}),Wl=e=>typeof e=="string",N8=e=>typeof e=="object"&&e!==null,k8=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,P8={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},O8=e=>P8[e],M8=e=>e.replace(k8,O8);let U0={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:M8,transDefaultProps:void 0};const D8=(e={})=>{U0={...U0,...e}},L8=()=>U0;let TO;const j8=e=>{TO=e},I8=()=>TO,z8={type:"3rdParty",init(e){D8(e.options.react),j8(e)}},B8=x.createContext();class U8{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var RO=rk();const F8=(e,t)=>Wl(t)?t:N8(t)&&Wl(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,V8={t:F8,ready:!1},$8=()=>()=>{},At=(e,t={})=>{const{i18n:n}=t,{i18n:i,defaultNS:s}=x.useContext(B8)||{},o=n||i||I8();o&&!o.reportNamespaces&&(o.reportNamespaces=new U8),o||EO(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const l=x.useMemo(()=>({...L8(),...o?.options?.react,...t}),[o,t]),{useSuspense:c,keyPrefix:d}=l,h=s||o?.options?.defaultNS,m=Wl(h)?[h]:h||["translation"],v=x.useMemo(()=>m,m);o?.reportNamespaces?.addUsedNamespaces?.(v);const b=x.useRef(0),_=x.useCallback($=>{if(!o)return $8;const{bindI18n:Z,bindI18nStore:K}=l,Y=()=>{b.current+=1,$()};return Z&&o.on(Z,Y),K&&o.store.on(K,Y),()=>{Z&&Z.split(" ").forEach(Q=>o.off(Q,Y)),K&&K.split(" ").forEach(Q=>o.store.off(Q,Y))}},[o,l]),C=x.useRef(),E=x.useCallback(()=>{if(!o)return V8;const $=!!(o.isInitialized||o.initializedStoreOnce)&&v.every(ge=>R8(ge,o,l)),Z=t.lng||o.language,K=b.current,Y=C.current;if(Y&&Y.ready===$&&Y.lng===Z&&Y.keyPrefix===d&&Y.revision===K)return Y;const ie={t:o.getFixedT(Z,l.nsMode==="fallback"?v:v[0],d),ready:$,lng:Z,keyPrefix:d,revision:K};return C.current=ie,ie},[o,v,d,l,t.lng]),[T,k]=x.useState(0),{t:N,ready:P}=RO.useSyncExternalStore(_,E,E);x.useEffect(()=>{if(o&&!P&&!c){const $=()=>k(Z=>Z+1);t.lng?D1(o,t.lng,v,$):B0(o,v,$)}},[o,t.lng,v,P,c,T]);const O=o||{},j=x.useRef(null),V=x.useRef(),z=$=>{const Z=Object.getOwnPropertyDescriptors($);Z.__original&&delete Z.__original;const K=Object.create(Object.getPrototypeOf($),Z);if(!Object.prototype.hasOwnProperty.call(K,"__original"))try{Object.defineProperty(K,"__original",{value:$,writable:!1,enumerable:!1,configurable:!1})}catch{}return K},I=x.useMemo(()=>{const $=O,Z=$?.language;let K=$;$&&(j.current&&j.current.__original===$?V.current!==Z?(K=z($),j.current=K,V.current=Z):K=j.current:(K=z($),j.current=K,V.current=Z));const Y=[N,K,P];return Y.t=N,Y.i18n=K,Y.ready=P,Y},[N,O,P,O.resolvedLanguage,O.language,O.languages]);if(o&&c&&!P)throw new Promise($=>{const Z=()=>$();t.lng?D1(o,t.lng,v,Z):B0(o,v,Z)});return I},NO=x.createContext(null),L1="theme-preference",H8=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",j1=e=>{const t=document.documentElement,n=e==="system"?H8():e;t.classList.remove("light","dark"),t.classList.add(n)},q8=({children:e})=>{const[t,n]=x.useState(()=>localStorage.getItem(L1)||"system");x.useEffect(()=>{if(j1(t),t==="system"){const s=window.matchMedia("(prefers-color-scheme: dark)"),o=()=>j1("system");return s.addEventListener("change",o),()=>s.removeEventListener("change",o)}},[t]);const i=s=>{n(s),localStorage.setItem(L1,s)};return y.jsx(NO.Provider,{value:{theme:t,changeTheme:i},children:e})},ih=()=>{const e=x.useContext(NO);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},{slice:G8,forEach:K8}=[];function W8(e){return K8.call(G8.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}function Y8(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(e))}const I1=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Z8=function(e,t){const i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(t);let o=`${e}=${s}`;if(i.maxAge>0){const l=i.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(l)}`}if(i.domain){if(!I1.test(i.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${i.domain}`}if(i.path){if(!I1.test(i.path))throw new TypeError("option path is invalid");o+=`; Path=${i.path}`}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${i.expires.toUTCString()}`}if(i.httpOnly&&(o+="; HttpOnly"),i.secure&&(o+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i.partitioned&&(o+="; Partitioned"),o},z1={create(e,t,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+n*60*1e3)),i&&(s.domain=i),document.cookie=Z8(e,t,s)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let i=0;i<n.length;i++){let s=n[i];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(t)===0)return s.substring(t.length,s.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var X8={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return z1.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:i,cookieDomain:s,cookieOptions:o}=t;n&&typeof document<"u"&&z1.create(n,e,i,s,o)}},Q8={name:"querystring",lookup(e){let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const o=i.substring(1).split("&");for(let l=0;l<o.length;l++){const c=o[l].indexOf("=");c>0&&o[l].substring(0,c)===t&&(n=o[l].substring(c+1))}}return n}},J8={name:"hash",lookup(e){let{lookupHash:t,lookupFromHashIndex:n}=e,i;if(typeof window<"u"){const{hash:s}=window.location;if(s&&s.length>2){const o=s.substring(1);if(t){const l=o.split("&");for(let c=0;c<l.length;c++){const d=l[c].indexOf("=");d>0&&l[c].substring(0,d)===t&&(i=l[c].substring(d+1))}}if(i)return i;if(!i&&n>-1){const l=s.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?l[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return i}};let Yc=null;const B1=()=>{if(Yc!==null)return Yc;try{if(Yc=typeof window<"u"&&window.localStorage!==null,!Yc)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Yc=!1}return Yc};var eq={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&B1())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&B1()&&window.localStorage.setItem(n,e)}};let Zc=null;const U1=()=>{if(Zc!==null)return Zc;try{if(Zc=typeof window<"u"&&window.sessionStorage!==null,!Zc)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Zc=!1}return Zc};var tq={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&U1())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&U1()&&window.sessionStorage.setItem(n,e)}},nq={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:i,language:s}=navigator;if(n)for(let o=0;o<n.length;o++)t.push(n[o]);i&&t.push(i),s&&t.push(s)}return t.length>0?t:void 0}},iq={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const i=t||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(n=i.getAttribute("lang")),n}},sq={name:"path",lookup(e){let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof t=="number"?t:0]?.replace("/",""):void 0}},rq={name:"subdomain",lookup(e){let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,i=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(i)return i[n]}};let kO=!1;try{document.cookie,kO=!0}catch{}const PO=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];kO||PO.splice(1,1);const oq=()=>({order:PO,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class OO{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=W8(n,this.options||{},oq()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(X8),this.addDetector(Q8),this.addDetector(eq),this.addDetector(tq),this.addDetector(nq),this.addDetector(iq),this.addDetector(sq),this.addDetector(rq),this.addDetector(J8)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return t.forEach(i=>{if(this.detectors[i]){let s=this.detectors[i].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(n=n.concat(s))}}),n=n.filter(i=>i!=null&&!Y8(i)).map(i=>this.options.convertDetectedLanguage(i)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(i=>{this.detectors[i]&&this.detectors[i].cacheUserLanguage(t,this.options)}))}}OO.type="languageDetector";const aq="Welcome!",lq="Language",cq="Light",uq="Dark",dq="System",fq="English",hq="Spanish",mq="Portuguese",pq="Profile",gq="Logout",vq="Theme",yq="Login with Google",bq={now:"Just now",minutesAgo:"{{count}}m ago",hoursAgo:"{{count}}h ago",yesterday:"Yesterday",daysAgo:"{{count}} days ago"},xq={restoringCache:"Restoring cache...",initializing:"Initializing..."},_q={finalizingAuth:"Finalizing authentication...",waitSeconds:"Please wait a few seconds.",descriptionGoogle:"Sign in with your Google account to unlock all features and save your progress",loginError:"Login error",signingIn:"Signing in...",continueWithGoogle:"Continue with Google",exclusiveFeatures:"Exclusive features when signed in",continueWithoutLogin:"You can continue without signing in, but you won't have access to the features listed above.",back:"Back",backAriaLabel:"Go back to previous page"},wq={back:"Back",challenges:"Challenges",explore:"Explore",audio:"Audio",soundOff:"Sound off",soundOn:"Sound on",logoutWarning:"When you sign out, your features and progress will only be available when you sign in again.",logoutAnyway:"Sign out anyway"},Sq={memberSince:"Member since",globalRanking:"Global Ranking",rankingHint:"Score on explored species, hit accuracy and speed to keep climbing."},Cq={title:"PROGRESS",speciesExplored:"Species explored",challengesCompleted:"Challenges completed",hitAccuracy:"Hit accuracy",medalsEarned:"Medals earned",dayStreak:"Day streak",globalRanking:"Global ranking"},Eq={title:"ACTIVITY"},Aq={title:"ACHIEVEMENTS",locked:"Locked"},Tq={title:"SHORTCUTS",saveEdit:"Save edit",cancelEdit:"Cancel edit",editName:"Edit shortcut name",remove:"Remove shortcut",empty:"No shortcuts created",emptyHint:"Create shortcuts by browsing the tree",tip:"Browse the taxonomic tree and save selected nodes as shortcuts for quick access."},Rq={title:"SEEN SPECIES",openGallery:"Open gallery",emptyTitle:"Your gallery is empty",emptyHint:"Explore species to fill it!"},Nq={title:"FAVORITE SPECIES",addFavorite:"Add favorite",edit:"Edit",done:"Done",replace:"Replace",pickerTitle:"Choose a favorite species",pickerEmpty:"No species available",pickerEmptyHint:"Favorite species in the gallery to add them here"},kq={title:"Species Gallery",species:"species",of:"of",searchPlaceholder:"Search by name or family...",newest:"Newest",oldest:"Oldest",newestFirst:"Newest first",oldestFirst:"Oldest first",favorites:"Favorites",noSpeciesFound:"No species found",noFavorites:"You have no favorites yet",adjustFilters:"Try adjusting the filters",noImage:"No image",photosFirst:"Photos first"},Pq={notFound:"No data found",backToGallery:"Back to gallery",backToProfile:"Back to profile",backToTree:"Back to tree",dataUnavailable:"Data unavailable.",taxonomyTitle:"Taxonomic Classification",kingdomLabel:"Kingdom",phylumLabel:"Phylum",orderLabel:"Order",classLabel:"Class",familyLabel:"Family",genusLabel:"Genus",descriptionTitle:"Description",nomenclatureTitle:"Nomenclature Details",author:"Author",publishedIn:"Published in",sources:"Sources",imageNotFound:"Image not found.",imageNote:"Images are sourced from Wikipedia, iNaturalist and GBIF, and may be missing for species with limited visual documentation.",viewOnGoogle:"View on Google Images",imageSource:"Source",imageBy:"by @",imageLicense:", licensed under "},Oq={locality:"Locality",country:"Country",date:"Date",recordedBy:"Recorded by",unknown:"Unknown",noDate:"No date",notInformed:"Not provided",viewReference:"View reference",dataProvidedBy:"Occurrence data provided by",dataNote:". The points represent global records from various databases, which may differ from the image source above."},Mq={loadError:"Failed to load",loadErrorMessage:"Could not load the tree. Please try again.",noData:"No data available",noDataMessage:"No taxonomic data to display yet."},Dq={selectKingdom:"Select a kingdom",example:"Example",selectKingdomFirst:"Select a kingdom to search",gbifError:"Error querying GBIF",lineageError:"Could not retrieve lineage for the selected item",pathError:"Error building the selected path",keyNotFound:"GBIF key not found",rankNotInTree:"This taxon (subspecies, variety, etc.) does not exist in the tree",kingdom:"Kingdom",searchTaxa:"Search taxa",expandResults:"Expand results",minimizeResults:"Minimize results",results:"results",clearSearch:"Clear",noResults:"No results found",searchByNameOrKey:"Canonical name or GBIF key..."},Lq={selectKingdom:"Choose a Kingdom to start exploring!",mainGroups:"Main Groups",kingdom:"Kingdom"},jq={title:"Daily Challenge",find:"Find",missionDescription:"Complete the taxonomic path before time runs out.",cancel:"Cancel Challenge",start:"Start Challenge",completed:"Classification complete!",path:"Kingdom  Species",timeRemaining:"Time remaining",taxonomicPath:"Taxonomic Path",interactions:"interactions",tips:"Tips to advance",needHelp:"Need help?",prevStep:"Previous step",step:"Step",of:"of",nextStep:"Next step",revealAnswer:"Reveal answer for this step",belongsTo:"belongs to",howItWorks:"How does the challenge work?",randomTitle:"Random Challenge",randomMissionDescription:"Complete the taxonomic path of a randomly chosen species.",allSpeciesCompleted:"You've completed all available species!",replay:"Play again",nextChallenge:"Next challenge",nextRandom:"Random Challenge",pastChallenges:"Past Challenges",today:"Today",completedLabel:"Completed",alreadyCompleted:"Already completed",prevDay:"Previous day",nextDay:"Next day",play:"Play",otherDailyChallenges:"Other daily challenges",dailyChallenges:"Daily Challenges"},Iq={unknown:"Unknown status",EX:"Extinct",EW:"Extinct in the Wild",CR:"Critically Endangered",EN:"Endangered",VU:"Vulnerable",NT:"Near Threatened",LC:"Least Concern",DD:"Data Deficient",NE:"Not Evaluated"},zq={welcome:aq,language:lq,light:cq,dark:uq,system:dq,en:fq,es:hq,pt:mq,profile:pq,logout:gq,theme:vq,loginWithGoogle:yq,time:bq,loading:xq,auth:_q,nav:wq,profilePage:Sq,progress:Cq,activity:Eq,achievements:Aq,shortcuts:Tq,seenSpecies:Rq,favSpecies:Nq,gallery:kq,specieDetail:Pq,occurrenceMap:Oq,tree:Mq,search:Dq,explore:Lq,challenge:jq,vulnerability:Iq},Bq="Bem-vindo!",Uq="Idioma",Fq="Claro",Vq="Escuro",$q="Sistema",Hq="Ingls",qq="Espanhol",Gq="Portugus",Kq="Perfil",Wq="Sair",Yq="Tema",Zq="Login com Google",Xq={now:"Agora mesmo",minutesAgo:"{{count}}m atrs",hoursAgo:"{{count}}h atrs",yesterday:"Ontem",daysAgo:"{{count}} dias atrs"},Qq={restoringCache:"Restaurando cache...",initializing:"Inicializando..."},Jq={finalizingAuth:"Finalizando autenticao...",waitSeconds:"Aguarde alguns segundos.",descriptionGoogle:"Entre com sua conta Google para desbloquear todos os recursos e salvar seu progresso",loginError:"Erro ao fazer login",signingIn:"Entrando...",continueWithGoogle:"Continuar com Google",exclusiveFeatures:"Recursos exclusivos ao entrar",continueWithoutLogin:"Voc pode continuar sem fazer login, mas no ter acesso aos recursos listados acima.",back:"Voltar",backAriaLabel:"Voltar para pgina anterior"},eG={back:"Voltar",challenges:"Desafios",explore:"Explorar",audio:"udio",soundOff:"Som desligado",soundOn:"Som ligado",logoutWarning:"Ao sair, seus recursos e progresso s ficaro disponveis quando entrar novamente.",logoutAnyway:"Sair mesmo assim"},tG={memberSince:"Usurio desde",globalRanking:"Ranking Global",rankingHint:"Pontue em espcies exploradas, preciso de acerto e velocidade para continuar subindo."},nG={title:"PROGRESSO",speciesExplored:"Espcies exploradas",challengesCompleted:"Desafios completados",hitAccuracy:"Preciso de acerto",medalsEarned:"Medalhas conquistadas",dayStreak:"Sequncia de dias",globalRanking:"Ranking global"},iG={title:"ATIVIDADE"},sG={title:"CONQUISTAS",locked:"Bloqueadas"},rG={title:"ATALHOS",saveEdit:"Salvar edio",cancelEdit:"Cancelar edio",editName:"Editar nome do atalho",remove:"Remover atalho",empty:"Nenhum atalho criado",emptyHint:"Crie atalhos navegando pela rvore",tip:"Navegue pela rvore taxonmica e salve os ns selecionados como atalhos para acesso rpido."},oG={title:"ESPCIES VISTAS",openGallery:"Abrir galeria",emptyTitle:"Sua galeria est vazia",emptyHint:"Explore espcies para preench-la!"},aG={title:"ESPCIES FAVORITAS",addFavorite:"Adicionar favorita",edit:"Editar",done:"Concludo",replace:"Substituir",pickerTitle:"Escolher espcie favorita",pickerEmpty:"Nenhuma espcie disponvel",pickerEmptyHint:"Favorite espcies na galeria para adicion-las aqui"},lG={title:"Galeria de Espcies",species:"espcies",of:"de",searchPlaceholder:"Buscar por nome ou famlia...",newest:"Mais recentes",oldest:"Mais antigas",newestFirst:"Mais recentes primeiro",oldestFirst:"Mais antigas primeiro",favorites:"Favoritas",noSpeciesFound:"Nenhuma espcie encontrada",noFavorites:"Voc ainda no tem favoritas",adjustFilters:"Tente ajustar os filtros",noImage:"Sem imagem",photosFirst:"Fotos primeiro"},cG={notFound:"Nenhum dado foi encontrado",backToGallery:"Voltar para galeria",backToProfile:"Voltar para o perfil",backToTree:"Voltar para a rvore",dataUnavailable:"Dados indisponveis.",taxonomyTitle:"Classificao Taxonmica",kingdomLabel:"Reino",phylumLabel:"Filo",orderLabel:"Ordem",classLabel:"Classe",familyLabel:"Famlia",genusLabel:"Gnero",descriptionTitle:"Descrio",nomenclatureTitle:"Detalhes da Nomenclatura",author:"Autor",publishedIn:"Publicado em",sources:"Fontes",imageNotFound:"Imagem no encontrada.",imageNote:"As imagens so obtidas atravs da Wikipedia, iNaturalist e GBIF, e podem estar ausentes para espcies com pouca documentao visual.",viewOnGoogle:"Ver no Google Imagens",imageSource:"Fonte",imageBy:"por @",imageLicense:", licenciada sob "},uG={locality:"Local",country:"Pas",date:"Data",recordedBy:"Registrado por",unknown:"Desconhecido",noDate:"Sem data",notInformed:"No informado",viewReference:"Ver referncia",dataProvidedBy:"Dados de ocorrncia fornecidos por",dataNote:". Os pontos representam registros globais de diversas bases de dados, que podem ser diferentes da fonte da imagem acima."},dG={loadError:"Erro ao carregar",loadErrorMessage:"No foi possvel carregar a rvore. Tente novamente.",noData:"Nenhum dado disponvel",noDataMessage:"Ainda no h dados taxonmicos para exibir."},fG={selectKingdom:"Selecione um reino",example:"Exemplo",selectKingdomFirst:"Selecione um reino para buscar",gbifError:"Erro ao consultar GBIF",lineageError:"No foi possvel obter linhagem para o item selecionado",pathError:"Erro ao montar o caminho selecionado",keyNotFound:"Chave GBIF no encontrada",rankNotInTree:"Este txon (subespcie, variedade, etc.) no existe na rvore",kingdom:"Reino",searchTaxa:"Pesquisar taxa",expandResults:"Expandir resultados",minimizeResults:"Minimizar resultados",results:"resultados",clearSearch:"Limpar",noResults:"Nenhum resultado encontrado",searchByNameOrKey:"Nome cannico ou chave GBIF..."},hG={selectKingdom:"Escolha um Reino para iniciar sua explorao!",mainGroups:"Principais Grupos",kingdom:"Reino"},mG={title:"Desafio Dirio",find:"Encontre",missionDescription:"Complete o caminho taxonmico antes do tempo acabar.",cancel:"Cancelar Desafio",start:"Iniciar Desafio",completed:"Classificao completa!",path:"Reino  Espcie",timeRemaining:"Tempo restante",taxonomicPath:"Caminho Taxonmico",interactions:"interaes",tips:"Dicas para avanar",needHelp:"Precisa de ajuda?",prevStep:"Etapa anterior",step:"Etapa",of:"de",nextStep:"Prxima etapa",revealAnswer:"Revelar resposta desta etapa",belongsTo:"pertence ao",howItWorks:"Como funciona o desafio?",randomTitle:"Desafio Aleatrio",randomMissionDescription:"Complete o caminho taxonmico de uma espcie escolhida aleatoriamente.",allSpeciesCompleted:"Voc completou todas as espcies disponveis!",replay:"Jogar de novo",nextChallenge:"Prximo desafio",nextRandom:"Desafio Aleatrio",pastChallenges:"Desafios Anteriores",today:"Hoje",completedLabel:"Concludo",alreadyCompleted:"J concludo",prevDay:"Dia anterior",nextDay:"Prximo dia",play:"Jogar",otherDailyChallenges:"Outros desafios dirios",dailyChallenges:"Desafios Dirios"},pG={unknown:"Status desconhecido",EX:"Extinto",EW:"Extinto na natureza",CR:"Criticamente em perigo",EN:"Em perigo",VU:"Vulnervel",NT:"Quase ameaado",LC:"Pouco preocupante",DD:"Dados insuficientes",NE:"No avaliado"},gG={welcome:Bq,language:Uq,light:Fq,dark:Vq,system:$q,en:Hq,es:qq,pt:Gq,profile:Kq,logout:Wq,theme:Yq,loginWithGoogle:Zq,time:Xq,loading:Qq,auth:Jq,nav:eG,profilePage:tG,progress:nG,activity:iG,achievements:sG,shortcuts:rG,seenSpecies:oG,favSpecies:aG,gallery:lG,specieDetail:cG,occurrenceMap:uG,tree:dG,search:fG,explore:hG,challenge:mG,vulnerability:pG},vG="Bienvenido!",yG="Idioma",bG="Claro",xG="Oscuro",_G="Sistema",wG="Ingls",SG="Espaol",CG="Portugus",EG="Perfil",AG="Salir",TG="Tema",RG="Iniciar sesin con Google",NG={now:"Justo ahora",minutesAgo:"hace {{count}}m",hoursAgo:"hace {{count}}h",yesterday:"Ayer",daysAgo:"hace {{count}} das"},kG={restoringCache:"Restaurando cach...",initializing:"Inicializando..."},PG={finalizingAuth:"Finalizando autenticacin...",waitSeconds:"Por favor espere unos segundos.",descriptionGoogle:"Inicia sesin con tu cuenta de Google para desbloquear todas las funciones y guardar tu progreso",loginError:"Error al iniciar sesin",signingIn:"Iniciando sesin...",continueWithGoogle:"Continuar con Google",exclusiveFeatures:"Funciones exclusivas al iniciar sesin",continueWithoutLogin:"Puedes continuar sin iniciar sesin, pero no tendrs acceso a las funciones enumeradas arriba.",back:"Volver",backAriaLabel:"Volver a la pgina anterior"},OG={back:"Volver",challenges:"Desafos",explore:"Explorar",audio:"Audio",soundOff:"Sonido desactivado",soundOn:"Sonido activado",logoutWarning:"Al salir, tus funciones y progreso solo estarn disponibles cuando vuelvas a iniciar sesin.",logoutAnyway:"Salir de todas formas"},MG={memberSince:"Usuario desde",globalRanking:"Clasificacin Global",rankingHint:"Punta en especies exploradas, precisin y velocidad para seguir subiendo."},DG={title:"PROGRESO",speciesExplored:"Especies exploradas",challengesCompleted:"Desafos completados",hitAccuracy:"Precisin de acierto",medalsEarned:"Medallas ganadas",dayStreak:"Racha de das",globalRanking:"Clasificacin global"},LG={title:"ACTIVIDAD"},jG={title:"LOGROS",locked:"Bloqueados"},IG={title:"ATAJOS",saveEdit:"Guardar edicin",cancelEdit:"Cancelar edicin",editName:"Editar nombre del atajo",remove:"Eliminar atajo",empty:"Ningn atajo creado",emptyHint:"Crea atajos navegando por el rbol",tip:"Navega por el rbol taxonmico y guarda los nodos seleccionados como atajos para acceso rpido."},zG={title:"ESPECIES VISTAS",openGallery:"Abrir galera",emptyTitle:"Tu galera est vaca",emptyHint:"Explora especies para llenarla!"},BG={title:"ESPECIES FAVORITAS",addFavorite:"Aadir favorita",edit:"Editar",done:"Listo",replace:"Reemplazar",pickerTitle:"Elegir especie favorita",pickerEmpty:"Ninguna especie disponible",pickerEmptyHint:"Marca especies como favoritas en la galera para aadirlas aqu"},UG={title:"Galera de Especies",species:"especies",of:"de",searchPlaceholder:"Buscar por nombre o familia...",newest:"Ms recientes",oldest:"Ms antiguas",newestFirst:"Ms recientes primero",oldestFirst:"Ms antiguas primero",favorites:"Favoritas",noSpeciesFound:"Ninguna especie encontrada",noFavorites:"An no tienes favoritas",adjustFilters:"Intenta ajustar los filtros",noImage:"Sin imagen",photosFirst:"Fotos primero"},FG={notFound:"No se encontraron datos",backToGallery:"Volver a la galera",backToProfile:"Volver al perfil",backToTree:"Volver al rbol",dataUnavailable:"Datos no disponibles.",taxonomyTitle:"Clasificacin Taxonmica",kingdomLabel:"Reino",phylumLabel:"Filo",orderLabel:"Orden",classLabel:"Clase",familyLabel:"Familia",genusLabel:"Gnero",descriptionTitle:"Descripcin",nomenclatureTitle:"Detalles de Nomenclatura",author:"Autor",publishedIn:"Publicado en",sources:"Fuentes",imageNotFound:"Imagen no encontrada.",imageNote:"Las imgenes se obtienen de Wikipedia, iNaturalist y GBIF, y pueden faltar para especies con poca documentacin visual.",viewOnGoogle:"Ver en Google Imgenes",imageSource:"Fuente",imageBy:"por @",imageLicense:", con licencia "},VG={locality:"Localidad",country:"Pas",date:"Fecha",recordedBy:"Registrado por",unknown:"Desconocido",noDate:"Sin fecha",notInformed:"No informado",viewReference:"Ver referencia",dataProvidedBy:"Datos de ocurrencia proporcionados por",dataNote:". Los puntos representan registros globales de diversas bases de datos, que pueden ser diferentes a la fuente de la imagen de arriba."},$G={loadError:"Error al cargar",loadErrorMessage:"No se pudo cargar el rbol. Intntalo de nuevo.",noData:"Sin datos disponibles",noDataMessage:"Todava no hay datos taxonmicos para mostrar."},HG={selectKingdom:"Selecciona un reino",example:"Ejemplo",selectKingdomFirst:"Selecciona un reino para buscar",gbifError:"Error al consultar GBIF",lineageError:"No se pudo obtener el linaje del elemento seleccionado",pathError:"Error al construir el camino seleccionado",keyNotFound:"Clave GBIF no encontrada",rankNotInTree:"Este taxn (subespecie, variedad, etc.) no existe en el rbol",kingdom:"Reino",searchTaxa:"Buscar taxa",expandResults:"Expandir resultados",minimizeResults:"Minimizar resultados",results:"resultados",clearSearch:"Limpiar",noResults:"Sin resultados",searchByNameOrKey:"Nombre cannico o clave GBIF..."},qG={selectKingdom:"Elige un Reino para comenzar tu exploracin!",mainGroups:"Grupos Principales",kingdom:"Reino"},GG={title:"Desafo Diario",find:"Encuentra",missionDescription:"Completa el camino taxonmico antes de que se acabe el tiempo.",cancel:"Cancelar Desafo",start:"Iniciar Desafo",completed:"Clasificacin completa!",path:"Reino  Especie",timeRemaining:"Tiempo restante",taxonomicPath:"Camino Taxonmico",interactions:"interacciones",tips:"Consejos para avanzar",needHelp:"Necesitas ayuda?",prevStep:"Paso anterior",step:"Paso",of:"de",nextStep:"Siguiente paso",revealAnswer:"Revelar respuesta de este paso",belongsTo:"pertenece al",howItWorks:"Cmo funciona el desafo?",randomTitle:"Desafo Aleatorio",randomMissionDescription:"Completa el camino taxonmico de una especie elegida al azar.",allSpeciesCompleted:"Has completado todas las especies disponibles!",replay:"Jugar de nuevo",nextChallenge:"Siguiente desafo",nextRandom:"Desafo Aleatorio",pastChallenges:"Desafos Anteriores",today:"Hoy",completedLabel:"Completado",alreadyCompleted:"Ya completado",prevDay:"Da anterior",nextDay:"Da siguiente",play:"Jugar",otherDailyChallenges:"Otros desafos diarios",dailyChallenges:"Desafos Diarios"},KG={unknown:"Estado desconocido",EX:"Extinto",EW:"Extinto en estado silvestre",CR:"En peligro crtico",EN:"En peligro",VU:"Vulnerable",NT:"Casi amenazado",LC:"Preocupacin menor",DD:"Datos insuficientes",NE:"No evaluado"},WG={welcome:vG,language:yG,light:bG,dark:xG,system:_G,en:wG,es:SG,pt:CG,profile:EG,logout:AG,theme:TG,loginWithGoogle:RG,time:NG,loading:kG,auth:PG,nav:OG,profilePage:MG,progress:DG,activity:LG,achievements:jG,shortcuts:IG,seenSpecies:zG,favSpecies:BG,gallery:UG,specieDetail:FG,occurrenceMap:VG,tree:$G,search:HG,explore:qG,challenge:GG,vulnerability:KG};Qt.use(OO).use(z8).init({fallbackLng:"pt",debug:!1,interpolation:{escapeValue:!1},resources:{en:{translation:zq},pt:{translation:gG},es:{translation:WG}}});function YG(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l);c.displayName=o+"Context";const d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,ZG(s,...t)]}function ZG(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var XG=Symbol.for("react.lazy"),tg=Qx[" use ".trim().toString()];function QG(e){return typeof e=="object"&&e!==null&&"then"in e}function MO(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===XG&&"_payload"in e&&QG(e._payload)}function DO(e){const t=JG(e),n=x.forwardRef((i,s)=>{let{children:o,...l}=i;MO(o)&&typeof tg=="function"&&(o=tg(o._payload));const c=x.Children.toArray(o),d=c.find(tK);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var LO=DO("Slot");function JG(e){const t=x.forwardRef((n,i)=>{let{children:s,...o}=n;if(MO(s)&&typeof tg=="function"&&(s=tg(s._payload)),x.isValidElement(s)){const l=iK(s),c=nK(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eK=Symbol("radix.slottable");function tK(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eK}function nK(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function iK(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var sK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],j_=sK.reduce((e,t)=>{const n=DO(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function rK(){return RO.useSyncExternalStore(oK,()=>!0,()=>!1)}function oK(){return()=>{}}var I_="Avatar",[aK]=YG(I_),[lK,jO]=aK(I_),IO=x.forwardRef((e,t)=>{const{__scopeAvatar:n,...i}=e,[s,o]=x.useState("idle");return y.jsx(lK,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:y.jsx(j_.span,{...i,ref:t})})});IO.displayName=I_;var zO="AvatarImage",BO=x.forwardRef((e,t)=>{const{__scopeAvatar:n,src:i,onLoadingStatusChange:s=()=>{},...o}=e,l=jO(zO,n),c=cK(i,o),d=Gs(h=>{s(h),l.onImageLoadingStatusChange(h)});return Ln(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?y.jsx(j_.img,{...o,ref:t,src:i}):null});BO.displayName=zO;var UO="AvatarFallback",FO=x.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:i,...s}=e,o=jO(UO,n),[l,c]=x.useState(i===void 0);return x.useEffect(()=>{if(i!==void 0){const d=window.setTimeout(()=>c(!0),i);return()=>window.clearTimeout(d)}},[i]),l&&o.imageLoadingStatus!=="loaded"?y.jsx(j_.span,{...s,ref:t}):null});FO.displayName=UO;function F1(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function cK(e,{referrerPolicy:t,crossOrigin:n}){const i=rK(),s=x.useRef(null),o=i?(s.current||(s.current=new window.Image),s.current):null,[l,c]=x.useState(()=>F1(o,e));return Ln(()=>{c(F1(o,e))},[o,e]),Ln(()=>{const d=v=>()=>{c(v)};if(!o)return;const h=d("loaded"),m=d("error");return o.addEventListener("load",h),o.addEventListener("error",m),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",h),o.removeEventListener("error",m)}},[o,n,t]),l}var uK=IO,dK=BO,fK=FO;function hK({className:e,...t}){return y.jsx(uK,{"data-slot":"avatar",className:Ze("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function mK({className:e,...t}){return y.jsx(dK,{"data-slot":"avatar-image",className:Ze("aspect-square size-full",e),...t})}function pK({className:e,...t}){return y.jsx(fK,{"data-slot":"avatar-fallback",className:Ze("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}const V1=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,$1=iO,VO=(e,t)=>n=>{var i;if(t?.variants==null)return $1(e,n?.class,n?.className);const{variants:s,defaultVariants:o}=t,l=Object.keys(s).map(h=>{const m=n?.[h],v=o?.[h];if(m===null)return null;const b=V1(m)||V1(v);return s[h][b]}),c=n&&Object.entries(n).reduce((h,m)=>{let[v,b]=m;return b===void 0||(h[v]=b),h},{}),d=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((h,m)=>{let{class:v,className:b,..._}=m;return Object.entries(_).every(C=>{let[E,T]=C;return Array.isArray(T)?T.includes({...o,...c}[E]):{...o,...c}[E]===T})?[...h,v,b]:h},[]);return $1(e,l,d,n?.class,n?.className)},gK=VO("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive cursor-pointer",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Wt({className:e,variant:t,size:n,asChild:i=!1,...s}){const o=i?LO:"button";return y.jsx(o,{"data-slot":"button",className:Ze(gK({variant:t,size:n,className:e})),...s})}const Ru={1:"animalia",2:"archaea",3:"bacteria",4:"chromista",5:"fungi",6:"plantae",7:"protozoa"},$O={animalia:1,archaea:2,bacteria:3,chromista:4,fungi:5,plantae:6,protozoa:7},wa={1:"#ff6b4d",2:"#b561ff",3:"#2fb5a0",4:"#ffb700",5:"#c84726",6:"#5bbd38",7:"#2196f3"},HO={animalia:"#ff6b4d",archaea:"#b561ff",bacteria:"#2fb5a0",chromista:"#ffb700",fungi:"#c84726",plantae:"#5bbd38",protozoa:"#2196f3"},vK={1:"border-[#ff6b4d]",2:"border-[#b561ff]",3:"border-[#2fb5a0]",4:"border-[#ffb700]",5:"border-[#c84726]",6:"border-[#5bbd38]",7:"border-[#2196f3]"},z_=20,F0=2,H1=20,V0=20,qO=-9,GO="/treevera/assets/avif-animalia-B-f7tRK9.avif",yK="/treevera/assets/avif-archaea-9EsGaDQG.avif",bK="/treevera/assets/avif-bacteria-DowZWJad.avif",xK="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAGNbWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAsaWxvYwAAAABEAAACAAEAAAABAAAGJQAACSwAAgAAAAEAAAG1AAAEcAAAAEJpaW5mAAAAAAACAAAAGmluZmUCAAAAAAEAAGF2MDFDb2xvcgAAAAAaaW5mZQIAAAAAAgAAYXYwMUFscGhhAAAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAAw2lwcnAAAACdaXBjbwAAABRpc3BlAAAAAAAAAGwAAABvAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQBBYYHAAANpG1kYXQSAAoGGBm17mFQMuMIEgAKKFDYAsLyjFo3dLA9gFsleEO1sDsKbGus3GXbF8epprVeuAz/W4qkshsFIvEAUItGfQPrZ92zwBMs8RztQBsf0vV/rHO/QPgwhmlSuyaki7uMPY/TisltPIQNjxopDuExE5Hs6N7ATevqJ+cAF2f1NRefv4QF/dt4FnBqjgvtTjwwenfOzj65bgelDbdWE20tA4Qom6YijB4pVwt9vw8D4fItTFoyAAEeZBWU8hohAjaDMUcMa+j3Qmsm2s8JrILwkO8/lsfccCWw0IzlP+T50oxEkA+Vx1yMx68312dGcpTgFQaU98D+TzWMekHuhxY4mo6THEinOC063dFzdb6syJxTbTf1e/X17EPl4c/FJI2coDIDDKBgqRrR1M9o/KMA6WpqwGPEq+eR8CcWH/EgroQVMk100U/vdxmbMCzkX1JIdGmcdI+Y5YaarpHHTG5W7pCISuUuvhIvT/S6j49IwGVcMzpj+dV1eju/GUMZnycN+v76jj5KRcv3F2rsLrMOD5EUsOS2AyQjpSD5EbkDwlVdnfI/eojI/QHVm+pIdGJeDCYN3DPetVpzb+r1q2gA1iveuUGV7C/I4UFs864WmFshyKQUvl6lw+y8nB/Yxek3V1rNnym8vMHR4b0wHO/2KWKo1BWuPx5CcOxn7ELfjzzvorSxZwWmz/+BKD9izo6PiMNh+rJYyN30zjH3M8qZS8nZyh3CkT13gFrroZsp6NSNpq2+EIAoG4WJdf4+rFIIi/Ac/v+e06w9To4Ggr2R5V0+p/G+DPWf5MiY2jCXtguNLwosHAHmuj6KAX9RM7splnnW/trJLvPh7N0UMteps/9kSspdcZaam02qym3V4+zYIxqfFaD39Qtg/61oPuwoboUhk5CvqWpLSwL8hmdaqloryMad594PjesgMbVJJrtp2M4qjCSRc1j3SHDdhEowwcOR91rPCG4EI1+hEnFT2SPblY1CAg0t/iziZZduLb95pH04mrSvU4UgNG8a059Z02kYbht43p4X17v3/lPSZnmp8K2hC6/gwT/WGhd5cGpvsCMZeZxikvcvFJPFJEwiPJkC1K3hDM/gopPjyfdsQmLIOJOGVuK1TSYxwmwb7IJLZ51IlB8+zBqMdfNW3ombH/zbc8CS6dcAEPbmpXUDYWcrtnV6Ru6bGAtq0KAGKX1nflRQ4r7ccW8HEPsiRrFomJUIS+iun6yIqlAdFIXBSw6NPiaQJIN8eStr0kKnB63qXsPk377OKM3hLgQq0Lzk5oy5kzMFPwk7SyScD+B8zCjk2FiOT0cS9gvWKHcbY5AhV/Jub302lnRTxhkfFm2/tZFRF5qBE853vDuafs03gNgsMaFpEWCCRcP2JTT6u3BmGaECfovbWb9JEm0v6sEej+cUnhecfimdjtylV6gaDDr83cqyCJJmnfujFsEWlnzpEGCvNNRz59th42fAruG0PKfCzAS45AXTTMK0+H3mj1MsiVnpscY20+vKXbTqLxIACgkYGbXuYIEBA0IynBJEgACiiihQ1/8mS+0ZHqhaPuYuFtDXyEXMhvC1LFbrnQhf4LGpkza7zu1DS8vAFLD5urBX5K2LYLt/VQM0Pyps0aHsvZloiNVAyzkpp7r3m0IIZjI97mhhLNdJqLMjAYdNaC1SVYzT9iVc8yQGizaVMoH3uM20vAerHeMo5ZQNEUafvZcRKaxf/lqliuV49bVpaubcETXt7HmOwKpz07M0FeUh6dQhQLkG6+YBNccpT7V1krYBk7dV1bLdYxMXRmbZQgbBOkZfSr+tt+tqvYvrHWJmcGEECJmeEjvhcR0t0LtnVzvOhSdtfLqrsDQY2W1Ee4PDIUOoYX9+aW2PPLfAjN4unBzpc+JKqP3//TOyYCvb6cnZyZJ5/Lv2WK8ftLoi4PzMFYhNM+glDVjYOcGZ5Myq+1xLUB9sEq0y/obMrfy2plXXkf6D27bF4C837Jj6Hwwq38kxf83HBxUUqmvyQOtKYTvDPptGS1n+hqTutaY/8RLIeA7boEJAzc7jKkxyHWz31I84xTToQNWvXVXkYaEVsNyw6atPOkRcXH+2cvIWjCzbtzOWkHqyr4IVUPGL4w1Fm5iendMQUGsfVtM/qnhmZdhtMcwLK8wJXBlRy+1/vggQm5kFriq7MQbYycq+SjsGbmFbDfMWT3ajA4w8l2f0P/CmW3/NwX4anmYHK50l/7qQ7URhanrGu9aAyZ24sAWXch7UOc38M4lf9ekXbevCKgbooxHalkxCuDBamvY0rNkNlo72pkvugS8ZzCB5QsqDZSGpFzFZBVECz7rtBWsOe+kjmvNMiCItlYocgEl0JunBdHCisz5TeL8MlkK/pUMEUc3os86qnlky2+/dR1N4oDHsJY4t7VWdw6hYF0nRyUWbljlGQn2wQ1JWFCW8XPFgQrQTBnhK6qyediFfDtFYcyIVNjf0EAd5kLhk850UB6NCBSCRVWNjz+tKk1WXz4YV5Z1V8TAfo0Rmpx6yJlHq7CFnTy0YNxx0GZT9IxULt2md2O+S08vCiMOwricx9goNmcvzaaCi8Lehurd6y/nhbq383eozGUhe3t8vqF3ObuHLdxrjSiFXNAvxRdtqitLT88vZ/o4mOXftv+u64YPtFGwr2jvgyYXV55ilSeR4HSN/YabafECaeNanam2knUhC4JQUEXekLFpXQEOo4CtvXEko5es/IiP2W3SxvSFWYBqycKJYqCtbvJiONlOLMTNa76s9G+9Z0eGugMML8b34wS+GG1a0CB1sM657Qox5bfTeqnAaanXxxCkVsm3KXyhUTQCPVTYxeGFcJ8EalMAhpC3hsg/zk1KRTjxA7H2SY5l3SP+Kav5vSf0e9G8+VR58gbl121l2IrzbgJzStCsNPgYwB//5LYuNxqKbRmGWefHWnzAWgXb/EUQctM4KWglLpfRUSa7nO7cjfDUotPPXSWhxRTYzPLxMqG68sHmxIxu6W7GhY0ZR+sc9JjlPP4ojQevzZ8j3Fh32LtjCRTx4HDrcDm9iyloM+PBdDX8gKmxsk+MvM0M7AtXp16qS1XWjNLfZKY1VZVwyVRALAKD+UsJwl11p1yqKK7A43w8t+yHEemTos+lemT9uKFQH3EdCf7udvDFYuBTNQLrDL9cpwfiZOUS1ioy8JGG2vM9VUSd0moeHvbhvOyFI5ukw3Ek9vtG2Wk56Jlb543NX5HHyyJ6ayvzLJ6qKUAaF9zuKQ1yPFP0tV+npwf7enNrReLrmAtLkYx1qA+ee4aHO700Kli7RygiMM9Si2hIT6cMI3PeihZEp8/uFiaZEOIXRLrkh+jqMdPq9NcC69u6EDopbj/sh3xOJa3Ip6wtnvR2wBJMKV4kSn6zaHvVfUYKeMpGP/+Jq3vHZK0P5S1TRLF0Trt5O0J+2VtpvFuREuyPCLdj6IXBwKZPXphABEqgFYk7eXBfKtsRFDjPJT/ebTDJcXAJTTqLjVC7FIi+KbxJPJ44nIlf/KJ7114UWQIFZLCpO3oq04LvK+9Xp5lTlmabo6IKcBDErD+15rNuMMn9cK2KlYza/kwbN2pq5V4eAvVMjNSAGRDMhFN7DvxY4AeD/+HbGMddkoBQPVIMhatZw0TniuM0BXavTrK4E7C9tkpnA0brcPKt/L7ya1Vzk/4bumauyOmgL08WZBUAM0Pj8hZfFr0xwp30qX0ur4dvvspaM3RQaniPPdKlj8PTleR804UyDllzSvEVvkYnfsK1kj96ZzQfw+B6X6uXxDFXjg9V3rvz2Ky+MURrTsbQXetVEicb/JPACBxw+SL2ZSdT1eEJPEYOThYEVyevmZgP4CfRN4T2i/g7ouekkT2El+Ki678Bou9hJT2uK+iBVAqzvyS/lSMQFgtVPbRycXYRL0xmpVqa6HqzfBw7x9TjYSbjqoOBnD/R/6wSYsp6UkCYd0Fd7KBqoMyLxnKNNY/jjvPngpHH+SmDfHY4c8JZsgbzk0A/kIJAoC8OmfgDV20xILJ8ujCdFVuOOP52rN8biish7YWu4pS9d7Ga4cUXcvevpJB70peN45NBEqr8xjpa//EbYSCycyxQ9woR2Q4+oFqFFjia49aMUxYixWResp7UxXjVFP7Yho8TO2GkccjG667/Q8+U/Bf/2SIhPPyUlwNN7WWjmYQ6qdmzSjp2iyZmI8PUhyl1NY8PuASe2MKc6rWo2DxRmqTtmMq4qKg3EYUAnI0unriMr7QJ5P9ch11MJO4JsdSjJQgpPbSgsLdtB9zQOoiDr9H+FK2UhZC0a/oBWN8pAaBQpEjs8CDc1IEsKK6QN6QiMXaMW76ayfdap95ETzrVBmvJW7oAJvIAHHLqJZvoI2fzWrXBeu7VtIsuApMY8lc/SiCOc+UnC15ym0XJlfbuR2ESZl9jaYN+U1KgBgQGgMo85gHwOqdwDlU5mZNchmGb52pJtZa+4pJ2rfqJZq0z/643WP81PmwDRgciiItmC8fESYLw1OfojDJ4PXgr5BQL0ebZrO2JvjzWsfz990hj6NjfhMxBa5NRnEsJHaC+jaixRB/2P+EZihZeJWxJ4mI/hB6P1QN7eKClBZ+Zy1aUKJGyMR/EpI8uyYy680g1OrdUpIY05oWY+Y6oQbqQXIUchIo/A",_K="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAGNbWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAsaWxvYwAAAABEAAACAAEAAAABAAADrQAABRQAAgAAAAEAAAG1AAAB+AAAAEJpaW5mAAAAAAACAAAAGmluZmUCAAAAAAEAAGF2MDFDb2xvcgAAAAAaaW5mZQIAAAAAAgAAYXYwMUFscGhhAAAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAAw2lwcnAAAACdaXBjbwAAABRpc3BlAAAAAAAAAHcAAACBAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQBBYYHAAAHFG1kYXQSAAoGGBn7QDCoMusDEgAKKFDYAsLyjFo3yjEA9G9zx8r56yTZIgvnVCrfhhL0JlUUXbNXspXqu/0SkF+qCbvzwXswX1AJkHF0hgCZoDxY6YFxyIi9g7vB7C6qawEafmG63TTCXUZe5p/kJydJUg6DzlB/dkEuci+j7MQLA/9LvhRPoCXafFq+HnelQrDlQByrd2Spf0mjbYtagK3gTD8bAICt8pBdLcapp4Y4w76HtSAONq+QOWPk0Ym+wQgc1YBBJqnR0i6amL5iU+ijtckupUsWP/K5MME1u/Or79uNQihpYIxAoskRh0yZexa9wyKaAjCZTFbKHPgW6kI9RfuDj/W341XONFYxNfIVOw+s7FFU3bAZSQl6XLvPcf2LnAnJg7hGm+C/xYfDaa6TtznuaxAj+JYqy+CJHztEP/7MLrYbq/5uedhvDpBnEB2w4x2S9KUKEMjNwV91zyWfig1DbxACu1jeNWjt6X0wj61zCYk3mDnuppySa2pMht7jq9awfwFSBBLepWj7TfrULy19fbXoJR/iBeTW//H3TTsaElyku3PKQ8GddVAFoqJXqZmF6DX6v0j9mlZAiPs3u9fMaDqTYdu8WbyaCZuUNu7UAJJQTn0EIuj/0vAiVxVAi7DDFCtuvzY2DlXFGGlw0V0M9XhHeA6crSoSAAoJGBn7QDBAgIGhMoQKRIAAooooUNf/JkvtGR6oV8dtYj1WBBGv1iQlFx//RbT/tA8xKpuYZIqTv7rRj97uzDG9Sw4ewGvvegI+KVvFcbOmrdfgLNT+2vuCmi69od9wbEbAas/jZIHo8xkmvvn5h29h2QlXvMOuDkI4gMtxZnovlP+pSo8/+265ysscKZkGfXxXNxk2SA4DrqSuQkwW5g0ftc9FAIWkwXUh1V2j3gLbvURWQ652sbP8to5I0lnGrghTXkaD2Gv87p+Hv9xAy+trqwJMfHxtvnl9x9oJN+JR96oaU+2NT1cpWtY8BwgzR5mfixkEX+a4WIaOi5NfZMkA58e81+TOh1LXfuZkBlZoWCF162y1U05LmqbJGmXMAutII8ZnXFJ5XWEKFjoHPL+mFf/9nY2RASmjjPtn4yFY4LNpnRvx2LOvNsslIGMWm8ITxumI+aphIONsnW+6A71P9PWMHhoK/VhqhSP3zDsvDVndkCkLTjyJ8nOVC+8NbJEaBxBhOmagpI5KJC80ejy73dRe6I0+tK0FBi29wS5f9YLymlF8HrOCQ+VIUaxq3MAia/bx3JaiIZ3GBa0K0HnQaE1Fvqltk1WGWziOeeXVfAI9nmp3Fh4w6teeJssyZdOoshU/N05iHomBc9metXKDfMJTthTQ67ZJOqjpMFhRzUIaOT/zXf7PWiLi1fBLhRSjsBs9za4lVyIDTxjLgXutblodGetVkeBg6/GOB1rMHiSK1bksnDBHJ0EGG1Y70m0a6SueEzfjZhJFLMTIuhpwjAZ6Pr8Ro8sh6OltmZc2D+2pjsc3HnewXnbsMxb5aHwUKiIh0CFXdDyeu9p0unC8KTc7MrnfF1yDnWOV2HTX3HJdRQkPA1bGuG9vvaByHfurqVKa8W/P0unk5bMBYXm2DoDtI8/LkYN6T7o/LpilF4XmiCKnFENW50J9tsf88umr6+RWKMOym7iprrQKVya95FRU1WLAuTB/C1zwq0ZRdinCTJ4/iPuP85trKA9Gtk5vFPVU0jekR3aUHp03STpHeykqnbB5RVWUeYAYk3GdhsXO4ewVDY8hxwH7i/sft3dCR3wBgdHs/0CnQJekwSqSGs5fZL6xHnPwOzo/d28nb4rz+Pip8USLtV4ERrAa+lZH53GDYzqz/H4KOWieFJQjFED+/G3FpioFGZDkXJB86LwawLTuDYd4+qWrpfwHPeQhdEHnVNmp8PNXF11dY9gBuDQ6W0dOtvWxaQ59ViELMeWGG4xO3hYnRY/LQUHJIvUmi8GUzYYk6FjfGJi6aUWE4CpJNfTkhRJAhAReHR/EYOqSRtQt4Nq3Yhn9VgovKyxlF6cgLABEKMeOIVRwsu3SXruUQr2qWVCylYhp+9HGAHGGun/xG2N5nBNYqTLku9A9tr7n/ZPQdklz/unNZbLGbP07IGwzeA/uaf8/+S4dDOI8qEvw73aHArq4mbObv1qZXJ2A9oqNichHjFwK/wAyEB7NLr7BFfiln5mOj2DxW8aP5wn/4kyD/2CvAN2Wnt0F8wxzLYR04r9qAr2SUZqYsOvDiR7FCC2sIyQO0cZxGJ2mmLm5lFJcZdvkrptMvji05X6MLFYAHUG1H7o8RFi2iU/9Ur3fFauJtcwx30Yh7sPuKDJLQVB9tZtcBIkBnXAlncpcrkefx6A4H2gnae9+GZFZ22BRx8qge13ZiJd3gz6cwniGpZtJ84bpQkSSmYFY",q1="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAGNbWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAsaWxvYwAAAABEAAACAAEAAAABAAAEVAAABXwAAgAAAAEAAAG1AAACnwAAAEJpaW5mAAAAAAACAAAAGmluZmUCAAAAAAEAAGF2MDFDb2xvcgAAAAAaaW5mZQIAAAAAAgAAYXYwMUFscGhhAAAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAAw2lwcnAAAACdaXBjbwAAABRpc3BlAAAAAAAAAG8AAAB6AAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQBBYYHAAAII21kYXQSAAoGGBm3eWFQMpIFEgAKKFDdK7YhY9FDgo7+mdWsfVkURfvprIG/cOJBkxUD49AD/MzZCP1c2ADPY73n8mfNApWMwOYKVUD/bHJgXBNMtSJ9++5QHxctjqe131Cl2x9Buye16AlUaS4DCaTSfTqyJlPT2lCkMJ7YJ79/CBRhKLG4zwKOHeVZZ4CRWCSgjy9KdT6eQCV3m0C3vuFn0Qm4BiAE+gvv//NsDhrMwj2qHReJLK2YvZ1DbmXNAs/avxk3giFCLqX4nACziQscV1sD+7WTf4ggUBPnU2qbgju2Q1YxKZgE561lHA9W3nx1cr8QLi5b8+pYnIowyabz7xxtCqpmMz/tqRdXIylhDPV9ZSAg0pIPG9oVMkftjV2PqTmefMGw9eHSlm1h6KzsaIDpvmvK1FsvxLcteYDS/wUYjMuac5EKolRQ2QgmyQ5PUqi89hiWpuxCk+kAIlSgxX8pSaRvgwjoKzTRG7KhXi0SEz18JRb8zkm3fQI1hc4HdAQTpApiCnyIaNyNIUnoo3HzE/BlbXa+0VTpB1M02fZcU5qgC3hfde3l2FimtVjqMo3JO/br+5k5RgjRWA3RZg4t/W4v9Ql442U+VczkJbc7+1xfljQTY6rbCtrmpCA0EWcoA0wtJjbWWE1ZkSmgFWghqbo9lu2LSiz+2OfGSyVSk5uRGj/ezjYmlb4e0NadORck49tpU/4n5eqfGlevunn7gFgGrIZb+dXJQzI38CdQ6SF5LG1gSR04x0m7sTcA6Y9vuj77HbWV+kqem6ADB+cmgvKu5dLHmXYESTw+O3//vzUxpQOQLs56j5wS/qCTeE6ImdNt8bwxsqQL368N2FFdnaFJS1V541LwDWt/E4Ye6bBlsVih/J834R0aVWZp4BIACgkYGbd5YIEBA0Iy7ApEgACiiihQ3GoDuV6oJ1tQulM9kmZu+DezSPd9HEBXhwInIn2iHF8xYI8xiy89UMOvIg6dR7H71dlvqqVDKnaUGwhgbfdIxQofuuCrh6CHtTLVZ+TsFHSQnOOTbXJQDbMAMIZadkQNKxPfZwvxAJjdRjXcEJJ/lGu/RZ/i+YnBwuvEhe6GT7p70qf9bLLUL1v5xaCWt0PWh+R3IaFmdnHW9bRCIW+FLjWJJpFrJ/QZoFUbFIWPllNx38Yfpl2pAvCdpg3DXq9RAPyPS1Lo2kcpvXQQE44QpwhdpnRhdrIq+wq/p4N5E+DE4EsiHHcVBOIxB0GaezT2AY3h+8acr17iHqlr/cAUT/WEK1yXTuQKXb2HQC3rwFMGEcpSXElvFLixVMdvpoIAuokXc7GXkZl6VNNSyX5NbdT6y5A0hS3REp8uTGf6pDbr7Bpwx4omX4SV6PjGoslNXeASq41ED+C9ijdb88OGDfpn30Z2YY59ewI9kDwXmOuAwXwool2GH9kjpDnWURjiGSvo3fVJ9OIoGRmkKDrQ5kSsf1LiyG0sMNr1Tu6xFZayQLpunPeNDjzRWNvzNeCFID/LQpif0z+vplcFYSwC04cVCpWZOVtjqyq40JL3PqAiRPmyk35KOP+dsk4Jh4KVyDfGIlqh/QTnCD63Lrpfc8i1+ymgKfsNZB4gfrnMcYUoBLx7q34ZlNyMT627fSKfcBa7jWJGSnUfrs4p3aJwGAmOlx/oMIcyrFjA5zg4uUWl4j5f6wRqkIMrx/Uf2a+xD051ctLAFa+4lAntw0Mfye6bY4etFuQ0qTekDRkmBxaRpmLeWDx0zDW9mgHsPovaQIxKkFepWAw6Wwby3BLD2b27rhjVCNi4Qq29ZEi9R0CGtZvWRfnif/nI9dkyup9PBranmyhxKS6lS/Lw89S2oU+l92Szpn4fQIkLe5XPSzmJUWvZWLvgn9s833lX5XWn4ptCHCorjCv7WHo1JIpbBJS6qGbdp3S/KT7JD121T8vFHCB6J7y9vJxdkB4PV1sdx3b/Zbh1oaWB8X19MWR+qaFOTEklhd2bC7extbnZ4+4DbgR4Qbz9BKPjTjZB0nuhgI0b+///dC5+1qwr2F8zePhEZRdmTeFW+yk4JsSQ/HVvCiSFTSJ0rtxHD75Xy5zTcDQXQWRULK62xy0Ujfl/wSSsneg1AtC4Dl2gO9+tHSldL3OZXGTbXkrvTLzgJvZlTo0DI5cAJGYeE93bL19hlI1aRtTTqUOJJLXs8OJYFd/8OxEZzhbAyLBW/OpJ22B9SozPcV++dDfFyiI36Vnq6t8vOLdD7ZBB4mFAXMS8GT1/BCaDo81SXO/AXTG+ucyermTZsqGZG7jbdkZu3/9uUKFJewulKhRIfWc3FKyjszcQQPT+VnjZeD4AigIlYPpmuApVtp4VL9sxB2FxymGtnKNh95k18aNz/yb0y+QMk0dlZWKUUOPhsSnoKTnEwHhB6BQ9sTK5bNVZw6/pBSb30yNfVC9n+VRV0ZbBkLVjx4kZHCgehVhV/P9+3l/SOFQ0lbYq7BKuDcxiGexdNtpSci7palVxm+WBLgY9l90X5XOyT5Imn1Nd5EEmy7+A24eRpYzrQYWrQwJwxMPh9piNy397M52MghUGboxDdjtBNzEkaG4t+cmu6roABlDqg0Zn8eDw8M6wKKgK75tfFT7n5wTSWOElW83rLzz7XFrp2Tmf4ePRqEx3Ap2Lp4ufiiqEjAGnGZi8d6bmCk2csIktyKyR6vzNIJ6Rwu4JAckzKUF3RocyNgv6NEsf5d5E6s679jB7nkV6B2l3Gs73+FX6eFTkR5S+vxGu6J+1TtzAFRzAD1GwwA==",wK="/treevera/assets/avif-protozoa-RsH4rUqA.avif",SK="/treevera/assets/animalia-1-BrCknNTg.jpg",CK="/treevera/assets/animalia-2-BDEhoAvR.jpg",EK="/treevera/assets/animalia-3-Bsfma6dk.jpg",AK="/treevera/assets/animalia-4-C_x2fSuq.jpg",TK="/treevera/assets/animalia-5-B4FeN5_U.jpg",RK="/treevera/assets/bacteria-1-DcJhkqE_.jpg",NK="/treevera/assets/protozoa-1-DyA5gz-K.png",kK="/treevera/assets/chromista-1-Cw2H-mpX.jpg",PK="/treevera/assets/archaea-1-DHhKtLt4.jpg",OK="/treevera/assets/fungi-1-Cl-e-Hdc.jpg",MK="/treevera/assets/plantae-1-Dp2dibyA.jpg",Di=e=>e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():"",KO={animalia:[SK,CK,EK,AK,TK],bacteria:[RK],fungi:[OK],plantae:[MK],archaea:[PK],chromista:[kK],protozoa:[NK]},DK=e=>KO[e]??[GO],Rl=e=>KO[e][0],LK={Crocodylia:"Order",Squamata:"Order",Testudines:"Order",Sphenodontia:"Order"},zs=e=>{switch(e){case 1:return GO;case 2:return yK;case 3:return bK;case 4:return xK;case 5:return _K;case 6:return q1;case 7:return wK;default:return q1}},jK=[{kingdomKey:1,kingdomName:"Animalia",numDescendants:0,explored:0,bgImg:Rl("animalia"),icon:zs(1),primaryColor:wa[1],lightColor:"#fff3f0",description:"Organismos multicelulares hetertrofos que se alimentam de outros seres vivos.",mainGroups:[{groupName:"Mamferos",pathNode:[{key:1,rank:"KINGDOM",name:"Animalia"},{rank:"PHYLUM",key:44},{rank:"CLASS",key:359}]},{groupName:"Aves",pathNode:[{key:1,rank:"KINGDOM",name:"Animalia"},{rank:"PHYLUM",key:44},{rank:"CLASS",key:212}]},{groupName:"Insetos",pathNode:[{key:1,rank:"KINGDOM",name:"Animalia"},{rank:"PHYLUM",key:54},{rank:"CLASS",key:216}]}]},{kingdomKey:2,kingdomName:"Archaea",numDescendants:0,explored:0,bgImg:Rl("archaea"),icon:zs(2),primaryColor:wa[2],lightColor:"#f8f3ff",description:"Micro-organismos unicelulares procariontes que vivem em ambientes extremos.",mainGroups:[{groupName:"Thermoproteota",pathNode:[{rank:"KINGDOM",key:2,name:"Archaea"},{rank:"PHYLUM",key:10807497}]},{groupName:"Nanoarchaeia",pathNode:[{rank:"KINGDOM",key:2,name:"Archaea"},{rank:"PHYLUM",key:10706191},{rank:"CLASS",key:10809188}]}]},{kingdomKey:3,kingdomName:"Bacteria",numDescendants:0,explored:0,bgImg:Rl("bacteria"),icon:zs(3),primaryColor:wa[3],lightColor:"#f0fbf9",description:"Organismos unicelulares procariontes, encontrados em praticamente todos os ambientes.",mainGroups:[{groupName:"Cyanobacteria",pathNode:[{rank:"KINGDOM",key:3,name:"Bacteria"},{rank:"PHYLUM",key:68}]},{groupName:"Flavobacteriales",pathNode:[{rank:"KINGDOM",key:3,name:"Bacteria"},{rank:"PHYLUM",key:10707955},{rank:"CLASS",key:7498440},{rank:"ORDER",key:569}]}]},{kingdomKey:4,kingdomName:"Chromista",numDescendants:0,explored:0,bgImg:Rl("chromista"),icon:zs(4),primaryColor:wa[4],lightColor:"#fff9ed",description:"Grupo diverso de organismos, incluindo algas marrons e diatomceas, geralmente fotossintticos.",mainGroups:[{groupName:"Heterotrichea",pathNode:[{rank:"KINGDOM",key:4,name:"Chromista"},{rank:"PHYLUM",key:7765738},{rank:"CLASS",key:8235041,name:"Chromista"}]},{groupName:"Bacillariophyceae",pathNode:[{rank:"KINGDOM",key:4,name:"Chromista"},{rank:"PHYLUM",key:98},{rank:"CLASS",key:7947184}]}]},{kingdomKey:5,kingdomName:"Fungi",numDescendants:0,explored:0,bgImg:Rl("fungi"),icon:zs(5),primaryColor:wa[5],lightColor:"#fff3ef",description:"Organismos hetertrofos com parede celular quitinosa, decompositores na natureza.",mainGroups:[{groupName:"Cogumelos",pathNode:[{rank:"KINGDOM",key:5},{rank:"PHYLUM",key:34}]},{groupName:"Leveduras",pathNode:[{rank:"KINGDOM",key:5,name:"Fungi"},{rank:"PHYLUM",key:95},{rank:"CLASS",key:182},{rank:"ORDER",key:1281}]}]},{kingdomKey:6,kingdomName:"Plantae",numDescendants:0,explored:0,bgImg:Rl("plantae"),icon:zs(6),primaryColor:wa[6],lightColor:"#f3fbf0",description:"Organismos fotossintticos multicelulares, produtores de oxignio e base das cadeias alimentares.",mainGroups:[{groupName:"Angiospermas",pathNode:[{rank:"KINGDOM",key:6,name:"Plantae"},{rank:"PHYLUM",key:7707728},{rank:"CLASS",key:220}]},{groupName:"Jungermanniopsida",pathNode:[{rank:"KINGDOM",key:6,name:"Plantae"},{rank:"PHYLUM",key:9},{rank:"CLASS",key:126}]},{groupName:"Brifitas",pathNode:[{rank:"KINGDOM",key:6,name:"Plantae"},{rank:"PHYLUM",key:35}]}]},{kingdomKey:7,kingdomName:"Protozoa",numDescendants:0,explored:0,bgImg:Rl("protozoa"),icon:zs(7),primaryColor:wa[7],lightColor:"#f0f7ff",description:"Organismos unicelulares eucariontes, geralmente mveis e hetertrofos.",mainGroups:[{groupName:"Amebas",pathNode:[{rank:"KINGDOM",key:7,name:"Protozoa"},{rank:"PHYLUM",key:7509337}]},{groupName:"Euglenoidea",pathNode:[{rank:"KINGDOM",key:7,name:"Protozoa"},{rank:"PHYLUM",key:41}]}]}],G1={KINGDOM:{1:["Mais de 95% de todas as espcies animais so invertebrados  vertebrados como peixes, rpteis e mamferos so uma minoria evolutiva.","O polvo tem trs coraes, sangue azul e resolve quebra-cabeas  sua inteligncia evoluiu de forma completamente independente da dos vertebrados.","O tardigrado (urso d'gua)  o nico animal capaz de sobreviver no vcuo do espao, a -272C e a doses de radiao 3.000 letais para humanos.","Esponjas (Porifera) no tm msculos nem sistema nervoso, mas so animais  e existem h mais de 600 milhes de anos, sobrevivendo a cinco extines em massa.","A baleia-azul tem o maior corao j medido em qualquer animal: pesa cerca de 180 kg e seu batimento pode ser detectado a quilmetros de distncia.","O camaro-mantis detecta 16 tipos de fotorreceptores de cor  humanos tm apenas 3  e processa informao visual trs vezes mais rpido que ns.","Estima-se entre 5 e 10 milhes de espcies de insetos no planeta; apenas cerca de 1 milho foi descrita pela cincia.","O corvo-da-nova-calednia fabrica ferramentas de galhos com mais habilidade que chimpanzs, desafiando a ideia de que uso de ferramentas era exclusivo de primatas."],2:["Archaea foram descobertos como grupo separado da vida apenas em 1977, quando Carl Woese sequenciou RNA ribossomal e revelou uma terceira linhagem  transformando a biologia.","Methanobrevibacter smithii vive no seu intestino agora   uma archaea que produz metano e influencia diretamente a eficincia da sua digesto.","Algumas arqueanas se reproduzem a 121C em fontes hidrotermais ocenicas  a temperatura mais alta em que qualquer organismo conhecido consegue se multiplicar.","Archaea no possuem peptidoglicano em suas paredes celulares, tornando-as naturalmente imunes a antibiticos como a penicilina.","As membranas das Archaea usam ligaes ter em vez de ster (como em bactrias e animais), tornando-as extremamente estveis em condies extremas.","Estudos filogenmicos modernos sugerem que eucariontes  incluindo humanos  descendem de um ancestral comum com Archaea, sendo mais aparentados a elas do que bactrias so.","Thaumarchaeota realizam nitrificao nos oceanos e so responsveis por parte essencial do ciclo global do nitrognio  sem elas, a vida marinha colapsaria.","Nenhuma Archaea conhecida causa doenas em humanos  um fato surpreendente dado que vivem em to ntimo contato com nosso organismo."],3:["Seu intestino abriga cerca de 38 trilhes de bactrias  aproximadamente igual ao nmero de clulas do seu prprio corpo.","A bactria Deinococcus radiodurans suporta doses de radiao 3.000 maiores que o letal para humanos, reconstituindo seu DNA fragmentado em horas.","O cianobactrio Prochlorococcus  a menor clula fotossinttica conhecida e estima-se que produza cerca de 20% do oxignio de toda a atmosfera terrestre.","Candidatus Thiomargarita magnifica, descoberta em 2022 na Guadalupe, tem clulas visveis a olho nu  com at 2 cm de comprimento,  a maior bactria j encontrada.","Bactrias transferem genes diretamente entre si (transferncia horizontal), permitindo que resistncia a antibiticos se espalhe globalmente em questo de anos.","Fsseis de cianobactrias datam de 3,5 bilhes de anos  as bactrias oxigenaram a atmosfera terrestre e possibilitaram a evoluo de toda a vida complexa.","Myxococcus xanthus caa em enxames multicelulares coordenados e forma corpos de frutificao  um comportamento social raro e sofisticado em bactrias.","Barry Marshall bebeu uma soluo de Helicobacter pylori em 1984 para provar que a bactria causava lcera gstrica  e ganhou o Nobel de Medicina em 2005."],4:["Diatomceas produzem entre 20% e 25% de todo o oxignio da Terra  mais do que todas as florestas tropicais juntas.","A parede celular das diatomceas (frstula)  feita de slica (vidro biolgico) e exibe padres geomtricos nanosimtricos usados como referncia em nanotecnologia.","O oomiceto Phytophthora infestans causou a Grande Fome Irlandesa (18451852), matando mais de 1 milho de pessoas e forando outros 2 milhes a emigrar.","Chromista tm cloroplastos de origem secundria: em vez de capturar cianobactrias (como plantas), capturaram uma alga eucaritica inteira por endossimbiose.","O cocolitofride Emiliania huxleyi forma florescimentos visveis do espao, cobrindo milhes de km de oceano com seus escudos de calcrio branco.","As falsias brancas de Dover, na Inglaterra, so feitas de bilhes de conchas de cocolitos (Haptophyta) acumuladas no fundo do mar h ~80 milhes de anos.","Kelps (algas marrons, Phaeophyta) formam florestas submersas com at 45 m de altura  os ecossistemas costeiros mais produtivos do planeta.","Sem Chromista, o ciclo do carbono ocenico seria profundamente alterado: diatomceas e cocolitos afundam carbono para o fundo do mar em escala planetria."],5:["O maior organismo vivo da Terra pode ser um fungo: Armillaria ostoyae no Oregon ocupa 9,6 km de rea e tem mais de 8.000 anos.","Fungos so mais prximos dos animais do que das plantas na rvore evolutiva  compartilhamos com eles cerca de 50% dos genes essenciais.","O fungo Ophiocordyceps unilateralis infecta formigas, controla seu comportamento e fora o inseto a subir at a altura ideal antes de morrer  perfeito para liberar esporos.","Lquens no so um organismo: so uma simbiose entre um fungo e algas ou cianobactrias  e existem h pelo menos 400 milhes de anos.","A rede micelial de um fungo pode transferir nutrientes e sinais de defesa entre rvores em uma floresta, numa estrutura chamada de 'wood wide web'.","Penicillium chrysogenum foi descoberto acidentalmente por Alexander Fleming em 1928 e inaugurou a era dos antibiticos, salvando centenas de milhes de vidas.","Leveduras (Saccharomyces cerevisiae) foram domesticadas pelo ser humano h pelo menos 9.000 anos e foram o primeiro eucarioto a ter seu genoma completamente sequenciado (1996).","Alguns fungos so bioluminescentes  emitem luz verde constante no escuro, fenmeno descrito por Aristteles e chamado de foxfire."],6:["A Pando, no Utah,  uma nica colnia de lamos trementes com 47.000 troncos e 6.000 toneladas  e tem estimados 80.000 anos, tornando-a um dos organismos mais velhos da Terra.","As angiospermas (plantas com flores) surgiram h ~140 Ma e hoje representam 90% das espcies vegetais  sua diversificao acelerada intrigou Darwin, que a chamou de 'abominvel mistrio'.","A Welwitschia mirabilis da Nambia produz apenas duas folhas durante toda a vida, mas vive mais de 1.000 anos em um dos desertos mais ridos do planeta.","A Rafflesia arnoldii no tem razes, caules nem folhas visveis  vive inteiramente como parasita dentro de outra planta e produz a maior flor do mundo, com at 1 metro de dimetro.","A Victoria amazonica produz flores que aquecem at 35C e mudam de cor  uma adaptao que prende besouros polinizadores dentro da flor por at 24 horas.","Sementes podem sobreviver sculos em dormncia: uma semente de tmareira com ~2.000 anos, encontrada em Massada (Israel), germinou com sucesso em 2005.","Plantas se comunicam quimicamente: quando atacadas por herbvoros, emitem compostos volteis que alertam plantas vizinhas, que aumentam sua produo de toxinas defensivas.","O General Sherman (Sequoiadendron giganteum) tem 1.487 m de volume e mais de 2.700 anos  seus cones s liberam sementes com o calor de incndios florestais."],7:["Plasmodium falciparum, um protozorio transmitido por mosquitos Anopheles,  possivelmente o parasita que mais matou seres humanos em toda a histria.","Toxoplasma gondii infecta cerca de 30% da populao humana e altera o comportamento de ratos infectados  elimina seu medo de gatos, facilitando o ciclo do parasita.","A ameba Naegleria fowleri penetra pelo nariz em nados de gua doce quente, chega ao crebro e causa meningoencefalite quase sempre fatal em menos de duas semanas.","Foraminferos so protozorios com conchas calcrias que se acumulam no fundo do mar h 500 Ma  a Pirmide de Giz foi construda com calcrio composto de suas conchas fsseis.","Stentor, um ciliado unicelular, aprende a ignorar estmulos repetidos sem ter sistema nervoso  um dos exemplos mais simples de comportamento aprendido na natureza.","Radiolrios produzem esqueletos de slica com simetria geomtrica perfeita  to elaborados que Ernst Haeckel os eternizou em gravuras cientficas que viraram cones da arte do sculo XIX.","Paramecium tem dois ncleos com funes distintas (macroncleo e microncleo) e pode 'rejeitar' parceiros geneticamente incompatveis durante a conjugao sexual.","Trypanosoma brucei, causador da doena do sono, troca sua protena de superfcie mais de 100 vezes para escapar do sistema imune  um dos mecanismos de evaso mais sofisticados da natureza."]},PHYLUM:{1:["Arthropoda  o filo mais diverso da Terra: insetos, aranhas, caranguejos e centopeias juntos representam mais de 80% de todas as espcies animais descritas.","Nematoda pode ser o filo animal mais abundante do planeta  60% de todos os indivduos animais so nematdeos, e uma nica ma podre pode conter 90.000 deles.","Chordata, o filo dos vertebrados, representa menos de 5% das espcies animais  os outros 95% so invertebrados de outros filos.","O filo Cnidaria inclui um animal biologicamente imortal: Turritopsis dohrnii pode reverter para o estgio juvenil aps atingir a maturidade, repetindo o ciclo indefinidamente.","Echinodermata (ourios, estrelas-do-mar) so os invertebrados mais prximos dos vertebrados  compartilhamos com eles genes de desenvolvimento fundamentais e simetria bilateral na larva.","Alguns filos tm apenas uma ou poucas espcies: Cycliophora foi descoberto em 1995 em lagostas norueguesas; Placozoa  um animal sem rgos, com apenas 6 tipos de clulas.","Mollusca inclui desde lesmas microscpicas at a lula-gigante (Architeuthis dux), com olhos de at 30 cm  os maiores do reino animal.","Filos inteiros foram descobertos no sculo XX: Loricifera (1983), Micrognathozoa (2000)  a diversidade animal do planeta ainda est longe de ser totalmente mapeada."],2:["Euryarchaeota rene os extremfilos mais versteis de Archaea: inclui metanognicos produtores de biogs, haloflicos de salinas ultraconcentradas e termoacidoflicos de fontes sulfurosas.","Thermoproteota (Crenarchaeota) domina fontes hidrotermais e solos vulcnicos  Sulfolobus cresce a 80C em pH 2 e usa enxofre como fonte de energia.","Nanoarchaeota tem apenas uma espcie conhecida, Nanoarchaeum equitans  com apenas 490.000 pares de bases de DNA,  o genoma celular funcional mais compacto j descrito.","O grupo Asgard, identificado em sedimentos marinhos profundos entre 2015 e 2022,  o mais prximo dos eucariontes, com genes de actina e tubulina-like inexistentes em outras Archaea.","Halobacterota inclui arqueanas que produzem bacteriorodopsina  uma protena fotossensvel que converte luz solar em energia sem clorofila, uma forma de fotossntese alternativa.","O supergrupo DPANN (Nanoarchaeota, Nanohaloarchaeota, Diapherotrites, entre outros) rene arqueanas com genomas extremamente reduzidos  possveis parasitas de outras Archaea.","Methanobacteriota engloba todos os metanognicos conhecidos, que produzem coletivamente ~590 milhes de toneladas de metano por ano, contribuindo para o ciclo global do carbono.","A maioria dos filos de Archaea foi descrita apenas por sequenciamento metagenmico de sedimentos ocenicos profundos  nunca foram cultivados em laboratrio at hoje."],3:["Pseudomonadota (Proteobacteria)  o filo mais diverso de Bacteria: inclui E. coli, Salmonella, bactrias fotossintticas prpuras e Helicobacter pylori  metabolismos radicalmente diferentes.","Cyanobacteria oxigenou a Terra h ~2,4 bilhes de anos no 'Grande Evento de Oxigenao'  e seus descendentes so os cloroplastos das plantas, responsveis por toda fotossntese vegetal.","Firmicutes inclui os produtores de esporos mais resistentes do mundo: Bacillus anthracis produz esporos que sobrevivem dcadas no solo, resistentes ao calor, luz UV e desinfetantes.","Actinobacteria  o filo de onde vm mais de 70% dos antibiticos naturais usados na medicina: estreptomicina, eritromicina, vancomicina e tetraciclina foram todos descobertos aqui.","Bacteroidota domina o intestino humano em biomassa e  fundamental para degradar fibras vegetais complexas  sem elas, a nutrio humana seria drasticamente menos eficiente.","Spirochaetota inclui bactrias com morfologia nica: formato de espiral rgida e motilidade por filamentos axiais internos  inclui Treponema pallidum (sfilis) e Borrelia burgdorferi (Lyme).","Planctomycetes desafiam a biologia celular bacteriana: tm compartimentos membranosos internos e algumas espcies realizam anammox, oxidando amnio com nitrito de forma anaerbica.","Candidatus Patescibacteria representa centenas de linhagens ainda sem cultivo laboratorial, descobertas apenas por metagenmica  evidncia de que a maioria da diversidade microbiana  desconhecida."],4:["Bacillariophyta (diatomceas)  o grupo fotossinttico individual mais produtivo do planeta: ~100.000 espcies produzem cerca de 20% do oxignio atmosfrico global por ano.","Phaeophyta (algas marrons) inclui os maiores organismos fotossintticos do oceano: Macrocystis pyrifera cresce at 45 m de comprimento, formando florestas submarinas nicas.","Oomycota (oomicetos) j foram classificados como fungos, mas so Chromista: tm paredes de celulose e incluem Phytophthora, responsvel por devastar plantaes de batata, soja e abacate.","Haptophyta (cocolitofrideos) reveste seus corpos com placas de calcrio; ao morrerem, afundam e sequestram carbono no fundo do mar  processo chamado de 'bomba biolgica de carbono'.","Dinoflagellata causa as mars vermelhas txicas, mas tambm a bioluminescncia azul que ilumina ondas do oceano  produzida pela reao da luciferina com a luciferase.","Ochrophyta engloba algas douradas, ferrugem-marinha e algas amarelo-verdes, com cloroplastos que ainda carregam a membrana da alga eucaritica capturada por endossimbiose.","Radiozoa (radiolrios e acantrios) produz esqueletos de slica ou sulfato de estrncio com geometria fractal precisa  e seus sedimentos registram a histria climtica da Terra por 500 Ma.","Foraminifera tem registro fssil de 540 milhes de anos e suas conchas calcrias so to abundantes que a calcria usada nas Pirmides do Egito  composta principalmente de suas carapaas."],5:["Ascomycota  o maior filo de fungos com ~64.000 espcies descritas: inclui leveduras de cerveja, trufas, cogumelos morel, bolores e os fungos que formam a maioria dos lquens.","Basidiomycota produz os cogumelos mais conhecidos, mas seu feito mais impressionante  a lignina: basidiomicetas so os nicos organismos capazes de degradar completamente a lignina, reciclando florestas.","Glomeromycota forma micorrizas arbusculares com ~80% de todas as plantas terrestres  uma simbiose to essencial que estima-se que as plantas colonizaram a terra graas a esses fungos h ~450 Ma.","Chytridiomycota  o grupo de fungos mais primitivo e o nico com zosporos flagelados  e inclui Batrachochytrium dendrobatidis, o fungo responsvel pelo declnio de anfbios em todo o mundo.","Mucoromycota inclui Rhizopus stolonifer (bolor preto do po) e fungos usados na produo de cido ctrico e de fermentaes tradicionais asiticas como o tempeh.","Microsporidia so parasitas intracelulares obrigatrios com os menores genomas eucariticos conhecidos (~2,3 Mb)  possivelmente fungos degenerados que perderam mitocndrias funcionais.","Blastocladiomycota e Neocallimastigomycota so fungos anaerbicos que vivem no rmen bovino, essenciais para digerir celulose  sem eles, vacas no conseguiriam extrair energia da grama.","Cryptomycota (Rozellida)  o grupo mais basal de fungos, descoberto por metagenmica  vivem como parasitas de algas e podem ser a chave para entender a origem de todos os fungos."],6:["Tracheophyta (plantas vasculares) representa 94% de todas as espcies vegetais conhecidas  o sistema de vasos (xilema e floema) foi a inovao que permitiu s plantas crescerem alm de alguns centmetros.","Bryophyta (musgos) so as plantas mais resistentes  dessecao: podem perder 98% de sua gua e 'ressuscitar' completamente em horas ao serem reidratados.","Charophyta (algas verdes de gua doce)  o grupo de algas mais prximo das plantas terrestres, com o mesmo ancestral  foi o grupo que colonizou a terra firme h ~470 Ma.","Marchantiophyta (hepticas) so as plantas terrestres mais primitivas  sem cutcula verdadeira, absorvem gua diretamente pela superfcie e exigem ambientes permanentemente midos.","Cycadophyta (cicas) existem h mais de 280 milhes de anos e so as plantas com semente mais antigas ainda vivas  foram o alimento principal dos dinossauros herbvoros do Jurssico.","Pinophyta (conferas) inclui as rvores mais velhas (Pinus longaeva, 5.000 anos), mais altas (Sequoia sempervirens, 115 m) e de maior volume (Sequoiadendron giganteum) do planeta.","Anthocerotophyta (antceros) tem apenas ~220 espcies mas carrega um dos cloroplastos mais primitivos entre plantas terrestres  com um nico e grande cloroplasto por clula, semelhante s algas ancestrais.","Magnoliophyta (angiospermas) surgiu h ~140 Ma e hoje domina quase todos os biomas terrestres, com ~300.000 espcies  sua coevoluo com insetos polinizadores  uma das maiores histrias evolutivas."],7:["Apicomplexa  um dos filos mais mortais para humanos: alm de Plasmodium (malria), inclui Toxoplasma (toxoplasmose), Cryptosporidium (diarreia severa) e Theileria (febre dos carrapatos em gado).","Ciliophora tem o maior nmero de clios de qualquer grupo celular: Paramecium possui ~17.000 clios coordenados que batem em ondas  resultado de um sistema de sinalizao sem sistema nervoso.","Euglenozoa inclui Trypanosoma, que causa doena do sono na frica e doena de Chagas nas Amricas  afetando mais de 6 milhes de pessoas e causando perdas bilionrias em gado bovino.","Amoebozoa inclui Dictyostelium discoideum, um modelo gentico que, quando privado de alimento, forma organismos pluricelulares a partir de clulas individuais  um modelo nico de evoluo multicelular.","Cercozoa  um superfilo de protozorios com pseudpodes filiformes, flagelos e conchas  e inclui parasitas de algas, plantas e outros protistas, ainda amplamente inexplorado pela cincia.","Foraminifera (dentro de Rhizaria) tem ~10.000 espcies vivas e 40.000 extintas  cada concha preservada no fundo do mar permite reconstruir paleotemperaturas ocenicas com preciso de dcimos de grau.","Dinoflagellata inclui zooxantelas, que estabelecem simbiose com corais fornecendo at 90% da energia dos recifes  o colapso dessa simbiose por aumento de temperatura causa o branqueamento dos corais.","Mycetozoa (fungos mucilaginosos) no so fungos nem animais: formam massas ameboides multinucleadas que resolvem labirintos e otimizam redes de transporte com eficincia comparvel  engenharia humana."]},CLASS:{1:["Actinopterygii (peixes com nadadeiras raiadas)  a classe de vertebrados mais diversa: mais de 34.000 espcies  mais do que todos os outros vertebrados somados.","Aves so dinossauros terpodes: descendem diretamente dos mesmos ancestrais de Velociraptor e T. rex, e so os nicos dinossauros sobreviventes da extino K-Pg.","Insecta tem ~1 milho de espcies descritas  mais do que todas as outras classes animais combinadas  com estimativa de 5 a 10 milhes ainda desconhecidas.","Mammalia deve seu sucesso a um evento de extino: com o fim dos dinossauros h 66 Ma, mamferos antes restritos a nichos noturnos diversificaram-se explosivamente.","Chondrichthyes (tubares e raias) manteve o mesmo plano corporal por ~450 milhes de anos  tubares existem h mais tempo que as rvores.","Amphibia tem a maior taxa de extino atual entre vertebrados: ~41% das espcies esto ameaadas, principalmente pelo fungo quitrdio Batrachochytrium dendrobatidis.","Cephalopoda (polvos, lulas, nutilos) tem o maior crebro entre invertebrados e inclui as nicas espcies invertebradas com uso confirmado de ferramentas e camuflagem ativa.","Reptilia em sentido clssico  um grupo parafiltico  aves so rpteis e so mais prximas de crocodilos do que cobras so de lagartos."],2:["Methanobacteria  a classe que inclui todos os metanognicos que produzem metano usando CO e H  um metabolismo anaerbico completamente ausente nos outros domnios da vida.","Halobacteria (sem relao com bactrias) so arqueanas que precisam de pelo menos 15% de NaCl para sobreviver  em ambientes com menos sal, suas membranas se dissolvem espontaneamente.","Thermoprotei inclui organismos que realizam respirao com enxofre elementar: reduzem S para produzir HS em temperaturas de at 100C, vivendo em fontes hidrotermais cidas.","Methanomicrobia engloba metanognicos com morfologias extremamente variadas  bastonetes, cocos, espirais e filamentos  uma diversidade de formas incomum para Archaea.","Archaeoglobi  uma classe de arqueanas redutoras de sulfato que vivem em fontes hidrotermais e produzem HS como metablito, contribuindo para o cheiro de enxofre dessas regies.","Methanopyri inclui apenas Methanopyrus kandleri, que cresce a 122C  o organismo vivo com maior temperatura de crescimento registrada, confirmada em laboratrio sob alta presso.","Nanohaloarchaea so arqueanas com genomas reduzidos (~1,2 Mb) que vivem em lagos ultrasal e parecem depender de outras arqueanas haloflicas para sobreviver metabolicamente.","Thaumarchaeota realiza nitrificao em oceanos profundos: oxida amnio a nitrito onde a luz no chega, regulando o ciclo do nitrognio em toda a coluna d'gua."],3:["Gammaproteobacteria  a classe mais clinicamente relevante de Bacteria: inclui E. coli, Salmonella, Klebsiella, Pseudomonas aeruginosa e Vibrio cholerae  responsveis por milhes de mortes anuais.","Bacilli inclui Lactobacillus e Streptococcus  fundamentais na produo de queijo, iogurte, chucrute e kefir, alm de bactrias probiticas essenciais ao intestino humano.","Alphaproteobacteria inclui as mitocndrias das clulas eucariticas: o ancestral das mitocndrias foi uma alphaproteobacteria engolida por endossimbiose h ~1,52 bilhes de anos.","Clostridia inclui C. botulinum, produtor da toxina botulnica  a protena mais txica conhecida, com dose letal de ~1 nanograma por kg de massa corporal, mas usada terapeuticamente em neurologia.","Actinomycetia inclui Streptomyces, gnero responsvel pelo cheiro de terra mida (geosmina) e produtor de mais de 60% dos antibiticos clinicamente utilizados no mundo.","Deltaproteobacteria inclui Bdellovibrio, que predatria ativamente outras bactrias gram-negativas  perfurando a parede celular do hospedeiro e consumindo-o por dentro.","Cyanobacteriia  a nica classe bacteriana com fotossntese oxignica  e seus cloroplastos foram incorporados pelas clulas vegetais, tornando toda fotossntese vegetal de origem bacteriana.","Spirochaetia locomove-se por rotao de filamentos internos (endoflagelos), permitindo movimento em meios viscosos  uma vantagem decisiva no muco e tecidos do hospedeiro."],4:["Bacillariophyceae (diatomceas) tm frstulas de slica com padres ultraestruturais na nanescala to precisos que so usados como padres de calibrao em microscopia eletrnica.","Phaeophyceae (algas marrons) inclui o organismo que mais rpido cresce no planeta: Macrocystis pyrifera pode crescer at 30 cm por dia em ambientes com nutrientes adequados.","Oomycetes no so fungos: tm paredes de celulose, ncleos diploides em toda a fase vegetativa e zosporos biflagelados  caractersticas que os aproximam das algas heterocontas.","Chrysophyceae (algas douradas) pode alternar entre fotossntese e fagotrofia: so auttrofas quando h luz e passam a fagocitar bactrias quando o ambiente escurece.","Dinophyceae tem cromossomos permanentemente condensados sem histonas e um genoma 10200 vezes maior que o humano  a organizao genmica mais incomum entre todos os eucariontes.","Raphidophyceae inclui espcies que formam mars vermelhas devastadoras para a aquicultura: Chattonella marina libera toxinas e radicais superxidos que destroem as brnquias dos peixes.","Coccolithophyceae produz cocolitos de calcita com geometria cristalina perfeita  seu calcrio acumulado durante 80 Ma forma as famosas Falsias Brancas de Dover, com at 107 m de altura.","Xanthophyceae (algas amarelo-verdes) inclui Vaucheria, que forma filamentos cenocticos sem divises entre clulas  modelo de estudo para transporte de organelas em clulas gigantes."],5:["Agaricomycetes  a maior classe de Basidiomycota com ~20.000 espcies: inclui todos os cogumelos comestveis e venenosos, orelhas-de-pau e os formadores de micorrizas ectotrfica.","Saccharomycetes (leveduras) tem apenas ~6.000 genes  menos de 1/3 dos humanos  mas realiza metabolismo eucarioto completo, tornando Saccharomyces cerevisiae o organismo-modelo por excelncia.","Sordariomycetes inclui Neurospora crassa, o fungo que permitiu a Beadle e Tatum descobrir que genes controlam enzimas (Nobel 1958), fundando a biologia molecular moderna.","Eurotiomycetes inclui Aspergillus niger, usado para produzir cido ctrico industrialmente  mais de 2 milhes de toneladas por ano, para refrigerantes, conservas e produtos farmacuticos.","Ustilaginomycetes inclui os fungos carvo que parasitam cereais: Ustilago maydis no milho produz huitlacoche, uma iguaria culinria apreciada no Mxico, apesar de ser um patgeno.","Pucciniomycetes inclui as ferrugens de cereais (Puccinia spp.), responsveis por devastar colheitas de trigo globalmente  um nico surto pode destruir at 70% da produo de uma regio.","Tremellomycetes inclui fungos gelatinosos como Tremella mesenterica e espcies que parasitam outros fungos  e  o grupo ancestral das leveduras patognicas como Cryptococcus neoformans.","Orbiliomycetes inclui fungos carnvoros que formam anis, ns e redes adesivas para capturar e digerir nematdeos  o nico grupo de fungos com estratgias de caa ativa."],6:["Liliopsida (monocotiledneas) inclui gramneas, orqudeas, palmeiras e lrios  distingue-se por ter uma semente com um nico cotildone e feixes vasculares dispersos pelo caule.","Magnoliopsida (dicotiledneas)  a maior classe de angiospermas com ~200.000 espcies: inclui a maioria das rvores, arbustos, leguminosas e a maioria das flores vistosas.","Polypodiopsida (samambaias) tem ciclo de vida nico: a planta 'adulta' visvel  o esporfito diploide, mas gera gametfitos minsculos que vivem independentes no solo mido.","Pinopsida (conferas) inclui ~600 espcies distribudas no Hemisfrio Norte e  o grupo vegetal mais resistente ao frio  Pinus sylvestris sobrevive a temperaturas de -50C.","Lycopodiopsida (licopdios) existe desde o Devoniano (~400 Ma) e inclui os ancestrais das rvores que formaram os depsitos de carvo  a primeira floresta da Terra era de licopdios de 40 m.","Equisetopsida (cavalinha)  um relquio evolutivo: o gnero Equisetum  o nico sobrevivente de uma classe que dominava as florestas carbonferas com rvores de 30 m de altura.","Bryopsida (musgos verdadeiros) tem ~12.000 espcies e domina a tundra rtica, onde forma tapetes que isolam termicamente o permafrost e regulam o ciclo hdrico regional.","Ginkgoopsida tem apenas uma espcie viva: Ginkgo biloba, fssil vivente praticamente inalterado por 200 Ma e a nica planta conhecida com espermatozoides flagelados que nadam at o vulo."],7:["Conoidasida (Apicomplexa) inclui Plasmodium, Toxoplasma e Cryptosporidium  todos com um complexo apical de microtbulos especializado em perfurar e invadir clulas hospedeiras com preciso cirrgica.","Oligohymenophorea inclui Paramecium, com dois tipos de ncleo: o macroncleo controla o metabolismo dirio e o microncleo serve exclusivamente para a reproduo sexual.","Kinetoplastea tem DNA mitocondrial organizado em rede de milhares de anis interligados (kinetoplasto)  uma estrutura sem equivalente em qualquer outro grupo eucarioto.","Lobosa inclui amebas com pseudpodes largos usados para engolfar bactrias  Amoeba proteus pode ingerir partculas 10 seu tamanho e  o modelo clssico de estudo da fagocitose.","Spirotrichea inclui Stentor, o maior protozorio unicelular conhecido  pode atingir 2 mm de comprimento, ser visvel a olho nu, e se regenera completamente a partir de 1/100 de seu citoplasma.","Gregarinasina so parasitas intestinais de invertebrados com formas extracelulares  ao contrrio da maioria dos Apicomplexa, vivem fora das clulas hospedeiras e formam trens de gametocistos.","Litostomatea inclui Balantidium coli, o nico ciliado protozorio capaz de parasitar humanos, causando disenteria  transmitido por fezes de porcos e endmico em regies tropicais sem saneamento.","Discosea inclui Acanthamoeba, que vive em solos e gua doce e pode invadir o olho humano (especialmente em usurios de lente de contato), causando ceratite amebiana e risco de cegueira."]},ORDER:{1:["Coleoptera (besouros)  a ordem animal mais diversa: ~400.000 espcies descritas. Perguntado sobre a natureza de Deus, o bilogo Haldane teria respondido: 'uma predileo incomum por besouros'.","Chiroptera (morcegos)  a segunda maior ordem de mamferos com ~1.400 espcies e so os nicos mamferos capazes de voo sustentado.","Hymenoptera inclui formigas-cortadeiras que cultivam fungos em monocultura h 50 milhes de anos  precedendo a agricultura humana em 49,9 milhes de anos.","Cetacea (baleias e golfinhos) descende de mamferos terrestres com unhas; seu parente vivo mais prximo  o hipoptamo, e a transio completa para o mar ocorreu em ~1015 Ma.","Passeriformes (pssaros canoros) representa mais da metade de todas as espcies de aves (~6.500) e se diversificou to rapidamente que sua filogenia  um dos grandes desafios da ornitologia.","Primates evoluiu em nichos noturnos e arbreos  a viso tridimensional colorida e as mos prenseis so adaptaes a saltar entre galhos, no caractersticas 'superiores' inatas.","Lepidoptera (borboletas e mariposas) realiza uma das metamorfoses mais radicais: a lagarta se liquefaz quase completamente dentro do casulo antes de se reconstituir como adulto.","Crocodilia sobreviveu ao evento K-Pg praticamente inalterada enquanto os dinossauros desapareciam  e seu corao de quatro cmaras  o mais sofisticado entre rpteis."],2:["Methanobacteriales inclui organismos responsveis por ~25% das emisses de metano do gado bovino globalmente  Methanobrevibacter ruminantium  o metanognico dominante no rmen.","Sulfolobales cresce em fontes cidas sulfurosas a 80C e pH 13, oxidando enxofre elementar  sua descoberta expandiu os limites do que se considerava habitvel para qualquer forma de vida.","Halobacteriales inclui Halobacterium salinarum, que produz bacteriorodopsina  a protena fotossensvel mais estudada do mundo e inspirao para a optogentica e converso de energia solar.","Methanosarcinales  o nico grupo de metanognicos capaz de usar acetato, metanol e metilaminas alm de CO + H  tornando-os os metanognicos metabolicamente mais versteis.","Thermoproteales cresce em ambientes geotermais a temperaturas acima de 70C e inclui organismos que fixam CO via ciclo de Krebs reverso  uma bioqumica sem equivalente em outros domnios.","Archaeoglobales so redutores de sulfato extremfilos que vivem em fontes hidrotermais a at 95C  encontrados em reservatrios de petrleo, onde causam corroso de equipamentos metlicos.","Methanopyrales contm apenas Methanopyrus kandleri, isolado de uma chamin hidrotermal a 122C e 20 MPa de presso  o metanognico mais termfilo e baroflico j descoberto.","Thermococcales inclui organismos hipertermfilos que fermentam peptdeos e carboidratos na escurido das fontes hidrotermais profundas, usando enxofre como aceptor final de eltrons."],3:["Enterobacterales rene as bactrias intestinais mais estudadas: E. coli, Salmonella, Shigella, Klebsiella e Yersinia pestis (causadora da Peste Negra) pertencem todas a esta ordem.","Lactobacillales inclui as bactrias que produzem cido lctico a partir de acares  responsveis pela fermentao de iogurte, queijo, kimchi, sourdough e kefir h milnios.","Pseudomonadales inclui Pseudomonas aeruginosa, que forma biofilmes em pacientes imunossuprimidos e  naturalmente resistente a mais de 30 antibiticos  um dos maiores desafios clnicos modernos.","Rhizobiales inclui Rhizobium, Bradyrhizobium e Mesorhizobium  bactrias que fixam N atmosfrico em ndulos de leguminosas, fornecendo 4060 milhes de toneladas de nitrognio biologicamente til por ano.","Mycobacteriales inclui Mycobacterium tuberculosis, que infectou um tero da humanidade e ainda causa ~1,5 milho de mortes anuais  e M. leprae, que perdeu 2.000 genes por evoluo regressiva.","Clostridiales inclui Clostridioides difficile, que se torna patognico quando antibiticos destroem a microbiota intestinal  causando colite pseudomembranosa em hospitais de todo o mundo.","Cyanobacteriales inclui Anabaena, que possui dois tipos de clula: vegetativas (fotossntese) e heterocistos (fixao de N)  um exemplo primitivo de diferenciao celular em procariontes.","Actinomycetales inclui Streptomyces coelicolor, com o maior genoma bacteriano j sequenciado (~8,7 Mb)  cheio de clusters gnicos para produo de antibiticos e outros metablitos secundrios."],4:["Naviculales  a ordem de diatomceas com simetria bilateral mais diversa  Navicula  encontrada em praticamente todo ambiente aqutico e mido da Terra, de geleiras a desertos.","Laminariales (kelps) inclui as maiores algas do mundo: florestas de Macrocystis pyrifera cobrem dezenas de km e suas biomassas so fontes de alginato para centenas de produtos industriais.","Peronosporales inclui Plasmopara viticola, responsvel pela epidemia de mldio nos vinhedos europeus no sculo XIX, que quase destruiu a viticultura francesa e italiana.","Fucales inclui Sargassum natans, que forma o Mar de Sargasso  a nica regio ocenica do planeta sem terra firme nos arredores, onde algas flutuantes criam um ecossistema singular.","Saprolegniales inclui Saprolegnia parasitica, um oomiceto que parasita peixes de aquicultura  responsvel por perdas de centenas de milhes de dlares anuais na criao de salmo.","Peridiniales inclui dinoflagelados produtores de saxitoxina, neurotoxina que causa Paralytic Shellfish Poisoning (PSP)  acumulada em mexilhes e ostras, pode ser fatal para humanos.","Coccolithales inclui Emiliania huxleyi, cujo florescimento em escala ocenica  detectvel por satlite  e cuja morte em massa libera dimetilssulfeto (DMS), influenciando a formao de nuvens e o clima.","Chrysomonadales inclui algas douradas que so indicadores ecolgicos precisos: sua composio de espcies revela pH, temperatura e poluio de lagos com alta resoluo."],5:["Agaricales  a ordem com mais cogumelos comestveis e venenosos do mundo: inclui Amanita phalloides (chapu-da-morte), responsvel por ~90% das mortes por intoxicao com cogumelos.","Boletales inclui boletos comestveis como Boletus edulis (porcini) e o fungo Pisolithus tinctorius  essencial em reflorestamentos por formar micorrizas com mais de 40 espcies de rvores.","Pucciniales (ferrugens) tem o ciclo de vida mais complexo j descrito em fungos: Puccinia graminis requer dois hospedeiros no relacionados (trigo e berberis) e tem at 5 tipos de esporos.","Eurotiales inclui Aspergillus flavus e A. parasiticus, produtores de aflatoxinas  as micotoxinas carcinognicas mais potentes conhecidas, que contaminam amendoim e cereais em regies tropicais.","Hypocreales inclui Trichoderma (controle biolgico de fungos), Beauveria bassiana (parasita de insetos) e Cordyceps (controla formigas)  uma ordem com impacto enorme em biotecnologia agrcola.","Polyporales inclui Trametes versicolor (rabo-de-peru) e Ganoderma lucidum (reishi)  fungos decompositores de madeira amplamente pesquisados por compostos imunomoduladores e antitumorais.","Pezizales inclui trufas (Tuber melanosporum, T. magnatum)  os cogumelos mais caros do mundo, com preos de at 5.000/kg  e os morel (Morchella), muito apreciados na culinria mundial.","Cantharellales inclui chanterelles (Cantharellus cibarius) e, curiosamente, Ceratobasidium  fungo que coloniza orqudeas, fornecendo carbono e minerais s minsculas sementes em germinao."],6:["Poales inclui trigo, arroz, milho, cana-de-acar e bambu  as gramneas desta ordem fornecem mais de 50% de toda a energia calrica consumida pela humanidade diariamente.","Lamiales inclui mais de 23.000 espcies em 24 famlias: azaleias, lavanda, hortel, tomilho, jasmim, oliveira e gergelim  todas com flores de simetria bilateral (zigomorfa).","Asterales  a maior ordem de plantas com flores: apenas Asteraceae tem ~25.000 espcies  girassol, margarida, crisntemo e dente-de-leo tm em comum a inflorescncia em captulo.","Fabales (leguminosas) contribui com a maior fixao biolgica de nitrognio entre ordens de plantas: soja, feijo, lentilha e ervilha em simbiose com Rhizobium dispensam adubos nitrogenados.","Rosales inclui Rosaceae (ma, cereja, morango), Moraceae (figo, jaca) e Cannabaceae (cnhamo)  tornando-a uma das ordens botanicamente mais diversas e economicamente importantes.","Caryophyllales inclui plantas com adaptaes extremas: cactos (CAM em desertos), carnvoras (Dionaea, Drosera) e halofitas (Suaeda)  todas ligadas filogeneticamente pela presena de betalinas.","Pinales inclui todas as conferas com sementes em cones  Pinus, Abies, Picea, Larix  e suas resinas formaram o mbar que preservou organismos com mais de 90 milhes de anos.","Ericales inclui blueberries, ch, kiwi, caqui, azaleia e begnia  e tambm Sarracenia e outras plantas carnvoras  uma ordem surpreendentemente diversa em morfologia e estratgia de vida."],7:["Eucoccidiorida inclui Plasmodium e Toxoplasma: os parasitas Apicomplexa mais estudados do mundo, com ciclos de vida que alternam entre hospedeiro vertebrado e invertebrado ou intermedirio.","Hymenostomatida inclui Paramecium, que realiza conjugao  troca de material gentico entre dois indivduos via ponte citoplasmtica  um processo de recombinao gentica sem reproduo.","Trypanosomatida inclui os agentes da doena de Chagas (T. cruzi), doena do sono (T. brucei) e leishmaniose (Leishmania spp.)  trs das principais doenas tropicais negligenciadas do mundo.","Amoebida inclui Amoeba proteus, o modelo clssico de locomoo por pseudpodes  cujo estudo revelou os mecanismos de polimerizao de actina usados por macrfagos do sistema imune.","Stichotrichida inclui hipotriquia com clios modificados em cirtros, que os usam como 'pernas' para caminhar sobre superfcies  um comportamento locomotor nico entre protozorios ciliados.","Arcellinida inclui tecamebas de gua doce com conchas de areia ou slica secretada  Arcella vulgaris constri uma carapaa circular geometricamente perfeita, descrita por D'Arcy Thompson.","Gregarinida parasita invertebrados marinhos e terrestres e exibe 'gliding motility'  deslizamento sem clios, flagelos ou pseudpodes visveis, por um mecanismo molecular ainda controverso.","Radiolaria inclui protozorios pelgicos que ao morrerem formam ooze radiolrio  sedimentos de at 500 m de espessura no fundo do Pacfico que registram o ciclo climtico da Terra."]},FAMILY:{1:["Hominidae inclui humanos, chimpanzs, gorilas e orangotangos  chimpanzs compartilham ~98,7% do DNA com Homo sapiens, mais do que com gorilas.","Formicidae (formigas) representa apenas uma famlia, mas sua biomassa total supera a de todos os mamferos selvagens do planeta combinados.","Canidae mostra a maior variao morfolgica dentro de uma famlia de mamferos: um chihuahua e um mastim tibetano so exatamente a mesma espcie  Canis lupus familiaris.","Felidae tem 37 espcies, todas carnvoras obrigatrias e todas sem capacidade de sentir doura  perderam os receptores de sabor doce h ~7 Ma por uma mutao no gene Tas1r2.","Viperidae (vboras) evoluiu presas ocas articuladas e veneno hemotrpico de alta eficincia, mas a maioria das ~70.000 mortes anuais por serpentes  causada por apenas 5 espcies.","Delphinidae inclui golfinhos, orcas e botos  e as orcas desenvolveram culturas regionais distintas com dialetos vocais transmitidos por aprendizado entre geraes.","Bovidae tem ~140 espcies de ungulados (bovinos, ovinos, caprinos, antlopes) e  a famlia que mais influenciou o desenvolvimento das civilizaes humanas.","Culicidae (mosquitos) transmite mais doenas que qualquer outra famlia de animais: malria, dengue, febre amarela, Zika, chikungunya  os animais mais letais para humanos."],2:["Methanobacteriaceae inclui Methanobacterium thermoautotrophicum, a primeira archaea metanognica a ter seu genoma completamente sequenciado (1997)  abrindo a era da genmica de Archaea.","Halobacteriaceae inclui as arqueanas mais estudadas de ambientes hipersalinos: Halobacterium salinarum, Haloarcula marismortui (isolada do Mar Morto) e Haloferax volcanii, modelo gentico de Archaea.","Sulfolobaceae inclui Sulfolobus solfataricus, que cresce a 80C em pH 2 e tem um sistema de diviso celular baseado em protenas ESCRT-III homlogas s eucariticas  revelando origens evolutivas comuns.","Methanosarcinaceae inclui o maior metanognico em clulas individuais: Methanosarcina mazei pode formar agregados multicelulares e possui o maior genoma entre os metanognicos (~4,1 Mb).","Thermoproteaceae inclui Thermoproteus tenax, que reduz enxofre elementar com H como doador de eltrons a 88C  um metabolismo completamente inorgnico e anaerbico.","Archaeoglobaceae inclui Archaeoglobus fulgidus, primeiro hipertermfilo a ter seu genoma completamente sequenciado (1997), revelando genes de resistncia a danos no DNA particularmente robustos.","Methanopyraceae tem apenas Methanopyrus kandleri  e sua posio filogentica basal sugere que os primeiros metanognicos da Terra podem ter vivido em condies igualmente extremas.","Thermococcaceae inclui Pyrococcus furiosus ('bola de fogo furiosa'), amplamente usado em biotecnologia  sua DNA polimerase  empregada em variantes de PCR de alta temperatura."],3:["Enterobacteriaceae inclui E. coli K-12, a bactria mais estudada da histria  com mais de 500.000 publicaes cientficas  e o segundo organismo a ter seu genoma completamente sequenciado (1997).","Streptococcaceae inclui S. pneumoniae, que protagonizou a revelao de 1944: Avery, MacLeod e McCarty provaram que o DNA (no a protena)  o material gentico, usando o experimento da transformao.","Mycobacteriaceae inclui M. leprae, com o genoma bacteriano mais reduzido por evoluo regressiva: perdeu 2.000 genes (40% do genoma original) ao adaptar-se como parasita intracelular obrigatrio.","Clostridiaceae inclui C. botulinum, produtor da toxina botulnica tipo A  usada em medicina esttica (Botox) e no tratamento de espasticidade muscular, enxaqueca crnica e hiperhidrose.","Rhizobiaceae inclui Agrobacterium tumefaciens, que injeta DNA em plantas para causar tumores  e foi domesticado como ferramenta de transformao gentica de plantas, base de toda a transgenia vegetal.","Pseudomonadaceae inclui P. putida, com versatilidade metablica excepcional: degrada tolueno, benzeno, naftaleno e xileno  candidata  biorremediao de solos contaminados com petrleo.","Lactobacillaceae inclui L. acidophilus, presente em iogurtes e suplementos probiticos  cujos benefcios  microbiota intestinal tm sido confirmados em centenas de ensaios clnicos controlados.","Spirochaetaceae inclui Treponema pallidum, causador da sfilis  que no pode ser cultivado em laboratrio fora de clulas hospedeiras vivas, tornando seu estudo especialmente desafiador."],4:["Laminariaceae inclui Laminaria e Saccharina, as kelps mais cultivadas do mundo  o Japo produz mais de 500.000 toneladas anuais de Saccharina japonica para alimentao e extrao de alginato.","Phytophthoraceae inclui Phytophthora ramorum, causador do 'sudden oak death'  epidemia florestal que matou milhes de carvalhos na Califrnia e Oregon desde os anos 1990.","Sargassaceae inclui Sargassum muticum, alga invasora que colonizou costas europeias chegando acidentalmente com ostras cultivadas  modificando ecossistemas costeiros no Atlntico europeu.","Naviculaceae inclui Navicula, com mais de 1.800 espcies validadas  to morfologicamente diversas que sua identificao precisa requer microscopia eletrnica e, cada vez mais, anlise de DNA.","Coscinodiscaceae inclui Coscinodiscus, diatomceas com frstulas ornamentadas usadas como padres de calibrao em microscopia ptica e eletrnica desde o sculo XIX.","Noctilucaceae inclui Noctiluca scintillans, que causa a bioluminescncia azul de ondas do oceano  e quando prolifera em excesso, cria mars que matam peixes em massa por produo de amnio.","Pythiaceae inclui Pythium, causador de 'damping-off'  doena de mudas que pode eliminar 100% das plntulas em viveiros, representando perdas de bilhes de dlares anuais na agricultura.","Bacillariaceae inclui Pseudo-nitzschia, que produz cido domoico  toxina que causa Amnesic Shellfish Poisoning, capaz de provocar amnsia permanente e morte em mamferos marinhos."],5:["Amanitaceae inclui os cogumelos mais mortais do mundo: Amanita phalloides (chapu-da-morte) contm alfa-amanitina, que inibe a RNA polimerase II e destri o fgado irreversivelmente, sem antdoto.","Tricholomataceae (s.l.) inclui Flammulina velutipes (enoki), o segundo cogumelo mais cultivado do mundo  com produo anual superior a 2 milhes de toneladas, principalmente na sia Oriental.","Boletaceae inclui Boletus edulis (porcini/cep), o cogumelo silvestre mais comercializado do mundo  com mercado global de centenas de milhes de euros anuais e impossvel de cultivar artificialmente.","Morchellaceae inclui Morchella (morel)  cogumelos primaveris de alto valor gastronmico que florescem especialmente em solos perturbados por incndios florestais recentes.","Ganodermataceae inclui Ganoderma lucidum (reishi/lingzhi), um dos fungos medicinais mais pesquisados: contm triterpenoides e beta-glucanos com atividade imunomoduladora confirmada em estudos clnicos.","Pleurotaceae inclui Pleurotus ostreatus (shimeji/ostra), o terceiro cogumelo mais cultivado globalmente  capaz de degradar madeira, plstico, cigarros e resduos de caf como substrato de cultivo.","Clavicipitaceae inclui Claviceps purpurea, o ergot do centeio  responsvel por epidemias de ergotismo medieval (Fogo de Santo Antnio), causando alucinaes e gangrena coletivas; precursor do LSD.","Tuberaceae inclui Tuber magnatum (trufa branca de Alba)  o fungo mais caro do mundo, com preos de at 10.000/kg, colhido apenas no outono no norte da Itlia e impossvel de cultivar."],6:["Poaceae (gramneas)  a famlia mais importante para a civilizao humana: trigo, arroz, milho, cana-de-acar, sorgo, aveia e cevada so gramneas  base calrica de 8 bilhes de pessoas.","Orchidaceae  a maior famlia de angiospermas com ~28.000 espcies, e 70% so epfitas com sementes to pequenas (0,3 mm) que dependem de fungos micorrzicos para germinar.","Fabaceae (leguminosas) em simbiose com Rhizobium fixa ~100 kg de N/hectare/ano  reduzindo a necessidade de fertilizantes nitrogenados sintticos em plantaes de soja e feijo.","Asteraceae  a segunda maior famlia com ~25.000 espcies: girassol, margarida, crisntemo, camomila e dente-de-leo tm todos a mesma 'flor' composta de centenas de flores minsculas em captulo.","Rosaceae inclui mais de 100 espcies frutferas cultivadas comercialmente: ma, pra, cereja, pssego, ameixa, morango, damasco e framboesa  com valor agrcola global de dezenas de bilhes anuais.","Solanaceae inclui tomate, batata, pimento, berinjela, tabaco e pimenta  e tambm a belladona (Atropa belladonna), fonte do alcaloide atropina, essencial em anestesiologia e oftalmologia.","Lamiaceae inclui as plantas aromticas mais usadas na culinria e medicina: hortel, tomilho, alecrim, slvia, lavanda, manjerico e organo  todas com leos essenciais de terpenos bioativos.","Apiaceae inclui cenoura, aipo, salsa, coentro e endro  e tambm a cicuta (Conium maculatum), a planta que matou Scrates, cujo alcaloide (conina) paralisa progressivamente o sistema nervoso."],7:["Plasmodiidae inclui todos os parasitas da malria: os 5 que infectam humanos (P. falciparum, P. vivax, P. malariae, P. ovale, P. knowlesi) causam mais de 600.000 mortes anuais.","Trypanosomatidae inclui os trs parasitas das doenas tropicais negligenciadas mais prevalentes: T. brucei, T. cruzi e Leishmania  afetando mais de 20 milhes de pessoas globalmente.","Paramecidae inclui Paramecium caudatum e P. aurelia  usados nos experimentos clssicos de competio que estabeleceram o 'princpio de excluso competitiva' de Gause (1934).","Amoebidae inclui Amoeba proteus, cujo movimento por pseudpodes revelou os mecanismos de polimerizao de actina que compem a base molecular da motilidade celular eucaritica.","Vorticellidae inclui Vorticella, um ciliado sssil com pednculo que se contrai em milissegundos  uma das contraes celulares mais rpidas da natureza, baseada em espasmonemas de clcio.","Acanthamoebidae inclui Acanthamoeba castellanii, capaz de causar encefalite em imunossuprimidos e ceratite em usurios de lente de contato  e  portadora natural do Mimivirus.","Radiolaridae inclui protozorios cujos esqueletos silicosos com simetria perfeita inspiraram Ernst Haeckel na obra 'Art Forms of Nature' (1904), que influenciou o movimento Art Nouveau.","Arcellidae inclui Arcella vulgaris, tecameba cuja carapaa circular geometricamente perfeita serviu de modelo para estudos de morfognese e auto-organizao celular por D'Arcy Thompson."]},GENUS:{1:["Homo j teve ao menos 68 espcies simultneas  Homo sapiens conviveu com neandertais, denisovanos e possivelmente H. floresiensis at menos de 50.000 anos atrs.","Panthera inclui os nicos felinos capazes de rugir  leo, tigre, leopardo e jaguar  graas a um osso hioide parcialmente cartilaginoso que vibra na expirao.","Canis inclui lobos, coiotes, dingos e todos os ces domsticos  e a domesticao do lobo foi o primeiro ato de manejo animal da histria humana, h pelo menos 15.000 anos.","Crocodylus inclui rpteis praticamente inalterados em 200 Ma  possuem o corao mais sofisticado entre rpteis (4 cmaras) e guardam ninhos, carregando filhotes delicadamente na boca.","Apis (abelhas melferas)  fundamental para a polinizao de 75% das espcies vegetais usadas na alimentao humana  e seu declnio nos ltimos anos gera alertas sobre segurana alimentar global.","Turritopsis dohrnii  o nico animal conhecido capaz de reverter biologicamente para o estgio juvenil aps atingir a maturidade sexual  tornando-o potencialmente imortal em condies ideais.","Octopus tem trs coraes, sangue azul, neurnios distribudos nos tentculos (2/3 do total) e  capaz de abrir potes, resolver labirintos e usar conchas como ferramentas de proteo.","Periplaneta americana existe h mais de 300 Ma praticamente inalterada  sobrevive sem cabea por semanas, suporta 900 a dose letal de radiao para humanos e resiste  maioria dos inseticidas."],2:["Methanobacterium foi o primeiro gnero metanognico isolado em cultura pura (1936), e seu RNA ribossomal foi usado por Carl Woese para revelar que Archaea  um domnio separado da vida.","Sulfolobus cresce a 7580C em pH 23, oxidando enxofre e ferro  e foi a primeira archaea usada para estudar reparo de DNA em condies extremas, revelando homologias com eucariontes.","Halobacterium produz bacteriorodopsina, uma bomba de prtons acionada por luz  to estvel que  estudada em biotecnologia como base para memrias pticas e baterias biolgicas.","Pyrococcus furiosus  a fonte da DNA polimerase Pfu  usada em PCR de alta fidelidade em diagnsticos clnicos e clonagem de genes teraputicos, onde mutaes so absolutamente inaceitveis.","Nanoarchaeum equitans tem o menor genoma celular funcional (~490 kb)  sem genes para sntese de aminocidos, lipdios ou nucleotdeos, que rouba diretamente do hospedeiro Ignicoccus hospitalis.","Methanosarcina acetivorans tem o maior genoma entre metanognicos sequenciados (~5,7 Mb) e o repertrio metablico mais verstil: usa CO, metanol, metilaminas ou acetato para produzir metano.","Thermococcus inclui mais de 30 espcies hipertermfilas e produz DNA polimerases termoestveis, protenas de resistncia a presso e enzimas de interesse para biocatlise industrial.","Candidatus Lokiarchaeum  o gnero de archaea mais prximo evolutivamente dos eucariontes, com genes de actina e ESCRT  sugerindo que a origem das clulas eucariticas envolveu uma fuso com Archaea."],3:["Escherichia tem E. coli como organismo-modelo mais estudado da histria  com mais de 500.000 publicaes  e desde 1982 sintetiza insulina humana quando modificada geneticamente.","Streptomyces produz mais de 60% dos antibiticos naturais em uso clnico: estreptomicina, tetraciclina, eritromicina, vancomicina e cloranfenicol vieram todos deste gnero do solo.","Prochlorococcus  a bactria fotossinttica mais abundante do oceano  com apenas 0,6 m de dimetro,  provavelmente o organismo fotossinttico mais numeroso da Terra.","Mycobacterium inclui tanto M. tuberculosis (tuberculose) quanto M. leprae (hansenase)  doenas que acompanham a humanidade h milnios e juntas ainda somam mais de 2 milhes de mortes anuais.","Lactobacillus  o gnero bacteriano mais usado em alimentos fermentados e probiticos  e seu estudo por Metchnikoff no incio do sculo XX fundou o campo da imunologia intestinal.","Rhizobium estabelece simbiose com leguminosas to especfica que cepas de R. japonicum nodulam somente soja  e a seleo de cepas eficientes substituiu toneladas de fertilizantes nitrogenados sintticos.","Vibrio inclui V. cholerae, causador do clera no sculo XIX, e V. fischeri, que vive em simbiose bioluminescente com lulas  produzindo luz como sinal de qurum-sensing.","Bacillus anthracis produz o nico esporo bacteriano classificado como agente de bioterrorismo  enquanto B. thuringiensis produz cristais proteicos inseticidas usados em bioinseticidas seguros para mamferos."],4:["Phytophthora ('destruidora de plantas') tem ~150 espcies, a maioria patgenas devastadoras: P. cinnamomi ameaa ecossistemas de jarrah (Austrlia) e P. sojae destri bilhes em soja anualmente.","Emiliania huxleyi  o cocolito mais estudado do mundo  seus blooms ocenicos sequestram carbono e emitem DMS, influenciando a formao de nuvens e o ciclo climtico global.","Thalassiosira  a diatomcea mais estudada em oceanografia: T. weissflogii e T. pseudonana so os modelos de laboratrio para estudar o ciclo do silcio e a produo primria ocenica.","Macrocystis pyrifera (kelp gigante) cresce at 60 cm por dia em condies ideais  e suas florestas submarinas sequestram carbono 20 mais rpido que florestas terrestres tropicais.","Sargassum forma o nico habitat pelgico baseado em macroalgas do planeta  o Mar de Sargasso  e desde 2011 prolifera em massas que cobrem praias do Caribe e do Brasil.","Noctiluca scintillans  a maior dinoflagelada unicelular (13 mm) e causa bioluminescncia azul em ondas do mar  mas em proliferao excessiva libera amnio suficiente para matar peixes.","Pseudo-nitzschia produz cido domoico acumulado em mexilhes e peixes  causando convulses, amnsia e morte em mamferos marinhos, classificada como Amnesic Shellfish Poisoning.","Blastocystis  o protista intestinal mais comum em humanos: encontrado em 1060% da populao global dependendo da regio, com patogenicidade ainda debatida pela comunidade cientfica."],5:["Penicillium chrysogenum produz a penicilina descoberta acidentalmente por Alexander Fleming em 1928  o antibitico que transformou a medicina e salvou centenas de milhes de vidas.","Amanita inclui os fungos mais mortais (A. phalloides, A. ocreata) e um dos mais alucingenos (A. muscaria, com muscimol e cido ibotnico)  um dos gneros mais diversos em toxinas.","Aspergillus inclui A. oryzae (fermenta sake, miso e molho de soja), A. niger (produz cido ctrico industrial) e A. fumigatus (causa aspergilose, matando ~180.000 imunossuprimidos por ano).","Saccharomyces cerevisiae foi domesticada h ~9.000 anos  e seu genoma (1996) foi o primeiro de um eucarioto completamente sequenciado, com 6.275 genes identificados.","Trametes versicolor (rabo-de-peru) tem extrato PSK (krestin) aprovado no Japo como adjuvante de quimioterapia  o medicamento oncolgico biolgico mais vendido naquele pas.","Tuber (trufas) forma micorrizas com carvalhos e aveleiras  e produz compostos volteis especficos (androstenol, androstenona) que atraem javalis e ces treinados para escavao.","Ophiocordyceps inclui o fungo zumbi (O. unilateralis) que infecta formigas, controla seu comportamento com preciso espacial e temporal e esporula na posio ideal  co-evoludo por milhes de anos.","Trichoderma  o gnero fngico mais usado em agricultura biolgica: como fungicida natural, promotor de crescimento e agente de biocontrole contra Fusarium, Botrytis e Rhizoctonia."],6:["Arabidopsis thaliana  a Drosophila das plantas: com apenas 5 pares de cromossomos e 125 Mb de DNA, foi a primeira planta com o genoma completamente sequenciado (2000) e permanece o modelo-padro.","Oryza sativa (arroz) alimenta mais da metade da humanidade como principal fonte calrica  e seu genoma de 430 Mb (2002) revelou a base gentica de adaptao a solos e climas distintos.","Pinus inclui as rvores mais antigas do mundo: Pinus longaeva 'Methuselah' tem 4.855 anos  e suas resinas formaram o mbar que preservou organismos do Cretceo com detalhe microscpico.","Quercus (carvalhos) sustenta a maior biodiversidade de invertebrados entre as rvores temperadas  um nico carvalho maduro pode hospedar mais de 500 espcies de insetos.","Solanum inclui tomate (S. lycopersicum), batata (S. tuberosum) e berinjela  e tambm a mandrgora e a belladona (S. nigrum), com alcaloides txicos e longo histrico medicinal.","Eucalyptus tem ~700 espcies quase todas endmicas da Austrlia,  o segundo gnero arbreo mais plantado no mundo e causa polmica por seu consumo hdrico e impacto em biodiversidades locais.","Welwitschia mirabilis  o nico representante de seu gnero  com dois cotildones que crescem por mais de 1.000 anos, esta planta do deserto namibiano  um fssil vivente sem paralelo.","Coffea inclui C. arabica e C. canephora  as plantas cujos gros, aps fermentao e torrefao, produzem o caf: a bebida mais consumida no mundo depois da gua, com 2,5 bilhes de xcaras dirias."],7:["Plasmodium tem ~250 espcies que infectam aves, rpteis e mamferos  apenas 5 atacam humanos, mas P. falciparum  responsvel por ~600.000 mortes anuais, mais do que qualquer outro eucarioto parasita.","Trypanosoma brucei troca sua glicoprotena de superfcie mais de 100 vezes para escapar do sistema imune  estratgia baseada em um repertrio de ~1.000 genes VSG, a mais sofisticada evaso imune conhecida.","Paramecium  o ciliado mais estudado do mundo por mais de 200 anos  e foi nele que foram descobertos os epigramas, desafiando o dogma central da gentica ao mostrar herana citoplasmtica.","Giardia lamblia infecta ~280 milhes de pessoas por ano  com dois ncleos, simetria bilateral e sem mitocndrias tpicas (apenas mitossomas vestigiais),  um eucarioto profundamente reduzido.","Leishmania  transmitida por flebotomneos e pode causar desde leses cutneas  destruio de vsceras  e L. donovani mata mais de 20.000 pessoas anuais por calazar, sem vacina aprovada.","Toxoplasma gondii completa seu ciclo sexual apenas em felinos, mas infecta quase todos os mamferos como hospedeiro intermedirio  e modifica o comportamento de ratos para reduzir o medo de gatos.","Acanthamoeba causa ceratite ocular grave em usurios de lente de contato  e  portadora natural do Mimivirus, o maior vrus conhecido, descoberto acidentalmente ao confundi-la com uma bactria.","Dictyostelium discoideum  modelo nico de evoluo multicelular: clulas individuais se agregam, diferenciam-se e formam um corpo de frutificao com caule e esporos quando privadas de alimento."]}},Vg={},IK=Symbol((Vg?"production":void 0)!=="production"?"RESET":"");let K1=!1;function zK(e,t){(Vg?"production":void 0)!=="production"&&!K1&&(console.warn("[DEPRECATED] atomFamily is deprecated and will be removed in v3. Please use the `jotai-family` package instead: https://github.com/jotaijs/jotai-family"),K1=!0);let n=null;const i=new Map,s=new Set,o=c=>{let d;if(d=i.get(c),d!==void 0)if(n?.(d[1],c))o.remove(c);else return d[0];const h=e(c);return i.set(c,[h,Date.now()]),l("CREATE",c,h),h},l=(c,d,h)=>{for(const m of s)m({type:c,param:d,atom:h})};return o.unstable_listen=c=>(s.add(c),()=>{s.delete(c)}),o.getParams=()=>i.keys(),o.remove=c=>{{if(!i.has(c))return;const[d]=i.get(c);i.delete(c),l("REMOVE",c,d)}},o.setShouldRemove=c=>{if(n=c,!!n)for(const[d,[h,m]]of i)n(m,d)&&(i.delete(d),l("REMOVE",d,h))},o}const WO=e=>typeof e?.then=="function";function BK(e=()=>{try{return window.localStorage}catch(n){(Vg?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(n);return}},t){var n;let i,s;const o={getItem:(d,h)=>{var m,v;const b=C=>{if(C=C||"",i!==C){try{s=JSON.parse(C,t?.reviver)}catch{return h}i=C}return s},_=(v=(m=e())==null?void 0:m.getItem(d))!=null?v:null;return WO(_)?_.then(b):b(_)},setItem:(d,h)=>{var m;return(m=e())==null?void 0:m.setItem(d,JSON.stringify(h,void 0))},removeItem:d=>{var h;return(h=e())==null?void 0:h.removeItem(d)}},l=d=>(h,m,v)=>d(h,b=>{let _;try{_=JSON.parse(b||"")}catch{_=v}m(_)});let c;try{c=(n=e())==null?void 0:n.subscribe}catch{}return!c&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(c=(d,h)=>{if(!(e()instanceof window.Storage))return()=>{};const m=v=>{v.storageArea===e()&&v.key===d&&h(v.newValue)};return window.addEventListener("storage",m),()=>{window.removeEventListener("storage",m)}}),c&&(o.subscribe=l(c)),o}const UK=BK();function FK(e,t,n=UK,i){const s=dt(t);return(Vg?"production":void 0)!=="production"&&(s.debugPrivate=!0),s.onMount=l=>{l(n.getItem(e,t));let c;return n.subscribe&&(c=n.subscribe(e,l,t)),c},dt(l=>l(s),(l,c,d)=>{const h=typeof d=="function"?d(l(s)):d;return h===IK?(c(s,t),n.removeItem(e)):WO(h)?h.then(m=>(c(s,m),n.setItem(e,m))):(c(s,h),n.setItem(e,h))})}const VK=dt({mode:null,status:"NOT_STARTED"}),$K=dt(jK),HK=dt({isShaking:!1,shakeDirection:!0}),Yl=dt({}),qK=dt([]),_u=dt([]),YO=dt(null),ZO=dt(null,(e,t,n)=>{t(YO,n)}),GK=dt(null,(e,t,n)=>{t(Yl,i=>{const s={...i};return n.forEach(o=>{s[o.key]={...s[o.key],...o}}),s})}),KK=dt(null,(e,t,n)=>{t(_u,n)}),XO=zK(e=>dt(t=>t(Yl)[e],(t,n,i)=>{n(Yl,s=>{const o=s[e],l=typeof i=="function"?i(o):{...o,...i};return{...s,[e]:l}})})),QO=dt(null,(e,t,n)=>{const{key:i,children:s}=n;t(Yl,o=>{const l={...o};return s.forEach(c=>{l[c.key]={...l[c.key]??{},...c,parentKey:i}}),l[i]={...l[i]??{},childrenKeys:s.map(c=>c.key)},l})});dt(null,(e,t,n)=>{const i=e(Yl),s=i[n];if(!s)return;const o=e(_u),l=o.findIndex(m=>m.key===n);if(l!==-1){t(_u,o.slice(0,l));return}const c=[];let d=s;for(;d;)c.unshift(d),d=d.parentKey?i[d.parentKey]:void 0;const h=c.map(m=>({key:m.key,rank:m.rank,name:m.rank==="KINGDOM"?Di(Ru[m.key]):m.canonicalName||m.scientificName||""}));t(_u,h)});let Xd=new Set;const WK=dt(null,(e,t)=>{const n=e(_u),i=new Set(n.filter(l=>l.rank!=="SPECIES").map(l=>l.key));if(i.size===Xd.size&&[...i].every(l=>Xd.has(l)))return;const s=[...Xd].filter(l=>!i.has(l)),o=[...i].filter(l=>!Xd.has(l));Xd=i,t(Yl,l=>{if(s.length===0&&o.length===0)return l;const c={...l};for(const d of s)c[d]&&(c[d]={...c[d],expanded:!1});for(const d of o){const h=n.find(m=>m.key===d);c[d]?c[d]={...c[d],expanded:!0}:h&&(c[d]={...h,numDescendants:0,expanded:!0})}return c})}),JO=dt(!1),YK=dt(null,(e,t,n)=>{t(JO,n)}),ZK=dt(null);dt(null,(e,t,n)=>{t(ZK,n)});const eM=dt(null),XK=dt(null,(e,t,n)=>{t(eM,n)}),B_=dt(new Set),QK=dt(null,(e,t,n)=>{t(B_,new Set(n))}),JK=dt(null,(e,t,n)=>{t(B_,i=>{const s=new Set(i);return s.delete(n),s})}),tM=dt(null),e9=dt(null,(e,t,n)=>{t(tM,n)});dt({});const za=dt(null),Ye={challenge:VK,exploreInfos:$K,animate:HK,expandedNodes:_u,highlightedKeys:B_,scrollToRank:eM,scrollToNodeKey:tM,shortcutScrollTarget:YO,nodes:Yl,rootKeys:qK,mergeNodes:GK,challengeTipsOpen:JO},nM=dt(null),iM=dt(null),sM=dt("idle"),rM=dt("idle"),oM=dt(!1),t9=dt(null),n9=dt(e=>{const t=e(nM),n=e(iM);return e(oM)&&!!t?.user&&!!n});dt(e=>e(sM)==="loading"||e(rM)==="loading");const i9=dt(null);dt(!1);const rt={session:nM,userDb:iM,loginStatus:sM,logoutStatus:rM,error:t9,initialized:oM,isAuthenticated:n9,lastAuthCheck:i9},s9=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class U_ extends Error{constructor(t,n="FunctionsError",i){super(t),this.name=n,this.context=i}}class r9 extends U_{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class W1 extends U_{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Y1 extends U_{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var $0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})($0||($0={}));class o9{constructor(t,{headers:n={},customFetch:i,region:s=$0.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=s9(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return UF(this,arguments,void 0,function*(n,i={}){var s;let o,l;try{const{headers:c,method:d,body:h,signal:m,timeout:v}=i;let b={},{region:_}=i;_||(_=this.region);const C=new URL(`${this.url}/${n}`);_&&_!=="any"&&(b["x-region"]=_,C.searchParams.set("forceFunctionRegion",_));let E;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",E=h):typeof h=="string"?(b["Content-Type"]="text/plain",E=h):typeof FormData<"u"&&h instanceof FormData?E=h:(b["Content-Type"]="application/json",E=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?E=JSON.stringify(h):E=h;let T=m;v&&(l=new AbortController,o=setTimeout(()=>l.abort(),v),m?(T=l.signal,m.addEventListener("abort",()=>l.abort())):T=l.signal);const k=yield this.fetch(C.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),c),body:E,signal:T}).catch(j=>{throw new r9(j)}),N=k.headers.get("x-relay-error");if(N&&N==="true")throw new W1(k);if(!k.ok)throw new Y1(k);let P=((s=k.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),O;return P==="application/json"?O=yield k.json():P==="application/octet-stream"||P==="application/pdf"?O=yield k.blob():P==="text/event-stream"?O=k:P==="multipart/form-data"?O=yield k.formData():O=yield k.text(),{data:O,error:null,response:k}}catch(c){return{data:null,error:c,response:c instanceof Y1||c instanceof W1?c.context:void 0}}finally{o&&clearTimeout(o)}})}}var a9=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},l9=class{constructor(e){var t,n,i;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(i=e.urlLengthLimit)!==null&&i!==void 0?i:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let s=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let l=null,c=null,d=null,h=o.status,m=o.statusText;if(o.ok){var v,b;if(n.method!=="HEAD"){var _;const k=await o.text();k===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((_=n.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?c=k:c=JSON.parse(k))}const E=(v=n.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),T=(b=o.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");E&&T&&T.length>1&&(d=parseInt(T[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(c)&&(c.length>1?(l={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,h=406,m="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var C;const E=await o.text();try{l=JSON.parse(E),Array.isArray(l)&&o.status===404&&(c=[],l=null,h=200,m="OK")}catch{o.status===404&&E===""?(h=204,m="No Content"):l={message:E}}if(l&&n.isMaybeSingle&&(!(l==null||(C=l.details)===null||C===void 0)&&C.includes("0 rows"))&&(l=null,h=200,m="OK"),l&&n.shouldThrowOnError)throw new a9(l)}return{error:l,data:c,count:d,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(o=>{var l;let c="",d="",h="";const m=o?.cause;if(m){var v,b,_,C;const k=(v=m?.message)!==null&&v!==void 0?v:"",N=(b=m?.code)!==null&&b!==void 0?b:"";c=`${(_=o?.name)!==null&&_!==void 0?_:"FetchError"}: ${o?.message}`,c+=`

Caused by: ${(C=m?.name)!==null&&C!==void 0?C:"Error"}: ${k}`,N&&(c+=` (${N})`),m?.stack&&(c+=`
${m.stack}`)}else{var E;c=(E=o?.stack)!==null&&E!==void 0?E:""}const T=this.url.toString().length;return o?.name==="AbortError"||o?.code==="ABORT_ERR"?(h="",d="Request was aborted (timeout or manual cancellation)",T>this.urlLengthLimit&&(d+=`. Note: Your request URL is ${T} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(m?.name==="HeadersOverflowError"||m?.code==="UND_ERR_HEADERS_OVERFLOW")&&(h="",d="HTTP headers exceeded server limits (typically 16KB)",T>this.urlLengthLimit&&(d+=`. Your request URL is ${T} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(l=o?.name)!==null&&l!==void 0?l:"FetchError"}: ${o?.message}`,details:c,hint:d,code:h},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},c9=class extends l9{select(e){let t=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,t?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Z1=new RegExp("[,()]");var ou=class extends c9{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(i=>typeof i=="string"&&Z1.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(i=>typeof i=="string"&&Z1.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},u9=class{constructor(e,{headers:t={},schema:n,fetch:i,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=i,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:i}=t??{},s=n?"HEAD":"GET";let o=!1;const l=(e??"*").split("").map(h=>/\s/.test(h)&&!o?"":(h==='"'&&(o=!o),h)).join(""),{url:c,headers:d}=this.cloneRequestState();return c.searchParams.set("select",l),i&&d.append("Prefer",`count=${i}`),new ou({method:s,url:c,headers:d,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var i;const s="POST",{url:o,headers:l}=this.cloneRequestState();if(t&&l.append("Prefer",`count=${t}`),n||l.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(c.length>0){const d=[...new Set(c)].map(h=>`"${h}"`);o.searchParams.set("columns",d.join(","))}}return new ou({method:s,url:o,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){var o;const l="POST",{url:c,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&c.searchParams.set("on_conflict",t),i&&d.append("Prefer",`count=${i}`),s||d.append("Prefer","missing=default"),Array.isArray(e)){const h=e.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(h.length>0){const m=[...new Set(h)].map(v=>`"${v}"`);c.searchParams.set("columns",m.join(","))}}return new ou({method:l,url:c,headers:d,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const i="PATCH",{url:s,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new ou({method:i,url:s,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:i,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new ou({method:n,url:i,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}function d9(e,t){if(Tf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Tf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f9(e){var t=d9(e,"string");return Tf(t)=="symbol"?t:t+""}function h9(e,t,n){return(t=f9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Xm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X1(Object(n),!0).forEach(function(i){h9(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X1(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}var m9=class aM{constructor(t,{headers:n={},schema:i,fetch:s,timeout:o,urlLengthLimit:l=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=i,this.urlLengthLimit=l;const c=s??globalThis.fetch;o!==void 0&&o>0?this.fetch=(d,h)=>{const m=new AbortController,v=setTimeout(()=>m.abort(),o),b=h?.signal;if(b){if(b.aborted)return clearTimeout(v),c(d,h);const _=()=>{clearTimeout(v),m.abort()};return b.addEventListener("abort",_,{once:!0}),c(d,Xm(Xm({},h),{},{signal:m.signal})).finally(()=>{clearTimeout(v),b.removeEventListener("abort",_)})}return c(d,Xm(Xm({},h),{},{signal:m.signal})).finally(()=>clearTimeout(v))}:this.fetch=c}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new u9(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new aM(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:i=!1,get:s=!1,count:o}={}){var l;let c;const d=new URL(`${this.url}/rpc/${t}`);let h;const m=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(m)),v=i&&Object.values(n).some(m);v?(c="POST",h=n):i||s?(c=i?"HEAD":"GET",Object.entries(n).filter(([_,C])=>C!==void 0).map(([_,C])=>[_,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([_,C])=>{d.searchParams.append(_,C)})):(c="POST",h=n);const b=new Headers(this.headers);return v?b.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&b.set("Prefer",`count=${o}`),new ou({method:c,url:d,headers:b,schema:this.schemaName,body:h,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}};class p9{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const i=n.versions;if(i&&i.node){const s=i.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const i=this.getWebSocketConstructor();return new i(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const g9="2.97.0",v9=`realtime-js/${g9}`,y9="1.0.0",lM="2.0.0",Q1=lM,H0=1e4,b9=1e3,x9=100;var Ea;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ea||(Ea={}));var Un;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Un||(Un={}));var hr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(hr||(hr={}));var q0;(function(e){e.websocket="websocket"})(q0||(q0={}));var Ll;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ll||(Ll={}));class _9{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let i=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,i;const s=(i=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,i;const s=(i=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:{},l=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,n,i){var s,o;const l=t.topic,c=(s=t.ref)!==null&&s!==void 0?s:"",d=(o=t.join_ref)!==null&&o!==void 0?o:"",h=t.payload.event,m=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},v=Object.keys(m).length===0?"":JSON.stringify(m);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+c.length+l.length+h.length+v.length,_=new ArrayBuffer(this.HEADER_LENGTH+b);let C=new DataView(_),E=0;C.setUint8(E++,this.KINDS.userBroadcastPush),C.setUint8(E++,d.length),C.setUint8(E++,c.length),C.setUint8(E++,l.length),C.setUint8(E++,h.length),C.setUint8(E++,v.length),C.setUint8(E++,n),Array.from(d,k=>C.setUint8(E++,k.charCodeAt(0))),Array.from(c,k=>C.setUint8(E++,k.charCodeAt(0))),Array.from(l,k=>C.setUint8(E++,k.charCodeAt(0))),Array.from(h,k=>C.setUint8(E++,k.charCodeAt(0))),Array.from(v,k=>C.setUint8(E++,k.charCodeAt(0)));var T=new Uint8Array(_.byteLength+i.byteLength);return T.set(new Uint8Array(_),0),T.set(new Uint8Array(i),_.byteLength),T.buffer}decode(t,n){if(this._isArrayBuffer(t)){let i=this._binaryDecode(t);return n(i)}if(typeof t=="string"){const i=JSON.parse(t),[s,o,l,c,d]=i;return n({join_ref:s,ref:o,topic:l,event:c,payload:d})}return n({})}_binaryDecode(t){const n=new DataView(t),i=n.getUint8(0),s=new TextDecoder;if(i===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,n,s)}_decodeUserBroadcast(t,n,i){const s=n.getUint8(1),o=n.getUint8(2),l=n.getUint8(3),c=n.getUint8(4);let d=this.HEADER_LENGTH+4;const h=i.decode(t.slice(d,d+s));d=d+s;const m=i.decode(t.slice(d,d+o));d=d+o;const v=i.decode(t.slice(d,d+l));d=d+l;const b=t.slice(d,t.byteLength),_=c===this.JSON_ENCODING?JSON.parse(i.decode(b)):b,C={type:this.BROADCAST_EVENT,event:m,payload:_};return l>0&&(C.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([i])=>n.includes(i)))}}let cM=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Xt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Xt||(Xt={}));const J1=(e,t,n={})=>{var i;const s=(i=n.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((o,l)=>(o[l]=w9(l,e,t,s),o),{}):{}},w9=(e,t,n,i)=>{const s=t.find(c=>c.name===e),o=s?.type,l=n[e];return o&&!i.includes(o)?uM(o,l):G0(l)},uM=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return A9(t,n)}switch(e){case Xt.bool:return S9(t);case Xt.float4:case Xt.float8:case Xt.int2:case Xt.int4:case Xt.int8:case Xt.numeric:case Xt.oid:return C9(t);case Xt.json:case Xt.jsonb:return E9(t);case Xt.timestamp:return T9(t);case Xt.abstime:case Xt.date:case Xt.daterange:case Xt.int4range:case Xt.int8range:case Xt.money:case Xt.reltime:case Xt.text:case Xt.time:case Xt.timestamptz:case Xt.timetz:case Xt.tsrange:case Xt.tstzrange:return G0(t);default:return G0(t)}},G0=e=>e,S9=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},C9=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},E9=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},A9=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,i=e[n];if(e[0]==="{"&&i==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(c=>uM(t,c))}return e},T9=e=>typeof e=="string"?e.replace(" ","T"):e,dM=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ub{constructor(t,n,i={},s=H0){this.channel=t,this.event=n,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var i;return this._hasReceived(t)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var eT;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(eT||(eT={}));class df{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=df.syncState(this.state,s,o,l),this.pendingDiffs.forEach(d=>{this.state=df.syncDiff(this.state,d,o,l)}),this.pendingDiffs=[],c()}),this.channel._on(i.diff,{},s=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=df.syncDiff(this.state,s,o,l),c())}),this.onJoin((s,o,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:l})}),this.onLeave((s,o,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,i,s){const o=this.cloneDeep(t),l=this.transformState(n),c={},d={};return this.map(o,(h,m)=>{l[h]||(d[h]=m)}),this.map(l,(h,m)=>{const v=o[h];if(v){const b=m.map(T=>T.presence_ref),_=v.map(T=>T.presence_ref),C=m.filter(T=>_.indexOf(T.presence_ref)<0),E=v.filter(T=>b.indexOf(T.presence_ref)<0);C.length>0&&(c[h]=C),E.length>0&&(d[h]=E)}else c[h]=m}),this.syncDiff(o,{joins:c,leaves:d},i,s)}static syncDiff(t,n,i,s){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(o,(c,d)=>{var h;const m=(h=t[c])!==null&&h!==void 0?h:[];if(t[c]=this.cloneDeep(d),m.length>0){const v=t[c].map(_=>_.presence_ref),b=m.filter(_=>v.indexOf(_.presence_ref)<0);t[c].unshift(...b)}i(c,m,d)}),this.map(l,(c,d)=>{let h=t[c];if(!h)return;const m=d.map(v=>v.presence_ref);h=h.filter(v=>m.indexOf(v.presence_ref)<0),t[c]=h,s(c,h,d),h.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(i=>n(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,i)=>{const s=t[i];return"metas"in s?n[i]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[i]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tT;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(tT||(tT={}));var ff;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ff||(ff={}));var To;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(To||(To={}));class uu{constructor(t,n={config:{}},i){var s,o;if(this.topic=t,this.params=n,this.socket=i,this.bindings={},this.state=Un.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ub(this,hr.join,this.params,this.timeout),this.rejoinTimer=new cM(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Un.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Un.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this._on(hr.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new df(this),this.broadcastEndpointURL=dM(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var i,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Un.closed){const{config:{broadcast:l,presence:c,private:d}}=this.params,h=(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&s!==void 0?s:[],m=!!this.bindings[ff.PRESENCE]&&this.bindings[ff.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,v={},b={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(_=>t?.(To.CHANNEL_ERROR,_)),this._onClose(()=>t?.(To.CLOSED)),this.updateJoinPayload(Object.assign({config:b},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){t?.(To.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,T=(C=E?.length)!==null&&C!==void 0?C:0,k=[];for(let N=0;N<T;N++){const P=E[N],{filter:{event:O,schema:j,table:V,filter:z}}=P,I=_&&_[N];if(I&&I.event===O&&uu.isFilterValueEqual(I.schema,j)&&uu.isFilterValueEqual(I.table,V)&&uu.isFilterValueEqual(I.filter,z))k.push(Object.assign(Object.assign({},P),{id:I.id}));else{this.unsubscribe(),this.state=Un.errored,t?.(To.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,t&&t(To.SUBSCRIBED);return}}).receive("error",_=>{this.state=Un.errored,t?.(To.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t?.(To.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,i){return this.state===Un.joined&&t===ff.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,i)}async httpSend(t,n,i={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const h=await c.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}async send(t,n={}){var i,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=t,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,c,d;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Un.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(hr.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(s=>{i=new Ub(this,hr.leave,{},t),i.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Un.closed,this.bindings={}}async _fetchWithTimeout(t,n,i){const s=new AbortController,o=setTimeout(()=>s.abort(),i),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),l}_push(t,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ub(this,t,n,i);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>x9){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,i){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,i){var s,o;const l=t.toLocaleLowerCase(),{close:c,error:d,leave:h,join:m}=hr;if(i&&[c,d,h,m].indexOf(l)>=0&&i!==this._joinRef())return;let b=this._onMessage(l,n,i);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(_=>{var C,E,T;return((C=_.filter)===null||C===void 0?void 0:C.event)==="*"||((T=(E=_.filter)===null||E===void 0?void 0:E.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===l}).map(_=>_.callback(b,i)):(o=this.bindings[l])===null||o===void 0||o.filter(_=>{var C,E,T,k,N,P;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in _){const O=_.id,j=(C=_.filter)===null||C===void 0?void 0:C.event;return O&&((E=n.ids)===null||E===void 0?void 0:E.includes(O))&&(j==="*"||j?.toLocaleLowerCase()===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const O=(N=(k=_?.filter)===null||k===void 0?void 0:k.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return O==="*"||O===((P=n?.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===l}).map(_=>{if(typeof b=="object"&&"ids"in b){const C=b.data,{schema:E,table:T,commit_timestamp:k,type:N,errors:P}=C;b=Object.assign(Object.assign({},{schema:E,table:T,commit_timestamp:k,eventType:N,new:{},old:{},errors:P}),this._getPayloadRecords(C))}_.callback(b,i)})}_isClosed(){return this.state===Un.closed}_isJoined(){return this.state===Un.joined}_isJoining(){return this.state===Un.joining}_isLeaving(){return this.state===Un.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,i){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:i};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&uu.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const i in t)if(t[i]!==n[i])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(hr.close,{},t)}_onError(t){this._on(hr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Un.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=J1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=J1(t.columns,t.old_record)),n}}const Fb=()=>{},Qm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},R9=[1e3,2e3,5e3,1e4],N9=1e4,k9=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class P9{constructor(t,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=H0,this.transport=null,this.heartbeatIntervalMs=Qm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fb,this.ref=0,this.reconnectTimer=null,this.vsn=Q1,this.logger=Fb,this.conn=null,this.sendBuffer=[],this.serializer=new _9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((i=n?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${q0.websocket}`,this.httpEndpoint=dM(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=p9.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,i){this.logger(t,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Ea.connecting:return Ll.Connecting;case Ea.open:return Ll.Open;case Ea.closing:return Ll.Closing;default:return Ll.Closed}}isConnected(){return this.connectionState()===Ll.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const i=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===i);if(s)return s;{const o=new uu(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:i,payload:s,ref:o}=t,l=()=>{this.encode(t,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${n} ${i} (${o})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(b9,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Qm.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",h)}catch(m){this.log("error","error in heartbeat callback",m)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:s,payload:o,ref:l}=n,c=l?`(${l})`:"",d=o.status||"";this.log("receive",`${d} ${i} ${s} ${c}`.trim(),o),this.channels.filter(h=>h._isMember(i)).forEach(h=>h._trigger(s,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Ea.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ea.open||this.conn.readyState===Ea.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(hr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const i=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${i}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const i=new Blob([k9],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,i=!1;if(t)n=t,i=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const o={access_token:n,version:v9};n&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(hr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new cM(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Qm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,i,s,o,l,c,d,h,m,v,b,_;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(i=t?.timeout)!==null&&i!==void 0?i:H0,this.heartbeatIntervalMs=(s=t?.heartbeatIntervalMs)!==null&&s!==void 0?s:Qm.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=t?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=t?.heartbeatCallback)!==null&&c!==void 0?c:Fb,this.vsn=(d=t?.vsn)!==null&&d!==void 0?d:Q1,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t?.reconnectAfterMs)!==null&&h!==void 0?h:(C=>R9[C-1]||N9),this.vsn){case y9:this.encode=(m=t?.encode)!==null&&m!==void 0?m:((C,E)=>E(JSON.stringify(C))),this.decode=(v=t?.decode)!==null&&v!==void 0?v:((C,E)=>E(JSON.parse(C)));break;case lM:this.encode=(b=t?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(_=t?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var Rf=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function O9(e,t,n){const i=new URL(t,e);if(n)for(const[s,o]of Object.entries(n))o!==void 0&&i.searchParams.set(s,o);return i.toString()}async function M9(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function D9(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:i,query:s,body:o,headers:l}){const c=O9(e.baseUrl,i,s),d=await M9(e.auth),h=await t(c,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...d,...l},body:o?JSON.stringify(o):void 0}),m=await h.text(),v=(h.headers.get("content-type")||"").includes("application/json"),b=v&&m?JSON.parse(m):m;if(!h.ok){const _=v?b:void 0,C=_?.error;throw new Rf(C?.message??`Request failed with status ${h.status}`,{status:h.status,icebergType:C?.type,icebergCode:C?.code,details:_})}return{status:h.status,headers:h.headers,data:b}}}}function Jm(e){return e.join("")}var L9=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Jm(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Jm(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Jm(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Jm(e.namespace)}`}),!0}catch(t){if(t instanceof Rf&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Rf&&n.status===409)return;throw n}}};function Xc(e){return e.join("")}var j9=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xc(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xc(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xc(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xc(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xc(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xc(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Rf&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Rf&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},I9=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=D9({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new L9(this.client,t),this.tableOps=new j9(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},$g=class extends Error{constructor(e,t="storage",n,i){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=i}};function Hg(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var ep=class extends $g{constructor(e,t,n,i="storage"){super(e,i,t,n),this.name=i==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},fM=class extends $g{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const z9=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),B9=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},K0=e=>{if(Array.isArray(e))return e.map(n=>K0(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,i])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=K0(i)}),t},U9=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function F9(e,t){if(Nf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Nf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V9(e){var t=F9(e,"string");return Nf(t)=="symbol"?t:t+""}function $9(e,t,n){return(t=V9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nT(Object(n),!0).forEach(function(i){$9(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nT(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}const iT=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},H9=async(e,t,n,i)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const s=e,o=s.status||500;if(typeof s.json=="function")s.json().then(l=>{const c=l?.statusCode||l?.code||o+"";t(new ep(iT(l),o,c,i))}).catch(()=>{if(i==="vectors"){const l=o+"";t(new ep(s.statusText||`HTTP ${o} error`,o,l,i))}else{const l=o+"";t(new ep(s.statusText||`HTTP ${o} error`,o,l,i))}});else{const l=o+"";t(new ep(s.statusText||`HTTP ${o} error`,o,l,i))}}else t(new fM(iT(e),e,i))},q9=(e,t,n,i)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"||e==="HEAD"||!i?et(et({},s),n):(B9(i)?(s.headers=et({"Content-Type":"application/json"},t?.headers),s.body=JSON.stringify(i)):s.body=i,t?.duplex&&(s.duplex=t.duplex),et(et({},s),n))};async function Qd(e,t,n,i,s,o,l){return new Promise((c,d)=>{e(n,q9(t,i,s,o)).then(h=>{if(!h.ok)throw h;if(i?.noResolveJson)return h;if(l==="vectors"){const m=h.headers.get("content-type");if(h.headers.get("content-length")==="0"||h.status===204)return{};if(!m||!m.includes("application/json"))return{}}return h.json()}).then(h=>c(h)).catch(h=>H9(h,d,i,l))})}function hM(e="storage"){return{get:async(t,n,i,s)=>Qd(t,"GET",n,i,s,void 0,e),post:async(t,n,i,s,o)=>Qd(t,"POST",n,s,o,i,e),put:async(t,n,i,s,o)=>Qd(t,"PUT",n,s,o,i,e),head:async(t,n,i,s)=>Qd(t,"HEAD",n,et(et({},i),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,n,i,s,o)=>Qd(t,"DELETE",n,s,o,i,e)}}const G9=hM("storage"),{get:kf,post:fr,put:W0,head:K9,remove:F_}=G9,vs=hM("vectors");var Iu=class{constructor(e,t={},n,i="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=z9(n),this.namespace=i}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=et(et({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Hg(n))return{data:null,error:n};throw n}}},W9=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Hg(t))return{data:null,error:t};throw t}}};let mM;mM=Symbol.toStringTag;var Y9=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[mM]="BlobDownloadBuilder",this.promise=null}asStream(){return new W9(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Hg(t))return{data:null,error:t};throw t}}};const Z9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var X9=class extends Iu{constructor(e,t={},n,i){super(e,t,i,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,i){var s=this;return s.handleOperation(async()=>{let o;const l=et(et({},sT),i);let c=et(et({},s.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",s.encodeMetadata(d)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",l.cacheControl),d&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(d))):(o=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,d&&(c["x-metadata"]=s.toBase64(s.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!l.duplex&&(l.duplex="half")),i?.headers&&(c=et(et({},c),i.headers));const h=s._removeEmptyFolders(t),m=s._getFinalPath(h),v=await(e=="PUT"?W0:fr)(s.fetch,`${s.url}/object/${m}`,o,et({headers:c},l?.duplex?{duplex:l.duplex}:{}));return{path:h,id:v.Id,fullPath:v.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,i){var s=this;const o=s._removeEmptyFolders(e),l=s._getFinalPath(o),c=new URL(s.url+`/object/upload/sign/${l}`);return c.searchParams.set("token",t),s.handleOperation(async()=>{let d;const h=et({upsert:sT.upsert},i),m=et(et({},s.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",h.cacheControl)):(d=n,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType),{path:o,fullPath:(await W0(s.fetch,c.toString(),d,{headers:m})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(e);const s=et({},n.headers);t?.upsert&&(s["x-upsert"]="true");const o=await fr(n.fetch,`${n.url}/object/upload/sign/${i}`,{},{headers:s}),l=new URL(n.url+o.url),c=l.searchParams.get("token");if(!c)throw new $g("No token returned by API");return{signedUrl:l.toString(),path:e,token:c}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var i=this;return i.handleOperation(async()=>await fr(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:i.headers}))}async copy(e,t,n){var i=this;return i.handleOperation(async()=>({path:(await fr(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:i.headers})).Key}))}async createSignedUrl(e,t,n){var i=this;return i.handleOperation(async()=>{let s=i._getFinalPath(e),o=await fr(i.fetch,`${i.url}/object/sign/${s}`,et({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:i.headers});const l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${i.url}${o.signedURL}${l}`)}})}async createSignedUrls(e,t,n){var i=this;return i.handleOperation(async()=>{const s=await fr(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:t,paths:e},{headers:i.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s.map(l=>et(et({},l),{},{signedUrl:l.signedURL?encodeURI(`${i.url}${l.signedURL}${o}`):null}))})}download(e,t,n){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(t?.transform||{}),o=s?`?${s}`:"",l=this._getFinalPath(e),c=()=>kf(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0},n);return new Y9(c,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>K0(await kf(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await K9(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Hg(i)&&i instanceof fM){const s=i.originalError;if([400,404].includes(s?.status))return{data:!1,error:i}}throw i}}getPublicUrl(e,t){const n=this._getFinalPath(e),i=[],s=t?.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&i.push(s);const o=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await F_(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var i=this;return i.handleOperation(async()=>{const s=et(et(et({},Z9),t),{},{prefix:e||""});return await fr(i.fetch,`${i.url}/object/list/${i.bucketId}`,s,{headers:i.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const i=et({},e);return await fr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,i,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Q9="2.97.0",sh={"X-Client-Info":`storage-js/${Q9}`};var J9=class extends Iu{constructor(e,t={},n,i){const s=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const o=s.href.replace(/\/$/,""),l=et(et({},sh),t);super(o,l,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await kf(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await kf(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await fr(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await W0(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await fr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await F_(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},eW=class extends Iu{constructor(e,t={},n){const i=e.replace(/\/$/,""),s=et(et({},sh),t);super(i,s,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await fr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const i=n.toString(),s=i?`${t.url}/bucket?${i}`:`${t.url}/bucket`;return await kf(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await F_(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!U9(e))throw new $g("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new I9({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(n,{get(s,o){const l=s[o];return typeof l!="function"?l:async(...c)=>{try{return{data:await l.apply(s,c),error:null}}catch(d){if(i)throw d;return{data:null,error:d}}}}})}},tW=class extends Iu{constructor(e,t={},n){const i=e.replace(/\/$/,""),s=et(et({},sh),{},{"Content-Type":"application/json"},t);super(i,s,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await vs.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await vs.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await vs.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await vs.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},nW=class extends Iu{constructor(e,t={},n){const i=e.replace(/\/$/,""),s=et(et({},sh),{},{"Content-Type":"application/json"},t);super(i,s,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await vs.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await vs.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await vs.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await vs.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await vs.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},iW=class extends Iu{constructor(e,t={},n){const i=e.replace(/\/$/,""),s=et(et({},sh),{},{"Content-Type":"application/json"},t);super(i,s,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await vs.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await vs.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await vs.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await vs.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},sW=class extends iW{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new rW(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},rW=class extends tW{constructor(e,t,n,i){super(e,t,i),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,et(et({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,et(et({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new oW(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},oW=class extends nW{constructor(e,t,n,i,s){super(e,t,s),this.vectorBucketName=n,this.indexName=i}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,et(et({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,et(et({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,et(et({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,et(et({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,et(et({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},aW=class extends J9{constructor(e,t={},n,i){super(e,t,n,i)}from(e){return new X9(this.url,this.headers,e,this.fetch)}get vectors(){return new sW(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new eW(this.url+"/iceberg",this.headers,this.fetch)}};const pM="2.97.0",au=30*1e3,Y0=3,Vb=Y0*au,lW="http://localhost:9999",cW="supabase.auth.token",uW={"X-Client-Info":`gotrue-js/${pM}`},Z0="X-Supabase-Api-Version",gM={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dW=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,fW=600*1e3;class Pf extends Error{constructor(t,n,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Ge(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class hW extends Pf{constructor(t,n,i){super(t,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function mW(e){return Ge(e)&&e.name==="AuthApiError"}class jl extends Pf{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Bo extends Pf{constructor(t,n,i,s){super(t,i,s),this.name=n,this.status=i}}class ms extends Bo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $b(e){return Ge(e)&&e.name==="AuthSessionMissingError"}class Qc extends Bo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class tp extends Bo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class np extends Bo{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function pW(e){return Ge(e)&&e.name==="AuthImplicitGrantRedirectError"}class rT extends Bo{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gW extends Bo{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class X0 extends Bo{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Hb(e){return Ge(e)&&e.name==="AuthRetryableFetchError"}class oT extends Bo{constructor(t,n,i){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Q0 extends Bo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ng="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),aT=` 	
\r=`.split(""),vW=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<aT.length;t+=1)e[aT[t].charCodeAt(0)]=-2;for(let t=0;t<ng.length;t+=1)e[ng[t].charCodeAt(0)]=t;return e})();function lT(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(ng[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(ng[i]),t.queuedBits-=6}}function vM(e,t,n){const i=vW[e];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function cT(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=l=>{xW(l,i,n)};for(let l=0;l<e.length;l+=1)vM(e.charCodeAt(l),s,o);return t.join("")}function yW(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function bW(e,t){for(let n=0;n<e.length;n+=1){let i=e.charCodeAt(n);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}yW(i,t)}}function xW(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function wu(e){const t=[],n={queue:0,queuedBits:0},i=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)vM(e.charCodeAt(s),n,i);return new Uint8Array(t)}function _W(e){const t=[];return bW(e,n=>t.push(n)),new Uint8Array(t)}function Bl(e){const t=[],n={queue:0,queuedBits:0},i=s=>{t.push(s)};return e.forEach(s=>lT(s,n,i)),lT(null,n,i),t.join("")}function wW(e){return Math.round(Date.now()/1e3)+e}function SW(){return Symbol("auth-callback")}const fi=()=>typeof window<"u"&&typeof document<"u",Nl={tested:!1,writable:!1},yM=()=>{if(!fi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Nl.tested)return Nl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Nl.tested=!0,Nl.writable=!0}catch{Nl.tested=!0,Nl.writable=!1}return Nl.writable};function CW(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((i,s)=>{t[s]=i}),t}const bM=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),EW=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",lu=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},kl=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},di=async(e,t)=>{await e.removeItem(t)};class qg{constructor(){this.promise=new qg.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}qg.promiseConstructor=Promise;function ip(e){const t=e.split(".");if(t.length!==3)throw new Q0("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!dW.test(t[i]))throw new Q0("JWT not in base64url format");return{header:JSON.parse(cT(t[0])),payload:JSON.parse(cT(t[1])),signature:wu(t[2]),raw:{header:t[0],payload:t[1]}}}async function AW(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function TW(e,t){return new Promise((i,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){i(l);return}}catch(l){if(!t(o,l)){s(l);return}}})()})}function RW(e){return("0"+e.toString(16)).substr(-2)}function NW(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(t),Array.from(t,RW).join("")}async function kW(e){const n=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(i);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function PW(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await kW(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Jc(e,t,n=!1){const i=NW();let s=i;n&&(s+="/PASSWORD_RECOVERY"),await lu(e,`${t}-code-verifier`,s);const o=await PW(i);return[o,i===o?"plain":"s256"]}const OW=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function MW(e){const t=e.headers.get(Z0);if(!t||!t.match(OW))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function DW(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function LW(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jW=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function eu(e){if(!jW.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qb(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function IW(e,t){return new Proxy(e,{get:(n,i,s)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,s)}return!t.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,i,s)}})}function uT(e){return JSON.parse(JSON.stringify(e))}const Ml=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zW=[502,503,504];async function dT(e){var t;if(!EW(e))throw new X0(Ml(e),0);if(zW.includes(e.status))throw new X0(Ml(e),e.status);let n;try{n=await e.json()}catch(o){throw new jl(Ml(o),o)}let i;const s=MW(e);if(s&&s.getTime()>=gM["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new oT(Ml(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new ms}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new oT(Ml(n),e.status,n.weak_password.reasons);throw new hW(Ml(n),e.status||500,i)}const BW=(e,t,n,i)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),n))};async function nt(e,t,n,i){var s;const o=Object.assign({},i?.headers);o[Z0]||(o[Z0]=gM["2024-01-01"].name),i?.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const l=(s=i?.query)!==null&&s!==void 0?s:{};i?.redirectTo&&(l.redirect_to=i.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await UW(e,t,n+c,{headers:o,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(d):{data:Object.assign({},d),error:null}}async function UW(e,t,n,i,s,o){const l=BW(t,i,s,o);let c;try{c=await e(n,Object.assign({},l))}catch(d){throw console.error(d),new X0(Ml(d),0)}if(c.ok||await dT(c),i?.noResolveJson)return c;try{return await c.json()}catch(d){await dT(d)}}function cr(e){var t;let n=null;$W(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=wW(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:i},error:null}}function fT(e){const t=cr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ta(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function FW(e){return{data:e,error:null}}function VW(e){const{action_link:t,email_otp:n,hashed_token:i,redirect_to:s,verification_type:o}=e,l=ju(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:i,redirect_to:s,verification_type:o},d=Object.assign({},l);return{data:{properties:c,user:d},error:null}}function hT(e){return e}function $W(e){return e.access_token&&e.refresh_token&&e.expires_in}const Gb=["global","local","others"];class HW{constructor({url:t="",headers:n={},fetch:i}){this.url=t,this.headers=n,this.fetch=bM(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Gb[0]){if(Gb.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gb.join(", ")}`);try{return await nt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Ge(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,n={}){try{return await nt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ta})}catch(i){if(Ge(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:n}=t,i=ju(t,["options"]),s=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(s.new_email=i?.newEmail,delete s.newEmail),await nt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:VW,redirectTo:n?.redirectTo})}catch(n){if(Ge(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await nt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ta})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,i,s,o,l,c,d;try{const h={nextPage:null,lastPage:0,total:0},m=await nt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(o=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:hT});if(m.error)throw m.error;const v=await m.json(),b=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(C=>{const E=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(C.split(";")[1].split("=")[1]);h[`${T}Page`]=E}),h.total=parseInt(b)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if(Ge(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){eu(t);try{return await nt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ta})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){eu(t);try{return await nt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ta})}catch(i){if(Ge(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,n=!1){eu(t);try{return await nt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ta})}catch(i){if(Ge(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){eu(t.userId);try{const{data:n,error:i}=await nt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:i}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _deleteFactor(t){eu(t.userId),eu(t.id);try{return{data:await nt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,i,s,o,l,c,d;try{const h={nextPage:null,lastPage:0,total:0},m=await nt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(o=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:hT});if(m.error)throw m.error;const v=await m.json(),b=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(C=>{const E=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(C.split(";")[1].split("=")[1]);h[`${T}Page`]=E}),h.total=parseInt(b)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if(Ge(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await nt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await nt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await nt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Ge(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(t){try{return await nt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await nt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}}function mT(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const tu={debug:!!(globalThis&&yM()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xM extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class pT extends xM{}async function qW(e,t,n){tu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;t>0&&setTimeout(()=>{i.abort(),tu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){tu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{tu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw tu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new pT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(tu.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}catch(s){throw s?.name==="AbortError"?new pT(`Acquiring an exclusive Navigator LockManager lock "${e}" timed out waiting ${t}ms`):s}}function GW(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function _M(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function KW(e){return parseInt(e,16)}function WW(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function YW(e){var t;const{chainId:n,domain:i,expirationTime:s,issuedAt:o=new Date,nonce:l,notBefore:c,requestId:d,resources:h,scheme:m,uri:v,version:b}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const _=_M(e.address),C=m?`${m}://${i}`:i,E=e.statement?`${e.statement}
`:"",T=`${C} wants you to sign in with your Ethereum account:
${_}

${E}`;let k=`URI: ${v}
Version: ${b}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(s&&(k+=`
Expiration Time: ${s.toISOString()}`),c&&(k+=`
Not Before: ${c.toISOString()}`),d&&(k+=`
Request ID: ${d}`),h){let N=`
Resources:`;for(const P of h){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);N+=`
- ${P}`}k+=N}return`${T}
${k}`}class On extends Error{constructor({message:t,code:n,cause:i,name:s}){var o;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(o=s??(i instanceof Error?i.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class ig extends On{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function ZW({error:e,options:t}){var n,i,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new On({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new On({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new On({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new On({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new On({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new On({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new On({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new On({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(wM(l)){if(o.rp.id!==l)return new On({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new On({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new On({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new On({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new On({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function XW({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new On({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new On({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(wM(i)){if(n.rpId!==i)return new On({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new On({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new On({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new On({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class QW{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const JW=new QW;function e7(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:i}=e,s=ju(e,["challenge","user","excludeCredentials"]),o=wu(t).buffer,l=Object.assign(Object.assign({},n),{id:wu(n.id).buffer}),c=Object.assign(Object.assign({},s),{challenge:o,user:l});if(i&&i.length>0){c.excludeCredentials=new Array(i.length);for(let d=0;d<i.length;d++){const h=i[d];c.excludeCredentials[d]=Object.assign(Object.assign({},h),{id:wu(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function t7(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,i=ju(e,["challenge","allowCredentials"]),s=wu(t).buffer,o=Object.assign(Object.assign({},i),{challenge:s});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},c),{id:wu(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function n7(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Bl(new Uint8Array(e.response.attestationObject)),clientDataJSON:Bl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function i7(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,i=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Bl(new Uint8Array(s.authenticatorData)),clientDataJSON:Bl(new Uint8Array(s.clientDataJSON)),signature:Bl(new Uint8Array(s.signature)),userHandle:s.userHandle?Bl(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function wM(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function gT(){var e,t;return!!(fi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function s7(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ig("Browser returned unexpected credential type",t)}:{data:null,error:new ig("Empty credential response",t)}}catch(t){return{data:null,error:ZW({error:t,options:e})}}}async function r7(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ig("Browser returned unexpected credential type",t)}:{data:null,error:new ig("Empty credential response",t)}}catch(t){return{data:null,error:XW({error:t,options:e})}}}const o7={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},a7={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function sg(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),i={};for(const s of e)if(s)for(const o in s){const l=s[o];if(l!==void 0)if(Array.isArray(l))i[o]=l;else if(n(l))i[o]=l;else if(t(l)){const c=i[o];t(c)?i[o]=sg(c,l):i[o]=sg(l)}else i[o]=l}return i}function l7(e,t){return sg(o7,e,t||{})}function c7(e,t){return sg(a7,e,t||{})}class u7{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:i,signal:s},o){var l;try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!c)return{data:null,error:d};const h=s??JW.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;if(!m.name){const v=i;if(v)m.name=`${m.id}:${v}`;else{const _=(await this.client.getUser()).data.user,C=((l=_?.user_metadata)===null||l===void 0?void 0:l.name)||_?.email||_?.id||"User";m.name=`${m.id}:${C}`}}m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=l7(c.webauthn.credential_options.publicKey,o?.create),{data:v,error:b}=await s7({publicKey:m,signal:h});return v?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:b}}case"request":{const m=c7(c.webauthn.credential_options.publicKey,o?.request),{data:v,error:b}=await r7(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:h}));return v?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:b}}}}catch(c){return Ge(c)?{data:null,error:c}:{data:null,error:new jl("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new Pf("rpId is required for WebAuthn authentication")};try{if(!gT())return{data:null,error:new jl("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:i},signal:s},{request:o});if(!l)return{data:null,error:c};const{webauthn:d}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:i,credential_response:d.credential_response}})}catch(l){return Ge(l)?{data:null,error:l}:{data:null,error:new jl("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new Pf("rpId is required for WebAuthn registration")};try{if(!gT())return{data:null,error:new jl("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(m=>{var v;return(v=m.data)===null||v===void 0?void 0:v.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:c};const{data:d,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:s},{create:o});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:i,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(l){return Ge(l)?{data:null,error:l}:{data:null,error:new jl("Unexpected error in register",l)}}}}GW();const d7={url:lW,storageKey:cW,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:uW,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function vT(e,t,n){return await n()}const nu={};class Of{get jwks(){var t,n;return(n=(t=nu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){nu[this.storageKey]=Object.assign(Object.assign({},nu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=nu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){nu[this.storageKey]=Object.assign(Object.assign({},nu[this.storageKey]),{cachedAt:t})}constructor(t){var n,i,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},d7),t);if(this.storageKey=o.storageKey,this.instanceID=(n=Of.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Of.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&fi()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new HW({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=bM(o.fetch),this.lock=o.lock||vT,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&fi()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=qW:this.lock=vT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new u7(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:yM()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=mT(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=mT(this.memoryStorage)),fi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(c){this._debug("#broadcastChannel","error",c)}})}o.skipAutoInitialize||this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${pM}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},i="none";if(fi()&&(n=CW(window.location.href),this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce")),fi()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),pW(o)){const d=(t=o.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:l,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ge(n)?this._returnResult({error:n}):this._returnResult({error:new jl("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,i,s;try{const o=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=t?.options)===null||s===void 0?void 0:s.captchaToken}},xform:cr}),{data:l,error:c}=o;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(o){if(Ge(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var n,i,s;try{let o;if("email"in t){const{email:m,password:v,options:b}=t;let _=null,C=null;this.flowType==="pkce"&&([_,C]=await Jc(this.storage,this.storageKey)),o=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:m,password:v,data:(n=b?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:_,code_challenge_method:C},xform:cr})}else if("phone"in t){const{phone:m,password:v,options:b}=t;o=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:v,data:(i=b?.data)!==null&&i!==void 0?i:{},channel:(s=b?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:cr})}else throw new tp("You must provide either an email or phone number and a password");const{data:l,error:c}=o;if(c||!l)return await di(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(o){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ge(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:c}=t;n=await nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:fT})}else if("phone"in t){const{phone:o,password:l,options:c}=t;n=await nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:fT})}else throw new tp("You must provide either an email or phone number and a password");const{data:i,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!i||!i.session||!i.user){const o=new Qc;return this._returnResult({data:{user:null,session:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,i,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,i,s,o,l,c,d,h,m,v,b;let _,C;if("message"in t)_=t.message,C=t.signature;else{const{chain:E,wallet:T,statement:k,options:N}=t;let P;if(fi())if(typeof T=="object")P=T;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")P=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=T}const O=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href),j=await P.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=_M(j[0]);let z=(i=N?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!z){const $=await P.request({method:"eth_chainId"});z=KW($)}const I={domain:O.host,address:V,statement:k,uri:O.href,version:"1",chainId:z,nonce:(s=N?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(l=(o=N?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=N?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=N?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(h=N?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(m=N?.signInWithEthereum)===null||m===void 0?void 0:m.resources};_=YW(I),C=await P.request({method:"personal_sign",params:[WW(_),V]})}try{const{data:E,error:T}=await nt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:C},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:cr});if(T)throw T;if(!E||!E.session||!E.user){const k=new Qc;return this._returnResult({data:{user:null,session:null},error:k})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:T})}catch(E){if(Ge(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(t){var n,i,s,o,l,c,d,h,m,v,b,_;let C,E;if("message"in t)C=t.message,E=t.signature;else{const{chain:T,wallet:k,statement:N,options:P}=t;let O;if(fi())if(typeof k=="object")O=k;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))O=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=k}const j=new URL((n=P?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in O&&O.signIn){const V=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P?.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),N?{statement:N}:null));let z;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")z=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)z=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)C=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),E=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${j.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(i=P?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=P?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((l=P?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((c=P?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((d=P?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((h=P?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((v=(m=P?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||v===void 0)&&v.length?["Resources",...P.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const V=await O.signMessage(new TextEncoder().encode(C),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=V}}try{const{data:T,error:k}=await nt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:Bl(E)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:cr});if(k)throw k;if(!T||!T.session||!T.user){const N=new Qc;return this._returnResult({data:{user:null,session:null},error:N})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:k})}catch(T){if(Ge(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(t){const n=await kl(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(n??"").split("/");try{if(!i&&this.flowType==="pkce")throw new gW;const{data:o,error:l}=await nt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:cr});if(await di(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!o||!o.session||!o.user){const c=new Qc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:l})}catch(o){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ge(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:n,provider:i,token:s,access_token:o,nonce:l}=t,c=await nt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:cr}),{data:d,error:h}=c;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d||!d.session||!d.user){const m=new Qc;return this._returnResult({data:{user:null,session:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:h})}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,i,s,o,l;try{if("email"in t){const{email:c,options:d}=t;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Jc(this.storage,this.storageKey));const{error:v}=await nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=d?.data)!==null&&n!==void 0?n:{},create_user:(i=d?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:h,code_challenge_method:m},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in t){const{phone:c,options:d}=t,{data:h,error:m}=await nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=d?.data)!==null&&s!==void 0?s:{},create_user:(o=d?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(l=d?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:m})}throw new tp("You must provide either an email or phone number.")}catch(c){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ge(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var n,i;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:l,error:c}=await nt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:cr});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,h=l.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(s){if(Ge(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,i,s,o,l;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Jc(this.storage,this.storageKey));const h=await nt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=t?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:FW});return!((o=h.data)===null||o===void 0)&&o.url&&fi()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(c){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ge(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;if(i)throw i;if(!n)throw new ms;const{error:s}=await nt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Ge(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:i,type:s,options:o}=t,{error:l}=await nt(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:i,type:s,options:o}=t,{data:l,error:c}=await nt(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:c})}throw new tp("You must provide either an email or phone number and a type")}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await kl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<Vb:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const l=await kl(this.userStorage,this.storageKey+"-user");l?.user?t.user=l.user:t.user=qb()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=IW(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ta}):await this._useSession(async n=>{var i,s,o;const{data:l,error:c}=n;if(c)throw c;return!(!((i=l.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ms}:await nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Ta})})}catch(n){if(Ge(n))return $b(n)&&(await this._removeSession(),await di(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async i=>{const{data:s,error:o}=i;if(o)throw o;if(!s.session)throw new ms;const l=s.session;let c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=await Jc(this.storage,this.storageKey));const{data:h,error:m}=await nt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:Ta});if(m)throw m;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(i){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ge(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ms;const n=Date.now()/1e3;let i=n,s=!0,o=null;const{payload:l}=ip(t.access_token);if(l.exp&&(i=l.exp,s=i<=n),s){const{data:c,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:d}=await this._getUser(t.access_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});o={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(Ge(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var i;if(!t){const{data:l,error:c}=n;if(c)throw c;t=(i=l.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new ms;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!fi())throw new np("No browser detected.");if(t.error||t.error_description||t.error_code)throw new np(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new rT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new np("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new rT("No code detected.");const{data:N,error:P}=await this._exchangeCodeForSession(t.code);if(P)throw P;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:o,refresh_token:l,expires_in:c,expires_at:d,token_type:h}=t;if(!o||!c||!l||!h)throw new np("No session defined in URL");const m=Math.round(Date.now()/1e3),v=parseInt(c);let b=m+v;d&&(b=parseInt(d));const _=b-m;_*1e3<=au&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);const C=b-v;m-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,b,m):m-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,b,m);const{data:E,error:T}=await this._getUser(o);if(T)throw T;const k={provider_token:i,provider_refresh_token:s,access_token:o,expires_in:v,expires_at:b,refresh_token:l,token_type:h,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:t.type},error:null})}catch(i){if(Ge(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await kl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o&&!$b(o))return this._returnResult({error:o});const l=(i=s.session)===null||i===void 0?void 0:i.access_token;if(l){const{error:c}=await this.admin.signOut(l,t);if(c&&!(mW(c)&&(c.status===404||c.status===401||c.status===403)||$b(c)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await di(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=SW(),i={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async n=>{var i,s;try{const{data:{session:o},error:l}=n;if(l)throw l;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await Jc(this.storage,this.storageKey,!0));try{return await nt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ge(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:i,error:s}=await this._useSession(async o=>{var l,c,d,h,m;const{data:v,error:b}=o;if(b)throw b;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await nt(this.fetch,"GET",_,{headers:this.headers,jwt:(m=(h=v.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:void 0})});if(s)throw s;return fi()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:t.provider,url:i?.url},error:null})}catch(i){if(Ge(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var i;try{const{error:s,data:{session:o}}=n;if(s)throw s;const{options:l,provider:c,token:d,access_token:h,nonce:m}=t,v=await nt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=o?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:d,access_token:h,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:cr}),{data:b,error:_}=v;return _?this._returnResult({data:{user:null,session:null},error:_}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Qc}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:_}))}catch(s){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ge(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var i,s;const{data:o,error:l}=n;if(l)throw l;return await nt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await TW(async s=>(s>0&&await AW(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await nt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:cr})),(s,o)=>{const l=200*Math.pow(2,s);return o&&Hb(o)&&Date.now()+l-i<au})}catch(i){if(this._debug(n,"error",i),Ge(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",i),fi()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const s=await kl(this.storage,this.storageKey);if(s&&this.userStorage){let l=await kl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await lu(this.userStorage,this.storageKey+"-user",l)),s.user=(t=l?.user)!==null&&t!==void 0?t:qb()}else if(s&&!s.user&&!s.user){const l=await kl(this.storage,this.storageKey+"-user");l&&l?.user?(s.user=l.user,await di(this.storage,this.storageKey+"-user"),await lu(this.storage,this.storageKey,s)):s.user=qb()}if(this._debug(i,"session from storage",s),!this._isValidSession(s)){this._debug(i,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Vb;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${Vb}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),Hb(l)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(s.access_token);!c&&l?.user?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(i,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(i,"error",s),console.error(s);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var n,i;if(!t)throw new ms;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new qg;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new ms;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={data:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(s,"error",o),Ge(o)){const l={data:null,error:o};return Hb(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,i=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(d){o.push(d)}});if(await Promise.all(l),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await di(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await lu(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=uT(s);await lu(this.storage,this.storageKey,o)}else{const s=uT(n);await lu(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await di(this.storage,this.storageKey),await di(this.storage,this.storageKey+"-code-verifier"),await di(this.storage,this.storageKey+"-user"),this.userStorage&&await di(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&fi()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),au);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-t)/au);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${au}ms, refresh threshold is ${Y0} ticks`),s<=Y0&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof xM)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fi()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,i){const s=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,l]=await Jc(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(c.toString())}if(i?.queryParams){const o=new URLSearchParams(i.queryParams);s.push(o.toString())}return i?.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;return o?this._returnResult({data:null,error:o}):await nt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var i,s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:h}=await nt(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&d.type==="totp"&&(!((s=d?.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?n7(t.webauthn.credential_response):i7(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:d}=await nt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=await nt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:e7(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:t7(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n?.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,i,s,o;if(t)try{const{payload:_}=ip(t);let C=null;_.aal&&(C=_.aal);let E=C;const{data:{user:T},error:k}=await this.getUser(t);if(k)return this._returnResult({data:null,error:k});((i=(n=T?.factors)===null||n===void 0?void 0:n.filter(O=>O.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(E="aal2");const P=_.amr||[];return{data:{currentLevel:C,nextLevel:E,currentAuthenticationMethods:P},error:null}}catch(_){if(Ge(_))return this._returnResult({data:null,error:_});throw _}const{data:{session:l},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=ip(l.access_token);let h=null;d.aal&&(h=d.aal);let m=h;((o=(s=l.user.factors)===null||s===void 0?void 0:s.filter(_=>_.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(m="aal2");const b=d.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:b},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?await nt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new ms})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async i=>{const{data:{session:s},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new ms});const l=await nt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&fi()&&!n?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(i){if(Ge(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,n){try{return await this._useSession(async i=>{const{data:{session:s},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new ms});const l=await nt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&fi()&&!n?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(i){if(Ge(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;return i?this._returnResult({data:null,error:i}):n?await nt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ms})})}catch(t){if(Ge(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?(await nt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ms})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let i=n.keys.find(c=>c.kid===t);if(i)return i;const s=Date.now();if(i=this.jwks.keys.find(c=>c.kid===t),i&&this.jwks_cached_at+fW>s)return i;const{data:o,error:l}=await nt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,i=o.keys.find(c=>c.kid===t),!i)?null:i}async getClaims(t,n={}){try{let i=t;if(!i){const{data:_,error:C}=await this.getSession();if(C||!_.session)return this._returnResult({data:null,error:C});i=_.session.access_token}const{header:s,payload:o,signature:l,raw:{header:c,payload:d}}=ip(i);n?.allowExpired||DW(o.exp);const h=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!h){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:o,header:s,signature:l},error:null}}const m=LW(s.alg),v=await crypto.subtle.importKey("jwk",h,m,!0,["verify"]);if(!await crypto.subtle.verify(m,v,l,_W(`${c}.${d}`)))throw new Q0("Invalid JWT signature");return{data:{claims:o,header:s,signature:l},error:null}}catch(i){if(Ge(i))return this._returnResult({data:null,error:i});throw i}}}Of.nextInstanceID={};const f7=Of,h7="2.97.0";let tf="";typeof Deno<"u"?tf="deno":typeof document<"u"?tf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?tf="react-native":tf="node";const m7={"X-Client-Info":`supabase-js-${tf}/${h7}`},p7={headers:m7},g7={schema:"public"},v7={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},y7={};function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}function b7(e,t){if(Mf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Mf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x7(e){var t=b7(e,"string");return Mf(t)=="symbol"?t:t+""}function _7(e,t,n){return(t=x7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yT(Object(n),!0).forEach(function(i){_7(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yT(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}const w7=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),S7=()=>Headers,C7=(e,t,n)=>{const i=w7(n),s=S7();return async(o,l)=>{var c;const d=(c=await t())!==null&&c!==void 0?c:e;let h=new s(l?.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),i(o,bn(bn({},l),{},{headers:h}))}};function E7(e){return e.endsWith("/")?e:e+"/"}function A7(e,t){var n,i;const{db:s,auth:o,realtime:l,global:c}=e,{db:d,auth:h,realtime:m,global:v}=t,b={db:bn(bn({},d),s),auth:bn(bn({},h),o),realtime:bn(bn({},m),l),storage:{},global:bn(bn(bn({},v),c),{},{headers:bn(bn({},(n=v?.headers)!==null&&n!==void 0?n:{}),(i=c?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return e.accessToken?b.accessToken=e.accessToken:delete b.accessToken,b}function T7(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(E7(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var R7=class extends f7{constructor(e){super(e)}},N7=class{constructor(e,t,n){var i,s;this.supabaseUrl=e,this.supabaseKey=t;const o=T7(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:g7,realtime:y7,auth:bn(bn({},v7),{},{storageKey:l}),global:p7},d=A7(n??{},c);if(this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(m,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=d.auth)!==null&&h!==void 0?h:{},this.headers,d.global.fetch)}this.fetch=C7(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(bn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new m9(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch,timeout:d.db.timeout,urlLengthLimit:d.db.urlLengthLimit}),this.storage=new aW(this.storageUrl.href,this.headers,this.fetch,n?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new o9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:i}=await e.auth.getSession();return(t=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:o,flowType:l,lock:c,debug:d,throwOnError:h},m,v){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new R7({url:this.authUrl.href,headers:bn(bn({},b),m),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,userStorage:s,flowType:l,lock:c,debug:d,throwOnError:h,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new P9(this.realtimeUrl.href,bn(bn({},e),{},{params:bn(bn({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const k7=(e,t,n)=>new N7(e,t,n);function P7(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}P7()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const O7="https://jvjirocnsucsapwnjfpe.supabase.co",M7="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp2amlyb2Nuc3Vjc2Fwd25qZnBlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUxOTQwODksImV4cCI6MjA3MDc3MDA4OX0.eQESQzBSt0_gciw0LN5zByYGBGugi-NuCChs-1mMVoA",Dn=k7(O7,M7,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:window.localStorage,flowType:"pkce"}}),SM=500,CM=700,D7=9e4,L7=4e3;function j7(){const e=window.screenX+(window.outerWidth-SM)/2,t=window.screenY+(window.outerHeight-CM)/2;return{left:e,top:t}}function I7(){return new Promise(e=>{let t=null;const n=setTimeout(()=>{t&&t.close(),console.warn(" Timeout aguardando OAuth (90s)"),e({success:!1,error:"Tempo limite de autenticao excedido"})},D7);try{t=new BroadcastChannel("supabase-auth"),t.onmessage=i=>{i.data==="oauth_complete"&&(clearTimeout(n),t&&t.close(),e({success:!0}))}}catch(i){clearTimeout(n),console.warn(" BroadcastChannel no disponvel, usando timeout fixo",i),setTimeout(()=>{e({success:!0})},5e3)}})}function z7(e){const{left:t,top:n}=j7();return window.open(e,"oauth-popup",`width=${SM},height=${CM},left=${t},top=${n},toolbar=no,menubar=no,scrollbars=yes,resizable=yes`)}async function B7(e="google"){try{const{data:t,error:n}=await Dn.auth.signInWithOAuth({provider:e,options:{redirectTo:`${window.location.origin}/treevera/auth-callback`,skipBrowserRedirect:!0,queryParams:{access_type:"offline",prompt:"consent"}}});if(n)throw n;if(!t?.url)throw new Error("URL de autenticao no foi gerada");if(!z7(t.url))throw new Error("No foi possvel abrir a janela. Verifique o bloqueador de pop-ups.");const s=await I7();if(!s.success)throw new Error(s.error||"Falha na autenticao");await new Promise(c=>setTimeout(c,L7));let o=null;const l=10;for(let c=1;c<=l;c++){const{data:d,error:h}=await Dn.auth.getSession();if(h&&(console.error(" Erro ao buscar sesso:",h),c===l))throw h;if(d.session){o=d;break}c<l&&await new Promise(m=>setTimeout(m,1e3))}if(!o?.session)throw new Error("Sesso no foi estabelecida aps autenticao");return{user:o.session.user,session:o.session}}catch(t){throw console.error(" Erro no login OAuth:",t),t}}async function U7(){try{const{error:e}=await Dn.auth.signOut();if(e)throw e;return{success:!0}}catch(e){throw console.error(" Erro no logout:",e),e}}async function F7(){try{const{data:e,error:t}=await Dn.auth.getSession();if(t)throw t;return e.session}catch(e){return console.error(" Erro ao obter sesso:",e),null}}const V7=async e=>{const t=e.app_metadata?.provider||e.identities?.[0]?.provider||(e.email?.includes("@")?"email":"unknown"),n={id:e.id,email:e.email,name:e.user_metadata.full_name||e.email?.split("@")[0]||"Usurio",avatar_url:e.user_metadata.avatar_url||null,created_at:e.created_at,provider:t,game_info:{activities:[{title:"Conta criada com sucesso!",description:"Bem-vindo ao mundo da taxonomia",date:e.created_at}],seen_species:[]}},{data:i,error:s}=await Dn.from("users").upsert(n,{onConflict:"id"}).select().single();if(s)throw console.error("Error creating user:",s),s;if(!i)throw new Error("createUser: upsert retornou vazio");return JSON.parse(JSON.stringify(i))},$7=1e4;function V_(){const e=Mt(rt.session),t=Mt(rt.userDb),n=Mt(rt.loginStatus),i=Mt(rt.logoutStatus),s=Mt(rt.error),o=Mt(rt.initialized),l=Mt(rt.lastAuthCheck),c=Me(rt.session),d=Me(rt.userDb),h=Me(rt.isAuthenticated),m=Me(rt.loginStatus),v=Me(rt.logoutStatus),b=Me(rt.initialized),_=x.useCallback(async N=>{try{const{data:P,error:O}=await Dn.from("users").select("*").eq("id",N).single();if(O){if(O.code==="PGRST116"){const{data:j}=await Dn.auth.getUser();if(j.user)try{return await V7(j.user)}catch(V){return console.error(" Erro ao criar usurio no banco:",V),null}}return console.error(" Erro ao buscar userDb:",O),null}return P}catch(P){return console.error(" Erro ao buscar userDb:",P),null}},[]),C=x.useCallback(async()=>{const N=new Promise(O=>{setTimeout(()=>{console.warn(" Timeout na inicializao"),O(null)},$7)}),P=(async()=>{try{const O=await F7();if(O?.user){e(O);const j=await _(O.user.id);j?t(j):(console.warn(" UserDb no encontrado"),t(null))}else e(null),t(null);return O}catch(O){return console.error(" Erro ao inicializar:",O),e(null),t(null),null}})();await Promise.race([P,N]),l(Date.now()),o(!0)},[e,t,l,o,_]),E=x.useCallback(async(N="google")=>{try{n("loading"),s(null);const{user:P,session:O}=await B7(N);e(O);const j=await _(P.id);if(j)return t(j),n("success"),{success:!0,user:j};throw new Error("No foi possvel carregar os dados do usurio")}catch(P){const O=P instanceof Error?P.message:"Erro desconhecido ao fazer login";return s({message:O}),n("error"),console.error(" Erro no login:",P),{success:!1,error:O}}finally{setTimeout(()=>n("idle"),2e3)}},[n,s,e,t,_]),T=x.useCallback(async()=>{try{return i("loading"),s(null),await U7(),e(null),t(null),i("success"),{success:!0}}catch(N){const P=N instanceof Error?N.message:"Erro desconhecido ao fazer logout";return s({message:P}),i("error"),console.error(" Erro no logout:",N),{success:!1,error:P}}finally{setTimeout(()=>i("idle"),2e3)}},[i,s,e,t]),k=x.useCallback(async()=>{if(!c?.user?.id)return null;const N=await _(c.user.id);return N&&t(N),N},[c,_,t]);return x.useEffect(()=>{b||C();const{data:{subscription:N}}=Dn.auth.onAuthStateChange(async(P,O)=>{switch(P){case"SIGNED_IN":case"TOKEN_REFRESHED":O?.user&&e(O);break;case"SIGNED_OUT":e(null),t(null);break}});return()=>{N.unsubscribe()}},[b,C,e,t]),{session:c,userDb:d,isAuthenticated:h,initialized:b,loginStatus:m,logoutStatus:v,authError:Me(rt.error),isLoggingIn:m==="loading",isLoggingOut:v==="loading",isInitializing:!b,login:E,logout:T,refreshUserDb:k,refreshSession:C}}function rg(e,[t,n]){return Math.min(n,Math.max(t,e))}function H7(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,q7(s,...t)]}function q7(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function EM(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function G7(e){const t=K7(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(Y7);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function K7(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=X7(s),c=Z7(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var W7=Symbol("radix.slottable");function Y7(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===W7}function Z7(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function X7(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Q7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],rh=Q7.reduce((e,t)=>{const n=G7(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),AM=["PageUp","PageDown"],TM=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],RM={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},zu="Slider",[J0,J7,eY]=Tg(zu),[NM]=H7(zu,[eY]),[tY,Gg]=NM(zu),kM=x.forwardRef((e,t)=>{const{name:n,min:i=0,max:s=100,step:o=1,orientation:l="horizontal",disabled:c=!1,minStepsBetweenThumbs:d=0,defaultValue:h=[i],value:m,onValueChange:v=()=>{},onValueCommit:b=()=>{},inverted:_=!1,form:C,...E}=e,T=x.useRef(new Set),k=x.useRef(0),P=l==="horizontal"?nY:iY,[O=[],j]=Do({prop:m,defaultProp:h,onChange:K=>{[...T.current][k.current]?.focus(),v(K)}}),V=x.useRef(O);function z(K){const Y=lY(O,K);Z(K,Y)}function I(K){Z(K,k.current)}function $(){const K=V.current[k.current];O[k.current]!==K&&b(O)}function Z(K,Y,{commit:Q}={commit:!1}){const ie=fY(o),ge=hY(Math.round((K-i)/o)*o+i,ie),q=rg(ge,[i,s]);j((W=[])=>{const ee=oY(W,q,Y);if(dY(ee,d*o)){k.current=ee.indexOf(q);const de=String(ee)!==String(W);return de&&Q&&b(ee),de?ee:W}else return W})}return y.jsx(tY,{scope:e.__scopeSlider,name:n,disabled:c,min:i,max:s,valueIndexToChangeRef:k,thumbs:T.current,values:O,orientation:l,form:C,children:y.jsx(J0.Provider,{scope:e.__scopeSlider,children:y.jsx(J0.Slot,{scope:e.__scopeSlider,children:y.jsx(P,{"aria-disabled":c,"data-disabled":c?"":void 0,...E,ref:t,onPointerDown:Ie(E.onPointerDown,()=>{c||(V.current=O)}),min:i,max:s,inverted:_,onSlideStart:c?void 0:z,onSlideMove:c?void 0:I,onSlideEnd:c?void 0:$,onHomeKeyDown:()=>!c&&Z(i,0,{commit:!0}),onEndKeyDown:()=>!c&&Z(s,O.length-1,{commit:!0}),onStepKeyDown:({event:K,direction:Y})=>{if(!c){const ge=AM.includes(K.key)||K.shiftKey&&TM.includes(K.key)?10:1,q=k.current,W=O[q],ee=o*ge*Y;Z(W+ee,q,{commit:!0})}}})})})})});kM.displayName=zu;var[PM,OM]=NM(zu,{startEdge:"left",endEdge:"right",size:"width",direction:1}),nY=x.forwardRef((e,t)=>{const{min:n,max:i,dir:s,inverted:o,onSlideStart:l,onSlideMove:c,onSlideEnd:d,onStepKeyDown:h,...m}=e,[v,b]=x.useState(null),_=St(t,P=>b(P)),C=x.useRef(void 0),E=Rg(s),T=E==="ltr",k=T&&!o||!T&&o;function N(P){const O=C.current||v.getBoundingClientRect(),j=[0,O.width],z=$_(j,k?[n,i]:[i,n]);return C.current=O,z(P-O.left)}return y.jsx(PM,{scope:e.__scopeSlider,startEdge:k?"left":"right",endEdge:k?"right":"left",direction:k?1:-1,size:"width",children:y.jsx(MM,{dir:E,"data-orientation":"horizontal",...m,ref:_,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:P=>{const O=N(P.clientX);l?.(O)},onSlideMove:P=>{const O=N(P.clientX);c?.(O)},onSlideEnd:()=>{C.current=void 0,d?.()},onStepKeyDown:P=>{const j=RM[k?"from-left":"from-right"].includes(P.key);h?.({event:P,direction:j?-1:1})}})})}),iY=x.forwardRef((e,t)=>{const{min:n,max:i,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...h}=e,m=x.useRef(null),v=St(t,m),b=x.useRef(void 0),_=!s;function C(E){const T=b.current||m.current.getBoundingClientRect(),k=[0,T.height],P=$_(k,_?[i,n]:[n,i]);return b.current=T,P(E-T.top)}return y.jsx(PM,{scope:e.__scopeSlider,startEdge:_?"bottom":"top",endEdge:_?"top":"bottom",size:"height",direction:_?1:-1,children:y.jsx(MM,{"data-orientation":"vertical",...h,ref:v,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:E=>{const T=C(E.clientY);o?.(T)},onSlideMove:E=>{const T=C(E.clientY);l?.(T)},onSlideEnd:()=>{b.current=void 0,c?.()},onStepKeyDown:E=>{const k=RM[_?"from-bottom":"from-top"].includes(E.key);d?.({event:E,direction:k?-1:1})}})})}),MM=x.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:i,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:l,onEndKeyDown:c,onStepKeyDown:d,...h}=e,m=Gg(zu,n);return y.jsx(rh.span,{...h,ref:t,onKeyDown:Ie(e.onKeyDown,v=>{v.key==="Home"?(l(v),v.preventDefault()):v.key==="End"?(c(v),v.preventDefault()):AM.concat(TM).includes(v.key)&&(d(v),v.preventDefault())}),onPointerDown:Ie(e.onPointerDown,v=>{const b=v.target;b.setPointerCapture(v.pointerId),v.preventDefault(),m.thumbs.has(b)?b.focus():i(v)}),onPointerMove:Ie(e.onPointerMove,v=>{v.target.hasPointerCapture(v.pointerId)&&s(v)}),onPointerUp:Ie(e.onPointerUp,v=>{const b=v.target;b.hasPointerCapture(v.pointerId)&&(b.releasePointerCapture(v.pointerId),o(v))})})}),DM="SliderTrack",LM=x.forwardRef((e,t)=>{const{__scopeSlider:n,...i}=e,s=Gg(DM,n);return y.jsx(rh.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...i,ref:t})});LM.displayName=DM;var ex="SliderRange",jM=x.forwardRef((e,t)=>{const{__scopeSlider:n,...i}=e,s=Gg(ex,n),o=OM(ex,n),l=x.useRef(null),c=St(t,l),d=s.values.length,h=s.values.map(b=>BM(b,s.min,s.max)),m=d>1?Math.min(...h):0,v=100-Math.max(...h);return y.jsx(rh.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...i,ref:c,style:{...e.style,[o.startEdge]:m+"%",[o.endEdge]:v+"%"}})});jM.displayName=ex;var tx="SliderThumb",IM=x.forwardRef((e,t)=>{const n=J7(e.__scopeSlider),[i,s]=x.useState(null),o=St(t,c=>s(c)),l=x.useMemo(()=>i?n().findIndex(c=>c.ref.current===i):-1,[n,i]);return y.jsx(sY,{...e,ref:o,index:l})}),sY=x.forwardRef((e,t)=>{const{__scopeSlider:n,index:i,name:s,...o}=e,l=Gg(tx,n),c=OM(tx,n),[d,h]=x.useState(null),m=St(t,N=>h(N)),v=d?l.form||!!d.closest("form"):!0,b=Dk(d),_=l.values[i],C=_===void 0?0:BM(_,l.min,l.max),E=aY(i,l.values.length),T=b?.[c.size],k=T?cY(T,C,c.direction):0;return x.useEffect(()=>{if(d)return l.thumbs.add(d),()=>{l.thumbs.delete(d)}},[d,l.thumbs]),y.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${C}% + ${k}px)`},children:[y.jsx(J0.ItemSlot,{scope:e.__scopeSlider,children:y.jsx(rh.span,{role:"slider","aria-label":e["aria-label"]||E,"aria-valuemin":l.min,"aria-valuenow":_,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...o,ref:m,style:_===void 0?{display:"none"}:e.style,onFocus:Ie(e.onFocus,()=>{l.valueIndexToChangeRef.current=i})})}),v&&y.jsx(zM,{name:s??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:_},i)]})});IM.displayName=tx;var rY="RadioBubbleInput",zM=x.forwardRef(({__scopeSlider:e,value:t,...n},i)=>{const s=x.useRef(null),o=St(s,i),l=EM(t);return x.useEffect(()=>{const c=s.current;if(!c)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&m){const v=new Event("input",{bubbles:!0});m.call(c,t),c.dispatchEvent(v)}},[l,t]),y.jsx(rh.input,{style:{display:"none"},...n,ref:o,defaultValue:t})});zM.displayName=rY;function oY(e=[],t,n){const i=[...e];return i[n]=t,i.sort((s,o)=>s-o)}function BM(e,t,n){const o=100/(n-t)*(e-t);return rg(o,[0,100])}function aY(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function lY(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),i=Math.min(...n);return n.indexOf(i)}function cY(e,t,n){const i=e/2,o=$_([0,50],[0,i]);return(i-o(t)*n)*n}function uY(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function dY(e,t){if(t>0){const n=uY(e);return Math.min(...n)>=t}return!0}function $_(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(n-e[0])}}function fY(e){return(String(e).split(".")[1]||"").length}function hY(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}const UM=FK("audio.settings",{muted:!1,volume:.7}),FM=dt(!1),H_=dt(e=>{const t=e(rt.userDb);return t?t.game_info?.settings?.showEmptyNodes??!1:e(FM)}),mY=async(e,t)=>{try{const{data:n,error:i}=await Dn.from("users").update({game_info:{...e.game_info,settings:t}}).eq("id",e.id).select().single();return i?(console.error("Error updating user settings:",i),null):n}catch(n){return console.error("Unexpected error updating user settings:",n),null}},pY=()=>{const e=Me(H_),[t,n]=qs(rt.userDb),[,i]=qs(FM),s=Ei();return{showEmptyNodes:e,toggleShowEmptyNodes:async()=>{const l=!e;if(s({to:"/"}),!t){i(l);return}const c={...t.game_info.settings,showEmptyNodes:l};n({...t,game_info:{...t.game_info,settings:c}}),await mY(t,c)}}};function gY(e,t){const n=x.createContext(t),i=o=>{const{children:l,...c}=o,d=x.useMemo(()=>c,Object.values(c));return y.jsx(n.Provider,{value:d,children:l})};i.displayName=e+"Provider";function s(o){const l=x.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[i,s]}function vY(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,yY(s,...t)]}function yY(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function VM(e){const t=bY(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(_Y);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function bY(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=SY(s),c=wY(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xY=Symbol("radix.slottable");function _Y(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xY}function wY(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function SY(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var CY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],oh=CY.reduce((e,t)=>{const n=VM(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),Kg="Dialog",[$M]=vY(Kg),[EY,wr]=$M(Kg),HM=e=>{const{__scopeDialog:t,children:n,open:i,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,c=x.useRef(null),d=x.useRef(null),[h,m]=Do({prop:i,defaultProp:s??!1,onChange:o,caller:Kg});return y.jsx(EY,{scope:t,triggerRef:c,contentRef:d,contentId:xs(),titleId:xs(),descriptionId:xs(),open:h,onOpenChange:m,onOpenToggle:x.useCallback(()=>m(v=>!v),[m]),modal:l,children:n})};HM.displayName=Kg;var qM="DialogTrigger",GM=x.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=wr(qM,n),o=St(t,s.triggerRef);return y.jsx(oh.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":K_(s.open),...i,ref:o,onClick:Ie(e.onClick,s.onOpenToggle)})});GM.displayName=qM;var q_="DialogPortal",[AY,KM]=$M(q_,{forceMount:void 0}),WM=e=>{const{__scopeDialog:t,forceMount:n,children:i,container:s}=e,o=wr(q_,t);return y.jsx(AY,{scope:t,forceMount:n,children:x.Children.map(i,l=>y.jsx(_r,{present:n||o.open,children:y.jsx(Zf,{asChild:!0,container:s,children:l})}))})};WM.displayName=q_;var og="DialogOverlay",YM=x.forwardRef((e,t)=>{const n=KM(og,e.__scopeDialog),{forceMount:i=n.forceMount,...s}=e,o=wr(og,e.__scopeDialog);return o.modal?y.jsx(_r,{present:i||o.open,children:y.jsx(RY,{...s,ref:t})}):null});YM.displayName=og;var TY=VM("DialogOverlay.RemoveScroll"),RY=x.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=wr(og,n);return y.jsx(jg,{as:TY,allowPinchZoom:!0,shards:[s.contentRef],children:y.jsx(oh.div,{"data-state":K_(s.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),Zl="DialogContent",ZM=x.forwardRef((e,t)=>{const n=KM(Zl,e.__scopeDialog),{forceMount:i=n.forceMount,...s}=e,o=wr(Zl,e.__scopeDialog);return y.jsx(_r,{present:i||o.open,children:o.modal?y.jsx(NY,{...s,ref:t}):y.jsx(kY,{...s,ref:t})})});ZM.displayName=Zl;var NY=x.forwardRef((e,t)=>{const n=wr(Zl,e.__scopeDialog),i=x.useRef(null),s=St(t,n.contentRef,i);return x.useEffect(()=>{const o=i.current;if(o)return w_(o)},[]),y.jsx(XM,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(e.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Ie(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&o.preventDefault()}),onFocusOutside:Ie(e.onFocusOutside,o=>o.preventDefault())})}),kY=x.forwardRef((e,t)=>{const n=wr(Zl,e.__scopeDialog),i=x.useRef(!1),s=x.useRef(!1);return y.jsx(XM,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(i.current||n.triggerRef.current?.focus(),o.preventDefault()),i.current=!1,s.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(i.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;n.triggerRef.current?.contains(l)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),XM=x.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,...l}=e,c=wr(Zl,n),d=x.useRef(null),h=St(t,d);return u_(),y.jsxs(y.Fragment,{children:[y.jsx(Ng,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:s,onUnmountAutoFocus:o,children:y.jsx(Wf,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":K_(c.open),...l,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),y.jsxs(y.Fragment,{children:[y.jsx(OY,{titleId:c.titleId}),y.jsx(DY,{contentRef:d,descriptionId:c.descriptionId})]})]})}),G_="DialogTitle",QM=x.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=wr(G_,n);return y.jsx(oh.h2,{id:s.titleId,...i,ref:t})});QM.displayName=G_;var JM="DialogDescription",PY=x.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=wr(JM,n);return y.jsx(oh.p,{id:s.descriptionId,...i,ref:t})});PY.displayName=JM;var eD="DialogClose",tD=x.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=wr(eD,n);return y.jsx(oh.button,{type:"button",...i,ref:t,onClick:Ie(e.onClick,()=>s.onOpenChange(!1))})});tD.displayName=eD;function K_(e){return e?"open":"closed"}var nD="DialogTitleWarning",[oce,iD]=gY(nD,{contentName:Zl,titleName:G_,docsSlug:"dialog"}),OY=({titleId:e})=>{const t=iD(nD),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},MY="DialogDescriptionWarning",DY=({contentRef:e,descriptionId:t})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${iD(MY).contentName}}.`;return x.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(i))},[i,e,t]),null},sD=HM,rD=GM,oD=WM,LY=YM,aD=ZM,lD=QM,cD=tD;const W_=sD,jY=rD,IY=oD,zY=({className:e,...t})=>y.jsx(LY,{className:Ze("fixed inset-0 z-50 bg-black/60 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}),Y_=({className:e,children:t,...n})=>y.jsxs(IY,{children:[y.jsx(zY,{}),y.jsxs(aD,{className:Ze("bg-background fixed top-[50%] left-[50%] z-50 max-h-[90dvh] w-full max-w-lg -translate-x-1/2 -translate-y-1/2 overflow-hidden rounded-2xl border shadow-xl duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95",e),...n,children:[t,y.jsxs(cD,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-none disabled:pointer-events-none",children:[y.jsx(Ia,{className:"size-4"}),y.jsx("span",{className:"sr-only",children:"Close"})]})]})]}),Z_=({className:e,...t})=>y.jsx("div",{className:Ze("flex flex-col gap-1.5 p-6 pb-4",e),...t}),X_=({className:e,...t})=>y.jsx(lD,{className:Ze("text-lg leading-none font-semibold tracking-tight",e),...t}),bT=({checked:e,onCheckedChange:t})=>y.jsx("button",{role:"switch","aria-checked":e,onClick:t,className:`relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 ${e?"bg-green-600":"bg-input"}`,children:y.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow-lg transition-transform ${e?"translate-x-5":"translate-x-0"}`})}),BY=({open:e,onOpenChange:t})=>{const n=Me(rt.isAuthenticated),{showEmptyNodes:i,toggleShowEmptyNodes:s}=pY(),[o,l]=qs(UM);return y.jsx(W_,{open:e,onOpenChange:t,children:y.jsxs(Y_,{children:[y.jsx(Z_,{children:y.jsx(X_,{children:"Configuraes"})}),y.jsxs("div",{className:"divide-y",children:[y.jsxs("section",{className:"space-y-3 p-6",children:[y.jsx("h3",{className:"text-sm font-semibold",children:"rvore Taxonmica"}),y.jsxs("div",{className:"flex items-start justify-between gap-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("p",{className:"text-sm font-medium",children:"Exibir ns sem descendentes"}),y.jsxs("p",{className:"text-muted-foreground text-xs leading-relaxed",children:["Por padro,  exibido apenas ns que possuem descendentes. Mantenha ",y.jsx("strong",{children:"desativado"})," para continuar com esse comportamento ou ",y.jsx("strong",{children:"ative"})," para exibir ns sem descendentes."]}),!n&&y.jsx("p",{className:"text-muted-foreground text-xs italic",children:"Faa login para salvar esta preferncia."})]}),y.jsx(bT,{checked:i,onCheckedChange:s})]})]}),y.jsxs("section",{className:"space-y-3 p-6",children:[y.jsx("h3",{className:"text-sm font-semibold",children:"Desafios"}),y.jsxs("div",{className:"flex items-center justify-between gap-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("p",{className:"text-sm font-medium",children:"Som"}),y.jsx("p",{className:"text-muted-foreground text-xs",children:"Ativar ou desativar os efeitos sonoros durante os desafios."})]}),y.jsx(bT,{checked:!o.muted,onCheckedChange:()=>l(c=>({...c,muted:!c.muted}))})]}),!o.muted&&y.jsx("div",{className:"space-y-2",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("p",{className:"text-sm font-medium",children:"Volume"}),y.jsxs("div",{className:"text-muted-foreground flex items-center gap-1.5 text-xs",children:[y.jsx(dH,{className:"size-3.5"}),y.jsxs(kM,{value:[o.volume*100],onValueChange:([c])=>l(d=>({...d,volume:c/100})),min:0,max:100,step:1,className:"relative flex h-5 w-32 touch-none items-center select-none",children:[y.jsx(LM,{className:"relative h-1 w-full grow rounded-full bg-gray-200",children:y.jsx(jM,{className:"absolute h-full rounded-full bg-green-600"})}),y.jsx(IM,{className:"block h-4 w-4 rounded-full bg-green-600 shadow focus:outline-none"})]}),y.jsx(cH,{className:"size-3.5"})]})]})})]})]})]})})},uD=({isProfilePage:e})=>{const{changeTheme:t,theme:n}=ih(),{t:i}=At(),s=Me(rt.isAuthenticated),o=Me(rt.userDb),{logout:l,isLoggingOut:c}=V_(),[d,h]=qs(Ye.challenge),m=async()=>{d.status==="IN_PROGRESS"&&!window.confirm(`Voc tem um desafio em andamento. Ao Sair, o desafio ser cancelado.

Deseja continuar?`)||(await l(),h({mode:null,status:"NOT_STARTED"}))},v=Ei(),[b,_]=x.useState(!1);return e&&!s&&v({to:"/login"}),y.jsxs(y.Fragment,{children:[y.jsxs(yO,{children:[y.jsx(bO,{asChild:!0,className:"group cursor-pointer",children:y.jsx("div",{className:"rounded-full",children:s&&o?y.jsxs(hK,{className:e?"size-12":"size-8",children:[y.jsx(mK,{src:o.avatar_url,alt:"User"}),y.jsx(pK,{className:"bg-green-600 text-xs text-white",children:o.name[0]})]}):y.jsx(U6,{className:"size-6"})})}),y.jsx(xO,{className:"m-1 w-full",align:"start",children:y.jsxs(s8,{children:[!s&&y.jsxs(y.Fragment,{children:[y.jsx(Qi,{children:y.jsxs(lf,{to:"/login",className:"flex w-full items-center",children:[y.jsx(I6,{className:"mr-2 size-4"}),y.jsx("span",{children:i("loginWithGoogle")})]})}),y.jsx(xa,{})]}),!e&&s&&o&&y.jsxs(Qi,{onClick:()=>{d.status==="IN_PROGRESS"&&!window.confirm(`Voc tem um desafio em andamento. Acessar seu perfil, o desafio ser cancelado.

Deseja continuar?`)||(h({mode:null,status:"NOT_STARTED"}),v({to:"/profile"}))},children:[y.jsxs("div",{className:"px-2 py-1.5 text-sm",children:[y.jsx("div",{className:"font-medium",children:o.name}),y.jsx("div",{className:"text-muted-foreground text-xs",children:o.email})]}),y.jsx(xa,{})]}),e&&y.jsxs(y.Fragment,{children:[y.jsx(Qi,{children:y.jsxs(lf,{to:"/",className:"flex w-full items-center",children:[y.jsx(Bg,{className:"mr-2 size-4"}),y.jsx("span",{children:i("nav.back")})]})}),y.jsx(xa,{})]}),y.jsx(Qi,{disabled:d.status==="IN_PROGRESS",onClick:()=>h({mode:"UNSET",status:"NOT_STARTED"}),children:y.jsxs(lf,{to:"/challenges",className:"flex w-full items-center",children:[y.jsx(tH,{className:"mr-2 size-4"})," ",i("nav.challenges")]})}),y.jsx(xa,{}),y.jsx(Qi,{onClick:()=>{d.status==="IN_PROGRESS"&&!window.confirm(`Voc tem um desafio em andamento. Ao acessar Explorar, o desafio ser cancelado.

Deseja continuar?`)||(h({mode:null,status:"NOT_STARTED"}),v({to:"/"}))},children:y.jsxs("div",{className:"flex w-full items-center",children:[y.jsx(iH,{className:"mr-2 size-4"})," ",i("nav.explore")]})}),y.jsx(xa,{}),y.jsxs(Qi,{onClick:()=>_(!0),children:[y.jsx(Q6,{className:"mr-2 size-4"}),y.jsx("span",{children:"Configuraes"})]}),y.jsx(xa,{}),y.jsxs(Db,{children:[y.jsxs(Lb,{children:[i("theme"),": ",i(n)]}),y.jsx(Mb,{children:y.jsxs(jb,{className:"m-1",children:[y.jsx(Qi,{onClick:()=>t("light"),children:i("light")}),y.jsx(Qi,{onClick:()=>t("dark"),children:i("dark")}),y.jsx(Qi,{onClick:()=>t("system"),children:i("system")})]})})]}),y.jsx(xa,{}),y.jsxs(Db,{children:[y.jsxs(Lb,{children:[i("language"),": ",i(Qt.language)]}),y.jsx(Mb,{children:y.jsxs(jb,{className:"m-1",children:[y.jsx(Qi,{onClick:()=>Qt.changeLanguage("pt"),children:i("pt")}),y.jsx(Qi,{onClick:()=>Qt.changeLanguage("en"),children:i("en")}),y.jsx(Qi,{onClick:()=>Qt.changeLanguage("es"),children:i("es")})]})})]}),!e&&s&&y.jsxs(Db,{children:[y.jsx(xa,{}),y.jsxs(Lb,{disabled:c,children:[y.jsx(h1,{className:"mr-2 size-4"}),y.jsx("span",{children:i("logout")})]}),y.jsx(Mb,{children:y.jsxs(jb,{className:"w-72 max-w-[90vw] p-4",sideOffset:-90,alignOffset:90,children:[y.jsx("p",{className:"mb-3 text-center text-sm leading-relaxed",children:i("nav.logoutWarning")}),y.jsxs(Wt,{onClick:m,variant:"destructive",className:"w-full",children:[c?y.jsx(nh,{className:"mr-2 h-4 w-4 animate-spin"}):y.jsx(h1,{className:"mr-2 h-4 w-4"}),i("nav.logoutAnyway")]})]})})]})]})})]}),y.jsx(BY,{open:b,onOpenChange:_})]})},dD=()=>y.jsxs("header",{className:"flex w-[calc(100%-8px)] items-center justify-between gap-3 rounded-br-2xl pt-4 pb-6",children:[y.jsx(ii,{alt:"Logo",src:f5,className:"h-12"}),y.jsxs("div",{className:"flex w-full flex-col",children:[y.jsx("h1",{className:"text-2xl font-bold",children:"Treevera"}),y.jsx("p",{className:"line-clamp-1 text-base/4",children:"Taxonomia interativa"})]}),y.jsx(uD,{})]});var ah=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},UY={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},FY=class{#e=UY;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},ko=new FY;function VY(e){setTimeout(e,0)}var Xl=typeof window>"u"||"Deno"in globalThis;function ti(){}function $Y(e,t){return typeof e=="function"?e(t):e}function nx(e){return typeof e=="number"&&e>=0&&e!==1/0}function fD(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Da(e,t){return typeof e=="function"?e(t):e}function Bs(e,t){return typeof e=="function"?e(t):e}function xT(e,t){const{type:n="all",exact:i,fetchStatus:s,predicate:o,queryKey:l,stale:c}=e;if(l){if(i){if(t.queryHash!==Q_(l,t.options))return!1}else if(!Lf(t.queryKey,l))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||s&&s!==t.state.fetchStatus||o&&!o(t))}function _T(e,t){const{exact:n,status:i,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Df(t.options.mutationKey)!==Df(o))return!1}else if(!Lf(t.options.mutationKey,o))return!1}return!(i&&t.state.status!==i||s&&!s(t))}function Q_(e,t){return(t?.queryKeyHashFn||Df)(e)}function Df(e){return JSON.stringify(e,(t,n)=>sx(n)?Object.keys(n).sort().reduce((i,s)=>(i[s]=n[s],i),{}):n)}function Lf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Lf(e[n],t[n])):!1}var HY=Object.prototype.hasOwnProperty;function hD(e,t,n=0){if(e===t)return e;if(n>500)return t;const i=wT(e)&&wT(t);if(!i&&!(sx(e)&&sx(t)))return t;const o=(i?e:Object.keys(e)).length,l=i?t:Object.keys(t),c=l.length,d=i?new Array(c):{};let h=0;for(let m=0;m<c;m++){const v=i?m:l[m],b=e[v],_=t[v];if(b===_){d[v]=b,(i?m<o:HY.call(e,v))&&h++;continue}if(b===null||_===null||typeof b!="object"||typeof _!="object"){d[v]=_;continue}const C=hD(b,_,n+1);d[v]=C,C===b&&h++}return o===c&&h===o?e:d}function ix(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function wT(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function sx(e){if(!ST(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!ST(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ST(e){return Object.prototype.toString.call(e)==="[object Object]"}function qY(e){return new Promise(t=>{ko.setTimeout(t,e)})}function rx(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?hD(e,t):t}function GY(e,t,n=0){const i=[...e,t];return n&&i.length>n?i.slice(1):i}function KY(e,t,n=0){const i=[t,...e];return n&&i.length>n?i.slice(0,-1):i}var J_=Symbol();function mD(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===J_?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function pD(e,t){return typeof e=="function"?e(...t):!!e}function WY(e,t,n){let i=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??=t(),i||(i=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var YY=class extends ah{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Xl&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},ew=new YY;function ox(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function i(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{i({status:"fulfilled",value:s}),e(s)},n.reject=s=>{i({status:"rejected",reason:s}),t(s)},n}function ZY(e){let t;if(e.then(n=>(t=n,n),ti)?.catch(ti),t!==void 0)return{data:t}}function gD(e){return e}function XY(e){return{mutationKey:e.options.mutationKey,state:e.state,...e.options.scope&&{scope:e.options.scope},...e.meta&&{meta:e.meta}}}function QY(e,t,n){const i=()=>{const s=e.promise?.then(t).catch(o=>n(o)?Promise.reject(new Error("redacted")):Promise.reject(o));return s?.catch(ti),s};return{dehydratedAt:Date.now(),state:{...e.state,...e.state.data!==void 0&&{data:t(e.state.data)}},queryKey:e.queryKey,queryHash:e.queryHash,...e.state.status==="pending"&&{promise:i()},...e.meta&&{meta:e.meta}}}function JY(e){return e.state.isPaused}function eZ(e){return e.state.status==="success"}function tZ(e){return!0}function nZ(e,t={}){const n=t.shouldDehydrateMutation??e.getDefaultOptions().dehydrate?.shouldDehydrateMutation??JY,i=e.getMutationCache().getAll().flatMap(d=>n(d)?[XY(d)]:[]),s=t.shouldDehydrateQuery??e.getDefaultOptions().dehydrate?.shouldDehydrateQuery??eZ,o=t.shouldRedactErrors??e.getDefaultOptions().dehydrate?.shouldRedactErrors??tZ,l=t.serializeData??e.getDefaultOptions().dehydrate?.serializeData??gD,c=e.getQueryCache().getAll().flatMap(d=>s(d)?[QY(d,l,o)]:[]);return{mutations:i,queries:c}}function iZ(e,t,n){if(typeof t!="object"||t===null)return;const i=e.getMutationCache(),s=e.getQueryCache(),o=n?.defaultOptions?.deserializeData??e.getDefaultOptions().hydrate?.deserializeData??gD,l=t.mutations||[],c=t.queries||[];l.forEach(({state:d,...h})=>{i.build(e,{...e.getDefaultOptions().hydrate?.mutations,...n?.defaultOptions?.mutations,...h},d)}),c.forEach(({queryKey:d,state:h,queryHash:m,meta:v,promise:b,dehydratedAt:_})=>{const C=b?ZY(b):void 0,E=h.data===void 0?C?.data:h.data,T=E===void 0?E:o(E);let k=s.get(m);const N=k?.state.status==="pending",P=k?.state.fetchStatus==="fetching";if(k){const O=C&&_!==void 0&&_>k.state.dataUpdatedAt;if(h.dataUpdatedAt>k.state.dataUpdatedAt||O){const{fetchStatus:j,...V}=h;k.setState({...V,data:T})}}else k=s.build(e,{...e.getDefaultOptions().hydrate?.queries,...n?.defaultOptions?.queries,queryKey:d,queryHash:m,meta:v},{...h,data:T,fetchStatus:"idle",status:T!==void 0?"success":h.status});b&&!N&&!P&&(_===void 0||_>k.state.dataUpdatedAt)&&k.fetch(void 0,{initialPromise:Promise.resolve(b).then(o)}).catch(ti)})}var sZ=VY;function rZ(){let e=[],t=0,n=c=>{c()},i=c=>{c()},s=sZ;const o=c=>{t?e.push(c):s(()=>{n(c)})},l=()=>{const c=e;e=[],c.length&&s(()=>{i(()=>{c.forEach(d=>{n(d)})})})};return{batch:c=>{let d;t++;try{d=c()}finally{t--,t||l()}return d},batchCalls:c=>(...d)=>{o(()=>{c(...d)})},schedule:o,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{i=c},setScheduler:c=>{s=c}}}var mi=rZ(),oZ=class extends ah{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Xl&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},ag=new oZ;function aZ(e){return Math.min(1e3*2**e,3e4)}function vD(e){return(e??"online")==="online"?ag.isOnline():!0}var ax=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function yD(e){let t=!1,n=0,i;const s=ox(),o=()=>s.status!=="pending",l=E=>{if(!o()){const T=new ax(E);b(T),e.onCancel?.(T)}},c=()=>{t=!0},d=()=>{t=!1},h=()=>ew.isFocused()&&(e.networkMode==="always"||ag.isOnline())&&e.canRun(),m=()=>vD(e.networkMode)&&e.canRun(),v=E=>{o()||(i?.(),s.resolve(E))},b=E=>{o()||(i?.(),s.reject(E))},_=()=>new Promise(E=>{i=T=>{(o()||h())&&E(T)},e.onPause?.()}).then(()=>{i=void 0,o()||e.onContinue?.()}),C=()=>{if(o())return;let E;const T=n===0?e.initialPromise:void 0;try{E=T??e.fn()}catch(k){E=Promise.reject(k)}Promise.resolve(E).then(v).catch(k=>{if(o())return;const N=e.retry??(Xl?0:3),P=e.retryDelay??aZ,O=typeof P=="function"?P(n,k):P,j=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,k);if(t||!j){b(k);return}n++,e.onFail?.(n,k),qY(O).then(()=>h()?void 0:_()).then(()=>{t?b(k):C()})})};return{promise:s,status:()=>s.status,cancel:l,continue:()=>(i?.(),s),cancelRetry:c,continueRetry:d,canStart:m,start:()=>(m()?C():_().then(C),s)}}var bD=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),nx(this.gcTime)&&(this.#e=ko.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Xl?1/0:300*1e3))}clearGcTimeout(){this.#e&&(ko.clearTimeout(this.#e),this.#e=void 0)}},lZ=class extends bD{#e;#t;#n;#s;#i;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=ET(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=ET(this.options);t.data!==void 0&&(this.setState(CT(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=rx(this.state.data,e,this.options);return this.#r({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#r({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(ti).catch(ti):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Bs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===J_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Da(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!fD(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(d=>d.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,i=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},s=()=>{const c=mD(this.options,t),h=(()=>{const m={client:this.#s,queryKey:this.queryKey,meta:this.meta};return i(m),m})();return this.#o=!1,this.options.persister?this.options.persister(c,h,this):c(h)},l=(()=>{const c={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:s};return i(c),c})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#r({type:"fetch",meta:l.fetchOptions?.meta}),this.#i=yD({initialPromise:t?.initialPromise,fn:l.fetchFn,onCancel:c=>{c instanceof ax&&c.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(c,d)=>{this.#r({type:"failed",failureCount:c,error:d})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const c=await this.#i.start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof ax){if(c.silent)return this.#i.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#r({type:"error",error:c}),this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...xD(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,...CT(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),mi.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function xD(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:vD(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function CT(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function ET(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,i=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var cZ=class extends ah{constructor(e,t){super(),this.options=t,this.#e=e,this.#r=null,this.#o=ox(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#s=void 0;#i;#a;#o;#r;#p;#f;#h;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),AT(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return lx(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return lx(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#_(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Bs(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),t._defaulted&&!ix(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&TT(this.#t,n,this.options,t)&&this.#d(),this.updateResult(),i&&(this.#t!==n||Bs(this.options.enabled,this.#t)!==Bs(t.enabled,this.#t)||Da(this.options.staleTime,this.#t)!==Da(t.staleTime,this.#t))&&this.#g();const s=this.#v();i&&(this.#t!==n||Bs(this.options.enabled,this.#t)!==Bs(t.enabled,this.#t)||s!==this.#l)&&this.#y(s)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return dZ(this,n)&&(this.#s=n,this.#a=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(e,t){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),t?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(e){this.#w();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(ti)),t}#g(){this.#x();const e=Da(this.options.staleTime,this.#t);if(Xl||this.#s.isStale||!nx(e))return;const n=fD(this.#s.dataUpdatedAt,e)+1;this.#c=ko.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(e){this.#_(),this.#l=e,!(Xl||Bs(this.options.enabled,this.#t)===!1||!nx(this.#l)||this.#l===0)&&(this.#u=ko.setInterval(()=>{(this.options.refetchIntervalInBackground||ew.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#y(this.#v())}#x(){this.#c&&(ko.clearTimeout(this.#c),this.#c=void 0)}#_(){this.#u&&(ko.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const n=this.#t,i=this.options,s=this.#s,o=this.#i,l=this.#a,d=e!==n?e.state:this.#n,{state:h}=e;let m={...h},v=!1,b;if(t._optimisticResults){const I=this.hasListeners(),$=!I&&AT(e,t),Z=I&&TT(e,n,t,i);($||Z)&&(m={...m,...xD(h.data,e.options)}),t._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:_,errorUpdatedAt:C,status:E}=m;b=m.data;let T=!1;if(t.placeholderData!==void 0&&b===void 0&&E==="pending"){let I;s?.isPlaceholderData&&t.placeholderData===l?.placeholderData?(I=s.data,T=!0):I=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,I!==void 0&&(E="success",b=rx(s?.data,I,t),v=!0)}if(t.select&&b!==void 0&&!T)if(s&&b===o?.data&&t.select===this.#p)b=this.#f;else try{this.#p=t.select,b=t.select(b),b=rx(s?.data,b,t),this.#f=b,this.#r=null}catch(I){this.#r=I}this.#r&&(_=this.#r,b=this.#f,C=Date.now(),E="error");const k=m.fetchStatus==="fetching",N=E==="pending",P=E==="error",O=N&&k,j=b!==void 0,z={status:E,fetchStatus:m.fetchStatus,isPending:N,isSuccess:E==="success",isError:P,isInitialLoading:O,isLoading:O,data:b,dataUpdatedAt:m.dataUpdatedAt,error:_,errorUpdatedAt:C,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:k,isRefetching:k&&!N,isLoadingError:P&&!j,isPaused:m.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:P&&j,isStale:tw(e,t),refetch:this.refetch,promise:this.#o,isEnabled:Bs(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const I=z.data!==void 0,$=z.status==="error"&&!I,Z=Q=>{$?Q.reject(z.error):I&&Q.resolve(z.data)},K=()=>{const Q=this.#o=z.promise=ox();Z(Q)},Y=this.#o;switch(Y.status){case"pending":e.queryHash===n.queryHash&&Z(Y);break;case"fulfilled":($||z.data!==Y.value)&&K();break;case"rejected":(!$||z.error!==Y.reason)&&K();break}}return z}updateResult(){const e=this.#s,t=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#a=this.options,this.#i.data!==void 0&&(this.#h=this.#t),ix(t,e))return;this.#s=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!this.#m.size)return!0;const o=new Set(s??this.#m);return this.options.throwOnError&&o.add("error"),Object.keys(this.#s).some(l=>{const c=l;return this.#s[c]!==e[c]&&o.has(c)})};this.#S({listeners:n()})}#w(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(e){mi.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function uZ(e,t){return Bs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function AT(e,t){return uZ(e,t)||e.state.data!==void 0&&lx(e,t,t.refetchOnMount)}function lx(e,t,n){if(Bs(t.enabled,e)!==!1&&Da(t.staleTime,e)!=="static"){const i=typeof n=="function"?n(e):n;return i==="always"||i!==!1&&tw(e,t)}return!1}function TT(e,t,n,i){return(e!==t||Bs(i.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&tw(e,n)}function tw(e,t){return Bs(t.enabled,e)!==!1&&e.isStaleByTime(Da(t.staleTime,e))}function dZ(e,t){return!ix(e.getCurrentResult(),t)}function RT(e){return{onFetch:(t,n)=>{const i=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],l=t.state.data?.pageParams||[];let c={pages:[],pageParams:[]},d=0;const h=async()=>{let m=!1;const v=C=>{WY(C,()=>t.signal,()=>m=!0)},b=mD(t.options,t.fetchOptions),_=async(C,E,T)=>{if(m)return Promise.reject();if(E==null&&C.pages.length)return Promise.resolve(C);const N=(()=>{const V={client:t.client,queryKey:t.queryKey,pageParam:E,direction:T?"backward":"forward",meta:t.options.meta};return v(V),V})(),P=await b(N),{maxPages:O}=t.options,j=T?KY:GY;return{pages:j(C.pages,P,O),pageParams:j(C.pageParams,E,O)}};if(s&&o.length){const C=s==="backward",E=C?fZ:NT,T={pages:o,pageParams:l},k=E(i,T);c=await _(T,k,C)}else{const C=e??o.length;do{const E=d===0?l[0]??i.initialPageParam:NT(i,c);if(d>0&&E==null)break;c=await _(c,E),d++}while(d<C)}return c};t.options.persister?t.fetchFn=()=>t.options.persister?.(h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=h}}}function NT(e,{pages:t,pageParams:n}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,n[i],n):void 0}function fZ(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var hZ=class extends bD{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||mZ(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#i({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=yD({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(o,l)=>{this.#i({type:"failed",failureCount:o,error:l})},onPause:()=>{this.#i({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",s=!this.#s.canStart();try{if(i)t();else{this.#i({type:"pending",variables:e,isPaused:s}),this.#n.config.onMutate&&await this.#n.config.onMutate(e,this,n);const l=await this.options.onMutate?.(e,n);l!==this.state.context&&this.#i({type:"pending",context:l,variables:e,isPaused:s})}const o=await this.#s.start();return await this.#n.config.onSuccess?.(o,e,this.state.context,this,n),await this.options.onSuccess?.(o,e,this.state.context,n),await this.#n.config.onSettled?.(o,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(o,null,e,this.state.context,n),this.#i({type:"success",data:o}),o}catch(o){try{await this.#n.config.onError?.(o,e,this.state.context,this,n)}catch(l){Promise.reject(l)}try{await this.options.onError?.(o,e,this.state.context,n)}catch(l){Promise.reject(l)}try{await this.#n.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this,n)}catch(l){Promise.reject(l)}try{await this.options.onSettled?.(void 0,o,e,this.state.context,n)}catch(l){Promise.reject(l)}throw this.#i({type:"error",error:o}),o}finally{this.#n.runNext(this)}}#i(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),mi.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function mZ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var pZ=class extends ah{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const i=new hZ({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(i),i}add(e){this.#e.add(e);const t=sp(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=sp(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=sp(e);if(typeof t=="string"){const i=this.#t.get(t)?.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){const t=sp(e);return typeof t=="string"?this.#t.get(t)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){mi.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>_T(t,n))}findAll(e={}){return this.getAll().filter(t=>_T(e,t))}notify(e){mi.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return mi.batch(()=>Promise.all(e.map(t=>t.continue().catch(ti))))}};function sp(e){return e.options.scope?.id}var gZ=class extends ah{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const i=t.queryKey,s=t.queryHash??Q_(i,t);let o=this.get(s);return o||(o=new lZ({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){mi.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>xT(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>xT(e,n)):t}notify(e){mi.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){mi.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){mi.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},vZ=class{#e;#t;#n;#s;#i;#a;#o;#r;constructor(e={}){this.#e=e.queryCache||new gZ,this.#t=e.mutationCache||new pZ,this.#n=e.defaultOptions||{},this.#s=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=ew.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=ag.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),i=n.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Da(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const i=n.data;return[t,i]})}setQueryData(e,t,n){const i=this.defaultQueryOptions({queryKey:e}),o=this.#e.get(i.queryHash)?.state.data,l=$Y(t,o);if(l!==void 0)return this.#e.build(this,i).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return mi.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;mi.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return mi.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},i=mi.batch(()=>this.#e.findAll(e).map(s=>s.cancel(n)));return Promise.all(i).then(ti).catch(ti)}invalidateQueries(e,t={}){return mi.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},i=mi.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(ti)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(i).then(ti)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(Da(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ti).catch(ti)}fetchInfiniteQuery(e){return e.behavior=RT(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ti).catch(ti)}ensureInfiniteQueryData(e){return e.behavior=RT(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ag.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#s.set(Df(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#s.values()],n={};return t.forEach(i=>{Lf(e,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(e,t){this.#i.set(Df(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(i=>{Lf(e,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Q_(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===J_&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},_D=x.createContext(void 0),nw=e=>{const t=x.useContext(_D);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},yZ=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),y.jsx(_D.Provider,{value:e,children:t})),wD=x.createContext(!1),iw=()=>x.useContext(wD),bZ=wD.Provider;function xZ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var _Z=x.createContext(xZ()),wZ=()=>x.useContext(_Z),SZ=(e,t,n)=>{const i=n?.state.error&&typeof e.throwOnError=="function"?pD(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||i)&&(t.isReset()||(e.retryOnMount=!1))},CZ=e=>{x.useEffect(()=>{e.clearReset()},[e])},EZ=({result:e,errorResetBoundary:t,throwOnError:n,query:i,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&(s&&e.data===void 0||pD(n,[e.error,i])),AZ=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...s)=>n(i(...s)):n(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},TZ=(e,t)=>e.isLoading&&e.isFetching&&!t,RZ=(e,t)=>e?.suspense&&t.isPending,kT=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function NZ(e,t,n){const i=iw(),s=wZ(),o=nw(),l=o.defaultQueryOptions(e);o.getDefaultOptions().queries?._experimental_beforeQuery?.(l);const c=o.getQueryCache().get(l.queryHash);l._optimisticResults=i?"isRestoring":"optimistic",AZ(l),SZ(l,s,c),CZ(s);const d=!o.getQueryCache().get(l.queryHash),[h]=x.useState(()=>new t(o,l)),m=h.getOptimisticResult(l),v=!i&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(b=>{const _=v?h.subscribe(mi.batchCalls(b)):ti;return h.updateResult(),_},[h,v]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),x.useEffect(()=>{h.setOptions(l)},[l,h]),RZ(l,m))throw kT(l,h,s);if(EZ({result:m,errorResetBoundary:s,throwOnError:l.throwOnError,query:c,suspense:l.suspense}))throw m.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(l,m),l.experimental_prefetchInRender&&!Xl&&TZ(m,i)&&(d?kT(l,h,s):c?.promise)?.catch(ti).finally(()=>{h.updateResult()}),l.notifyOnChangeProps?m:h.trackResult(m)}function Ks(e,t){return NZ(e,cZ)}const SD="https://api.gbif.org/v1",Bu=`${SD}/species`,kZ=`${Bu}/search?rank=KINGDOM&status=ACCEPTED&limit=100&datasetKey=d7dddbf4-2cf0-4f39-9b2a-bb099caae36c`,PZ=async()=>(await(await fetch(kZ)).json()).results,CD=async e=>{const t=`${Bu}/${e}/children?limit=1000&status=ACCEPTED`;return(await fetch(t).then(i=>i.json())).results},cx=async e=>{const t=`${Bu}/${e}`;return await fetch(t).then(i=>i.json())},OZ=async({specieKey:e})=>{const t=`https://api.gbif.org/v1/occurrence/search?mediaType=StillImage&taxon_key=${e}&limit=1`,i=(await fetch(t).then(s=>s.json())).results?.[0]?.media?.[0]?.identifier;return i?{source:"GBIF",imgUrl:i,licenseCode:"",author:""}:null},MZ=async(e,t)=>{let n=`${Bu}/search?q=${encodeURIComponent(e)}&status=ACCEPTED&limit=50`;return t&&(n+=`&kingdom=${encodeURIComponent(t)}`),(await fetch(n).then(o=>o.json())).results??[]},ED=async e=>{const t=`${Bu}/${e}/parents`;return await fetch(t).then(i=>i.json())??[]},DZ=`${SD}/occurrence`,LZ=async e=>{const t=`${Bu}/${e}/vernacularNames`;return(await fetch(t).then(i=>i.json())).results??[]},jZ=async e=>{const t=`${DZ}/search?taxonKey=${e}`;return await fetch(t).then(i=>i.json())},Va={kingdoms_key:"kingdoms",children_key:"children",specie_key:"specie",parents_key:"parents",daily_challenge_key:"daily_challenge",challenge_tips_key:"challenge_tips",vernacular_names_key:"vernacular_names"},Uo=({specieKey:e})=>{const{specie_key:t}=Va;return Ks({queryKey:[t,e],queryFn:async()=>{const n=await cx(e);return{canonicalName:n.canonicalName,scientificName:n.scientificName,kingdom:n.kingdom,phylum:n.phylum,class:n.class,order:n.order,family:n.family,genus:n.genus,species:n.species,authorship:n.authorship,publishedIn:n.publishedIn,title:n.title}},staleTime:1e3*60*15,gcTime:1e3*60*60})},IZ="https://api.inaturalist.org/v1",zZ=async({canonicalName:e})=>{const t=`${IZ}/search?q=${encodeURIComponent(e)}&sources=taxa`,n=await fetch(t).then(s=>s.json());if(!n||!n.results?.[0]?.record?.id)return null;const i=n.results[0].record.taxon_photos?.[0]?.photo;if(i)return{source:"iNaturalist",imgUrl:i.original_url,licenseCode:i.license_code,author:i.attribution_name}},AD="https://pt.wikipedia.org/api/rest_v1/page/summary",BZ=async e=>await(await fetch(`${AD}/${e}`)).json();async function UZ(e){const t=`
    SELECT ?item ?itemLabel ?iucnStatus ?iucnStatusLabel WHERE {
      ?item wdt:P225 "${e}".
      OPTIONAL { ?item wdt:P141 ?iucnStatus. }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
    } LIMIT 1
  `,i="https://query.wikidata.org/sparql"+"?format=json&query="+encodeURIComponent(t);try{const s=await fetch(i,{headers:{Accept:"application/sparql-results+json"}});if(!s.ok)throw new Error("Erro na requisio SPARQL");const l=(await s.json())?.results?.bindings?.[0]?.iucnStatusLabel?.value;return{Extinct:"EX","Extinct in the Wild":"EW","Critically Endangered":"CR",Endangered:"EN",Vulnerable:"VU","Near Threatened":"NT","Least Concern":"LC","Data Deficient":"DD","Not Evaluated":"NE"}[l]??null}catch(s){return console.error("Erro ao buscar status na Wikidata:",s),null}}const FZ=async({canonicalName:e})=>{const t=`${AD}/${encodeURIComponent(e)}`,n=await fetch(t).then(i=>i.json());return n?.thumbnail?.source?{source:"Wikipedia",imgUrl:n.thumbnail.source,licenseCode:"",author:""}:null},lh=(e,t)=>Ks({queryKey:["specie-image",e,t],queryFn:async()=>{if(!e||!t)return null;const n=await zZ({canonicalName:t});if(n)return n;const i=await FZ({canonicalName:t});return i||await OZ({specieKey:e})},enabled:!!e&&!!t,staleTime:1e3*60*60*24}),Po=({className:e,children:t})=>y.jsx("div",{className:`bg-skeleton bg-skeleton-size animate-skeleton rounded ${e}`,children:t}),TD=()=>y.jsxs("div",{className:"space-y-2",children:[y.jsx(Po,{className:"h-8 w-1/2"}),y.jsx(Po,{className:"h-4 w-1/3"})]}),VZ=()=>y.jsx("div",{className:"grid grid-cols-2 gap-4",children:Array.from({length:6}).map((e,t)=>y.jsxs("div",{children:[y.jsx(Po,{className:"h-4 w-3/4"}),y.jsx(Po,{className:"mt-1 h-4 w-1/2"})]},t))}),$Z=()=>y.jsx(Po,{className:"h-6 w-32 rounded-full"}),HZ=()=>y.jsxs("div",{className:"space-y-2",children:[y.jsx(Po,{className:"h-4 w-full"}),y.jsx(Po,{className:"h-4 w-5/6"}),y.jsx(Po,{className:"h-4 w-2/3"})]}),qZ=()=>y.jsx(Po,{className:"aspect-square w-full rounded-xl"}),GZ=({zoom:e=3,...t})=>{const n=x.useRef(null),[i,s]=x.useState(!1),[o,l]=x.useState({xPercent:50,yPercent:50}),[c,d]=x.useState(!1),h=m=>{const v=n.current?.getBoundingClientRect();if(!v)return;const b=(m.clientX-v.left)/v.width*100,_=(m.clientY-v.top)/v.height*100;l({xPercent:b,yPercent:_})};return x.useEffect(()=>{if(!c)return;const m=v=>{v.key==="Escape"&&d(!1)};return window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[c]),y.jsxs(y.Fragment,{children:[y.jsx("div",{ref:n,className:`relative size-full cursor-zoom-in overflow-hidden ${t.className}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onMouseMove:h,onClick:()=>d(!0),style:{backgroundImage:`url(${t.src})`,backgroundSize:i?`${e*100}%`:"cover",backgroundPosition:`${o.xPercent}% ${o.yPercent}%`,backgroundRepeat:"no-repeat",transition:"background-size 0.15s ease-out"},children:y.jsx(ii,{src:t.src,alt:t.alt,className:`h-full w-full object-cover transition-opacity duration-150 ${i?"opacity-0":"opacity-100"}`,draggable:!1,fallbackSrc:t.fallbackSrc})}),c&&y.jsx("div",{className:"fixed inset-0 z-[9999] flex cursor-zoom-out items-center justify-center bg-black/90",onClick:()=>d(!1),children:y.jsx(ii,{src:t.src,alt:t.alt,className:"max-h-[95vh] max-w-[95vw] rounded-lg object-contain",draggable:!1})})]})},KZ=()=>{const{t:e}=At(),t=Me(za),n=Me(Ye.expandedNodes).find(m=>m.rank==="SPECIES")?.key,i=t??n,{data:s}=Uo({specieKey:i}),{data:o,isLoading:l}=lh(i,s?.canonicalName),[c,d]=x.useState(!1);if(!s)return;if(l)return y.jsx(qZ,{});const h=zs($O[s.kingdom.toLowerCase()]);return!o||c?y.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2 rounded-xl border border-dashed p-4 text-center text-sm",children:[y.jsx(ii,{src:h,alt:s.scientificName,className:"max-h-48 opacity-30"}),y.jsx("span",{children:e("specieDetail.imageNotFound")}),y.jsx("div",{className:"rounded-md border p-3 text-xs",children:y.jsx("p",{children:e("specieDetail.imageNote")})}),y.jsx("a",{href:`https://www.google.com/search?tbm=isch&q=${encodeURIComponent(s.canonicalName)}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:e("specieDetail.viewOnGoogle")})]}):y.jsxs("div",{className:"mx-auto w-full",children:[y.jsx("figure",{children:y.jsx(GZ,{src:o.imgUrl||h,fallbackSrc:h,alt:`Imagem da espcie "${s.scientificName}"`,onFallbackChange:d,zoom:3,className:"h-auto w-full rounded-lg"})}),o.source&&y.jsxs("p",{className:"text-muted-foreground px-2 py-1 text-right text-[11px]",children:[e("specieDetail.imageSource"),": ",o.source," ",o.author&&`${e("specieDetail.imageBy")}${o.author.trim()}`,o.licenseCode&&`${e("specieDetail.imageLicense")}${o.licenseCode}`]})]})},WZ=VO("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function lg({className:e,variant:t,asChild:n=!1,...i}){const s=n?LO:"span";return y.jsx(s,{"data-slot":"badge",className:Ze(WZ({variant:t}),e),...i})}const PT={EX:{bg:"bg-gray-800"},EW:{bg:"bg-gray-600"},CR:{bg:"bg-red-700"},EN:{bg:"bg-orange-600"},VU:{bg:"bg-yellow-500",text:"text-black"},NT:{bg:"bg-lime-500",text:"text-black"},LC:{bg:"bg-green-500"},DD:{bg:"bg-blue-400"},NE:{bg:"bg-neutral-400"}},YZ=({statusCode:e})=>{const{t}=At();if(!e||!(e in PT))return y.jsx(lg,{className:"w-full bg-neutral-500 py-3 text-sm text-white",children:t("vulnerability.unknown")});const{bg:n,text:i}=PT[e];return y.jsx(lg,{className:Ze("w-full py-3 text-sm text-white",n,i),children:t(`vulnerability.${e}`)})},ZZ=({specieName:e})=>Ks({queryKey:["iucn-status",e],queryFn:async()=>await UZ(e),enabled:!!e,staleTime:1e3*60*60*24}),XZ=e=>Ks({queryKey:["wiki-details",e],queryFn:()=>BZ(e),enabled:!!e,staleTime:1e3*60*60*24}),sw=x.createContext({});function Wg(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const RD=typeof window<"u",ND=RD?x.useLayoutEffect:x.useEffect,Yg=x.createContext(null);function rw(e,t){e.indexOf(t)===-1&&e.push(t)}function cg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Zr=(e,t,n)=>n>t?t:n<e?e:n;let ow=()=>{};const Io={},kD=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function PD(e){return typeof e=="object"&&e!==null}const OD=e=>/^0[^.\s]+$/u.test(e);function MD(e){let t;return()=>(t===void 0&&(t=e()),t)}const Hs=e=>e,QZ=(e,t)=>n=>t(e(n)),ch=(...e)=>e.reduce(QZ),jf=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class aw{constructor(){this.subscriptions=[]}add(t){return rw(this.subscriptions,t),()=>cg(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pr=e=>e*1e3,Vs=e=>e/1e3;function DD(e,t){return t?e*(1e3/t):0}const LD=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,JZ=1e-7,eX=12;function tX(e,t,n,i,s){let o,l,c=0;do l=t+(n-t)/2,o=LD(l,i,s)-e,o>0?n=l:t=l;while(Math.abs(o)>JZ&&++c<eX);return l}function uh(e,t,n,i){if(e===t&&n===i)return Hs;const s=o=>tX(o,0,1,e,n);return o=>o===0||o===1?o:LD(s(o),t,i)}const jD=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ID=e=>t=>1-e(1-t),zD=uh(.33,1.53,.69,.99),lw=ID(zD),BD=jD(lw),UD=e=>(e*=2)<1?.5*lw(e):.5*(2-Math.pow(2,-10*(e-1))),cw=e=>1-Math.sin(Math.acos(e)),FD=ID(cw),VD=jD(cw),nX=uh(.42,0,1,1),iX=uh(0,0,.58,1),$D=uh(.42,0,.58,1),sX=e=>Array.isArray(e)&&typeof e[0]!="number",HD=e=>Array.isArray(e)&&typeof e[0]=="number",rX={linear:Hs,easeIn:nX,easeInOut:$D,easeOut:iX,circIn:cw,circInOut:VD,circOut:FD,backIn:lw,backInOut:BD,backOut:zD,anticipate:UD},oX=e=>typeof e=="string",OT=e=>{if(HD(e)){ow(e.length===4);const[t,n,i,s]=e;return uh(t,n,i,s)}else if(oX(e))return rX[e];return e},rp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function aX(e,t){let n=new Set,i=new Set,s=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){l.has(m)&&(h.schedule(m),e()),m(c)}const h={schedule:(m,v=!1,b=!1)=>{const C=b&&s?n:i;return v&&l.add(m),C.has(m)||C.add(m),m},cancel:m=>{i.delete(m),l.delete(m)},process:m=>{if(c=m,s){o=!0;return}s=!0,[n,i]=[i,n],n.forEach(d),n.clear(),s=!1,o&&(o=!1,h.process(m))}};return h}const lX=40;function qD(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=rp.reduce((P,O)=>(P[O]=aX(o),P),{}),{setup:c,read:d,resolveKeyframes:h,preUpdate:m,update:v,preRender:b,render:_,postRender:C}=l,E=()=>{const P=Io.useManualTiming?s.timestamp:performance.now();n=!1,Io.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(P-s.timestamp,lX),1)),s.timestamp=P,s.isProcessing=!0,c.process(s),d.process(s),h.process(s),m.process(s),v.process(s),b.process(s),_.process(s),C.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(E))},T=()=>{n=!0,i=!0,s.isProcessing||e(E)};return{schedule:rp.reduce((P,O)=>{const j=l[O];return P[O]=(V,z=!1,I=!1)=>(n||T(),j.schedule(V,z,I)),P},{}),cancel:P=>{for(let O=0;O<rp.length;O++)l[rp[O]].cancel(P)},state:s,steps:l}}const{schedule:Jt,cancel:Ba,state:hi,steps:Kb}=qD(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hs,!0);let Cp;function cX(){Cp=void 0}const Li={now:()=>(Cp===void 0&&Li.set(hi.isProcessing||Io.useManualTiming?hi.timestamp:performance.now()),Cp),set:e=>{Cp=e,queueMicrotask(cX)}},GD=e=>t=>typeof t=="string"&&t.startsWith(e),KD=GD("--"),uX=GD("var(--"),uw=e=>uX(e)?dX.test(e.split("/*")[0].trim()):!1,dX=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function MT(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Uu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},If={...Uu,transform:e=>Zr(0,1,e)},op={...Uu,default:1},hf=e=>Math.round(e*1e5)/1e5,dw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fX(e){return e==null}const hX=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,fw=(e,t)=>n=>!!(typeof n=="string"&&hX.test(n)&&n.startsWith(e)||t&&!fX(n)&&Object.prototype.hasOwnProperty.call(n,t)),WD=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,o,l,c]=i.match(dw);return{[e]:parseFloat(s),[t]:parseFloat(o),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},mX=e=>Zr(0,255,e),Wb={...Uu,transform:e=>Math.round(mX(e))},Ul={test:fw("rgb","red"),parse:WD("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+Wb.transform(e)+", "+Wb.transform(t)+", "+Wb.transform(n)+", "+hf(If.transform(i))+")"};function pX(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const ux={test:fw("#"),parse:pX,transform:Ul.transform},dh=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Sa=dh("deg"),Wr=dh("%"),Ve=dh("px"),gX=dh("vh"),vX=dh("vw"),DT={...Wr,parse:e=>Wr.parse(e)/100,transform:e=>Wr.transform(e*100)},du={test:fw("hsl","hue"),parse:WD("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+Wr.transform(hf(t))+", "+Wr.transform(hf(n))+", "+hf(If.transform(i))+")"},Mn={test:e=>Ul.test(e)||ux.test(e)||du.test(e),parse:e=>Ul.test(e)?Ul.parse(e):du.test(e)?du.parse(e):ux.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ul.transform(e):du.transform(e),getAnimatableNone:e=>{const t=Mn.parse(e);return t.alpha=0,Mn.transform(t)}},yX=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bX(e){return isNaN(e)&&typeof e=="string"&&(e.match(dw)?.length||0)+(e.match(yX)?.length||0)>0}const YD="number",ZD="color",xX="var",_X="var(",LT="${}",wX=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zf(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let o=0;const c=t.replace(wX,d=>(Mn.test(d)?(i.color.push(o),s.push(ZD),n.push(Mn.parse(d))):d.startsWith(_X)?(i.var.push(o),s.push(xX),n.push(d)):(i.number.push(o),s.push(YD),n.push(parseFloat(d))),++o,LT)).split(LT);return{values:n,split:c,indexes:i,types:s}}function XD(e){return zf(e).values}function QD(e){const{split:t,types:n}=zf(e),i=t.length;return s=>{let o="";for(let l=0;l<i;l++)if(o+=t[l],s[l]!==void 0){const c=n[l];c===YD?o+=hf(s[l]):c===ZD?o+=Mn.transform(s[l]):o+=s[l]}return o}}const SX=e=>typeof e=="number"?0:Mn.test(e)?Mn.getAnimatableNone(e):e;function CX(e){const t=XD(e);return QD(e)(t.map(SX))}const gr={test:bX,parse:XD,createTransformer:QD,getAnimatableNone:CX};function Yb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function EX({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,o=0,l=0;if(!t)s=o=l=n;else{const c=n<.5?n*(1+t):n+t-n*t,d=2*n-c;s=Yb(d,c,e+1/3),o=Yb(d,c,e),l=Yb(d,c,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:i}}function ug(e,t){return n=>n>0?t:e}const un=(e,t,n)=>e+(t-e)*n,Zb=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},AX=[ux,Ul,du],TX=e=>AX.find(t=>t.test(e));function jT(e){const t=TX(e);if(!t)return!1;let n=t.parse(e);return t===du&&(n=EX(n)),n}const IT=(e,t)=>{const n=jT(e),i=jT(t);if(!n||!i)return ug(e,t);const s={...n};return o=>(s.red=Zb(n.red,i.red,o),s.green=Zb(n.green,i.green,o),s.blue=Zb(n.blue,i.blue,o),s.alpha=un(n.alpha,i.alpha,o),Ul.transform(s))},dx=new Set(["none","hidden"]);function RX(e,t){return dx.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function NX(e,t){return n=>un(e,t,n)}function hw(e){return typeof e=="number"?NX:typeof e=="string"?uw(e)?ug:Mn.test(e)?IT:OX:Array.isArray(e)?JD:typeof e=="object"?Mn.test(e)?IT:kX:ug}function JD(e,t){const n=[...e],i=n.length,s=e.map((o,l)=>hw(o)(o,t[l]));return o=>{for(let l=0;l<i;l++)n[l]=s[l](o);return n}}function kX(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=hw(e[s])(e[s],t[s]));return s=>{for(const o in i)n[o]=i[o](s);return n}}function PX(e,t){const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],l=e.indexes[o][i[o]],c=e.values[l]??0;n[s]=c,i[o]++}return n}const OX=(e,t)=>{const n=gr.createTransformer(t),i=zf(e),s=zf(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?dx.has(e)&&!s.values.length||dx.has(t)&&!i.values.length?RX(e,t):ch(JD(PX(i,s),s.values),n):ug(e,t)};function eL(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?un(e,t,n):hw(e)(e,t)}const MX=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Jt.update(t,n),stop:()=>Ba(t),now:()=>hi.isProcessing?hi.timestamp:Li.now()}},tL=(e,t,n=10)=>{let i="";const s=Math.max(Math.round(t/n),2);for(let o=0;o<s;o++)i+=Math.round(e(o/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},dg=2e4;function mw(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<dg;)t+=n,i=e.next(t);return t>=dg?1/0:t}function DX(e,t=100,n){const i=n({...e,keyframes:[0,t]}),s=Math.min(mw(i),dg);return{type:"keyframes",ease:o=>i.next(s*o).value/t,duration:Vs(s)}}const LX=5;function nL(e,t,n){const i=Math.max(t-LX,0);return DD(n-e(i),t-i)}const xn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Xb=.001;function jX({duration:e=xn.duration,bounce:t=xn.bounce,velocity:n=xn.velocity,mass:i=xn.mass}){let s,o,l=1-t;l=Zr(xn.minDamping,xn.maxDamping,l),e=Zr(xn.minDuration,xn.maxDuration,Vs(e)),l<1?(s=h=>{const m=h*l,v=m*e,b=m-n,_=fx(h,l),C=Math.exp(-v);return Xb-b/_*C},o=h=>{const v=h*l*e,b=v*n+n,_=Math.pow(l,2)*Math.pow(h,2)*e,C=Math.exp(-v),E=fx(Math.pow(h,2),l);return(-s(h)+Xb>0?-1:1)*((b-_)*C)/E}):(s=h=>{const m=Math.exp(-h*e),v=(h-n)*e+1;return-Xb+m*v},o=h=>{const m=Math.exp(-h*e),v=(n-h)*(e*e);return m*v});const c=5/e,d=zX(s,o,c);if(e=pr(e),isNaN(d))return{stiffness:xn.stiffness,damping:xn.damping,duration:e};{const h=Math.pow(d,2)*i;return{stiffness:h,damping:l*2*Math.sqrt(i*h),duration:e}}}const IX=12;function zX(e,t,n){let i=n;for(let s=1;s<IX;s++)i=i-e(i)/t(i);return i}function fx(e,t){return e*Math.sqrt(1-t*t)}const BX=["duration","bounce"],UX=["stiffness","damping","mass"];function zT(e,t){return t.some(n=>e[n]!==void 0)}function FX(e){let t={velocity:xn.velocity,stiffness:xn.stiffness,damping:xn.damping,mass:xn.mass,isResolvedFromDuration:!1,...e};if(!zT(e,UX)&&zT(e,BX))if(t.velocity=0,e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,o=2*Zr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:xn.mass,stiffness:s,damping:o}}else{const n=jX({...e,velocity:0});t={...t,...n,mass:xn.mass},t.isResolvedFromDuration=!0}return t}function fg(e=xn.visualDuration,t=xn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:d,damping:h,mass:m,duration:v,velocity:b,isResolvedFromDuration:_}=FX({...n,velocity:-Vs(n.velocity||0)}),C=b||0,E=h/(2*Math.sqrt(d*m)),T=l-o,k=Vs(Math.sqrt(d/m)),N=Math.abs(T)<5;i||(i=N?xn.restSpeed.granular:xn.restSpeed.default),s||(s=N?xn.restDelta.granular:xn.restDelta.default);let P;if(E<1){const j=fx(k,E);P=V=>{const z=Math.exp(-E*k*V);return l-z*((C+E*k*T)/j*Math.sin(j*V)+T*Math.cos(j*V))}}else if(E===1)P=j=>l-Math.exp(-k*j)*(T+(C+k*T)*j);else{const j=k*Math.sqrt(E*E-1);P=V=>{const z=Math.exp(-E*k*V),I=Math.min(j*V,300);return l-z*((C+E*k*T)*Math.sinh(I)+j*T*Math.cosh(I))/j}}const O={calculatedDuration:_&&v||null,next:j=>{const V=P(j);if(_)c.done=j>=v;else{let z=j===0?C:0;E<1&&(z=j===0?pr(C):nL(P,j,V));const I=Math.abs(z)<=i,$=Math.abs(l-V)<=s;c.done=I&&$}return c.value=c.done?l:V,c},toString:()=>{const j=Math.min(mw(O),dg),V=tL(z=>O.next(j*z).value,j,30);return j+"ms "+V},toTransition:()=>{}};return O}fg.applyToOptions=e=>{const t=DX(e,100,fg);return e.ease=t.ease,e.duration=pr(t.duration),e.type="keyframes",e};function hx({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:d,restDelta:h=.5,restSpeed:m}){const v=e[0],b={done:!1,value:v},_=I=>c!==void 0&&I<c||d!==void 0&&I>d,C=I=>c===void 0?d:d===void 0||Math.abs(c-I)<Math.abs(d-I)?c:d;let E=n*t;const T=v+E,k=l===void 0?T:l(T);k!==T&&(E=k-v);const N=I=>-E*Math.exp(-I/i),P=I=>k+N(I),O=I=>{const $=N(I),Z=P(I);b.done=Math.abs($)<=h,b.value=b.done?k:Z};let j,V;const z=I=>{_(b.value)&&(j=I,V=fg({keyframes:[b.value,C(b.value)],velocity:nL(P,I,b.value),damping:s,stiffness:o,restDelta:h,restSpeed:m}))};return z(0),{calculatedDuration:null,next:I=>{let $=!1;return!V&&j===void 0&&($=!0,O(I),z(I)),j!==void 0&&I>=j?V.next(I-j):(!$&&O(I),b)}}}function VX(e,t,n){const i=[],s=n||Io.mix||eL,o=e.length-1;for(let l=0;l<o;l++){let c=s(e[l],e[l+1]);if(t){const d=Array.isArray(t)?t[l]||Hs:t;c=ch(d,c)}i.push(c)}return i}function $X(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const o=e.length;if(ow(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=VX(t,i,s),d=c.length,h=m=>{if(l&&m<e[0])return t[0];let v=0;if(d>1)for(;v<e.length-2&&!(m<e[v+1]);v++);const b=jf(e[v],e[v+1],m);return c[v](b)};return n?m=>h(Zr(e[0],e[o-1],m)):h}function HX(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=jf(0,t,i);e.push(un(n,1,s))}}function qX(e){const t=[0];return HX(t,e.length-1),t}function GX(e,t){return e.map(n=>n*t)}function KX(e,t){return e.map(()=>t||$D).splice(0,e.length-1)}function mf({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=sX(i)?i.map(OT):OT(i),o={done:!1,value:t[0]},l=GX(n&&n.length===t.length?n:qX(t),e),c=$X(l,t,{ease:Array.isArray(s)?s:KX(t,s)});return{calculatedDuration:e,next:d=>(o.value=c(d),o.done=d>=e,o)}}const WX=e=>e!==null;function pw(e,{repeat:t,repeatType:n="loop"},i,s=1){const o=e.filter(WX),c=s<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!c||i===void 0?o[c]:i}const YX={decay:hx,inertia:hx,tween:mf,keyframes:mf,spring:fg};function iL(e){typeof e.type=="string"&&(e.type=YX[e.type])}class gw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const ZX=e=>e/100;class vw extends gw{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Li.now()&&this.tick(Li.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;iL(t);const{type:n=mf,repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=t;let{keyframes:c}=t;const d=n||mf;d!==mf&&typeof c[0]!="number"&&(this.mixKeyframes=ch(ZX,eL(c[0],c[1])),c=[0,100]);const h=d({...t,keyframes:c});o==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...c].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=mw(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=h}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:s,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:h=0,keyframes:m,repeat:v,repeatType:b,repeatDelay:_,type:C,onUpdate:E,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const k=this.currentTime-h*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?k<0:k>s;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let P=this.currentTime,O=i;if(v){const I=Math.min(this.currentTime,s)/c;let $=Math.floor(I),Z=I%1;!Z&&I>=1&&(Z=1),Z===1&&$--,$=Math.min($,v+1),$%2&&(b==="reverse"?(Z=1-Z,_&&(Z-=_/c)):b==="mirror"&&(O=l)),P=Zr(0,1,Z)*c}const j=N?{done:!1,value:m[0]}:O.next(P);o&&(j.value=o(j.value));let{done:V}=j;!N&&d!==null&&(V=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return z&&C!==hx&&(j.value=pw(m,this.options,T,this.speed)),E&&E(j.value),z&&this.finish(),j}then(t,n){return this.finished.then(t,n)}get duration(){return Vs(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Vs(t)}get time(){return Vs(this.currentTime)}set time(t){t=pr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Li.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Vs(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=MX,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Li.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function XX(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Fl=e=>e*180/Math.PI,mx=e=>{const t=Fl(Math.atan2(e[1],e[0]));return px(t)},QX={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:mx,rotateZ:mx,skewX:e=>Fl(Math.atan(e[1])),skewY:e=>Fl(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},px=e=>(e=e%360,e<0&&(e+=360),e),BT=mx,UT=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),FT=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),JX={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:UT,scaleY:FT,scale:e=>(UT(e)+FT(e))/2,rotateX:e=>px(Fl(Math.atan2(e[6],e[5]))),rotateY:e=>px(Fl(Math.atan2(-e[2],e[0]))),rotateZ:BT,rotate:BT,skewX:e=>Fl(Math.atan(e[4])),skewY:e=>Fl(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function gx(e){return e.includes("scale")?1:0}function vx(e,t){if(!e||e==="none")return gx(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=JX,s=n;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=QX,s=c}if(!s)return gx(t);const o=i[t],l=s[1].split(",").map(tQ);return typeof o=="function"?o(l):l[o]}const eQ=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return vx(n,t)};function tQ(e){return parseFloat(e.trim())}const Fu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vu=new Set(Fu),VT=e=>e===Uu||e===Ve,nQ=new Set(["x","y","z"]),iQ=Fu.filter(e=>!nQ.has(e));function sQ(e){const t=[];return iQ.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Pa={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>vx(t,"x"),y:(e,{transform:t})=>vx(t,"y")};Pa.translateX=Pa.x;Pa.translateY=Pa.y;const Hl=new Set;let yx=!1,bx=!1,xx=!1;function sL(){if(bx){const e=Array.from(Hl).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=sQ(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([o,l])=>{i.getValue(o)?.set(l)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}bx=!1,yx=!1,Hl.forEach(e=>e.complete(xx)),Hl.clear()}function rL(){Hl.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(bx=!0)})}function rQ(){xx=!0,rL(),sL(),xx=!1}class yw{constructor(t,n,i,s,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Hl.add(this),yx||(yx=!0,Jt.read(rL),Jt.resolveKeyframes(sL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;if(t[0]===null){const o=s?.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&n){const c=i.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}XX(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Hl.delete(this)}cancel(){this.state==="scheduled"&&(Hl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const oQ=e=>e.startsWith("--");function aQ(e,t,n){oQ(t)?e.style.setProperty(t,n):e.style[t]=n}const lQ={};function oL(e,t){const n=MD(e);return()=>lQ[t]??n()}const cQ=oL(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),aL=oL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),nf=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,$T={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nf([0,.65,.55,1]),circOut:nf([.55,0,1,.45]),backIn:nf([.31,.01,.66,-.59]),backOut:nf([.33,1.53,.69,.99])};function lL(e,t){if(e)return typeof e=="function"?aL()?tL(e,t):"ease-out":HD(e)?nf(e):Array.isArray(e)?e.map(n=>lL(n,t)||$T.easeOut):$T[e]}function uQ(e,t,n,{delay:i=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:c="easeOut",times:d}={},h=void 0){const m={[t]:n};d&&(m.offset=d);const v=lL(c,s);Array.isArray(v)&&(m.easing=v);const b={delay:i,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return h&&(b.pseudoElement=h),e.animate(m,b)}function cL(e){return typeof e=="function"&&"applyToOptions"in e}function dQ({type:e,...t}){return cL(e)&&aL()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class uL extends gw{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:i,keyframes:s,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:c,onComplete:d}=t;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=t,ow(typeof t.type!="string");const h=dQ(t);this.animation=uQ(n,i,s,h,o),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const m=pw(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):aQ(n,i,m),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Vs(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Vs(t)}get time(){return Vs(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=pr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&cQ()?(this.animation.timeline=t,Hs):n(this)}}const dL={anticipate:UD,backInOut:BD,circInOut:VD};function fQ(e){return e in dL}function hQ(e){typeof e.ease=="string"&&fQ(e.ease)&&(e.ease=dL[e.ease])}const Qb=10;class mQ extends uL{constructor(t){hQ(t),iL(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:s,element:o,...l}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const c=new vw({...l,autoplay:!1}),d=Math.max(Qb,Li.now()-this.startTime),h=Zr(0,Qb,d-Qb);n.setWithVelocity(c.sample(Math.max(0,d-h)).value,c.sample(d).value,h),c.stop()}}const HT=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(gr.test(e)||e==="0")&&!e.startsWith("url("));function pQ(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function gQ(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],l=HT(s,t),c=HT(o,t);return!l||!c?!1:pQ(e)||(n==="spring"||cL(n))&&i}function _x(e){e.duration=0,e.type="keyframes"}const vQ=new Set(["opacity","clipPath","filter","transform"]),yQ=MD(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function bQ(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:s,damping:o,type:l}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=t.owner.getProps();return yQ()&&n&&vQ.has(n)&&(n!=="transform"||!h)&&!d&&!i&&s!=="mirror"&&o!==0&&l!=="inertia"}const xQ=40;class _Q extends gw{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",keyframes:c,name:d,motionValue:h,element:m,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Li.now();const b={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:o,repeatType:l,name:d,motionValue:h,element:m,...v},_=m?.KeyframeResolver||yw;this.keyframeResolver=new _(c,(C,E,T)=>this.onKeyframesResolved(C,E,b,!T),d,h,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,i,s){this.keyframeResolver=void 0;const{name:o,type:l,velocity:c,delay:d,isHandoff:h,onUpdate:m}=i;this.resolvedAt=Li.now(),gQ(t,o,l,c)||((Io.instantAnimations||!d)&&m?.(pw(t,i,n)),t[0]=t[t.length-1],_x(i),i.repeat=0);const b={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>xQ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},_=!h&&bQ(b),C=b.motionValue?.owner?.current,E=_?new mQ({...b,element:C}):new vw(b);E.finished.then(()=>{this.notifyFinished()}).catch(Hs),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),rQ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function fL(e,t,n,i=0,s=1){const o=Array.from(e).sort((h,m)=>h.sortNodePosition(m)).indexOf(t),l=e.size,c=(l-1)*i;return typeof n=="function"?n(o,l):s===1?o*i:c-o*i}const wQ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function SQ(e){const t=wQ.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function hL(e,t,n=1){const[i,s]=SQ(e);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const l=o.trim();return kD(l)?parseFloat(l):l}return uw(s)?hL(s,t,n+1):s}const CQ={type:"spring",stiffness:500,damping:25,restSpeed:10},EQ=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),AQ={type:"keyframes",duration:.8},TQ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},RQ=(e,{keyframes:t})=>t.length>2?AQ:Vu.has(e)?e.startsWith("scale")?EQ(t[1]):CQ:TQ,NQ=e=>e!==null;function kQ(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(NQ),o=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[o]}function mL(e,t){if(e?.inherit&&t){const{inherit:n,...i}=e;return{...t,...i}}return e}function bw(e,t){const n=e?.[t]??e?.default??e;return n!==e?mL(n,e):n}function PQ({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:c,from:d,elapsed:h,...m}){return!!Object.keys(m).length}const xw=(e,t,n,i={},s,o)=>l=>{const c=bw(i,e)||{},d=c.delay||i.delay||0;let{elapsed:h=0}=i;h=h-pr(d);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-h,onUpdate:b=>{t.set(b),c.onUpdate&&c.onUpdate(b)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:o?void 0:s};PQ(c)||Object.assign(m,RQ(e,m)),m.duration&&(m.duration=pr(m.duration)),m.repeatDelay&&(m.repeatDelay=pr(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let v=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(_x(m),m.delay===0&&(v=!0)),(Io.instantAnimations||Io.skipAnimations||s?.shouldSkipAnimations)&&(v=!0,_x(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,v&&!o&&t.get()!==void 0){const b=kQ(m.keyframes,c);if(b!==void 0){Jt.update(()=>{m.onUpdate(b),m.onComplete()});return}}return c.isSync?new vw(m):new _Q(m)};function qT(e){const t=[{},{}];return e?.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function _w(e,t,n,i){if(typeof t=="function"){const[s,o]=qT(i);t=t(n!==void 0?n:e.custom,s,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,o]=qT(i);t=t(n!==void 0?n:e.custom,s,o)}return t}function Su(e,t,n){const i=e.getProps();return _w(i,t,n!==void 0?n:i.custom,e)}const pL=new Set(["width","height","top","left","right","bottom",...Fu]),GT=30,OQ=e=>!isNaN(parseFloat(e));class MQ{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const s=Li.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Li.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=OQ(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new aw);const i=this.events[t].add(n);return t==="change"?()=>{i(),Jt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Li.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>GT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,GT);return DD(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Nu(e,t){return new MQ(e,t)}const wx=e=>Array.isArray(e);function DQ(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Nu(n))}function LQ(e){return wx(e)?e[e.length-1]||0:e}function jQ(e,t){const n=Su(e,t);let{transitionEnd:i={},transition:s={},...o}=n||{};o={...o,...i};for(const l in o){const c=LQ(o[l]);DQ(e,l,c)}}const Ci=e=>!!(e&&e.getVelocity);function IQ(e){return!!(Ci(e)&&e.add)}function Sx(e,t){const n=e.getValue("willChange");if(IQ(n))return n.add(t);if(!n&&Io.WillChange){const i=new Io.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function ww(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const zQ="framerAppearId",gL="data-"+ww(zQ);function vL(e){return e.props[gL]}function BQ({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function yL(e,t,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:o,transitionEnd:l,...c}=t;const d=e.getDefaultTransition();o=o?mL(o,d):d;const h=o?.reduceMotion;i&&(o=i);const m=[],v=s&&e.animationState&&e.animationState.getState()[s];for(const b in c){const _=e.getValue(b,e.latestValues[b]??null),C=c[b];if(C===void 0||v&&BQ(v,b))continue;const E={delay:n,...bw(o||{},b)},T=_.get();if(T!==void 0&&!_.isAnimating&&!Array.isArray(C)&&C===T&&!E.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const O=vL(e);if(O){const j=window.MotionHandoffAnimation(O,b,Jt);j!==null&&(E.startTime=j,k=!0)}}Sx(e,b);const N=h??e.shouldReduceMotion;_.start(xw(b,_,C,N&&pL.has(b)?{type:!1}:E,e,k));const P=_.animation;P&&m.push(P)}if(l){const b=()=>Jt.update(()=>{l&&jQ(e,l)});m.length?Promise.all(m).then(b):b()}return m}function Cx(e,t,n={}){const i=Su(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(yL(e,i,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:v}=s;return UQ(e,t,d,h,m,v,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[d,h]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>h())}else return Promise.all([o(),l(n.delay)])}function UQ(e,t,n=0,i=0,s=0,o=1,l){const c=[];for(const d of e.variantChildren)d.notify("AnimationStart",t),c.push(Cx(d,t,{...l,delay:n+(typeof i=="function"?0:i)+fL(e.variantChildren,d,i,s,o)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(c)}function FQ(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(o=>Cx(e,o,n));i=Promise.all(s)}else if(typeof t=="string")i=Cx(e,t,n);else{const s=typeof t=="function"?Su(e,t,n.custom):t;i=Promise.all(yL(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}const VQ={test:e=>e==="auto",parse:e=>e},bL=e=>t=>t.test(e),xL=[Uu,Ve,Wr,Sa,vX,gX,VQ],KT=e=>xL.find(bL(e));function $Q(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||OD(e):!0}const HQ=new Set(["brightness","contrast","saturate","opacity"]);function qQ(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(dw)||[];if(!i)return e;const s=n.replace(i,"");let o=HQ.has(t)?1:0;return i!==n&&(o*=100),t+"("+o+s+")"}const GQ=/\b([a-z-]*)\(.*?\)/gu,Ex={...gr,getAnimatableNone:e=>{const t=e.match(GQ);return t?t.map(qQ).join(" "):e}},Ax={...gr,getAnimatableNone:e=>{const t=gr.parse(e);return gr.createTransformer(e)(t.map(i=>typeof i=="number"?0:typeof i=="object"?{...i,alpha:1}:i))}},WT={...Uu,transform:Math.round},KQ={rotate:Sa,rotateX:Sa,rotateY:Sa,rotateZ:Sa,scale:op,scaleX:op,scaleY:op,scaleZ:op,skew:Sa,skewX:Sa,skewY:Sa,distance:Ve,translateX:Ve,translateY:Ve,translateZ:Ve,x:Ve,y:Ve,z:Ve,perspective:Ve,transformPerspective:Ve,opacity:If,originX:DT,originY:DT,originZ:Ve},Sw={borderWidth:Ve,borderTopWidth:Ve,borderRightWidth:Ve,borderBottomWidth:Ve,borderLeftWidth:Ve,borderRadius:Ve,borderTopLeftRadius:Ve,borderTopRightRadius:Ve,borderBottomRightRadius:Ve,borderBottomLeftRadius:Ve,width:Ve,maxWidth:Ve,height:Ve,maxHeight:Ve,top:Ve,right:Ve,bottom:Ve,left:Ve,inset:Ve,insetBlock:Ve,insetBlockStart:Ve,insetBlockEnd:Ve,insetInline:Ve,insetInlineStart:Ve,insetInlineEnd:Ve,padding:Ve,paddingTop:Ve,paddingRight:Ve,paddingBottom:Ve,paddingLeft:Ve,paddingBlock:Ve,paddingBlockStart:Ve,paddingBlockEnd:Ve,paddingInline:Ve,paddingInlineStart:Ve,paddingInlineEnd:Ve,margin:Ve,marginTop:Ve,marginRight:Ve,marginBottom:Ve,marginLeft:Ve,marginBlock:Ve,marginBlockStart:Ve,marginBlockEnd:Ve,marginInline:Ve,marginInlineStart:Ve,marginInlineEnd:Ve,fontSize:Ve,backgroundPositionX:Ve,backgroundPositionY:Ve,...KQ,zIndex:WT,fillOpacity:If,strokeOpacity:If,numOctaves:WT},WQ={...Sw,color:Mn,backgroundColor:Mn,outlineColor:Mn,fill:Mn,stroke:Mn,borderColor:Mn,borderTopColor:Mn,borderRightColor:Mn,borderBottomColor:Mn,borderLeftColor:Mn,filter:Ex,WebkitFilter:Ex,mask:Ax,WebkitMask:Ax},_L=e=>WQ[e],YQ=new Set([Ex,Ax]);function wL(e,t){let n=_L(e);return YQ.has(n)||(n=gr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const ZQ=new Set(["auto","none","0"]);function XQ(e,t,n){let i=0,s;for(;i<e.length&&!s;){const o=e[i];typeof o=="string"&&!ZQ.has(o)&&zf(o).values.length&&(s=e[i]),i++}if(s&&n)for(const o of t)e[o]=wL(n,s)}class QQ extends yw{constructor(t,n,i,s,o){super(t,n,i,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let v=t[m];if(typeof v=="string"&&(v=v.trim(),uw(v))){const b=hL(v,n.current);b!==void 0&&(t[m]=b),m===t.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!pL.has(i)||t.length!==2)return;const[s,o]=t,l=KT(s),c=KT(o),d=MT(s),h=MT(o);if(d!==h&&Pa[i]){this.needsMeasurement=!0;return}if(l!==c)if(VT(l)&&VT(c))for(let m=0;m<t.length;m++){const v=t[m];typeof v=="string"&&(t[m]=parseFloat(v))}else Pa[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||$Q(t[s]))&&i.push(s);i.length&&XQ(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pa[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=Pa[n](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const JQ=new Set(["opacity","clipPath","filter","transform"]);function SL(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const s=n?.[e]??i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e).filter(i=>i!=null)}const CL=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Tx(e){return PD(e)&&"offsetHeight"in e}const{schedule:Cw}=qD(queueMicrotask,!1),ur={x:!1,y:!1};function EL(){return ur.x||ur.y}function eJ(e){return e==="x"||e==="y"?ur[e]?null:(ur[e]=!0,()=>{ur[e]=!1}):ur.x||ur.y?null:(ur.x=ur.y=!0,()=>{ur.x=ur.y=!1})}function AL(e,t){const n=SL(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[n,s,()=>i.abort()]}function tJ(e){return!(e.pointerType==="touch"||EL())}function nJ(e,t,n={}){const[i,s,o]=AL(e,n);return i.forEach(l=>{let c=!1,d=!1,h;const m=()=>{l.removeEventListener("pointerleave",C)},v=T=>{h&&(h(T),h=void 0),m()},b=T=>{c=!1,window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",b),d&&(d=!1,v(T))},_=()=>{c=!0,window.addEventListener("pointerup",b,s),window.addEventListener("pointercancel",b,s)},C=T=>{if(T.pointerType!=="touch"){if(c){d=!0;return}v(T)}},E=T=>{if(!tJ(T))return;d=!1;const k=t(l,T);typeof k=="function"&&(h=k,l.addEventListener("pointerleave",C,s))};l.addEventListener("pointerenter",E,s),l.addEventListener("pointerdown",_,s)}),o}const TL=(e,t)=>t?e===t?!0:TL(e,t.parentElement):!1,Ew=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,iJ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function sJ(e){return iJ.has(e.tagName)||e.isContentEditable===!0}const rJ=new Set(["INPUT","SELECT","TEXTAREA"]);function oJ(e){return rJ.has(e.tagName)||e.isContentEditable===!0}const Ep=new WeakSet;function YT(e){return t=>{t.key==="Enter"&&e(t)}}function Jb(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const aJ=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=YT(()=>{if(Ep.has(n))return;Jb(n,"down");const s=YT(()=>{Jb(n,"up")}),o=()=>Jb(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function ZT(e){return Ew(e)&&!EL()}const XT=new WeakSet;function lJ(e,t,n={}){const[i,s,o]=AL(e,n),l=c=>{const d=c.currentTarget;if(!ZT(c)||XT.has(c))return;Ep.add(d),n.stopPropagation&&XT.add(c);const h=t(d,c),m=(_,C)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),Ep.has(d)&&Ep.delete(d),ZT(_)&&typeof h=="function"&&h(_,{success:C})},v=_=>{m(_,d===window||d===document||n.useGlobalTarget||TL(d,_.target))},b=_=>{m(_,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",b,s)};return i.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),Tx(c)&&(c.addEventListener("focus",h=>aJ(h,s)),!sJ(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function Aw(e){return PD(e)&&"ownerSVGElement"in e}const Ap=new WeakMap;let Tp;const RL=(e,t,n)=>(i,s)=>s&&s[0]?s[0][e+"Size"]:Aw(i)&&"getBBox"in i?i.getBBox()[t]:i[n],cJ=RL("inline","width","offsetWidth"),uJ=RL("block","height","offsetHeight");function dJ({target:e,borderBoxSize:t}){Ap.get(e)?.forEach(n=>{n(e,{get width(){return cJ(e,t)},get height(){return uJ(e,t)}})})}function fJ(e){e.forEach(dJ)}function hJ(){typeof ResizeObserver>"u"||(Tp=new ResizeObserver(fJ))}function mJ(e,t){Tp||hJ();const n=SL(e);return n.forEach(i=>{let s=Ap.get(i);s||(s=new Set,Ap.set(i,s)),s.add(t),Tp?.observe(i)}),()=>{n.forEach(i=>{const s=Ap.get(i);s?.delete(t),s?.size||Tp?.unobserve(i)})}}const Rp=new Set;let fu;function pJ(){fu=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Rp.forEach(t=>t(e))},window.addEventListener("resize",fu)}function gJ(e){return Rp.add(e),fu||pJ(),()=>{Rp.delete(e),!Rp.size&&typeof fu=="function"&&(window.removeEventListener("resize",fu),fu=void 0)}}function QT(e,t){return typeof e=="function"?gJ(e):mJ(e,t)}function vJ(e){return Aw(e)&&e.tagName==="svg"}const yJ=[...xL,Mn,gr],bJ=e=>yJ.find(bL(e)),JT=()=>({translate:0,scale:1,origin:0,originPoint:0}),hu=()=>({x:JT(),y:JT()}),eR=()=>({min:0,max:0}),Fn=()=>({x:eR(),y:eR()}),xJ=new WeakMap;function Zg(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Bf(e){return typeof e=="string"||Array.isArray(e)}const Tw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Rw=["initial",...Tw];function Xg(e){return Zg(e.animate)||Rw.some(t=>Bf(e[t]))}function NL(e){return!!(Xg(e)||e.variants)}function _J(e,t,n){for(const i in t){const s=t[i],o=n[i];if(Ci(s))e.addValue(i,s);else if(Ci(o))e.addValue(i,Nu(s,{owner:e}));else if(o!==s)if(e.hasValue(i)){const l=e.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=e.getStaticValue(i);e.addValue(i,Nu(l!==void 0?l:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const Rx={current:null},kL={current:!1},wJ=typeof window<"u";function SJ(){if(kL.current=!0,!!wJ)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Rx.current=e.matches;e.addEventListener("change",t),t()}else Rx.current=!1}const tR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let hg={};function PL(e){hg=e}function CJ(){return hg}class EJ{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,skipAnimations:o,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=yw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Li.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Jt.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.skipAnimationsConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Xg(n),this.isVariantNode=NL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in b){const C=b[_];h[_]!==void 0&&Ci(C)&&C.set(h[_])}}mount(t){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=t,xJ.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(kL.current||SJ(),this.shouldReduceMotion=Rx.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Ba(this.notifyUpdate),Ba(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),n.accelerate&&JQ.has(t)&&this.current instanceof HTMLElement){const{factory:l,keyframes:c,times:d,ease:h,duration:m}=n.accelerate,v=new uL({element:this.current,name:t,keyframes:c,times:d,ease:h,duration:pr(m)}),b=l(v);this.valueSubscriptions.set(t,()=>{b(),v.cancel()});return}const i=Vu.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Jt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in hg){const n=hg[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<tR.length;i++){const s=tR[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=t[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=_J(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=Nu(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(kD(i)||OD(i))?i=parseFloat(i):!bJ(i)&&gr.test(n)&&(i=wL(t,n)),this.setBaseTarget(t,Ci(i)?i.get():i)),Ci(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=_w(this.props,n,this.presenceContext?.custom);o&&(i=o[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Ci(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new aw),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Cw.render(this.render)}}class OL extends EJ{constructor(){super(...arguments),this.KeyframeResolver=QQ}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const i=t.style;return i?i[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ci(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class $a{constructor(t){this.isMounted=!1,this.node=t}update(){}}function ML({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function AJ({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function TJ(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function e0(e){return e===void 0||e===1}function Nx({scale:e,scaleX:t,scaleY:n}){return!e0(e)||!e0(t)||!e0(n)}function Dl(e){return Nx(e)||DL(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function DL(e){return nR(e.x)||nR(e.y)}function nR(e){return e&&e!=="0%"}function mg(e,t,n){const i=e-n,s=t*i;return n+s}function iR(e,t,n,i,s){return s!==void 0&&(e=mg(e,s,i)),mg(e,n,i)+t}function kx(e,t=0,n=1,i,s){e.min=iR(e.min,t,n,i,s),e.max=iR(e.max,t,n,i,s)}function LL(e,{x:t,y:n}){kx(e.x,t.translate,t.scale,t.originPoint),kx(e.y,n.translate,n.scale,n.originPoint)}const sR=.999999999999,rR=1.0000000000001;function RJ(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let o,l;for(let c=0;c<s;c++){o=n[c],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&pu(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,LL(e,l)),i&&Dl(o.latestValues)&&pu(e,o.latestValues))}t.x<rR&&t.x>sR&&(t.x=1),t.y<rR&&t.y>sR&&(t.y=1)}function mu(e,t){e.min=e.min+t,e.max=e.max+t}function oR(e,t,n,i,s=.5){const o=un(e.min,e.max,s);kx(e,t,n,o,i)}function pu(e,t){oR(e.x,t.x,t.scaleX,t.scale,t.originX),oR(e.y,t.y,t.scaleY,t.scale,t.originY)}function jL(e,t){return ML(TJ(e.getBoundingClientRect(),t))}function NJ(e,t,n){const i=jL(e,n),{scroll:s}=t;return s&&(mu(i.x,s.offset.x),mu(i.y,s.offset.y)),i}const kJ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},PJ=Fu.length;function OJ(e,t,n){let i="",s=!0;for(let o=0;o<PJ;o++){const l=Fu[o],c=e[l];if(c===void 0)continue;let d=!0;if(typeof c=="number")d=c===(l.startsWith("scale")?1:0);else{const h=parseFloat(c);d=l.startsWith("scale")?h===1:h===0}if(!d||n){const h=CL(c,Sw[l]);if(!d){s=!1;const m=kJ[l]||l;i+=`${m}(${h}) `}n&&(t[l]=h)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function Nw(e,t,n){const{style:i,vars:s,transformOrigin:o}=e;let l=!1,c=!1;for(const d in t){const h=t[d];if(Vu.has(d)){l=!0;continue}else if(KD(d)){s[d]=h;continue}else{const m=CL(h,Sw[d]);d.startsWith("origin")?(c=!0,o[d]=m):i[d]=m}}if(t.transform||(l||n?i.transform=OJ(t,e.transform,n):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:m=0}=o;i.transformOrigin=`${d} ${h} ${m}`}}function IL(e,{style:t,vars:n},i,s){const o=e.style;let l;for(l in t)o[l]=t[l];s?.applyProjectionStyles(o,i);for(l in n)o.setProperty(l,n[l])}function aR(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Jd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ve.test(e))e=parseFloat(e);else return e;const n=aR(e,t.target.x),i=aR(e,t.target.y);return`${n}% ${i}%`}},MJ={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=gr.parse(e);if(s.length>5)return i;const o=gr.createTransformer(e),l=typeof s[0]!="number"?1:0,c=n.x.scale*t.x,d=n.y.scale*t.y;s[0+l]/=c,s[1+l]/=d;const h=un(c,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=h),typeof s[3+l]=="number"&&(s[3+l]/=h),o(s)}},Px={borderRadius:{...Jd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jd,borderTopRightRadius:Jd,borderBottomLeftRadius:Jd,borderBottomRightRadius:Jd,boxShadow:MJ};function zL(e,{layout:t,layoutId:n}){return Vu.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Px[e]||e==="opacity")}function kw(e,t,n){const i=e.style,s=t?.style,o={};if(!i)return o;for(const l in i)(Ci(i[l])||s&&Ci(s[l])||zL(l,e)||n?.getValue(l)?.liveStyle!==void 0)&&(o[l]=i[l]);return o}function DJ(e){return window.getComputedStyle(e)}class LJ extends OL{constructor(){super(...arguments),this.type="html",this.renderInstance=IL}readValueFromInstance(t,n){if(Vu.has(n))return this.projection?.isProjecting?gx(n):eQ(t,n);{const i=DJ(t),s=(KD(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return jL(t,n)}build(t,n,i){Nw(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return kw(t,n,i)}}const jJ={offset:"stroke-dashoffset",array:"stroke-dasharray"},IJ={offset:"strokeDashoffset",array:"strokeDasharray"};function zJ(e,t,n=1,i=0,s=!0){e.pathLength=1;const o=s?jJ:IJ;e[o.offset]=`${-i}`,e[o.array]=`${t} ${n}`}const BJ=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function BL(e,{attrX:t,attrY:n,attrScale:i,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...c},d,h,m){if(Nw(e,c,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:b}=e;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=m?.transformBox??"fill-box",delete v.transformBox);for(const _ of BJ)v[_]!==void 0&&(b[_]=v[_],delete v[_]);t!==void 0&&(v.x=t),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),s!==void 0&&zJ(v,s,o,l,!1)}const UL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),FL=e=>typeof e=="string"&&e.toLowerCase()==="svg";function UJ(e,t,n,i){IL(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(UL.has(s)?s:ww(s),t.attrs[s])}function VL(e,t,n){const i=kw(e,t,n);for(const s in e)if(Ci(e[s])||Ci(t[s])){const o=Fu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[o]=e[s]}return i}class FJ extends OL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Vu.has(n)){const i=_L(n);return i&&i.default||0}return n=UL.has(n)?n:ww(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return VL(t,n,i)}build(t,n,i){BL(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,s){UJ(t,n,i,s)}mount(t){this.isSVGTag=FL(t.tagName),super.mount(t)}}const VJ=Rw.length;function $L(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?$L(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<VJ;n++){const i=Rw[n],s=e.props[i];(Bf(s)||s===!1)&&(t[i]=s)}return t}function HL(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const $J=[...Tw].reverse(),HJ=Tw.length;function qJ(e){return t=>Promise.all(t.map(({animation:n,options:i})=>FQ(e,n,i)))}function GJ(e){let t=qJ(e),n=lR(),i=!0;const s=d=>(h,m)=>{const v=Su(e,m,d==="exit"?e.presenceContext?.custom:void 0);if(v){const{transition:b,transitionEnd:_,...C}=v;h={...h,...C,..._}}return h};function o(d){t=d(e)}function l(d){const{props:h}=e,m=$L(e.parent)||{},v=[],b=new Set;let _={},C=1/0;for(let T=0;T<HJ;T++){const k=$J[T],N=n[k],P=h[k]!==void 0?h[k]:m[k],O=Bf(P),j=k===d?N.isActive:null;j===!1&&(C=T);let V=P===m[k]&&P!==h[k]&&O;if(V&&i&&e.manuallyAnimateOnMount&&(V=!1),N.protectedKeys={..._},!N.isActive&&j===null||!P&&!N.prevProp||Zg(P)||typeof P=="boolean")continue;if(k==="exit"&&N.isActive&&j!==!0){N.prevResolvedValues&&(_={..._,...N.prevResolvedValues});continue}const z=KJ(N.prevProp,P);let I=z||k===d&&N.isActive&&!V&&O||T>C&&O,$=!1;const Z=Array.isArray(P)?P:[P];let K=Z.reduce(s(k),{});j===!1&&(K={});const{prevResolvedValues:Y={}}=N,Q={...Y,...K},ie=W=>{I=!0,b.has(W)&&($=!0,b.delete(W)),N.needsAnimating[W]=!0;const ee=e.getValue(W);ee&&(ee.liveStyle=!1)};for(const W in Q){const ee=K[W],de=Y[W];if(_.hasOwnProperty(W))continue;let ae=!1;wx(ee)&&wx(de)?ae=!HL(ee,de):ae=ee!==de,ae?ee!=null?ie(W):b.add(W):ee!==void 0&&b.has(W)?ie(W):N.protectedKeys[W]=!0}N.prevProp=P,N.prevResolvedValues=K,N.isActive&&(_={..._,...K}),i&&e.blockInitialAnimation&&(I=!1);const ge=V&&z;I&&(!ge||$)&&v.push(...Z.map(W=>{const ee={type:k};if(typeof W=="string"&&i&&!ge&&e.manuallyAnimateOnMount&&e.parent){const{parent:de}=e,ae=Su(de,W);if(de.enteringChildren&&ae){const{delayChildren:G}=ae.transition||{};ee.delay=fL(de.enteringChildren,e,G)}}return{animation:W,options:ee}}))}if(b.size){const T={};if(typeof h.initial!="boolean"){const k=Su(e,Array.isArray(h.initial)?h.initial[0]:h.initial);k&&k.transition&&(T.transition=k.transition)}b.forEach(k=>{const N=e.getBaseTarget(k),P=e.getValue(k);P&&(P.liveStyle=!0),T[k]=N??null}),v.push({animation:T})}let E=!!v.length;return i&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(E=!1),i=!1,E?t(v):Promise.resolve()}function c(d,h){if(n[d].isActive===h)return Promise.resolve();e.variantChildren?.forEach(v=>v.animationState?.setActive(d,h)),n[d].isActive=h;const m=l(d);for(const v in n)n[v].protectedKeys={};return m}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=lR()}}}function KJ(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!HL(t,e):!1}function Pl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lR(){return{animate:Pl(!0),whileInView:Pl(),whileHover:Pl(),whileTap:Pl(),whileDrag:Pl(),whileFocus:Pl(),exit:Pl()}}function cR(e,t){e.min=t.min,e.max=t.max}function lr(e,t){cR(e.x,t.x),cR(e.y,t.y)}function uR(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const qL=1e-4,WJ=1-qL,YJ=1+qL,GL=.01,ZJ=0-GL,XJ=0+GL;function ji(e){return e.max-e.min}function QJ(e,t,n){return Math.abs(e-t)<=n}function dR(e,t,n,i=.5){e.origin=i,e.originPoint=un(t.min,t.max,e.origin),e.scale=ji(n)/ji(t),e.translate=un(n.min,n.max,e.origin)-e.originPoint,(e.scale>=WJ&&e.scale<=YJ||isNaN(e.scale))&&(e.scale=1),(e.translate>=ZJ&&e.translate<=XJ||isNaN(e.translate))&&(e.translate=0)}function pf(e,t,n,i){dR(e.x,t.x,n.x,i?i.originX:void 0),dR(e.y,t.y,n.y,i?i.originY:void 0)}function fR(e,t,n){e.min=n.min+t.min,e.max=e.min+ji(t)}function JJ(e,t,n){fR(e.x,t.x,n.x),fR(e.y,t.y,n.y)}function hR(e,t,n){e.min=t.min-n.min,e.max=e.min+ji(t)}function pg(e,t,n){hR(e.x,t.x,n.x),hR(e.y,t.y,n.y)}function mR(e,t,n,i,s){return e-=t,e=mg(e,1/n,i),s!==void 0&&(e=mg(e,1/s,i)),e}function eee(e,t=0,n=1,i=.5,s,o=e,l=e){if(Wr.test(t)&&(t=parseFloat(t),t=un(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=un(o.min,o.max,i);e===o&&(c-=t),e.min=mR(e.min,t,n,c,s),e.max=mR(e.max,t,n,c,s)}function pR(e,t,[n,i,s],o,l){eee(e,t[n],t[i],t[s],t.scale,o,l)}const tee=["x","scaleX","originX"],nee=["y","scaleY","originY"];function gR(e,t,n,i){pR(e.x,t,tee,n?n.x:void 0,i?i.x:void 0),pR(e.y,t,nee,n?n.y:void 0,i?i.y:void 0)}function vR(e){return e.translate===0&&e.scale===1}function KL(e){return vR(e.x)&&vR(e.y)}function yR(e,t){return e.min===t.min&&e.max===t.max}function iee(e,t){return yR(e.x,t.x)&&yR(e.y,t.y)}function bR(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function WL(e,t){return bR(e.x,t.x)&&bR(e.y,t.y)}function xR(e){return ji(e.x)/ji(e.y)}function _R(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Ur(e){return[e("x"),e("y")]}function see(e,t,n){let i="";const s=e.x.translate/t.x,o=e.y.translate/t.y,l=n?.z||0;if((s||o||l)&&(i=`translate3d(${s}px, ${o}px, ${l}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:h,rotate:m,rotateX:v,rotateY:b,skewX:_,skewY:C}=n;h&&(i=`perspective(${h}px) ${i}`),m&&(i+=`rotate(${m}deg) `),v&&(i+=`rotateX(${v}deg) `),b&&(i+=`rotateY(${b}deg) `),_&&(i+=`skewX(${_}deg) `),C&&(i+=`skewY(${C}deg) `)}const c=e.x.scale*t.x,d=e.y.scale*t.y;return(c!==1||d!==1)&&(i+=`scale(${c}, ${d})`),i||"none"}const YL=["TopLeft","TopRight","BottomLeft","BottomRight"],ree=YL.length,wR=e=>typeof e=="string"?parseFloat(e):e,SR=e=>typeof e=="number"||Ve.test(e);function oee(e,t,n,i,s,o){s?(e.opacity=un(0,n.opacity??1,aee(i)),e.opacityExit=un(t.opacity??1,0,lee(i))):o&&(e.opacity=un(t.opacity??1,n.opacity??1,i));for(let l=0;l<ree;l++){const c=`border${YL[l]}Radius`;let d=CR(t,c),h=CR(n,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||SR(d)===SR(h)?(e[c]=Math.max(un(wR(d),wR(h),i),0),(Wr.test(h)||Wr.test(d))&&(e[c]+="%")):e[c]=h}(t.rotate||n.rotate)&&(e.rotate=un(t.rotate||0,n.rotate||0,i))}function CR(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const aee=ZL(0,.5,FD),lee=ZL(.5,.95,Hs);function ZL(e,t,n){return i=>i<e?0:i>t?1:n(jf(e,t,i))}function cee(e,t,n){const i=Ci(e)?e:Nu(e);return i.start(xw("",i,t,n)),i.animation}function Uf(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}const uee=(e,t)=>e.depth-t.depth;class dee{constructor(){this.children=[],this.isDirty=!1}add(t){rw(this.children,t),this.isDirty=!0}remove(t){cg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(uee),this.isDirty=!1,this.children.forEach(t)}}function fee(e,t){const n=Li.now(),i=({timestamp:s})=>{const o=s-n;o>=t&&(Ba(i),e(o-t))};return Jt.setup(i,!0),()=>Ba(i)}function Np(e){return Ci(e)?e.get():e}class hee{constructor(){this.members=[]}add(t){rw(this.members,t);for(let n=this.members.length-1;n>=0;n--){const i=this.members[n];if(i===t||i===this.lead||i===this.prevLead)continue;const s=i.instance;s&&s.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&cg(this.members,i)}t.scheduleRender()}remove(t){if(cg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const o=this.members[s],l=o.instance;if(o.isPresent!==!1&&(!l||l.isConnected!==!1)){i=o;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender();const s=i.options.layoutDependency,o=t.options.layoutDependency;if(!(s!==void 0&&o!==void 0&&s===o)){const d=i.instance;d&&d.isConnected===!1&&!i.snapshot||(t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:c}=t.options;c===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const kp={hasAnimatedSinceResize:!0,hasEverUpdated:!1},t0=["","X","Y","Z"],mee=1e3;let pee=0;function n0(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function XL(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=vL(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Jt,!(s||o))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&XL(i)}function QL({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},c=t?.()){this.id=pee++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(yee),this.nodes.forEach(wee),this.nodes.forEach(See),this.nodes.forEach(bee)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new dee)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new aw),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=Aw(l)&&!vJ(l),this.instance=l;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),e){let m,v=0;const b=()=>this.root.updateBlockedByResize=!1;Jt.read(()=>{v=window.innerWidth}),e(l,()=>{const _=window.innerWidth;_!==v&&(v=_,this.root.updateBlockedByResize=!0,m&&m(),m=fee(b,250),kp.hasAnimatedSinceResize&&(kp.hasAnimatedSinceResize=!1,this.nodes.forEach(TR)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||h.getDefaultTransition()||Ree,{onLayoutAnimationStart:E,onLayoutAnimationComplete:T}=h.getProps(),k=!this.targetLayout||!WL(this.targetLayout,_),N=!v&&b;if(this.options.layoutRoot||this.resumeFrom||N||v&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={...bw(C,"layout"),onPlay:E,onComplete:T};(h.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(m,N)}else v||TR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ba(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Cee),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&XL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ER);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(AR);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(_ee),this.nodes.forEach(gee),this.nodes.forEach(vee)):this.nodes.forEach(AR),this.clearAllSnapshots();const c=Li.now();hi.delta=Zr(0,1e3/60,c-hi.timestamp),hi.timestamp=c,hi.isProcessing=!0,Kb.update.process(hi),Kb.preRender.process(hi),Kb.render.process(hi),hi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Cw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xee),this.sharedNodes.forEach(Eee)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Jt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Jt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ji(this.snapshot.measuredBox.x)&&!ji(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Fn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!KL(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;l&&this.instance&&(c||Dl(this.latestValues)||m)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),Nee(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Fn();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(kee))){const{scroll:h}=this.root;h&&(mu(c.x,h.offset.x),mu(c.y,h.offset.y))}return c}removeElementScroll(l){const c=Fn();if(lr(c,l),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:m,options:v}=h;h!==this.root&&m&&v.layoutScroll&&(m.wasRoot&&lr(c,l),mu(c.x,m.offset.x),mu(c.y,m.offset.y))}return c}applyTransform(l,c=!1){const d=Fn();lr(d,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&pu(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Dl(m.latestValues)&&pu(d,m.latestValues)}return Dl(this.latestValues)&&pu(d,this.latestValues),d}removeTransform(l){const c=Fn();lr(c,l);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!Dl(h.latestValues))continue;Nx(h.latestValues)&&h.updateSnapshot();const m=Fn(),v=h.measurePageBox();lr(m,v),gR(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return Dl(this.latestValues)&&gR(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==hi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:v}=this.options;if(!this.layout||!(m||v))return;this.resolvedRelativeTargetAt=hi.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Fn(),this.targetWithTransforms=Fn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),JJ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):lr(this.target,this.layout.layoutBox),LL(this.target,this.targetDelta)):lr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Nx(this.parent.latestValues)||DL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,c,d){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fn(),this.relativeTargetOrigin=Fn(),pg(this.relativeTargetOrigin,c,d),lr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===hi.timestamp&&(d=!1),d)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;lr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;RJ(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Fn());const{target:_}=l;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(uR(this.prevProjectionDelta.x,this.projectionDelta.x),uR(this.prevProjectionDelta.y,this.projectionDelta.y)),pf(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!_R(this.projectionDelta.x,this.prevProjectionDelta.x)||!_R(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=hu(),this.projectionDelta=hu(),this.projectionDeltaWithTransform=hu()}setAnimationOrigin(l,c=!1){const d=this.snapshot,h=d?d.latestValues:{},m={...this.latestValues},v=hu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const b=Fn(),_=d?d.source:void 0,C=this.layout?this.layout.source:void 0,E=_!==C,T=this.getStack(),k=!T||T.members.length<=1,N=!!(E&&!k&&this.options.crossfade===!0&&!this.path.some(Tee));this.animationProgress=0;let P;this.mixTargetDelta=O=>{const j=O/1e3;RR(v.x,l.x,j),RR(v.y,l.y,j),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pg(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Aee(this.relativeTarget,this.relativeTargetOrigin,b,j),P&&iee(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=Fn()),lr(P,this.relativeTarget)),E&&(this.animationValues=m,oee(m,h,this.latestValues,j,N,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ba(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Jt.update(()=>{kp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Nu(0)),this.motionValue.jump(0,!1),this.currentAnimation=cee(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mee),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:m}=l;if(!(!c||!d||!h)){if(this!==l&&this.layout&&h&&JL(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||Fn();const v=ji(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+v;const b=ji(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+b}lr(c,d),pu(c,m),pf(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new hee),this.sharedNodes.get(l).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&n0("z",l,h,this.animationValues);for(let m=0;m<t0.length;m++)n0(`rotate${t0[m]}`,l,h,this.animationValues),n0(`skew${t0[m]}`,l,h,this.animationValues);l.render();for(const m in h)l.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Np(c?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Np(c?.pointerEvents)||""),this.hasProjected&&!Dl(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let v=see(this.projectionDeltaWithTransform,this.treeScale,m);d&&(v=d(m,v)),l.transform=v;const{x:b,y:_}=this.projectionDelta;l.transformOrigin=`${b.origin*100}% ${_.origin*100}% 0`,h.animationValues?l.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const C in Px){if(m[C]===void 0)continue;const{correct:E,applyTo:T,isCSSVariable:k}=Px[C],N=v==="none"?m[C]:E(m[C],h);if(T){const P=T.length;for(let O=0;O<P;O++)l[T[O]]=N}else k?this.options.visualElement.renderState.vars[C]=N:l[C]=N}this.options.layoutId&&(l.pointerEvents=h===this?Np(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(ER),this.root.sharedNodes.clear()}}}function gee(e){e.updateLayout()}function vee(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,o=t.source!==e.layout.source;s==="size"?Ur(m=>{const v=o?t.measuredBox[m]:t.layoutBox[m],b=ji(v);v.min=n[m].min,v.max=v.min+b}):JL(s,t.layoutBox,n)&&Ur(m=>{const v=o?t.measuredBox[m]:t.layoutBox[m],b=ji(n[m]);v.max=v.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+b)});const l=hu();pf(l,n,t.layoutBox);const c=hu();o?pf(c,e.applyTransform(i,!0),t.measuredBox):pf(c,n,t.layoutBox);const d=!KL(l);let h=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:v,layout:b}=m;if(v&&b){const _=Fn();pg(_,t.layoutBox,v.layoutBox);const C=Fn();pg(C,n,b.layoutBox),WL(_,C)||(h=!0),m.options.layoutRoot&&(e.relativeTarget=C,e.relativeTargetOrigin=_,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function yee(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function bee(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function xee(e){e.clearSnapshot()}function ER(e){e.clearMeasurements()}function AR(e){e.isLayoutDirty=!1}function _ee(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function TR(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function wee(e){e.resolveTargetDelta()}function See(e){e.calcProjection()}function Cee(e){e.resetSkewAndRotation()}function Eee(e){e.removeLeadSnapshot()}function RR(e,t,n){e.translate=un(t.translate,0,n),e.scale=un(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function NR(e,t,n,i){e.min=un(t.min,n.min,i),e.max=un(t.max,n.max,i)}function Aee(e,t,n,i){NR(e.x,t.x,n.x,i),NR(e.y,t.y,n.y,i)}function Tee(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Ree={duration:.45,ease:[.4,0,.1,1]},kR=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),PR=kR("applewebkit/")&&!kR("chrome/")?Math.round:Hs;function OR(e){e.min=PR(e.min),e.max=PR(e.max)}function Nee(e){OR(e.x),OR(e.y)}function JL(e,t,n){return e==="position"||e==="preserve-aspect"&&!QJ(xR(t),xR(n),.2)}function kee(e){return e!==e.root&&e.scroll?.wasRoot}const Pee=QL({attachResizeListener:(e,t)=>Uf(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),i0={current:void 0},ej=QL({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!i0.current){const e=new Pee({});e.mount(window),e.setOptions({layoutScroll:!0}),i0.current=e}return i0.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Pw=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function MR(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Oee(...e){return t=>{let n=!1;const i=e.map(s=>{const o=MR(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<i.length;s++){const o=i[s];typeof o=="function"?o():MR(e[s],null)}}}}function Mee(...e){return x.useCallback(Oee(...e),e)}class Dee extends x.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=n.offsetParent,s=Tx(i)&&i.offsetWidth||0,o=Tx(i)&&i.offsetHeight||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=s-l.width-l.left,l.bottom=o-l.height-l.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Lee({children:e,isPresent:t,anchorX:n,anchorY:i,root:s,pop:o}){const l=x.useId(),c=x.useRef(null),d=x.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:h}=x.useContext(Pw),m=e.props?.ref??e?.ref,v=Mee(c,m);return x.useInsertionEffect(()=>{const{width:b,height:_,top:C,left:E,right:T,bottom:k}=d.current;if(t||o===!1||!c.current||!b||!_)return;const N=n==="left"?`left: ${E}`:`right: ${T}`,P=i==="bottom"?`bottom: ${k}`:`top: ${C}`;c.current.dataset.motionPopId=l;const O=document.createElement("style");h&&(O.nonce=h);const j=s??document.head;return j.appendChild(O),O.sheet&&O.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${b}px !important;
            height: ${_}px !important;
            ${N}px !important;
            ${P}px !important;
          }
        `),()=>{j.contains(O)&&j.removeChild(O)}},[t]),y.jsx(Dee,{isPresent:t,childRef:c,sizeRef:d,pop:o,children:o===!1?e:x.cloneElement(e,{ref:v})})}const jee=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:o,mode:l,anchorX:c,anchorY:d,root:h})=>{const m=Wg(Iee),v=x.useId();let b=!0,_=x.useMemo(()=>(b=!1,{id:v,initial:t,isPresent:n,custom:s,onExitComplete:C=>{m.set(C,!0);for(const E of m.values())if(!E)return;i&&i()},register:C=>(m.set(C,!1),()=>m.delete(C))}),[n,m,i]);return o&&b&&(_={..._}),x.useMemo(()=>{m.forEach((C,E)=>m.set(E,!1))},[n]),x.useEffect(()=>{!n&&!m.size&&i&&i()},[n]),e=y.jsx(Lee,{pop:l==="popLayout",isPresent:n,anchorX:c,anchorY:d,root:h,children:e}),y.jsx(Yg.Provider,{value:_,children:e})};function Iee(){return new Map}function tj(e=!0){const t=x.useContext(Yg);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,o=x.useId();x.useEffect(()=>{if(e)return s(o)},[e]);const l=x.useCallback(()=>e&&i&&i(o),[o,i,e]);return!n&&i?[!1,l]:[!0]}const ap=e=>e.key||"";function DR(e){const t=[];return x.Children.forEach(e,n=>{x.isValidElement(n)&&t.push(n)}),t}const ku=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync",propagate:l=!1,anchorX:c="left",anchorY:d="top",root:h})=>{const[m,v]=tj(l),b=x.useMemo(()=>DR(e),[e]),_=l&&!m?[]:b.map(ap),C=x.useRef(!0),E=x.useRef(b),T=Wg(()=>new Map),k=x.useRef(new Set),[N,P]=x.useState(b),[O,j]=x.useState(b);ND(()=>{C.current=!1,E.current=b;for(let I=0;I<O.length;I++){const $=ap(O[I]);_.includes($)?(T.delete($),k.current.delete($)):T.get($)!==!0&&T.set($,!1)}},[O,_.length,_.join("-")]);const V=[];if(b!==N){let I=[...b];for(let $=0;$<O.length;$++){const Z=O[$],K=ap(Z);_.includes(K)||(I.splice($,0,Z),V.push(Z))}return o==="wait"&&V.length&&(I=V),j(DR(I)),P(b),null}const{forceRender:z}=x.useContext(sw);return y.jsx(y.Fragment,{children:O.map(I=>{const $=ap(I),Z=l&&!m?!1:b===O||_.includes($),K=()=>{if(k.current.has($))return;if(k.current.add($),T.has($))T.set($,!0);else return;let Y=!0;T.forEach(Q=>{Q||(Y=!1)}),Y&&(z?.(),j(E.current),l&&v?.(),i&&i())};return y.jsx(jee,{isPresent:Z,initial:!C.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:o,root:h,onExitComplete:Z?void 0:K,anchorX:c,anchorY:d,children:I},$)})})},nj=x.createContext({strict:!1}),LR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let jR=!1;function zee(){if(jR)return;const e={};for(const t in LR)e[t]={isEnabled:n=>LR[t].some(i=>!!n[i])};PL(e),jR=!0}function ij(){return zee(),CJ()}function Bee(e){const t=ij();for(const n in e)t[n]={...t[n],...e[n]};PL(t)}const Uee=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function gg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Uee.has(e)}let sj=e=>!gg(e);function Fee(e){typeof e=="function"&&(sj=t=>t.startsWith("on")?!gg(t):e(t))}try{Fee(require("@emotion/is-prop-valid").default)}catch{}function Vee(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(sj(s)||n===!0&&gg(s)||!t&&!gg(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}const Qg=x.createContext({});function $ee(e,t){if(Xg(e)){const{initial:n,animate:i}=e;return{initial:n===!1||Bf(n)?n:void 0,animate:Bf(i)?i:void 0}}return e.inherit!==!1?t:{}}function Hee(e){const{initial:t,animate:n}=$ee(e,x.useContext(Qg));return x.useMemo(()=>({initial:t,animate:n}),[IR(t),IR(n)])}function IR(e){return Array.isArray(e)?e.join(" "):e}const Ow=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rj(e,t,n){for(const i in t)!Ci(t[i])&&!zL(i,n)&&(e[i]=t[i])}function qee({transformTemplate:e},t){return x.useMemo(()=>{const n=Ow();return Nw(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Gee(e,t){const n=e.style||{},i={};return rj(i,n,e),Object.assign(i,qee(e,t)),i}function Kee(e,t){const n={},i=Gee(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const oj=()=>({...Ow(),attrs:{}});function Wee(e,t,n,i){const s=x.useMemo(()=>{const o=oj();return BL(o,t,FL(i),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};rj(o,e.style,e),s.style={...o,...s.style}}return s}const Yee=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Mw(e){return typeof e!="string"||e.includes("-")?!1:!!(Yee.indexOf(e)>-1||/[A-Z]/u.test(e))}function Zee(e,t,n,{latestValues:i},s,o=!1,l){const d=(l??Mw(e)?Wee:Kee)(t,i,s,e),h=Vee(t,typeof e=="string",o),m=e!==x.Fragment?{...h,...d,ref:n}:{},{children:v}=t,b=x.useMemo(()=>Ci(v)?v.get():v,[v]);return x.createElement(e,{...m,children:b})}function Xee({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,s){return{latestValues:Qee(n,i,s,e),renderState:t()}}function Qee(e,t,n,i){const s={},o=i(e,{});for(const b in o)s[b]=Np(o[b]);let{initial:l,animate:c}=e;const d=Xg(e),h=NL(e);t&&h&&!d&&e.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const v=m?c:l;if(v&&typeof v!="boolean"&&!Zg(v)){const b=Array.isArray(v)?v:[v];for(let _=0;_<b.length;_++){const C=_w(e,b[_]);if(C){const{transitionEnd:E,transition:T,...k}=C;for(const N in k){let P=k[N];if(Array.isArray(P)){const O=m?P.length-1:0;P=P[O]}P!==null&&(s[N]=P)}for(const N in E)s[N]=E[N]}}}return s}const aj=e=>(t,n)=>{const i=x.useContext(Qg),s=x.useContext(Yg),o=()=>Xee(e,t,i,s);return n?o():Wg(o)},Jee=aj({scrapeMotionValuesFromProps:kw,createRenderState:Ow}),ete=aj({scrapeMotionValuesFromProps:VL,createRenderState:oj}),tte=Symbol.for("motionComponentSymbol");function nte(e,t,n){const i=x.useRef(n);x.useInsertionEffect(()=>{i.current=n});const s=x.useRef(null);return x.useCallback(o=>{o&&e.onMount?.(o),t&&(o?t.mount(o):t.unmount());const l=i.current;if(typeof l=="function")if(o){const c=l(o);typeof c=="function"&&(s.current=c)}else s.current?(s.current(),s.current=null):l(o);else l&&(l.current=o)},[t])}const lj=x.createContext({});function cu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function ite(e,t,n,i,s,o){const{visualElement:l}=x.useContext(Qg),c=x.useContext(nj),d=x.useContext(Yg),h=x.useContext(Pw),m=h.reducedMotion,v=h.skipAnimations,b=x.useRef(null),_=x.useRef(!1);i=i||c.renderer,!b.current&&i&&(b.current=i(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m,skipAnimations:v,isSVG:o}),_.current&&b.current&&(b.current.manuallyAnimateOnMount=!0));const C=b.current,E=x.useContext(lj);C&&!C.projection&&s&&(C.type==="html"||C.type==="svg")&&ste(b.current,n,s,E);const T=x.useRef(!1);x.useInsertionEffect(()=>{C&&T.current&&C.update(n,d)});const k=n[gL],N=x.useRef(!!k&&!window.MotionHandoffIsComplete?.(k)&&window.MotionHasOptimisedAnimation?.(k));return ND(()=>{_.current=!0,C&&(T.current=!0,window.MotionIsMounted=!0,C.updateFeatures(),C.scheduleRenderMicrotask(),N.current&&C.animationState&&C.animationState.animateChanges())}),x.useEffect(()=>{C&&(!N.current&&C.animationState&&C.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(k)}),N.current=!1),C.enteringChildren=void 0)}),C}function ste(e,t,n,i){const{layoutId:s,layout:o,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:h,layoutCrossfade:m}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:cj(e.parent)),e.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||c&&cu(c),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:m,layoutScroll:d,layoutRoot:h})}function cj(e){if(e)return e.options.allowProjection!==!1?e.projection:cj(e.parent)}function s0(e,{forwardMotionProps:t=!1,type:n}={},i,s){i&&Bee(i);const o=n?n==="svg":Mw(e),l=o?ete:Jee;function c(h,m){let v;const b={...x.useContext(Pw),...h,layoutId:rte(h)},{isStatic:_}=b,C=Hee(h),E=l(h,_);if(!_&&RD){ote();const T=ate(b);v=T.MeasureLayout,C.visualElement=ite(e,E,b,s,T.ProjectionNode,o)}return y.jsxs(Qg.Provider,{value:C,children:[v&&C.visualElement?y.jsx(v,{visualElement:C.visualElement,...b}):null,Zee(e,h,nte(E,C.visualElement,m),E,_,t,o)]})}c.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const d=x.forwardRef(c);return d[tte]=e,d}function rte({layoutId:e}){const t=x.useContext(sw).id;return t&&e!==void 0?t+"-"+e:e}function ote(e,t){x.useContext(nj).strict}function ate(e){const t=ij(),{drag:n,layout:i}=t;if(!n&&!i)return{};const s={...n,...i};return{MeasureLayout:n?.isEnabled(e)||i?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function lte(e,t){if(typeof Proxy>"u")return s0;const n=new Map,i=(o,l)=>s0(o,l,e,t),s=(o,l)=>i(o,l);return new Proxy(s,{get:(o,l)=>l==="create"?i:(n.has(l)||n.set(l,s0(l,void 0,e,t)),n.get(l))})}const cte=(e,t)=>t.isSVG??Mw(e)?new FJ(t):new LJ(t,{allowProjection:e!==x.Fragment});class ute extends $a{constructor(t){super(t),t.animationState||(t.animationState=GJ(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Zg(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let dte=0;class fte extends $a{constructor(){super(...arguments),this.id=dte++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const hte={animation:{Feature:ute},exit:{Feature:fte}};function fh(e){return{point:{x:e.pageX,y:e.pageY}}}const mte=e=>t=>Ew(t)&&e(t,fh(t));function gf(e,t,n,i){return Uf(e,t,mte(n),i)}const uj=({current:e})=>e?e.ownerDocument.defaultView:null,zR=(e,t)=>Math.abs(e-t);function pte(e,t){const n=zR(e.x,t.x),i=zR(e.y,t.y);return Math.sqrt(n**2+i**2)}const BR=new Set(["auto","scroll"]);class dj{constructor(t,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3,element:c}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=_=>{this.handleScroll(_.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=o0(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,E=pte(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!E)return;const{point:T}=_,{timestamp:k}=hi;this.history.push({...T,timestamp:k});const{onStart:N,onMove:P}=this.handlers;C||(N&&N(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,_)},this.handlePointerMove=(_,C)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=r0(C,this.transformPagePoint),Jt.update(this.updatePoint,!0)},this.handlePointerUp=(_,C)=>{this.end();const{onEnd:E,onSessionEnd:T,resumeAnimation:k}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=o0(_.type==="pointercancel"?this.lastMoveEventInfo:r0(C,this.transformPagePoint),this.history);this.startEvent&&E&&E(_,N),T&&T(_,N)},!Ew(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=l,this.contextWindow=s||window;const d=fh(t),h=r0(d,this.transformPagePoint),{point:m}=h,{timestamp:v}=hi;this.history=[{...m,timestamp:v}];const{onSessionStart:b}=n;b&&b(t,o0(h,this.history)),this.removeListeners=ch(gf(this.contextWindow,"pointermove",this.handlePointerMove),gf(this.contextWindow,"pointerup",this.handlePointerUp),gf(this.contextWindow,"pointercancel",this.handlePointerUp)),c&&this.startScrollTracking(c)}startScrollTracking(t){let n=t.parentElement;for(;n;){const i=getComputedStyle(n);(BR.has(i.overflowX)||BR.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0}),window.addEventListener("scroll",this.onWindowScroll),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const i=t===window,s=i?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},o={x:s.x-n.x,y:s.y-n.y};o.x===0&&o.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(t,s),Jt.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ba(this.updatePoint)}}function r0(e,t){return t?{point:t(e.point)}:e}function UR(e,t){return{x:e.x-t.x,y:e.y-t.y}}function o0({point:e},t){return{point:e,delta:UR(e,fj(t)),offset:UR(e,gte(t)),velocity:vte(t,.1)}}function gte(e){return e[0]}function fj(e){return e[e.length-1]}function vte(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=fj(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>pr(t)));)n--;if(!i)return{x:0,y:0};i===e[0]&&e.length>2&&s.timestamp-i.timestamp>pr(t)*2&&(i=e[1]);const o=Vs(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function yte(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?un(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?un(n,e,i.max):Math.min(e,n)),e}function FR(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function bte(e,{top:t,left:n,bottom:i,right:s}){return{x:FR(e.x,n,s),y:FR(e.y,t,i)}}function VR(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function xte(e,t){return{x:VR(e.x,t.x),y:VR(e.y,t.y)}}function _te(e,t){let n=.5;const i=ji(e),s=ji(t);return s>i?n=jf(t.min,t.max-i,e.min):i>s&&(n=jf(e.min,e.max-s,t.min)),Zr(0,1,n)}function wte(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Ox=.35;function Ste(e=Ox){return e===!1?e=0:e===!0&&(e=Ox),{x:$R(e,"left","right"),y:$R(e,"top","bottom")}}function $R(e,t,n){return{min:HR(e,t),max:HR(e,n)}}function HR(e,t){return typeof e=="number"?e:e[t]||0}const Cte=new WeakMap;class Ete{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=v=>{n&&this.snapToCursor(fh(v).point),this.stopAnimation()},l=(v,b)=>{const{drag:_,dragPropagation:C,onDragStart:E}=this.getProps();if(_&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=eJ(_),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ur(k=>{let N=this.getAxisMotionValue(k).get()||0;if(Wr.test(N)){const{projection:P}=this.visualElement;if(P&&P.layout){const O=P.layout.layoutBox[k];O&&(N=ji(O)*(parseFloat(N)/100))}}this.originPoint[k]=N}),E&&Jt.update(()=>E(v,b),!1,!0),Sx(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},c=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:_,dragDirectionLock:C,onDirectionLock:E,onDrag:T}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:k}=b;if(C&&this.currentDirection===null){this.currentDirection=Tte(k),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",b.point,k),this.updateAxis("y",b.point,k),this.visualElement.render(),T&&Jt.update(()=>T(v,b),!1,!0)},d=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>{const{dragSnapToOrigin:v}=this.getProps();(v||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:m}=this.getProps();this.panSession=new dj(t,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:i,contextWindow:uj(this.visualElement),element:this.visualElement.current})}stop(t,n){const i=t||this.latestPointerEvent,s=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!i)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&Jt.postRender(()=>c(i,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!lp(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let l=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(l=yte(l,this.constraints[t],this.elastic[t])),o.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&cu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=bte(i.layoutBox,t):this.constraints=!1,this.elastic=Ste(n),s!==this.constraints&&!cu(t)&&i&&this.constraints&&!this.hasMutatedConstraints&&Ur(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=wte(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!cu(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=NJ(i,s.root,this.visualElement.getTransformPagePoint());let l=xte(s.layout.layoutBox,o);if(n){const c=n(AJ(l));this.hasMutatedConstraints=!!c,c&&(l=ML(c))}return l}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=Ur(m=>{if(!lp(m,n,this.currentDirection))return;let v=d&&d[m]||{};l&&(v={min:0,max:0});const b=s?200:1e6,_=s?40:1e7,C={type:"inertia",velocity:i?t[m]:0,bounceStiffness:b,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(m,C)});return Promise.all(h).then(c)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return Sx(this.visualElement,t),i.start(xw(t,i,0,n,this.visualElement,!1))}stopAnimation(){Ur(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Ur(n=>{const{drag:i}=this.getProps();if(!lp(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n],d=o.get()||0;o.set(t[n]-un(l,c,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!cu(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ur(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();s[l]=_te({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),Ur(l=>{if(!lp(l,t,null))return;const c=this.getAxisMotionValue(l),{min:d,max:h}=this.constraints[l];c.set(un(d,h,s[l]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;Cte.set(this.visualElement,this);const t=this.visualElement.current,n=gf(t,"pointerdown",h=>{const{drag:m,dragListener:v=!0}=this.getProps(),b=h.target,_=b!==t&&oJ(b);m&&v&&!_&&this.start(h)});let i;const s=()=>{const{dragConstraints:h}=this.getProps();cu(h)&&h.current&&(this.constraints=this.resolveRefConstraints(),i||(i=Ate(t,h.current,()=>this.scalePositionWithinConstraints())))},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Jt.read(s);const c=Uf(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(Ur(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=h[v].translate,b.set(b.get()+h[v].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d(),i&&i()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=Ox,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function qR(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function Ate(e,t,n){const i=QT(e,qR(n)),s=QT(t,qR(n));return()=>{i(),s()}}function lp(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Tte(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Rte extends $a{constructor(t){super(t),this.removeGroupControls=Hs,this.removeListeners=Hs,this.controls=new Ete(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hs}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const a0=e=>(t,n)=>{e&&Jt.update(()=>e(t,n),!1,!0)};class Nte extends $a{constructor(){super(...arguments),this.removePointerDownListener=Hs}onPointerDown(t){this.session=new dj(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uj(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:a0(t),onStart:a0(n),onMove:a0(i),onEnd:(o,l)=>{delete this.session,s&&Jt.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=gf(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let l0=!1;class kte extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=t;o&&(n.group&&n.group.add(o),i&&i.register&&s&&i.register(o),l0&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),kp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:o}=this.props,{projection:l}=i;return l&&(l.isPresent=o,t.layoutDependency!==n&&l.setOptions({...l.options,layoutDependency:n}),l0=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==o?l.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?l.promote():l.relegate()||Jt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Cw.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;l0=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function hj(e){const[t,n]=tj(),i=x.useContext(sw);return y.jsx(kte,{...e,layoutGroup:i,switchLayoutGroup:x.useContext(lj),isPresent:t,safeToRemove:n})}const Pte={pan:{Feature:Nte},drag:{Feature:Rte,ProjectionNode:ej,MeasureLayout:hj}};function GR(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=i[s];o&&Jt.postRender(()=>o(t,fh(t)))}class Ote extends $a{mount(){const{current:t}=this.node;t&&(this.unmount=nJ(t,(n,i)=>(GR(this.node,i,"Start"),s=>GR(this.node,s,"End"))))}unmount(){}}class Mte extends $a{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ch(Uf(this.node.current,"focus",()=>this.onFocus()),Uf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function KR(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=i[s];o&&Jt.postRender(()=>o(t,fh(t)))}class Dte extends $a{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:n,propagate:i}=this.node.props;this.unmount=lJ(t,(s,o)=>(KR(this.node,o,"Start"),(l,{success:c})=>KR(this.node,l,c?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:i?.tap===!1})}unmount(){}}const Mx=new WeakMap,c0=new WeakMap,Lte=e=>{const t=Mx.get(e.target);t&&t(e)},jte=e=>{e.forEach(Lte)};function Ite({root:e,...t}){const n=e||document;c0.has(n)||c0.set(n,{});const i=c0.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(jte,{root:e,...t})),i[s]}function zte(e,t,n){const i=Ite(t);return Mx.set(e,n),i.observe(e),()=>{Mx.delete(e),i.unobserve(e)}}const Bte={some:0,all:1};class Ute extends $a{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:o}=t,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:Bte[s]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),b=h?m:v;b&&b(d)};return zte(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Fte(t,n))&&this.startObserver()}unmount(){}}function Fte({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Vte={inView:{Feature:Ute},tap:{Feature:Dte},focus:{Feature:Mte},hover:{Feature:Ote}},$te={layout:{ProjectionNode:ej,MeasureLayout:hj}},Hte={...hte,...Vte,...Pte,...$te},jt=lte(Hte,cte);class qte{constructor(){this.componentControls=new Set}subscribe(t){return this.componentControls.add(t),()=>this.componentControls.delete(t)}start(t,n){this.componentControls.forEach(i=>{i.start(t.nativeEvent||t,n)})}cancel(){this.componentControls.forEach(t=>{t.cancel()})}stop(){this.componentControls.forEach(t=>{t.stop()})}}const Gte=()=>new qte;function Kte(){return Wg(Gte)}const mj=async(e,t)=>{try{const n=e.game_info?.seen_species??[],i=t(n),{data:s,error:o}=await Dn.from("users").update({game_info:{...e.game_info,seen_species:i}}).eq("id",e.id).select().single();return o?(console.error("Error updating seen_species:",o),null):s}catch(n){return console.error("Unexpected error updating seen_species:",n),null}},WR="Nova espcie favorita!",Wte=async({user:e,speciesName:t,isFav:n})=>{const i=`Favoritou a espcie ${t}`,s=e.game_info.activities??[];let o;if(n)o=[{title:WR,description:i,date:new Date().toISOString()},...s];else{let d=!1;o=s.slice().reverse().filter(h=>!d&&h.title===WR&&h.description===i?(d=!0,!1):!0).reverse()}const{data:l,error:c}=await Dn.from("users").update({game_info:{...e.game_info,activities:o}}).eq("id",e.id).select().single();return c?(console.error("Error updating fav activity:",c),null):l},Yte=()=>{const{t:e}=At(),t=Me(za),n=Me(Ye.expandedNodes).find(P=>P.rank==="SPECIES")?.key,i=t??n,{data:s,isLoading:o}=Uo({specieKey:i}),[l,c]=qs(rt.userDb),h=(l?.game_info?.seen_species??[]).find(P=>P.key===i),[m,v]=x.useState(h?.fav??!1),{data:b,isLoading:_}=ZZ({specieName:(s?.canonicalName||s?.scientificName)??""}),{data:C,isLoading:E}=XZ(s?.canonicalName);x.useEffect(()=>{v(h?.fav??!1)},[h?.fav]);const T=async()=>{if(!l||i==null)return;const P=!m;v(P);const O=await mj(l,z=>{const I=[...z],$=I.findIndex(Z=>Z.key===i);return $!==-1?I[$]={...I[$],fav:P}:s&&I.push({key:i,date:new Date().toISOString(),fav:P}),I});if(!O)return;const j=s?.canonicalName??"",V=await Wte({user:O,speciesName:j,isFav:P});c(V??O)};if(!s)return y.jsx("p",{className:"text-muted-foreground text-center",children:e("specieDetail.dataUnavailable")});if(o)return y.jsx(TD,{});const k=LK[s.class],N=[[e("specieDetail.kingdomLabel"),s.kingdom],[e("specieDetail.phylumLabel"),s.phylum],[e(k?"specieDetail.orderLabel":"specieDetail.classLabel"),s.class],[e("specieDetail.orderLabel"),k?void 0:s.order],[e("specieDetail.familyLabel"),s.family],[e("specieDetail.genusLabel"),s.genus]].filter(([,P])=>!!P);return y.jsxs("div",{className:"space-y-6",children:[y.jsx(jt.header,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"border-b pb-4",children:y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("h1",{className:"mb-1 text-2xl font-bold sm:text-3xl",children:s.canonicalName}),s.scientificName&&y.jsx("p",{className:"text-muted-foreground text-sm italic sm:text-lg",children:s.scientificName})]}),l&&y.jsx(jt.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:T,className:"mt-1",children:y.jsx(Yp,{className:`size-7 transition-all ${m?"fill-red-500 text-red-500":"text-muted-foreground hover:text-red-500"}`})})]})}),N.length>0&&y.jsxs(jt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-muted rounded-lg border p-4",children:[y.jsx("div",{className:"mb-3 flex items-center gap-2"}),y.jsx("dl",{className:"grid grid-cols-2 gap-3 text-sm [@container(min-width:1280px)]:grid-cols-3",children:N.map(([P,O])=>y.jsxs("div",{children:[y.jsxs("dt",{className:"font-semibold",children:[P,":"]}),y.jsx("dd",{className:"text-primary/87",children:O})]},P))})]}),y.jsx(jt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:_?y.jsx($Z,{}):y.jsx(YZ,{statusCode:b})}),E?y.jsx(HZ,{}):C?.extract||C?.description?y.jsxs(jt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-3",children:[y.jsx("h3",{className:"flex items-center gap-2 text-xl font-semibold",children:e("specieDetail.descriptionTitle")}),y.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:C.extract||C.description})]}):null,(s.authorship||s.publishedIn)&&y.jsxs(jt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-3 border-t pt-4",children:[y.jsx("h3",{className:"text-lg font-semibold",children:e("specieDetail.nomenclatureTitle")}),y.jsxs("div",{className:"space-y-2 text-sm",children:[s.authorship&&y.jsxs("p",{className:"text-muted-foreground",children:[y.jsxs("strong",{className:"text-foreground",children:[e("specieDetail.author"),":"," "]}),s.authorship]}),s.publishedIn&&y.jsxs("p",{className:"text-muted-foreground",children:[y.jsxs("strong",{className:"text-foreground",children:[e("specieDetail.publishedIn"),":"," "]}),s.publishedIn]}),y.jsxs("p",{className:"text-muted-foreground",children:[y.jsxs("strong",{className:"text-foreground",children:[e("specieDetail.sources"),":"," "]}),"GBIF, Wikipedia"]})]})]})]})};function pj(e,t){const n=x.useRef(t);x.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const Zte=1;function Xte(e){return Object.freeze({__version:Zte,map:e})}function Qte(e,t){return Object.freeze({...e,...t})}const Dw=x.createContext(null);function Lw(){const e=x.use(Dw);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Jte(e){function t(n,i){const{instance:s,context:o}=e(n).current;x.useImperativeHandle(i,()=>s);const{children:l}=n;return l==null?null:Ot.createElement(Dw,{value:o},l)}return x.forwardRef(t)}function ene(e){function t(n,i){const[s,o]=x.useState(!1),{instance:l}=e(n,o).current;x.useImperativeHandle(i,()=>l),x.useEffect(function(){s&&l.update()},[l,s,n.children]);const c=l._contentNode;return c?Ji.createPortal(n.children,c):null}return x.forwardRef(t)}function tne(e){function t(n,i){const{instance:s}=e(n).current;return x.useImperativeHandle(i,()=>s),null}return x.forwardRef(t)}function gj(e,t){const n=x.useRef(void 0);x.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function jw(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function nne(e,t){return function(i,s){const o=Lw(),l=e(jw(i,o),o);return pj(o.map,i.attribution),gj(l.current,i.eventHandlers),t(l.current,o,i,s),l}}var sf={exports:{}};var ine=sf.exports,YR;function sne(){return YR||(YR=1,(function(e,t){(function(n,i){i(t)})(ine,(function(n){var i="1.9.4";function s(u){var p,w,R,M;for(w=1,R=arguments.length;w<R;w++){M=arguments[w];for(p in M)u[p]=M[p]}return u}var o=Object.create||(function(){function u(){}return function(p){return u.prototype=p,new u}})();function l(u,p){var w=Array.prototype.slice;if(u.bind)return u.bind.apply(u,w.call(arguments,1));var R=w.call(arguments,2);return function(){return u.apply(p,R.length?R.concat(w.call(arguments)):arguments)}}var c=0;function d(u){return"_leaflet_id"in u||(u._leaflet_id=++c),u._leaflet_id}function h(u,p,w){var R,M,B,X;return X=function(){R=!1,M&&(B.apply(w,M),M=!1)},B=function(){R?M=arguments:(u.apply(w,arguments),setTimeout(X,p),R=!0)},B}function m(u,p,w){var R=p[1],M=p[0],B=R-M;return u===R&&w?u:((u-M)%B+B)%B+M}function v(){return!1}function b(u,p){if(p===!1)return u;var w=Math.pow(10,p===void 0?6:p);return Math.round(u*w)/w}function _(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function C(u){return _(u).split(/\s+/)}function E(u,p){Object.prototype.hasOwnProperty.call(u,"options")||(u.options=u.options?o(u.options):{});for(var w in p)u.options[w]=p[w];return u.options}function T(u,p,w){var R=[];for(var M in u)R.push(encodeURIComponent(w?M.toUpperCase():M)+"="+encodeURIComponent(u[M]));return(!p||p.indexOf("?")===-1?"?":"&")+R.join("&")}var k=/\{ *([\w_ -]+) *\}/g;function N(u,p){return u.replace(k,function(w,R){var M=p[R];if(M===void 0)throw new Error("No value provided for variable "+w);return typeof M=="function"&&(M=M(p)),M})}var P=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"};function O(u,p){for(var w=0;w<u.length;w++)if(u[w]===p)return w;return-1}var j="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function V(u){return window["webkit"+u]||window["moz"+u]||window["ms"+u]}var z=0;function I(u){var p=+new Date,w=Math.max(0,16-(p-z));return z=p+w,window.setTimeout(u,w)}var $=window.requestAnimationFrame||V("RequestAnimationFrame")||I,Z=window.cancelAnimationFrame||V("CancelAnimationFrame")||V("CancelRequestAnimationFrame")||function(u){window.clearTimeout(u)};function K(u,p,w){if(w&&$===I)u.call(p);else return $.call(window,l(u,p))}function Y(u){u&&Z.call(window,u)}var Q={__proto__:null,extend:s,create:o,bind:l,get lastId(){return c},stamp:d,throttle:h,wrapNum:m,falseFn:v,formatNum:b,trim:_,splitWords:C,setOptions:E,getParamString:T,template:N,isArray:P,indexOf:O,emptyImageUrl:j,requestFn:$,cancelFn:Z,requestAnimFrame:K,cancelAnimFrame:Y};function ie(){}ie.extend=function(u){var p=function(){E(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},w=p.__super__=this.prototype,R=o(w);R.constructor=p,p.prototype=R;for(var M in this)Object.prototype.hasOwnProperty.call(this,M)&&M!=="prototype"&&M!=="__super__"&&(p[M]=this[M]);return u.statics&&s(p,u.statics),u.includes&&(ge(u.includes),s.apply(null,[R].concat(u.includes))),s(R,u),delete R.statics,delete R.includes,R.options&&(R.options=w.options?o(w.options):{},s(R.options,u.options)),R._initHooks=[],R.callInitHooks=function(){if(!this._initHooksCalled){w.callInitHooks&&w.callInitHooks.call(this),this._initHooksCalled=!0;for(var B=0,X=R._initHooks.length;B<X;B++)R._initHooks[B].call(this)}},p},ie.include=function(u){var p=this.prototype.options;return s(this.prototype,u),u.options&&(this.prototype.options=p,this.mergeOptions(u.options)),this},ie.mergeOptions=function(u){return s(this.prototype.options,u),this},ie.addInitHook=function(u){var p=Array.prototype.slice.call(arguments,1),w=typeof u=="function"?u:function(){this[u].apply(this,p)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(w),this};function ge(u){if(!(typeof L>"u"||!L||!L.Mixin)){u=P(u)?u:[u];for(var p=0;p<u.length;p++)u[p]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var q={on:function(u,p,w){if(typeof u=="object")for(var R in u)this._on(R,u[R],p);else{u=C(u);for(var M=0,B=u.length;M<B;M++)this._on(u[M],p,w)}return this},off:function(u,p,w){if(!arguments.length)delete this._events;else if(typeof u=="object")for(var R in u)this._off(R,u[R],p);else{u=C(u);for(var M=arguments.length===1,B=0,X=u.length;B<X;B++)M?this._off(u[B]):this._off(u[B],p,w)}return this},_on:function(u,p,w,R){if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}if(this._listens(u,p,w)===!1){w===this&&(w=void 0);var M={fn:p,ctx:w};R&&(M.once=!0),this._events=this._events||{},this._events[u]=this._events[u]||[],this._events[u].push(M)}},_off:function(u,p,w){var R,M,B;if(this._events&&(R=this._events[u],!!R)){if(arguments.length===1){if(this._firingCount)for(M=0,B=R.length;M<B;M++)R[M].fn=v;delete this._events[u];return}if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}var X=this._listens(u,p,w);if(X!==!1){var ue=R[X];this._firingCount&&(ue.fn=v,this._events[u]=R=R.slice()),R.splice(X,1)}}},fire:function(u,p,w){if(!this.listens(u,w))return this;var R=s({},p,{type:u,target:this,sourceTarget:p&&p.sourceTarget||this});if(this._events){var M=this._events[u];if(M){this._firingCount=this._firingCount+1||1;for(var B=0,X=M.length;B<X;B++){var ue=M[B],me=ue.fn;ue.once&&this.off(u,me,ue.ctx),me.call(ue.ctx||this,R)}this._firingCount--}}return w&&this._propagateEvent(R),this},listens:function(u,p,w,R){typeof u!="string"&&console.warn('"string" type argument expected');var M=p;typeof p!="function"&&(R=!!p,M=void 0,w=void 0);var B=this._events&&this._events[u];if(B&&B.length&&this._listens(u,M,w)!==!1)return!0;if(R){for(var X in this._eventParents)if(this._eventParents[X].listens(u,p,w,R))return!0}return!1},_listens:function(u,p,w){if(!this._events)return!1;var R=this._events[u]||[];if(!p)return!!R.length;w===this&&(w=void 0);for(var M=0,B=R.length;M<B;M++)if(R[M].fn===p&&R[M].ctx===w)return M;return!1},once:function(u,p,w){if(typeof u=="object")for(var R in u)this._on(R,u[R],p,!0);else{u=C(u);for(var M=0,B=u.length;M<B;M++)this._on(u[M],p,w,!0)}return this},addEventParent:function(u){return this._eventParents=this._eventParents||{},this._eventParents[d(u)]=u,this},removeEventParent:function(u){return this._eventParents&&delete this._eventParents[d(u)],this},_propagateEvent:function(u){for(var p in this._eventParents)this._eventParents[p].fire(u.type,s({layer:u.target,propagatedFrom:u.target},u),!0)}};q.addEventListener=q.on,q.removeEventListener=q.clearAllEventListeners=q.off,q.addOneTimeEventListener=q.once,q.fireEvent=q.fire,q.hasEventListeners=q.listens;var W=ie.extend(q);function ee(u,p,w){this.x=w?Math.round(u):u,this.y=w?Math.round(p):p}var de=Math.trunc||function(u){return u>0?Math.floor(u):Math.ceil(u)};ee.prototype={clone:function(){return new ee(this.x,this.y)},add:function(u){return this.clone()._add(ae(u))},_add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.clone()._subtract(ae(u))},_subtract:function(u){return this.x-=u.x,this.y-=u.y,this},divideBy:function(u){return this.clone()._divideBy(u)},_divideBy:function(u){return this.x/=u,this.y/=u,this},multiplyBy:function(u){return this.clone()._multiplyBy(u)},_multiplyBy:function(u){return this.x*=u,this.y*=u,this},scaleBy:function(u){return new ee(this.x*u.x,this.y*u.y)},unscaleBy:function(u){return new ee(this.x/u.x,this.y/u.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=de(this.x),this.y=de(this.y),this},distanceTo:function(u){u=ae(u);var p=u.x-this.x,w=u.y-this.y;return Math.sqrt(p*p+w*w)},equals:function(u){return u=ae(u),u.x===this.x&&u.y===this.y},contains:function(u){return u=ae(u),Math.abs(u.x)<=Math.abs(this.x)&&Math.abs(u.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function ae(u,p,w){return u instanceof ee?u:P(u)?new ee(u[0],u[1]):u==null?u:typeof u=="object"&&"x"in u&&"y"in u?new ee(u.x,u.y):new ee(u,p,w)}function G(u,p){if(u)for(var w=p?[u,p]:u,R=0,M=w.length;R<M;R++)this.extend(w[R])}G.prototype={extend:function(u){var p,w;if(!u)return this;if(u instanceof ee||typeof u[0]=="number"||"x"in u)p=w=ae(u);else if(u=oe(u),p=u.min,w=u.max,!p||!w)return this;return!this.min&&!this.max?(this.min=p.clone(),this.max=w.clone()):(this.min.x=Math.min(p.x,this.min.x),this.max.x=Math.max(w.x,this.max.x),this.min.y=Math.min(p.y,this.min.y),this.max.y=Math.max(w.y,this.max.y)),this},getCenter:function(u){return ae((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,u)},getBottomLeft:function(){return ae(this.min.x,this.max.y)},getTopRight:function(){return ae(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(u){var p,w;return typeof u[0]=="number"||u instanceof ee?u=ae(u):u=oe(u),u instanceof G?(p=u.min,w=u.max):p=w=u,p.x>=this.min.x&&w.x<=this.max.x&&p.y>=this.min.y&&w.y<=this.max.y},intersects:function(u){u=oe(u);var p=this.min,w=this.max,R=u.min,M=u.max,B=M.x>=p.x&&R.x<=w.x,X=M.y>=p.y&&R.y<=w.y;return B&&X},overlaps:function(u){u=oe(u);var p=this.min,w=this.max,R=u.min,M=u.max,B=M.x>p.x&&R.x<w.x,X=M.y>p.y&&R.y<w.y;return B&&X},isValid:function(){return!!(this.min&&this.max)},pad:function(u){var p=this.min,w=this.max,R=Math.abs(p.x-w.x)*u,M=Math.abs(p.y-w.y)*u;return oe(ae(p.x-R,p.y-M),ae(w.x+R,w.y+M))},equals:function(u){return u?(u=oe(u),this.min.equals(u.getTopLeft())&&this.max.equals(u.getBottomRight())):!1}};function oe(u,p){return!u||u instanceof G?u:new G(u,p)}function be(u,p){if(u)for(var w=p?[u,p]:u,R=0,M=w.length;R<M;R++)this.extend(w[R])}be.prototype={extend:function(u){var p=this._southWest,w=this._northEast,R,M;if(u instanceof Re)R=u,M=u;else if(u instanceof be){if(R=u._southWest,M=u._northEast,!R||!M)return this}else return u?this.extend(Se(u)||xe(u)):this;return!p&&!w?(this._southWest=new Re(R.lat,R.lng),this._northEast=new Re(M.lat,M.lng)):(p.lat=Math.min(R.lat,p.lat),p.lng=Math.min(R.lng,p.lng),w.lat=Math.max(M.lat,w.lat),w.lng=Math.max(M.lng,w.lng)),this},pad:function(u){var p=this._southWest,w=this._northEast,R=Math.abs(p.lat-w.lat)*u,M=Math.abs(p.lng-w.lng)*u;return new be(new Re(p.lat-R,p.lng-M),new Re(w.lat+R,w.lng+M))},getCenter:function(){return new Re((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Re(this.getNorth(),this.getWest())},getSouthEast:function(){return new Re(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(u){typeof u[0]=="number"||u instanceof Re||"lat"in u?u=Se(u):u=xe(u);var p=this._southWest,w=this._northEast,R,M;return u instanceof be?(R=u.getSouthWest(),M=u.getNorthEast()):R=M=u,R.lat>=p.lat&&M.lat<=w.lat&&R.lng>=p.lng&&M.lng<=w.lng},intersects:function(u){u=xe(u);var p=this._southWest,w=this._northEast,R=u.getSouthWest(),M=u.getNorthEast(),B=M.lat>=p.lat&&R.lat<=w.lat,X=M.lng>=p.lng&&R.lng<=w.lng;return B&&X},overlaps:function(u){u=xe(u);var p=this._southWest,w=this._northEast,R=u.getSouthWest(),M=u.getNorthEast(),B=M.lat>p.lat&&R.lat<w.lat,X=M.lng>p.lng&&R.lng<w.lng;return B&&X},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(u,p){return u?(u=xe(u),this._southWest.equals(u.getSouthWest(),p)&&this._northEast.equals(u.getNorthEast(),p)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function xe(u,p){return u instanceof be?u:new be(u,p)}function Re(u,p,w){if(isNaN(u)||isNaN(p))throw new Error("Invalid LatLng object: ("+u+", "+p+")");this.lat=+u,this.lng=+p,w!==void 0&&(this.alt=+w)}Re.prototype={equals:function(u,p){if(!u)return!1;u=Se(u);var w=Math.max(Math.abs(this.lat-u.lat),Math.abs(this.lng-u.lng));return w<=(p===void 0?1e-9:p)},toString:function(u){return"LatLng("+b(this.lat,u)+", "+b(this.lng,u)+")"},distanceTo:function(u){return je.distance(this,Se(u))},wrap:function(){return je.wrapLatLng(this)},toBounds:function(u){var p=180*u/40075017,w=p/Math.cos(Math.PI/180*this.lat);return xe([this.lat-p,this.lng-w],[this.lat+p,this.lng+w])},clone:function(){return new Re(this.lat,this.lng,this.alt)}};function Se(u,p,w){return u instanceof Re?u:P(u)&&typeof u[0]!="object"?u.length===3?new Re(u[0],u[1],u[2]):u.length===2?new Re(u[0],u[1]):null:u==null?u:typeof u=="object"&&"lat"in u?new Re(u.lat,"lng"in u?u.lng:u.lon,u.alt):p===void 0?null:new Re(u,p,w)}var we={latLngToPoint:function(u,p){var w=this.projection.project(u),R=this.scale(p);return this.transformation._transform(w,R)},pointToLatLng:function(u,p){var w=this.scale(p),R=this.transformation.untransform(u,w);return this.projection.unproject(R)},project:function(u){return this.projection.project(u)},unproject:function(u){return this.projection.unproject(u)},scale:function(u){return 256*Math.pow(2,u)},zoom:function(u){return Math.log(u/256)/Math.LN2},getProjectedBounds:function(u){if(this.infinite)return null;var p=this.projection.bounds,w=this.scale(u),R=this.transformation.transform(p.min,w),M=this.transformation.transform(p.max,w);return new G(R,M)},infinite:!1,wrapLatLng:function(u){var p=this.wrapLng?m(u.lng,this.wrapLng,!0):u.lng,w=this.wrapLat?m(u.lat,this.wrapLat,!0):u.lat,R=u.alt;return new Re(w,p,R)},wrapLatLngBounds:function(u){var p=u.getCenter(),w=this.wrapLatLng(p),R=p.lat-w.lat,M=p.lng-w.lng;if(R===0&&M===0)return u;var B=u.getSouthWest(),X=u.getNorthEast(),ue=new Re(B.lat-R,B.lng-M),me=new Re(X.lat-R,X.lng-M);return new be(ue,me)}},je=s({},we,{wrapLng:[-180,180],R:6371e3,distance:function(u,p){var w=Math.PI/180,R=u.lat*w,M=p.lat*w,B=Math.sin((p.lat-u.lat)*w/2),X=Math.sin((p.lng-u.lng)*w/2),ue=B*B+Math.cos(R)*Math.cos(M)*X*X,me=2*Math.atan2(Math.sqrt(ue),Math.sqrt(1-ue));return this.R*me}}),De=6378137,Le={R:De,MAX_LATITUDE:85.0511287798,project:function(u){var p=Math.PI/180,w=this.MAX_LATITUDE,R=Math.max(Math.min(w,u.lat),-w),M=Math.sin(R*p);return new ee(this.R*u.lng*p,this.R*Math.log((1+M)/(1-M))/2)},unproject:function(u){var p=180/Math.PI;return new Re((2*Math.atan(Math.exp(u.y/this.R))-Math.PI/2)*p,u.x*p/this.R)},bounds:(function(){var u=De*Math.PI;return new G([-u,-u],[u,u])})()};function Xe(u,p,w,R){if(P(u)){this._a=u[0],this._b=u[1],this._c=u[2],this._d=u[3];return}this._a=u,this._b=p,this._c=w,this._d=R}Xe.prototype={transform:function(u,p){return this._transform(u.clone(),p)},_transform:function(u,p){return p=p||1,u.x=p*(this._a*u.x+this._b),u.y=p*(this._c*u.y+this._d),u},untransform:function(u,p){return p=p||1,new ee((u.x/p-this._b)/this._a,(u.y/p-this._d)/this._c)}};function Qe(u,p,w,R){return new Xe(u,p,w,R)}var Ct=s({},je,{code:"EPSG:3857",projection:Le,transformation:(function(){var u=.5/(Math.PI*Le.R);return Qe(u,.5,-u,.5)})()}),yt=s({},Ct,{code:"EPSG:900913"});function zt(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}function dn(u,p){var w="",R,M,B,X,ue,me;for(R=0,B=u.length;R<B;R++){for(ue=u[R],M=0,X=ue.length;M<X;M++)me=ue[M],w+=(M?"L":"M")+me.x+" "+me.y;w+=p?ze.svg?"z":"x":""}return w||"M0 0"}var fn=document.documentElement.style,jn="ActiveXObject"in window,_n=jn&&!document.addEventListener,wn="msLaunchUri"in navigator&&!("documentMode"in document),qn=an("webkit"),Ti=an("android"),Cs=an("android 2")||an("android 3"),sn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Sr=Ti&&an("Google")&&sn<537&&!("AudioNode"in window),bt=!!window.opera,Tt=!wn&&an("chrome"),Bt=an("gecko")&&!qn&&!bt&&!jn,Ri=!Tt&&an("safari"),Ys=an("phantom"),vi="OTransition"in fn,Jr=navigator.platform.indexOf("Win")===0,ts=jn&&"transition"in fn,rn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Cs,si="MozPerspective"in fn,En=!window.L_DISABLE_3D&&(ts||rn||si)&&!vi&&!Ys,ns=typeof orientation<"u"||an("mobile"),eo=ns&&qn,Ga=ns&&rn,Gn=!window.PointerEvent&&window.MSPointerEvent,Zs=!!(window.PointerEvent||Gn),Yt="ontouchstart"in window||!!window.TouchEvent,Zt=!window.L_NO_TOUCH&&(Yt||Zs),hn=ns&&bt,Kn=ns&&Bt,Wn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,An=(function(){var u=!1;try{var p=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassiveEventSupport",v,p),window.removeEventListener("testPassiveEventSupport",v,p)}catch{}return u})(),Yn=(function(){return!!document.createElement("canvas").getContext})(),Zn=!!(document.createElementNS&&zt("svg").createSVGRect),on=!!Zn&&(function(){var u=document.createElement("div");return u.innerHTML="<svg/>",(u.firstChild&&u.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Ni=!Zn&&(function(){try{var u=document.createElement("div");u.innerHTML='<v:shape adj="1"/>';var p=u.firstChild;return p.style.behavior="url(#default#VML)",p&&typeof p.adj=="object"}catch{return!1}})(),ri=navigator.platform.indexOf("Mac")===0,yi=navigator.platform.indexOf("Linux")===0;function an(u){return navigator.userAgent.toLowerCase().indexOf(u)>=0}var ze={ie:jn,ielt9:_n,edge:wn,webkit:qn,android:Ti,android23:Cs,androidStock:Sr,opera:bt,chrome:Tt,gecko:Bt,safari:Ri,phantom:Ys,opera12:vi,win:Jr,ie3d:ts,webkit3d:rn,gecko3d:si,any3d:En,mobile:ns,mobileWebkit:eo,mobileWebkit3d:Ga,msPointer:Gn,pointer:Zs,touch:Zt,touchNative:Yt,mobileOpera:hn,mobileGecko:Kn,retina:Wn,passiveEvents:An,canvas:Yn,svg:Zn,vml:Ni,inlineSvg:on,mac:ri,linux:yi},bi=ze.msPointer?"MSPointerDown":"pointerdown",is=ze.msPointer?"MSPointerMove":"pointermove",oi=ze.msPointer?"MSPointerUp":"pointerup",mn=ze.msPointer?"MSPointerCancel":"pointercancel",Tn={touchstart:bi,touchmove:is,touchend:oi,touchcancel:mn},Xs={touchstart:Bi,touchmove:ss,touchend:ss,touchcancel:ss},Es={},oc=!1;function Wu(u,p,w){return p==="touchstart"&&Cr(),Xs[p]?(w=Xs[p].bind(this,w),u.addEventListener(Tn[p],w,!1),w):(console.warn("wrong event specified:",p),v)}function ac(u,p,w){if(!Tn[p]){console.warn("wrong event specified:",p);return}u.removeEventListener(Tn[p],w,!1)}function to(u){Es[u.pointerId]=u}function Ka(u){Es[u.pointerId]&&(Es[u.pointerId]=u)}function Qs(u){delete Es[u.pointerId]}function Cr(){oc||(document.addEventListener(bi,to,!0),document.addEventListener(is,Ka,!0),document.addEventListener(oi,Qs,!0),document.addEventListener(mn,Qs,!0),oc=!0)}function ss(u,p){if(p.pointerType!==(p.MSPOINTER_TYPE_MOUSE||"mouse")){p.touches=[];for(var w in Es)p.touches.push(Es[w]);p.changedTouches=[p],u(p)}}function Bi(u,p){p.MSPOINTER_TYPE_TOUCH&&p.pointerType===p.MSPOINTER_TYPE_TOUCH&&pn(p),ss(u,p)}function ln(u){var p={},w,R;for(R in u)w=u[R],p[R]=w&&w.bind?w.bind(u):w;return u=p,p.type="dblclick",p.detail=2,p.isTrusted=!1,p._simulated=!0,p}var Js=200;function lc(u,p){u.addEventListener("dblclick",p);var w=0,R;function M(B){if(B.detail!==1){R=B.detail;return}if(!(B.pointerType==="mouse"||B.sourceCapabilities&&!B.sourceCapabilities.firesTouchEvents)){var X=Xa(B);if(!(X.some(function(me){return me instanceof HTMLLabelElement&&me.attributes.for})&&!X.some(function(me){return me instanceof HTMLInputElement||me instanceof HTMLSelectElement}))){var ue=Date.now();ue-w<=Js?(R++,R===2&&p(ln(B))):R=1,w=ue}}}return u.addEventListener("click",M),{dblclick:p,simDblclick:M}}function Ui(u,p){u.removeEventListener("dblclick",p.dblclick),u.removeEventListener("click",p.simDblclick)}var Fi=Be(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),no=Be(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Wa=no==="webkitTransition"||no==="OTransition"?no+"End":"transitionend";function io(u){return typeof u=="string"?document.getElementById(u):u}function so(u,p){var w=u.style[p]||u.currentStyle&&u.currentStyle[p];if((!w||w==="auto")&&document.defaultView){var R=document.defaultView.getComputedStyle(u,null);w=R?R[p]:null}return w==="auto"?null:w}function ht(u,p,w){var R=document.createElement(u);return R.className=p||"",w&&w.appendChild(R),R}function U(u){var p=u.parentNode;p&&p.removeChild(u)}function te(u){for(;u.firstChild;)u.removeChild(u.firstChild)}function H(u){var p=u.parentNode;p&&p.lastChild!==u&&p.appendChild(u)}function re(u){var p=u.parentNode;p&&p.firstChild!==u&&p.insertBefore(u,p.firstChild)}function le(u,p){if(u.classList!==void 0)return u.classList.contains(p);var w=ke(u);return w.length>0&&new RegExp("(^|\\s)"+p+"(\\s|$)").test(w)}function J(u,p){if(u.classList!==void 0)for(var w=C(p),R=0,M=w.length;R<M;R++)u.classList.add(w[R]);else if(!le(u,p)){var B=ke(u);Ne(u,(B?B+" ":"")+p)}}function ve(u,p){u.classList!==void 0?u.classList.remove(p):Ne(u,_((" "+ke(u)+" ").replace(" "+p+" "," ")))}function Ne(u,p){u.className.baseVal===void 0?u.className=p:u.className.baseVal=p}function ke(u){return u.correspondingElement&&(u=u.correspondingElement),u.className.baseVal===void 0?u.className:u.className.baseVal}function Ee(u,p){"opacity"in u.style?u.style.opacity=p:"filter"in u.style&&Pe(u,p)}function Pe(u,p){var w=!1,R="DXImageTransform.Microsoft.Alpha";try{w=u.filters.item(R)}catch{if(p===1)return}p=Math.round(p*100),w?(w.Enabled=p!==100,w.Opacity=p):u.style.filter+=" progid:"+R+"(opacity="+p+")"}function Be(u){for(var p=document.documentElement.style,w=0;w<u.length;w++)if(u[w]in p)return u[w];return!1}function tt(u,p,w){var R=p||new ee(0,0);u.style[Fi]=(ze.ie3d?"translate("+R.x+"px,"+R.y+"px)":"translate3d("+R.x+"px,"+R.y+"px,0)")+(w?" scale("+w+")":"")}function Ke(u,p){u._leaflet_pos=p,ze.any3d?tt(u,p):(u.style.left=p.x+"px",u.style.top=p.y+"px")}function ft(u){return u._leaflet_pos||new ee(0,0)}var Ut,Et,Xn;if("onselectstart"in document)Ut=function(){st(window,"selectstart",pn)},Et=function(){It(window,"selectstart",pn)};else{var Vi=Be(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ut=function(){if(Vi){var u=document.documentElement.style;Xn=u[Vi],u[Vi]="none"}},Et=function(){Vi&&(document.documentElement.style[Vi]=Xn,Xn=void 0)}}function Er(){st(window,"dragstart",pn)}function ro(){It(window,"dragstart",pn)}var Ar,cc;function Tr(u){for(;u.tabIndex===-1;)u=u.parentNode;u.style&&(xi(),Ar=u,cc=u.style.outlineStyle,u.style.outlineStyle="none",st(window,"keydown",xi))}function xi(){Ar&&(Ar.style.outlineStyle=cc,Ar=void 0,cc=void 0,It(window,"keydown",xi))}function oo(u){do u=u.parentNode;while((!u.offsetWidth||!u.offsetHeight)&&u!==document.body);return u}function Ya(u){var p=u.getBoundingClientRect();return{x:p.width/u.offsetWidth||1,y:p.height/u.offsetHeight||1,boundingClientRect:p}}var Fo={__proto__:null,TRANSFORM:Fi,TRANSITION:no,TRANSITION_END:Wa,get:io,getStyle:so,create:ht,remove:U,empty:te,toFront:H,toBack:re,hasClass:le,addClass:J,removeClass:ve,setClass:Ne,getClass:ke,setOpacity:Ee,testProp:Be,setTransform:tt,setPosition:Ke,getPosition:ft,get disableTextSelection(){return Ut},get enableTextSelection(){return Et},disableImageDrag:Er,enableImageDrag:ro,preventOutline:Tr,restoreOutline:xi,getSizedParentNode:oo,getScale:Ya};function st(u,p,w,R){if(p&&typeof p=="object")for(var M in p)os(u,M,p[M],w);else{p=C(p);for(var B=0,X=p.length;B<X;B++)os(u,p[B],w,R)}return this}var rs="_leaflet_events";function It(u,p,w,R){if(arguments.length===1)Yu(u),delete u[rs];else if(p&&typeof p=="object")for(var M in p)Za(u,M,p[M],w);else if(p=C(p),arguments.length===2)Yu(u,function(ue){return O(p,ue)!==-1});else for(var B=0,X=p.length;B<X;B++)Za(u,p[B],w,R);return this}function Yu(u,p){for(var w in u[rs]){var R=w.split(/\d/)[0];(!p||p(R))&&Za(u,R,null,null,w)}}var ao={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function os(u,p,w,R){var M=p+d(w)+(R?"_"+d(R):"");if(u[rs]&&u[rs][M])return this;var B=function(ue){return w.call(R||u,ue||window.event)},X=B;!ze.touchNative&&ze.pointer&&p.indexOf("touch")===0?B=Wu(u,p,B):ze.touch&&p==="dblclick"?B=lc(u,B):"addEventListener"in u?p==="touchstart"||p==="touchmove"||p==="wheel"||p==="mousewheel"?u.addEventListener(ao[p]||p,B,ze.passiveEvents?{passive:!1}:!1):p==="mouseenter"||p==="mouseleave"?(B=function(ue){ue=ue||window.event,er(u,ue)&&X(ue)},u.addEventListener(ao[p],B,!1)):u.addEventListener(p,X,!1):u.attachEvent("on"+p,B),u[rs]=u[rs]||{},u[rs][M]=B}function Za(u,p,w,R,M){M=M||p+d(w)+(R?"_"+d(R):"");var B=u[rs]&&u[rs][M];if(!B)return this;!ze.touchNative&&ze.pointer&&p.indexOf("touch")===0?ac(u,p,B):ze.touch&&p==="dblclick"?Ui(u,B):"removeEventListener"in u?u.removeEventListener(ao[p]||p,B,!1):u.detachEvent("on"+p,B),u[rs][M]=null}function as(u){return u.stopPropagation?u.stopPropagation():u.originalEvent?u.originalEvent._stopped=!0:u.cancelBubble=!0,this}function As(u){return os(u,"wheel",as),this}function lo(u){return st(u,"mousedown touchstart dblclick contextmenu",as),u._leaflet_disable_click=!0,this}function pn(u){return u.preventDefault?u.preventDefault():u.returnValue=!1,this}function Rr(u){return pn(u),as(u),this}function Xa(u){if(u.composedPath)return u.composedPath();for(var p=[],w=u.target;w;)p.push(w),w=w.parentNode;return p}function Qa(u,p){if(!p)return new ee(u.clientX,u.clientY);var w=Ya(p),R=w.boundingClientRect;return new ee((u.clientX-R.left)/w.x-p.clientLeft,(u.clientY-R.top)/w.y-p.clientTop)}var _h=ze.linux&&ze.chrome?window.devicePixelRatio:ze.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ai(u){return ze.edge?u.wheelDeltaY/2:u.deltaY&&u.deltaMode===0?-u.deltaY/_h:u.deltaY&&u.deltaMode===1?-u.deltaY*20:u.deltaY&&u.deltaMode===2?-u.deltaY*60:u.deltaX||u.deltaZ?0:u.wheelDelta?(u.wheelDeltaY||u.wheelDelta)/2:u.detail&&Math.abs(u.detail)<32765?-u.detail*20:u.detail?u.detail/-32765*60:0}function er(u,p){var w=p.relatedTarget;if(!w)return!0;try{for(;w&&w!==u;)w=w.parentNode}catch{return!1}return w!==u}var uc={__proto__:null,on:st,off:It,stopPropagation:as,disableScrollPropagation:As,disableClickPropagation:lo,preventDefault:pn,stop:Rr,getPropagationPath:Xa,getMousePosition:Qa,getWheelDelta:ai,isExternalTarget:er,addListener:st,removeListener:It},Vo=W.extend({run:function(u,p,w,R){this.stop(),this._el=u,this._inProgress=!0,this._duration=w||.25,this._easeOutPower=1/Math.max(R||.5,.2),this._startPos=ft(u),this._offset=p.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=K(this._animate,this),this._step()},_step:function(u){var p=+new Date-this._startTime,w=this._duration*1e3;p<w?this._runFrame(this._easeOut(p/w),u):(this._runFrame(1),this._complete())},_runFrame:function(u,p){var w=this._startPos.add(this._offset.multiplyBy(u));p&&w._round(),Ke(this._el,w),this.fire("step")},_complete:function(){Y(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(u){return 1-Math.pow(1-u,this._easeOutPower)}}),xt=W.extend({options:{crs:Ct,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(u,p){p=E(this,p),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(u),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),p.maxBounds&&this.setMaxBounds(p.maxBounds),p.zoom!==void 0&&(this._zoom=this._limitZoom(p.zoom)),p.center&&p.zoom!==void 0&&this.setView(Se(p.center),p.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=no&&ze.any3d&&!ze.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),st(this._proxy,Wa,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(u,p,w){if(p=p===void 0?this._zoom:this._limitZoom(p),u=this._limitCenter(Se(u),p,this.options.maxBounds),w=w||{},this._stop(),this._loaded&&!w.reset&&w!==!0){w.animate!==void 0&&(w.zoom=s({animate:w.animate},w.zoom),w.pan=s({animate:w.animate,duration:w.duration},w.pan));var R=this._zoom!==p?this._tryAnimatedZoom&&this._tryAnimatedZoom(u,p,w.zoom):this._tryAnimatedPan(u,w.pan);if(R)return clearTimeout(this._sizeTimer),this}return this._resetView(u,p,w.pan&&w.pan.noMoveStart),this},setZoom:function(u,p){return this._loaded?this.setView(this.getCenter(),u,{zoom:p}):(this._zoom=u,this)},zoomIn:function(u,p){return u=u||(ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+u,p)},zoomOut:function(u,p){return u=u||(ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-u,p)},setZoomAround:function(u,p,w){var R=this.getZoomScale(p),M=this.getSize().divideBy(2),B=u instanceof ee?u:this.latLngToContainerPoint(u),X=B.subtract(M).multiplyBy(1-1/R),ue=this.containerPointToLatLng(M.add(X));return this.setView(ue,p,{zoom:w})},_getBoundsCenterZoom:function(u,p){p=p||{},u=u.getBounds?u.getBounds():xe(u);var w=ae(p.paddingTopLeft||p.padding||[0,0]),R=ae(p.paddingBottomRight||p.padding||[0,0]),M=this.getBoundsZoom(u,!1,w.add(R));if(M=typeof p.maxZoom=="number"?Math.min(p.maxZoom,M):M,M===1/0)return{center:u.getCenter(),zoom:M};var B=R.subtract(w).divideBy(2),X=this.project(u.getSouthWest(),M),ue=this.project(u.getNorthEast(),M),me=this.unproject(X.add(ue).divideBy(2).add(B),M);return{center:me,zoom:M}},fitBounds:function(u,p){if(u=xe(u),!u.isValid())throw new Error("Bounds are not valid.");var w=this._getBoundsCenterZoom(u,p);return this.setView(w.center,w.zoom,p)},fitWorld:function(u){return this.fitBounds([[-90,-180],[90,180]],u)},panTo:function(u,p){return this.setView(u,this._zoom,{pan:p})},panBy:function(u,p){if(u=ae(u).round(),p=p||{},!u.x&&!u.y)return this.fire("moveend");if(p.animate!==!0&&!this.getSize().contains(u))return this._resetView(this.unproject(this.project(this.getCenter()).add(u)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Vo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),p.noMoveStart||this.fire("movestart"),p.animate!==!1){J(this._mapPane,"leaflet-pan-anim");var w=this._getMapPanePos().subtract(u).round();this._panAnim.run(this._mapPane,w,p.duration||.25,p.easeLinearity)}else this._rawPanBy(u),this.fire("move").fire("moveend");return this},flyTo:function(u,p,w){if(w=w||{},w.animate===!1||!ze.any3d)return this.setView(u,p,w);this._stop();var R=this.project(this.getCenter()),M=this.project(u),B=this.getSize(),X=this._zoom;u=Se(u),p=p===void 0?X:p;var ue=Math.max(B.x,B.y),me=ue*this.getZoomScale(X,p),Ae=M.distanceTo(R)||1,Oe=1.42,qe=Oe*Oe;function ct(cn){var sr=cn?-1:1,ho=cn?me:ue,ud=me*me-ue*ue+sr*qe*qe*Ae*Ae,ml=2*ho*qe*Ae,pl=ud/ml,Ir=Math.sqrt(pl*pl+1)-pl,rr=Ir<1e-9?-18:Math.log(Ir);return rr}function In(cn){return(Math.exp(cn)-Math.exp(-cn))/2}function gn(cn){return(Math.exp(cn)+Math.exp(-cn))/2}function Pi(cn){return In(cn)/gn(cn)}var Rt=ct(0);function Nt(cn){return ue*(gn(Rt)/gn(Rt+Oe*cn))}function pt(cn){return ue*(gn(Rt)*Pi(Rt+Oe*cn)-In(Rt))/qe}function Lr(cn){return 1-Math.pow(1-cn,1.5)}var Gi=Date.now(),Cc=(ct(1)-Rt)/Oe,jr=w.duration?1e3*w.duration:1e3*Cc*.8;function cd(){var cn=(Date.now()-Gi)/jr,sr=Lr(cn)*Cc;cn<=1?(this._flyToFrame=K(cd,this),this._move(this.unproject(R.add(M.subtract(R).multiplyBy(pt(sr)/Ae)),X),this.getScaleZoom(ue/Nt(sr),X),{flyTo:!0})):this._move(u,p)._moveEnd(!0)}return this._moveStart(!0,w.noMoveStart),cd.call(this),this},flyToBounds:function(u,p){var w=this._getBoundsCenterZoom(u,p);return this.flyTo(w.center,w.zoom,p)},setMaxBounds:function(u){return u=xe(u),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),u.isValid()?(this.options.maxBounds=u,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(u){var p=this.options.minZoom;return this.options.minZoom=u,this._loaded&&p!==u&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(u):this},setMaxZoom:function(u){var p=this.options.maxZoom;return this.options.maxZoom=u,this._loaded&&p!==u&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(u):this},panInsideBounds:function(u,p){this._enforcingBounds=!0;var w=this.getCenter(),R=this._limitCenter(w,this._zoom,xe(u));return w.equals(R)||this.panTo(R,p),this._enforcingBounds=!1,this},panInside:function(u,p){p=p||{};var w=ae(p.paddingTopLeft||p.padding||[0,0]),R=ae(p.paddingBottomRight||p.padding||[0,0]),M=this.project(this.getCenter()),B=this.project(u),X=this.getPixelBounds(),ue=oe([X.min.add(w),X.max.subtract(R)]),me=ue.getSize();if(!ue.contains(B)){this._enforcingBounds=!0;var Ae=B.subtract(ue.getCenter()),Oe=ue.extend(B).getSize().subtract(me);M.x+=Ae.x<0?-Oe.x:Oe.x,M.y+=Ae.y<0?-Oe.y:Oe.y,this.panTo(this.unproject(M),p),this._enforcingBounds=!1}return this},invalidateSize:function(u){if(!this._loaded)return this;u=s({animate:!1,pan:!0},u===!0?{animate:!0}:u);var p=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var w=this.getSize(),R=p.divideBy(2).round(),M=w.divideBy(2).round(),B=R.subtract(M);return!B.x&&!B.y?this:(u.animate&&u.pan?this.panBy(B):(u.pan&&this._rawPanBy(B),this.fire("move"),u.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:p,newSize:w}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(u){if(u=this._locateOptions=s({timeout:1e4,watch:!1},u),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var p=l(this._handleGeolocationResponse,this),w=l(this._handleGeolocationError,this);return u.watch?this._locationWatchId=navigator.geolocation.watchPosition(p,w,u):navigator.geolocation.getCurrentPosition(p,w,u),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(u){if(this._container._leaflet_id){var p=u.code,w=u.message||(p===1?"permission denied":p===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:p,message:"Geolocation error: "+w+"."})}},_handleGeolocationResponse:function(u){if(this._container._leaflet_id){var p=u.coords.latitude,w=u.coords.longitude,R=new Re(p,w),M=R.toBounds(u.coords.accuracy*2),B=this._locateOptions;if(B.setView){var X=this.getBoundsZoom(M);this.setView(R,B.maxZoom?Math.min(X,B.maxZoom):X)}var ue={latlng:R,bounds:M,timestamp:u.timestamp};for(var me in u.coords)typeof u.coords[me]=="number"&&(ue[me]=u.coords[me]);this.fire("locationfound",ue)}},addHandler:function(u,p){if(!p)return this;var w=this[u]=new p(this);return this._handlers.push(w),this.options[u]&&w.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),U(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Y(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var u;for(u in this._layers)this._layers[u].remove();for(u in this._panes)U(this._panes[u]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(u,p){var w="leaflet-pane"+(u?" leaflet-"+u.replace("Pane","")+"-pane":""),R=ht("div",w,p||this._mapPane);return u&&(this._panes[u]=R),R},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var u=this.getPixelBounds(),p=this.unproject(u.getBottomLeft()),w=this.unproject(u.getTopRight());return new be(p,w)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(u,p,w){u=xe(u),w=ae(w||[0,0]);var R=this.getZoom()||0,M=this.getMinZoom(),B=this.getMaxZoom(),X=u.getNorthWest(),ue=u.getSouthEast(),me=this.getSize().subtract(w),Ae=oe(this.project(ue,R),this.project(X,R)).getSize(),Oe=ze.any3d?this.options.zoomSnap:1,qe=me.x/Ae.x,ct=me.y/Ae.y,In=p?Math.max(qe,ct):Math.min(qe,ct);return R=this.getScaleZoom(In,R),Oe&&(R=Math.round(R/(Oe/100))*(Oe/100),R=p?Math.ceil(R/Oe)*Oe:Math.floor(R/Oe)*Oe),Math.max(M,Math.min(B,R))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ee(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(u,p){var w=this._getTopLeftPoint(u,p);return new G(w,w.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(u){return this.options.crs.getProjectedBounds(u===void 0?this.getZoom():u)},getPane:function(u){return typeof u=="string"?this._panes[u]:u},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(u,p){var w=this.options.crs;return p=p===void 0?this._zoom:p,w.scale(u)/w.scale(p)},getScaleZoom:function(u,p){var w=this.options.crs;p=p===void 0?this._zoom:p;var R=w.zoom(u*w.scale(p));return isNaN(R)?1/0:R},project:function(u,p){return p=p===void 0?this._zoom:p,this.options.crs.latLngToPoint(Se(u),p)},unproject:function(u,p){return p=p===void 0?this._zoom:p,this.options.crs.pointToLatLng(ae(u),p)},layerPointToLatLng:function(u){var p=ae(u).add(this.getPixelOrigin());return this.unproject(p)},latLngToLayerPoint:function(u){var p=this.project(Se(u))._round();return p._subtract(this.getPixelOrigin())},wrapLatLng:function(u){return this.options.crs.wrapLatLng(Se(u))},wrapLatLngBounds:function(u){return this.options.crs.wrapLatLngBounds(xe(u))},distance:function(u,p){return this.options.crs.distance(Se(u),Se(p))},containerPointToLayerPoint:function(u){return ae(u).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(u){return ae(u).add(this._getMapPanePos())},containerPointToLatLng:function(u){var p=this.containerPointToLayerPoint(ae(u));return this.layerPointToLatLng(p)},latLngToContainerPoint:function(u){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Se(u)))},mouseEventToContainerPoint:function(u){return Qa(u,this._container)},mouseEventToLayerPoint:function(u){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(u))},mouseEventToLatLng:function(u){return this.layerPointToLatLng(this.mouseEventToLayerPoint(u))},_initContainer:function(u){var p=this._container=io(u);if(p){if(p._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");st(p,"scroll",this._onScroll,this),this._containerId=d(p)},_initLayout:function(){var u=this._container;this._fadeAnimated=this.options.fadeAnimation&&ze.any3d,J(u,"leaflet-container"+(ze.touch?" leaflet-touch":"")+(ze.retina?" leaflet-retina":"")+(ze.ielt9?" leaflet-oldie":"")+(ze.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var p=so(u,"position");p!=="absolute"&&p!=="relative"&&p!=="fixed"&&p!=="sticky"&&(u.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var u=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ke(this._mapPane,new ee(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(J(u.markerPane,"leaflet-zoom-hide"),J(u.shadowPane,"leaflet-zoom-hide"))},_resetView:function(u,p,w){Ke(this._mapPane,new ee(0,0));var R=!this._loaded;this._loaded=!0,p=this._limitZoom(p),this.fire("viewprereset");var M=this._zoom!==p;this._moveStart(M,w)._move(u,p)._moveEnd(M),this.fire("viewreset"),R&&this.fire("load")},_moveStart:function(u,p){return u&&this.fire("zoomstart"),p||this.fire("movestart"),this},_move:function(u,p,w,R){p===void 0&&(p=this._zoom);var M=this._zoom!==p;return this._zoom=p,this._lastCenter=u,this._pixelOrigin=this._getNewPixelOrigin(u),R?w&&w.pinch&&this.fire("zoom",w):((M||w&&w.pinch)&&this.fire("zoom",w),this.fire("move",w)),this},_moveEnd:function(u){return u&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Y(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(u){Ke(this._mapPane,this._getMapPanePos().subtract(u))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(u){this._targets={},this._targets[d(this._container)]=this;var p=u?It:st;p(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&p(window,"resize",this._onResize,this),ze.any3d&&this.options.transform3DLimit&&(u?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Y(this._resizeRequest),this._resizeRequest=K(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var u=this._getMapPanePos();Math.max(Math.abs(u.x),Math.abs(u.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(u,p){for(var w=[],R,M=p==="mouseout"||p==="mouseover",B=u.target||u.srcElement,X=!1;B;){if(R=this._targets[d(B)],R&&(p==="click"||p==="preclick")&&this._draggableMoved(R)){X=!0;break}if(R&&R.listens(p,!0)&&(M&&!er(B,u)||(w.push(R),M))||B===this._container)break;B=B.parentNode}return!w.length&&!X&&!M&&this.listens(p,!0)&&(w=[this]),w},_isClickDisabled:function(u){for(;u&&u!==this._container;){if(u._leaflet_disable_click)return!0;u=u.parentNode}},_handleDOMEvent:function(u){var p=u.target||u.srcElement;if(!(!this._loaded||p._leaflet_disable_events||u.type==="click"&&this._isClickDisabled(p))){var w=u.type;w==="mousedown"&&Tr(p),this._fireDOMEvent(u,w)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(u,p,w){if(u.type==="click"){var R=s({},u);R.type="preclick",this._fireDOMEvent(R,R.type,w)}var M=this._findEventTargets(u,p);if(w){for(var B=[],X=0;X<w.length;X++)w[X].listens(p,!0)&&B.push(w[X]);M=B.concat(M)}if(M.length){p==="contextmenu"&&pn(u);var ue=M[0],me={originalEvent:u};if(u.type!=="keypress"&&u.type!=="keydown"&&u.type!=="keyup"){var Ae=ue.getLatLng&&(!ue._radius||ue._radius<=10);me.containerPoint=Ae?this.latLngToContainerPoint(ue.getLatLng()):this.mouseEventToContainerPoint(u),me.layerPoint=this.containerPointToLayerPoint(me.containerPoint),me.latlng=Ae?ue.getLatLng():this.layerPointToLatLng(me.layerPoint)}for(X=0;X<M.length;X++)if(M[X].fire(p,me,!0),me.originalEvent._stopped||M[X].options.bubblingMouseEvents===!1&&O(this._mouseEvents,p)!==-1)return}},_draggableMoved:function(u){return u=u.dragging&&u.dragging.enabled()?u:this,u.dragging&&u.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var u=0,p=this._handlers.length;u<p;u++)this._handlers[u].disable()},whenReady:function(u,p){return this._loaded?u.call(p||this,{target:this}):this.on("load",u,p),this},_getMapPanePos:function(){return ft(this._mapPane)||new ee(0,0)},_moved:function(){var u=this._getMapPanePos();return u&&!u.equals([0,0])},_getTopLeftPoint:function(u,p){var w=u&&p!==void 0?this._getNewPixelOrigin(u,p):this.getPixelOrigin();return w.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(u,p){var w=this.getSize()._divideBy(2);return this.project(u,p)._subtract(w)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(u,p,w){var R=this._getNewPixelOrigin(w,p);return this.project(u,p)._subtract(R)},_latLngBoundsToNewLayerBounds:function(u,p,w){var R=this._getNewPixelOrigin(w,p);return oe([this.project(u.getSouthWest(),p)._subtract(R),this.project(u.getNorthWest(),p)._subtract(R),this.project(u.getSouthEast(),p)._subtract(R),this.project(u.getNorthEast(),p)._subtract(R)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(u){return this.latLngToLayerPoint(u).subtract(this._getCenterLayerPoint())},_limitCenter:function(u,p,w){if(!w)return u;var R=this.project(u,p),M=this.getSize().divideBy(2),B=new G(R.subtract(M),R.add(M)),X=this._getBoundsOffset(B,w,p);return Math.abs(X.x)<=1&&Math.abs(X.y)<=1?u:this.unproject(R.add(X),p)},_limitOffset:function(u,p){if(!p)return u;var w=this.getPixelBounds(),R=new G(w.min.add(u),w.max.add(u));return u.add(this._getBoundsOffset(R,p))},_getBoundsOffset:function(u,p,w){var R=oe(this.project(p.getNorthEast(),w),this.project(p.getSouthWest(),w)),M=R.min.subtract(u.min),B=R.max.subtract(u.max),X=this._rebound(M.x,-B.x),ue=this._rebound(M.y,-B.y);return new ee(X,ue)},_rebound:function(u,p){return u+p>0?Math.round(u-p)/2:Math.max(0,Math.ceil(u))-Math.max(0,Math.floor(p))},_limitZoom:function(u){var p=this.getMinZoom(),w=this.getMaxZoom(),R=ze.any3d?this.options.zoomSnap:1;return R&&(u=Math.round(u/R)*R),Math.max(p,Math.min(w,u))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ve(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(u,p){var w=this._getCenterOffset(u)._trunc();return(p&&p.animate)!==!0&&!this.getSize().contains(w)?!1:(this.panBy(w,p),!0)},_createAnimProxy:function(){var u=this._proxy=ht("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(u),this.on("zoomanim",function(p){var w=Fi,R=this._proxy.style[w];tt(this._proxy,this.project(p.center,p.zoom),this.getZoomScale(p.zoom,1)),R===this._proxy.style[w]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){U(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var u=this.getCenter(),p=this.getZoom();tt(this._proxy,this.project(u,p),this.getZoomScale(p,1))},_catchTransitionEnd:function(u){this._animatingZoom&&u.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(u,p,w){if(this._animatingZoom)return!0;if(w=w||{},!this._zoomAnimated||w.animate===!1||this._nothingToAnimate()||Math.abs(p-this._zoom)>this.options.zoomAnimationThreshold)return!1;var R=this.getZoomScale(p),M=this._getCenterOffset(u)._divideBy(1-1/R);return w.animate!==!0&&!this.getSize().contains(M)?!1:(K(function(){this._moveStart(!0,w.noMoveStart||!1)._animateZoom(u,p,!0)},this),!0)},_animateZoom:function(u,p,w,R){this._mapPane&&(w&&(this._animatingZoom=!0,this._animateToCenter=u,this._animateToZoom=p,J(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:u,zoom:p,noUpdate:R}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ve(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Zu(u,p){return new xt(u,p)}var ki=ie.extend({options:{position:"topright"},initialize:function(u){E(this,u)},getPosition:function(){return this.options.position},setPosition:function(u){var p=this._map;return p&&p.removeControl(this),this.options.position=u,p&&p.addControl(this),this},getContainer:function(){return this._container},addTo:function(u){this.remove(),this._map=u;var p=this._container=this.onAdd(u),w=this.getPosition(),R=u._controlCorners[w];return J(p,"leaflet-control"),w.indexOf("bottom")!==-1?R.insertBefore(p,R.firstChild):R.appendChild(p),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(U(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(u){this._map&&u&&u.screenX>0&&u.screenY>0&&this._map.getContainer().focus()}}),tr=function(u){return new ki(u)};xt.include({addControl:function(u){return u.addTo(this),this},removeControl:function(u){return u.remove(),this},_initControlPos:function(){var u=this._controlCorners={},p="leaflet-",w=this._controlContainer=ht("div",p+"control-container",this._container);function R(M,B){var X=p+M+" "+p+B;u[M+B]=ht("div",X,w)}R("top","left"),R("top","right"),R("bottom","left"),R("bottom","right")},_clearControlPos:function(){for(var u in this._controlCorners)U(this._controlCorners[u]);U(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ja=ki.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(u,p,w,R){return w<R?-1:R<w?1:0}},initialize:function(u,p,w){E(this,w),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var R in u)this._addLayer(u[R],R);for(R in p)this._addLayer(p[R],R,!0)},onAdd:function(u){this._initLayout(),this._update(),this._map=u,u.on("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(u){return ki.prototype.addTo.call(this,u),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(u,p){return this._addLayer(u,p),this._map?this._update():this},addOverlay:function(u,p){return this._addLayer(u,p,!0),this._map?this._update():this},removeLayer:function(u){u.off("add remove",this._onLayerChange,this);var p=this._getLayer(d(u));return p&&this._layers.splice(this._layers.indexOf(p),1),this._map?this._update():this},expand:function(){J(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var u=this._map.getSize().y-(this._container.offsetTop+50);return u<this._section.clientHeight?(J(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=u+"px"):ve(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ve(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var u="leaflet-control-layers",p=this._container=ht("div",u),w=this.options.collapsed;p.setAttribute("aria-haspopup",!0),lo(p),As(p);var R=this._section=ht("section",u+"-list");w&&(this._map.on("click",this.collapse,this),st(p,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var M=this._layersLink=ht("a",u+"-toggle",p);M.href="#",M.title="Layers",M.setAttribute("role","button"),st(M,{keydown:function(B){B.keyCode===13&&this._expandSafely()},click:function(B){pn(B),this._expandSafely()}},this),w||this.expand(),this._baseLayersList=ht("div",u+"-base",R),this._separator=ht("div",u+"-separator",R),this._overlaysList=ht("div",u+"-overlays",R),p.appendChild(R)},_getLayer:function(u){for(var p=0;p<this._layers.length;p++)if(this._layers[p]&&d(this._layers[p].layer)===u)return this._layers[p]},_addLayer:function(u,p,w){this._map&&u.on("add remove",this._onLayerChange,this),this._layers.push({layer:u,name:p,overlay:w}),this.options.sortLayers&&this._layers.sort(l(function(R,M){return this.options.sortFunction(R.layer,M.layer,R.name,M.name)},this)),this.options.autoZIndex&&u.setZIndex&&(this._lastZIndex++,u.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;te(this._baseLayersList),te(this._overlaysList),this._layerControlInputs=[];var u,p,w,R,M=0;for(w=0;w<this._layers.length;w++)R=this._layers[w],this._addItem(R),p=p||R.overlay,u=u||!R.overlay,M+=R.overlay?0:1;return this.options.hideSingleBase&&(u=u&&M>1,this._baseLayersList.style.display=u?"":"none"),this._separator.style.display=p&&u?"":"none",this},_onLayerChange:function(u){this._handlingClick||this._update();var p=this._getLayer(d(u.target)),w=p.overlay?u.type==="add"?"overlayadd":"overlayremove":u.type==="add"?"baselayerchange":null;w&&this._map.fire(w,p)},_createRadioElement:function(u,p){var w='<input type="radio" class="leaflet-control-layers-selector" name="'+u+'"'+(p?' checked="checked"':"")+"/>",R=document.createElement("div");return R.innerHTML=w,R.firstChild},_addItem:function(u){var p=document.createElement("label"),w=this._map.hasLayer(u.layer),R;u.overlay?(R=document.createElement("input"),R.type="checkbox",R.className="leaflet-control-layers-selector",R.defaultChecked=w):R=this._createRadioElement("leaflet-base-layers_"+d(this),w),this._layerControlInputs.push(R),R.layerId=d(u.layer),st(R,"click",this._onInputClick,this);var M=document.createElement("span");M.innerHTML=" "+u.name;var B=document.createElement("span");p.appendChild(B),B.appendChild(R),B.appendChild(M);var X=u.overlay?this._overlaysList:this._baseLayersList;return X.appendChild(p),this._checkDisabledLayers(),p},_onInputClick:function(){if(!this._preventClick){var u=this._layerControlInputs,p,w,R=[],M=[];this._handlingClick=!0;for(var B=u.length-1;B>=0;B--)p=u[B],w=this._getLayer(p.layerId).layer,p.checked?R.push(w):p.checked||M.push(w);for(B=0;B<M.length;B++)this._map.hasLayer(M[B])&&this._map.removeLayer(M[B]);for(B=0;B<R.length;B++)this._map.hasLayer(R[B])||this._map.addLayer(R[B]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var u=this._layerControlInputs,p,w,R=this._map.getZoom(),M=u.length-1;M>=0;M--)p=u[M],w=this._getLayer(p.layerId).layer,p.disabled=w.options.minZoom!==void 0&&R<w.options.minZoom||w.options.maxZoom!==void 0&&R>w.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var u=this._section;this._preventClick=!0,st(u,"click",pn),this.expand();var p=this;setTimeout(function(){It(u,"click",pn),p._preventClick=!1})}}),wh=function(u,p,w){return new Ja(u,p,w)},Xu=ki.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(u){var p="leaflet-control-zoom",w=ht("div",p+" leaflet-bar"),R=this.options;return this._zoomInButton=this._createButton(R.zoomInText,R.zoomInTitle,p+"-in",w,this._zoomIn),this._zoomOutButton=this._createButton(R.zoomOutText,R.zoomOutTitle,p+"-out",w,this._zoomOut),this._updateDisabled(),u.on("zoomend zoomlevelschange",this._updateDisabled,this),w},onRemove:function(u){u.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(u){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(u.shiftKey?3:1))},_zoomOut:function(u){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(u.shiftKey?3:1))},_createButton:function(u,p,w,R,M){var B=ht("a",w,R);return B.innerHTML=u,B.href="#",B.title=p,B.setAttribute("role","button"),B.setAttribute("aria-label",p),lo(B),st(B,"click",Rr),st(B,"click",M,this),st(B,"click",this._refocusOnMap,this),B},_updateDisabled:function(){var u=this._map,p="leaflet-disabled";ve(this._zoomInButton,p),ve(this._zoomOutButton,p),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||u._zoom===u.getMinZoom())&&(J(this._zoomOutButton,p),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||u._zoom===u.getMaxZoom())&&(J(this._zoomInButton,p),this._zoomInButton.setAttribute("aria-disabled","true"))}});xt.mergeOptions({zoomControl:!0}),xt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Xu,this.addControl(this.zoomControl))});var hv=function(u){return new Xu(u)},Sh=ki.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(u){var p="leaflet-control-scale",w=ht("div",p),R=this.options;return this._addScales(R,p+"-line",w),u.on(R.updateWhenIdle?"moveend":"move",this._update,this),u.whenReady(this._update,this),w},onRemove:function(u){u.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(u,p,w){u.metric&&(this._mScale=ht("div",p,w)),u.imperial&&(this._iScale=ht("div",p,w))},_update:function(){var u=this._map,p=u.getSize().y/2,w=u.distance(u.containerPointToLatLng([0,p]),u.containerPointToLatLng([this.options.maxWidth,p]));this._updateScales(w)},_updateScales:function(u){this.options.metric&&u&&this._updateMetric(u),this.options.imperial&&u&&this._updateImperial(u)},_updateMetric:function(u){var p=this._getRoundNum(u),w=p<1e3?p+" m":p/1e3+" km";this._updateScale(this._mScale,w,p/u)},_updateImperial:function(u){var p=u*3.2808399,w,R,M;p>5280?(w=p/5280,R=this._getRoundNum(w),this._updateScale(this._iScale,R+" mi",R/w)):(M=this._getRoundNum(p),this._updateScale(this._iScale,M+" ft",M/p))},_updateScale:function(u,p,w){u.style.width=Math.round(this.options.maxWidth*w)+"px",u.innerHTML=p},_getRoundNum:function(u){var p=Math.pow(10,(Math.floor(u)+"").length-1),w=u/p;return w=w>=10?10:w>=5?5:w>=3?3:w>=2?2:1,p*w}}),Qu=function(u){return new Sh(u)},mv='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ju=ki.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ze.inlineSvg?mv+" ":"")+"Leaflet</a>"},initialize:function(u){E(this,u),this._attributions={}},onAdd:function(u){u.attributionControl=this,this._container=ht("div","leaflet-control-attribution"),lo(this._container);for(var p in u._layers)u._layers[p].getAttribution&&this.addAttribution(u._layers[p].getAttribution());return this._update(),u.on("layeradd",this._addAttribution,this),this._container},onRemove:function(u){u.off("layeradd",this._addAttribution,this)},_addAttribution:function(u){u.layer.getAttribution&&(this.addAttribution(u.layer.getAttribution()),u.layer.once("remove",function(){this.removeAttribution(u.layer.getAttribution())},this))},setPrefix:function(u){return this.options.prefix=u,this._update(),this},addAttribution:function(u){return u?(this._attributions[u]||(this._attributions[u]=0),this._attributions[u]++,this._update(),this):this},removeAttribution:function(u){return u?(this._attributions[u]&&(this._attributions[u]--,this._update()),this):this},_update:function(){if(this._map){var u=[];for(var p in this._attributions)this._attributions[p]&&u.push(p);var w=[];this.options.prefix&&w.push(this.options.prefix),u.length&&w.push(u.join(", ")),this._container.innerHTML=w.join(' <span aria-hidden="true">|</span> ')}}});xt.mergeOptions({attributionControl:!0}),xt.addInitHook(function(){this.options.attributionControl&&new Ju().addTo(this)});var pv=function(u){return new Ju(u)};ki.Layers=Ja,ki.Zoom=Xu,ki.Scale=Sh,ki.Attribution=Ju,tr.layers=wh,tr.zoom=hv,tr.scale=Qu,tr.attribution=pv;var Ts=ie.extend({initialize:function(u){this._map=u},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ts.addTo=function(u,p){return u.addHandler(p,this),this};var gv={Events:q},ed=ze.touch?"touchstart mousedown":"mousedown",Nr=W.extend({options:{clickTolerance:3},initialize:function(u,p,w,R){E(this,R),this._element=u,this._dragStartTarget=p||u,this._preventOutline=w},enable:function(){this._enabled||(st(this._dragStartTarget,ed,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Nr._dragging===this&&this.finishDrag(!0),It(this._dragStartTarget,ed,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(u){if(this._enabled&&(this._moved=!1,!le(this._element,"leaflet-zoom-anim"))){if(u.touches&&u.touches.length!==1){Nr._dragging===this&&this.finishDrag();return}if(!(Nr._dragging||u.shiftKey||u.which!==1&&u.button!==1&&!u.touches)&&(Nr._dragging=this,this._preventOutline&&Tr(this._element),Er(),Ut(),!this._moving)){this.fire("down");var p=u.touches?u.touches[0]:u,w=oo(this._element);this._startPoint=new ee(p.clientX,p.clientY),this._startPos=ft(this._element),this._parentScale=Ya(w);var R=u.type==="mousedown";st(document,R?"mousemove":"touchmove",this._onMove,this),st(document,R?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(u){if(this._enabled){if(u.touches&&u.touches.length>1){this._moved=!0;return}var p=u.touches&&u.touches.length===1?u.touches[0]:u,w=new ee(p.clientX,p.clientY)._subtract(this._startPoint);!w.x&&!w.y||Math.abs(w.x)+Math.abs(w.y)<this.options.clickTolerance||(w.x/=this._parentScale.x,w.y/=this._parentScale.y,pn(u),this._moved||(this.fire("dragstart"),this._moved=!0,J(document.body,"leaflet-dragging"),this._lastTarget=u.target||u.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),J(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(w),this._moving=!0,this._lastEvent=u,this._updatePosition())}},_updatePosition:function(){var u={originalEvent:this._lastEvent};this.fire("predrag",u),Ke(this._element,this._newPos),this.fire("drag",u)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(u){ve(document.body,"leaflet-dragging"),this._lastTarget&&(ve(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),It(document,"mousemove touchmove",this._onMove,this),It(document,"mouseup touchend touchcancel",this._onUp,this),ro(),Et();var p=this._moved&&this._moving;this._moving=!1,Nr._dragging=!1,p&&this.fire("dragend",{noInertia:u,distance:this._newPos.distanceTo(this._startPos)})}});function Ch(u,p,w){var R,M=[1,4,2,8],B,X,ue,me,Ae,Oe,qe,ct;for(B=0,Oe=u.length;B<Oe;B++)u[B]._code=co(u[B],p);for(ue=0;ue<4;ue++){for(qe=M[ue],R=[],B=0,Oe=u.length,X=Oe-1;B<Oe;X=B++)me=u[B],Ae=u[X],me._code&qe?Ae._code&qe||(ct=dc(Ae,me,qe,p,w),ct._code=co(ct,p),R.push(ct)):(Ae._code&qe&&(ct=dc(Ae,me,qe,p,w),ct._code=co(ct,p),R.push(ct)),R.push(me));u=R}return u}function Eh(u,p){var w,R,M,B,X,ue,me,Ae,Oe;if(!u||u.length===0)throw new Error("latlngs not passed");$i(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var qe=Se([0,0]),ct=xe(u),In=ct.getNorthWest().distanceTo(ct.getSouthWest())*ct.getNorthEast().distanceTo(ct.getNorthWest());In<1700&&(qe=td(u));var gn=u.length,Pi=[];for(w=0;w<gn;w++){var Rt=Se(u[w]);Pi.push(p.project(Se([Rt.lat-qe.lat,Rt.lng-qe.lng])))}for(ue=me=Ae=0,w=0,R=gn-1;w<gn;R=w++)M=Pi[w],B=Pi[R],X=M.y*B.x-B.y*M.x,me+=(M.x+B.x)*X,Ae+=(M.y+B.y)*X,ue+=X*3;ue===0?Oe=Pi[0]:Oe=[me/ue,Ae/ue];var Nt=p.unproject(ae(Oe));return Se([Nt.lat+qe.lat,Nt.lng+qe.lng])}function td(u){for(var p=0,w=0,R=0,M=0;M<u.length;M++){var B=Se(u[M]);p+=B.lat,w+=B.lng,R++}return Se([p/R,w/R])}var nd={__proto__:null,clipPolygon:Ch,polygonCenter:Eh,centroid:td};function Ah(u,p){if(!p||!u.length)return u.slice();var w=p*p;return u=yv(u,w),u=Rh(u,w),u}function Th(u,p,w){return Math.sqrt(el(u,p,w,!0))}function vv(u,p,w){return el(u,p,w)}function Rh(u,p){var w=u.length,R=typeof Uint8Array<"u"?Uint8Array:Array,M=new R(w);M[0]=M[w-1]=1,id(u,M,p,0,w-1);var B,X=[];for(B=0;B<w;B++)M[B]&&X.push(u[B]);return X}function id(u,p,w,R,M){var B=0,X,ue,me;for(ue=R+1;ue<=M-1;ue++)me=el(u[ue],u[R],u[M],!0),me>B&&(X=ue,B=me);B>w&&(p[X]=1,id(u,p,w,R,X),id(u,p,w,X,M))}function yv(u,p){for(var w=[u[0]],R=1,M=0,B=u.length;R<B;R++)bv(u[R],u[M])>p&&(w.push(u[R]),M=R);return M<B-1&&w.push(u[B-1]),w}var Nh;function kh(u,p,w,R,M){var B=R?Nh:co(u,w),X=co(p,w),ue,me,Ae;for(Nh=X;;){if(!(B|X))return[u,p];if(B&X)return!1;ue=B||X,me=dc(u,p,ue,w,M),Ae=co(me,w),ue===B?(u=me,B=Ae):(p=me,X=Ae)}}function dc(u,p,w,R,M){var B=p.x-u.x,X=p.y-u.y,ue=R.min,me=R.max,Ae,Oe;return w&8?(Ae=u.x+B*(me.y-u.y)/X,Oe=me.y):w&4?(Ae=u.x+B*(ue.y-u.y)/X,Oe=ue.y):w&2?(Ae=me.x,Oe=u.y+X*(me.x-u.x)/B):w&1&&(Ae=ue.x,Oe=u.y+X*(ue.x-u.x)/B),new ee(Ae,Oe,M)}function co(u,p){var w=0;return u.x<p.min.x?w|=1:u.x>p.max.x&&(w|=2),u.y<p.min.y?w|=4:u.y>p.max.y&&(w|=8),w}function bv(u,p){var w=p.x-u.x,R=p.y-u.y;return w*w+R*R}function el(u,p,w,R){var M=p.x,B=p.y,X=w.x-M,ue=w.y-B,me=X*X+ue*ue,Ae;return me>0&&(Ae=((u.x-M)*X+(u.y-B)*ue)/me,Ae>1?(M=w.x,B=w.y):Ae>0&&(M+=X*Ae,B+=ue*Ae)),X=u.x-M,ue=u.y-B,R?X*X+ue*ue:new ee(M,B)}function $i(u){return!P(u[0])||typeof u[0][0]!="object"&&typeof u[0][0]<"u"}function fc(u){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),$i(u)}function $o(u,p){var w,R,M,B,X,ue,me,Ae;if(!u||u.length===0)throw new Error("latlngs not passed");$i(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Oe=Se([0,0]),qe=xe(u),ct=qe.getNorthWest().distanceTo(qe.getSouthWest())*qe.getNorthEast().distanceTo(qe.getNorthWest());ct<1700&&(Oe=td(u));var In=u.length,gn=[];for(w=0;w<In;w++){var Pi=Se(u[w]);gn.push(p.project(Se([Pi.lat-Oe.lat,Pi.lng-Oe.lng])))}for(w=0,R=0;w<In-1;w++)R+=gn[w].distanceTo(gn[w+1])/2;if(R===0)Ae=gn[0];else for(w=0,B=0;w<In-1;w++)if(X=gn[w],ue=gn[w+1],M=X.distanceTo(ue),B+=M,B>R){me=(B-R)/M,Ae=[ue.x-me*(ue.x-X.x),ue.y-me*(ue.y-X.y)];break}var Rt=p.unproject(ae(Ae));return Se([Rt.lat+Oe.lat,Rt.lng+Oe.lng])}var xv={__proto__:null,simplify:Ah,pointToSegmentDistance:Th,closestPointOnSegment:vv,clipSegment:kh,_getEdgeIntersection:dc,_getBitCode:co,_sqClosestPointOnSegment:el,isFlat:$i,_flat:fc,polylineCenter:$o},hc={project:function(u){return new ee(u.lng,u.lat)},unproject:function(u){return new Re(u.y,u.x)},bounds:new G([-180,-90],[180,90])},mc={R:6378137,R_MINOR:6356752314245179e-9,bounds:new G([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(u){var p=Math.PI/180,w=this.R,R=u.lat*p,M=this.R_MINOR/w,B=Math.sqrt(1-M*M),X=B*Math.sin(R),ue=Math.tan(Math.PI/4-R/2)/Math.pow((1-X)/(1+X),B/2);return R=-w*Math.log(Math.max(ue,1e-10)),new ee(u.lng*p*w,R)},unproject:function(u){for(var p=180/Math.PI,w=this.R,R=this.R_MINOR/w,M=Math.sqrt(1-R*R),B=Math.exp(-u.y/w),X=Math.PI/2-2*Math.atan(B),ue=0,me=.1,Ae;ue<15&&Math.abs(me)>1e-7;ue++)Ae=M*Math.sin(X),Ae=Math.pow((1-Ae)/(1+Ae),M/2),me=Math.PI/2-2*Math.atan(B*Ae)-X,X+=me;return new Re(X*p,u.x*p/w)}},Ph={__proto__:null,LonLat:hc,Mercator:mc,SphericalMercator:Le},Oh=s({},je,{code:"EPSG:3395",projection:mc,transformation:(function(){var u=.5/(Math.PI*mc.R);return Qe(u,.5,-u,.5)})()}),sd=s({},je,{code:"EPSG:4326",projection:hc,transformation:Qe(1/180,1,-1/180,.5)}),Ho=s({},we,{projection:hc,transformation:Qe(1,0,-1,0),scale:function(u){return Math.pow(2,u)},zoom:function(u){return Math.log(u)/Math.LN2},distance:function(u,p){var w=p.lng-u.lng,R=p.lat-u.lat;return Math.sqrt(w*w+R*R)},infinite:!0});we.Earth=je,we.EPSG3395=Oh,we.EPSG3857=Ct,we.EPSG900913=yt,we.EPSG4326=sd,we.Simple=Ho;var ls=W.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(u){return u.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(u){return u&&u.removeLayer(this),this},getPane:function(u){return this._map.getPane(u?this.options[u]||u:this.options.pane)},addInteractiveTarget:function(u){return this._map._targets[d(u)]=this,this},removeInteractiveTarget:function(u){return delete this._map._targets[d(u)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(u){var p=u.target;if(p.hasLayer(this)){if(this._map=p,this._zoomAnimated=p._zoomAnimated,this.getEvents){var w=this.getEvents();p.on(w,this),this.once("remove",function(){p.off(w,this)},this)}this.onAdd(p),this.fire("add"),p.fire("layeradd",{layer:this})}}});xt.include({addLayer:function(u){if(!u._layerAdd)throw new Error("The provided object is not a Layer.");var p=d(u);return this._layers[p]?this:(this._layers[p]=u,u._mapToAdd=this,u.beforeAdd&&u.beforeAdd(this),this.whenReady(u._layerAdd,u),this)},removeLayer:function(u){var p=d(u);return this._layers[p]?(this._loaded&&u.onRemove(this),delete this._layers[p],this._loaded&&(this.fire("layerremove",{layer:u}),u.fire("remove")),u._map=u._mapToAdd=null,this):this},hasLayer:function(u){return d(u)in this._layers},eachLayer:function(u,p){for(var w in this._layers)u.call(p,this._layers[w]);return this},_addLayers:function(u){u=u?P(u)?u:[u]:[];for(var p=0,w=u.length;p<w;p++)this.addLayer(u[p])},_addZoomLimit:function(u){(!isNaN(u.options.maxZoom)||!isNaN(u.options.minZoom))&&(this._zoomBoundLayers[d(u)]=u,this._updateZoomLevels())},_removeZoomLimit:function(u){var p=d(u);this._zoomBoundLayers[p]&&(delete this._zoomBoundLayers[p],this._updateZoomLevels())},_updateZoomLevels:function(){var u=1/0,p=-1/0,w=this._getZoomSpan();for(var R in this._zoomBoundLayers){var M=this._zoomBoundLayers[R].options;u=M.minZoom===void 0?u:Math.min(u,M.minZoom),p=M.maxZoom===void 0?p:Math.max(p,M.maxZoom)}this._layersMaxZoom=p===-1/0?void 0:p,this._layersMinZoom=u===1/0?void 0:u,w!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var qo=ls.extend({initialize:function(u,p){E(this,p),this._layers={};var w,R;if(u)for(w=0,R=u.length;w<R;w++)this.addLayer(u[w])},addLayer:function(u){var p=this.getLayerId(u);return this._layers[p]=u,this._map&&this._map.addLayer(u),this},removeLayer:function(u){var p=u in this._layers?u:this.getLayerId(u);return this._map&&this._layers[p]&&this._map.removeLayer(this._layers[p]),delete this._layers[p],this},hasLayer:function(u){var p=typeof u=="number"?u:this.getLayerId(u);return p in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(u){var p=Array.prototype.slice.call(arguments,1),w,R;for(w in this._layers)R=this._layers[w],R[u]&&R[u].apply(R,p);return this},onAdd:function(u){this.eachLayer(u.addLayer,u)},onRemove:function(u){this.eachLayer(u.removeLayer,u)},eachLayer:function(u,p){for(var w in this._layers)u.call(p,this._layers[w]);return this},getLayer:function(u){return this._layers[u]},getLayers:function(){var u=[];return this.eachLayer(u.push,u),u},setZIndex:function(u){return this.invoke("setZIndex",u)},getLayerId:function(u){return d(u)}}),_v=function(u,p){return new qo(u,p)},Rs=qo.extend({addLayer:function(u){return this.hasLayer(u)?this:(u.addEventParent(this),qo.prototype.addLayer.call(this,u),this.fire("layeradd",{layer:u}))},removeLayer:function(u){return this.hasLayer(u)?(u in this._layers&&(u=this._layers[u]),u.removeEventParent(this),qo.prototype.removeLayer.call(this,u),this.fire("layerremove",{layer:u})):this},setStyle:function(u){return this.invoke("setStyle",u)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var u=new be;for(var p in this._layers){var w=this._layers[p];u.extend(w.getBounds?w.getBounds():w.getLatLng())}return u}}),Mh=function(u,p){return new Rs(u,p)},Ns=ie.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(u){E(this,u)},createIcon:function(u){return this._createIcon("icon",u)},createShadow:function(u){return this._createIcon("shadow",u)},_createIcon:function(u,p){var w=this._getIconUrl(u);if(!w){if(u==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var R=this._createImg(w,p&&p.tagName==="IMG"?p:null);return this._setIconStyles(R,u),(this.options.crossOrigin||this.options.crossOrigin==="")&&(R.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),R},_setIconStyles:function(u,p){var w=this.options,R=w[p+"Size"];typeof R=="number"&&(R=[R,R]);var M=ae(R),B=ae(p==="shadow"&&w.shadowAnchor||w.iconAnchor||M&&M.divideBy(2,!0));u.className="leaflet-marker-"+p+" "+(w.className||""),B&&(u.style.marginLeft=-B.x+"px",u.style.marginTop=-B.y+"px"),M&&(u.style.width=M.x+"px",u.style.height=M.y+"px")},_createImg:function(u,p){return p=p||document.createElement("img"),p.src=u,p},_getIconUrl:function(u){return ze.retina&&this.options[u+"RetinaUrl"]||this.options[u+"Url"]}});function tl(u){return new Ns(u)}var nl=Ns.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(u){return typeof nl.imagePath!="string"&&(nl.imagePath=this._detectIconPath()),(this.options.imagePath||nl.imagePath)+Ns.prototype._getIconUrl.call(this,u)},_stripUrl:function(u){var p=function(w,R,M){var B=R.exec(w);return B&&B[M]};return u=p(u,/^url\((['"])?(.+)\1\)$/,2),u&&p(u,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var u=ht("div","leaflet-default-icon-path",document.body),p=so(u,"background-image")||so(u,"backgroundImage");if(document.body.removeChild(u),p=this._stripUrl(p),p)return p;var w=document.querySelector('link[href$="leaflet.css"]');return w?w.href.substring(0,w.href.length-11-1):""}}),il=Ts.extend({initialize:function(u){this._marker=u},addHooks:function(){var u=this._marker._icon;this._draggable||(this._draggable=new Nr(u,u,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),J(u,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ve(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(u){var p=this._marker,w=p._map,R=this._marker.options.autoPanSpeed,M=this._marker.options.autoPanPadding,B=ft(p._icon),X=w.getPixelBounds(),ue=w.getPixelOrigin(),me=oe(X.min._subtract(ue).add(M),X.max._subtract(ue).subtract(M));if(!me.contains(B)){var Ae=ae((Math.max(me.max.x,B.x)-me.max.x)/(X.max.x-me.max.x)-(Math.min(me.min.x,B.x)-me.min.x)/(X.min.x-me.min.x),(Math.max(me.max.y,B.y)-me.max.y)/(X.max.y-me.max.y)-(Math.min(me.min.y,B.y)-me.min.y)/(X.min.y-me.min.y)).multiplyBy(R);w.panBy(Ae,{animate:!1}),this._draggable._newPos._add(Ae),this._draggable._startPos._add(Ae),Ke(p._icon,this._draggable._newPos),this._onDrag(u),this._panRequest=K(this._adjustPan.bind(this,u))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(u){this._marker.options.autoPan&&(Y(this._panRequest),this._panRequest=K(this._adjustPan.bind(this,u)))},_onDrag:function(u){var p=this._marker,w=p._shadow,R=ft(p._icon),M=p._map.layerPointToLatLng(R);w&&Ke(w,R),p._latlng=M,u.latlng=M,u.oldLatLng=this._oldLatLng,p.fire("move",u).fire("drag",u)},_onDragEnd:function(u){Y(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",u)}}),sl=ls.extend({options:{icon:new nl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(u,p){E(this,p),this._latlng=Se(u)},onAdd:function(u){this._zoomAnimated=this._zoomAnimated&&u.options.markerZoomAnimation,this._zoomAnimated&&u.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(u){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&u.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(u){var p=this._latlng;return this._latlng=Se(u),this.update(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},setZIndexOffset:function(u){return this.options.zIndexOffset=u,this.update()},getIcon:function(){return this.options.icon},setIcon:function(u){return this.options.icon=u,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var u=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(u)}return this},_initIcon:function(){var u=this.options,p="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),w=u.icon.createIcon(this._icon),R=!1;w!==this._icon&&(this._icon&&this._removeIcon(),R=!0,u.title&&(w.title=u.title),w.tagName==="IMG"&&(w.alt=u.alt||"")),J(w,p),u.keyboard&&(w.tabIndex="0",w.setAttribute("role","button")),this._icon=w,u.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&st(w,"focus",this._panOnFocus,this);var M=u.icon.createShadow(this._shadow),B=!1;M!==this._shadow&&(this._removeShadow(),B=!0),M&&(J(M,p),M.alt=""),this._shadow=M,u.opacity<1&&this._updateOpacity(),R&&this.getPane().appendChild(this._icon),this._initInteraction(),M&&B&&this.getPane(u.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&It(this._icon,"focus",this._panOnFocus,this),U(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&U(this._shadow),this._shadow=null},_setPos:function(u){this._icon&&Ke(this._icon,u),this._shadow&&Ke(this._shadow,u),this._zIndex=u.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(u){this._icon&&(this._icon.style.zIndex=this._zIndex+u)},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center).round();this._setPos(p)},_initInteraction:function(){if(this.options.interactive&&(J(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),il)){var u=this.options.draggable;this.dragging&&(u=this.dragging.enabled(),this.dragging.disable()),this.dragging=new il(this),u&&this.dragging.enable()}},setOpacity:function(u){return this.options.opacity=u,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var u=this.options.opacity;this._icon&&Ee(this._icon,u),this._shadow&&Ee(this._shadow,u)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var u=this._map;if(u){var p=this.options.icon.options,w=p.iconSize?ae(p.iconSize):ae(0,0),R=p.iconAnchor?ae(p.iconAnchor):ae(0,0);u.panInside(this._latlng,{paddingTopLeft:R,paddingBottomRight:w.subtract(R)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Dh(u,p){return new sl(u,p)}var ks=ls.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(u){this._renderer=u.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(u){return E(this,u),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&u&&Object.prototype.hasOwnProperty.call(u,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Go=ks.extend({options:{fill:!0,radius:10},initialize:function(u,p){E(this,p),this._latlng=Se(u),this._radius=this.options.radius},setLatLng:function(u){var p=this._latlng;return this._latlng=Se(u),this.redraw(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(u){return this.options.radius=this._radius=u,this.redraw()},getRadius:function(){return this._radius},setStyle:function(u){var p=u&&u.radius||this._radius;return ks.prototype.setStyle.call(this,u),this.setRadius(p),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var u=this._radius,p=this._radiusY||u,w=this._clickTolerance(),R=[u+w,p+w];this._pxBounds=new G(this._point.subtract(R),this._point.add(R))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(u){return u.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Lh(u,p){return new Go(u,p)}var pc=Go.extend({initialize:function(u,p,w){if(typeof p=="number"&&(p=s({},w,{radius:p})),E(this,p),this._latlng=Se(u),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(u){return this._mRadius=u,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var u=[this._radius,this._radiusY||this._radius];return new be(this._map.layerPointToLatLng(this._point.subtract(u)),this._map.layerPointToLatLng(this._point.add(u)))},setStyle:ks.prototype.setStyle,_project:function(){var u=this._latlng.lng,p=this._latlng.lat,w=this._map,R=w.options.crs;if(R.distance===je.distance){var M=Math.PI/180,B=this._mRadius/je.R/M,X=w.project([p+B,u]),ue=w.project([p-B,u]),me=X.add(ue).divideBy(2),Ae=w.unproject(me).lat,Oe=Math.acos((Math.cos(B*M)-Math.sin(p*M)*Math.sin(Ae*M))/(Math.cos(p*M)*Math.cos(Ae*M)))/M;(isNaN(Oe)||Oe===0)&&(Oe=B/Math.cos(Math.PI/180*p)),this._point=me.subtract(w.getPixelOrigin()),this._radius=isNaN(Oe)?0:me.x-w.project([Ae,u-Oe]).x,this._radiusY=me.y-X.y}else{var qe=R.unproject(R.project(this._latlng).subtract([this._mRadius,0]));this._point=w.latLngToLayerPoint(this._latlng),this._radius=this._point.x-w.latLngToLayerPoint(qe).x}this._updateBounds()}});function jh(u,p,w){return new pc(u,p,w)}var nr=ks.extend({options:{smoothFactor:1,noClip:!1},initialize:function(u,p){E(this,p),this._setLatLngs(u)},getLatLngs:function(){return this._latlngs},setLatLngs:function(u){return this._setLatLngs(u),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(u){for(var p=1/0,w=null,R=el,M,B,X=0,ue=this._parts.length;X<ue;X++)for(var me=this._parts[X],Ae=1,Oe=me.length;Ae<Oe;Ae++){M=me[Ae-1],B=me[Ae];var qe=R(u,M,B,!0);qe<p&&(p=qe,w=R(u,M,B))}return w&&(w.distance=Math.sqrt(p)),w},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $o(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(u,p){return p=p||this._defaultShape(),u=Se(u),p.push(u),this._bounds.extend(u),this.redraw()},_setLatLngs:function(u){this._bounds=new be,this._latlngs=this._convertLatLngs(u)},_defaultShape:function(){return $i(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(u){for(var p=[],w=$i(u),R=0,M=u.length;R<M;R++)w?(p[R]=Se(u[R]),this._bounds.extend(p[R])):p[R]=this._convertLatLngs(u[R]);return p},_project:function(){var u=new G;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,u),this._bounds.isValid()&&u.isValid()&&(this._rawPxBounds=u,this._updateBounds())},_updateBounds:function(){var u=this._clickTolerance(),p=new ee(u,u);this._rawPxBounds&&(this._pxBounds=new G([this._rawPxBounds.min.subtract(p),this._rawPxBounds.max.add(p)]))},_projectLatlngs:function(u,p,w){var R=u[0]instanceof Re,M=u.length,B,X;if(R){for(X=[],B=0;B<M;B++)X[B]=this._map.latLngToLayerPoint(u[B]),w.extend(X[B]);p.push(X)}else for(B=0;B<M;B++)this._projectLatlngs(u[B],p,w)},_clipPoints:function(){var u=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}var p=this._parts,w,R,M,B,X,ue,me;for(w=0,M=0,B=this._rings.length;w<B;w++)for(me=this._rings[w],R=0,X=me.length;R<X-1;R++)ue=kh(me[R],me[R+1],u,R,!0),ue&&(p[M]=p[M]||[],p[M].push(ue[0]),(ue[1]!==me[R+1]||R===X-2)&&(p[M].push(ue[1]),M++))}},_simplifyPoints:function(){for(var u=this._parts,p=this.options.smoothFactor,w=0,R=u.length;w<R;w++)u[w]=Ah(u[w],p)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(u,p){var w,R,M,B,X,ue,me=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(w=0,B=this._parts.length;w<B;w++)for(ue=this._parts[w],R=0,X=ue.length,M=X-1;R<X;M=R++)if(!(!p&&R===0)&&Th(u,ue[M],ue[R])<=me)return!0;return!1}});function wv(u,p){return new nr(u,p)}nr._flat=fc;var Ko=nr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Eh(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(u){var p=nr.prototype._convertLatLngs.call(this,u),w=p.length;return w>=2&&p[0]instanceof Re&&p[0].equals(p[w-1])&&p.pop(),p},_setLatLngs:function(u){nr.prototype._setLatLngs.call(this,u),$i(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return $i(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var u=this._renderer._bounds,p=this.options.weight,w=new ee(p,p);if(u=new G(u.min.subtract(w),u.max.add(w)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}for(var R=0,M=this._rings.length,B;R<M;R++)B=Ch(this._rings[R],u,!0),B.length&&this._parts.push(B)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(u){var p=!1,w,R,M,B,X,ue,me,Ae;if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(B=0,me=this._parts.length;B<me;B++)for(w=this._parts[B],X=0,Ae=w.length,ue=Ae-1;X<Ae;ue=X++)R=w[X],M=w[ue],R.y>u.y!=M.y>u.y&&u.x<(M.x-R.x)*(u.y-R.y)/(M.y-R.y)+R.x&&(p=!p);return p||nr.prototype._containsPoint.call(this,u,!0)}});function Sv(u,p){return new Ko(u,p)}var ir=Rs.extend({initialize:function(u,p){E(this,p),this._layers={},u&&this.addData(u)},addData:function(u){var p=P(u)?u:u.features,w,R,M;if(p){for(w=0,R=p.length;w<R;w++)M=p[w],(M.geometries||M.geometry||M.features||M.coordinates)&&this.addData(M);return this}var B=this.options;if(B.filter&&!B.filter(u))return this;var X=Qn(u,B);return X?(X.feature=yc(u),X.defaultOptions=X.options,this.resetStyle(X),B.onEachFeature&&B.onEachFeature(u,X),this.addLayer(X)):this},resetStyle:function(u){return u===void 0?this.eachLayer(this.resetStyle,this):(u.options=s({},u.defaultOptions),this._setLayerStyle(u,this.options.style),this)},setStyle:function(u){return this.eachLayer(function(p){this._setLayerStyle(p,u)},this)},_setLayerStyle:function(u,p){u.setStyle&&(typeof p=="function"&&(p=p(u.feature)),u.setStyle(p))}});function Qn(u,p){var w=u.type==="Feature"?u.geometry:u,R=w?w.coordinates:null,M=[],B=p&&p.pointToLayer,X=p&&p.coordsToLatLng||gc,ue,me,Ae,Oe;if(!R&&!w)return null;switch(w.type){case"Point":return ue=X(R),Wo(B,u,ue,p);case"MultiPoint":for(Ae=0,Oe=R.length;Ae<Oe;Ae++)ue=X(R[Ae]),M.push(Wo(B,u,ue,p));return new Rs(M);case"LineString":case"MultiLineString":return me=rl(R,w.type==="LineString"?0:1,X),new nr(me,p);case"Polygon":case"MultiPolygon":return me=rl(R,w.type==="Polygon"?1:2,X),new Ko(me,p);case"GeometryCollection":for(Ae=0,Oe=w.geometries.length;Ae<Oe;Ae++){var qe=Qn({geometry:w.geometries[Ae],type:"Feature",properties:u.properties},p);qe&&M.push(qe)}return new Rs(M);case"FeatureCollection":for(Ae=0,Oe=w.features.length;Ae<Oe;Ae++){var ct=Qn(w.features[Ae],p);ct&&M.push(ct)}return new Rs(M);default:throw new Error("Invalid GeoJSON object.")}}function Wo(u,p,w,R){return u?u(p,w):new sl(w,R&&R.markersInheritOptions&&R)}function gc(u){return new Re(u[1],u[0],u[2])}function rl(u,p,w){for(var R=[],M=0,B=u.length,X;M<B;M++)X=p?rl(u[M],p-1,w):(w||gc)(u[M]),R.push(X);return R}function vc(u,p){return u=Se(u),u.alt!==void 0?[b(u.lng,p),b(u.lat,p),b(u.alt,p)]:[b(u.lng,p),b(u.lat,p)]}function ol(u,p,w,R){for(var M=[],B=0,X=u.length;B<X;B++)M.push(p?ol(u[B],$i(u[B])?0:p-1,w,R):vc(u[B],R));return!p&&w&&M.length>0&&M.push(M[0].slice()),M}function kr(u,p){return u.feature?s({},u.feature,{geometry:p}):yc(p)}function yc(u){return u.type==="Feature"||u.type==="FeatureCollection"?u:{type:"Feature",properties:{},geometry:u}}var Pr={toGeoJSON:function(u){return kr(this,{type:"Point",coordinates:vc(this.getLatLng(),u)})}};sl.include(Pr),pc.include(Pr),Go.include(Pr),nr.include({toGeoJSON:function(u){var p=!$i(this._latlngs),w=ol(this._latlngs,p?1:0,!1,u);return kr(this,{type:(p?"Multi":"")+"LineString",coordinates:w})}}),Ko.include({toGeoJSON:function(u){var p=!$i(this._latlngs),w=p&&!$i(this._latlngs[0]),R=ol(this._latlngs,w?2:p?1:0,!0,u);return p||(R=[R]),kr(this,{type:(w?"Multi":"")+"Polygon",coordinates:R})}}),qo.include({toMultiPoint:function(u){var p=[];return this.eachLayer(function(w){p.push(w.toGeoJSON(u).geometry.coordinates)}),kr(this,{type:"MultiPoint",coordinates:p})},toGeoJSON:function(u){var p=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(p==="MultiPoint")return this.toMultiPoint(u);var w=p==="GeometryCollection",R=[];return this.eachLayer(function(M){if(M.toGeoJSON){var B=M.toGeoJSON(u);if(w)R.push(B.geometry);else{var X=yc(B);X.type==="FeatureCollection"?R.push.apply(R,X.features):R.push(X)}}}),w?kr(this,{geometries:R,type:"GeometryCollection"}):{type:"FeatureCollection",features:R}}});function bc(u,p){return new ir(u,p)}var al=bc,Yo=ls.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(u,p,w){this._url=u,this._bounds=xe(p),E(this,w)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(J(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){U(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(u){return this.options.opacity=u,this._image&&this._updateOpacity(),this},setStyle:function(u){return u.opacity&&this.setOpacity(u.opacity),this},bringToFront:function(){return this._map&&H(this._image),this},bringToBack:function(){return this._map&&re(this._image),this},setUrl:function(u){return this._url=u,this._image&&(this._image.src=u),this},setBounds:function(u){return this._bounds=xe(u),this._map&&this._reset(),this},getEvents:function(){var u={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var u=this._url.tagName==="IMG",p=this._image=u?this._url:ht("img");if(J(p,"leaflet-image-layer"),this._zoomAnimated&&J(p,"leaflet-zoom-animated"),this.options.className&&J(p,this.options.className),p.onselectstart=v,p.onmousemove=v,p.onload=l(this.fire,this,"load"),p.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),u){this._url=p.src;return}p.src=this._url,p.alt=this.options.alt},_animateZoom:function(u){var p=this._map.getZoomScale(u.zoom),w=this._map._latLngBoundsToNewLayerBounds(this._bounds,u.zoom,u.center).min;tt(this._image,w,p)},_reset:function(){var u=this._image,p=new G(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),w=p.getSize();Ke(u,p.min),u.style.width=w.x+"px",u.style.height=w.y+"px"},_updateOpacity:function(){Ee(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var u=this.options.errorOverlayUrl;u&&this._url!==u&&(this._url=u,this._image.src=u)},getCenter:function(){return this._bounds.getCenter()}}),Ih=function(u,p,w){return new Yo(u,p,w)},Or=Yo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var u=this._url.tagName==="VIDEO",p=this._image=u?this._url:ht("video");if(J(p,"leaflet-image-layer"),this._zoomAnimated&&J(p,"leaflet-zoom-animated"),this.options.className&&J(p,this.options.className),p.onselectstart=v,p.onmousemove=v,p.onloadeddata=l(this.fire,this,"load"),u){for(var w=p.getElementsByTagName("source"),R=[],M=0;M<w.length;M++)R.push(w[M].src);this._url=w.length>0?R:[p.src];return}P(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(p.style,"objectFit")&&(p.style.objectFit="fill"),p.autoplay=!!this.options.autoplay,p.loop=!!this.options.loop,p.muted=!!this.options.muted,p.playsInline=!!this.options.playsInline;for(var B=0;B<this._url.length;B++){var X=ht("source");X.src=this._url[B],p.appendChild(X)}}});function Zo(u,p,w){return new Or(u,p,w)}var xc=Yo.extend({_initImage:function(){var u=this._image=this._url;J(u,"leaflet-image-layer"),this._zoomAnimated&&J(u,"leaflet-zoom-animated"),this.options.className&&J(u,this.options.className),u.onselectstart=v,u.onmousemove=v}});function zh(u,p,w){return new xc(u,p,w)}var Jn=ls.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(u,p){u&&(u instanceof Re||P(u))?(this._latlng=Se(u),E(this,p)):(E(this,u),this._source=p),this.options.content&&(this._content=this.options.content)},openOn:function(u){return u=arguments.length?u:this._source._map,u.hasLayer(this)||u.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(u){return this._map?this.close():(arguments.length?this._source=u:u=this._source,this._prepareOpen(),this.openOn(u._map)),this},onAdd:function(u){this._zoomAnimated=u._zoomAnimated,this._container||this._initLayout(),u._fadeAnimated&&Ee(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),u._fadeAnimated&&Ee(this._container,1),this.bringToFront(),this.options.interactive&&(J(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(u){u._fadeAnimated?(Ee(this._container,0),this._removeTimeout=setTimeout(l(U,void 0,this._container),200)):U(this._container),this.options.interactive&&(ve(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(u){return this._latlng=Se(u),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(u){return this._content=u,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var u={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&H(this._container),this},bringToBack:function(){return this._map&&re(this._container),this},_prepareOpen:function(u){var p=this._source;if(!p._map)return!1;if(p instanceof Rs){p=null;var w=this._source._layers;for(var R in w)if(w[R]._map){p=w[R];break}if(!p)return!1;this._source=p}if(!u)if(p.getCenter)u=p.getCenter();else if(p.getLatLng)u=p.getLatLng();else if(p.getBounds)u=p.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(u),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var u=this._contentNode,p=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof p=="string")u.innerHTML=p;else{for(;u.hasChildNodes();)u.removeChild(u.firstChild);u.appendChild(p)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var u=this._map.latLngToLayerPoint(this._latlng),p=ae(this.options.offset),w=this._getAnchor();this._zoomAnimated?Ke(this._container,u.add(w)):p=p.add(u).add(w);var R=this._containerBottom=-p.y,M=this._containerLeft=-Math.round(this._containerWidth/2)+p.x;this._container.style.bottom=R+"px",this._container.style.left=M+"px"}},_getAnchor:function(){return[0,0]}});xt.include({_initOverlay:function(u,p,w,R){var M=p;return M instanceof u||(M=new u(R).setContent(p)),w&&M.setLatLng(w),M}}),ls.include({_initOverlay:function(u,p,w,R){var M=w;return M instanceof u?(E(M,R),M._source=this):(M=p&&!R?p:new u(R,this),M.setContent(w)),M}});var ll=Jn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(u){return u=arguments.length?u:this._source._map,!u.hasLayer(this)&&u._popup&&u._popup.options.autoClose&&u.removeLayer(u._popup),u._popup=this,Jn.prototype.openOn.call(this,u)},onAdd:function(u){Jn.prototype.onAdd.call(this,u),u.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ks||this._source.on("preclick",as))},onRemove:function(u){Jn.prototype.onRemove.call(this,u),u.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ks||this._source.off("preclick",as))},getEvents:function(){var u=Jn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(u.preclick=this.close),this.options.keepInView&&(u.moveend=this._adjustPan),u},_initLayout:function(){var u="leaflet-popup",p=this._container=ht("div",u+" "+(this.options.className||"")+" leaflet-zoom-animated"),w=this._wrapper=ht("div",u+"-content-wrapper",p);if(this._contentNode=ht("div",u+"-content",w),lo(p),As(this._contentNode),st(p,"contextmenu",as),this._tipContainer=ht("div",u+"-tip-container",p),this._tip=ht("div",u+"-tip",this._tipContainer),this.options.closeButton){var R=this._closeButton=ht("a",u+"-close-button",p);R.setAttribute("role","button"),R.setAttribute("aria-label","Close popup"),R.href="#close",R.innerHTML='<span aria-hidden="true">&#215;</span>',st(R,"click",function(M){pn(M),this.close()},this)}},_updateLayout:function(){var u=this._contentNode,p=u.style;p.width="",p.whiteSpace="nowrap";var w=u.offsetWidth;w=Math.min(w,this.options.maxWidth),w=Math.max(w,this.options.minWidth),p.width=w+1+"px",p.whiteSpace="",p.height="";var R=u.offsetHeight,M=this.options.maxHeight,B="leaflet-popup-scrolled";M&&R>M?(p.height=M+"px",J(u,B)):ve(u,B),this._containerWidth=this._container.offsetWidth},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center),w=this._getAnchor();Ke(this._container,p.add(w))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var u=this._map,p=parseInt(so(this._container,"marginBottom"),10)||0,w=this._container.offsetHeight+p,R=this._containerWidth,M=new ee(this._containerLeft,-w-this._containerBottom);M._add(ft(this._container));var B=u.layerPointToContainerPoint(M),X=ae(this.options.autoPanPadding),ue=ae(this.options.autoPanPaddingTopLeft||X),me=ae(this.options.autoPanPaddingBottomRight||X),Ae=u.getSize(),Oe=0,qe=0;B.x+R+me.x>Ae.x&&(Oe=B.x+R-Ae.x+me.x),B.x-Oe-ue.x<0&&(Oe=B.x-ue.x),B.y+w+me.y>Ae.y&&(qe=B.y+w-Ae.y+me.y),B.y-qe-ue.y<0&&(qe=B.y-ue.y),(Oe||qe)&&(this.options.keepInView&&(this._autopanning=!0),u.fire("autopanstart").panBy([Oe,qe]))}},_getAnchor:function(){return ae(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Bh=function(u,p){return new ll(u,p)};xt.mergeOptions({closePopupOnClick:!0}),xt.include({openPopup:function(u,p,w){return this._initOverlay(ll,u,p,w).openOn(this),this},closePopup:function(u){return u=arguments.length?u:this._popup,u&&u.close(),this}}),ls.include({bindPopup:function(u,p){return this._popup=this._initOverlay(ll,this._popup,u,p),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(u){return this._popup&&(this instanceof Rs||(this._popup._source=this),this._popup._prepareOpen(u||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(u){return this._popup&&this._popup.setContent(u),this},getPopup:function(){return this._popup},_openPopup:function(u){if(!(!this._popup||!this._map)){Rr(u);var p=u.layer||u.target;if(this._popup._source===p&&!(p instanceof ks)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(u.latlng);return}this._popup._source=p,this.openPopup(u.latlng)}},_movePopup:function(u){this._popup.setLatLng(u.latlng)},_onKeyPress:function(u){u.originalEvent.keyCode===13&&this._openPopup(u)}});var cl=Jn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(u){Jn.prototype.onAdd.call(this,u),this.setOpacity(this.options.opacity),u.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(u){Jn.prototype.onRemove.call(this,u),u.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var u=Jn.prototype.getEvents.call(this);return this.options.permanent||(u.preclick=this.close),u},_initLayout:function(){var u="leaflet-tooltip",p=u+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ht("div",p),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(u){var p,w,R=this._map,M=this._container,B=R.latLngToContainerPoint(R.getCenter()),X=R.layerPointToContainerPoint(u),ue=this.options.direction,me=M.offsetWidth,Ae=M.offsetHeight,Oe=ae(this.options.offset),qe=this._getAnchor();ue==="top"?(p=me/2,w=Ae):ue==="bottom"?(p=me/2,w=0):ue==="center"?(p=me/2,w=Ae/2):ue==="right"?(p=0,w=Ae/2):ue==="left"?(p=me,w=Ae/2):X.x<B.x?(ue="right",p=0,w=Ae/2):(ue="left",p=me+(Oe.x+qe.x)*2,w=Ae/2),u=u.subtract(ae(p,w,!0)).add(Oe).add(qe),ve(M,"leaflet-tooltip-right"),ve(M,"leaflet-tooltip-left"),ve(M,"leaflet-tooltip-top"),ve(M,"leaflet-tooltip-bottom"),J(M,"leaflet-tooltip-"+ue),Ke(M,u)},_updatePosition:function(){var u=this._map.latLngToLayerPoint(this._latlng);this._setPosition(u)},setOpacity:function(u){this.options.opacity=u,this._container&&Ee(this._container,u)},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center);this._setPosition(p)},_getAnchor:function(){return ae(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Cv=function(u,p){return new cl(u,p)};xt.include({openTooltip:function(u,p,w){return this._initOverlay(cl,u,p,w).openOn(this),this},closeTooltip:function(u){return u.close(),this}}),ls.include({bindTooltip:function(u,p){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(cl,this._tooltip,u,p),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(u){if(!(!u&&this._tooltipHandlersAdded)){var p=u?"off":"on",w={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?w.add=this._openTooltip:(w.mouseover=this._openTooltip,w.mouseout=this.closeTooltip,w.click=this._openTooltip,this._map?this._addFocusListeners():w.add=this._addFocusListeners),this._tooltip.options.sticky&&(w.mousemove=this._moveTooltip),this[p](w),this._tooltipHandlersAdded=!u}},openTooltip:function(u){return this._tooltip&&(this instanceof Rs||(this._tooltip._source=this),this._tooltip._prepareOpen(u)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(u){return this._tooltip&&this._tooltip.setContent(u),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(u){var p=typeof u.getElement=="function"&&u.getElement();p&&(st(p,"focus",function(){this._tooltip._source=u,this.openTooltip()},this),st(p,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(u){var p=typeof u.getElement=="function"&&u.getElement();p&&p.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(u){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var p=this;this._map.once("moveend",function(){p._openOnceFlag=!1,p._openTooltip(u)});return}this._tooltip._source=u.layer||u.target,this.openTooltip(this._tooltip.options.sticky?u.latlng:void 0)}},_moveTooltip:function(u){var p=u.latlng,w,R;this._tooltip.options.sticky&&u.originalEvent&&(w=this._map.mouseEventToContainerPoint(u.originalEvent),R=this._map.containerPointToLayerPoint(w),p=this._map.layerPointToLatLng(R)),this._tooltip.setLatLng(p)}});var Uh=Ns.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(u){var p=u&&u.tagName==="DIV"?u:document.createElement("div"),w=this.options;if(w.html instanceof Element?(te(p),p.appendChild(w.html)):p.innerHTML=w.html!==!1?w.html:"",w.bgPos){var R=ae(w.bgPos);p.style.backgroundPosition=-R.x+"px "+-R.y+"px"}return this._setIconStyles(p,"icon"),p},createShadow:function(){return null}});function Ev(u){return new Uh(u)}Ns.Default=nl;var Xo=ls.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ze.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(u){E(this,u)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(u){u._addZoomLimit(this)},onRemove:function(u){this._removeAllTiles(),U(this._container),u._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(H(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(re(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(u){return this.options.opacity=u,this._updateOpacity(),this},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var u=this._clampZoom(this._map.getZoom());u!==this._tileZoom&&(this._tileZoom=u,this._updateLevels()),this._update()}return this},getEvents:function(){var u={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),u.move=this._onMove),this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},createTile:function(){return document.createElement("div")},getTileSize:function(){var u=this.options.tileSize;return u instanceof ee?u:new ee(u,u)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(u){for(var p=this.getPane().children,w=-u(-1/0,1/0),R=0,M=p.length,B;R<M;R++)B=p[R].style.zIndex,p[R]!==this._container&&B&&(w=u(w,+B));isFinite(w)&&(this.options.zIndex=w+u(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ze.ielt9){Ee(this._container,this.options.opacity);var u=+new Date,p=!1,w=!1;for(var R in this._tiles){var M=this._tiles[R];if(!(!M.current||!M.loaded)){var B=Math.min(1,(u-M.loaded)/200);Ee(M.el,B),B<1?p=!0:(M.active?w=!0:this._onOpaqueTile(M),M.active=!0)}}w&&!this._noPrune&&this._pruneTiles(),p&&(Y(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=ht("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var u=this._tileZoom,p=this.options.maxZoom;if(u!==void 0){for(var w in this._levels)w=Number(w),this._levels[w].el.children.length||w===u?(this._levels[w].el.style.zIndex=p-Math.abs(u-w),this._onUpdateLevel(w)):(U(this._levels[w].el),this._removeTilesAtZoom(w),this._onRemoveLevel(w),delete this._levels[w]);var R=this._levels[u],M=this._map;return R||(R=this._levels[u]={},R.el=ht("div","leaflet-tile-container leaflet-zoom-animated",this._container),R.el.style.zIndex=p,R.origin=M.project(M.unproject(M.getPixelOrigin()),u).round(),R.zoom=u,this._setZoomTransform(R,M.getCenter(),M.getZoom()),v(R.el.offsetWidth),this._onCreateLevel(R)),this._level=R,R}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var u,p,w=this._map.getZoom();if(w>this.options.maxZoom||w<this.options.minZoom){this._removeAllTiles();return}for(u in this._tiles)p=this._tiles[u],p.retain=p.current;for(u in this._tiles)if(p=this._tiles[u],p.current&&!p.active){var R=p.coords;this._retainParent(R.x,R.y,R.z,R.z-5)||this._retainChildren(R.x,R.y,R.z,R.z+2)}for(u in this._tiles)this._tiles[u].retain||this._removeTile(u)}},_removeTilesAtZoom:function(u){for(var p in this._tiles)this._tiles[p].coords.z===u&&this._removeTile(p)},_removeAllTiles:function(){for(var u in this._tiles)this._removeTile(u)},_invalidateAll:function(){for(var u in this._levels)U(this._levels[u].el),this._onRemoveLevel(Number(u)),delete this._levels[u];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(u,p,w,R){var M=Math.floor(u/2),B=Math.floor(p/2),X=w-1,ue=new ee(+M,+B);ue.z=+X;var me=this._tileCoordsToKey(ue),Ae=this._tiles[me];return Ae&&Ae.active?(Ae.retain=!0,!0):(Ae&&Ae.loaded&&(Ae.retain=!0),X>R?this._retainParent(M,B,X,R):!1)},_retainChildren:function(u,p,w,R){for(var M=2*u;M<2*u+2;M++)for(var B=2*p;B<2*p+2;B++){var X=new ee(M,B);X.z=w+1;var ue=this._tileCoordsToKey(X),me=this._tiles[ue];if(me&&me.active){me.retain=!0;continue}else me&&me.loaded&&(me.retain=!0);w+1<R&&this._retainChildren(M,B,w+1,R)}},_resetView:function(u){var p=u&&(u.pinch||u.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),p,p)},_animateZoom:function(u){this._setView(u.center,u.zoom,!0,u.noUpdate)},_clampZoom:function(u){var p=this.options;return p.minNativeZoom!==void 0&&u<p.minNativeZoom?p.minNativeZoom:p.maxNativeZoom!==void 0&&p.maxNativeZoom<u?p.maxNativeZoom:u},_setView:function(u,p,w,R){var M=Math.round(p);this.options.maxZoom!==void 0&&M>this.options.maxZoom||this.options.minZoom!==void 0&&M<this.options.minZoom?M=void 0:M=this._clampZoom(M);var B=this.options.updateWhenZooming&&M!==this._tileZoom;(!R||B)&&(this._tileZoom=M,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),M!==void 0&&this._update(u),w||this._pruneTiles(),this._noPrune=!!w),this._setZoomTransforms(u,p)},_setZoomTransforms:function(u,p){for(var w in this._levels)this._setZoomTransform(this._levels[w],u,p)},_setZoomTransform:function(u,p,w){var R=this._map.getZoomScale(w,u.zoom),M=u.origin.multiplyBy(R).subtract(this._map._getNewPixelOrigin(p,w)).round();ze.any3d?tt(u.el,M,R):Ke(u.el,M)},_resetGrid:function(){var u=this._map,p=u.options.crs,w=this._tileSize=this.getTileSize(),R=this._tileZoom,M=this._map.getPixelWorldBounds(this._tileZoom);M&&(this._globalTileRange=this._pxBoundsToTileRange(M)),this._wrapX=p.wrapLng&&!this.options.noWrap&&[Math.floor(u.project([0,p.wrapLng[0]],R).x/w.x),Math.ceil(u.project([0,p.wrapLng[1]],R).x/w.y)],this._wrapY=p.wrapLat&&!this.options.noWrap&&[Math.floor(u.project([p.wrapLat[0],0],R).y/w.x),Math.ceil(u.project([p.wrapLat[1],0],R).y/w.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(u){var p=this._map,w=p._animatingZoom?Math.max(p._animateToZoom,p.getZoom()):p.getZoom(),R=p.getZoomScale(w,this._tileZoom),M=p.project(u,this._tileZoom).floor(),B=p.getSize().divideBy(R*2);return new G(M.subtract(B),M.add(B))},_update:function(u){var p=this._map;if(p){var w=this._clampZoom(p.getZoom());if(u===void 0&&(u=p.getCenter()),this._tileZoom!==void 0){var R=this._getTiledPixelBounds(u),M=this._pxBoundsToTileRange(R),B=M.getCenter(),X=[],ue=this.options.keepBuffer,me=new G(M.getBottomLeft().subtract([ue,-ue]),M.getTopRight().add([ue,-ue]));if(!(isFinite(M.min.x)&&isFinite(M.min.y)&&isFinite(M.max.x)&&isFinite(M.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ae in this._tiles){var Oe=this._tiles[Ae].coords;(Oe.z!==this._tileZoom||!me.contains(new ee(Oe.x,Oe.y)))&&(this._tiles[Ae].current=!1)}if(Math.abs(w-this._tileZoom)>1){this._setView(u,w);return}for(var qe=M.min.y;qe<=M.max.y;qe++)for(var ct=M.min.x;ct<=M.max.x;ct++){var In=new ee(ct,qe);if(In.z=this._tileZoom,!!this._isValidTile(In)){var gn=this._tiles[this._tileCoordsToKey(In)];gn?gn.current=!0:X.push(In)}}if(X.sort(function(Rt,Nt){return Rt.distanceTo(B)-Nt.distanceTo(B)}),X.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Pi=document.createDocumentFragment();for(ct=0;ct<X.length;ct++)this._addTile(X[ct],Pi);this._level.el.appendChild(Pi)}}}},_isValidTile:function(u){var p=this._map.options.crs;if(!p.infinite){var w=this._globalTileRange;if(!p.wrapLng&&(u.x<w.min.x||u.x>w.max.x)||!p.wrapLat&&(u.y<w.min.y||u.y>w.max.y))return!1}if(!this.options.bounds)return!0;var R=this._tileCoordsToBounds(u);return xe(this.options.bounds).overlaps(R)},_keyToBounds:function(u){return this._tileCoordsToBounds(this._keyToTileCoords(u))},_tileCoordsToNwSe:function(u){var p=this._map,w=this.getTileSize(),R=u.scaleBy(w),M=R.add(w),B=p.unproject(R,u.z),X=p.unproject(M,u.z);return[B,X]},_tileCoordsToBounds:function(u){var p=this._tileCoordsToNwSe(u),w=new be(p[0],p[1]);return this.options.noWrap||(w=this._map.wrapLatLngBounds(w)),w},_tileCoordsToKey:function(u){return u.x+":"+u.y+":"+u.z},_keyToTileCoords:function(u){var p=u.split(":"),w=new ee(+p[0],+p[1]);return w.z=+p[2],w},_removeTile:function(u){var p=this._tiles[u];p&&(U(p.el),delete this._tiles[u],this.fire("tileunload",{tile:p.el,coords:this._keyToTileCoords(u)}))},_initTile:function(u){J(u,"leaflet-tile");var p=this.getTileSize();u.style.width=p.x+"px",u.style.height=p.y+"px",u.onselectstart=v,u.onmousemove=v,ze.ielt9&&this.options.opacity<1&&Ee(u,this.options.opacity)},_addTile:function(u,p){var w=this._getTilePos(u),R=this._tileCoordsToKey(u),M=this.createTile(this._wrapCoords(u),l(this._tileReady,this,u));this._initTile(M),this.createTile.length<2&&K(l(this._tileReady,this,u,null,M)),Ke(M,w),this._tiles[R]={el:M,coords:u,current:!0},p.appendChild(M),this.fire("tileloadstart",{tile:M,coords:u})},_tileReady:function(u,p,w){p&&this.fire("tileerror",{error:p,tile:w,coords:u});var R=this._tileCoordsToKey(u);w=this._tiles[R],w&&(w.loaded=+new Date,this._map._fadeAnimated?(Ee(w.el,0),Y(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this)):(w.active=!0,this._pruneTiles()),p||(J(w.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:w.el,coords:u})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ze.ielt9||!this._map._fadeAnimated?K(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(u){return u.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(u){var p=new ee(this._wrapX?m(u.x,this._wrapX):u.x,this._wrapY?m(u.y,this._wrapY):u.y);return p.z=u.z,p},_pxBoundsToTileRange:function(u){var p=this.getTileSize();return new G(u.min.unscaleBy(p).floor(),u.max.unscaleBy(p).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var u in this._tiles)if(!this._tiles[u].loaded)return!1;return!0}});function Fh(u){return new Xo(u)}var Mr=Xo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(u,p){this._url=u,p=E(this,p),p.detectRetina&&ze.retina&&p.maxZoom>0?(p.tileSize=Math.floor(p.tileSize/2),p.zoomReverse?(p.zoomOffset--,p.minZoom=Math.min(p.maxZoom,p.minZoom+1)):(p.zoomOffset++,p.maxZoom=Math.max(p.minZoom,p.maxZoom-1)),p.minZoom=Math.max(0,p.minZoom)):p.zoomReverse?p.minZoom=Math.min(p.maxZoom,p.minZoom):p.maxZoom=Math.max(p.minZoom,p.maxZoom),typeof p.subdomains=="string"&&(p.subdomains=p.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(u,p){return this._url===u&&p===void 0&&(p=!0),this._url=u,p||this.redraw(),this},createTile:function(u,p){var w=document.createElement("img");return st(w,"load",l(this._tileOnLoad,this,p,w)),st(w,"error",l(this._tileOnError,this,p,w)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(w.referrerPolicy=this.options.referrerPolicy),w.alt="",w.src=this.getTileUrl(u),w},getTileUrl:function(u){var p={r:ze.retina?"@2x":"",s:this._getSubdomain(u),x:u.x,y:u.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var w=this._globalTileRange.max.y-u.y;this.options.tms&&(p.y=w),p["-y"]=w}return N(this._url,s(p,this.options))},_tileOnLoad:function(u,p){ze.ielt9?setTimeout(l(u,this,null,p),0):u(null,p)},_tileOnError:function(u,p,w){var R=this.options.errorTileUrl;R&&p.getAttribute("src")!==R&&(p.src=R),u(w,p)},_onTileRemove:function(u){u.tile.onload=null},_getZoomForUrl:function(){var u=this._tileZoom,p=this.options.maxZoom,w=this.options.zoomReverse,R=this.options.zoomOffset;return w&&(u=p-u),u+R},_getSubdomain:function(u){var p=Math.abs(u.x+u.y)%this.options.subdomains.length;return this.options.subdomains[p]},_abortLoading:function(){var u,p;for(u in this._tiles)if(this._tiles[u].coords.z!==this._tileZoom&&(p=this._tiles[u].el,p.onload=v,p.onerror=v,!p.complete)){p.src=j;var w=this._tiles[u].coords;U(p),delete this._tiles[u],this.fire("tileabort",{tile:p,coords:w})}},_removeTile:function(u){var p=this._tiles[u];if(p)return p.el.setAttribute("src",j),Xo.prototype._removeTile.call(this,u)},_tileReady:function(u,p,w){if(!(!this._map||w&&w.getAttribute("src")===j))return Xo.prototype._tileReady.call(this,u,p,w)}});function Hi(u,p){return new Mr(u,p)}var ul=Mr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(u,p){this._url=u;var w=s({},this.defaultWmsParams);for(var R in p)R in this.options||(w[R]=p[R]);p=E(this,p);var M=p.detectRetina&&ze.retina?2:1,B=this.getTileSize();w.width=B.x*M,w.height=B.y*M,this.wmsParams=w},onAdd:function(u){this._crs=this.options.crs||u.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var p=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[p]=this._crs.code,Mr.prototype.onAdd.call(this,u)},getTileUrl:function(u){var p=this._tileCoordsToNwSe(u),w=this._crs,R=oe(w.project(p[0]),w.project(p[1])),M=R.min,B=R.max,X=(this._wmsVersion>=1.3&&this._crs===sd?[M.y,M.x,B.y,B.x]:[M.x,M.y,B.x,B.y]).join(","),ue=Mr.prototype.getTileUrl.call(this,u);return ue+T(this.wmsParams,ue,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+X},setParams:function(u,p){return s(this.wmsParams,u),p||this.redraw(),this}});function qi(u,p){return new ul(u,p)}Mr.WMS=ul,Hi.wms=qi;var _i=ls.extend({options:{padding:.1},initialize:function(u){E(this,u),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),J(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var u={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(u.zoomanim=this._onAnimZoom),u},_onAnimZoom:function(u){this._updateTransform(u.center,u.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(u,p){var w=this._map.getZoomScale(p,this._zoom),R=this._map.getSize().multiplyBy(.5+this.options.padding),M=this._map.project(this._center,p),B=R.multiplyBy(-w).add(M).subtract(this._map._getNewPixelOrigin(u,p));ze.any3d?tt(this._container,B,w):Ke(this._container,B)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var u in this._layers)this._layers[u]._reset()},_onZoomEnd:function(){for(var u in this._layers)this._layers[u]._project()},_updatePaths:function(){for(var u in this._layers)this._layers[u]._update()},_update:function(){var u=this.options.padding,p=this._map.getSize(),w=this._map.containerPointToLayerPoint(p.multiplyBy(-u)).round();this._bounds=new G(w,w.add(p.multiplyBy(1+u*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),_c=_i.extend({options:{tolerance:0},getEvents:function(){var u=_i.prototype.getEvents.call(this);return u.viewprereset=this._onViewPreReset,u},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){_i.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var u=this._container=document.createElement("canvas");st(u,"mousemove",this._onMouseMove,this),st(u,"click dblclick mousedown mouseup contextmenu",this._onClick,this),st(u,"mouseout",this._handleMouseOut,this),u._leaflet_disable_events=!0,this._ctx=u.getContext("2d")},_destroyContainer:function(){Y(this._redrawRequest),delete this._ctx,U(this._container),It(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var u;this._redrawBounds=null;for(var p in this._layers)u=this._layers[p],u._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_i.prototype._update.call(this);var u=this._bounds,p=this._container,w=u.getSize(),R=ze.retina?2:1;Ke(p,u.min),p.width=R*w.x,p.height=R*w.y,p.style.width=w.x+"px",p.style.height=w.y+"px",ze.retina&&this._ctx.scale(2,2),this._ctx.translate(-u.min.x,-u.min.y),this.fire("update")}},_reset:function(){_i.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(u){this._updateDashArray(u),this._layers[d(u)]=u;var p=u._order={layer:u,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=p),this._drawLast=p,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(u){this._requestRedraw(u)},_removePath:function(u){var p=u._order,w=p.next,R=p.prev;w?w.prev=R:this._drawLast=R,R?R.next=w:this._drawFirst=w,delete u._order,delete this._layers[d(u)],this._requestRedraw(u)},_updatePath:function(u){this._extendRedrawBounds(u),u._project(),u._update(),this._requestRedraw(u)},_updateStyle:function(u){this._updateDashArray(u),this._requestRedraw(u)},_updateDashArray:function(u){if(typeof u.options.dashArray=="string"){var p=u.options.dashArray.split(/[, ]+/),w=[],R,M;for(M=0;M<p.length;M++){if(R=Number(p[M]),isNaN(R))return;w.push(R)}u.options._dashArray=w}else u.options._dashArray=u.options.dashArray},_requestRedraw:function(u){this._map&&(this._extendRedrawBounds(u),this._redrawRequest=this._redrawRequest||K(this._redraw,this))},_extendRedrawBounds:function(u){if(u._pxBounds){var p=(u.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new G,this._redrawBounds.extend(u._pxBounds.min.subtract([p,p])),this._redrawBounds.extend(u._pxBounds.max.add([p,p]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var u=this._redrawBounds;if(u){var p=u.getSize();this._ctx.clearRect(u.min.x,u.min.y,p.x,p.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var u,p=this._redrawBounds;if(this._ctx.save(),p){var w=p.getSize();this._ctx.beginPath(),this._ctx.rect(p.min.x,p.min.y,w.x,w.y),this._ctx.clip()}this._drawing=!0;for(var R=this._drawFirst;R;R=R.next)u=R.layer,(!p||u._pxBounds&&u._pxBounds.intersects(p))&&u._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(u,p){if(this._drawing){var w,R,M,B,X=u._parts,ue=X.length,me=this._ctx;if(ue){for(me.beginPath(),w=0;w<ue;w++){for(R=0,M=X[w].length;R<M;R++)B=X[w][R],me[R?"lineTo":"moveTo"](B.x,B.y);p&&me.closePath()}this._fillStroke(me,u)}}},_updateCircle:function(u){if(!(!this._drawing||u._empty())){var p=u._point,w=this._ctx,R=Math.max(Math.round(u._radius),1),M=(Math.max(Math.round(u._radiusY),1)||R)/R;M!==1&&(w.save(),w.scale(1,M)),w.beginPath(),w.arc(p.x,p.y/M,R,0,Math.PI*2,!1),M!==1&&w.restore(),this._fillStroke(w,u)}},_fillStroke:function(u,p){var w=p.options;w.fill&&(u.globalAlpha=w.fillOpacity,u.fillStyle=w.fillColor||w.color,u.fill(w.fillRule||"evenodd")),w.stroke&&w.weight!==0&&(u.setLineDash&&u.setLineDash(p.options&&p.options._dashArray||[]),u.globalAlpha=w.opacity,u.lineWidth=w.weight,u.strokeStyle=w.color,u.lineCap=w.lineCap,u.lineJoin=w.lineJoin,u.stroke())},_onClick:function(u){for(var p=this._map.mouseEventToLayerPoint(u),w,R,M=this._drawFirst;M;M=M.next)w=M.layer,w.options.interactive&&w._containsPoint(p)&&(!(u.type==="click"||u.type==="preclick")||!this._map._draggableMoved(w))&&(R=w);this._fireEvent(R?[R]:!1,u)},_onMouseMove:function(u){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var p=this._map.mouseEventToLayerPoint(u);this._handleMouseHover(u,p)}},_handleMouseOut:function(u){var p=this._hoveredLayer;p&&(ve(this._container,"leaflet-interactive"),this._fireEvent([p],u,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(u,p){if(!this._mouseHoverThrottled){for(var w,R,M=this._drawFirst;M;M=M.next)w=M.layer,w.options.interactive&&w._containsPoint(p)&&(R=w);R!==this._hoveredLayer&&(this._handleMouseOut(u),R&&(J(this._container,"leaflet-interactive"),this._fireEvent([R],u,"mouseover"),this._hoveredLayer=R)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,u),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(u,p,w){this._map._fireDOMEvent(p,w||p.type,u)},_bringToFront:function(u){var p=u._order;if(p){var w=p.next,R=p.prev;if(w)w.prev=R;else return;R?R.next=w:w&&(this._drawFirst=w),p.prev=this._drawLast,this._drawLast.next=p,p.next=null,this._drawLast=p,this._requestRedraw(u)}},_bringToBack:function(u){var p=u._order;if(p){var w=p.next,R=p.prev;if(R)R.next=w;else return;w?w.prev=R:R&&(this._drawLast=R),p.prev=null,p.next=this._drawFirst,this._drawFirst.prev=p,this._drawFirst=p,this._requestRedraw(u)}}});function dl(u){return ze.canvas?new _c(u):null}var Dr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(u){return document.createElement("<lvml:"+u+' class="lvml">')}}catch{}return function(u){return document.createElement("<"+u+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),rd={_initContainer:function(){this._container=ht("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(_i.prototype._update.call(this),this.fire("update"))},_initPath:function(u){var p=u._container=Dr("shape");J(p,"leaflet-vml-shape "+(this.options.className||"")),p.coordsize="1 1",u._path=Dr("path"),p.appendChild(u._path),this._updateStyle(u),this._layers[d(u)]=u},_addPath:function(u){var p=u._container;this._container.appendChild(p),u.options.interactive&&u.addInteractiveTarget(p)},_removePath:function(u){var p=u._container;U(p),u.removeInteractiveTarget(p),delete this._layers[d(u)]},_updateStyle:function(u){var p=u._stroke,w=u._fill,R=u.options,M=u._container;M.stroked=!!R.stroke,M.filled=!!R.fill,R.stroke?(p||(p=u._stroke=Dr("stroke")),M.appendChild(p),p.weight=R.weight+"px",p.color=R.color,p.opacity=R.opacity,R.dashArray?p.dashStyle=P(R.dashArray)?R.dashArray.join(" "):R.dashArray.replace(/( *, *)/g," "):p.dashStyle="",p.endcap=R.lineCap.replace("butt","flat"),p.joinstyle=R.lineJoin):p&&(M.removeChild(p),u._stroke=null),R.fill?(w||(w=u._fill=Dr("fill")),M.appendChild(w),w.color=R.fillColor||R.color,w.opacity=R.fillOpacity):w&&(M.removeChild(w),u._fill=null)},_updateCircle:function(u){var p=u._point.round(),w=Math.round(u._radius),R=Math.round(u._radiusY||w);this._setPath(u,u._empty()?"M0 0":"AL "+p.x+","+p.y+" "+w+","+R+" 0,"+65535*360)},_setPath:function(u,p){u._path.v=p},_bringToFront:function(u){H(u._container)},_bringToBack:function(u){re(u._container)}},Ps=ze.vml?Dr:zt,Qo=_i.extend({_initContainer:function(){this._container=Ps("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ps("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){U(this._container),It(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_i.prototype._update.call(this);var u=this._bounds,p=u.getSize(),w=this._container;(!this._svgSize||!this._svgSize.equals(p))&&(this._svgSize=p,w.setAttribute("width",p.x),w.setAttribute("height",p.y)),Ke(w,u.min),w.setAttribute("viewBox",[u.min.x,u.min.y,p.x,p.y].join(" ")),this.fire("update")}},_initPath:function(u){var p=u._path=Ps("path");u.options.className&&J(p,u.options.className),u.options.interactive&&J(p,"leaflet-interactive"),this._updateStyle(u),this._layers[d(u)]=u},_addPath:function(u){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(u._path),u.addInteractiveTarget(u._path)},_removePath:function(u){U(u._path),u.removeInteractiveTarget(u._path),delete this._layers[d(u)]},_updatePath:function(u){u._project(),u._update()},_updateStyle:function(u){var p=u._path,w=u.options;p&&(w.stroke?(p.setAttribute("stroke",w.color),p.setAttribute("stroke-opacity",w.opacity),p.setAttribute("stroke-width",w.weight),p.setAttribute("stroke-linecap",w.lineCap),p.setAttribute("stroke-linejoin",w.lineJoin),w.dashArray?p.setAttribute("stroke-dasharray",w.dashArray):p.removeAttribute("stroke-dasharray"),w.dashOffset?p.setAttribute("stroke-dashoffset",w.dashOffset):p.removeAttribute("stroke-dashoffset")):p.setAttribute("stroke","none"),w.fill?(p.setAttribute("fill",w.fillColor||w.color),p.setAttribute("fill-opacity",w.fillOpacity),p.setAttribute("fill-rule",w.fillRule||"evenodd")):p.setAttribute("fill","none"))},_updatePoly:function(u,p){this._setPath(u,dn(u._parts,p))},_updateCircle:function(u){var p=u._point,w=Math.max(Math.round(u._radius),1),R=Math.max(Math.round(u._radiusY),1)||w,M="a"+w+","+R+" 0 1,0 ",B=u._empty()?"M0 0":"M"+(p.x-w)+","+p.y+M+w*2+",0 "+M+-w*2+",0 ";this._setPath(u,B)},_setPath:function(u,p){u._path.setAttribute("d",p)},_bringToFront:function(u){H(u._path)},_bringToBack:function(u){re(u._path)}});ze.vml&&Qo.include(rd);function fl(u){return ze.svg||ze.vml?new Qo(u):null}xt.include({getRenderer:function(u){var p=u.options.renderer||this._getPaneRenderer(u.options.pane)||this.options.renderer||this._renderer;return p||(p=this._renderer=this._createRenderer()),this.hasLayer(p)||this.addLayer(p),p},_getPaneRenderer:function(u){if(u==="overlayPane"||u===void 0)return!1;var p=this._paneRenderers[u];return p===void 0&&(p=this._createRenderer({pane:u}),this._paneRenderers[u]=p),p},_createRenderer:function(u){return this.options.preferCanvas&&dl(u)||fl(u)}});var uo=Ko.extend({initialize:function(u,p){Ko.prototype.initialize.call(this,this._boundsToLatLngs(u),p)},setBounds:function(u){return this.setLatLngs(this._boundsToLatLngs(u))},_boundsToLatLngs:function(u){return u=xe(u),[u.getSouthWest(),u.getNorthWest(),u.getNorthEast(),u.getSouthEast()]}});function Av(u,p){return new uo(u,p)}Qo.create=Ps,Qo.pointsToPath=dn,ir.geometryToLayer=Qn,ir.coordsToLatLng=gc,ir.coordsToLatLngs=rl,ir.latLngToCoords=vc,ir.latLngsToCoords=ol,ir.getFeature=kr,ir.asFeature=yc,xt.mergeOptions({boxZoom:!0});var wi=Ts.extend({initialize:function(u){this._map=u,this._container=u._container,this._pane=u._panes.overlayPane,this._resetStateTimeout=0,u.on("unload",this._destroy,this)},addHooks:function(){st(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){It(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){U(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(u){if(!u.shiftKey||u.which!==1&&u.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ut(),Er(),this._startPoint=this._map.mouseEventToContainerPoint(u),st(document,{contextmenu:Rr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(u){this._moved||(this._moved=!0,this._box=ht("div","leaflet-zoom-box",this._container),J(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(u);var p=new G(this._point,this._startPoint),w=p.getSize();Ke(this._box,p.min),this._box.style.width=w.x+"px",this._box.style.height=w.y+"px"},_finish:function(){this._moved&&(U(this._box),ve(this._container,"leaflet-crosshair")),Et(),ro(),It(document,{contextmenu:Rr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(u){if(!(u.which!==1&&u.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var p=new be(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(p).fire("boxzoomend",{boxZoomBounds:p})}},_onKeyDown:function(u){u.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});xt.addInitHook("addHandler","boxZoom",wi),xt.mergeOptions({doubleClickZoom:!0});var wc=Ts.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(u){var p=this._map,w=p.getZoom(),R=p.options.zoomDelta,M=u.originalEvent.shiftKey?w-R:w+R;p.options.doubleClickZoom==="center"?p.setZoom(M):p.setZoomAround(u.containerPoint,M)}});xt.addInitHook("addHandler","doubleClickZoom",wc),xt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Os=Ts.extend({addHooks:function(){if(!this._draggable){var u=this._map;this._draggable=new Nr(u._mapPane,u._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),u.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),u.on("zoomend",this._onZoomEnd,this),u.whenReady(this._onZoomEnd,this))}J(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ve(this._map._container,"leaflet-grab"),ve(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var u=this._map;if(u._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var p=xe(this._map.options.maxBounds);this._offsetLimit=oe(this._map.latLngToContainerPoint(p.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(p.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;u.fire("movestart").fire("dragstart"),u.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(u){if(this._map.options.inertia){var p=this._lastTime=+new Date,w=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(w),this._times.push(p),this._prunePositions(p)}this._map.fire("move",u).fire("drag",u)},_prunePositions:function(u){for(;this._positions.length>1&&u-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var u=this._map.getSize().divideBy(2),p=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=p.subtract(u).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(u,p){return u-(u-p)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var u=this._draggable._newPos.subtract(this._draggable._startPos),p=this._offsetLimit;u.x<p.min.x&&(u.x=this._viscousLimit(u.x,p.min.x)),u.y<p.min.y&&(u.y=this._viscousLimit(u.y,p.min.y)),u.x>p.max.x&&(u.x=this._viscousLimit(u.x,p.max.x)),u.y>p.max.y&&(u.y=this._viscousLimit(u.y,p.max.y)),this._draggable._newPos=this._draggable._startPos.add(u)}},_onPreDragWrap:function(){var u=this._worldWidth,p=Math.round(u/2),w=this._initialWorldOffset,R=this._draggable._newPos.x,M=(R-p+w)%u+p-w,B=(R+p+w)%u-p-w,X=Math.abs(M+w)<Math.abs(B+w)?M:B;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=X},_onDragEnd:function(u){var p=this._map,w=p.options,R=!w.inertia||u.noInertia||this._times.length<2;if(p.fire("dragend",u),R)p.fire("moveend");else{this._prunePositions(+new Date);var M=this._lastPos.subtract(this._positions[0]),B=(this._lastTime-this._times[0])/1e3,X=w.easeLinearity,ue=M.multiplyBy(X/B),me=ue.distanceTo([0,0]),Ae=Math.min(w.inertiaMaxSpeed,me),Oe=ue.multiplyBy(Ae/me),qe=Ae/(w.inertiaDeceleration*X),ct=Oe.multiplyBy(-qe/2).round();!ct.x&&!ct.y?p.fire("moveend"):(ct=p._limitOffset(ct,p.options.maxBounds),K(function(){p.panBy(ct,{duration:qe,easeLinearity:X,noMoveStart:!0,animate:!0})}))}}});xt.addInitHook("addHandler","dragging",Os),xt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var od=Ts.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(u){this._map=u,this._setPanDelta(u.options.keyboardPanDelta),this._setZoomDelta(u.options.zoomDelta)},addHooks:function(){var u=this._map._container;u.tabIndex<=0&&(u.tabIndex="0"),st(u,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),It(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var u=document.body,p=document.documentElement,w=u.scrollTop||p.scrollTop,R=u.scrollLeft||p.scrollLeft;this._map._container.focus(),window.scrollTo(R,w)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(u){var p=this._panKeys={},w=this.keyCodes,R,M;for(R=0,M=w.left.length;R<M;R++)p[w.left[R]]=[-1*u,0];for(R=0,M=w.right.length;R<M;R++)p[w.right[R]]=[u,0];for(R=0,M=w.down.length;R<M;R++)p[w.down[R]]=[0,u];for(R=0,M=w.up.length;R<M;R++)p[w.up[R]]=[0,-1*u]},_setZoomDelta:function(u){var p=this._zoomKeys={},w=this.keyCodes,R,M;for(R=0,M=w.zoomIn.length;R<M;R++)p[w.zoomIn[R]]=u;for(R=0,M=w.zoomOut.length;R<M;R++)p[w.zoomOut[R]]=-u},_addHooks:function(){st(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){It(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(u){if(!(u.altKey||u.ctrlKey||u.metaKey)){var p=u.keyCode,w=this._map,R;if(p in this._panKeys){if(!w._panAnim||!w._panAnim._inProgress)if(R=this._panKeys[p],u.shiftKey&&(R=ae(R).multiplyBy(3)),w.options.maxBounds&&(R=w._limitOffset(ae(R),w.options.maxBounds)),w.options.worldCopyJump){var M=w.wrapLatLng(w.unproject(w.project(w.getCenter()).add(R)));w.panTo(M)}else w.panBy(R)}else if(p in this._zoomKeys)w.setZoom(w.getZoom()+(u.shiftKey?3:1)*this._zoomKeys[p]);else if(p===27&&w._popup&&w._popup.options.closeOnEscapeKey)w.closePopup();else return;Rr(u)}}});xt.addInitHook("addHandler","keyboard",od),xt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var hl=Ts.extend({addHooks:function(){st(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){It(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(u){var p=ai(u),w=this._map.options.wheelDebounceTime;this._delta+=p,this._lastMousePos=this._map.mouseEventToContainerPoint(u),this._startTime||(this._startTime=+new Date);var R=Math.max(w-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),R),Rr(u)},_performZoom:function(){var u=this._map,p=u.getZoom(),w=this._map.options.zoomSnap||0;u._stop();var R=this._delta/(this._map.options.wheelPxPerZoomLevel*4),M=4*Math.log(2/(1+Math.exp(-Math.abs(R))))/Math.LN2,B=w?Math.ceil(M/w)*w:M,X=u._limitZoom(p+(this._delta>0?B:-B))-p;this._delta=0,this._startTime=null,X&&(u.options.scrollWheelZoom==="center"?u.setZoom(p+X):u.setZoomAround(this._lastMousePos,p+X))}});xt.addInitHook("addHandler","scrollWheelZoom",hl);var fo=600;xt.mergeOptions({tapHold:ze.touchNative&&ze.safari&&ze.mobile,tapTolerance:15});var Sc=Ts.extend({addHooks:function(){st(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){It(this._map._container,"touchstart",this._onDown,this)},_onDown:function(u){if(clearTimeout(this._holdTimeout),u.touches.length===1){var p=u.touches[0];this._startPos=this._newPos=new ee(p.clientX,p.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(st(document,"touchend",pn),st(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",p))},this),fo),st(document,"touchend touchcancel contextmenu",this._cancel,this),st(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function u(){It(document,"touchend",pn),It(document,"touchend touchcancel",u)},_cancel:function(){clearTimeout(this._holdTimeout),It(document,"touchend touchcancel contextmenu",this._cancel,this),It(document,"touchmove",this._onMove,this)},_onMove:function(u){var p=u.touches[0];this._newPos=new ee(p.clientX,p.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(u,p){var w=new MouseEvent(u,{bubbles:!0,cancelable:!0,view:window,screenX:p.screenX,screenY:p.screenY,clientX:p.clientX,clientY:p.clientY});w._simulated=!0,p.target.dispatchEvent(w)}});xt.addInitHook("addHandler","tapHold",Sc),xt.mergeOptions({touchZoom:ze.touch,bounceAtZoomLimits:!0});var ad=Ts.extend({addHooks:function(){J(this._map._container,"leaflet-touch-zoom"),st(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ve(this._map._container,"leaflet-touch-zoom"),It(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(u){var p=this._map;if(!(!u.touches||u.touches.length!==2||p._animatingZoom||this._zooming)){var w=p.mouseEventToContainerPoint(u.touches[0]),R=p.mouseEventToContainerPoint(u.touches[1]);this._centerPoint=p.getSize()._divideBy(2),this._startLatLng=p.containerPointToLatLng(this._centerPoint),p.options.touchZoom!=="center"&&(this._pinchStartLatLng=p.containerPointToLatLng(w.add(R)._divideBy(2))),this._startDist=w.distanceTo(R),this._startZoom=p.getZoom(),this._moved=!1,this._zooming=!0,p._stop(),st(document,"touchmove",this._onTouchMove,this),st(document,"touchend touchcancel",this._onTouchEnd,this),pn(u)}},_onTouchMove:function(u){if(!(!u.touches||u.touches.length!==2||!this._zooming)){var p=this._map,w=p.mouseEventToContainerPoint(u.touches[0]),R=p.mouseEventToContainerPoint(u.touches[1]),M=w.distanceTo(R)/this._startDist;if(this._zoom=p.getScaleZoom(M,this._startZoom),!p.options.bounceAtZoomLimits&&(this._zoom<p.getMinZoom()&&M<1||this._zoom>p.getMaxZoom()&&M>1)&&(this._zoom=p._limitZoom(this._zoom)),p.options.touchZoom==="center"){if(this._center=this._startLatLng,M===1)return}else{var B=w._add(R)._divideBy(2)._subtract(this._centerPoint);if(M===1&&B.x===0&&B.y===0)return;this._center=p.unproject(p.project(this._pinchStartLatLng,this._zoom).subtract(B),this._zoom)}this._moved||(p._moveStart(!0,!1),this._moved=!0),Y(this._animRequest);var X=l(p._move,p,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=K(X,this,!0),pn(u)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Y(this._animRequest),It(document,"touchmove",this._onTouchMove,this),It(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});xt.addInitHook("addHandler","touchZoom",ad),xt.BoxZoom=wi,xt.DoubleClickZoom=wc,xt.Drag=Os,xt.Keyboard=od,xt.ScrollWheelZoom=hl,xt.TapHold=Sc,xt.TouchZoom=ad,n.Bounds=G,n.Browser=ze,n.CRS=we,n.Canvas=_c,n.Circle=pc,n.CircleMarker=Go,n.Class=ie,n.Control=ki,n.DivIcon=Uh,n.DivOverlay=Jn,n.DomEvent=uc,n.DomUtil=Fo,n.Draggable=Nr,n.Evented=W,n.FeatureGroup=Rs,n.GeoJSON=ir,n.GridLayer=Xo,n.Handler=Ts,n.Icon=Ns,n.ImageOverlay=Yo,n.LatLng=Re,n.LatLngBounds=be,n.Layer=ls,n.LayerGroup=qo,n.LineUtil=xv,n.Map=xt,n.Marker=sl,n.Mixin=gv,n.Path=ks,n.Point=ee,n.PolyUtil=nd,n.Polygon=Ko,n.Polyline=nr,n.Popup=ll,n.PosAnimation=Vo,n.Projection=Ph,n.Rectangle=uo,n.Renderer=_i,n.SVG=Qo,n.SVGOverlay=xc,n.TileLayer=Mr,n.Tooltip=cl,n.Transformation=Xe,n.Util=Q,n.VideoOverlay=Or,n.bind=l,n.bounds=oe,n.canvas=dl,n.circle=jh,n.circleMarker=Lh,n.control=tr,n.divIcon=Ev,n.extend=s,n.featureGroup=Mh,n.geoJSON=bc,n.geoJson=al,n.gridLayer=Fh,n.icon=tl,n.imageOverlay=Ih,n.latLng=Se,n.latLngBounds=xe,n.layerGroup=_v,n.map=Zu,n.marker=Dh,n.point=ae,n.polygon=Sv,n.polyline=wv,n.popup=Bh,n.rectangle=Av,n.setOptions=E,n.stamp=d,n.svg=fl,n.svgOverlay=zh,n.tileLayer=Hi,n.tooltip=Cv,n.transformation=Qe,n.version=i,n.videoOverlay=Zo;var ld=window.L;n.noConflict=function(){return window.L=ld,this},window.L=n}))})(sf,sf.exports)),sf.exports}var Jg=sne();function Iw(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function zw(e,t){return t==null?function(i,s){const o=x.useRef(void 0);return o.current||(o.current=e(i,s)),o}:function(i,s){const o=x.useRef(void 0);o.current||(o.current=e(i,s));const l=x.useRef(i),{instance:c}=o.current;return x.useEffect(function(){l.current!==i&&(t(c,i,l.current),l.current=i)},[c,i,t]),o}}function rne(e,t){x.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function vj(e){return function(n){const i=Lw(),s=e(jw(n,i),i);return pj(i.map,n.attribution),gj(s.current,n.eventHandlers),rne(s.current,i),s}}function one(e,t){const n=zw(e,t),i=vj(n);return Jte(i)}function ane(e,t){const n=zw(e),i=nne(n,t);return ene(i)}function lne(e,t){const n=zw(e,t),i=vj(n);return tne(i)}function cne(e,t,n){const{opacity:i,zIndex:s}=t;i!=null&&i!==n.opacity&&e.setOpacity(i),s!=null&&s!==n.zIndex&&e.setZIndex(s)}function une(){return Lw().map}function dne({bounds:e,boundsOptions:t,center:n,children:i,className:s,id:o,placeholder:l,style:c,whenReady:d,zoom:h,...m},v){const[b]=x.useState({className:s,id:o,style:c}),[_,C]=x.useState(null),E=x.useRef(void 0);x.useImperativeHandle(v,()=>_?.map??null,[_]);const T=x.useCallback(N=>{if(N!==null&&!E.current){const P=new Jg.Map(N,m);E.current=P,n!=null&&h!=null?P.setView(n,h):e!=null&&P.fitBounds(e,t),d!=null&&P.whenReady(d),C(Xte(P))}},[]);x.useEffect(()=>()=>{_?.map.remove()},[_]);const k=_?Ot.createElement(Dw,{value:_},i):l??null;return Ot.createElement("div",{...b,ref:T},k)}const fne=x.forwardRef(dne),hne=one(function({position:t,...n},i){const s=new Jg.Marker(t,n);return Iw(s,Qte(i,{overlayContainer:s}))},function(t,n,i){n.position!==i.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),mne=ane(function(t,n){const i=new Jg.Popup(t,n.overlayContainer);return Iw(i,n)},function(t,n,{position:i},s){x.useEffect(function(){const{instance:l}=t;function c(h){h.popup===l&&(l.update(),s(!0))}function d(h){h.popup===l&&s(!1)}return n.map.on({popupopen:c,popupclose:d}),n.overlayContainer==null?(i!=null&&l.setLatLng(i),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){n.map.off({popupopen:c,popupclose:d}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(l)}},[t,n,s,i])}),pne=lne(function({url:t,...n},i){const s=new Jg.TileLayer(t,jw(n,i));return Iw(s,i)},function(t,n,i){cne(t,n,i);const{url:s}=n;s!=null&&s!==i.url&&t.setUrl(s)}),gne=({bounds:e})=>{const t=une();return x.useEffect(()=>{e.length>=2?t.fitBounds(e,{padding:[30,30]}):e.length===1&&t.setView(e[0],6)},[e,t]),null},vne=e=>Ks({queryKey:["occurrences",e],queryFn:async()=>{const n=(await jZ(e)).results.filter(i=>i.decimalLatitude&&i.decimalLongitude).map(i=>({decimalLatitude:i.decimalLatitude,decimalLongitude:i.decimalLongitude,eventDate:i.eventDate,locality:i.locality,country:i.country,recordedBy:i.recordedBy,references:i.references}));return{hasResults:n.length>0,occurrences:n}},staleTime:1e3*60*15}),yne=x.memo(({specieKey:e})=>{const{t}=At(),{data:n,isFetching:i}=vne(e),s=n?.occurrences??[],o=n?.hasResults;return i?y.jsx(nh,{className:"m-auto size-4 animate-spin"}):!i&&!o?null:y.jsxs("div",{className:"flex w-full flex-col gap-1 pb-4",children:[y.jsx("div",{style:{isolation:"isolate"},children:y.jsxs(fne,{center:[s[0].decimalLatitude,s[0].decimalLongitude],zoom:4,style:{height:"250px",width:"100%",borderRadius:"12px",border:"none"},children:[y.jsx(pne,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),y.jsx(gne,{bounds:s.map(l=>[l.decimalLatitude,l.decimalLongitude])}),s.map((l,c)=>y.jsx(hne,{position:[l.decimalLatitude,l.decimalLongitude],children:y.jsx(mne,{children:y.jsxs("div",{className:"text-sm",children:[y.jsxs("p",{children:[y.jsxs("strong",{children:[t("occurrenceMap.locality"),":"]})," ",l.locality??t("occurrenceMap.notInformed")]}),y.jsxs("p",{children:[y.jsxs("strong",{children:[t("occurrenceMap.country"),":"]})," ",l.country??t("occurrenceMap.notInformed")]}),y.jsxs("p",{children:[y.jsxs("strong",{children:[t("occurrenceMap.date"),": "]}),l.eventDate?new Date(l.eventDate).toLocaleDateString():t("occurrenceMap.noDate")]}),y.jsxs("p",{className:"wrap-break-word",children:[y.jsxs("strong",{children:[t("occurrenceMap.recordedBy"),":"]})," ",l.recordedBy??t("occurrenceMap.unknown")]}),l.references&&y.jsx("p",{className:"mt-2",children:y.jsx("a",{href:l.references,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:t("occurrenceMap.viewReference")})})]})})},c))]},`map-${e}`)}),y.jsxs("div",{className:"bg-card text-muted-foreground rounded-xl p-2 text-xs",children:[t("occurrenceMap.dataProvidedBy"),y.jsx("a",{href:"https://www.gbif.org",target:"_blank",rel:"noopener noreferrer",className:"ml-1 text-blue-600 underline",children:"GBIF.org"}),t("occurrenceMap.dataNote")]})]})}),$u=({embedded:e=!1,backLabel:t})=>{const{t:n}=At(),{isTablet:i}=zo(),s=Ei(),o=Me(za),l=Mt(za),c=Mt(Ye.expandedNodes),d=Me(Ye.expandedNodes),h=d.find(T=>T.rank==="SPECIES")?.key,m=o??h,v=o!==null,b=!v&&h!==null&&h!==void 0&&i,{data:_,isLoading:C}=Uo({specieKey:m}),E=x.useCallback(()=>{if(v)l(null);else{const T=d.filter(N=>N.rank!=="SPECIES"),k=T.length>0?`/tree/${T.map(N=>N.key).join("/")}`:"/";c(T),s({to:k})}},[v,l,d,s,c]);return C?y.jsxs("div",{className:"p-6",children:[y.jsx(TD,{}),y.jsx(VZ,{})]}):_?y.jsxs(jt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:e?void 0:"h-full overflow-auto",style:{containerType:"inline-size"},children:[(v||b)&&!e&&y.jsx("div",{className:"bg-card/95 sticky top-0 z-10 border-b px-4 py-3 shadow-sm backdrop-blur-sm",children:y.jsxs(Wt,{onClick:E,variant:"ghost",size:"sm",className:"gap-2",children:[y.jsx(Bg,{className:"size-4"}),t??n(b?"specieDetail.backToTree":"specieDetail.backToGallery")]})}),y.jsx("div",{className:`p-4 ${v||b?"pt-6":e?"pt-2":"md:mt-4"}`,children:y.jsxs("div",{className:"mx-auto grid max-w-7xl grid-cols-1 gap-6 lg:grid-cols-2",children:[y.jsx(jt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-card rounded-xl border p-3 shadow-lg sm:p-6",children:y.jsx(Yte,{})}),y.jsxs("div",{className:"flex flex-col gap-6",children:[y.jsx(jt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-card overflow-hidden rounded-xl border shadow-lg",children:y.jsx(KZ,{})}),m&&y.jsx(jt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:y.jsx(yne,{specieKey:m})})]})]})})]}):y.jsx("div",{className:"flex h-full items-center justify-center",children:y.jsx("p",{className:"text-muted-foreground",children:n("specieDetail.notFound")})})},bne=e=>{const t=new Set;return e.filter(n=>t.has(n.kingdom)||n.kingdom.toLowerCase()==="viruses"?!1:(t.add(n.kingdom),!0)).map(n=>({key:n.key,rank:n.rank,numDescendants:n.numDescendants,color:wa[n.key]}))},xne=()=>{const{kingdoms_key:e}=Va,t=iw();return Ks({queryKey:[e],queryFn:async()=>{const n=await PZ();return bne(n)},staleTime:1/0,gcTime:1/0,enabled:!t})};function Ro({className:e,...t}){return y.jsx("div",{"data-slot":"skeleton",className:Ze("bg-accent animate-bounce cursor-wait rounded-md",e),...t})}const _ne=()=>y.jsxs("div",{className:"flex w-full min-w-1/5 flex-col gap-6 overflow-auto border-r-1 px-4 py-6",children:[y.jsx(Ro,{className:"h-12 w-full max-w-2xs"}),y.jsx("div",{className:"flex flex-col gap-1",children:Array.from({length:8}).map((e,t)=>y.jsxs("div",{className:"group flex min-w-2xs items-center gap-4 rounded-lg p-3",children:[y.jsx(Ro,{className:"size-11 rounded-lg"}),y.jsxs("div",{className:"flex w-full items-center justify-between gap-1",children:[y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx(Ro,{className:"h-4 w-32"}),y.jsx(Ro,{className:"h-3 w-16"})]}),y.jsxs("div",{className:"flex flex-col items-end gap-2",children:[y.jsx(Ro,{className:"h-4 w-8"}),y.jsx(Ro,{className:"h-3 w-10"})]})]})]},t))})]}),u0=({type:e})=>{const{t}=At();if(e==="loading")return y.jsx(_ne,{});const n={error:{icon:y.jsx(eO,{className:"h-6 w-6 text-red-500"}),title:t("tree.loadError"),text:t("tree.loadErrorMessage")},empty:{icon:y.jsx(m6,{className:"h-6 w-6"}),title:t("tree.noData"),text:t("tree.noDataMessage")}}[e];return y.jsxs("div",{className:"flex h-[60vh] flex-col items-center justify-center gap-3 text-center",children:[n.icon,y.jsx("h2",{className:"font-semibold",children:n.title}),y.jsx("p",{className:"text-muted-foreground max-w-xs text-sm",children:n.text})]})};function wne(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,Sne(s,...t)]}function Sne(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function Cne(e){const t=Ene(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(Tne);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function Ene(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=Nne(s),c=Rne(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yj=Symbol("radix.slottable");function Ane(e){const t=({children:n})=>y.jsx(y.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=yj,t}function Tne(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yj}function Rne(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Nne(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var kne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pne=kne.reduce((e,t)=>{const n=Cne(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function One(e){const t=Mne(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(Lne);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function Mne(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=Ine(s),c=jne(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Dne=Symbol("radix.slottable");function Lne(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Dne}function jne(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Ine(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var zne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bne=zne.reduce((e,t)=>{const n=One(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),bj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Une="VisuallyHidden",xj=x.forwardRef((e,t)=>y.jsx(Bne.span,{...e,ref:t,style:{...bj,...e.style}}));xj.displayName=Une;var Fne=xj,[ev]=wne("Tooltip",[Lu]),tv=Lu(),_j="TooltipProvider",Vne=700,Dx="tooltip.open",[$ne,Bw]=ev(_j),wj=e=>{const{__scopeTooltip:t,delayDuration:n=Vne,skipDelayDuration:i=300,disableHoverableContent:s=!1,children:o}=e,l=x.useRef(!0),c=x.useRef(!1),d=x.useRef(0);return x.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),y.jsx($ne,{scope:t,isOpenDelayedRef:l,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,i)},[i]),isPointerInTransitRef:c,onPointerInTransitChange:x.useCallback(h=>{c.current=h},[]),disableHoverableContent:s,children:o})};wj.displayName=_j;var Ff="Tooltip",[Hne,hh]=ev(Ff),Sj=e=>{const{__scopeTooltip:t,children:n,open:i,defaultOpen:s,onOpenChange:o,disableHoverableContent:l,delayDuration:c}=e,d=Bw(Ff,e.__scopeTooltip),h=tv(t),[m,v]=x.useState(null),b=xs(),_=x.useRef(0),C=l??d.disableHoverableContent,E=c??d.delayDuration,T=x.useRef(!1),[k,N]=Do({prop:i,defaultProp:s??!1,onChange:z=>{z?(d.onOpen(),document.dispatchEvent(new CustomEvent(Dx))):d.onClose(),o?.(z)},caller:Ff}),P=x.useMemo(()=>k?T.current?"delayed-open":"instant-open":"closed",[k]),O=x.useCallback(()=>{window.clearTimeout(_.current),_.current=0,T.current=!1,N(!0)},[N]),j=x.useCallback(()=>{window.clearTimeout(_.current),_.current=0,N(!1)},[N]),V=x.useCallback(()=>{window.clearTimeout(_.current),_.current=window.setTimeout(()=>{T.current=!0,N(!0),_.current=0},E)},[E,N]);return x.useEffect(()=>()=>{_.current&&(window.clearTimeout(_.current),_.current=0)},[]),y.jsx(Dg,{...h,children:y.jsx(Hne,{scope:t,contentId:b,open:k,stateAttribute:P,trigger:m,onTriggerChange:v,onTriggerEnter:x.useCallback(()=>{d.isOpenDelayedRef.current?V():O()},[d.isOpenDelayedRef,V,O]),onTriggerLeave:x.useCallback(()=>{C?j():(window.clearTimeout(_.current),_.current=0)},[j,C]),onOpen:O,onClose:j,disableHoverableContent:C,children:n})})};Sj.displayName=Ff;var Lx="TooltipTrigger",Cj=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,s=hh(Lx,n),o=Bw(Lx,n),l=tv(n),c=x.useRef(null),d=St(t,c,s.onTriggerChange),h=x.useRef(!1),m=x.useRef(!1),v=x.useCallback(()=>h.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),y.jsx(b_,{asChild:!0,...l,children:y.jsx(Pne.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...i,ref:d,onPointerMove:Ie(e.onPointerMove,b=>{b.pointerType!=="touch"&&!m.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),m.current=!0)}),onPointerLeave:Ie(e.onPointerLeave,()=>{s.onTriggerLeave(),m.current=!1}),onPointerDown:Ie(e.onPointerDown,()=>{s.open&&s.onClose(),h.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:Ie(e.onFocus,()=>{h.current||s.onOpen()}),onBlur:Ie(e.onBlur,s.onClose),onClick:Ie(e.onClick,s.onClose)})})});Cj.displayName=Lx;var Uw="TooltipPortal",[qne,Gne]=ev(Uw,{forceMount:void 0}),Ej=e=>{const{__scopeTooltip:t,forceMount:n,children:i,container:s}=e,o=hh(Uw,t);return y.jsx(qne,{scope:t,forceMount:n,children:y.jsx(_r,{present:n||o.open,children:y.jsx(Zf,{asChild:!0,container:s,children:i})})})};Ej.displayName=Uw;var Pu="TooltipContent",Aj=x.forwardRef((e,t)=>{const n=Gne(Pu,e.__scopeTooltip),{forceMount:i=n.forceMount,side:s="top",...o}=e,l=hh(Pu,e.__scopeTooltip);return y.jsx(_r,{present:i||l.open,children:l.disableHoverableContent?y.jsx(Tj,{side:s,...o,ref:t}):y.jsx(Kne,{side:s,...o,ref:t})})}),Kne=x.forwardRef((e,t)=>{const n=hh(Pu,e.__scopeTooltip),i=Bw(Pu,e.__scopeTooltip),s=x.useRef(null),o=St(t,s),[l,c]=x.useState(null),{trigger:d,onClose:h}=n,m=s.current,{onPointerInTransitChange:v}=i,b=x.useCallback(()=>{c(null),v(!1)},[v]),_=x.useCallback((C,E)=>{const T=C.currentTarget,k={x:C.clientX,y:C.clientY},N=Xne(k,T.getBoundingClientRect()),P=Qne(k,N),O=Jne(E.getBoundingClientRect()),j=tie([...P,...O]);c(j),v(!0)},[v]);return x.useEffect(()=>()=>b(),[b]),x.useEffect(()=>{if(d&&m){const C=T=>_(T,m),E=T=>_(T,d);return d.addEventListener("pointerleave",C),m.addEventListener("pointerleave",E),()=>{d.removeEventListener("pointerleave",C),m.removeEventListener("pointerleave",E)}}},[d,m,_,b]),x.useEffect(()=>{if(l){const C=E=>{const T=E.target,k={x:E.clientX,y:E.clientY},N=d?.contains(T)||m?.contains(T),P=!eie(k,l);N?b():P&&(b(),h())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[d,m,l,h,b]),y.jsx(Tj,{...e,ref:o})}),[Wne,Yne]=ev(Ff,{isInside:!1}),Zne=Ane("TooltipContent"),Tj=x.forwardRef((e,t)=>{const{__scopeTooltip:n,children:i,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:l,...c}=e,d=hh(Pu,n),h=tv(n),{onClose:m}=d;return x.useEffect(()=>(document.addEventListener(Dx,m),()=>document.removeEventListener(Dx,m)),[m]),x.useEffect(()=>{if(d.trigger){const v=b=>{b.target?.contains(d.trigger)&&m()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[d.trigger,m]),y.jsx(Wf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:v=>v.preventDefault(),onDismiss:m,children:y.jsxs(x_,{"data-state":d.stateAttribute,...h,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[y.jsx(Zne,{children:i}),y.jsx(Wne,{scope:n,isInside:!0,children:y.jsx(Fne,{id:d.contentId,role:"tooltip",children:s||i})})]})})});Aj.displayName=Pu;var Rj="TooltipArrow",Nj=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,s=tv(n);return Yne(Rj,n).isInside?null:y.jsx(__,{...s,...i,ref:t})});Nj.displayName=Rj;function Xne(e,t){const n=Math.abs(t.top-e.y),i=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,i,s,o)){case o:return"left";case s:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function Qne(e,t,n=5){const i=[];switch(t){case"top":i.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":i.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":i.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":i.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return i}function Jne(e){const{top:t,right:n,bottom:i,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:i},{x:s,y:i}]}function eie(e,t){const{x:n,y:i}=e;let s=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const c=t[o],d=t[l],h=c.x,m=c.y,v=d.x,b=d.y;m>i!=b>i&&n<(v-h)*(i-m)/(b-m)+h&&(s=!s)}return s}function tie(e){const t=e.slice();return t.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),nie(t)}function nie(e){if(e.length<=1)return e.slice();const t=[];for(let i=0;i<e.length;i++){const s=e[i];for(;t.length>=2;){const o=t[t.length-1],l=t[t.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let i=e.length-1;i>=0;i--){const s=e[i];for(;n.length>=2;){const o=n[n.length-1],l=n[n.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var iie=wj,sie=Sj,rie=Cj,oie=Ej,aie=Aj,lie=Nj;function cie({delayDuration:e=0,...t}){return y.jsx(iie,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function kj({...e}){return y.jsx(cie,{children:y.jsx(sie,{"data-slot":"tooltip",...e})})}function Pj({...e}){return y.jsx(rie,{"data-slot":"tooltip-trigger",...e})}function Oj({className:e,sideOffset:t=0,children:n,...i}){return y.jsx(oie,{children:y.jsxs(aie,{"data-slot":"tooltip-content",sideOffset:t,className:Ze("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-2 text-xs text-balance",e),...i,children:[n,y.jsx(lie,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const jx=async(e,t)=>{try{const n=e.game_info.shortcuts??{},i=t(n),{data:s,error:o}=await Dn.from("users").update({game_info:{...e.game_info,shortcuts:i}}).eq("id",e.id).select().single();return o?(console.error("Error updating shortcuts:",o),null):s}catch(n){return console.error("Unexpected error updating shortcuts:",n),null}},nv=(e,t)=>Ks({queryKey:[Va.parents_key,e],queryFn:()=>ED(e),enabled:t&&!!e,staleTime:1e3*60*60*24,gcTime:1e3*60*60*24*7}),uie=new Set(["SUBSPECIES","VARIETY","SUBVARIETY","FORM","SUBFORM","UNRANKED","CULTIVAR_GROUP","CULTIVAR","STRAIN"]),iv=(e,t,n)=>{const i=e.filter(s=>!uie.has(s.rank)).map(s=>({rank:s.rank,name:s.canonicalName??s.scientificName??"",key:s.key}));return i.push({rank:"SPECIES",name:t,key:n}),i},die=x.memo(({node:e})=>{const[t,n]=qs(rt.userDb),[i,s]=x.useState(!1),o=e.expanded,l=e?.kingdom?.toLowerCase(),c=Me(Ye.challenge),d=c.status,h=d==="IN_PROGRESS",m=h||d==="COMPLETED",v=c.speciesKey??0,b=Me(Ye.highlightedKeys),_=b.size>0&&b.has(e.key)&&h,C=Me(Ye.expandedNodes),{data:E}=Uo({specieKey:v}),{data:T}=nv(v,m),k=x.useMemo(()=>!T||!E?[]:iv(T,E.canonicalName??E.species??"",v),[T,E,v]),N=x.useMemo(()=>{if(!m)return null;const $=C.findIndex(K=>K.key===e.key);if($===-1)return null;const Z=k[$];return Z?e.canonicalName===Z.name||e.scientificName===Z.name?"success":"error":null},[m,C,e.key,e.canonicalName,e.scientificName,k]),P=Mt(JK);x.useEffect(()=>{_&&N==="error"&&P(e.key)},[_,N,e.key,P]);const O=_&&N!=="error",j=x.useMemo(()=>{const $=t?.game_info?.shortcuts;return $?($[l]?.length??0)>=3:!1},[l,t?.game_info?.shortcuts]),V=x.useCallback(async()=>{!t||h||jx(t,$=>{const Z=$[l]??[];if(Z.length>=3||Z.some(Q=>Q.nodes.length===C.length&&Q.nodes.every((ie,ge)=>ie.key===C[ge].key&&ie.rank===C[ge].rank)))return $;const Y=C.slice(0,C.findIndex(Q=>Q.key===e.key)+1);return{...$,[l]:[...Z,{name:(e.canonicalName||e.scientificName)??" - ",nodes:Y}]}}).then($=>{$&&n($)})},[t,h,l,C,e,n]),z=e.canonicalName||e.scientificName,I=e.scientificName&&e.canonicalName&&e.scientificName!==e.canonicalName;return y.jsx(jt.div,{className:"item group flex h-full w-full flex-row items-center gap-2",animate:O?{scale:[1,1.03,1]}:N==="success"?{scale:[1,1.05,1]}:N==="error"?{x:[-4,4,-2,2,0]}:{},transition:{duration:.5},children:y.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[y.jsxs("div",{className:"mr-auto flex items-center gap-2",children:[y.jsx("div",{className:"flex flex-col items-start justify-center",children:y.jsx("span",{className:Ze("relative transition-all duration-200 ease-in-out",o&&"font-bold",N==="success"&&"text-emerald-600",N==="error"&&"text-red-500",O&&["z-10","text-emerald-600","after:absolute after:-inset-y-0.5","after:-right-1.5 after:-left-1.5","after:-z-10 after:rounded-md after:bg-emerald-400/15"]),children:z})}),I&&y.jsxs(kj,{open:i,onOpenChange:s,children:[y.jsx(Pj,{asChild:!0,children:y.jsx("button",{onClick:$=>{$.stopPropagation(),s(Z=>!Z)},className:"text-muted-foreground inline-flex items-center",children:y.jsx(M_,{className:"size-3"})})}),y.jsx(Oj,{children:e.scientificName})]}),N==="success"&&y.jsx(GP,{className:"h-4 w-4 text-emerald-500"}),N==="error"&&y.jsx(qP,{className:"h-4 w-4 text-red-500"}),y.jsx(lg,{className:Ze("bg-primary-foreground text-primary flex items-center gap-1 rounded-xl px-1 py-0 text-[11px] opacity-0 outline-1 group-hover:opacity-100",o&&"opacity-100"),children:Di(e.rank)}),t&&o&&!h&&y.jsx("div",{className:"opacity-0 transition-all duration-300 group-hover:opacity-100",children:y.jsx(XP,{onClick:$=>{$.stopPropagation(),V()},className:Ze("size-4 scale-x-[-1]",j&&"opacity-50")})})]}),y.jsx("span",{className:"text-[11px]",children:e.numDescendants&&e.numDescendants.toLocaleString("pt-BR")})]})},`${e.key}-${N}`)}),fie=e=>{if(e>=1e6){const t=Math.floor(e/1e5)/10;return`${Number.isInteger(t)?t.toFixed(0):t}M`}return e>=1e3?`${Math.floor(e/1e3)}K`:e.toString()},hie=x.memo(({node:e,isLoading:t})=>{const{isShaking:n,shakeDirection:i}=Me(Ye.animate),s=e.expanded,o=t&&s;return y.jsxs("div",{className:Ze("group flex h-full w-full min-w-2xs cursor-pointer items-center gap-4 rounded-lg px-2",s&&`rounded-bl-none border-2 ${vK[e.key]}`,!s&&"hover:bg-accent"),children:[y.jsx("div",{className:Ze("flex items-center justify-center rounded-xl",!s&&"group-hover:bg-accent bg-accent"),children:y.jsx("div",{className:"flex size-11 items-center justify-center overflow-hidden rounded-lg p-3",children:y.jsx(ii,{src:zs(e.key),alt:Ru[e.key],className:Ze("h-full w-full transition-transform duration-150 group-hover:scale-150",o?"animate-wiggle":n?i?"rotate-6":"-rotate-6":"rotate-0",n?"":"group-hover:rotate-6",s&&"scale-150")})})}),y.jsx("div",{className:"flex w-full items-center justify-between gap-1",children:y.jsxs("div",{className:"flex flex-col",children:[y.jsx("h1",{className:Ze("text-md font-medium",s&&"font-bold"),children:Di(Ru[e.key])}),y.jsxs("span",{className:"text-xs",children:[fie(e.numDescendants)," ",y.jsx("span",{children:"descendentes"})]})]})})]})}),mie=x.memo(({node:e})=>{const[t,n]=qs(rt.userDb),[i,s]=x.useState(!1),o=Me(Ye.expandedNodes),l=Me(Ye.challenge),d=l.status==="IN_PROGRESS"||l.status==="COMPLETED",h=l.speciesKey,m=x.useMemo(()=>o.some(E=>E.key===e.key),[o,e.key]),v=x.useMemo(()=>!d||!m?null:e.key===h?"success":"error",[d,m,e.key,h]),b=x.useCallback(async()=>{t&&mj(t,E=>{if(E.some(N=>N.key===e.key))return E;const k={key:e.key,date:new Date().toISOString(),fav:!1};return[...E,k]}).then(E=>{E&&n(E)})},[t,e.key,n]),_=e.canonicalName||e.scientificName,C=e.scientificName&&e.canonicalName&&e.scientificName!==e.canonicalName;return y.jsxs(jt.div,{className:"item flex w-full items-center justify-between",animate:v==="success"?{scale:[1,1.08,1]}:v==="error"?{x:[-4,4,-2,2,0]}:{},transition:{duration:.3},onClick:b,children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("i",{className:Ze("w-max transition-all duration-200 ease-in-out",m&&"font-bold",v==="success"&&"text-emerald-600",v==="error"&&"text-red-500"),children:_}),C&&y.jsxs(kj,{open:i,onOpenChange:s,children:[y.jsx(Pj,{asChild:!0,children:y.jsx("button",{onClick:E=>{E.stopPropagation(),s(T=>!T)},className:"text-muted-foreground inline-flex items-center",children:y.jsx(M_,{className:"size-3"})})}),y.jsx(Oj,{children:e.scientificName})]}),v==="success"&&y.jsx(GP,{className:"h-4 w-4 text-emerald-500"}),v==="error"&&y.jsx(qP,{className:"h-4 w-4 text-red-500"}),y.jsx(lg,{className:Ze("bg-primary-foreground text-primary rounded-xl px-1 py-0 text-[11px] opacity-0 group-hover:opacity-100",v&&"opacity-100"),children:Di(e.rank)})]}),y.jsx(y.Fragment,{children:""})]},`${e.key}-${v}`)}),Ix=new Set(["SUBSPECIES","VARIETY","SUBVARIETY","FORM","SUBFORM","CULTIVAR_GROUP","CULTIVAR","STRAIN","UNRANKED"]),Mj=e=>e?e.filter(t=>!Ix.has(t.rank)):[],Dj=e=>!(e.taxonomicStatus&&e.taxonomicStatus!=="ACCEPTED"||e.nubKey!==void 0&&e.nubKey!==e.key||!e.canonicalName),Lj=e=>{const t={key:e.key,scientificName:e.scientificName,canonicalName:e.canonicalName,rank:e.rank,kingdom:e.kingdom,numDescendants:e.numDescendants,phylum:e.phylum};return e.class&&(t.class=e.class),e.order&&(t.order=e.order),e.family&&(t.family=e.family),e.genus&&(t.genus=e.genus),t},pie=({parentKey:e,expanded:t,numDescendants:n})=>{const{children_key:i}=Va,s=Me(H_);return Ks({queryKey:[i,e,s],queryFn:async()=>{const l=(await CD(e)).filter(Dj),c=s?l:l.filter(d=>d.numDescendants>0||d.rank==="SPECIES");return Mj(c).map(Lj)},enabled:!!e&&t&&n!==0,staleTime:1e3*60*60*24,gcTime:1e3*60*60*24*7})};function mh(){const e=Ei(),t=Me(Ye.nodes),n=Me(Ye.expandedNodes),i=Mt(ZO),s=x.useCallback(c=>c.length===0?"/":`/tree/${c.map(d=>d.key).join("/")}`,[]),o=x.useCallback((c,d=!1)=>{i(d?[...c]:null);const h=s(c);e({to:h})},[e,s,i]),l=x.useCallback(c=>{const d=t[c];if(!d)return;const h=n.findIndex(b=>b.key===c);if(h!==-1){o(n.slice(0,h));return}const m=[];let v=d;for(;v;)m.unshift({key:v.key,rank:v.rank,name:v.rank==="KINGDOM"?Di(Ru[v.key]):v.canonicalName||v.scientificName||""}),v=v.parentKey?t[v.parentKey]:void 0;o(m)},[t,n,o]);return{navigateToNodes:o,toggleNode:l,nodesToPath:s}}const gie=x.memo(({nodeKey:e,level:t})=>{const[n]=qs(XO(e)),i=Mt(QO),{toggleNode:s}=mh(),o=n?.expanded,{data:l,isLoading:c}=pie({parentKey:n?.key,expanded:!!o,numDescendants:n?.numDescendants});x.useEffect(()=>{o&&l&&i({key:n.key,children:l})},[o,l,n?.key,i]);const d=x.useCallback(()=>{c||s(e)},[c,s,e]);if(!n)return null;const h=n.rank==="KINGDOM",m=n.rank==="SPECIES",v=HO[n?.kingdom?.toLocaleLowerCase()],b=t*z_;return y.jsxs("div",{className:Ze("flex",c&&"node-loading"),style:{marginLeft:b,height:h?"4.25rem":"2.125rem",zIndex:1,"--tree-color":v},onClick:d,children:[!h&&y.jsx("div",{className:"z-50 mt-1.5 flex cursor-pointer items-center justify-center rounded-full p-px text-white",style:{backgroundColor:v,width:V0,height:V0,marginLeft:qO,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"700"},children:c?y.jsx(nh,{className:"animate-spin"}):m?y.jsx("span",{className:"size-5"}):y.jsx("span",{className:"flex size-5 items-center justify-center pb-0.5 font-bold",children:o?"":"+"})}),h?y.jsx(hie,{node:n,isLoading:c}):m?y.jsx(mie,{node:n}):y.jsx(die,{node:n})]})}),vie=({parentNodeKey:e,level:t})=>{const n=Me(XO(e));if(!n)return null;const i=n.canonicalName||n.scientificName||String(e),s=`https://www.gbif.org/species/${e}`;return y.jsx("div",{className:"-ml-4 flex h-full w-full min-w-0 items-start",style:{paddingLeft:t*z_},children:y.jsxs("div",{className:"bg-muted/40 flex w-full min-w-0 flex-col divide-y overflow-hidden rounded-lg border text-xs",children:[y.jsxs("p",{className:"px-3 py-2 leading-relaxed",children:[y.jsx("span",{className:"font-medium italic",children:i})," est registrado como uma classificao aceita no"," ",y.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",onClick:o=>o.stopPropagation(),className:"text-blue-600 hover:underline",children:"GBIF"}),", mas no possui descendentes registrados."]}),y.jsxs("p",{className:"text-muted-foreground px-3 py-2 leading-relaxed",children:["Caso no queira ver ns sem descendentes, desative em"," ",y.jsx("span",{className:"font-medium",children:"Menu > Configuraes > Exibir ns sem descendentes"}),"."]})]})})},yie=()=>{const e=Me(Ye.expandedNodes),t=Mt(WK);x.useEffect(()=>{t()},[e,t])};function iu(e,t,n){let i=n.initialDeps??[],s,o=!0;function l(){var c,d,h;let m;n.key&&((c=n.debug)!=null&&c.call(n))&&(m=Date.now());const v=e();if(!(v.length!==i.length||v.some((C,E)=>i[E]!==C)))return s;i=v;let _;if(n.key&&((d=n.debug)!=null&&d.call(n))&&(_=Date.now()),s=t(...v),n.key&&((h=n.debug)!=null&&h.call(n))){const C=Math.round((Date.now()-m)*100)/100,E=Math.round((Date.now()-_)*100)/100,T=E/16,k=(N,P)=>{for(N=String(N);N.length<P;)N=" "+N;return N};console.info(`%c ${k(E,5)} /${k(C,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*T,120))}deg 100% 31%);`,n?.key)}return n?.onChange&&!(o&&n.skipInitialOnChange)&&n.onChange(s),o=!1,s}return l.updateDeps=c=>{i=c},l}function ZR(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const bie=(e,t)=>Math.abs(e-t)<1.01,xie=(e,t,n)=>{let i;return function(...s){e.clearTimeout(i),i=e.setTimeout(()=>t.apply(this,s),n)}},XR=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},_ie=e=>e,wie=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),i=[];for(let s=t;s<=n;s++)i.push(s);return i},Sie=(e,t)=>{const n=e.scrollElement;if(!n)return;const i=e.targetWindow;if(!i)return;const s=l=>{const{width:c,height:d}=l;t({width:Math.round(c),height:Math.round(d)})};if(s(XR(n)),!i.ResizeObserver)return()=>{};const o=new i.ResizeObserver(l=>{const c=()=>{const d=l[0];if(d?.borderBoxSize){const h=d.borderBoxSize[0];if(h){s({width:h.inlineSize,height:h.blockSize});return}}s(XR(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(c):c()});return o.observe(n,{box:"border-box"}),()=>{o.unobserve(n)}},QR={passive:!0},JR=typeof window>"u"?!0:"onscrollend"in window,Cie=(e,t)=>{const n=e.scrollElement;if(!n)return;const i=e.targetWindow;if(!i)return;let s=0;const o=e.options.useScrollendEvent&&JR?()=>{}:xie(i,()=>{t(s,!1)},e.options.isScrollingResetDelay),l=m=>()=>{const{horizontal:v,isRtl:b}=e.options;s=v?n.scrollLeft*(b&&-1||1):n.scrollTop,o(),t(s,m)},c=l(!0),d=l(!1);n.addEventListener("scroll",c,QR);const h=e.options.useScrollendEvent&&JR;return h&&n.addEventListener("scrollend",d,QR),()=>{n.removeEventListener("scroll",c),h&&n.removeEventListener("scrollend",d)}},Eie=(e,t,n)=>{if(t?.borderBoxSize){const i=t.borderBoxSize[0];if(i)return Math.round(i[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},Aie=(e,{adjustments:t=0,behavior:n},i)=>{var s,o;const l=e+t;(o=(s=i.scrollElement)==null?void 0:s.scrollTo)==null||o.call(s,{[i.options.horizontal?"left":"top"]:l,behavior:n})};class Tie{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.currentScrollToIndex=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const i=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(s=>{s.forEach(o=>{const l=()=>{this._measureElement(o.target,o)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()})}));return{disconnect:()=>{var s;(s=i())==null||s.disconnect(),n=null},observe:s=>{var o;return(o=i())==null?void 0:o.observe(s,{box:"border-box"})},unobserve:s=>{var o;return(o=i())==null?void 0:o.unobserve(s)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([i,s])=>{typeof s>"u"&&delete n[i]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:_ie,rangeExtractor:wie,onChange:()=>{},measureElement:Eie,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var i,s;(s=(i=this.options).onChange)==null||s.call(i,this,n)},this.maybeNotify=iu(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const i=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==i){if(this.cleanup(),!i){this.maybeNotify();return}this.scrollElement=i,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(s=>{this.observer.observe(s)}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(s,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<s?"forward":"backward":null,this.scrollOffset=s,this.isScrolling=o,this.maybeNotify()})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0})}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,i)=>{const s=new Map,o=new Map;for(let l=i-1;l>=0;l--){const c=n[l];if(s.has(c.lane))continue;const d=o.get(c.lane);if(d==null||c.end>d.end?o.set(c.lane,c):c.end<d.end&&s.set(c.lane,!0),s.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((l,c)=>l.end===c.end?l.index-c.index:l.end-c.end)[0]:void 0},this.getMeasurementOptions=iu(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,i,s,o,l,c)=>(this.prevLanes!==void 0&&this.prevLanes!==c&&(this.lanesChangedFlag=!0),this.prevLanes=c,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:i,scrollMargin:s,getItemKey:o,enabled:l,lanes:c}),{key:!1}),this.getMeasurements=iu(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:i,scrollMargin:s,getItemKey:o,enabled:l,lanes:c},d)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const b of this.laneAssignments.keys())b>=n&&this.laneAssignments.delete(b);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&!this.lanesSettling&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(b=>{this.itemSizeCache.set(b.key,b.size)}));const h=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const m=this.measurementsCache.slice(0,h),v=new Array(c).fill(void 0);for(let b=0;b<h;b++){const _=m[b];_&&(v[_.lane]=b)}for(let b=h;b<n;b++){const _=o(b),C=this.laneAssignments.get(b);let E,T;if(C!==void 0&&this.options.lanes>1){E=C;const O=v[E],j=O!==void 0?m[O]:void 0;T=j?j.end+this.options.gap:i+s}else{const O=this.options.lanes===1?m[b-1]:this.getFurthestMeasurement(m,b);T=O?O.end+this.options.gap:i+s,E=O?O.lane:b%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(b,E)}const k=d.get(_),N=typeof k=="number"?k:this.options.estimateSize(b),P=T+N;m[b]={index:b,start:T,size:N,end:P,key:_,lane:E},v[E]=b}return this.measurementsCache=m,m},{key:!1,debug:()=>this.options.debug}),this.calculateRange=iu(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,i,s,o)=>this.range=n.length>0&&i>0?Rie({measurements:n,outerSize:i,scrollOffset:s,lanes:o}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=iu(()=>{let n=null,i=null;const s=this.calculateRange();return s&&(n=s.startIndex,i=s.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,i]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,i]},(n,i,s,o,l)=>o===null||l===null?[]:n({startIndex:o,endIndex:l,overscan:i,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const i=this.options.indexAttribute,s=n.getAttribute(i);return s?parseInt(s,10):(console.warn(`Missing attribute name '${i}={index}' on measured element.`),-1)},this._measureElement=(n,i)=>{const s=this.indexFromElement(n),o=this.measurementsCache[s];if(!o)return;const l=o.key,c=this.elementsCache.get(l);c!==n&&(c&&this.observer.unobserve(c),this.observer.observe(n),this.elementsCache.set(l,n)),n.isConnected&&this.resizeItem(s,this.options.measureElement(n,i,this))},this.resizeItem=(n,i)=>{const s=this.measurementsCache[n];if(!s)return;const o=this.itemSizeCache.get(s.key)??s.size,l=i-o;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,l,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,i)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((i,s)=>{i.isConnected||(this.observer.unobserve(i),this.elementsCache.delete(s))});return}this._measureElement(n,void 0)},this.getVirtualItems=iu(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,i)=>{const s=[];for(let o=0,l=n.length;o<l;o++){const c=n[o],d=i[c];s.push(d)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const i=this.getMeasurements();if(i.length!==0)return ZR(i[jj(0,i.length-1,s=>ZR(i[s]).start,n)])},this.getMaxScrollOffset=()=>{if(!this.scrollElement)return 0;if("scrollHeight"in this.scrollElement)return this.options.horizontal?this.scrollElement.scrollWidth-this.scrollElement.clientWidth:this.scrollElement.scrollHeight-this.scrollElement.clientHeight;{const n=this.scrollElement.document.documentElement;return this.options.horizontal?n.scrollWidth-this.scrollElement.innerWidth:n.scrollHeight-this.scrollElement.innerHeight}},this.getOffsetForAlignment=(n,i,s=0)=>{if(!this.scrollElement)return 0;const o=this.getSize(),l=this.getScrollOffset();i==="auto"&&(i=n>=l+o?"end":"start"),i==="center"?n+=(s-o)/2:i==="end"&&(n-=o);const c=this.getMaxScrollOffset();return Math.max(Math.min(c,n),0)},this.getOffsetForIndex=(n,i="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const s=this.measurementsCache[n];if(!s)return;const o=this.getSize(),l=this.getScrollOffset();if(i==="auto")if(s.end>=l+o-this.options.scrollPaddingEnd)i="end";else if(s.start<=l+this.options.scrollPaddingStart)i="start";else return[l,i];if(i==="end"&&n===this.options.count-1)return[this.getMaxScrollOffset(),i];const c=i==="end"?s.end+this.options.scrollPaddingEnd:s.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(c,i,s.size),i]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:i="start",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,i),{adjustments:void 0,behavior:s})},this.scrollToIndex=(n,{align:i="auto",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1)),this.currentScrollToIndex=n;let o=0;const l=10,c=h=>{if(!this.targetWindow)return;const m=this.getOffsetForIndex(n,h);if(!m){console.warn("Failed to get offset for index:",n);return}const[v,b]=m;this._scrollToOffset(v,{adjustments:void 0,behavior:s}),this.targetWindow.requestAnimationFrame(()=>{const _=()=>{if(this.currentScrollToIndex!==n)return;const C=this.getScrollOffset(),E=this.getOffsetForIndex(n,b);if(!E){console.warn("Failed to get offset for index:",n);return}bie(E[0],C)||d(b)};this.isDynamicMode()?this.targetWindow.requestAnimationFrame(_):_()})},d=h=>{this.targetWindow&&this.currentScrollToIndex===n&&(o++,o<l?this.targetWindow.requestAnimationFrame(()=>c(h)):console.warn(`Failed to scroll to index ${n} after ${l} attempts.`))};c(i)},this.scrollBy=(n,{behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:i})},this.getTotalSize=()=>{var n;const i=this.getMeasurements();let s;if(i.length===0)s=this.options.paddingStart;else if(this.options.lanes===1)s=((n=i[i.length-1])==null?void 0:n.end)??0;else{const o=Array(this.options.lanes).fill(null);let l=i.length-1;for(;l>=0&&o.some(c=>c===null);){const c=i[l];o[c.lane]===null&&(o[c.lane]=c.end),l--}s=Math.max(...o.filter(c=>c!==null))}return Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:i,behavior:s})=>{this.options.scrollToFn(n,{behavior:s,adjustments:i},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(t)}}const jj=(e,t,n,i)=>{for(;e<=t;){const s=(e+t)/2|0,o=n(s);if(o<i)e=s+1;else if(o>i)t=s-1;else return s}return e>0?e-1:0};function Rie({measurements:e,outerSize:t,scrollOffset:n,lanes:i}){const s=e.length-1,o=d=>e[d].start;if(e.length<=i)return{startIndex:0,endIndex:s};let l=jj(0,s,o,n),c=l;if(i===1)for(;c<s&&e[c].end<n+t;)c++;else if(i>1){const d=Array(i).fill(0);for(;c<s&&d.some(m=>m<n+t);){const m=e[c];d[m.lane]=m.end,c++}const h=Array(i).fill(n+t);for(;l>=0&&h.some(m=>m>=n);){const m=e[l];h[m.lane]=m.start,l--}l=Math.max(0,l-l%i),c=Math.min(s,c+(i-1-c%i))}return{startIndex:l,endIndex:c}}const eN=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Nie({useFlushSync:e=!0,...t}){const n=x.useReducer(()=>({}),{})[1],i={...t,onChange:(o,l)=>{var c;e&&l?Ji.flushSync(n):n(),(c=t.onChange)==null||c.call(t,o,l)}},[s]=x.useState(()=>new Tie(i));return s.setOptions(i),eN(()=>s._didMount(),[]),eN(()=>s._willUpdate()),s}function kie(e){return Nie({observeElementRect:Sie,observeElementOffset:Cie,scrollToFn:Aie,...e})}const Pie=(e,t,n)=>{const i=x.useCallback((m,v,b=0)=>{const _=[];for(const C of v){const E=m[C];if(E)if(_.push({key:C,level:b}),E.expanded&&E.childrenKeys?.length){const T=i(m,E.childrenKeys,b+1);for(let k=0;k<T.length;k++)_.push(T[k])}else E.expanded&&E.rank!=="KINGDOM"&&E.rank!=="SPECIES"&&E.numDescendants===0&&_.push({key:-C,level:b+1,isEmptyInfo:!0,parentNodeKey:C})}return _},[]),s=x.useMemo(()=>i(e,t),[i,e,t]),o=x.useCallback(m=>{const v=s[m];return v.isEmptyInfo?192:e[v.key]?.rank==="KINGDOM"?72:34},[s,e]),l=x.useMemo(()=>{const m=[];let v=0;for(let b=0;b<s.length;b++)m[b]=v,v+=o(b);return m},[s,o]),c=x.useCallback(m=>s[m]?.key??m,[s]),d=kie({count:s.length,getScrollElement:()=>n.current,estimateSize:m=>o(m),getItemKey:c,overscan:10}),h=x.useMemo(()=>{const m=new Map;s.forEach((_,C)=>m.set(_.key,C));const v=[],b=Math.floor(F0/2);for(let _=0;_<s.length;_++){const{key:C}=s[_],E=e[C];if(!E||!E.childrenKeys?.length||!E.expanded)continue;const T=E.childrenKeys.map(Y=>m.get(Y)).filter(Y=>typeof Y=="number");if(!T.length)continue;const k=Math.min(...T),N=Math.max(...T),P=l[k]-Math.round(o(k)/2),O=l[N]+Math.round(o(N)/2),j=Math.max(0,Math.round(O-P)),V=s[k].level,I=Math.round(V*z_+qO+V0/2)-H1,$=Math.round(I),Z=Math.round(P),K=E?.color??HO[E.kingdom?.toLocaleLowerCase()];v.push({type:"vertical",left:$-b,top:Z,height:j,color:K});for(const Y of E.childrenKeys){const Q=m.get(Y);if(Q==null)continue;const ie=Math.round(l[Q]+o(Q)/2);v.push({type:"horizontal",left:$-b,top:ie-b,width:H1+b,color:K})}}return v},[s,e,l,o]);return{flattened:s,rowVirtualizer:d,connectors:h}},Oie=({connectors:e,totalHeight:t})=>y.jsx("div",{"aria-hidden":!0,style:{position:"absolute",top:0,left:0,width:"100%",height:t,pointerEvents:"none",zIndex:0},children:e.map((n,i)=>n.type==="vertical"?y.jsx("div",{style:{position:"absolute",left:n.left,top:n.top,width:F0,height:n.height,backgroundColor:n.color,boxSizing:"border-box"}},i):y.jsx("div",{style:{position:"absolute",left:n.left,top:n.top,width:n.width,height:F0,backgroundColor:n.color,boxSizing:"border-box"}},i))});function Mie(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,Die(s,...t)]}function Die(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function Ij(e){const t=Lie(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(Iie);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function Lie(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=Bie(s),c=zie(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var jie=Symbol("radix.slottable");function Iie(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===jie}function zie(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Bie(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Uie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ss=Uie.reduce((e,t)=>{const n=Ij(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),Fie=[" ","Enter","ArrowUp","ArrowDown"],Vie=[" ","Enter"],Ql="Select",[sv,rv,$ie]=Tg(Ql),[Hu]=Mie(Ql,[$ie,Lu]),ov=Lu(),[Hie,Ha]=Hu(Ql),[qie,Gie]=Hu(Ql),zj=e=>{const{__scopeSelect:t,children:n,open:i,defaultOpen:s,onOpenChange:o,value:l,defaultValue:c,onValueChange:d,dir:h,name:m,autoComplete:v,disabled:b,required:_,form:C}=e,E=ov(t),[T,k]=x.useState(null),[N,P]=x.useState(null),[O,j]=x.useState(!1),V=Rg(h),[z,I]=Do({prop:i,defaultProp:s??!1,onChange:o,caller:Ql}),[$,Z]=Do({prop:l,defaultProp:c,onChange:d,caller:Ql}),K=x.useRef(null),Y=T?C||!!T.closest("form"):!0,[Q,ie]=x.useState(new Set),ge=Array.from(Q).map(q=>q.props.value).join(";");return y.jsx(Dg,{...E,children:y.jsxs(Hie,{required:_,scope:t,trigger:T,onTriggerChange:k,valueNode:N,onValueNodeChange:P,valueNodeHasChildren:O,onValueNodeHasChildrenChange:j,contentId:xs(),value:$,onValueChange:Z,open:z,onOpenChange:I,dir:V,triggerPointerDownPosRef:K,disabled:b,children:[y.jsx(sv.Provider,{scope:t,children:y.jsx(qie,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(q=>{ie(W=>new Set(W).add(q))},[]),onNativeOptionRemove:x.useCallback(q=>{ie(W=>{const ee=new Set(W);return ee.delete(q),ee})},[]),children:n})}),Y?y.jsxs(o2,{"aria-hidden":!0,required:_,tabIndex:-1,name:m,autoComplete:v,value:$,onChange:q=>Z(q.target.value),disabled:b,form:C,children:[$===void 0?y.jsx("option",{value:""}):null,Array.from(Q)]},ge):null]})})};zj.displayName=Ql;var Bj="SelectTrigger",Uj=x.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:i=!1,...s}=e,o=ov(n),l=Ha(Bj,n),c=l.disabled||i,d=St(t,l.onTriggerChange),h=rv(n),m=x.useRef("touch"),[v,b,_]=l2(E=>{const T=h().filter(P=>!P.disabled),k=T.find(P=>P.value===l.value),N=c2(T,E,k);N!==void 0&&l.onValueChange(N.value)}),C=E=>{c||(l.onOpenChange(!0),_()),E&&(l.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)})};return y.jsx(b_,{asChild:!0,...o,children:y.jsx(Ss.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":a2(l.value)?"":void 0,...s,ref:d,onClick:Ie(s.onClick,E=>{E.currentTarget.focus(),m.current!=="mouse"&&C(E)}),onPointerDown:Ie(s.onPointerDown,E=>{m.current=E.pointerType;const T=E.target;T.hasPointerCapture(E.pointerId)&&T.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&E.pointerType==="mouse"&&(C(E),E.preventDefault())}),onKeyDown:Ie(s.onKeyDown,E=>{const T=v.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&b(E.key),!(T&&E.key===" ")&&Fie.includes(E.key)&&(C(),E.preventDefault())})})})});Uj.displayName=Bj;var Fj="SelectValue",Vj=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:i,style:s,children:o,placeholder:l="",...c}=e,d=Ha(Fj,n),{onValueNodeHasChildrenChange:h}=d,m=o!==void 0,v=St(t,d.onValueNodeChange);return Ln(()=>{h(m)},[h,m]),y.jsx(Ss.span,{...c,ref:v,style:{pointerEvents:"none"},children:a2(d.value)?y.jsx(y.Fragment,{children:l}):o})});Vj.displayName=Fj;var Kie="SelectIcon",$j=x.forwardRef((e,t)=>{const{__scopeSelect:n,children:i,...s}=e;return y.jsx(Ss.span,{"aria-hidden":!0,...s,ref:t,children:i||""})});$j.displayName=Kie;var Wie="SelectPortal",Hj=e=>y.jsx(Zf,{asChild:!0,...e});Hj.displayName=Wie;var Jl="SelectContent",qj=x.forwardRef((e,t)=>{const n=Ha(Jl,e.__scopeSelect),[i,s]=x.useState();if(Ln(()=>{s(new DocumentFragment)},[]),!n.open){const o=i;return o?Ji.createPortal(y.jsx(Gj,{scope:e.__scopeSelect,children:y.jsx(sv.Slot,{scope:e.__scopeSelect,children:y.jsx("div",{children:e.children})})}),o):null}return y.jsx(Kj,{...e,ref:t})});qj.displayName=Jl;var dr=10,[Gj,qa]=Hu(Jl),Yie="SelectContentImpl",Zie=Ij("SelectContent.RemoveScroll"),Kj=x.forwardRef((e,t)=>{const{__scopeSelect:n,position:i="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:l,side:c,sideOffset:d,align:h,alignOffset:m,arrowPadding:v,collisionBoundary:b,collisionPadding:_,sticky:C,hideWhenDetached:E,avoidCollisions:T,...k}=e,N=Ha(Jl,n),[P,O]=x.useState(null),[j,V]=x.useState(null),z=St(t,we=>O(we)),[I,$]=x.useState(null),[Z,K]=x.useState(null),Y=rv(n),[Q,ie]=x.useState(!1),ge=x.useRef(!1);x.useEffect(()=>{if(P)return w_(P)},[P]),u_();const q=x.useCallback(we=>{const[je,...De]=Y().map(Qe=>Qe.ref.current),[Le]=De.slice(-1),Xe=document.activeElement;for(const Qe of we)if(Qe===Xe||(Qe?.scrollIntoView({block:"nearest"}),Qe===je&&j&&(j.scrollTop=0),Qe===Le&&j&&(j.scrollTop=j.scrollHeight),Qe?.focus(),document.activeElement!==Xe))return},[Y,j]),W=x.useCallback(()=>q([I,P]),[q,I,P]);x.useEffect(()=>{Q&&W()},[Q,W]);const{onOpenChange:ee,triggerPointerDownPosRef:de}=N;x.useEffect(()=>{if(P){let we={x:0,y:0};const je=Le=>{we={x:Math.abs(Math.round(Le.pageX)-(de.current?.x??0)),y:Math.abs(Math.round(Le.pageY)-(de.current?.y??0))}},De=Le=>{we.x<=10&&we.y<=10?Le.preventDefault():P.contains(Le.target)||ee(!1),document.removeEventListener("pointermove",je),de.current=null};return de.current!==null&&(document.addEventListener("pointermove",je),document.addEventListener("pointerup",De,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",De,{capture:!0})}}},[P,ee,de]),x.useEffect(()=>{const we=()=>ee(!1);return window.addEventListener("blur",we),window.addEventListener("resize",we),()=>{window.removeEventListener("blur",we),window.removeEventListener("resize",we)}},[ee]);const[ae,G]=l2(we=>{const je=Y().filter(Xe=>!Xe.disabled),De=je.find(Xe=>Xe.ref.current===document.activeElement),Le=c2(je,we,De);Le&&setTimeout(()=>Le.ref.current.focus())}),oe=x.useCallback((we,je,De)=>{const Le=!ge.current&&!De;(N.value!==void 0&&N.value===je||Le)&&($(we),Le&&(ge.current=!0))},[N.value]),be=x.useCallback(()=>P?.focus(),[P]),xe=x.useCallback((we,je,De)=>{const Le=!ge.current&&!De;(N.value!==void 0&&N.value===je||Le)&&K(we)},[N.value]),Re=i==="popper"?zx:Wj,Se=Re===zx?{side:c,sideOffset:d,align:h,alignOffset:m,arrowPadding:v,collisionBoundary:b,collisionPadding:_,sticky:C,hideWhenDetached:E,avoidCollisions:T}:{};return y.jsx(Gj,{scope:n,content:P,viewport:j,onViewportChange:V,itemRefCallback:oe,selectedItem:I,onItemLeave:be,itemTextRefCallback:xe,focusSelectedItem:W,selectedItemText:Z,position:i,isPositioned:Q,searchRef:ae,children:y.jsx(jg,{as:Zie,allowPinchZoom:!0,children:y.jsx(Ng,{asChild:!0,trapped:N.open,onMountAutoFocus:we=>{we.preventDefault()},onUnmountAutoFocus:Ie(s,we=>{N.trigger?.focus({preventScroll:!0}),we.preventDefault()}),children:y.jsx(Wf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:we=>we.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:y.jsx(Re,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:we=>we.preventDefault(),...k,...Se,onPlaced:()=>ie(!0),ref:z,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:Ie(k.onKeyDown,we=>{const je=we.ctrlKey||we.altKey||we.metaKey;if(we.key==="Tab"&&we.preventDefault(),!je&&we.key.length===1&&G(we.key),["ArrowUp","ArrowDown","Home","End"].includes(we.key)){let Le=Y().filter(Xe=>!Xe.disabled).map(Xe=>Xe.ref.current);if(["ArrowUp","End"].includes(we.key)&&(Le=Le.slice().reverse()),["ArrowUp","ArrowDown"].includes(we.key)){const Xe=we.target,Qe=Le.indexOf(Xe);Le=Le.slice(Qe+1)}setTimeout(()=>q(Le)),we.preventDefault()}})})})})})})});Kj.displayName=Yie;var Xie="SelectItemAlignedPosition",Wj=x.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:i,...s}=e,o=Ha(Jl,n),l=qa(Jl,n),[c,d]=x.useState(null),[h,m]=x.useState(null),v=St(t,z=>m(z)),b=rv(n),_=x.useRef(!1),C=x.useRef(!0),{viewport:E,selectedItem:T,selectedItemText:k,focusSelectedItem:N}=l,P=x.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&h&&E&&T&&k){const z=o.trigger.getBoundingClientRect(),I=h.getBoundingClientRect(),$=o.valueNode.getBoundingClientRect(),Z=k.getBoundingClientRect();if(o.dir!=="rtl"){const Xe=Z.left-I.left,Qe=$.left-Xe,Ct=z.left-Qe,yt=z.width+Ct,zt=Math.max(yt,I.width),dn=window.innerWidth-dr,fn=rg(Qe,[dr,Math.max(dr,dn-zt)]);c.style.minWidth=yt+"px",c.style.left=fn+"px"}else{const Xe=I.right-Z.right,Qe=window.innerWidth-$.right-Xe,Ct=window.innerWidth-z.right-Qe,yt=z.width+Ct,zt=Math.max(yt,I.width),dn=window.innerWidth-dr,fn=rg(Qe,[dr,Math.max(dr,dn-zt)]);c.style.minWidth=yt+"px",c.style.right=fn+"px"}const K=b(),Y=window.innerHeight-dr*2,Q=E.scrollHeight,ie=window.getComputedStyle(h),ge=parseInt(ie.borderTopWidth,10),q=parseInt(ie.paddingTop,10),W=parseInt(ie.borderBottomWidth,10),ee=parseInt(ie.paddingBottom,10),de=ge+q+Q+ee+W,ae=Math.min(T.offsetHeight*5,de),G=window.getComputedStyle(E),oe=parseInt(G.paddingTop,10),be=parseInt(G.paddingBottom,10),xe=z.top+z.height/2-dr,Re=Y-xe,Se=T.offsetHeight/2,we=T.offsetTop+Se,je=ge+q+we,De=de-je;if(je<=xe){const Xe=K.length>0&&T===K[K.length-1].ref.current;c.style.bottom="0px";const Qe=h.clientHeight-E.offsetTop-E.offsetHeight,Ct=Math.max(Re,Se+(Xe?be:0)+Qe+W),yt=je+Ct;c.style.height=yt+"px"}else{const Xe=K.length>0&&T===K[0].ref.current;c.style.top="0px";const Ct=Math.max(xe,ge+E.offsetTop+(Xe?oe:0)+Se)+De;c.style.height=Ct+"px",E.scrollTop=je-xe+E.offsetTop}c.style.margin=`${dr}px 0`,c.style.minHeight=ae+"px",c.style.maxHeight=Y+"px",i?.(),requestAnimationFrame(()=>_.current=!0)}},[b,o.trigger,o.valueNode,c,h,E,T,k,o.dir,i]);Ln(()=>P(),[P]);const[O,j]=x.useState();Ln(()=>{h&&j(window.getComputedStyle(h).zIndex)},[h]);const V=x.useCallback(z=>{z&&C.current===!0&&(P(),N?.(),C.current=!1)},[P,N]);return y.jsx(Jie,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:_,onScrollButtonChange:V,children:y.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:y.jsx(Ss.div,{...s,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Wj.displayName=Xie;var Qie="SelectPopperPosition",zx=x.forwardRef((e,t)=>{const{__scopeSelect:n,align:i="start",collisionPadding:s=dr,...o}=e,l=ov(n);return y.jsx(x_,{...l,...o,ref:t,align:i,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});zx.displayName=Qie;var[Jie,Fw]=Hu(Jl,{}),Bx="SelectViewport",Yj=x.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:i,...s}=e,o=qa(Bx,n),l=Fw(Bx,n),c=St(t,o.onViewportChange),d=x.useRef(0);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),y.jsx(sv.Slot,{scope:n,children:y.jsx(Ss.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ie(s.onScroll,h=>{const m=h.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:b}=l;if(b?.current&&v){const _=Math.abs(d.current-m.scrollTop);if(_>0){const C=window.innerHeight-dr*2,E=parseFloat(v.style.minHeight),T=parseFloat(v.style.height),k=Math.max(E,T);if(k<C){const N=k+_,P=Math.min(C,N),O=N-P;v.style.height=P+"px",v.style.bottom==="0px"&&(m.scrollTop=O>0?O:0,v.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});Yj.displayName=Bx;var Zj="SelectGroup",[ese,tse]=Hu(Zj),nse=x.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,s=xs();return y.jsx(ese,{scope:n,id:s,children:y.jsx(Ss.div,{role:"group","aria-labelledby":s,...i,ref:t})})});nse.displayName=Zj;var Xj="SelectLabel",ise=x.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,s=tse(Xj,n);return y.jsx(Ss.div,{id:s.id,...i,ref:t})});ise.displayName=Xj;var vg="SelectItem",[sse,Qj]=Hu(vg),Jj=x.forwardRef((e,t)=>{const{__scopeSelect:n,value:i,disabled:s=!1,textValue:o,...l}=e,c=Ha(vg,n),d=qa(vg,n),h=c.value===i,[m,v]=x.useState(o??""),[b,_]=x.useState(!1),C=St(t,N=>d.itemRefCallback?.(N,i,s)),E=xs(),T=x.useRef("touch"),k=()=>{s||(c.onValueChange(i),c.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return y.jsx(sse,{scope:n,value:i,disabled:s,textId:E,isSelected:h,onItemTextChange:x.useCallback(N=>{v(P=>P||(N?.textContent??"").trim())},[]),children:y.jsx(sv.ItemSlot,{scope:n,value:i,disabled:s,textValue:m,children:y.jsx(Ss.div,{role:"option","aria-labelledby":E,"data-highlighted":b?"":void 0,"aria-selected":h&&b,"data-state":h?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:C,onFocus:Ie(l.onFocus,()=>_(!0)),onBlur:Ie(l.onBlur,()=>_(!1)),onClick:Ie(l.onClick,()=>{T.current!=="mouse"&&k()}),onPointerUp:Ie(l.onPointerUp,()=>{T.current==="mouse"&&k()}),onPointerDown:Ie(l.onPointerDown,N=>{T.current=N.pointerType}),onPointerMove:Ie(l.onPointerMove,N=>{T.current=N.pointerType,s?d.onItemLeave?.():T.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ie(l.onPointerLeave,N=>{N.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:Ie(l.onKeyDown,N=>{d.searchRef?.current!==""&&N.key===" "||(Vie.includes(N.key)&&k(),N.key===" "&&N.preventDefault())})})})})});Jj.displayName=vg;var rf="SelectItemText",e2=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:i,style:s,...o}=e,l=Ha(rf,n),c=qa(rf,n),d=Qj(rf,n),h=Gie(rf,n),[m,v]=x.useState(null),b=St(t,k=>v(k),d.onItemTextChange,k=>c.itemTextRefCallback?.(k,d.value,d.disabled)),_=m?.textContent,C=x.useMemo(()=>y.jsx("option",{value:d.value,disabled:d.disabled,children:_},d.value),[d.disabled,d.value,_]),{onNativeOptionAdd:E,onNativeOptionRemove:T}=h;return Ln(()=>(E(C),()=>T(C)),[E,T,C]),y.jsxs(y.Fragment,{children:[y.jsx(Ss.span,{id:d.textId,...o,ref:b}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Ji.createPortal(o.children,l.valueNode):null]})});e2.displayName=rf;var t2="SelectItemIndicator",n2=x.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e;return Qj(t2,n).isSelected?y.jsx(Ss.span,{"aria-hidden":!0,...i,ref:t}):null});n2.displayName=t2;var Ux="SelectScrollUpButton",i2=x.forwardRef((e,t)=>{const n=qa(Ux,e.__scopeSelect),i=Fw(Ux,e.__scopeSelect),[s,o]=x.useState(!1),l=St(t,i.onScrollButtonChange);return Ln(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollTop>0;o(h)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?y.jsx(r2,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});i2.displayName=Ux;var Fx="SelectScrollDownButton",s2=x.forwardRef((e,t)=>{const n=qa(Fx,e.__scopeSelect),i=Fw(Fx,e.__scopeSelect),[s,o]=x.useState(!1),l=St(t,i.onScrollButtonChange);return Ln(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<h;o(m)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?y.jsx(r2,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});s2.displayName=Fx;var r2=x.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:i,...s}=e,o=qa("SelectScrollButton",n),l=x.useRef(null),c=rv(n),d=x.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return x.useEffect(()=>()=>d(),[d]),Ln(()=>{c().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),y.jsx(Ss.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Ie(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(i,50))}),onPointerMove:Ie(s.onPointerMove,()=>{o.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(i,50))}),onPointerLeave:Ie(s.onPointerLeave,()=>{d()})})}),rse="SelectSeparator",ose=x.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e;return y.jsx(Ss.div,{"aria-hidden":!0,...i,ref:t})});ose.displayName=rse;var Vx="SelectArrow",ase=x.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,s=ov(n),o=Ha(Vx,n),l=qa(Vx,n);return o.open&&l.position==="popper"?y.jsx(__,{...s,...i,ref:t}):null});ase.displayName=Vx;var lse="SelectBubbleInput",o2=x.forwardRef(({__scopeSelect:e,value:t,...n},i)=>{const s=x.useRef(null),o=St(i,s),l=EM(t);return x.useEffect(()=>{const c=s.current;if(!c)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&m){const v=new Event("change",{bubbles:!0});m.call(c,t),c.dispatchEvent(v)}},[l,t]),y.jsx(Ss.select,{...n,style:{...bj,...n.style},ref:o,defaultValue:t})});o2.displayName=lse;function a2(e){return e===""||e===void 0}function l2(e){const t=Gs(e),n=x.useRef(""),i=x.useRef(0),s=x.useCallback(l=>{const c=n.current+l;t(c),(function d(h){n.current=h,window.clearTimeout(i.current),h!==""&&(i.current=window.setTimeout(()=>d(""),1e3))})(c)},[t]),o=x.useCallback(()=>{n.current="",window.clearTimeout(i.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(i.current),[]),[n,s,o]}function c2(e,t,n){const s=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let l=cse(e,Math.max(o,0));s.length===1&&(l=l.filter(h=>h!==n));const d=l.find(h=>h.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function cse(e,t){return e.map((n,i)=>e[(t+i)%e.length])}var use=zj,dse=Uj,fse=Vj,hse=$j,mse=Hj,pse=qj,gse=Yj,vse=Jj,yse=e2,bse=n2,xse=i2,_se=s2;function wse({...e}){return y.jsx(use,{"data-slot":"select",...e})}function Sse({...e}){return y.jsx(fse,{"data-slot":"select-value",...e})}function Cse({className:e,size:t="default",children:n,...i}){return y.jsxs(dse,{"data-slot":"select-trigger","data-size":t,className:Ze("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...i,children:[n,y.jsx(hse,{asChild:!0,children:y.jsx(ka,{className:"size-4 opacity-50"})})]})}function Ese({className:e,children:t,position:n="popper",...i}){return y.jsx(mse,{children:y.jsxs(pse,{"data-slot":"select-content",className:Ze("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...i,children:[y.jsx(Tse,{}),y.jsx(gse,{className:Ze("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),y.jsx(Rse,{})]})})}function Ase({className:e,children:t,...n}){return y.jsxs(vse,{"data-slot":"select-item",className:Ze("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[y.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:y.jsx(bse,{children:y.jsx(HP,{className:"size-4"})})}),y.jsx(yse,{children:t})]})}function Tse({className:e,...t}){return y.jsx(xse,{"data-slot":"select-scroll-up-button",className:Ze("flex cursor-default items-center justify-center py-1",e),...t,children:y.jsx(P_,{className:"size-4"})})}function Rse({className:e,...t}){return y.jsx(_se,{"data-slot":"select-scroll-down-button",className:Ze("flex cursor-default items-center justify-center py-1",e),...t,children:y.jsx(ka,{className:"size-4"})})}const Nse=65,kse=32,Pse=2e3,Ose=450,Mse=700;function Dse(e){const[t,n]=x.useState(""),i=x.useRef({index:0,chars:0,phase:"typing"});return x.useEffect(()=>{if(!e.length){n("");return}i.current={index:0,chars:0,phase:"typing"},n("");let s,o=!0;const l=()=>{if(!o)return;const c=i.current,d=e[c.index%e.length];if(c.phase==="typing"){const h=c.chars+1;c.chars=h,n(d.slice(0,h)),h>=d.length?(c.phase="erasing",s=setTimeout(l,Pse)):s=setTimeout(l,Nse)}else{const h=c.chars-1;c.chars=h,n(d.slice(0,h)),h<=0?(c.index=(c.index+1)%e.length,c.phase="typing",s=setTimeout(l,Ose)):s=setTimeout(l,kse)}};return s=setTimeout(l,Mse),()=>{o=!1,clearTimeout(s)}},[e]),t}const tN={"":[],animalia:["Canis lupus","Ursus maritimus","Loxodonta","Panthera leo","Gorilla","Orcinus orca","Harpia"],plantae:["Zea mays","Rosa canina","Quercus robur","Arabidopsis thaliana","Solanum lycopersicum","Ficus carica"],fungi:["Amanita muscaria","Penicillium notatum","Boletus edulis","Aspergillus niger"],bacteria:["Escherichia coli","Bacillus subtilis","Streptomyces coelicolor","Lactobacillus acidophilus"],archaea:["Halobacterium salinarum","Methanobacterium formicicum","Sulfolobus acidocaldarius"],chromista:["Navicula radiosa","Fucus vesiculosus","Phytophthora infestans"],protozoa:["Amoeba proteus","Plasmodium falciparum","Trypanosoma brucei"]};function Lse({q:e,setQ:t,kingdom:n,setKingdom:i,loading:s,isKeySearch:o,hasResults:l,onSearch:c,onClear:d}){const{t:h}=At(),m=x.useRef(null),v=x.useMemo(()=>Object.entries(Ru).map(([T,k])=>({key:Number(T),name:k})),[]),b=x.useMemo(()=>{if(e)return[];const T=n.toLowerCase();return tN[T]??tN[""]},[e,n]),_=Dse(b),C=h("search.searchByNameOrKey"),E=e.length>0||l;return y.jsxs("form",{onSubmit:c,className:"flex h-9.5 flex-nowrap items-center gap-1.5",children:[!o&&y.jsxs(wse,{value:n,onValueChange:i,children:[y.jsx(Cse,{className:"rounded-lg border px-2 text-sm font-medium",children:y.jsx(Sse,{placeholder:h("search.kingdom"),children:n?y.jsx(ii,{src:zs(v.find(T=>T.name===n)?.key??0),alt:"Reino",className:"size-5"}):y.jsx("span",{children:h("search.kingdom")})})}),y.jsx(Ese,{className:"rounded-lg text-sm font-medium",children:v.map(T=>y.jsxs(Ase,{value:T.name,children:[y.jsx(ii,{src:zs(T.key),alt:`${T.name} icon`,className:"size-5"}),Di(T.name)]},T.key))})]}),o&&y.jsx("span",{className:"text-muted-foreground flex shrink-0 items-center gap-1 rounded-md border px-2 py-1.5 text-xs font-medium",children:"GBIF key"}),y.jsxs("div",{className:"relative min-w-0 flex-1",children:[y.jsx("input",{ref:m,value:e,onChange:T=>t(T.target.value),placeholder:n?void 0:h("search.selectKingdom"),className:"h-9.5 w-full rounded-md border bg-transparent px-3 py-2 text-sm outline-none focus:ring-1 focus:ring-inset","aria-label":h("search.searchTaxa"),autoComplete:"off",autoCorrect:"off",spellCheck:!1}),n&&!e&&y.jsxs("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 select-none",children:[y.jsx("span",{className:"text-muted-foreground absolute inset-y-0 left-3 flex items-center text-sm",children:_}),y.jsx("span",{className:Ze("text-muted-foreground absolute inset-y-0 left-3 flex items-center text-sm transition-opacity duration-200",_?"opacity-0":"opacity-100"),children:C})]})]}),E&&y.jsx("button",{type:"button",onClick:()=>{d(),m.current?.focus()},"aria-label":h("search.clearSearch"),className:"text-muted-foreground hover:text-foreground h-9.5 shrink-0 cursor-pointer rounded-md border px-2.5 transition-colors",children:y.jsx(Ia,{className:"size-3.5"})}),y.jsx("button",{type:"submit",disabled:s||!e.trim(),"aria-label":h("search.searchTaxa"),className:"h-9.5 shrink-0 cursor-pointer rounded-md border px-3 transition-opacity disabled:cursor-not-allowed disabled:opacity-50",children:s?y.jsx(nh,{className:"size-4 animate-spin"}):y.jsx(QP,{className:"size-4"})})]})}function jse({results:e,selected:t,minimized:n,setMinimized:i,onPick:s}){const o=async h=>{await s(h),i(!0)},{t:l}=At(),c=h=>{const m=h;return[h.kingdom&&Di(String(h.kingdom)),h.phylum&&Di(String(h.phylum)),m.class&&Di(String(m.class)),h.order&&Di(String(h.order)),h.family&&Di(String(h.family)),h.genus&&Di(String(h.genus))].filter(Boolean).join("  ")},d=n&&t?t.canonicalName||t.scientificName:e.length===0?l("search.noResults"):`${e.length} ${l("search.results")}`;return y.jsxs("div",{className:"bg-card mt-2 overflow-hidden rounded-lg border shadow-sm",children:[y.jsxs("button",{onClick:()=>i(!n),className:"flex w-full cursor-pointer items-center justify-between px-3 py-2","aria-label":l(n?"search.expandResults":"search.minimizeResults"),children:[y.jsx("span",{className:`truncate text-xs font-medium ${n&&t?"italic":"text-muted-foreground"}`,children:d}),n?y.jsx(ka,{className:"text-muted-foreground ml-2 size-3.5 shrink-0"}):y.jsx(P_,{className:"text-muted-foreground ml-2 size-3.5 shrink-0"})]}),!n&&e.length>0&&y.jsx("ul",{className:"max-h-64 divide-y overflow-auto",children:e.map(h=>y.jsx("li",{children:y.jsx("button",{onClick:()=>o(h),className:`hover:bg-accent w-full cursor-pointer px-3 py-2 text-left transition-colors ${t?.key===h.key?"bg-muted":""}`,children:y.jsxs("div",{className:"flex items-start justify-between gap-2",children:[y.jsxs("div",{className:"min-w-0",children:[y.jsx("p",{className:"truncate text-sm font-medium italic",children:h.canonicalName||h.scientificName}),y.jsx("p",{className:"text-muted-foreground truncate text-xs",children:c(h)})]}),y.jsx("span",{className:"text-muted-foreground mt-0.5 shrink-0 text-xs",children:h.rank})]})})},h.key))}),!n&&e.length===0&&y.jsx("p",{className:"text-muted-foreground px-3 pb-3 text-sm",children:l("search.noResults")})]})}const Ise=e=>{const t=e.trim();if(/^\d+$/.test(t)&&t.length>0){const n=parseInt(t,10);return n>0?n:null}return null},nN=(e,t)=>{const n=new Map,i=new Map;e.forEach(l=>{const c=((l.canonicalName||l.scientificName)??"").trim();if(!c)return;const d=c.toLowerCase().split(/\s+/).filter(Boolean);if(d.length>=2){const h=`${d[0]} ${d[1]}`,m=n.get(h);(!m||m.rank!=="SPECIES")&&n.set(h,l)}else if(d.length===1){const h=d[0],m=i.get(h);(!m||m.rank!=="GENUS")&&i.set(h,l)}});const s=t[0]??"",o=[];if(t.length===1&&s){for(const[l,c]of n.entries())l.split(" ")[1]===s&&o.push(c);if(i.has(s))o.unshift(i.get(s));else for(const l of i.values())if(String(l.genus??"").toLowerCase()===s){o.unshift(l);break}if(o.length>0)return o.slice(0,10)}if(s&&i.has(s))o.push(i.get(s));else if(s){for(const l of i.values())if(String(l.genus??"").toLowerCase()===s){o.push(l);break}}for(const[l,c]of n.entries())if(l.startsWith(s+" ")){o.push(c);break}if(o.length===0){if(i.size>0){const l=i.values().next().value;l&&o.push(l)}if(n.size>0){const l=n.values().next().value;l&&o.push(l)}}return o};function zse(){const{t:e}=At(),{navigateToNodes:t}=mh(),[n,i]=x.useState(""),[s,o]=x.useState(""),[l,c]=x.useState(!1),[d,h]=x.useState(null),[m,v]=x.useState(null),[b,_]=x.useState(null),[C,E]=x.useState(!1),T=Ise(n),k=T!==null,N=x.useCallback(()=>{i(""),h(null),v(null),_(null),E(!1)},[]),P=x.useCallback(async j=>{j?.preventDefault(),v(null),h(null),_(null),E(!1);const V=n.trim();if(V){c(!0);try{if(k&&T!==null){const Y=await cx(T),Q=Y,ie=Q.nubKey??Q.key;if(!ie){v(e("search.keyNotFound")),h(null);return}const ge=Q.rank?.toUpperCase()??"SPECIES";if(Ix.has(ge)){v(e("search.rankNotInTree")),h(null);return}const q={key:ie,scientificName:Y.scientificName||"",canonicalName:Y.canonicalName||Y.scientificName||"",rank:ge,kingdom:Y.kingdom||"animalia",numDescendants:0,phylum:Y.phylum||"",class:Y.class,order:Y.order,family:Y.family,genus:Y.genus};h([q]);return}if(!s){v(e("search.selectKingdomFirst"));return}const $=(await MZ(V,s)??[]).filter(Y=>{const ie=Y.nubKey,ge=typeof ie=="number"&&ie>0,q=String(Y.kingdom??"").toLowerCase(),W=q===String(s??"").toLowerCase()||q==="metazoa"&&String(s??"").toLowerCase()==="animalia",ee=!Ix.has(Y.rank);return!!(ge&&W&&ee)}),Z=V.toLowerCase(),K=Z.split(/\s+/).filter(Boolean);if(K.length>=2){const Y=$.filter(ie=>((ie.canonicalName||ie.scientificName)??"").toLowerCase()===Z),Q=Y.length?Y:$.filter(ie=>{const ge=((ie.canonicalName||ie.scientificName)??"").toLowerCase();return K.every(q=>ge.includes(q))});h(nN(Q,K))}else{const Y=$.filter(ie=>((ie.canonicalName||ie.scientificName)??"").toLowerCase()===Z&&ie.rank==="SPECIES"),Q=Y.length?[...Y,...$.filter(ie=>!Y.includes(ie))]:$;h(nN(Q,K))}}catch(z){console.error(z),v(e("search.gbifError")),h(null)}finally{c(!1)}}},[n,s,k,T,e]),O=x.useCallback(async j=>{c(!0);try{let V,z=null;try{const W=await cx(j.key);z=W,V=W.nubKey??W.key}catch{}const I=V??j.key,$=await ED(I);if(!$||$.length===0){v(e("search.lineageError"));return}const Z=j.rank==="SPECIES",K=$.findIndex(q=>q.rank==="GENUS");let Y=$.length;if(Z&&K!==-1)Y=K+1;else if(j.rank==="GENUS"){const q=$.findIndex(W=>{const ee=W,de=ee.nubKey??ee.key;return W.key===j.key||de===j.key});q!==-1&&(Y=q+1)}const ie=$.slice(0,Y).map(q=>{const W=q,ee=W.nubKey??W.key??0,de=W.canonicalName||W.scientificName||W.name||W.rank||"";return{key:ee,rank:W.rank?.toUpperCase()??"KINGDOM",name:de}});if(j.rank==="SPECIES"||!!(z&&(z.species||z.species===""))){const q=V??j.key,W=z?.species||j.canonicalName||j.scientificName||"",ee=ie[ie.length-1]?.key;q&&q!==ee&&ie.push({key:q,rank:"SPECIES",name:W})}else{const q=V??j.key,W=ie[ie.length-1]?.key;q&&q!==W&&ie.push({key:q,rank:j.rank,name:j.canonicalName||j.scientificName||""})}t(ie,!0),_(j)}catch(V){console.error(V),v(e("search.pathError"))}finally{c(!1)}},[e,t]);return{q:n,setQ:i,kingdom:s,setKingdom:o,loading:l,results:d,error:m,selected:b,minimized:C,setMinimized:E,isKeySearch:k,onSearch:P,onPick:O,onClear:N}}const Bse=()=>{const{q:e,setQ:t,kingdom:n,setKingdom:i,loading:s,results:o,error:l,selected:c,minimized:d,setMinimized:h,isKeySearch:m,onSearch:v,onPick:b,onClear:_}=zse();return y.jsxs("div",{children:[y.jsx(Lse,{q:e,setQ:t,kingdom:n,setKingdom:i,loading:s,isKeySearch:m,hasResults:o!==null,onSearch:v,onClear:_}),l&&y.jsx("p",{className:"mt-1.5 px-1 text-xs text-red-500",children:l}),o!==null&&y.jsx(jse,{results:o,selected:c,minimized:d,setMinimized:h,onPick:b})]})},Use="/treevera/assets/click-success-CCSz7ZCu.wav",Fse="/treevera/assets/click-error-e1JTzZ7m.wav",Vse="/treevera/assets/winning-CUspfwTE.wav",$se={success:Use,error:Fse,win:Vse};class Hse{play(t){const n=Kf(),{muted:i,volume:s}=n.get(UM);if(i)return;const o=new Audio($se[t]);o.volume=s,o.play().catch(()=>{})}}const d0=new Hse,qse=()=>{const e=Me(Ye.expandedNodes),t=Me(Ye.challenge),n=t.status,i=t.speciesKey??0,s=n==="IN_PROGRESS"||n==="COMPLETED",o=x.useRef(!1),l=x.useRef(new Set),{data:c}=Uo({specieKey:i}),{data:d}=nv(i,s),h=x.useMemo(()=>!d||!c?[]:iv(d,c.canonicalName??c.species??"",i),[d,c,i]);x.useEffect(()=>{n==="COMPLETED"&&(o.current||(d0.play("win"),o.current=!0))},[n]),x.useEffect(()=>{if(n!=="IN_PROGRESS")return;if(e.length===0){l.current=new Set;return}const m=e[e.length-1];if(!m)return;const v=!l.current.has(m.key);if(l.current=new Set(e.map(E=>E.key)),!v)return;const b=e.length-1,_=h[b];if(!_)return;m.name.toLowerCase()===_.name.toLowerCase()?d0.play("success"):d0.play("error")},[e,n,h]),x.useEffect(()=>{o.current=!1,l.current=new Set},[i])};function Gse(e,t){const n=Me(Ye.expandedNodes),i=Me(Ye.shortcutScrollTarget),s=Mt(ZO),{isMobile:o}=zo(),l=x.useRef({targetPath:null,scrolledKey:null});x.useEffect(()=>{if(!i||i.length===0){l.current={targetPath:null,scrolledKey:null};return}l.current.targetPath!==i&&(l.current={targetPath:i,scrolledKey:null},o&&window.scrollTo({top:0,behavior:"smooth"}));let c=null;for(let h=i.length-1;h>=0;h--){const m=i[h].key;if(n.some(v=>v.key===m)&&e.some(v=>v.key===m)){c=m;break}}if(c===null||c===l.current.scrolledKey)return;l.current.scrolledKey=c;const d=e.findIndex(h=>h.key===c);d!==-1&&(t.scrollToIndex(d,{align:"start",behavior:"smooth"}),c===i[i.length-1]?.key&&s(null))},[i,n,e,t,s,o])}function Kse(){const e=Me(Ye.expandedNodes),t=Me(Ye.nodes),n=Me(Ye.shortcutScrollTarget),i=Mt(QO),s=Me(H_),o=nw(),l=x.useRef(new Set),c=x.useRef(n);c.current!==n&&(c.current=n,l.current.clear()),x.useEffect(()=>{if(!(!n||n.length===0))for(const d of e){const h=t[d.key];if(!h||h.rank==="SPECIES"||!h.expanded||h.childrenKeys!==void 0||h.numDescendants===0||l.current.has(h.key))continue;const m=h.key;l.current.add(m),o.fetchQuery({queryKey:[Va.children_key,m,s],queryFn:async()=>{const b=(await CD(m)).filter(Dj),_=s?b:b.filter(C=>C.numDescendants>0||C.rank==="SPECIES");return Mj(_).map(Lj)},staleTime:1e3*60*60*24}).then(v=>{i({key:m,children:v})}).finally(()=>{l.current.delete(m)})}},[n,e,t,s,o,i])}function ph({className:e,...t}){return y.jsx("div",{"data-slot":"card",className:Ze("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function Wse({className:e,...t}){return y.jsx("div",{"data-slot":"card-header",className:Ze("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Yse({className:e,...t}){return y.jsx("div",{"data-slot":"card-title",className:Ze("leading-none font-semibold",e),...t})}function Zse({className:e,...t}){return y.jsx("div",{"data-slot":"card-description",className:Ze("text-muted-foreground text-sm",e),...t})}function gh({className:e,...t}){return y.jsx("div",{"data-slot":"card-content",className:Ze("px-6",e),...t})}function Xse({className:e,...t}){return y.jsx("div",{"data-slot":"card-footer",className:Ze("flex items-center px-6 [.border-t]:pt-6",e),...t})}const vh="/treevera/assets/alvo-DNWwIacs.gif",av="/treevera/assets/alvo-white-D_dDYQFf.gif",u2=()=>{const[e,t]=x.useState("24:00:00");return x.useEffect(()=>{const n=()=>{const s=new Date,o=new Date;o.setHours(24,0,0,0);const l=o.getTime()-s.getTime(),c=String(Math.floor(l/36e5)).padStart(2,"0"),d=String(Math.floor(l%36e5/6e4)).padStart(2,"0"),h=String(Math.floor(l%6e4/1e3)).padStart(2,"0");t(`${c}:${d}:${h}`)};n();const i=setInterval(n,1e3);return()=>clearInterval(i)},[]),y.jsxs("div",{className:"flex items-center gap-1 text-right",children:[y.jsx(u6,{className:"text-muted-foreground size-3 shrink-0"}),y.jsx("span",{className:"text-muted-foreground font-mono text-xs tabular-nums",children:e})]})},Qse=async e=>{const{data:t,error:n}=await Dn.rpc("get_or_create_daily_challenge",{p_date:e});if(n||!t||t.length===0)return console.error("Error fetching daily challenge:",n),null;const i=t[0];return{gbifKey:i.gbif_key,scientificName:i.scientific_name}},Jse=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${i}`},iN=()=>{const e=new Date;return e.setHours(24,0,0,0),e.getTime()-Date.now()},d2=e=>{const{daily_challenge_key:t}=Va,n=Jse(),i=e??n,s=i===n;return Ks({queryKey:[t,i],queryFn:()=>Qse(i),staleTime:s?iN():1/0,gcTime:s?iN()+1e3*60*5:1e3*60*60*24})},ere=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${i}`},tre=async e=>{const t=ere(),{data:n,error:i}=await Dn.from("daily_challenges").select("date, gbif_key").lte("date",t).order("date",{ascending:!1}).limit(60);if(i||!n)return[];if(!e||n.length===0)return n.map(c=>({date:c.date,gbifKey:c.gbif_key,completed:!1}));const s=n.map(c=>c.gbif_key),{data:o}=await Dn.from("user_challenge_history").select("gbif_key").eq("user_id",e).eq("mode","DAILY").in("gbif_key",s),l=new Set((o??[]).map(c=>c.gbif_key));return n.map(c=>({date:c.date,gbifKey:c.gbif_key,completed:l.has(c.gbif_key)}))},f2=()=>{const t=Me(rt.session)?.user?.id;return Ks({queryKey:["challenge_dates",t??"anonymous"],queryFn:()=>tre(t),staleTime:1e3*60*5})},nre=(e,t)=>new Date(e,t+1,0).getDate(),ire=(e,t)=>{const n=new Date(e,t,1).getDay();return n===0?6:n-1},sre=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${i}`},rre=({selectedDate:e,challengeDates:t,onSelectDate:n,formattedLabel:i})=>{const{i18n:s,t:o}=At(),l=sre(),[c,d]=x.useState(!1),[h,m]=x.useState(()=>parseInt(e.slice(0,4))),[v,b]=x.useState(()=>parseInt(e.slice(5,7))-1),_=new Map(t.map(Q=>[Q.date,Q])),C=l.split("-"),E=parseInt(C[0]),T=parseInt(C[1])-1,k=t.length>0?t[t.length-1].date:l,N=parseInt(k.slice(0,4)),P=parseInt(k.slice(5,7))-1,O=h===E&&v===T,j=h===N&&v===P,V=()=>{j||(v===0?(m(Q=>Q-1),b(11)):b(Q=>Q-1))},z=()=>{O||(v===11?(m(Q=>Q+1),b(0)):b(Q=>Q+1))},I=Q=>{!_.get(Q)||Q>l||(n(Q),d(!1))},$=nre(h,v),Z=ire(h,v),K=new Intl.DateTimeFormat(s.language,{month:"long",year:"numeric"}).format(new Date(h,v,1)),Y=Array.from({length:7},(Q,ie)=>{const ge=new Date(2025,0,6+ie);return new Intl.DateTimeFormat(s.language,{weekday:"short"}).format(ge).slice(0,2)});return y.jsxs(W_,{open:c,onOpenChange:d,children:[y.jsx(jY,{asChild:!0,children:y.jsx("button",{className:"bg-muted/80 rounded-md px-2 py-1 text-sm font-medium transition-colors",children:i})}),y.jsxs(Y_,{className:"max-w-[320px] p-0",children:[y.jsx(Z_,{className:"px-5 pt-5 pb-3",children:y.jsx(X_,{className:"text-base",children:o("challenge.dailyChallenges")})}),y.jsxs("div",{className:"px-4 pb-5 select-none",children:[y.jsxs("div",{className:"mb-3 flex items-center justify-between gap-2",children:[y.jsx(Wt,{variant:"ghost",size:"icon",className:"size-7",onClick:V,disabled:j,children:y.jsx(Ug,{className:"size-4"})}),y.jsx("span",{className:"text-sm font-semibold capitalize",children:K}),y.jsx(Wt,{variant:"ghost",size:"icon",className:"size-7",onClick:z,disabled:O,children:y.jsx(ic,{className:"size-4"})})]}),y.jsx("div",{className:"mb-1 grid grid-cols-7",children:Y.map(Q=>y.jsx("div",{className:"text-muted-foreground py-1 text-center text-[10px] font-medium uppercase",children:Q},Q))}),y.jsxs("div",{className:"grid grid-cols-7 gap-y-1",children:[Array.from({length:Z},(Q,ie)=>y.jsx("div",{},`gap-${ie}`)),Array.from({length:$},(Q,ie)=>{const ge=ie+1,q=`${h}-${String(v+1).padStart(2,"0")}-${String(ge).padStart(2,"0")}`,W=q>l,ee=_.get(q),de=!!ee,ae=ee?.completed??!1,G=q===e,oe=W||!de;return y.jsxs("button",{onClick:()=>!oe&&I(q),disabled:oe,className:["relative mx-auto flex size-8 items-center justify-center rounded-full text-sm transition-all",oe?"text-muted-foreground/35 cursor-not-allowed":"cursor-pointer",G?"ring-primary ring-1":oe?"":"hover:bg-muted",ae&&!G?"font-semibold text-emerald-600 dark:text-emerald-400":""].filter(Boolean).join(" "),children:[ge,ae&&y.jsx("span",{className:"absolute bottom-0.5 left-1/2 size-1 -translate-x-1/2 rounded-full bg-emerald-500"})]},ge)})]}),y.jsx("div",{className:"text-muted-foreground mt-3 flex items-center gap-3 border-t pt-3 text-xs",children:y.jsxs("span",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:"inline-block size-1.5 rounded-full bg-emerald-500"}),o("challenge.completedLabel")]})})]})]})]})},h2=({selectedDate:e,onSelectDate:t})=>{const{i18n:n,t:i}=At(),{data:s=[]}=f2(),o=[...s].sort((m,v)=>m.date.localeCompare(v.date)),l=o.findIndex(m=>m.date===e),c=l>0?o[l-1]:null,d=l<o.length-1?o[l+1]:null,h=new Intl.DateTimeFormat(n.language,{day:"numeric",month:"short",year:"numeric"}).format(new Date(e+"T00:00:00"));return y.jsxs("div",{className:"flex items-center gap-0.5",children:[y.jsx(Wt,{variant:"ghost",size:"icon",className:"bg-muted/80 size-7 shrink-0",disabled:!c,onClick:()=>c&&t(c.date),title:i("challenge.prevDay"),children:y.jsx(Ug,{className:"size-4"})}),y.jsx(rre,{selectedDate:e,challengeDates:s,onSelectDate:t,formattedLabel:h}),y.jsx(Wt,{variant:"ghost",size:"icon",className:"bg-muted/80 size-7 shrink-0",disabled:!d,onClick:()=>d&&t(d.date),title:i("challenge.nextDay"),children:y.jsx(ic,{className:"size-4"})})]})},ore=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${i}`},sN=()=>{const{t:e}=At(),t=Ei(),{theme:n}=ih(),i=Me(rt.isAuthenticated),s=Me(Ye.challenge),o=Mt(Ye.challenge),l=ore(),[c,d]=x.useState(()=>s.challengeDate??l),{data:h=[]}=f2(),{data:m,isLoading:v,isError:b}=d2(c),C=h.find(P=>P.date===c)?.completed??!1,E=c===l,T=P=>{d(P)},k=()=>{if(!i){t({to:"/login"});return}m&&o({mode:"DAILY",status:"IN_PROGRESS",targetSpecies:m.scientificName,speciesKey:m.gbifKey,challengeDate:c})},N=m?.scientificName;return y.jsx("div",{className:"md:px-4 md:py-6",children:y.jsxs(ph,{className:"relative mx-auto rounded-3xl",children:[E&&y.jsx("div",{className:"absolute top-3 right-4",children:y.jsx(u2,{})}),y.jsxs(gh,{className:"flex flex-col gap-3",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(ii,{src:n==="dark"?av:vh,className:"size-12",alt:"Alvo gif"}),y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("h2",{className:"text-xl font-bold",children:e("challenge.title")}),y.jsxs("p",{className:"text-sm",children:[e("challenge.find"),":"," ",v?y.jsx("span",{className:"text-muted-foreground animate-pulse font-semibold",children:"..."}):b||!N?y.jsx("span",{className:"text-muted-foreground font-semibold",children:""}):y.jsx("span",{className:"font-semibold text-emerald-600",children:N})]})]})]}),y.jsxs("div",{className:"flex flex-col items-center gap-2 sm:flex-row",children:[y.jsx(h2,{selectedDate:c,onSelectDate:T}),C&&y.jsx("span",{className:"text-muted-foreground text-xs",children:e("challenge.alreadyCompleted")})]}),E&&y.jsx("p",{className:"text-muted-foreground text-sm",children:e("challenge.missionDescription")}),y.jsx(Wt,{size:"lg",className:"bg-emerald-600",onClick:k,disabled:v||b||!m,children:e("challenge.start")})]})]})})},Vw=async e=>{const{data:t,error:n}=await Dn.rpc("get_random_challenge_for_user",{p_user_id:e});if(n)return console.error("Error fetching random challenge:",n),null;if(!t||t.length===0)return null;const i=t[0];return{gbifKey:i.gbif_key,scientificName:i.scientific_name}},are=()=>{const{t:e}=At(),t=Ei(),{theme:n}=ih(),i=Me(rt.isAuthenticated),s=Me(rt.session),o=Mt(Ye.challenge),[l,c]=x.useState(!1),[d,h]=x.useState(!1),m=async()=>{if(!i){t({to:"/login"});return}const v=s?.user?.id;if(!v)return;c(!0),h(!1);const b=await Vw(v);if(c(!1),!b){h(!0);return}o({mode:"RANDOM",status:"IN_PROGRESS",targetSpecies:b.scientificName,speciesKey:b.gbifKey})};return y.jsx("div",{className:"md:px-4 md:py-6",children:y.jsx(ph,{className:"mx-auto rounded-3xl",children:y.jsxs(gh,{className:"flex flex-col gap-3",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(ii,{src:n==="dark"?av:vh,className:"size-12",alt:"Alvo gif"}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-bold",children:e("challenge.randomTitle")}),y.jsxs("p",{className:"text-sm",children:[e("challenge.find"),":"," ",y.jsx("span",{className:"font-semibold text-violet-600",children:"????"})]})]})]}),y.jsx("p",{className:"text-muted-foreground text-sm",children:e("challenge.randomMissionDescription")}),d&&y.jsx("p",{className:"text-sm font-semibold text-violet-600",children:"No foi possivel obter um desafio aleatrio. Tente novamente mais tarde."}),y.jsx(Wt,{size:"lg",className:"bg-violet-600",onClick:m,disabled:l,children:e("challenge.start")})]})})})},m2=({correctPath:e,activeIndex:t,currentStep:n})=>{const{t:i}=At(),s=Me(Ye.expandedNodes),o=l=>{const c=s[l],d=e[l];return c?d&&c.name===d.name?"success":"error":"locked"};return e.length===0?null:y.jsxs("div",{className:"bg-accent/40 rounded-2xl p-4",children:[y.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[y.jsx("h3",{className:"text-sm font-semibold",children:i("challenge.taxonomicPath")}),y.jsxs("div",{children:[y.jsx("span",{className:"text-xl font-bold text-emerald-600 tabular-nums dark:text-emerald-400",children:n}),y.jsxs("span",{className:"text-muted-foreground text-sm font-medium",children:["/",e.length]})]})]}),y.jsx("div",{className:"grid grid-cols-2 gap-2",children:e.map((l,c)=>{const d=o(c),h=t===c,m=c===e.length-1;return y.jsxs(jt.div,{layout:!0,animate:h?{scale:1}:d==="error"?{x:[-4,4,-3,3,0]}:{scale:1},transition:d==="error"?{duration:.3}:{type:"spring",stiffness:300,damping:20},className:Ze("flex items-center justify-between rounded-xl border p-3 transition-all",m&&"col-span-2",d==="success"&&"border-green-500/60 bg-green-500/10",d==="error"&&"border-red-400/60 bg-red-500/10",d==="locked"&&"border-dashed opacity-50",h&&"ring-2 ring-emerald-400"),children:[y.jsxs("div",{className:"flex min-w-0 flex-col",children:[y.jsx("span",{className:"text-muted-foreground text-[10px] font-semibold tracking-wide uppercase",children:l.rank}),y.jsx("span",{className:Ze("mt-0.5 truncate text-xs font-medium",d==="success"&&"text-green-600 dark:text-green-400",d==="error"&&"text-red-500",d==="locked"&&"text-muted-foreground"),children:h?"Selecione na rvore":d==="locked"?"":s[c]?.name})]}),y.jsxs("div",{className:"ml-2 shrink-0",children:[d==="success"&&y.jsx(o6,{className:"size-4 text-green-500"}),d==="error"&&y.jsx(eO,{className:"size-4 text-red-500"}),d==="locked"&&y.jsx(L6,{className:"text-muted-foreground/40 size-3"})]})]},`${l.rank}-${c}`)})})]})},lre=({correctSteps:e,errorIndex:t,totalSteps:n})=>y.jsx("div",{className:"mt-2 flex items-center gap-1",children:Array.from({length:n}).map((i,s)=>{const o=s<e,l=s===t;return y.jsx(jt.div,{className:Ze("h-1.5 flex-1 rounded-full",o?"bg-emerald-500":l?"bg-red-500":"bg-muted"),animate:l?{x:[-3,3,-2,2,0]}:{},transition:{duration:.3}},s)})});function cre(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,ure(s,...t)]}function ure(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function dre(e){const t=fre(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(mre);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function fre(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=gre(s),c=pre(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Hn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var hre=Symbol("radix.slottable");function mre(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===hre}function pre(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function gre(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var vre=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$w=vre.reduce((e,t)=>{const n=dre(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),lv="Collapsible",[yre]=cre(lv),[bre,Hw]=yre(lv),p2=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:i,defaultOpen:s,disabled:o,onOpenChange:l,...c}=e,[d,h]=Do({prop:i,defaultProp:s??!1,onChange:l,caller:lv});return y.jsx(bre,{scope:n,disabled:o,contentId:xs(),open:d,onOpenToggle:x.useCallback(()=>h(m=>!m),[h]),children:y.jsx($w.div,{"data-state":Gw(d),"data-disabled":o?"":void 0,...c,ref:t})})});p2.displayName=lv;var g2="CollapsibleTrigger",v2=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,...i}=e,s=Hw(g2,n);return y.jsx($w.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Gw(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...i,ref:t,onClick:Ie(e.onClick,s.onOpenToggle)})});v2.displayName=g2;var qw="CollapsibleContent",y2=x.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=Hw(qw,e.__scopeCollapsible);return y.jsx(_r,{present:n||s.open,children:({present:o})=>y.jsx(xre,{...i,ref:t,present:o})})});y2.displayName=qw;var xre=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:i,children:s,...o}=e,l=Hw(qw,n),[c,d]=x.useState(i),h=x.useRef(null),m=St(t,h),v=x.useRef(0),b=v.current,_=x.useRef(0),C=_.current,E=l.open||c,T=x.useRef(E),k=x.useRef(void 0);return x.useEffect(()=>{const N=requestAnimationFrame(()=>T.current=!1);return()=>cancelAnimationFrame(N)},[]),Ln(()=>{const N=h.current;if(N){k.current=k.current||{transitionDuration:N.style.transitionDuration,animationName:N.style.animationName},N.style.transitionDuration="0s",N.style.animationName="none";const P=N.getBoundingClientRect();v.current=P.height,_.current=P.width,T.current||(N.style.transitionDuration=k.current.transitionDuration,N.style.animationName=k.current.animationName),d(i)}},[l.open,i]),y.jsx($w.div,{"data-state":Gw(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!E,...o,ref:m,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":C?`${C}px`:void 0,...e.style},children:E&&s})});function Gw(e){return e?"open":"closed"}var cp=p2,up=v2,dp=y2;const _re=async e=>{if(e.length===0)return{};const{data:t,error:n}=await Dn.from("challenge_tips").select("canonical_name, hints").in("canonical_name",e);return n||!t?(console.error("Error fetching challenge tips:",n),{}):Object.fromEntries(t.map(i=>[i.canonical_name,i.hints]))},wre=e=>{const t=e.map(n=>n.name);return Ks({queryKey:[Va.challenge_tips_key,...t],queryFn:async()=>await _re(t),enabled:t.length>0,staleTime:1/0,gcTime:1e3*60*60*24})},Sre=["pt","en","es"],Cre=e=>Ks({queryKey:[Va.vernacular_names_key,e],queryFn:async()=>{const t=await LZ(e),n=new Set,i=t.filter(o=>{const l=`${o.language}::${o.vernacularName.toLowerCase()}`;return n.has(l)?!1:(n.add(l),!0)}),s=o=>{if(!o.language)return 1e3;const l=Sre.indexOf(o.language);return l===-1?3:l};return i.sort((o,l)=>s(o)-s(l))},staleTime:1e3*60*60*24,gcTime:1e3*60*60*24*7,enabled:!!e}),Ere={KINGDOM:"reino",SUBKINGDOM:"subreino",PHYLUM:"filo",SUBPHYLUM:"subfilo",SUPERCLASS:"superclasse",CLASS:"classe",SUBCLASS:"subclasse",SUPERORDER:"superordem",ORDER:"ordem",SUBORDER:"subordem",SUPERFAMILY:"superfamlia",FAMILY:"famlia",SUBFAMILY:"subfamlia",GENUS:"gnero",SUBGENUS:"subgnero",SPECIES:"espcie",SUBSPECIES:"subespcie"},Are=e=>Ere[e]??e.toLowerCase().replace(/_/g," "),Kw=({speciesName:e,speciesKey:t,currentStep:n,errorIndex:i,correctPath:s})=>{const{t:o}=At(),{isTablet:l}=zo(),[c,d]=x.useState({}),[h,m]=x.useState(!1),[v,b]=x.useState(n),_=Me(Ye.nodes),C=Mt(QK),E=Mt(e9),T=Mt(XK),k=Mt(YK),N=Kte(),{data:P={}}=wre(s),{data:O}=Uo({specieKey:t}),{data:j,isLoading:V}=lh(t,O?.canonicalName),{data:z=[],isLoading:I}=Cre(t),$=s[v],Z=$?P[$.name]??[]:[],K=c[v]===!0,Y=()=>{d(W=>({...W,[v]:!0}))},Q=3,ie=x.useRef(!1),ge=x.useCallback((W,ee)=>{const de=s[W];if(!de)return!1;const ae=W>0?s[W-1].key:null,G=ae?ee[ae]?.childrenKeys??[]:[];let oe;if(G.length===0)oe=[de.key];else{const be=G.indexOf(de.key);if(be===-1)oe=[de.key,...G.slice(0,Q-1)];else{const xe=Math.max(0,be+Q-G.length),Re=Math.min(Q-1,be);if(Re<xe)oe=[...G];else{const Se=Math.floor(Math.random()*(Re-xe+1))+xe,we=be-Se;oe=G.slice(we,we+Q)}}}return C(oe),E(de.key),T(de.rank),G.length>0},[s,C,E,T]),q=W=>{b(W),ie.current=!1;const ee=ge(W,_);ie.current=ee};return x.useEffect(()=>{if(!h)return;b(n),ie.current=!1;const W=ge(n,_);ie.current=W},[n]),x.useEffect(()=>{if(!h||ie.current||!s[v])return;const ee=v>0?s[v-1]?.key:null;!ee||!_[ee]?.childrenKeys?.length||(ie.current=!0,ge(v,_))},[_]),y.jsxs(sD,{modal:!1,open:h,onOpenChange:W=>{m(W),l&&k(W),W?(b(n),q(n)):(C([]),T(null),E(null))},children:[y.jsx(rD,{asChild:!0,children:y.jsxs("button",{className:Ze("bg-muted/50 flex w-full items-center justify-between rounded-xl border border-dashed px-3 py-2 text-xs transition-colors"),children:[y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx(P6,{className:Ze("size-3.5 text-amber-500",i!==null&&"fill-amber-300")}),y.jsx("span",{className:Ze(i!==null?"font-medium text-amber-700 dark:text-amber-400":"text-muted-foreground"),children:o(i!==null?"challenge.needHelp":"challenge.tips")})]}),y.jsx("span",{className:"text-muted-foreground/50 text-[10px]",children:""})]})}),y.jsx(oD,{children:y.jsx(aD,{asChild:!0,onInteractOutside:W=>W.preventDefault(),onPointerDownOutside:W=>W.preventDefault(),children:y.jsxs(jt.div,{drag:!l,dragControls:N,dragListener:!1,dragMomentum:!1,dragElastic:0,initial:{opacity:0,y:-16},animate:{opacity:1,y:0},exit:{opacity:0,y:-16},transition:{duration:.25,ease:"easeOut"},className:"bg-background fixed top-2 left-1/2 z-50 w-[calc(100%-1rem)] max-w-md -translate-x-1/2 rounded-xl border p-4 shadow-lg",children:[l&&y.jsxs("div",{className:"mb-2.5 flex items-center gap-1.5 border-b pb-2.5",children:[y.jsx("span",{className:"text-muted-foreground shrink-0 text-[11px] font-semibold tracking-wide uppercase",children:"Alvo"}),y.jsx("span",{className:"truncate text-sm font-bold text-emerald-600 italic dark:text-green-400",children:e})]}),y.jsxs("header",{className:Ze("mb-2 flex items-center justify-between",!l&&"cursor-grab active:cursor-grabbing"),onPointerDown:l?void 0:W=>N.start(W),children:[y.jsxs("div",{className:"flex max-h-[45dvh] items-center gap-2 overflow-y-auto",children:[y.jsx("button",{onClick:()=>q(v-1),disabled:v===0,className:"hover:bg-muted rounded p-1 disabled:opacity-30","aria-label":o("challenge.prevStep"),onPointerDown:W=>W.stopPropagation(),children:y.jsx(Ug,{className:"size-4"})}),y.jsxs(lD,{className:"flex items-center gap-2 text-sm font-semibold",children:[o("challenge.step")," ",v+1," ",o("challenge.of")," ",s.length]}),y.jsx("button",{onClick:()=>q(v+1),disabled:v===n,className:"hover:bg-muted rounded p-1 disabled:opacity-30","aria-label":o("challenge.nextStep"),onPointerDown:W=>W.stopPropagation(),children:y.jsx(ic,{className:"size-4"})})]}),y.jsx(cD,{className:"hover:bg-muted rounded p-1",onPointerDown:W=>W.stopPropagation(),children:y.jsx(Ia,{className:"size-3.5"})})]}),Z.length>0?y.jsx("div",{className:"bg-muted/40 mt-3 rounded-lg border p-3 text-sm",children:Z.map((W,ee)=>y.jsxs("div",{className:"flex items-start gap-2",children:[y.jsx("span",{children:""}),y.jsx("span",{className:"flex-1",children:W})]},ee))}):y.jsx("div",{className:"bg-muted/40 text-muted-foreground mt-3 rounded-lg border p-3 text-sm",children:"Sem dicas disponveis para esta etapa."}),$&&y.jsx("div",{className:"mt-4 rounded-lg border border-dashed p-3 text-sm",children:y.jsx(ku,{mode:"wait",children:y.jsx(jt.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"easeOut"},children:K?y.jsxs("p",{className:"text-foreground font-medium",children:[Are($.rank)," ",y.jsx("span",{className:"font-bold text-green-600",children:$.name})]}):y.jsxs("button",{onClick:Y,className:"flex items-center gap-2 text-amber-600 hover:underline",children:[y.jsx(y6,{className:"size-4"}),o("challenge.revealAnswer")]})},v)})}),y.jsxs(cp,{className:"mt-3",children:[y.jsx(up,{asChild:!0,children:y.jsxs("button",{className:"text-muted-foreground hover:bg-muted/50 flex w-full items-center justify-between rounded-md px-2 py-1 text-xs",children:[y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx(M_,{className:"size-3.5"}),"Mais informaes"]}),y.jsx(ka,{className:"size-3.5 opacity-60"})]})}),y.jsxs(dp,{className:"mt-1 space-y-1 overflow-hidden",children:[y.jsxs(cp,{children:[y.jsx(up,{asChild:!0,children:y.jsxs("button",{className:"text-muted-foreground hover:bg-muted/50 flex w-full items-center justify-between rounded-md px-2 py-1 text-xs",children:[y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx(w6,{className:"size-3.5"}),"Nomes populares"]}),y.jsx(ka,{className:"size-3.5 opacity-60"})]})}),y.jsx(dp,{className:"mt-2 overflow-hidden rounded-md border p-2",children:I?y.jsxs("div",{className:"space-y-1",children:[y.jsx(Ro,{className:"h-4 w-full"}),y.jsx(Ro,{className:"h-4 w-3/4"})]}):z.length===0?y.jsx("div",{className:"text-muted-foreground text-xs",children:"Nenhum nome popular encontrado."}):y.jsx("ul",{className:"space-y-1",children:z.map((W,ee)=>y.jsxs("li",{className:"flex items-center gap-2 text-xs",children:[y.jsx("span",{className:"bg-muted text-muted-foreground rounded px-1 py-0.5 font-mono text-[10px]",children:W.language||""}),y.jsx("span",{children:W.vernacularName})]},ee))})})]}),y.jsxs(cp,{children:[y.jsx(up,{asChild:!0,children:y.jsxs("button",{className:"text-muted-foreground hover:bg-muted/50 flex w-full items-center justify-between rounded-md px-2 py-1 text-xs",children:[y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx(R6,{className:"size-3.5"}),"Imagem da espcie"]}),y.jsx(ka,{className:"size-3.5 opacity-60"})]})}),y.jsx(dp,{className:"mt-2 overflow-hidden rounded-md border",children:V?y.jsx(Ro,{className:"h-32 w-full"}):j?.imgUrl?y.jsx(ii,{src:j.imgUrl,alt:e,className:"h-32 w-full object-cover"}):y.jsx("div",{className:"text-muted-foreground flex h-32 items-center justify-center text-xs",children:"Imagem no disponvel"})})]}),y.jsxs(cp,{children:[y.jsx(up,{asChild:!0,children:y.jsxs("button",{className:"text-muted-foreground hover:bg-muted/50 flex w-full items-center justify-between rounded-md px-2 py-1 text-xs",children:[y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx(l6,{className:"size-3.5"}),o("challenge.howItWorks")]}),y.jsx(ka,{className:"size-3.5 opacity-60"})]})}),y.jsxs(dp,{className:"text-muted-foreground bg-muted/40 mt-2 rounded-md p-3 text-sm",children:["Expanda os grupos da rvore taxonmica seguindo o caminho correto at chegar  espcie"," ",y.jsx("span",{className:"font-semibold text-emerald-500",children:e}),"."]})]})]})]})]})})})]})},b2=({speciesName:e,speciesKey:t,correctSteps:n,isCompleted:i,onCancel:s,onNext:o,nextLoading:l,errorIndex:c,correctPath:d})=>{const{t:h}=At();return y.jsx("div",{className:"px-2",children:y.jsxs(jt.div,{className:"rounded-2xl border px-3 py-2.5 shadow-sm",children:[y.jsxs("div",{className:"flex items-center gap-2.5",children:[y.jsx(ii,{src:vh,className:"size-7 shrink-0",alt:"Alvo gif"}),y.jsx("p",{className:"truncate text-sm",children:y.jsx("span",{className:"font-bold text-emerald-600 dark:text-green-400",children:e})}),y.jsxs("span",{className:"text-muted-foreground text-xs font-semibold tabular-nums",children:[n,"/",d.length]}),o&&y.jsx("button",{onClick:o,disabled:l,className:"text-muted-foreground/60 ml-auto rounded-full p-1 hover:bg-violet-100 hover:text-violet-600 disabled:opacity-50 dark:hover:bg-violet-950","aria-label":h("challenge.nextChallenge"),children:y.jsx(JP,{className:"size-3.5"})}),y.jsx("button",{onClick:s,className:`rounded-full p-1 hover:bg-red-100 hover:text-red-500 dark:hover:bg-red-950 ${o?"":"ml-auto"} text-muted-foreground/60`,"aria-label":h("challenge.cancel"),children:y.jsx(Ia,{className:"size-3.5"})})]}),!i&&d.length>0&&y.jsxs("div",{className:"space-y-2",children:[y.jsx(lre,{correctSteps:n,errorIndex:c,totalSteps:d.length}),y.jsx(Kw,{speciesName:e,speciesKey:t,currentStep:n,errorIndex:c,correctPath:d})]})]})})},x2=async({userId:e,gbifKey:t,mode:n})=>{const{data:i,error:s}=await Dn.from("user_challenge_history").upsert({user_id:e,gbif_key:t,mode:n},{onConflict:"user_id,gbif_key,mode",ignoreDuplicates:!0}).select();return s?(console.error("Error saving challenge result:",s),{wasNew:!1}):{wasNew:i!=null&&i.length>0}},_2=async({user:e,speciesName:t,mode:n})=>{const i=n==="DAILY"?"Desafio Dirio":"Desafio Aleatrio",s=`Encontrou a espcie ${t}`,l=[{title:i,description:s,date:new Date().toISOString()},...e.game_info.activities??[]],{data:c,error:d}=await Dn.from("users").update({game_info:{...e.game_info,activities:l}}).eq("id",e.id).select().single();return d?(console.error("Error saving challenge activity:",d),null):c},w2=({speciesName:e,onReplay:t,onNext:n,nextLabel:i,nextLoading:s=!1,children:o})=>{const{t:l}=At();return y.jsxs(jt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.4,ease:"easeOut"},className:"mx-4 rounded-2xl border bg-emerald-50/50 p-5 text-center shadow-sm md:mt-5 dark:bg-emerald-950/30",children:[y.jsx(jt.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.15,type:"spring",stiffness:200},className:"mx-auto mb-3 flex size-12 items-center justify-center rounded-full bg-emerald-500 md:size-16",children:y.jsx(tO,{className:"size-6 text-white md:size-8"})}),y.jsx("p",{className:"text-sm font-semibold text-emerald-700 md:text-lg dark:text-emerald-400",children:l("challenge.completed")}),y.jsx("p",{className:"mt-1 text-sm md:text-lg",children:y.jsx("strong",{children:e})}),y.jsxs(jt.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{delay:.25},className:"text-muted-foreground mt-2 flex items-center justify-center gap-1 text-xs md:text-sm",children:[y.jsx(s6,{className:"size-3.5 text-emerald-500"}),l("challenge.path")]}),y.jsxs(jt.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-5 flex flex-col gap-2 sm:flex-row sm:justify-center",children:[y.jsxs(Wt,{variant:"outline",onClick:t,className:"gap-2",children:[y.jsx(W6,{className:"size-4"}),l("challenge.replay")]}),y.jsxs(Wt,{onClick:n,disabled:s,className:"gap-2 bg-emerald-600 hover:bg-emerald-700",children:[i,y.jsx(ic,{className:"size-4"})]})]}),o&&y.jsx(jt.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{delay:.55},className:"mt-4 border-t pt-4 text-left",children:o})]})},Tre=()=>new Date().toISOString().slice(0,10),Rre=()=>{const{t:e}=At(),t=Mt(Ye.challenge),n=Ei(),i=Me(Ye.expandedNodes),s=Mt(Ye.expandedNodes),{isTablet:o}=zo(),{theme:l}=ih(),c=Me(Ye.challenge),d=Me(rt.session),[h,m]=qs(rt.userDb),v=Tre(),b=c.targetSpecies??"",_=c.speciesKey??0,C=c.challengeDate??v,[E,T]=x.useState(C),{data:k,isLoading:N}=d2(E),[P,O]=x.useState(!1),{data:j}=Uo({specieKey:_}),{data:V}=nv(_,!!_),z=x.useMemo(()=>!V||!j?[]:iv(V,j.canonicalName??j.species??"",_),[V,j,_]),I=x.useMemo(()=>i.filter((W,ee)=>{const de=z[ee];return de&&W.name===de.name}).length,[i,z]),$=z.length>0&&I===z.length;x.useEffect(()=>{if(!$)return;t(ee=>ee.status==="COMPLETED"?ee:{...ee,status:"COMPLETED"});const W=d?.user?.id;!W||!_||!h||(async()=>{const{wasNew:ee}=await x2({userId:W,gbifKey:_,mode:"DAILY"});if(ee){const de=await _2({user:h,speciesName:b,mode:"DAILY"});de&&m(de)}})()},[$,t,d,_,h,b,m]);const Z=()=>{s([]),n({to:"/",replace:!0})},K=()=>{t({status:"NOT_STARTED",mode:"UNSET"}),Z()},Y=()=>{Z(),t(W=>({...W,status:"IN_PROGRESS"}))},Q=async()=>{const W=d?.user?.id;if(!W)return;O(!0);const ee=await Vw(W);O(!1),ee&&(Z(),t({mode:"RANDOM",status:"IN_PROGRESS",targetSpecies:ee.scientificName,speciesKey:ee.gbifKey}))},ie=()=>{k&&(Z(),t({mode:"DAILY",status:"IN_PROGRESS",targetSpecies:k.scientificName,speciesKey:k.gbifKey,challengeDate:E}))},q=x.useMemo(()=>{const W=i.length-1,ee=i[W],de=z[W];return W>=0&&de&&ee?.name!==de.name},[i,z])?i.length-1:null;if($){const W=E===C;return y.jsxs("div",{className:"flex flex-col gap-4 pb-10",children:[y.jsx(w2,{speciesName:b,onReplay:Y,onNext:Q,nextLabel:e("challenge.nextRandom"),nextLoading:P,children:y.jsxs("div",{className:"flex w-full items-center justify-center gap-3",children:[y.jsx(h2,{selectedDate:E,onSelectDate:T}),!W&&y.jsx(Wt,{size:"sm",className:"shrink-0 bg-emerald-600 hover:bg-emerald-700",onClick:ie,disabled:N||!k,children:e("challenge.play")})]})}),y.jsx($u,{embedded:!0})]})}return o?y.jsx(b2,{speciesName:b,speciesKey:_,correctSteps:I,isCompleted:$,onCancel:K,errorIndex:q,correctPath:z}):y.jsx("div",{className:"mt-22 max-w-5xl md:mt-0 md:px-4 md:py-6",children:y.jsxs(ph,{className:"relative rounded-3xl",children:[C===v&&y.jsx("div",{className:"absolute top-3 right-4",children:y.jsx(u2,{})}),y.jsxs(gh,{className:"flex flex-col gap-4 pt-5",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"flex size-12 shrink-0 items-center justify-center rounded-2xl bg-emerald-100 dark:bg-emerald-900/40",children:y.jsx(ii,{src:l==="dark"?av:vh,className:"size-8",alt:"Alvo gif"})}),y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("p",{className:"text-muted-foreground text-[10px] font-semibold tracking-widest uppercase",children:e("challenge.title")}),y.jsx("h2",{className:"truncate text-base leading-tight font-bold",children:b})]})]}),!$&&z.length>0&&y.jsx(Kw,{speciesName:b,speciesKey:_,currentStep:I,errorIndex:q,correctPath:z}),y.jsx(m2,{currentStep:I,correctPath:z,activeIndex:i.length}),!$&&y.jsx("div",{className:"-mx-6 flex justify-end border-t px-8 pt-4",children:y.jsx(Wt,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-destructive text-xs",onClick:K,children:e("challenge.cancel")})})]})]})})},Nre=()=>{const{t:e}=At(),t=Ei(),n=Mt(Ye.challenge),i=Me(Ye.expandedNodes),s=Mt(Ye.expandedNodes),{isTablet:o}=zo(),{theme:l}=ih(),c=Me(Ye.challenge),d=Me(rt.session),[h,m]=qs(rt.userDb),v=c.targetSpecies??"",b=c.speciesKey??0,{data:_}=Uo({specieKey:b}),{data:C}=nv(b,!!b),E=x.useMemo(()=>!C||!_?[]:iv(C,_.canonicalName??_.species??"",b),[C,_,b]),T=x.useMemo(()=>i.filter((Z,K)=>{const Y=E[K];return Y&&Z.name===Y.name}).length,[i,E]),k=E.length>0&&T===E.length;x.useEffect(()=>{if(!k)return;n(K=>K.status==="COMPLETED"?K:{...K,status:"COMPLETED"});const Z=d?.user?.id;!Z||!b||!h||(async()=>{const{wasNew:K}=await x2({userId:Z,gbifKey:b,mode:"RANDOM"});if(K){const Y=await _2({user:h,speciesName:v,mode:"RANDOM"});Y&&m(Y)}})()},[k,n,d,b,h,v,m]);const[N,P]=x.useState(!1),O=()=>{s([]),t({to:"/",replace:!0})},j=()=>{n({status:"NOT_STARTED",mode:"UNSET"}),O()},V=()=>{O(),n(Z=>({...Z,status:"IN_PROGRESS"}))},z=async()=>{const Z=d?.user?.id;if(!Z)return;P(!0);const K=await Vw(Z);P(!1),K&&(O(),n({mode:"RANDOM",status:"IN_PROGRESS",targetSpecies:K.scientificName,speciesKey:K.gbifKey}))},$=x.useMemo(()=>{const Z=i.length-1,K=i[Z],Y=E[Z];return Z>=0&&Y&&K?.name!==Y.name},[i,E])?i.length-1:null;return k?y.jsxs("div",{className:"flex flex-col gap-4 pb-10",children:[y.jsx(w2,{speciesName:v,onReplay:V,onNext:z,nextLabel:e("challenge.nextChallenge"),nextLoading:N}),y.jsx($u,{embedded:!0})]}):o?y.jsx(b2,{speciesName:v,speciesKey:b,correctSteps:T,isCompleted:k,onCancel:j,onNext:z,nextLoading:N,errorIndex:$,correctPath:E}):y.jsx("div",{className:"mt-22 max-w-5xl md:mt-0 md:px-4 md:py-6",children:y.jsx(ku,{mode:"wait",initial:!1,children:y.jsx(jt.div,{initial:{opacity:0,x:28},animate:{opacity:1,x:0},exit:{opacity:0,x:-28},transition:{duration:.22,ease:"easeOut"},children:y.jsx(ph,{className:"rounded-3xl",children:y.jsxs(gh,{className:"flex flex-col gap-4 pt-5",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"flex size-12 shrink-0 items-center justify-center rounded-2xl bg-violet-100 dark:bg-violet-900/40",children:y.jsx(ii,{src:l==="dark"?av:vh,className:"size-8",alt:"Alvo gif"})}),y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("p",{className:"text-muted-foreground text-[10px] font-semibold tracking-widest uppercase",children:e("challenge.randomTitle")}),y.jsx("h2",{className:"truncate text-base leading-tight font-bold",children:v})]})]}),!k&&E.length>0&&y.jsx(Kw,{speciesName:v,speciesKey:b,currentStep:T,errorIndex:$,correctPath:E}),y.jsx(m2,{correctPath:E,activeIndex:i.length,currentStep:T}),!k&&y.jsxs(Xse,{className:"-mx-6 flex flex-wrap justify-between border-t px-8 pt-4",children:[y.jsx(Wt,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-destructive text-xs",onClick:j,children:e("challenge.cancel")}),y.jsxs(Wt,{className:"gap-2 bg-violet-600 text-white hover:bg-violet-700",onClick:z,disabled:N,children:[y.jsx(JP,{className:"size-4"}),e("challenge.nextChallenge")]})]})]})})},b||"loading")})})},kre=e=>{const t=x.useRef(e);t.current=e,x.useEffect(()=>{const n=new Date;n.setHours(24,0,0,0);const i=n.getTime()-Date.now(),s=setTimeout(()=>t.current(),i);return()=>clearTimeout(s)},[])},rN=()=>new Date().toDateString(),S2=()=>{const e=Me(Ye.challenge),t=nw(),[n,i]=x.useState(rN);return kre(()=>{t.invalidateQueries({queryKey:["challenge_dates"]}),i(rN())}),e.mode==="DAILY"&&e.status!=="NOT_STARTED"?y.jsx(Rre,{}):e.mode==="DAILY"?y.jsx(ku,{mode:"wait",initial:!1,children:y.jsx(jt.div,{initial:{opacity:0,x:28},animate:{opacity:1,x:0},exit:{opacity:0,x:-28},transition:{duration:.22,ease:"easeOut"},children:y.jsx(sN,{})},n)}):e.mode==="RANDOM"?y.jsx(Nre,{}):y.jsxs("div",{className:"mx-auto flex max-w-7xl flex-col gap-4",children:[y.jsx(ku,{mode:"wait",initial:!1,children:y.jsx(jt.div,{initial:{opacity:0,x:28},animate:{opacity:1,x:0},exit:{opacity:0,x:-28},transition:{duration:.22,ease:"easeOut"},children:y.jsx(sN,{})},n)}),y.jsx(are,{})]})},Pre=80,Ore=()=>{yie(),qse(),Kse();const e=x.useRef(null),t=Me(Ye.nodes),n=Me(Ye.rootKeys),i=Me(Ye.challenge).mode,s=Me(Ye.challengeTipsOpen),o=Me(Ye.scrollToRank),l=x.useRef(null),c=Me(Ye.scrollToNodeKey),d=x.useRef(null),{isTablet:h}=zo(),{flattened:m,rowVirtualizer:v,connectors:b}=Pie(t,n,e);return x.useEffect(()=>{if(!o||o===l.current)return;l.current=o;const _=m.findIndex(C=>t[C.key]?.rank===o);_!==-1&&v.scrollToIndex(_,{align:"center",behavior:"smooth"})},[o,m,t,v]),x.useEffect(()=>{if(!c||c===d.current)return;d.current=c;const _=m.findIndex(C=>C.key===c);_!==-1&&v.scrollToIndex(_,{align:"center",behavior:"smooth"})},[c,m,v]),Gse(m,v),y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"mb-4 px-4",children:[i&&h&&y.jsx(S2,{}),!i&&y.jsx(Bse,{})]}),y.jsx("div",{ref:e,className:Ze("h-[calc(100dvh-144px)] w-full overflow-auto px-4 pb-28 transition-[padding-top] duration-200",i&&!h&&"h-[calc(100dvh-130px)]",i==="UNSET"&&"pointer-events-none opacity-40"),style:{WebkitOverflowScrolling:"touch",paddingTop:h&&i&&s?Pre:void 0},children:y.jsxs("ul",{style:{height:v.getTotalSize()},className:"relative w-full",children:[y.jsx(Oie,{connectors:b,totalHeight:v.getTotalSize()}),v.getVirtualItems().map(_=>{const C=m[_.index];return y.jsx("li",{className:"absolute top-0 left-0 w-full",style:{transform:`translateY(${_.start}px)`},children:C.isEmptyInfo?y.jsx(vie,{parentNodeKey:C.parentNodeKey,level:C.level}):y.jsx(gie,{nodeKey:C.key,level:C.level})},C.key)})]})})]})};function Mre(){const e=Ei(),t=L3(),n=Mt(KK),i=Me(Ye.nodes),s=x.useRef(i),o=x.useRef([]),l=x.useRef([]),c=x.useRef(""),d=x.useRef(!0);x.useEffect(()=>{s.current=i},[i]);const h=()=>{if(d.current||o.current.length===0)return;const m=o.current[0],v=s.current[m];if(!v)return;const b={key:v.key,rank:v.rank,name:v.rank==="KINGDOM"?Di(Ru[v.key]):v.canonicalName||v.scientificName||""},_=[...l.current,b],C=o.current.slice(1);l.current=_,o.current=C,C.length===0&&(d.current=!0),n(_),C.length>0&&h()};x.useEffect(()=>{d.current||h()},[i]),x.useEffect(()=>{const m=t.pathname;if(m===c.current)return;c.current=m;const b=m.replace("/treevera","").split("/").filter(Boolean);if(b[0]!=="tree"){o.current=[],l.current=[],d.current=!0,n([]);return}const _=b.slice(1);if(_.length===0){o.current=[],l.current=[],d.current=!0,n([]);return}const C=_.map(Number);if(C.some(isNaN)){console.warn(" URL com keys invalidas:",_),e({to:"/",replace:!0});return}o.current=C,l.current=[],d.current=!1,h()},[t.pathname])}const C2=()=>{const{data:e,isLoading:t,isError:n}=xne(),i=Mt(Ye.mergeNodes),s=Mt(Ye.rootKeys);return Mre(),x.useEffect(()=>{e&&e.length>0&&(i(e.map(o=>({...o}))),s(e.map(o=>o.key)))},[e,i,s]),t?y.jsx(u0,{type:"loading"}):n?y.jsx(u0,{type:"error"}):!e||e.length===0?y.jsx(u0,{type:"empty"}):y.jsx(Ore,{})};function E2(){const{isTablet:e}=zo();return x.useCallback(t=>{if(!e||window.scrollY===0){t();return}window.scrollTo({top:0,behavior:"smooth"});let n=!1;const i=()=>{n||(n=!0,t())};window.addEventListener("scrollend",i,{once:!0}),setTimeout(i,450)},[e])}const Dre=({bgImg:e,alt:t,onClick:n,children:i})=>y.jsxs("div",{className:Ze("relative min-h-screen w-full overflow-hidden bg-black pl-2 md:pl-8",n&&"cursor-pointer"),onClick:n,children:[y.jsx("img",{src:e,alt:t,className:"animate-fade-in absolute inset-0 h-full w-full object-cover"},e),y.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-black/85 via-black/50 to-black/10"}),y.jsx("div",{className:"absolute inset-0 bg-linear-to-t from-black/60 via-transparent to-black/20"}),i]}),Lre=({kingdomLabel:e,kingdomName:t,primaryColor:n})=>y.jsxs("div",{className:"absolute top-8 flex items-center gap-3",children:[y.jsx("div",{className:"h-5 w-0.5 rounded-full",style:{backgroundColor:n}}),y.jsxs("span",{className:"text-xs font-semibold tracking-[0.2em] text-white/70 uppercase",children:[e," ",t.toUpperCase()]})]}),jre=({total:e,currentIndex:t,primaryColor:n,stopPropagation:i=!1,isPaused:s,onPrev:o,onNext:l,onDotClick:c,onTogglePause:d})=>{const h=m=>{i&&m.stopPropagation()};return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"absolute bottom-10 flex items-center gap-2",children:Array.from({length:e}).map((m,v)=>y.jsx("button",{onClick:b=>{h(b),c(v)},className:"h-0.5 rounded-full transition-all duration-300",style:{width:v===t?28:12,backgroundColor:v===t?n:"rgba(255,255,255,0.3)"}},v))}),y.jsxs("div",{className:"absolute right-8 bottom-7 flex items-center gap-3",onClick:h,children:[y.jsx("button",{onClick:o,className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/10 text-white/60 transition hover:bg-white/20",children:y.jsx(Ug,{className:"size-5"})}),y.jsx("button",{onClick:d,className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/10 text-white/60 transition hover:bg-white/20",children:s?y.jsx(q6,{className:"size-4"}):y.jsx(V6,{className:"size-4"})}),y.jsx("button",{onClick:l,className:"flex h-10 w-10 items-center justify-center rounded-full text-black transition",style:{backgroundColor:n},children:y.jsx(ic,{className:"size-5"})})]})]})},A2=({bgImg:e,alt:t,onCardClick:n,kingdomLabel:i,kingdomName:s,primaryColor:o,slideKey:l,badge:c,title:d,description:h,mainGroupsLabel:m,mainGroups:v,extra:b,total:_,currentIndex:C,isPaused:E,stopPropagation:T,onPrev:k,onNext:N,onDotClick:P,onTogglePause:O})=>y.jsxs(Dre,{bgImg:e,alt:t,onClick:n,children:[y.jsx(Lre,{kingdomLabel:i,kingdomName:s,primaryColor:o}),y.jsxs("div",{className:"animate-slide-up absolute bottom-32 max-w-xl space-y-5",children:[y.jsx("span",{className:"inline-block rounded-full px-3 py-1 text-xs font-semibold tracking-widest text-white uppercase",style:{backgroundColor:o},children:c}),y.jsx("h1",{className:"text-4xl leading-none font-black tracking-tight text-white sm:text-5xl md:text-7xl",children:d}),y.jsx("p",{className:"max-w-sm text-sm leading-relaxed text-white/65",children:h}),y.jsxs("div",{className:"space-y-1",children:[y.jsxs("p",{className:"text-[10px] font-medium tracking-widest text-white/45 uppercase",children:[m,":"]}),y.jsx("div",{className:"flex flex-wrap gap-3 pt-1",children:v.map(({groupName:j,onClick:V},z)=>V?y.jsx("button",{onClick:V,className:"rounded-lg border border-white/10 bg-white/10 px-3 py-2 text-left backdrop-blur-sm transition hover:bg-white/20",children:y.jsx("p",{className:"mt-0.5 text-sm font-semibold",style:{color:o},children:j})},z):y.jsx("div",{className:"rounded-lg border border-white/10 bg-white/10 px-3 py-2 backdrop-blur-sm",children:y.jsx("p",{className:"mt-0.5 text-sm font-semibold",style:{color:o},children:j})},z))})]}),b]},l),y.jsx(jre,{total:_,currentIndex:C,primaryColor:o,isPaused:E,stopPropagation:T,onPrev:k,onNext:N,onDotClick:P,onTogglePause:O})]}),Ire={KINGDOM:"Reino",PHYLUM:"Filo",CLASS:"Classe",ORDER:"Ordem",FAMILY:"Famlia",GENUS:"Gnero",SPECIES:"Espcie"},zre=()=>{const{t:e}=At(),t=Me(Ye.exploreInfos),n=Me(rt.userDb),i=Me(Ye.expandedNodes),{navigateToNodes:s}=mh(),o=E2(),[l,c]=x.useState(0),[d,h]=x.useState(!1),m=t.find(O=>O.kingdomKey===i[0]?.key),v=i[i.length-1]?.rank,b=x.useMemo(()=>m?v==="KINGDOM"?m.kingdomName:i[i.length-1]?.name??Di(v):"",[i,m,v]),_=x.useMemo(()=>{if(!m)return[];const O=i[0].key;return i.length===1?G1.KINGDOM[O]??[]:G1[v]?.[O]??[]},[i,m,v]),C=_.length;x.useEffect(()=>{if(!C||d)return;const O=setTimeout(()=>c(j=>(j+1)%C),8e3);return()=>clearTimeout(O)},[l,C,d]);const E=x.useMemo(()=>m?DK(m.kingdomName.toLowerCase()):[],[m]),T=x.useMemo(()=>{if(!n?.game_info?.shortcuts)return null;const O=m?.kingdomName.toLocaleLowerCase();return n.game_info.shortcuts[O]},[m?.kingdomName,n]);if(!m||!_.length)return null;const k=E[l%E.length],N=Ire[v]??Di(v),P=T&&y.jsxs("div",{className:"space-y-1",children:[y.jsxs("p",{className:"text-[10px] font-medium tracking-widest text-white/45 uppercase",children:["Seus ",e("shortcuts.title"),":"]}),y.jsx("div",{className:"flex flex-wrap gap-2",children:T.filter(({nodes:O})=>O[0].key===m.kingdomKey).map(({name:O,nodes:j},V)=>y.jsxs("button",{onClick:()=>o(()=>s(j,!0)),className:"flex items-center gap-1.5 rounded-full border border-white/15 bg-white/10 px-3 py-1.5 text-xs font-medium text-white/70 backdrop-blur-sm transition hover:bg-white/20",children:[y.jsx(XP,{className:"size-3 scale-x-[-1]"}),O]},V))})]});return y.jsx(A2,{bgImg:k,alt:m.kingdomName,kingdomLabel:e("explore.kingdom"),kingdomName:m.kingdomName,primaryColor:m.primaryColor,slideKey:l,badge:N,title:b,description:_[l],mainGroupsLabel:e("explore.mainGroups"),mainGroups:m.mainGroups.slice(0,3).map(O=>({groupName:O.groupName,onClick:()=>o(()=>s(O.pathNode))})),extra:P,total:C,currentIndex:l,isPaused:d,onPrev:()=>c(O=>(O-1+C)%C),onNext:()=>c(O=>(O+1)%C),onDotClick:c,onTogglePause:()=>h(O=>!O)})},T2=()=>{const{t:e}=At(),t=Me(Ye.challenge).mode,n=Me(Ye.exploreInfos),i=Me(Ye.expandedNodes),{toggleNode:s}=mh(),o=E2(),[l,c]=x.useState(0),[d,h]=x.useState(!1),m=n.length;if(x.useEffect(()=>{if(d)return;const b=setTimeout(()=>c(_=>(_+1)%m),8e3);return()=>clearTimeout(b)},[l,m,d]),!t&&i.length)return y.jsx(zre,{});const v=n[l];return y.jsx(A2,{bgImg:v.bgImg,alt:v.kingdomName,onCardClick:()=>o(()=>s(v.kingdomKey)),kingdomLabel:e("explore.kingdom"),kingdomName:v.kingdomName,primaryColor:v.primaryColor,slideKey:l,badge:e("explore.kingdom"),title:v.kingdomName,description:v.description,mainGroupsLabel:e("explore.mainGroups"),mainGroups:v.mainGroups.slice(0,3).map(b=>({groupName:b.groupName})),total:m,currentIndex:l,isPaused:d,stopPropagation:!0,onPrev:()=>c(b=>(b-1+m)%m),onNext:()=>c(b=>(b+1)%m),onDotClick:c,onTogglePause:()=>h(b=>!b)})},Bre=()=>{const e=Me(Ye.expandedNodes),t=Me(Ye.challenge),n=e.find(i=>i.rank==="SPECIES");return y.jsxs("div",{className:"flex flex-col",children:[y.jsx(dD,{}),!t.mode&&n?y.jsx($u,{}):y.jsxs(y.Fragment,{children:[y.jsx(C2,{}),!t.mode&&y.jsx(T2,{})]})]})};function Ure(e,t){const n=getComputedStyle(e),i=parseFloat(n.fontSize);return t*i}function Fre(e,t){const n=getComputedStyle(e.ownerDocument.body),i=parseFloat(n.fontSize);return t*i}function Vre(e){return e/100*window.innerHeight}function $re(e){return e/100*window.innerWidth}function Hre(e){switch(typeof e){case"number":return[e,"px"];case"string":{const t=parseFloat(e);return e.endsWith("%")?[t,"%"]:e.endsWith("px")?[t,"px"]:e.endsWith("rem")?[t,"rem"]:e.endsWith("em")?[t,"em"]:e.endsWith("vh")?[t,"vh"]:e.endsWith("vw")?[t,"vw"]:[t,"%"]}}}function fp({groupSize:e,panelElement:t,styleProp:n}){let i;const[s,o]=Hre(n);switch(o){case"%":{i=s/100*e;break}case"px":{i=s;break}case"rem":{i=Fre(t,s);break}case"em":{i=Ure(t,s);break}case"vh":{i=Vre(s);break}case"vw":{i=$re(s);break}}return i}function mr(e){return parseFloat(e.toFixed(3))}function Ou({group:e}){const{orientation:t,panels:n}=e;return n.reduce((i,s)=>(i+=t==="horizontal"?s.element.offsetWidth:s.element.offsetHeight,i),0)}function $x(e){const{panels:t}=e,n=Ou({group:e});return n===0?t.map(i=>({collapsedSize:0,collapsible:i.panelConstraints.collapsible===!0,defaultSize:void 0,disabled:i.panelConstraints.disabled,minSize:0,maxSize:100,panelId:i.id})):t.map(i=>{const{element:s,panelConstraints:o}=i;let l=0;if(o.collapsedSize!==void 0){const m=fp({groupSize:n,panelElement:s,styleProp:o.collapsedSize});l=mr(m/n*100)}let c;if(o.defaultSize!==void 0){const m=fp({groupSize:n,panelElement:s,styleProp:o.defaultSize});c=mr(m/n*100)}let d=0;if(o.minSize!==void 0){const m=fp({groupSize:n,panelElement:s,styleProp:o.minSize});d=mr(m/n*100)}let h=100;if(o.maxSize!==void 0){const m=fp({groupSize:n,panelElement:s,styleProp:o.maxSize});h=mr(m/n*100)}return{collapsedSize:l,collapsible:o.collapsible===!0,defaultSize:c,disabled:o.disabled,minSize:d,maxSize:h,panelId:i.id}})}function $t(e,t="Assertion error"){if(!e)throw Error(t)}function Hx(e,t){return Array.from(t).sort(e==="horizontal"?qre:Gre)}function qre(e,t){const n=e.element.offsetLeft-t.element.offsetLeft;return n!==0?n:e.element.offsetWidth-t.element.offsetWidth}function Gre(e,t){const n=e.element.offsetTop-t.element.offsetTop;return n!==0?n:e.element.offsetHeight-t.element.offsetHeight}function R2(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}function N2(e,t){return{x:e.x>=t.left&&e.x<=t.right?0:Math.min(Math.abs(e.x-t.left),Math.abs(e.x-t.right)),y:e.y>=t.top&&e.y<=t.bottom?0:Math.min(Math.abs(e.y-t.top),Math.abs(e.y-t.bottom))}}function Kre({orientation:e,rects:t,targetRect:n}){const i={x:n.x+n.width/2,y:n.y+n.height/2};let s,o=Number.MAX_VALUE;for(const l of t){const{x:c,y:d}=N2(i,l),h=e==="horizontal"?c:d;h<o&&(o=h,s=l)}return $t(s,"No rect found"),s}let hp;function Wre(){return hp===void 0&&(typeof matchMedia=="function"?hp=!!matchMedia("(pointer:coarse)").matches:hp=!1),hp}function k2(e){const{element:t,orientation:n,panels:i,separators:s}=e,o=Hx(n,Array.from(t.children).filter(R2).map(C=>({element:C}))).map(({element:C})=>C),l=[];let c=!1,d=!1,h=-1,m=-1,v=0,b,_=[];{let C=-1;for(const E of o)E.hasAttribute("data-panel")&&(C++,E.ariaDisabled===null&&(v++,h===-1&&(h=C),m=C))}if(v>1){let C=-1;for(const E of o)if(E.hasAttribute("data-panel")){C++;const T=i.find(k=>k.element===E);if(T){if(b){const k=b.element.getBoundingClientRect(),N=E.getBoundingClientRect();let P;if(d){const O=n==="horizontal"?new DOMRect(k.right,k.top,0,k.height):new DOMRect(k.left,k.bottom,k.width,0),j=n==="horizontal"?new DOMRect(N.left,N.top,0,N.height):new DOMRect(N.left,N.top,N.width,0);switch(_.length){case 0:{P=[O,j];break}case 1:{const V=_[0],z=Kre({orientation:n,rects:[k,N],targetRect:V.element.getBoundingClientRect()});P=[V,z===k?j:O];break}default:{P=_;break}}}else _.length?P=_:P=[n==="horizontal"?new DOMRect(k.right,N.top,N.left-k.right,N.height):new DOMRect(N.left,k.bottom,N.width,N.top-k.bottom)];for(const O of P){let j="width"in O?O:O.element.getBoundingClientRect();const V=Wre()?e.resizeTargetMinimumSize.coarse:e.resizeTargetMinimumSize.fine;if(j.width<V){const I=V-j.width;j=new DOMRect(j.x-I/2,j.y,j.width+I,j.height)}if(j.height<V){const I=V-j.height;j=new DOMRect(j.x,j.y-I/2,j.width,j.height+I)}const z=C<=h||C>m;!c&&!z&&l.push({group:e,groupSize:Ou({group:e}),panels:[b,T],separator:"width"in O?void 0:O,rect:j}),c=!1}}d=!1,b=T,_=[]}}else if(E.hasAttribute("data-separator")){E.ariaDisabled!==null&&(c=!0);const T=s.find(k=>k.element===E);T?_.push(T):(b=void 0,_=[])}else d=!0}return l}class Yre{#e={};addListener(t,n){const i=this.#e[t];return i===void 0?this.#e[t]=[n]:i.includes(n)||i.push(n),()=>{this.removeListener(t,n)}}emit(t,n){const i=this.#e[t];if(i!==void 0)if(i.length===1)i[0].call(null,n);else{let s=!1,o=null;const l=Array.from(i);for(let c=0;c<l.length;c++){const d=l[c];try{d.call(null,n)}catch(h){o===null&&(s=!0,o=h)}}if(s)throw o}}removeAllListeners(){this.#e={}}removeListener(t,n){const i=this.#e[t];if(i!==void 0){const s=i.indexOf(n);s>=0&&i.splice(s,1)}}}function Mi(e,t,n=0){return Math.abs(mr(e)-mr(t))<=n}let js={cursorFlags:0,interactionState:{state:"inactive"},mountedGroups:new Map};const Oo=new Yre;function Ii(){return js}function zi(e){const t=typeof e=="function"?e(js):e;if(js===t)return js;const n=js;return js={...js,...t},t.cursorFlags!==void 0&&Oo.emit("cursorFlagsChange",js.cursorFlags),t.interactionState!==void 0&&Oo.emit("interactionStateChange",js.interactionState),t.mountedGroups!==void 0&&(js.mountedGroups.forEach((i,s)=>{i.derivedPanelConstraints.forEach(o=>{if(o.collapsible){const{layout:l}=n.mountedGroups.get(s)??{};if(l){const c=Mi(o.collapsedSize,i.layout[o.panelId]),d=Mi(o.collapsedSize,l[o.panelId]);c&&!d&&(s.inMemoryLastExpandedPanelSizes[o.panelId]=l[o.panelId])}}})}),Oo.emit("mountedGroupsChange",js.mountedGroups)),js}function Zre(e,t,n){let i,s={x:1/0,y:1/0};for(const o of t){const l=N2(n,o.rect);switch(e){case"horizontal":{l.x<=s.x&&(i=o,s=l);break}case"vertical":{l.y<=s.y&&(i=o,s=l);break}}}return i?{distance:s,hitRegion:i}:void 0}function Xre(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}function Qre(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:lN(e),b:lN(t)};let i;for(;n.a.at(-1)===n.b.at(-1);)i=n.a.pop(),n.b.pop();$t(i,"Stacking order can only be calculated for elements with a common ancestor");const s={a:aN(oN(n.a)),b:aN(oN(n.b))};if(s.a===s.b){const o=i.childNodes,l={a:n.a.at(-1),b:n.b.at(-1)};let c=o.length;for(;c--;){const d=o[c];if(d===l.a)return 1;if(d===l.b)return-1}}return Math.sign(s.a-s.b)}const Jre=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function eoe(e){const t=getComputedStyle(P2(e)??e).display;return t==="flex"||t==="inline-flex"}function toe(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||eoe(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||Jre.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function oN(e){let t=e.length;for(;t--;){const n=e[t];if($t(n,"Missing node"),toe(n))return n}return null}function aN(e){return e&&Number(getComputedStyle(e).zIndex)||0}function lN(e){const t=[];for(;e;)t.push(e),e=P2(e);return t}function P2(e){const{parentNode:t}=e;return Xre(t)?t.host:t}function noe(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function ioe({groupElement:e,hitRegion:t,pointerEventTarget:n}){if(!R2(n)||n.contains(e)||e.contains(n))return!0;if(Qre(n,e)>0){let i=n;for(;i;){if(i.contains(e))return!0;if(noe(i.getBoundingClientRect(),t))return!1;i=i.parentElement}}return!0}function Ww(e,t){const n=[];return t.forEach((i,s)=>{if(s.disabled)return;const o=k2(s),l=Zre(s.orientation,o,{x:e.clientX,y:e.clientY});l&&l.distance.x<=0&&l.distance.y<=0&&ioe({groupElement:s.element,hitRegion:l.hitRegion.rect,pointerEventTarget:e.target})&&n.push(l.hitRegion)}),n}function soe(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function Vr(e,t){return Mi(e,t)?0:e>t?1:-1}function gu({overrideDisabledPanels:e,panelConstraints:t,prevSize:n,size:i}){const{collapsedSize:s=0,collapsible:o,disabled:l,maxSize:c=100,minSize:d=0}=t;if(l&&!e)return n;if(Vr(i,d)<0)if(o){const h=(s+d)/2;Vr(i,h)<0?i=s:i=d}else i=d;return i=Math.min(c,i),i=mr(i),i}function Vf({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:i,prevLayout:s,trigger:o}){if(Mi(e,0))return t;const l=o==="imperative-api",c=Object.values(t),d=Object.values(s),h=[...c],[m,v]=i;$t(m!=null,"Invalid first pivot index"),$t(v!=null,"Invalid second pivot index");let b=0;switch(o){case"keyboard":{{const E=e<0?v:m,T=n[E];$t(T,`Panel constraints not found for index ${E}`);const{collapsedSize:k=0,collapsible:N,minSize:P=0}=T;if(N){const O=c[E];if($t(O!=null,`Previous layout not found for panel index ${E}`),Mi(O,k)){const j=P-O;Vr(j,Math.abs(e))>0&&(e=e<0?0-j:j)}}}{const E=e<0?m:v,T=n[E];$t(T,`No panel constraints found for index ${E}`);const{collapsedSize:k=0,collapsible:N,minSize:P=0}=T;if(N){const O=c[E];if($t(O!=null,`Previous layout not found for panel index ${E}`),Mi(O,P)){const j=O-k;Vr(j,Math.abs(e))>0&&(e=e<0?0-j:j)}}}break}default:{const E=e<0?v:m,T=n[E];$t(T,`Panel constraints not found for index ${E}`);const k=c[E],{collapsible:N,collapsedSize:P,minSize:O}=T;if(N&&Vr(k,O)<0)if(e>0){const j=O-P,V=j/2,z=k+e;Vr(z,O)<0&&(e=Vr(e,V)<=0?0:j)}else{const j=O-P,V=100-j/2,z=k-e;Vr(z,O)<0&&(e=Vr(100+e,V)>0?0:-j)}break}}{const E=e<0?1:-1;let T=e<0?v:m,k=0;for(;;){const P=c[T];$t(P!=null,`Previous layout not found for panel index ${T}`);const O=gu({overrideDisabledPanels:l,panelConstraints:n[T],prevSize:P,size:100})-P;if(k+=O,T+=E,T<0||T>=n.length)break}const N=Math.min(Math.abs(e),Math.abs(k));e=e<0?0-N:N}{let E=e<0?m:v;for(;E>=0&&E<n.length;){const T=Math.abs(e)-Math.abs(b),k=c[E];$t(k!=null,`Previous layout not found for panel index ${E}`);const N=k-T,P=gu({overrideDisabledPanels:l,panelConstraints:n[E],prevSize:k,size:N});if(!Mi(k,P)&&(b+=k-P,h[E]=P,b.toFixed(3).localeCompare(Math.abs(e).toFixed(3),void 0,{numeric:!0})>=0))break;e<0?E--:E++}}if(soe(d,h))return s;{const E=e<0?v:m,T=c[E];$t(T!=null,`Previous layout not found for panel index ${E}`);const k=T+b,N=gu({overrideDisabledPanels:l,panelConstraints:n[E],prevSize:T,size:k});if(h[E]=N,!Mi(N,k)){let P=k-N,O=e<0?v:m;for(;O>=0&&O<n.length;){const j=h[O];$t(j!=null,`Previous layout not found for panel index ${O}`);const V=j+P,z=gu({overrideDisabledPanels:l,panelConstraints:n[O],prevSize:j,size:V});if(Mi(j,z)||(P-=z-j,h[O]=z),Mi(P,0))break;e>0?O--:O++}}}const _=Object.values(h).reduce((E,T)=>T+E,0);if(!Mi(_,100,.1))return s;const C=Object.keys(s);return h.reduce((E,T,k)=>(E[C[k]]=T,E),{})}function ec(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(t[n]===void 0||Vr(e[n],t[n])!==0)return!1;return!0}function tc({layout:e,panelConstraints:t}){const n=Object.values(e),i=[...n],s=i.reduce((c,d)=>c+d,0);if(i.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${i.map(c=>`${c}%`).join(", ")}`);if(!Mi(s,100)&&i.length>0)for(let c=0;c<t.length;c++){const d=i[c];$t(d!=null,`No layout data found for index ${c}`);const h=100/s*d;i[c]=h}let o=0;for(let c=0;c<t.length;c++){const d=n[c];$t(d!=null,`No layout data found for index ${c}`);const h=i[c];$t(h!=null,`No layout data found for index ${c}`);const m=gu({overrideDisabledPanels:!0,panelConstraints:t[c],prevSize:d,size:h});h!=m&&(o+=h-m,i[c]=m)}if(!Mi(o,0))for(let c=0;c<t.length;c++){const d=i[c];$t(d!=null,`No layout data found for index ${c}`);const h=d+o,m=gu({overrideDisabledPanels:!0,panelConstraints:t[c],prevSize:d,size:h});if(d!==m&&(o-=m-d,i[c]=m,Mi(o,0)))break}const l=Object.keys(e);return i.reduce((c,d,h)=>(c[l[h]]=d,c),{})}function O2({groupId:e,panelId:t}){const n=()=>{const{mountedGroups:c}=Ii();for(const[d,{defaultLayoutDeferred:h,derivedPanelConstraints:m,layout:v,separatorToPanels:b}]of c)if(d.id===e)return{defaultLayoutDeferred:h,derivedPanelConstraints:m,group:d,layout:v,separatorToPanels:b};throw Error(`Group ${e} not found`)},i=()=>{const c=n().derivedPanelConstraints.find(d=>d.panelId===t);if(c!==void 0)return c;throw Error(`Panel constraints not found for Panel ${t}`)},s=()=>{const c=n().group.panels.find(d=>d.id===t);if(c!==void 0)return c;throw Error(`Layout not found for Panel ${t}`)},o=()=>{const c=n().layout[t];if(c!==void 0)return c;throw Error(`Layout not found for Panel ${t}`)},l=c=>{const d=o();if(c===d)return;const{defaultLayoutDeferred:h,derivedPanelConstraints:m,group:v,layout:b,separatorToPanels:_}=n(),C=v.panels.findIndex(N=>N.id===t),E=C===v.panels.length-1,T=Vf({delta:E?d-c:c-d,initialLayout:b,panelConstraints:m,pivotIndices:E?[C-1,C]:[C,C+1],prevLayout:b,trigger:"imperative-api"}),k=tc({layout:T,panelConstraints:m});ec(b,k)||zi(N=>({mountedGroups:new Map(N.mountedGroups).set(v,{defaultLayoutDeferred:h,derivedPanelConstraints:m,layout:k,separatorToPanels:_})}))};return{collapse:()=>{const{collapsible:c,collapsedSize:d}=i(),{mutableValues:h}=s(),m=o();c&&m!==d&&(h.expandToSize=m,l(d))},expand:()=>{const{collapsible:c,collapsedSize:d,minSize:h}=i(),{mutableValues:m}=s(),v=o();if(c&&v===d){let b=m.expandToSize??h;b===0&&(b=1),l(b)}},getSize:()=>{const{group:c}=n(),d=o(),{element:h}=s(),m=c.orientation==="horizontal"?h.offsetWidth:h.offsetHeight;return{asPercentage:d,inPixels:m}},isCollapsed:()=>{const{collapsible:c,collapsedSize:d}=i(),h=o();return c&&Mi(d,h)},resize:c=>{if(o()!==c){let d;switch(typeof c){case"number":{const{group:h}=n(),m=Ou({group:h});d=mr(c/m*100);break}case"string":{d=parseFloat(c);break}}l(d)}}}}function cN(e){if(e.defaultPrevented)return;const{mountedGroups:t}=Ii();Ww(e,t).forEach(n=>{if(n.separator){const i=n.panels.find(s=>s.panelConstraints.defaultSize!==void 0);if(i){const s=i.panelConstraints.defaultSize,o=O2({groupId:n.group.id,panelId:i.id});o&&s!==void 0&&(o.resize(s),e.preventDefault())}}})}function Pp(e){const{mountedGroups:t}=Ii();for(const[n]of t)if(n.separators.some(i=>i.element===e))return n;throw Error("Could not find parent Group for separator element")}function M2({groupId:e}){const t=()=>{const{mountedGroups:n}=Ii();for(const[i,s]of n)if(i.id===e)return{group:i,...s};throw Error(`Could not find Group with id "${e}"`)};return{getLayout(){const{defaultLayoutDeferred:n,layout:i}=t();return n?{}:i},setLayout(n){const{defaultLayoutDeferred:i,derivedPanelConstraints:s,group:o,layout:l,separatorToPanels:c}=t(),d=tc({layout:n,panelConstraints:s});return i?l:(ec(l,d)||zi(h=>({mountedGroups:new Map(h.mountedGroups).set(o,{defaultLayoutDeferred:i,derivedPanelConstraints:s,layout:d,separatorToPanels:c})})),d)}}}function D2(e){const{mountedGroups:t}=Ii(),n=t.get(e);return $t(n,`Mounted Group ${e.id} not found`),n}function Ol(e,t){const n=Pp(e),i=D2(n),s=n.separators.find(m=>m.element===e);$t(s,"Matching separator not found");const o=i.separatorToPanels.get(s);$t(o,"Matching panels not found");const l=o.map(m=>n.panels.indexOf(m)),c=M2({groupId:n.id}).getLayout(),d=Vf({delta:t,initialLayout:c,panelConstraints:i.derivedPanelConstraints,pivotIndices:l,prevLayout:c,trigger:"keyboard"}),h=tc({layout:d,panelConstraints:i.derivedPanelConstraints});ec(c,h)||zi(m=>({mountedGroups:new Map(m.mountedGroups).set(n,{defaultLayoutDeferred:i.defaultLayoutDeferred,derivedPanelConstraints:i.derivedPanelConstraints,layout:h,separatorToPanels:i.separatorToPanels})}))}function uN(e){if(e.defaultPrevented)return;const t=e.currentTarget,n=Pp(t);if(!n.disabled)switch(e.key){case"ArrowDown":{e.preventDefault(),n.orientation==="vertical"&&Ol(t,5);break}case"ArrowLeft":{e.preventDefault(),n.orientation==="horizontal"&&Ol(t,-5);break}case"ArrowRight":{e.preventDefault(),n.orientation==="horizontal"&&Ol(t,5);break}case"ArrowUp":{e.preventDefault(),n.orientation==="vertical"&&Ol(t,-5);break}case"End":{e.preventDefault(),Ol(t,100);break}case"Enter":{e.preventDefault();const i=Pp(t),{derivedPanelConstraints:s,layout:o,separatorToPanels:l}=D2(i),c=i.separators.find(v=>v.element===t);$t(c,"Matching separator not found");const d=l.get(c);$t(d,"Matching panels not found");const h=d[0],m=s.find(v=>v.panelId===h.id);if($t(m,"Panel metadata not found"),m.collapsible){const v=o[h.id],b=m.collapsedSize===v?i.inMemoryLastExpandedPanelSizes[h.id]??m.minSize:m.collapsedSize;Ol(t,b-v)}break}case"F6":{e.preventDefault();const i=Pp(t).separators.map(l=>l.element),s=Array.from(i).findIndex(l=>l===e.currentTarget);$t(s!==null,"Index not found");const o=e.shiftKey?s>0?s-1:i.length-1:s+1<i.length?s+1:0;i[o].focus();break}case"Home":{e.preventDefault(),Ol(t,-100);break}}}function dN(e){if(e.defaultPrevented||e.pointerType==="mouse"&&e.button>0)return;const{mountedGroups:t}=Ii(),n=Ww(e,t),i=new Map;let s=!1;n.forEach(o=>{o.separator&&(s||(s=!0,o.separator.element.focus()));const l=t.get(o.group);l&&i.set(o.group,l.layout)}),zi({interactionState:{hitRegions:n,initialLayoutMap:i,pointerDownAtPoint:{x:e.clientX,y:e.clientY},state:"active"}}),n.length&&e.preventDefault()}const roe=e=>e,f0=()=>{},L2=1,j2=2,I2=4,z2=8,fN=3,hN=12;let mp;function mN(){return mp===void 0&&(mp=!1,typeof window<"u"&&(window.navigator.userAgent.includes("Chrome")||window.navigator.userAgent.includes("Firefox"))&&(mp=!0)),mp}function ooe({cursorFlags:e,groups:t,state:n}){let i=0,s=0;switch(n){case"active":case"hover":t.forEach(o=>{if(!o.disableCursor)switch(o.orientation){case"horizontal":{i++;break}case"vertical":{s++;break}}})}if(!(i===0&&s===0)){switch(n){case"active":{if(e&&mN()){const o=(e&L2)!==0,l=(e&j2)!==0,c=(e&I2)!==0,d=(e&z2)!==0;if(o)return c?"se-resize":d?"ne-resize":"e-resize";if(l)return c?"sw-resize":d?"nw-resize":"w-resize";if(c)return"s-resize";if(d)return"n-resize"}break}}return mN()?i>0&&s>0?"move":i>0?"ew-resize":"ns-resize":i>0&&s>0?"grab":i>0?"col-resize":"row-resize"}}const pN=new WeakMap;function Yw(e){if(e.defaultView===null||e.defaultView===void 0)return;let{prevStyle:t,styleSheet:n}=pN.get(e)??{};n===void 0&&(n=new e.defaultView.CSSStyleSheet,e.adoptedStyleSheets&&e.adoptedStyleSheets.push(n));const{cursorFlags:i,interactionState:s}=Ii();switch(s.state){case"active":case"hover":{const o=ooe({cursorFlags:i,groups:s.hitRegions.map(c=>c.group),state:s.state}),l=`*, *:hover {cursor: ${o} !important; }`;if(t===l)return;t=l,o?n.cssRules.length===0?n.insertRule(l):n.replaceSync(l):n.cssRules.length===1&&n.deleteRule(0);break}case"inactive":{t=void 0,n.cssRules.length===1&&n.deleteRule(0);break}}pN.set(e,{prevStyle:t,styleSheet:n})}function B2({document:e,event:t,hitRegions:n,initialLayoutMap:i,mountedGroups:s,pointerDownAtPoint:o,prevCursorFlags:l}){let c=0;const d=new Map(s);n.forEach(m=>{const{group:v,groupSize:b}=m,{disableCursor:_,orientation:C,panels:E}=v;let T=0;o?C==="horizontal"?T=(t.clientX-o.x)/b*100:T=(t.clientY-o.y)/b*100:C==="horizontal"?T=t.clientX<0?-100:100:T=t.clientY<0?-100:100;const k=i.get(v),{defaultLayoutDeferred:N,derivedPanelConstraints:P,layout:O,separatorToPanels:j}=s.get(v)??{defaultLayoutDeferred:!1};if(P&&k&&O&&j){const V=Vf({delta:T,initialLayout:k,panelConstraints:P,pivotIndices:m.panels.map(z=>E.indexOf(z)),prevLayout:O,trigger:"mouse-or-touch"});if(ec(V,O)){if(T!==0&&!_)switch(C){case"horizontal":{c|=T<0?L2:j2;break}case"vertical":{c|=T<0?I2:z2;break}}}else d.set(m.group,{defaultLayoutDeferred:N,derivedPanelConstraints:P,layout:V,separatorToPanels:j})}});let h=0;t.movementX===0?h|=l&fN:h|=c&fN,t.movementY===0?h|=l&hN:h|=c&hN,zi({cursorFlags:h,mountedGroups:d}),Yw(e)}function gN(e){const{cursorFlags:t,interactionState:n,mountedGroups:i}=Ii();n.state==="active"&&B2({document:e.currentTarget,event:e,hitRegions:n.hitRegions,initialLayoutMap:n.initialLayoutMap,mountedGroups:i,prevCursorFlags:t})}function vN(e){if(e.defaultPrevented)return;const{cursorFlags:t,interactionState:n,mountedGroups:i}=Ii();switch(n.state){case"active":{if(e.buttons===0){zi(s=>s.interactionState.state==="inactive"?s:{cursorFlags:0,interactionState:{state:"inactive"}}),zi(s=>({mountedGroups:new Map(s.mountedGroups)}));return}B2({document:e.currentTarget,event:e,hitRegions:n.hitRegions,initialLayoutMap:n.initialLayoutMap,mountedGroups:i,pointerDownAtPoint:n.pointerDownAtPoint,prevCursorFlags:t});break}default:{const s=Ww(e,i);s.length===0?n.state!=="inactive"&&zi({interactionState:{state:"inactive"}}):zi({interactionState:{hitRegions:s,state:"hover"}}),Yw(e.currentTarget);break}}}function yN(e){if(e.relatedTarget instanceof HTMLIFrameElement){const{interactionState:t}=Ii();t.state==="hover"&&zi({interactionState:{state:"inactive"}})}}function bN(e){if(e.defaultPrevented||e.pointerType==="mouse"&&e.button>0)return;const{interactionState:t}=Ii();t.state==="active"&&(zi({cursorFlags:0,interactionState:{state:"inactive"}}),t.hitRegions.length>0&&(Yw(e.currentTarget),zi(n=>({mountedGroups:new Map(n.mountedGroups)})),e.preventDefault()))}function xN(e){let t=0,n=0;const i={};for(const o of e)if(o.defaultSize!==void 0){t++;const l=mr(o.defaultSize);n+=l,i[o.panelId]=l}else i[o.panelId]=void 0;const s=e.length-t;if(s!==0){const o=mr((100-n)/s);for(const l of e)l.defaultSize===void 0&&(i[l.panelId]=o)}return i}function aoe(e,t,n){if(!n[0])return;const i=e.panels.find(d=>d.element===t);if(!i||!i.onResize)return;const s=Ou({group:e}),o=e.orientation==="horizontal"?i.element.offsetWidth:i.element.offsetHeight,l=i.mutableValues.prevSize,c={asPercentage:mr(o/s*100),inPixels:o};i.mutableValues.prevSize=c,i.onResize(c,i.id,l)}function loe(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function coe(e,t){const n=e.map(s=>s.id),i=Object.keys(t);if(n.length!==i.length)return!1;for(const s of n)if(!i.includes(s))return!1;return!0}const su=new Map;function uoe(e){let t=!0;$t(e.element.ownerDocument.defaultView,"Cannot register an unmounted Group");const n=e.element.ownerDocument.defaultView.ResizeObserver,i=new Set,s=new Set,o=new n(C=>{for(const E of C){const{borderBoxSize:T,target:k}=E;if(k===e.element){if(t){if(Ou({group:e})===0)return;zi(N=>{const P=N.mountedGroups.get(e);if(P){const O=$x(e),j=P.defaultLayoutDeferred?xN(O):P.layout,V=tc({layout:j,panelConstraints:O});return!P.defaultLayoutDeferred&&ec(j,V)&&loe(P.derivedPanelConstraints,O)?N:{mountedGroups:new Map(N.mountedGroups).set(e,{defaultLayoutDeferred:!1,derivedPanelConstraints:O,layout:V,separatorToPanels:P.separatorToPanels})}}return N})}}else aoe(e,k,T)}});o.observe(e.element),e.panels.forEach(C=>{$t(!i.has(C.id),`Panel ids must be unique; id "${C.id}" was used more than once`),i.add(C.id),C.onResize&&o.observe(C.element)});const l=Ou({group:e}),c=$x(e),d=e.panels.map(({id:C})=>C).join(",");let h=e.defaultLayout;h&&(coe(e.panels,h)||(h=void 0));const m=e.inMemoryLayouts[d]??h??xN(c),v=tc({layout:m,panelConstraints:c}),b=k2(e),_=e.element.ownerDocument;return zi(C=>{const E=new Map;return su.set(_,(su.get(_)??0)+1),b.forEach(T=>{T.separator&&E.set(T.separator,T.panels)}),{mountedGroups:new Map(C.mountedGroups).set(e,{defaultLayoutDeferred:l===0,derivedPanelConstraints:c,layout:v,separatorToPanels:E})}}),e.separators.forEach(C=>{$t(!s.has(C.id),`Separator ids must be unique; id "${C.id}" was used more than once`),s.add(C.id),C.element.addEventListener("keydown",uN)}),su.get(_)===1&&(_.addEventListener("dblclick",cN,!0),_.addEventListener("pointerdown",dN,!0),_.addEventListener("pointerleave",gN),_.addEventListener("pointermove",vN),_.addEventListener("pointerout",yN),_.addEventListener("pointerup",bN,!0)),function(){t=!1,su.set(_,Math.max(0,(su.get(_)??0)-1)),zi(C=>{const E=new Map(C.mountedGroups);return E.delete(e),{mountedGroups:E}}),e.separators.forEach(C=>{C.element.removeEventListener("keydown",uN)}),su.get(_)||(_.removeEventListener("dblclick",cN,!0),_.removeEventListener("pointerdown",dN,!0),_.removeEventListener("pointerleave",gN),_.removeEventListener("pointermove",vN),_.removeEventListener("pointerout",yN),_.removeEventListener("pointerup",bN,!0)),o.disconnect()}}function doe(){const[e,t]=x.useState({}),n=x.useCallback(()=>t({}),[]);return[e,n]}function Zw(e){const t=x.useId();return`${e??t}`}const rc=typeof window<"u"?x.useLayoutEffect:x.useEffect;function vf(e){const t=x.useRef(e);return rc(()=>{t.current=e},[e]),x.useCallback((...n)=>t.current?.(...n),[t])}function Xw(...e){return vf(t=>{e.forEach(n=>{if(n)switch(typeof n){case"function":{n(t);break}case"object":{n.current=t;break}}})})}function Qw(e){const t=x.useRef({...e});return rc(()=>{for(const n in e)t.current[n]=e[n]},[e]),t.current}const U2=x.createContext(null);function foe(e,t){const n=x.useRef({getLayout:()=>({}),setLayout:roe});x.useImperativeHandle(t,()=>n.current,[]),rc(()=>{Object.assign(n.current,M2({groupId:e}))})}function F2({children:e,className:t,defaultLayout:n,disableCursor:i,disabled:s,elementRef:o,groupRef:l,id:c,onLayoutChange:d,onLayoutChanged:h,orientation:m="horizontal",resizeTargetMinimumSize:v={coarse:20,fine:10},style:b,..._}){const C=x.useRef({onLayoutChange:{},onLayoutChanged:{}}),E=vf(K=>{ec(C.current.onLayoutChange,K)||(C.current.onLayoutChange=K,d?.(K))}),T=vf(K=>{ec(C.current.onLayoutChanged,K)||(C.current.onLayoutChanged=K,h?.(K))}),k=Zw(c),N=x.useRef(null),[P,O]=doe(),j=x.useRef({lastExpandedPanelSizes:{},layouts:{},panels:[],resizeTargetMinimumSize:v,separators:[]}),V=Xw(N,o);foe(k,l);const z=vf((K,Y)=>{const{interactionState:Q,mountedGroups:ie}=Ii();for(const ge of ie.keys())if(ge.id===K){const q=ie.get(ge);if(q){let W=!1;return Q.state==="active"&&(W=Q.hitRegions.some(ee=>ee.group===ge)),{flexGrow:q.layout[Y]??1,pointerEvents:W?"none":void 0}}}return{flexGrow:n?.[Y]??1}}),I=Qw({defaultLayout:n,disableCursor:i}),$=x.useMemo(()=>({get disableCursor(){return!!I.disableCursor},getPanelStyles:z,id:k,orientation:m,registerPanel:K=>{const Y=j.current;return Y.panels=Hx(m,[...Y.panels,K]),O(),()=>{Y.panels=Y.panels.filter(Q=>Q!==K),O()}},registerSeparator:K=>{const Y=j.current;return Y.separators=Hx(m,[...Y.separators,K]),O(),()=>{Y.separators=Y.separators.filter(Q=>Q!==K),O()}},togglePanelDisabled:(K,Y)=>{const Q=j.current.panels.find(ge=>ge.id===K);Q&&(Q.panelConstraints.disabled=Y);const{mountedGroups:ie}=Ii();for(const ge of ie.keys())if(ge.id===k){const q=ie.get(ge);q&&(q.derivedPanelConstraints=$x(ge))}},toggleSeparatorDisabled:(K,Y)=>{const Q=j.current.separators.find(ie=>ie.id===K);Q&&(Q.disabled=Y)}}),[z,k,O,m,I]),Z=x.useRef(null);return rc(()=>{const K=N.current;if(K===null)return;const Y=j.current;let Q;if(I.defaultLayout!==void 0&&Object.keys(I.defaultLayout).length===Y.panels.length){Q={};for(const de of Y.panels){const ae=I.defaultLayout[de.id];ae!==void 0&&(Q[de.id]=ae)}}const ie={defaultLayout:Q,disableCursor:!!I.disableCursor,disabled:!!s,element:K,id:k,inMemoryLastExpandedPanelSizes:j.current.lastExpandedPanelSizes,inMemoryLayouts:j.current.layouts,orientation:m,panels:Y.panels,resizeTargetMinimumSize:Y.resizeTargetMinimumSize,separators:Y.separators};Z.current=ie;const ge=uoe(ie),q=Ii().mountedGroups.get(ie);if(q){const{defaultLayoutDeferred:de,derivedPanelConstraints:ae,layout:G}=q;!de&&ae.length>0&&(E(G),T(G))}const W=Oo.addListener("interactionStateChange",de=>{de.state}),ee=Oo.addListener("mountedGroupsChange",de=>{const ae=de.get(ie);if(ae){const{defaultLayoutDeferred:G,derivedPanelConstraints:oe,layout:be}=ae;if(G||oe.length===0)return;const xe=ie.panels.map(({id:we})=>we).join(",");ie.inMemoryLayouts[xe]=be;const{interactionState:Re}=Ii(),Se=Re.state!=="active";E(be),Se&&T(be)}});return()=>{Z.current=null,ge(),W(),ee()}},[s,k,T,E,m,P,I]),x.useEffect(()=>{const K=Z.current;K&&(K.defaultLayout=n,K.disableCursor=!!i)}),y.jsx(U2.Provider,{value:$,children:y.jsx("div",{..._,className:t,"data-group":!0,"data-testid":k,id:k,ref:V,style:{height:"100%",width:"100%",overflow:"hidden",...b,display:"flex",flexDirection:m==="horizontal"?"row":"column",flexWrap:"nowrap",touchAction:m==="horizontal"?"pan-y":"pan-x"},children:e})})}F2.displayName="Group";function Jw(){const e=x.useContext(U2);return $t(e,"Group Context not found; did you render a Panel or Separator outside of a Group?"),e}function hoe(e,t){const{id:n}=Jw(),i=x.useRef({collapse:f0,expand:f0,getSize:()=>({asPercentage:0,inPixels:0}),isCollapsed:()=>!1,resize:f0});x.useImperativeHandle(t,()=>i.current,[]),rc(()=>{Object.assign(i.current,O2({groupId:n,panelId:e}))})}function V2({children:e,className:t,collapsedSize:n="0%",collapsible:i=!1,defaultSize:s,disabled:o,elementRef:l,id:c,maxSize:d="100%",minSize:h="0%",onResize:m,panelRef:v,style:b,..._}){const C=!!c,E=Zw(c),T=Qw({disabled:o}),k=x.useRef(null),N=Xw(k,l),{getPanelStyles:P,id:O,orientation:j,registerPanel:V,togglePanelDisabled:z}=Jw(),I=m!==null,$=vf((K,Y,Q)=>{m?.(K,c,Q)});rc(()=>{const K=k.current;if(K!==null){const Y={element:K,id:E,idIsStable:C,mutableValues:{expandToSize:void 0,prevSize:void 0},onResize:I?$:void 0,panelConstraints:{collapsedSize:n,collapsible:i,defaultSize:s,disabled:T.disabled,maxSize:d,minSize:h}};return V(Y)}},[n,i,s,I,E,C,d,h,$,V,T]),x.useEffect(()=>{z(E,!!o)},[o,E,z]),hoe(E,v);const Z=x.useSyncExternalStore(K=>(Oo.addListener("mountedGroupsChange",K),()=>{Oo.removeListener("mountedGroupsChange",K)}),()=>JSON.stringify(P(O,E)),()=>JSON.stringify(P(O,E)));return y.jsx("div",{..._,"aria-disabled":o||void 0,"data-panel":!0,"data-testid":E,id:E,ref:N,style:{...moe,display:"flex",flexBasis:0,flexShrink:1,overflow:"hidden",...JSON.parse(Z)},children:y.jsx("div",{className:t,style:{maxHeight:"100%",maxWidth:"100%",flexGrow:1,...b,touchAction:j==="horizontal"?"pan-y":"pan-x"},children:e})})}V2.displayName="Panel";const moe={minHeight:0,maxHeight:"100%",height:"auto",minWidth:0,maxWidth:"100%",width:"auto",border:"none",borderWidth:0,padding:0,margin:0};function poe({layout:e,panelConstraints:t,panelId:n,panelIndex:i}){let s,o;const l=e[n],c=t.find(d=>d.panelId===n);if(c){const d=c.maxSize,h=c.collapsible?c.collapsedSize:c.minSize,m=[i,i+1];o=tc({layout:Vf({delta:h-l,initialLayout:e,panelConstraints:t,pivotIndices:m,prevLayout:e}),panelConstraints:t})[n],s=tc({layout:Vf({delta:d-l,initialLayout:e,panelConstraints:t,pivotIndices:m,prevLayout:e}),panelConstraints:t})[n]}return{valueControls:n,valueMax:s,valueMin:o,valueNow:l}}function $2({children:e,className:t,disabled:n,elementRef:i,id:s,style:o,...l}){const c=Zw(s),d=Qw({disabled:n}),[h,m]=x.useState({}),[v,b]=x.useState("inactive"),_=x.useRef(null),C=Xw(_,i),{disableCursor:E,id:T,orientation:k,registerSeparator:N,toggleSeparatorDisabled:P}=Jw(),O=k==="horizontal"?"vertical":"horizontal";rc(()=>{const V=_.current;if(V!==null){const z={disabled:d.disabled,element:V,id:c},I=N(z),$=Oo.addListener("interactionStateChange",K=>{b(K.state!=="inactive"&&K.hitRegions.some(Y=>Y.separator===z)?K.state:"inactive")}),Z=Oo.addListener("mountedGroupsChange",K=>{K.forEach(({derivedPanelConstraints:Y,layout:Q,separatorToPanels:ie},ge)=>{if(ge.id===T){const q=ie.get(z);if(q){const W=q[0],ee=ge.panels.indexOf(W);m(poe({layout:Q,panelConstraints:Y,panelId:W.id,panelIndex:ee}))}}})});return()=>{$(),Z(),I()}}},[T,c,N,d]),x.useEffect(()=>{P(c,!!n)},[n,c,P]);let j;return n&&!E&&(j="not-allowed"),y.jsx("div",{...l,"aria-controls":h.valueControls,"aria-disabled":n||void 0,"aria-orientation":O,"aria-valuemax":h.valueMax,"aria-valuemin":h.valueMin,"aria-valuenow":h.valueNow,children:e,className:t,"data-separator":n?"disabled":v,"data-testid":c,id:c,ref:C,role:"separator",style:{flexBasis:"auto",cursor:j,...o,flexGrow:0,flexShrink:0,touchAction:"none"},tabIndex:n?void 0:0})}$2.displayName="Separator";function goe({className:e,...t}){return y.jsx(F2,{"data-slot":"resizable-panel-group",className:Ze("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t})}function _N({...e}){return y.jsx(V2,{"data-slot":"resizable-panel",...e})}function voe({withHandle:e,className:t,...n}){return y.jsx($2,{"data-slot":"resizable-handle",className:Ze("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...n,children:e&&y.jsx("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:y.jsx(KP,{className:"size-2.5"})})})}const yoe=()=>{const e=Me(Ye.expandedNodes),t=Me(Ye.challenge),n=e.find(i=>i.rank==="SPECIES");return y.jsxs(goe,{orientation:"horizontal",children:[y.jsxs(_N,{className:"relative",defaultSize:480,minSize:452,maxSize:855,children:[y.jsx(dD,{}),y.jsx(C2,{})]}),y.jsx(voe,{}),y.jsx(_N,{className:"flex w-full flex-col gap-4",children:y.jsxs("div",{className:"h-screen w-full overflow-auto",children:[t.mode&&y.jsx(S2,{}),!t.mode&&(n?y.jsx($u,{}):y.jsx(T2,{}))]})})]})},Ws=()=>{const{isTablet:e}=zo(),t=Mt(Ye.challenge),n=vr({from:"/challenges",shouldThrow:!1});return x.useEffect(()=>{n&&t({mode:"UNSET",status:"NOT_STARTED"})},[n,t]),e?y.jsx(Bre,{}):y.jsx(yoe,{})},boe=[{icon:O_,title:"Galeria de Espcies",description:"Organize e favorite suas espcies j descobertas",color:"text-green-600",bgColor:"bg-green-50"},{icon:tO,title:"Desafios Dirios",description:"Novos desafios todos os dias para testar seus conhecimentos",color:"text-orange-600",bgColor:"bg-orange-50"},{icon:X$,title:"Conquistas e Medalhas",description:"Desbloqueie conquistas especiais e mostre suas habilidades",color:"text-pink-600",bgColor:"bg-pink-50"},{icon:f6,title:"Ranking Global",description:"Compita com outros exploradores da taxonomia",color:"text-yellow-600",bgColor:"bg-yellow-50"},{icon:x6,title:"Salvar atalhos",description:"Defina ns mais visitados para agilizar sua navegao",color:"text-blue-600",bgColor:"bg-blue-50"},{icon:rH,title:"Acompanhe seu Progresso",description:"Veja suas estatsticas e evoluo ao longo do tempo",color:"text-purple-600",bgColor:"bg-purple-50"}],xoe=y.jsxs("svg",{className:"mr-3 size-5",viewBox:"0 0 24 24",children:[y.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),y.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),y.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),y.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),_oe=()=>{const{t:e}=At(),t=ws(),{login:n}=V_(),i=Me(rt.loginStatus)==="loading",s=Me(rt.error),o=Me(rt.isAuthenticated);x.useEffect(()=>{o&&t.navigate({to:"/profile"})},[o,t]);const l=async()=>{(await n("google")).success&&t.navigate({to:"/profile"})},c=()=>{window.history.length>1?window.history.back():t.navigate({to:"/"})};return y.jsx("main",{className:"flex min-h-screen items-center justify-center p-4",children:y.jsx("section",{className:"relative z-10 mx-auto w-full max-w-lg",children:y.jsxs(ph,{className:"border-0 shadow-xl",children:[y.jsxs(Wse,{className:"text-center",children:[y.jsx(Yse,{className:"text-2xl",children:e("welcome")}),y.jsx(Zse,{className:"text-sm leading-relaxed",children:e("auth.descriptionGoogle")})]}),y.jsxs(gh,{className:"space-y-6",children:[s&&y.jsxs("div",{className:"bg-accent rounded-lg p-3 text-sm text-red-600",children:[y.jsx("p",{className:"font-medium",children:e("auth.loginError")}),y.jsx("p",{className:"mt-1 text-xs",children:s?.message})]}),y.jsx(Wt,{onClick:l,disabled:i,className:"h-12 w-full border border-gray-300 text-base font-medium shadow-sm hover:bg-gray-50",variant:"outline",children:i?y.jsxs(y.Fragment,{children:[y.jsx(YP,{className:"mr-2 size-5 animate-spin"})," ",e("auth.signingIn")]}):y.jsxs(y.Fragment,{children:[xoe,e("auth.continueWithGoogle")]})}),y.jsxs("div",{className:"space-y-4 border-t pt-4",children:[y.jsx("div",{className:"text-center",children:y.jsx("p",{className:"text-sm text-gray-500",children:e("auth.exclusiveFeatures")})}),y.jsx("ul",{className:"grid h-48 grid-cols-1 overflow-auto 2xl:h-full",children:boe.map((d,h)=>{const m=d.icon;return y.jsxs("li",{className:"flex items-start space-x-3 rounded-lg px-2 py-3",children:[y.jsx("div",{className:`flex size-8 shrink-0 items-center justify-center rounded-full ${d.bgColor} ${d.color}`,children:y.jsx(m,{className:"size-4"})}),y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("h4",{className:`text-sm font-medium ${d.color}`,children:d.title}),y.jsx("p",{className:"text-xs text-gray-500",children:d.description})]})]},h)})})]})]}),y.jsxs("div",{className:"space-y-4 border-t border-border p-6 pb-1 text-muted-foreground",children:[y.jsx("p",{className:"text-center text-sm leading-relaxed",children:e("auth.continueWithoutLogin")}),y.jsxs(Wt,{className:"h-11 w-full border border-border font-medium transition-all duration-200",variant:"outline","aria-label":e("auth.backAriaLabel"),onClick:c,children:[y.jsx(Bg,{className:"mr-2 size-4","aria-hidden":"true"}),e("auth.back")]})]})]})})})},wN="/treevera/assets/avif-new-logo-CsHr8CWA.avif",woe=()=>{const{isMobile:e}=zo();return y.jsxs("div",{className:"relative",children:[y.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden","aria-hidden":"true",children:[!e&&y.jsx(ii,{src:wN,alt:"Logo",className:"absolute -top-16 -left-16 -z-50 w-64 max-w-3xl rotate-12 transform-gpu opacity-10 sm:w-80 md:w-96 lg:w-md xl:w-lg 2xl:w-full"}),y.jsx(ii,{src:wN,alt:"Logo",className:Ze("absolute -right-16 -bottom-16 -z-50 w-64 max-w-3xl scale-x-[-1] rotate-45 transform-gpu opacity-10 sm:w-80 md:w-96 lg:w-md xl:w-lg 2xl:w-full",e&&"fixed -right-6 bottom-50")})]}),y.jsx(ck,{})]})},h0=async(e,t)=>{try{const n=e.game_info.top_fav_species??[],i=t(n),{data:s,error:o}=await Dn.from("users").update({game_info:{...e.game_info,top_fav_species:i}}).eq("id",e.id).select().single();return o?(console.error("Error updating top_fav_species:",o),null):s}catch(n){return console.error("Unexpected error updating top_fav_species:",n),null}};function Soe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return x.useMemo(()=>i=>{t.forEach(s=>s(i))},t)}const cv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function qu(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function eS(e){return"nodeType"in e}function es(e){var t,n;return e?qu(e)?e:eS(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function tS(e){const{Document:t}=es(e);return e instanceof t}function yh(e){return qu(e)?!1:e instanceof es(e).HTMLElement}function H2(e){return e instanceof es(e).SVGElement}function Gu(e){return e?qu(e)?e.document:eS(e)?tS(e)?e:yh(e)||H2(e)?e.ownerDocument:document:document:document}const Xr=cv?x.useLayoutEffect:x.useEffect;function nS(e){const t=x.useRef(e);return Xr(()=>{t.current=e}),x.useCallback(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t.current==null?void 0:t.current(...i)},[])}function Coe(){const e=x.useRef(null),t=x.useCallback((i,s)=>{e.current=setInterval(i,s)},[]),n=x.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function $f(e,t){t===void 0&&(t=[e]);const n=x.useRef(e);return Xr(()=>{n.current!==e&&(n.current=e)},t),n}function bh(e,t){const n=x.useRef();return x.useMemo(()=>{const i=e(n.current);return n.current=i,i},[...t])}function yg(e){const t=nS(e),n=x.useRef(null),i=x.useCallback(s=>{s!==n.current&&t?.(s,n.current),n.current=s},[]);return[n,i]}function qx(e){const t=x.useRef();return x.useEffect(()=>{t.current=e},[e]),t.current}let m0={};function xh(e,t){return x.useMemo(()=>{if(t)return t;const n=m0[e]==null?0:m0[e]+1;return m0[e]=n,e+"-"+n},[e,t])}function q2(e){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return i.reduce((o,l)=>{const c=Object.entries(l);for(const[d,h]of c){const m=o[d];m!=null&&(o[d]=m+e*h)}return o},{...t})}}const Cu=q2(1),bg=q2(-1);function Eoe(e){return"clientX"in e&&"clientY"in e}function iS(e){if(!e)return!1;const{KeyboardEvent:t}=es(e.target);return t&&e instanceof t}function Aoe(e){if(!e)return!1;const{TouchEvent:t}=es(e.target);return t&&e instanceof t}function Gx(e){if(Aoe(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Eoe(e)?{x:e.clientX,y:e.clientY}:null}const Hf=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Hf.Translate.toString(e),Hf.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:i}=e;return t+" "+n+"ms "+i}}}),SN="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Toe(e){return e.matches(SN)?e:e.querySelector(SN)}const Roe={display:"none"};function Noe(e){let{id:t,value:n}=e;return Ot.createElement("div",{id:t,style:Roe},n)}function koe(e){let{id:t,announcement:n,ariaLiveType:i="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ot.createElement("div",{id:t,style:s,role:"status","aria-live":i,"aria-atomic":!0},n)}function Poe(){const[e,t]=x.useState("");return{announce:x.useCallback(i=>{i!=null&&t(i)},[]),announcement:e}}const G2=x.createContext(null);function Ooe(e){const t=x.useContext(G2);x.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Moe(){const[e]=x.useState(()=>new Set),t=x.useCallback(i=>(e.add(i),()=>e.delete(i)),[e]);return[x.useCallback(i=>{let{type:s,event:o}=i;e.forEach(l=>{var c;return(c=l[s])==null?void 0:c.call(l,o)})},[e]),t]}const Doe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Loe={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function joe(e){let{announcements:t=Loe,container:n,hiddenTextDescribedById:i,screenReaderInstructions:s=Doe}=e;const{announce:o,announcement:l}=Poe(),c=xh("DndLiveRegion"),[d,h]=x.useState(!1);if(x.useEffect(()=>{h(!0)},[]),Ooe(x.useMemo(()=>({onDragStart(v){let{active:b}=v;o(t.onDragStart({active:b}))},onDragMove(v){let{active:b,over:_}=v;t.onDragMove&&o(t.onDragMove({active:b,over:_}))},onDragOver(v){let{active:b,over:_}=v;o(t.onDragOver({active:b,over:_}))},onDragEnd(v){let{active:b,over:_}=v;o(t.onDragEnd({active:b,over:_}))},onDragCancel(v){let{active:b,over:_}=v;o(t.onDragCancel({active:b,over:_}))}}),[o,t])),!d)return null;const m=Ot.createElement(Ot.Fragment,null,Ot.createElement(Noe,{id:i,value:s.draggable}),Ot.createElement(koe,{id:c,announcement:l}));return n?Ji.createPortal(m,n):m}var Vn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Vn||(Vn={}));function xg(){}function CN(e,t){return x.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Ioe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return x.useMemo(()=>[...t].filter(i=>i!=null),[...t])}const xr=Object.freeze({x:0,y:0});function zoe(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Boe(e,t){let{data:{value:n}}=e,{data:{value:i}}=t;return n-i}function Uoe(e,t){let{data:{value:n}}=e,{data:{value:i}}=t;return i-n}function Foe(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function EN(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Voe=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:i}=e;const s=EN(t,t.left,t.top),o=[];for(const l of i){const{id:c}=l,d=n.get(c);if(d){const h=zoe(EN(d),s);o.push({id:c,data:{droppableContainer:l,value:h}})}}return o.sort(Boe)};function $oe(e,t){const n=Math.max(t.top,e.top),i=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),l=s-i,c=o-n;if(i<s&&n<o){const d=t.width*t.height,h=e.width*e.height,m=l*c,v=m/(d+h-m);return Number(v.toFixed(4))}return 0}const Hoe=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:i}=e;const s=[];for(const o of i){const{id:l}=o,c=n.get(l);if(c){const d=$oe(c,t);d>0&&s.push({id:l,data:{droppableContainer:o,value:d}})}}return s.sort(Uoe)};function qoe(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function K2(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:xr}function Goe(e){return function(n){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return s.reduce((l,c)=>({...l,top:l.top+e*c.y,bottom:l.bottom+e*c.y,left:l.left+e*c.x,right:l.right+e*c.x}),{...n})}}const Koe=Goe(1);function Woe(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Yoe(e,t,n){const i=Woe(t);if(!i)return e;const{scaleX:s,scaleY:o,x:l,y:c}=i,d=e.left-l-(1-s)*parseFloat(n),h=e.top-c-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),m=s?e.width/s:e.width,v=o?e.height/o:e.height;return{width:m,height:v,top:h,right:d+m,bottom:h+v,left:d}}const Zoe={ignoreTransform:!1};function Ku(e,t){t===void 0&&(t=Zoe);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:h,transformOrigin:m}=es(e).getComputedStyle(e);h&&(n=Yoe(n,h,m))}const{top:i,left:s,width:o,height:l,bottom:c,right:d}=n;return{top:i,left:s,width:o,height:l,bottom:c,right:d}}function AN(e){return Ku(e,{ignoreTransform:!0})}function Xoe(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Qoe(e,t){return t===void 0&&(t=es(e).getComputedStyle(e)),t.position==="fixed"}function Joe(e,t){t===void 0&&(t=es(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=t[s];return typeof o=="string"?n.test(o):!1})}function sS(e,t){const n=[];function i(s){if(t!=null&&n.length>=t||!s)return n;if(tS(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!yh(s)||H2(s)||n.includes(s))return n;const o=es(e).getComputedStyle(s);return s!==e&&Joe(s,o)&&n.push(s),Qoe(s,o)?n:i(s.parentNode)}return e?i(e):n}function W2(e){const[t]=sS(e,1);return t??null}function p0(e){return!cv||!e?null:qu(e)?e:eS(e)?tS(e)||e===Gu(e).scrollingElement?window:yh(e)?e:null:null}function Y2(e){return qu(e)?e.scrollX:e.scrollLeft}function Z2(e){return qu(e)?e.scrollY:e.scrollTop}function Kx(e){return{x:Y2(e),y:Z2(e)}}var ni;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(ni||(ni={}));function X2(e){return!cv||!e?!1:e===document.scrollingElement}function Q2(e){const t={x:0,y:0},n=X2(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,l=e.scrollTop>=i.y,c=e.scrollLeft>=i.x;return{isTop:s,isLeft:o,isBottom:l,isRight:c,maxScroll:i,minScroll:t}}const eae={x:.2,y:.2};function tae(e,t,n,i,s){let{top:o,left:l,right:c,bottom:d}=n;i===void 0&&(i=10),s===void 0&&(s=eae);const{isTop:h,isBottom:m,isLeft:v,isRight:b}=Q2(e),_={x:0,y:0},C={x:0,y:0},E={height:t.height*s.y,width:t.width*s.x};return!h&&o<=t.top+E.height?(_.y=ni.Backward,C.y=i*Math.abs((t.top+E.height-o)/E.height)):!m&&d>=t.bottom-E.height&&(_.y=ni.Forward,C.y=i*Math.abs((t.bottom-E.height-d)/E.height)),!b&&c>=t.right-E.width?(_.x=ni.Forward,C.x=i*Math.abs((t.right-E.width-c)/E.width)):!v&&l<=t.left+E.width&&(_.x=ni.Backward,C.x=i*Math.abs((t.left+E.width-l)/E.width)),{direction:_,speed:C}}function nae(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:l}=window;return{top:0,left:0,right:o,bottom:l,width:o,height:l}}const{top:t,left:n,right:i,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:i,bottom:s,width:e.clientWidth,height:e.clientHeight}}function J2(e){return e.reduce((t,n)=>Cu(t,Kx(n)),xr)}function iae(e){return e.reduce((t,n)=>t+Y2(n),0)}function sae(e){return e.reduce((t,n)=>t+Z2(n),0)}function rae(e,t){if(t===void 0&&(t=Ku),!e)return;const{top:n,left:i,bottom:s,right:o}=t(e);W2(e)&&(s<=0||o<=0||n>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const oae=[["x",["left","right"],iae],["y",["top","bottom"],sae]];class rS{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=sS(n),s=J2(i);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,l,c]of oae)for(const d of l)Object.defineProperty(this,d,{get:()=>{const h=c(i),m=s[o]-h;return this.rect[d]+m},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class yf{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...n)})},this.target=t}add(t,n,i){var s;(s=this.target)==null||s.addEventListener(t,n,i),this.listeners.push([t,n,i])}}function aae(e){const{EventTarget:t}=es(e);return e instanceof t?e:Gu(e)}function g0(e,t){const n=Math.abs(e.x),i=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+i**2)>t:"x"in t&&"y"in t?n>t.x&&i>t.y:"x"in t?n>t.x:"y"in t?i>t.y:!1}var Us;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Us||(Us={}));function TN(e){e.preventDefault()}function lae(e){e.stopPropagation()}var Lt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Lt||(Lt={}));const eI={start:[Lt.Space,Lt.Enter],cancel:[Lt.Esc],end:[Lt.Space,Lt.Enter,Lt.Tab]},cae=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Lt.Right:return{...n,x:n.x+25};case Lt.Left:return{...n,x:n.x-25};case Lt.Down:return{...n,y:n.y+25};case Lt.Up:return{...n,y:n.y-25}}};class tI{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new yf(Gu(n)),this.windowListeners=new yf(es(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Us.Resize,this.handleCancel),this.windowListeners.add(Us.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Us.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,i=t.node.current;i&&rae(i),n(xr)}handleKeyDown(t){if(iS(t)){const{active:n,context:i,options:s}=this.props,{keyboardCodes:o=eI,coordinateGetter:l=cae,scrollBehavior:c="smooth"}=s,{code:d}=t;if(o.end.includes(d)){this.handleEnd(t);return}if(o.cancel.includes(d)){this.handleCancel(t);return}const{collisionRect:h}=i.current,m=h?{x:h.left,y:h.top}:xr;this.referenceCoordinates||(this.referenceCoordinates=m);const v=l(t,{active:n,context:i.current,currentCoordinates:m});if(v){const b=bg(v,m),_={x:0,y:0},{scrollableAncestors:C}=i.current;for(const E of C){const T=t.code,{isTop:k,isRight:N,isLeft:P,isBottom:O,maxScroll:j,minScroll:V}=Q2(E),z=nae(E),I={x:Math.min(T===Lt.Right?z.right-z.width/2:z.right,Math.max(T===Lt.Right?z.left:z.left+z.width/2,v.x)),y:Math.min(T===Lt.Down?z.bottom-z.height/2:z.bottom,Math.max(T===Lt.Down?z.top:z.top+z.height/2,v.y))},$=T===Lt.Right&&!N||T===Lt.Left&&!P,Z=T===Lt.Down&&!O||T===Lt.Up&&!k;if($&&I.x!==v.x){const K=E.scrollLeft+b.x,Y=T===Lt.Right&&K<=j.x||T===Lt.Left&&K>=V.x;if(Y&&!b.y){E.scrollTo({left:K,behavior:c});return}Y?_.x=E.scrollLeft-K:_.x=T===Lt.Right?E.scrollLeft-j.x:E.scrollLeft-V.x,_.x&&E.scrollBy({left:-_.x,behavior:c});break}else if(Z&&I.y!==v.y){const K=E.scrollTop+b.y,Y=T===Lt.Down&&K<=j.y||T===Lt.Up&&K>=V.y;if(Y&&!b.x){E.scrollTo({top:K,behavior:c});return}Y?_.y=E.scrollTop-K:_.y=T===Lt.Down?E.scrollTop-j.y:E.scrollTop-V.y,_.y&&E.scrollBy({top:-_.y,behavior:c});break}}this.handleMove(t,Cu(bg(v,this.referenceCoordinates),_))}}}handleMove(t,n){const{onMove:i}=this.props;t.preventDefault(),i(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}tI.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:i=eI,onActivation:s}=t,{active:o}=n;const{code:l}=e.nativeEvent;if(i.start.includes(l)){const c=o.activatorNode.current;return c&&e.target!==c?!1:(e.preventDefault(),s?.({event:e.nativeEvent}),!0)}return!1}}];function RN(e){return!!(e&&"distance"in e)}function NN(e){return!!(e&&"delay"in e)}class oS{constructor(t,n,i){var s;i===void 0&&(i=aae(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:l}=o;this.props=t,this.events=n,this.document=Gu(l),this.documentListeners=new yf(this.document),this.listeners=new yf(i),this.windowListeners=new yf(es(l)),this.initialCoordinates=(s=Gx(o))!=null?s:xr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:i}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Us.Resize,this.handleCancel),this.windowListeners.add(Us.DragStart,TN),this.windowListeners.add(Us.VisibilityChange,this.handleCancel),this.windowListeners.add(Us.ContextMenu,TN),this.documentListeners.add(Us.Keydown,this.handleKeydown),n){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(NN(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(RN(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:i,onPending:s}=this.props;s(i,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Us.Click,lae,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Us.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:i,initialCoordinates:s,props:o}=this,{onMove:l,options:{activationConstraint:c}}=o;if(!s)return;const d=(n=Gx(t))!=null?n:xr,h=bg(s,d);if(!i&&c){if(RN(c)){if(c.tolerance!=null&&g0(h,c.tolerance))return this.handleCancel();if(g0(h,c.distance))return this.handleStart()}if(NN(c)&&g0(h,c.tolerance))return this.handleCancel();this.handlePending(c,h);return}t.cancelable&&t.preventDefault(),l(d)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Lt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const uae={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class aS extends oS{constructor(t){const{event:n}=t,i=Gu(n.target);super(t,uae,i)}}aS.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:i}=t;return!n.isPrimary||n.button!==0?!1:(i?.({event:n}),!0)}}];const dae={move:{name:"mousemove"},end:{name:"mouseup"}};var Wx;(function(e){e[e.RightClick=2]="RightClick"})(Wx||(Wx={}));class fae extends oS{constructor(t){super(t,dae,Gu(t.event.target))}}fae.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:i}=t;return n.button===Wx.RightClick?!1:(i?.({event:n}),!0)}}];const v0={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class nI extends oS{constructor(t){super(t,v0)}static setup(){return window.addEventListener(v0.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(v0.move.name,t)};function t(){}}}nI.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:i}=t;const{touches:s}=n;return s.length>1?!1:(i?.({event:n}),!0)}}];var bf;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(bf||(bf={}));var _g;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(_g||(_g={}));function hae(e){let{acceleration:t,activator:n=bf.Pointer,canScroll:i,draggingRect:s,enabled:o,interval:l=5,order:c=_g.TreeOrder,pointerCoordinates:d,scrollableAncestors:h,scrollableAncestorRects:m,delta:v,threshold:b}=e;const _=pae({delta:v,disabled:!o}),[C,E]=Coe(),T=x.useRef({x:0,y:0}),k=x.useRef({x:0,y:0}),N=x.useMemo(()=>{switch(n){case bf.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case bf.DraggableRect:return s}},[n,s,d]),P=x.useRef(null),O=x.useCallback(()=>{const V=P.current;if(!V)return;const z=T.current.x*k.current.x,I=T.current.y*k.current.y;V.scrollBy(z,I)},[]),j=x.useMemo(()=>c===_g.TreeOrder?[...h].reverse():h,[c,h]);x.useEffect(()=>{if(!o||!h.length||!N){E();return}for(const V of j){if(i?.(V)===!1)continue;const z=h.indexOf(V),I=m[z];if(!I)continue;const{direction:$,speed:Z}=tae(V,I,N,t,b);for(const K of["x","y"])_[K][$[K]]||(Z[K]=0,$[K]=0);if(Z.x>0||Z.y>0){E(),P.current=V,C(O,l),T.current=Z,k.current=$;return}}T.current={x:0,y:0},k.current={x:0,y:0},E()},[t,O,i,E,o,l,JSON.stringify(N),JSON.stringify(_),C,h,j,m,JSON.stringify(b)])}const mae={x:{[ni.Backward]:!1,[ni.Forward]:!1},y:{[ni.Backward]:!1,[ni.Forward]:!1}};function pae(e){let{delta:t,disabled:n}=e;const i=qx(t);return bh(s=>{if(n||!i||!s)return mae;const o={x:Math.sign(t.x-i.x),y:Math.sign(t.y-i.y)};return{x:{[ni.Backward]:s.x[ni.Backward]||o.x===-1,[ni.Forward]:s.x[ni.Forward]||o.x===1},y:{[ni.Backward]:s.y[ni.Backward]||o.y===-1,[ni.Forward]:s.y[ni.Forward]||o.y===1}}},[n,t,i])}function gae(e,t){const n=t!=null?e.get(t):void 0,i=n?n.node.current:null;return bh(s=>{var o;return t==null?null:(o=i??s)!=null?o:null},[i,t])}function vae(e,t){return x.useMemo(()=>e.reduce((n,i)=>{const{sensor:s}=i,o=s.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,i)}));return[...n,...o]},[]),[e,t])}var qf;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(qf||(qf={}));var Yx;(function(e){e.Optimized="optimized"})(Yx||(Yx={}));const kN=new Map;function yae(e,t){let{dragging:n,dependencies:i,config:s}=t;const[o,l]=x.useState(null),{frequency:c,measure:d,strategy:h}=s,m=x.useRef(e),v=T(),b=$f(v),_=x.useCallback(function(k){k===void 0&&(k=[]),!b.current&&l(N=>N===null?k:N.concat(k.filter(P=>!N.includes(P))))},[b]),C=x.useRef(null),E=bh(k=>{if(v&&!n)return kN;if(!k||k===kN||m.current!==e||o!=null){const N=new Map;for(let P of e){if(!P)continue;if(o&&o.length>0&&!o.includes(P.id)&&P.rect.current){N.set(P.id,P.rect.current);continue}const O=P.node.current,j=O?new rS(d(O),O):null;P.rect.current=j,j&&N.set(P.id,j)}return N}return k},[e,o,n,v,d]);return x.useEffect(()=>{m.current=e},[e]),x.useEffect(()=>{v||_()},[n,v]),x.useEffect(()=>{o&&o.length>0&&l(null)},[JSON.stringify(o)]),x.useEffect(()=>{v||typeof c!="number"||C.current!==null||(C.current=setTimeout(()=>{_(),C.current=null},c))},[c,v,_,...i]),{droppableRects:E,measureDroppableContainers:_,measuringScheduled:o!=null};function T(){switch(h){case qf.Always:return!1;case qf.BeforeDragging:return n;default:return!n}}}function iI(e,t){return bh(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function bae(e,t){return iI(e,t)}function xae(e){let{callback:t,disabled:n}=e;const i=nS(t),s=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(i)},[i,n]);return x.useEffect(()=>()=>s?.disconnect(),[s]),s}function uv(e){let{callback:t,disabled:n}=e;const i=nS(t),s=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(i)},[n]);return x.useEffect(()=>()=>s?.disconnect(),[s]),s}function _ae(e){return new rS(Ku(e),e)}function PN(e,t,n){t===void 0&&(t=_ae);const[i,s]=x.useState(null);function o(){s(d=>{if(!e)return null;if(e.isConnected===!1){var h;return(h=d??n)!=null?h:null}const m=t(e);return JSON.stringify(d)===JSON.stringify(m)?d:m})}const l=xae({callback(d){if(e)for(const h of d){const{type:m,target:v}=h;if(m==="childList"&&v instanceof HTMLElement&&v.contains(e)){o();break}}}}),c=uv({callback:o});return Xr(()=>{o(),e?(c?.observe(e),l?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),l?.disconnect())},[e]),i}function wae(e){const t=iI(e);return K2(e,t)}const ON=[];function Sae(e){const t=x.useRef(e),n=bh(i=>e?i&&i!==ON&&e&&t.current&&e.parentNode===t.current.parentNode?i:sS(e):ON,[e]);return x.useEffect(()=>{t.current=e},[e]),n}function Cae(e){const[t,n]=x.useState(null),i=x.useRef(e),s=x.useCallback(o=>{const l=p0(o.target);l&&n(c=>c?(c.set(l,Kx(l)),new Map(c)):null)},[]);return x.useEffect(()=>{const o=i.current;if(e!==o){l(o);const c=e.map(d=>{const h=p0(d);return h?(h.addEventListener("scroll",s,{passive:!0}),[h,Kx(h)]):null}).filter(d=>d!=null);n(c.length?new Map(c):null),i.current=e}return()=>{l(e),l(o)};function l(c){c.forEach(d=>{const h=p0(d);h?.removeEventListener("scroll",s)})}},[s,e]),x.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,l)=>Cu(o,l),xr):J2(e):xr,[e,t])}function MN(e,t){t===void 0&&(t=[]);const n=x.useRef(null);return x.useEffect(()=>{n.current=null},t),x.useEffect(()=>{const i=e!==xr;i&&!n.current&&(n.current=e),!i&&n.current&&(n.current=null)},[e]),n.current?bg(e,n.current):xr}function Eae(e){x.useEffect(()=>{if(!cv)return;const t=e.map(n=>{let{sensor:i}=n;return i.setup==null?void 0:i.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function Aae(e,t){return x.useMemo(()=>e.reduce((n,i)=>{let{eventName:s,handler:o}=i;return n[s]=l=>{o(l,t)},n},{}),[e,t])}function sI(e){return x.useMemo(()=>e?Xoe(e):null,[e])}const DN=[];function Tae(e,t){t===void 0&&(t=Ku);const[n]=e,i=sI(n?es(n):null),[s,o]=x.useState(DN);function l(){o(()=>e.length?e.map(d=>X2(d)?i:new rS(t(d),d)):DN)}const c=uv({callback:l});return Xr(()=>{c?.disconnect(),l(),e.forEach(d=>c?.observe(d))},[e]),s}function Rae(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return yh(t)?t:e}function Nae(e){let{measure:t}=e;const[n,i]=x.useState(null),s=x.useCallback(h=>{for(const{target:m}of h)if(yh(m)){i(v=>{const b=t(m);return v?{...v,width:b.width,height:b.height}:b});break}},[t]),o=uv({callback:s}),l=x.useCallback(h=>{const m=Rae(h);o?.disconnect(),m&&o?.observe(m),i(m?t(m):null)},[t,o]),[c,d]=yg(l);return x.useMemo(()=>({nodeRef:c,rect:n,setRef:d}),[n,c,d])}const kae=[{sensor:aS,options:{}},{sensor:tI,options:{}}],Pae={current:{}},Op={draggable:{measure:AN},droppable:{measure:AN,strategy:qf.WhileDragging,frequency:Yx.Optimized},dragOverlay:{measure:Ku}};class xf extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,i;return(n=(i=this.get(t))==null?void 0:i.node.current)!=null?n:void 0}}const Oae={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new xf,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:xg},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Op,measureDroppableContainers:xg,windowRect:null,measuringScheduled:!1},Mae={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:xg,draggableNodes:new Map,over:null,measureDroppableContainers:xg},dv=x.createContext(Mae),rI=x.createContext(Oae);function Dae(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new xf}}}function Lae(e,t){switch(t.type){case Vn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Vn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Vn.DragEnd:case Vn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Vn.RegisterDroppable:{const{element:n}=t,{id:i}=n,s=new xf(e.droppable.containers);return s.set(i,n),{...e,droppable:{...e.droppable,containers:s}}}case Vn.SetDroppableDisabled:{const{id:n,key:i,disabled:s}=t,o=e.droppable.containers.get(n);if(!o||i!==o.key)return e;const l=new xf(e.droppable.containers);return l.set(n,{...o,disabled:s}),{...e,droppable:{...e.droppable,containers:l}}}case Vn.UnregisterDroppable:{const{id:n,key:i}=t,s=e.droppable.containers.get(n);if(!s||i!==s.key)return e;const o=new xf(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function jae(e){let{disabled:t}=e;const{active:n,activatorEvent:i,draggableNodes:s}=x.useContext(dv),o=qx(i),l=qx(n?.id);return x.useEffect(()=>{if(!t&&!i&&o&&l!=null){if(!iS(o)||document.activeElement===o.target)return;const c=s.get(l);if(!c)return;const{activatorNode:d,node:h}=c;if(!d.current&&!h.current)return;requestAnimationFrame(()=>{for(const m of[d.current,h.current]){if(!m)continue;const v=Toe(m);if(v){v.focus();break}}})}},[i,t,s,l,o]),null}function Iae(e,t){let{transform:n,...i}=t;return e!=null&&e.length?e.reduce((s,o)=>o({transform:s,...i}),n):n}function zae(e){return x.useMemo(()=>({draggable:{...Op.draggable,...e?.draggable},droppable:{...Op.droppable,...e?.droppable},dragOverlay:{...Op.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function Bae(e){let{activeNode:t,measure:n,initialRect:i,config:s=!0}=e;const o=x.useRef(!1),{x:l,y:c}=typeof s=="boolean"?{x:s,y:s}:s;Xr(()=>{if(!l&&!c||!t){o.current=!1;return}if(o.current||!i)return;const h=t?.node.current;if(!h||h.isConnected===!1)return;const m=n(h),v=K2(m,i);if(l||(v.x=0),c||(v.y=0),o.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const b=W2(h);b&&b.scrollBy({top:v.y,left:v.x})}},[t,l,c,i,n])}const oI=x.createContext({...xr,scaleX:1,scaleY:1});var Aa;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Aa||(Aa={}));const Uae=x.memo(function(t){var n,i,s,o;let{id:l,accessibility:c,autoScroll:d=!0,children:h,sensors:m=kae,collisionDetection:v=Hoe,measuring:b,modifiers:_,...C}=t;const E=x.useReducer(Lae,void 0,Dae),[T,k]=E,[N,P]=Moe(),[O,j]=x.useState(Aa.Uninitialized),V=O===Aa.Initialized,{draggable:{active:z,nodes:I,translate:$},droppable:{containers:Z}}=T,K=z!=null?I.get(z):null,Y=x.useRef({initial:null,translated:null}),Q=x.useMemo(()=>{var Yt;return z!=null?{id:z,data:(Yt=K?.data)!=null?Yt:Pae,rect:Y}:null},[z,K]),ie=x.useRef(null),[ge,q]=x.useState(null),[W,ee]=x.useState(null),de=$f(C,Object.values(C)),ae=xh("DndDescribedBy",l),G=x.useMemo(()=>Z.getEnabled(),[Z]),oe=zae(b),{droppableRects:be,measureDroppableContainers:xe,measuringScheduled:Re}=yae(G,{dragging:V,dependencies:[$.x,$.y],config:oe.droppable}),Se=gae(I,z),we=x.useMemo(()=>W?Gx(W):null,[W]),je=Zs(),De=bae(Se,oe.draggable.measure);Bae({activeNode:z!=null?I.get(z):null,config:je.layoutShiftCompensation,initialRect:De,measure:oe.draggable.measure});const Le=PN(Se,oe.draggable.measure,De),Xe=PN(Se?Se.parentElement:null),Qe=x.useRef({activatorEvent:null,active:null,activeNode:Se,collisionRect:null,collisions:null,droppableRects:be,draggableNodes:I,draggingNode:null,draggingNodeRect:null,droppableContainers:Z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ct=Z.getNodeFor((n=Qe.current.over)==null?void 0:n.id),yt=Nae({measure:oe.dragOverlay.measure}),zt=(i=yt.nodeRef.current)!=null?i:Se,dn=V?(s=yt.rect)!=null?s:Le:null,fn=!!(yt.nodeRef.current&&yt.rect),jn=wae(fn?null:Le),_n=sI(zt?es(zt):null),wn=Sae(V?Ct??Se:null),qn=Tae(wn),Ti=Iae(_,{transform:{x:$.x-jn.x,y:$.y-jn.y,scaleX:1,scaleY:1},activatorEvent:W,active:Q,activeNodeRect:Le,containerNodeRect:Xe,draggingNodeRect:dn,over:Qe.current.over,overlayNodeRect:yt.rect,scrollableAncestors:wn,scrollableAncestorRects:qn,windowRect:_n}),Cs=we?Cu(we,$):null,sn=Cae(wn),Sr=MN(sn),bt=MN(sn,[Le]),Tt=Cu(Ti,Sr),Bt=dn?Koe(dn,Ti):null,Ri=Q&&Bt?v({active:Q,collisionRect:Bt,droppableRects:be,droppableContainers:G,pointerCoordinates:Cs}):null,Ys=Foe(Ri,"id"),[vi,Jr]=x.useState(null),ts=fn?Ti:Cu(Ti,bt),rn=qoe(ts,(o=vi?.rect)!=null?o:null,Le),si=x.useRef(null),En=x.useCallback((Yt,Zt)=>{let{sensor:hn,options:Kn}=Zt;if(ie.current==null)return;const Wn=I.get(ie.current);if(!Wn)return;const An=Yt.nativeEvent,Yn=new hn({active:ie.current,activeNode:Wn,event:An,options:Kn,context:Qe,onAbort(on){if(!I.get(on))return;const{onDragAbort:ri}=de.current,yi={id:on};ri?.(yi),N({type:"onDragAbort",event:yi})},onPending(on,Ni,ri,yi){if(!I.get(on))return;const{onDragPending:ze}=de.current,bi={id:on,constraint:Ni,initialCoordinates:ri,offset:yi};ze?.(bi),N({type:"onDragPending",event:bi})},onStart(on){const Ni=ie.current;if(Ni==null)return;const ri=I.get(Ni);if(!ri)return;const{onDragStart:yi}=de.current,an={activatorEvent:An,active:{id:Ni,data:ri.data,rect:Y}};Ji.unstable_batchedUpdates(()=>{yi?.(an),j(Aa.Initializing),k({type:Vn.DragStart,initialCoordinates:on,active:Ni}),N({type:"onDragStart",event:an}),q(si.current),ee(An)})},onMove(on){k({type:Vn.DragMove,coordinates:on})},onEnd:Zn(Vn.DragEnd),onCancel:Zn(Vn.DragCancel)});si.current=Yn;function Zn(on){return async function(){const{active:ri,collisions:yi,over:an,scrollAdjustedTranslate:ze}=Qe.current;let bi=null;if(ri&&ze){const{cancelDrop:is}=de.current;bi={activatorEvent:An,active:ri,collisions:yi,delta:ze,over:an},on===Vn.DragEnd&&typeof is=="function"&&await Promise.resolve(is(bi))&&(on=Vn.DragCancel)}ie.current=null,Ji.unstable_batchedUpdates(()=>{k({type:on}),j(Aa.Uninitialized),Jr(null),q(null),ee(null),si.current=null;const is=on===Vn.DragEnd?"onDragEnd":"onDragCancel";if(bi){const oi=de.current[is];oi?.(bi),N({type:is,event:bi})}})}}},[I]),ns=x.useCallback((Yt,Zt)=>(hn,Kn)=>{const Wn=hn.nativeEvent,An=I.get(Kn);if(ie.current!==null||!An||Wn.dndKit||Wn.defaultPrevented)return;const Yn={active:An};Yt(hn,Zt.options,Yn)===!0&&(Wn.dndKit={capturedBy:Zt.sensor},ie.current=Kn,En(hn,Zt))},[I,En]),eo=vae(m,ns);Eae(m),Xr(()=>{Le&&O===Aa.Initializing&&j(Aa.Initialized)},[Le,O]),x.useEffect(()=>{const{onDragMove:Yt}=de.current,{active:Zt,activatorEvent:hn,collisions:Kn,over:Wn}=Qe.current;if(!Zt||!hn)return;const An={active:Zt,activatorEvent:hn,collisions:Kn,delta:{x:Tt.x,y:Tt.y},over:Wn};Ji.unstable_batchedUpdates(()=>{Yt?.(An),N({type:"onDragMove",event:An})})},[Tt.x,Tt.y]),x.useEffect(()=>{const{active:Yt,activatorEvent:Zt,collisions:hn,droppableContainers:Kn,scrollAdjustedTranslate:Wn}=Qe.current;if(!Yt||ie.current==null||!Zt||!Wn)return;const{onDragOver:An}=de.current,Yn=Kn.get(Ys),Zn=Yn&&Yn.rect.current?{id:Yn.id,rect:Yn.rect.current,data:Yn.data,disabled:Yn.disabled}:null,on={active:Yt,activatorEvent:Zt,collisions:hn,delta:{x:Wn.x,y:Wn.y},over:Zn};Ji.unstable_batchedUpdates(()=>{Jr(Zn),An?.(on),N({type:"onDragOver",event:on})})},[Ys]),Xr(()=>{Qe.current={activatorEvent:W,active:Q,activeNode:Se,collisionRect:Bt,collisions:Ri,droppableRects:be,draggableNodes:I,draggingNode:zt,draggingNodeRect:dn,droppableContainers:Z,over:vi,scrollableAncestors:wn,scrollAdjustedTranslate:Tt},Y.current={initial:dn,translated:Bt}},[Q,Se,Ri,Bt,I,zt,dn,be,Z,vi,wn,Tt]),hae({...je,delta:$,draggingRect:Bt,pointerCoordinates:Cs,scrollableAncestors:wn,scrollableAncestorRects:qn});const Ga=x.useMemo(()=>({active:Q,activeNode:Se,activeNodeRect:Le,activatorEvent:W,collisions:Ri,containerNodeRect:Xe,dragOverlay:yt,draggableNodes:I,droppableContainers:Z,droppableRects:be,over:vi,measureDroppableContainers:xe,scrollableAncestors:wn,scrollableAncestorRects:qn,measuringConfiguration:oe,measuringScheduled:Re,windowRect:_n}),[Q,Se,Le,W,Ri,Xe,yt,I,Z,be,vi,xe,wn,qn,oe,Re,_n]),Gn=x.useMemo(()=>({activatorEvent:W,activators:eo,active:Q,activeNodeRect:Le,ariaDescribedById:{draggable:ae},dispatch:k,draggableNodes:I,over:vi,measureDroppableContainers:xe}),[W,eo,Q,Le,k,ae,I,vi,xe]);return Ot.createElement(G2.Provider,{value:P},Ot.createElement(dv.Provider,{value:Gn},Ot.createElement(rI.Provider,{value:Ga},Ot.createElement(oI.Provider,{value:rn},h)),Ot.createElement(jae,{disabled:c?.restoreFocus===!1})),Ot.createElement(joe,{...c,hiddenTextDescribedById:ae}));function Zs(){const Yt=ge?.autoScrollEnabled===!1,Zt=typeof d=="object"?d.enabled===!1:d===!1,hn=V&&!Yt&&!Zt;return typeof d=="object"?{...d,enabled:hn}:{enabled:hn}}}),Fae=x.createContext(null),LN="button",Vae="Draggable";function $ae(e){let{id:t,data:n,disabled:i=!1,attributes:s}=e;const o=xh(Vae),{activators:l,activatorEvent:c,active:d,activeNodeRect:h,ariaDescribedById:m,draggableNodes:v,over:b}=x.useContext(dv),{role:_=LN,roleDescription:C="draggable",tabIndex:E=0}=s??{},T=d?.id===t,k=x.useContext(T?oI:Fae),[N,P]=yg(),[O,j]=yg(),V=Aae(l,t),z=$f(n);Xr(()=>(v.set(t,{id:t,key:o,node:N,activatorNode:O,data:z}),()=>{const $=v.get(t);$&&$.key===o&&v.delete(t)}),[v,t]);const I=x.useMemo(()=>({role:_,tabIndex:E,"aria-disabled":i,"aria-pressed":T&&_===LN?!0:void 0,"aria-roledescription":C,"aria-describedby":m.draggable}),[i,_,E,T,C,m.draggable]);return{active:d,activatorEvent:c,activeNodeRect:h,attributes:I,isDragging:T,listeners:i?void 0:V,node:N,over:b,setNodeRef:P,setActivatorNodeRef:j,transform:k}}function Hae(){return x.useContext(rI)}const qae="Droppable",Gae={timeout:25};function Kae(e){let{data:t,disabled:n=!1,id:i,resizeObserverConfig:s}=e;const o=xh(qae),{active:l,dispatch:c,over:d,measureDroppableContainers:h}=x.useContext(dv),m=x.useRef({disabled:n}),v=x.useRef(!1),b=x.useRef(null),_=x.useRef(null),{disabled:C,updateMeasurementsFor:E,timeout:T}={...Gae,...s},k=$f(E??i),N=x.useCallback(()=>{if(!v.current){v.current=!0;return}_.current!=null&&clearTimeout(_.current),_.current=setTimeout(()=>{h(Array.isArray(k.current)?k.current:[k.current]),_.current=null},T)},[T]),P=uv({callback:N,disabled:C||!l}),O=x.useCallback((I,$)=>{P&&($&&(P.unobserve($),v.current=!1),I&&P.observe(I))},[P]),[j,V]=yg(O),z=$f(t);return x.useEffect(()=>{!P||!j.current||(P.disconnect(),v.current=!1,P.observe(j.current))},[j,P]),x.useEffect(()=>(c({type:Vn.RegisterDroppable,element:{id:i,key:o,disabled:n,node:j,rect:b,data:z}}),()=>c({type:Vn.UnregisterDroppable,key:o,id:i})),[i]),x.useEffect(()=>{n!==m.current.disabled&&(c({type:Vn.SetDroppableDisabled,id:i,key:o,disabled:n}),m.current.disabled=n)},[i,o,n,c]),{active:l,rect:b,isOver:d?.id===i,node:j,over:d,setNodeRef:V}}function lS(e,t,n){const i=e.slice();return i.splice(n<0?i.length+n:n,0,i.splice(t,1)[0]),i}function Wae(e,t){return e.reduce((n,i,s)=>{const o=t.get(i);return o&&(n[s]=o),n},Array(e.length))}function pp(e){return e!==null&&e>=0}function Yae(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Zae(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const cS=e=>{let{rects:t,activeIndex:n,overIndex:i,index:s}=e;const o=lS(t,i,n),l=t[s],c=o[s];return!c||!l?null:{x:c.left-l.left,y:c.top-l.top,scaleX:c.width/l.width,scaleY:c.height/l.height}},aI="Sortable",lI=Ot.createContext({activeIndex:-1,containerId:aI,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:cS,disabled:{draggable:!1,droppable:!1}});function Xae(e){let{children:t,id:n,items:i,strategy:s=cS,disabled:o=!1}=e;const{active:l,dragOverlay:c,droppableRects:d,over:h,measureDroppableContainers:m}=Hae(),v=xh(aI,n),b=c.rect!==null,_=x.useMemo(()=>i.map(V=>typeof V=="object"&&"id"in V?V.id:V),[i]),C=l!=null,E=l?_.indexOf(l.id):-1,T=h?_.indexOf(h.id):-1,k=x.useRef(_),N=!Yae(_,k.current),P=T!==-1&&E===-1||N,O=Zae(o);Xr(()=>{N&&C&&m(_)},[N,_,C,m]),x.useEffect(()=>{k.current=_},[_]);const j=x.useMemo(()=>({activeIndex:E,containerId:v,disabled:O,disableTransforms:P,items:_,overIndex:T,useDragOverlay:b,sortedRects:Wae(_,d),strategy:s}),[E,v,O.draggable,O.droppable,P,_,T,d,b,s]);return Ot.createElement(lI.Provider,{value:j},t)}const Qae=e=>{let{id:t,items:n,activeIndex:i,overIndex:s}=e;return lS(n,i,s).indexOf(t)},Jae=e=>{let{containerId:t,isSorting:n,wasDragging:i,index:s,items:o,newIndex:l,previousItems:c,previousContainerId:d,transition:h}=e;return!h||!i||c!==o&&s===l?!1:n?!0:l!==s&&t===d},ele={duration:200,easing:"ease"},cI="transform",tle=Hf.Transition.toString({property:cI,duration:0,easing:"linear"}),nle={roleDescription:"sortable"};function ile(e){let{disabled:t,index:n,node:i,rect:s}=e;const[o,l]=x.useState(null),c=x.useRef(n);return Xr(()=>{if(!t&&n!==c.current&&i.current){const d=s.current;if(d){const h=Ku(i.current,{ignoreTransform:!0}),m={x:d.left-h.left,y:d.top-h.top,scaleX:d.width/h.width,scaleY:d.height/h.height};(m.x||m.y)&&l(m)}}n!==c.current&&(c.current=n)},[t,n,i,s]),x.useEffect(()=>{o&&l(null)},[o]),o}function sle(e){let{animateLayoutChanges:t=Jae,attributes:n,disabled:i,data:s,getNewIndex:o=Qae,id:l,strategy:c,resizeObserverConfig:d,transition:h=ele}=e;const{items:m,containerId:v,activeIndex:b,disabled:_,disableTransforms:C,sortedRects:E,overIndex:T,useDragOverlay:k,strategy:N}=x.useContext(lI),P=rle(i,_),O=m.indexOf(l),j=x.useMemo(()=>({sortable:{containerId:v,index:O,items:m},...s}),[v,s,O,m]),V=x.useMemo(()=>m.slice(m.indexOf(l)),[m,l]),{rect:z,node:I,isOver:$,setNodeRef:Z}=Kae({id:l,data:j,disabled:P.droppable,resizeObserverConfig:{updateMeasurementsFor:V,...d}}),{active:K,activatorEvent:Y,activeNodeRect:Q,attributes:ie,setNodeRef:ge,listeners:q,isDragging:W,over:ee,setActivatorNodeRef:de,transform:ae}=$ae({id:l,data:j,attributes:{...nle,...n},disabled:P.draggable}),G=Soe(Z,ge),oe=!!K,be=oe&&!C&&pp(b)&&pp(T),xe=!k&&W,Re=xe&&be?ae:null,we=be?Re??(c??N)({rects:E,activeNodeRect:Q,activeIndex:b,overIndex:T,index:O}):null,je=pp(b)&&pp(T)?o({id:l,items:m,activeIndex:b,overIndex:T}):O,De=K?.id,Le=x.useRef({activeId:De,items:m,newIndex:je,containerId:v}),Xe=m!==Le.current.items,Qe=t({active:K,containerId:v,isDragging:W,isSorting:oe,id:l,index:O,items:m,newIndex:Le.current.newIndex,previousItems:Le.current.items,previousContainerId:Le.current.containerId,transition:h,wasDragging:Le.current.activeId!=null}),Ct=ile({disabled:!Qe,index:O,node:I,rect:z});return x.useEffect(()=>{oe&&Le.current.newIndex!==je&&(Le.current.newIndex=je),v!==Le.current.containerId&&(Le.current.containerId=v),m!==Le.current.items&&(Le.current.items=m)},[oe,je,v,m]),x.useEffect(()=>{if(De===Le.current.activeId)return;if(De!=null&&Le.current.activeId==null){Le.current.activeId=De;return}const zt=setTimeout(()=>{Le.current.activeId=De},50);return()=>clearTimeout(zt)},[De]),{active:K,activeIndex:b,attributes:ie,data:j,rect:z,index:O,newIndex:je,items:m,isOver:$,isSorting:oe,isDragging:W,listeners:q,node:I,overIndex:T,over:ee,setNodeRef:G,setActivatorNodeRef:de,setDroppableNodeRef:Z,setDraggableNodeRef:ge,transform:Ct??we,transition:yt()};function yt(){if(Ct||Xe&&Le.current.newIndex===O)return tle;if(!(xe&&!iS(Y)||!h)&&(oe||Qe))return Hf.Transition.toString({...h,property:cI})}}function rle(e,t){var n,i;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(i=e?.droppable)!=null?i:t.droppable}}Lt.Down,Lt.Right,Lt.Up,Lt.Left;const uI=({editMode:e,onAdd:t})=>{const{t:n}=At();return y.jsx("div",{onClick:e?t:void 0,className:`border-border bg-muted flex aspect-3/4 w-full items-center justify-center overflow-hidden rounded-xl border-2 border-dashed transition-all duration-300 ${e?"hover:border-primary/60 hover:bg-primary/5 cursor-pointer":""}`,children:y.jsxs("div",{className:"text-center",children:[y.jsx(Zp,{className:`mx-auto mb-2 h-8 w-8 transition-colors ${e?"text-primary/60":"text-muted-foreground/40"}`}),y.jsx("div",{className:`text-xs transition-colors ${e?"text-primary/70 font-medium":"text-muted-foreground/70"}`,children:n("favSpecies.addFavorite")})]})})},fv=e=>{const{data:t,isLoading:n}=Uo({specieKey:e});return{specieName:t?.canonicalName||t?.scientificName||"",familyName:t?.family||"",isLoading:n}},ole=({specieKey:e,editMode:t,onClick:n,onRemove:i,dragHandleProps:s})=>{const{specieName:o,familyName:l,isLoading:c}=fv(e),{t:d}=At(),h=!c&&o!==""?o:void 0,{data:m,isLoading:v}=lh(e,h),b=c||v;return y.jsx("div",{className:"group relative",children:b?y.jsx("div",{className:"bg-accent flex aspect-3/4 w-full animate-pulse items-center justify-center overflow-hidden rounded-xl",children:y.jsx(nh,{className:"size-5 animate-spin"})}):m?.imgUrl?y.jsxs(y.Fragment,{children:[y.jsxs("figure",{onClick:n,className:`relative aspect-3/4 w-full cursor-pointer overflow-hidden rounded-xl shadow-sm transition-all duration-300 ease-out ${t?"ring-primary/40 ring-2 brightness-75 hover:brightness-90":"group-hover:shadow-lg"}`,children:[y.jsx(ii,{src:m.imgUrl,alt:o,loading:"lazy",className:`size-full object-cover transition-transform duration-500 ease-out ${t?"":"group-hover:scale-110"}`}),y.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-linear-to-t from-black/75 via-black/30 to-transparent px-3 pt-8 pb-3",children:[y.jsx("p",{className:"truncate text-xs leading-tight font-semibold text-white",children:o}),y.jsx("p",{className:"truncate text-xs text-white/70 italic",children:l})]}),t&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:y.jsx("span",{className:"rounded-full bg-white/20 px-3 py-1 text-xs font-medium text-white backdrop-blur-sm",children:d("favSpecies.replace")})})]}),t&&y.jsx("button",{onPointerDown:_=>_.stopPropagation(),onClick:_=>{_.stopPropagation(),i()},className:"bg-destructive hover:bg-destructive/80 absolute -top-2 -right-2 z-10 flex size-6 items-center justify-center rounded-full text-white shadow-md transition-colors",children:y.jsx(Ia,{className:"size-3.5"})}),t&&s&&y.jsx("div",{...s,onPointerDown:_=>{_.stopPropagation(),s.onPointerDown?.(_)},className:"absolute right-1 bottom-2 z-10 flex -translate-x-1/2 cursor-grab touch-none items-center justify-center rounded-full bg-black/40 px-2 py-0.5 text-white transition-colors hover:bg-black/60 active:cursor-grabbing",children:y.jsx(KP,{className:"size-3.5"})}),!t&&y.jsxs("div",{className:"pointer-events-none absolute bottom-[calc(100%+10px)] left-1/2 z-50 -translate-x-1/2 translate-y-2 opacity-0 transition-all duration-300 ease-out group-hover:translate-y-0 group-hover:opacity-100",children:[y.jsx("div",{className:"bg-popover ring-border overflow-hidden rounded-xl shadow-2xl ring-1",children:y.jsx("img",{src:m.imgUrl,alt:o,className:"block max-h-56 max-w-56 object-contain"})}),y.jsx("div",{className:"border-t-popover mx-auto h-0 w-0 border-x-[7px] border-t-[7px] border-x-transparent"})]})]}):y.jsx(uI,{editMode:t,onAdd:t?n:void 0})})},ale=e=>{const{attributes:t,listeners:n,setNodeRef:i,transform:s,transition:o,isDragging:l}=sle({id:String(e.specieKey),disabled:!e.editMode}),c={transform:Hf.Transform.toString(s),transition:o,zIndex:l?50:void 0,opacity:l?.5:1};return y.jsx("div",{ref:i,style:c,children:y.jsx(ole,{...e,dragHandleProps:e.editMode?{...t,...n}:void 0})})},lle=({specieKey:e,onSelect:t})=>{const{specieName:n,familyName:i,isLoading:s}=fv(e),o=!s&&n!==""?n:void 0,{data:l,isLoading:c}=lh(e,o),d=s||c,h=()=>{d||t({key:e,name:n,img:l?.imgUrl??"",family:i})};return y.jsxs("button",{onClick:h,disabled:d,className:"hover:bg-accent flex w-full items-center gap-3 rounded-xl px-3 py-2 text-left transition-colors disabled:opacity-50",children:[y.jsx("div",{className:"bg-muted size-12 shrink-0 overflow-hidden rounded-lg",children:d?y.jsx("div",{className:"size-full animate-pulse"}):l?.imgUrl?y.jsx("img",{src:l.imgUrl,alt:n,className:"size-full object-cover"}):y.jsx("div",{className:"flex size-full items-center justify-center",children:y.jsx(Zp,{className:"text-muted-foreground size-4"})})}),y.jsx("div",{className:"min-w-0 flex-1",children:d?y.jsx("div",{className:"bg-muted h-4 w-3/4 animate-pulse rounded"}):y.jsxs(y.Fragment,{children:[y.jsx("p",{className:"truncate text-sm font-medium",children:n}),y.jsx("p",{className:"text-muted-foreground truncate text-xs italic",children:i})]})}),y.jsx(Zp,{className:"text-muted-foreground size-4 shrink-0"})]})},y0=(e,t)=>{const n=new Map(t.map(i=>[i.key,i]));return e.map(i=>n.get(i)??{key:i,name:"",img:"",family:""})},cle=()=>{const{t:e}=At(),[t,n]=qs(rt.userDb),i=Mt(za),[s,o]=x.useState(!1),[l,c]=x.useState(!1),[d,h]=x.useState(null),m=Ioe(CN(aS,{activationConstraint:{distance:8}}),CN(nI,{activationConstraint:{delay:200,tolerance:5}})),v=x.useMemo(()=>{const N=t?.game_info.top_fav_species;return N!=null?N.map(O=>O.key):(t?.game_info.seen_species??[]).filter(O=>O.fav).sort((O,j)=>new Date(j.date).getTime()-new Date(O.date).getTime()).map(O=>O.key).slice(0,4)},[t]),b=x.useMemo(()=>{const N=t?.game_info.seen_species??[],P=new Set(v);return d!==null&&v[d]!==void 0&&P.delete(v[d]),N.filter(O=>O.fav&&!P.has(O.key)).sort((O,j)=>new Date(j.date).getTime()-new Date(O.date).getTime()).map(O=>O.key)},[t,v,d]),_=Math.max(0,4-v.length),C=N=>{h(N),c(!0)},E=async N=>{if(!t)return;const P=y0(v,t.game_info.top_fav_species??[]),O=await h0(t,()=>P.filter((j,V)=>V!==N));O&&n(O)},T=async N=>{if(!t)return;c(!1);const P=y0(v,t.game_info.top_fav_species??[]),O=await h0(t,()=>{const j=[...P];return d!==null&&d<j.length?j[d]=N:j.push(N),j.slice(0,4)});O&&n(O),h(null)},k=async N=>{const{active:P,over:O}=N;if(!O||P.id===O.id||!t)return;const j=v.indexOf(Number(P.id)),V=v.indexOf(Number(O.id));if(j===-1||V===-1)return;const z=lS([...v],j,V),I=y0(z,t.game_info.top_fav_species??[]),$=await h0(t,()=>I);$&&n($)};return y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex items-center justify-between border-b pb-1",children:[y.jsx("h2",{children:e("favSpecies.title")}),y.jsx(Wt,{variant:"ghost",size:"sm",className:"gap-1.5",onClick:()=>o(N=>!N),children:s?e("favSpecies.done"):y.jsxs(y.Fragment,{children:[y.jsx(ZP,{className:"size-3.5"}),e("favSpecies.edit")]})})]}),y.jsx(Uae,{sensors:m,collisionDetection:Voe,onDragEnd:k,children:y.jsx(Xae,{items:v.map(String),strategy:cS,children:y.jsxs("div",{className:"grid grid-cols-2 gap-3 overflow-visible sm:gap-4 lg:grid-cols-4",children:[v.map((N,P)=>y.jsx(ale,{specieKey:N,editMode:s,onClick:()=>s?C(P):i(N),onRemove:()=>E(P)},N)),Array.from({length:_}).map((N,P)=>y.jsx(uI,{editMode:s,onAdd:s?()=>C(v.length+P):void 0},`empty-${P}`))]})})}),y.jsx(W_,{open:l,onOpenChange:N=>{c(N),N||h(null)},children:y.jsxs(Y_,{className:"flex flex-col",children:[y.jsx(Z_,{children:y.jsx(X_,{children:e("favSpecies.pickerTitle")})}),b.length===0?y.jsxs("div",{className:"flex flex-col items-center gap-2 px-6 py-10 text-center",children:[y.jsx(Zp,{className:"text-muted-foreground/40 size-10"}),y.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:e("favSpecies.pickerEmpty")}),y.jsx("p",{className:"text-muted-foreground text-xs",children:e("favSpecies.pickerEmptyHint")})]}):y.jsx("div",{className:"max-h-[60dvh] overflow-y-auto px-3 pb-4",children:y.jsx("div",{className:"flex flex-col gap-1",children:b.map(N=>y.jsx(lle,{specieKey:N,onSelect:T},N))})})]})})]})},ule=e=>{if(!e)return"";const t=typeof e=="string"?new Date(e):e,n=new Intl.DateTimeFormat(Qt.language,{month:"long",year:"numeric"}).format(t);return n.charAt(0).toUpperCase()+n.slice(1)},dI=e=>{if(!e)return"";const t=typeof e=="string"?new Date(e):e,i=new Date().getTime()-t.getTime(),s=Math.floor(i/1e3),o=Math.floor(s/60),l=Math.floor(o/60),c=Math.floor(l/24);if(s<60)return Qt.t("time.now","Agora mesmo");if(o<60){const d=Math.floor(o/5)*5||1;return Qt.t("time.minutesAgo",{count:d,defaultValue:"{{count}}m atrs"})}return l<24?Qt.t("time.hoursAgo",{count:l,defaultValue:"{{count}}h atrs"}):c===1?Qt.t("time.yesterday","Ontem"):c<=3?Qt.t("time.daysAgo",{count:c,defaultValue:"{{count}} dias atrs"}):new Intl.DateTimeFormat(Qt.language,{day:"2-digit",month:"2-digit",year:"numeric"}).format(t)},dle=()=>{const{t:e}=At(),t=Me(rt.userDb);return y.jsx("header",{className:"flex flex-col gap-4 rounded-2xl",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(uD,{isProfilePage:!0}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h1",{className:"text-xl font-bold",children:t?.name}),y.jsxs("span",{className:"mt-0.5 flex items-center gap-1 text-xs",children:[e("profilePage.memberSince"),y.jsx("strong",{children:ule(t?.created_at)})]})]})]})})},fle=()=>{const{t:e}=At(),n=Me(rt.userDb)?.game_info?.activities??[],[i,s]=x.useState(!1),o=4,l=i?n:n.slice(0,4),c=n.length>o;return y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex justify-between border-b",children:[y.jsx("h2",{children:e("activity.title")}),c&&y.jsxs(Wt,{variant:"ghost",size:"sm",className:"text-muted-foreground h-7 px-2 text-xs",onClick:()=>s(d=>!d),children:[i?"Recolher":"Expandir",i?y.jsx(P_,{className:"ml-1 size-3"}):y.jsx(ka,{className:"ml-1 size-3"})]})]}),y.jsx("div",{className:`space-y-2 ${i&&n.length>4?"max-h-100 overflow-y-auto pr-1":""}`,children:l.map((d,h)=>y.jsxs("div",{className:"flex items-center gap-2 border-b py-2 last:border-0",children:[y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("div",{className:"truncate text-xs font-medium",children:d.title}),y.jsx("div",{className:"text-muted-foreground text-xs",children:d.description})]}),y.jsx("div",{className:"text-muted-foreground shrink-0 text-xs",children:dI(d.date)})]},h))})]})},hle=({specieKey:e,date:t})=>{const{specieName:n,familyName:i,isLoading:s}=fv(e);return s?y.jsxs("div",{className:"-mx-2 border-b px-2 py-2 last:border-0",children:[y.jsx("div",{className:"bg-muted mb-1 h-4 w-32 animate-pulse rounded"}),y.jsx("div",{className:"bg-muted h-3 w-24 animate-pulse rounded"})]}):y.jsxs("div",{className:"-mx-2 flex items-center justify-between border-b px-2 py-2 last:border-0",children:[y.jsx("div",{className:"flex items-center gap-2",children:y.jsxs("div",{children:[y.jsx("div",{className:"text-xs font-medium italic",children:n}),y.jsx("div",{className:"text-muted-foreground text-xs",children:i})]})}),y.jsx("div",{className:"text-muted-foreground shrink-0 text-xs",children:dI(t)})]})},mle=()=>{const{t:e}=At(),t=Me(rt.userDb),n=Ei(),i=t?.game_info?.seen_species??[];if(!t||!t.game_info)return null;const s=()=>{n({to:"/profile/species-gallery"})};return y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex justify-between border-b",children:[y.jsx("h2",{children:e("seenSpecies.title")}),y.jsxs(Wt,{variant:"ghost",size:"sm",className:"text-muted-foreground h-7 px-2 text-xs",disabled:!i.length,onClick:s,children:[e("seenSpecies.openGallery")," ",y.jsx(ic,{className:"ml-1 size-3"})]})]}),i.length?i.slice().reverse().slice(0,4).map(o=>y.jsx(hle,{specieKey:o.key,date:o.date},o.key)):y.jsxs("div",{className:"text-muted-foreground py-8 text-center",children:[y.jsx(O_,{className:"text-muted-foreground/50 mx-auto mb-3 h-12 w-12"}),y.jsx("div",{className:"mb-1 text-sm font-medium",children:e("seenSpecies.emptyTitle")}),y.jsx("div",{className:"text-xs",children:e("seenSpecies.emptyHint")})]})]})},ple=()=>{const{t:e}=At(),[t,n]=qs(rt.userDb),{navigateToNodes:i}=mh(),[s,o]=x.useState({isEdit:!1,newName:""}),l=x.useRef(null);if(x.useEffect(()=>{s.isEdit&&l.current&&l.current.focus()},[s.isEdit]),!t)return null;const c=t.game_info?.shortcuts;if(!c)return null;const d=_=>{i(_,!0)},h=async(_,C)=>{if(!t)return;if(!c)return null;const T=(c[_]??[]).filter((k,N)=>N!==C);(async()=>{const k=await jx(t,N=>({...N,[_]:T}));k&&n(k)})()},m=async()=>{if(!s.isEdit||!t||!s.kingdom)return;const{kingdom:_,index:C,newName:E}=s;if(!E.trim())return;const T=c[_]??[];if(!T[C])return;const k=[...T];k[C]={...k[C],name:E.trim()},(async()=>{const N=await jx(t,P=>({...P,[_]:k}));N&&n(N)})(),v()},v=()=>o({isEdit:!1,newName:""}),b=Object.keys(c);return y.jsxs("div",{className:"space-y-3",children:[y.jsx("h2",{className:"border-b",children:e("shortcuts.title")}),b.map(_=>{const C=c[_];return C?.length?y.jsx("div",{className:"space-y-3",children:C.map((E,T)=>{if(!E?.nodes)return null;const k=s.isEdit&&s.kingdom===_&&s.index===T;return y.jsxs("div",{className:"hover:bg-muted/50 flex items-center justify-between rounded-md border py-1 pl-2.5",children:[y.jsxs("div",{className:"flex min-w-0 flex-1 cursor-pointer items-center gap-2",onClick:()=>!k&&d(E.nodes),children:[y.jsx("figure",{className:"flex size-6 shrink-0 items-center",children:y.jsx(ii,{src:zs($O[_]),alt:`${_} icon`,className:"size-5"})}),y.jsxs("div",{className:"min-w-0 flex-1",children:[k?y.jsx("input",{ref:l,type:"text",value:s.newName,maxLength:52,onChange:N=>o(P=>({...P,newName:N.target.value})),className:"rounded border px-1 text-sm"}):y.jsx("p",{className:"truncate text-sm font-medium",children:E.name}),y.jsx("span",{className:"text-muted-foreground block truncate text-xs leading-tight",children:E.nodes.map((N,P)=>y.jsxs(x.Fragment,{children:[N.name??N.rank,P<E.nodes.length-1&&" > "]},N.key))})]})]}),y.jsx("div",{className:"flex flex-col gap-px border-l px-1",children:k?y.jsxs(y.Fragment,{children:[y.jsx(Wt,{variant:"ghost",size:"icon",className:"size-6 text-green-600 hover:text-green-800",title:e("shortcuts.saveEdit"),onClick:m,children:y.jsx(HP,{className:"size-4"})}),y.jsx(Wt,{variant:"ghost",size:"icon",className:"size-6 text-blue-500 hover:text-blue-800",title:e("shortcuts.cancelEdit"),onClick:v,children:y.jsx(Ia,{className:"size-4"})})]}):y.jsxs(y.Fragment,{children:[y.jsx(Wt,{variant:"ghost",size:"icon",className:"text-muted-foreground size-6 hover:text-blue-700",title:e("shortcuts.editName"),onClick:()=>o({isEdit:!0,kingdom:_,index:T,newName:E.name}),children:y.jsx(ZP,{className:"size-4"})}),y.jsx(Wt,{variant:"ghost",size:"icon",className:"text-muted-foreground size-6 hover:text-red-700",onClick:()=>h(_,T),title:e("shortcuts.remove"),children:y.jsx(Ia,{className:"size-4"})})]})})]},T)})},_):null}),b.every(_=>!c[_]?.length)&&y.jsxs("div",{className:"text-muted-foreground py-6 text-center",children:[y.jsx(mH,{className:"text-muted-foreground/50 mx-auto mb-3 h-10 w-10"}),y.jsx("div",{className:"mb-1 text-sm font-medium",children:e("shortcuts.empty")}),y.jsx("div",{className:"text-xs",children:e("shortcuts.emptyHint")})]}),y.jsx("div",{className:"bg-muted text-muted-foreground rounded-lg p-2 text-center text-xs italic",children:e("shortcuts.tip")})]})},gle=()=>{const{t:e}=At(),t=Me(rt.isAuthenticated),n=Me(za),i=Ei();return x.useEffect(()=>{if(!t){i({to:"/login"});return}},[t,i]),y.jsx(ku,{mode:"wait",children:n!==null?y.jsx(jt.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.2},className:"h-screen",children:y.jsx($u,{backLabel:e("specieDetail.backToProfile")})},"detail"):y.jsx(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"h-screen overflow-auto",children:y.jsx("div",{className:"mx-auto max-w-7xl space-y-12 p-4",children:y.jsxs("div",{className:"grid grid-cols-1 gap-20 lg:grid-cols-3",children:[y.jsxs("div",{className:"space-y-10 md:space-y-16 lg:col-span-2",children:[y.jsx(dle,{}),y.jsx(cle,{})]}),y.jsxs("div",{className:"space-y-10 md:space-y-16",children:[y.jsx(mle,{}),y.jsx(ple,{}),y.jsx(fle,{})]})]})})},"profile")})},vle=()=>(x.useEffect(()=>{(async()=>{try{await new Promise(t=>setTimeout(t,2e3));try{const t=new BroadcastChannel("supabase-auth");t.postMessage("oauth_complete"),t.close()}catch(t){console.warn(" [Popup] BroadcastChannel falhou:",t)}if(window.opener&&!window.opener.closed)try{window.opener.postMessage({type:"OAUTH_COMPLETE"},window.location.origin)}catch(t){console.warn(" [Popup] postMessage falhou:",t)}await new Promise(t=>setTimeout(t,500)),window.close()}catch(t){console.error(" [Popup] Erro:",t),setTimeout(()=>{window.close()},1e3)}})()},[]),y.jsx("div",{className:"flex min-h-screen items-center justify-center",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"mb-4 inline-flex h-16 w-16 items-center justify-center rounded-full bg-green-100",children:y.jsx("svg",{className:"h-8 w-8 animate-spin text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),y.jsx("h1",{className:"mb-2 text-xl font-semibold",children:"Finalizando autenticao..."}),y.jsx("p",{className:"text-muted-foreground text-sm",children:"Aguarde alguns segundos."})]})})),yle=({species:e,onClick:t,searchQuery:n,onImageResolved:i})=>{const{t:s}=At(),{specieName:o,familyName:l,isLoading:c}=fv(e.key),d=!c&&o!==""?o:void 0,{data:h,isLoading:m}=lh(e.key,d),v=c||m;if(x.useEffect(()=>{v||i?.(e.key,!!h?.imgUrl)},[v]),!v&&n?.trim()){const b=n.toLowerCase();if(!o.toLowerCase().includes(b)&&!l.toLowerCase().includes(b))return null}return y.jsxs("div",{onClick:t,className:"group bg-card relative cursor-pointer overflow-hidden rounded-xl border shadow-md transition-all duration-300 hover:shadow-2xl",children:[y.jsxs("div",{className:"bg-muted relative w-full overflow-hidden",children:[v?y.jsx("div",{className:"flex aspect-4/3 items-center justify-center",children:y.jsx(YP,{className:"text-muted-foreground size-8 animate-spin"})}):h?.imgUrl?y.jsxs(y.Fragment,{children:[y.jsx("img",{src:h.imgUrl,alt:o,className:"h-auto w-full object-cover transition-transform duration-500 group-hover:scale-105",loading:"lazy"}),y.jsx("div",{className:"absolute inset-0 bg-linear-to-t from-black/60 via-black/10 to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"})]}):y.jsxs("div",{className:"text-muted-foreground flex aspect-4/3 flex-col items-center justify-center",children:[y.jsx(WP,{className:"mb-2 size-12"}),y.jsx("p",{className:"text-xs",children:s("gallery.noImage")})]}),e.fav&&y.jsx("div",{className:"bg-card/95 absolute top-2 right-2 rounded-full p-1.5 shadow-lg backdrop-blur-sm",children:y.jsx(Yp,{className:"size-4 fill-red-500 text-red-500"})})]}),y.jsxs("div",{className:"p-3",children:[y.jsx("h3",{className:"text-foreground group-hover:text-primary mb-1 line-clamp-2 text-sm font-semibold italic transition-colors",children:o}),y.jsx("p",{className:"text-muted-foreground line-clamp-1 text-xs",children:l})]}),y.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-xl border-2 border-transparent transition-colors group-hover:border-blue-500"})]})},b0=20,ble=()=>{const[e,t]=x.useState(1);return x.useEffect(()=>{const n=()=>{const i=window.innerWidth;i>=1280?t(5):i>=1024?t(4):i>=768?t(3):i>=640?t(2):t(1)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e},xle=()=>{const{t:e}=At(),t=Ei(),n=Me(rt.userDb),i=Mt(za),s=ble(),o=x.useMemo(()=>n?.game_info?.seen_species??[],[n]),[l,c]=x.useState(""),[d,h]=x.useState(!1),[m,v]=x.useState("newest"),[b,_]=x.useState(!0),[C,E]=x.useState({}),[T,k]=x.useState(b0),N=x.useRef(null),P=x.useRef(null),O=x.useCallback((Q,ie)=>{E(ge=>ge[Q]===ie?ge:{...ge,[Q]:ie})},[]),j=x.useMemo(()=>{let Q=[...o];return d&&(Q=Q.filter(ie=>ie.fav)),Q.sort((ie,ge)=>{if(b){const ee=C[ie.key]===!1,de=C[ge.key]===!1;if(ee!==de)return ee?1:-1}const q=new Date(ie.date).getTime(),W=new Date(ge.date).getTime();return m==="newest"?W-q:q-W}),Q},[o,d,m,b,C]),V=j.slice(0,T),z=T<j.length,I=x.useMemo(()=>{const Q=Array.from({length:s},()=>[]);return V.forEach((ie,ge)=>{Q[ge%s].push({species:ie,globalIndex:ge})}),Q},[V,s]);x.useEffect(()=>{k(b0)},[d,m,b,l]),x.useEffect(()=>{if(!z||!P.current||!N.current)return;const Q=new IntersectionObserver(ie=>{ie[0].isIntersecting&&k(ge=>ge+b0)},{root:N.current,rootMargin:"200px"});return Q.observe(P.current),()=>Q.disconnect()},[z,T]);const $=x.useCallback(()=>{i(null),t({to:"/profile"})},[t,i]),Z=x.useCallback(Q=>{i(Q.key)},[i]),K=x.useCallback(()=>{h(Q=>!Q)},[]),Y=o.filter(Q=>Q.fav).length;return n?y.jsxs("div",{className:"bg-background fixed inset-0 z-50 flex flex-col",children:[y.jsxs(jt.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"bg-background/95 relative z-10 border-b backdrop-blur-sm",children:[y.jsxs("div",{className:"mx-auto flex max-w-7xl items-center gap-3 px-4 pt-3 pb-2",children:[y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("h1",{className:"text-base leading-tight font-bold",children:e("gallery.title")}),y.jsxs("span",{className:"text-muted-foreground text-xs",children:[j.length===o.length?`${o.length} ${e("gallery.species")}`:`${j.length} ${e("gallery.of")} ${o.length}`,Y>0&&y.jsxs("span",{className:"ml-1.5",children:[" ",Y," ",y.jsx(Yp,{className:"inline size-3 fill-current text-red-500"})]})]})]}),y.jsx(Wt,{onClick:$,variant:"ghost",size:"icon",className:"size-8 shrink-0",children:y.jsx(Ia,{className:"size-4"})})]}),y.jsxs("div",{className:"mx-auto flex max-w-7xl items-center gap-2 px-4 pb-3",children:[y.jsxs("div",{className:"relative min-w-0 flex-1",children:[y.jsx(QP,{className:"text-muted-foreground absolute top-1/2 left-3 size-3.5 -translate-y-1/2"}),y.jsx("input",{type:"text",placeholder:e("gallery.searchPlaceholder"),value:l,onChange:Q=>c(Q.target.value),className:"bg-muted/50 focus:bg-background focus:border-border h-8 w-full rounded-lg border border-transparent pl-8 text-sm transition-colors outline-none"})]}),y.jsxs("div",{className:"flex shrink-0 items-center gap-1.5",children:[y.jsxs(yO,{children:[y.jsx(bO,{asChild:!0,children:y.jsxs(Wt,{variant:"outline",size:"sm",className:"h-8 gap-1.5 px-2.5",children:[y.jsx(Y$,{className:"size-3.5"}),y.jsx("span",{className:"hidden text-xs sm:inline",children:e(m==="newest"?"gallery.newest":"gallery.oldest")})]})}),y.jsxs(xO,{align:"end",children:[y.jsx(Qi,{onClick:()=>v("newest"),children:e("gallery.newestFirst")}),y.jsx(Qi,{onClick:()=>v("oldest"),children:e("gallery.oldestFirst")})]})]}),y.jsxs(Wt,{onClick:()=>_(Q=>!Q),variant:b?"secondary":"ghost",size:"sm",className:"h-8 gap-1.5 px-2.5",title:e("gallery.photosFirst"),children:[y.jsx(WP,{className:"size-3.5"}),y.jsx("span",{className:"hidden text-xs sm:inline",children:e("gallery.photosFirst")})]}),y.jsxs(Wt,{onClick:K,variant:d?"secondary":"ghost",size:"sm",className:"h-8 gap-1.5 px-2.5",children:[y.jsx(Yp,{className:`size-3.5 ${d?"fill-current text-red-500":""}`}),y.jsx("span",{className:"hidden text-xs sm:inline",children:e("gallery.favorites")})]})]})]})]}),y.jsx("div",{ref:N,className:"flex-1 overflow-y-auto",children:j.length===0?y.jsx("div",{className:"flex h-full items-center justify-center",children:y.jsxs("div",{className:"text-muted-foreground text-center",children:[y.jsx(O_,{className:"mx-auto mb-3 size-16 opacity-30"}),y.jsx("p",{className:"mb-1 text-lg font-medium",children:e("gallery.noSpeciesFound")}),y.jsx("p",{className:"text-sm",children:e(d?"gallery.noFavorites":"gallery.adjustFilters")})]})}):y.jsx("div",{className:"p-4 md:p-6 lg:p-8",children:y.jsxs("div",{className:"mx-auto max-w-7xl",children:[y.jsx("div",{className:"flex gap-4",children:I.map((Q,ie)=>y.jsx("div",{className:"flex min-w-0 flex-1 flex-col gap-4",children:Q.map(({species:ge,globalIndex:q})=>y.jsx(jt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:q*.02,duration:.25},children:y.jsx(yle,{species:ge,onClick:()=>Z(ge),searchQuery:l,onImageResolved:O})},ge.key))},ie))}),z&&y.jsx("div",{ref:P,className:"h-4"})]})})})]}):null},_le=()=>{const e=Me(za);return y.jsx(ku,{mode:"wait",children:e===null?y.jsx(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:y.jsx(xle,{})},"gallery"):y.jsx(jt.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.2},children:y.jsx($u,{})},"detail")})},wle="/treevera/assets/avif-new-fav-icon-ViAcN2Tf.avif";function Sle(){const e=Ei();return y.jsx("div",{className:"relative flex min-h-screen flex-col items-center justify-center px-4 text-center",children:y.jsxs("div",{className:"flex max-w-md flex-col items-center gap-6",children:[y.jsx(ii,{alt:"Logo Treevera",src:wle,className:"size-20 rounded-full opacity-60"}),y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx("p",{className:"text-muted-foreground/60 text-sm font-medium tracking-widest uppercase",children:"Erro 404"}),y.jsx("h1",{className:"text-foreground text-3xl font-bold",children:"Pgina no encontrada"}),y.jsx("p",{className:"text-muted-foreground mt-1 text-base leading-relaxed",children:"Este galho no leva a lugar nenhum. A pgina pode ter sido movida ou nunca existiu."})]}),y.jsxs("button",{onClick:()=>{e({to:"/"})},className:"bg-primary text-primary-foreground hover:bg-primary/90 flex items-center gap-2 rounded-lg px-6 py-2.5 text-sm font-medium transition-colors",children:[y.jsx(Bg,{className:"h-4 w-4"}),"Voltar para a pgina inicial"]})]})})}const gi=S3({component:woe,notFoundComponent:Sle}),Cle=pi({getParentRoute:()=>gi,path:"/",component:Ws}),Ele=pi({getParentRoute:()=>gi,path:"/tree",component:Ws}),Ale=pi({getParentRoute:()=>gi,path:"/tree/$level1",component:Ws}),Tle=pi({getParentRoute:()=>gi,path:"/tree/$level1/$level2",component:Ws}),Rle=pi({getParentRoute:()=>gi,path:"/tree/$level1/$level2/$level3",component:Ws}),Nle=pi({getParentRoute:()=>gi,path:"/tree/$level1/$level2/$level3/$level4",component:Ws}),kle=pi({getParentRoute:()=>gi,path:"/tree/$level1/$level2/$level3/$level4/$level5",component:Ws}),Ple=pi({getParentRoute:()=>gi,path:"/tree/$level1/$level2/$level3/$level4/$level5/$level6",component:Ws}),Ole=pi({getParentRoute:()=>gi,path:"/tree/$level1/$level2/$level3/$level4/$level5/$level6/$level7",component:Ws}),Mle=pi({getParentRoute:()=>gi,path:"/auth-callback",component:vle}),Dle=pi({getParentRoute:()=>gi,path:"/login",component:_oe,beforeLoad:()=>{const e=Kf(),t=e.get(rt.initialized),n=e.get(rt.isAuthenticated);if(t&&n)throw Cg({to:"/profile"})}}),Lle=pi({getParentRoute:()=>gi,path:"/profile",component:gle,beforeLoad:()=>{const e=Kf(),t=e.get(rt.initialized),n=e.get(rt.isAuthenticated);if(t&&!n)throw Cg({to:"/login"})}}),jle=pi({getParentRoute:()=>gi,path:"/profile/species-gallery",component:_le,beforeLoad:()=>{const e=Kf(),t=e.get(rt.initialized),n=e.get(rt.isAuthenticated);if(t&&!n)throw Cg({to:"/login"})}}),Ile=pi({getParentRoute:()=>gi,path:"/challenges",component:Ws}),zle=pi({getParentRoute:()=>gi,path:"/challenges/daily/in-progress",component:Ws}),Ble=pi({getParentRoute:()=>gi,path:"/challenges/random/in-progress",component:Ws}),Ule=gi.addChildren([Dle,Cle,Ele,Ale,Tle,Rle,Nle,kle,Ple,Ole,Mle,Lle,jle,Ile,zle,Ble]),Fle=P3({routeTree:Ule,basepath:"/treevera"}),Vle=()=>{const e=iw(),{t}=At(),{isInitializing:n}=V_();return e?y.jsx("div",{children:t("loading.restoringCache")}):n?y.jsx("div",{children:t("loading.initializing")}):y.jsx(D3,{router:Fle})};var $le=["added","removed","updated"];function jN(e){return $le.includes(e)}async function Hle({queryClient:e,persister:t,maxAge:n=1e3*60*60*24,buster:i="",hydrateOptions:s}){try{const o=await t.restoreClient();if(o)if(o.timestamp){const l=Date.now()-o.timestamp>n,c=o.buster!==i;if(l||c)return t.removeClient();iZ(e,o.clientState,s)}else return t.removeClient()}catch(o){throw await t.removeClient(),o}}async function IN({queryClient:e,persister:t,buster:n="",dehydrateOptions:i}){const s={buster:n,timestamp:Date.now(),clientState:nZ(e,i)};await t.persistClient(s)}function qle(e){const t=e.queryClient.getQueryCache().subscribe(i=>{jN(i.type)&&IN(e)}),n=e.queryClient.getMutationCache().subscribe(i=>{jN(i.type)&&IN(e)});return()=>{t(),n()}}var Gle=({children:e,persistOptions:t,onSuccess:n,onError:i,...s})=>{const[o,l]=x.useState(!0),c=x.useRef({persistOptions:t,onSuccess:n,onError:i}),d=x.useRef(!1);return x.useEffect(()=>{c.current={persistOptions:t,onSuccess:n,onError:i}}),x.useEffect(()=>{const h={...c.current.persistOptions,queryClient:s.client};return d.current||(d.current=!0,Hle(h).then(()=>c.current.onSuccess?.()).catch(()=>c.current.onError?.()).finally(()=>{l(!1)})),o?void 0:qle(h)},[s.client,o]),y.jsx(yZ,{...s,children:y.jsx(bZ,{value:o,children:e})})};function Zx(){}function Kle(e,{interval:t=1e3,onError:n=Zx}={}){if(typeof e!="function")throw new Error("argument is not function.");let i=0,s=null,o=!1,l=!1;return async(...c)=>{if(s=c,!l){for(l=!0;o;)await new Promise(d=>ko.setTimeout(d,t));for(;Date.now()<i;)await new Promise(d=>ko.setTimeout(d,i-Date.now()));l=!1,o=!0;try{await e(...s)}catch(d){try{n(d)}catch{}}i=Date.now()+t,o=!1}}}var Wle=({storage:e,key:t="REACT_QUERY_OFFLINE_CACHE",throttleTime:n=1e3,serialize:i=JSON.stringify,deserialize:s=JSON.parse,retry:o})=>{if(e){const l=async c=>{try{const d=await i(c);await e.setItem(t,d);return}catch(d){return d}};return{persistClient:Kle(async c=>{let d=c,h=await l(d),m=0;for(;h&&d;)m++,d=await o?.({persistedClient:d,error:h,errorCount:m}),d&&(h=await l(d))},{interval:n}),restoreClient:async()=>{const c=await e.getItem(t);if(c)return await s(c)},removeClient:()=>e.removeItem(t)}}return{persistClient:Zx,restoreClient:()=>Promise.resolve(void 0),removeClient:Zx}};function gp(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var x0={exports:{}};var zN;function Yle(){return zN||(zN=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(i,s,o){function l(h,m){if(!s[h]){if(!i[h]){var v=typeof gp=="function"&&gp;if(!m&&v)return v(h,!0);if(c)return c(h,!0);var b=new Error("Cannot find module '"+h+"'");throw b.code="MODULE_NOT_FOUND",b}var _=s[h]={exports:{}};i[h][0].call(_.exports,function(C){var E=i[h][1][C];return l(E||C)},_,_.exports,n,i,s,o)}return s[h].exports}for(var c=typeof gp=="function"&&gp,d=0;d<o.length;d++)l(o[d]);return l})({1:[function(n,i,s){(function(o){var l=o.MutationObserver||o.WebKitMutationObserver,c;if(l){var d=0,h=new l(C),m=o.document.createTextNode("");h.observe(m,{characterData:!0}),c=function(){m.data=d=++d%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var v=new o.MessageChannel;v.port1.onmessage=C,c=function(){v.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?c=function(){var T=o.document.createElement("script");T.onreadystatechange=function(){C(),T.onreadystatechange=null,T.parentNode.removeChild(T),T=null},o.document.documentElement.appendChild(T)}:c=function(){setTimeout(C,0)};var b,_=[];function C(){b=!0;for(var T,k,N=_.length;N;){for(k=_,_=[],T=-1;++T<N;)k[T]();N=_.length}b=!1}i.exports=E;function E(T){_.push(T)===1&&!b&&c()}}).call(this,typeof zm<"u"?zm:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,i,s){var o=n(1);function l(){}var c={},d=["REJECTED"],h=["FULFILLED"],m=["PENDING"];i.exports=v;function v(j){if(typeof j!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,j!==l&&E(this,j)}v.prototype.catch=function(j){return this.then(null,j)},v.prototype.then=function(j,V){if(typeof j!="function"&&this.state===h||typeof V!="function"&&this.state===d)return this;var z=new this.constructor(l);if(this.state!==m){var I=this.state===h?j:V;_(z,I,this.outcome)}else this.queue.push(new b(z,j,V));return z};function b(j,V,z){this.promise=j,typeof V=="function"&&(this.onFulfilled=V,this.callFulfilled=this.otherCallFulfilled),typeof z=="function"&&(this.onRejected=z,this.callRejected=this.otherCallRejected)}b.prototype.callFulfilled=function(j){c.resolve(this.promise,j)},b.prototype.otherCallFulfilled=function(j){_(this.promise,this.onFulfilled,j)},b.prototype.callRejected=function(j){c.reject(this.promise,j)},b.prototype.otherCallRejected=function(j){_(this.promise,this.onRejected,j)};function _(j,V,z){o(function(){var I;try{I=V(z)}catch($){return c.reject(j,$)}I===j?c.reject(j,new TypeError("Cannot resolve promise with itself")):c.resolve(j,I)})}c.resolve=function(j,V){var z=T(C,V);if(z.status==="error")return c.reject(j,z.value);var I=z.value;if(I)E(j,I);else{j.state=h,j.outcome=V;for(var $=-1,Z=j.queue.length;++$<Z;)j.queue[$].callFulfilled(V)}return j},c.reject=function(j,V){j.state=d,j.outcome=V;for(var z=-1,I=j.queue.length;++z<I;)j.queue[z].callRejected(V);return j};function C(j){var V=j&&j.then;if(j&&(typeof j=="object"||typeof j=="function")&&typeof V=="function")return function(){V.apply(j,arguments)}}function E(j,V){var z=!1;function I(Y){z||(z=!0,c.reject(j,Y))}function $(Y){z||(z=!0,c.resolve(j,Y))}function Z(){V($,I)}var K=T(Z);K.status==="error"&&I(K.value)}function T(j,V){var z={};try{z.value=j(V),z.status="success"}catch(I){z.status="error",z.value=I}return z}v.resolve=k;function k(j){return j instanceof this?j:c.resolve(new this(l),j)}v.reject=N;function N(j){var V=new this(l);return c.reject(V,j)}v.all=P;function P(j){var V=this;if(Object.prototype.toString.call(j)!=="[object Array]")return this.reject(new TypeError("must be an array"));var z=j.length,I=!1;if(!z)return this.resolve([]);for(var $=new Array(z),Z=0,K=-1,Y=new this(l);++K<z;)Q(j[K],K);return Y;function Q(ie,ge){V.resolve(ie).then(q,function(W){I||(I=!0,c.reject(Y,W))});function q(W){$[ge]=W,++Z===z&&!I&&(I=!0,c.resolve(Y,$))}}}v.race=O;function O(j){var V=this;if(Object.prototype.toString.call(j)!=="[object Array]")return this.reject(new TypeError("must be an array"));var z=j.length,I=!1;if(!z)return this.resolve([]);for(var $=-1,Z=new this(l);++$<z;)K(j[$]);return Z;function K(Y){V.resolve(Y).then(function(Q){I||(I=!0,c.resolve(Z,Q))},function(Q){I||(I=!0,c.reject(Z,Q))})}}},{1:1}],3:[function(n,i,s){(function(o){typeof o.Promise!="function"&&(o.Promise=n(2))}).call(this,typeof zm<"u"?zm:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,i,s){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U};function l(U,te){if(!(U instanceof te))throw new TypeError("Cannot call a class as a function")}function c(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var d=c();function h(){try{if(!d||!d.open)return!1;var U=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),te=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!U||te)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function m(U,te){U=U||[],te=te||{};try{return new Blob(U,te)}catch(J){if(J.name!=="TypeError")throw J;for(var H=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,re=new H,le=0;le<U.length;le+=1)re.append(U[le]);return re.getBlob(te.type)}}typeof Promise>"u"&&n(3);var v=Promise;function b(U,te){te&&U.then(function(H){te(null,H)},function(H){te(H)})}function _(U,te,H){typeof te=="function"&&U.then(te),typeof H=="function"&&U.catch(H)}function C(U){return typeof U!="string"&&(console.warn(U+" used as a key, but it is not a string."),U=String(U)),U}function E(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var T="local-forage-detect-blob-support",k=void 0,N={},P=Object.prototype.toString,O="readonly",j="readwrite";function V(U){for(var te=U.length,H=new ArrayBuffer(te),re=new Uint8Array(H),le=0;le<te;le++)re[le]=U.charCodeAt(le);return H}function z(U){return new v(function(te){var H=U.transaction(T,j),re=m([""]);H.objectStore(T).put(re,"key"),H.onabort=function(le){le.preventDefault(),le.stopPropagation(),te(!1)},H.oncomplete=function(){var le=navigator.userAgent.match(/Chrome\/(\d+)/),J=navigator.userAgent.match(/Edge\//);te(J||!le||parseInt(le[1],10)>=43)}}).catch(function(){return!1})}function I(U){return typeof k=="boolean"?v.resolve(k):z(U).then(function(te){return k=te,k})}function $(U){var te=N[U.name],H={};H.promise=new v(function(re,le){H.resolve=re,H.reject=le}),te.deferredOperations.push(H),te.dbReady?te.dbReady=te.dbReady.then(function(){return H.promise}):te.dbReady=H.promise}function Z(U){var te=N[U.name],H=te.deferredOperations.pop();if(H)return H.resolve(),H.promise}function K(U,te){var H=N[U.name],re=H.deferredOperations.pop();if(re)return re.reject(te),re.promise}function Y(U,te){return new v(function(H,re){if(N[U.name]=N[U.name]||oe(),U.db)if(te)$(U),U.db.close();else return H(U.db);var le=[U.name];te&&le.push(U.version);var J=d.open.apply(d,le);te&&(J.onupgradeneeded=function(ve){var Ne=J.result;try{Ne.createObjectStore(U.storeName),ve.oldVersion<=1&&Ne.createObjectStore(T)}catch(ke){if(ke.name==="ConstraintError")console.warn('The database "'+U.name+'" has been upgraded from version '+ve.oldVersion+" to version "+ve.newVersion+', but the storage "'+U.storeName+'" already exists.');else throw ke}}),J.onerror=function(ve){ve.preventDefault(),re(J.error)},J.onsuccess=function(){var ve=J.result;ve.onversionchange=function(Ne){Ne.target.close()},H(ve),Z(U)}})}function Q(U){return Y(U,!1)}function ie(U){return Y(U,!0)}function ge(U,te){if(!U.db)return!0;var H=!U.db.objectStoreNames.contains(U.storeName),re=U.version<U.db.version,le=U.version>U.db.version;if(re&&(U.version!==te&&console.warn('The database "'+U.name+`" can't be downgraded from version `+U.db.version+" to version "+U.version+"."),U.version=U.db.version),le||H){if(H){var J=U.db.version+1;J>U.version&&(U.version=J)}return!0}return!1}function q(U){return new v(function(te,H){var re=new FileReader;re.onerror=H,re.onloadend=function(le){var J=btoa(le.target.result||"");te({__local_forage_encoded_blob:!0,data:J,type:U.type})},re.readAsBinaryString(U)})}function W(U){var te=V(atob(U.data));return m([te],{type:U.type})}function ee(U){return U&&U.__local_forage_encoded_blob}function de(U){var te=this,H=te._initReady().then(function(){var re=N[te._dbInfo.name];if(re&&re.dbReady)return re.dbReady});return _(H,U,U),H}function ae(U){$(U);for(var te=N[U.name],H=te.forages,re=0;re<H.length;re++){var le=H[re];le._dbInfo.db&&(le._dbInfo.db.close(),le._dbInfo.db=null)}return U.db=null,Q(U).then(function(J){return U.db=J,ge(U)?ie(U):J}).then(function(J){U.db=te.db=J;for(var ve=0;ve<H.length;ve++)H[ve]._dbInfo.db=J}).catch(function(J){throw K(U,J),J})}function G(U,te,H,re){re===void 0&&(re=1);try{var le=U.db.transaction(U.storeName,te);H(null,le)}catch(J){if(re>0&&(!U.db||J.name==="InvalidStateError"||J.name==="NotFoundError"))return v.resolve().then(function(){if(!U.db||J.name==="NotFoundError"&&!U.db.objectStoreNames.contains(U.storeName)&&U.version<=U.db.version)return U.db&&(U.version=U.db.version+1),ie(U)}).then(function(){return ae(U).then(function(){G(U,te,H,re-1)})}).catch(H);H(J)}}function oe(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function be(U){var te=this,H={db:null};if(U)for(var re in U)H[re]=U[re];var le=N[H.name];le||(le=oe(),N[H.name]=le),le.forages.push(te),te._initReady||(te._initReady=te.ready,te.ready=de);var J=[];function ve(){return v.resolve()}for(var Ne=0;Ne<le.forages.length;Ne++){var ke=le.forages[Ne];ke!==te&&J.push(ke._initReady().catch(ve))}var Ee=le.forages.slice(0);return v.all(J).then(function(){return H.db=le.db,Q(H)}).then(function(Pe){return H.db=Pe,ge(H,te._defaultConfig.version)?ie(H):Pe}).then(function(Pe){H.db=le.db=Pe,te._dbInfo=H;for(var Be=0;Be<Ee.length;Be++){var tt=Ee[Be];tt!==te&&(tt._dbInfo.db=H.db,tt._dbInfo.version=H.version)}})}function xe(U,te){var H=this;U=C(U);var re=new v(function(le,J){H.ready().then(function(){G(H._dbInfo,O,function(ve,Ne){if(ve)return J(ve);try{var ke=Ne.objectStore(H._dbInfo.storeName),Ee=ke.get(U);Ee.onsuccess=function(){var Pe=Ee.result;Pe===void 0&&(Pe=null),ee(Pe)&&(Pe=W(Pe)),le(Pe)},Ee.onerror=function(){J(Ee.error)}}catch(Pe){J(Pe)}})}).catch(J)});return b(re,te),re}function Re(U,te){var H=this,re=new v(function(le,J){H.ready().then(function(){G(H._dbInfo,O,function(ve,Ne){if(ve)return J(ve);try{var ke=Ne.objectStore(H._dbInfo.storeName),Ee=ke.openCursor(),Pe=1;Ee.onsuccess=function(){var Be=Ee.result;if(Be){var tt=Be.value;ee(tt)&&(tt=W(tt));var Ke=U(tt,Be.key,Pe++);Ke!==void 0?le(Ke):Be.continue()}else le()},Ee.onerror=function(){J(Ee.error)}}catch(Be){J(Be)}})}).catch(J)});return b(re,te),re}function Se(U,te,H){var re=this;U=C(U);var le=new v(function(J,ve){var Ne;re.ready().then(function(){return Ne=re._dbInfo,P.call(te)==="[object Blob]"?I(Ne.db).then(function(ke){return ke?te:q(te)}):te}).then(function(ke){G(re._dbInfo,j,function(Ee,Pe){if(Ee)return ve(Ee);try{var Be=Pe.objectStore(re._dbInfo.storeName);ke===null&&(ke=void 0);var tt=Be.put(ke,U);Pe.oncomplete=function(){ke===void 0&&(ke=null),J(ke)},Pe.onabort=Pe.onerror=function(){var Ke=tt.error?tt.error:tt.transaction.error;ve(Ke)}}catch(Ke){ve(Ke)}})}).catch(ve)});return b(le,H),le}function we(U,te){var H=this;U=C(U);var re=new v(function(le,J){H.ready().then(function(){G(H._dbInfo,j,function(ve,Ne){if(ve)return J(ve);try{var ke=Ne.objectStore(H._dbInfo.storeName),Ee=ke.delete(U);Ne.oncomplete=function(){le()},Ne.onerror=function(){J(Ee.error)},Ne.onabort=function(){var Pe=Ee.error?Ee.error:Ee.transaction.error;J(Pe)}}catch(Pe){J(Pe)}})}).catch(J)});return b(re,te),re}function je(U){var te=this,H=new v(function(re,le){te.ready().then(function(){G(te._dbInfo,j,function(J,ve){if(J)return le(J);try{var Ne=ve.objectStore(te._dbInfo.storeName),ke=Ne.clear();ve.oncomplete=function(){re()},ve.onabort=ve.onerror=function(){var Ee=ke.error?ke.error:ke.transaction.error;le(Ee)}}catch(Ee){le(Ee)}})}).catch(le)});return b(H,U),H}function De(U){var te=this,H=new v(function(re,le){te.ready().then(function(){G(te._dbInfo,O,function(J,ve){if(J)return le(J);try{var Ne=ve.objectStore(te._dbInfo.storeName),ke=Ne.count();ke.onsuccess=function(){re(ke.result)},ke.onerror=function(){le(ke.error)}}catch(Ee){le(Ee)}})}).catch(le)});return b(H,U),H}function Le(U,te){var H=this,re=new v(function(le,J){if(U<0){le(null);return}H.ready().then(function(){G(H._dbInfo,O,function(ve,Ne){if(ve)return J(ve);try{var ke=Ne.objectStore(H._dbInfo.storeName),Ee=!1,Pe=ke.openKeyCursor();Pe.onsuccess=function(){var Be=Pe.result;if(!Be){le(null);return}U===0||Ee?le(Be.key):(Ee=!0,Be.advance(U))},Pe.onerror=function(){J(Pe.error)}}catch(Be){J(Be)}})}).catch(J)});return b(re,te),re}function Xe(U){var te=this,H=new v(function(re,le){te.ready().then(function(){G(te._dbInfo,O,function(J,ve){if(J)return le(J);try{var Ne=ve.objectStore(te._dbInfo.storeName),ke=Ne.openKeyCursor(),Ee=[];ke.onsuccess=function(){var Pe=ke.result;if(!Pe){re(Ee);return}Ee.push(Pe.key),Pe.continue()},ke.onerror=function(){le(ke.error)}}catch(Pe){le(Pe)}})}).catch(le)});return b(H,U),H}function Qe(U,te){te=E.apply(this,arguments);var H=this.config();U=typeof U!="function"&&U||{},U.name||(U.name=U.name||H.name,U.storeName=U.storeName||H.storeName);var re=this,le;if(!U.name)le=v.reject("Invalid arguments");else{var J=U.name===H.name&&re._dbInfo.db,ve=J?v.resolve(re._dbInfo.db):Q(U).then(function(Ne){var ke=N[U.name],Ee=ke.forages;ke.db=Ne;for(var Pe=0;Pe<Ee.length;Pe++)Ee[Pe]._dbInfo.db=Ne;return Ne});U.storeName?le=ve.then(function(Ne){if(Ne.objectStoreNames.contains(U.storeName)){var ke=Ne.version+1;$(U);var Ee=N[U.name],Pe=Ee.forages;Ne.close();for(var Be=0;Be<Pe.length;Be++){var tt=Pe[Be];tt._dbInfo.db=null,tt._dbInfo.version=ke}var Ke=new v(function(ft,Ut){var Et=d.open(U.name,ke);Et.onerror=function(Xn){var Vi=Et.result;Vi.close(),Ut(Xn)},Et.onupgradeneeded=function(){var Xn=Et.result;Xn.deleteObjectStore(U.storeName)},Et.onsuccess=function(){var Xn=Et.result;Xn.close(),ft(Xn)}});return Ke.then(function(ft){Ee.db=ft;for(var Ut=0;Ut<Pe.length;Ut++){var Et=Pe[Ut];Et._dbInfo.db=ft,Z(Et._dbInfo)}}).catch(function(ft){throw(K(U,ft)||v.resolve()).catch(function(){}),ft})}}):le=ve.then(function(Ne){$(U);var ke=N[U.name],Ee=ke.forages;Ne.close();for(var Pe=0;Pe<Ee.length;Pe++){var Be=Ee[Pe];Be._dbInfo.db=null}var tt=new v(function(Ke,ft){var Ut=d.deleteDatabase(U.name);Ut.onerror=function(){var Et=Ut.result;Et&&Et.close(),ft(Ut.error)},Ut.onblocked=function(){console.warn('dropInstance blocked for database "'+U.name+'" until all open connections are closed')},Ut.onsuccess=function(){var Et=Ut.result;Et&&Et.close(),Ke(Et)}});return tt.then(function(Ke){ke.db=Ke;for(var ft=0;ft<Ee.length;ft++){var Ut=Ee[ft];Z(Ut._dbInfo)}}).catch(function(Ke){throw(K(U,Ke)||v.resolve()).catch(function(){}),Ke})})}return b(le,te),le}var Ct={_driver:"asyncStorage",_initStorage:be,_support:h(),iterate:Re,getItem:xe,setItem:Se,removeItem:we,clear:je,length:De,key:Le,keys:Xe,dropInstance:Qe};function yt(){return typeof openDatabase=="function"}var zt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dn="~~local_forage_type~",fn=/^~~local_forage_type~([^~]+)~/,jn="__lfsc__:",_n=jn.length,wn="arbf",qn="blob",Ti="si08",Cs="ui08",sn="uic8",Sr="si16",bt="si32",Tt="ur16",Bt="ui32",Ri="fl32",Ys="fl64",vi=_n+wn.length,Jr=Object.prototype.toString;function ts(U){var te=U.length*.75,H=U.length,re,le=0,J,ve,Ne,ke;U[U.length-1]==="="&&(te--,U[U.length-2]==="="&&te--);var Ee=new ArrayBuffer(te),Pe=new Uint8Array(Ee);for(re=0;re<H;re+=4)J=zt.indexOf(U[re]),ve=zt.indexOf(U[re+1]),Ne=zt.indexOf(U[re+2]),ke=zt.indexOf(U[re+3]),Pe[le++]=J<<2|ve>>4,Pe[le++]=(ve&15)<<4|Ne>>2,Pe[le++]=(Ne&3)<<6|ke&63;return Ee}function rn(U){var te=new Uint8Array(U),H="",re;for(re=0;re<te.length;re+=3)H+=zt[te[re]>>2],H+=zt[(te[re]&3)<<4|te[re+1]>>4],H+=zt[(te[re+1]&15)<<2|te[re+2]>>6],H+=zt[te[re+2]&63];return te.length%3===2?H=H.substring(0,H.length-1)+"=":te.length%3===1&&(H=H.substring(0,H.length-2)+"=="),H}function si(U,te){var H="";if(U&&(H=Jr.call(U)),U&&(H==="[object ArrayBuffer]"||U.buffer&&Jr.call(U.buffer)==="[object ArrayBuffer]")){var re,le=jn;U instanceof ArrayBuffer?(re=U,le+=wn):(re=U.buffer,H==="[object Int8Array]"?le+=Ti:H==="[object Uint8Array]"?le+=Cs:H==="[object Uint8ClampedArray]"?le+=sn:H==="[object Int16Array]"?le+=Sr:H==="[object Uint16Array]"?le+=Tt:H==="[object Int32Array]"?le+=bt:H==="[object Uint32Array]"?le+=Bt:H==="[object Float32Array]"?le+=Ri:H==="[object Float64Array]"?le+=Ys:te(new Error("Failed to get type for BinaryArray"))),te(le+rn(re))}else if(H==="[object Blob]"){var J=new FileReader;J.onload=function(){var ve=dn+U.type+"~"+rn(this.result);te(jn+qn+ve)},J.readAsArrayBuffer(U)}else try{te(JSON.stringify(U))}catch(ve){console.error("Couldn't convert value into a JSON string: ",U),te(null,ve)}}function En(U){if(U.substring(0,_n)!==jn)return JSON.parse(U);var te=U.substring(vi),H=U.substring(_n,vi),re;if(H===qn&&fn.test(te)){var le=te.match(fn);re=le[1],te=te.substring(le[0].length)}var J=ts(te);switch(H){case wn:return J;case qn:return m([J],{type:re});case Ti:return new Int8Array(J);case Cs:return new Uint8Array(J);case sn:return new Uint8ClampedArray(J);case Sr:return new Int16Array(J);case Tt:return new Uint16Array(J);case bt:return new Int32Array(J);case Bt:return new Uint32Array(J);case Ri:return new Float32Array(J);case Ys:return new Float64Array(J);default:throw new Error("Unkown type: "+H)}}var ns={serialize:si,deserialize:En,stringToBuffer:ts,bufferToString:rn};function eo(U,te,H,re){U.executeSql("CREATE TABLE IF NOT EXISTS "+te.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],H,re)}function Ga(U){var te=this,H={db:null};if(U)for(var re in U)H[re]=typeof U[re]!="string"?U[re].toString():U[re];var le=new v(function(J,ve){try{H.db=openDatabase(H.name,String(H.version),H.description,H.size)}catch(Ne){return ve(Ne)}H.db.transaction(function(Ne){eo(Ne,H,function(){te._dbInfo=H,J()},function(ke,Ee){ve(Ee)})},ve)});return H.serializer=ns,le}function Gn(U,te,H,re,le,J){U.executeSql(H,re,le,function(ve,Ne){Ne.code===Ne.SYNTAX_ERR?ve.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[te.storeName],function(ke,Ee){Ee.rows.length?J(ke,Ne):eo(ke,te,function(){ke.executeSql(H,re,le,J)},J)},J):J(ve,Ne)},J)}function Zs(U,te){var H=this;U=C(U);var re=new v(function(le,J){H.ready().then(function(){var ve=H._dbInfo;ve.db.transaction(function(Ne){Gn(Ne,ve,"SELECT * FROM "+ve.storeName+" WHERE key = ? LIMIT 1",[U],function(ke,Ee){var Pe=Ee.rows.length?Ee.rows.item(0).value:null;Pe&&(Pe=ve.serializer.deserialize(Pe)),le(Pe)},function(ke,Ee){J(Ee)})})}).catch(J)});return b(re,te),re}function Yt(U,te){var H=this,re=new v(function(le,J){H.ready().then(function(){var ve=H._dbInfo;ve.db.transaction(function(Ne){Gn(Ne,ve,"SELECT * FROM "+ve.storeName,[],function(ke,Ee){for(var Pe=Ee.rows,Be=Pe.length,tt=0;tt<Be;tt++){var Ke=Pe.item(tt),ft=Ke.value;if(ft&&(ft=ve.serializer.deserialize(ft)),ft=U(ft,Ke.key,tt+1),ft!==void 0){le(ft);return}}le()},function(ke,Ee){J(Ee)})})}).catch(J)});return b(re,te),re}function Zt(U,te,H,re){var le=this;U=C(U);var J=new v(function(ve,Ne){le.ready().then(function(){te===void 0&&(te=null);var ke=te,Ee=le._dbInfo;Ee.serializer.serialize(te,function(Pe,Be){Be?Ne(Be):Ee.db.transaction(function(tt){Gn(tt,Ee,"INSERT OR REPLACE INTO "+Ee.storeName+" (key, value) VALUES (?, ?)",[U,Pe],function(){ve(ke)},function(Ke,ft){Ne(ft)})},function(tt){if(tt.code===tt.QUOTA_ERR){if(re>0){ve(Zt.apply(le,[U,ke,H,re-1]));return}Ne(tt)}})})}).catch(Ne)});return b(J,H),J}function hn(U,te,H){return Zt.apply(this,[U,te,H,1])}function Kn(U,te){var H=this;U=C(U);var re=new v(function(le,J){H.ready().then(function(){var ve=H._dbInfo;ve.db.transaction(function(Ne){Gn(Ne,ve,"DELETE FROM "+ve.storeName+" WHERE key = ?",[U],function(){le()},function(ke,Ee){J(Ee)})})}).catch(J)});return b(re,te),re}function Wn(U){var te=this,H=new v(function(re,le){te.ready().then(function(){var J=te._dbInfo;J.db.transaction(function(ve){Gn(ve,J,"DELETE FROM "+J.storeName,[],function(){re()},function(Ne,ke){le(ke)})})}).catch(le)});return b(H,U),H}function An(U){var te=this,H=new v(function(re,le){te.ready().then(function(){var J=te._dbInfo;J.db.transaction(function(ve){Gn(ve,J,"SELECT COUNT(key) as c FROM "+J.storeName,[],function(Ne,ke){var Ee=ke.rows.item(0).c;re(Ee)},function(Ne,ke){le(ke)})})}).catch(le)});return b(H,U),H}function Yn(U,te){var H=this,re=new v(function(le,J){H.ready().then(function(){var ve=H._dbInfo;ve.db.transaction(function(Ne){Gn(Ne,ve,"SELECT key FROM "+ve.storeName+" WHERE id = ? LIMIT 1",[U+1],function(ke,Ee){var Pe=Ee.rows.length?Ee.rows.item(0).key:null;le(Pe)},function(ke,Ee){J(Ee)})})}).catch(J)});return b(re,te),re}function Zn(U){var te=this,H=new v(function(re,le){te.ready().then(function(){var J=te._dbInfo;J.db.transaction(function(ve){Gn(ve,J,"SELECT key FROM "+J.storeName,[],function(Ne,ke){for(var Ee=[],Pe=0;Pe<ke.rows.length;Pe++)Ee.push(ke.rows.item(Pe).key);re(Ee)},function(Ne,ke){le(ke)})})}).catch(le)});return b(H,U),H}function on(U){return new v(function(te,H){U.transaction(function(re){re.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(le,J){for(var ve=[],Ne=0;Ne<J.rows.length;Ne++)ve.push(J.rows.item(Ne).name);te({db:U,storeNames:ve})},function(le,J){H(J)})},function(re){H(re)})})}function Ni(U,te){te=E.apply(this,arguments);var H=this.config();U=typeof U!="function"&&U||{},U.name||(U.name=U.name||H.name,U.storeName=U.storeName||H.storeName);var re=this,le;return U.name?le=new v(function(J){var ve;U.name===H.name?ve=re._dbInfo.db:ve=openDatabase(U.name,"","",0),U.storeName?J({db:ve,storeNames:[U.storeName]}):J(on(ve))}).then(function(J){return new v(function(ve,Ne){J.db.transaction(function(ke){function Ee(Ke){return new v(function(ft,Ut){ke.executeSql("DROP TABLE IF EXISTS "+Ke,[],function(){ft()},function(Et,Xn){Ut(Xn)})})}for(var Pe=[],Be=0,tt=J.storeNames.length;Be<tt;Be++)Pe.push(Ee(J.storeNames[Be]));v.all(Pe).then(function(){ve()}).catch(function(Ke){Ne(Ke)})},function(ke){Ne(ke)})})}):le=v.reject("Invalid arguments"),b(le,te),le}var ri={_driver:"webSQLStorage",_initStorage:Ga,_support:yt(),iterate:Yt,getItem:Zs,setItem:hn,removeItem:Kn,clear:Wn,length:An,key:Yn,keys:Zn,dropInstance:Ni};function yi(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function an(U,te){var H=U.name+"/";return U.storeName!==te.storeName&&(H+=U.storeName+"/"),H}function ze(){var U="_localforage_support_test";try{return localStorage.setItem(U,!0),localStorage.removeItem(U),!1}catch{return!0}}function bi(){return!ze()||localStorage.length>0}function is(U){var te=this,H={};if(U)for(var re in U)H[re]=U[re];return H.keyPrefix=an(U,te._defaultConfig),bi()?(te._dbInfo=H,H.serializer=ns,v.resolve()):v.reject()}function oi(U){var te=this,H=te.ready().then(function(){for(var re=te._dbInfo.keyPrefix,le=localStorage.length-1;le>=0;le--){var J=localStorage.key(le);J.indexOf(re)===0&&localStorage.removeItem(J)}});return b(H,U),H}function mn(U,te){var H=this;U=C(U);var re=H.ready().then(function(){var le=H._dbInfo,J=localStorage.getItem(le.keyPrefix+U);return J&&(J=le.serializer.deserialize(J)),J});return b(re,te),re}function Tn(U,te){var H=this,re=H.ready().then(function(){for(var le=H._dbInfo,J=le.keyPrefix,ve=J.length,Ne=localStorage.length,ke=1,Ee=0;Ee<Ne;Ee++){var Pe=localStorage.key(Ee);if(Pe.indexOf(J)===0){var Be=localStorage.getItem(Pe);if(Be&&(Be=le.serializer.deserialize(Be)),Be=U(Be,Pe.substring(ve),ke++),Be!==void 0)return Be}}});return b(re,te),re}function Xs(U,te){var H=this,re=H.ready().then(function(){var le=H._dbInfo,J;try{J=localStorage.key(U)}catch{J=null}return J&&(J=J.substring(le.keyPrefix.length)),J});return b(re,te),re}function Es(U){var te=this,H=te.ready().then(function(){for(var re=te._dbInfo,le=localStorage.length,J=[],ve=0;ve<le;ve++){var Ne=localStorage.key(ve);Ne.indexOf(re.keyPrefix)===0&&J.push(Ne.substring(re.keyPrefix.length))}return J});return b(H,U),H}function oc(U){var te=this,H=te.keys().then(function(re){return re.length});return b(H,U),H}function Wu(U,te){var H=this;U=C(U);var re=H.ready().then(function(){var le=H._dbInfo;localStorage.removeItem(le.keyPrefix+U)});return b(re,te),re}function ac(U,te,H){var re=this;U=C(U);var le=re.ready().then(function(){te===void 0&&(te=null);var J=te;return new v(function(ve,Ne){var ke=re._dbInfo;ke.serializer.serialize(te,function(Ee,Pe){if(Pe)Ne(Pe);else try{localStorage.setItem(ke.keyPrefix+U,Ee),ve(J)}catch(Be){(Be.name==="QuotaExceededError"||Be.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Ne(Be),Ne(Be)}})})});return b(le,H),le}function to(U,te){if(te=E.apply(this,arguments),U=typeof U!="function"&&U||{},!U.name){var H=this.config();U.name=U.name||H.name,U.storeName=U.storeName||H.storeName}var re=this,le;return U.name?le=new v(function(J){U.storeName?J(an(U,re._defaultConfig)):J(U.name+"/")}).then(function(J){for(var ve=localStorage.length-1;ve>=0;ve--){var Ne=localStorage.key(ve);Ne.indexOf(J)===0&&localStorage.removeItem(Ne)}}):le=v.reject("Invalid arguments"),b(le,te),le}var Ka={_driver:"localStorageWrapper",_initStorage:is,_support:yi(),iterate:Tn,getItem:mn,setItem:ac,removeItem:Wu,clear:oi,length:oc,key:Xs,keys:Es,dropInstance:to},Qs=function(te,H){return te===H||typeof te=="number"&&typeof H=="number"&&isNaN(te)&&isNaN(H)},Cr=function(te,H){for(var re=te.length,le=0;le<re;){if(Qs(te[le],H))return!0;le++}return!1},ss=Array.isArray||function(U){return Object.prototype.toString.call(U)==="[object Array]"},Bi={},ln={},Js={INDEXEDDB:Ct,WEBSQL:ri,LOCALSTORAGE:Ka},lc=[Js.INDEXEDDB._driver,Js.WEBSQL._driver,Js.LOCALSTORAGE._driver],Ui=["dropInstance"],Fi=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ui),no={description:"",driver:lc.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Wa(U,te){U[te]=function(){var H=arguments;return U.ready().then(function(){return U[te].apply(U,H)})}}function io(){for(var U=1;U<arguments.length;U++){var te=arguments[U];if(te)for(var H in te)te.hasOwnProperty(H)&&(ss(te[H])?arguments[0][H]=te[H].slice():arguments[0][H]=te[H])}return arguments[0]}var so=(function(){function U(te){l(this,U);for(var H in Js)if(Js.hasOwnProperty(H)){var re=Js[H],le=re._driver;this[H]=le,Bi[le]||this.defineDriver(re)}this._defaultConfig=io({},no),this._config=io({},this._defaultConfig,te),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return U.prototype.config=function(H){if((typeof H>"u"?"undefined":o(H))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var re in H){if(re==="storeName"&&(H[re]=H[re].replace(/\W/g,"_")),re==="version"&&typeof H[re]!="number")return new Error("Database version must be a number.");this._config[re]=H[re]}return"driver"in H&&H.driver?this.setDriver(this._config.driver):!0}else return typeof H=="string"?this._config[H]:this._config},U.prototype.defineDriver=function(H,re,le){var J=new v(function(ve,Ne){try{var ke=H._driver,Ee=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!H._driver){Ne(Ee);return}for(var Pe=Fi.concat("_initStorage"),Be=0,tt=Pe.length;Be<tt;Be++){var Ke=Pe[Be],ft=!Cr(Ui,Ke);if((ft||H[Ke])&&typeof H[Ke]!="function"){Ne(Ee);return}}var Ut=function(){for(var Vi=function(Tr){return function(){var xi=new Error("Method "+Tr+" is not implemented by the current driver"),oo=v.reject(xi);return b(oo,arguments[arguments.length-1]),oo}},Er=0,ro=Ui.length;Er<ro;Er++){var Ar=Ui[Er];H[Ar]||(H[Ar]=Vi(Ar))}};Ut();var Et=function(Vi){Bi[ke]&&console.info("Redefining LocalForage driver: "+ke),Bi[ke]=H,ln[ke]=Vi,ve()};"_support"in H?H._support&&typeof H._support=="function"?H._support().then(Et,Ne):Et(!!H._support):Et(!0)}catch(Xn){Ne(Xn)}});return _(J,re,le),J},U.prototype.driver=function(){return this._driver||null},U.prototype.getDriver=function(H,re,le){var J=Bi[H]?v.resolve(Bi[H]):v.reject(new Error("Driver not found."));return _(J,re,le),J},U.prototype.getSerializer=function(H){var re=v.resolve(ns);return _(re,H),re},U.prototype.ready=function(H){var re=this,le=re._driverSet.then(function(){return re._ready===null&&(re._ready=re._initDriver()),re._ready});return _(le,H,H),le},U.prototype.setDriver=function(H,re,le){var J=this;ss(H)||(H=[H]);var ve=this._getSupportedDrivers(H);function Ne(){J._config.driver=J.driver()}function ke(Be){return J._extend(Be),Ne(),J._ready=J._initStorage(J._config),J._ready}function Ee(Be){return function(){var tt=0;function Ke(){for(;tt<Be.length;){var ft=Be[tt];return tt++,J._dbInfo=null,J._ready=null,J.getDriver(ft).then(ke).catch(Ke)}Ne();var Ut=new Error("No available storage method found.");return J._driverSet=v.reject(Ut),J._driverSet}return Ke()}}var Pe=this._driverSet!==null?this._driverSet.catch(function(){return v.resolve()}):v.resolve();return this._driverSet=Pe.then(function(){var Be=ve[0];return J._dbInfo=null,J._ready=null,J.getDriver(Be).then(function(tt){J._driver=tt._driver,Ne(),J._wrapLibraryMethodsWithReady(),J._initDriver=Ee(ve)})}).catch(function(){Ne();var Be=new Error("No available storage method found.");return J._driverSet=v.reject(Be),J._driverSet}),_(this._driverSet,re,le),this._driverSet},U.prototype.supports=function(H){return!!ln[H]},U.prototype._extend=function(H){io(this,H)},U.prototype._getSupportedDrivers=function(H){for(var re=[],le=0,J=H.length;le<J;le++){var ve=H[le];this.supports(ve)&&re.push(ve)}return re},U.prototype._wrapLibraryMethodsWithReady=function(){for(var H=0,re=Fi.length;H<re;H++)Wa(this,Fi[H])},U.prototype.createInstance=function(H){return new U(H)},U})(),ht=new so;i.exports=ht},{3:3}]},{},[4])(4)})})(x0)),x0.exports}var Zle=Yle();const Xle=Xx(Zle),Qle=new vZ({defaultOptions:{queries:{gcTime:1e3*60*60*24,staleTime:1e3*60*5,retry:1,refetchOnWindowFocus:!1}}}),Jle=Xle.createInstance({name:"treevera-db",storeName:"react-query-cache"}),ece=Wle({storage:Jle,key:"treevera-react-query-cache",throttleTime:1e3});Iz.createRoot(document.getElementById("root")).render(y.jsx(x.StrictMode,{children:y.jsx(Gle,{client:Qle,persistOptions:{persister:ece},children:y.jsx(q8,{children:y.jsx(Vle,{})})})}));
