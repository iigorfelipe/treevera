function Sz(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(i,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function G0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xy={exports:{}},Fd={};var eA;function Cz(){if(eA)return Fd;eA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:e,type:i,key:l,ref:s!==void 0?s:null,props:o}}return Fd.Fragment=t,Fd.jsx=n,Fd.jsxs=n,Fd}var tA;function Ez(){return tA||(tA=1,Xy.exports=Cz()),Xy.exports}var y=Ez(),Qy={exports:{}},at={};var nA;function Az(){if(nA)return at;nA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function _(K){return K===null||typeof K!="object"?null:(K=b&&K[b]||K["@@iterator"],typeof K=="function"?K:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function N(K,oe,be){this.props=K,this.context=oe,this.refs=T,this.updater=be||C}N.prototype.isReactComponent={},N.prototype.setState=function(K,oe){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,oe,"setState")},N.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function k(){}k.prototype=N.prototype;function O(K,oe,be){this.props=K,this.context=oe,this.refs=T,this.updater=be||C}var M=O.prototype=new k;M.constructor=O,E(M,N.prototype),M.isPureReactComponent=!0;var j=Array.isArray;function V(){}var z={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function $(K,oe,be){var xe=be.ref;return{$$typeof:e,type:K,key:oe,ref:xe!==void 0?xe:null,props:be}}function Y(K,oe){return $(K.type,oe,K.props)}function q(K){return typeof K=="object"&&K!==null&&K.$$typeof===e}function W(K){var oe={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(be){return oe[be]})}var Z=/\/+/g;function ie(K,oe){return typeof K=="object"&&K!==null&&K.key!=null?W(""+K.key):oe.toString(36)}function ye(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(V,V):(K.status="pending",K.then(function(oe){K.status==="pending"&&(K.status="fulfilled",K.value=oe)},function(oe){K.status==="pending"&&(K.status="rejected",K.reason=oe)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function G(K,oe,be,xe,Re){var we=typeof K;(we==="undefined"||we==="boolean")&&(K=null);var Se=!1;if(K===null)Se=!0;else switch(we){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(K.$$typeof){case e:case t:Se=!0;break;case m:return Se=K._init,G(Se(K._payload),oe,be,xe,Re)}}if(Se)return Re=Re(K),Se=xe===""?"."+ie(K,0):xe,j(Re)?(be="",Se!=null&&(be=Se.replace(Z,"$&/")+"/"),G(Re,oe,be,"",function(Le){return Le})):Re!=null&&(q(Re)&&(Re=Y(Re,be+(Re.key==null||K&&K.key===Re.key?"":(""+Re.key).replace(Z,"$&/")+"/")+Se)),oe.push(Re)),1;Se=0;var je=xe===""?".":xe+":";if(j(K))for(var De=0;De<K.length;De++)xe=K[De],we=je+ie(xe,De),Se+=G(xe,oe,be,we,Re);else if(De=_(K),typeof De=="function")for(K=De.call(K),De=0;!(xe=K.next()).done;)xe=xe.value,we=je+ie(xe,De++),Se+=G(xe,oe,be,we,Re);else if(we==="object"){if(typeof K.then=="function")return G(ye(K),oe,be,xe,Re);throw oe=String(K),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Se}function X(K,oe,be){if(K==null)return K;var xe=[],Re=0;return G(K,xe,"","",function(we){return oe.call(be,we,Re++)}),xe}function ne(K){if(K._status===-1){var oe=K._result;oe=oe(),oe.then(function(be){(K._status===0||K._status===-1)&&(K._status=1,K._result=be)},function(be){(K._status===0||K._status===-1)&&(K._status=2,K._result=be)}),K._status===-1&&(K._status=0,K._result=oe)}if(K._status===1)return K._result.default;throw K._result}var de=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)},ae={map:X,forEach:function(K,oe,be){X(K,function(){oe.apply(this,arguments)},be)},count:function(K){var oe=0;return X(K,function(){oe++}),oe},toArray:function(K){return X(K,function(oe){return oe})||[]},only:function(K){if(!q(K))throw Error("React.Children.only expected to receive a single React element child.");return K}};return at.Activity=v,at.Children=ae,at.Component=N,at.Fragment=n,at.Profiler=s,at.PureComponent=O,at.StrictMode=i,at.Suspense=d,at.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,at.__COMPILER_RUNTIME={__proto__:null,c:function(K){return z.H.useMemoCache(K)}},at.cache=function(K){return function(){return K.apply(null,arguments)}},at.cacheSignal=function(){return null},at.cloneElement=function(K,oe,be){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var xe=E({},K.props),Re=K.key;if(oe!=null)for(we in oe.key!==void 0&&(Re=""+oe.key),oe)!I.call(oe,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&oe.ref===void 0||(xe[we]=oe[we]);var we=arguments.length-2;if(we===1)xe.children=be;else if(1<we){for(var Se=Array(we),je=0;je<we;je++)Se[je]=arguments[je+2];xe.children=Se}return $(K.type,Re,xe)},at.createContext=function(K){return K={$$typeof:l,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:o,_context:K},K},at.createElement=function(K,oe,be){var xe,Re={},we=null;if(oe!=null)for(xe in oe.key!==void 0&&(we=""+oe.key),oe)I.call(oe,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(Re[xe]=oe[xe]);var Se=arguments.length-2;if(Se===1)Re.children=be;else if(1<Se){for(var je=Array(Se),De=0;De<Se;De++)je[De]=arguments[De+2];Re.children=je}if(K&&K.defaultProps)for(xe in Se=K.defaultProps,Se)Re[xe]===void 0&&(Re[xe]=Se[xe]);return $(K,we,Re)},at.createRef=function(){return{current:null}},at.forwardRef=function(K){return{$$typeof:c,render:K}},at.isValidElement=q,at.lazy=function(K){return{$$typeof:m,_payload:{_status:-1,_result:K},_init:ne}},at.memo=function(K,oe){return{$$typeof:h,type:K,compare:oe===void 0?null:oe}},at.startTransition=function(K){var oe=z.T,be={};z.T=be;try{var xe=K(),Re=z.S;Re!==null&&Re(be,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(V,de)}catch(we){de(we)}finally{oe!==null&&be.types!==null&&(oe.types=be.types),z.T=oe}},at.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},at.use=function(K){return z.H.use(K)},at.useActionState=function(K,oe,be){return z.H.useActionState(K,oe,be)},at.useCallback=function(K,oe){return z.H.useCallback(K,oe)},at.useContext=function(K){return z.H.useContext(K)},at.useDebugValue=function(){},at.useDeferredValue=function(K,oe){return z.H.useDeferredValue(K,oe)},at.useEffect=function(K,oe){return z.H.useEffect(K,oe)},at.useEffectEvent=function(K){return z.H.useEffectEvent(K)},at.useId=function(){return z.H.useId()},at.useImperativeHandle=function(K,oe,be){return z.H.useImperativeHandle(K,oe,be)},at.useInsertionEffect=function(K,oe){return z.H.useInsertionEffect(K,oe)},at.useLayoutEffect=function(K,oe){return z.H.useLayoutEffect(K,oe)},at.useMemo=function(K,oe){return z.H.useMemo(K,oe)},at.useOptimistic=function(K,oe){return z.H.useOptimistic(K,oe)},at.useReducer=function(K,oe,be){return z.H.useReducer(K,oe,be)},at.useRef=function(K){return z.H.useRef(K)},at.useState=function(K){return z.H.useState(K)},at.useSyncExternalStore=function(K,oe,be){return z.H.useSyncExternalStore(K,oe,be)},at.useTransition=function(){return z.H.useTransition()},at.version="19.2.4",at}var iA;function qf(){return iA||(iA=1,Qy.exports=Az()),Qy.exports}var x=qf();const Pt=G0(x),K0=Sz({__proto__:null,default:Pt},[x]);var Jy={exports:{}},Vd={},eb={exports:{}},tb={};var sA;function Tz(){return sA||(sA=1,(function(e){function t(G,X){var ne=G.length;G.push(X);e:for(;0<ne;){var de=ne-1>>>1,ae=G[de];if(0<s(ae,X))G[de]=X,G[ne]=ae,ne=de;else break e}}function n(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var X=G[0],ne=G.pop();if(ne!==X){G[0]=ne;e:for(var de=0,ae=G.length,K=ae>>>1;de<K;){var oe=2*(de+1)-1,be=G[oe],xe=oe+1,Re=G[xe];if(0>s(be,ne))xe<ae&&0>s(Re,be)?(G[de]=Re,G[xe]=ne,de=xe):(G[de]=be,G[oe]=ne,de=oe);else if(xe<ae&&0>s(Re,ne))G[de]=Re,G[xe]=ne,de=xe;else break e}}return X}function s(G,X){var ne=G.sortIndex-X.sortIndex;return ne!==0?ne:G.id-X.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],h=[],m=1,v=null,b=3,_=!1,C=!1,E=!1,T=!1,N=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function M(G){for(var X=n(h);X!==null;){if(X.callback===null)i(h);else if(X.startTime<=G)i(h),X.sortIndex=X.expirationTime,t(d,X);else break;X=n(h)}}function j(G){if(E=!1,M(G),!C)if(n(d)!==null)C=!0,V||(V=!0,W());else{var X=n(h);X!==null&&ye(j,X.startTime-G)}}var V=!1,z=-1,I=5,$=-1;function Y(){return T?!0:!(e.unstable_now()-$<I)}function q(){if(T=!1,V){var G=e.unstable_now();$=G;var X=!0;try{e:{C=!1,E&&(E=!1,k(z),z=-1),_=!0;var ne=b;try{t:{for(M(G),v=n(d);v!==null&&!(v.expirationTime>G&&Y());){var de=v.callback;if(typeof de=="function"){v.callback=null,b=v.priorityLevel;var ae=de(v.expirationTime<=G);if(G=e.unstable_now(),typeof ae=="function"){v.callback=ae,M(G),X=!0;break t}v===n(d)&&i(d),M(G)}else i(d);v=n(d)}if(v!==null)X=!0;else{var K=n(h);K!==null&&ye(j,K.startTime-G),X=!1}}break e}finally{v=null,b=ne,_=!1}X=void 0}}finally{X?W():V=!1}}}var W;if(typeof O=="function")W=function(){O(q)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ie=Z.port2;Z.port1.onmessage=q,W=function(){ie.postMessage(null)}}else W=function(){N(q,0)};function ye(G,X){z=N(function(){G(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(G){switch(b){case 1:case 2:case 3:var X=3;break;default:X=b}var ne=b;b=X;try{return G()}finally{b=ne}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(G,X){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ne=b;b=G;try{return X()}finally{b=ne}},e.unstable_scheduleCallback=function(G,X,ne){var de=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?de+ne:de):ne=de,G){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=ne+ae,G={id:m++,callback:X,priorityLevel:G,startTime:ne,expirationTime:ae,sortIndex:-1},ne>de?(G.sortIndex=ne,t(h,G),n(d)===null&&G===n(h)&&(E?(k(z),z=-1):E=!0,ye(j,ne-de))):(G.sortIndex=ae,t(d,G),C||_||(C=!0,V||(V=!0,W()))),G},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(G){var X=b;return function(){var ne=b;b=X;try{return G.apply(this,arguments)}finally{b=ne}}}})(tb)),tb}var rA;function Rz(){return rA||(rA=1,eb.exports=Tz()),eb.exports}var nb={exports:{}},Si={};var oA;function kz(){if(oA)return Si;oA=1;var e=qf();function t(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,h,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:d,containerInfo:h,implementation:m}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Si.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Si.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return o(d,h,null,m)},Si.flushSync=function(d){var h=l.T,m=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=h,i.p=m,i.d.f()}},Si.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(d,h))},Si.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Si.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,v=c(m,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?i.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:_}):m==="script"&&i.d.X(d,{crossOrigin:v,integrity:b,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Si.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);i.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(d)},Si.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,v=c(m,h.crossOrigin);i.d.L(d,m,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Si.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=c(h.as,h.crossOrigin);i.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(d)},Si.requestFormReset=function(d){i.d.r(d)},Si.unstable_batchedUpdates=function(d,h){return d(h)},Si.useFormState=function(d,h,m){return l.H.useFormState(d,h,m)},Si.useFormStatus=function(){return l.H.useHostTransitionStatus()},Si.version="19.2.4",Si}var aA;function zk(){if(aA)return nb.exports;aA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),nb.exports=kz(),nb.exports}var lA;function Nz(){if(lA)return Vd;lA=1;var e=Rz(),t=qf(),n=zk();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)a+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,f=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(f=a.return),r=a.return;while(r)}return a.tag===3?f:null}function l(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function c(r){if(r.tag===31){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(i(188))}function h(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var f=r,g=a;;){var S=f.return;if(S===null)break;var A=S.alternate;if(A===null){if(g=S.return,g!==null){f=g;continue}break}if(S.child===A.child){for(A=S.child;A;){if(A===f)return d(S),r;if(A===g)return d(S),a;A=A.sibling}throw Error(i(188))}if(f.return!==g.return)f=S,g=A;else{for(var D=!1,F=S.child;F;){if(F===f){D=!0,f=S,g=A;break}if(F===g){D=!0,g=S,f=A;break}F=F.sibling}if(!D){for(F=A.child;F;){if(F===f){D=!0,f=A,g=S;break}if(F===g){D=!0,g=A,f=S;break}F=F.sibling}if(!D)throw Error(i(189))}}if(f.alternate!==g)throw Error(i(190))}if(f.tag!==3)throw Error(i(188));return f.stateNode.current===f?r:a}function m(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=m(r),a!==null)return a;r=r.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),O=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function W(r){return r===null||typeof r!="object"?null:(r=q&&r[q]||r["@@iterator"],typeof r=="function"?r:null)}var Z=Symbol.for("react.client.reference");function ie(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===Z?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case N:return"Profiler";case T:return"StrictMode";case j:return"Suspense";case V:return"SuspenseList";case $:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case O:return r.displayName||"Context";case k:return(r._context.displayName||"Context")+".Consumer";case M:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case z:return a=r.displayName||null,a!==null?a:ie(r.type)||"Memo";case I:a=r._payload,r=r._init;try{return ie(r(a))}catch{}}return null}var ye=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},de=[],ae=-1;function K(r){return{current:r}}function oe(r){0>ae||(r.current=de[ae],de[ae]=null,ae--)}function be(r,a){ae++,de[ae]=r.current,r.current=a}var xe=K(null),Re=K(null),we=K(null),Se=K(null);function je(r,a){switch(be(we,a),be(Re,r),be(xe,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?SE(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=SE(a),r=CE(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}oe(xe),be(xe,r)}function De(){oe(xe),oe(Re),oe(we)}function Le(r){r.memoizedState!==null&&be(Se,r);var a=xe.current,f=CE(a,r.type);a!==f&&(be(Re,r),be(xe,f))}function Ze(r){Re.current===r&&(oe(xe),oe(Re)),Se.current===r&&(oe(Se),Id._currentValue=ne)}var Xe,Ct;function yt(r){if(Xe===void 0)try{throw Error()}catch(f){var a=f.stack.trim().match(/\n( *(at )?)/);Xe=a&&a[1]||"",Ct=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xe+r+Ct}var zt=!1;function dn(r,a){if(!r||zt)return"";zt=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(a){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(ve){var me=ve}Reflect.construct(r,[],Te)}else{try{Te.call()}catch(ve){me=ve}r.call(Te.prototype)}}else{try{throw Error()}catch(ve){me=ve}(Te=r())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(ve){if(ve&&me&&typeof ve.stack=="string")return[ve.stack,me.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=g.DetermineComponentFrameRoot(),D=A[0],F=A[1];if(D&&F){var te=D.split(`
`),he=F.split(`
`);for(S=g=0;g<te.length&&!te[g].includes("DetermineComponentFrameRoot");)g++;for(;S<he.length&&!he[S].includes("DetermineComponentFrameRoot");)S++;if(g===te.length||S===he.length)for(g=te.length-1,S=he.length-1;1<=g&&0<=S&&te[g]!==he[S];)S--;for(;1<=g&&0<=S;g--,S--)if(te[g]!==he[S]){if(g!==1||S!==1)do if(g--,S--,0>S||te[g]!==he[S]){var _e=`
`+te[g].replace(" at new "," at ");return r.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",r.displayName)),_e}while(1<=g&&0<=S);break}}}finally{zt=!1,Error.prepareStackTrace=f}return(f=r?r.displayName||r.name:"")?yt(f):""}function fn(r,a){switch(r.tag){case 26:case 27:case 5:return yt(r.type);case 16:return yt("Lazy");case 13:return r.child!==a&&a!==null?yt("Suspense Fallback"):yt("Suspense");case 19:return yt("SuspenseList");case 0:case 15:return dn(r.type,!1);case 11:return dn(r.type.render,!1);case 1:return dn(r.type,!0);case 31:return yt("Activity");default:return""}}function In(r){try{var a="",f=null;do a+=fn(r,f),f=r,r=r.return;while(r);return a}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var _n=Object.prototype.hasOwnProperty,wn=e.unstable_scheduleCallback,Kn=e.unstable_cancelCallback,Ti=e.unstable_shouldYield,Es=e.unstable_requestPaint,sn=e.unstable_now,Sr=e.unstable_getCurrentPriorityLevel,bt=e.unstable_ImmediatePriority,Tt=e.unstable_UserBlockingPriority,Bt=e.unstable_NormalPriority,Ri=e.unstable_LowPriority,Ws=e.unstable_IdlePriority,vi=e.log,Jr=e.unstable_setDisableYieldValue,ts=null,rn=null;function si(r){if(typeof vi=="function"&&Jr(r),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(ts,r)}catch{}}var En=Math.clz32?Math.clz32:Ha,ns=Math.log,eo=Math.LN2;function Ha(r){return r>>>=0,r===0?32:31-(ns(r)/eo|0)|0}var qn=256,Ys=262144,Yt=4194304;function Zt(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function hn(r,a,f){var g=r.pendingLanes;if(g===0)return 0;var S=0,A=r.suspendedLanes,D=r.pingedLanes;r=r.warmLanes;var F=g&134217727;return F!==0?(g=F&~A,g!==0?S=Zt(g):(D&=F,D!==0?S=Zt(D):f||(f=F&~r,f!==0&&(S=Zt(f))))):(F=g&~A,F!==0?S=Zt(F):D!==0?S=Zt(D):f||(f=g&~r,f!==0&&(S=Zt(f)))),S===0?0:a!==0&&a!==S&&(a&A)===0&&(A=S&-S,f=a&-a,A>=f||A===32&&(f&4194048)!==0)?a:S}function Wn(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Yn(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function An(){var r=Yt;return Yt<<=1,(Yt&62914560)===0&&(Yt=4194304),r}function Zn(r){for(var a=[],f=0;31>f;f++)a.push(r);return a}function Xn(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function on(r,a,f,g,S,A){var D=r.pendingLanes;r.pendingLanes=f,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=f,r.entangledLanes&=f,r.errorRecoveryDisabledLanes&=f,r.shellSuspendCounter=0;var F=r.entanglements,te=r.expirationTimes,he=r.hiddenUpdates;for(f=D&~f;0<f;){var _e=31-En(f),Te=1<<_e;F[_e]=0,te[_e]=-1;var me=he[_e];if(me!==null)for(he[_e]=null,_e=0;_e<me.length;_e++){var ve=me[_e];ve!==null&&(ve.lane&=-536870913)}f&=~Te}g!==0&&ki(r,g,0),A!==0&&S===0&&r.tag!==0&&(r.suspendedLanes|=A&~(D&~a))}function ki(r,a,f){r.pendingLanes|=a,r.suspendedLanes&=~a;var g=31-En(a);r.entangledLanes|=a,r.entanglements[g]=r.entanglements[g]|1073741824|f&261930}function ri(r,a){var f=r.entangledLanes|=a;for(r=r.entanglements;f;){var g=31-En(f),S=1<<g;S&a|r[g]&a&&(r[g]|=a),f&=~S}}function yi(r,a){var f=a&-a;return f=(f&42)!==0?1:an(f),(f&(r.suspendedLanes|a))!==0?0:f}function an(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ze(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function bi(){var r=X.p;return r!==0?r:(r=window.event,r===void 0?32:qE(r.type))}function is(r,a){var f=X.p;try{return X.p=r,a()}finally{X.p=f}}var oi=Math.random().toString(36).slice(2),pn="__reactFiber$"+oi,Tn="__reactProps$"+oi,Zs="__reactContainer$"+oi,As="__reactEvents$"+oi,rc="__reactListeners$"+oi,Wu="__reactHandles$"+oi,oc="__reactResources$"+oi,to="__reactMarker$"+oi;function Ga(r){delete r[pn],delete r[Tn],delete r[As],delete r[rc],delete r[Wu]}function Xs(r){var a=r[pn];if(a)return a;for(var f=r.parentNode;f;){if(a=f[Zs]||f[pn]){if(f=a.alternate,a.child!==null||f!==null&&f.child!==null)for(r=OE(r);r!==null;){if(f=r[pn])return f;r=OE(r)}return a}r=f,f=r.parentNode}return null}function Cr(r){if(r=r[pn]||r[Zs]){var a=r.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return r}return null}function ss(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function zi(r){var a=r[oc];return a||(a=r[oc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ln(r){r[to]=!0}var Qs=new Set,ac={};function Bi(r,a){Ui(r,a),Ui(r+"Capture",a)}function Ui(r,a){for(ac[r]=a,r=0;r<a.length;r++)Qs.add(a[r])}var no=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ka={},io={};function so(r){return _n.call(io,r)?!0:_n.call(Ka,r)?!1:no.test(r)?io[r]=!0:(Ka[r]=!0,!1)}function ft(r,a,f){if(so(a))if(f===null)r.removeAttribute(a);else{switch(typeof f){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var g=a.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+f)}}function U(r,a,f){if(f===null)r.removeAttribute(a);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+f)}}function ee(r,a,f,g){if(g===null)r.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(f);return}r.setAttributeNS(a,f,""+g)}}function H(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function re(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function le(r,a,f){var g=Object.getOwnPropertyDescriptor(r.constructor.prototype,a);if(!r.hasOwnProperty(a)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var S=g.get,A=g.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return S.call(this)},set:function(D){f=""+D,A.call(this,D)}}),Object.defineProperty(r,a,{enumerable:g.enumerable}),{getValue:function(){return f},setValue:function(D){f=""+D},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function J(r){if(!r._valueTracker){var a=re(r)?"checked":"value";r._valueTracker=le(r,a,""+r[a])}}function ge(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var f=a.getValue(),g="";return r&&(g=re(r)?r.checked?"true":"false":r.value),r=g,r!==f?(a.setValue(r),!0):!1}function ke(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Ne=/[\n"\\]/g;function Ee(r){return r.replace(Ne,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Oe(r,a,f,g,S,A,D,F){r.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.type=D:r.removeAttribute("type"),a!=null?D==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+H(a)):r.value!==""+H(a)&&(r.value=""+H(a)):D!=="submit"&&D!=="reset"||r.removeAttribute("value"),a!=null?et(r,D,H(a)):f!=null?et(r,D,H(f)):g!=null&&r.removeAttribute("value"),S==null&&A!=null&&(r.defaultChecked=!!A),S!=null&&(r.checked=S&&typeof S!="function"&&typeof S!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?r.name=""+H(F):r.removeAttribute("name")}function Be(r,a,f,g,S,A,D,F){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(r.type=A),a!=null||f!=null){if(!(A!=="submit"&&A!=="reset"||a!=null)){J(r);return}f=f!=null?""+H(f):"",a=a!=null?""+H(a):f,F||a===r.value||(r.value=a),r.defaultValue=a}g=g??S,g=typeof g!="function"&&typeof g!="symbol"&&!!g,r.checked=F?r.checked:!!g,r.defaultChecked=!!g,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(r.name=D),J(r)}function et(r,a,f){a==="number"&&ke(r.ownerDocument)===r||r.defaultValue===""+f||(r.defaultValue=""+f)}function qe(r,a,f,g){if(r=r.options,a){a={};for(var S=0;S<f.length;S++)a["$"+f[S]]=!0;for(f=0;f<r.length;f++)S=a.hasOwnProperty("$"+r[f].value),r[f].selected!==S&&(r[f].selected=S),S&&g&&(r[f].defaultSelected=!0)}else{for(f=""+H(f),a=null,S=0;S<r.length;S++){if(r[S].value===f){r[S].selected=!0,g&&(r[S].defaultSelected=!0);return}a!==null||r[S].disabled||(a=r[S])}a!==null&&(a.selected=!0)}}function dt(r,a,f){if(a!=null&&(a=""+H(a),a!==r.value&&(r.value=a),f==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=f!=null?""+H(f):""}function Ut(r,a,f,g){if(a==null){if(g!=null){if(f!=null)throw Error(i(92));if(ye(g)){if(1<g.length)throw Error(i(93));g=g[0]}f=g}f==null&&(f=""),a=f}f=H(a),r.defaultValue=f,g=r.textContent,g===f&&g!==""&&g!==null&&(r.value=g),J(r)}function Et(r,a){if(a){var f=r.firstChild;if(f&&f===r.lastChild&&f.nodeType===3){f.nodeValue=a;return}}r.textContent=a}var Qn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fi(r,a,f){var g=a.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?g?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":g?r.setProperty(a,f):typeof f!="number"||f===0||Qn.has(a)?a==="float"?r.cssFloat=f:r[a]=(""+f).trim():r[a]=f+"px"}function Er(r,a,f){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,f!=null){for(var g in f)!f.hasOwnProperty(g)||a!=null&&a.hasOwnProperty(g)||(g.indexOf("--")===0?r.setProperty(g,""):g==="float"?r.cssFloat="":r[g]="");for(var S in a)g=a[S],a.hasOwnProperty(S)&&f[S]!==g&&Fi(r,S,g)}else for(var A in a)a.hasOwnProperty(A)&&Fi(r,A,a[A])}function ro(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ar=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tr(r){return lc.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function xi(){}var oo=null;function qa(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Uo=null,nt=null;function rs(r){var a=Cr(r);if(a&&(r=a.stateNode)){var f=r[Tn]||null;e:switch(r=a.stateNode,a.type){case"input":if(Oe(r,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),a=f.name,f.type==="radio"&&a!=null){for(f=r;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Ee(""+a)+'"][type="radio"]'),a=0;a<f.length;a++){var g=f[a];if(g!==r&&g.form===r.form){var S=g[Tn]||null;if(!S)throw Error(i(90));Oe(g,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(a=0;a<f.length;a++)g=f[a],g.form===r.form&&ge(g)}break e;case"textarea":dt(r,f.value,f.defaultValue);break e;case"select":a=f.value,a!=null&&qe(r,!!f.multiple,a,!1)}}}var It=!1;function Yu(r,a,f){if(It)return r(a,f);It=!0;try{var g=r(a);return g}finally{if(It=!1,(Uo!==null||nt!==null)&&(gp(),Uo&&(a=Uo,r=nt,nt=Uo=null,rs(a),r)))for(a=0;a<r.length;a++)rs(r[a])}}function ao(r,a){var f=r.stateNode;if(f===null)return null;var g=f[Tn]||null;if(g===null)return null;f=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(r=r.type,g=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!g;break e;default:r=!1}if(r)return null;if(f&&typeof f!="function")throw Error(i(231,a,typeof f));return f}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wa=!1;if(os)try{var as={};Object.defineProperty(as,"passive",{get:function(){Wa=!0}}),window.addEventListener("test",as,as),window.removeEventListener("test",as,as)}catch{Wa=!1}var Ts=null,lo=null,mn=null;function Rr(){if(mn)return mn;var r,a=lo,f=a.length,g,S="value"in Ts?Ts.value:Ts.textContent,A=S.length;for(r=0;r<f&&a[r]===S[r];r++);var D=f-r;for(g=1;g<=D&&a[f-g]===S[A-g];g++);return mn=S.slice(r,1<g?1-g:void 0)}function Ya(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Za(){return!0}function _h(){return!1}function ai(r){function a(f,g,S,A,D){this._reactName=f,this._targetInst=S,this.type=g,this.nativeEvent=A,this.target=D,this.currentTarget=null;for(var F in r)r.hasOwnProperty(F)&&(f=r[F],this[F]=f?f(A):A[F]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Za:_h,this.isPropagationStopped=_h,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Za)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Za)},persist:function(){},isPersistent:Za}),a}var Js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cc=ai(Js),Fo=v({},Js,{view:0,detail:0}),xt=ai(Fo),Zu,Ni,er,Xa=v({},Fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nd,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==er&&(er&&r.type==="mousemove"?(Zu=r.screenX-er.screenX,Ni=r.screenY-er.screenY):Ni=Zu=0,er=r),Zu)},movementY:function(r){return"movementY"in r?r.movementY:Ni}}),wh=ai(Xa),Xu=v({},Xa,{dataTransfer:0}),av=ai(Xu),Sh=v({},Fo,{relatedTarget:0}),Qu=ai(Sh),lv=v({},Js,{animationName:0,elapsedTime:0,pseudoElement:0}),Ju=ai(lv),cv=v({},Js,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Rs=ai(cv),uv=v({},Js,{data:0}),ed=ai(uv),kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function td(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Eh[r])?!!a[r]:!1}function nd(){return td}var Ah=v({},Fo,{key:function(r){if(r.key){var a=kr[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Ya(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ch[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nd,charCode:function(r){return r.type==="keypress"?Ya(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ya(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Th=ai(Ah),dv=v({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rh=ai(dv),id=v({},Fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nd}),fv=ai(id),kh=v({},Js,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nh=ai(kh),uc=v({},Xa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),co=ai(uc),hv=v({},Js,{newState:0,oldState:0}),Qa=ai(hv),Vi=[9,13,27,32],dc=os&&"CompositionEvent"in window,Vo=null;os&&"documentMode"in document&&(Vo=document.documentMode);var pv=os&&"TextEvent"in window&&!Vo,fc=os&&(!dc||Vo&&8<Vo&&11>=Vo),hc=" ",Oh=!1;function Ph(r,a){switch(r){case"keyup":return Vi.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sd(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var $o=!1;function ls(r,a){switch(r){case"compositionend":return sd(a);case"keypress":return a.which!==32?null:(Oh=!0,hc);case"textInput":return r=a.data,r===hc&&Oh?null:r;default:return null}}function Ho(r,a){if($o)return r==="compositionend"||!dc&&Ph(r,a)?(r=Rr(),mn=lo=Ts=null,$o=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return fc&&a.locale!=="ko"?null:a.data;default:return null}}var mv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ks(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!mv[r.type]:a==="textarea"}function Mh(r,a,f,g){Uo?nt?nt.push(g):nt=[g]:Uo=g,a=Sp(a,"onChange"),0<a.length&&(f=new cc("onChange","change",null,f,g),r.push({event:f,listeners:a}))}var Ns=null,Ja=null;function el(r){vE(r,0)}function tl(r){var a=ss(r);if(ge(a))return r}function nl(r,a){if(r==="change")return a}var Dh=!1;if(os){var Os;if(os){var Go="oninput"in document;if(!Go){var Lh=document.createElement("div");Lh.setAttribute("oninput","return;"),Go=typeof Lh.oninput=="function"}Os=Go}else Os=!1;Dh=Os&&(!document.documentMode||9<document.documentMode)}function pc(){Ns&&(Ns.detachEvent("onpropertychange",jh),Ja=Ns=null)}function jh(r){if(r.propertyName==="value"&&tl(Ja)){var a=[];Mh(a,Ja,r,qa(r)),Yu(el,a)}}function tr(r,a,f){r==="focusin"?(pc(),Ns=a,Ja=f,Ns.attachEvent("onpropertychange",jh)):r==="focusout"&&pc()}function gv(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return tl(Ja)}function Ko(r,a){if(r==="click")return tl(a)}function vv(r,a){if(r==="input"||r==="change")return tl(a)}function nr(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Jn=typeof Object.is=="function"?Object.is:nr;function qo(r,a){if(Jn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var f=Object.keys(r),g=Object.keys(a);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var S=f[g];if(!_n.call(a,S)||!Jn(r[S],a[S]))return!1}return!0}function mc(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function il(r,a){var f=mc(r);r=0;for(var g;f;){if(f.nodeType===3){if(g=r+f.textContent.length,r<=a&&g>=a)return{node:f,offset:a-r};r=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=mc(f)}}function gc(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?gc(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function sl(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=ke(r.document);a instanceof r.HTMLIFrameElement;){try{var f=typeof a.contentWindow.location.href=="string"}catch{f=!1}if(f)r=a.contentWindow;else break;a=ke(r.document)}return a}function Nr(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var vc=os&&"documentMode"in document&&11>=document.documentMode,Or=null,yc=null,rl=null,Wo=!1;function Ih(r,a,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Wo||Or==null||Or!==ke(g)||(g=Or,"selectionStart"in g&&Nr(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),rl&&qo(rl,g)||(rl=g,g=Sp(yc,"onSelect"),0<g.length&&(a=new cc("onSelect","select",null,a,f),r.push({event:a,listeners:g}),a.target=Or)))}function Pr(r,a){var f={};return f[r.toLowerCase()]=a.toLowerCase(),f["Webkit"+r]="webkit"+a,f["Moz"+r]="moz"+a,f}var Yo={animationend:Pr("Animation","AnimationEnd"),animationiteration:Pr("Animation","AnimationIteration"),animationstart:Pr("Animation","AnimationStart"),transitionrun:Pr("Transition","TransitionRun"),transitionstart:Pr("Transition","TransitionStart"),transitioncancel:Pr("Transition","TransitionCancel"),transitionend:Pr("Transition","TransitionEnd")},bc={},zh={};os&&(zh=document.createElement("div").style,"AnimationEvent"in window||(delete Yo.animationend.animation,delete Yo.animationiteration.animation,delete Yo.animationstart.animation),"TransitionEvent"in window||delete Yo.transitionend.transition);function ei(r){if(bc[r])return bc[r];if(!Yo[r])return r;var a=Yo[r],f;for(f in a)if(a.hasOwnProperty(f)&&f in zh)return bc[r]=a[f];return r}var ol=ei("animationend"),Bh=ei("animationiteration"),al=ei("animationstart"),yv=ei("transitionrun"),Uh=ei("transitionstart"),bv=ei("transitioncancel"),Zo=ei("transitionend"),Fh=new Map,Mr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mr.push("scrollEnd");function $i(r,a){Fh.set(r,a),Bi(a,[r])}var ll=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Hi=[],_i=0,xc=0;function cl(){for(var r=_i,a=xc=_i=0;a<r;){var f=Hi[a];Hi[a++]=null;var g=Hi[a];Hi[a++]=null;var S=Hi[a];Hi[a++]=null;var A=Hi[a];if(Hi[a++]=null,g!==null&&S!==null){var D=g.pending;D===null?S.next=S:(S.next=D.next,D.next=S),g.pending=S}A!==0&&Xo(f,S,A)}}function Dr(r,a,f,g){Hi[_i++]=r,Hi[_i++]=a,Hi[_i++]=f,Hi[_i++]=g,xc|=g,r.lanes|=g,r=r.alternate,r!==null&&(r.lanes|=g)}function rd(r,a,f,g){return Dr(r,a,f,g),ul(r)}function Ps(r,a){return Dr(r,null,null,a),ul(r)}function Xo(r,a,f){r.lanes|=f;var g=r.alternate;g!==null&&(g.lanes|=f);for(var S=!1,A=r.return;A!==null;)A.childLanes|=f,g=A.alternate,g!==null&&(g.childLanes|=f),A.tag===22&&(r=A.stateNode,r===null||r._visibility&1||(S=!0)),r=A,A=A.return;return r.tag===3?(A=r.stateNode,S&&a!==null&&(S=31-En(f),r=A.hiddenUpdates,g=r[S],g===null?r[S]=[a]:g.push(a),a.lane=f|536870912),A):null}function ul(r){if(50<Nd)throw Nd=0,_y=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var uo={};function xv(r,a,f,g){this.tag=r,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wi(r,a,f,g){return new xv(r,a,f,g)}function _c(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ms(r,a){var f=r.alternate;return f===null?(f=wi(r.tag,a,r.key,r.mode),f.elementType=r.elementType,f.type=r.type,f.stateNode=r.stateNode,f.alternate=r,r.alternate=f):(f.pendingProps=a,f.type=r.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=r.flags&65011712,f.childLanes=r.childLanes,f.lanes=r.lanes,f.child=r.child,f.memoizedProps=r.memoizedProps,f.memoizedState=r.memoizedState,f.updateQueue=r.updateQueue,a=r.dependencies,f.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},f.sibling=r.sibling,f.index=r.index,f.ref=r.ref,f.refCleanup=r.refCleanup,f}function od(r,a){r.flags&=65011714;var f=r.alternate;return f===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=f.childLanes,r.lanes=f.lanes,r.child=f.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=f.memoizedProps,r.memoizedState=f.memoizedState,r.updateQueue=f.updateQueue,r.type=f.type,a=f.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function dl(r,a,f,g,S,A){var D=0;if(g=r,typeof r=="function")_c(r)&&(D=1);else if(typeof r=="string")D=dz(r,f,xe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case $:return r=wi(31,f,a,S),r.elementType=$,r.lanes=A,r;case E:return fo(f.children,S,A,a);case T:D=8,S|=24;break;case N:return r=wi(12,f,a,S|2),r.elementType=N,r.lanes=A,r;case j:return r=wi(13,f,a,S),r.elementType=j,r.lanes=A,r;case V:return r=wi(19,f,a,S),r.elementType=V,r.lanes=A,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case O:D=10;break e;case k:D=9;break e;case M:D=11;break e;case z:D=14;break e;case I:D=16,g=null;break e}D=29,f=Error(i(130,r===null?"null":typeof r,"")),g=null}return a=wi(D,f,a,S),a.elementType=r,a.type=g,a.lanes=A,a}function fo(r,a,f,g){return r=wi(7,r,g,a),r.lanes=f,r}function wc(r,a,f){return r=wi(6,r,null,a),r.lanes=f,r}function ad(r){var a=wi(18,null,null,0);return a.stateNode=r,a}function ld(r,a,f){return a=wi(4,r.children!==null?r.children:[],r.key,a),a.lanes=f,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var u=new WeakMap;function p(r,a){if(typeof r=="object"&&r!==null){var f=u.get(r);return f!==void 0?f:(a={value:r,source:a,stack:In(a)},u.set(r,a),a)}return{value:r,source:a,stack:In(a)}}var w=[],R=0,P=null,B=0,Q=[],ue=0,pe=null,Ae=1,Pe="";function Ge(r,a){w[R++]=B,w[R++]=P,P=r,B=a}function ct(r,a,f){Q[ue++]=Ae,Q[ue++]=Pe,Q[ue++]=pe,pe=r;var g=Ae;r=Pe;var S=32-En(g)-1;g&=~(1<<S),f+=1;var A=32-En(a)+S;if(30<A){var D=S-S%5;A=(g&(1<<D)-1).toString(32),g>>=D,S-=D,Ae=1<<32-En(a)+S|f<<S|g,Pe=A+r}else Ae=1<<A|f<<S|g,Pe=r}function zn(r){r.return!==null&&(Ge(r,1),ct(r,1,0))}function gn(r){for(;r===P;)P=w[--R],w[R]=null,B=w[--R],w[R]=null;for(;r===pe;)pe=Q[--ue],Q[ue]=null,Pe=Q[--ue],Q[ue]=null,Ae=Q[--ue],Q[ue]=null}function Oi(r,a){Q[ue++]=Ae,Q[ue++]=Pe,Q[ue++]=pe,Ae=a.id,Pe=a.overflow,pe=r}var Rt=null,kt=null,mt=!1,Lr=null,Gi=!1,Sc=Error(i(519));function jr(r){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fl(p(a,r)),Sc}function cd(r){var a=r.stateNode,f=r.type,g=r.memoizedProps;switch(a[pn]=r,a[Tn]=g,f){case"dialog":vt("cancel",a),vt("close",a);break;case"iframe":case"object":case"embed":vt("load",a);break;case"video":case"audio":for(f=0;f<Pd.length;f++)vt(Pd[f],a);break;case"source":vt("error",a);break;case"img":case"image":case"link":vt("error",a),vt("load",a);break;case"details":vt("toggle",a);break;case"input":vt("invalid",a),Be(a,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":vt("invalid",a);break;case"textarea":vt("invalid",a),Ut(a,g.value,g.defaultValue,g.children)}f=g.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||a.textContent===""+f||g.suppressHydrationWarning===!0||_E(a.textContent,f)?(g.popover!=null&&(vt("beforetoggle",a),vt("toggle",a)),g.onScroll!=null&&vt("scroll",a),g.onScrollEnd!=null&&vt("scrollend",a),g.onClick!=null&&(a.onclick=xi),a=!0):a=!1,a||jr(r,!0)}function cn(r){for(Rt=r.return;Rt;)switch(Rt.tag){case 5:case 31:case 13:Gi=!1;return;case 27:case 3:Gi=!0;return;default:Rt=Rt.return}}function ir(r){if(r!==Rt)return!1;if(!mt)return cn(r),mt=!0,!1;var a=r.tag,f;if((f=a!==3&&a!==27)&&((f=a===5)&&(f=r.type,f=!(f!=="form"&&f!=="button")||jy(r.type,r.memoizedProps)),f=!f),f&&kt&&jr(r),cn(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));kt=NE(r)}else if(a===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));kt=NE(r)}else a===27?(a=kt,da(r.type)?(r=Fy,Fy=null,kt=r):kt=a):kt=Rt?Ls(r.stateNode.nextSibling):null;return!0}function ho(){kt=Rt=null,mt=!1}function ud(){var r=Lr;return r!==null&&(Yi===null?Yi=r:Yi.push.apply(Yi,r),Lr=null),r}function fl(r){Lr===null?Lr=[r]:Lr.push(r)}var hl=K(null),Ir=null,sr=null;function Qo(r,a,f){be(hl,a._currentValue),a._currentValue=f}function po(r){r._currentValue=hl.current,oe(hl)}function _v(r,a,f){for(;r!==null;){var g=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),r===f)break;r=r.return}}function wv(r,a,f,g){var S=r.child;for(S!==null&&(S.return=r);S!==null;){var A=S.dependencies;if(A!==null){var D=S.child;A=A.firstContext;e:for(;A!==null;){var F=A;A=S;for(var te=0;te<a.length;te++)if(F.context===a[te]){A.lanes|=f,F=A.alternate,F!==null&&(F.lanes|=f),_v(A.return,f,r),g||(D=null);break e}A=F.next}}else if(S.tag===18){if(D=S.return,D===null)throw Error(i(341));D.lanes|=f,A=D.alternate,A!==null&&(A.lanes|=f),_v(D,f,r),D=null}else D=S.child;if(D!==null)D.return=S;else for(D=S;D!==null;){if(D===r){D=null;break}if(S=D.sibling,S!==null){S.return=D.return,D=S;break}D=D.return}S=D}}function Cc(r,a,f,g){r=null;for(var S=a,A=!1;S!==null;){if(!A){if((S.flags&524288)!==0)A=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var D=S.alternate;if(D===null)throw Error(i(387));if(D=D.memoizedProps,D!==null){var F=S.type;Jn(S.pendingProps.value,D.value)||(r!==null?r.push(F):r=[F])}}else if(S===Se.current){if(D=S.alternate,D===null)throw Error(i(387));D.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(r!==null?r.push(Id):r=[Id])}S=S.return}r!==null&&wv(a,r,f,g),a.flags|=262144}function Vh(r){for(r=r.firstContext;r!==null;){if(!Jn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function pl(r){Ir=r,sr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function li(r){return oS(Ir,r)}function $h(r,a){return Ir===null&&pl(r),oS(r,a)}function oS(r,a){var f=a._currentValue;if(a={context:a,memoizedValue:f,next:null},sr===null){if(r===null)throw Error(i(308));sr=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else sr=sr.next=a;return f}var aI=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(f,g){r.push(g)}};this.abort=function(){a.aborted=!0,r.forEach(function(f){return f()})}},lI=e.unstable_scheduleCallback,cI=e.unstable_NormalPriority,Rn={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sv(){return{controller:new aI,data:new Map,refCount:0}}function dd(r){r.refCount--,r.refCount===0&&lI(cI,function(){r.controller.abort()})}var fd=null,Cv=0,Ec=0,Ac=null;function uI(r,a){if(fd===null){var f=fd=[];Cv=0,Ec=Ty(),Ac={status:"pending",value:void 0,then:function(g){f.push(g)}}}return Cv++,a.then(aS,aS),a}function aS(){if(--Cv===0&&fd!==null){Ac!==null&&(Ac.status="fulfilled");var r=fd;fd=null,Ec=0,Ac=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function dI(r,a){var f=[],g={status:"pending",value:null,reason:null,then:function(S){f.push(S)}};return r.then(function(){g.status="fulfilled",g.value=a;for(var S=0;S<f.length;S++)(0,f[S])(a)},function(S){for(g.status="rejected",g.reason=S,S=0;S<f.length;S++)(0,f[S])(void 0)}),g}var lS=G.S;G.S=function(r,a){GC=sn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&uI(r,a),lS!==null&&lS(r,a)};var ml=K(null);function Ev(){var r=ml.current;return r!==null?r:Wt.pooledCache}function Hh(r,a){a===null?be(ml,ml.current):be(ml,a.pool)}function cS(){var r=Ev();return r===null?null:{parent:Rn._currentValue,pool:r}}var Tc=Error(i(460)),Av=Error(i(474)),Gh=Error(i(542)),Kh={then:function(){}};function uS(r){return r=r.status,r==="fulfilled"||r==="rejected"}function dS(r,a,f){switch(f=r[f],f===void 0?r.push(a):f!==a&&(a.then(xi,xi),a=f),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,hS(r),r;default:if(typeof a.status=="string")a.then(xi,xi);else{if(r=Wt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(g){if(a.status==="pending"){var S=a;S.status="fulfilled",S.value=g}},function(g){if(a.status==="pending"){var S=a;S.status="rejected",S.reason=g}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,hS(r),r}throw vl=a,Tc}}function gl(r){try{var a=r._init;return a(r._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(vl=f,Tc):f}}var vl=null;function fS(){if(vl===null)throw Error(i(459));var r=vl;return vl=null,r}function hS(r){if(r===Tc||r===Gh)throw Error(i(483))}var Rc=null,hd=0;function qh(r){var a=hd;return hd+=1,Rc===null&&(Rc=[]),dS(Rc,r,a)}function pd(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Wh(r,a){throw a.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function pS(r){function a(ce,se){if(r){var fe=ce.deletions;fe===null?(ce.deletions=[se],ce.flags|=16):fe.push(se)}}function f(ce,se){if(!r)return null;for(;se!==null;)a(ce,se),se=se.sibling;return null}function g(ce){for(var se=new Map;ce!==null;)ce.key!==null?se.set(ce.key,ce):se.set(ce.index,ce),ce=ce.sibling;return se}function S(ce,se){return ce=Ms(ce,se),ce.index=0,ce.sibling=null,ce}function A(ce,se,fe){return ce.index=fe,r?(fe=ce.alternate,fe!==null?(fe=fe.index,fe<se?(ce.flags|=67108866,se):fe):(ce.flags|=67108866,se)):(ce.flags|=1048576,se)}function D(ce){return r&&ce.alternate===null&&(ce.flags|=67108866),ce}function F(ce,se,fe,Ce){return se===null||se.tag!==6?(se=wc(fe,ce.mode,Ce),se.return=ce,se):(se=S(se,fe),se.return=ce,se)}function te(ce,se,fe,Ce){var We=fe.type;return We===E?_e(ce,se,fe.props.children,Ce,fe.key):se!==null&&(se.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===I&&gl(We)===se.type)?(se=S(se,fe.props),pd(se,fe),se.return=ce,se):(se=dl(fe.type,fe.key,fe.props,null,ce.mode,Ce),pd(se,fe),se.return=ce,se)}function he(ce,se,fe,Ce){return se===null||se.tag!==4||se.stateNode.containerInfo!==fe.containerInfo||se.stateNode.implementation!==fe.implementation?(se=ld(fe,ce.mode,Ce),se.return=ce,se):(se=S(se,fe.children||[]),se.return=ce,se)}function _e(ce,se,fe,Ce,We){return se===null||se.tag!==7?(se=fo(fe,ce.mode,Ce,We),se.return=ce,se):(se=S(se,fe),se.return=ce,se)}function Te(ce,se,fe){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return se=wc(""+se,ce.mode,fe),se.return=ce,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case _:return fe=dl(se.type,se.key,se.props,null,ce.mode,fe),pd(fe,se),fe.return=ce,fe;case C:return se=ld(se,ce.mode,fe),se.return=ce,se;case I:return se=gl(se),Te(ce,se,fe)}if(ye(se)||W(se))return se=fo(se,ce.mode,fe,null),se.return=ce,se;if(typeof se.then=="function")return Te(ce,qh(se),fe);if(se.$$typeof===O)return Te(ce,$h(ce,se),fe);Wh(ce,se)}return null}function me(ce,se,fe,Ce){var We=se!==null?se.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return We!==null?null:F(ce,se,""+fe,Ce);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case _:return fe.key===We?te(ce,se,fe,Ce):null;case C:return fe.key===We?he(ce,se,fe,Ce):null;case I:return fe=gl(fe),me(ce,se,fe,Ce)}if(ye(fe)||W(fe))return We!==null?null:_e(ce,se,fe,Ce,null);if(typeof fe.then=="function")return me(ce,se,qh(fe),Ce);if(fe.$$typeof===O)return me(ce,se,$h(ce,fe),Ce);Wh(ce,fe)}return null}function ve(ce,se,fe,Ce,We){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return ce=ce.get(fe)||null,F(se,ce,""+Ce,We);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case _:return ce=ce.get(Ce.key===null?fe:Ce.key)||null,te(se,ce,Ce,We);case C:return ce=ce.get(Ce.key===null?fe:Ce.key)||null,he(se,ce,Ce,We);case I:return Ce=gl(Ce),ve(ce,se,fe,Ce,We)}if(ye(Ce)||W(Ce))return ce=ce.get(fe)||null,_e(se,ce,Ce,We,null);if(typeof Ce.then=="function")return ve(ce,se,fe,qh(Ce),We);if(Ce.$$typeof===O)return ve(ce,se,fe,$h(se,Ce),We);Wh(se,Ce)}return null}function Ue(ce,se,fe,Ce){for(var We=null,Nt=null,He=se,ut=se=0,wt=null;He!==null&&ut<fe.length;ut++){He.index>ut?(wt=He,He=null):wt=He.sibling;var Ot=me(ce,He,fe[ut],Ce);if(Ot===null){He===null&&(He=wt);break}r&&He&&Ot.alternate===null&&a(ce,He),se=A(Ot,se,ut),Nt===null?We=Ot:Nt.sibling=Ot,Nt=Ot,He=wt}if(ut===fe.length)return f(ce,He),mt&&Ge(ce,ut),We;if(He===null){for(;ut<fe.length;ut++)He=Te(ce,fe[ut],Ce),He!==null&&(se=A(He,se,ut),Nt===null?We=He:Nt.sibling=He,Nt=He);return mt&&Ge(ce,ut),We}for(He=g(He);ut<fe.length;ut++)wt=ve(He,ce,ut,fe[ut],Ce),wt!==null&&(r&&wt.alternate!==null&&He.delete(wt.key===null?ut:wt.key),se=A(wt,se,ut),Nt===null?We=wt:Nt.sibling=wt,Nt=wt);return r&&He.forEach(function(ga){return a(ce,ga)}),mt&&Ge(ce,ut),We}function Qe(ce,se,fe,Ce){if(fe==null)throw Error(i(151));for(var We=null,Nt=null,He=se,ut=se=0,wt=null,Ot=fe.next();He!==null&&!Ot.done;ut++,Ot=fe.next()){He.index>ut?(wt=He,He=null):wt=He.sibling;var ga=me(ce,He,Ot.value,Ce);if(ga===null){He===null&&(He=wt);break}r&&He&&ga.alternate===null&&a(ce,He),se=A(ga,se,ut),Nt===null?We=ga:Nt.sibling=ga,Nt=ga,He=wt}if(Ot.done)return f(ce,He),mt&&Ge(ce,ut),We;if(He===null){for(;!Ot.done;ut++,Ot=fe.next())Ot=Te(ce,Ot.value,Ce),Ot!==null&&(se=A(Ot,se,ut),Nt===null?We=Ot:Nt.sibling=Ot,Nt=Ot);return mt&&Ge(ce,ut),We}for(He=g(He);!Ot.done;ut++,Ot=fe.next())Ot=ve(He,ce,ut,Ot.value,Ce),Ot!==null&&(r&&Ot.alternate!==null&&He.delete(Ot.key===null?ut:Ot.key),se=A(Ot,se,ut),Nt===null?We=Ot:Nt.sibling=Ot,Nt=Ot);return r&&He.forEach(function(wz){return a(ce,wz)}),mt&&Ge(ce,ut),We}function qt(ce,se,fe,Ce){if(typeof fe=="object"&&fe!==null&&fe.type===E&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case _:e:{for(var We=fe.key;se!==null;){if(se.key===We){if(We=fe.type,We===E){if(se.tag===7){f(ce,se.sibling),Ce=S(se,fe.props.children),Ce.return=ce,ce=Ce;break e}}else if(se.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===I&&gl(We)===se.type){f(ce,se.sibling),Ce=S(se,fe.props),pd(Ce,fe),Ce.return=ce,ce=Ce;break e}f(ce,se);break}else a(ce,se);se=se.sibling}fe.type===E?(Ce=fo(fe.props.children,ce.mode,Ce,fe.key),Ce.return=ce,ce=Ce):(Ce=dl(fe.type,fe.key,fe.props,null,ce.mode,Ce),pd(Ce,fe),Ce.return=ce,ce=Ce)}return D(ce);case C:e:{for(We=fe.key;se!==null;){if(se.key===We)if(se.tag===4&&se.stateNode.containerInfo===fe.containerInfo&&se.stateNode.implementation===fe.implementation){f(ce,se.sibling),Ce=S(se,fe.children||[]),Ce.return=ce,ce=Ce;break e}else{f(ce,se);break}else a(ce,se);se=se.sibling}Ce=ld(fe,ce.mode,Ce),Ce.return=ce,ce=Ce}return D(ce);case I:return fe=gl(fe),qt(ce,se,fe,Ce)}if(ye(fe))return Ue(ce,se,fe,Ce);if(W(fe)){if(We=W(fe),typeof We!="function")throw Error(i(150));return fe=We.call(fe),Qe(ce,se,fe,Ce)}if(typeof fe.then=="function")return qt(ce,se,qh(fe),Ce);if(fe.$$typeof===O)return qt(ce,se,$h(ce,fe),Ce);Wh(ce,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,se!==null&&se.tag===6?(f(ce,se.sibling),Ce=S(se,fe),Ce.return=ce,ce=Ce):(f(ce,se),Ce=wc(fe,ce.mode,Ce),Ce.return=ce,ce=Ce),D(ce)):f(ce,se)}return function(ce,se,fe,Ce){try{hd=0;var We=qt(ce,se,fe,Ce);return Rc=null,We}catch(He){if(He===Tc||He===Gh)throw He;var Nt=wi(29,He,null,ce.mode);return Nt.lanes=Ce,Nt.return=ce,Nt}}}var yl=pS(!0),mS=pS(!1),Jo=!1;function Tv(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rv(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ea(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ta(r,a,f){var g=r.updateQueue;if(g===null)return null;if(g=g.shared,(Mt&2)!==0){var S=g.pending;return S===null?a.next=a:(a.next=S.next,S.next=a),g.pending=a,a=ul(r),Xo(r,null,f),a}return Dr(r,g,a,f),ul(r)}function md(r,a,f){if(a=a.updateQueue,a!==null&&(a=a.shared,(f&4194048)!==0)){var g=a.lanes;g&=r.pendingLanes,f|=g,a.lanes=f,ri(r,f)}}function kv(r,a){var f=r.updateQueue,g=r.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var S=null,A=null;if(f=f.firstBaseUpdate,f!==null){do{var D={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};A===null?S=A=D:A=A.next=D,f=f.next}while(f!==null);A===null?S=A=a:A=A.next=a}else S=A=a;f={baseState:g.baseState,firstBaseUpdate:S,lastBaseUpdate:A,shared:g.shared,callbacks:g.callbacks},r.updateQueue=f;return}r=f.lastBaseUpdate,r===null?f.firstBaseUpdate=a:r.next=a,f.lastBaseUpdate=a}var Nv=!1;function gd(){if(Nv){var r=Ac;if(r!==null)throw r}}function vd(r,a,f,g){Nv=!1;var S=r.updateQueue;Jo=!1;var A=S.firstBaseUpdate,D=S.lastBaseUpdate,F=S.shared.pending;if(F!==null){S.shared.pending=null;var te=F,he=te.next;te.next=null,D===null?A=he:D.next=he,D=te;var _e=r.alternate;_e!==null&&(_e=_e.updateQueue,F=_e.lastBaseUpdate,F!==D&&(F===null?_e.firstBaseUpdate=he:F.next=he,_e.lastBaseUpdate=te))}if(A!==null){var Te=S.baseState;D=0,_e=he=te=null,F=A;do{var me=F.lane&-536870913,ve=me!==F.lane;if(ve?(_t&me)===me:(g&me)===me){me!==0&&me===Ec&&(Nv=!0),_e!==null&&(_e=_e.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var Ue=r,Qe=F;me=a;var qt=f;switch(Qe.tag){case 1:if(Ue=Qe.payload,typeof Ue=="function"){Te=Ue.call(qt,Te,me);break e}Te=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Qe.payload,me=typeof Ue=="function"?Ue.call(qt,Te,me):Ue,me==null)break e;Te=v({},Te,me);break e;case 2:Jo=!0}}me=F.callback,me!==null&&(r.flags|=64,ve&&(r.flags|=8192),ve=S.callbacks,ve===null?S.callbacks=[me]:ve.push(me))}else ve={lane:me,tag:F.tag,payload:F.payload,callback:F.callback,next:null},_e===null?(he=_e=ve,te=Te):_e=_e.next=ve,D|=me;if(F=F.next,F===null){if(F=S.shared.pending,F===null)break;ve=F,F=ve.next,ve.next=null,S.lastBaseUpdate=ve,S.shared.pending=null}}while(!0);_e===null&&(te=Te),S.baseState=te,S.firstBaseUpdate=he,S.lastBaseUpdate=_e,A===null&&(S.shared.lanes=0),oa|=D,r.lanes=D,r.memoizedState=Te}}function gS(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function vS(r,a){var f=r.callbacks;if(f!==null)for(r.callbacks=null,r=0;r<f.length;r++)gS(f[r],a)}var kc=K(null),Yh=K(0);function yS(r,a){r=So,be(Yh,r),be(kc,a),So=r|a.baseLanes}function Ov(){be(Yh,So),be(kc,kc.current)}function Pv(){So=Yh.current,oe(kc),oe(Yh)}var cs=K(null),Ds=null;function na(r){var a=r.alternate;be(Sn,Sn.current&1),be(cs,r),Ds===null&&(a===null||kc.current!==null||a.memoizedState!==null)&&(Ds=r)}function Mv(r){be(Sn,Sn.current),be(cs,r),Ds===null&&(Ds=r)}function bS(r){r.tag===22?(be(Sn,Sn.current),be(cs,r),Ds===null&&(Ds=r)):ia()}function ia(){be(Sn,Sn.current),be(cs,cs.current)}function us(r){oe(cs),Ds===r&&(Ds=null),oe(Sn)}var Sn=K(0);function Zh(r){for(var a=r;a!==null;){if(a.tag===13){var f=a.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||By(f)||Uy(f)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var mo=0,lt=null,Gt=null,kn=null,Xh=!1,Nc=!1,bl=!1,Qh=0,yd=0,Oc=null,fI=0;function vn(){throw Error(i(321))}function Dv(r,a){if(a===null)return!1;for(var f=0;f<a.length&&f<r.length;f++)if(!Jn(r[f],a[f]))return!1;return!0}function Lv(r,a,f,g,S,A){return mo=A,lt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,G.H=r===null||r.memoizedState===null?nC:Zv,bl=!1,A=f(g,S),bl=!1,Nc&&(A=_S(a,f,g,S)),xS(r),A}function xS(r){G.H=_d;var a=Gt!==null&&Gt.next!==null;if(mo=0,kn=Gt=lt=null,Xh=!1,yd=0,Oc=null,a)throw Error(i(300));r===null||Nn||(r=r.dependencies,r!==null&&Vh(r)&&(Nn=!0))}function _S(r,a,f,g){lt=r;var S=0;do{if(Nc&&(Oc=null),yd=0,Nc=!1,25<=S)throw Error(i(301));if(S+=1,kn=Gt=null,r.updateQueue!=null){var A=r.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}G.H=iC,A=a(f,g)}while(Nc);return A}function hI(){var r=G.H,a=r.useState()[0];return a=typeof a.then=="function"?bd(a):a,r=r.useState()[0],(Gt!==null?Gt.memoizedState:null)!==r&&(lt.flags|=1024),a}function jv(){var r=Qh!==0;return Qh=0,r}function Iv(r,a,f){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~f}function zv(r){if(Xh){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Xh=!1}mo=0,kn=Gt=lt=null,Nc=!1,yd=Qh=0,Oc=null}function Pi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?lt.memoizedState=kn=r:kn=kn.next=r,kn}function Cn(){if(Gt===null){var r=lt.alternate;r=r!==null?r.memoizedState:null}else r=Gt.next;var a=kn===null?lt.memoizedState:kn.next;if(a!==null)kn=a,Gt=r;else{if(r===null)throw lt.alternate===null?Error(i(467)):Error(i(310));Gt=r,r={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},kn===null?lt.memoizedState=kn=r:kn=kn.next=r}return kn}function Jh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bd(r){var a=yd;return yd+=1,Oc===null&&(Oc=[]),r=dS(Oc,r,a),a=lt,(kn===null?a.memoizedState:kn.next)===null&&(a=a.alternate,G.H=a===null||a.memoizedState===null?nC:Zv),r}function ep(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return bd(r);if(r.$$typeof===O)return li(r)}throw Error(i(438,String(r)))}function Bv(r){var a=null,f=lt.updateQueue;if(f!==null&&(a=f.memoCache),a==null){var g=lt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(a={data:g.data.map(function(S){return S.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),f===null&&(f=Jh(),lt.updateQueue=f),f.memoCache=a,f=a.data[a.index],f===void 0)for(f=a.data[a.index]=Array(r),g=0;g<r;g++)f[g]=Y;return a.index++,f}function go(r,a){return typeof a=="function"?a(r):a}function tp(r){var a=Cn();return Uv(a,Gt,r)}function Uv(r,a,f){var g=r.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=f;var S=r.baseQueue,A=g.pending;if(A!==null){if(S!==null){var D=S.next;S.next=A.next,A.next=D}a.baseQueue=S=A,g.pending=null}if(A=r.baseState,S===null)r.memoizedState=A;else{a=S.next;var F=D=null,te=null,he=a,_e=!1;do{var Te=he.lane&-536870913;if(Te!==he.lane?(_t&Te)===Te:(mo&Te)===Te){var me=he.revertLane;if(me===0)te!==null&&(te=te.next={lane:0,revertLane:0,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),Te===Ec&&(_e=!0);else if((mo&me)===me){he=he.next,me===Ec&&(_e=!0);continue}else Te={lane:0,revertLane:he.revertLane,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},te===null?(F=te=Te,D=A):te=te.next=Te,lt.lanes|=me,oa|=me;Te=he.action,bl&&f(A,Te),A=he.hasEagerState?he.eagerState:f(A,Te)}else me={lane:Te,revertLane:he.revertLane,gesture:he.gesture,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},te===null?(F=te=me,D=A):te=te.next=me,lt.lanes|=Te,oa|=Te;he=he.next}while(he!==null&&he!==a);if(te===null?D=A:te.next=F,!Jn(A,r.memoizedState)&&(Nn=!0,_e&&(f=Ac,f!==null)))throw f;r.memoizedState=A,r.baseState=D,r.baseQueue=te,g.lastRenderedState=A}return S===null&&(g.lanes=0),[r.memoizedState,g.dispatch]}function Fv(r){var a=Cn(),f=a.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=r;var g=f.dispatch,S=f.pending,A=a.memoizedState;if(S!==null){f.pending=null;var D=S=S.next;do A=r(A,D.action),D=D.next;while(D!==S);Jn(A,a.memoizedState)||(Nn=!0),a.memoizedState=A,a.baseQueue===null&&(a.baseState=A),f.lastRenderedState=A}return[A,g]}function wS(r,a,f){var g=lt,S=Cn(),A=mt;if(A){if(f===void 0)throw Error(i(407));f=f()}else f=a();var D=!Jn((Gt||S).memoizedState,f);if(D&&(S.memoizedState=f,Nn=!0),S=S.queue,Hv(ES.bind(null,g,S,r),[r]),S.getSnapshot!==a||D||kn!==null&&kn.memoizedState.tag&1){if(g.flags|=2048,Pc(9,{destroy:void 0},CS.bind(null,g,S,f,a),null),Wt===null)throw Error(i(349));A||(mo&127)!==0||SS(g,a,f)}return f}function SS(r,a,f){r.flags|=16384,r={getSnapshot:a,value:f},a=lt.updateQueue,a===null?(a=Jh(),lt.updateQueue=a,a.stores=[r]):(f=a.stores,f===null?a.stores=[r]:f.push(r))}function CS(r,a,f,g){a.value=f,a.getSnapshot=g,AS(a)&&TS(r)}function ES(r,a,f){return f(function(){AS(a)&&TS(r)})}function AS(r){var a=r.getSnapshot;r=r.value;try{var f=a();return!Jn(r,f)}catch{return!0}}function TS(r){var a=Ps(r,2);a!==null&&Zi(a,r,2)}function Vv(r){var a=Pi();if(typeof r=="function"){var f=r;if(r=f(),bl){si(!0);try{f()}finally{si(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:r},a}function RS(r,a,f,g){return r.baseState=f,Uv(r,Gt,typeof g=="function"?g:go)}function pI(r,a,f,g,S){if(sp(r))throw Error(i(485));if(r=a.action,r!==null){var A={payload:S,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){A.listeners.push(D)}};G.T!==null?f(!0):A.isTransition=!1,g(A),f=a.pending,f===null?(A.next=a.pending=A,kS(a,A)):(A.next=f.next,a.pending=f.next=A)}}function kS(r,a){var f=a.action,g=a.payload,S=r.state;if(a.isTransition){var A=G.T,D={};G.T=D;try{var F=f(S,g),te=G.S;te!==null&&te(D,F),NS(r,a,F)}catch(he){$v(r,a,he)}finally{A!==null&&D.types!==null&&(A.types=D.types),G.T=A}}else try{A=f(S,g),NS(r,a,A)}catch(he){$v(r,a,he)}}function NS(r,a,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(g){OS(r,a,g)},function(g){return $v(r,a,g)}):OS(r,a,f)}function OS(r,a,f){a.status="fulfilled",a.value=f,PS(a),r.state=f,a=r.pending,a!==null&&(f=a.next,f===a?r.pending=null:(f=f.next,a.next=f,kS(r,f)))}function $v(r,a,f){var g=r.pending;if(r.pending=null,g!==null){g=g.next;do a.status="rejected",a.reason=f,PS(a),a=a.next;while(a!==g)}r.action=null}function PS(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function MS(r,a){return a}function DS(r,a){if(mt){var f=Wt.formState;if(f!==null){e:{var g=lt;if(mt){if(kt){t:{for(var S=kt,A=Gi;S.nodeType!==8;){if(!A){S=null;break t}if(S=Ls(S.nextSibling),S===null){S=null;break t}}A=S.data,S=A==="F!"||A==="F"?S:null}if(S){kt=Ls(S.nextSibling),g=S.data==="F!";break e}}jr(g)}g=!1}g&&(a=f[0])}}return f=Pi(),f.memoizedState=f.baseState=a,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:MS,lastRenderedState:a},f.queue=g,f=JS.bind(null,lt,g),g.dispatch=f,g=Vv(!1),A=Yv.bind(null,lt,!1,g.queue),g=Pi(),S={state:a,dispatch:null,action:r,pending:null},g.queue=S,f=pI.bind(null,lt,S,A,f),S.dispatch=f,g.memoizedState=r,[a,f,!1]}function LS(r){var a=Cn();return jS(a,Gt,r)}function jS(r,a,f){if(a=Uv(r,a,MS)[0],r=tp(go)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var g=bd(a)}catch(D){throw D===Tc?Gh:D}else g=a;a=Cn();var S=a.queue,A=S.dispatch;return f!==a.memoizedState&&(lt.flags|=2048,Pc(9,{destroy:void 0},mI.bind(null,S,f),null)),[g,A,r]}function mI(r,a){r.action=a}function IS(r){var a=Cn(),f=Gt;if(f!==null)return jS(a,f,r);Cn(),a=a.memoizedState,f=Cn();var g=f.queue.dispatch;return f.memoizedState=r,[a,g,!1]}function Pc(r,a,f,g){return r={tag:r,create:f,deps:g,inst:a,next:null},a=lt.updateQueue,a===null&&(a=Jh(),lt.updateQueue=a),f=a.lastEffect,f===null?a.lastEffect=r.next=r:(g=f.next,f.next=r,r.next=g,a.lastEffect=r),r}function zS(){return Cn().memoizedState}function np(r,a,f,g){var S=Pi();lt.flags|=r,S.memoizedState=Pc(1|a,{destroy:void 0},f,g===void 0?null:g)}function ip(r,a,f,g){var S=Cn();g=g===void 0?null:g;var A=S.memoizedState.inst;Gt!==null&&g!==null&&Dv(g,Gt.memoizedState.deps)?S.memoizedState=Pc(a,A,f,g):(lt.flags|=r,S.memoizedState=Pc(1|a,A,f,g))}function BS(r,a){np(8390656,8,r,a)}function Hv(r,a){ip(2048,8,r,a)}function gI(r){lt.flags|=4;var a=lt.updateQueue;if(a===null)a=Jh(),lt.updateQueue=a,a.events=[r];else{var f=a.events;f===null?a.events=[r]:f.push(r)}}function US(r){var a=Cn().memoizedState;return gI({ref:a,nextImpl:r}),function(){if((Mt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function FS(r,a){return ip(4,2,r,a)}function VS(r,a){return ip(4,4,r,a)}function $S(r,a){if(typeof a=="function"){r=r();var f=a(r);return function(){typeof f=="function"?f():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function HS(r,a,f){f=f!=null?f.concat([r]):null,ip(4,4,$S.bind(null,a,r),f)}function Gv(){}function GS(r,a){var f=Cn();a=a===void 0?null:a;var g=f.memoizedState;return a!==null&&Dv(a,g[1])?g[0]:(f.memoizedState=[r,a],r)}function KS(r,a){var f=Cn();a=a===void 0?null:a;var g=f.memoizedState;if(a!==null&&Dv(a,g[1]))return g[0];if(g=r(),bl){si(!0);try{r()}finally{si(!1)}}return f.memoizedState=[g,a],g}function Kv(r,a,f){return f===void 0||(mo&1073741824)!==0&&(_t&261930)===0?r.memoizedState=a:(r.memoizedState=f,r=qC(),lt.lanes|=r,oa|=r,f)}function qS(r,a,f,g){return Jn(f,a)?f:kc.current!==null?(r=Kv(r,f,g),Jn(r,a)||(Nn=!0),r):(mo&42)===0||(mo&1073741824)!==0&&(_t&261930)===0?(Nn=!0,r.memoizedState=f):(r=qC(),lt.lanes|=r,oa|=r,a)}function WS(r,a,f,g,S){var A=X.p;X.p=A!==0&&8>A?A:8;var D=G.T,F={};G.T=F,Yv(r,!1,a,f);try{var te=S(),he=G.S;if(he!==null&&he(F,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var _e=dI(te,g);xd(r,a,_e,hs(r))}else xd(r,a,g,hs(r))}catch(Te){xd(r,a,{then:function(){},status:"rejected",reason:Te},hs())}finally{X.p=A,D!==null&&F.types!==null&&(D.types=F.types),G.T=D}}function vI(){}function qv(r,a,f,g){if(r.tag!==5)throw Error(i(476));var S=YS(r).queue;WS(r,S,a,ne,f===null?vI:function(){return ZS(r),f(g)})}function YS(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:ne},next:null};var f={};return a.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:f},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function ZS(r){var a=YS(r);a.next===null&&(a=r.alternate.memoizedState),xd(r,a.next.queue,{},hs())}function Wv(){return li(Id)}function XS(){return Cn().memoizedState}function QS(){return Cn().memoizedState}function yI(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var f=hs();r=ea(f);var g=ta(a,r,f);g!==null&&(Zi(g,a,f),md(g,a,f)),a={cache:Sv()},r.payload=a;return}a=a.return}}function bI(r,a,f){var g=hs();f={lane:g,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},sp(r)?eC(a,f):(f=rd(r,a,f,g),f!==null&&(Zi(f,r,g),tC(f,a,g)))}function JS(r,a,f){var g=hs();xd(r,a,f,g)}function xd(r,a,f,g){var S={lane:g,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(sp(r))eC(a,S);else{var A=r.alternate;if(r.lanes===0&&(A===null||A.lanes===0)&&(A=a.lastRenderedReducer,A!==null))try{var D=a.lastRenderedState,F=A(D,f);if(S.hasEagerState=!0,S.eagerState=F,Jn(F,D))return Dr(r,a,S,0),Wt===null&&cl(),!1}catch{}if(f=rd(r,a,S,g),f!==null)return Zi(f,r,g),tC(f,a,g),!0}return!1}function Yv(r,a,f,g){if(g={lane:2,revertLane:Ty(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},sp(r)){if(a)throw Error(i(479))}else a=rd(r,f,g,2),a!==null&&Zi(a,r,2)}function sp(r){var a=r.alternate;return r===lt||a!==null&&a===lt}function eC(r,a){Nc=Xh=!0;var f=r.pending;f===null?a.next=a:(a.next=f.next,f.next=a),r.pending=a}function tC(r,a,f){if((f&4194048)!==0){var g=a.lanes;g&=r.pendingLanes,f|=g,a.lanes=f,ri(r,f)}}var _d={readContext:li,use:ep,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useLayoutEffect:vn,useInsertionEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useSyncExternalStore:vn,useId:vn,useHostTransitionStatus:vn,useFormState:vn,useActionState:vn,useOptimistic:vn,useMemoCache:vn,useCacheRefresh:vn};_d.useEffectEvent=vn;var nC={readContext:li,use:ep,useCallback:function(r,a){return Pi().memoizedState=[r,a===void 0?null:a],r},useContext:li,useEffect:BS,useImperativeHandle:function(r,a,f){f=f!=null?f.concat([r]):null,np(4194308,4,$S.bind(null,a,r),f)},useLayoutEffect:function(r,a){return np(4194308,4,r,a)},useInsertionEffect:function(r,a){np(4,2,r,a)},useMemo:function(r,a){var f=Pi();a=a===void 0?null:a;var g=r();if(bl){si(!0);try{r()}finally{si(!1)}}return f.memoizedState=[g,a],g},useReducer:function(r,a,f){var g=Pi();if(f!==void 0){var S=f(a);if(bl){si(!0);try{f(a)}finally{si(!1)}}}else S=a;return g.memoizedState=g.baseState=S,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:S},g.queue=r,r=r.dispatch=bI.bind(null,lt,r),[g.memoizedState,r]},useRef:function(r){var a=Pi();return r={current:r},a.memoizedState=r},useState:function(r){r=Vv(r);var a=r.queue,f=JS.bind(null,lt,a);return a.dispatch=f,[r.memoizedState,f]},useDebugValue:Gv,useDeferredValue:function(r,a){var f=Pi();return Kv(f,r,a)},useTransition:function(){var r=Vv(!1);return r=WS.bind(null,lt,r.queue,!0,!1),Pi().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,f){var g=lt,S=Pi();if(mt){if(f===void 0)throw Error(i(407));f=f()}else{if(f=a(),Wt===null)throw Error(i(349));(_t&127)!==0||SS(g,a,f)}S.memoizedState=f;var A={value:f,getSnapshot:a};return S.queue=A,BS(ES.bind(null,g,A,r),[r]),g.flags|=2048,Pc(9,{destroy:void 0},CS.bind(null,g,A,f,a),null),f},useId:function(){var r=Pi(),a=Wt.identifierPrefix;if(mt){var f=Pe,g=Ae;f=(g&~(1<<32-En(g)-1)).toString(32)+f,a="_"+a+"R_"+f,f=Qh++,0<f&&(a+="H"+f.toString(32)),a+="_"}else f=fI++,a="_"+a+"r_"+f.toString(32)+"_";return r.memoizedState=a},useHostTransitionStatus:Wv,useFormState:DS,useActionState:DS,useOptimistic:function(r){var a=Pi();a.memoizedState=a.baseState=r;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=f,a=Yv.bind(null,lt,!0,f),f.dispatch=a,[r,a]},useMemoCache:Bv,useCacheRefresh:function(){return Pi().memoizedState=yI.bind(null,lt)},useEffectEvent:function(r){var a=Pi(),f={impl:r};return a.memoizedState=f,function(){if((Mt&2)!==0)throw Error(i(440));return f.impl.apply(void 0,arguments)}}},Zv={readContext:li,use:ep,useCallback:GS,useContext:li,useEffect:Hv,useImperativeHandle:HS,useInsertionEffect:FS,useLayoutEffect:VS,useMemo:KS,useReducer:tp,useRef:zS,useState:function(){return tp(go)},useDebugValue:Gv,useDeferredValue:function(r,a){var f=Cn();return qS(f,Gt.memoizedState,r,a)},useTransition:function(){var r=tp(go)[0],a=Cn().memoizedState;return[typeof r=="boolean"?r:bd(r),a]},useSyncExternalStore:wS,useId:XS,useHostTransitionStatus:Wv,useFormState:LS,useActionState:LS,useOptimistic:function(r,a){var f=Cn();return RS(f,Gt,r,a)},useMemoCache:Bv,useCacheRefresh:QS};Zv.useEffectEvent=US;var iC={readContext:li,use:ep,useCallback:GS,useContext:li,useEffect:Hv,useImperativeHandle:HS,useInsertionEffect:FS,useLayoutEffect:VS,useMemo:KS,useReducer:Fv,useRef:zS,useState:function(){return Fv(go)},useDebugValue:Gv,useDeferredValue:function(r,a){var f=Cn();return Gt===null?Kv(f,r,a):qS(f,Gt.memoizedState,r,a)},useTransition:function(){var r=Fv(go)[0],a=Cn().memoizedState;return[typeof r=="boolean"?r:bd(r),a]},useSyncExternalStore:wS,useId:XS,useHostTransitionStatus:Wv,useFormState:IS,useActionState:IS,useOptimistic:function(r,a){var f=Cn();return Gt!==null?RS(f,Gt,r,a):(f.baseState=r,[r,f.queue.dispatch])},useMemoCache:Bv,useCacheRefresh:QS};iC.useEffectEvent=US;function Xv(r,a,f,g){a=r.memoizedState,f=f(g,a),f=f==null?a:v({},a,f),r.memoizedState=f,r.lanes===0&&(r.updateQueue.baseState=f)}var Qv={enqueueSetState:function(r,a,f){r=r._reactInternals;var g=hs(),S=ea(g);S.payload=a,f!=null&&(S.callback=f),a=ta(r,S,g),a!==null&&(Zi(a,r,g),md(a,r,g))},enqueueReplaceState:function(r,a,f){r=r._reactInternals;var g=hs(),S=ea(g);S.tag=1,S.payload=a,f!=null&&(S.callback=f),a=ta(r,S,g),a!==null&&(Zi(a,r,g),md(a,r,g))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var f=hs(),g=ea(f);g.tag=2,a!=null&&(g.callback=a),a=ta(r,g,f),a!==null&&(Zi(a,r,f),md(a,r,f))}};function sC(r,a,f,g,S,A,D){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(g,A,D):a.prototype&&a.prototype.isPureReactComponent?!qo(f,g)||!qo(S,A):!0}function rC(r,a,f,g){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(f,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(f,g),a.state!==r&&Qv.enqueueReplaceState(a,a.state,null)}function xl(r,a){var f=a;if("ref"in a){f={};for(var g in a)g!=="ref"&&(f[g]=a[g])}if(r=r.defaultProps){f===a&&(f=v({},f));for(var S in r)f[S]===void 0&&(f[S]=r[S])}return f}function oC(r){ll(r)}function aC(r){console.error(r)}function lC(r){ll(r)}function rp(r,a){try{var f=r.onUncaughtError;f(a.value,{componentStack:a.stack})}catch(g){setTimeout(function(){throw g})}}function cC(r,a,f){try{var g=r.onCaughtError;g(f.value,{componentStack:f.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function Jv(r,a,f){return f=ea(f),f.tag=3,f.payload={element:null},f.callback=function(){rp(r,a)},f}function uC(r){return r=ea(r),r.tag=3,r}function dC(r,a,f,g){var S=f.type.getDerivedStateFromError;if(typeof S=="function"){var A=g.value;r.payload=function(){return S(A)},r.callback=function(){cC(a,f,g)}}var D=f.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(r.callback=function(){cC(a,f,g),typeof S!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var F=g.stack;this.componentDidCatch(g.value,{componentStack:F!==null?F:""})})}function xI(r,a,f,g,S){if(f.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(a=f.alternate,a!==null&&Cc(a,f,S,!0),f=cs.current,f!==null){switch(f.tag){case 31:case 13:return Ds===null?vp():f.alternate===null&&yn===0&&(yn=3),f.flags&=-257,f.flags|=65536,f.lanes=S,g===Kh?f.flags|=16384:(a=f.updateQueue,a===null?f.updateQueue=new Set([g]):a.add(g),Cy(r,g,S)),!1;case 22:return f.flags|=65536,g===Kh?f.flags|=16384:(a=f.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([g])},f.updateQueue=a):(f=a.retryQueue,f===null?a.retryQueue=new Set([g]):f.add(g)),Cy(r,g,S)),!1}throw Error(i(435,f.tag))}return Cy(r,g,S),vp(),!1}if(mt)return a=cs.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=S,g!==Sc&&(r=Error(i(422),{cause:g}),fl(p(r,f)))):(g!==Sc&&(a=Error(i(423),{cause:g}),fl(p(a,f))),r=r.current.alternate,r.flags|=65536,S&=-S,r.lanes|=S,g=p(g,f),S=Jv(r.stateNode,g,S),kv(r,S),yn!==4&&(yn=2)),!1;var A=Error(i(520),{cause:g});if(A=p(A,f),kd===null?kd=[A]:kd.push(A),yn!==4&&(yn=2),a===null)return!0;g=p(g,f),f=a;do{switch(f.tag){case 3:return f.flags|=65536,r=S&-S,f.lanes|=r,r=Jv(f.stateNode,g,r),kv(f,r),!1;case 1:if(a=f.type,A=f.stateNode,(f.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(aa===null||!aa.has(A))))return f.flags|=65536,S&=-S,f.lanes|=S,S=uC(S),dC(S,r,f,g),kv(f,S),!1}f=f.return}while(f!==null);return!1}var ey=Error(i(461)),Nn=!1;function ci(r,a,f,g){a.child=r===null?mS(a,null,f,g):yl(a,r.child,f,g)}function fC(r,a,f,g,S){f=f.render;var A=a.ref;if("ref"in g){var D={};for(var F in g)F!=="ref"&&(D[F]=g[F])}else D=g;return pl(a),g=Lv(r,a,f,D,A,S),F=jv(),r!==null&&!Nn?(Iv(r,a,S),vo(r,a,S)):(mt&&F&&zn(a),a.flags|=1,ci(r,a,g,S),a.child)}function hC(r,a,f,g,S){if(r===null){var A=f.type;return typeof A=="function"&&!_c(A)&&A.defaultProps===void 0&&f.compare===null?(a.tag=15,a.type=A,pC(r,a,A,g,S)):(r=dl(f.type,null,g,a,a.mode,S),r.ref=a.ref,r.return=a,a.child=r)}if(A=r.child,!ly(r,S)){var D=A.memoizedProps;if(f=f.compare,f=f!==null?f:qo,f(D,g)&&r.ref===a.ref)return vo(r,a,S)}return a.flags|=1,r=Ms(A,g),r.ref=a.ref,r.return=a,a.child=r}function pC(r,a,f,g,S){if(r!==null){var A=r.memoizedProps;if(qo(A,g)&&r.ref===a.ref)if(Nn=!1,a.pendingProps=g=A,ly(r,S))(r.flags&131072)!==0&&(Nn=!0);else return a.lanes=r.lanes,vo(r,a,S)}return ty(r,a,f,g,S)}function mC(r,a,f,g){var S=g.children,A=r!==null?r.memoizedState:null;if(r===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((a.flags&128)!==0){if(A=A!==null?A.baseLanes|f:f,r!==null){for(g=a.child=r.child,S=0;g!==null;)S=S|g.lanes|g.childLanes,g=g.sibling;g=S&~A}else g=0,a.child=null;return gC(r,a,A,f,g)}if((f&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Hh(a,A!==null?A.cachePool:null),A!==null?yS(a,A):Ov(),bS(a);else return g=a.lanes=536870912,gC(r,a,A!==null?A.baseLanes|f:f,f,g)}else A!==null?(Hh(a,A.cachePool),yS(a,A),ia(),a.memoizedState=null):(r!==null&&Hh(a,null),Ov(),ia());return ci(r,a,S,f),a.child}function wd(r,a){return r!==null&&r.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function gC(r,a,f,g,S){var A=Ev();return A=A===null?null:{parent:Rn._currentValue,pool:A},a.memoizedState={baseLanes:f,cachePool:A},r!==null&&Hh(a,null),Ov(),bS(a),r!==null&&Cc(r,a,g,!0),a.childLanes=S,null}function op(r,a){return a=lp({mode:a.mode,children:a.children},r.mode),a.ref=r.ref,r.child=a,a.return=r,a}function vC(r,a,f){return yl(a,r.child,null,f),r=op(a,a.pendingProps),r.flags|=2,us(a),a.memoizedState=null,r}function _I(r,a,f){var g=a.pendingProps,S=(a.flags&128)!==0;if(a.flags&=-129,r===null){if(mt){if(g.mode==="hidden")return r=op(a,g),a.lanes=536870912,wd(null,r);if(Mv(a),(r=kt)?(r=kE(r,Gi),r=r!==null&&r.data==="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:pe!==null?{id:Ae,overflow:Pe}:null,retryLane:536870912,hydrationErrors:null},f=ad(r),f.return=a,a.child=f,Rt=a,kt=null)):r=null,r===null)throw jr(a);return a.lanes=536870912,null}return op(a,g)}var A=r.memoizedState;if(A!==null){var D=A.dehydrated;if(Mv(a),S)if(a.flags&256)a.flags&=-257,a=vC(r,a,f);else if(a.memoizedState!==null)a.child=r.child,a.flags|=128,a=null;else throw Error(i(558));else if(Nn||Cc(r,a,f,!1),S=(f&r.childLanes)!==0,Nn||S){if(g=Wt,g!==null&&(D=yi(g,f),D!==0&&D!==A.retryLane))throw A.retryLane=D,Ps(r,D),Zi(g,r,D),ey;vp(),a=vC(r,a,f)}else r=A.treeContext,kt=Ls(D.nextSibling),Rt=a,mt=!0,Lr=null,Gi=!1,r!==null&&Oi(a,r),a=op(a,g),a.flags|=4096;return a}return r=Ms(r.child,{mode:g.mode,children:g.children}),r.ref=a.ref,a.child=r,r.return=a,r}function ap(r,a){var f=a.ref;if(f===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(i(284));(r===null||r.ref!==f)&&(a.flags|=4194816)}}function ty(r,a,f,g,S){return pl(a),f=Lv(r,a,f,g,void 0,S),g=jv(),r!==null&&!Nn?(Iv(r,a,S),vo(r,a,S)):(mt&&g&&zn(a),a.flags|=1,ci(r,a,f,S),a.child)}function yC(r,a,f,g,S,A){return pl(a),a.updateQueue=null,f=_S(a,g,f,S),xS(r),g=jv(),r!==null&&!Nn?(Iv(r,a,A),vo(r,a,A)):(mt&&g&&zn(a),a.flags|=1,ci(r,a,f,A),a.child)}function bC(r,a,f,g,S){if(pl(a),a.stateNode===null){var A=uo,D=f.contextType;typeof D=="object"&&D!==null&&(A=li(D)),A=new f(g,A),a.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=Qv,a.stateNode=A,A._reactInternals=a,A=a.stateNode,A.props=g,A.state=a.memoizedState,A.refs={},Tv(a),D=f.contextType,A.context=typeof D=="object"&&D!==null?li(D):uo,A.state=a.memoizedState,D=f.getDerivedStateFromProps,typeof D=="function"&&(Xv(a,f,D,g),A.state=a.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(D=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),D!==A.state&&Qv.enqueueReplaceState(A,A.state,null),vd(a,g,A,S),gd(),A.state=a.memoizedState),typeof A.componentDidMount=="function"&&(a.flags|=4194308),g=!0}else if(r===null){A=a.stateNode;var F=a.memoizedProps,te=xl(f,F);A.props=te;var he=A.context,_e=f.contextType;D=uo,typeof _e=="object"&&_e!==null&&(D=li(_e));var Te=f.getDerivedStateFromProps;_e=typeof Te=="function"||typeof A.getSnapshotBeforeUpdate=="function",F=a.pendingProps!==F,_e||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(F||he!==D)&&rC(a,A,g,D),Jo=!1;var me=a.memoizedState;A.state=me,vd(a,g,A,S),gd(),he=a.memoizedState,F||me!==he||Jo?(typeof Te=="function"&&(Xv(a,f,Te,g),he=a.memoizedState),(te=Jo||sC(a,f,te,g,me,he,D))?(_e||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(a.flags|=4194308)):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=he),A.props=g,A.state=he,A.context=D,g=te):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{A=a.stateNode,Rv(r,a),D=a.memoizedProps,_e=xl(f,D),A.props=_e,Te=a.pendingProps,me=A.context,he=f.contextType,te=uo,typeof he=="object"&&he!==null&&(te=li(he)),F=f.getDerivedStateFromProps,(he=typeof F=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(D!==Te||me!==te)&&rC(a,A,g,te),Jo=!1,me=a.memoizedState,A.state=me,vd(a,g,A,S),gd();var ve=a.memoizedState;D!==Te||me!==ve||Jo||r!==null&&r.dependencies!==null&&Vh(r.dependencies)?(typeof F=="function"&&(Xv(a,f,F,g),ve=a.memoizedState),(_e=Jo||sC(a,f,_e,g,me,ve,te)||r!==null&&r.dependencies!==null&&Vh(r.dependencies))?(he||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(g,ve,te),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(g,ve,te)),typeof A.componentDidUpdate=="function"&&(a.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof A.componentDidUpdate!="function"||D===r.memoizedProps&&me===r.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&me===r.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=ve),A.props=g,A.state=ve,A.context=te,g=_e):(typeof A.componentDidUpdate!="function"||D===r.memoizedProps&&me===r.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&me===r.memoizedState||(a.flags|=1024),g=!1)}return A=g,ap(r,a),g=(a.flags&128)!==0,A||g?(A=a.stateNode,f=g&&typeof f.getDerivedStateFromError!="function"?null:A.render(),a.flags|=1,r!==null&&g?(a.child=yl(a,r.child,null,S),a.child=yl(a,null,f,S)):ci(r,a,f,S),a.memoizedState=A.state,r=a.child):r=vo(r,a,S),r}function xC(r,a,f,g){return ho(),a.flags|=256,ci(r,a,f,g),a.child}var ny={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function iy(r){return{baseLanes:r,cachePool:cS()}}function sy(r,a,f){return r=r!==null?r.childLanes&~f:0,a&&(r|=fs),r}function _C(r,a,f){var g=a.pendingProps,S=!1,A=(a.flags&128)!==0,D;if((D=A)||(D=r!==null&&r.memoizedState===null?!1:(Sn.current&2)!==0),D&&(S=!0,a.flags&=-129),D=(a.flags&32)!==0,a.flags&=-33,r===null){if(mt){if(S?na(a):ia(),(r=kt)?(r=kE(r,Gi),r=r!==null&&r.data!=="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:pe!==null?{id:Ae,overflow:Pe}:null,retryLane:536870912,hydrationErrors:null},f=ad(r),f.return=a,a.child=f,Rt=a,kt=null)):r=null,r===null)throw jr(a);return Uy(r)?a.lanes=32:a.lanes=536870912,null}var F=g.children;return g=g.fallback,S?(ia(),S=a.mode,F=lp({mode:"hidden",children:F},S),g=fo(g,S,f,null),F.return=a,g.return=a,F.sibling=g,a.child=F,g=a.child,g.memoizedState=iy(f),g.childLanes=sy(r,D,f),a.memoizedState=ny,wd(null,g)):(na(a),ry(a,F))}var te=r.memoizedState;if(te!==null&&(F=te.dehydrated,F!==null)){if(A)a.flags&256?(na(a),a.flags&=-257,a=oy(r,a,f)):a.memoizedState!==null?(ia(),a.child=r.child,a.flags|=128,a=null):(ia(),F=g.fallback,S=a.mode,g=lp({mode:"visible",children:g.children},S),F=fo(F,S,f,null),F.flags|=2,g.return=a,F.return=a,g.sibling=F,a.child=g,yl(a,r.child,null,f),g=a.child,g.memoizedState=iy(f),g.childLanes=sy(r,D,f),a.memoizedState=ny,a=wd(null,g));else if(na(a),Uy(F)){if(D=F.nextSibling&&F.nextSibling.dataset,D)var he=D.dgst;D=he,g=Error(i(419)),g.stack="",g.digest=D,fl({value:g,source:null,stack:null}),a=oy(r,a,f)}else if(Nn||Cc(r,a,f,!1),D=(f&r.childLanes)!==0,Nn||D){if(D=Wt,D!==null&&(g=yi(D,f),g!==0&&g!==te.retryLane))throw te.retryLane=g,Ps(r,g),Zi(D,r,g),ey;By(F)||vp(),a=oy(r,a,f)}else By(F)?(a.flags|=192,a.child=r.child,a=null):(r=te.treeContext,kt=Ls(F.nextSibling),Rt=a,mt=!0,Lr=null,Gi=!1,r!==null&&Oi(a,r),a=ry(a,g.children),a.flags|=4096);return a}return S?(ia(),F=g.fallback,S=a.mode,te=r.child,he=te.sibling,g=Ms(te,{mode:"hidden",children:g.children}),g.subtreeFlags=te.subtreeFlags&65011712,he!==null?F=Ms(he,F):(F=fo(F,S,f,null),F.flags|=2),F.return=a,g.return=a,g.sibling=F,a.child=g,wd(null,g),g=a.child,F=r.child.memoizedState,F===null?F=iy(f):(S=F.cachePool,S!==null?(te=Rn._currentValue,S=S.parent!==te?{parent:te,pool:te}:S):S=cS(),F={baseLanes:F.baseLanes|f,cachePool:S}),g.memoizedState=F,g.childLanes=sy(r,D,f),a.memoizedState=ny,wd(r.child,g)):(na(a),f=r.child,r=f.sibling,f=Ms(f,{mode:"visible",children:g.children}),f.return=a,f.sibling=null,r!==null&&(D=a.deletions,D===null?(a.deletions=[r],a.flags|=16):D.push(r)),a.child=f,a.memoizedState=null,f)}function ry(r,a){return a=lp({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function lp(r,a){return r=wi(22,r,null,a),r.lanes=0,r}function oy(r,a,f){return yl(a,r.child,null,f),r=ry(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function wC(r,a,f){r.lanes|=a;var g=r.alternate;g!==null&&(g.lanes|=a),_v(r.return,a,f)}function ay(r,a,f,g,S,A){var D=r.memoizedState;D===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:S,treeForkCount:A}:(D.isBackwards=a,D.rendering=null,D.renderingStartTime=0,D.last=g,D.tail=f,D.tailMode=S,D.treeForkCount=A)}function SC(r,a,f){var g=a.pendingProps,S=g.revealOrder,A=g.tail;g=g.children;var D=Sn.current,F=(D&2)!==0;if(F?(D=D&1|2,a.flags|=128):D&=1,be(Sn,D),ci(r,a,g,f),g=mt?B:0,!F&&r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&wC(r,f,a);else if(r.tag===19)wC(r,f,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(S){case"forwards":for(f=a.child,S=null;f!==null;)r=f.alternate,r!==null&&Zh(r)===null&&(S=f),f=f.sibling;f=S,f===null?(S=a.child,a.child=null):(S=f.sibling,f.sibling=null),ay(a,!1,S,f,A,g);break;case"backwards":case"unstable_legacy-backwards":for(f=null,S=a.child,a.child=null;S!==null;){if(r=S.alternate,r!==null&&Zh(r)===null){a.child=S;break}r=S.sibling,S.sibling=f,f=S,S=r}ay(a,!0,f,null,A,g);break;case"together":ay(a,!1,null,null,void 0,g);break;default:a.memoizedState=null}return a.child}function vo(r,a,f){if(r!==null&&(a.dependencies=r.dependencies),oa|=a.lanes,(f&a.childLanes)===0)if(r!==null){if(Cc(r,a,f,!1),(f&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,f=Ms(r,r.pendingProps),a.child=f,f.return=a;r.sibling!==null;)r=r.sibling,f=f.sibling=Ms(r,r.pendingProps),f.return=a;f.sibling=null}return a.child}function ly(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Vh(r)))}function wI(r,a,f){switch(a.tag){case 3:je(a,a.stateNode.containerInfo),Qo(a,Rn,r.memoizedState.cache),ho();break;case 27:case 5:Le(a);break;case 4:je(a,a.stateNode.containerInfo);break;case 10:Qo(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Mv(a),null;break;case 13:var g=a.memoizedState;if(g!==null)return g.dehydrated!==null?(na(a),a.flags|=128,null):(f&a.child.childLanes)!==0?_C(r,a,f):(na(a),r=vo(r,a,f),r!==null?r.sibling:null);na(a);break;case 19:var S=(r.flags&128)!==0;if(g=(f&a.childLanes)!==0,g||(Cc(r,a,f,!1),g=(f&a.childLanes)!==0),S){if(g)return SC(r,a,f);a.flags|=128}if(S=a.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),be(Sn,Sn.current),g)break;return null;case 22:return a.lanes=0,mC(r,a,f,a.pendingProps);case 24:Qo(a,Rn,r.memoizedState.cache)}return vo(r,a,f)}function CC(r,a,f){if(r!==null)if(r.memoizedProps!==a.pendingProps)Nn=!0;else{if(!ly(r,f)&&(a.flags&128)===0)return Nn=!1,wI(r,a,f);Nn=(r.flags&131072)!==0}else Nn=!1,mt&&(a.flags&1048576)!==0&&ct(a,B,a.index);switch(a.lanes=0,a.tag){case 16:e:{var g=a.pendingProps;if(r=gl(a.elementType),a.type=r,typeof r=="function")_c(r)?(g=xl(r,g),a.tag=1,a=bC(null,a,r,g,f)):(a.tag=0,a=ty(null,a,r,g,f));else{if(r!=null){var S=r.$$typeof;if(S===M){a.tag=11,a=fC(null,a,r,g,f);break e}else if(S===z){a.tag=14,a=hC(null,a,r,g,f);break e}}throw a=ie(r)||r,Error(i(306,a,""))}}return a;case 0:return ty(r,a,a.type,a.pendingProps,f);case 1:return g=a.type,S=xl(g,a.pendingProps),bC(r,a,g,S,f);case 3:e:{if(je(a,a.stateNode.containerInfo),r===null)throw Error(i(387));g=a.pendingProps;var A=a.memoizedState;S=A.element,Rv(r,a),vd(a,g,null,f);var D=a.memoizedState;if(g=D.cache,Qo(a,Rn,g),g!==A.cache&&wv(a,[Rn],f,!0),gd(),g=D.element,A.isDehydrated)if(A={element:g,isDehydrated:!1,cache:D.cache},a.updateQueue.baseState=A,a.memoizedState=A,a.flags&256){a=xC(r,a,g,f);break e}else if(g!==S){S=p(Error(i(424)),a),fl(S),a=xC(r,a,g,f);break e}else for(r=a.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,kt=Ls(r.firstChild),Rt=a,mt=!0,Lr=null,Gi=!0,f=mS(a,null,g,f),a.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(ho(),g===S){a=vo(r,a,f);break e}ci(r,a,g,f)}a=a.child}return a;case 26:return ap(r,a),r===null?(f=LE(a.type,null,a.pendingProps,null))?a.memoizedState=f:mt||(f=a.type,r=a.pendingProps,g=Cp(we.current).createElement(f),g[pn]=a,g[Tn]=r,ui(g,f,r),ln(g),a.stateNode=g):a.memoizedState=LE(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Le(a),r===null&&mt&&(g=a.stateNode=PE(a.type,a.pendingProps,we.current),Rt=a,Gi=!0,S=kt,da(a.type)?(Fy=S,kt=Ls(g.firstChild)):kt=S),ci(r,a,a.pendingProps.children,f),ap(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&mt&&((S=g=kt)&&(g=QI(g,a.type,a.pendingProps,Gi),g!==null?(a.stateNode=g,Rt=a,kt=Ls(g.firstChild),Gi=!1,S=!0):S=!1),S||jr(a)),Le(a),S=a.type,A=a.pendingProps,D=r!==null?r.memoizedProps:null,g=A.children,jy(S,A)?g=null:D!==null&&jy(S,D)&&(a.flags|=32),a.memoizedState!==null&&(S=Lv(r,a,hI,null,null,f),Id._currentValue=S),ap(r,a),ci(r,a,g,f),a.child;case 6:return r===null&&mt&&((r=f=kt)&&(f=JI(f,a.pendingProps,Gi),f!==null?(a.stateNode=f,Rt=a,kt=null,r=!0):r=!1),r||jr(a)),null;case 13:return _C(r,a,f);case 4:return je(a,a.stateNode.containerInfo),g=a.pendingProps,r===null?a.child=yl(a,null,g,f):ci(r,a,g,f),a.child;case 11:return fC(r,a,a.type,a.pendingProps,f);case 7:return ci(r,a,a.pendingProps,f),a.child;case 8:return ci(r,a,a.pendingProps.children,f),a.child;case 12:return ci(r,a,a.pendingProps.children,f),a.child;case 10:return g=a.pendingProps,Qo(a,a.type,g.value),ci(r,a,g.children,f),a.child;case 9:return S=a.type._context,g=a.pendingProps.children,pl(a),S=li(S),g=g(S),a.flags|=1,ci(r,a,g,f),a.child;case 14:return hC(r,a,a.type,a.pendingProps,f);case 15:return pC(r,a,a.type,a.pendingProps,f);case 19:return SC(r,a,f);case 31:return _I(r,a,f);case 22:return mC(r,a,f,a.pendingProps);case 24:return pl(a),g=li(Rn),r===null?(S=Ev(),S===null&&(S=Wt,A=Sv(),S.pooledCache=A,A.refCount++,A!==null&&(S.pooledCacheLanes|=f),S=A),a.memoizedState={parent:g,cache:S},Tv(a),Qo(a,Rn,S)):((r.lanes&f)!==0&&(Rv(r,a),vd(a,null,null,f),gd()),S=r.memoizedState,A=a.memoizedState,S.parent!==g?(S={parent:g,cache:g},a.memoizedState=S,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=S),Qo(a,Rn,g)):(g=A.cache,Qo(a,Rn,g),g!==S.cache&&wv(a,[Rn],f,!0))),ci(r,a,a.pendingProps.children,f),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function yo(r){r.flags|=4}function cy(r,a,f,g,S){if((a=(r.mode&32)!==0)&&(a=!1),a){if(r.flags|=16777216,(S&335544128)===S)if(r.stateNode.complete)r.flags|=8192;else if(XC())r.flags|=8192;else throw vl=Kh,Av}else r.flags&=-16777217}function EC(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!UE(a))if(XC())r.flags|=8192;else throw vl=Kh,Av}function cp(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?An():536870912,r.lanes|=a,jc|=a)}function Sd(r,a){if(!mt)switch(r.tailMode){case"hidden":a=r.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?r.tail=null:f.sibling=null;break;case"collapsed":f=r.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:g.sibling=null}}function en(r){var a=r.alternate!==null&&r.alternate.child===r.child,f=0,g=0;if(a)for(var S=r.child;S!==null;)f|=S.lanes|S.childLanes,g|=S.subtreeFlags&65011712,g|=S.flags&65011712,S.return=r,S=S.sibling;else for(S=r.child;S!==null;)f|=S.lanes|S.childLanes,g|=S.subtreeFlags,g|=S.flags,S.return=r,S=S.sibling;return r.subtreeFlags|=g,r.childLanes=f,a}function SI(r,a,f){var g=a.pendingProps;switch(gn(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(a),null;case 1:return en(a),null;case 3:return f=a.stateNode,g=null,r!==null&&(g=r.memoizedState.cache),a.memoizedState.cache!==g&&(a.flags|=2048),po(Rn),De(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(ir(a)?yo(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ud())),en(a),null;case 26:var S=a.type,A=a.memoizedState;return r===null?(yo(a),A!==null?(en(a),EC(a,A)):(en(a),cy(a,S,null,g,f))):A?A!==r.memoizedState?(yo(a),en(a),EC(a,A)):(en(a),a.flags&=-16777217):(r=r.memoizedProps,r!==g&&yo(a),en(a),cy(a,S,r,g,f)),null;case 27:if(Ze(a),f=we.current,S=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==g&&yo(a);else{if(!g){if(a.stateNode===null)throw Error(i(166));return en(a),null}r=xe.current,ir(a)?cd(a):(r=PE(S,g,f),a.stateNode=r,yo(a))}return en(a),null;case 5:if(Ze(a),S=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==g&&yo(a);else{if(!g){if(a.stateNode===null)throw Error(i(166));return en(a),null}if(A=xe.current,ir(a))cd(a);else{var D=Cp(we.current);switch(A){case 1:A=D.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:A=D.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":A=D.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":A=D.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":A=D.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof g.is=="string"?D.createElement("select",{is:g.is}):D.createElement("select"),g.multiple?A.multiple=!0:g.size&&(A.size=g.size);break;default:A=typeof g.is=="string"?D.createElement(S,{is:g.is}):D.createElement(S)}}A[pn]=a,A[Tn]=g;e:for(D=a.child;D!==null;){if(D.tag===5||D.tag===6)A.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===a)break e;for(;D.sibling===null;){if(D.return===null||D.return===a)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}a.stateNode=A;e:switch(ui(A,S,g),S){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&yo(a)}}return en(a),cy(a,a.type,r===null?null:r.memoizedProps,a.pendingProps,f),null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==g&&yo(a);else{if(typeof g!="string"&&a.stateNode===null)throw Error(i(166));if(r=we.current,ir(a)){if(r=a.stateNode,f=a.memoizedProps,g=null,S=Rt,S!==null)switch(S.tag){case 27:case 5:g=S.memoizedProps}r[pn]=a,r=!!(r.nodeValue===f||g!==null&&g.suppressHydrationWarning===!0||_E(r.nodeValue,f)),r||jr(a,!0)}else r=Cp(r).createTextNode(g),r[pn]=a,a.stateNode=r}return en(a),null;case 31:if(f=a.memoizedState,r===null||r.memoizedState!==null){if(g=ir(a),f!==null){if(r===null){if(!g)throw Error(i(318));if(r=a.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[pn]=a}else ho(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;en(a),r=!1}else f=ud(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),r=!0;if(!r)return a.flags&256?(us(a),a):(us(a),null);if((a.flags&128)!==0)throw Error(i(558))}return en(a),null;case 13:if(g=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(S=ir(a),g!==null&&g.dehydrated!==null){if(r===null){if(!S)throw Error(i(318));if(S=a.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(i(317));S[pn]=a}else ho(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;en(a),S=!1}else S=ud(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=S),S=!0;if(!S)return a.flags&256?(us(a),a):(us(a),null)}return us(a),(a.flags&128)!==0?(a.lanes=f,a):(f=g!==null,r=r!==null&&r.memoizedState!==null,f&&(g=a.child,S=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(S=g.alternate.memoizedState.cachePool.pool),A=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(A=g.memoizedState.cachePool.pool),A!==S&&(g.flags|=2048)),f!==r&&f&&(a.child.flags|=8192),cp(a,a.updateQueue),en(a),null);case 4:return De(),r===null&&Oy(a.stateNode.containerInfo),en(a),null;case 10:return po(a.type),en(a),null;case 19:if(oe(Sn),g=a.memoizedState,g===null)return en(a),null;if(S=(a.flags&128)!==0,A=g.rendering,A===null)if(S)Sd(g,!1);else{if(yn!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(A=Zh(r),A!==null){for(a.flags|=128,Sd(g,!1),r=A.updateQueue,a.updateQueue=r,cp(a,r),a.subtreeFlags=0,r=f,f=a.child;f!==null;)od(f,r),f=f.sibling;return be(Sn,Sn.current&1|2),mt&&Ge(a,g.treeForkCount),a.child}r=r.sibling}g.tail!==null&&sn()>pp&&(a.flags|=128,S=!0,Sd(g,!1),a.lanes=4194304)}else{if(!S)if(r=Zh(A),r!==null){if(a.flags|=128,S=!0,r=r.updateQueue,a.updateQueue=r,cp(a,r),Sd(g,!0),g.tail===null&&g.tailMode==="hidden"&&!A.alternate&&!mt)return en(a),null}else 2*sn()-g.renderingStartTime>pp&&f!==536870912&&(a.flags|=128,S=!0,Sd(g,!1),a.lanes=4194304);g.isBackwards?(A.sibling=a.child,a.child=A):(r=g.last,r!==null?r.sibling=A:a.child=A,g.last=A)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=sn(),r.sibling=null,f=Sn.current,be(Sn,S?f&1|2:f&1),mt&&Ge(a,g.treeForkCount),r):(en(a),null);case 22:case 23:return us(a),Pv(),g=a.memoizedState!==null,r!==null?r.memoizedState!==null!==g&&(a.flags|=8192):g&&(a.flags|=8192),g?(f&536870912)!==0&&(a.flags&128)===0&&(en(a),a.subtreeFlags&6&&(a.flags|=8192)):en(a),f=a.updateQueue,f!==null&&cp(a,f.retryQueue),f=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),g=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(g=a.memoizedState.cachePool.pool),g!==f&&(a.flags|=2048),r!==null&&oe(ml),null;case 24:return f=null,r!==null&&(f=r.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),po(Rn),en(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function CI(r,a){switch(gn(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return po(Rn),De(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Ze(a),null;case 31:if(a.memoizedState!==null){if(us(a),a.alternate===null)throw Error(i(340));ho()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 13:if(us(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));ho()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return oe(Sn),null;case 4:return De(),null;case 10:return po(a.type),null;case 22:case 23:return us(a),Pv(),r!==null&&oe(ml),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return po(Rn),null;case 25:return null;default:return null}}function AC(r,a){switch(gn(a),a.tag){case 3:po(Rn),De();break;case 26:case 27:case 5:Ze(a);break;case 4:De();break;case 31:a.memoizedState!==null&&us(a);break;case 13:us(a);break;case 19:oe(Sn);break;case 10:po(a.type);break;case 22:case 23:us(a),Pv(),r!==null&&oe(ml);break;case 24:po(Rn)}}function Cd(r,a){try{var f=a.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var S=g.next;f=S;do{if((f.tag&r)===r){g=void 0;var A=f.create,D=f.inst;g=A(),D.destroy=g}f=f.next}while(f!==S)}}catch(F){Vt(a,a.return,F)}}function sa(r,a,f){try{var g=a.updateQueue,S=g!==null?g.lastEffect:null;if(S!==null){var A=S.next;g=A;do{if((g.tag&r)===r){var D=g.inst,F=D.destroy;if(F!==void 0){D.destroy=void 0,S=a;var te=f,he=F;try{he()}catch(_e){Vt(S,te,_e)}}}g=g.next}while(g!==A)}}catch(_e){Vt(a,a.return,_e)}}function TC(r){var a=r.updateQueue;if(a!==null){var f=r.stateNode;try{vS(a,f)}catch(g){Vt(r,r.return,g)}}}function RC(r,a,f){f.props=xl(r.type,r.memoizedProps),f.state=r.memoizedState;try{f.componentWillUnmount()}catch(g){Vt(r,a,g)}}function Ed(r,a){try{var f=r.ref;if(f!==null){switch(r.tag){case 26:case 27:case 5:var g=r.stateNode;break;case 30:g=r.stateNode;break;default:g=r.stateNode}typeof f=="function"?r.refCleanup=f(g):f.current=g}}catch(S){Vt(r,a,S)}}function zr(r,a){var f=r.ref,g=r.refCleanup;if(f!==null)if(typeof g=="function")try{g()}catch(S){Vt(r,a,S)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(S){Vt(r,a,S)}else f.current=null}function kC(r){var a=r.type,f=r.memoizedProps,g=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":f.autoFocus&&g.focus();break e;case"img":f.src?g.src=f.src:f.srcSet&&(g.srcset=f.srcSet)}}catch(S){Vt(r,r.return,S)}}function uy(r,a,f){try{var g=r.stateNode;KI(g,r.type,f,a),g[Tn]=a}catch(S){Vt(r,r.return,S)}}function NC(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&da(r.type)||r.tag===4}function dy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||NC(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&da(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function fy(r,a,f){var g=r.tag;if(g===5||g===6)r=r.stateNode,a?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(r,a):(a=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,a.appendChild(r),f=f._reactRootContainer,f!=null||a.onclick!==null||(a.onclick=xi));else if(g!==4&&(g===27&&da(r.type)&&(f=r.stateNode,a=null),r=r.child,r!==null))for(fy(r,a,f),r=r.sibling;r!==null;)fy(r,a,f),r=r.sibling}function up(r,a,f){var g=r.tag;if(g===5||g===6)r=r.stateNode,a?f.insertBefore(r,a):f.appendChild(r);else if(g!==4&&(g===27&&da(r.type)&&(f=r.stateNode),r=r.child,r!==null))for(up(r,a,f),r=r.sibling;r!==null;)up(r,a,f),r=r.sibling}function OC(r){var a=r.stateNode,f=r.memoizedProps;try{for(var g=r.type,S=a.attributes;S.length;)a.removeAttributeNode(S[0]);ui(a,g,f),a[pn]=r,a[Tn]=f}catch(A){Vt(r,r.return,A)}}var bo=!1,On=!1,hy=!1,PC=typeof WeakSet=="function"?WeakSet:Set,ti=null;function EI(r,a){if(r=r.containerInfo,Dy=Op,r=sl(r),Nr(r)){if("selectionStart"in r)var f={start:r.selectionStart,end:r.selectionEnd};else e:{f=(f=r.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var S=g.anchorOffset,A=g.focusNode;g=g.focusOffset;try{f.nodeType,A.nodeType}catch{f=null;break e}var D=0,F=-1,te=-1,he=0,_e=0,Te=r,me=null;t:for(;;){for(var ve;Te!==f||S!==0&&Te.nodeType!==3||(F=D+S),Te!==A||g!==0&&Te.nodeType!==3||(te=D+g),Te.nodeType===3&&(D+=Te.nodeValue.length),(ve=Te.firstChild)!==null;)me=Te,Te=ve;for(;;){if(Te===r)break t;if(me===f&&++he===S&&(F=D),me===A&&++_e===g&&(te=D),(ve=Te.nextSibling)!==null)break;Te=me,me=Te.parentNode}Te=ve}f=F===-1||te===-1?null:{start:F,end:te}}else f=null}f=f||{start:0,end:0}}else f=null;for(Ly={focusedElem:r,selectionRange:f},Op=!1,ti=a;ti!==null;)if(a=ti,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,ti=r;else for(;ti!==null;){switch(a=ti,A=a.alternate,r=a.flags,a.tag){case 0:if((r&4)!==0&&(r=a.updateQueue,r=r!==null?r.events:null,r!==null))for(f=0;f<r.length;f++)S=r[f],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&A!==null){r=void 0,f=a,S=A.memoizedProps,A=A.memoizedState,g=f.stateNode;try{var Ue=xl(f.type,S);r=g.getSnapshotBeforeUpdate(Ue,A),g.__reactInternalSnapshotBeforeUpdate=r}catch(Qe){Vt(f,f.return,Qe)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,f=r.nodeType,f===9)zy(r);else if(f===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":zy(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,ti=r;break}ti=a.return}}function MC(r,a,f){var g=f.flags;switch(f.tag){case 0:case 11:case 15:_o(r,f),g&4&&Cd(5,f);break;case 1:if(_o(r,f),g&4)if(r=f.stateNode,a===null)try{r.componentDidMount()}catch(D){Vt(f,f.return,D)}else{var S=xl(f.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(S,a,r.__reactInternalSnapshotBeforeUpdate)}catch(D){Vt(f,f.return,D)}}g&64&&TC(f),g&512&&Ed(f,f.return);break;case 3:if(_o(r,f),g&64&&(r=f.updateQueue,r!==null)){if(a=null,f.child!==null)switch(f.child.tag){case 27:case 5:a=f.child.stateNode;break;case 1:a=f.child.stateNode}try{vS(r,a)}catch(D){Vt(f,f.return,D)}}break;case 27:a===null&&g&4&&OC(f);case 26:case 5:_o(r,f),a===null&&g&4&&kC(f),g&512&&Ed(f,f.return);break;case 12:_o(r,f);break;case 31:_o(r,f),g&4&&jC(r,f);break;case 13:_o(r,f),g&4&&IC(r,f),g&64&&(r=f.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(f=DI.bind(null,f),ez(r,f))));break;case 22:if(g=f.memoizedState!==null||bo,!g){a=a!==null&&a.memoizedState!==null||On,S=bo;var A=On;bo=g,(On=a)&&!A?wo(r,f,(f.subtreeFlags&8772)!==0):_o(r,f),bo=S,On=A}break;case 30:break;default:_o(r,f)}}function DC(r){var a=r.alternate;a!==null&&(r.alternate=null,DC(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Ga(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var tn=null,Ki=!1;function xo(r,a,f){for(f=f.child;f!==null;)LC(r,a,f),f=f.sibling}function LC(r,a,f){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(ts,f)}catch{}switch(f.tag){case 26:On||zr(f,a),xo(r,a,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:On||zr(f,a);var g=tn,S=Ki;da(f.type)&&(tn=f.stateNode,Ki=!1),xo(r,a,f),Dd(f.stateNode),tn=g,Ki=S;break;case 5:On||zr(f,a);case 6:if(g=tn,S=Ki,tn=null,xo(r,a,f),tn=g,Ki=S,tn!==null)if(Ki)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(f.stateNode)}catch(A){Vt(f,a,A)}else try{tn.removeChild(f.stateNode)}catch(A){Vt(f,a,A)}break;case 18:tn!==null&&(Ki?(r=tn,TE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,f.stateNode),Hc(r)):TE(tn,f.stateNode));break;case 4:g=tn,S=Ki,tn=f.stateNode.containerInfo,Ki=!0,xo(r,a,f),tn=g,Ki=S;break;case 0:case 11:case 14:case 15:sa(2,f,a),On||sa(4,f,a),xo(r,a,f);break;case 1:On||(zr(f,a),g=f.stateNode,typeof g.componentWillUnmount=="function"&&RC(f,a,g)),xo(r,a,f);break;case 21:xo(r,a,f);break;case 22:On=(g=On)||f.memoizedState!==null,xo(r,a,f),On=g;break;default:xo(r,a,f)}}function jC(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Hc(r)}catch(f){Vt(a,a.return,f)}}}function IC(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Hc(r)}catch(f){Vt(a,a.return,f)}}function AI(r){switch(r.tag){case 31:case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new PC),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new PC),a;default:throw Error(i(435,r.tag))}}function dp(r,a){var f=AI(r);a.forEach(function(g){if(!f.has(g)){f.add(g);var S=LI.bind(null,r,g);g.then(S,S)}})}function qi(r,a){var f=a.deletions;if(f!==null)for(var g=0;g<f.length;g++){var S=f[g],A=r,D=a,F=D;e:for(;F!==null;){switch(F.tag){case 27:if(da(F.type)){tn=F.stateNode,Ki=!1;break e}break;case 5:tn=F.stateNode,Ki=!1;break e;case 3:case 4:tn=F.stateNode.containerInfo,Ki=!0;break e}F=F.return}if(tn===null)throw Error(i(160));LC(A,D,S),tn=null,Ki=!1,A=S.alternate,A!==null&&(A.return=null),S.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)zC(a,r),a=a.sibling}var rr=null;function zC(r,a){var f=r.alternate,g=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:qi(a,r),Wi(r),g&4&&(sa(3,r,r.return),Cd(3,r),sa(5,r,r.return));break;case 1:qi(a,r),Wi(r),g&512&&(On||f===null||zr(f,f.return)),g&64&&bo&&(r=r.updateQueue,r!==null&&(g=r.callbacks,g!==null&&(f=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=f===null?g:f.concat(g))));break;case 26:var S=rr;if(qi(a,r),Wi(r),g&512&&(On||f===null||zr(f,f.return)),g&4){var A=f!==null?f.memoizedState:null;if(g=r.memoizedState,f===null)if(g===null)if(r.stateNode===null){e:{g=r.type,f=r.memoizedProps,S=S.ownerDocument||S;t:switch(g){case"title":A=S.getElementsByTagName("title")[0],(!A||A[to]||A[pn]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=S.createElement(g),S.head.insertBefore(A,S.querySelector("head > title"))),ui(A,g,f),A[pn]=r,ln(A),g=A;break e;case"link":var D=zE("link","href",S).get(g+(f.href||""));if(D){for(var F=0;F<D.length;F++)if(A=D[F],A.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&A.getAttribute("rel")===(f.rel==null?null:f.rel)&&A.getAttribute("title")===(f.title==null?null:f.title)&&A.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){D.splice(F,1);break t}}A=S.createElement(g),ui(A,g,f),S.head.appendChild(A);break;case"meta":if(D=zE("meta","content",S).get(g+(f.content||""))){for(F=0;F<D.length;F++)if(A=D[F],A.getAttribute("content")===(f.content==null?null:""+f.content)&&A.getAttribute("name")===(f.name==null?null:f.name)&&A.getAttribute("property")===(f.property==null?null:f.property)&&A.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&A.getAttribute("charset")===(f.charSet==null?null:f.charSet)){D.splice(F,1);break t}}A=S.createElement(g),ui(A,g,f),S.head.appendChild(A);break;default:throw Error(i(468,g))}A[pn]=r,ln(A),g=A}r.stateNode=g}else BE(S,r.type,r.stateNode);else r.stateNode=IE(S,g,r.memoizedProps);else A!==g?(A===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):A.count--,g===null?BE(S,r.type,r.stateNode):IE(S,g,r.memoizedProps)):g===null&&r.stateNode!==null&&uy(r,r.memoizedProps,f.memoizedProps)}break;case 27:qi(a,r),Wi(r),g&512&&(On||f===null||zr(f,f.return)),f!==null&&g&4&&uy(r,r.memoizedProps,f.memoizedProps);break;case 5:if(qi(a,r),Wi(r),g&512&&(On||f===null||zr(f,f.return)),r.flags&32){S=r.stateNode;try{Et(S,"")}catch(Ue){Vt(r,r.return,Ue)}}g&4&&r.stateNode!=null&&(S=r.memoizedProps,uy(r,S,f!==null?f.memoizedProps:S)),g&1024&&(hy=!0);break;case 6:if(qi(a,r),Wi(r),g&4){if(r.stateNode===null)throw Error(i(162));g=r.memoizedProps,f=r.stateNode;try{f.nodeValue=g}catch(Ue){Vt(r,r.return,Ue)}}break;case 3:if(Tp=null,S=rr,rr=Ep(a.containerInfo),qi(a,r),rr=S,Wi(r),g&4&&f!==null&&f.memoizedState.isDehydrated)try{Hc(a.containerInfo)}catch(Ue){Vt(r,r.return,Ue)}hy&&(hy=!1,BC(r));break;case 4:g=rr,rr=Ep(r.stateNode.containerInfo),qi(a,r),Wi(r),rr=g;break;case 12:qi(a,r),Wi(r);break;case 31:qi(a,r),Wi(r),g&4&&(g=r.updateQueue,g!==null&&(r.updateQueue=null,dp(r,g)));break;case 13:qi(a,r),Wi(r),r.child.flags&8192&&r.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(hp=sn()),g&4&&(g=r.updateQueue,g!==null&&(r.updateQueue=null,dp(r,g)));break;case 22:S=r.memoizedState!==null;var te=f!==null&&f.memoizedState!==null,he=bo,_e=On;if(bo=he||S,On=_e||te,qi(a,r),On=_e,bo=he,Wi(r),g&8192)e:for(a=r.stateNode,a._visibility=S?a._visibility&-2:a._visibility|1,S&&(f===null||te||bo||On||_l(r)),f=null,a=r;;){if(a.tag===5||a.tag===26){if(f===null){te=f=a;try{if(A=te.stateNode,S)D=A.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{F=te.stateNode;var Te=te.memoizedProps.style,me=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;F.style.display=me==null||typeof me=="boolean"?"":(""+me).trim()}}catch(Ue){Vt(te,te.return,Ue)}}}else if(a.tag===6){if(f===null){te=a;try{te.stateNode.nodeValue=S?"":te.memoizedProps}catch(Ue){Vt(te,te.return,Ue)}}}else if(a.tag===18){if(f===null){te=a;try{var ve=te.stateNode;S?RE(ve,!0):RE(te.stateNode,!1)}catch(Ue){Vt(te,te.return,Ue)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;f===a&&(f=null),a=a.return}f===a&&(f=null),a.sibling.return=a.return,a=a.sibling}g&4&&(g=r.updateQueue,g!==null&&(f=g.retryQueue,f!==null&&(g.retryQueue=null,dp(r,f))));break;case 19:qi(a,r),Wi(r),g&4&&(g=r.updateQueue,g!==null&&(r.updateQueue=null,dp(r,g)));break;case 30:break;case 21:break;default:qi(a,r),Wi(r)}}function Wi(r){var a=r.flags;if(a&2){try{for(var f,g=r.return;g!==null;){if(NC(g)){f=g;break}g=g.return}if(f==null)throw Error(i(160));switch(f.tag){case 27:var S=f.stateNode,A=dy(r);up(r,A,S);break;case 5:var D=f.stateNode;f.flags&32&&(Et(D,""),f.flags&=-33);var F=dy(r);up(r,F,D);break;case 3:case 4:var te=f.stateNode.containerInfo,he=dy(r);fy(r,he,te);break;default:throw Error(i(161))}}catch(_e){Vt(r,r.return,_e)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function BC(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;BC(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function _o(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)MC(r,a.alternate,a),a=a.sibling}function _l(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:sa(4,a,a.return),_l(a);break;case 1:zr(a,a.return);var f=a.stateNode;typeof f.componentWillUnmount=="function"&&RC(a,a.return,f),_l(a);break;case 27:Dd(a.stateNode);case 26:case 5:zr(a,a.return),_l(a);break;case 22:a.memoizedState===null&&_l(a);break;case 30:_l(a);break;default:_l(a)}r=r.sibling}}function wo(r,a,f){for(f=f&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var g=a.alternate,S=r,A=a,D=A.flags;switch(A.tag){case 0:case 11:case 15:wo(S,A,f),Cd(4,A);break;case 1:if(wo(S,A,f),g=A,S=g.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(he){Vt(g,g.return,he)}if(g=A,S=g.updateQueue,S!==null){var F=g.stateNode;try{var te=S.shared.hiddenCallbacks;if(te!==null)for(S.shared.hiddenCallbacks=null,S=0;S<te.length;S++)gS(te[S],F)}catch(he){Vt(g,g.return,he)}}f&&D&64&&TC(A),Ed(A,A.return);break;case 27:OC(A);case 26:case 5:wo(S,A,f),f&&g===null&&D&4&&kC(A),Ed(A,A.return);break;case 12:wo(S,A,f);break;case 31:wo(S,A,f),f&&D&4&&jC(S,A);break;case 13:wo(S,A,f),f&&D&4&&IC(S,A);break;case 22:A.memoizedState===null&&wo(S,A,f),Ed(A,A.return);break;case 30:break;default:wo(S,A,f)}a=a.sibling}}function py(r,a){var f=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==f&&(r!=null&&r.refCount++,f!=null&&dd(f))}function my(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&dd(r))}function or(r,a,f,g){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)UC(r,a,f,g),a=a.sibling}function UC(r,a,f,g){var S=a.flags;switch(a.tag){case 0:case 11:case 15:or(r,a,f,g),S&2048&&Cd(9,a);break;case 1:or(r,a,f,g);break;case 3:or(r,a,f,g),S&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&dd(r)));break;case 12:if(S&2048){or(r,a,f,g),r=a.stateNode;try{var A=a.memoizedProps,D=A.id,F=A.onPostCommit;typeof F=="function"&&F(D,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(te){Vt(a,a.return,te)}}else or(r,a,f,g);break;case 31:or(r,a,f,g);break;case 13:or(r,a,f,g);break;case 23:break;case 22:A=a.stateNode,D=a.alternate,a.memoizedState!==null?A._visibility&2?or(r,a,f,g):Ad(r,a):A._visibility&2?or(r,a,f,g):(A._visibility|=2,Mc(r,a,f,g,(a.subtreeFlags&10256)!==0||!1)),S&2048&&py(D,a);break;case 24:or(r,a,f,g),S&2048&&my(a.alternate,a);break;default:or(r,a,f,g)}}function Mc(r,a,f,g,S){for(S=S&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var A=r,D=a,F=f,te=g,he=D.flags;switch(D.tag){case 0:case 11:case 15:Mc(A,D,F,te,S),Cd(8,D);break;case 23:break;case 22:var _e=D.stateNode;D.memoizedState!==null?_e._visibility&2?Mc(A,D,F,te,S):Ad(A,D):(_e._visibility|=2,Mc(A,D,F,te,S)),S&&he&2048&&py(D.alternate,D);break;case 24:Mc(A,D,F,te,S),S&&he&2048&&my(D.alternate,D);break;default:Mc(A,D,F,te,S)}a=a.sibling}}function Ad(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var f=r,g=a,S=g.flags;switch(g.tag){case 22:Ad(f,g),S&2048&&py(g.alternate,g);break;case 24:Ad(f,g),S&2048&&my(g.alternate,g);break;default:Ad(f,g)}a=a.sibling}}var Td=8192;function Dc(r,a,f){if(r.subtreeFlags&Td)for(r=r.child;r!==null;)FC(r,a,f),r=r.sibling}function FC(r,a,f){switch(r.tag){case 26:Dc(r,a,f),r.flags&Td&&r.memoizedState!==null&&fz(f,rr,r.memoizedState,r.memoizedProps);break;case 5:Dc(r,a,f);break;case 3:case 4:var g=rr;rr=Ep(r.stateNode.containerInfo),Dc(r,a,f),rr=g;break;case 22:r.memoizedState===null&&(g=r.alternate,g!==null&&g.memoizedState!==null?(g=Td,Td=16777216,Dc(r,a,f),Td=g):Dc(r,a,f));break;default:Dc(r,a,f)}}function VC(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Rd(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var f=0;f<a.length;f++){var g=a[f];ti=g,HC(g,r)}VC(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)$C(r),r=r.sibling}function $C(r){switch(r.tag){case 0:case 11:case 15:Rd(r),r.flags&2048&&sa(9,r,r.return);break;case 3:Rd(r);break;case 12:Rd(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,fp(r)):Rd(r);break;default:Rd(r)}}function fp(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var f=0;f<a.length;f++){var g=a[f];ti=g,HC(g,r)}VC(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:sa(8,a,a.return),fp(a);break;case 22:f=a.stateNode,f._visibility&2&&(f._visibility&=-3,fp(a));break;default:fp(a)}r=r.sibling}}function HC(r,a){for(;ti!==null;){var f=ti;switch(f.tag){case 0:case 11:case 15:sa(8,f,a);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var g=f.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:dd(f.memoizedState.cache)}if(g=f.child,g!==null)g.return=f,ti=g;else e:for(f=r;ti!==null;){g=ti;var S=g.sibling,A=g.return;if(DC(g),g===f){ti=null;break e}if(S!==null){S.return=A,ti=S;break e}ti=A}}}var TI={getCacheForType:function(r){var a=li(Rn),f=a.data.get(r);return f===void 0&&(f=r(),a.data.set(r,f)),f},cacheSignal:function(){return li(Rn).controller.signal}},RI=typeof WeakMap=="function"?WeakMap:Map,Mt=0,Wt=null,gt=null,_t=0,Ft=0,ds=null,ra=!1,Lc=!1,gy=!1,So=0,yn=0,oa=0,wl=0,vy=0,fs=0,jc=0,kd=null,Yi=null,yy=!1,hp=0,GC=0,pp=1/0,mp=null,aa=null,Bn=0,la=null,Ic=null,Co=0,by=0,xy=null,KC=null,Nd=0,_y=null;function hs(){return(Mt&2)!==0&&_t!==0?_t&-_t:G.T!==null?Ty():bi()}function qC(){if(fs===0)if((_t&536870912)===0||mt){var r=Ys;Ys<<=1,(Ys&3932160)===0&&(Ys=262144),fs=r}else fs=536870912;return r=cs.current,r!==null&&(r.flags|=32),fs}function Zi(r,a,f){(r===Wt&&(Ft===2||Ft===9)||r.cancelPendingCommit!==null)&&(zc(r,0),ca(r,_t,fs,!1)),Xn(r,f),((Mt&2)===0||r!==Wt)&&(r===Wt&&((Mt&2)===0&&(wl|=f),yn===4&&ca(r,_t,fs,!1)),Br(r))}function WC(r,a,f){if((Mt&6)!==0)throw Error(i(327));var g=!f&&(a&127)===0&&(a&r.expiredLanes)===0||Wn(r,a),S=g?OI(r,a):Sy(r,a,!0),A=g;do{if(S===0){Lc&&!g&&ca(r,a,0,!1);break}else{if(f=r.current.alternate,A&&!kI(f)){S=Sy(r,a,!1),A=!1;continue}if(S===2){if(A=a,r.errorRecoveryDisabledLanes&A)var D=0;else D=r.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){a=D;e:{var F=r;S=kd;var te=F.current.memoizedState.isDehydrated;if(te&&(zc(F,D).flags|=256),D=Sy(F,D,!1),D!==2){if(gy&&!te){F.errorRecoveryDisabledLanes|=A,wl|=A,S=4;break e}A=Yi,Yi=S,A!==null&&(Yi===null?Yi=A:Yi.push.apply(Yi,A))}S=D}if(A=!1,S!==2)continue}}if(S===1){zc(r,0),ca(r,a,0,!0);break}e:{switch(g=r,A=S,A){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ca(g,a,fs,!ra);break e;case 2:Yi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(S=hp+300-sn(),10<S)){if(ca(g,a,fs,!ra),hn(g,0,!0)!==0)break e;Co=a,g.timeoutHandle=EE(YC.bind(null,g,f,Yi,mp,yy,a,fs,wl,jc,ra,A,"Throttled",-0,0),S);break e}YC(g,f,Yi,mp,yy,a,fs,wl,jc,ra,A,null,-0,0)}}break}while(!0);Br(r)}function YC(r,a,f,g,S,A,D,F,te,he,_e,Te,me,ve){if(r.timeoutHandle=-1,Te=a.subtreeFlags,Te&8192||(Te&16785408)===16785408){Te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xi},FC(a,A,Te);var Ue=(A&62914560)===A?hp-sn():(A&4194048)===A?GC-sn():0;if(Ue=hz(Te,Ue),Ue!==null){Co=A,r.cancelPendingCommit=Ue(iE.bind(null,r,a,A,f,g,S,D,F,te,_e,Te,null,me,ve)),ca(r,A,D,!he);return}}iE(r,a,A,f,g,S,D,F,te)}function kI(r){for(var a=r;;){var f=a.tag;if((f===0||f===11||f===15)&&a.flags&16384&&(f=a.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var g=0;g<f.length;g++){var S=f[g],A=S.getSnapshot;S=S.value;try{if(!Jn(A(),S))return!1}catch{return!1}}if(f=a.child,a.subtreeFlags&16384&&f!==null)f.return=a,a=f;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ca(r,a,f,g){a&=~vy,a&=~wl,r.suspendedLanes|=a,r.pingedLanes&=~a,g&&(r.warmLanes|=a),g=r.expirationTimes;for(var S=a;0<S;){var A=31-En(S),D=1<<A;g[A]=-1,S&=~D}f!==0&&ki(r,f,a)}function gp(){return(Mt&6)===0?(Od(0),!1):!0}function wy(){if(gt!==null){if(Ft===0)var r=gt.return;else r=gt,sr=Ir=null,zv(r),Rc=null,hd=0,r=gt;for(;r!==null;)AC(r.alternate,r),r=r.return;gt=null}}function zc(r,a){var f=r.timeoutHandle;f!==-1&&(r.timeoutHandle=-1,YI(f)),f=r.cancelPendingCommit,f!==null&&(r.cancelPendingCommit=null,f()),Co=0,wy(),Wt=r,gt=f=Ms(r.current,null),_t=a,Ft=0,ds=null,ra=!1,Lc=Wn(r,a),gy=!1,jc=fs=vy=wl=oa=yn=0,Yi=kd=null,yy=!1,(a&8)!==0&&(a|=a&32);var g=r.entangledLanes;if(g!==0)for(r=r.entanglements,g&=a;0<g;){var S=31-En(g),A=1<<S;a|=r[S],g&=~A}return So=a,cl(),f}function ZC(r,a){lt=null,G.H=_d,a===Tc||a===Gh?(a=fS(),Ft=3):a===Av?(a=fS(),Ft=4):Ft=a===ey?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ds=a,gt===null&&(yn=1,rp(r,p(a,r.current)))}function XC(){var r=cs.current;return r===null?!0:(_t&4194048)===_t?Ds===null:(_t&62914560)===_t||(_t&536870912)!==0?r===Ds:!1}function QC(){var r=G.H;return G.H=_d,r===null?_d:r}function JC(){var r=G.A;return G.A=TI,r}function vp(){yn=4,ra||(_t&4194048)!==_t&&cs.current!==null||(Lc=!0),(oa&134217727)===0&&(wl&134217727)===0||Wt===null||ca(Wt,_t,fs,!1)}function Sy(r,a,f){var g=Mt;Mt|=2;var S=QC(),A=JC();(Wt!==r||_t!==a)&&(mp=null,zc(r,a)),a=!1;var D=yn;e:do try{if(Ft!==0&&gt!==null){var F=gt,te=ds;switch(Ft){case 8:wy(),D=6;break e;case 3:case 2:case 9:case 6:cs.current===null&&(a=!0);var he=Ft;if(Ft=0,ds=null,Bc(r,F,te,he),f&&Lc){D=0;break e}break;default:he=Ft,Ft=0,ds=null,Bc(r,F,te,he)}}NI(),D=yn;break}catch(_e){ZC(r,_e)}while(!0);return a&&r.shellSuspendCounter++,sr=Ir=null,Mt=g,G.H=S,G.A=A,gt===null&&(Wt=null,_t=0,cl()),D}function NI(){for(;gt!==null;)eE(gt)}function OI(r,a){var f=Mt;Mt|=2;var g=QC(),S=JC();Wt!==r||_t!==a?(mp=null,pp=sn()+500,zc(r,a)):Lc=Wn(r,a);e:do try{if(Ft!==0&&gt!==null){a=gt;var A=ds;t:switch(Ft){case 1:Ft=0,ds=null,Bc(r,a,A,1);break;case 2:case 9:if(uS(A)){Ft=0,ds=null,tE(a);break}a=function(){Ft!==2&&Ft!==9||Wt!==r||(Ft=7),Br(r)},A.then(a,a);break e;case 3:Ft=7;break e;case 4:Ft=5;break e;case 7:uS(A)?(Ft=0,ds=null,tE(a)):(Ft=0,ds=null,Bc(r,a,A,7));break;case 5:var D=null;switch(gt.tag){case 26:D=gt.memoizedState;case 5:case 27:var F=gt;if(D?UE(D):F.stateNode.complete){Ft=0,ds=null;var te=F.sibling;if(te!==null)gt=te;else{var he=F.return;he!==null?(gt=he,yp(he)):gt=null}break t}}Ft=0,ds=null,Bc(r,a,A,5);break;case 6:Ft=0,ds=null,Bc(r,a,A,6);break;case 8:wy(),yn=6;break e;default:throw Error(i(462))}}PI();break}catch(_e){ZC(r,_e)}while(!0);return sr=Ir=null,G.H=g,G.A=S,Mt=f,gt!==null?0:(Wt=null,_t=0,cl(),yn)}function PI(){for(;gt!==null&&!Ti();)eE(gt)}function eE(r){var a=CC(r.alternate,r,So);r.memoizedProps=r.pendingProps,a===null?yp(r):gt=a}function tE(r){var a=r,f=a.alternate;switch(a.tag){case 15:case 0:a=yC(f,a,a.pendingProps,a.type,void 0,_t);break;case 11:a=yC(f,a,a.pendingProps,a.type.render,a.ref,_t);break;case 5:zv(a);default:AC(f,a),a=gt=od(a,So),a=CC(f,a,So)}r.memoizedProps=r.pendingProps,a===null?yp(r):gt=a}function Bc(r,a,f,g){sr=Ir=null,zv(a),Rc=null,hd=0;var S=a.return;try{if(xI(r,S,a,f,_t)){yn=1,rp(r,p(f,r.current)),gt=null;return}}catch(A){if(S!==null)throw gt=S,A;yn=1,rp(r,p(f,r.current)),gt=null;return}a.flags&32768?(mt||g===1?r=!0:Lc||(_t&536870912)!==0?r=!1:(ra=r=!0,(g===2||g===9||g===3||g===6)&&(g=cs.current,g!==null&&g.tag===13&&(g.flags|=16384))),nE(a,r)):yp(a)}function yp(r){var a=r;do{if((a.flags&32768)!==0){nE(a,ra);return}r=a.return;var f=SI(a.alternate,a,So);if(f!==null){gt=f;return}if(a=a.sibling,a!==null){gt=a;return}gt=a=r}while(a!==null);yn===0&&(yn=5)}function nE(r,a){do{var f=CI(r.alternate,r);if(f!==null){f.flags&=32767,gt=f;return}if(f=r.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!a&&(r=r.sibling,r!==null)){gt=r;return}gt=r=f}while(r!==null);yn=6,gt=null}function iE(r,a,f,g,S,A,D,F,te){r.cancelPendingCommit=null;do bp();while(Bn!==0);if((Mt&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(A=a.lanes|a.childLanes,A|=xc,on(r,f,A,D,F,te),r===Wt&&(gt=Wt=null,_t=0),Ic=a,la=r,Co=f,by=A,xy=S,KC=g,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,jI(Bt,function(){return lE(),null})):(r.callbackNode=null,r.callbackPriority=0),g=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||g){g=G.T,G.T=null,S=X.p,X.p=2,D=Mt,Mt|=4;try{EI(r,a,f)}finally{Mt=D,X.p=S,G.T=g}}Bn=1,sE(),rE(),oE()}}function sE(){if(Bn===1){Bn=0;var r=la,a=Ic,f=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||f){f=G.T,G.T=null;var g=X.p;X.p=2;var S=Mt;Mt|=4;try{zC(a,r);var A=Ly,D=sl(r.containerInfo),F=A.focusedElem,te=A.selectionRange;if(D!==F&&F&&F.ownerDocument&&gc(F.ownerDocument.documentElement,F)){if(te!==null&&Nr(F)){var he=te.start,_e=te.end;if(_e===void 0&&(_e=he),"selectionStart"in F)F.selectionStart=he,F.selectionEnd=Math.min(_e,F.value.length);else{var Te=F.ownerDocument||document,me=Te&&Te.defaultView||window;if(me.getSelection){var ve=me.getSelection(),Ue=F.textContent.length,Qe=Math.min(te.start,Ue),qt=te.end===void 0?Qe:Math.min(te.end,Ue);!ve.extend&&Qe>qt&&(D=qt,qt=Qe,Qe=D);var ce=il(F,Qe),se=il(F,qt);if(ce&&se&&(ve.rangeCount!==1||ve.anchorNode!==ce.node||ve.anchorOffset!==ce.offset||ve.focusNode!==se.node||ve.focusOffset!==se.offset)){var fe=Te.createRange();fe.setStart(ce.node,ce.offset),ve.removeAllRanges(),Qe>qt?(ve.addRange(fe),ve.extend(se.node,se.offset)):(fe.setEnd(se.node,se.offset),ve.addRange(fe))}}}}for(Te=[],ve=F;ve=ve.parentNode;)ve.nodeType===1&&Te.push({element:ve,left:ve.scrollLeft,top:ve.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<Te.length;F++){var Ce=Te[F];Ce.element.scrollLeft=Ce.left,Ce.element.scrollTop=Ce.top}}Op=!!Dy,Ly=Dy=null}finally{Mt=S,X.p=g,G.T=f}}r.current=a,Bn=2}}function rE(){if(Bn===2){Bn=0;var r=la,a=Ic,f=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||f){f=G.T,G.T=null;var g=X.p;X.p=2;var S=Mt;Mt|=4;try{MC(r,a.alternate,a)}finally{Mt=S,X.p=g,G.T=f}}Bn=3}}function oE(){if(Bn===4||Bn===3){Bn=0,Es();var r=la,a=Ic,f=Co,g=KC;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Bn=5:(Bn=0,Ic=la=null,aE(r,r.pendingLanes));var S=r.pendingLanes;if(S===0&&(aa=null),ze(f),a=a.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(ts,a,void 0,(a.current.flags&128)===128)}catch{}if(g!==null){a=G.T,S=X.p,X.p=2,G.T=null;try{for(var A=r.onRecoverableError,D=0;D<g.length;D++){var F=g[D];A(F.value,{componentStack:F.stack})}}finally{G.T=a,X.p=S}}(Co&3)!==0&&bp(),Br(r),S=r.pendingLanes,(f&261930)!==0&&(S&42)!==0?r===_y?Nd++:(Nd=0,_y=r):Nd=0,Od(0)}}function aE(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,dd(a)))}function bp(){return sE(),rE(),oE(),lE()}function lE(){if(Bn!==5)return!1;var r=la,a=by;by=0;var f=ze(Co),g=G.T,S=X.p;try{X.p=32>f?32:f,G.T=null,f=xy,xy=null;var A=la,D=Co;if(Bn=0,Ic=la=null,Co=0,(Mt&6)!==0)throw Error(i(331));var F=Mt;if(Mt|=4,$C(A.current),UC(A,A.current,D,f),Mt=F,Od(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(ts,A)}catch{}return!0}finally{X.p=S,G.T=g,aE(r,a)}}function cE(r,a,f){a=p(f,a),a=Jv(r.stateNode,a,2),r=ta(r,a,2),r!==null&&(Xn(r,2),Br(r))}function Vt(r,a,f){if(r.tag===3)cE(r,r,f);else for(;a!==null;){if(a.tag===3){cE(a,r,f);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(aa===null||!aa.has(g))){r=p(f,r),f=uC(2),g=ta(a,f,2),g!==null&&(dC(f,g,a,r),Xn(g,2),Br(g));break}}a=a.return}}function Cy(r,a,f){var g=r.pingCache;if(g===null){g=r.pingCache=new RI;var S=new Set;g.set(a,S)}else S=g.get(a),S===void 0&&(S=new Set,g.set(a,S));S.has(f)||(gy=!0,S.add(f),r=MI.bind(null,r,a,f),a.then(r,r))}function MI(r,a,f){var g=r.pingCache;g!==null&&g.delete(a),r.pingedLanes|=r.suspendedLanes&f,r.warmLanes&=~f,Wt===r&&(_t&f)===f&&(yn===4||yn===3&&(_t&62914560)===_t&&300>sn()-hp?(Mt&2)===0&&zc(r,0):vy|=f,jc===_t&&(jc=0)),Br(r)}function uE(r,a){a===0&&(a=An()),r=Ps(r,a),r!==null&&(Xn(r,a),Br(r))}function DI(r){var a=r.memoizedState,f=0;a!==null&&(f=a.retryLane),uE(r,f)}function LI(r,a){var f=0;switch(r.tag){case 31:case 13:var g=r.stateNode,S=r.memoizedState;S!==null&&(f=S.retryLane);break;case 19:g=r.stateNode;break;case 22:g=r.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(a),uE(r,f)}function jI(r,a){return wn(r,a)}var xp=null,Uc=null,Ey=!1,_p=!1,Ay=!1,ua=0;function Br(r){r!==Uc&&r.next===null&&(Uc===null?xp=Uc=r:Uc=Uc.next=r),_p=!0,Ey||(Ey=!0,zI())}function Od(r,a){if(!Ay&&_p){Ay=!0;do for(var f=!1,g=xp;g!==null;){if(r!==0){var S=g.pendingLanes;if(S===0)var A=0;else{var D=g.suspendedLanes,F=g.pingedLanes;A=(1<<31-En(42|r)+1)-1,A&=S&~(D&~F),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(f=!0,pE(g,A))}else A=_t,A=hn(g,g===Wt?A:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(A&3)===0||Wn(g,A)||(f=!0,pE(g,A));g=g.next}while(f);Ay=!1}}function II(){dE()}function dE(){_p=Ey=!1;var r=0;ua!==0&&WI()&&(r=ua);for(var a=sn(),f=null,g=xp;g!==null;){var S=g.next,A=fE(g,a);A===0?(g.next=null,f===null?xp=S:f.next=S,S===null&&(Uc=f)):(f=g,(r!==0||(A&3)!==0)&&(_p=!0)),g=S}Bn!==0&&Bn!==5||Od(r),ua!==0&&(ua=0)}function fE(r,a){for(var f=r.suspendedLanes,g=r.pingedLanes,S=r.expirationTimes,A=r.pendingLanes&-62914561;0<A;){var D=31-En(A),F=1<<D,te=S[D];te===-1?((F&f)===0||(F&g)!==0)&&(S[D]=Yn(F,a)):te<=a&&(r.expiredLanes|=F),A&=~F}if(a=Wt,f=_t,f=hn(r,r===a?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),g=r.callbackNode,f===0||r===a&&(Ft===2||Ft===9)||r.cancelPendingCommit!==null)return g!==null&&g!==null&&Kn(g),r.callbackNode=null,r.callbackPriority=0;if((f&3)===0||Wn(r,f)){if(a=f&-f,a===r.callbackPriority)return a;switch(g!==null&&Kn(g),ze(f)){case 2:case 8:f=Tt;break;case 32:f=Bt;break;case 268435456:f=Ws;break;default:f=Bt}return g=hE.bind(null,r),f=wn(f,g),r.callbackPriority=a,r.callbackNode=f,a}return g!==null&&g!==null&&Kn(g),r.callbackPriority=2,r.callbackNode=null,2}function hE(r,a){if(Bn!==0&&Bn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var f=r.callbackNode;if(bp()&&r.callbackNode!==f)return null;var g=_t;return g=hn(r,r===Wt?g:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),g===0?null:(WC(r,g,a),fE(r,sn()),r.callbackNode!=null&&r.callbackNode===f?hE.bind(null,r):null)}function pE(r,a){if(bp())return null;WC(r,a,!0)}function zI(){ZI(function(){(Mt&6)!==0?wn(bt,II):dE()})}function Ty(){if(ua===0){var r=Ec;r===0&&(r=qn,qn<<=1,(qn&261888)===0&&(qn=256)),ua=r}return ua}function mE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Tr(""+r)}function gE(r,a){var f=a.ownerDocument.createElement("input");return f.name=a.name,f.value=a.value,r.id&&f.setAttribute("form",r.id),a.parentNode.insertBefore(f,a),r=new FormData(r),f.parentNode.removeChild(f),r}function BI(r,a,f,g,S){if(a==="submit"&&f&&f.stateNode===S){var A=mE((S[Tn]||null).action),D=g.submitter;D&&(a=(a=D[Tn]||null)?mE(a.formAction):D.getAttribute("formAction"),a!==null&&(A=a,D=null));var F=new cc("action","action",null,g,S);r.push({event:F,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(ua!==0){var te=D?gE(S,D):new FormData(S);qv(f,{pending:!0,data:te,method:S.method,action:A},null,te)}}else typeof A=="function"&&(F.preventDefault(),te=D?gE(S,D):new FormData(S),qv(f,{pending:!0,data:te,method:S.method,action:A},A,te))},currentTarget:S}]})}}for(var Ry=0;Ry<Mr.length;Ry++){var ky=Mr[Ry],UI=ky.toLowerCase(),FI=ky[0].toUpperCase()+ky.slice(1);$i(UI,"on"+FI)}$i(ol,"onAnimationEnd"),$i(Bh,"onAnimationIteration"),$i(al,"onAnimationStart"),$i("dblclick","onDoubleClick"),$i("focusin","onFocus"),$i("focusout","onBlur"),$i(yv,"onTransitionRun"),$i(Uh,"onTransitionStart"),$i(bv,"onTransitionCancel"),$i(Zo,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pd));function vE(r,a){a=(a&4)!==0;for(var f=0;f<r.length;f++){var g=r[f],S=g.event;g=g.listeners;e:{var A=void 0;if(a)for(var D=g.length-1;0<=D;D--){var F=g[D],te=F.instance,he=F.currentTarget;if(F=F.listener,te!==A&&S.isPropagationStopped())break e;A=F,S.currentTarget=he;try{A(S)}catch(_e){ll(_e)}S.currentTarget=null,A=te}else for(D=0;D<g.length;D++){if(F=g[D],te=F.instance,he=F.currentTarget,F=F.listener,te!==A&&S.isPropagationStopped())break e;A=F,S.currentTarget=he;try{A(S)}catch(_e){ll(_e)}S.currentTarget=null,A=te}}}}function vt(r,a){var f=a[As];f===void 0&&(f=a[As]=new Set);var g=r+"__bubble";f.has(g)||(yE(a,r,2,!1),f.add(g))}function Ny(r,a,f){var g=0;a&&(g|=4),yE(f,r,g,a)}var wp="_reactListening"+Math.random().toString(36).slice(2);function Oy(r){if(!r[wp]){r[wp]=!0,Qs.forEach(function(f){f!=="selectionchange"&&(VI.has(f)||Ny(f,!1,r),Ny(f,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[wp]||(a[wp]=!0,Ny("selectionchange",!1,a))}}function yE(r,a,f,g){switch(qE(a)){case 2:var S=gz;break;case 8:S=vz;break;default:S=Ky}f=S.bind(null,a,f,r),S=void 0,!Wa||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(S=!0),g?S!==void 0?r.addEventListener(a,f,{capture:!0,passive:S}):r.addEventListener(a,f,!0):S!==void 0?r.addEventListener(a,f,{passive:S}):r.addEventListener(a,f,!1)}function Py(r,a,f,g,S){var A=g;if((a&1)===0&&(a&2)===0&&g!==null)e:for(;;){if(g===null)return;var D=g.tag;if(D===3||D===4){var F=g.stateNode.containerInfo;if(F===S)break;if(D===4)for(D=g.return;D!==null;){var te=D.tag;if((te===3||te===4)&&D.stateNode.containerInfo===S)return;D=D.return}for(;F!==null;){if(D=Xs(F),D===null)return;if(te=D.tag,te===5||te===6||te===26||te===27){g=A=D;continue e}F=F.parentNode}}g=g.return}Yu(function(){var he=A,_e=qa(f),Te=[];e:{var me=Fh.get(r);if(me!==void 0){var ve=cc,Ue=r;switch(r){case"keypress":if(Ya(f)===0)break e;case"keydown":case"keyup":ve=Th;break;case"focusin":Ue="focus",ve=Qu;break;case"focusout":Ue="blur",ve=Qu;break;case"beforeblur":case"afterblur":ve=Qu;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=wh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=av;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=fv;break;case ol:case Bh:case al:ve=Ju;break;case Zo:ve=Nh;break;case"scroll":case"scrollend":ve=xt;break;case"wheel":ve=co;break;case"copy":case"cut":case"paste":ve=Rs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=Rh;break;case"toggle":case"beforetoggle":ve=Qa}var Qe=(a&4)!==0,qt=!Qe&&(r==="scroll"||r==="scrollend"),ce=Qe?me!==null?me+"Capture":null:me;Qe=[];for(var se=he,fe;se!==null;){var Ce=se;if(fe=Ce.stateNode,Ce=Ce.tag,Ce!==5&&Ce!==26&&Ce!==27||fe===null||ce===null||(Ce=ao(se,ce),Ce!=null&&Qe.push(Md(se,Ce,fe))),qt)break;se=se.return}0<Qe.length&&(me=new ve(me,Ue,null,f,_e),Te.push({event:me,listeners:Qe}))}}if((a&7)===0){e:{if(me=r==="mouseover"||r==="pointerover",ve=r==="mouseout"||r==="pointerout",me&&f!==oo&&(Ue=f.relatedTarget||f.fromElement)&&(Xs(Ue)||Ue[Zs]))break e;if((ve||me)&&(me=_e.window===_e?_e:(me=_e.ownerDocument)?me.defaultView||me.parentWindow:window,ve?(Ue=f.relatedTarget||f.toElement,ve=he,Ue=Ue?Xs(Ue):null,Ue!==null&&(qt=o(Ue),Qe=Ue.tag,Ue!==qt||Qe!==5&&Qe!==27&&Qe!==6)&&(Ue=null)):(ve=null,Ue=he),ve!==Ue)){if(Qe=wh,Ce="onMouseLeave",ce="onMouseEnter",se="mouse",(r==="pointerout"||r==="pointerover")&&(Qe=Rh,Ce="onPointerLeave",ce="onPointerEnter",se="pointer"),qt=ve==null?me:ss(ve),fe=Ue==null?me:ss(Ue),me=new Qe(Ce,se+"leave",ve,f,_e),me.target=qt,me.relatedTarget=fe,Ce=null,Xs(_e)===he&&(Qe=new Qe(ce,se+"enter",Ue,f,_e),Qe.target=fe,Qe.relatedTarget=qt,Ce=Qe),qt=Ce,ve&&Ue)t:{for(Qe=$I,ce=ve,se=Ue,fe=0,Ce=ce;Ce;Ce=Qe(Ce))fe++;Ce=0;for(var We=se;We;We=Qe(We))Ce++;for(;0<fe-Ce;)ce=Qe(ce),fe--;for(;0<Ce-fe;)se=Qe(se),Ce--;for(;fe--;){if(ce===se||se!==null&&ce===se.alternate){Qe=ce;break t}ce=Qe(ce),se=Qe(se)}Qe=null}else Qe=null;ve!==null&&bE(Te,me,ve,Qe,!1),Ue!==null&&qt!==null&&bE(Te,qt,Ue,Qe,!0)}}e:{if(me=he?ss(he):window,ve=me.nodeName&&me.nodeName.toLowerCase(),ve==="select"||ve==="input"&&me.type==="file")var Nt=nl;else if(ks(me))if(Dh)Nt=vv;else{Nt=gv;var He=tr}else ve=me.nodeName,!ve||ve.toLowerCase()!=="input"||me.type!=="checkbox"&&me.type!=="radio"?he&&ro(he.elementType)&&(Nt=nl):Nt=Ko;if(Nt&&(Nt=Nt(r,he))){Mh(Te,Nt,f,_e);break e}He&&He(r,me,he),r==="focusout"&&he&&me.type==="number"&&he.memoizedProps.value!=null&&et(me,"number",me.value)}switch(He=he?ss(he):window,r){case"focusin":(ks(He)||He.contentEditable==="true")&&(Or=He,yc=he,rl=null);break;case"focusout":rl=yc=Or=null;break;case"mousedown":Wo=!0;break;case"contextmenu":case"mouseup":case"dragend":Wo=!1,Ih(Te,f,_e);break;case"selectionchange":if(vc)break;case"keydown":case"keyup":Ih(Te,f,_e)}var ut;if(dc)e:{switch(r){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else $o?Ph(r,f)&&(wt="onCompositionEnd"):r==="keydown"&&f.keyCode===229&&(wt="onCompositionStart");wt&&(fc&&f.locale!=="ko"&&($o||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&$o&&(ut=Rr()):(Ts=_e,lo="value"in Ts?Ts.value:Ts.textContent,$o=!0)),He=Sp(he,wt),0<He.length&&(wt=new ed(wt,r,null,f,_e),Te.push({event:wt,listeners:He}),ut?wt.data=ut:(ut=sd(f),ut!==null&&(wt.data=ut)))),(ut=pv?ls(r,f):Ho(r,f))&&(wt=Sp(he,"onBeforeInput"),0<wt.length&&(He=new ed("onBeforeInput","beforeinput",null,f,_e),Te.push({event:He,listeners:wt}),He.data=ut)),BI(Te,r,he,f,_e)}vE(Te,a)})}function Md(r,a,f){return{instance:r,listener:a,currentTarget:f}}function Sp(r,a){for(var f=a+"Capture",g=[];r!==null;){var S=r,A=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||A===null||(S=ao(r,f),S!=null&&g.unshift(Md(r,S,A)),S=ao(r,a),S!=null&&g.push(Md(r,S,A))),r.tag===3)return g;r=r.return}return[]}function $I(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function bE(r,a,f,g,S){for(var A=a._reactName,D=[];f!==null&&f!==g;){var F=f,te=F.alternate,he=F.stateNode;if(F=F.tag,te!==null&&te===g)break;F!==5&&F!==26&&F!==27||he===null||(te=he,S?(he=ao(f,A),he!=null&&D.unshift(Md(f,he,te))):S||(he=ao(f,A),he!=null&&D.push(Md(f,he,te)))),f=f.return}D.length!==0&&r.push({event:a,listeners:D})}var HI=/\r\n?/g,GI=/\u0000|\uFFFD/g;function xE(r){return(typeof r=="string"?r:""+r).replace(HI,`
`).replace(GI,"")}function _E(r,a){return a=xE(a),xE(r)===a}function Kt(r,a,f,g,S,A){switch(f){case"children":typeof g=="string"?a==="body"||a==="textarea"&&g===""||Et(r,g):(typeof g=="number"||typeof g=="bigint")&&a!=="body"&&Et(r,""+g);break;case"className":U(r,"class",g);break;case"tabIndex":U(r,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":U(r,f,g);break;case"style":Er(r,g,A);break;case"data":if(a!=="object"){U(r,"data",g);break}case"src":case"href":if(g===""&&(a!=="a"||f!=="href")){r.removeAttribute(f);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){r.removeAttribute(f);break}g=Tr(""+g),r.setAttribute(f,g);break;case"action":case"formAction":if(typeof g=="function"){r.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(f==="formAction"?(a!=="input"&&Kt(r,a,"name",S.name,S,null),Kt(r,a,"formEncType",S.formEncType,S,null),Kt(r,a,"formMethod",S.formMethod,S,null),Kt(r,a,"formTarget",S.formTarget,S,null)):(Kt(r,a,"encType",S.encType,S,null),Kt(r,a,"method",S.method,S,null),Kt(r,a,"target",S.target,S,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){r.removeAttribute(f);break}g=Tr(""+g),r.setAttribute(f,g);break;case"onClick":g!=null&&(r.onclick=xi);break;case"onScroll":g!=null&&vt("scroll",r);break;case"onScrollEnd":g!=null&&vt("scrollend",r);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(f=g.__html,f!=null){if(S.children!=null)throw Error(i(60));r.innerHTML=f}}break;case"multiple":r.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":r.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){r.removeAttribute("xlink:href");break}f=Tr(""+g),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(f,""+g):r.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(f,""):r.removeAttribute(f);break;case"capture":case"download":g===!0?r.setAttribute(f,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(f,g):r.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?r.setAttribute(f,g):r.removeAttribute(f);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?r.removeAttribute(f):r.setAttribute(f,g);break;case"popover":vt("beforetoggle",r),vt("toggle",r),ft(r,"popover",g);break;case"xlinkActuate":ee(r,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":ee(r,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":ee(r,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":ee(r,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":ee(r,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":ee(r,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":ee(r,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":ee(r,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":ee(r,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":ft(r,"is",g);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=Ar.get(f)||f,ft(r,f,g))}}function My(r,a,f,g,S,A){switch(f){case"style":Er(r,g,A);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(f=g.__html,f!=null){if(S.children!=null)throw Error(i(60));r.innerHTML=f}}break;case"children":typeof g=="string"?Et(r,g):(typeof g=="number"||typeof g=="bigint")&&Et(r,""+g);break;case"onScroll":g!=null&&vt("scroll",r);break;case"onScrollEnd":g!=null&&vt("scrollend",r);break;case"onClick":g!=null&&(r.onclick=xi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ac.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(S=f.endsWith("Capture"),a=f.slice(2,S?f.length-7:void 0),A=r[Tn]||null,A=A!=null?A[f]:null,typeof A=="function"&&r.removeEventListener(a,A,S),typeof g=="function")){typeof A!="function"&&A!==null&&(f in r?r[f]=null:r.hasAttribute(f)&&r.removeAttribute(f)),r.addEventListener(a,g,S);break e}f in r?r[f]=g:g===!0?r.setAttribute(f,""):ft(r,f,g)}}}function ui(r,a,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",r),vt("load",r);var g=!1,S=!1,A;for(A in f)if(f.hasOwnProperty(A)){var D=f[A];if(D!=null)switch(A){case"src":g=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Kt(r,a,A,D,f,null)}}S&&Kt(r,a,"srcSet",f.srcSet,f,null),g&&Kt(r,a,"src",f.src,f,null);return;case"input":vt("invalid",r);var F=A=D=S=null,te=null,he=null;for(g in f)if(f.hasOwnProperty(g)){var _e=f[g];if(_e!=null)switch(g){case"name":S=_e;break;case"type":D=_e;break;case"checked":te=_e;break;case"defaultChecked":he=_e;break;case"value":A=_e;break;case"defaultValue":F=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(i(137,a));break;default:Kt(r,a,g,_e,f,null)}}Be(r,A,F,te,he,D,S,!1);return;case"select":vt("invalid",r),g=D=A=null;for(S in f)if(f.hasOwnProperty(S)&&(F=f[S],F!=null))switch(S){case"value":A=F;break;case"defaultValue":D=F;break;case"multiple":g=F;default:Kt(r,a,S,F,f,null)}a=A,f=D,r.multiple=!!g,a!=null?qe(r,!!g,a,!1):f!=null&&qe(r,!!g,f,!0);return;case"textarea":vt("invalid",r),A=S=g=null;for(D in f)if(f.hasOwnProperty(D)&&(F=f[D],F!=null))switch(D){case"value":g=F;break;case"defaultValue":S=F;break;case"children":A=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(91));break;default:Kt(r,a,D,F,f,null)}Ut(r,g,S,A);return;case"option":for(te in f)f.hasOwnProperty(te)&&(g=f[te],g!=null)&&(te==="selected"?r.selected=g&&typeof g!="function"&&typeof g!="symbol":Kt(r,a,te,g,f,null));return;case"dialog":vt("beforetoggle",r),vt("toggle",r),vt("cancel",r),vt("close",r);break;case"iframe":case"object":vt("load",r);break;case"video":case"audio":for(g=0;g<Pd.length;g++)vt(Pd[g],r);break;case"image":vt("error",r),vt("load",r);break;case"details":vt("toggle",r);break;case"embed":case"source":case"link":vt("error",r),vt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in f)if(f.hasOwnProperty(he)&&(g=f[he],g!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Kt(r,a,he,g,f,null)}return;default:if(ro(a)){for(_e in f)f.hasOwnProperty(_e)&&(g=f[_e],g!==void 0&&My(r,a,_e,g,f,void 0));return}}for(F in f)f.hasOwnProperty(F)&&(g=f[F],g!=null&&Kt(r,a,F,g,f,null))}function KI(r,a,f,g){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,A=null,D=null,F=null,te=null,he=null,_e=null;for(ve in f){var Te=f[ve];if(f.hasOwnProperty(ve)&&Te!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":te=Te;default:g.hasOwnProperty(ve)||Kt(r,a,ve,null,g,Te)}}for(var me in g){var ve=g[me];if(Te=f[me],g.hasOwnProperty(me)&&(ve!=null||Te!=null))switch(me){case"type":A=ve;break;case"name":S=ve;break;case"checked":he=ve;break;case"defaultChecked":_e=ve;break;case"value":D=ve;break;case"defaultValue":F=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(i(137,a));break;default:ve!==Te&&Kt(r,a,me,ve,g,Te)}}Oe(r,D,F,te,he,_e,A,S);return;case"select":ve=D=F=me=null;for(A in f)if(te=f[A],f.hasOwnProperty(A)&&te!=null)switch(A){case"value":break;case"multiple":ve=te;default:g.hasOwnProperty(A)||Kt(r,a,A,null,g,te)}for(S in g)if(A=g[S],te=f[S],g.hasOwnProperty(S)&&(A!=null||te!=null))switch(S){case"value":me=A;break;case"defaultValue":F=A;break;case"multiple":D=A;default:A!==te&&Kt(r,a,S,A,g,te)}a=F,f=D,g=ve,me!=null?qe(r,!!f,me,!1):!!g!=!!f&&(a!=null?qe(r,!!f,a,!0):qe(r,!!f,f?[]:"",!1));return;case"textarea":ve=me=null;for(F in f)if(S=f[F],f.hasOwnProperty(F)&&S!=null&&!g.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:Kt(r,a,F,null,g,S)}for(D in g)if(S=g[D],A=f[D],g.hasOwnProperty(D)&&(S!=null||A!=null))switch(D){case"value":me=S;break;case"defaultValue":ve=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:S!==A&&Kt(r,a,D,S,g,A)}dt(r,me,ve);return;case"option":for(var Ue in f)me=f[Ue],f.hasOwnProperty(Ue)&&me!=null&&!g.hasOwnProperty(Ue)&&(Ue==="selected"?r.selected=!1:Kt(r,a,Ue,null,g,me));for(te in g)me=g[te],ve=f[te],g.hasOwnProperty(te)&&me!==ve&&(me!=null||ve!=null)&&(te==="selected"?r.selected=me&&typeof me!="function"&&typeof me!="symbol":Kt(r,a,te,me,g,ve));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in f)me=f[Qe],f.hasOwnProperty(Qe)&&me!=null&&!g.hasOwnProperty(Qe)&&Kt(r,a,Qe,null,g,me);for(he in g)if(me=g[he],ve=f[he],g.hasOwnProperty(he)&&me!==ve&&(me!=null||ve!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(i(137,a));break;default:Kt(r,a,he,me,g,ve)}return;default:if(ro(a)){for(var qt in f)me=f[qt],f.hasOwnProperty(qt)&&me!==void 0&&!g.hasOwnProperty(qt)&&My(r,a,qt,void 0,g,me);for(_e in g)me=g[_e],ve=f[_e],!g.hasOwnProperty(_e)||me===ve||me===void 0&&ve===void 0||My(r,a,_e,me,g,ve);return}}for(var ce in f)me=f[ce],f.hasOwnProperty(ce)&&me!=null&&!g.hasOwnProperty(ce)&&Kt(r,a,ce,null,g,me);for(Te in g)me=g[Te],ve=f[Te],!g.hasOwnProperty(Te)||me===ve||me==null&&ve==null||Kt(r,a,Te,me,g,ve)}function wE(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qI(){if(typeof performance.getEntriesByType=="function"){for(var r=0,a=0,f=performance.getEntriesByType("resource"),g=0;g<f.length;g++){var S=f[g],A=S.transferSize,D=S.initiatorType,F=S.duration;if(A&&F&&wE(D)){for(D=0,F=S.responseEnd,g+=1;g<f.length;g++){var te=f[g],he=te.startTime;if(he>F)break;var _e=te.transferSize,Te=te.initiatorType;_e&&wE(Te)&&(te=te.responseEnd,D+=_e*(te<F?1:(F-he)/(te-he)))}if(--g,a+=8*(A+D)/(S.duration/1e3),r++,10<r)break}}if(0<r)return a/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Dy=null,Ly=null;function Cp(r){return r.nodeType===9?r:r.ownerDocument}function SE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function CE(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function jy(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Iy=null;function WI(){var r=window.event;return r&&r.type==="popstate"?r===Iy?!1:(Iy=r,!0):(Iy=null,!1)}var EE=typeof setTimeout=="function"?setTimeout:void 0,YI=typeof clearTimeout=="function"?clearTimeout:void 0,AE=typeof Promise=="function"?Promise:void 0,ZI=typeof queueMicrotask=="function"?queueMicrotask:typeof AE<"u"?function(r){return AE.resolve(null).then(r).catch(XI)}:EE;function XI(r){setTimeout(function(){throw r})}function da(r){return r==="head"}function TE(r,a){var f=a,g=0;do{var S=f.nextSibling;if(r.removeChild(f),S&&S.nodeType===8)if(f=S.data,f==="/$"||f==="/&"){if(g===0){r.removeChild(S),Hc(a);return}g--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")g++;else if(f==="html")Dd(r.ownerDocument.documentElement);else if(f==="head"){f=r.ownerDocument.head,Dd(f);for(var A=f.firstChild;A;){var D=A.nextSibling,F=A.nodeName;A[to]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&A.rel.toLowerCase()==="stylesheet"||f.removeChild(A),A=D}}else f==="body"&&Dd(r.ownerDocument.body);f=S}while(f);Hc(a)}function RE(r,a){var f=r;r=0;do{var g=f.nextSibling;if(f.nodeType===1?a?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(a?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),g&&g.nodeType===8)if(f=g.data,f==="/$"){if(r===0)break;r--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||r++;f=g}while(f)}function zy(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var f=a;switch(a=a.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":zy(f),Ga(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}r.removeChild(f)}}function QI(r,a,f,g){for(;r.nodeType===1;){var S=f;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!g&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(g){if(!r[to])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(A=r.getAttribute("rel"),A==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(A!==S.rel||r.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||r.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||r.getAttribute("title")!==(S.title==null?null:S.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(A=r.getAttribute("src"),(A!==(S.src==null?null:S.src)||r.getAttribute("type")!==(S.type==null?null:S.type)||r.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&A&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var A=S.name==null?null:""+S.name;if(S.type==="hidden"&&r.getAttribute("name")===A)return r}else return r;if(r=Ls(r.nextSibling),r===null)break}return null}function JI(r,a,f){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!f||(r=Ls(r.nextSibling),r===null))return null;return r}function kE(r,a){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=Ls(r.nextSibling),r===null))return null;return r}function By(r){return r.data==="$?"||r.data==="$~"}function Uy(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function ez(r,a){var f=r.ownerDocument;if(r.data==="$~")r._reactRetry=a;else if(r.data!=="$?"||f.readyState!=="loading")a();else{var g=function(){a(),f.removeEventListener("DOMContentLoaded",g)};f.addEventListener("DOMContentLoaded",g),r._reactRetry=g}}function Ls(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return r}var Fy=null;function NE(r){r=r.nextSibling;for(var a=0;r;){if(r.nodeType===8){var f=r.data;if(f==="/$"||f==="/&"){if(a===0)return Ls(r.nextSibling);a--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||a++}r=r.nextSibling}return null}function OE(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var f=r.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(a===0)return r;a--}else f!=="/$"&&f!=="/&"||a++}r=r.previousSibling}return null}function PE(r,a,f){switch(a=Cp(f),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Dd(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Ga(r)}var js=new Map,ME=new Set;function Ep(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Eo=X.d;X.d={f:tz,r:nz,D:iz,C:sz,L:rz,m:oz,X:lz,S:az,M:cz};function tz(){var r=Eo.f(),a=gp();return r||a}function nz(r){var a=Cr(r);a!==null&&a.tag===5&&a.type==="form"?ZS(a):Eo.r(r)}var Fc=typeof document>"u"?null:document;function DE(r,a,f){var g=Fc;if(g&&typeof a=="string"&&a){var S=Ee(a);S='link[rel="'+r+'"][href="'+S+'"]',typeof f=="string"&&(S+='[crossorigin="'+f+'"]'),ME.has(S)||(ME.add(S),r={rel:r,crossOrigin:f,href:a},g.querySelector(S)===null&&(a=g.createElement("link"),ui(a,"link",r),ln(a),g.head.appendChild(a)))}}function iz(r){Eo.D(r),DE("dns-prefetch",r,null)}function sz(r,a){Eo.C(r,a),DE("preconnect",r,a)}function rz(r,a,f){Eo.L(r,a,f);var g=Fc;if(g&&r&&a){var S='link[rel="preload"][as="'+Ee(a)+'"]';a==="image"&&f&&f.imageSrcSet?(S+='[imagesrcset="'+Ee(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(S+='[imagesizes="'+Ee(f.imageSizes)+'"]')):S+='[href="'+Ee(r)+'"]';var A=S;switch(a){case"style":A=Vc(r);break;case"script":A=$c(r)}js.has(A)||(r=v({rel:"preload",href:a==="image"&&f&&f.imageSrcSet?void 0:r,as:a},f),js.set(A,r),g.querySelector(S)!==null||a==="style"&&g.querySelector(Ld(A))||a==="script"&&g.querySelector(jd(A))||(a=g.createElement("link"),ui(a,"link",r),ln(a),g.head.appendChild(a)))}}function oz(r,a){Eo.m(r,a);var f=Fc;if(f&&r){var g=a&&typeof a.as=="string"?a.as:"script",S='link[rel="modulepreload"][as="'+Ee(g)+'"][href="'+Ee(r)+'"]',A=S;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=$c(r)}if(!js.has(A)&&(r=v({rel:"modulepreload",href:r},a),js.set(A,r),f.querySelector(S)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(jd(A)))return}g=f.createElement("link"),ui(g,"link",r),ln(g),f.head.appendChild(g)}}}function az(r,a,f){Eo.S(r,a,f);var g=Fc;if(g&&r){var S=zi(g).hoistableStyles,A=Vc(r);a=a||"default";var D=S.get(A);if(!D){var F={loading:0,preload:null};if(D=g.querySelector(Ld(A)))F.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":a},f),(f=js.get(A))&&Vy(r,f);var te=D=g.createElement("link");ln(te),ui(te,"link",r),te._p=new Promise(function(he,_e){te.onload=he,te.onerror=_e}),te.addEventListener("load",function(){F.loading|=1}),te.addEventListener("error",function(){F.loading|=2}),F.loading|=4,Ap(D,a,g)}D={type:"stylesheet",instance:D,count:1,state:F},S.set(A,D)}}}function lz(r,a){Eo.X(r,a);var f=Fc;if(f&&r){var g=zi(f).hoistableScripts,S=$c(r),A=g.get(S);A||(A=f.querySelector(jd(S)),A||(r=v({src:r,async:!0},a),(a=js.get(S))&&$y(r,a),A=f.createElement("script"),ln(A),ui(A,"link",r),f.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},g.set(S,A))}}function cz(r,a){Eo.M(r,a);var f=Fc;if(f&&r){var g=zi(f).hoistableScripts,S=$c(r),A=g.get(S);A||(A=f.querySelector(jd(S)),A||(r=v({src:r,async:!0,type:"module"},a),(a=js.get(S))&&$y(r,a),A=f.createElement("script"),ln(A),ui(A,"link",r),f.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},g.set(S,A))}}function LE(r,a,f,g){var S=(S=we.current)?Ep(S):null;if(!S)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(a=Vc(f.href),f=zi(S).hoistableStyles,g=f.get(a),g||(g={type:"style",instance:null,count:0,state:null},f.set(a,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){r=Vc(f.href);var A=zi(S).hoistableStyles,D=A.get(r);if(D||(S=S.ownerDocument||S,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(r,D),(A=S.querySelector(Ld(r)))&&!A._p&&(D.instance=A,D.state.loading=5),js.has(r)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},js.set(r,f),A||uz(S,r,f,D.state))),a&&g===null)throw Error(i(528,""));return D}if(a&&g!==null)throw Error(i(529,""));return null;case"script":return a=f.async,f=f.src,typeof f=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=$c(f),f=zi(S).hoistableScripts,g=f.get(a),g||(g={type:"script",instance:null,count:0,state:null},f.set(a,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Vc(r){return'href="'+Ee(r)+'"'}function Ld(r){return'link[rel="stylesheet"]['+r+"]"}function jE(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function uz(r,a,f,g){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?g.loading=1:(a=r.createElement("link"),g.preload=a,a.addEventListener("load",function(){return g.loading|=1}),a.addEventListener("error",function(){return g.loading|=2}),ui(a,"link",f),ln(a),r.head.appendChild(a))}function $c(r){return'[src="'+Ee(r)+'"]'}function jd(r){return"script[async]"+r}function IE(r,a,f){if(a.count++,a.instance===null)switch(a.type){case"style":var g=r.querySelector('style[data-href~="'+Ee(f.href)+'"]');if(g)return a.instance=g,ln(g),g;var S=v({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return g=(r.ownerDocument||r).createElement("style"),ln(g),ui(g,"style",S),Ap(g,f.precedence,r),a.instance=g;case"stylesheet":S=Vc(f.href);var A=r.querySelector(Ld(S));if(A)return a.state.loading|=4,a.instance=A,ln(A),A;g=jE(f),(S=js.get(S))&&Vy(g,S),A=(r.ownerDocument||r).createElement("link"),ln(A);var D=A;return D._p=new Promise(function(F,te){D.onload=F,D.onerror=te}),ui(A,"link",g),a.state.loading|=4,Ap(A,f.precedence,r),a.instance=A;case"script":return A=$c(f.src),(S=r.querySelector(jd(A)))?(a.instance=S,ln(S),S):(g=f,(S=js.get(A))&&(g=v({},f),$y(g,S)),r=r.ownerDocument||r,S=r.createElement("script"),ln(S),ui(S,"link",g),r.head.appendChild(S),a.instance=S);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(g=a.instance,a.state.loading|=4,Ap(g,f.precedence,r));return a.instance}function Ap(r,a,f){for(var g=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=g.length?g[g.length-1]:null,A=S,D=0;D<g.length;D++){var F=g[D];if(F.dataset.precedence===a)A=F;else if(A!==S)break}A?A.parentNode.insertBefore(r,A.nextSibling):(a=f.nodeType===9?f.head:f,a.insertBefore(r,a.firstChild))}function Vy(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function $y(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Tp=null;function zE(r,a,f){if(Tp===null){var g=new Map,S=Tp=new Map;S.set(f,g)}else S=Tp,g=S.get(f),g||(g=new Map,S.set(f,g));if(g.has(r))return g;for(g.set(r,null),f=f.getElementsByTagName(r),S=0;S<f.length;S++){var A=f[S];if(!(A[to]||A[pn]||r==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var D=A.getAttribute(a)||"";D=r+D;var F=g.get(D);F?F.push(A):g.set(D,[A])}}return g}function BE(r,a,f){r=r.ownerDocument||r,r.head.insertBefore(f,a==="title"?r.querySelector("head > title"):null)}function dz(r,a,f){if(f===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(r=a.disabled,typeof a.precedence=="string"&&r==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function UE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function fz(r,a,f,g){if(f.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var S=Vc(g.href),A=a.querySelector(Ld(S));if(A){a=A._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(r.count++,r=Rp.bind(r),a.then(r,r)),f.state.loading|=4,f.instance=A,ln(A);return}A=a.ownerDocument||a,g=jE(g),(S=js.get(S))&&Vy(g,S),A=A.createElement("link"),ln(A);var D=A;D._p=new Promise(function(F,te){D.onload=F,D.onerror=te}),ui(A,"link",g),f.instance=A}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(f,a),(a=f.state.preload)&&(f.state.loading&3)===0&&(r.count++,f=Rp.bind(r),a.addEventListener("load",f),a.addEventListener("error",f))}}var Hy=0;function hz(r,a){return r.stylesheets&&r.count===0&&Np(r,r.stylesheets),0<r.count||0<r.imgCount?function(f){var g=setTimeout(function(){if(r.stylesheets&&Np(r,r.stylesheets),r.unsuspend){var A=r.unsuspend;r.unsuspend=null,A()}},6e4+a);0<r.imgBytes&&Hy===0&&(Hy=62500*qI());var S=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Np(r,r.stylesheets),r.unsuspend)){var A=r.unsuspend;r.unsuspend=null,A()}},(r.imgBytes>Hy?50:800)+a);return r.unsuspend=f,function(){r.unsuspend=null,clearTimeout(g),clearTimeout(S)}}:null}function Rp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Np(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var kp=null;function Np(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,kp=new Map,a.forEach(pz,r),kp=null,Rp.call(r))}function pz(r,a){if(!(a.state.loading&4)){var f=kp.get(r);if(f)var g=f.get(null);else{f=new Map,kp.set(r,f);for(var S=r.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<S.length;A++){var D=S[A];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(f.set(D.dataset.precedence,D),g=D)}g&&f.set(null,g)}S=a.instance,D=S.getAttribute("data-precedence"),A=f.get(D)||g,A===g&&f.set(null,S),f.set(D,S),this.count++,g=Rp.bind(this),S.addEventListener("load",g),S.addEventListener("error",g),A?A.parentNode.insertBefore(S,A.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(S,r.firstChild)),a.state.loading|=4}}var Id={$$typeof:O,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function mz(r,a,f,g,S,A,D,F,te){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zn(0),this.hiddenUpdates=Zn(null),this.identifierPrefix=g,this.onUncaughtError=S,this.onCaughtError=A,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function FE(r,a,f,g,S,A,D,F,te,he,_e,Te){return r=new mz(r,a,f,D,te,he,_e,Te,F),a=1,A===!0&&(a|=24),A=wi(3,null,null,a),r.current=A,A.stateNode=r,a=Sv(),a.refCount++,r.pooledCache=a,a.refCount++,A.memoizedState={element:g,isDehydrated:f,cache:a},Tv(A),r}function VE(r){return r?(r=uo,r):uo}function $E(r,a,f,g,S,A){S=VE(S),g.context===null?g.context=S:g.pendingContext=S,g=ea(a),g.payload={element:f},A=A===void 0?null:A,A!==null&&(g.callback=A),f=ta(r,g,a),f!==null&&(Zi(f,r,a),md(f,r,a))}function HE(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var f=r.retryLane;r.retryLane=f!==0&&f<a?f:a}}function Gy(r,a){HE(r,a),(r=r.alternate)&&HE(r,a)}function GE(r){if(r.tag===13||r.tag===31){var a=Ps(r,67108864);a!==null&&Zi(a,r,67108864),Gy(r,67108864)}}function KE(r){if(r.tag===13||r.tag===31){var a=hs();a=an(a);var f=Ps(r,a);f!==null&&Zi(f,r,a),Gy(r,a)}}var Op=!0;function gz(r,a,f,g){var S=G.T;G.T=null;var A=X.p;try{X.p=2,Ky(r,a,f,g)}finally{X.p=A,G.T=S}}function vz(r,a,f,g){var S=G.T;G.T=null;var A=X.p;try{X.p=8,Ky(r,a,f,g)}finally{X.p=A,G.T=S}}function Ky(r,a,f,g){if(Op){var S=qy(g);if(S===null)Py(r,a,g,Pp,f),WE(r,g);else if(bz(S,r,a,f,g))g.stopPropagation();else if(WE(r,g),a&4&&-1<yz.indexOf(r)){for(;S!==null;){var A=Cr(S);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var D=Zt(A.pendingLanes);if(D!==0){var F=A;for(F.pendingLanes|=2,F.entangledLanes|=2;D;){var te=1<<31-En(D);F.entanglements[1]|=te,D&=~te}Br(A),(Mt&6)===0&&(pp=sn()+500,Od(0))}}break;case 31:case 13:F=Ps(A,2),F!==null&&Zi(F,A,2),gp(),Gy(A,2)}if(A=qy(g),A===null&&Py(r,a,g,Pp,f),A===S)break;S=A}S!==null&&g.stopPropagation()}else Py(r,a,g,null,f)}}function qy(r){return r=qa(r),Wy(r)}var Pp=null;function Wy(r){if(Pp=null,r=Xs(r),r!==null){var a=o(r);if(a===null)r=null;else{var f=a.tag;if(f===13){if(r=l(a),r!==null)return r;r=null}else if(f===31){if(r=c(a),r!==null)return r;r=null}else if(f===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Pp=r,null}function qE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sr()){case bt:return 2;case Tt:return 8;case Bt:case Ri:return 32;case Ws:return 268435456;default:return 32}default:return 32}}var Yy=!1,fa=null,ha=null,pa=null,zd=new Map,Bd=new Map,ma=[],yz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function WE(r,a){switch(r){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":zd.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bd.delete(a.pointerId)}}function Ud(r,a,f,g,S,A){return r===null||r.nativeEvent!==A?(r={blockedOn:a,domEventName:f,eventSystemFlags:g,nativeEvent:A,targetContainers:[S]},a!==null&&(a=Cr(a),a!==null&&GE(a)),r):(r.eventSystemFlags|=g,a=r.targetContainers,S!==null&&a.indexOf(S)===-1&&a.push(S),r)}function bz(r,a,f,g,S){switch(a){case"focusin":return fa=Ud(fa,r,a,f,g,S),!0;case"dragenter":return ha=Ud(ha,r,a,f,g,S),!0;case"mouseover":return pa=Ud(pa,r,a,f,g,S),!0;case"pointerover":var A=S.pointerId;return zd.set(A,Ud(zd.get(A)||null,r,a,f,g,S)),!0;case"gotpointercapture":return A=S.pointerId,Bd.set(A,Ud(Bd.get(A)||null,r,a,f,g,S)),!0}return!1}function YE(r){var a=Xs(r.target);if(a!==null){var f=o(a);if(f!==null){if(a=f.tag,a===13){if(a=l(f),a!==null){r.blockedOn=a,is(r.priority,function(){KE(f)});return}}else if(a===31){if(a=c(f),a!==null){r.blockedOn=a,is(r.priority,function(){KE(f)});return}}else if(a===3&&f.stateNode.current.memoizedState.isDehydrated){r.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Mp(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var f=qy(r.nativeEvent);if(f===null){f=r.nativeEvent;var g=new f.constructor(f.type,f);oo=g,f.target.dispatchEvent(g),oo=null}else return a=Cr(f),a!==null&&GE(a),r.blockedOn=f,!1;a.shift()}return!0}function ZE(r,a,f){Mp(r)&&f.delete(a)}function xz(){Yy=!1,fa!==null&&Mp(fa)&&(fa=null),ha!==null&&Mp(ha)&&(ha=null),pa!==null&&Mp(pa)&&(pa=null),zd.forEach(ZE),Bd.forEach(ZE)}function Dp(r,a){r.blockedOn===a&&(r.blockedOn=null,Yy||(Yy=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xz)))}var Lp=null;function XE(r){Lp!==r&&(Lp=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Lp===r&&(Lp=null);for(var a=0;a<r.length;a+=3){var f=r[a],g=r[a+1],S=r[a+2];if(typeof g!="function"){if(Wy(g||f)===null)continue;break}var A=Cr(f);A!==null&&(r.splice(a,3),a-=3,qv(A,{pending:!0,data:S,method:f.method,action:g},g,S))}}))}function Hc(r){function a(te){return Dp(te,r)}fa!==null&&Dp(fa,r),ha!==null&&Dp(ha,r),pa!==null&&Dp(pa,r),zd.forEach(a),Bd.forEach(a);for(var f=0;f<ma.length;f++){var g=ma[f];g.blockedOn===r&&(g.blockedOn=null)}for(;0<ma.length&&(f=ma[0],f.blockedOn===null);)YE(f),f.blockedOn===null&&ma.shift();if(f=(r.ownerDocument||r).$$reactFormReplay,f!=null)for(g=0;g<f.length;g+=3){var S=f[g],A=f[g+1],D=S[Tn]||null;if(typeof A=="function")D||XE(f);else if(D){var F=null;if(A&&A.hasAttribute("formAction")){if(S=A,D=A[Tn]||null)F=D.formAction;else if(Wy(S)!==null)continue}else F=D.action;typeof F=="function"?f[g+1]=F:(f.splice(g,3),g-=3),XE(f)}}}function QE(){function r(A){A.canIntercept&&A.info==="react-transition"&&A.intercept({handler:function(){return new Promise(function(D){return S=D})},focusReset:"manual",scroll:"manual"})}function a(){S!==null&&(S(),S=null),g||setTimeout(f,20)}function f(){if(!g&&!navigation.transition){var A=navigation.currentEntry;A&&A.url!=null&&navigation.navigate(A.url,{state:A.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,S=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(f,100),function(){g=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),S!==null&&(S(),S=null)}}}function Zy(r){this._internalRoot=r}jp.prototype.render=Zy.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var f=a.current,g=hs();$E(f,g,r,a,null,null)},jp.prototype.unmount=Zy.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;$E(r.current,2,null,r,null,null),gp(),a[Zs]=null}};function jp(r){this._internalRoot=r}jp.prototype.unstable_scheduleHydration=function(r){if(r){var a=bi();r={blockedOn:null,target:r,priority:a};for(var f=0;f<ma.length&&a!==0&&a<ma[f].priority;f++);ma.splice(f,0,r),f===0&&YE(r)}};var JE=t.version;if(JE!=="19.2.4")throw Error(i(527,JE,"19.2.4"));X.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(a),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var _z={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ip=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ip.isDisabled&&Ip.supportsFiber)try{ts=Ip.inject(_z),rn=Ip}catch{}}return Vd.createRoot=function(r,a){if(!s(r))throw Error(i(299));var f=!1,g="",S=oC,A=aC,D=lC;return a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(S=a.onUncaughtError),a.onCaughtError!==void 0&&(A=a.onCaughtError),a.onRecoverableError!==void 0&&(D=a.onRecoverableError)),a=FE(r,1,!1,null,null,f,g,null,S,A,D,QE),r[Zs]=a.current,Oy(r),new Zy(a)},Vd.hydrateRoot=function(r,a,f){if(!s(r))throw Error(i(299));var g=!1,S="",A=oC,D=aC,F=lC,te=null;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onUncaughtError!==void 0&&(A=f.onUncaughtError),f.onCaughtError!==void 0&&(D=f.onCaughtError),f.onRecoverableError!==void 0&&(F=f.onRecoverableError),f.formState!==void 0&&(te=f.formState)),a=FE(r,1,!0,a,f??null,g,S,te,A,D,F,QE),a.context=VE(null),f=a.current,g=hs(),g=an(g),S=ea(g),S.callback=null,ta(f,S,g),f=g,a.current.lanes=f,Xn(a,f),Br(a),r[Zs]=a.current,Oy(r),new jp(a)},Vd.version="19.2.4",Vd}var cA;function Oz(){if(cA)return Jy.exports;cA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Jy.exports=Nz(),Jy.exports}var Pz=Oz(),nn=(e=>(e[e.None=0]="None",e[e.Mutable=1]="Mutable",e[e.Watching=2]="Watching",e[e.RecursedCheck=4]="RecursedCheck",e[e.Recursed=8]="Recursed",e[e.Dirty=16]="Dirty",e[e.Pending=32]="Pending",e))(nn||{});function Bk({update:e,notify:t,unwatched:n}){return{link:i,unlink:s,propagate:o,checkDirty:l,shallowPropagate:c};function i(h,m,v){const b=m.depsTail;if(b!==void 0&&b.dep===h)return;const _=b!==void 0?b.nextDep:m.deps;if(_!==void 0&&_.dep===h){_.version=v,m.depsTail=_;return}const C=h.subsTail;if(C!==void 0&&C.version===v&&C.sub===m)return;const E=m.depsTail=h.subsTail={version:v,dep:h,sub:m,prevDep:b,nextDep:_,prevSub:C,nextSub:void 0};_!==void 0&&(_.prevDep=E),b!==void 0?b.nextDep=E:m.deps=E,C!==void 0?C.nextSub=E:h.subs=E}function s(h,m=h.sub){const v=h.dep,b=h.prevDep,_=h.nextDep,C=h.nextSub,E=h.prevSub;return _!==void 0?_.prevDep=b:m.depsTail=b,b!==void 0?b.nextDep=_:m.deps=_,C!==void 0?C.prevSub=E:v.subsTail=E,E!==void 0?E.nextSub=C:(v.subs=C)===void 0&&n(v),_}function o(h){let m=h.nextSub,v;e:do{const b=h.sub;let _=b.flags;if(_&60?_&12?_&4?!(_&48)&&d(h,b)?(b.flags=_|40,_&=1):_=0:b.flags=_&-9|32:_=0:b.flags=_|32,_&2&&t(b),_&1){const C=b.subs;if(C!==void 0){const E=(h=C).nextSub;E!==void 0&&(v={value:m,prev:v},m=E);continue}}if((h=m)!==void 0){m=h.nextSub;continue}for(;v!==void 0;)if(h=v.value,v=v.prev,h!==void 0){m=h.nextSub;continue e}break}while(!0)}function l(h,m){let v,b=0,_=!1;e:do{const C=h.dep,E=C.flags;if(m.flags&16)_=!0;else if((E&17)===17){if(e(C)){const T=C.subs;T.nextSub!==void 0&&c(T),_=!0}}else if((E&33)===33){(h.nextSub!==void 0||h.prevSub!==void 0)&&(v={value:h,prev:v}),h=C.deps,m=C,++b;continue}if(!_){const T=h.nextDep;if(T!==void 0){h=T;continue}}for(;b--;){const T=m.subs,N=T.nextSub!==void 0;if(N?(h=v.value,v=v.prev):h=T,_){if(e(m)){N&&c(T),m=h.sub;continue}_=!1}else m.flags&=-33;m=h.sub;const k=h.nextDep;if(k!==void 0){h=k;continue e}}return _}while(!0)}function c(h){do{const m=h.sub,v=m.flags;(v&48)===32&&(m.flags=v|16,(v&6)===2&&t(m))}while((h=h.nextSub)!==void 0)}function d(h,m){let v=m.depsTail;for(;v!==void 0;){if(v===h)return!0;v=v.prevDep}return!1}}let q0=0,Sl=0,of=0;const ko=[],{link:ble,unlink:Uk,propagate:xle,checkDirty:Mz,shallowPropagate:_le}=Bk({update(e){return e.depsTail!==void 0?Iz(e):zz(e)},notify(e){let t=of,n=t;do if(ko[t++]=e,e.flags&=-3,e=e.subs?.sub,e===void 0||!(e.flags&2))break;while(!0);for(of=t;n<--t;){const i=ko[n];ko[n++]=ko[t],ko[t]=i}},unwatched(e){e.flags&1?e.depsTail!==void 0&&(e.depsTail=void 0,e.flags=17,yg(e)):Fz.call(e)}});function Dz(){return q0}function Lz(){++q0}function jz(){--q0||Uz()}function Iz(e){e.depsTail=void 0,e.flags=5;try{const t=e.value;return t!==(e.value=e.getter(t))}finally{e.flags&=-5,yg(e)}}function zz(e){return e.flags=1,e.currentValue!==(e.currentValue=e.pendingValue)}function Bz(e){const t=e.flags;if(t&16||t&32&&Mz(e.deps,e)){e.depsTail=void 0,e.flags=6;try{e.fn()}finally{e.flags&=-5,yg(e)}}else e.flags=2}function Uz(){try{for(;Sl<of;){const e=ko[Sl];ko[Sl++]=void 0,Bz(e)}}finally{for(;Sl<of;){const e=ko[Sl];ko[Sl++]=void 0,e.flags|=10}Sl=0,of=0}}function Fz(){this.depsTail=void 0,this.flags=0,yg(this);const e=this.subs;e!==void 0&&Uk(e)}function yg(e){const t=e.depsTail;let n=t!==void 0?t.nextDep:e.deps;for(;n!==void 0;)n=Uk(n,e)}function Fk(e,t,n){const i=typeof e=="object",s=i?e:void 0;return{next:(i?e.next:e)?.bind(s),error:(i?e.error:t)?.bind(s),complete:(i?e.complete:n)?.bind(s)}}const mx=[];let pm=0;const{link:uA,unlink:Vz,propagate:$z,checkDirty:Vk,shallowPropagate:dA}=Bk({update(e){return e._update()},notify(e){mx[gx++]=e,e.flags&=~nn.Watching},unwatched(e){e.depsTail!==void 0&&(e.depsTail=void 0,e.flags=nn.Mutable|nn.Dirty,Nm(e))}});let Bp=0,gx=0,Fr;function Nm(e){const t=e.depsTail;let n=t!==void 0?t.nextDep:e.deps;for(;n!==void 0;)n=Vz(n,e)}function $k(){if(!(Dz()>0)){for(;Bp<gx;){const e=mx[Bp];mx[Bp++]=void 0,e.notify()}Bp=0,gx=0}}function Hz(e,t){const n=typeof e=="function",i=e,s={_snapshot:n?void 0:e,subs:void 0,subsTail:void 0,deps:void 0,depsTail:void 0,flags:n?nn.None:nn.Mutable,get(){return Fr!==void 0&&uA(s,Fr,pm),s._snapshot},subscribe(o){const l=Fk(o),c={current:!1},d=Gz(()=>{s.get(),c.current?l.next?.(s._snapshot):c.current=!0});return{unsubscribe:()=>{d.stop()}}},_update(o){const l=Fr,c=Object.is;Fr=s,++pm,s.depsTail=void 0,n&&(s.flags=nn.Mutable|nn.RecursedCheck);try{const d=s._snapshot,h=typeof o=="function"?o(d):o===void 0&&n?i(d):o;return d===void 0||!c(d,h)?(s._snapshot=h,!0):!1}finally{Fr=l,n&&(s.flags&=~nn.RecursedCheck),Nm(s)}}};return n?(s.flags=nn.Mutable|nn.Dirty,s.get=function(){const o=s.flags;if(o&nn.Dirty||o&nn.Pending&&Vk(s.deps,s)){if(s._update()){const l=s.subs;l!==void 0&&dA(l)}}else o&nn.Pending&&(s.flags=o&~nn.Pending);return Fr!==void 0&&uA(s,Fr,pm),s._snapshot}):s.set=function(o){if(s._update(o)){const l=s.subs;l!==void 0&&($z(l),dA(l),$k())}},s}function Gz(e){const t=()=>{const i=Fr;Fr=n,++pm,n.depsTail=void 0,n.flags=nn.Watching|nn.RecursedCheck;try{return e()}finally{Fr=i,n.flags&=~nn.RecursedCheck,Nm(n)}},n={deps:void 0,depsTail:void 0,subs:void 0,subsTail:void 0,flags:nn.Watching|nn.RecursedCheck,notify(){const i=this.flags;i&nn.Dirty||i&nn.Pending&&Vk(this.deps,this)?t():this.flags=nn.Watching},stop(){this.flags=nn.None,this.depsTail=void 0,Nm(this)}};return t(),n}class Kz{constructor(t){this.atom=Hz(t)}setState(t){this.atom.set(t)}get state(){return this.atom.get()}get(){return this.state}subscribe(t){return this.atom.subscribe(Fk(t))}}function qz(e){try{Lz(),e()}finally{jz(),$k()}}const ka="__TSR_index",fA="popstate",hA="beforeunload";function Wz(e){let t=e.getLocation();const n=new Set,i=l=>{t=e.getLocation(),n.forEach(c=>c({location:t,action:l}))},s=l=>{e.notifyOnIndexChange??!0?i(l):t=e.getLocation()},o=async({task:l,navigateOpts:c,...d})=>{if(c?.ignoreBlocker??!1){l();return}const m=e.getBlockers?.()??[],v=d.type==="PUSH"||d.type==="REPLACE";if(typeof document<"u"&&m.length&&v)for(const b of m){const _=Om(d.path,d.state);if(await b.blockerFn({currentLocation:t,nextLocation:_,action:d.type})){e.onBlocked?.();return}}l()};return{get location(){return t},get length(){return e.getLength()},subscribers:n,subscribe:l=>(n.add(l),()=>{n.delete(l)}),push:(l,c,d)=>{const h=t.state[ka];c=pA(h+1,c),o({task:()=>{e.pushState(l,c),i({type:"PUSH"})},navigateOpts:d,type:"PUSH",path:l,state:c})},replace:(l,c,d)=>{const h=t.state[ka];c=pA(h,c),o({task:()=>{e.replaceState(l,c),i({type:"REPLACE"})},navigateOpts:d,type:"REPLACE",path:l,state:c})},go:(l,c)=>{o({task:()=>{e.go(l),s({type:"GO",index:l})},navigateOpts:c,type:"GO"})},back:l=>{o({task:()=>{e.back(l?.ignoreBlocker??!1),s({type:"BACK"})},navigateOpts:l,type:"BACK"})},forward:l=>{o({task:()=>{e.forward(l?.ignoreBlocker??!1),s({type:"FORWARD"})},navigateOpts:l,type:"FORWARD"})},canGoBack:()=>t.state[ka]!==0,createHref:l=>e.createHref(l),block:l=>{if(!e.setBlockers)return()=>{};const c=e.getBlockers?.()??[];return e.setBlockers([...c,l]),()=>{const d=e.getBlockers?.()??[];e.setBlockers?.(d.filter(h=>h!==l))}},flush:()=>e.flush?.(),destroy:()=>e.destroy?.(),notify:i}}function pA(e,t){t||(t={});const n=W0();return{...t,key:n,__TSR_key:n,[ka]:e}}function Yz(e){const t=typeof document<"u"?window:void 0,n=t.history.pushState,i=t.history.replaceState;let s=[];const o=()=>s,l=I=>s=I,c=(I=>I),d=(()=>Om(`${t.location.pathname}${t.location.search}${t.location.hash}`,t.history.state));if(!t.history.state?.__TSR_key&&!t.history.state?.key){const I=W0();t.history.replaceState({[ka]:0,key:I,__TSR_key:I},"")}let h=d(),m,v=!1,b=!1,_=!1,C=!1;const E=()=>h;let T,N;const k=()=>{T&&(z._ignoreSubscribers=!0,(T.isPush?t.history.pushState:t.history.replaceState)(T.state,"",T.href),z._ignoreSubscribers=!1,T=void 0,N=void 0,m=void 0)},O=(I,$,Y)=>{const q=c($);N||(m=h),h=Om($,Y),T={href:q,state:Y,isPush:T?.isPush||I==="push"},N||(N=Promise.resolve().then(()=>k()))},M=I=>{h=d(),z.notify({type:I})},j=async()=>{if(b){b=!1;return}const I=d(),$=I.state[ka]-h.state[ka],Y=$===1,q=$===-1,W=!Y&&!q||v;v=!1;const Z=W?"GO":q?"BACK":"FORWARD",ie=W?{type:"GO",index:$}:{type:q?"BACK":"FORWARD"};if(_)_=!1;else{const ye=o();if(typeof document<"u"&&ye.length){for(const G of ye)if(await G.blockerFn({currentLocation:h,nextLocation:I,action:Z})){b=!0,t.history.go(1),z.notify(ie);return}}}h=d(),z.notify(ie)},V=I=>{if(C){C=!1;return}let $=!1;const Y=o();if(typeof document<"u"&&Y.length)for(const q of Y){const W=q.enableBeforeUnload??!0;if(W===!0){$=!0;break}if(typeof W=="function"&&W()===!0){$=!0;break}}if($)return I.preventDefault(),I.returnValue=""},z=Wz({getLocation:E,getLength:()=>t.history.length,pushState:(I,$)=>O("push",I,$),replaceState:(I,$)=>O("replace",I,$),back:I=>(I&&(_=!0),C=!0,t.history.back()),forward:I=>{I&&(_=!0),C=!0,t.history.forward()},go:I=>{v=!0,t.history.go(I)},createHref:I=>c(I),flush:k,destroy:()=>{t.history.pushState=n,t.history.replaceState=i,t.removeEventListener(hA,V,{capture:!0}),t.removeEventListener(fA,j)},onBlocked:()=>{m&&h!==m&&(h=m)},getBlockers:o,setBlockers:l,notifyOnIndexChange:!1});return t.addEventListener(hA,V,{capture:!0}),t.addEventListener(fA,j),t.history.pushState=function(...I){const $=n.apply(t.history,I);return z._ignoreSubscribers||M("PUSH"),$},t.history.replaceState=function(...I){const $=i.apply(t.history,I);return z._ignoreSubscribers||M("REPLACE"),$},z}function Zz(e){let t=e.replace(/[\x00-\x1f\x7f]/g,"");return t.startsWith("//")&&(t="/"+t.replace(/^\/+/,"")),t}function Om(e,t){const n=Zz(e),i=n.indexOf("#"),s=n.indexOf("?"),o=W0();return{href:n,pathname:n.substring(0,i>0?s>0?Math.min(i,s):i:s>0?s:n.length),hash:i>-1?n.substring(i):"",search:s>-1?n.slice(s,i===-1?void 0:i):"",state:t||{[ka]:0,key:o,__TSR_key:o}}}function W0(){return(Math.random()+1).toString(36).substring(7)}const Xz=!1;function af(e){let t;return qz(()=>{t=e()}),t}function _f(e){return e[e.length-1]}function Qz(e){return typeof e=="function"}function Aa(e,t){return Qz(e)?e(t):e}const Jz=Object.prototype.hasOwnProperty,mA=Object.prototype.propertyIsEnumerable;function ms(e,t,n=0){if(e===t)return e;if(n>500)return t;const i=t,s=yA(e)&&yA(i);if(!s&&!(Pm(e)&&Pm(i)))return i;const o=s?e:gA(e);if(!o)return i;const l=s?i:gA(i);if(!l)return i;const c=o.length,d=l.length,h=s?new Array(d):{};let m=0;for(let v=0;v<d;v++){const b=s?v:l[v],_=e[b],C=i[b];if(_===C){h[b]=_,(s?v<c:Jz.call(e,b))&&m++;continue}if(_===null||C===null||typeof _!="object"||typeof C!="object"){h[b]=C;continue}const E=ms(_,C,n+1);h[b]=E,E===_&&m++}return c===d&&m===c?e:h}function gA(e){const t=Object.getOwnPropertyNames(e);for(const s of t)if(!mA.call(e,s))return!1;const n=Object.getOwnPropertySymbols(e);if(n.length===0)return t;const i=t;for(const s of n){if(!mA.call(e,s))return!1;i.push(s)}return i}function Pm(e){if(!vA(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!vA(n)||!n.hasOwnProperty("isPrototypeOf"))}function vA(e){return Object.prototype.toString.call(e)==="[object Object]"}function yA(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ul(e,t,n){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let i=0,s=e.length;i<s;i++)if(!Ul(e[i],t[i],n))return!1;return!0}if(Pm(e)&&Pm(t)){const i=n?.ignoreUndefined??!0;if(n?.partial){for(const l in t)if((!i||t[l]!==void 0)&&!Ul(e[l],t[l],n))return!1;return!0}let s=0;if(!i)s=Object.keys(e).length;else for(const l in e)e[l]!==void 0&&s++;let o=0;for(const l in t)if((!i||t[l]!==void 0)&&(o++,o>s||!Ul(e[l],t[l],n)))return!1;return s===o}return!1}function Cu(e){let t,n;const i=new Promise((s,o)=>{t=s,n=o});return i.status="pending",i.resolve=s=>{i.status="resolved",i.value=s,t(s),e?.(s)},i.reject=s=>{i.status="rejected",n(s)},i}function gu(e){return!!(e&&typeof e=="object"&&typeof e.then=="function")}function eB(e){return e.replace(/[\x00-\x1f\x7f]/g,"")}function bA(e){let t;try{t=decodeURI(e)}catch{t=e.replaceAll(/%[0-9A-F]{2}/gi,n=>{try{return decodeURI(n)}catch{return n}})}return eB(t)}const tB=["http:","https:","mailto:","tel:"];function Mm(e,t){if(!e)return!1;try{const n=new URL(e);return!t.has(n.protocol)}catch{return!1}}function $d(e){if(!e)return{path:e,handledProtocolRelativeURL:!1};if(!/[%\\\x00-\x1f\x7f]/.test(e)&&!e.startsWith("//"))return{path:e,handledProtocolRelativeURL:!1};const t=/%25|%5C/gi;let n=0,i="",s;for(;(s=t.exec(e))!==null;)i+=bA(e.slice(n,s.index))+s[0],n=t.lastIndex;i=i+bA(n?e.slice(n):e);let o=!1;return i.startsWith("//")&&(o=!0,i="/"+i.replace(/^\/+/,"")),{path:i,handledProtocolRelativeURL:o}}function nB(e){return/\s|[^\u0000-\u007F]/.test(e)?e.replace(/\s|[^\u0000-\u007F]/gu,encodeURIComponent):e}var iB="Invariant failed";function Mo(e,t){if(!e)throw new Error(iB)}function Dm(e){const t=new Map;let n,i;const s=o=>{o.next&&(o.prev?(o.prev.next=o.next,o.next.prev=o.prev,o.next=void 0,i&&(i.next=o,o.prev=i)):(o.next.prev=void 0,n=o.next,o.next=void 0,i&&(o.prev=i,i.next=o)),i=o)};return{get(o){const l=t.get(o);if(l)return s(l),l.value},set(o,l){if(t.size>=e&&n){const d=n;t.delete(d.key),d.next&&(n=d.next,d.next.prev=void 0),d===i&&(i=void 0)}const c=t.get(o);if(c)c.value=l,s(c);else{const d={key:o,value:l,prev:i};i&&(i.next=d),i=d,n||(n=d),t.set(o,d)}},clear(){t.clear(),n=void 0,i=void 0}}}const Eu=0,$l=1,Hl=2,wf=3,Ll=4,Hk=5;function sB(e){const t=e.indexOf("{");if(t===-1)return null;const n=e.indexOf("}",t);return n===-1||t+1>=e.length?null:[t,n]}function Y0(e,t,n=new Uint16Array(6)){const i=e.indexOf("/",t),s=i===-1?e.length:i,o=e.substring(t,s);if(!o||!o.includes("$"))return n[0]=Eu,n[1]=t,n[2]=t,n[3]=s,n[4]=s,n[5]=s,n;if(o==="$"){const c=e.length;return n[0]=Hl,n[1]=t,n[2]=t,n[3]=c,n[4]=c,n[5]=c,n}if(o.charCodeAt(0)===36)return n[0]=$l,n[1]=t,n[2]=t+1,n[3]=s,n[4]=s,n[5]=s,n;const l=sB(o);if(l){const[c,d]=l,h=o.charCodeAt(c+1);if(h===45){if(c+2<o.length&&o.charCodeAt(c+2)===36){const m=c+3,v=d;if(m<v)return n[0]=wf,n[1]=t+c,n[2]=t+m,n[3]=t+v,n[4]=t+d+1,n[5]=s,n}}else if(h===36){const m=c+1,v=c+2;return v===d?(n[0]=Hl,n[1]=t+c,n[2]=t+m,n[3]=t+v,n[4]=t+d+1,n[5]=e.length,n):(n[0]=$l,n[1]=t+c,n[2]=t+v,n[3]=t+d,n[4]=t+d+1,n[5]=s,n)}}return n[0]=Eu,n[1]=t,n[2]=t,n[3]=s,n[4]=s,n[5]=s,n}function bg(e,t,n,i,s,o,l){l?.(n);let c=i;{const d=n.fullPath??n.from,h=d.length,m=n.options?.caseSensitive??e,v=!!(n.options?.params?.parse&&n.options?.skipRouteOnParseError?.params);for(;c<h;){const _=Y0(d,c,t);let C;const E=c,T=_[5];switch(c=T+1,o++,_[0]){case Eu:{const k=d.substring(_[2],_[3]);if(m){const O=s.static?.get(k);if(O)C=O;else{s.static??=new Map;const M=jl(n.fullPath??n.from);M.parent=s,M.depth=o,C=M,s.static.set(k,M)}}else{const O=k.toLowerCase(),M=s.staticInsensitive?.get(O);if(M)C=M;else{s.staticInsensitive??=new Map;const j=jl(n.fullPath??n.from);j.parent=s,j.depth=o,C=j,s.staticInsensitive.set(O,j)}}break}case $l:{const k=d.substring(E,_[1]),O=d.substring(_[4],T),M=m&&!!(k||O),j=k?M?k:k.toLowerCase():void 0,V=O?M?O:O.toLowerCase():void 0,z=!v&&s.dynamic?.find(I=>!I.skipOnParamError&&I.caseSensitive===M&&I.prefix===j&&I.suffix===V);if(z)C=z;else{const I=sb($l,n.fullPath??n.from,M,j,V);C=I,I.depth=o,I.parent=s,s.dynamic??=[],s.dynamic.push(I)}break}case wf:{const k=d.substring(E,_[1]),O=d.substring(_[4],T),M=m&&!!(k||O),j=k?M?k:k.toLowerCase():void 0,V=O?M?O:O.toLowerCase():void 0,z=!v&&s.optional?.find(I=>!I.skipOnParamError&&I.caseSensitive===M&&I.prefix===j&&I.suffix===V);if(z)C=z;else{const I=sb(wf,n.fullPath??n.from,M,j,V);C=I,I.parent=s,I.depth=o,s.optional??=[],s.optional.push(I)}break}case Hl:{const k=d.substring(E,_[1]),O=d.substring(_[4],T),M=m&&!!(k||O),j=k?M?k:k.toLowerCase():void 0,V=O?M?O:O.toLowerCase():void 0,z=sb(Hl,n.fullPath??n.from,M,j,V);C=z,z.parent=s,z.depth=o,s.wildcard??=[],s.wildcard.push(z)}}s=C}if(v&&n.children&&!n.isRoot&&n.id&&n.id.charCodeAt(n.id.lastIndexOf("/")+1)===95){const _=jl(n.fullPath??n.from);_.kind=Hk,_.parent=s,o++,_.depth=o,s.pathless??=[],s.pathless.push(_),s=_}const b=(n.path||!n.children)&&!n.isRoot;if(b&&d.endsWith("/")){const _=jl(n.fullPath??n.from);_.kind=Ll,_.parent=s,o++,_.depth=o,s.index=_,s=_}s.parse=n.options?.params?.parse??null,s.skipOnParamError=v,s.parsingPriority=n.options?.skipRouteOnParseError?.priority??0,b&&!s.route&&(s.route=n,s.fullPath=n.fullPath??n.from)}if(n.children)for(const d of n.children)bg(e,t,d,c,s,o,l)}function ib(e,t){if(e.skipOnParamError&&!t.skipOnParamError)return-1;if(!e.skipOnParamError&&t.skipOnParamError)return 1;if(e.skipOnParamError&&t.skipOnParamError&&(e.parsingPriority||t.parsingPriority))return t.parsingPriority-e.parsingPriority;if(e.prefix&&t.prefix&&e.prefix!==t.prefix){if(e.prefix.startsWith(t.prefix))return-1;if(t.prefix.startsWith(e.prefix))return 1}if(e.suffix&&t.suffix&&e.suffix!==t.suffix){if(e.suffix.endsWith(t.suffix))return-1;if(t.suffix.endsWith(e.suffix))return 1}return e.prefix&&!t.prefix?-1:!e.prefix&&t.prefix?1:e.suffix&&!t.suffix?-1:!e.suffix&&t.suffix?1:e.caseSensitive&&!t.caseSensitive?-1:!e.caseSensitive&&t.caseSensitive?1:0}function wa(e){if(e.pathless)for(const t of e.pathless)wa(t);if(e.static)for(const t of e.static.values())wa(t);if(e.staticInsensitive)for(const t of e.staticInsensitive.values())wa(t);if(e.dynamic?.length){e.dynamic.sort(ib);for(const t of e.dynamic)wa(t)}if(e.optional?.length){e.optional.sort(ib);for(const t of e.optional)wa(t)}if(e.wildcard?.length){e.wildcard.sort(ib);for(const t of e.wildcard)wa(t)}}function jl(e){return{kind:Eu,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:e,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0}}function sb(e,t,n,i,s){return{kind:e,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:t,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0,caseSensitive:n,prefix:i,suffix:s}}function rB(e,t){const n=jl("/"),i=new Uint16Array(6);for(const s of e)bg(!1,i,s,1,n,0);wa(n),t.masksTree=n,t.flatCache=Dm(1e3)}function oB(e,t){e||="/";const n=t.flatCache.get(e);if(n)return n;const i=Z0(e,t.masksTree);return t.flatCache.set(e,i),i}function aB(e,t,n,i,s){e||="/",i||="/";const o=t?`case\0${e}`:e;let l=s.singleCache.get(o);if(!l){l=jl("/");const c=new Uint16Array(6);bg(t,c,{from:e},1,l,0),s.singleCache.set(o,l)}return Z0(i,l,n)}function lB(e,t,n=!1){const i=n?e:`nofuzz\0${e}`,s=t.matchCache.get(i);if(s!==void 0)return s;e||="/";let o;try{o=Z0(e,t.segmentTree,n)}catch(l){if(l instanceof URIError)o=null;else throw l}return o&&(o.branch=dB(o.route)),t.matchCache.set(i,o),o}function cB(e){return e==="/"?e:e.replace(/\/{1,}$/,"")}function uB(e,t=!1,n){const i=jl(e.fullPath),s=new Uint16Array(6),o={},l={};let c=0;return bg(t,s,e,1,i,0,h=>{if(n?.(h,c),Mo(!(h.id in o),`Duplicate routes found with id: ${String(h.id)}`),o[h.id]=h,c!==0&&h.path){const m=cB(h.fullPath);(!l[m]||h.fullPath.endsWith("/"))&&(l[m]=h)}c++}),wa(i),{processedTree:{segmentTree:i,singleCache:Dm(1e3),matchCache:Dm(1e3),flatCache:null,masksTree:null},routesById:o,routesByPath:l}}function Z0(e,t,n=!1){const i=e.split("/"),s=hB(e,i,t,n);if(!s)return null;const[o]=Gk(e,i,s);return{route:s.node.route,rawParams:o,parsedParams:s.parsedParams}}function Gk(e,t,n){const i=fB(n.node);let s=null;const o={};let l=n.extract?.part??0,c=n.extract?.node??0,d=n.extract?.path??0,h=n.extract?.segment??0;for(;c<i.length;l++,c++,d++,h++){const m=i[c];if(m.kind===Ll)break;if(m.kind===Hk){h--,l--,d--;continue}const v=t[l],b=d;if(v&&(d+=v.length),m.kind===$l){s??=n.node.fullPath.split("/");const _=s[h],C=m.prefix?.length??0;if(_.charCodeAt(C)===123){const T=m.suffix?.length??0,N=_.substring(C+2,_.length-T-1),k=v.substring(C,v.length-T);o[N]=decodeURIComponent(k)}else{const T=_.substring(1);o[T]=decodeURIComponent(v)}}else if(m.kind===wf){if(n.skipped&1<<c){l--,d=b-1;continue}s??=n.node.fullPath.split("/");const _=s[h],C=m.prefix?.length??0,E=m.suffix?.length??0,T=_.substring(C+3,_.length-E-1),N=m.suffix||m.prefix?v.substring(C,v.length-E):v;N&&(o[T]=decodeURIComponent(N))}else if(m.kind===Hl){const _=m,C=e.substring(b+(_.prefix?.length??0),e.length-(_.suffix?.length??0)),E=decodeURIComponent(C);o["*"]=E,o._splat=E;break}}return n.rawParams&&Object.assign(o,n.rawParams),[o,{part:l,node:c,path:d,segment:h}]}function dB(e){const t=[e];for(;e.parentRoute;)e=e.parentRoute,t.push(e);return t.reverse(),t}function fB(e){const t=Array(e.depth+1);do t[e.depth]=e,e=e.parent;while(e);return t}function hB(e,t,n,i){if(e==="/"&&n.index)return{node:n.index,skipped:0};const s=!_f(t),o=s&&e!=="/",l=t.length-(s?1:0),c=[{node:n,index:1,skipped:0,depth:1,statics:1,dynamics:0,optionals:0}];let d=null,h=null,m=null;for(;c.length;){const v=c.pop(),{node:b,index:_,skipped:C,depth:E,statics:T,dynamics:N,optionals:k}=v;let{extract:O,rawParams:M,parsedParams:j}=v;if(b.skipOnParamError){if(!rb(e,t,v))continue;M=v.rawParams,O=v.extract,j=v.parsedParams}i&&b.route&&b.kind!==Ll&&Hd(h,v)&&(h=v);const V=_===l;if(V&&(b.route&&!o&&Hd(m,v)&&(m=v),!b.optional&&!b.wildcard&&!b.index&&!b.pathless))continue;const z=V?void 0:t[_];let I;if(V&&b.index){const $={node:b.index,index:_,skipped:C,depth:E+1,statics:T,dynamics:N,optionals:k,extract:O,rawParams:M,parsedParams:j};let Y=!0;if(b.index.skipOnParamError&&(rb(e,t,$)||(Y=!1)),Y){if(T===l&&!N&&!k&&!C)return $;Hd(m,$)&&(m=$)}}if(b.wildcard&&Hd(d,v))for(const $ of b.wildcard){const{prefix:Y,suffix:q}=$;if(Y&&(V||!($.caseSensitive?z:I??=z.toLowerCase()).startsWith(Y)))continue;if(q){if(V)continue;const Z=t.slice(_).join("/").slice(-q.length);if(($.caseSensitive?Z:Z.toLowerCase())!==q)continue}const W={node:$,index:l,skipped:C,depth:E,statics:T,dynamics:N,optionals:k,extract:O,rawParams:M,parsedParams:j};if(!($.skipOnParamError&&!rb(e,t,W))){d=W;break}}if(b.optional){const $=C|1<<E,Y=E+1;for(let q=b.optional.length-1;q>=0;q--){const W=b.optional[q];c.push({node:W,index:_,skipped:$,depth:Y,statics:T,dynamics:N,optionals:k,extract:O,rawParams:M,parsedParams:j})}if(!V)for(let q=b.optional.length-1;q>=0;q--){const W=b.optional[q],{prefix:Z,suffix:ie}=W;if(Z||ie){const ye=W.caseSensitive?z:I??=z.toLowerCase();if(Z&&!ye.startsWith(Z)||ie&&!ye.endsWith(ie))continue}c.push({node:W,index:_+1,skipped:C,depth:Y,statics:T,dynamics:N,optionals:k+1,extract:O,rawParams:M,parsedParams:j})}}if(!V&&b.dynamic&&z)for(let $=b.dynamic.length-1;$>=0;$--){const Y=b.dynamic[$],{prefix:q,suffix:W}=Y;if(q||W){const Z=Y.caseSensitive?z:I??=z.toLowerCase();if(q&&!Z.startsWith(q)||W&&!Z.endsWith(W))continue}c.push({node:Y,index:_+1,skipped:C,depth:E+1,statics:T,dynamics:N+1,optionals:k,extract:O,rawParams:M,parsedParams:j})}if(!V&&b.staticInsensitive){const $=b.staticInsensitive.get(I??=z.toLowerCase());$&&c.push({node:$,index:_+1,skipped:C,depth:E+1,statics:T+1,dynamics:N,optionals:k,extract:O,rawParams:M,parsedParams:j})}if(!V&&b.static){const $=b.static.get(z);$&&c.push({node:$,index:_+1,skipped:C,depth:E+1,statics:T+1,dynamics:N,optionals:k,extract:O,rawParams:M,parsedParams:j})}if(b.pathless){const $=E+1;for(let Y=b.pathless.length-1;Y>=0;Y--){const q=b.pathless[Y];c.push({node:q,index:_,skipped:C,depth:$,statics:T,dynamics:N,optionals:k,extract:O,rawParams:M,parsedParams:j})}}}if(m&&d)return Hd(d,m)?m:d;if(m)return m;if(d)return d;if(i&&h){let v=h.index;for(let _=0;_<h.index;_++)v+=t[_].length;const b=v===e.length?"/":e.slice(v);return h.rawParams??={},h.rawParams["**"]=decodeURIComponent(b),h}return null}function rb(e,t,n){try{const[i,s]=Gk(e,t,n);n.rawParams=i,n.extract=s;const o=n.node.parse(i);return n.parsedParams=Object.assign({},n.parsedParams,o),!0}catch{return null}}function Hd(e,t){return e?t.statics>e.statics||t.statics===e.statics&&(t.dynamics>e.dynamics||t.dynamics===e.dynamics&&(t.optionals>e.optionals||t.optionals===e.optionals&&((t.node.kind===Ll)>(e.node.kind===Ll)||t.node.kind===Ll==(e.node.kind===Ll)&&t.depth>e.depth))):!0}function mm(e){return X0(e.filter(t=>t!==void 0).join("/"))}function X0(e){return e.replace(/\/{2,}/g,"/")}function Kk(e){return e==="/"?e:e.replace(/^\/{1,}/,"")}function Na(e){const t=e.length;return t>1&&e[t-1]==="/"?e.replace(/\/{1,}$/,""):e}function qk(e){return Na(Kk(e))}function Lm(e,t){return e?.endsWith("/")&&e!=="/"&&e!==`${t}/`?e.slice(0,-1):e}function pB(e,t,n){return Lm(e,n)===Lm(t,n)}function mB({base:e,to:t,trailingSlash:n="never",cache:i}){const s=t.startsWith("/"),o=!s&&t===".";let l;if(i){l=s?t:o?e:e+"\0"+t;const v=i.get(l);if(v)return v}let c;if(o)c=e.split("/");else if(s)c=t.split("/");else{for(c=e.split("/");c.length>1&&_f(c)==="";)c.pop();const v=t.split("/");for(let b=0,_=v.length;b<_;b++){const C=v[b];C===""?b?b===_-1&&c.push(C):c=[C]:C===".."?c.pop():C==="."||c.push(C)}}c.length>1&&(_f(c)===""?n==="never"&&c.pop():n==="always"&&c.push(""));let d,h="";for(let v=0;v<c.length;v++){v>0&&(h+="/");const b=c[v];if(!b)continue;d=Y0(b,0,d);const _=d[0];if(_===Eu){h+=b;continue}const C=d[5],E=b.substring(0,d[1]),T=b.substring(d[4],C),N=b.substring(d[2],d[3]);_===$l?h+=E||T?`${E}{$${N}}${T}`:`$${N}`:_===Hl?h+=E||T?`${E}{$}${T}`:"$":h+=`${E}{-$${N}}${T}`}h=X0(h);const m=h||"/";return l&&i&&i.set(l,m),m}function gB(e){const t=new Map(e.map(s=>[encodeURIComponent(s),s])),n=Array.from(t.keys()).map(s=>s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),i=new RegExp(n,"g");return s=>s.replace(i,o=>t.get(o)??o)}function ob(e,t,n){const i=t[e];return typeof i!="string"?i:e==="_splat"?/^[a-zA-Z0-9\-._~!/]*$/.test(i)?i:i.split("/").map(s=>_A(s,n)).join("/"):_A(i,n)}function xA({path:e,params:t,decoder:n,...i}){let s=!1;const o={};if(!e||e==="/")return{interpolatedPath:"/",usedParams:o,isMissingParams:s};if(!e.includes("$"))return{interpolatedPath:e,usedParams:o,isMissingParams:s};const l=e.length;let c=0,d,h="";for(;c<l;){const v=c;d=Y0(e,v,d);const b=d[5];if(c=b+1,v===b)continue;const _=d[0];if(_===Eu){h+="/"+e.substring(v,b);continue}if(_===Hl){const C=t._splat;o._splat=C,o["*"]=C;const E=e.substring(v,d[1]),T=e.substring(d[4],b);if(!C){s=!0,(E||T)&&(h+="/"+E+T);continue}const N=ob("_splat",t,n);h+="/"+E+N+T;continue}if(_===$l){const C=e.substring(d[2],d[3]);!s&&!(C in t)&&(s=!0),o[C]=t[C];const E=e.substring(v,d[1]),T=e.substring(d[4],b),N=ob(C,t,n)??"undefined";h+="/"+E+N+T;continue}if(_===wf){const C=e.substring(d[2],d[3]),E=t[C];if(E==null)continue;o[C]=E;const T=e.substring(v,d[1]),N=e.substring(d[4],b),k=ob(C,t,n)??"";h+="/"+T+k+N;continue}}return e.endsWith("/")&&(h+="/"),{usedParams:o,interpolatedPath:h||"/",isMissingParams:s}}function _A(e,t){const n=encodeURIComponent(e);return t?.(n)??n}function bs(e){return!!e?.isNotFound}function vB(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const vx="tsr-scroll-restoration-v1_3",yB=(e,t)=>{let n;return(...i)=>{n||(n=setTimeout(()=>{e(...i),n=null},t))}};function bB(){const e=vB();if(!e)return null;const t=e.getItem(vx);let n=t?JSON.parse(t):{};return{state:n,set:i=>{n=Aa(i,n)||n;try{e.setItem(vx,JSON.stringify(n))}catch{console.warn("[ts-router] Could not persist scroll restoration state to sessionStorage.")}}}}const Up=bB(),xB=e=>e.state.__TSR_key||e.href;function _B(e){const t=[];let n;for(;n=e.parentNode;)t.push(`${e.tagName}:nth-child(${Array.prototype.indexOf.call(n.children,e)+1})`),e=n;return`${t.reverse().join(" > ")}`.toLowerCase()}let jm=!1;function wB({storageKey:e,key:t,behavior:n,shouldScrollRestoration:i,scrollToTopSelectors:s,location:o}){let l;try{l=JSON.parse(sessionStorage.getItem(e)||"{}")}catch(h){console.error(h);return}const c=t||window.history.state?.__TSR_key,d=l[c];jm=!0;e:{if(i&&d&&Object.keys(d).length>0){for(const v in d){const b=d[v];if(v==="window")window.scrollTo({top:b.scrollY,left:b.scrollX,behavior:n});else if(v){const _=document.querySelector(v);_&&(_.scrollLeft=b.scrollX,_.scrollTop=b.scrollY)}}break e}const h=(o??window.location).hash.split("#",2)[1];if(h){const v=window.history.state?.__hashScrollIntoViewOptions??!0;if(v){const b=document.getElementById(h);b&&b.scrollIntoView(v)}break e}const m={top:0,left:0,behavior:n};if(window.scrollTo(m),s)for(const v of s){if(v==="window")continue;const b=typeof v=="function"?v():document.querySelector(v);b&&b.scrollTo(m)}}jm=!1}function SB(e,t){if(!Up||((e.options.scrollRestoration??!1)&&(e.isScrollRestoring=!0),e.isScrollRestorationSetup||!Up))return;e.isScrollRestorationSetup=!0,jm=!1;const i=e.options.getScrollRestorationKey||xB;window.history.scrollRestoration="manual";const s=o=>{if(jm||!e.isScrollRestoring)return;let l="";if(o.target===document||o.target===window)l="window";else{const d=o.target.getAttribute("data-scroll-restoration-id");d?l=`[data-scroll-restoration-id="${d}"]`:l=_B(o.target)}const c=i(e.state.location);Up.set(d=>{const h=d[c]||={},m=h[l]||={};if(l==="window")m.scrollX=window.scrollX||0,m.scrollY=window.scrollY||0;else if(l){const v=document.querySelector(l);v&&(m.scrollX=v.scrollLeft||0,m.scrollY=v.scrollTop||0)}return d})};typeof document<"u"&&document.addEventListener("scroll",yB(s,100),!0),e.subscribe("onRendered",o=>{const l=i(o.toLocation);if(!e.resetNextScroll){e.resetNextScroll=!0;return}typeof e.options.scrollRestoration=="function"&&!e.options.scrollRestoration({location:e.latestLocation})||(wB({storageKey:vx,key:l,behavior:e.options.scrollRestorationBehavior,shouldScrollRestoration:e.isScrollRestoring,scrollToTopSelectors:e.options.scrollToTopSelectors,location:e.history.location}),e.isScrollRestoring&&Up.set(c=>(c[l]||={},c)))})}function CB(e){if(typeof document<"u"&&document.querySelector){const t=e.state.location.state.__hashScrollIntoViewOptions??!0;if(t&&e.state.location.hash!==""){const n=document.getElementById(e.state.location.hash);n&&n.scrollIntoView(t)}}}function EB(e,t=String){const n=new URLSearchParams;for(const i in e){const s=e[i];s!==void 0&&n.set(i,t(s))}return n.toString()}function ab(e){return e?e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e:""}function AB(e){const t=new URLSearchParams(e),n={};for(const[i,s]of t.entries()){const o=n[i];o==null?n[i]=ab(s):Array.isArray(o)?o.push(ab(s)):n[i]=[o,ab(s)]}return n}const TB=kB(JSON.parse),RB=NB(JSON.stringify,JSON.parse);function kB(e){return t=>{t[0]==="?"&&(t=t.substring(1));const n=AB(t);for(const i in n){const s=n[i];if(typeof s=="string")try{n[i]=e(s)}catch{}}return n}}function NB(e,t){const n=typeof t=="function";function i(s){if(typeof s=="object"&&s!==null)try{return e(s)}catch{}else if(n&&typeof s=="string")try{return t(s),e(s)}catch{}return s}return s=>{const o=EB(s,i);return o?`?${o}`:""}}const zs="__root__";function xg(e){if(e.statusCode=e.statusCode||e.code||307,!e._builtLocation&&!e.reloadDocument&&typeof e.href=="string")try{new URL(e.href),e.reloadDocument=!0}catch{}const t=new Headers(e.headers);e.href&&t.get("Location")===null&&t.set("Location",e.href);const n=new Response(null,{status:e.statusCode,headers:t});if(n.options=e,e.throw)throw n;return n}function Fs(e){return e instanceof Response&&!!e.options}const gm=e=>{if(!e.rendered)return e.rendered=!0,e.onReady?.()},_g=(e,t)=>!!(e.preload&&!e.router.state.matches.some(n=>n.id===t)),vu=(e,t,n=!0)=>{const i={...e.router.options.context??{}},s=n?t:t-1;for(let o=0;o<=s;o++){const l=e.matches[o];if(!l)continue;const c=e.router.getMatch(l.id);c&&Object.assign(i,c.__routeContext,c.__beforeLoadContext)}return i},Wk=(e,t,n)=>{const i=e.router.routesById[t.routeId??""]??e.router.routeTree;!i.options.notFoundComponent&&e.router.options?.defaultNotFoundComponent&&(i.options.notFoundComponent=e.router.options.defaultNotFoundComponent);const s=n==="BEFORE_LOAD"&&i.parentRoute;s||Mo(i.options.notFoundComponent);const o=e.matches.find(l=>l.routeId===i.id);Mo(o,"Could not find match for route: "+i.id),e.updateMatch(o.id,l=>({...l,status:"notFound",error:t,isFetching:!1})),s&&(t.routeId=i.parentRoute.id,Wk(e,t,n))},Ta=(e,t,n,i)=>{if(!(!Fs(n)&&!bs(n))){if(Fs(n)&&n.redirectHandled&&!n.options.reloadDocument)throw n;if(t){t._nonReactive.beforeLoadPromise?.resolve(),t._nonReactive.loaderPromise?.resolve(),t._nonReactive.beforeLoadPromise=void 0,t._nonReactive.loaderPromise=void 0;const s=Fs(n)?"redirected":"notFound";t._nonReactive.error=n,e.updateMatch(t.id,o=>({...o,status:s,context:vu(e,t.index),isFetching:!1,error:n})),bs(n)&&!n.routeId&&(n.routeId=t.routeId),t._nonReactive.loadPromise?.resolve()}throw Fs(n)?(e.rendered=!0,n.options._fromLocation=e.location,n.redirectHandled=!0,n=e.router.resolveRedirect(n),n):(Wk(e,n,i),n)}},Yk=(e,t)=>!!e.router.getMatch(t)._nonReactive.dehydrated,Gd=(e,t,n,i)=>{const{id:s,routeId:o}=e.matches[t],l=e.router.looseRoutesById[o];if(n instanceof Promise)throw n;n.routerCode=i,e.firstBadMatchIndex??=t,Ta(e,e.router.getMatch(s),n,i);try{l.options.onError?.(n)}catch(c){n=c,Ta(e,e.router.getMatch(s),n,i)}e.updateMatch(s,c=>(c._nonReactive.beforeLoadPromise?.resolve(),c._nonReactive.beforeLoadPromise=void 0,c._nonReactive.loadPromise?.resolve(),{...c,error:n,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}))},Zk=(e,t,n,i)=>{if(i._nonReactive.pendingTimeout!==void 0)return;const s=n.options.pendingMs??e.router.options.defaultPendingMs;if(!!(e.onReady&&!_g(e,t)&&(n.options.loader||n.options.beforeLoad||Jk(n))&&typeof s=="number"&&s!==1/0&&(n.options.pendingComponent??e.router.options?.defaultPendingComponent))){const l=setTimeout(()=>{gm(e)},s);i._nonReactive.pendingTimeout=l}},OB=(e,t,n)=>{const i=e.router.getMatch(t);if(!i._nonReactive.beforeLoadPromise&&!i._nonReactive.loaderPromise)return;Zk(e,t,n,i);const s=()=>{const o=e.router.getMatch(t);o.preload&&(o.status==="redirected"||o.status==="notFound")&&Ta(e,o,o.error)};return i._nonReactive.beforeLoadPromise?i._nonReactive.beforeLoadPromise.then(s):s()},PB=(e,t,n,i)=>{const s=e.router.getMatch(t),o=s._nonReactive.loadPromise;s._nonReactive.loadPromise=Cu(()=>{o?.resolve()});const{paramsError:l,searchError:c}=s;l&&Gd(e,n,l,"PARSE_PARAMS"),c&&Gd(e,n,c,"VALIDATE_SEARCH"),Zk(e,t,i,s);const d=new AbortController;let h=!1;const m=()=>{h||(h=!0,e.updateMatch(t,M=>({...M,isFetching:"beforeLoad",fetchCount:M.fetchCount+1,abortController:d})))},v=()=>{s._nonReactive.beforeLoadPromise?.resolve(),s._nonReactive.beforeLoadPromise=void 0,e.updateMatch(t,M=>({...M,isFetching:!1}))};if(!i.options.beforeLoad){af(()=>{m(),v()});return}s._nonReactive.beforeLoadPromise=Cu();const b={...vu(e,n,!1),...s.__routeContext},{search:_,params:C,cause:E}=s,T=_g(e,t),N={search:_,abortController:d,params:C,preload:T,context:b,location:e.location,navigate:M=>e.router.navigate({...M,_fromLocation:e.location}),buildLocation:e.router.buildLocation,cause:T?"preload":E,matches:e.matches,routeId:i.id,...e.router.options.additionalContext},k=M=>{if(M===void 0){af(()=>{m(),v()});return}(Fs(M)||bs(M))&&(m(),Gd(e,n,M,"BEFORE_LOAD")),af(()=>{m(),e.updateMatch(t,j=>({...j,__beforeLoadContext:M})),v()})};let O;try{if(O=i.options.beforeLoad(N),gu(O))return m(),O.catch(M=>{Gd(e,n,M,"BEFORE_LOAD")}).then(k)}catch(M){m(),Gd(e,n,M,"BEFORE_LOAD")}k(O)},MB=(e,t)=>{const{id:n,routeId:i}=e.matches[t],s=e.router.looseRoutesById[i],o=()=>c(),l=()=>PB(e,n,t,s),c=()=>{if(Yk(e,n))return;const d=OB(e,n,s);return gu(d)?d.then(l):l()};return o()},DB=(e,t,n)=>{const i=e.router.getMatch(t);if(!i||!n.options.head&&!n.options.scripts&&!n.options.headers)return;const s={ssr:e.router.options.ssr,matches:e.matches,match:i,params:i.params,loaderData:i.loaderData};return Promise.all([n.options.head?.(s),n.options.scripts?.(s),n.options.headers?.(s)]).then(([o,l,c])=>{const d=o?.meta,h=o?.links,m=o?.scripts,v=o?.styles;return{meta:d,links:h,headScripts:m,headers:c,scripts:l,styles:v}})},Xk=(e,t,n,i)=>{const s=e.matchPromises[n-1],{params:o,loaderDeps:l,abortController:c,cause:d}=e.router.getMatch(t),h=vu(e,n),m=_g(e,t);return{params:o,deps:l,preload:!!m,parentMatchPromise:s,abortController:c,context:h,location:e.location,navigate:v=>e.router.navigate({...v,_fromLocation:e.location}),cause:m?"preload":d,route:i,...e.router.options.additionalContext}},wA=async(e,t,n,i)=>{try{const s=e.router.getMatch(t);try{(!(Xz??e.router.isServer)||s.ssr===!0)&&Qk(i);const o=i.options.loader?.(Xk(e,t,n,i)),l=i.options.loader&&gu(o);if((l||i._lazyPromise||i._componentsPromise||i.options.head||i.options.scripts||i.options.headers||s._nonReactive.minPendingPromise)&&e.updateMatch(t,h=>({...h,isFetching:"loader"})),i.options.loader){const h=l?await o:o;Ta(e,e.router.getMatch(t),h),h!==void 0&&e.updateMatch(t,m=>({...m,loaderData:h}))}i._lazyPromise&&await i._lazyPromise;const d=s._nonReactive.minPendingPromise;d&&await d,i._componentsPromise&&await i._componentsPromise,e.updateMatch(t,h=>({...h,error:void 0,context:vu(e,n),status:"success",isFetching:!1,updatedAt:Date.now()}))}catch(o){let l=o;if(l?.name==="AbortError"){if(s.abortController.signal.aborted){s._nonReactive.loaderPromise?.resolve(),s._nonReactive.loaderPromise=void 0;return}e.updateMatch(t,d=>({...d,status:d.status==="pending"?"success":d.status,isFetching:!1,context:vu(e,n)}));return}const c=s._nonReactive.minPendingPromise;c&&await c,bs(o)&&await i.options.notFoundComponent?.preload?.(),Ta(e,e.router.getMatch(t),o);try{i.options.onError?.(o)}catch(d){l=d,Ta(e,e.router.getMatch(t),d)}e.updateMatch(t,d=>({...d,error:l,context:vu(e,n),status:"error",isFetching:!1}))}}catch(s){const o=e.router.getMatch(t);o&&(o._nonReactive.loaderPromise=void 0),Ta(e,o,s)}},LB=async(e,t)=>{async function n(m,v,b,_){const C=Date.now()-v.updatedAt,E=m?_.options.preloadStaleTime??e.router.options.defaultPreloadStaleTime??3e4:_.options.staleTime??e.router.options.defaultStaleTime??0,T=_.options.shouldReload,N=typeof T=="function"?T(Xk(e,i,t,_)):T,{status:k,invalid:O}=b;o=k==="success"&&(O||(N??C>E)),m&&_.options.preload===!1||(o&&!e.sync?(l=!0,(async()=>{try{await wA(e,i,t,_);const M=e.router.getMatch(i);M._nonReactive.loaderPromise?.resolve(),M._nonReactive.loadPromise?.resolve(),M._nonReactive.loaderPromise=void 0}catch(M){Fs(M)&&await e.router.navigate(M.options)}})()):(k!=="success"||o&&e.sync)&&await wA(e,i,t,_))}const{id:i,routeId:s}=e.matches[t];let o=!1,l=!1;const c=e.router.looseRoutesById[s];if(!Yk(e,i)){const m=e.router.getMatch(i),v=_g(e,i);if(m._nonReactive.loaderPromise){if(m.status==="success"&&!e.sync&&!m.preload)return m;await m._nonReactive.loaderPromise;const b=e.router.getMatch(i),_=b._nonReactive.error||b.error;_&&Ta(e,b,_),b.status==="pending"&&await n(v,m,b,c)}else{const b=v&&!e.router.state.matches.some(C=>C.id===i),_=e.router.getMatch(i);_._nonReactive.loaderPromise=Cu(),b!==_.preload&&e.updateMatch(i,C=>({...C,preload:b})),await n(v,m,_,c)}}const d=e.router.getMatch(i);l||(d._nonReactive.loaderPromise?.resolve(),d._nonReactive.loadPromise?.resolve()),clearTimeout(d._nonReactive.pendingTimeout),d._nonReactive.pendingTimeout=void 0,l||(d._nonReactive.loaderPromise=void 0),d._nonReactive.dehydrated=void 0;const h=l?d.isFetching:!1;return h!==d.isFetching||d.invalid!==!1?(e.updateMatch(i,m=>({...m,isFetching:h,invalid:!1})),e.router.getMatch(i)):d};async function SA(e){const t=Object.assign(e,{matchPromises:[]});t.router.state.matches.some(n=>n._forcePending)&&gm(t);try{for(let c=0;c<t.matches.length;c++){const d=MB(t,c);gu(d)&&await d}const n=t.firstBadMatchIndex??t.matches.length;for(let c=0;c<n;c++)t.matchPromises.push(LB(t,c));const s=(await Promise.allSettled(t.matchPromises)).filter(c=>c.status==="rejected").map(c=>c.reason);let o;for(const c of s){if(Fs(c))throw c;!o&&bs(c)&&(o=c)}for(const c of t.matches){const{id:d,routeId:h}=c,m=t.router.looseRoutesById[h];try{const v=DB(t,d,m);if(v){const b=await v;t.updateMatch(d,_=>({..._,...b}))}}catch(v){console.error(`Error executing head for route ${h}:`,v)}}if(o)throw o;const l=gm(t);gu(l)&&await l}catch(n){if(bs(n)&&!t.preload){const i=gm(t);throw gu(i)&&await i,n}if(Fs(n))throw n}return t.matches}async function Qk(e){if(!e._lazyLoaded&&e._lazyPromise===void 0&&(e.lazyFn?e._lazyPromise=e.lazyFn().then(t=>{const{id:n,...i}=t.options;Object.assign(e.options,i),e._lazyLoaded=!0,e._lazyPromise=void 0}):e._lazyLoaded=!0),!e._componentsLoaded&&e._componentsPromise===void 0){const t=()=>{const n=[];for(const i of eN){const s=e.options[i]?.preload;s&&n.push(s())}if(n.length)return Promise.all(n).then(()=>{e._componentsLoaded=!0,e._componentsPromise=void 0});e._componentsLoaded=!0,e._componentsPromise=void 0};e._componentsPromise=e._lazyPromise?e._lazyPromise.then(t):t()}return e._componentsPromise}function Jk(e){for(const t of eN)if(e.options[t]?.preload)return!0;return!1}const eN=["component","errorComponent","pendingComponent","notFoundComponent"];function jB(e){return{input:({url:t})=>{for(const n of e)t=yx(n,t);return t},output:({url:t})=>{for(let n=e.length-1;n>=0;n--)t=tN(e[n],t);return t}}}function IB(e){const t=qk(e.basepath),n=`/${t}`,i=`${n}/`,s=e.caseSensitive?n:n.toLowerCase(),o=e.caseSensitive?i:i.toLowerCase();return{input:({url:l})=>{const c=e.caseSensitive?l.pathname:l.pathname.toLowerCase();return c===s?l.pathname="/":c.startsWith(o)&&(l.pathname=l.pathname.slice(n.length)),l},output:({url:l})=>(l.pathname=mm(["/",t,l.pathname]),l)}}function yx(e,t){const n=e?.input?.({url:t});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return t}function tN(e,t){const n=e?.output?.({url:t});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return t}function Fl(e){const t=e.resolvedLocation,n=e.location,i=t?.pathname!==n.pathname,s=t?.href!==n.href,o=t?.hash!==n.hash;return{fromLocation:t,toLocation:n,pathChanged:i,hrefChanged:s,hashChanged:o}}function zB(e){const t=e.filter(n=>n.status!=="redirected");return t.length===e.length?e:t}class BB{constructor(t){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=n=>n(),this.update=n=>{n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const i=this.options,s=this.basepath??i?.basepath??"/",o=this.basepath===void 0,l=i?.rewrite;if(this.options={...i,...n},this.isServer=this.options.isServer??typeof document>"u",this.protocolAllowlist=new Set(this.options.protocolAllowlist),this.options.pathParamsAllowedCharacters&&(this.pathParamsDecoder=gB(this.options.pathParamsAllowedCharacters)),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.history=Yz()),this.origin=this.options.origin,this.origin||(window?.origin&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree){this.routeTree=this.options.routeTree;let b;this.resolvePathCache=Dm(1e3),b=this.buildRouteTree(),this.setRoutes(b)}!this.__store&&this.latestLocation&&(this.__store=new Kz(FB(this.latestLocation)),SB(this));let c=!1;const d=this.options.basepath??"/",h=this.options.rewrite;if(o||s!==d||l!==h){this.basepath=d;const b=[],_=qk(d);_&&_!=="/"&&b.push(IB({basepath:d})),h&&b.push(h),this.rewrite=b.length===0?void 0:b.length===1?b[0]:jB(b),this.history&&this.updateLatestLocation(),c=!0}c&&this.__store&&this.__store.setState(b=>({...b,location:this.latestLocation})),typeof window<"u"&&"CSS"in window&&typeof window.CSS?.supports=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const n=uB(this.routeTree,this.options.caseSensitive,(i,s)=>{i.init({originalIndex:s})});return this.options.routeMasks&&rB(this.options.routeMasks,n.processedTree),n},this.subscribe=(n,i)=>{const s={eventType:n,fn:i};return this.subscribers.add(s),()=>{this.subscribers.delete(s)}},this.emit=n=>{this.subscribers.forEach(i=>{i.eventType===n.type&&i.fn(n)})},this.parseLocation=(n,i)=>{const s=({pathname:d,search:h,hash:m,href:v,state:b})=>{if(!this.rewrite&&!/[ \x00-\x1f\x7f\u0080-\uffff]/.test(d)){const k=this.options.parseSearch(h),O=this.options.stringifySearch(k);return{href:d+O+m,publicHref:v,pathname:$d(d).path,external:!1,searchStr:O,search:ms(i?.search,k),hash:$d(m.slice(1)).path,state:ms(i?.state,b)}}const _=new URL(v,this.origin),C=yx(this.rewrite,_),E=this.options.parseSearch(C.search),T=this.options.stringifySearch(E);return C.search=T,{href:C.href.replace(C.origin,""),publicHref:v,pathname:$d(C.pathname).path,external:!!this.rewrite&&C.origin!==this.origin,searchStr:T,search:ms(i?.search,E),hash:$d(C.hash.slice(1)).path,state:ms(i?.state,b)}},o=s(n),{__tempLocation:l,__tempKey:c}=o.state;if(l&&(!c||c===this.tempLocationKey)){const d=s(l);return d.state.key=o.state.key,d.state.__TSR_key=o.state.__TSR_key,delete d.state.__tempLocation,{...d,maskedLocation:o}}return o},this.resolvePathWithBase=(n,i)=>mB({base:n,to:X0(i),trailingSlash:this.options.trailingSlash,cache:this.resolvePathCache}),this.matchRoutes=(n,i,s)=>typeof n=="string"?this.matchRoutesInternal({pathname:n,search:i},s):this.matchRoutesInternal(n,i),this.getMatchedRoutes=n=>VB({pathname:n,routesById:this.routesById,processedTree:this.processedTree}),this.cancelMatch=n=>{const i=this.getMatch(n);i&&(i.abortController.abort(),clearTimeout(i._nonReactive.pendingTimeout),i._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{const n=this.state.matches.filter(o=>o.status==="pending"),i=this.state.matches.filter(o=>o.isFetching==="loader");new Set([...this.state.pendingMatches??[],...n,...i]).forEach(o=>{this.cancelMatch(o.id)})},this.buildLocation=n=>{const i=(o={})=>{const l=o._fromLocation||this.pendingBuiltLocation||this.latestLocation,c=this.matchRoutesLightweight(l);o.from;const d=o.unsafeRelative==="path"?l.pathname:o.from??c.fullPath,h=this.resolvePathWithBase(d,"."),m=c.search,v={...c.params},b=o.to?this.resolvePathWithBase(h,`${o.to}`):this.resolvePathWithBase(h,"."),_=o.params===!1||o.params===null?{}:(o.params??!0)===!0?v:Object.assign(v,Aa(o.params,v)),C=this.getMatchedRoutes(b);let E=C.matchedRoutes;if((!C.foundRoute||C.foundRoute.path!=="/"&&C.routeParams["**"])&&this.options.notFoundRoute&&(E=[...E,this.options.notFoundRoute]),Object.keys(_).length>0)for(const q of E){const W=q.options.params?.stringify??q.options.stringifyParams;if(W)try{Object.assign(_,W(_))}catch{}}const N=n.leaveParams?b:$d(xA({path:b,params:_,decoder:this.pathParamsDecoder,server:this.isServer}).interpolatedPath).path;let k=m;if(n._includeValidateSearch&&this.options.search?.strict){const q={};E.forEach(W=>{if(W.options.validateSearch)try{Object.assign(q,vm(W.options.validateSearch,{...q,...k}))}catch{}}),k=q}k=$B({search:k,dest:o,destRoutes:E,_includeValidateSearch:n._includeValidateSearch}),k=ms(m,k);const O=this.options.stringifySearch(k),M=o.hash===!0?l.hash:o.hash?Aa(o.hash,l.hash):void 0,j=M?`#${M}`:"";let V=o.state===!0?l.state:o.state?Aa(o.state,l.state):{};V=ms(l.state,V);const z=`${N}${O}${j}`;let I,$,Y=!1;if(this.rewrite){const q=new URL(z,this.origin),W=tN(this.rewrite,q);I=q.href.replace(q.origin,""),W.origin!==this.origin?($=W.href,Y=!0):$=W.pathname+W.search+W.hash}else I=nB(z),$=I;return{publicHref:$,href:I,pathname:N,search:k,searchStr:O,state:V,hash:M??"",external:Y,unmaskOnReload:o.unmaskOnReload}},s=(o={},l)=>{const c=i(o);let d=l?i(l):void 0;if(!d){const h={};if(this.options.routeMasks){const m=oB(c.pathname,this.processedTree);if(m){Object.assign(h,m.rawParams);const{from:v,params:b,..._}=m.route,C=b===!1||b===null?{}:(b??!0)===!0?h:Object.assign(h,Aa(b,h));l={from:n.from,..._,params:C},d=i(l)}}}return d&&(c.maskedLocation=d),c};return n.mask?s(n,{from:n.from,...n.mask}):s(n)},this.commitLocation=async({viewTransition:n,ignoreBlocker:i,...s})=>{const o=()=>{const d=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];d.forEach(m=>{s.state[m]=this.latestLocation.state[m]});const h=Ul(s.state,this.latestLocation.state);return d.forEach(m=>{delete s.state[m]}),h},l=Na(this.latestLocation.href)===Na(s.href),c=this.commitLocationPromise;if(this.commitLocationPromise=Cu(()=>{c?.resolve()}),l&&o())this.load();else{let{maskedLocation:d,hashScrollIntoView:h,...m}=s;d&&(m={...d,state:{...d.state,__tempKey:void 0,__tempLocation:{...m,search:m.searchStr,state:{...m.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(m.unmaskOnReload??this.options.unmaskOnReload??!1)&&(m.state.__tempKey=this.tempLocationKey)),m.state.__hashScrollIntoViewOptions=h??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[s.replace?"replace":"push"](m.publicHref,m.state,{ignoreBlocker:i})}return this.resetNextScroll=s.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:i,hashScrollIntoView:s,viewTransition:o,ignoreBlocker:l,href:c,...d}={})=>{if(c){const v=this.history.location.state.__TSR_index,b=Om(c,{__TSR_index:n?v:v+1}),_=new URL(b.pathname,this.origin),C=yx(this.rewrite,_);d.to=C.pathname,d.search=this.options.parseSearch(b.search),d.hash=b.hash.slice(1)}const h=this.buildLocation({...d,_includeValidateSearch:!0});this.pendingBuiltLocation=h;const m=this.commitLocation({...h,viewTransition:o,replace:n,resetScroll:i,hashScrollIntoView:s,ignoreBlocker:l});return Promise.resolve().then(()=>{this.pendingBuiltLocation===h&&(this.pendingBuiltLocation=void 0)}),m},this.navigate=async({to:n,reloadDocument:i,href:s,publicHref:o,...l})=>{let c=!1;if(s)try{new URL(`${s}`),c=!0}catch{}if(c&&!i&&(i=!0),i){if(n!==void 0||!s){const h=this.buildLocation({to:n,...l});s=s??h.publicHref,o=o??h.publicHref}const d=!c&&o?o:s;if(Mm(d,this.protocolAllowlist))return Promise.resolve();if(!l.ignoreBlocker){const m=this.history.getBlockers?.()??[];for(const v of m)if(v?.blockerFn&&await v.blockerFn({currentLocation:this.latestLocation,nextLocation:this.latestLocation,action:"PUSH"}))return Promise.resolve()}return l.replace?window.location.replace(d):window.location.href=d,Promise.resolve()}return this.buildAndCommitLocation({...l,href:s,to:n,_isNavigate:!0})},this.beforeLoad=()=>{this.cancelMatches(),this.updateLatestLocation();const n=this.matchRoutes(this.latestLocation);this.__store.setState(i=>({...i,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:n,cachedMatches:i.cachedMatches.filter(s=>!n.some(o=>o.id===s.id))}))},this.load=async n=>{let i,s,o;for(o=new Promise(c=>{this.startTransition(async()=>{try{this.beforeLoad();const d=this.latestLocation,h=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...Fl({resolvedLocation:h,location:d})}),this.emit({type:"onBeforeLoad",...Fl({resolvedLocation:h,location:d})}),await SA({router:this,sync:n?.sync,matches:this.state.pendingMatches,location:d,updateMatch:this.updateMatch,onReady:async()=>{this.startTransition(()=>{this.startViewTransition(async()=>{let m=[],v=[],b=[];af(()=>{this.__store.setState(_=>{const C=_.matches,E=_.pendingMatches||_.matches;return m=C.filter(T=>!E.some(N=>N.id===T.id)),v=E.filter(T=>!C.some(N=>N.id===T.id)),b=E.filter(T=>C.some(N=>N.id===T.id)),{..._,isLoading:!1,loadedAt:Date.now(),matches:E,pendingMatches:void 0,cachedMatches:[..._.cachedMatches,...m.filter(T=>T.status!=="error"&&T.status!=="notFound"&&T.status!=="redirected")]}}),this.clearExpiredCache()}),[[m,"onLeave"],[v,"onEnter"],[b,"onStay"]].forEach(([_,C])=>{_.forEach(E=>{this.looseRoutesById[E.routeId].options[C]?.(E)})})})})}})}catch(d){Fs(d)?(i=d,this.navigate({...i.options,replace:!0,ignoreBlocker:!0})):bs(d)&&(s=d),this.__store.setState(h=>({...h,statusCode:i?i.status:s?404:h.matches.some(m=>m.status==="error")?500:200,redirect:i}))}this.latestLoadPromise===o&&(this.commitLocationPromise?.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),c()})}),this.latestLoadPromise=o,await o;this.latestLoadPromise&&o!==this.latestLoadPromise;)await this.latestLoadPromise;let l;this.hasNotFoundMatch()?l=404:this.__store.state.matches.some(c=>c.status==="error")&&(l=500),l!==void 0&&this.__store.setState(c=>({...c,statusCode:l}))},this.startViewTransition=n=>{const i=this.shouldViewTransition??this.options.defaultViewTransition;if(this.shouldViewTransition=void 0,i&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let s;if(typeof i=="object"&&this.isViewTransitionTypesSupported){const o=this.latestLocation,l=this.state.resolvedLocation,c=typeof i.types=="function"?i.types(Fl({resolvedLocation:l,location:o})):i.types;if(c===!1){n();return}s={update:n,types:c}}else s=n;document.startViewTransition(s)}else n()},this.updateMatch=(n,i)=>{this.startTransition(()=>{const s=this.state.pendingMatches?.some(o=>o.id===n)?"pendingMatches":this.state.matches.some(o=>o.id===n)?"matches":this.state.cachedMatches.some(o=>o.id===n)?"cachedMatches":"";s&&(s==="cachedMatches"?this.__store.setState(o=>({...o,cachedMatches:zB(o.cachedMatches.map(l=>l.id===n?i(l):l))})):this.__store.setState(o=>({...o,[s]:o[s]?.map(l=>l.id===n?i(l):l)})))})},this.getMatch=n=>{const i=s=>s.id===n;return this.state.cachedMatches.find(i)??this.state.pendingMatches?.find(i)??this.state.matches.find(i)},this.invalidate=n=>{const i=s=>n?.filter?.(s)??!0?{...s,invalid:!0,...n?.forcePending||s.status==="error"||s.status==="notFound"?{status:"pending",error:void 0}:void 0}:s;return this.__store.setState(s=>({...s,matches:s.matches.map(i),cachedMatches:s.cachedMatches.map(i),pendingMatches:s.pendingMatches?.map(i)})),this.shouldViewTransition=!1,this.load({sync:n?.sync})},this.getParsedLocationHref=n=>n.publicHref||"/",this.resolveRedirect=n=>{const i=n.headers.get("Location");if(!n.options.href||n.options._builtLocation){const s=n.options._builtLocation??this.buildLocation(n.options),o=this.getParsedLocationHref(s);n.options.href=o,n.headers.set("Location",o)}else if(i)try{const s=new URL(i);if(this.origin&&s.origin===this.origin){const o=s.pathname+s.search+s.hash;n.options.href=o,n.headers.set("Location",o)}}catch{}if(n.options.href&&!n.options._builtLocation&&Mm(n.options.href,this.protocolAllowlist))throw new Error(`Redirect blocked: unsafe protocol in href "${n.options.href}". Allowed protocols: ${Array.from(this.protocolAllowlist).join(", ")}.`);return n.headers.get("Location")||n.headers.set("Location",n.options.href),n},this.clearCache=n=>{const i=n?.filter;i!==void 0?this.__store.setState(s=>({...s,cachedMatches:s.cachedMatches.filter(o=>!i(o))})):this.__store.setState(s=>({...s,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=i=>{const s=this.looseRoutesById[i.routeId];if(!s.options.loader)return!0;const o=(i.preload?s.options.preloadGcTime??this.options.defaultPreloadGcTime:s.options.gcTime??this.options.defaultGcTime)??300*1e3;return i.status==="error"?!0:Date.now()-i.updatedAt>=o};this.clearCache({filter:n})},this.loadRouteChunk=Qk,this.preloadRoute=async n=>{const i=n._builtLocation??this.buildLocation(n);let s=this.matchRoutes(i,{throwOnError:!0,preload:!0,dest:n});const o=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(c=>c.id)),l=new Set([...o,...this.state.cachedMatches.map(c=>c.id)]);af(()=>{s.forEach(c=>{l.has(c.id)||this.__store.setState(d=>({...d,cachedMatches:[...d.cachedMatches,c]}))})});try{return s=await SA({router:this,matches:s,location:i,preload:!0,updateMatch:(c,d)=>{o.has(c)?s=s.map(h=>h.id===c?d(h):h):this.updateMatch(c,d)}}),s}catch(c){if(Fs(c))return c.options.reloadDocument?void 0:await this.preloadRoute({...c.options,_fromLocation:i});bs(c)||console.error(c);return}},this.matchRoute=(n,i)=>{const s={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},o=this.buildLocation(s);if(i?.pending&&this.state.status!=="pending")return!1;const c=(i?.pending===void 0?!this.state.isLoading:i.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,d=aB(o.pathname,i?.caseSensitive??!1,i?.fuzzy??!1,c.pathname,this.processedTree);return!d||n.params&&!Ul(d.rawParams,n.params,{partial:!0})?!1:i?.includeSearch??!0?Ul(c.search,o.search,{partial:!0})?d.rawParams:!1:d.rawParams},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...t,caseSensitive:t.caseSensitive??!1,notFoundMode:t.notFoundMode??"fuzzy",stringifySearch:t.stringifySearch??RB,parseSearch:t.parseSearch??TB,protocolAllowlist:t.protocolAllowlist??tB}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}setRoutes({routesById:t,routesByPath:n,processedTree:i}){this.routesById=t,this.routesByPath=n,this.processedTree=i;const s=this.options.notFoundRoute;s&&(s.init({originalIndex:99999999999}),this.routesById[s.id]=s)}get looseRoutesById(){return this.routesById}getParentContext(t){return t?.id?t.context??this.options.context??void 0:this.options.context??void 0}matchRoutesInternal(t,n){const i=this.getMatchedRoutes(t.pathname),{foundRoute:s,routeParams:o,parsedParams:l}=i;let{matchedRoutes:c}=i,d=!1;(s?s.path!=="/"&&o["**"]:Na(t.pathname))&&(this.options.notFoundRoute?c=[...c,this.options.notFoundRoute]:d=!0);const h=d?GB(this.options.notFoundMode,c):void 0,m=new Array(c.length),v=new Map(this.state.matches.map(b=>[b.routeId,b]));for(let b=0;b<c.length;b++){const _=c[b],C=m[b-1];let E,T,N;{const ie=C?.search??t.search,ye=C?._strictSearch??void 0;try{const G=vm(_.options.validateSearch,{...ie})??void 0;E={...ie,...G},T={...ye,...G},N=void 0}catch(G){let X=G;if(G instanceof Im||(X=new Im(G.message,{cause:G})),n?.throwOnError)throw X;E=ie,T={},N=X}}const k=_.options.loaderDeps?.({search:E})??"",O=k?JSON.stringify(k):"",{interpolatedPath:M,usedParams:j}=xA({path:_.fullPath,params:o,decoder:this.pathParamsDecoder,server:this.isServer}),V=_.id+M+O,z=this.getMatch(V),I=v.get(_.id),$=z?._strictParams??j;let Y;if(!z)try{CA(_,j,l,$)}catch(ie){if(bs(ie)||Fs(ie)?Y=ie:Y=new UB(ie.message,{cause:ie}),n?.throwOnError)throw Y}Object.assign(o,$);const q=I?"stay":"enter";let W;if(z)W={...z,cause:q,params:I?.params??o,_strictParams:$,search:ms(I?I.search:z.search,E),_strictSearch:T};else{const ie=_.options.loader||_.options.beforeLoad||_.lazyFn||Jk(_)?"pending":"success";W={id:V,ssr:_.options.ssr,index:b,routeId:_.id,params:I?.params??o,_strictParams:$,pathname:M,updatedAt:Date.now(),search:I?ms(I.search,E):E,_strictSearch:T,searchError:void 0,status:ie,isFetching:!1,error:void 0,paramsError:Y,__routeContext:void 0,_nonReactive:{loadPromise:Cu()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:q,loaderDeps:I?ms(I.loaderDeps,k):k,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:_.options.staticData||{},fullPath:_.fullPath}}n?.preload||(W.globalNotFound=h===_.id),W.searchError=N;const Z=this.getParentContext(C);W.context={...Z,...W.__routeContext,...W.__beforeLoadContext},m[b]=W}for(let b=0;b<m.length;b++){const _=m[b],C=this.looseRoutesById[_.routeId],E=this.getMatch(_.id),T=v.get(_.routeId);if(_.params=T?ms(T.params,o):o,!E){const N=m[b-1],k=this.getParentContext(N);if(C.options.context){const O={deps:_.loaderDeps,params:_.params,context:k??{},location:t,navigate:M=>this.navigate({...M,_fromLocation:t}),buildLocation:this.buildLocation,cause:_.cause,abortController:_.abortController,preload:!!_.preload,matches:m,routeId:C.id};_.__routeContext=C.options.context(O)??void 0}_.context={...k,..._.__routeContext,..._.__beforeLoadContext}}}return m}matchRoutesLightweight(t){const{matchedRoutes:n,routeParams:i,parsedParams:s}=this.getMatchedRoutes(t.pathname),o=_f(n),l={...t.search};for(const m of n)try{Object.assign(l,vm(m.options.validateSearch,l))}catch{}const c=_f(this.state.matches),d=c&&c.routeId===o.id&&t.pathname===this.state.location.pathname;let h;if(d)h=c.params;else{const m={...i};for(const v of n)try{CA(v,i,s??{},m)}catch{}h=m}return{matchedRoutes:n,fullPath:o.fullPath,search:l,params:h}}}class Im extends Error{}class UB extends Error{}function FB(e){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:e,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function vm(e,t){if(e==null)return{};if("~standard"in e){const n=e["~standard"].validate(t);if(n instanceof Promise)throw new Im("Async validation not supported");if(n.issues)throw new Im(JSON.stringify(n.issues,void 0,2),{cause:n});return n.value}return"parse"in e?e.parse(t):typeof e=="function"?e(t):{}}function VB({pathname:e,routesById:t,processedTree:n}){const i={},s=Na(e);let o,l;const c=lB(s,n,!0);return c&&(o=c.route,Object.assign(i,c.rawParams),l=Object.assign({},c.parsedParams)),{matchedRoutes:c?.branch||[t[zs]],routeParams:i,foundRoute:o,parsedParams:l}}function $B({search:e,dest:t,destRoutes:n,_includeValidateSearch:i}){return HB(n)(e,t,i??!1)}function HB(e){const t={dest:null,_includeValidateSearch:!1,middlewares:[]};for(const s of e){if("search"in s.options)s.options.search?.middlewares&&t.middlewares.push(...s.options.search.middlewares);else if(s.options.preSearchFilters||s.options.postSearchFilters){const o=({search:l,next:c})=>{let d=l;"preSearchFilters"in s.options&&s.options.preSearchFilters&&(d=s.options.preSearchFilters.reduce((m,v)=>v(m),l));const h=c(d);return"postSearchFilters"in s.options&&s.options.postSearchFilters?s.options.postSearchFilters.reduce((m,v)=>v(m),h):h};t.middlewares.push(o)}if(s.options.validateSearch){const o=({search:l,next:c})=>{const d=c(l);if(!t._includeValidateSearch)return d;try{return{...d,...vm(s.options.validateSearch,d)??void 0}}catch{return d}};t.middlewares.push(o)}}const n=({search:s})=>{const o=t.dest;return o.search?o.search===!0?s:Aa(o.search,s):{}};t.middlewares.push(n);const i=(s,o,l)=>{if(s>=l.length)return o;const c=l[s];return c({search:o,next:h=>i(s+1,h,l)})};return function(o,l,c){return t.dest=l,t._includeValidateSearch=c,i(0,o,t.middlewares)}}function GB(e,t){if(e!=="root")for(let n=t.length-1;n>=0;n--){const i=t[n];if(i.children)return i.id}return zs}function CA(e,t,n,i){const s=e.options.params?.parse??e.options.parseParams;if(s)if(e.options.skipRouteOnParseError)for(const o in t)o in n&&(i[o]=n[o]);else{const o=s(i);Object.assign(i,o)}}const KB="Error preloading route! ";class nN{constructor(t){if(this.init=n=>{this.originalIndex=n.originalIndex;const i=this.options,s=!i?.path&&!i?.id;this.parentRoute=this.options.getParentRoute?.(),s?this._path=zs:this.parentRoute||Mo(!1);let o=s?zs:i?.path;o&&o!=="/"&&(o=Kk(o));const l=i?.id||o;let c=s?zs:mm([this.parentRoute.id===zs?"":this.parentRoute.id,l]);o===zs&&(o="/"),c!==zs&&(c=mm(["/",c]));const d=c===zs?"/":mm([this.parentRoute.fullPath,o]);this._path=o,this._id=c,this._fullPath=d,this._to=Na(d)},this.addChildren=n=>this._addFileChildren(n),this._addFileChildren=n=>(Array.isArray(n)&&(this.children=n),typeof n=="object"&&n!==null&&(this.children=Object.values(n)),this),this._addFileTypes=()=>this,this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.redirect=n=>xg({from:this.fullPath,...n}),this.options=t||{},this.isRoot=!t?.getParentRoute,t?.id&&t?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class qB extends nN{constructor(t){super(t)}}const Fp=typeof window<"u"?x.useLayoutEffect:x.useEffect;function lb(e){const t=x.useRef({value:e,prev:null}),n=t.current.value;return e!==n&&(t.current={value:e,prev:n}),t.current.prev}function WB(e,t,n={},i={}){x.useEffect(()=>{if(!e.current||i.disabled||typeof IntersectionObserver!="function")return;const s=new IntersectionObserver(([o])=>{t(o)},n);return s.observe(e.current),()=>{s.disconnect()}},[t,n,i.disabled,e])}function YB(e){const t=x.useRef(null);return x.useImperativeHandle(e,()=>t.current,[]),t}function Q0(e){const t=e.errorComponent??J0;return y.jsx(ZB,{getResetKey:e.getResetKey,onCatch:e.onCatch,children:({error:n,reset:i})=>n?x.createElement(t,{error:n,reset:i}):e.children})}class ZB extends x.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(t){return{resetKey:t.getResetKey()}}static getDerivedStateFromError(t){return{error:t}}reset(){this.setState({error:null})}componentDidUpdate(t,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(t,n){this.props.onCatch&&this.props.onCatch(t,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function J0({error:e}){const[t,n]=x.useState(!1);return y.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[y.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),y.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(i=>!i),children:t?"Hide Error":"Show Error"})]}),y.jsx("div",{style:{height:".25rem"}}),t?y.jsx("div",{children:y.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:e.message?y.jsx("code",{children:e.message}):null})}):null]})}function XB({children:e,fallback:t=null}){return iN()?y.jsx(Pt.Fragment,{children:e}):y.jsx(Pt.Fragment,{children:t})}function iN(){return Pt.useSyncExternalStore(QB,()=>!0,()=>!1)}function QB(){return()=>{}}var cb={exports:{}},ub={},db={exports:{}},fb={};var EA;function JB(){if(EA)return fb;EA=1;var e=qf();function t(v,b){return v===b&&(v!==0||1/v===1/b)||v!==v&&b!==b}var n=typeof Object.is=="function"?Object.is:t,i=e.useState,s=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function c(v,b){var _=b(),C=i({inst:{value:_,getSnapshot:b}}),E=C[0].inst,T=C[1];return o(function(){E.value=_,E.getSnapshot=b,d(E)&&T({inst:E})},[v,_,b]),s(function(){return d(E)&&T({inst:E}),v(function(){d(E)&&T({inst:E})})},[v]),l(_),_}function d(v){var b=v.getSnapshot;v=v.value;try{var _=b();return!n(v,_)}catch{return!0}}function h(v,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return fb.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,fb}var AA;function sN(){return AA||(AA=1,db.exports=JB()),db.exports}var TA;function e3(){if(TA)return ub;TA=1;var e=qf(),t=sN();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var i=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,o=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return ub.useSyncExternalStoreWithSelector=function(h,m,v,b,_){var C=o(null);if(C.current===null){var E={hasValue:!1,value:null};C.current=E}else E=C.current;C=c(function(){function N(V){if(!k){if(k=!0,O=V,V=b(V),_!==void 0&&E.hasValue){var z=E.value;if(_(z,V))return M=z}return M=V}if(z=M,i(O,V))return z;var I=b(V);return _!==void 0&&_(z,I)?(O=V,z):(O=V,M=I)}var k=!1,O,M,j=v===void 0?null:v;return[function(){return N(m())},j===null?void 0:function(){return N(j())}]},[m,v,b,_]);var T=s(h,C[0],C[1]);return l(function(){E.hasValue=!0,E.value=T},[T]),d(T),T},ub}var RA;function t3(){return RA||(RA=1,cb.exports=e3()),cb.exports}var n3=t3();function i3(e,t){return e===t}function s3(e,t,n=i3){const i=x.useCallback(l=>{if(!e)return()=>{};const{unsubscribe:c}=e.subscribe(l);return c},[e]),s=x.useCallback(()=>e?.get(),[e]);return n3.useSyncExternalStoreWithSelector(i,s,s,t,n)}const hb=x.createContext(null);function rN(){return typeof document>"u"?hb:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=hb,hb)}function Ss(e){const t=x.useContext(rN());return e?.warn,t}function xs(e){const t=Ss({warn:e?.router===void 0}),n=e?.router||t,i=x.useRef(void 0);return s3(n.__store,s=>{if(e?.select){if(e.structuralSharing??n.options.defaultStructuralSharing){const o=ms(i.current,e.select(s));return i.current=o,o}return e.select(s)}return s})}const wg=x.createContext(void 0),r3=x.createContext(void 0);function gr(e){const t=x.useContext(e.from?r3:wg);return xs({select:i=>{const s=i.matches.find(o=>e.from?e.from===o.routeId:o.id===t);if(Mo(!((e.shouldThrow??!0)&&!s),`Could not find ${e.from?`an active match from "${e.from}"`:"a nearest match!"}`),s!==void 0)return e.select?e.select(s):s},structuralSharing:e.structuralSharing})}function e_(e){return gr({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.loaderData):t.loaderData})}function t_(e){const{select:t,...n}=e;return gr({...n,select:i=>t?t(i.loaderDeps):i.loaderDeps})}function n_(e){return gr({from:e.from,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,strict:e.strict,select:t=>{const n=e.strict===!1?t.params:t._strictParams;return e.select?e.select(n):n}})}function i_(e){return gr({from:e.from,strict:e.strict,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.search):t.search})}function Ei(e){const t=Ss();return x.useCallback(n=>t.navigate({...n,from:n.from??e?.from}),[e?.from,t])}var Ji=zk();const o3=G0(Ji);function a3(e,t){const n=Ss(),i=YB(t),{activeProps:s,inactiveProps:o,activeOptions:l,to:c,preload:d,preloadDelay:h,hashScrollIntoView:m,replace:v,startTransition:b,resetScroll:_,viewTransition:C,children:E,target:T,disabled:N,style:k,className:O,onClick:M,onFocus:j,onMouseEnter:V,onMouseLeave:z,onTouchStart:I,ignoreBlocker:$,params:Y,search:q,hash:W,state:Z,mask:ie,reloadDocument:ye,unsafeRelative:G,from:X,_fromLocation:ne,...de}=e,ae=iN(),K=xs({select:bt=>{const Tt=bt.matches[bt.matches.length-1];return{search:Tt?.search,hash:bt.location.hash,path:Tt?.pathname}},structuralSharing:!0}),oe=e.from,be=x.useMemo(()=>({...e,from:oe}),[n,K,oe,e._fromLocation,e.hash,e.to,e.search,e.params,e.state,e.mask,e.unsafeRelative]),xe=x.useMemo(()=>n.buildLocation({...be}),[n,be]),Re=xe.maskedLocation?xe.maskedLocation.publicHref:xe.publicHref,we=xe.maskedLocation?xe.maskedLocation.external:xe.external,Se=x.useMemo(()=>h3(Re,we,n.history,N),[N,we,Re,n.history]),je=x.useMemo(()=>{if(Se?.external)return Mm(Se.href,n.protocolAllowlist)?void 0:Se.href;if(!p3(c)&&!(typeof c!="string"||c.indexOf(":")===-1))try{return new URL(c),Mm(c,n.protocolAllowlist)?void 0:c}catch{}},[c,Se,n.protocolAllowlist]),De=xs({select:bt=>{if(je)return!1;if(l?.exact){if(!pB(bt.location.pathname,xe.pathname,n.basepath))return!1}else{const Tt=Lm(bt.location.pathname,n.basepath),Bt=Lm(xe.pathname,n.basepath);if(!(Tt.startsWith(Bt)&&(Tt.length===Bt.length||Tt[Bt.length]==="/")))return!1}return(l?.includeSearch??!0)&&!Ul(bt.location.search,xe.search,{partial:!l?.exact,ignoreUndefined:!l?.explicitUndefined})?!1:l?.includeHash?ae&&bt.location.hash===xe.hash:!0}}),Le=De?Aa(s,{})??l3:pb,Ze=De?pb:Aa(o,{})??pb,Xe=[O,Le.className,Ze.className].filter(Boolean).join(" "),Ct=(k||Le.style||Ze.style)&&{...k,...Le.style,...Ze.style},[yt,zt]=x.useState(!1),dn=x.useRef(!1),fn=e.reloadDocument||je?!1:d??n.options.defaultPreload,In=h??n.options.defaultPreloadDelay??0,_n=x.useCallback(()=>{n.preloadRoute({...be,_builtLocation:xe}).catch(bt=>{console.warn(bt),console.warn(KB)})},[n,be,xe]),wn=x.useCallback(bt=>{bt?.isIntersecting&&_n()},[_n]);WB(i,wn,f3,{disabled:!!N||fn!=="viewport"}),x.useEffect(()=>{dn.current||!N&&fn==="render"&&(_n(),dn.current=!0)},[N,_n,fn]);const Kn=bt=>{const Tt=bt.currentTarget.getAttribute("target"),Bt=T!==void 0?T:Tt;if(!N&&!m3(bt)&&!bt.defaultPrevented&&(!Bt||Bt==="_self")&&bt.button===0){bt.preventDefault(),Ji.flushSync(()=>{zt(!0)});const Ri=n.subscribe("onResolved",()=>{Ri(),zt(!1)});n.navigate({...be,replace:v,resetScroll:_,hashScrollIntoView:m,startTransition:b,viewTransition:C,ignoreBlocker:$})}};if(je)return{...de,ref:i,href:je,...E&&{children:E},...T&&{target:T},...N&&{disabled:N},...k&&{style:k},...O&&{className:O},...M&&{onClick:M},...j&&{onFocus:j},...V&&{onMouseEnter:V},...z&&{onMouseLeave:z},...I&&{onTouchStart:I}};const Ti=bt=>{N||fn&&_n()},Es=Ti,sn=bt=>{if(!(N||!fn))if(!In)_n();else{const Tt=bt.target;if(Kd.has(Tt))return;const Bt=setTimeout(()=>{Kd.delete(Tt),_n()},In);Kd.set(Tt,Bt)}},Sr=bt=>{if(N||!fn||!In)return;const Tt=bt.target,Bt=Kd.get(Tt);Bt&&(clearTimeout(Bt),Kd.delete(Tt))};return{...de,...Le,...Ze,href:Se?.href,ref:i,onClick:qd([M,Kn]),onFocus:qd([j,Ti]),onMouseEnter:qd([V,sn]),onMouseLeave:qd([z,Sr]),onTouchStart:qd([I,Es]),disabled:!!N,target:T,...Ct&&{style:Ct},...Xe&&{className:Xe},...N&&c3,...De&&u3,...ae&&yt&&d3}}const pb={},l3={className:"active"},c3={role:"link","aria-disabled":!0},u3={"data-status":"active","aria-current":"page"},d3={"data-transitioning":"transitioning"},Kd=new WeakMap,f3={rootMargin:"100px"},qd=e=>t=>{for(const n of e)if(n){if(t.defaultPrevented)return;n(t)}};function h3(e,t,n,i){if(!i)return t?{href:e,external:!0}:{href:n.createHref(e)||"/",external:!1}}function p3(e){if(typeof e!="string")return!1;const t=e.charCodeAt(0);return t===47?e.charCodeAt(1)!==47:t===46}const lf=x.forwardRef((e,t)=>{const{_asChild:n,...i}=e,{type:s,...o}=a3(i,t),l=typeof i.children=="function"?i.children({isActive:o["data-status"]==="active"}):i.children;if(!n){const{disabled:c,...d}=o;return x.createElement("a",d,l)}return x.createElement(n,o,l)});function m3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}let g3=class extends nN{constructor(t){super(t),this.useMatch=n=>gr({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>gr({...n,from:this.id,select:i=>n?.select?n.select(i.context):i.context}),this.useSearch=n=>i_({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>n_({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>t_({...n,from:this.id}),this.useLoaderData=n=>e_({...n,from:this.id}),this.useNavigate=()=>Ei({from:this.fullPath}),this.Link=Pt.forwardRef((n,i)=>y.jsx(lf,{ref:i,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}};function mi(e){return new g3(e)}class v3 extends qB{constructor(t){super(t),this.useMatch=n=>gr({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>gr({...n,from:this.id,select:i=>n?.select?n.select(i.context):i.context}),this.useSearch=n=>i_({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>n_({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>t_({...n,from:this.id}),this.useLoaderData=n=>e_({...n,from:this.id}),this.useNavigate=()=>Ei({from:this.fullPath}),this.Link=Pt.forwardRef((n,i)=>y.jsx(lf,{ref:i,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function y3(e){return new v3(e)}function kA(e){return typeof e=="object"?new NA(e,{silent:!0}).createRoute(e):new NA(e,{silent:!0}).createRoute}class NA{constructor(t,n){this.path=t,this.createRoute=i=>{this.silent;const s=mi(i);return s.isRoot=!1,s},this.silent=n?.silent}}class OA{constructor(t){this.useMatch=n=>gr({select:n?.select,from:this.options.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>gr({from:this.options.id,select:i=>n?.select?n.select(i.context):i.context}),this.useSearch=n=>i_({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useParams=n=>n_({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useLoaderDeps=n=>t_({...n,from:this.options.id}),this.useLoaderData=n=>e_({...n,from:this.options.id}),this.useNavigate=()=>{const n=Ss();return Ei({from:n.routesById[this.options.id].fullPath})},this.options=t,this.$$typeof=Symbol.for("react.memo")}}function PA(e){return typeof e=="object"?new OA(e):t=>new OA({id:e,...t})}function b3(){const e=Ss(),t=x.useRef({router:e,mounted:!1}),[n,i]=x.useState(!1),{hasPendingMatches:s,isLoading:o}=xs({select:v=>({isLoading:v.isLoading,hasPendingMatches:v.matches.some(b=>b.status==="pending")}),structuralSharing:!0}),l=lb(o),c=o||n||s,d=lb(c),h=o||s,m=lb(h);return e.startTransition=v=>{i(!0),x.startTransition(()=>{v(),i(!1)})},x.useEffect(()=>{const v=e.history.subscribe(e.load),b=e.buildLocation({to:e.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Na(e.latestLocation.publicHref)!==Na(b.publicHref)&&e.commitLocation({...b,replace:!0}),()=>{v()}},[e,e.history]),Fp(()=>{if(typeof window<"u"&&e.ssr||t.current.router===e&&t.current.mounted)return;t.current={router:e,mounted:!0},(async()=>{try{await e.load()}catch(b){console.error(b)}})()},[e]),Fp(()=>{l&&!o&&e.emit({type:"onLoad",...Fl(e.state)})},[l,e,o]),Fp(()=>{m&&!h&&e.emit({type:"onBeforeRouteMount",...Fl(e.state)})},[h,m,e]),Fp(()=>{if(d&&!c){const v=Fl(e.state);e.emit({type:"onResolved",...v}),e.__store.setState(b=>({...b,status:"idle",resolvedLocation:b.location})),v.hrefChanged&&CB(e)}},[c,d,e]),null}function x3(e){const t=xs({select:n=>`not-found-${n.location.pathname}-${n.status}`});return y.jsx(Q0,{getResetKey:()=>t,onCatch:(n,i)=>{if(bs(n))e.onCatch?.(n,i);else throw n},errorComponent:({error:n})=>{if(bs(n))return e.fallback?.(n);throw n},children:e.children})}function _3(){return y.jsx("p",{children:"Not Found"})}function su(e){return y.jsx(y.Fragment,{children:e.children})}function oN(e,t,n){return t.options.notFoundComponent?y.jsx(t.options.notFoundComponent,{...n}):e.options.defaultNotFoundComponent?y.jsx(e.options.defaultNotFoundComponent,{...n}):y.jsx(_3,{})}function w3(){return Ss().isScrollRestoring,null}const aN=x.memo(function({matchId:t}){const n=Ss(),i=xs({select:E=>{const T=E.matches.findIndex(k=>k.id===t),N=E.matches[T];return Mo(N),{routeId:N.routeId,ssr:N.ssr,_displayPending:N._displayPending,resetKey:E.loadedAt,parentRouteId:E.matches[T-1]?.routeId}},structuralSharing:!0}),s=n.routesById[i.routeId],o=s.options.pendingComponent??n.options.defaultPendingComponent,l=o?y.jsx(o,{}):null,c=s.options.errorComponent??n.options.defaultErrorComponent,d=s.options.onCatch??n.options.defaultOnCatch,h=s.isRoot?s.options.notFoundComponent??n.options.notFoundRoute?.options.component:s.options.notFoundComponent,m=i.ssr===!1||i.ssr==="data-only",v=(!s.isRoot||s.options.wrapInSuspense||m)&&(s.options.wrapInSuspense??o??(s.options.errorComponent?.preload||m))?x.Suspense:su,b=c?Q0:su,_=h?x3:su,C=s.isRoot?s.options.shellComponent??su:su;return y.jsxs(C,{children:[y.jsx(wg.Provider,{value:t,children:y.jsx(v,{fallback:l,children:y.jsx(b,{getResetKey:()=>i.resetKey,errorComponent:c||J0,onCatch:(E,T)=>{if(bs(E))throw E;d?.(E,T)},children:y.jsx(_,{fallback:E=>{if(!h||E.routeId&&E.routeId!==i.routeId||!E.routeId&&!s.isRoot)throw E;return x.createElement(h,E)},children:m||i._displayPending?y.jsx(XB,{fallback:l,children:y.jsx(MA,{matchId:t})}):y.jsx(MA,{matchId:t})})})})}),i.parentRouteId===zs&&n.options.scrollRestoration?y.jsxs(y.Fragment,{children:[y.jsx(S3,{}),y.jsx(w3,{})]}):null]})});function S3(){const e=Ss(),t=x.useRef(void 0);return y.jsx("script",{suppressHydrationWarning:!0,ref:n=>{n&&(t.current===void 0||t.current.href!==e.latestLocation.href)&&(e.emit({type:"onRendered",...Fl(e.state)}),t.current=e.latestLocation)}},e.latestLocation.state.__TSR_key)}const MA=x.memo(function({matchId:t}){const n=Ss(),{match:i,key:s,routeId:o}=xs({select:d=>{const h=d.matches.find(C=>C.id===t),m=h.routeId,b=(n.routesById[m].options.remountDeps??n.options.defaultRemountDeps)?.({routeId:m,loaderDeps:h.loaderDeps,params:h._strictParams,search:h._strictSearch});return{key:b?JSON.stringify(b):void 0,routeId:m,match:{id:h.id,status:h.status,error:h.error,invalid:h.invalid,_forcePending:h._forcePending,_displayPending:h._displayPending}}},structuralSharing:!0}),l=n.routesById[o],c=x.useMemo(()=>{const d=l.options.component??n.options.defaultComponent;return d?y.jsx(d,{},s):y.jsx(lN,{})},[s,l.options.component,n.options.defaultComponent]);if(i._displayPending)throw n.getMatch(i.id)?._nonReactive.displayPendingPromise;if(i._forcePending)throw n.getMatch(i.id)?._nonReactive.minPendingPromise;if(i.status==="pending"){const d=l.options.pendingMinMs??n.options.defaultPendingMinMs;if(d){const h=n.getMatch(i.id);if(h&&!h._nonReactive.minPendingPromise){const m=Cu();h._nonReactive.minPendingPromise=m,setTimeout(()=>{m.resolve(),h._nonReactive.minPendingPromise=void 0},d)}}throw n.getMatch(i.id)?._nonReactive.loadPromise}if(i.status==="notFound")return Mo(bs(i.error)),oN(n,l,i.error);if(i.status==="redirected")throw Mo(Fs(i.error)),n.getMatch(i.id)?._nonReactive.loadPromise;if(i.status==="error")throw i.error;return c}),lN=x.memo(function(){const t=Ss(),n=x.useContext(wg),i=xs({select:h=>h.matches.find(m=>m.id===n)?.routeId}),s=t.routesById[i],o=xs({select:h=>{const v=h.matches.find(b=>b.id===n);return Mo(v),v.globalNotFound}}),l=xs({select:h=>{const m=h.matches,v=m.findIndex(b=>b.id===n);return m[v+1]?.id}}),c=t.options.defaultPendingComponent?y.jsx(t.options.defaultPendingComponent,{}):null;if(o)return oN(t,s,void 0);if(!l)return null;const d=y.jsx(aN,{matchId:l});return i===zs?y.jsx(x.Suspense,{fallback:c,children:d}):d});function C3(){const e=Ss(),n=e.routesById[zs].options.pendingComponent??e.options.defaultPendingComponent,i=n?y.jsx(n,{}):null,s=typeof document<"u"&&e.ssr?su:x.Suspense,o=y.jsxs(s,{fallback:i,children:[y.jsx(b3,{}),y.jsx(E3,{})]});return e.options.InnerWrap?y.jsx(e.options.InnerWrap,{children:o}):o}function E3(){const e=Ss(),t=xs({select:s=>s.matches[0]?.id}),n=xs({select:s=>s.loadedAt}),i=t?y.jsx(aN,{matchId:t}):null;return y.jsx(wg.Provider,{value:t,children:e.options.disableGlobalCatchBoundary?i:y.jsx(Q0,{getResetKey:()=>n,errorComponent:J0,onCatch:s=>{s.message||s.toString()},children:i})})}const A3=e=>new T3(e);class T3 extends BB{constructor(t){super(t)}}typeof globalThis<"u"?(globalThis.createFileRoute=kA,globalThis.createLazyFileRoute=PA):typeof window<"u"&&(window.createFileRoute=kA,window.createLazyFileRoute=PA);function R3({router:e,children:t,...n}){Object.keys(n).length>0&&e.update({...e.options,...n,context:{...e.options.context,...n.context}});const i=rN(),s=y.jsx(i.Provider,{value:e,children:t});return e.options.Wrap?y.jsx(e.options.Wrap,{children:s}):s}function k3({router:e,...t}){return y.jsx(R3,{router:e,...t,children:y.jsx(C3,{})})}function N3(e){return xs({select:t=>t.location})}const cN={sm:"480px",md:"768px"},O3=Number(cN.sm.replace("px","")),P3=Number(cN.md.replace("px","")),ec=()=>{const[e,t]=x.useState(!1),[n,i]=x.useState(!1);return x.useEffect(()=>{const s=()=>{t(window.innerWidth<=O3),i(window.innerWidth<=P3)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),{isMobile:e,isTablet:n}},$r={BASE_URL:"/treevera/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyBzinELXu5WO8e3uiZgBalJSQh5F_XAi28",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp2amlyb2Nuc3Vjc2Fwd25qZnBlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUxOTQwODksImV4cCI6MjA3MDc3MDA4OX0.eQESQzBSt0_gciw0LN5zByYGBGugi-NuCChs-1mMVoA",VITE_SUPABASE_URL:"https://jvjirocnsucsapwnjfpe.supabase.co"};function uN(e){return"init"in e}function bx(e){return!!e.write}function DA(e){return"v"in e||"e"in e}function zm(e){if("e"in e)throw e.e;if(($r?"production":void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v}function Bm(e){return typeof e?.then=="function"}function dN(e,t,n){if(!n.p.has(e)){n.p.add(e);const i=()=>n.p.delete(e);t.then(i,i)}}function fN(e,t,n){var i;const s=new Set;for(const o of((i=n.get(e))==null?void 0:i.t)||[])s.add(o);for(const o of t.p)s.add(o);return s}const M3=(e,t,...n)=>t.read(...n),D3=(e,t,...n)=>t.write(...n),L3=(e,t)=>{var n;return(n=t.INTERNAL_onInit)==null?void 0:n.call(t,e)},j3=(e,t,n)=>{var i;return(i=t.onMount)==null?void 0:i.call(t,n)},I3=(e,t)=>{var n;const i=Hn(e),s=i[0],o=i[6],l=i[9];if(($r?"production":void 0)!=="production"&&!t)throw new Error("Atom is undefined or null");let c=s.get(t);return c||(c={d:new Map,p:new Set,n:0},s.set(t,c),(n=o.i)==null||n.call(o,t),l?.(e,t)),c},z3=e=>{const t=Hn(e),n=t[1],i=t[3],s=t[4],o=t[5],l=t[6],c=t[13],d=[],h=m=>{try{m()}catch(v){d.push(v)}};do{l.f&&h(l.f);const m=new Set,v=m.add.bind(m);i.forEach(b=>{var _;return(_=n.get(b))==null?void 0:_.l.forEach(v)}),i.clear(),o.forEach(v),o.clear(),s.forEach(v),s.clear(),m.forEach(h),i.size&&c(e)}while(i.size||o.size||s.size);if(d.length)throw new AggregateError(d)},B3=e=>{const t=Hn(e),n=t[1],i=t[2],s=t[3],o=t[11],l=t[14],c=t[17],d=[],h=new WeakSet,m=new WeakSet,v=Array.from(s);for(;v.length;){const b=v[v.length-1],_=o(e,b);if(m.has(b)){v.pop();continue}if(h.has(b)){if(i.get(b)===_.n)d.push([b,_]);else if(($r?"production":void 0)!=="production"&&i.has(b))throw new Error("[Bug] invalidated atom exists");m.add(b),v.pop();continue}h.add(b);for(const C of fN(b,_,n))h.has(C)||v.push(C)}for(let b=d.length-1;b>=0;--b){const[_,C]=d[b];let E=!1;for(const T of C.d.keys())if(T!==_&&s.has(T)){E=!0;break}E&&(l(e,_),c(e,_)),i.delete(_)}},xx=new WeakSet,U3=(e,t)=>{var n,i;const s=Hn(e),o=s[1],l=s[2],c=s[3],d=s[6],h=s[7],m=s[11],v=s[12],b=s[13],_=s[14],C=s[16],E=s[17],T=s[20],N=s[26],k=m(e,t);if(DA(k)){if(o.has(t)&&l.get(t)!==k.n)return k;let Z=!1;for(const[ie,ye]of k.d)if(_(e,ie).n!==ye){Z=!0;break}if(!Z)return k}let O=!0;const M=new Set(k.d.keys()),j=new Map,V=()=>{for(const Z of M)j.has(Z)||k.d.delete(Z)},z=()=>{if(o.has(t)){const Z=!c.size;E(e,t),Z&&(b(e),v(e))}},I=Z=>{var ie;if(Z===t){const G=m(e,Z);if(!DA(G))if(uN(Z))T(e,Z,Z.init);else throw new Error("no atom init");return zm(G)}const ye=_(e,Z);try{return zm(ye)}finally{j.set(Z,ye.n),k.d.set(Z,ye.n),Bm(k.v)&&dN(t,k.v,ye),o.has(t)&&((ie=o.get(Z))==null||ie.t.add(t)),O||z()}};let $,Y;const q={get signal(){return $||($=new AbortController),$.signal},get setSelf(){return($r?"production":void 0)!=="production"&&console.warn("[DEPRECATED] setSelf is deprecated and will be removed in v3."),($r?"production":void 0)!=="production"&&!bx(t)&&console.warn("setSelf function cannot be used with read-only atom"),!Y&&bx(t)&&(Y=(...Z)=>{if(($r?"production":void 0)!=="production"&&O&&console.warn("setSelf function cannot be called in sync"),!O)try{return C(e,t,...Z)}finally{b(e),v(e)}}),Y}},W=k.n;try{($r?"production":void 0)!=="production"&&xx.delete(e);const Z=h(e,t,I,q);if(($r?"production":void 0)!=="production"&&xx.has(e)&&console.warn("Detected store mutation during atom read. This is not supported."),T(e,t,Z),Bm(Z)){N(e,Z,()=>$?.abort());const ie=()=>{V(),z()};Z.then(ie,ie)}else V();return(n=d.r)==null||n.call(d,t),k}catch(Z){return delete k.v,k.e=Z,++k.n,k}finally{O=!1,W!==k.n&&l.get(t)===W&&(l.set(t,k.n),c.add(t),(i=d.c)==null||i.call(d,t))}},F3=(e,t)=>{const n=Hn(e),i=n[1],s=n[2],o=n[11],l=[t];for(;l.length;){const c=l.pop(),d=o(e,c);for(const h of fN(c,d,i)){const m=o(e,h);s.get(h)!==m.n&&(s.set(h,m.n),l.push(h))}}},V3=(e,t,...n)=>{const i=Hn(e),s=i[3],o=i[6],l=i[8],c=i[11],d=i[12],h=i[13],m=i[14],v=i[15],b=i[16],_=i[17],C=i[20];let E=!0;const T=k=>zm(m(e,k)),N=(k,...O)=>{var M;const j=c(e,k);try{if(k===t){if(!uN(k))throw new Error("atom not writable");($r?"production":void 0)!=="production"&&xx.add(e);const V=j.n,z=O[0];C(e,k,z),_(e,k),V!==j.n&&(s.add(k),v(e,k),(M=o.c)==null||M.call(o,k));return}else return b(e,k,...O)}finally{E||(h(e),d(e))}};try{return l(e,t,T,N,...n)}finally{E=!1}},$3=(e,t)=>{var n;const i=Hn(e),s=i[1],o=i[3],l=i[6],c=i[11],d=i[15],h=i[18],m=i[19],v=c(e,t),b=s.get(t);if(b){for(const[_,C]of v.d)if(!b.d.has(_)){const E=c(e,_);h(e,_).t.add(t),b.d.add(_),C!==E.n&&(o.add(_),d(e,_),(n=l.c)==null||n.call(l,_))}for(const _ of b.d)if(!v.d.has(_)){b.d.delete(_);const C=m(e,_);C?.t.delete(t)}}},H3=(e,t)=>{var n;const i=Hn(e),s=i[1],o=i[4],l=i[6],c=i[10],d=i[11],h=i[12],m=i[13],v=i[14],b=i[16],_=i[18],C=d(e,t);let E=s.get(t);if(!E){v(e,t);for(const T of C.d.keys())_(e,T).t.add(t);if(E={l:new Set,d:new Set(C.d.keys()),t:new Set},s.set(t,E),bx(t)){const T=()=>{let N=!0;const k=(...O)=>{try{return b(e,t,...O)}finally{N||(m(e),h(e))}};try{const O=c(e,t,k);O&&(E.u=()=>{N=!0;try{O()}finally{N=!1}})}finally{N=!1}};o.add(T)}(n=l.m)==null||n.call(l,t)}return E},G3=(e,t)=>{var n,i;const s=Hn(e),o=s[1],l=s[5],c=s[6],d=s[11],h=s[19],m=d(e,t);let v=o.get(t);if(!v||v.l.size)return v;let b=!1;for(const _ of v.t)if((n=o.get(_))!=null&&n.d.has(t)){b=!0;break}if(!b){v.u&&l.add(v.u),v=void 0,o.delete(t);for(const _ of m.d.keys()){const C=h(e,_);C?.t.delete(t)}(i=c.u)==null||i.call(c,t);return}return v},K3=(e,t,n)=>{const i=Hn(e),s=i[11],o=i[27],l=s(e,t),c="v"in l,d=l.v;if(Bm(n))for(const h of l.d.keys())dN(t,n,s(e,h));l.v=n,delete l.e,(!c||!Object.is(d,l.v))&&(++l.n,Bm(d)&&o(e,d))},q3=(e,t)=>{const n=Hn(e)[14];return zm(n(e,t))},W3=(e,t,...n)=>{const i=Hn(e),s=i[12],o=i[13],l=i[16];try{return l(e,t,...n)}finally{o(e),s(e)}},Y3=(e,t,n)=>{const i=Hn(e),s=i[12],o=i[18],l=i[19],d=o(e,t).l;return d.add(n),s(e),()=>{d.delete(n),l(e,t),s(e)}},Z3=(e,t,n)=>{const s=Hn(e)[25];let o=s.get(t);if(!o){o=new Set,s.set(t,o);const l=()=>s.delete(t);t.then(l,l)}o.add(n)},X3=(e,t)=>{const s=Hn(e)[25].get(t);s?.forEach(o=>o())},hN=new WeakMap,Hn=e=>{const t=hN.get(e);if(($r?"production":void 0)!=="production"&&!t)throw new Error("Store must be created by buildStore to read its building blocks");return t};function Q3(e){const t=Hn(e),n=t[24];return n?n(t):t}function J3(...e){const t={get(i){const s=Hn(t)[21];return s(t,i)},set(i,...s){const o=Hn(t)[22];return o(t,i,...s)},sub(i,s){const o=Hn(t)[23];return o(t,i,s)}},n=[new WeakMap,new WeakMap,new WeakMap,new Set,new Set,new Set,{},M3,D3,L3,j3,I3,z3,B3,U3,F3,V3,$3,H3,G3,K3,q3,W3,Y3,void 0,new WeakMap,Z3,X3].map((i,s)=>e[s]||i);return hN.set(t,Object.freeze(n)),t}const pN={};let eU=0;function pt(e,t){const n=`atom${++eU}`,i={toString(){return(pN?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof e=="function"?i.read=e:(i.init=e,i.read=tU,i.write=nU),t&&(i.write=t),i}function tU(e){return e(this)}function nU(e,t,n){return t(this,typeof n=="function"?n(e(this)):n)}function iU(){return J3()}let Wd;function Wf(){return Wd||(Wd=iU(),(pN?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=Wd),globalThis.__JOTAI_DEFAULT_STORE__!==Wd&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),Wd}const sU={},rU=x.createContext(void 0);function mN(e){return x.useContext(rU)||Wf()}const _x=e=>typeof e?.then=="function",wx=e=>{e.status||(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}))},oU=Pt.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(wx(e),e)}),mb=new WeakMap,LA=(e,t,n)=>{const s=Q3(e)[26];let o=mb.get(t);return o||(o=new Promise((l,c)=>{let d=t;const h=b=>_=>{d===b&&l(_)},m=b=>_=>{d===b&&c(_)},v=()=>{try{const b=n();_x(b)?(mb.set(b,o),d=b,b.then(h(b),m(b)),s(e,b,v)):l(b)}catch(b){c(b)}};t.then(h(t),m(t)),s(e,t,v)}),mb.set(t,o)),o};function Me(e,t){const{delay:n,unstable_promiseStatus:i=!Pt.use}={},s=mN(),[[o,l,c],d]=x.useReducer(m=>{const v=s.get(e);return Object.is(m[0],v)&&m[1]===s&&m[2]===e?m:[v,s,e]},void 0,()=>[s.get(e),s,e]);let h=o;if((l!==s||c!==e)&&(d(),h=s.get(e)),x.useEffect(()=>{const m=s.sub(e,()=>{if(i)try{const v=s.get(e);_x(v)&&wx(LA(s,v,()=>s.get(e)))}catch{}if(typeof n=="number"){setTimeout(d,n);return}d()});return d(),m},[s,e,n,i]),x.useDebugValue(h),_x(h)){const m=LA(s,h,()=>s.get(e));return i&&wx(m),oU(m)}return h}function Lt(e,t){const n=mN();return x.useCallback((...s)=>{if((sU?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return n.set(e,...s)},[n,e])}function Gs(e,t){return[Me(e),Lt(e)]}const Ln=({src:e,alt:t,fallbackSrc:n="",loading:i="lazy",decoding:s="async",onFallbackChange:o,...l})=>{const[c,d]=x.useState(e);x.useEffect(()=>{d(e)},[e]);const h=c===n;return x.useEffect(()=>{o?.(h)},[h,o]),y.jsx("img",{src:c,alt:t,loading:i,decoding:s,onError:()=>{n&&!h&&d(n)},...l})},aU="/treevera/assets/avif-new-logo-CsHr8CWA.avif";function Ie(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e?.(s),n===!1||!s.defaultPrevented)return t?.(s)}}function jA(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Gn(...e){return t=>{let n=!1;const i=e.map(s=>{const o=jA(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<i.length;s++){const o=i[s];typeof o=="function"?o():jA(e[s],null)}}}}function St(...e){return x.useCallback(Gn(...e),e)}function lU(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,cU(s,...t)]}function cU(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var jn=globalThis?.document?x.useLayoutEffect:()=>{},uU=K0[" useInsertionEffect ".trim().toString()]||jn;function Do({prop:e,defaultProp:t,onChange:n=()=>{},caller:i}){const[s,o,l]=dU({defaultProp:t,onChange:n}),c=e!==void 0,d=c?e:s;{const m=x.useRef(e!==void 0);x.useEffect(()=>{const v=m.current;v!==c&&console.warn(`${i} is changing from ${v?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,i])}const h=x.useCallback(m=>{if(c){const v=fU(m)?m(e):m;v!==e&&l.current?.(v)}else o(m)},[c,e,o,l]);return[d,h]}function dU({defaultProp:e,onChange:t}){const[n,i]=x.useState(e),s=x.useRef(n),o=x.useRef(t);return uU(()=>{o.current=t},[t]),x.useEffect(()=>{s.current!==n&&(o.current?.(n),s.current=n)},[n,s]),[n,i,o]}function fU(e){return typeof e=="function"}function hU(e){const t=pU(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(gU);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function pU(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=yU(s),c=vU(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var mU=Symbol("radix.slottable");function gU(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===mU}function vU(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function yU(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var bU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xU=bU.reduce((e,t)=>{const n=hU(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function _U(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,wU(s,...t)]}function wU(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function IA(e){const t=SU(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(EU);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function SU(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=TU(s),c=AU(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var CU=Symbol("radix.slottable");function EU(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===CU}function AU(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function TU(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Sg(e){const t=e+"CollectionProvider",[n,i]=_U(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=E=>{const{scope:T,children:N}=E,k=Pt.useRef(null),O=Pt.useRef(new Map).current;return y.jsx(s,{scope:T,itemMap:O,collectionRef:k,children:N})};l.displayName=t;const c=e+"CollectionSlot",d=IA(c),h=Pt.forwardRef((E,T)=>{const{scope:N,children:k}=E,O=o(c,N),M=St(T,O.collectionRef);return y.jsx(d,{ref:M,children:k})});h.displayName=c;const m=e+"CollectionItemSlot",v="data-radix-collection-item",b=IA(m),_=Pt.forwardRef((E,T)=>{const{scope:N,children:k,...O}=E,M=Pt.useRef(null),j=St(T,M),V=o(m,N);return Pt.useEffect(()=>(V.itemMap.set(M,{ref:M,...O}),()=>{V.itemMap.delete(M)})),y.jsx(b,{[v]:"",ref:j,children:k})});_.displayName=m;function C(E){const T=o(e+"CollectionConsumer",E);return Pt.useCallback(()=>{const k=T.collectionRef.current;if(!k)return[];const O=Array.from(k.querySelectorAll(`[${v}]`));return Array.from(T.itemMap.values()).sort((V,z)=>O.indexOf(V.ref.current)-O.indexOf(z.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:l,Slot:h,ItemSlot:_},C,i]}function RU(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,kU(s,...t)]}function kU(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var NU=x.createContext(void 0);function Cg(e){const t=x.useContext(NU);return e||t||"ltr"}function OU(e){const t=PU(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(DU);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function PU(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=jU(s),c=LU(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var MU=Symbol("radix.slottable");function DU(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===MU}function LU(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function jU(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var IU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gN=IU.reduce((e,t)=>{const n=OU(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function zU(e,t){e&&Ji.flushSync(()=>e.dispatchEvent(t))}function Ks(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...n)=>t.current?.(...n),[])}function BU(e,t=globalThis?.document){const n=Ks(e);x.useEffect(()=>{const i=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[n,t])}var UU="DismissableLayer",Sx="dismissableLayer.update",FU="dismissableLayer.pointerDownOutside",VU="dismissableLayer.focusOutside",zA,vN=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Yf=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...d}=e,h=x.useContext(vN),[m,v]=x.useState(null),b=m?.ownerDocument??globalThis?.document,[,_]=x.useState({}),C=St(t,z=>v(z)),E=Array.from(h.layers),[T]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=E.indexOf(T),k=m?E.indexOf(m):-1,O=h.layersWithOutsidePointerEventsDisabled.size>0,M=k>=N,j=GU(z=>{const I=z.target,$=[...h.branches].some(Y=>Y.contains(I));!M||$||(s?.(z),l?.(z),z.defaultPrevented||c?.())},b),V=KU(z=>{const I=z.target;[...h.branches].some(Y=>Y.contains(I))||(o?.(z),l?.(z),z.defaultPrevented||c?.())},b);return BU(z=>{k===h.layers.size-1&&(i?.(z),!z.defaultPrevented&&c&&(z.preventDefault(),c()))},b),x.useEffect(()=>{if(m)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(zA=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),BA(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=zA)}},[m,b,n,h]),x.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),BA())},[m,h]),x.useEffect(()=>{const z=()=>_({});return document.addEventListener(Sx,z),()=>document.removeEventListener(Sx,z)},[]),y.jsx(gN.div,{...d,ref:C,style:{pointerEvents:O?M?"auto":"none":void 0,...e.style},onFocusCapture:Ie(e.onFocusCapture,V.onFocusCapture),onBlurCapture:Ie(e.onBlurCapture,V.onBlurCapture),onPointerDownCapture:Ie(e.onPointerDownCapture,j.onPointerDownCapture)})});Yf.displayName=UU;var $U="DismissableLayerBranch",HU=x.forwardRef((e,t)=>{const n=x.useContext(vN),i=x.useRef(null),s=St(t,i);return x.useEffect(()=>{const o=i.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),y.jsx(gN.div,{...e,ref:s})});HU.displayName=$U;function GU(e,t=globalThis?.document){const n=Ks(e),i=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const o=c=>{if(c.target&&!i.current){let d=function(){yN(FU,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);i.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>i.current=!0}}function KU(e,t=globalThis?.document){const n=Ks(e),i=x.useRef(!1);return x.useEffect(()=>{const s=o=>{o.target&&!i.current&&yN(VU,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function BA(){const e=new CustomEvent(Sx);document.dispatchEvent(e)}function yN(e,t,n,{discrete:i}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),i?zU(s,o):s.dispatchEvent(o)}var gb=0;function s_(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??UA()),document.body.insertAdjacentElement("beforeend",e[1]??UA()),gb++,()=>{gb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),gb--}},[])}function UA(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}function qU(e){const t=WU(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(ZU);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function WU(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=QU(s),c=XU(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var YU=Symbol("radix.slottable");function ZU(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===YU}function XU(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function QU(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var JU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],e5=JU.reduce((e,t)=>{const n=qU(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),vb="focusScope.autoFocusOnMount",yb="focusScope.autoFocusOnUnmount",FA={bubbles:!1,cancelable:!0},t5="FocusScope",Eg=x.forwardRef((e,t)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...l}=e,[c,d]=x.useState(null),h=Ks(s),m=Ks(o),v=x.useRef(null),b=St(t,E=>d(E)),_=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(i){let E=function(O){if(_.paused||!c)return;const M=O.target;c.contains(M)?v.current=M:xa(v.current,{select:!0})},T=function(O){if(_.paused||!c)return;const M=O.relatedTarget;M!==null&&(c.contains(M)||xa(v.current,{select:!0}))},N=function(O){if(document.activeElement===document.body)for(const j of O)j.removedNodes.length>0&&xa(c)};document.addEventListener("focusin",E),document.addEventListener("focusout",T);const k=new MutationObserver(N);return c&&k.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",T),k.disconnect()}}},[i,c,_.paused]),x.useEffect(()=>{if(c){$A.add(_);const E=document.activeElement;if(!c.contains(E)){const N=new CustomEvent(vb,FA);c.addEventListener(vb,h),c.dispatchEvent(N),N.defaultPrevented||(n5(a5(bN(c)),{select:!0}),document.activeElement===E&&xa(c))}return()=>{c.removeEventListener(vb,h),setTimeout(()=>{const N=new CustomEvent(yb,FA);c.addEventListener(yb,m),c.dispatchEvent(N),N.defaultPrevented||xa(E??document.body,{select:!0}),c.removeEventListener(yb,m),$A.remove(_)},0)}}},[c,h,m,_]);const C=x.useCallback(E=>{if(!n&&!i||_.paused)return;const T=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,N=document.activeElement;if(T&&N){const k=E.currentTarget,[O,M]=i5(k);O&&M?!E.shiftKey&&N===M?(E.preventDefault(),n&&xa(O,{select:!0})):E.shiftKey&&N===O&&(E.preventDefault(),n&&xa(M,{select:!0})):N===k&&E.preventDefault()}},[n,i,_.paused]);return y.jsx(e5.div,{tabIndex:-1,...l,ref:b,onKeyDown:C})});Eg.displayName=t5;function n5(e,{select:t=!1}={}){const n=document.activeElement;for(const i of e)if(xa(i,{select:t}),document.activeElement!==n)return}function i5(e){const t=bN(e),n=VA(t,e),i=VA(t.reverse(),e);return[n,i]}function bN(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function VA(e,t){for(const n of e)if(!s5(n,{upTo:t}))return n}function s5(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function r5(e){return e instanceof HTMLInputElement&&"select"in e}function xa(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&r5(e)&&t&&e.select()}}var $A=o5();function o5(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=HA(e,t),e.unshift(t)},remove(t){e=HA(e,t),e[0]?.resume()}}}function HA(e,t){const n=[...e],i=n.indexOf(t);return i!==-1&&n.splice(i,1),n}function a5(e){return e.filter(t=>t.tagName!=="A")}var l5=K0[" useId ".trim().toString()]||(()=>{}),c5=0;function _s(e){const[t,n]=x.useState(l5());return jn(()=>{n(i=>i??String(c5++))},[e]),t?`radix-${t}`:""}const u5=["top","right","bottom","left"],Pa=Math.min,vs=Math.max,Um=Math.round,Vp=Math.floor,qr=e=>({x:e,y:e}),d5={left:"right",right:"left",bottom:"top",top:"bottom"},f5={start:"end",end:"start"};function Cx(e,t,n){return vs(e,Pa(t,n))}function Lo(e,t){return typeof e=="function"?e(t):e}function jo(e){return e.split("-")[0]}function Mu(e){return e.split("-")[1]}function r_(e){return e==="x"?"y":"x"}function o_(e){return e==="y"?"height":"width"}const h5=new Set(["top","bottom"]);function Gr(e){return h5.has(jo(e))?"y":"x"}function a_(e){return r_(Gr(e))}function p5(e,t,n){n===void 0&&(n=!1);const i=Mu(e),s=a_(e),o=o_(s);let l=s==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=Fm(l)),[l,Fm(l)]}function m5(e){const t=Fm(e);return[Ex(e),t,Ex(t)]}function Ex(e){return e.replace(/start|end/g,t=>f5[t])}const GA=["left","right"],KA=["right","left"],g5=["top","bottom"],v5=["bottom","top"];function y5(e,t,n){switch(e){case"top":case"bottom":return n?t?KA:GA:t?GA:KA;case"left":case"right":return t?g5:v5;default:return[]}}function b5(e,t,n,i){const s=Mu(e);let o=y5(jo(e),n==="start",i);return s&&(o=o.map(l=>l+"-"+s),t&&(o=o.concat(o.map(Ex)))),o}function Fm(e){return e.replace(/left|right|bottom|top/g,t=>d5[t])}function x5(e){return{top:0,right:0,bottom:0,left:0,...e}}function xN(e){return typeof e!="number"?x5(e):{top:e,right:e,bottom:e,left:e}}function Vm(e){const{x:t,y:n,width:i,height:s}=e;return{width:i,height:s,top:n,left:t,right:t+i,bottom:n+s,x:t,y:n}}function qA(e,t,n){let{reference:i,floating:s}=e;const o=Gr(t),l=a_(t),c=o_(l),d=jo(t),h=o==="y",m=i.x+i.width/2-s.width/2,v=i.y+i.height/2-s.height/2,b=i[c]/2-s[c]/2;let _;switch(d){case"top":_={x:m,y:i.y-s.height};break;case"bottom":_={x:m,y:i.y+i.height};break;case"right":_={x:i.x+i.width,y:v};break;case"left":_={x:i.x-s.width,y:v};break;default:_={x:i.x,y:i.y}}switch(Mu(t)){case"start":_[l]-=b*(n&&h?-1:1);break;case"end":_[l]+=b*(n&&h?-1:1);break}return _}async function _5(e,t){var n;t===void 0&&(t={});const{x:i,y:s,platform:o,rects:l,elements:c,strategy:d}=e,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:v="floating",altBoundary:b=!1,padding:_=0}=Lo(t,e),C=xN(_),T=c[b?v==="floating"?"reference":"floating":v],N=Vm(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(T)))==null||n?T:T.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:h,rootBoundary:m,strategy:d})),k=v==="floating"?{x:i,y:s,width:l.floating.width,height:l.floating.height}:l.reference,O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),M=await(o.isElement==null?void 0:o.isElement(O))?await(o.getScale==null?void 0:o.getScale(O))||{x:1,y:1}:{x:1,y:1},j=Vm(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:k,offsetParent:O,strategy:d}):k);return{top:(N.top-j.top+C.top)/M.y,bottom:(j.bottom-N.bottom+C.bottom)/M.y,left:(N.left-j.left+C.left)/M.x,right:(j.right-N.right+C.right)/M.x}}const w5=async(e,t,n)=>{const{placement:i="bottom",strategy:s="absolute",middleware:o=[],platform:l}=n,c=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let h=await l.getElementRects({reference:e,floating:t,strategy:s}),{x:m,y:v}=qA(h,i,d),b=i,_={},C=0;for(let T=0;T<c.length;T++){var E;const{name:N,fn:k}=c[T],{x:O,y:M,data:j,reset:V}=await k({x:m,y:v,initialPlacement:i,placement:b,strategy:s,middlewareData:_,rects:h,platform:{...l,detectOverflow:(E=l.detectOverflow)!=null?E:_5},elements:{reference:e,floating:t}});m=O??m,v=M??v,_={..._,[N]:{..._[N],...j}},V&&C<=50&&(C++,typeof V=="object"&&(V.placement&&(b=V.placement),V.rects&&(h=V.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:s}):V.rects),{x:m,y:v}=qA(h,b,d)),T=-1)}return{x:m,y:v,placement:b,strategy:s,middlewareData:_}},S5=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:s,rects:o,platform:l,elements:c,middlewareData:d}=t,{element:h,padding:m=0}=Lo(e,t)||{};if(h==null)return{};const v=xN(m),b={x:n,y:i},_=a_(s),C=o_(_),E=await l.getDimensions(h),T=_==="y",N=T?"top":"left",k=T?"bottom":"right",O=T?"clientHeight":"clientWidth",M=o.reference[C]+o.reference[_]-b[_]-o.floating[C],j=b[_]-o.reference[_],V=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let z=V?V[O]:0;(!z||!await(l.isElement==null?void 0:l.isElement(V)))&&(z=c.floating[O]||o.floating[C]);const I=M/2-j/2,$=z/2-E[C]/2-1,Y=Pa(v[N],$),q=Pa(v[k],$),W=Y,Z=z-E[C]-q,ie=z/2-E[C]/2+I,ye=Cx(W,ie,Z),G=!d.arrow&&Mu(s)!=null&&ie!==ye&&o.reference[C]/2-(ie<W?Y:q)-E[C]/2<0,X=G?ie<W?ie-W:ie-Z:0;return{[_]:b[_]+X,data:{[_]:ye,centerOffset:ie-ye-X,...G&&{alignmentOffset:X}},reset:G}}}),C5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:s,middlewareData:o,rects:l,initialPlacement:c,platform:d,elements:h}=t,{mainAxis:m=!0,crossAxis:v=!0,fallbackPlacements:b,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:E=!0,...T}=Lo(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const N=jo(s),k=Gr(c),O=jo(c)===c,M=await(d.isRTL==null?void 0:d.isRTL(h.floating)),j=b||(O||!E?[Fm(c)]:m5(c)),V=C!=="none";!b&&V&&j.push(...b5(c,E,C,M));const z=[c,...j],I=await d.detectOverflow(t,T),$=[];let Y=((i=o.flip)==null?void 0:i.overflows)||[];if(m&&$.push(I[N]),v){const ie=p5(s,l,M);$.push(I[ie[0]],I[ie[1]])}if(Y=[...Y,{placement:s,overflows:$}],!$.every(ie=>ie<=0)){var q,W;const ie=(((q=o.flip)==null?void 0:q.index)||0)+1,ye=z[ie];if(ye&&(!(v==="alignment"?k!==Gr(ye):!1)||Y.every(ne=>Gr(ne.placement)===k?ne.overflows[0]>0:!0)))return{data:{index:ie,overflows:Y},reset:{placement:ye}};let G=(W=Y.filter(X=>X.overflows[0]<=0).sort((X,ne)=>X.overflows[1]-ne.overflows[1])[0])==null?void 0:W.placement;if(!G)switch(_){case"bestFit":{var Z;const X=(Z=Y.filter(ne=>{if(V){const de=Gr(ne.placement);return de===k||de==="y"}return!0}).map(ne=>[ne.placement,ne.overflows.filter(de=>de>0).reduce((de,ae)=>de+ae,0)]).sort((ne,de)=>ne[1]-de[1])[0])==null?void 0:Z[0];X&&(G=X);break}case"initialPlacement":G=c;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function WA(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function YA(e){return u5.some(t=>e[t]>=0)}const E5=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:i}=t,{strategy:s="referenceHidden",...o}=Lo(e,t);switch(s){case"referenceHidden":{const l=await i.detectOverflow(t,{...o,elementContext:"reference"}),c=WA(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:YA(c)}}}case"escaped":{const l=await i.detectOverflow(t,{...o,altBoundary:!0}),c=WA(l,n.floating);return{data:{escapedOffsets:c,escaped:YA(c)}}}default:return{}}}}},_N=new Set(["left","top"]);async function A5(e,t){const{placement:n,platform:i,elements:s}=e,o=await(i.isRTL==null?void 0:i.isRTL(s.floating)),l=jo(n),c=Mu(n),d=Gr(n)==="y",h=_N.has(l)?-1:1,m=o&&d?-1:1,v=Lo(t,e);let{mainAxis:b,crossAxis:_,alignmentAxis:C}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return c&&typeof C=="number"&&(_=c==="end"?C*-1:C),d?{x:_*m,y:b*h}:{x:b*h,y:_*m}}const T5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:s,y:o,placement:l,middlewareData:c}=t,d=await A5(t,e);return l===((n=c.offset)==null?void 0:n.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:s+d.x,y:o+d.y,data:{...d,placement:l}}}}},R5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:s,platform:o}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:N=>{let{x:k,y:O}=N;return{x:k,y:O}}},...h}=Lo(e,t),m={x:n,y:i},v=await o.detectOverflow(t,h),b=Gr(jo(s)),_=r_(b);let C=m[_],E=m[b];if(l){const N=_==="y"?"top":"left",k=_==="y"?"bottom":"right",O=C+v[N],M=C-v[k];C=Cx(O,C,M)}if(c){const N=b==="y"?"top":"left",k=b==="y"?"bottom":"right",O=E+v[N],M=E-v[k];E=Cx(O,E,M)}const T=d.fn({...t,[_]:C,[b]:E});return{...T,data:{x:T.x-n,y:T.y-i,enabled:{[_]:l,[b]:c}}}}}},k5=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:i,placement:s,rects:o,middlewareData:l}=t,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=Lo(e,t),m={x:n,y:i},v=Gr(s),b=r_(v);let _=m[b],C=m[v];const E=Lo(c,t),T=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(d){const O=b==="y"?"height":"width",M=o.reference[b]-o.floating[O]+T.mainAxis,j=o.reference[b]+o.reference[O]-T.mainAxis;_<M?_=M:_>j&&(_=j)}if(h){var N,k;const O=b==="y"?"width":"height",M=_N.has(jo(s)),j=o.reference[v]-o.floating[O]+(M&&((N=l.offset)==null?void 0:N[v])||0)+(M?0:T.crossAxis),V=o.reference[v]+o.reference[O]+(M?0:((k=l.offset)==null?void 0:k[v])||0)-(M?T.crossAxis:0);C<j?C=j:C>V&&(C=V)}return{[b]:_,[v]:C}}}},N5=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,i;const{placement:s,rects:o,platform:l,elements:c}=t,{apply:d=()=>{},...h}=Lo(e,t),m=await l.detectOverflow(t,h),v=jo(s),b=Mu(s),_=Gr(s)==="y",{width:C,height:E}=o.floating;let T,N;v==="top"||v==="bottom"?(T=v,N=b===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(N=v,T=b==="end"?"top":"bottom");const k=E-m.top-m.bottom,O=C-m.left-m.right,M=Pa(E-m[T],k),j=Pa(C-m[N],O),V=!t.middlewareData.shift;let z=M,I=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(I=O),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(z=k),V&&!b){const Y=vs(m.left,0),q=vs(m.right,0),W=vs(m.top,0),Z=vs(m.bottom,0);_?I=C-2*(Y!==0||q!==0?Y+q:vs(m.left,m.right)):z=E-2*(W!==0||Z!==0?W+Z:vs(m.top,m.bottom))}await d({...t,availableWidth:I,availableHeight:z});const $=await l.getDimensions(c.floating);return C!==$.width||E!==$.height?{reset:{rects:!0}}:{}}}};function Ag(){return typeof window<"u"}function Du(e){return wN(e)?(e.nodeName||"").toLowerCase():"#document"}function ws(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Qr(e){var t;return(t=(wN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function wN(e){return Ag()?e instanceof Node||e instanceof ws(e).Node:!1}function vr(e){return Ag()?e instanceof Element||e instanceof ws(e).Element:!1}function Yr(e){return Ag()?e instanceof HTMLElement||e instanceof ws(e).HTMLElement:!1}function ZA(e){return!Ag()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ws(e).ShadowRoot}const O5=new Set(["inline","contents"]);function Zf(e){const{overflow:t,overflowX:n,overflowY:i,display:s}=yr(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!O5.has(s)}const P5=new Set(["table","td","th"]);function M5(e){return P5.has(Du(e))}const D5=[":popover-open",":modal"];function Tg(e){return D5.some(t=>{try{return e.matches(t)}catch{return!1}})}const L5=["transform","translate","scale","rotate","perspective"],j5=["transform","translate","scale","rotate","perspective","filter"],I5=["paint","layout","strict","content"];function l_(e){const t=c_(),n=vr(e)?yr(e):e;return L5.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||j5.some(i=>(n.willChange||"").includes(i))||I5.some(i=>(n.contain||"").includes(i))}function z5(e){let t=Ma(e);for(;Yr(t)&&!Au(t);){if(l_(t))return t;if(Tg(t))return null;t=Ma(t)}return null}function c_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const B5=new Set(["html","body","#document"]);function Au(e){return B5.has(Du(e))}function yr(e){return ws(e).getComputedStyle(e)}function Rg(e){return vr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ma(e){if(Du(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ZA(e)&&e.host||Qr(e);return ZA(t)?t.host:t}function SN(e){const t=Ma(e);return Au(t)?e.ownerDocument?e.ownerDocument.body:e.body:Yr(t)&&Zf(t)?t:SN(t)}function Sf(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=SN(e),o=s===((i=e.ownerDocument)==null?void 0:i.body),l=ws(s);if(o){const c=Ax(l);return t.concat(l,l.visualViewport||[],Zf(s)?s:[],c&&n?Sf(c):[])}return t.concat(s,Sf(s,[],n))}function Ax(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function CN(e){const t=yr(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const s=Yr(e),o=s?e.offsetWidth:n,l=s?e.offsetHeight:i,c=Um(n)!==o||Um(i)!==l;return c&&(n=o,i=l),{width:n,height:i,$:c}}function u_(e){return vr(e)?e:e.contextElement}function yu(e){const t=u_(e);if(!Yr(t))return qr(1);const n=t.getBoundingClientRect(),{width:i,height:s,$:o}=CN(t);let l=(o?Um(n.width):n.width)/i,c=(o?Um(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const U5=qr(0);function EN(e){const t=ws(e);return!c_()||!t.visualViewport?U5:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function F5(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ws(e)?!1:t}function Gl(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=u_(e);let l=qr(1);t&&(i?vr(i)&&(l=yu(i)):l=yu(e));const c=F5(o,n,i)?EN(o):qr(0);let d=(s.left+c.x)/l.x,h=(s.top+c.y)/l.y,m=s.width/l.x,v=s.height/l.y;if(o){const b=ws(o),_=i&&vr(i)?ws(i):i;let C=b,E=Ax(C);for(;E&&i&&_!==C;){const T=yu(E),N=E.getBoundingClientRect(),k=yr(E),O=N.left+(E.clientLeft+parseFloat(k.paddingLeft))*T.x,M=N.top+(E.clientTop+parseFloat(k.paddingTop))*T.y;d*=T.x,h*=T.y,m*=T.x,v*=T.y,d+=O,h+=M,C=ws(E),E=Ax(C)}}return Vm({width:m,height:v,x:d,y:h})}function kg(e,t){const n=Rg(e).scrollLeft;return t?t.left+n:Gl(Qr(e)).left+n}function AN(e,t){const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-kg(e,n),s=n.top+t.scrollTop;return{x:i,y:s}}function V5(e){let{elements:t,rect:n,offsetParent:i,strategy:s}=e;const o=s==="fixed",l=Qr(i),c=t?Tg(t.floating):!1;if(i===l||c&&o)return n;let d={scrollLeft:0,scrollTop:0},h=qr(1);const m=qr(0),v=Yr(i);if((v||!v&&!o)&&((Du(i)!=="body"||Zf(l))&&(d=Rg(i)),Yr(i))){const _=Gl(i);h=yu(i),m.x=_.x+i.clientLeft,m.y=_.y+i.clientTop}const b=l&&!v&&!o?AN(l,d):qr(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+m.x+b.x,y:n.y*h.y-d.scrollTop*h.y+m.y+b.y}}function $5(e){return Array.from(e.getClientRects())}function H5(e){const t=Qr(e),n=Rg(e),i=e.ownerDocument.body,s=vs(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),o=vs(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let l=-n.scrollLeft+kg(e);const c=-n.scrollTop;return yr(i).direction==="rtl"&&(l+=vs(t.clientWidth,i.clientWidth)-s),{width:s,height:o,x:l,y:c}}const XA=25;function G5(e,t){const n=ws(e),i=Qr(e),s=n.visualViewport;let o=i.clientWidth,l=i.clientHeight,c=0,d=0;if(s){o=s.width,l=s.height;const m=c_();(!m||m&&t==="fixed")&&(c=s.offsetLeft,d=s.offsetTop)}const h=kg(i);if(h<=0){const m=i.ownerDocument,v=m.body,b=getComputedStyle(v),_=m.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,C=Math.abs(i.clientWidth-v.clientWidth-_);C<=XA&&(o-=C)}else h<=XA&&(o+=h);return{width:o,height:l,x:c,y:d}}const K5=new Set(["absolute","fixed"]);function q5(e,t){const n=Gl(e,!0,t==="fixed"),i=n.top+e.clientTop,s=n.left+e.clientLeft,o=Yr(e)?yu(e):qr(1),l=e.clientWidth*o.x,c=e.clientHeight*o.y,d=s*o.x,h=i*o.y;return{width:l,height:c,x:d,y:h}}function QA(e,t,n){let i;if(t==="viewport")i=G5(e,n);else if(t==="document")i=H5(Qr(e));else if(vr(t))i=q5(t,n);else{const s=EN(e);i={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Vm(i)}function TN(e,t){const n=Ma(e);return n===t||!vr(n)||Au(n)?!1:yr(n).position==="fixed"||TN(n,t)}function W5(e,t){const n=t.get(e);if(n)return n;let i=Sf(e,[],!1).filter(c=>vr(c)&&Du(c)!=="body"),s=null;const o=yr(e).position==="fixed";let l=o?Ma(e):e;for(;vr(l)&&!Au(l);){const c=yr(l),d=l_(l);!d&&c.position==="fixed"&&(s=null),(o?!d&&!s:!d&&c.position==="static"&&!!s&&K5.has(s.position)||Zf(l)&&!d&&TN(e,l))?i=i.filter(m=>m!==l):s=c,l=Ma(l)}return t.set(e,i),i}function Y5(e){let{element:t,boundary:n,rootBoundary:i,strategy:s}=e;const l=[...n==="clippingAncestors"?Tg(t)?[]:W5(t,this._c):[].concat(n),i],c=l[0],d=l.reduce((h,m)=>{const v=QA(t,m,s);return h.top=vs(v.top,h.top),h.right=Pa(v.right,h.right),h.bottom=Pa(v.bottom,h.bottom),h.left=vs(v.left,h.left),h},QA(t,c,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Z5(e){const{width:t,height:n}=CN(e);return{width:t,height:n}}function X5(e,t,n){const i=Yr(t),s=Qr(t),o=n==="fixed",l=Gl(e,!0,o,t);let c={scrollLeft:0,scrollTop:0};const d=qr(0);function h(){d.x=kg(s)}if(i||!i&&!o)if((Du(t)!=="body"||Zf(s))&&(c=Rg(t)),i){const _=Gl(t,!0,o,t);d.x=_.x+t.clientLeft,d.y=_.y+t.clientTop}else s&&h();o&&!i&&s&&h();const m=s&&!i&&!o?AN(s,c):qr(0),v=l.left+c.scrollLeft-d.x-m.x,b=l.top+c.scrollTop-d.y-m.y;return{x:v,y:b,width:l.width,height:l.height}}function bb(e){return yr(e).position==="static"}function JA(e,t){if(!Yr(e)||yr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Qr(e)===n&&(n=n.ownerDocument.body),n}function RN(e,t){const n=ws(e);if(Tg(e))return n;if(!Yr(e)){let s=Ma(e);for(;s&&!Au(s);){if(vr(s)&&!bb(s))return s;s=Ma(s)}return n}let i=JA(e,t);for(;i&&M5(i)&&bb(i);)i=JA(i,t);return i&&Au(i)&&bb(i)&&!l_(i)?n:i||z5(e)||n}const Q5=async function(e){const t=this.getOffsetParent||RN,n=this.getDimensions,i=await n(e.floating);return{reference:X5(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function J5(e){return yr(e).direction==="rtl"}const e4={convertOffsetParentRelativeRectToViewportRelativeRect:V5,getDocumentElement:Qr,getClippingRect:Y5,getOffsetParent:RN,getElementRects:Q5,getClientRects:$5,getDimensions:Z5,getScale:yu,isElement:vr,isRTL:J5};function kN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function t4(e,t){let n=null,i;const s=Qr(e);function o(){var c;clearTimeout(i),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const h=e.getBoundingClientRect(),{left:m,top:v,width:b,height:_}=h;if(c||t(),!b||!_)return;const C=Vp(v),E=Vp(s.clientWidth-(m+b)),T=Vp(s.clientHeight-(v+_)),N=Vp(m),O={rootMargin:-C+"px "+-E+"px "+-T+"px "+-N+"px",threshold:vs(0,Pa(1,d))||1};let M=!0;function j(V){const z=V[0].intersectionRatio;if(z!==d){if(!M)return l();z?l(!1,z):i=setTimeout(()=>{l(!1,1e-7)},1e3)}z===1&&!kN(h,e.getBoundingClientRect())&&l(),M=!1}try{n=new IntersectionObserver(j,{...O,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,O)}n.observe(e)}return l(!0),o}function n4(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=i,h=u_(e),m=s||o?[...h?Sf(h):[],...Sf(t)]:[];m.forEach(N=>{s&&N.addEventListener("scroll",n,{passive:!0}),o&&N.addEventListener("resize",n)});const v=h&&c?t4(h,n):null;let b=-1,_=null;l&&(_=new ResizeObserver(N=>{let[k]=N;k&&k.target===h&&_&&(_.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var O;(O=_)==null||O.observe(t)})),n()}),h&&!d&&_.observe(h),_.observe(t));let C,E=d?Gl(e):null;d&&T();function T(){const N=Gl(e);E&&!kN(E,N)&&n(),E=N,C=requestAnimationFrame(T)}return n(),()=>{var N;m.forEach(k=>{s&&k.removeEventListener("scroll",n),o&&k.removeEventListener("resize",n)}),v?.(),(N=_)==null||N.disconnect(),_=null,d&&cancelAnimationFrame(C)}}const i4=T5,s4=R5,r4=C5,o4=N5,a4=E5,e1=S5,l4=k5,c4=(e,t,n)=>{const i=new Map,s={platform:e4,...n},o={...s.platform,_c:i};return w5(e,t,{...s,platform:o})};var u4=typeof document<"u",d4=function(){},ym=u4?x.useLayoutEffect:d4;function $m(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(!$m(e[i],t[i]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(t,s[i]))return!1;for(i=n;i--!==0;){const o=s[i];if(!(o==="_owner"&&e.$$typeof)&&!$m(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function NN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function t1(e,t){const n=NN(e);return Math.round(t*n)/n}function xb(e){const t=x.useRef(e);return ym(()=>{t.current=e}),t}function f4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:s,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:d,open:h}=e,[m,v]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,_]=x.useState(i);$m(b,i)||_(i);const[C,E]=x.useState(null),[T,N]=x.useState(null),k=x.useCallback(ne=>{ne!==V.current&&(V.current=ne,E(ne))},[]),O=x.useCallback(ne=>{ne!==z.current&&(z.current=ne,N(ne))},[]),M=o||C,j=l||T,V=x.useRef(null),z=x.useRef(null),I=x.useRef(m),$=d!=null,Y=xb(d),q=xb(s),W=xb(h),Z=x.useCallback(()=>{if(!V.current||!z.current)return;const ne={placement:t,strategy:n,middleware:b};q.current&&(ne.platform=q.current),c4(V.current,z.current,ne).then(de=>{const ae={...de,isPositioned:W.current!==!1};ie.current&&!$m(I.current,ae)&&(I.current=ae,Ji.flushSync(()=>{v(ae)}))})},[b,t,n,q,W]);ym(()=>{h===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,v(ne=>({...ne,isPositioned:!1})))},[h]);const ie=x.useRef(!1);ym(()=>(ie.current=!0,()=>{ie.current=!1}),[]),ym(()=>{if(M&&(V.current=M),j&&(z.current=j),M&&j){if(Y.current)return Y.current(M,j,Z);Z()}},[M,j,Z,Y,$]);const ye=x.useMemo(()=>({reference:V,floating:z,setReference:k,setFloating:O}),[k,O]),G=x.useMemo(()=>({reference:M,floating:j}),[M,j]),X=x.useMemo(()=>{const ne={position:n,left:0,top:0};if(!G.floating)return ne;const de=t1(G.floating,m.x),ae=t1(G.floating,m.y);return c?{...ne,transform:"translate("+de+"px, "+ae+"px)",...NN(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:de,top:ae}},[n,c,G.floating,m.x,m.y]);return x.useMemo(()=>({...m,update:Z,refs:ye,elements:G,floatingStyles:X}),[m,Z,ye,G,X])}const h4=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:i,padding:s}=typeof e=="function"?e(n):e;return i&&t(i)?i.current!=null?e1({element:i.current,padding:s}).fn(n):{}:i?e1({element:i,padding:s}).fn(n):{}}}},p4=(e,t)=>({...i4(e),options:[e,t]}),m4=(e,t)=>({...s4(e),options:[e,t]}),g4=(e,t)=>({...l4(e),options:[e,t]}),v4=(e,t)=>({...r4(e),options:[e,t]}),y4=(e,t)=>({...o4(e),options:[e,t]}),b4=(e,t)=>({...a4(e),options:[e,t]}),x4=(e,t)=>({...h4(e),options:[e,t]});function _4(e){const t=w4(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(C4);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function w4(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=A4(s),c=E4(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var S4=Symbol("radix.slottable");function C4(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===S4}function E4(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function A4(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var T4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],R4=T4.reduce((e,t)=>{const n=_4(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),k4="Arrow",ON=x.forwardRef((e,t)=>{const{children:n,width:i=10,height:s=5,...o}=e;return y.jsx(R4.svg,{...o,ref:t,width:i,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});ON.displayName=k4;var N4=ON;function O4(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,P4(s,...t)]}function P4(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function M4(e){const t=D4(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(j4);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function D4(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=z4(s),c=I4(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var L4=Symbol("radix.slottable");function j4(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===L4}function I4(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function z4(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var B4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],PN=B4.reduce((e,t)=>{const n=M4(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function MN(e){const[t,n]=x.useState(void 0);return jn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let l,c;if("borderBoxSize"in o){const d=o.borderBoxSize,h=Array.isArray(d)?d[0]:d;l=h.inlineSize,c=h.blockSize}else l=e.offsetWidth,c=e.offsetHeight;n({width:l,height:c})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else n(void 0)},[e]),t}var d_="Popper",[DN,Lu]=O4(d_),[U4,LN]=DN(d_),jN=e=>{const{__scopePopper:t,children:n}=e,[i,s]=x.useState(null);return y.jsx(U4,{scope:t,anchor:i,onAnchorChange:s,children:n})};jN.displayName=d_;var IN="PopperAnchor",zN=x.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:i,...s}=e,o=LN(IN,n),l=x.useRef(null),c=St(t,l),d=x.useRef(null);return x.useEffect(()=>{const h=d.current;d.current=i?.current||l.current,h!==d.current&&o.onAnchorChange(d.current)}),i?null:y.jsx(PN.div,{...s,ref:c})});zN.displayName=IN;var f_="PopperContent",[F4,V4]=DN(f_),BN=x.forwardRef((e,t)=>{const{__scopePopper:n,side:i="bottom",sideOffset:s=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:v="partial",hideWhenDetached:b=!1,updatePositionStrategy:_="optimized",onPlaced:C,...E}=e,T=LN(f_,n),[N,k]=x.useState(null),O=St(t,Se=>k(Se)),[M,j]=x.useState(null),V=MN(M),z=V?.width??0,I=V?.height??0,$=i+(o!=="center"?"-"+o:""),Y=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},q=Array.isArray(h)?h:[h],W=q.length>0,Z={padding:Y,boundary:q.filter(H4),altBoundary:W},{refs:ie,floatingStyles:ye,placement:G,isPositioned:X,middlewareData:ne}=f4({strategy:"fixed",placement:$,whileElementsMounted:(...Se)=>n4(...Se,{animationFrame:_==="always"}),elements:{reference:T.anchor},middleware:[p4({mainAxis:s+I,alignmentAxis:l}),d&&m4({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?g4():void 0,...Z}),d&&v4({...Z}),y4({...Z,apply:({elements:Se,rects:je,availableWidth:De,availableHeight:Le})=>{const{width:Ze,height:Xe}=je.reference,Ct=Se.floating.style;Ct.setProperty("--radix-popper-available-width",`${De}px`),Ct.setProperty("--radix-popper-available-height",`${Le}px`),Ct.setProperty("--radix-popper-anchor-width",`${Ze}px`),Ct.setProperty("--radix-popper-anchor-height",`${Xe}px`)}}),M&&x4({element:M,padding:c}),G4({arrowWidth:z,arrowHeight:I}),b&&b4({strategy:"referenceHidden",...Z})]}),[de,ae]=VN(G),K=Ks(C);jn(()=>{X&&K?.()},[X,K]);const oe=ne.arrow?.x,be=ne.arrow?.y,xe=ne.arrow?.centerOffset!==0,[Re,we]=x.useState();return jn(()=>{N&&we(window.getComputedStyle(N).zIndex)},[N]),y.jsx("div",{ref:ie.setFloating,"data-radix-popper-content-wrapper":"",style:{...ye,transform:X?ye.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[ne.transformOrigin?.x,ne.transformOrigin?.y].join(" "),...ne.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:y.jsx(F4,{scope:n,placedSide:de,onArrowChange:j,arrowX:oe,arrowY:be,shouldHideArrow:xe,children:y.jsx(PN.div,{"data-side":de,"data-align":ae,...E,ref:O,style:{...E.style,animation:X?void 0:"none"}})})})});BN.displayName=f_;var UN="PopperArrow",$4={top:"bottom",right:"left",bottom:"top",left:"right"},FN=x.forwardRef(function(t,n){const{__scopePopper:i,...s}=t,o=V4(UN,i),l=$4[o.placedSide];return y.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:y.jsx(N4,{...s,ref:n,style:{...s.style,display:"block"}})})});FN.displayName=UN;function H4(e){return e!==null}var G4=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:i,middlewareData:s}=t,l=s.arrow?.centerOffset!==0,c=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[h,m]=VN(n),v={start:"0%",center:"50%",end:"100%"}[m],b=(s.arrow?.x??0)+c/2,_=(s.arrow?.y??0)+d/2;let C="",E="";return h==="bottom"?(C=l?v:`${b}px`,E=`${-d}px`):h==="top"?(C=l?v:`${b}px`,E=`${i.floating.height+d}px`):h==="right"?(C=`${-d}px`,E=l?v:`${_}px`):h==="left"&&(C=`${i.floating.width+d}px`,E=l?v:`${_}px`),{data:{x:C,y:E}}}});function VN(e){const[t,n="center"]=e.split("-");return[t,n]}var Ng=jN,h_=zN,p_=BN,m_=FN;function K4(e){const t=q4(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(Y4);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function q4(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=X4(s),c=Z4(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var W4=Symbol("radix.slottable");function Y4(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===W4}function Z4(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function X4(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Q4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],J4=Q4.reduce((e,t)=>{const n=K4(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),eF="Portal",Xf=x.forwardRef((e,t)=>{const{container:n,...i}=e,[s,o]=x.useState(!1);jn(()=>o(!0),[]);const l=n||s&&globalThis?.document?.body;return l?o3.createPortal(y.jsx(J4.div,{...i,ref:t}),l):null});Xf.displayName=eF;function tF(e,t){return x.useReducer((n,i)=>t[n][i]??n,e)}var xr=e=>{const{present:t,children:n}=e,i=nF(t),s=typeof n=="function"?n({present:i.isPresent}):x.Children.only(n),o=St(i.ref,iF(s));return typeof n=="function"||i.isPresent?x.cloneElement(s,{ref:o}):null};xr.displayName="Presence";function nF(e){const[t,n]=x.useState(),i=x.useRef(null),s=x.useRef(e),o=x.useRef("none"),l=e?"mounted":"unmounted",[c,d]=tF(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const h=$p(i.current);o.current=c==="mounted"?h:"none"},[c]),jn(()=>{const h=i.current,m=s.current;if(m!==e){const b=o.current,_=$p(h);e?d("MOUNT"):_==="none"||h?.display==="none"?d("UNMOUNT"):d(m&&b!==_?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),jn(()=>{if(t){let h;const m=t.ownerDocument.defaultView??window,v=_=>{const E=$p(i.current).includes(CSS.escape(_.animationName));if(_.target===t&&E&&(d("ANIMATION_END"),!s.current)){const T=t.style.animationFillMode;t.style.animationFillMode="forwards",h=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=T)})}},b=_=>{_.target===t&&(o.current=$p(i.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{m.clearTimeout(h),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:x.useCallback(h=>{i.current=h?getComputedStyle(h):null,n(h)},[])}}function $p(e){return e?.animationName||"none"}function iF(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function $N(e){const t=sF(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(oF);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function sF(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=lF(s),c=aF(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rF=Symbol("radix.slottable");function oF(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rF}function aF(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function lF(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var cF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qf=cF.reduce((e,t)=>{const n=$N(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function uF(e,t){e&&Ji.flushSync(()=>e.dispatchEvent(t))}function dF(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,fF(s,...t)]}function fF(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function hF(e){const t=pF(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(gF);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function pF(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=yF(s),c=vF(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var mF=Symbol("radix.slottable");function gF(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===mF}function vF(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function yF(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var bF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],HN=bF.reduce((e,t)=>{const n=hF(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),_b="rovingFocusGroup.onEntryFocus",xF={bubbles:!1,cancelable:!0},Jf="RovingFocusGroup",[Tx,GN,_F]=Sg(Jf),[wF,KN]=dF(Jf,[_F]),[SF,CF]=wF(Jf),qN=x.forwardRef((e,t)=>y.jsx(Tx.Provider,{scope:e.__scopeRovingFocusGroup,children:y.jsx(Tx.Slot,{scope:e.__scopeRovingFocusGroup,children:y.jsx(EF,{...e,ref:t})})}));qN.displayName=Jf;var EF=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:s=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...v}=e,b=x.useRef(null),_=St(t,b),C=Cg(o),[E,T]=Do({prop:l,defaultProp:c??null,onChange:d,caller:Jf}),[N,k]=x.useState(!1),O=Ks(h),M=GN(n),j=x.useRef(!1),[V,z]=x.useState(0);return x.useEffect(()=>{const I=b.current;if(I)return I.addEventListener(_b,O),()=>I.removeEventListener(_b,O)},[O]),y.jsx(SF,{scope:n,orientation:i,dir:C,loop:s,currentTabStopId:E,onItemFocus:x.useCallback(I=>T(I),[T]),onItemShiftTab:x.useCallback(()=>k(!0),[]),onFocusableItemAdd:x.useCallback(()=>z(I=>I+1),[]),onFocusableItemRemove:x.useCallback(()=>z(I=>I-1),[]),children:y.jsx(HN.div,{tabIndex:N||V===0?-1:0,"data-orientation":i,...v,ref:_,style:{outline:"none",...e.style},onMouseDown:Ie(e.onMouseDown,()=>{j.current=!0}),onFocus:Ie(e.onFocus,I=>{const $=!j.current;if(I.target===I.currentTarget&&$&&!N){const Y=new CustomEvent(_b,xF);if(I.currentTarget.dispatchEvent(Y),!Y.defaultPrevented){const q=M().filter(G=>G.focusable),W=q.find(G=>G.active),Z=q.find(G=>G.id===E),ye=[W,Z,...q].filter(Boolean).map(G=>G.ref.current);ZN(ye,m)}}j.current=!1}),onBlur:Ie(e.onBlur,()=>k(!1))})})}),WN="RovingFocusGroupItem",YN=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:s=!1,tabStopId:o,children:l,...c}=e,d=_s(),h=o||d,m=CF(WN,n),v=m.currentTabStopId===h,b=GN(n),{onFocusableItemAdd:_,onFocusableItemRemove:C,currentTabStopId:E}=m;return x.useEffect(()=>{if(i)return _(),()=>C()},[i,_,C]),y.jsx(Tx.ItemSlot,{scope:n,id:h,focusable:i,active:s,children:y.jsx(HN.span,{tabIndex:v?0:-1,"data-orientation":m.orientation,...c,ref:t,onMouseDown:Ie(e.onMouseDown,T=>{i?m.onItemFocus(h):T.preventDefault()}),onFocus:Ie(e.onFocus,()=>m.onItemFocus(h)),onKeyDown:Ie(e.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){m.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const N=RF(T,m.orientation,m.dir);if(N!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let O=b().filter(M=>M.focusable).map(M=>M.ref.current);if(N==="last")O.reverse();else if(N==="prev"||N==="next"){N==="prev"&&O.reverse();const M=O.indexOf(T.currentTarget);O=m.loop?kF(O,M+1):O.slice(M+1)}setTimeout(()=>ZN(O))}}),children:typeof l=="function"?l({isCurrentTabStop:v,hasTabStop:E!=null}):l})})});YN.displayName=WN;var AF={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function TF(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function RF(e,t,n){const i=TF(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return AF[i]}function ZN(e,t=!1){const n=document.activeElement;for(const i of e)if(i===n||(i.focus({preventScroll:t}),document.activeElement!==n))return}function kF(e,t){return e.map((n,i)=>e[(t+i)%e.length])}var NF=qN,OF=YN,PF=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Gc=new WeakMap,Hp=new WeakMap,Gp={},wb=0,XN=function(e){return e&&(e.host||XN(e.parentNode))},MF=function(e,t){return t.map(function(n){if(e.contains(n))return n;var i=XN(n);return i&&e.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},DF=function(e,t,n,i){var s=MF(t,Array.isArray(e)?e:[e]);Gp[n]||(Gp[n]=new WeakMap);var o=Gp[n],l=[],c=new Set,d=new Set(s),h=function(v){!v||c.has(v)||(c.add(v),h(v.parentNode))};s.forEach(h);var m=function(v){!v||d.has(v)||Array.prototype.forEach.call(v.children,function(b){if(c.has(b))m(b);else try{var _=b.getAttribute(i),C=_!==null&&_!=="false",E=(Gc.get(b)||0)+1,T=(o.get(b)||0)+1;Gc.set(b,E),o.set(b,T),l.push(b),E===1&&C&&Hp.set(b,!0),T===1&&b.setAttribute(n,"true"),C||b.setAttribute(i,"true")}catch(N){console.error("aria-hidden: cannot operate on ",b,N)}})};return m(t),c.clear(),wb++,function(){l.forEach(function(v){var b=Gc.get(v)-1,_=o.get(v)-1;Gc.set(v,b),o.set(v,_),b||(Hp.has(v)||v.removeAttribute(i),Hp.delete(v)),_||v.removeAttribute(n)}),wb--,wb||(Gc=new WeakMap,Gc=new WeakMap,Hp=new WeakMap,Gp={})}},g_=function(e,t,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),s=PF(e);return s?(i.push.apply(i,Array.from(s.querySelectorAll("[aria-live], script"))),DF(i,s,n,"aria-hidden")):function(){return null}},Hr=function(){return Hr=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Hr.apply(this,arguments)};function ju(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function LF(e,t,n,i){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(m){try{h(i.next(m))}catch(v){l(v)}}function d(m){try{h(i.throw(m))}catch(v){l(v)}}function h(m){m.done?o(m.value):s(m.value).then(c,d)}h((i=i.apply(e,t||[])).next())})}function jF(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,o;i<s;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))}var bm="right-scroll-bar-position",xm="width-before-scroll-bar",IF="with-scroll-bars-hidden",zF="--removed-body-scroll-bar-size";function Sb(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function BF(e,t){var n=x.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(i){var s=n.value;s!==i&&(n.value=i,n.callback(i,s))}}}})[0];return n.callback=t,n.facade}var UF=typeof window<"u"?x.useLayoutEffect:x.useEffect,n1=new WeakMap;function FF(e,t){var n=BF(null,function(i){return e.forEach(function(s){return Sb(s,i)})});return UF(function(){var i=n1.get(n);if(i){var s=new Set(i),o=new Set(e),l=n.current;s.forEach(function(c){o.has(c)||Sb(c,null)}),o.forEach(function(c){s.has(c)||Sb(c,l)})}n1.set(n,e)},[e]),n}function VF(e){return e}function $F(e,t){t===void 0&&(t=VF);var n=[],i=!1,s={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var l=t(o,i);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(o){for(i=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){i=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(o),l=n}var d=function(){var m=l;l=[],m.forEach(o)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(m){l.push(m),h()},filter:function(m){return l=l.filter(m),n}}}};return s}function HF(e){e===void 0&&(e={});var t=$F(null);return t.options=Hr({async:!0,ssr:!1},e),t}var QN=function(e){var t=e.sideCar,n=ju(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return x.createElement(i,Hr({},n))};QN.isSideCarExport=!0;function GF(e,t){return e.useMedium(t),QN}var JN=HF(),Cb=function(){},Og=x.forwardRef(function(e,t){var n=x.useRef(null),i=x.useState({onScrollCapture:Cb,onWheelCapture:Cb,onTouchMoveCapture:Cb}),s=i[0],o=i[1],l=e.forwardProps,c=e.children,d=e.className,h=e.removeScrollBar,m=e.enabled,v=e.shards,b=e.sideCar,_=e.noRelative,C=e.noIsolation,E=e.inert,T=e.allowPinchZoom,N=e.as,k=N===void 0?"div":N,O=e.gapMode,M=ju(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=b,V=FF([n,t]),z=Hr(Hr({},M),s);return x.createElement(x.Fragment,null,m&&x.createElement(j,{sideCar:JN,removeScrollBar:h,shards:v,noRelative:_,noIsolation:C,inert:E,setCallbacks:o,allowPinchZoom:!!T,lockRef:n,gapMode:O}),l?x.cloneElement(x.Children.only(c),Hr(Hr({},z),{ref:V})):x.createElement(k,Hr({},z,{className:d,ref:V}),c))});Og.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Og.classNames={fullWidth:xm,zeroRight:bm};var KF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function qF(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=KF();return t&&e.setAttribute("nonce",t),e}function WF(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function YF(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var ZF=function(){var e=0,t=null;return{add:function(n){e==0&&(t=qF())&&(WF(t,n),YF(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},XF=function(){var e=ZF();return function(t,n){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},eO=function(){var e=XF(),t=function(n){var i=n.styles,s=n.dynamic;return e(i,s),null};return t},QF={left:0,top:0,right:0,gap:0},Eb=function(e){return parseInt(e||"",10)||0},JF=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Eb(n),Eb(i),Eb(s)]},eV=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return QF;var t=JF(e),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-n+t[2]-t[0])}},tV=eO(),bu="data-scroll-locked",nV=function(e,t,n,i){var s=e.left,o=e.top,l=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(IF,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(c,"px ").concat(i,`;
  }
  body[`).concat(bu,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bm,` {
    right: `).concat(c,"px ").concat(i,`;
  }
  
  .`).concat(xm,` {
    margin-right: `).concat(c,"px ").concat(i,`;
  }
  
  .`).concat(bm," .").concat(bm,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(xm," .").concat(xm,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(bu,`] {
    `).concat(zF,": ").concat(c,`px;
  }
`)},i1=function(){var e=parseInt(document.body.getAttribute(bu)||"0",10);return isFinite(e)?e:0},iV=function(){x.useEffect(function(){return document.body.setAttribute(bu,(i1()+1).toString()),function(){var e=i1()-1;e<=0?document.body.removeAttribute(bu):document.body.setAttribute(bu,e.toString())}},[])},sV=function(e){var t=e.noRelative,n=e.noImportant,i=e.gapMode,s=i===void 0?"margin":i;iV();var o=x.useMemo(function(){return eV(s)},[s]);return x.createElement(tV,{styles:nV(o,!t,s,n?"":"!important")})},Rx=!1;if(typeof window<"u")try{var Kp=Object.defineProperty({},"passive",{get:function(){return Rx=!0,!0}});window.addEventListener("test",Kp,Kp),window.removeEventListener("test",Kp,Kp)}catch{Rx=!1}var Kc=Rx?{passive:!1}:!1,rV=function(e){return e.tagName==="TEXTAREA"},tO=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!rV(e)&&n[t]==="visible")},oV=function(e){return tO(e,"overflowY")},aV=function(e){return tO(e,"overflowX")},s1=function(e,t){var n=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var s=nO(e,i);if(s){var o=iO(e,i),l=o[1],c=o[2];if(l>c)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},lV=function(e){var t=e.scrollTop,n=e.scrollHeight,i=e.clientHeight;return[t,n,i]},cV=function(e){var t=e.scrollLeft,n=e.scrollWidth,i=e.clientWidth;return[t,n,i]},nO=function(e,t){return e==="v"?oV(t):aV(t)},iO=function(e,t){return e==="v"?lV(t):cV(t)},uV=function(e,t){return e==="h"&&t==="rtl"?-1:1},dV=function(e,t,n,i,s){var o=uV(e,window.getComputedStyle(t).direction),l=o*i,c=n.target,d=t.contains(c),h=!1,m=l>0,v=0,b=0;do{if(!c)break;var _=iO(e,c),C=_[0],E=_[1],T=_[2],N=E-T-o*C;(C||N)&&nO(e,c)&&(v+=N,b+=C);var k=c.parentNode;c=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(m&&Math.abs(v)<1||!m&&Math.abs(b)<1)&&(h=!0),h},qp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},r1=function(e){return[e.deltaX,e.deltaY]},o1=function(e){return e&&"current"in e?e.current:e},fV=function(e,t){return e[0]===t[0]&&e[1]===t[1]},hV=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},pV=0,qc=[];function mV(e){var t=x.useRef([]),n=x.useRef([0,0]),i=x.useRef(),s=x.useState(pV++)[0],o=x.useState(eO)[0],l=x.useRef(e);x.useEffect(function(){l.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var E=jF([e.lockRef.current],(e.shards||[]).map(o1),!0).filter(Boolean);return E.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),E.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var c=x.useCallback(function(E,T){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!l.current.allowPinchZoom;var N=qp(E),k=n.current,O="deltaX"in E?E.deltaX:k[0]-N[0],M="deltaY"in E?E.deltaY:k[1]-N[1],j,V=E.target,z=Math.abs(O)>Math.abs(M)?"h":"v";if("touches"in E&&z==="h"&&V.type==="range")return!1;var I=window.getSelection(),$=I&&I.anchorNode,Y=$?$===V||$.contains(V):!1;if(Y)return!1;var q=s1(z,V);if(!q)return!0;if(q?j=z:(j=z==="v"?"h":"v",q=s1(z,V)),!q)return!1;if(!i.current&&"changedTouches"in E&&(O||M)&&(i.current=j),!j)return!0;var W=i.current||j;return dV(W,T,E,W==="h"?O:M)},[]),d=x.useCallback(function(E){var T=E;if(!(!qc.length||qc[qc.length-1]!==o)){var N="deltaY"in T?r1(T):qp(T),k=t.current.filter(function(j){return j.name===T.type&&(j.target===T.target||T.target===j.shadowParent)&&fV(j.delta,N)})[0];if(k&&k.should){T.cancelable&&T.preventDefault();return}if(!k){var O=(l.current.shards||[]).map(o1).filter(Boolean).filter(function(j){return j.contains(T.target)}),M=O.length>0?c(T,O[0]):!l.current.noIsolation;M&&T.cancelable&&T.preventDefault()}}},[]),h=x.useCallback(function(E,T,N,k){var O={name:E,delta:T,target:N,should:k,shadowParent:gV(N)};t.current.push(O),setTimeout(function(){t.current=t.current.filter(function(M){return M!==O})},1)},[]),m=x.useCallback(function(E){n.current=qp(E),i.current=void 0},[]),v=x.useCallback(function(E){h(E.type,r1(E),E.target,c(E,e.lockRef.current))},[]),b=x.useCallback(function(E){h(E.type,qp(E),E.target,c(E,e.lockRef.current))},[]);x.useEffect(function(){return qc.push(o),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:b}),document.addEventListener("wheel",d,Kc),document.addEventListener("touchmove",d,Kc),document.addEventListener("touchstart",m,Kc),function(){qc=qc.filter(function(E){return E!==o}),document.removeEventListener("wheel",d,Kc),document.removeEventListener("touchmove",d,Kc),document.removeEventListener("touchstart",m,Kc)}},[]);var _=e.removeScrollBar,C=e.inert;return x.createElement(x.Fragment,null,C?x.createElement(o,{styles:hV(s)}):null,_?x.createElement(sV,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function gV(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const vV=GF(JN,mV);var Pg=x.forwardRef(function(e,t){return x.createElement(Og,Hr({},e,{ref:t,sideCar:vV}))});Pg.classNames=Og.classNames;var kx=["Enter"," "],yV=["ArrowDown","PageUp","Home"],sO=["ArrowUp","PageDown","End"],bV=[...yV,...sO],xV={ltr:[...kx,"ArrowRight"],rtl:[...kx,"ArrowLeft"]},_V={ltr:["ArrowLeft"],rtl:["ArrowRight"]},eh="Menu",[Cf,wV,SV]=Sg(eh),[tc,rO]=RU(eh,[SV,Lu,KN]),th=Lu(),oO=KN(),[aO,Ba]=tc(eh),[CV,nh]=tc(eh),lO=e=>{const{__scopeMenu:t,open:n=!1,children:i,dir:s,onOpenChange:o,modal:l=!0}=e,c=th(t),[d,h]=x.useState(null),m=x.useRef(!1),v=Ks(o),b=Cg(s);return x.useEffect(()=>{const _=()=>{m.current=!0,document.addEventListener("pointerdown",C,{capture:!0,once:!0}),document.addEventListener("pointermove",C,{capture:!0,once:!0})},C=()=>m.current=!1;return document.addEventListener("keydown",_,{capture:!0}),()=>{document.removeEventListener("keydown",_,{capture:!0}),document.removeEventListener("pointerdown",C,{capture:!0}),document.removeEventListener("pointermove",C,{capture:!0})}},[]),y.jsx(Ng,{...c,children:y.jsx(aO,{scope:t,open:n,onOpenChange:v,content:d,onContentChange:h,children:y.jsx(CV,{scope:t,onClose:x.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:m,dir:b,modal:l,children:i})})})};lO.displayName=eh;var EV="MenuAnchor",v_=x.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e,s=th(n);return y.jsx(h_,{...s,...i,ref:t})});v_.displayName=EV;var y_="MenuPortal",[AV,cO]=tc(y_,{forceMount:void 0}),uO=e=>{const{__scopeMenu:t,forceMount:n,children:i,container:s}=e,o=Ba(y_,t);return y.jsx(AV,{scope:t,forceMount:n,children:y.jsx(xr,{present:n||o.open,children:y.jsx(Xf,{asChild:!0,container:s,children:i})})})};uO.displayName=y_;var $s="MenuContent",[TV,b_]=tc($s),dO=x.forwardRef((e,t)=>{const n=cO($s,e.__scopeMenu),{forceMount:i=n.forceMount,...s}=e,o=Ba($s,e.__scopeMenu),l=nh($s,e.__scopeMenu);return y.jsx(Cf.Provider,{scope:e.__scopeMenu,children:y.jsx(xr,{present:i||o.open,children:y.jsx(Cf.Slot,{scope:e.__scopeMenu,children:l.modal?y.jsx(RV,{...s,ref:t}):y.jsx(kV,{...s,ref:t})})})})}),RV=x.forwardRef((e,t)=>{const n=Ba($s,e.__scopeMenu),i=x.useRef(null),s=St(t,i);return x.useEffect(()=>{const o=i.current;if(o)return g_(o)},[]),y.jsx(x_,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ie(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),kV=x.forwardRef((e,t)=>{const n=Ba($s,e.__scopeMenu);return y.jsx(x_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),NV=$N("MenuContent.ScrollLock"),x_=x.forwardRef((e,t)=>{const{__scopeMenu:n,loop:i=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:v,onInteractOutside:b,onDismiss:_,disableOutsideScroll:C,...E}=e,T=Ba($s,n),N=nh($s,n),k=th(n),O=oO(n),M=wV(n),[j,V]=x.useState(null),z=x.useRef(null),I=St(t,z,T.onContentChange),$=x.useRef(0),Y=x.useRef(""),q=x.useRef(0),W=x.useRef(null),Z=x.useRef("right"),ie=x.useRef(0),ye=C?Pg:x.Fragment,G=C?{as:NV,allowPinchZoom:!0}:void 0,X=de=>{const ae=Y.current+de,K=M().filter(Se=>!Se.disabled),oe=document.activeElement,be=K.find(Se=>Se.ref.current===oe)?.textValue,xe=K.map(Se=>Se.textValue),Re=VV(xe,ae,be),we=K.find(Se=>Se.textValue===Re)?.ref.current;(function Se(je){Y.current=je,window.clearTimeout($.current),je!==""&&($.current=window.setTimeout(()=>Se(""),1e3))})(ae),we&&setTimeout(()=>we.focus())};x.useEffect(()=>()=>window.clearTimeout($.current),[]),s_();const ne=x.useCallback(de=>Z.current===W.current?.side&&HV(de,W.current?.area),[]);return y.jsx(TV,{scope:n,searchRef:Y,onItemEnter:x.useCallback(de=>{ne(de)&&de.preventDefault()},[ne]),onItemLeave:x.useCallback(de=>{ne(de)||(z.current?.focus(),V(null))},[ne]),onTriggerLeave:x.useCallback(de=>{ne(de)&&de.preventDefault()},[ne]),pointerGraceTimerRef:q,onPointerGraceIntentChange:x.useCallback(de=>{W.current=de},[]),children:y.jsx(ye,{...G,children:y.jsx(Eg,{asChild:!0,trapped:s,onMountAutoFocus:Ie(o,de=>{de.preventDefault(),z.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:y.jsx(Yf,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:v,onInteractOutside:b,onDismiss:_,children:y.jsx(NF,{asChild:!0,...O,dir:N.dir,orientation:"vertical",loop:i,currentTabStopId:j,onCurrentTabStopIdChange:V,onEntryFocus:Ie(d,de=>{N.isUsingKeyboardRef.current||de.preventDefault()}),preventScrollOnEntryFocus:!0,children:y.jsx(p_,{role:"menu","aria-orientation":"vertical","data-state":RO(T.open),"data-radix-menu-content":"",dir:N.dir,...k,...E,ref:I,style:{outline:"none",...E.style},onKeyDown:Ie(E.onKeyDown,de=>{const K=de.target.closest("[data-radix-menu-content]")===de.currentTarget,oe=de.ctrlKey||de.altKey||de.metaKey,be=de.key.length===1;K&&(de.key==="Tab"&&de.preventDefault(),!oe&&be&&X(de.key));const xe=z.current;if(de.target!==xe||!bV.includes(de.key))return;de.preventDefault();const we=M().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);sO.includes(de.key)&&we.reverse(),UV(we)}),onBlur:Ie(e.onBlur,de=>{de.currentTarget.contains(de.target)||(window.clearTimeout($.current),Y.current="")}),onPointerMove:Ie(e.onPointerMove,Ef(de=>{const ae=de.target,K=ie.current!==de.clientX;if(de.currentTarget.contains(ae)&&K){const oe=de.clientX>ie.current?"right":"left";Z.current=oe,ie.current=de.clientX}}))})})})})})})});dO.displayName=$s;var OV="MenuGroup",__=x.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e;return y.jsx(Qf.div,{role:"group",...i,ref:t})});__.displayName=OV;var PV="MenuLabel",fO=x.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e;return y.jsx(Qf.div,{...i,ref:t})});fO.displayName=PV;var Hm="MenuItem",a1="menu.itemSelect",Mg=x.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:i,...s}=e,o=x.useRef(null),l=nh(Hm,e.__scopeMenu),c=b_(Hm,e.__scopeMenu),d=St(t,o),h=x.useRef(!1),m=()=>{const v=o.current;if(!n&&v){const b=new CustomEvent(a1,{bubbles:!0,cancelable:!0});v.addEventListener(a1,_=>i?.(_),{once:!0}),uF(v,b),b.defaultPrevented?h.current=!1:l.onClose()}};return y.jsx(hO,{...s,ref:d,disabled:n,onClick:Ie(e.onClick,m),onPointerDown:v=>{e.onPointerDown?.(v),h.current=!0},onPointerUp:Ie(e.onPointerUp,v=>{h.current||v.currentTarget?.click()}),onKeyDown:Ie(e.onKeyDown,v=>{const b=c.searchRef.current!=="";n||b&&v.key===" "||kx.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});Mg.displayName=Hm;var hO=x.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:i=!1,textValue:s,...o}=e,l=b_(Hm,n),c=oO(n),d=x.useRef(null),h=St(t,d),[m,v]=x.useState(!1),[b,_]=x.useState("");return x.useEffect(()=>{const C=d.current;C&&_((C.textContent??"").trim())},[o.children]),y.jsx(Cf.ItemSlot,{scope:n,disabled:i,textValue:s??b,children:y.jsx(OF,{asChild:!0,...c,focusable:!i,children:y.jsx(Qf.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...o,ref:h,onPointerMove:Ie(e.onPointerMove,Ef(C=>{i?l.onItemLeave(C):(l.onItemEnter(C),C.defaultPrevented||C.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ie(e.onPointerLeave,Ef(C=>l.onItemLeave(C))),onFocus:Ie(e.onFocus,()=>v(!0)),onBlur:Ie(e.onBlur,()=>v(!1))})})})}),MV="MenuCheckboxItem",pO=x.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:i,...s}=e;return y.jsx(bO,{scope:e.__scopeMenu,checked:n,children:y.jsx(Mg,{role:"menuitemcheckbox","aria-checked":Gm(n)?"mixed":n,...s,ref:t,"data-state":C_(n),onSelect:Ie(s.onSelect,()=>i?.(Gm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});pO.displayName=MV;var mO="MenuRadioGroup",[DV,LV]=tc(mO,{value:void 0,onValueChange:()=>{}}),gO=x.forwardRef((e,t)=>{const{value:n,onValueChange:i,...s}=e,o=Ks(i);return y.jsx(DV,{scope:e.__scopeMenu,value:n,onValueChange:o,children:y.jsx(__,{...s,ref:t})})});gO.displayName=mO;var vO="MenuRadioItem",yO=x.forwardRef((e,t)=>{const{value:n,...i}=e,s=LV(vO,e.__scopeMenu),o=n===s.value;return y.jsx(bO,{scope:e.__scopeMenu,checked:o,children:y.jsx(Mg,{role:"menuitemradio","aria-checked":o,...i,ref:t,"data-state":C_(o),onSelect:Ie(i.onSelect,()=>s.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});yO.displayName=vO;var w_="MenuItemIndicator",[bO,jV]=tc(w_,{checked:!1}),xO=x.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:i,...s}=e,o=jV(w_,n);return y.jsx(xr,{present:i||Gm(o.checked)||o.checked===!0,children:y.jsx(Qf.span,{...s,ref:t,"data-state":C_(o.checked)})})});xO.displayName=w_;var IV="MenuSeparator",_O=x.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e;return y.jsx(Qf.div,{role:"separator","aria-orientation":"horizontal",...i,ref:t})});_O.displayName=IV;var zV="MenuArrow",wO=x.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e,s=th(n);return y.jsx(m_,{...s,...i,ref:t})});wO.displayName=zV;var S_="MenuSub",[BV,SO]=tc(S_),CO=e=>{const{__scopeMenu:t,children:n,open:i=!1,onOpenChange:s}=e,o=Ba(S_,t),l=th(t),[c,d]=x.useState(null),[h,m]=x.useState(null),v=Ks(s);return x.useEffect(()=>(o.open===!1&&v(!1),()=>v(!1)),[o.open,v]),y.jsx(Ng,{...l,children:y.jsx(aO,{scope:t,open:i,onOpenChange:v,content:h,onContentChange:m,children:y.jsx(BV,{scope:t,contentId:_s(),triggerId:_s(),trigger:c,onTriggerChange:d,children:n})})})};CO.displayName=S_;var ef="MenuSubTrigger",EO=x.forwardRef((e,t)=>{const n=Ba(ef,e.__scopeMenu),i=nh(ef,e.__scopeMenu),s=SO(ef,e.__scopeMenu),o=b_(ef,e.__scopeMenu),l=x.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=o,h={__scopeMenu:e.__scopeMenu},m=x.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return x.useEffect(()=>m,[m]),x.useEffect(()=>{const v=c.current;return()=>{window.clearTimeout(v),d(null)}},[c,d]),y.jsx(v_,{asChild:!0,...h,children:y.jsx(hO,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":RO(n.open),...e,ref:Gn(t,s.onTriggerChange),onClick:v=>{e.onClick?.(v),!(e.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ie(e.onPointerMove,Ef(v=>{o.onItemEnter(v),!v.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(o.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:Ie(e.onPointerLeave,Ef(v=>{m();const b=n.content?.getBoundingClientRect();if(b){const _=n.content?.dataset.side,C=_==="right",E=C?-5:5,T=b[C?"left":"right"],N=b[C?"right":"left"];o.onPointerGraceIntentChange({area:[{x:v.clientX+E,y:v.clientY},{x:T,y:b.top},{x:N,y:b.top},{x:N,y:b.bottom},{x:T,y:b.bottom}],side:_}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(v),v.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Ie(e.onKeyDown,v=>{const b=o.searchRef.current!=="";e.disabled||b&&v.key===" "||xV[i.dir].includes(v.key)&&(n.onOpenChange(!0),n.content?.focus(),v.preventDefault())})})})});EO.displayName=ef;var AO="MenuSubContent",TO=x.forwardRef((e,t)=>{const n=cO($s,e.__scopeMenu),{forceMount:i=n.forceMount,...s}=e,o=Ba($s,e.__scopeMenu),l=nh($s,e.__scopeMenu),c=SO(AO,e.__scopeMenu),d=x.useRef(null),h=St(t,d);return y.jsx(Cf.Provider,{scope:e.__scopeMenu,children:y.jsx(xr,{present:i||o.open,children:y.jsx(Cf.Slot,{scope:e.__scopeMenu,children:y.jsx(x_,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:h,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{l.isUsingKeyboardRef.current&&d.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:Ie(e.onFocusOutside,m=>{m.target!==c.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Ie(e.onEscapeKeyDown,m=>{l.onClose(),m.preventDefault()}),onKeyDown:Ie(e.onKeyDown,m=>{const v=m.currentTarget.contains(m.target),b=_V[l.dir].includes(m.key);v&&b&&(o.onOpenChange(!1),c.trigger?.focus(),m.preventDefault())})})})})})});TO.displayName=AO;function RO(e){return e?"open":"closed"}function Gm(e){return e==="indeterminate"}function C_(e){return Gm(e)?"indeterminate":e?"checked":"unchecked"}function UV(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function FV(e,t){return e.map((n,i)=>e[(t+i)%e.length])}function VV(e,t,n){const s=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let l=FV(e,Math.max(o,0));s.length===1&&(l=l.filter(h=>h!==n));const d=l.find(h=>h.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function $V(e,t){const{x:n,y:i}=e;let s=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const c=t[o],d=t[l],h=c.x,m=c.y,v=d.x,b=d.y;m>i!=b>i&&n<(v-h)*(i-m)/(b-m)+h&&(s=!s)}return s}function HV(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return $V(n,t)}function Ef(e){return t=>t.pointerType==="mouse"?e(t):void 0}var GV=lO,KV=v_,qV=uO,WV=dO,YV=__,ZV=fO,XV=Mg,QV=pO,JV=gO,e$=yO,t$=xO,n$=_O,i$=wO,s$=CO,r$=EO,o$=TO,Dg="DropdownMenu",[a$]=lU(Dg,[rO]),Ai=rO(),[l$,kO]=a$(Dg),NO=e=>{const{__scopeDropdownMenu:t,children:n,dir:i,open:s,defaultOpen:o,onOpenChange:l,modal:c=!0}=e,d=Ai(t),h=x.useRef(null),[m,v]=Do({prop:s,defaultProp:o??!1,onChange:l,caller:Dg});return y.jsx(l$,{scope:t,triggerId:_s(),triggerRef:h,contentId:_s(),open:m,onOpenChange:v,onOpenToggle:x.useCallback(()=>v(b=>!b),[v]),modal:c,children:y.jsx(GV,{...d,open:m,onOpenChange:v,dir:i,modal:c,children:n})})};NO.displayName=Dg;var OO="DropdownMenuTrigger",PO=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:i=!1,...s}=e,o=kO(OO,n),l=Ai(n);return y.jsx(KV,{asChild:!0,...l,children:y.jsx(xU.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...s,ref:Gn(t,o.triggerRef),onPointerDown:Ie(e.onPointerDown,c=>{!i&&c.button===0&&c.ctrlKey===!1&&(o.onOpenToggle(),o.open||c.preventDefault())}),onKeyDown:Ie(e.onKeyDown,c=>{i||(["Enter"," "].includes(c.key)&&o.onOpenToggle(),c.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});PO.displayName=OO;var c$="DropdownMenuPortal",MO=e=>{const{__scopeDropdownMenu:t,...n}=e,i=Ai(t);return y.jsx(qV,{...i,...n})};MO.displayName=c$;var DO="DropdownMenuContent",LO=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=kO(DO,n),o=Ai(n),l=x.useRef(!1);return y.jsx(WV,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...i,ref:t,onCloseAutoFocus:Ie(e.onCloseAutoFocus,c=>{l.current||s.triggerRef.current?.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:Ie(e.onInteractOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,m=d.button===2||h;(!s.modal||m)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});LO.displayName=DO;var u$="DropdownMenuGroup",jO=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(YV,{...s,...i,ref:t})});jO.displayName=u$;var d$="DropdownMenuLabel",f$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(ZV,{...s,...i,ref:t})});f$.displayName=d$;var h$="DropdownMenuItem",IO=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(XV,{...s,...i,ref:t})});IO.displayName=h$;var p$="DropdownMenuCheckboxItem",m$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(QV,{...s,...i,ref:t})});m$.displayName=p$;var g$="DropdownMenuRadioGroup",v$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(JV,{...s,...i,ref:t})});v$.displayName=g$;var y$="DropdownMenuRadioItem",b$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(e$,{...s,...i,ref:t})});b$.displayName=y$;var x$="DropdownMenuItemIndicator",_$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(t$,{...s,...i,ref:t})});_$.displayName=x$;var w$="DropdownMenuSeparator",zO=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(n$,{...s,...i,ref:t})});zO.displayName=w$;var S$="DropdownMenuArrow",C$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(i$,{...s,...i,ref:t})});C$.displayName=S$;var E$=e=>{const{__scopeDropdownMenu:t,children:n,open:i,onOpenChange:s,defaultOpen:o}=e,l=Ai(t),[c,d]=Do({prop:i,defaultProp:o??!1,onChange:s,caller:"DropdownMenuSub"});return y.jsx(s$,{...l,open:c,onOpenChange:d,children:n})},A$="DropdownMenuSubTrigger",BO=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(r$,{...s,...i,ref:t})});BO.displayName=A$;var T$="DropdownMenuSubContent",UO=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ai(n);return y.jsx(o$,{...s,...i,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});UO.displayName=T$;var R$=NO,k$=PO,FO=MO,N$=LO,O$=jO,P$=IO,M$=zO,D$=E$,L$=BO,j$=UO;const VO=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim();const I$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const z$=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase());const l1=e=>{const t=z$(e);return t.charAt(0).toUpperCase()+t.slice(1)};var B$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const U$=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const F$=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:o,iconNode:l,...c},d)=>x.createElement("svg",{ref:d,...B$,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:VO("lucide",s),...!o&&!U$(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,m])=>x.createElement(h,m)),...Array.isArray(o)?o:[o]]));const rt=(e,t)=>{const n=x.forwardRef(({className:i,...s},o)=>x.createElement(F$,{ref:o,iconNode:t,className:VO(`lucide-${I$(l1(e))}`,`lucide-${e}`,i),...s}));return n.displayName=l1(e),n};const V$=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Lg=rt("arrow-left",V$);const $$=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],H$=rt("arrow-up-down",$$);const G$=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],K$=rt("award",G$);const q$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],W$=rt("calendar-days",q$);const Y$=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$O=rt("check",Y$);const Z$=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Tu=rt("chevron-down",Z$);const X$=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],E_=rt("chevron-left",X$);const Q$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Iu=rt("chevron-right",Q$);const J$=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],A_=rt("chevron-up",J$);const e6=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],t6=rt("circle-check-big",e6);const n6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],i6=rt("circle-check",n6);const s6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],r6=rt("clock",s6);const o6=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],a6=rt("crown",o6);const l6=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],c6=rt("database",l6);const u6=[["path",{d:"M15 2c-1.35 1.5-2.092 3-2.5 4.5L14 8",key:"1bivrr"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c3.333-3 6.667-3 10-3",key:"nxix30"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M22 9c-1.5 1.35-3 2.092-4.5 2.5l-1-1",key:"18cutr"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.35-1.5 2.092-3 2.5-4.5L10 16",key:"rlvei3"}]],HO=rt("dna-off",u6);const d6=[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]],GO=rt("dna",d6);const f6=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],h6=rt("eye",f6);const p6=[["path",{d:"M6 3v12",key:"qpgusn"}],["path",{d:"M18 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",key:"1d02ji"}],["path",{d:"M6 21a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",key:"chk6ph"}],["path",{d:"M15 6a9 9 0 0 0-9 9",key:"or332x"}],["path",{d:"M18 15v6",key:"9wciyi"}],["path",{d:"M21 18h-6",key:"139f0c"}]],m6=rt("git-branch-plus",p6);const g6=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],KO=rt("grip-vertical",g6);const v6=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Km=rt("heart",v6);const y6=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]],qO=rt("image-off",y6);const b6=[["path",{d:"m22 11-1.296-1.296a2.4 2.4 0 0 0-3.408 0L11 16",key:"9kzy35"}],["path",{d:"M4 8a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2",key:"1t0f0t"}],["circle",{cx:"13",cy:"7",r:"1",fill:"currentColor",key:"1obus6"}],["rect",{x:"8",y:"2",width:"14",height:"14",rx:"2",key:"1gvhby"}]],T_=rt("images",b6);const x6=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],_6=rt("image",x6);const w6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],R_=rt("info",w6);const S6=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],C6=rt("lightbulb",S6);const E6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],WO=rt("loader-circle",E6);const A6=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],ih=rt("loader",A6);const T6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],R6=rt("lock",T6);const k6=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],N6=rt("log-in",k6);const O6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],c1=rt("log-out",O6);const P6=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],M6=rt("menu",P6);const D6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],YO=rt("pencil",D6);const L6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],qm=rt("plus",L6);const j6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],I6=rt("rotate-ccw",j6);const z6=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],Nx=rt("route",z6);const B6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ZO=rt("search",B6);const U6=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],F6=rt("settings",U6);const V6=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],XO=rt("shuffle",V6);const $6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],H6=rt("target",$6);const G6=[["path",{d:"m10.065 12.493-6.18 1.318a.934.934 0 0 1-1.108-.702l-.537-2.15a1.07 1.07 0 0 1 .691-1.265l13.504-4.44",key:"k4qptu"}],["path",{d:"m13.56 11.747 4.332-.924",key:"19l80z"}],["path",{d:"m16 21-3.105-6.21",key:"7oh9d"}],["path",{d:"M16.485 5.94a2 2 0 0 1 1.455-2.425l1.09-.272a1 1 0 0 1 1.212.727l1.515 6.06a1 1 0 0 1-.727 1.213l-1.09.272a2 2 0 0 1-2.425-1.455z",key:"m7xp4m"}],["path",{d:"m6.158 8.633 1.114 4.456",key:"74o979"}],["path",{d:"m8 21 3.105-6.21",key:"1fvxut"}],["circle",{cx:"12",cy:"13",r:"2",key:"1c1ljs"}]],K6=rt("telescope",G6);const q6=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],W6=rt("trending-up",q6);const Y6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],QO=rt("triangle-alert",Y6);const Z6=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],JO=rt("trophy",Z6);const X6=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Q6=rt("volume-2",X6);const J6=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],eH=rt("volume-x",J6);const tH=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Da=rt("x",tH);const nH=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],iH=rt("zap",nH);function eP(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=eP(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function tP(){for(var e,t,n=0,i="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=eP(e))&&(i&&(i+=" "),i+=t);return i}const sH=(e,t)=>{const n=new Array(e.length+t.length);for(let i=0;i<e.length;i++)n[i]=e[i];for(let i=0;i<t.length;i++)n[e.length+i]=t[i];return n},rH=(e,t)=>({classGroupId:e,validator:t}),nP=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Wm="-",u1=[],oH="arbitrary..",aH=e=>{const t=cH(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return lH(l);const c=l.split(Wm),d=c[0]===""&&c.length>1?1:0;return iP(c,d,t)},getConflictingClassGroupIds:(l,c)=>{if(c){const d=i[l],h=n[l];return d?h?sH(h,d):d:h||u1}return n[l]||u1}}},iP=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const s=e[t],o=n.nextPart.get(s);if(o){const h=iP(e,t+1,o);if(h)return h}const l=n.validators;if(l===null)return;const c=t===0?e.join(Wm):e.slice(t).join(Wm),d=l.length;for(let h=0;h<d;h++){const m=l[h];if(m.validator(c))return m.classGroupId}},lH=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),i=t.slice(0,n);return i?oH+i:void 0})(),cH=e=>{const{theme:t,classGroups:n}=e;return uH(n,t)},uH=(e,t)=>{const n=nP();for(const i in e){const s=e[i];k_(s,n,i,t)}return n},k_=(e,t,n,i)=>{const s=e.length;for(let o=0;o<s;o++){const l=e[o];dH(l,t,n,i)}},dH=(e,t,n,i)=>{if(typeof e=="string"){fH(e,t,n);return}if(typeof e=="function"){hH(e,t,n,i);return}pH(e,t,n,i)},fH=(e,t,n)=>{const i=e===""?t:sP(t,e);i.classGroupId=n},hH=(e,t,n,i)=>{if(mH(e)){k_(e(i),t,n,i);return}t.validators===null&&(t.validators=[]),t.validators.push(rH(n,e))},pH=(e,t,n,i)=>{const s=Object.entries(e),o=s.length;for(let l=0;l<o;l++){const[c,d]=s[l];k_(d,sP(t,c),n,i)}},sP=(e,t)=>{let n=e;const i=t.split(Wm),s=i.length;for(let o=0;o<s;o++){const l=i[o];let c=n.nextPart.get(l);c||(c=nP(),n.nextPart.set(l,c)),n=c}return n},mH=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,gH=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),i=Object.create(null);const s=(o,l)=>{n[o]=l,t++,t>e&&(t=0,i=n,n=Object.create(null))};return{get(o){let l=n[o];if(l!==void 0)return l;if((l=i[o])!==void 0)return s(o,l),l},set(o,l){o in n?n[o]=l:s(o,l)}}},Ox="!",d1=":",vH=[],f1=(e,t,n,i,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:i,isExternal:s}),yH=e=>{const{prefix:t,experimentalParseClassName:n}=e;let i=s=>{const o=[];let l=0,c=0,d=0,h;const m=s.length;for(let E=0;E<m;E++){const T=s[E];if(l===0&&c===0){if(T===d1){o.push(s.slice(d,E)),d=E+1;continue}if(T==="/"){h=E;continue}}T==="["?l++:T==="]"?l--:T==="("?c++:T===")"&&c--}const v=o.length===0?s:s.slice(d);let b=v,_=!1;v.endsWith(Ox)?(b=v.slice(0,-1),_=!0):v.startsWith(Ox)&&(b=v.slice(1),_=!0);const C=h&&h>d?h-d:void 0;return f1(o,_,b,C)};if(t){const s=t+d1,o=i;i=l=>l.startsWith(s)?o(l.slice(s.length)):f1(vH,!1,l,void 0,!0)}if(n){const s=i;i=o=>n({className:o,parseClassName:s})}return i},bH=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,i)=>{t.set(n,1e6+i)}),n=>{const i=[];let s=[];for(let o=0;o<n.length;o++){const l=n[o],c=l[0]==="[",d=t.has(l);c||d?(s.length>0&&(s.sort(),i.push(...s),s=[]),i.push(l)):s.push(l)}return s.length>0&&(s.sort(),i.push(...s)),i}},xH=e=>({cache:gH(e.cacheSize),parseClassName:yH(e),sortModifiers:bH(e),...aH(e)}),_H=/\s+/,wH=(e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:s,sortModifiers:o}=t,l=[],c=e.trim().split(_H);let d="";for(let h=c.length-1;h>=0;h-=1){const m=c[h],{isExternal:v,modifiers:b,hasImportantModifier:_,baseClassName:C,maybePostfixModifierPosition:E}=n(m);if(v){d=m+(d.length>0?" "+d:d);continue}let T=!!E,N=i(T?C.substring(0,E):C);if(!N){if(!T){d=m+(d.length>0?" "+d:d);continue}if(N=i(C),!N){d=m+(d.length>0?" "+d:d);continue}T=!1}const k=b.length===0?"":b.length===1?b[0]:o(b).join(":"),O=_?k+Ox:k,M=O+N;if(l.indexOf(M)>-1)continue;l.push(M);const j=s(N,T);for(let V=0;V<j.length;++V){const z=j[V];l.push(O+z)}d=m+(d.length>0?" "+d:d)}return d},SH=(...e)=>{let t=0,n,i,s="";for(;t<e.length;)(n=e[t++])&&(i=rP(n))&&(s&&(s+=" "),s+=i);return s},rP=e=>{if(typeof e=="string")return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=rP(e[i]))&&(n&&(n+=" "),n+=t);return n},CH=(e,...t)=>{let n,i,s,o;const l=d=>{const h=t.reduce((m,v)=>v(m),e());return n=xH(h),i=n.cache.get,s=n.cache.set,o=c,c(d)},c=d=>{const h=i(d);if(h)return h;const m=wH(d,n);return s(d,m),m};return o=l,(...d)=>o(SH(...d))},EH=[],Un=e=>{const t=n=>n[e]||EH;return t.isThemeGetter=!0,t},oP=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,aP=/^\((?:(\w[\w-]*):)?(.+)\)$/i,AH=/^\d+(?:\.\d+)?\/\d+(?:\.\d+)?$/,TH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,RH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,kH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,NH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,OH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,va=e=>AH.test(e),ht=e=>!!e&&!Number.isNaN(Number(e)),ya=e=>!!e&&Number.isInteger(Number(e)),Ab=e=>e.endsWith("%")&&ht(e.slice(0,-1)),Ao=e=>TH.test(e),lP=()=>!0,PH=e=>RH.test(e)&&!kH.test(e),N_=()=>!1,MH=e=>NH.test(e),DH=e=>OH.test(e),LH=e=>!Fe(e)&&!$e(e),jH=e=>Ua(e,dP,N_),Fe=e=>oP.test(e),Cl=e=>Ua(e,fP,PH),h1=e=>Ua(e,HH,ht),IH=e=>Ua(e,pP,lP),zH=e=>Ua(e,hP,N_),p1=e=>Ua(e,cP,N_),BH=e=>Ua(e,uP,DH),Wp=e=>Ua(e,mP,MH),$e=e=>aP.test(e),Yd=e=>nc(e,fP),UH=e=>nc(e,hP),m1=e=>nc(e,cP),FH=e=>nc(e,dP),VH=e=>nc(e,uP),Yp=e=>nc(e,mP,!0),$H=e=>nc(e,pP,!0),Ua=(e,t,n)=>{const i=oP.exec(e);return i?i[1]?t(i[1]):n(i[2]):!1},nc=(e,t,n=!1)=>{const i=aP.exec(e);return i?i[1]?t(i[1]):n:!1},cP=e=>e==="position"||e==="percentage",uP=e=>e==="image"||e==="url",dP=e=>e==="length"||e==="size"||e==="bg-size",fP=e=>e==="length",HH=e=>e==="number",hP=e=>e==="family-name",pP=e=>e==="number"||e==="weight",mP=e=>e==="shadow",GH=()=>{const e=Un("color"),t=Un("font"),n=Un("text"),i=Un("font-weight"),s=Un("tracking"),o=Un("leading"),l=Un("breakpoint"),c=Un("container"),d=Un("spacing"),h=Un("radius"),m=Un("shadow"),v=Un("inset-shadow"),b=Un("text-shadow"),_=Un("drop-shadow"),C=Un("blur"),E=Un("perspective"),T=Un("aspect"),N=Un("ease"),k=Un("animate"),O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],j=()=>[...M(),$e,Fe],V=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],I=()=>[$e,Fe,d],$=()=>[va,"full","auto",...I()],Y=()=>[ya,"none","subgrid",$e,Fe],q=()=>["auto",{span:["full",ya,$e,Fe]},ya,$e,Fe],W=()=>[ya,"auto",$e,Fe],Z=()=>["auto","min","max","fr",$e,Fe],ie=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ye=()=>["start","end","center","stretch","center-safe","end-safe"],G=()=>["auto",...I()],X=()=>[va,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],ne=()=>[va,"screen","full","dvw","lvw","svw","min","max","fit",...I()],de=()=>[va,"screen","full","lh","dvh","lvh","svh","min","max","fit",...I()],ae=()=>[e,$e,Fe],K=()=>[...M(),m1,p1,{position:[$e,Fe]}],oe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],be=()=>["auto","cover","contain",FH,jH,{size:[$e,Fe]}],xe=()=>[Ab,Yd,Cl],Re=()=>["","none","full",h,$e,Fe],we=()=>["",ht,Yd,Cl],Se=()=>["solid","dashed","dotted","double"],je=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],De=()=>[ht,Ab,m1,p1],Le=()=>["","none",C,$e,Fe],Ze=()=>["none",ht,$e,Fe],Xe=()=>["none",ht,$e,Fe],Ct=()=>[ht,$e,Fe],yt=()=>[va,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ao],breakpoint:[Ao],color:[lP],container:[Ao],"drop-shadow":[Ao],ease:["in","out","in-out"],font:[LH],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ao],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ao],shadow:[Ao],spacing:["px",ht],text:[Ao],"text-shadow":[Ao],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",va,Fe,$e,T]}],container:["container"],columns:[{columns:[ht,Fe,$e,c]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:j()}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:$()}],"inset-x":[{"inset-x":$()}],"inset-y":[{"inset-y":$()}],start:[{"inset-s":$(),start:$()}],end:[{"inset-e":$(),end:$()}],"inset-bs":[{"inset-bs":$()}],"inset-be":[{"inset-be":$()}],top:[{top:$()}],right:[{right:$()}],bottom:[{bottom:$()}],left:[{left:$()}],visibility:["visible","invisible","collapse"],z:[{z:[ya,"auto",$e,Fe]}],basis:[{basis:[va,"full","auto",c,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ht,va,"auto","initial","none",Fe]}],grow:[{grow:["",ht,$e,Fe]}],shrink:[{shrink:["",ht,$e,Fe]}],order:[{order:[ya,"first","last","none",$e,Fe]}],"grid-cols":[{"grid-cols":Y()}],"col-start-end":[{col:q()}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":Y()}],"row-start-end":[{row:q()}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Z()}],"auto-rows":[{"auto-rows":Z()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...ie(),"normal"]}],"justify-items":[{"justify-items":[...ye(),"normal"]}],"justify-self":[{"justify-self":["auto",...ye()]}],"align-content":[{content:["normal",...ie()]}],"align-items":[{items:[...ye(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ye(),{baseline:["","last"]}]}],"place-content":[{"place-content":ie()}],"place-items":[{"place-items":[...ye(),"baseline"]}],"place-self":[{"place-self":["auto",...ye()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pbs:[{pbs:I()}],pbe:[{pbe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:G()}],mx:[{mx:G()}],my:[{my:G()}],ms:[{ms:G()}],me:[{me:G()}],mbs:[{mbs:G()}],mbe:[{mbe:G()}],mt:[{mt:G()}],mr:[{mr:G()}],mb:[{mb:G()}],ml:[{ml:G()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:X()}],"inline-size":[{inline:["auto",...ne()]}],"min-inline-size":[{"min-inline":["auto",...ne()]}],"max-inline-size":[{"max-inline":["none",...ne()]}],"block-size":[{block:["auto",...de()]}],"min-block-size":[{"min-block":["auto",...de()]}],"max-block-size":[{"max-block":["none",...de()]}],w:[{w:[c,"screen",...X()]}],"min-w":[{"min-w":[c,"screen","none",...X()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...X()]}],h:[{h:["screen","lh",...X()]}],"min-h":[{"min-h":["screen","lh","none",...X()]}],"max-h":[{"max-h":["screen","lh",...X()]}],"font-size":[{text:["base",n,Yd,Cl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,$H,IH]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ab,Fe]}],"font-family":[{font:[UH,zH,t]}],"font-features":[{"font-features":[Fe]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,$e,Fe]}],"line-clamp":[{"line-clamp":[ht,"none",$e,h1]}],leading:[{leading:[o,...I()]}],"list-image":[{"list-image":["none",$e,Fe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",$e,Fe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ae()}],"text-color":[{text:ae()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Se(),"wavy"]}],"text-decoration-thickness":[{decoration:[ht,"from-font","auto",$e,Cl]}],"text-decoration-color":[{decoration:ae()}],"underline-offset":[{"underline-offset":[ht,"auto",$e,Fe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e,Fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e,Fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:oe()}],"bg-size":[{bg:be()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ya,$e,Fe],radial:["",$e,Fe],conic:[ya,$e,Fe]},VH,BH]}],"bg-color":[{bg:ae()}],"gradient-from-pos":[{from:xe()}],"gradient-via-pos":[{via:xe()}],"gradient-to-pos":[{to:xe()}],"gradient-from":[{from:ae()}],"gradient-via":[{via:ae()}],"gradient-to":[{to:ae()}],rounded:[{rounded:Re()}],"rounded-s":[{"rounded-s":Re()}],"rounded-e":[{"rounded-e":Re()}],"rounded-t":[{"rounded-t":Re()}],"rounded-r":[{"rounded-r":Re()}],"rounded-b":[{"rounded-b":Re()}],"rounded-l":[{"rounded-l":Re()}],"rounded-ss":[{"rounded-ss":Re()}],"rounded-se":[{"rounded-se":Re()}],"rounded-ee":[{"rounded-ee":Re()}],"rounded-es":[{"rounded-es":Re()}],"rounded-tl":[{"rounded-tl":Re()}],"rounded-tr":[{"rounded-tr":Re()}],"rounded-br":[{"rounded-br":Re()}],"rounded-bl":[{"rounded-bl":Re()}],"border-w":[{border:we()}],"border-w-x":[{"border-x":we()}],"border-w-y":[{"border-y":we()}],"border-w-s":[{"border-s":we()}],"border-w-e":[{"border-e":we()}],"border-w-bs":[{"border-bs":we()}],"border-w-be":[{"border-be":we()}],"border-w-t":[{"border-t":we()}],"border-w-r":[{"border-r":we()}],"border-w-b":[{"border-b":we()}],"border-w-l":[{"border-l":we()}],"divide-x":[{"divide-x":we()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":we()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Se(),"hidden","none"]}],"divide-style":[{divide:[...Se(),"hidden","none"]}],"border-color":[{border:ae()}],"border-color-x":[{"border-x":ae()}],"border-color-y":[{"border-y":ae()}],"border-color-s":[{"border-s":ae()}],"border-color-e":[{"border-e":ae()}],"border-color-bs":[{"border-bs":ae()}],"border-color-be":[{"border-be":ae()}],"border-color-t":[{"border-t":ae()}],"border-color-r":[{"border-r":ae()}],"border-color-b":[{"border-b":ae()}],"border-color-l":[{"border-l":ae()}],"divide-color":[{divide:ae()}],"outline-style":[{outline:[...Se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ht,$e,Fe]}],"outline-w":[{outline:["",ht,Yd,Cl]}],"outline-color":[{outline:ae()}],shadow:[{shadow:["","none",m,Yp,Wp]}],"shadow-color":[{shadow:ae()}],"inset-shadow":[{"inset-shadow":["none",v,Yp,Wp]}],"inset-shadow-color":[{"inset-shadow":ae()}],"ring-w":[{ring:we()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ae()}],"ring-offset-w":[{"ring-offset":[ht,Cl]}],"ring-offset-color":[{"ring-offset":ae()}],"inset-ring-w":[{"inset-ring":we()}],"inset-ring-color":[{"inset-ring":ae()}],"text-shadow":[{"text-shadow":["none",b,Yp,Wp]}],"text-shadow-color":[{"text-shadow":ae()}],opacity:[{opacity:[ht,$e,Fe]}],"mix-blend":[{"mix-blend":[...je(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":je()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ht]}],"mask-image-linear-from-pos":[{"mask-linear-from":De()}],"mask-image-linear-to-pos":[{"mask-linear-to":De()}],"mask-image-linear-from-color":[{"mask-linear-from":ae()}],"mask-image-linear-to-color":[{"mask-linear-to":ae()}],"mask-image-t-from-pos":[{"mask-t-from":De()}],"mask-image-t-to-pos":[{"mask-t-to":De()}],"mask-image-t-from-color":[{"mask-t-from":ae()}],"mask-image-t-to-color":[{"mask-t-to":ae()}],"mask-image-r-from-pos":[{"mask-r-from":De()}],"mask-image-r-to-pos":[{"mask-r-to":De()}],"mask-image-r-from-color":[{"mask-r-from":ae()}],"mask-image-r-to-color":[{"mask-r-to":ae()}],"mask-image-b-from-pos":[{"mask-b-from":De()}],"mask-image-b-to-pos":[{"mask-b-to":De()}],"mask-image-b-from-color":[{"mask-b-from":ae()}],"mask-image-b-to-color":[{"mask-b-to":ae()}],"mask-image-l-from-pos":[{"mask-l-from":De()}],"mask-image-l-to-pos":[{"mask-l-to":De()}],"mask-image-l-from-color":[{"mask-l-from":ae()}],"mask-image-l-to-color":[{"mask-l-to":ae()}],"mask-image-x-from-pos":[{"mask-x-from":De()}],"mask-image-x-to-pos":[{"mask-x-to":De()}],"mask-image-x-from-color":[{"mask-x-from":ae()}],"mask-image-x-to-color":[{"mask-x-to":ae()}],"mask-image-y-from-pos":[{"mask-y-from":De()}],"mask-image-y-to-pos":[{"mask-y-to":De()}],"mask-image-y-from-color":[{"mask-y-from":ae()}],"mask-image-y-to-color":[{"mask-y-to":ae()}],"mask-image-radial":[{"mask-radial":[$e,Fe]}],"mask-image-radial-from-pos":[{"mask-radial-from":De()}],"mask-image-radial-to-pos":[{"mask-radial-to":De()}],"mask-image-radial-from-color":[{"mask-radial-from":ae()}],"mask-image-radial-to-color":[{"mask-radial-to":ae()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":M()}],"mask-image-conic-pos":[{"mask-conic":[ht]}],"mask-image-conic-from-pos":[{"mask-conic-from":De()}],"mask-image-conic-to-pos":[{"mask-conic-to":De()}],"mask-image-conic-from-color":[{"mask-conic-from":ae()}],"mask-image-conic-to-color":[{"mask-conic-to":ae()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:oe()}],"mask-size":[{mask:be()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",$e,Fe]}],filter:[{filter:["","none",$e,Fe]}],blur:[{blur:Le()}],brightness:[{brightness:[ht,$e,Fe]}],contrast:[{contrast:[ht,$e,Fe]}],"drop-shadow":[{"drop-shadow":["","none",_,Yp,Wp]}],"drop-shadow-color":[{"drop-shadow":ae()}],grayscale:[{grayscale:["",ht,$e,Fe]}],"hue-rotate":[{"hue-rotate":[ht,$e,Fe]}],invert:[{invert:["",ht,$e,Fe]}],saturate:[{saturate:[ht,$e,Fe]}],sepia:[{sepia:["",ht,$e,Fe]}],"backdrop-filter":[{"backdrop-filter":["","none",$e,Fe]}],"backdrop-blur":[{"backdrop-blur":Le()}],"backdrop-brightness":[{"backdrop-brightness":[ht,$e,Fe]}],"backdrop-contrast":[{"backdrop-contrast":[ht,$e,Fe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ht,$e,Fe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ht,$e,Fe]}],"backdrop-invert":[{"backdrop-invert":["",ht,$e,Fe]}],"backdrop-opacity":[{"backdrop-opacity":[ht,$e,Fe]}],"backdrop-saturate":[{"backdrop-saturate":[ht,$e,Fe]}],"backdrop-sepia":[{"backdrop-sepia":["",ht,$e,Fe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",$e,Fe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ht,"initial",$e,Fe]}],ease:[{ease:["linear","initial",N,$e,Fe]}],delay:[{delay:[ht,$e,Fe]}],animate:[{animate:["none",k,$e,Fe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,$e,Fe]}],"perspective-origin":[{"perspective-origin":j()}],rotate:[{rotate:Ze()}],"rotate-x":[{"rotate-x":Ze()}],"rotate-y":[{"rotate-y":Ze()}],"rotate-z":[{"rotate-z":Ze()}],scale:[{scale:Xe()}],"scale-x":[{"scale-x":Xe()}],"scale-y":[{"scale-y":Xe()}],"scale-z":[{"scale-z":Xe()}],"scale-3d":["scale-3d"],skew:[{skew:Ct()}],"skew-x":[{"skew-x":Ct()}],"skew-y":[{"skew-y":Ct()}],transform:[{transform:[$e,Fe,"","none","gpu","cpu"]}],"transform-origin":[{origin:j()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:yt()}],"translate-x":[{"translate-x":yt()}],"translate-y":[{"translate-y":yt()}],"translate-z":[{"translate-z":yt()}],"translate-none":["translate-none"],accent:[{accent:ae()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ae()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e,Fe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mbs":[{"scroll-mbs":I()}],"scroll-mbe":[{"scroll-mbe":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pbs":[{"scroll-pbs":I()}],"scroll-pbe":[{"scroll-pbe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e,Fe]}],fill:[{fill:["none",...ae()]}],"stroke-w":[{stroke:[ht,Yd,Cl,h1]}],stroke:[{stroke:["none",...ae()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","inset-bs","inset-be","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pbs","pbe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mbs","mbe","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-bs","border-w-be","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-bs","border-color-be","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mbs","scroll-mbe","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pbs","scroll-pbe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},KH=CH(GH);function it(...e){return KH(tP(e))}function gP({...e}){return y.jsx(R$,{"data-slot":"dropdown-menu",...e})}function Tb({...e}){return y.jsx(FO,{"data-slot":"dropdown-menu-portal",...e})}function vP({...e}){return y.jsx(k$,{"data-slot":"dropdown-menu-trigger",...e})}function yP({className:e,sideOffset:t=4,...n}){return y.jsx(FO,{children:y.jsx(N$,{"data-slot":"dropdown-menu-content",sideOffset:t,className:it("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function qH({...e}){return y.jsx(O$,{"data-slot":"dropdown-menu-group",...e})}function Xi({className:e,inset:t,variant:n="default",...i}){return y.jsx(P$,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:it("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default cursor-pointer items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...i})}function ba({className:e,...t}){return y.jsx(M$,{"data-slot":"dropdown-menu-separator",className:it("bg-border -mx-1 my-1 h-px",e),...t})}function Rb({...e}){return y.jsx(D$,{"data-slot":"dropdown-menu-sub",...e})}function kb({className:e,inset:t,children:n,...i}){return y.jsxs(L$,{"data-slot":"dropdown-menu-sub-trigger","data-inset":t,className:it("focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8",e),...i,children:[n,y.jsx(Iu,{className:"ml-auto size-4"})]})}function Nb({className:e,...t}){return y.jsx(j$,{"data-slot":"dropdown-menu-sub-content",className:it("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg",e),...t})}const ot=e=>typeof e=="string",Zd=()=>{let e,t;const n=new Promise((i,s)=>{e=i,t=s});return n.resolve=e,n.reject=t,n},g1=e=>e==null?"":""+e,WH=(e,t,n)=>{e.forEach(i=>{t[i]&&(n[i]=t[i])})},YH=/###/g,v1=e=>e&&e.indexOf("###")>-1?e.replace(YH,"."):e,y1=e=>!e||ot(e),cf=(e,t,n)=>{const i=ot(t)?t.split("."):t;let s=0;for(;s<i.length-1;){if(y1(e))return{};const o=v1(i[s]);!e[o]&&n&&(e[o]=new n),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={},++s}return y1(e)?{}:{obj:e,k:v1(i[s])}},b1=(e,t,n)=>{const{obj:i,k:s}=cf(e,t,Object);if(i!==void 0||t.length===1){i[s]=n;return}let o=t[t.length-1],l=t.slice(0,t.length-1),c=cf(e,l,Object);for(;c.obj===void 0&&l.length;)o=`${l[l.length-1]}.${o}`,l=l.slice(0,l.length-1),c=cf(e,l,Object),c?.obj&&typeof c.obj[`${c.k}.${o}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${o}`]=n},ZH=(e,t,n,i)=>{const{obj:s,k:o}=cf(e,t,Object);s[o]=s[o]||[],s[o].push(n)},Ym=(e,t)=>{const{obj:n,k:i}=cf(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,i))return n[i]},XH=(e,t,n)=>{const i=Ym(e,n);return i!==void 0?i:Ym(t,n)},bP=(e,t,n)=>{for(const i in t)i!=="__proto__"&&i!=="constructor"&&(i in e?ot(e[i])||e[i]instanceof String||ot(t[i])||t[i]instanceof String?n&&(e[i]=t[i]):bP(e[i],t[i],n):e[i]=t[i]);return e},El=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var QH={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const JH=e=>ot(e)?e.replace(/[&<>"'\/]/g,t=>QH[t]):e;class e8{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const i=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,i),this.regExpQueue.push(t),i}}const t8=[" ",",","?","!",";"],n8=new e8(20),i8=(e,t,n)=>{t=t||"",n=n||"";const i=t8.filter(l=>t.indexOf(l)<0&&n.indexOf(l)<0);if(i.length===0)return!0;const s=n8.getRegExp(`(${i.map(l=>l==="?"?"\\?":l).join("|")})`);let o=!s.test(e);if(!o){const l=e.indexOf(n);l>0&&!s.test(e.substring(0,l))&&(o=!0)}return o},Px=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const i=t.split(n);let s=e;for(let o=0;o<i.length;){if(!s||typeof s!="object")return;let l,c="";for(let d=o;d<i.length;++d)if(d!==o&&(c+=n),c+=i[d],l=s[c],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&d<i.length-1)continue;o+=d-o+1;break}s=l}return s},Af=e=>e?.replace("_","-"),s8={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class Zm{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||s8,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,i,s){return s&&!this.debug?null:(ot(t[0])&&(t[0]=`${i}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Zm(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Zm(this.logger,t)}}var Kr=new Zm;class jg{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const s=this.observers[i].get(n)||0;this.observers[i].set(n,s+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([s,o])=>{for(let l=0;l<o;l++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,o])=>{for(let l=0;l<o;l++)s.apply(s,[t,...n])})}}class x1 extends jg{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,i,s={}){const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;t.indexOf(".")>-1?c=t.split("."):(c=[t,n],i&&(Array.isArray(i)?c.push(...i):ot(i)&&o?c.push(...i.split(o)):c.push(i)));const d=Ym(this.data,c);return!d&&!n&&!i&&t.indexOf(".")>-1&&(t=c[0],n=c[1],i=c.slice(2).join(".")),d||!l||!ot(i)?d:Px(this.data?.[t]?.[n],i,o)}addResource(t,n,i,s,o={silent:!1}){const l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let c=[t,n];i&&(c=c.concat(l?i.split(l):i)),t.indexOf(".")>-1&&(c=t.split("."),s=n,n=c[1]),this.addNamespaces(n),b1(this.data,c,s),o.silent||this.emit("added",t,n,i,s)}addResources(t,n,i,s={silent:!1}){for(const o in i)(ot(i[o])||Array.isArray(i[o]))&&this.addResource(t,n,o,i[o],{silent:!0});s.silent||this.emit("added",t,n,i)}addResourceBundle(t,n,i,s,o,l={silent:!1,skipCopy:!1}){let c=[t,n];t.indexOf(".")>-1&&(c=t.split("."),s=i,i=n,n=c[1]),this.addNamespaces(n);let d=Ym(this.data,c)||{};l.skipCopy||(i=JSON.parse(JSON.stringify(i))),s?bP(d,i,o):d={...d,...i},b1(this.data,c,d),l.silent||this.emit("added",t,n,i)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var xP={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,i,s){return e.forEach(o=>{t=this.processors[o]?.process(t,n,i,s)??t}),t}};const _P=Symbol("i18next/PATH_KEY");function r8(){const e=[],t=Object.create(null);let n;return t.get=(i,s)=>(n?.revoke?.(),s===_P?e:(e.push(s),n=Proxy.revocable(i,t),n.proxy)),Proxy.revocable(Object.create(null),t).proxy}function Mx(e,t){const{[_P]:n}=e(r8());return n.join(t?.keySeparator??".")}const _1={},Ob=e=>!ot(e)&&typeof e!="boolean"&&typeof e!="number";class Xm extends jg{constructor(t,n={}){super(),WH(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Kr.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const i={...n};if(t==null)return!1;const s=this.resolve(t,i);if(s?.res===void 0)return!1;const o=Ob(s.res);return!(i.returnObjects===!1&&o)}extractFromKey(t,n){let i=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const l=i&&t.indexOf(i)>-1,c=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!i8(t,i,s);if(l&&!c){const d=t.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:t,namespaces:ot(o)?[o]:o};const h=t.split(i);(i!==s||i===s&&this.options.ns.indexOf(h[0])>-1)&&(o=h.shift()),t=h.join(s)}return{key:t,namespaces:ot(o)?[o]:o}}translate(t,n,i){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),t==null)return"";typeof t=="function"&&(t=Mx(t,{...this.options,...s})),Array.isArray(t)||(t=[String(t)]);const o=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:c,namespaces:d}=this.extractFromKey(t[t.length-1],s),h=d[d.length-1];let m=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;m===void 0&&(m=":");const v=s.lng||this.language,b=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v?.toLowerCase()==="cimode")return b?o?{res:`${h}${m}${c}`,usedKey:c,exactUsedKey:c,usedLng:v,usedNS:h,usedParams:this.getUsedParamsDetails(s)}:`${h}${m}${c}`:o?{res:c,usedKey:c,exactUsedKey:c,usedLng:v,usedNS:h,usedParams:this.getUsedParamsDetails(s)}:c;const _=this.resolve(t,s);let C=_?.res;const E=_?.usedKey||c,T=_?.exactUsedKey||c,N=["[object Number]","[object Function]","[object RegExp]"],k=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,O=!this.i18nFormat||this.i18nFormat.handleAsObject,M=s.count!==void 0&&!ot(s.count),j=Xm.hasDefaultValue(s),V=M?this.pluralResolver.getSuffix(v,s.count,s):"",z=s.ordinal&&M?this.pluralResolver.getSuffix(v,s.count,{ordinal:!1}):"",I=M&&!s.ordinal&&s.count===0,$=I&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${V}`]||s[`defaultValue${z}`]||s.defaultValue;let Y=C;O&&!C&&j&&(Y=$);const q=Ob(Y),W=Object.prototype.toString.apply(Y);if(O&&Y&&q&&N.indexOf(W)<0&&!(ot(k)&&Array.isArray(Y))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const Z=this.options.returnedObjectHandler?this.options.returnedObjectHandler(E,Y,{...s,ns:d}):`key '${c} (${this.language})' returned an object instead of string.`;return o?(_.res=Z,_.usedParams=this.getUsedParamsDetails(s),_):Z}if(l){const Z=Array.isArray(Y),ie=Z?[]:{},ye=Z?T:E;for(const G in Y)if(Object.prototype.hasOwnProperty.call(Y,G)){const X=`${ye}${l}${G}`;j&&!C?ie[G]=this.translate(X,{...s,defaultValue:Ob($)?$[G]:void 0,joinArrays:!1,ns:d}):ie[G]=this.translate(X,{...s,joinArrays:!1,ns:d}),ie[G]===X&&(ie[G]=Y[G])}C=ie}}else if(O&&ot(k)&&Array.isArray(C))C=C.join(k),C&&(C=this.extendTranslation(C,t,s,i));else{let Z=!1,ie=!1;!this.isValidLookup(C)&&j&&(Z=!0,C=$),this.isValidLookup(C)||(ie=!0,C=c);const G=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ie?void 0:C,X=j&&$!==C&&this.options.updateMissing;if(ie||Z||X){if(this.logger.log(X?"updateKey":"missingKey",v,h,c,X?$:C),l){const K=this.resolve(c,{...s,keySeparator:!1});K&&K.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ne=[];const de=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&de&&de[0])for(let K=0;K<de.length;K++)ne.push(de[K]);else this.options.saveMissingTo==="all"?ne=this.languageUtils.toResolveHierarchy(s.lng||this.language):ne.push(s.lng||this.language);const ae=(K,oe,be)=>{const xe=j&&be!==C?be:G;this.options.missingKeyHandler?this.options.missingKeyHandler(K,h,oe,xe,X,s):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(K,h,oe,xe,X,s),this.emit("missingKey",K,h,oe,C)};this.options.saveMissing&&(this.options.saveMissingPlurals&&M?ne.forEach(K=>{const oe=this.pluralResolver.getSuffixes(K,s);I&&s[`defaultValue${this.options.pluralSeparator}zero`]&&oe.indexOf(`${this.options.pluralSeparator}zero`)<0&&oe.push(`${this.options.pluralSeparator}zero`),oe.forEach(be=>{ae([K],c+be,s[`defaultValue${be}`]||$)})}):ae(ne,c,$))}C=this.extendTranslation(C,t,s,_,i),ie&&C===c&&this.options.appendNamespaceToMissingKey&&(C=`${h}${m}${c}`),(ie||Z)&&this.options.parseMissingKeyHandler&&(C=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${m}${c}`:c,Z?C:void 0,s))}return o?(_.res=C,_.usedParams=this.getUsedParamsDetails(s),_):C}extendTranslation(t,n,i,s,o){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const d=ot(t)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(d){const v=t.match(this.interpolator.nestingRegexp);h=v&&v.length}let m=i.replace&&!ot(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),t=this.interpolator.interpolate(t,m,i.lng||this.language||s.usedLng,i),d){const v=t.match(this.interpolator.nestingRegexp),b=v&&v.length;h<b&&(i.nest=!1)}!i.lng&&s&&s.res&&(i.lng=this.language||s.usedLng),i.nest!==!1&&(t=this.interpolator.nest(t,(...v)=>o?.[0]===v[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${n[0]}`),null):this.translate(...v,n),i)),i.interpolation&&this.interpolator.reset()}const l=i.postProcess||this.options.postProcess,c=ot(l)?[l]:l;return t!=null&&c?.length&&i.applyPostProcessor!==!1&&(t=xP.handle(c,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),t}resolve(t,n={}){let i,s,o,l,c;return ot(t)&&(t=[t]),t.forEach(d=>{if(this.isValidLookup(i))return;const h=this.extractFromKey(d,n),m=h.key;s=m;let v=h.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const b=n.count!==void 0&&!ot(n.count),_=b&&!n.ordinal&&n.count===0,C=n.context!==void 0&&(ot(n.context)||typeof n.context=="number")&&n.context!=="",E=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);v.forEach(T=>{this.isValidLookup(i)||(c=T,!_1[`${E[0]}-${T}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(c)&&(_1[`${E[0]}-${T}`]=!0,this.logger.warn(`key "${s}" for languages "${E.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),E.forEach(N=>{if(this.isValidLookup(i))return;l=N;const k=[m];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(k,m,N,T,n);else{let M;b&&(M=this.pluralResolver.getSuffix(N,n.count,n));const j=`${this.options.pluralSeparator}zero`,V=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(b&&(n.ordinal&&M.indexOf(V)===0&&k.push(m+M.replace(V,this.options.pluralSeparator)),k.push(m+M),_&&k.push(m+j)),C){const z=`${m}${this.options.contextSeparator||"_"}${n.context}`;k.push(z),b&&(n.ordinal&&M.indexOf(V)===0&&k.push(z+M.replace(V,this.options.pluralSeparator)),k.push(z+M),_&&k.push(z+j))}}let O;for(;O=k.pop();)this.isValidLookup(i)||(o=O,i=this.getResource(N,T,O,n))}))})}),{res:i,usedKey:s,exactUsedKey:o,usedLng:l,usedNS:c}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,i,s={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,n,i,s):this.resourceStore.getResource(t,n,i,s)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=t.replace&&!ot(t.replace);let s=i?t.replace:t;if(i&&typeof t.count<"u"&&(s.count=t.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!i){s={...s};for(const o of n)delete s[o]}return s}static hasDefaultValue(t){const n="defaultValue";for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&n===i.substring(0,n.length)&&t[i]!==void 0)return!0;return!1}}class w1{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Kr.create("languageUtils")}getScriptPartFromCode(t){if(t=Af(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=Af(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(ot(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(i=>{if(n)return;const s=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&t.forEach(i=>{if(n)return;const s=this.getScriptPartFromCode(i);if(this.isSupportedCode(s))return n=s;const o=this.getLanguagePartFromCode(i);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(l=>{if(l===o)return l;if(!(l.indexOf("-")<0&&o.indexOf("-")<0)&&(l.indexOf("-")>0&&o.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===o||l.indexOf(o)===0&&o.length>1))return l})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),ot(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let i=t[n];return i||(i=t[this.getScriptPartFromCode(n)]),i||(i=t[this.formatLanguageCode(n)]),i||(i=t[this.getLanguagePartFromCode(n)]),i||(i=t.default),i||[]}toResolveHierarchy(t,n){const i=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),s=[],o=l=>{l&&(this.isSupportedCode(l)?s.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return ot(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):ot(t)&&o(this.formatLanguageCode(t)),i.forEach(l=>{s.indexOf(l)<0&&o(this.formatLanguageCode(l))}),s}}const S1={zero:0,one:1,two:2,few:3,many:4,other:5},C1={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class o8{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=Kr.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const i=Af(t==="dev"?"en":t),s=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:i,type:s});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let l;try{l=new Intl.PluralRules(i,{type:s})}catch{if(typeof Intl>"u")return this.logger.error("No Intl support, please use an Intl polyfill!"),C1;if(!t.match(/-|_/))return C1;const d=this.languageUtils.getLanguagePartFromCode(t);l=this.getRule(d,n)}return this.pluralRulesCache[o]=l,l}needsPlural(t,n={}){let i=this.getRule(t,n);return i||(i=this.getRule("dev",n)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,n,i={}){return this.getSuffixes(t,i).map(s=>`${n}${s}`)}getSuffixes(t,n={}){let i=this.getRule(t,n);return i||(i=this.getRule("dev",n)),i?i.resolvedOptions().pluralCategories.sort((s,o)=>S1[s]-S1[o]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(t,n,i={}){const s=this.getRule(t,i);return s?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,i))}}const E1=(e,t,n,i=".",s=!0)=>{let o=XH(e,t,n);return!o&&s&&ot(n)&&(o=Px(e,n,i),o===void 0&&(o=Px(t,n,i))),o},Pb=e=>e.replace(/\$/g,"$$$$");class A1{constructor(t={}){this.logger=Kr.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:i,useRawValueToEscape:s,prefix:o,prefixEscaped:l,suffix:c,suffixEscaped:d,formatSeparator:h,unescapeSuffix:m,unescapePrefix:v,nestingPrefix:b,nestingPrefixEscaped:_,nestingSuffix:C,nestingSuffixEscaped:E,nestingOptionsSeparator:T,maxReplaces:N,alwaysFormat:k}=t.interpolation;this.escape=n!==void 0?n:JH,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=o?El(o):l||"{{",this.suffix=c?El(c):d||"}}",this.formatSeparator=h||",",this.unescapePrefix=m?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":m||"",this.nestingPrefix=b?El(b):_||El("$t("),this.nestingSuffix=C?El(C):E||El(")"),this.nestingOptionsSeparator=T||",",this.maxReplaces=N||1e3,this.alwaysFormat=k!==void 0?k:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,i)=>n?.source===i?(n.lastIndex=0,n):new RegExp(i,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,i,s){let o,l,c;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=_=>{if(_.indexOf(this.formatSeparator)<0){const N=E1(n,d,_,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(N,void 0,i,{...s,...n,interpolationkey:_}):N}const C=_.split(this.formatSeparator),E=C.shift().trim(),T=C.join(this.formatSeparator).trim();return this.format(E1(n,d,E,this.options.keySeparator,this.options.ignoreJSONStructure),T,i,{...s,...n,interpolationkey:E})};this.resetRegExp();const m=s?.missingInterpolationHandler||this.options.missingInterpolationHandler,v=s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:_=>Pb(_)},{regex:this.regexp,safeValue:_=>this.escapeValue?Pb(this.escape(_)):Pb(_)}].forEach(_=>{for(c=0;o=_.regex.exec(t);){const C=o[1].trim();if(l=h(C),l===void 0)if(typeof m=="function"){const T=m(t,o,s);l=ot(T)?T:""}else if(s&&Object.prototype.hasOwnProperty.call(s,C))l="";else if(v){l=o[0];continue}else this.logger.warn(`missed to pass in variable ${C} for interpolating ${t}`),l="";else!ot(l)&&!this.useRawValueToEscape&&(l=g1(l));const E=_.safeValue(l);if(t=t.replace(o[0],E),v?(_.regex.lastIndex+=l.length,_.regex.lastIndex-=o[0].length):_.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),t}nest(t,n,i={}){let s,o,l;const c=(d,h)=>{const m=this.nestingOptionsSeparator;if(d.indexOf(m)<0)return d;const v=d.split(new RegExp(`${El(m)}[ ]*{`));let b=`{${v[1]}`;d=v[0],b=this.interpolate(b,l);const _=b.match(/'/g),C=b.match(/"/g);((_?.length??0)%2===0&&!C||(C?.length??0)%2!==0)&&(b=b.replace(/'/g,'"'));try{l=JSON.parse(b),h&&(l={...h,...l})}catch(E){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,E),`${d}${m}${b}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,d};for(;s=this.nestingRegexp.exec(t);){let d=[];l={...i},l=l.replace&&!ot(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const h=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(h!==-1&&(d=s[1].slice(h).split(this.formatSeparator).map(m=>m.trim()).filter(Boolean),s[1]=s[1].slice(0,h)),o=n(c.call(this,s[1].trim(),l),l),o&&s[0]===t&&!ot(o))return o;ot(o)||(o=g1(o)),o||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${t}`),o=""),d.length&&(o=d.reduce((m,v)=>this.format(m,v,i.lng,{...i,interpolationkey:s[1].trim()}),o.trim())),t=t.replace(s[0],o),this.regexp.lastIndex=0}return t}}const a8=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const i=e.split("(");t=i[0].toLowerCase().trim();const s=i[1].substring(0,i[1].length-1);t==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):t==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(l=>{if(l){const[c,...d]=l.split(":"),h=d.join(":").trim().replace(/^'+|'+$/g,""),m=c.trim();n[m]||(n[m]=h),h==="false"&&(n[m]=!1),h==="true"&&(n[m]=!0),isNaN(h)||(n[m]=parseInt(h,10))}})}return{formatName:t,formatOptions:n}},T1=e=>{const t={};return(n,i,s)=>{let o=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(o={...o,[s.interpolationkey]:void 0});const l=i+JSON.stringify(o);let c=t[l];return c||(c=e(Af(i),s),t[l]=c),c(n)}},l8=e=>(t,n,i)=>e(Af(n),i)(t);class c8{constructor(t={}){this.logger=Kr.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const i=n.cacheInBuiltFormats?T1:l8;this.formats={number:i((s,o)=>{const l=new Intl.NumberFormat(s,{...o});return c=>l.format(c)}),currency:i((s,o)=>{const l=new Intl.NumberFormat(s,{...o,style:"currency"});return c=>l.format(c)}),datetime:i((s,o)=>{const l=new Intl.DateTimeFormat(s,{...o});return c=>l.format(c)}),relativetime:i((s,o)=>{const l=new Intl.RelativeTimeFormat(s,{...o});return c=>l.format(c,o.range||"day")}),list:i((s,o)=>{const l=new Intl.ListFormat(s,{...o});return c=>l.format(c)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=T1(n)}format(t,n,i,s={}){const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(c=>c.indexOf(")")>-1)){const c=o.findIndex(d=>d.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,c)].join(this.formatSeparator)}return o.reduce((c,d)=>{const{formatName:h,formatOptions:m}=a8(d);if(this.formats[h]){let v=c;try{const b=s?.formatParams?.[s.interpolationkey]||{},_=b.locale||b.lng||s.locale||s.lng||i;v=this.formats[h](c,_,{...m,...s,...b})}catch(b){this.logger.warn(b)}return v}else this.logger.warn(`there was no format function for ${h}`);return c},t)}}const u8=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class d8 extends jg{constructor(t,n,i,s={}){super(),this.backend=t,this.store=n,this.services=i,this.languageUtils=i.languageUtils,this.options=s,this.logger=Kr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,s.backend,s)}queueLoad(t,n,i,s){const o={},l={},c={},d={};return t.forEach(h=>{let m=!0;n.forEach(v=>{const b=`${h}|${v}`;!i.reload&&this.store.hasResourceBundle(h,v)?this.state[b]=2:this.state[b]<0||(this.state[b]===1?l[b]===void 0&&(l[b]=!0):(this.state[b]=1,m=!1,l[b]===void 0&&(l[b]=!0),o[b]===void 0&&(o[b]=!0),d[v]===void 0&&(d[v]=!0)))}),m||(c[h]=!0)}),(Object.keys(o).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(o),pending:Object.keys(l),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(d)}}loaded(t,n,i){const s=t.split("|"),o=s[0],l=s[1];n&&this.emit("failedLoading",o,l,n),!n&&i&&this.store.addResourceBundle(o,l,i,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&i&&(this.state[t]=0);const c={};this.queue.forEach(d=>{ZH(d.loaded,[o],l),u8(d,t),n&&d.errors.push(n),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(h=>{c[h]||(c[h]={});const m=d.loaded[h];m.length&&m.forEach(v=>{c[h][v]===void 0&&(c[h][v]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(d=>!d.done)}read(t,n,i,s=0,o=this.retryTimeout,l){if(!t.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:i,tried:s,wait:o,callback:l});return}this.readingCalls++;const c=(h,m)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(h&&m&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,i,s+1,o*2,l)},o);return}l(h,m)},d=this.backend[i].bind(this.backend);if(d.length===2){try{const h=d(t,n);h&&typeof h.then=="function"?h.then(m=>c(null,m)).catch(c):c(null,h)}catch(h){c(h)}return}return d(t,n,c)}prepareLoading(t,n,i={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();ot(t)&&(t=this.languageUtils.toResolveHierarchy(t)),ot(n)&&(n=[n]);const o=this.queueLoad(t,n,i,s);if(!o.toLoad.length)return o.pending.length||s(),null;o.toLoad.forEach(l=>{this.loadOne(l)})}load(t,n,i){this.prepareLoading(t,n,{},i)}reload(t,n,i){this.prepareLoading(t,n,{reload:!0},i)}loadOne(t,n=""){const i=t.split("|"),s=i[0],o=i[1];this.read(s,o,"read",void 0,void 0,(l,c)=>{l&&this.logger.warn(`${n}loading namespace ${o} for language ${s} failed`,l),!l&&c&&this.logger.log(`${n}loaded namespace ${o} for language ${s}`,c),this.loaded(t,l,c)})}saveMissing(t,n,i,s,o,l={},c=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${i}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){const d={...l,isUpdate:o},h=this.backend.create.bind(this.backend);if(h.length<6)try{let m;h.length===5?m=h(t,n,i,s,d):m=h(t,n,i,s),m&&typeof m.then=="function"?m.then(v=>c(null,v)).catch(c):c(null,m)}catch(m){c(m)}else h(t,n,i,s,c,d)}!t||!t[0]||this.store.addResource(t[0],n,i,s)}}}const Mb=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),ot(e[1])&&(t.defaultValue=e[1]),ot(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(i=>{t[i]=n[i]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),R1=e=>(ot(e.ns)&&(e.ns=[e.ns]),ot(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),ot(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),Zp=()=>{},f8=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})},wP="__i18next_supportNoticeShown",h8=()=>typeof globalThis<"u"&&!!globalThis[wP],p8=()=>{typeof globalThis<"u"&&(globalThis[wP]=!0)},m8=e=>!!(e?.modules?.backend?.name?.indexOf("Locize")>0||e?.modules?.backend?.constructor?.name?.indexOf("Locize")>0||e?.options?.backend?.backends&&e.options.backend.backends.some(t=>t?.name?.indexOf("Locize")>0||t?.constructor?.name?.indexOf("Locize")>0)||e?.options?.backend?.projectId||e?.options?.backend?.backendOptions&&e.options.backend.backendOptions.some(t=>t?.projectId));class uf extends jg{constructor(t={},n){if(super(),this.options=R1(t),this.services={},this.logger=Kr,this.modules={external:[]},f8(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(ot(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const i=Mb();this.options={...i,...this.options,...R1(t)},this.options.interpolation={...i.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=i.overloadTranslationOptionHandler),this.options.showSupportNotice!==!1&&!m8(this)&&!h8()&&(typeof console<"u"&&typeof console.info<"u"&&console.info(" i18next is maintained with support from Locize  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com "),p8());const s=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?Kr.init(s(this.modules.logger),this.options):Kr.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=c8;const m=new w1(this.options);this.store=new x1(this.options.resources,this.options);const v=this.services;v.logger=Kr,v.resourceStore=this.store,v.languageUtils=m,v.pluralResolver=new o8(m,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(v.formatter=s(h),v.formatter.init&&v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new A1(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new d8(s(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(_,...C)=>{this.emit(_,...C)}),this.modules.languageDetector&&(v.languageDetector=s(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=s(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new Xm(this.services,this.options),this.translator.on("*",(_,...C)=>{this.emit(_,...C)}),this.modules.external.forEach(_=>{_.init&&_.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Zp),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...m)=>this.store[h](...m)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...m)=>(this.store[h](...m),this)});const c=Zd(),d=()=>{const h=(m,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(v),n(m,v)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),c}loadResources(t,n=Zp){let i=n;const s=ot(t)?t:this.language;if(typeof t=="function"&&(i=t),!this.options.resources||this.options.partialBundledLanguages){if(s?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const o=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(h=>{h!=="cimode"&&o.indexOf(h)<0&&o.push(h)})};s?l(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),this.options.preload?.forEach?.(c=>l(c)),this.services.backendConnector.load(o,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(c)})}else i(null)}reloadResources(t,n,i){const s=Zd();return typeof t=="function"&&(i=t,t=void 0),typeof n=="function"&&(i=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),i||(i=Zp),this.services.backendConnector.reload(t,n,o=>{s.resolve(),i(o)}),s}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&xP.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const i=this.languages[n];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const i=Zd();this.emit("languageChanging",t);const s=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,d)=>{d?this.isLanguageChangingTo===t&&(s(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,i.resolve((...h)=>this.t(...h)),n&&n(c,(...h)=>this.t(...h))},l=c=>{!t&&!c&&this.services.languageDetector&&(c=[]);const d=ot(c)?c:c&&c[0],h=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(ot(c)?[c]:c);h&&(this.language||s(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector?.cacheUserLanguage?.(h)),this.loadResources(h,m=>{o(m,h)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(t),i}getFixedT(t,n,i){const s=(o,l,...c)=>{let d;typeof l!="object"?d=this.options.overloadTranslationOptionHandler([o,l].concat(c)):d={...l},d.lng=d.lng||s.lng,d.lngs=d.lngs||s.lngs,d.ns=d.ns||s.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||i||s.keyPrefix);const h=this.options.keySeparator||".";let m;return d.keyPrefix&&Array.isArray(o)?m=o.map(v=>(typeof v=="function"&&(v=Mx(v,{...this.options,...l})),`${d.keyPrefix}${h}${v}`)):(typeof o=="function"&&(o=Mx(o,{...this.options,...l})),m=d.keyPrefix?`${d.keyPrefix}${h}${o}`:o),this.t(m,d)};return ot(t)?s.lng=t:s.lngs=t,s.ns=n,s.keyPrefix=i,s}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const l=(c,d)=>{const h=this.services.backendConnector.state[`${c}|${d}`];return h===-1||h===0||h===2};if(n.precheck){const c=n.precheck(this,l);if(c!==void 0)return c}return!!(this.hasResourceBundle(i,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(i,t)&&(!s||l(o,t)))}loadNamespaces(t,n){const i=Zd();return this.options.ns?(ot(t)&&(t=[t]),t.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{i.resolve(),n&&n(s)}),i):(n&&n(),Promise.resolve())}loadLanguages(t,n){const i=Zd();ot(t)&&(t=[t]);const s=this.options.preload||[],o=t.filter(l=>s.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return o.length?(this.options.preload=s.concat(o),this.loadResources(l=>{i.resolve(),n&&n(l)}),i):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const s=new Intl.Locale(t);if(s&&s.getTextInfo){const o=s.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new w1(Mb());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(i.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){const i=new uf(t,n);return i.createInstance=uf.createInstance,i}cloneInstance(t={},n=Zp){const i=t.forkResourceStore;i&&delete t.forkResourceStore;const s={...this.options,...t,isClone:!0},o=new uf(s);if((t.debug!==void 0||t.prefix!==void 0)&&(o.logger=o.logger.clone(t)),["store","services","language"].forEach(c=>{o[c]=this[c]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},i){const c=Object.keys(this.store.data).reduce((d,h)=>(d[h]={...this.store.data[h]},d[h]=Object.keys(d[h]).reduce((m,v)=>(m[v]={...d[h][v]},m),d[h]),d),{});o.store=new x1(c,s),o.services.resourceStore=o.store}if(t.interpolation){const d={...Mb().interpolation,...this.options.interpolation,...t.interpolation},h={...s,interpolation:d};o.services.interpolator=new A1(h)}return o.translator=new Xm(o.services,s),o.translator.on("*",(c,...d)=>{o.emit(c,...d)}),o.init(s,n),o.translator.options=s,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Qt=uf.createInstance();Qt.createInstance;Qt.dir;Qt.init;Qt.loadResources;Qt.reloadResources;Qt.use;Qt.changeLanguage;Qt.getFixedT;Qt.t;Qt.exists;Qt.setDefaultNamespace;Qt.hasLoadedNamespace;Qt.loadNamespaces;Qt.loadLanguages;const g8=(e,t,n,i)=>{const s=[n,{code:t,...i||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(s,"warn","react-i18next::",!0);Kl(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...s):console?.warn&&console.warn(...s)},k1={},SP=(e,t,n,i)=>{Kl(n)&&k1[n]||(Kl(n)&&(k1[n]=new Date),g8(e,t,n,i))},CP=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},Dx=(e,t,n)=>{e.loadNamespaces(t,CP(e,n))},N1=(e,t,n,i)=>{if(Kl(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return Dx(e,n,i);n.forEach(s=>{e.options.ns.indexOf(s)<0&&e.options.ns.push(s)}),e.loadLanguages(t,CP(e,i))},v8=(e,t,n={})=>!t.languages||!t.languages.length?(SP(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(i,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!s(i.isLanguageChangingTo,e))return!1}}),Kl=e=>typeof e=="string",y8=e=>typeof e=="object"&&e!==null,b8=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,x8={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},_8=e=>x8[e],w8=e=>e.replace(b8,_8);let Lx={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:w8,transDefaultProps:void 0};const S8=(e={})=>{Lx={...Lx,...e}},C8=()=>Lx;let EP;const E8=e=>{EP=e},A8=()=>EP,T8={type:"3rdParty",init(e){S8(e.options.react),E8(e)}},R8=x.createContext();class k8{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var AP=sN();const N8=(e,t)=>Kl(t)?t:y8(t)&&Kl(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,O8={t:N8,ready:!1},P8=()=>()=>{},At=(e,t={})=>{const{i18n:n}=t,{i18n:i,defaultNS:s}=x.useContext(R8)||{},o=n||i||A8();o&&!o.reportNamespaces&&(o.reportNamespaces=new k8),o||SP(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const l=x.useMemo(()=>({...C8(),...o?.options?.react,...t}),[o,t]),{useSuspense:c,keyPrefix:d}=l,h=s||o?.options?.defaultNS,m=Kl(h)?[h]:h||["translation"],v=x.useMemo(()=>m,m);o?.reportNamespaces?.addUsedNamespaces?.(v);const b=x.useRef(0),_=x.useCallback($=>{if(!o)return P8;const{bindI18n:Y,bindI18nStore:q}=l,W=()=>{b.current+=1,$()};return Y&&o.on(Y,W),q&&o.store.on(q,W),()=>{Y&&Y.split(" ").forEach(Z=>o.off(Z,W)),q&&q.split(" ").forEach(Z=>o.store.off(Z,W))}},[o,l]),C=x.useRef(),E=x.useCallback(()=>{if(!o)return O8;const $=!!(o.isInitialized||o.initializedStoreOnce)&&v.every(ye=>v8(ye,o,l)),Y=t.lng||o.language,q=b.current,W=C.current;if(W&&W.ready===$&&W.lng===Y&&W.keyPrefix===d&&W.revision===q)return W;const ie={t:o.getFixedT(Y,l.nsMode==="fallback"?v:v[0],d),ready:$,lng:Y,keyPrefix:d,revision:q};return C.current=ie,ie},[o,v,d,l,t.lng]),[T,N]=x.useState(0),{t:k,ready:O}=AP.useSyncExternalStore(_,E,E);x.useEffect(()=>{if(o&&!O&&!c){const $=()=>N(Y=>Y+1);t.lng?N1(o,t.lng,v,$):Dx(o,v,$)}},[o,t.lng,v,O,c,T]);const M=o||{},j=x.useRef(null),V=x.useRef(),z=$=>{const Y=Object.getOwnPropertyDescriptors($);Y.__original&&delete Y.__original;const q=Object.create(Object.getPrototypeOf($),Y);if(!Object.prototype.hasOwnProperty.call(q,"__original"))try{Object.defineProperty(q,"__original",{value:$,writable:!1,enumerable:!1,configurable:!1})}catch{}return q},I=x.useMemo(()=>{const $=M,Y=$?.language;let q=$;$&&(j.current&&j.current.__original===$?V.current!==Y?(q=z($),j.current=q,V.current=Y):q=j.current:(q=z($),j.current=q,V.current=Y));const W=[k,q,O];return W.t=k,W.i18n=q,W.ready=O,W},[k,M,O,M.resolvedLanguage,M.language,M.languages]);if(o&&c&&!O)throw new Promise($=>{const Y=()=>$();t.lng?N1(o,t.lng,v,Y):Dx(o,v,Y)});return I},TP=x.createContext(null),O1="theme-preference",M8=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",P1=e=>{const t=document.documentElement,n=e==="system"?M8():e;t.classList.remove("light","dark"),t.classList.add(n)},D8=({children:e})=>{const[t,n]=x.useState(()=>localStorage.getItem(O1)||"system");x.useEffect(()=>{if(P1(t),t==="system"){const s=window.matchMedia("(prefers-color-scheme: dark)"),o=()=>P1("system");return s.addEventListener("change",o),()=>s.removeEventListener("change",o)}},[t]);const i=s=>{n(s),localStorage.setItem(O1,s)};return y.jsx(TP.Provider,{value:{theme:t,changeTheme:i},children:e})},sh=()=>{const e=x.useContext(TP);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},{slice:L8,forEach:j8}=[];function I8(e){return j8.call(L8.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}function z8(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(e))}const M1=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,B8=function(e,t){const i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(t);let o=`${e}=${s}`;if(i.maxAge>0){const l=i.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(l)}`}if(i.domain){if(!M1.test(i.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${i.domain}`}if(i.path){if(!M1.test(i.path))throw new TypeError("option path is invalid");o+=`; Path=${i.path}`}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${i.expires.toUTCString()}`}if(i.httpOnly&&(o+="; HttpOnly"),i.secure&&(o+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i.partitioned&&(o+="; Partitioned"),o},D1={create(e,t,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+n*60*1e3)),i&&(s.domain=i),document.cookie=B8(e,t,s)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let i=0;i<n.length;i++){let s=n[i];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(t)===0)return s.substring(t.length,s.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var U8={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return D1.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:i,cookieDomain:s,cookieOptions:o}=t;n&&typeof document<"u"&&D1.create(n,e,i,s,o)}},F8={name:"querystring",lookup(e){let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const o=i.substring(1).split("&");for(let l=0;l<o.length;l++){const c=o[l].indexOf("=");c>0&&o[l].substring(0,c)===t&&(n=o[l].substring(c+1))}}return n}},V8={name:"hash",lookup(e){let{lookupHash:t,lookupFromHashIndex:n}=e,i;if(typeof window<"u"){const{hash:s}=window.location;if(s&&s.length>2){const o=s.substring(1);if(t){const l=o.split("&");for(let c=0;c<l.length;c++){const d=l[c].indexOf("=");d>0&&l[c].substring(0,d)===t&&(i=l[c].substring(d+1))}}if(i)return i;if(!i&&n>-1){const l=s.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?l[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return i}};let Wc=null;const L1=()=>{if(Wc!==null)return Wc;try{if(Wc=typeof window<"u"&&window.localStorage!==null,!Wc)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Wc=!1}return Wc};var $8={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&L1())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&L1()&&window.localStorage.setItem(n,e)}};let Yc=null;const j1=()=>{if(Yc!==null)return Yc;try{if(Yc=typeof window<"u"&&window.sessionStorage!==null,!Yc)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Yc=!1}return Yc};var H8={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&j1())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&j1()&&window.sessionStorage.setItem(n,e)}},G8={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:i,language:s}=navigator;if(n)for(let o=0;o<n.length;o++)t.push(n[o]);i&&t.push(i),s&&t.push(s)}return t.length>0?t:void 0}},K8={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const i=t||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(n=i.getAttribute("lang")),n}},q8={name:"path",lookup(e){let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof t=="number"?t:0]?.replace("/",""):void 0}},W8={name:"subdomain",lookup(e){let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,i=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(i)return i[n]}};let RP=!1;try{document.cookie,RP=!0}catch{}const kP=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];RP||kP.splice(1,1);const Y8=()=>({order:kP,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class NP{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=I8(n,this.options||{},Y8()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(U8),this.addDetector(F8),this.addDetector($8),this.addDetector(H8),this.addDetector(G8),this.addDetector(K8),this.addDetector(q8),this.addDetector(W8),this.addDetector(V8)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return t.forEach(i=>{if(this.detectors[i]){let s=this.detectors[i].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(n=n.concat(s))}}),n=n.filter(i=>i!=null&&!z8(i)).map(i=>this.options.convertDetectedLanguage(i)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(i=>{this.detectors[i]&&this.detectors[i].cacheUserLanguage(t,this.options)}))}}NP.type="languageDetector";const Z8="Welcome!",X8="Language",Q8="Light",J8="Dark",eG="System",tG="English",nG="Spanish",iG="Portuguese",sG="Profile",rG="Logout",oG="Theme",aG="Login with Google",lG={now:"Just now",minutesAgo:"{{count}}m ago",hoursAgo:"{{count}}h ago",yesterday:"Yesterday",daysAgo:"{{count}} days ago"},cG={restoringCache:"Restoring cache...",initializing:"Initializing..."},uG={finalizingAuth:"Finalizing authentication...",waitSeconds:"Please wait a few seconds.",descriptionGoogle:"Sign in with your Google account to unlock all features and save your progress",loginError:"Login error",signingIn:"Signing in...",continueWithGoogle:"Continue with Google",exclusiveFeatures:"Exclusive features when signed in",continueWithoutLogin:"You can continue without signing in, but you won't have access to the features listed above.",back:"Back",backAriaLabel:"Go back to previous page"},dG={back:"Back",challenges:"Challenges",explore:"Explore",audio:"Audio",soundOff:"Sound off",soundOn:"Sound on",logoutWarning:"When you sign out, your features and progress will only be available when you sign in again.",logoutAnyway:"Sign out anyway"},fG={memberSince:"Member since",globalRanking:"Global Ranking",rankingHint:"Score on explored species, hit accuracy and speed to keep climbing."},hG={title:"PROGRESS",speciesExplored:"Species explored",challengesCompleted:"Challenges completed",hitAccuracy:"Hit accuracy",medalsEarned:"Medals earned",dayStreak:"Day streak",globalRanking:"Global ranking"},pG={title:"ACTIVITY"},mG={title:"ACHIEVEMENTS",locked:"Locked"},gG={title:"SHORTCUTS",saveEdit:"Save edit",cancelEdit:"Cancel edit",editName:"Edit shortcut name",remove:"Remove shortcut",empty:"No shortcuts created",emptyHint:"Create shortcuts by browsing the tree",tip:"Browse the taxonomic tree and save selected nodes as shortcuts for quick access."},vG={title:"SEEN SPECIES",openGallery:"Open gallery",emptyTitle:"Your gallery is empty",emptyHint:"Explore species to fill it!"},yG={title:"FAVORITE SPECIES",addFavorite:"Add favorite",edit:"Edit",done:"Done",replace:"Replace",pickerTitle:"Choose a favorite species",pickerEmpty:"No species available",pickerEmptyHint:"Favorite species in the gallery to add them here"},bG={title:"Species Gallery",species:"species",of:"of",searchPlaceholder:"Search by name or family...",newest:"Newest",oldest:"Oldest",newestFirst:"Newest first",oldestFirst:"Oldest first",favorites:"Favorites",noSpeciesFound:"No species found",noFavorites:"You have no favorites yet",adjustFilters:"Try adjusting the filters",noImage:"No image",photosFirst:"Photos first"},xG={notFound:"No data found",backToGallery:"Back to gallery",backToProfile:"Back to profile",backToTree:"Back to tree",dataUnavailable:"Data unavailable.",taxonomyTitle:"Taxonomic Classification",kingdomLabel:"Kingdom",phylumLabel:"Phylum",orderLabel:"Order",classLabel:"Class",familyLabel:"Family",genusLabel:"Genus",descriptionTitle:"Description",nomenclatureTitle:"Nomenclature Details",author:"Author",publishedIn:"Published in",sources:"Sources",imageNotFound:"Image not found.",imageNote:"Images are sourced from Wikipedia, iNaturalist and GBIF, and may be missing for species with limited visual documentation.",viewOnGoogle:"View on Google Images",imageSource:"Source",imageBy:"by @",imageLicense:", licensed under "},_G={locality:"Locality",country:"Country",date:"Date",recordedBy:"Recorded by",unknown:"Unknown",noDate:"No date",notInformed:"Not provided",viewReference:"View reference",dataProvidedBy:"Occurrence data provided by",dataNote:". The points represent global records from various databases, which may differ from the image source above."},wG={loadError:"Failed to load",loadErrorMessage:"Could not load the tree. Please try again.",noData:"No data available",noDataMessage:"No taxonomic data to display yet."},SG={selectKingdom:"Select a kingdom",example:"Example",selectKingdomFirst:"Select a kingdom to search",gbifError:"Error querying GBIF",lineageError:"Could not retrieve lineage for the selected item",pathError:"Error building the selected path",keyNotFound:"GBIF key not found",kingdom:"Kingdom",searchTaxa:"Search taxa",expandResults:"Expand results",minimizeResults:"Minimize results",results:"results",clearSearch:"Clear",noResults:"No results found",searchByNameOrKey:"Canonical name or GBIF key..."},CG={selectKingdom:"Choose a Kingdom to start exploring!",mainGroups:"Main Groups",kingdom:"Kingdom"},EG={title:"Daily Challenge",find:"Find",missionDescription:"Complete the taxonomic path before time runs out.",cancel:"Cancel Challenge",start:"Start Challenge",completed:"Classification complete!",path:"Kingdom  Species",timeRemaining:"Time remaining",taxonomicPath:"Taxonomic Path",interactions:"interactions",tips:"Tips to advance",needHelp:"Need help?",prevStep:"Previous step",step:"Step",of:"of",nextStep:"Next step",revealAnswer:"Reveal answer for this step",belongsTo:"belongs to",howItWorks:"How does the challenge work?",randomTitle:"Random Challenge",randomMissionDescription:"Complete the taxonomic path of a randomly chosen species.",allSpeciesCompleted:"You've completed all available species!",replay:"Play again",nextChallenge:"Next challenge",nextRandom:"Random Challenge",pastChallenges:"Past Challenges",today:"Today",completedLabel:"Completed",alreadyCompleted:"Already completed",prevDay:"Previous day",nextDay:"Next day",play:"Play",otherDailyChallenges:"Other daily challenges",dailyChallenges:"Daily Challenges"},AG={unknown:"Unknown status",EX:"Extinct",EW:"Extinct in the Wild",CR:"Critically Endangered",EN:"Endangered",VU:"Vulnerable",NT:"Near Threatened",LC:"Least Concern",DD:"Data Deficient",NE:"Not Evaluated"},TG={welcome:Z8,language:X8,light:Q8,dark:J8,system:eG,en:tG,es:nG,pt:iG,profile:sG,logout:rG,theme:oG,loginWithGoogle:aG,time:lG,loading:cG,auth:uG,nav:dG,profilePage:fG,progress:hG,activity:pG,achievements:mG,shortcuts:gG,seenSpecies:vG,favSpecies:yG,gallery:bG,specieDetail:xG,occurrenceMap:_G,tree:wG,search:SG,explore:CG,challenge:EG,vulnerability:AG},RG="Bem-vindo!",kG="Idioma",NG="Claro",OG="Escuro",PG="Sistema",MG="Ingls",DG="Espanhol",LG="Portugus",jG="Perfil",IG="Sair",zG="Tema",BG="Login com Google",UG={now:"Agora mesmo",minutesAgo:"{{count}}m atrs",hoursAgo:"{{count}}h atrs",yesterday:"Ontem",daysAgo:"{{count}} dias atrs"},FG={restoringCache:"Restaurando cache...",initializing:"Inicializando..."},VG={finalizingAuth:"Finalizando autenticao...",waitSeconds:"Aguarde alguns segundos.",descriptionGoogle:"Entre com sua conta Google para desbloquear todos os recursos e salvar seu progresso",loginError:"Erro ao fazer login",signingIn:"Entrando...",continueWithGoogle:"Continuar com Google",exclusiveFeatures:"Recursos exclusivos ao entrar",continueWithoutLogin:"Voc pode continuar sem fazer login, mas no ter acesso aos recursos listados acima.",back:"Voltar",backAriaLabel:"Voltar para pgina anterior"},$G={back:"Voltar",challenges:"Desafios",explore:"Explorar",audio:"udio",soundOff:"Som desligado",soundOn:"Som ligado",logoutWarning:"Ao sair, seus recursos e progresso s ficaro disponveis quando entrar novamente.",logoutAnyway:"Sair mesmo assim"},HG={memberSince:"Usurio desde",globalRanking:"Ranking Global",rankingHint:"Pontue em espcies exploradas, preciso de acerto e velocidade para continuar subindo."},GG={title:"PROGRESSO",speciesExplored:"Espcies exploradas",challengesCompleted:"Desafios completados",hitAccuracy:"Preciso de acerto",medalsEarned:"Medalhas conquistadas",dayStreak:"Sequncia de dias",globalRanking:"Ranking global"},KG={title:"ATIVIDADE"},qG={title:"CONQUISTAS",locked:"Bloqueadas"},WG={title:"ATALHOS",saveEdit:"Salvar edio",cancelEdit:"Cancelar edio",editName:"Editar nome do atalho",remove:"Remover atalho",empty:"Nenhum atalho criado",emptyHint:"Crie atalhos navegando pela rvore",tip:"Navegue pela rvore taxonmica e salve os ns selecionados como atalhos para acesso rpido."},YG={title:"ESPCIES VISTAS",openGallery:"Abrir galeria",emptyTitle:"Sua galeria est vazia",emptyHint:"Explore espcies para preench-la!"},ZG={title:"ESPCIES FAVORITAS",addFavorite:"Adicionar favorita",edit:"Editar",done:"Concludo",replace:"Substituir",pickerTitle:"Escolher espcie favorita",pickerEmpty:"Nenhuma espcie disponvel",pickerEmptyHint:"Favorite espcies na galeria para adicion-las aqui"},XG={title:"Galeria de Espcies",species:"espcies",of:"de",searchPlaceholder:"Buscar por nome ou famlia...",newest:"Mais recentes",oldest:"Mais antigas",newestFirst:"Mais recentes primeiro",oldestFirst:"Mais antigas primeiro",favorites:"Favoritas",noSpeciesFound:"Nenhuma espcie encontrada",noFavorites:"Voc ainda no tem favoritas",adjustFilters:"Tente ajustar os filtros",noImage:"Sem imagem",photosFirst:"Fotos primeiro"},QG={notFound:"Nenhum dado foi encontrado",backToGallery:"Voltar para galeria",backToProfile:"Voltar para o perfil",backToTree:"Voltar para a rvore",dataUnavailable:"Dados indisponveis.",taxonomyTitle:"Classificao Taxonmica",kingdomLabel:"Reino",phylumLabel:"Filo",orderLabel:"Ordem",classLabel:"Classe",familyLabel:"Famlia",genusLabel:"Gnero",descriptionTitle:"Descrio",nomenclatureTitle:"Detalhes da Nomenclatura",author:"Autor",publishedIn:"Publicado em",sources:"Fontes",imageNotFound:"Imagem no encontrada.",imageNote:"As imagens so obtidas atravs da Wikipedia, iNaturalist e GBIF, e podem estar ausentes para espcies com pouca documentao visual.",viewOnGoogle:"Ver no Google Imagens",imageSource:"Fonte",imageBy:"por @",imageLicense:", licenciada sob "},JG={locality:"Local",country:"Pas",date:"Data",recordedBy:"Registrado por",unknown:"Desconhecido",noDate:"Sem data",notInformed:"No informado",viewReference:"Ver referncia",dataProvidedBy:"Dados de ocorrncia fornecidos por",dataNote:". Os pontos representam registros globais de diversas bases de dados, que podem ser diferentes da fonte da imagem acima."},eK={loadError:"Erro ao carregar",loadErrorMessage:"No foi possvel carregar a rvore. Tente novamente.",noData:"Nenhum dado disponvel",noDataMessage:"Ainda no h dados taxonmicos para exibir."},tK={selectKingdom:"Selecione um reino",example:"Exemplo",selectKingdomFirst:"Selecione um reino para buscar",gbifError:"Erro ao consultar GBIF",lineageError:"No foi possvel obter linhagem para o item selecionado",pathError:"Erro ao montar o caminho selecionado",keyNotFound:"Chave GBIF no encontrada",kingdom:"Reino",searchTaxa:"Pesquisar taxa",expandResults:"Expandir resultados",minimizeResults:"Minimizar resultados",results:"resultados",clearSearch:"Limpar",noResults:"Nenhum resultado encontrado",searchByNameOrKey:"Nome cannico ou chave GBIF..."},nK={selectKingdom:"Escolha um Reino para iniciar sua explorao!",mainGroups:"Principais Grupos",kingdom:"Reino"},iK={title:"Desafio Dirio",find:"Encontre",missionDescription:"Complete o caminho taxonmico antes do tempo acabar.",cancel:"Cancelar Desafio",start:"Iniciar Desafio",completed:"Classificao completa!",path:"Reino  Espcie",timeRemaining:"Tempo restante",taxonomicPath:"Caminho Taxonmico",interactions:"interaes",tips:"Dicas para avanar",needHelp:"Precisa de ajuda?",prevStep:"Etapa anterior",step:"Etapa",of:"de",nextStep:"Prxima etapa",revealAnswer:"Revelar resposta desta etapa",belongsTo:"pertence ao",howItWorks:"Como funciona o desafio?",randomTitle:"Desafio Aleatrio",randomMissionDescription:"Complete o caminho taxonmico de uma espcie escolhida aleatoriamente.",allSpeciesCompleted:"Voc completou todas as espcies disponveis!",replay:"Jogar de novo",nextChallenge:"Prximo desafio",nextRandom:"Desafio Aleatrio",pastChallenges:"Desafios Anteriores",today:"Hoje",completedLabel:"Concludo",alreadyCompleted:"J concludo",prevDay:"Dia anterior",nextDay:"Prximo dia",play:"Jogar",otherDailyChallenges:"Outros desafios dirios",dailyChallenges:"Desafios Dirios"},sK={unknown:"Status desconhecido",EX:"Extinto",EW:"Extinto na natureza",CR:"Criticamente em perigo",EN:"Em perigo",VU:"Vulnervel",NT:"Quase ameaado",LC:"Pouco preocupante",DD:"Dados insuficientes",NE:"No avaliado"},rK={welcome:RG,language:kG,light:NG,dark:OG,system:PG,en:MG,es:DG,pt:LG,profile:jG,logout:IG,theme:zG,loginWithGoogle:BG,time:UG,loading:FG,auth:VG,nav:$G,profilePage:HG,progress:GG,activity:KG,achievements:qG,shortcuts:WG,seenSpecies:YG,favSpecies:ZG,gallery:XG,specieDetail:QG,occurrenceMap:JG,tree:eK,search:tK,explore:nK,challenge:iK,vulnerability:sK},oK="Bienvenido!",aK="Idioma",lK="Claro",cK="Oscuro",uK="Sistema",dK="Ingls",fK="Espaol",hK="Portugus",pK="Perfil",mK="Salir",gK="Tema",vK="Iniciar sesin con Google",yK={now:"Justo ahora",minutesAgo:"hace {{count}}m",hoursAgo:"hace {{count}}h",yesterday:"Ayer",daysAgo:"hace {{count}} das"},bK={restoringCache:"Restaurando cach...",initializing:"Inicializando..."},xK={finalizingAuth:"Finalizando autenticacin...",waitSeconds:"Por favor espere unos segundos.",descriptionGoogle:"Inicia sesin con tu cuenta de Google para desbloquear todas las funciones y guardar tu progreso",loginError:"Error al iniciar sesin",signingIn:"Iniciando sesin...",continueWithGoogle:"Continuar con Google",exclusiveFeatures:"Funciones exclusivas al iniciar sesin",continueWithoutLogin:"Puedes continuar sin iniciar sesin, pero no tendrs acceso a las funciones enumeradas arriba.",back:"Volver",backAriaLabel:"Volver a la pgina anterior"},_K={back:"Volver",challenges:"Desafos",explore:"Explorar",audio:"Audio",soundOff:"Sonido desactivado",soundOn:"Sonido activado",logoutWarning:"Al salir, tus funciones y progreso solo estarn disponibles cuando vuelvas a iniciar sesin.",logoutAnyway:"Salir de todas formas"},wK={memberSince:"Usuario desde",globalRanking:"Clasificacin Global",rankingHint:"Punta en especies exploradas, precisin y velocidad para seguir subiendo."},SK={title:"PROGRESO",speciesExplored:"Especies exploradas",challengesCompleted:"Desafos completados",hitAccuracy:"Precisin de acierto",medalsEarned:"Medallas ganadas",dayStreak:"Racha de das",globalRanking:"Clasificacin global"},CK={title:"ACTIVIDAD"},EK={title:"LOGROS",locked:"Bloqueados"},AK={title:"ATAJOS",saveEdit:"Guardar edicin",cancelEdit:"Cancelar edicin",editName:"Editar nombre del atajo",remove:"Eliminar atajo",empty:"Ningn atajo creado",emptyHint:"Crea atajos navegando por el rbol",tip:"Navega por el rbol taxonmico y guarda los nodos seleccionados como atajos para acceso rpido."},TK={title:"ESPECIES VISTAS",openGallery:"Abrir galera",emptyTitle:"Tu galera est vaca",emptyHint:"Explora especies para llenarla!"},RK={title:"ESPECIES FAVORITAS",addFavorite:"Aadir favorita",edit:"Editar",done:"Listo",replace:"Reemplazar",pickerTitle:"Elegir especie favorita",pickerEmpty:"Ninguna especie disponible",pickerEmptyHint:"Marca especies como favoritas en la galera para aadirlas aqu"},kK={title:"Galera de Especies",species:"especies",of:"de",searchPlaceholder:"Buscar por nombre o familia...",newest:"Ms recientes",oldest:"Ms antiguas",newestFirst:"Ms recientes primero",oldestFirst:"Ms antiguas primero",favorites:"Favoritas",noSpeciesFound:"Ninguna especie encontrada",noFavorites:"An no tienes favoritas",adjustFilters:"Intenta ajustar los filtros",noImage:"Sin imagen",photosFirst:"Fotos primero"},NK={notFound:"No se encontraron datos",backToGallery:"Volver a la galera",backToProfile:"Volver al perfil",backToTree:"Volver al rbol",dataUnavailable:"Datos no disponibles.",taxonomyTitle:"Clasificacin Taxonmica",kingdomLabel:"Reino",phylumLabel:"Filo",orderLabel:"Orden",classLabel:"Clase",familyLabel:"Familia",genusLabel:"Gnero",descriptionTitle:"Descripcin",nomenclatureTitle:"Detalles de Nomenclatura",author:"Autor",publishedIn:"Publicado en",sources:"Fuentes",imageNotFound:"Imagen no encontrada.",imageNote:"Las imgenes se obtienen de Wikipedia, iNaturalist y GBIF, y pueden faltar para especies con poca documentacin visual.",viewOnGoogle:"Ver en Google Imgenes",imageSource:"Fuente",imageBy:"por @",imageLicense:", con licencia "},OK={locality:"Localidad",country:"Pas",date:"Fecha",recordedBy:"Registrado por",unknown:"Desconocido",noDate:"Sin fecha",notInformed:"No informado",viewReference:"Ver referencia",dataProvidedBy:"Datos de ocurrencia proporcionados por",dataNote:". Los puntos representan registros globales de diversas bases de datos, que pueden ser diferentes a la fuente de la imagen de arriba."},PK={loadError:"Error al cargar",loadErrorMessage:"No se pudo cargar el rbol. Intntalo de nuevo.",noData:"Sin datos disponibles",noDataMessage:"Todava no hay datos taxonmicos para mostrar."},MK={selectKingdom:"Selecciona un reino",example:"Ejemplo",selectKingdomFirst:"Selecciona un reino para buscar",gbifError:"Error al consultar GBIF",lineageError:"No se pudo obtener el linaje del elemento seleccionado",pathError:"Error al construir el camino seleccionado",keyNotFound:"Clave GBIF no encontrada",kingdom:"Reino",searchTaxa:"Buscar taxa",expandResults:"Expandir resultados",minimizeResults:"Minimizar resultados",results:"resultados",clearSearch:"Limpiar",noResults:"Sin resultados",searchByNameOrKey:"Nombre cannico o clave GBIF..."},DK={selectKingdom:"Elige un Reino para comenzar tu exploracin!",mainGroups:"Grupos Principales",kingdom:"Reino"},LK={title:"Desafo Diario",find:"Encuentra",missionDescription:"Completa el camino taxonmico antes de que se acabe el tiempo.",cancel:"Cancelar Desafo",start:"Iniciar Desafo",completed:"Clasificacin completa!",path:"Reino  Especie",timeRemaining:"Tiempo restante",taxonomicPath:"Camino Taxonmico",interactions:"interacciones",tips:"Consejos para avanzar",needHelp:"Necesitas ayuda?",prevStep:"Paso anterior",step:"Paso",of:"de",nextStep:"Siguiente paso",revealAnswer:"Revelar respuesta de este paso",belongsTo:"pertenece al",howItWorks:"Cmo funciona el desafo?",randomTitle:"Desafo Aleatorio",randomMissionDescription:"Completa el camino taxonmico de una especie elegida al azar.",allSpeciesCompleted:"Has completado todas las especies disponibles!",replay:"Jugar de nuevo",nextChallenge:"Siguiente desafo",nextRandom:"Desafo Aleatorio",pastChallenges:"Desafos Anteriores",today:"Hoy",completedLabel:"Completado",alreadyCompleted:"Ya completado",prevDay:"Da anterior",nextDay:"Da siguiente",play:"Jugar",otherDailyChallenges:"Otros desafos diarios",dailyChallenges:"Desafos Diarios"},jK={unknown:"Estado desconocido",EX:"Extinto",EW:"Extinto en estado silvestre",CR:"En peligro crtico",EN:"En peligro",VU:"Vulnerable",NT:"Casi amenazado",LC:"Preocupacin menor",DD:"Datos insuficientes",NE:"No evaluado"},IK={welcome:oK,language:aK,light:lK,dark:cK,system:uK,en:dK,es:fK,pt:hK,profile:pK,logout:mK,theme:gK,loginWithGoogle:vK,time:yK,loading:bK,auth:xK,nav:_K,profilePage:wK,progress:SK,activity:CK,achievements:EK,shortcuts:AK,seenSpecies:TK,favSpecies:RK,gallery:kK,specieDetail:NK,occurrenceMap:OK,tree:PK,search:MK,explore:DK,challenge:LK,vulnerability:jK};Qt.use(NP).use(T8).init({fallbackLng:"pt",debug:!1,interpolation:{escapeValue:!1},resources:{en:{translation:TG},pt:{translation:rK},es:{translation:IK}}});function zK(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l);c.displayName=o+"Context";const d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,BK(s,...t)]}function BK(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var UK=Symbol.for("react.lazy"),Qm=K0[" use ".trim().toString()];function FK(e){return typeof e=="object"&&e!==null&&"then"in e}function OP(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===UK&&"_payload"in e&&FK(e._payload)}function PP(e){const t=VK(e),n=x.forwardRef((i,s)=>{let{children:o,...l}=i;OP(o)&&typeof Qm=="function"&&(o=Qm(o._payload));const c=x.Children.toArray(o),d=c.find(HK);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var MP=PP("Slot");function VK(e){const t=x.forwardRef((n,i)=>{let{children:s,...o}=n;if(OP(s)&&typeof Qm=="function"&&(s=Qm(s._payload)),x.isValidElement(s)){const l=KK(s),c=GK(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $K=Symbol("radix.slottable");function HK(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$K}function GK(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function KK(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var qK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],O_=qK.reduce((e,t)=>{const n=PP(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function WK(){return AP.useSyncExternalStore(YK,()=>!0,()=>!1)}function YK(){return()=>{}}var P_="Avatar",[ZK]=zK(P_),[XK,DP]=ZK(P_),LP=x.forwardRef((e,t)=>{const{__scopeAvatar:n,...i}=e,[s,o]=x.useState("idle");return y.jsx(XK,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:y.jsx(O_.span,{...i,ref:t})})});LP.displayName=P_;var jP="AvatarImage",IP=x.forwardRef((e,t)=>{const{__scopeAvatar:n,src:i,onLoadingStatusChange:s=()=>{},...o}=e,l=DP(jP,n),c=QK(i,o),d=Ks(h=>{s(h),l.onImageLoadingStatusChange(h)});return jn(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?y.jsx(O_.img,{...o,ref:t,src:i}):null});IP.displayName=jP;var zP="AvatarFallback",BP=x.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:i,...s}=e,o=DP(zP,n),[l,c]=x.useState(i===void 0);return x.useEffect(()=>{if(i!==void 0){const d=window.setTimeout(()=>c(!0),i);return()=>window.clearTimeout(d)}},[i]),l&&o.imageLoadingStatus!=="loaded"?y.jsx(O_.span,{...s,ref:t}):null});BP.displayName=zP;function I1(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function QK(e,{referrerPolicy:t,crossOrigin:n}){const i=WK(),s=x.useRef(null),o=i?(s.current||(s.current=new window.Image),s.current):null,[l,c]=x.useState(()=>I1(o,e));return jn(()=>{c(I1(o,e))},[o,e]),jn(()=>{const d=v=>()=>{c(v)};if(!o)return;const h=d("loaded"),m=d("error");return o.addEventListener("load",h),o.addEventListener("error",m),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",h),o.removeEventListener("error",m)}},[o,n,t]),l}var JK=LP,e9=IP,t9=BP;function n9({className:e,...t}){return y.jsx(JK,{"data-slot":"avatar",className:it("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function i9({className:e,...t}){return y.jsx(e9,{"data-slot":"avatar-image",className:it("aspect-square size-full",e),...t})}function s9({className:e,...t}){return y.jsx(t9,{"data-slot":"avatar-fallback",className:it("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}const z1=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,B1=tP,UP=(e,t)=>n=>{var i;if(t?.variants==null)return B1(e,n?.class,n?.className);const{variants:s,defaultVariants:o}=t,l=Object.keys(s).map(h=>{const m=n?.[h],v=o?.[h];if(m===null)return null;const b=z1(m)||z1(v);return s[h][b]}),c=n&&Object.entries(n).reduce((h,m)=>{let[v,b]=m;return b===void 0||(h[v]=b),h},{}),d=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((h,m)=>{let{class:v,className:b,..._}=m;return Object.entries(_).every(C=>{let[E,T]=C;return Array.isArray(T)?T.includes({...o,...c}[E]):{...o,...c}[E]===T})?[...h,v,b]:h},[]);return B1(e,l,d,n?.class,n?.className)},r9=UP("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive cursor-pointer",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Ht({className:e,variant:t,size:n,asChild:i=!1,...s}){const o=i?MP:"button";return y.jsx(o,{"data-slot":"button",className:it(r9({variant:t,size:n,className:e})),...s})}const Ru={1:"animalia",2:"archaea",3:"bacteria",4:"chromista",5:"fungi",6:"plantae",7:"protozoa"},FP={animalia:1,archaea:2,bacteria:3,chromista:4,fungi:5,plantae:6,protozoa:7},To={1:"#ff6b4d",2:"#b561ff",3:"#2fb5a0",4:"#ffb700",5:"#c84726",6:"#5bbd38",7:"#2196f3"},VP={animalia:"#ff6b4d",archaea:"#b561ff",bacteria:"#2fb5a0",chromista:"#ffb700",fungi:"#c84726",plantae:"#5bbd38",protozoa:"#2196f3"},o9={1:"border-[#ff6b4d]",2:"border-[#b561ff]",3:"border-[#2fb5a0]",4:"border-[#ffb700]",5:"border-[#c84726]",6:"border-[#5bbd38]",7:"border-[#2196f3]"},M_=20,jx=2,U1=20,Ix=20,$P=-9,a9="/treevera/assets/avif-animalia-B-f7tRK9.avif",l9="/treevera/assets/avif-archaea-9EsGaDQG.avif",c9="/treevera/assets/avif-bacteria-DowZWJad.avif",u9="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAGNbWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAsaWxvYwAAAABEAAACAAEAAAABAAAGJQAACSwAAgAAAAEAAAG1AAAEcAAAAEJpaW5mAAAAAAACAAAAGmluZmUCAAAAAAEAAGF2MDFDb2xvcgAAAAAaaW5mZQIAAAAAAgAAYXYwMUFscGhhAAAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAAw2lwcnAAAACdaXBjbwAAABRpc3BlAAAAAAAAAGwAAABvAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQBBYYHAAANpG1kYXQSAAoGGBm17mFQMuMIEgAKKFDYAsLyjFo3dLA9gFsleEO1sDsKbGus3GXbF8epprVeuAz/W4qkshsFIvEAUItGfQPrZ92zwBMs8RztQBsf0vV/rHO/QPgwhmlSuyaki7uMPY/TisltPIQNjxopDuExE5Hs6N7ATevqJ+cAF2f1NRefv4QF/dt4FnBqjgvtTjwwenfOzj65bgelDbdWE20tA4Qom6YijB4pVwt9vw8D4fItTFoyAAEeZBWU8hohAjaDMUcMa+j3Qmsm2s8JrILwkO8/lsfccCWw0IzlP+T50oxEkA+Vx1yMx68312dGcpTgFQaU98D+TzWMekHuhxY4mo6THEinOC063dFzdb6syJxTbTf1e/X17EPl4c/FJI2coDIDDKBgqRrR1M9o/KMA6WpqwGPEq+eR8CcWH/EgroQVMk100U/vdxmbMCzkX1JIdGmcdI+Y5YaarpHHTG5W7pCISuUuvhIvT/S6j49IwGVcMzpj+dV1eju/GUMZnycN+v76jj5KRcv3F2rsLrMOD5EUsOS2AyQjpSD5EbkDwlVdnfI/eojI/QHVm+pIdGJeDCYN3DPetVpzb+r1q2gA1iveuUGV7C/I4UFs864WmFshyKQUvl6lw+y8nB/Yxek3V1rNnym8vMHR4b0wHO/2KWKo1BWuPx5CcOxn7ELfjzzvorSxZwWmz/+BKD9izo6PiMNh+rJYyN30zjH3M8qZS8nZyh3CkT13gFrroZsp6NSNpq2+EIAoG4WJdf4+rFIIi/Ac/v+e06w9To4Ggr2R5V0+p/G+DPWf5MiY2jCXtguNLwosHAHmuj6KAX9RM7splnnW/trJLvPh7N0UMteps/9kSspdcZaam02qym3V4+zYIxqfFaD39Qtg/61oPuwoboUhk5CvqWpLSwL8hmdaqloryMad594PjesgMbVJJrtp2M4qjCSRc1j3SHDdhEowwcOR91rPCG4EI1+hEnFT2SPblY1CAg0t/iziZZduLb95pH04mrSvU4UgNG8a059Z02kYbht43p4X17v3/lPSZnmp8K2hC6/gwT/WGhd5cGpvsCMZeZxikvcvFJPFJEwiPJkC1K3hDM/gopPjyfdsQmLIOJOGVuK1TSYxwmwb7IJLZ51IlB8+zBqMdfNW3ombH/zbc8CS6dcAEPbmpXUDYWcrtnV6Ru6bGAtq0KAGKX1nflRQ4r7ccW8HEPsiRrFomJUIS+iun6yIqlAdFIXBSw6NPiaQJIN8eStr0kKnB63qXsPk377OKM3hLgQq0Lzk5oy5kzMFPwk7SyScD+B8zCjk2FiOT0cS9gvWKHcbY5AhV/Jub302lnRTxhkfFm2/tZFRF5qBE853vDuafs03gNgsMaFpEWCCRcP2JTT6u3BmGaECfovbWb9JEm0v6sEej+cUnhecfimdjtylV6gaDDr83cqyCJJmnfujFsEWlnzpEGCvNNRz59th42fAruG0PKfCzAS45AXTTMK0+H3mj1MsiVnpscY20+vKXbTqLxIACgkYGbXuYIEBA0IynBJEgACiiihQ1/8mS+0ZHqhaPuYuFtDXyEXMhvC1LFbrnQhf4LGpkza7zu1DS8vAFLD5urBX5K2LYLt/VQM0Pyps0aHsvZloiNVAyzkpp7r3m0IIZjI97mhhLNdJqLMjAYdNaC1SVYzT9iVc8yQGizaVMoH3uM20vAerHeMo5ZQNEUafvZcRKaxf/lqliuV49bVpaubcETXt7HmOwKpz07M0FeUh6dQhQLkG6+YBNccpT7V1krYBk7dV1bLdYxMXRmbZQgbBOkZfSr+tt+tqvYvrHWJmcGEECJmeEjvhcR0t0LtnVzvOhSdtfLqrsDQY2W1Ee4PDIUOoYX9+aW2PPLfAjN4unBzpc+JKqP3//TOyYCvb6cnZyZJ5/Lv2WK8ftLoi4PzMFYhNM+glDVjYOcGZ5Myq+1xLUB9sEq0y/obMrfy2plXXkf6D27bF4C837Jj6Hwwq38kxf83HBxUUqmvyQOtKYTvDPptGS1n+hqTutaY/8RLIeA7boEJAzc7jKkxyHWz31I84xTToQNWvXVXkYaEVsNyw6atPOkRcXH+2cvIWjCzbtzOWkHqyr4IVUPGL4w1Fm5iendMQUGsfVtM/qnhmZdhtMcwLK8wJXBlRy+1/vggQm5kFriq7MQbYycq+SjsGbmFbDfMWT3ajA4w8l2f0P/CmW3/NwX4anmYHK50l/7qQ7URhanrGu9aAyZ24sAWXch7UOc38M4lf9ekXbevCKgbooxHalkxCuDBamvY0rNkNlo72pkvugS8ZzCB5QsqDZSGpFzFZBVECz7rtBWsOe+kjmvNMiCItlYocgEl0JunBdHCisz5TeL8MlkK/pUMEUc3os86qnlky2+/dR1N4oDHsJY4t7VWdw6hYF0nRyUWbljlGQn2wQ1JWFCW8XPFgQrQTBnhK6qyediFfDtFYcyIVNjf0EAd5kLhk850UB6NCBSCRVWNjz+tKk1WXz4YV5Z1V8TAfo0Rmpx6yJlHq7CFnTy0YNxx0GZT9IxULt2md2O+S08vCiMOwricx9goNmcvzaaCi8Lehurd6y/nhbq383eozGUhe3t8vqF3ObuHLdxrjSiFXNAvxRdtqitLT88vZ/o4mOXftv+u64YPtFGwr2jvgyYXV55ilSeR4HSN/YabafECaeNanam2knUhC4JQUEXekLFpXQEOo4CtvXEko5es/IiP2W3SxvSFWYBqycKJYqCtbvJiONlOLMTNa76s9G+9Z0eGugMML8b34wS+GG1a0CB1sM657Qox5bfTeqnAaanXxxCkVsm3KXyhUTQCPVTYxeGFcJ8EalMAhpC3hsg/zk1KRTjxA7H2SY5l3SP+Kav5vSf0e9G8+VR58gbl121l2IrzbgJzStCsNPgYwB//5LYuNxqKbRmGWefHWnzAWgXb/EUQctM4KWglLpfRUSa7nO7cjfDUotPPXSWhxRTYzPLxMqG68sHmxIxu6W7GhY0ZR+sc9JjlPP4ojQevzZ8j3Fh32LtjCRTx4HDrcDm9iyloM+PBdDX8gKmxsk+MvM0M7AtXp16qS1XWjNLfZKY1VZVwyVRALAKD+UsJwl11p1yqKK7A43w8t+yHEemTos+lemT9uKFQH3EdCf7udvDFYuBTNQLrDL9cpwfiZOUS1ioy8JGG2vM9VUSd0moeHvbhvOyFI5ukw3Ek9vtG2Wk56Jlb543NX5HHyyJ6ayvzLJ6qKUAaF9zuKQ1yPFP0tV+npwf7enNrReLrmAtLkYx1qA+ee4aHO700Kli7RygiMM9Si2hIT6cMI3PeihZEp8/uFiaZEOIXRLrkh+jqMdPq9NcC69u6EDopbj/sh3xOJa3Ip6wtnvR2wBJMKV4kSn6zaHvVfUYKeMpGP/+Jq3vHZK0P5S1TRLF0Trt5O0J+2VtpvFuREuyPCLdj6IXBwKZPXphABEqgFYk7eXBfKtsRFDjPJT/ebTDJcXAJTTqLjVC7FIi+KbxJPJ44nIlf/KJ7114UWQIFZLCpO3oq04LvK+9Xp5lTlmabo6IKcBDErD+15rNuMMn9cK2KlYza/kwbN2pq5V4eAvVMjNSAGRDMhFN7DvxY4AeD/+HbGMddkoBQPVIMhatZw0TniuM0BXavTrK4E7C9tkpnA0brcPKt/L7ya1Vzk/4bumauyOmgL08WZBUAM0Pj8hZfFr0xwp30qX0ur4dvvspaM3RQaniPPdKlj8PTleR804UyDllzSvEVvkYnfsK1kj96ZzQfw+B6X6uXxDFXjg9V3rvz2Ky+MURrTsbQXetVEicb/JPACBxw+SL2ZSdT1eEJPEYOThYEVyevmZgP4CfRN4T2i/g7ouekkT2El+Ki678Bou9hJT2uK+iBVAqzvyS/lSMQFgtVPbRycXYRL0xmpVqa6HqzfBw7x9TjYSbjqoOBnD/R/6wSYsp6UkCYd0Fd7KBqoMyLxnKNNY/jjvPngpHH+SmDfHY4c8JZsgbzk0A/kIJAoC8OmfgDV20xILJ8ujCdFVuOOP52rN8biish7YWu4pS9d7Ga4cUXcvevpJB70peN45NBEqr8xjpa//EbYSCycyxQ9woR2Q4+oFqFFjia49aMUxYixWResp7UxXjVFP7Yho8TO2GkccjG667/Q8+U/Bf/2SIhPPyUlwNN7WWjmYQ6qdmzSjp2iyZmI8PUhyl1NY8PuASe2MKc6rWo2DxRmqTtmMq4qKg3EYUAnI0unriMr7QJ5P9ch11MJO4JsdSjJQgpPbSgsLdtB9zQOoiDr9H+FK2UhZC0a/oBWN8pAaBQpEjs8CDc1IEsKK6QN6QiMXaMW76ayfdap95ETzrVBmvJW7oAJvIAHHLqJZvoI2fzWrXBeu7VtIsuApMY8lc/SiCOc+UnC15ym0XJlfbuR2ESZl9jaYN+U1KgBgQGgMo85gHwOqdwDlU5mZNchmGb52pJtZa+4pJ2rfqJZq0z/643WP81PmwDRgciiItmC8fESYLw1OfojDJ4PXgr5BQL0ebZrO2JvjzWsfz990hj6NjfhMxBa5NRnEsJHaC+jaixRB/2P+EZihZeJWxJ4mI/hB6P1QN7eKClBZ+Zy1aUKJGyMR/EpI8uyYy680g1OrdUpIY05oWY+Y6oQbqQXIUchIo/A",d9="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAGNbWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAsaWxvYwAAAABEAAACAAEAAAABAAADrQAABRQAAgAAAAEAAAG1AAAB+AAAAEJpaW5mAAAAAAACAAAAGmluZmUCAAAAAAEAAGF2MDFDb2xvcgAAAAAaaW5mZQIAAAAAAgAAYXYwMUFscGhhAAAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAAw2lwcnAAAACdaXBjbwAAABRpc3BlAAAAAAAAAHcAAACBAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQBBYYHAAAHFG1kYXQSAAoGGBn7QDCoMusDEgAKKFDYAsLyjFo3yjEA9G9zx8r56yTZIgvnVCrfhhL0JlUUXbNXspXqu/0SkF+qCbvzwXswX1AJkHF0hgCZoDxY6YFxyIi9g7vB7C6qawEafmG63TTCXUZe5p/kJydJUg6DzlB/dkEuci+j7MQLA/9LvhRPoCXafFq+HnelQrDlQByrd2Spf0mjbYtagK3gTD8bAICt8pBdLcapp4Y4w76HtSAONq+QOWPk0Ym+wQgc1YBBJqnR0i6amL5iU+ijtckupUsWP/K5MME1u/Or79uNQihpYIxAoskRh0yZexa9wyKaAjCZTFbKHPgW6kI9RfuDj/W341XONFYxNfIVOw+s7FFU3bAZSQl6XLvPcf2LnAnJg7hGm+C/xYfDaa6TtznuaxAj+JYqy+CJHztEP/7MLrYbq/5uedhvDpBnEB2w4x2S9KUKEMjNwV91zyWfig1DbxACu1jeNWjt6X0wj61zCYk3mDnuppySa2pMht7jq9awfwFSBBLepWj7TfrULy19fbXoJR/iBeTW//H3TTsaElyku3PKQ8GddVAFoqJXqZmF6DX6v0j9mlZAiPs3u9fMaDqTYdu8WbyaCZuUNu7UAJJQTn0EIuj/0vAiVxVAi7DDFCtuvzY2DlXFGGlw0V0M9XhHeA6crSoSAAoJGBn7QDBAgIGhMoQKRIAAooooUNf/JkvtGR6oV8dtYj1WBBGv1iQlFx//RbT/tA8xKpuYZIqTv7rRj97uzDG9Sw4ewGvvegI+KVvFcbOmrdfgLNT+2vuCmi69od9wbEbAas/jZIHo8xkmvvn5h29h2QlXvMOuDkI4gMtxZnovlP+pSo8/+265ysscKZkGfXxXNxk2SA4DrqSuQkwW5g0ftc9FAIWkwXUh1V2j3gLbvURWQ652sbP8to5I0lnGrghTXkaD2Gv87p+Hv9xAy+trqwJMfHxtvnl9x9oJN+JR96oaU+2NT1cpWtY8BwgzR5mfixkEX+a4WIaOi5NfZMkA58e81+TOh1LXfuZkBlZoWCF162y1U05LmqbJGmXMAutII8ZnXFJ5XWEKFjoHPL+mFf/9nY2RASmjjPtn4yFY4LNpnRvx2LOvNsslIGMWm8ITxumI+aphIONsnW+6A71P9PWMHhoK/VhqhSP3zDsvDVndkCkLTjyJ8nOVC+8NbJEaBxBhOmagpI5KJC80ejy73dRe6I0+tK0FBi29wS5f9YLymlF8HrOCQ+VIUaxq3MAia/bx3JaiIZ3GBa0K0HnQaE1Fvqltk1WGWziOeeXVfAI9nmp3Fh4w6teeJssyZdOoshU/N05iHomBc9metXKDfMJTthTQ67ZJOqjpMFhRzUIaOT/zXf7PWiLi1fBLhRSjsBs9za4lVyIDTxjLgXutblodGetVkeBg6/GOB1rMHiSK1bksnDBHJ0EGG1Y70m0a6SueEzfjZhJFLMTIuhpwjAZ6Pr8Ro8sh6OltmZc2D+2pjsc3HnewXnbsMxb5aHwUKiIh0CFXdDyeu9p0unC8KTc7MrnfF1yDnWOV2HTX3HJdRQkPA1bGuG9vvaByHfurqVKa8W/P0unk5bMBYXm2DoDtI8/LkYN6T7o/LpilF4XmiCKnFENW50J9tsf88umr6+RWKMOym7iprrQKVya95FRU1WLAuTB/C1zwq0ZRdinCTJ4/iPuP85trKA9Gtk5vFPVU0jekR3aUHp03STpHeykqnbB5RVWUeYAYk3GdhsXO4ewVDY8hxwH7i/sft3dCR3wBgdHs/0CnQJekwSqSGs5fZL6xHnPwOzo/d28nb4rz+Pip8USLtV4ERrAa+lZH53GDYzqz/H4KOWieFJQjFED+/G3FpioFGZDkXJB86LwawLTuDYd4+qWrpfwHPeQhdEHnVNmp8PNXF11dY9gBuDQ6W0dOtvWxaQ59ViELMeWGG4xO3hYnRY/LQUHJIvUmi8GUzYYk6FjfGJi6aUWE4CpJNfTkhRJAhAReHR/EYOqSRtQt4Nq3Yhn9VgovKyxlF6cgLABEKMeOIVRwsu3SXruUQr2qWVCylYhp+9HGAHGGun/xG2N5nBNYqTLku9A9tr7n/ZPQdklz/unNZbLGbP07IGwzeA/uaf8/+S4dDOI8qEvw73aHArq4mbObv1qZXJ2A9oqNichHjFwK/wAyEB7NLr7BFfiln5mOj2DxW8aP5wn/4kyD/2CvAN2Wnt0F8wxzLYR04r9qAr2SUZqYsOvDiR7FCC2sIyQO0cZxGJ2mmLm5lFJcZdvkrptMvji05X6MLFYAHUG1H7o8RFi2iU/9Ur3fFauJtcwx30Yh7sPuKDJLQVB9tZtcBIkBnXAlncpcrkefx6A4H2gnae9+GZFZ22BRx8qge13ZiJd3gz6cwniGpZtJ84bpQkSSmYFY",F1="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAGNbWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAsaWxvYwAAAABEAAACAAEAAAABAAAEVAAABXwAAgAAAAEAAAG1AAACnwAAAEJpaW5mAAAAAAACAAAAGmluZmUCAAAAAAEAAGF2MDFDb2xvcgAAAAAaaW5mZQIAAAAAAgAAYXYwMUFscGhhAAAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAAw2lwcnAAAACdaXBjbwAAABRpc3BlAAAAAAAAAG8AAAB6AAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQBBYYHAAAII21kYXQSAAoGGBm3eWFQMpIFEgAKKFDdK7YhY9FDgo7+mdWsfVkURfvprIG/cOJBkxUD49AD/MzZCP1c2ADPY73n8mfNApWMwOYKVUD/bHJgXBNMtSJ9++5QHxctjqe131Cl2x9Buye16AlUaS4DCaTSfTqyJlPT2lCkMJ7YJ79/CBRhKLG4zwKOHeVZZ4CRWCSgjy9KdT6eQCV3m0C3vuFn0Qm4BiAE+gvv//NsDhrMwj2qHReJLK2YvZ1DbmXNAs/avxk3giFCLqX4nACziQscV1sD+7WTf4ggUBPnU2qbgju2Q1YxKZgE561lHA9W3nx1cr8QLi5b8+pYnIowyabz7xxtCqpmMz/tqRdXIylhDPV9ZSAg0pIPG9oVMkftjV2PqTmefMGw9eHSlm1h6KzsaIDpvmvK1FsvxLcteYDS/wUYjMuac5EKolRQ2QgmyQ5PUqi89hiWpuxCk+kAIlSgxX8pSaRvgwjoKzTRG7KhXi0SEz18JRb8zkm3fQI1hc4HdAQTpApiCnyIaNyNIUnoo3HzE/BlbXa+0VTpB1M02fZcU5qgC3hfde3l2FimtVjqMo3JO/br+5k5RgjRWA3RZg4t/W4v9Ql442U+VczkJbc7+1xfljQTY6rbCtrmpCA0EWcoA0wtJjbWWE1ZkSmgFWghqbo9lu2LSiz+2OfGSyVSk5uRGj/ezjYmlb4e0NadORck49tpU/4n5eqfGlevunn7gFgGrIZb+dXJQzI38CdQ6SF5LG1gSR04x0m7sTcA6Y9vuj77HbWV+kqem6ADB+cmgvKu5dLHmXYESTw+O3//vzUxpQOQLs56j5wS/qCTeE6ImdNt8bwxsqQL368N2FFdnaFJS1V541LwDWt/E4Ye6bBlsVih/J834R0aVWZp4BIACgkYGbd5YIEBA0Iy7ApEgACiiihQ3GoDuV6oJ1tQulM9kmZu+DezSPd9HEBXhwInIn2iHF8xYI8xiy89UMOvIg6dR7H71dlvqqVDKnaUGwhgbfdIxQofuuCrh6CHtTLVZ+TsFHSQnOOTbXJQDbMAMIZadkQNKxPfZwvxAJjdRjXcEJJ/lGu/RZ/i+YnBwuvEhe6GT7p70qf9bLLUL1v5xaCWt0PWh+R3IaFmdnHW9bRCIW+FLjWJJpFrJ/QZoFUbFIWPllNx38Yfpl2pAvCdpg3DXq9RAPyPS1Lo2kcpvXQQE44QpwhdpnRhdrIq+wq/p4N5E+DE4EsiHHcVBOIxB0GaezT2AY3h+8acr17iHqlr/cAUT/WEK1yXTuQKXb2HQC3rwFMGEcpSXElvFLixVMdvpoIAuokXc7GXkZl6VNNSyX5NbdT6y5A0hS3REp8uTGf6pDbr7Bpwx4omX4SV6PjGoslNXeASq41ED+C9ijdb88OGDfpn30Z2YY59ewI9kDwXmOuAwXwool2GH9kjpDnWURjiGSvo3fVJ9OIoGRmkKDrQ5kSsf1LiyG0sMNr1Tu6xFZayQLpunPeNDjzRWNvzNeCFID/LQpif0z+vplcFYSwC04cVCpWZOVtjqyq40JL3PqAiRPmyk35KOP+dsk4Jh4KVyDfGIlqh/QTnCD63Lrpfc8i1+ymgKfsNZB4gfrnMcYUoBLx7q34ZlNyMT627fSKfcBa7jWJGSnUfrs4p3aJwGAmOlx/oMIcyrFjA5zg4uUWl4j5f6wRqkIMrx/Uf2a+xD051ctLAFa+4lAntw0Mfye6bY4etFuQ0qTekDRkmBxaRpmLeWDx0zDW9mgHsPovaQIxKkFepWAw6Wwby3BLD2b27rhjVCNi4Qq29ZEi9R0CGtZvWRfnif/nI9dkyup9PBranmyhxKS6lS/Lw89S2oU+l92Szpn4fQIkLe5XPSzmJUWvZWLvgn9s833lX5XWn4ptCHCorjCv7WHo1JIpbBJS6qGbdp3S/KT7JD121T8vFHCB6J7y9vJxdkB4PV1sdx3b/Zbh1oaWB8X19MWR+qaFOTEklhd2bC7extbnZ4+4DbgR4Qbz9BKPjTjZB0nuhgI0b+///dC5+1qwr2F8zePhEZRdmTeFW+yk4JsSQ/HVvCiSFTSJ0rtxHD75Xy5zTcDQXQWRULK62xy0Ujfl/wSSsneg1AtC4Dl2gO9+tHSldL3OZXGTbXkrvTLzgJvZlTo0DI5cAJGYeE93bL19hlI1aRtTTqUOJJLXs8OJYFd/8OxEZzhbAyLBW/OpJ22B9SozPcV++dDfFyiI36Vnq6t8vOLdD7ZBB4mFAXMS8GT1/BCaDo81SXO/AXTG+ucyermTZsqGZG7jbdkZu3/9uUKFJewulKhRIfWc3FKyjszcQQPT+VnjZeD4AigIlYPpmuApVtp4VL9sxB2FxymGtnKNh95k18aNz/yb0y+QMk0dlZWKUUOPhsSnoKTnEwHhB6BQ9sTK5bNVZw6/pBSb30yNfVC9n+VRV0ZbBkLVjx4kZHCgehVhV/P9+3l/SOFQ0lbYq7BKuDcxiGexdNtpSci7palVxm+WBLgY9l90X5XOyT5Imn1Nd5EEmy7+A24eRpYzrQYWrQwJwxMPh9piNy397M52MghUGboxDdjtBNzEkaG4t+cmu6roABlDqg0Zn8eDw8M6wKKgK75tfFT7n5wTSWOElW83rLzz7XFrp2Tmf4ePRqEx3Ap2Lp4ufiiqEjAGnGZi8d6bmCk2csIktyKyR6vzNIJ6Rwu4JAckzKUF3RocyNgv6NEsf5d5E6s679jB7nkV6B2l3Gs73+FX6eFTkR5S+vxGu6J+1TtzAFRzAD1GwwA==",f9="/treevera/assets/avif-protozoa-RsH4rUqA.avif",Qi=e=>e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():"",h9={Crocodylia:"Order",Squamata:"Order",Testudines:"Order",Sphenodontia:"Order"},gs=e=>{switch(e){case 1:return a9;case 2:return l9;case 3:return c9;case 4:return u9;case 5:return d9;case 6:return F1;case 7:return f9;default:return F1}},p9=[{kingdomKey:1,kingdomName:"Animalia",numDescendants:0,explored:0,icon:gs(1),primaryColor:To[1],lightColor:"#fff3f0",description:"Organismos multicelulares hetertrofos que se alimentam de outros seres vivos.",mainGroups:[{groupName:"Mamferos",pathNode:[{key:1,rank:"KINGDOM",name:"Animalia"},{rank:"PHYLUM",key:44},{rank:"CLASS",key:359}]},{groupName:"Aves",pathNode:[{key:1,rank:"KINGDOM",name:"Animalia"},{rank:"PHYLUM",key:44},{rank:"CLASS",key:212}]},{groupName:"Insetos",pathNode:[{key:1,rank:"KINGDOM",name:"Animalia"},{rank:"PHYLUM",key:54},{rank:"CLASS",key:216}]}]},{kingdomKey:2,kingdomName:"Archaea",numDescendants:0,explored:0,icon:gs(2),primaryColor:To[2],lightColor:"#f8f3ff",description:"Micro-organismos unicelulares procariontes que vivem em ambientes extremos.",mainGroups:[{groupName:"Thermoproteota",pathNode:[{rank:"KINGDOM",key:2,name:"Archaea"},{rank:"PHYLUM",key:10807497}]},{groupName:"Nanoarchaeia",pathNode:[{rank:"KINGDOM",key:2,name:"Archaea"},{rank:"PHYLUM",key:10706191},{rank:"CLASS",key:10809188}]}]},{kingdomKey:3,kingdomName:"Bacteria",numDescendants:0,explored:0,icon:gs(3),primaryColor:To[3],lightColor:"#f0fbf9",description:"Organismos unicelulares procariontes, encontrados em praticamente todos os ambientes.",mainGroups:[{groupName:"Cyanobacteria",pathNode:[{rank:"KINGDOM",key:3,name:"Bacteria"},{rank:"PHYLUM",key:68}]},{groupName:"Flavobacteriales",pathNode:[{rank:"KINGDOM",key:3,name:"Bacteria"},{rank:"PHYLUM",key:10707955},{rank:"CLASS",key:7498440},{rank:"ORDER",key:569}]}]},{kingdomKey:4,kingdomName:"Chromista",numDescendants:0,explored:0,icon:gs(4),primaryColor:To[4],lightColor:"#fff9ed",description:"Grupo diverso de organismos, incluindo algas marrons e diatomceas, geralmente fotossintticos.",mainGroups:[{groupName:"Heterotrichea",pathNode:[{rank:"KINGDOM",key:4,name:"Chromista"},{rank:"PHYLUM",key:7765738},{rank:"CLASS",key:8235041,name:"Chromista"}]},{groupName:"Bacillariophyceae",pathNode:[{rank:"KINGDOM",key:4,name:"Chromista"},{rank:"PHYLUM",key:98},{rank:"CLASS",key:7947184}]}]},{kingdomKey:5,kingdomName:"Fungi",numDescendants:0,explored:0,icon:gs(5),primaryColor:To[5],lightColor:"#fff3ef",description:"Organismos hetertrofos com parede celular quitinosa, decompositores na natureza.",mainGroups:[{groupName:"Cogumelos",pathNode:[{rank:"KINGDOM",key:5},{rank:"PHYLUM",key:34}]},{groupName:"Leveduras",pathNode:[{rank:"KINGDOM",key:5,name:"Fungi"},{rank:"PHYLUM",key:95},{rank:"CLASS",key:182},{rank:"ORDER",key:1281}]}]},{kingdomKey:6,kingdomName:"Plantae",numDescendants:0,explored:0,icon:gs(6),primaryColor:To[6],lightColor:"#f3fbf0",description:"Organismos fotossintticos multicelulares, produtores de oxignio e base das cadeias alimentares.",mainGroups:[{groupName:"Angiospermas",pathNode:[{rank:"KINGDOM",key:6,name:"Plantae"},{rank:"PHYLUM",key:7707728},{rank:"CLASS",key:220}]},{groupName:"Jungermanniopsida",pathNode:[{rank:"KINGDOM",key:6,name:"Plantae"},{rank:"PHYLUM",key:9},{rank:"CLASS",key:126}]},{groupName:"Brifitas",pathNode:[{rank:"KINGDOM",key:6,name:"Plantae"},{rank:"PHYLUM",key:35}]}]},{kingdomKey:7,kingdomName:"Protozoa",numDescendants:0,explored:0,icon:gs(7),primaryColor:To[7],lightColor:"#f0f7ff",description:"Organismos unicelulares eucariontes, geralmente mveis e hetertrofos.",mainGroups:[{groupName:"Amebas",pathNode:[{rank:"KINGDOM",key:7,name:"Protozoa"},{rank:"PHYLUM",key:7509337}]},{groupName:"Euglenoidea",pathNode:[{rank:"KINGDOM",key:7,name:"Protozoa"},{rank:"PHYLUM",key:41}]}]}],V1={KINGDOM:{1:["O reino Animalia foi descrito pela primeira vez por Carl Linnaeus em seu livro Systema Naturae, publicado em 1758.","O termo 'Animalia' tem origem no latim.  o plural de 'animalis', que significa 'ser vivo' ou 'ser que respira'.","Inclui todos os animais multicelulares, heterotrficos e geralmente com mobilidade em alguma fase da vida.","Estima-se que existam mais de 7 milhes de espcies animais, sendo que apenas cerca de 1,5 milho foram descritas pela cincia.","A maioria dos animais se reproduz sexualmente e passa por um desenvolvimento embrionrio complexo.","Os membros do reino Animalia possuem tecidos diferenciados, com exceo de algumas formas muito simples como esponjas.","Representantes do reino Animalia vivem em praticamente todos os ambientes da Terra, incluindo ambientes extremos.","Animalia  um dos cinco (ou seis) reinos na classificao biolgica tradicional, ao lado de Plantae, Fungi, Protista, Bacteria e Archaea."],2:["O reino Archaea inclui organismos procariontes que se distinguem das bactrias por sua bioqumica e gentica.","Archaea foram reconhecidos como um grupo separado das bactrias apenas na dcada de 1970, por Carl Woese.","Esses microrganismos vivem em ambientes extremos, como fontes termais, lagos salgados e regies com pH extremo  por isso so chamados de extremfilos.","Apesar de serem procariontes, os arqueanos possuem algumas semelhanas moleculares com os eucariontes.","Seu DNA  organizado de forma mais complexa que o das bactrias, e suas membranas celulares so compostas por lipdios nicos.","Archaea no causam doenas conhecidas em humanos, ao contrrio de muitas bactrias.","So importantes para processos ecolgicos, como a produo de metano em ambientes anaerbicos.","Atualmente, Archaea  considerado um domnio separado de Bacteria e Eukarya, na rvore da vida moderna."],3:["O reino Bacteria inclui organismos unicelulares procariontes, presentes em praticamente todos os ambientes da Terra.","So extremamente diversos e numerosos  uma colher de solo pode conter bilhes de bactrias.","Bactrias tm papel fundamental na decomposio, ciclos biogeoqumicos e simbioses com outros organismos.","Podem ser patognicas (causadoras de doenas), mas muitas so benficas ou essenciais  vida, como as que vivem no intestino humano.","As bactrias se reproduzem principalmente por fisso binria, uma forma rpida de reproduo assexuada.","Elas foram os primeiros seres vivos da Terra, com fsseis datando de mais de 3,5 bilhes de anos.","Muitas bactrias podem formar esporos resistentes, sobrevivendo a condies extremas por longos perodos.","So amplamente usadas na biotecnologia, agricultura, medicina e indstria alimentar (como na produo de iogurte e queijos)."],4:["Chromista  um reino proposto para agrupar organismos como algas marrons, diatomceas e oomicetos.","Foi introduzido por Thomas Cavalier-Smith em 1981 como uma alternativa ao reino Protista.","A maioria dos organismos do reino Chromista  fotossintetizante, possuindo cloroplastos com origem secundria.","O grupo inclui organismos unicelulares e multicelulares, a maioria vivendo em ambientes aquticos.","Diatomceas, que pertencem a este reino, so importantes produtores primrios em ecossistemas marinhos.","Os membros do reino Chromista possuem parede celular geralmente composta por celulose ou slica.","Alguns membros so patgenos de plantas, como os oomicetos que causam a requeima em batatas.","Ainda h debates sobre a validade do reino Chromista, e sua classificao pode variar entre sistemas taxonmicos."],5:["O reino Fungi inclui organismos eucariontes como cogumelos, leveduras e bolores.","Todos os fungos so heterotrficos e obtm nutrientes por absoro, aps secretar enzimas digestivas no ambiente.","Sua parede celular  composta por quitina, um polissacardeo tambm encontrado no exoesqueleto de artrpodes.","Fungos desempenham papel crucial na decomposio e reciclagem de matria orgnica nos ecossistemas.","Algumas espcies formam micorrizas, associaes simbiticas com razes de plantas, beneficiando ambas.","Outros fungos so usados na produo de alimentos e bebidas, como po, cerveja e vinho, atravs da fermentao.","Vrios fungos so fontes de medicamentos importantes, como a penicilina.","Apesar de parecerem plantas, fungos so mais prximos dos animais na rvore evolutiva."],6:["Protozorios so organismos eucariontes unicelulares tradicionalmente agrupados no reino Protista (ou Protozoa, em classificaes alternativas).","Vivem principalmente em ambientes aquticos ou midos e podem ser de vida livre ou parasitas.","O termo 'protozorio' vem do grego e significa 'primeiro animal', embora eles no sejam animais de fato.","Movimentam-se por flagelos, clios ou pseudpodes, dependendo do grupo.","Alguns protozorios causam doenas em humanos, como a malria (Plasmodium) e a doena de Chagas (Trypanosoma).","So importantes na cadeia alimentar aqutica, atuando como consumidores primrios de bactrias e algas.","A classificao de protozorios tem sido revista, e muitos so hoje redistribudos em supergrupos e domnios modernos.","Apesar de sua simplicidade estrutural, podem ter ciclos de vida complexos com vrias fases e hospedeiros."],7:["O reino Plantae inclui organismos eucariontes multicelulares, autotrficos e com parede celular de celulose.","Realizam fotossntese utilizando clorofila, sendo a base da maioria das cadeias alimentares terrestres.","O termo 'Plantae' vem do latim e significa literalmente 'plantas'.","Inclui desde musgos e samambaias at rvores, gramneas e flores.","As plantas so fundamentais para a produo de oxignio e o sequestro de dixido de carbono na atmosfera.","Existem mais de 390 mil espcies de plantas descritas, das quais cerca de 90% so plantas com flores (angiospermas).","Possuem ciclo de vida com alternncia de geraes (esporfito e gametfito).","Plantas so utilizadas pela humanidade desde a antiguidade para alimentao, medicina, construo, rituais e decorao."]},PHYLUM:["O termo 'Filo' (ou 'Phylum' em ingls)  o segundo maior nvel na hierarquia taxonmica tradicional, logo abaixo do Reino.","Um filo agrupa organismos que compartilham caractersticas estruturais ou funcionais fundamentais.","Filos so usados para representar divergncias evolutivas profundas entre grandes grupos de organismos.","O nmero de filos em um reino pode variar dependendo do grupo de seres vivos e do sistema de classificao adotado.","Em botnica, o termo equivalente a 'filo'  frequentemente 'diviso', embora os dois sejam conceitualmente semelhantes.","A definio de um filo  baseada em critrios anatmicos, genticos e embriolgicos, conforme o grupo de organismos.","Os filos ajudam os cientistas a organizar e compreender a diversidade biolgica em uma escala ampla.","Muitos filos foram estabelecidos com base em fsseis e caractersticas morfolgicas, mas estudos moleculares vm refinando essas classificaes."],CLASS:["Classe  o terceiro nvel na hierarquia taxonmica tradicional, abaixo do filo e acima da ordem.","Uma classe agrupa organismos dentro de um mesmo filo que compartilham caractersticas mais especficas.","O conceito de classe foi introduzido por Carl Linnaeus e permanece amplamente utilizado na classificao moderna.","A quantidade de classes em um reino pode variar bastante dependendo do grupo e do nvel de estudo taxonmico.","A classificao em classes pode ser revista com base em estudos genticos, moleculares e filogenticos modernos.","Algumas classes renem organismos com grande diversidade morfolgica, ecolgica ou gentica.","Classes so importantes para representar agrupamentos intermedirios amplos na hierarquia taxonmica.","Novas classes so ocasionalmente propostas  medida que novas descobertas so feitas, especialmente entre microrganismos e organismos marinhos."],ORDER:["Ordem  um nvel taxonmico que fica abaixo da classe e acima da famlia.","Organismos de uma mesma ordem compartilham caractersticas estruturais e funcionais mais especficas do que os de uma mesma classe.","O conceito de ordem foi formalizado por Carl Linnaeus e continua sendo relevante na taxonomia moderna.","O nmero de ordens em um reino pode variar amplamente, refletindo a diversidade dos organismos agrupados.","Os nomes das ordens seguem convenes especficas em cada ramo da biologia, variando entre zoologia, botnica e microbiologia.","As ordens ajudam a organizar e agrupar famlias que compartilham um ancestral comum relativamente recente.","Algumas ordens contm apenas uma ou poucas espcies, enquanto outras so extremamente diversas.","Estudos moleculares modernos tm levado  criao, fuso ou diviso de ordens, aprimorando a classificao filogentica."],FAMILY:["Famlia  um nvel taxonmico situado abaixo da ordem e acima do gnero.","Rene organismos que compartilham caractersticas morfolgicas, genticas ou comportamentais muito semelhantes.","Os nomes das famlias seguem convenes taxonmicas especficas, como o sufixo '-idae' na zoologia e '-aceae' na botnica.","Uma famlia pode conter um ou vrios gneros e dezenas ou at centenas de espcies.","A delimitao de famlias  feita com base em estudos comparativos, incluindo gentica, morfologia e filogenia.","Novas famlias podem ser criadas conforme o avano da taxonomia molecular e a descoberta de novos organismos.","Famlias facilitam a comunicao cientfica ao agrupar organismos com alto grau de parentesco evolutivo.","O nmero de famlias reconhecidas em cada reino varia conforme o grupo e o nvel de detalhamento taxonmico."],GENUS:["Gnero  uma categoria taxonmica situada abaixo da famlia e acima da espcie.","Agrupa uma ou mais espcies que compartilham caractersticas morfolgicas e genticas muito prximas.","A nomenclatura cientfica binomial utiliza o nome do gnero como a primeira parte do nome de uma espcie.","O conceito de gnero foi introduzido por Carl Linnaeus no sculo XVIII como parte de seu sistema de classificao binomial.","Gneros podem conter uma nica espcie (gneros monoespecficos) ou muitas espcies diferentes.","A delimitao de um gnero  baseada em critrios morfolgicos, anatmicos, comportamentais e moleculares.","Com o avano da gentica, a classificao de muitos gneros tem sido revisada e atualizada.","Existem dezenas de milhares de gneros descritos na natureza, e esse nmero continua crescendo com novas descobertas."]},Ig={},m9=Symbol((Ig?"production":void 0)!=="production"?"RESET":"");let $1=!1;function g9(e,t){(Ig?"production":void 0)!=="production"&&!$1&&(console.warn("[DEPRECATED] atomFamily is deprecated and will be removed in v3. Please use the `jotai-family` package instead: https://github.com/jotaijs/jotai-family"),$1=!0);let n=null;const i=new Map,s=new Set,o=c=>{let d;if(d=i.get(c),d!==void 0)if(n?.(d[1],c))o.remove(c);else return d[0];const h=e(c);return i.set(c,[h,Date.now()]),l("CREATE",c,h),h},l=(c,d,h)=>{for(const m of s)m({type:c,param:d,atom:h})};return o.unstable_listen=c=>(s.add(c),()=>{s.delete(c)}),o.getParams=()=>i.keys(),o.remove=c=>{{if(!i.has(c))return;const[d]=i.get(c);i.delete(c),l("REMOVE",c,d)}},o.setShouldRemove=c=>{if(n=c,!!n)for(const[d,[h,m]]of i)n(m,d)&&(i.delete(d),l("REMOVE",d,h))},o}const HP=e=>typeof e?.then=="function";function v9(e=()=>{try{return window.localStorage}catch(n){(Ig?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(n);return}},t){var n;let i,s;const o={getItem:(d,h)=>{var m,v;const b=C=>{if(C=C||"",i!==C){try{s=JSON.parse(C,t?.reviver)}catch{return h}i=C}return s},_=(v=(m=e())==null?void 0:m.getItem(d))!=null?v:null;return HP(_)?_.then(b):b(_)},setItem:(d,h)=>{var m;return(m=e())==null?void 0:m.setItem(d,JSON.stringify(h,void 0))},removeItem:d=>{var h;return(h=e())==null?void 0:h.removeItem(d)}},l=d=>(h,m,v)=>d(h,b=>{let _;try{_=JSON.parse(b||"")}catch{_=v}m(_)});let c;try{c=(n=e())==null?void 0:n.subscribe}catch{}return!c&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(c=(d,h)=>{if(!(e()instanceof window.Storage))return()=>{};const m=v=>{v.storageArea===e()&&v.key===d&&h(v.newValue)};return window.addEventListener("storage",m),()=>{window.removeEventListener("storage",m)}}),c&&(o.subscribe=l(c)),o}const y9=v9();function b9(e,t,n=y9,i){const s=pt(t);return(Ig?"production":void 0)!=="production"&&(s.debugPrivate=!0),s.onMount=l=>{l(n.getItem(e,t));let c;return n.subscribe&&(c=n.subscribe(e,l,t)),c},pt(l=>l(s),(l,c,d)=>{const h=typeof d=="function"?d(l(s)):d;return h===m9?(c(s,t),n.removeItem(e)):HP(h)?h.then(m=>(c(s,m),n.setItem(e,m))):(c(s,h),n.setItem(e,h))})}const x9=pt({mode:null,status:"NOT_STARTED"}),_9=pt(p9),w9=pt({isShaking:!1,shakeDirection:!0}),ql=pt({}),S9=pt([]),xu=pt([]),GP=pt(null),KP=pt(null,(e,t,n)=>{t(GP,n)}),C9=pt(null,(e,t,n)=>{t(ql,i=>{const s={...i};return n.forEach(o=>{s[o.key]={...s[o.key],...o}}),s})}),E9=pt(null,(e,t,n)=>{t(xu,n)}),qP=g9(e=>pt(t=>t(ql)[e],(t,n,i)=>{n(ql,s=>{const o=s[e],l=typeof i=="function"?i(o):{...o,...i};return{...s,[e]:l}})})),WP=pt(null,(e,t,n)=>{const{key:i,children:s}=n;t(ql,o=>{const l={...o};return s.forEach(c=>{l[c.key]={...l[c.key]??{},...c,parentKey:i}}),l[i]={...l[i]??{},childrenKeys:s.map(c=>c.key)},l})});pt(null,(e,t,n)=>{const i=e(ql),s=i[n];if(!s)return;const o=e(xu),l=o.findIndex(m=>m.key===n);if(l!==-1){t(xu,o.slice(0,l));return}const c=[];let d=s;for(;d;)c.unshift(d),d=d.parentKey?i[d.parentKey]:void 0;const h=c.map(m=>({key:m.key,rank:m.rank,name:m.rank==="KINGDOM"?Qi(Ru[m.key]):m.canonicalName||m.scientificName||""}));t(xu,h)});let Xd=new Set;const A9=pt(null,(e,t)=>{const n=e(xu),i=new Set(n.filter(l=>l.rank!=="SPECIES").map(l=>l.key));if(i.size===Xd.size&&[...i].every(l=>Xd.has(l)))return;const s=[...Xd].filter(l=>!i.has(l)),o=[...i].filter(l=>!Xd.has(l));Xd=i,t(ql,l=>{if(s.length===0&&o.length===0)return l;const c={...l};for(const d of s)c[d]&&(c[d]={...c[d],expanded:!1});for(const d of o){const h=n.find(m=>m.key===d);c[d]?c[d]={...c[d],expanded:!0}:h&&(c[d]={...h,numDescendants:0,expanded:!0})}return c})}),T9=pt(null);pt(null,(e,t,n)=>{t(T9,n)});const YP=pt(null),R9=pt(null,(e,t,n)=>{t(YP,n)}),D_=pt(new Set),k9=pt(null,(e,t,n)=>{t(D_,new Set(n))}),N9=pt(null,(e,t,n)=>{t(D_,i=>{const s=new Set(i);return s.delete(n),s})}),ZP=pt(null),O9=pt(null,(e,t,n)=>{t(ZP,n)});pt({});const La=pt(null),Ye={challenge:x9,exploreInfos:_9,animate:w9,expandedNodes:xu,highlightedKeys:D_,scrollToRank:YP,scrollToNodeKey:ZP,shortcutScrollTarget:GP,nodes:ql,rootKeys:S9,mergeNodes:C9},XP=pt(null),QP=pt(null),JP=pt("idle"),eM=pt("idle"),tM=pt(!1),P9=pt(null),M9=pt(e=>{const t=e(XP),n=e(QP);return e(tM)&&!!t?.user&&!!n});pt(e=>e(JP)==="loading"||e(eM)==="loading");const D9=pt(null);pt(!1);const st={session:XP,userDb:QP,loginStatus:JP,logoutStatus:eM,error:P9,initialized:tM,isAuthenticated:M9,lastAuthCheck:D9},L9=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class L_ extends Error{constructor(t,n="FunctionsError",i){super(t),this.name=n,this.context=i}}class j9 extends L_{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class H1 extends L_{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class G1 extends L_{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var zx;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(zx||(zx={}));class I9{constructor(t,{headers:n={},customFetch:i,region:s=zx.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=L9(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return LF(this,arguments,void 0,function*(n,i={}){var s;let o,l;try{const{headers:c,method:d,body:h,signal:m,timeout:v}=i;let b={},{region:_}=i;_||(_=this.region);const C=new URL(`${this.url}/${n}`);_&&_!=="any"&&(b["x-region"]=_,C.searchParams.set("forceFunctionRegion",_));let E;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",E=h):typeof h=="string"?(b["Content-Type"]="text/plain",E=h):typeof FormData<"u"&&h instanceof FormData?E=h:(b["Content-Type"]="application/json",E=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?E=JSON.stringify(h):E=h;let T=m;v&&(l=new AbortController,o=setTimeout(()=>l.abort(),v),m?(T=l.signal,m.addEventListener("abort",()=>l.abort())):T=l.signal);const N=yield this.fetch(C.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),c),body:E,signal:T}).catch(j=>{throw new j9(j)}),k=N.headers.get("x-relay-error");if(k&&k==="true")throw new H1(N);if(!N.ok)throw new G1(N);let O=((s=N.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),M;return O==="application/json"?M=yield N.json():O==="application/octet-stream"||O==="application/pdf"?M=yield N.blob():O==="text/event-stream"?M=N:O==="multipart/form-data"?M=yield N.formData():M=yield N.text(),{data:M,error:null,response:N}}catch(c){return{data:null,error:c,response:c instanceof G1||c instanceof H1?c.context:void 0}}finally{o&&clearTimeout(o)}})}}var z9=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},B9=class{constructor(e){var t,n,i;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(i=e.urlLengthLimit)!==null&&i!==void 0?i:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let s=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let l=null,c=null,d=null,h=o.status,m=o.statusText;if(o.ok){var v,b;if(n.method!=="HEAD"){var _;const N=await o.text();N===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((_=n.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?c=N:c=JSON.parse(N))}const E=(v=n.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),T=(b=o.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");E&&T&&T.length>1&&(d=parseInt(T[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(c)&&(c.length>1?(l={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,h=406,m="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var C;const E=await o.text();try{l=JSON.parse(E),Array.isArray(l)&&o.status===404&&(c=[],l=null,h=200,m="OK")}catch{o.status===404&&E===""?(h=204,m="No Content"):l={message:E}}if(l&&n.isMaybeSingle&&(!(l==null||(C=l.details)===null||C===void 0)&&C.includes("0 rows"))&&(l=null,h=200,m="OK"),l&&n.shouldThrowOnError)throw new z9(l)}return{error:l,data:c,count:d,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(o=>{var l;let c="",d="",h="";const m=o?.cause;if(m){var v,b,_,C;const N=(v=m?.message)!==null&&v!==void 0?v:"",k=(b=m?.code)!==null&&b!==void 0?b:"";c=`${(_=o?.name)!==null&&_!==void 0?_:"FetchError"}: ${o?.message}`,c+=`

Caused by: ${(C=m?.name)!==null&&C!==void 0?C:"Error"}: ${N}`,k&&(c+=` (${k})`),m?.stack&&(c+=`
${m.stack}`)}else{var E;c=(E=o?.stack)!==null&&E!==void 0?E:""}const T=this.url.toString().length;return o?.name==="AbortError"||o?.code==="ABORT_ERR"?(h="",d="Request was aborted (timeout or manual cancellation)",T>this.urlLengthLimit&&(d+=`. Note: Your request URL is ${T} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(m?.name==="HeadersOverflowError"||m?.code==="UND_ERR_HEADERS_OVERFLOW")&&(h="",d="HTTP headers exceeded server limits (typically 16KB)",T>this.urlLengthLimit&&(d+=`. Your request URL is ${T} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(l=o?.name)!==null&&l!==void 0?l:"FetchError"}: ${o?.message}`,details:c,hint:d,code:h},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},U9=class extends B9{select(e){let t=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,t?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const K1=new RegExp("[,()]");var ru=class extends U9{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(i=>typeof i=="string"&&K1.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(i=>typeof i=="string"&&K1.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},F9=class{constructor(e,{headers:t={},schema:n,fetch:i,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=i,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:i}=t??{},s=n?"HEAD":"GET";let o=!1;const l=(e??"*").split("").map(h=>/\s/.test(h)&&!o?"":(h==='"'&&(o=!o),h)).join(""),{url:c,headers:d}=this.cloneRequestState();return c.searchParams.set("select",l),i&&d.append("Prefer",`count=${i}`),new ru({method:s,url:c,headers:d,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var i;const s="POST",{url:o,headers:l}=this.cloneRequestState();if(t&&l.append("Prefer",`count=${t}`),n||l.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(c.length>0){const d=[...new Set(c)].map(h=>`"${h}"`);o.searchParams.set("columns",d.join(","))}}return new ru({method:s,url:o,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){var o;const l="POST",{url:c,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&c.searchParams.set("on_conflict",t),i&&d.append("Prefer",`count=${i}`),s||d.append("Prefer","missing=default"),Array.isArray(e)){const h=e.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(h.length>0){const m=[...new Set(h)].map(v=>`"${v}"`);c.searchParams.set("columns",m.join(","))}}return new ru({method:l,url:c,headers:d,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const i="PATCH",{url:s,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new ru({method:i,url:s,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:i,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new ru({method:n,url:i,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}function V9(e,t){if(Tf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Tf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $9(e){var t=V9(e,"string");return Tf(t)=="symbol"?t:t+""}function H9(e,t,n){return(t=$9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Xp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q1(Object(n),!0).forEach(function(i){H9(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q1(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}var G9=class nM{constructor(t,{headers:n={},schema:i,fetch:s,timeout:o,urlLengthLimit:l=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=i,this.urlLengthLimit=l;const c=s??globalThis.fetch;o!==void 0&&o>0?this.fetch=(d,h)=>{const m=new AbortController,v=setTimeout(()=>m.abort(),o),b=h?.signal;if(b){if(b.aborted)return clearTimeout(v),c(d,h);const _=()=>{clearTimeout(v),m.abort()};return b.addEventListener("abort",_,{once:!0}),c(d,Xp(Xp({},h),{},{signal:m.signal})).finally(()=>{clearTimeout(v),b.removeEventListener("abort",_)})}return c(d,Xp(Xp({},h),{},{signal:m.signal})).finally(()=>clearTimeout(v))}:this.fetch=c}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new F9(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new nM(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:i=!1,get:s=!1,count:o}={}){var l;let c;const d=new URL(`${this.url}/rpc/${t}`);let h;const m=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(m)),v=i&&Object.values(n).some(m);v?(c="POST",h=n):i||s?(c=i?"HEAD":"GET",Object.entries(n).filter(([_,C])=>C!==void 0).map(([_,C])=>[_,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([_,C])=>{d.searchParams.append(_,C)})):(c="POST",h=n);const b=new Headers(this.headers);return v?b.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&b.set("Prefer",`count=${o}`),new ru({method:c,url:d,headers:b,schema:this.schemaName,body:h,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}};class K9{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const i=n.versions;if(i&&i.node){const s=i.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const i=this.getWebSocketConstructor();return new i(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const q9="2.97.0",W9=`realtime-js/${q9}`,Y9="1.0.0",iM="2.0.0",W1=iM,Bx=1e4,Z9=1e3,X9=100;var Sa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Sa||(Sa={}));var Fn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Fn||(Fn={}));var fr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(fr||(fr={}));var Ux;(function(e){e.websocket="websocket"})(Ux||(Ux={}));var Ml;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ml||(Ml={}));class Q9{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let i=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,i;const s=(i=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,i;const s=(i=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:{},l=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,n,i){var s,o;const l=t.topic,c=(s=t.ref)!==null&&s!==void 0?s:"",d=(o=t.join_ref)!==null&&o!==void 0?o:"",h=t.payload.event,m=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},v=Object.keys(m).length===0?"":JSON.stringify(m);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+c.length+l.length+h.length+v.length,_=new ArrayBuffer(this.HEADER_LENGTH+b);let C=new DataView(_),E=0;C.setUint8(E++,this.KINDS.userBroadcastPush),C.setUint8(E++,d.length),C.setUint8(E++,c.length),C.setUint8(E++,l.length),C.setUint8(E++,h.length),C.setUint8(E++,v.length),C.setUint8(E++,n),Array.from(d,N=>C.setUint8(E++,N.charCodeAt(0))),Array.from(c,N=>C.setUint8(E++,N.charCodeAt(0))),Array.from(l,N=>C.setUint8(E++,N.charCodeAt(0))),Array.from(h,N=>C.setUint8(E++,N.charCodeAt(0))),Array.from(v,N=>C.setUint8(E++,N.charCodeAt(0)));var T=new Uint8Array(_.byteLength+i.byteLength);return T.set(new Uint8Array(_),0),T.set(new Uint8Array(i),_.byteLength),T.buffer}decode(t,n){if(this._isArrayBuffer(t)){let i=this._binaryDecode(t);return n(i)}if(typeof t=="string"){const i=JSON.parse(t),[s,o,l,c,d]=i;return n({join_ref:s,ref:o,topic:l,event:c,payload:d})}return n({})}_binaryDecode(t){const n=new DataView(t),i=n.getUint8(0),s=new TextDecoder;if(i===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,n,s)}_decodeUserBroadcast(t,n,i){const s=n.getUint8(1),o=n.getUint8(2),l=n.getUint8(3),c=n.getUint8(4);let d=this.HEADER_LENGTH+4;const h=i.decode(t.slice(d,d+s));d=d+s;const m=i.decode(t.slice(d,d+o));d=d+o;const v=i.decode(t.slice(d,d+l));d=d+l;const b=t.slice(d,t.byteLength),_=c===this.JSON_ENCODING?JSON.parse(i.decode(b)):b,C={type:this.BROADCAST_EVENT,event:m,payload:_};return l>0&&(C.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([i])=>n.includes(i)))}}let sM=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Xt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Xt||(Xt={}));const Y1=(e,t,n={})=>{var i;const s=(i=n.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((o,l)=>(o[l]=J9(l,e,t,s),o),{}):{}},J9=(e,t,n,i)=>{const s=t.find(c=>c.name===e),o=s?.type,l=n[e];return o&&!i.includes(o)?rM(o,l):Fx(l)},rM=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return iq(t,n)}switch(e){case Xt.bool:return eq(t);case Xt.float4:case Xt.float8:case Xt.int2:case Xt.int4:case Xt.int8:case Xt.numeric:case Xt.oid:return tq(t);case Xt.json:case Xt.jsonb:return nq(t);case Xt.timestamp:return sq(t);case Xt.abstime:case Xt.date:case Xt.daterange:case Xt.int4range:case Xt.int8range:case Xt.money:case Xt.reltime:case Xt.text:case Xt.time:case Xt.timestamptz:case Xt.timetz:case Xt.tsrange:case Xt.tstzrange:return Fx(t);default:return Fx(t)}},Fx=e=>e,eq=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},tq=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},nq=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},iq=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,i=e[n];if(e[0]==="{"&&i==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(c=>rM(t,c))}return e},sq=e=>typeof e=="string"?e.replace(" ","T"):e,oM=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Db{constructor(t,n,i={},s=Bx){this.channel=t,this.event=n,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var i;return this._hasReceived(t)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Z1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Z1||(Z1={}));class df{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=df.syncState(this.state,s,o,l),this.pendingDiffs.forEach(d=>{this.state=df.syncDiff(this.state,d,o,l)}),this.pendingDiffs=[],c()}),this.channel._on(i.diff,{},s=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=df.syncDiff(this.state,s,o,l),c())}),this.onJoin((s,o,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:l})}),this.onLeave((s,o,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,i,s){const o=this.cloneDeep(t),l=this.transformState(n),c={},d={};return this.map(o,(h,m)=>{l[h]||(d[h]=m)}),this.map(l,(h,m)=>{const v=o[h];if(v){const b=m.map(T=>T.presence_ref),_=v.map(T=>T.presence_ref),C=m.filter(T=>_.indexOf(T.presence_ref)<0),E=v.filter(T=>b.indexOf(T.presence_ref)<0);C.length>0&&(c[h]=C),E.length>0&&(d[h]=E)}else c[h]=m}),this.syncDiff(o,{joins:c,leaves:d},i,s)}static syncDiff(t,n,i,s){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(o,(c,d)=>{var h;const m=(h=t[c])!==null&&h!==void 0?h:[];if(t[c]=this.cloneDeep(d),m.length>0){const v=t[c].map(_=>_.presence_ref),b=m.filter(_=>v.indexOf(_.presence_ref)<0);t[c].unshift(...b)}i(c,m,d)}),this.map(l,(c,d)=>{let h=t[c];if(!h)return;const m=d.map(v=>v.presence_ref);h=h.filter(v=>m.indexOf(v.presence_ref)<0),t[c]=h,s(c,h,d),h.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(i=>n(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,i)=>{const s=t[i];return"metas"in s?n[i]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[i]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var X1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(X1||(X1={}));var ff;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ff||(ff={}));var Ro;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ro||(Ro={}));class cu{constructor(t,n={config:{}},i){var s,o;if(this.topic=t,this.params=n,this.socket=i,this.bindings={},this.state=Fn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Db(this,fr.join,this.params,this.timeout),this.rejoinTimer=new sM(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fn.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Fn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Fn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fr.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new df(this),this.broadcastEndpointURL=oM(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var i,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Fn.closed){const{config:{broadcast:l,presence:c,private:d}}=this.params,h=(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&s!==void 0?s:[],m=!!this.bindings[ff.PRESENCE]&&this.bindings[ff.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,v={},b={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(_=>t?.(Ro.CHANNEL_ERROR,_)),this._onClose(()=>t?.(Ro.CLOSED)),this.updateJoinPayload(Object.assign({config:b},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){t?.(Ro.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,T=(C=E?.length)!==null&&C!==void 0?C:0,N=[];for(let k=0;k<T;k++){const O=E[k],{filter:{event:M,schema:j,table:V,filter:z}}=O,I=_&&_[k];if(I&&I.event===M&&cu.isFilterValueEqual(I.schema,j)&&cu.isFilterValueEqual(I.table,V)&&cu.isFilterValueEqual(I.filter,z))N.push(Object.assign(Object.assign({},O),{id:I.id}));else{this.unsubscribe(),this.state=Fn.errored,t?.(Ro.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(Ro.SUBSCRIBED);return}}).receive("error",_=>{this.state=Fn.errored,t?.(Ro.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t?.(Ro.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,i){return this.state===Fn.joined&&t===ff.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,i)}async httpSend(t,n,i={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const h=await c.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}async send(t,n={}){var i,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=t,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,c,d;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Fn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fr.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(s=>{i=new Db(this,fr.leave,{},t),i.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Fn.closed,this.bindings={}}async _fetchWithTimeout(t,n,i){const s=new AbortController,o=setTimeout(()=>s.abort(),i),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),l}_push(t,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Db(this,t,n,i);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>X9){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,i){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,i){var s,o;const l=t.toLocaleLowerCase(),{close:c,error:d,leave:h,join:m}=fr;if(i&&[c,d,h,m].indexOf(l)>=0&&i!==this._joinRef())return;let b=this._onMessage(l,n,i);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(_=>{var C,E,T;return((C=_.filter)===null||C===void 0?void 0:C.event)==="*"||((T=(E=_.filter)===null||E===void 0?void 0:E.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===l}).map(_=>_.callback(b,i)):(o=this.bindings[l])===null||o===void 0||o.filter(_=>{var C,E,T,N,k,O;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in _){const M=_.id,j=(C=_.filter)===null||C===void 0?void 0:C.event;return M&&((E=n.ids)===null||E===void 0?void 0:E.includes(M))&&(j==="*"||j?.toLocaleLowerCase()===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const M=(k=(N=_?.filter)===null||N===void 0?void 0:N.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return M==="*"||M===((O=n?.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===l}).map(_=>{if(typeof b=="object"&&"ids"in b){const C=b.data,{schema:E,table:T,commit_timestamp:N,type:k,errors:O}=C;b=Object.assign(Object.assign({},{schema:E,table:T,commit_timestamp:N,eventType:k,new:{},old:{},errors:O}),this._getPayloadRecords(C))}_.callback(b,i)})}_isClosed(){return this.state===Fn.closed}_isJoined(){return this.state===Fn.joined}_isJoining(){return this.state===Fn.joining}_isLeaving(){return this.state===Fn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,i){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:i};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&cu.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const i in t)if(t[i]!==n[i])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(fr.close,{},t)}_onError(t){this._on(fr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Y1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Y1(t.columns,t.old_record)),n}}const Lb=()=>{},Qp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},rq=[1e3,2e3,5e3,1e4],oq=1e4,aq=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lq{constructor(t,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bx,this.transport=null,this.heartbeatIntervalMs=Qp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Lb,this.ref=0,this.reconnectTimer=null,this.vsn=W1,this.logger=Lb,this.conn=null,this.sendBuffer=[],this.serializer=new Q9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((i=n?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Ux.websocket}`,this.httpEndpoint=oM(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=K9.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,i){this.logger(t,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Sa.connecting:return Ml.Connecting;case Sa.open:return Ml.Open;case Sa.closing:return Ml.Closing;default:return Ml.Closed}}isConnected(){return this.connectionState()===Ml.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const i=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===i);if(s)return s;{const o=new cu(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:i,payload:s,ref:o}=t,l=()=>{this.encode(t,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${n} ${i} (${o})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Z9,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Qp.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",h)}catch(m){this.log("error","error in heartbeat callback",m)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:s,payload:o,ref:l}=n,c=l?`(${l})`:"",d=o.status||"";this.log("receive",`${d} ${i} ${s} ${c}`.trim(),o),this.channels.filter(h=>h._isMember(i)).forEach(h=>h._trigger(s,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Sa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Sa.open||this.conn.readyState===Sa.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(fr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const i=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${i}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const i=new Blob([aq],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,i=!1;if(t)n=t,i=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const o={access_token:n,version:W9};n&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(fr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new sM(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Qp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,i,s,o,l,c,d,h,m,v,b,_;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(i=t?.timeout)!==null&&i!==void 0?i:Bx,this.heartbeatIntervalMs=(s=t?.heartbeatIntervalMs)!==null&&s!==void 0?s:Qp.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=t?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=t?.heartbeatCallback)!==null&&c!==void 0?c:Lb,this.vsn=(d=t?.vsn)!==null&&d!==void 0?d:W1,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t?.reconnectAfterMs)!==null&&h!==void 0?h:(C=>rq[C-1]||oq),this.vsn){case Y9:this.encode=(m=t?.encode)!==null&&m!==void 0?m:((C,E)=>E(JSON.stringify(C))),this.decode=(v=t?.decode)!==null&&v!==void 0?v:((C,E)=>E(JSON.parse(C)));break;case iM:this.encode=(b=t?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(_=t?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var Rf=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function cq(e,t,n){const i=new URL(t,e);if(n)for(const[s,o]of Object.entries(n))o!==void 0&&i.searchParams.set(s,o);return i.toString()}async function uq(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function dq(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:i,query:s,body:o,headers:l}){const c=cq(e.baseUrl,i,s),d=await uq(e.auth),h=await t(c,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...d,...l},body:o?JSON.stringify(o):void 0}),m=await h.text(),v=(h.headers.get("content-type")||"").includes("application/json"),b=v&&m?JSON.parse(m):m;if(!h.ok){const _=v?b:void 0,C=_?.error;throw new Rf(C?.message??`Request failed with status ${h.status}`,{status:h.status,icebergType:C?.type,icebergCode:C?.code,details:_})}return{status:h.status,headers:h.headers,data:b}}}}function Jp(e){return e.join("")}var fq=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Jp(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Jp(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Jp(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Jp(e.namespace)}`}),!0}catch(t){if(t instanceof Rf&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Rf&&n.status===409)return;throw n}}};function Zc(e){return e.join("")}var hq=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zc(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Zc(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Zc(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zc(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zc(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zc(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Rf&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Rf&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},pq=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=dq({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new fq(this.client,t),this.tableOps=new hq(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},zg=class extends Error{constructor(e,t="storage",n,i){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=i}};function Bg(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var em=class extends zg{constructor(e,t,n,i="storage"){super(e,i,t,n),this.name=i==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},aM=class extends zg{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const mq=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),gq=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Vx=e=>{if(Array.isArray(e))return e.map(n=>Vx(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,i])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Vx(i)}),t},vq=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function yq(e,t){if(kf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(kf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bq(e){var t=yq(e,"string");return kf(t)=="symbol"?t:t+""}function xq(e,t,n){return(t=bq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q1(Object(n),!0).forEach(function(i){xq(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q1(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}const J1=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},_q=async(e,t,n,i)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const s=e,o=s.status||500;if(typeof s.json=="function")s.json().then(l=>{const c=l?.statusCode||l?.code||o+"";t(new em(J1(l),o,c,i))}).catch(()=>{if(i==="vectors"){const l=o+"";t(new em(s.statusText||`HTTP ${o} error`,o,l,i))}else{const l=o+"";t(new em(s.statusText||`HTTP ${o} error`,o,l,i))}});else{const l=o+"";t(new em(s.statusText||`HTTP ${o} error`,o,l,i))}}else t(new aM(J1(e),e,i))},wq=(e,t,n,i)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"||e==="HEAD"||!i?Je(Je({},s),n):(gq(i)?(s.headers=Je({"Content-Type":"application/json"},t?.headers),s.body=JSON.stringify(i)):s.body=i,t?.duplex&&(s.duplex=t.duplex),Je(Je({},s),n))};async function Qd(e,t,n,i,s,o,l){return new Promise((c,d)=>{e(n,wq(t,i,s,o)).then(h=>{if(!h.ok)throw h;if(i?.noResolveJson)return h;if(l==="vectors"){const m=h.headers.get("content-type");if(h.headers.get("content-length")==="0"||h.status===204)return{};if(!m||!m.includes("application/json"))return{}}return h.json()}).then(h=>c(h)).catch(h=>_q(h,d,i,l))})}function lM(e="storage"){return{get:async(t,n,i,s)=>Qd(t,"GET",n,i,s,void 0,e),post:async(t,n,i,s,o)=>Qd(t,"POST",n,s,o,i,e),put:async(t,n,i,s,o)=>Qd(t,"PUT",n,s,o,i,e),head:async(t,n,i,s)=>Qd(t,"HEAD",n,Je(Je({},i),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,n,i,s,o)=>Qd(t,"DELETE",n,s,o,i,e)}}const Sq=lM("storage"),{get:Nf,post:dr,put:$x,head:Cq,remove:j_}=Sq,ys=lM("vectors");var zu=class{constructor(e,t={},n,i="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=mq(n),this.namespace=i}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Je(Je({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Bg(n))return{data:null,error:n};throw n}}},Eq=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Bg(t))return{data:null,error:t};throw t}}};let cM;cM=Symbol.toStringTag;var Aq=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[cM]="BlobDownloadBuilder",this.promise=null}asStream(){return new Eq(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Bg(t))return{data:null,error:t};throw t}}};const Tq={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},eT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Rq=class extends zu{constructor(e,t={},n,i){super(e,t,i,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,i){var s=this;return s.handleOperation(async()=>{let o;const l=Je(Je({},eT),i);let c=Je(Je({},s.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",s.encodeMetadata(d)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",l.cacheControl),d&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(d))):(o=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,d&&(c["x-metadata"]=s.toBase64(s.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!l.duplex&&(l.duplex="half")),i?.headers&&(c=Je(Je({},c),i.headers));const h=s._removeEmptyFolders(t),m=s._getFinalPath(h),v=await(e=="PUT"?$x:dr)(s.fetch,`${s.url}/object/${m}`,o,Je({headers:c},l?.duplex?{duplex:l.duplex}:{}));return{path:h,id:v.Id,fullPath:v.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,i){var s=this;const o=s._removeEmptyFolders(e),l=s._getFinalPath(o),c=new URL(s.url+`/object/upload/sign/${l}`);return c.searchParams.set("token",t),s.handleOperation(async()=>{let d;const h=Je({upsert:eT.upsert},i),m=Je(Je({},s.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",h.cacheControl)):(d=n,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType),{path:o,fullPath:(await $x(s.fetch,c.toString(),d,{headers:m})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(e);const s=Je({},n.headers);t?.upsert&&(s["x-upsert"]="true");const o=await dr(n.fetch,`${n.url}/object/upload/sign/${i}`,{},{headers:s}),l=new URL(n.url+o.url),c=l.searchParams.get("token");if(!c)throw new zg("No token returned by API");return{signedUrl:l.toString(),path:e,token:c}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var i=this;return i.handleOperation(async()=>await dr(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:i.headers}))}async copy(e,t,n){var i=this;return i.handleOperation(async()=>({path:(await dr(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:i.headers})).Key}))}async createSignedUrl(e,t,n){var i=this;return i.handleOperation(async()=>{let s=i._getFinalPath(e),o=await dr(i.fetch,`${i.url}/object/sign/${s}`,Je({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:i.headers});const l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${i.url}${o.signedURL}${l}`)}})}async createSignedUrls(e,t,n){var i=this;return i.handleOperation(async()=>{const s=await dr(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:t,paths:e},{headers:i.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s.map(l=>Je(Je({},l),{},{signedUrl:l.signedURL?encodeURI(`${i.url}${l.signedURL}${o}`):null}))})}download(e,t,n){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(t?.transform||{}),o=s?`?${s}`:"",l=this._getFinalPath(e),c=()=>Nf(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0},n);return new Aq(c,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>Vx(await Nf(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await Cq(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Bg(i)&&i instanceof aM){const s=i.originalError;if([400,404].includes(s?.status))return{data:!1,error:i}}throw i}}getPublicUrl(e,t){const n=this._getFinalPath(e),i=[],s=t?.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&i.push(s);const o=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await j_(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var i=this;return i.handleOperation(async()=>{const s=Je(Je(Je({},Tq),t),{},{prefix:e||""});return await dr(i.fetch,`${i.url}/object/list/${i.bucketId}`,s,{headers:i.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const i=Je({},e);return await dr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,i,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const kq="2.97.0",rh={"X-Client-Info":`storage-js/${kq}`};var Nq=class extends zu{constructor(e,t={},n,i){const s=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const o=s.href.replace(/\/$/,""),l=Je(Je({},rh),t);super(o,l,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await Nf(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Nf(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await dr(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await $x(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await dr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await j_(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Oq=class extends zu{constructor(e,t={},n){const i=e.replace(/\/$/,""),s=Je(Je({},rh),t);super(i,s,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await dr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const i=n.toString(),s=i?`${t.url}/bucket?${i}`:`${t.url}/bucket`;return await Nf(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await j_(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!vq(e))throw new zg("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new pq({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(n,{get(s,o){const l=s[o];return typeof l!="function"?l:async(...c)=>{try{return{data:await l.apply(s,c),error:null}}catch(d){if(i)throw d;return{data:null,error:d}}}}})}},Pq=class extends zu{constructor(e,t={},n){const i=e.replace(/\/$/,""),s=Je(Je({},rh),{},{"Content-Type":"application/json"},t);super(i,s,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await ys.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await ys.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},Mq=class extends zu{constructor(e,t={},n){const i=e.replace(/\/$/,""),s=Je(Je({},rh),{},{"Content-Type":"application/json"},t);super(i,s,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},Dq=class extends zu{constructor(e,t={},n){const i=e.replace(/\/$/,""),s=Je(Je({},rh),{},{"Content-Type":"application/json"},t);super(i,s,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Lq=class extends Dq{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new jq(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},jq=class extends Pq{constructor(e,t,n,i){super(e,t,i),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,Je(Je({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,Je(Je({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new Iq(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Iq=class extends Mq{constructor(e,t,n,i,s){super(e,t,s),this.vectorBucketName=n,this.indexName=i}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,Je(Je({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,Je(Je({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,Je(Je({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,Je(Je({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,Je(Je({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},zq=class extends Nq{constructor(e,t={},n,i){super(e,t,n,i)}from(e){return new Rq(this.url,this.headers,e,this.fetch)}get vectors(){return new Lq(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Oq(this.url+"/iceberg",this.headers,this.fetch)}};const uM="2.97.0",ou=30*1e3,Hx=3,jb=Hx*ou,Bq="http://localhost:9999",Uq="supabase.auth.token",Fq={"X-Client-Info":`gotrue-js/${uM}`},Gx="X-Supabase-Api-Version",dM={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Vq=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$q=600*1e3;class Of extends Error{constructor(t,n,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Ke(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Hq extends Of{constructor(t,n,i){super(t,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function Gq(e){return Ke(e)&&e.name==="AuthApiError"}class Dl extends Of{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class zo extends Of{constructor(t,n,i,s){super(t,i,s),this.name=n,this.status=i}}class ps extends zo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ib(e){return Ke(e)&&e.name==="AuthSessionMissingError"}class Xc extends zo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class tm extends zo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class nm extends zo{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Kq(e){return Ke(e)&&e.name==="AuthImplicitGrantRedirectError"}class tT extends zo{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qq extends zo{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Kx extends zo{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function zb(e){return Ke(e)&&e.name==="AuthRetryableFetchError"}class nT extends zo{constructor(t,n,i){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class qx extends zo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),iT=` 	
\r=`.split(""),Wq=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<iT.length;t+=1)e[iT[t].charCodeAt(0)]=-2;for(let t=0;t<Jm.length;t+=1)e[Jm[t].charCodeAt(0)]=t;return e})();function sT(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(Jm[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(Jm[i]),t.queuedBits-=6}}function fM(e,t,n){const i=Wq[e];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function rT(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=l=>{Xq(l,i,n)};for(let l=0;l<e.length;l+=1)fM(e.charCodeAt(l),s,o);return t.join("")}function Yq(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Zq(e,t){for(let n=0;n<e.length;n+=1){let i=e.charCodeAt(n);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Yq(i,t)}}function Xq(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function _u(e){const t=[],n={queue:0,queuedBits:0},i=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)fM(e.charCodeAt(s),n,i);return new Uint8Array(t)}function Qq(e){const t=[];return Zq(e,n=>t.push(n)),new Uint8Array(t)}function Il(e){const t=[],n={queue:0,queuedBits:0},i=s=>{t.push(s)};return e.forEach(s=>sT(s,n,i)),sT(null,n,i),t.join("")}function Jq(e){return Math.round(Date.now()/1e3)+e}function eW(){return Symbol("auth-callback")}const fi=()=>typeof window<"u"&&typeof document<"u",Al={tested:!1,writable:!1},hM=()=>{if(!fi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Al.tested)return Al.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Al.tested=!0,Al.writable=!0}catch{Al.tested=!0,Al.writable=!1}return Al.writable};function tW(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((i,s)=>{t[s]=i}),t}const pM=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),nW=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",au=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Tl=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},di=async(e,t)=>{await e.removeItem(t)};class Ug{constructor(){this.promise=new Ug.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ug.promiseConstructor=Promise;function im(e){const t=e.split(".");if(t.length!==3)throw new qx("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!Vq.test(t[i]))throw new qx("JWT not in base64url format");return{header:JSON.parse(rT(t[0])),payload:JSON.parse(rT(t[1])),signature:_u(t[2]),raw:{header:t[0],payload:t[1]}}}async function iW(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function sW(e,t){return new Promise((i,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){i(l);return}}catch(l){if(!t(o,l)){s(l);return}}})()})}function rW(e){return("0"+e.toString(16)).substr(-2)}function oW(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(t),Array.from(t,rW).join("")}async function aW(e){const n=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(i);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function lW(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await aW(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qc(e,t,n=!1){const i=oW();let s=i;n&&(s+="/PASSWORD_RECOVERY"),await au(e,`${t}-code-verifier`,s);const o=await lW(i);return[o,i===o?"plain":"s256"]}const cW=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function uW(e){const t=e.headers.get(Gx);if(!t||!t.match(cW))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function dW(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function fW(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const hW=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Jc(e){if(!hW.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bb(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function pW(e,t){return new Proxy(e,{get:(n,i,s)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,s)}return!t.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,i,s)}})}function oT(e){return JSON.parse(JSON.stringify(e))}const Nl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mW=[502,503,504];async function aT(e){var t;if(!nW(e))throw new Kx(Nl(e),0);if(mW.includes(e.status))throw new Kx(Nl(e),e.status);let n;try{n=await e.json()}catch(o){throw new Dl(Nl(o),o)}let i;const s=uW(e);if(s&&s.getTime()>=dM["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new nT(Nl(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new ps}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new nT(Nl(n),e.status,n.weak_password.reasons);throw new Hq(Nl(n),e.status||500,i)}const gW=(e,t,n,i)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),n))};async function tt(e,t,n,i){var s;const o=Object.assign({},i?.headers);o[Gx]||(o[Gx]=dM["2024-01-01"].name),i?.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const l=(s=i?.query)!==null&&s!==void 0?s:{};i?.redirectTo&&(l.redirect_to=i.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await vW(e,t,n+c,{headers:o,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(d):{data:Object.assign({},d),error:null}}async function vW(e,t,n,i,s,o){const l=gW(t,i,s,o);let c;try{c=await e(n,Object.assign({},l))}catch(d){throw console.error(d),new Kx(Nl(d),0)}if(c.ok||await aT(c),i?.noResolveJson)return c;try{return await c.json()}catch(d){await aT(d)}}function lr(e){var t;let n=null;xW(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Jq(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:i},error:null}}function lT(e){const t=lr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ea(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function yW(e){return{data:e,error:null}}function bW(e){const{action_link:t,email_otp:n,hashed_token:i,redirect_to:s,verification_type:o}=e,l=ju(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:i,redirect_to:s,verification_type:o},d=Object.assign({},l);return{data:{properties:c,user:d},error:null}}function cT(e){return e}function xW(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ub=["global","local","others"];class _W{constructor({url:t="",headers:n={},fetch:i}){this.url=t,this.headers=n,this.fetch=pM(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Ub[0]){if(Ub.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ub.join(", ")}`);try{return await tt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Ke(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,n={}){try{return await tt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ea})}catch(i){if(Ke(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:n}=t,i=ju(t,["options"]),s=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(s.new_email=i?.newEmail,delete s.newEmail),await tt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:bW,redirectTo:n?.redirectTo})}catch(n){if(Ke(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await tt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ea})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,i,s,o,l,c,d;try{const h={nextPage:null,lastPage:0,total:0},m=await tt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(o=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:cT});if(m.error)throw m.error;const v=await m.json(),b=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(C=>{const E=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(C.split(";")[1].split("=")[1]);h[`${T}Page`]=E}),h.total=parseInt(b)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if(Ke(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){Jc(t);try{return await tt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ea})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Jc(t);try{return await tt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ea})}catch(i){if(Ke(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,n=!1){Jc(t);try{return await tt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ea})}catch(i){if(Ke(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){Jc(t.userId);try{const{data:n,error:i}=await tt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:i}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Jc(t.userId),Jc(t.id);try{return{data:await tt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,i,s,o,l,c,d;try{const h={nextPage:null,lastPage:0,total:0},m=await tt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(o=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:cT});if(m.error)throw m.error;const v=await m.json(),b=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(C=>{const E=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(C.split(";")[1].split("=")[1]);h[`${T}Page`]=E}),h.total=parseInt(b)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if(Ke(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await tt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await tt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await tt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Ke(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(t){try{return await tt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await tt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}}function uT(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const eu={debug:!!(globalThis&&hM()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class mM extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class dT extends mM{}async function wW(e,t,n){eu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;t>0&&setTimeout(()=>{i.abort(),eu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){eu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{eu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw eu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new dT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(eu.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}catch(s){throw s?.name==="AbortError"?new dT(`Acquiring an exclusive Navigator LockManager lock "${e}" timed out waiting ${t}ms`):s}}function SW(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function gM(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function CW(e){return parseInt(e,16)}function EW(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function AW(e){var t;const{chainId:n,domain:i,expirationTime:s,issuedAt:o=new Date,nonce:l,notBefore:c,requestId:d,resources:h,scheme:m,uri:v,version:b}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const _=gM(e.address),C=m?`${m}://${i}`:i,E=e.statement?`${e.statement}
`:"",T=`${C} wants you to sign in with your Ethereum account:
${_}

${E}`;let N=`URI: ${v}
Version: ${b}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(s&&(N+=`
Expiration Time: ${s.toISOString()}`),c&&(N+=`
Not Before: ${c.toISOString()}`),d&&(N+=`
Request ID: ${d}`),h){let k=`
Resources:`;for(const O of h){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);k+=`
- ${O}`}N+=k}return`${T}
${N}`}class Pn extends Error{constructor({message:t,code:n,cause:i,name:s}){var o;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(o=s??(i instanceof Error?i.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class eg extends Pn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function TW({error:e,options:t}){var n,i,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Pn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Pn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Pn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Pn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Pn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Pn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Pn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(vM(l)){if(o.rp.id!==l)return new Pn({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Pn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Pn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function RW({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Pn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(vM(i)){if(n.rpId!==i)return new Pn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Pn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class kW{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const NW=new kW;function OW(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:i}=e,s=ju(e,["challenge","user","excludeCredentials"]),o=_u(t).buffer,l=Object.assign(Object.assign({},n),{id:_u(n.id).buffer}),c=Object.assign(Object.assign({},s),{challenge:o,user:l});if(i&&i.length>0){c.excludeCredentials=new Array(i.length);for(let d=0;d<i.length;d++){const h=i[d];c.excludeCredentials[d]=Object.assign(Object.assign({},h),{id:_u(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function PW(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,i=ju(e,["challenge","allowCredentials"]),s=_u(t).buffer,o=Object.assign(Object.assign({},i),{challenge:s});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},c),{id:_u(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function MW(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Il(new Uint8Array(e.response.attestationObject)),clientDataJSON:Il(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function DW(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,i=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Il(new Uint8Array(s.authenticatorData)),clientDataJSON:Il(new Uint8Array(s.clientDataJSON)),signature:Il(new Uint8Array(s.signature)),userHandle:s.userHandle?Il(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function vM(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function fT(){var e,t;return!!(fi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function LW(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new eg("Browser returned unexpected credential type",t)}:{data:null,error:new eg("Empty credential response",t)}}catch(t){return{data:null,error:TW({error:t,options:e})}}}async function jW(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new eg("Browser returned unexpected credential type",t)}:{data:null,error:new eg("Empty credential response",t)}}catch(t){return{data:null,error:RW({error:t,options:e})}}}const IW={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},zW={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function tg(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),i={};for(const s of e)if(s)for(const o in s){const l=s[o];if(l!==void 0)if(Array.isArray(l))i[o]=l;else if(n(l))i[o]=l;else if(t(l)){const c=i[o];t(c)?i[o]=tg(c,l):i[o]=tg(l)}else i[o]=l}return i}function BW(e,t){return tg(IW,e,t||{})}function UW(e,t){return tg(zW,e,t||{})}class FW{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:i,signal:s},o){var l;try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!c)return{data:null,error:d};const h=s??NW.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;if(!m.name){const v=i;if(v)m.name=`${m.id}:${v}`;else{const _=(await this.client.getUser()).data.user,C=((l=_?.user_metadata)===null||l===void 0?void 0:l.name)||_?.email||_?.id||"User";m.name=`${m.id}:${C}`}}m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=BW(c.webauthn.credential_options.publicKey,o?.create),{data:v,error:b}=await LW({publicKey:m,signal:h});return v?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:b}}case"request":{const m=UW(c.webauthn.credential_options.publicKey,o?.request),{data:v,error:b}=await jW(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:h}));return v?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:b}}}}catch(c){return Ke(c)?{data:null,error:c}:{data:null,error:new Dl("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new Of("rpId is required for WebAuthn authentication")};try{if(!fT())return{data:null,error:new Dl("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:i},signal:s},{request:o});if(!l)return{data:null,error:c};const{webauthn:d}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:i,credential_response:d.credential_response}})}catch(l){return Ke(l)?{data:null,error:l}:{data:null,error:new Dl("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new Of("rpId is required for WebAuthn registration")};try{if(!fT())return{data:null,error:new Dl("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(m=>{var v;return(v=m.data)===null||v===void 0?void 0:v.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:c};const{data:d,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:s},{create:o});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:i,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(l){return Ke(l)?{data:null,error:l}:{data:null,error:new Dl("Unexpected error in register",l)}}}}SW();const VW={url:Bq,storageKey:Uq,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Fq,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function hT(e,t,n){return await n()}const tu={};class Pf{get jwks(){var t,n;return(n=(t=tu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){tu[this.storageKey]=Object.assign(Object.assign({},tu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=tu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){tu[this.storageKey]=Object.assign(Object.assign({},tu[this.storageKey]),{cachedAt:t})}constructor(t){var n,i,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},VW),t);if(this.storageKey=o.storageKey,this.instanceID=(n=Pf.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Pf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&fi()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new _W({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=pM(o.fetch),this.lock=o.lock||hT,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&fi()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=wW:this.lock=hT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new FW(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:hM()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=uT(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=uT(this.memoryStorage)),fi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(c){this._debug("#broadcastChannel","error",c)}})}o.skipAutoInitialize||this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${uM}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},i="none";if(fi()&&(n=tW(window.location.href),this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce")),fi()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Kq(o)){const d=(t=o.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:l,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ke(n)?this._returnResult({error:n}):this._returnResult({error:new Dl("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,i,s;try{const o=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=t?.options)===null||s===void 0?void 0:s.captchaToken}},xform:lr}),{data:l,error:c}=o;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(o){if(Ke(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var n,i,s;try{let o;if("email"in t){const{email:m,password:v,options:b}=t;let _=null,C=null;this.flowType==="pkce"&&([_,C]=await Qc(this.storage,this.storageKey)),o=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:m,password:v,data:(n=b?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:_,code_challenge_method:C},xform:lr})}else if("phone"in t){const{phone:m,password:v,options:b}=t;o=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:v,data:(i=b?.data)!==null&&i!==void 0?i:{},channel:(s=b?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:lr})}else throw new tm("You must provide either an email or phone number and a password");const{data:l,error:c}=o;if(c||!l)return await di(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(o){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ke(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:c}=t;n=await tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:lT})}else if("phone"in t){const{phone:o,password:l,options:c}=t;n=await tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:lT})}else throw new tm("You must provide either an email or phone number and a password");const{data:i,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!i||!i.session||!i.user){const o=new Xc;return this._returnResult({data:{user:null,session:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(n){if(Ke(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,i,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,i,s,o,l,c,d,h,m,v,b;let _,C;if("message"in t)_=t.message,C=t.signature;else{const{chain:E,wallet:T,statement:N,options:k}=t;let O;if(fi())if(typeof T=="object")O=T;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")O=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=T}const M=new URL((n=k?.url)!==null&&n!==void 0?n:window.location.href),j=await O.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=gM(j[0]);let z=(i=k?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!z){const $=await O.request({method:"eth_chainId"});z=CW($)}const I={domain:M.host,address:V,statement:N,uri:M.href,version:"1",chainId:z,nonce:(s=k?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(l=(o=k?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=k?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=k?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(h=k?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(m=k?.signInWithEthereum)===null||m===void 0?void 0:m.resources};_=AW(I),C=await O.request({method:"personal_sign",params:[EW(_),V]})}try{const{data:E,error:T}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:C},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:lr});if(T)throw T;if(!E||!E.session||!E.user){const N=new Xc;return this._returnResult({data:{user:null,session:null},error:N})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:T})}catch(E){if(Ke(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(t){var n,i,s,o,l,c,d,h,m,v,b,_;let C,E;if("message"in t)C=t.message,E=t.signature;else{const{chain:T,wallet:N,statement:k,options:O}=t;let M;if(fi())if(typeof N=="object")M=N;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))M=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=N}const j=new URL((n=O?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in M&&M.signIn){const V=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O?.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),k?{statement:k}:null));let z;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")z=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)z=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)C=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),E=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${j.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(i=O?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=O?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((l=O?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((c=O?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((d=O?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((h=O?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((v=(m=O?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||v===void 0)&&v.length?["Resources",...O.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const V=await M.signMessage(new TextEncoder().encode(C),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=V}}try{const{data:T,error:N}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:Il(E)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:lr});if(N)throw N;if(!T||!T.session||!T.user){const k=new Xc;return this._returnResult({data:{user:null,session:null},error:k})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:N})}catch(T){if(Ke(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(t){const n=await Tl(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(n??"").split("/");try{if(!i&&this.flowType==="pkce")throw new qq;const{data:o,error:l}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:lr});if(await di(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!o||!o.session||!o.user){const c=new Xc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:l})}catch(o){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ke(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:n,provider:i,token:s,access_token:o,nonce:l}=t,c=await tt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:lr}),{data:d,error:h}=c;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d||!d.session||!d.user){const m=new Xc;return this._returnResult({data:{user:null,session:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:h})}catch(n){if(Ke(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,i,s,o,l;try{if("email"in t){const{email:c,options:d}=t;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Qc(this.storage,this.storageKey));const{error:v}=await tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=d?.data)!==null&&n!==void 0?n:{},create_user:(i=d?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:h,code_challenge_method:m},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in t){const{phone:c,options:d}=t,{data:h,error:m}=await tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=d?.data)!==null&&s!==void 0?s:{},create_user:(o=d?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(l=d?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:m})}throw new tm("You must provide either an email or phone number.")}catch(c){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ke(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var n,i;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:l,error:c}=await tt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:lr});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,h=l.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(s){if(Ke(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,i,s,o,l;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Qc(this.storage,this.storageKey));const h=await tt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=t?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:yW});return!((o=h.data)===null||o===void 0)&&o.url&&fi()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(c){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ke(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;if(i)throw i;if(!n)throw new ps;const{error:s}=await tt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Ke(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:i,type:s,options:o}=t,{error:l}=await tt(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:i,type:s,options:o}=t,{data:l,error:c}=await tt(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:c})}throw new tm("You must provide either an email or phone number and a type")}catch(n){if(Ke(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Tl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<jb:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const l=await Tl(this.userStorage,this.storageKey+"-user");l?.user?t.user=l.user:t.user=Bb()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=pW(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ea}):await this._useSession(async n=>{var i,s,o;const{data:l,error:c}=n;if(c)throw c;return!(!((i=l.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ps}:await tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Ea})})}catch(n){if(Ke(n))return Ib(n)&&(await this._removeSession(),await di(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async i=>{const{data:s,error:o}=i;if(o)throw o;if(!s.session)throw new ps;const l=s.session;let c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=await Qc(this.storage,this.storageKey));const{data:h,error:m}=await tt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:Ea});if(m)throw m;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(i){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ke(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ps;const n=Date.now()/1e3;let i=n,s=!0,o=null;const{payload:l}=im(t.access_token);if(l.exp&&(i=l.exp,s=i<=n),s){const{data:c,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:d}=await this._getUser(t.access_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});o={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(Ke(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var i;if(!t){const{data:l,error:c}=n;if(c)throw c;t=(i=l.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new ps;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ke(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!fi())throw new nm("No browser detected.");if(t.error||t.error_description||t.error_code)throw new nm(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new tT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new nm("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new tT("No code detected.");const{data:k,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:o,refresh_token:l,expires_in:c,expires_at:d,token_type:h}=t;if(!o||!c||!l||!h)throw new nm("No session defined in URL");const m=Math.round(Date.now()/1e3),v=parseInt(c);let b=m+v;d&&(b=parseInt(d));const _=b-m;_*1e3<=ou&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);const C=b-v;m-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,b,m):m-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,b,m);const{data:E,error:T}=await this._getUser(o);if(T)throw T;const N={provider_token:i,provider_refresh_token:s,access_token:o,expires_in:v,expires_at:b,refresh_token:l,token_type:h,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:t.type},error:null})}catch(i){if(Ke(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Tl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o&&!Ib(o))return this._returnResult({error:o});const l=(i=s.session)===null||i===void 0?void 0:i.access_token;if(l){const{error:c}=await this.admin.signOut(l,t);if(c&&!(Gq(c)&&(c.status===404||c.status===401||c.status===403)||Ib(c)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await di(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=eW(),i={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async n=>{var i,s;try{const{data:{session:o},error:l}=n;if(l)throw l;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await Qc(this.storage,this.storageKey,!0));try{return await tt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ke(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:i,error:s}=await this._useSession(async o=>{var l,c,d,h,m;const{data:v,error:b}=o;if(b)throw b;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await tt(this.fetch,"GET",_,{headers:this.headers,jwt:(m=(h=v.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:void 0})});if(s)throw s;return fi()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:t.provider,url:i?.url},error:null})}catch(i){if(Ke(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var i;try{const{error:s,data:{session:o}}=n;if(s)throw s;const{options:l,provider:c,token:d,access_token:h,nonce:m}=t,v=await tt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=o?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:d,access_token:h,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:lr}),{data:b,error:_}=v;return _?this._returnResult({data:{user:null,session:null},error:_}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Xc}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:_}))}catch(s){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ke(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var i,s;const{data:o,error:l}=n;if(l)throw l;return await tt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await sW(async s=>(s>0&&await iW(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await tt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:lr})),(s,o)=>{const l=200*Math.pow(2,s);return o&&zb(o)&&Date.now()+l-i<ou})}catch(i){if(this._debug(n,"error",i),Ke(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",i),fi()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const s=await Tl(this.storage,this.storageKey);if(s&&this.userStorage){let l=await Tl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await au(this.userStorage,this.storageKey+"-user",l)),s.user=(t=l?.user)!==null&&t!==void 0?t:Bb()}else if(s&&!s.user&&!s.user){const l=await Tl(this.storage,this.storageKey+"-user");l&&l?.user?(s.user=l.user,await di(this.storage,this.storageKey+"-user"),await au(this.storage,this.storageKey,s)):s.user=Bb()}if(this._debug(i,"session from storage",s),!this._isValidSession(s)){this._debug(i,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<jb;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${jb}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),zb(l)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(s.access_token);!c&&l?.user?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(i,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(i,"error",s),console.error(s);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var n,i;if(!t)throw new ps;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ug;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new ps;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={data:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(s,"error",o),Ke(o)){const l={data:null,error:o};return zb(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,i=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(d){o.push(d)}});if(await Promise.all(l),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await di(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await au(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=oT(s);await au(this.storage,this.storageKey,o)}else{const s=oT(n);await au(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await di(this.storage,this.storageKey),await di(this.storage,this.storageKey+"-code-verifier"),await di(this.storage,this.storageKey+"-user"),this.userStorage&&await di(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&fi()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ou);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-t)/ou);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ou}ms, refresh threshold is ${Hx} ticks`),s<=Hx&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof mM)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fi()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,i){const s=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,l]=await Qc(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(c.toString())}if(i?.queryParams){const o=new URLSearchParams(i.queryParams);s.push(o.toString())}return i?.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;return o?this._returnResult({data:null,error:o}):await tt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var i,s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:h}=await tt(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&d.type==="totp"&&(!((s=d?.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?MW(t.webauthn.credential_response):DW(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:d}=await tt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=await tt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:OW(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:PW(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n?.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,i,s,o;if(t)try{const{payload:_}=im(t);let C=null;_.aal&&(C=_.aal);let E=C;const{data:{user:T},error:N}=await this.getUser(t);if(N)return this._returnResult({data:null,error:N});((i=(n=T?.factors)===null||n===void 0?void 0:n.filter(M=>M.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(E="aal2");const O=_.amr||[];return{data:{currentLevel:C,nextLevel:E,currentAuthenticationMethods:O},error:null}}catch(_){if(Ke(_))return this._returnResult({data:null,error:_});throw _}const{data:{session:l},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=im(l.access_token);let h=null;d.aal&&(h=d.aal);let m=h;((o=(s=l.user.factors)===null||s===void 0?void 0:s.filter(_=>_.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(m="aal2");const b=d.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:b},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?await tt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new ps})})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async i=>{const{data:{session:s},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new ps});const l=await tt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&fi()&&!n?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(i){if(Ke(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,n){try{return await this._useSession(async i=>{const{data:{session:s},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new ps});const l=await tt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&fi()&&!n?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(i){if(Ke(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;return i?this._returnResult({data:null,error:i}):n?await tt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ps})})}catch(t){if(Ke(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?(await tt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ps})})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let i=n.keys.find(c=>c.kid===t);if(i)return i;const s=Date.now();if(i=this.jwks.keys.find(c=>c.kid===t),i&&this.jwks_cached_at+$q>s)return i;const{data:o,error:l}=await tt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,i=o.keys.find(c=>c.kid===t),!i)?null:i}async getClaims(t,n={}){try{let i=t;if(!i){const{data:_,error:C}=await this.getSession();if(C||!_.session)return this._returnResult({data:null,error:C});i=_.session.access_token}const{header:s,payload:o,signature:l,raw:{header:c,payload:d}}=im(i);n?.allowExpired||dW(o.exp);const h=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!h){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:o,header:s,signature:l},error:null}}const m=fW(s.alg),v=await crypto.subtle.importKey("jwk",h,m,!0,["verify"]);if(!await crypto.subtle.verify(m,v,l,Qq(`${c}.${d}`)))throw new qx("Invalid JWT signature");return{data:{claims:o,header:s,signature:l},error:null}}catch(i){if(Ke(i))return this._returnResult({data:null,error:i});throw i}}}Pf.nextInstanceID={};const $W=Pf,HW="2.97.0";let tf="";typeof Deno<"u"?tf="deno":typeof document<"u"?tf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?tf="react-native":tf="node";const GW={"X-Client-Info":`supabase-js-${tf}/${HW}`},KW={headers:GW},qW={schema:"public"},WW={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},YW={};function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}function ZW(e,t){if(Mf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Mf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XW(e){var t=ZW(e,"string");return Mf(t)=="symbol"?t:t+""}function QW(e,t,n){return(t=XW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pT(Object(n),!0).forEach(function(i){QW(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pT(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}const JW=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),e7=()=>Headers,t7=(e,t,n)=>{const i=JW(n),s=e7();return async(o,l)=>{var c;const d=(c=await t())!==null&&c!==void 0?c:e;let h=new s(l?.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),i(o,bn(bn({},l),{},{headers:h}))}};function n7(e){return e.endsWith("/")?e:e+"/"}function i7(e,t){var n,i;const{db:s,auth:o,realtime:l,global:c}=e,{db:d,auth:h,realtime:m,global:v}=t,b={db:bn(bn({},d),s),auth:bn(bn({},h),o),realtime:bn(bn({},m),l),storage:{},global:bn(bn(bn({},v),c),{},{headers:bn(bn({},(n=v?.headers)!==null&&n!==void 0?n:{}),(i=c?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return e.accessToken?b.accessToken=e.accessToken:delete b.accessToken,b}function s7(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(n7(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var r7=class extends $W{constructor(e){super(e)}},o7=class{constructor(e,t,n){var i,s;this.supabaseUrl=e,this.supabaseKey=t;const o=s7(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:qW,realtime:YW,auth:bn(bn({},WW),{},{storageKey:l}),global:KW},d=i7(n??{},c);if(this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(m,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=d.auth)!==null&&h!==void 0?h:{},this.headers,d.global.fetch)}this.fetch=t7(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(bn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new G9(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch,timeout:d.db.timeout,urlLengthLimit:d.db.urlLengthLimit}),this.storage=new zq(this.storageUrl.href,this.headers,this.fetch,n?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new I9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:i}=await e.auth.getSession();return(t=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:o,flowType:l,lock:c,debug:d,throwOnError:h},m,v){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new r7({url:this.authUrl.href,headers:bn(bn({},b),m),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,userStorage:s,flowType:l,lock:c,debug:d,throwOnError:h,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new lq(this.realtimeUrl.href,bn(bn({},e),{},{params:bn(bn({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const a7=(e,t,n)=>new o7(e,t,n);function l7(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}l7()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const c7="https://jvjirocnsucsapwnjfpe.supabase.co",u7="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp2amlyb2Nuc3Vjc2Fwd25qZnBlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUxOTQwODksImV4cCI6MjA3MDc3MDA4OX0.eQESQzBSt0_gciw0LN5zByYGBGugi-NuCChs-1mMVoA",Dn=a7(c7,u7,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:window.localStorage,flowType:"pkce"}}),yM=500,bM=700,d7=9e4,f7=4e3;function h7(){const e=window.screenX+(window.outerWidth-yM)/2,t=window.screenY+(window.outerHeight-bM)/2;return{left:e,top:t}}function p7(){return new Promise(e=>{let t=null;const n=setTimeout(()=>{t&&t.close(),console.warn(" Timeout aguardando OAuth (90s)"),e({success:!1,error:"Tempo limite de autenticao excedido"})},d7);try{t=new BroadcastChannel("supabase-auth"),t.onmessage=i=>{i.data==="oauth_complete"&&(clearTimeout(n),t&&t.close(),e({success:!0}))}}catch(i){clearTimeout(n),console.warn(" BroadcastChannel no disponvel, usando timeout fixo",i),setTimeout(()=>{e({success:!0})},5e3)}})}function m7(e){const{left:t,top:n}=h7();return window.open(e,"oauth-popup",`width=${yM},height=${bM},left=${t},top=${n},toolbar=no,menubar=no,scrollbars=yes,resizable=yes`)}async function g7(e="google"){try{const{data:t,error:n}=await Dn.auth.signInWithOAuth({provider:e,options:{redirectTo:`${window.location.origin}/treevera/auth-callback`,skipBrowserRedirect:!0,queryParams:{access_type:"offline",prompt:"consent"}}});if(n)throw n;if(!t?.url)throw new Error("URL de autenticao no foi gerada");if(!m7(t.url))throw new Error("No foi possvel abrir a janela. Verifique o bloqueador de pop-ups.");const s=await p7();if(!s.success)throw new Error(s.error||"Falha na autenticao");await new Promise(c=>setTimeout(c,f7));let o=null;const l=10;for(let c=1;c<=l;c++){const{data:d,error:h}=await Dn.auth.getSession();if(h&&(console.error(" Erro ao buscar sesso:",h),c===l))throw h;if(d.session){o=d;break}c<l&&await new Promise(m=>setTimeout(m,1e3))}if(!o?.session)throw new Error("Sesso no foi estabelecida aps autenticao");return{user:o.session.user,session:o.session}}catch(t){throw console.error(" Erro no login OAuth:",t),t}}async function v7(){try{const{error:e}=await Dn.auth.signOut();if(e)throw e;return{success:!0}}catch(e){throw console.error(" Erro no logout:",e),e}}async function y7(){try{const{data:e,error:t}=await Dn.auth.getSession();if(t)throw t;return e.session}catch(e){return console.error(" Erro ao obter sesso:",e),null}}const b7=async e=>{const t=e.app_metadata?.provider||e.identities?.[0]?.provider||(e.email?.includes("@")?"email":"unknown"),n={id:e.id,email:e.email,name:e.user_metadata.full_name||e.email?.split("@")[0]||"Usurio",avatar_url:e.user_metadata.avatar_url||null,created_at:e.created_at,provider:t,game_info:{activities:[{title:"Conta criada com sucesso!",description:"Bem-vindo ao mundo da taxonomia",date:e.created_at}],seen_species:[]}},{data:i,error:s}=await Dn.from("users").upsert(n,{onConflict:"id"}).select().single();if(s)throw console.error("Error creating user:",s),s;if(!i)throw new Error("createUser: upsert retornou vazio");return JSON.parse(JSON.stringify(i))},x7=1e4;function I_(){const e=Lt(st.session),t=Lt(st.userDb),n=Lt(st.loginStatus),i=Lt(st.logoutStatus),s=Lt(st.error),o=Lt(st.initialized),l=Lt(st.lastAuthCheck),c=Me(st.session),d=Me(st.userDb),h=Me(st.isAuthenticated),m=Me(st.loginStatus),v=Me(st.logoutStatus),b=Me(st.initialized),_=x.useCallback(async k=>{try{const{data:O,error:M}=await Dn.from("users").select("*").eq("id",k).single();if(M){if(M.code==="PGRST116"){const{data:j}=await Dn.auth.getUser();if(j.user)try{return await b7(j.user)}catch(V){return console.error(" Erro ao criar usurio no banco:",V),null}}return console.error(" Erro ao buscar userDb:",M),null}return O}catch(O){return console.error(" Erro ao buscar userDb:",O),null}},[]),C=x.useCallback(async()=>{const k=new Promise(M=>{setTimeout(()=>{console.warn(" Timeout na inicializao"),M(null)},x7)}),O=(async()=>{try{const M=await y7();if(M?.user){e(M);const j=await _(M.user.id);j?t(j):(console.warn(" UserDb no encontrado"),t(null))}else e(null),t(null);return M}catch(M){return console.error(" Erro ao inicializar:",M),e(null),t(null),null}})();await Promise.race([O,k]),l(Date.now()),o(!0)},[e,t,l,o,_]),E=x.useCallback(async(k="google")=>{try{n("loading"),s(null);const{user:O,session:M}=await g7(k);e(M);const j=await _(O.id);if(j)return t(j),n("success"),{success:!0,user:j};throw new Error("No foi possvel carregar os dados do usurio")}catch(O){const M=O instanceof Error?O.message:"Erro desconhecido ao fazer login";return s({message:M}),n("error"),console.error(" Erro no login:",O),{success:!1,error:M}}finally{setTimeout(()=>n("idle"),2e3)}},[n,s,e,t,_]),T=x.useCallback(async()=>{try{return i("loading"),s(null),await v7(),e(null),t(null),i("success"),{success:!0}}catch(k){const O=k instanceof Error?k.message:"Erro desconhecido ao fazer logout";return s({message:O}),i("error"),console.error(" Erro no logout:",k),{success:!1,error:O}}finally{setTimeout(()=>i("idle"),2e3)}},[i,s,e,t]),N=x.useCallback(async()=>{if(!c?.user?.id)return null;const k=await _(c.user.id);return k&&t(k),k},[c,_,t]);return x.useEffect(()=>{b||C();const{data:{subscription:k}}=Dn.auth.onAuthStateChange(async(O,M)=>{switch(O){case"SIGNED_IN":case"TOKEN_REFRESHED":M?.user&&e(M);break;case"SIGNED_OUT":e(null),t(null);break}});return()=>{k.unsubscribe()}},[b,C,e,t]),{session:c,userDb:d,isAuthenticated:h,initialized:b,loginStatus:m,logoutStatus:v,authError:Me(st.error),isLoggingIn:m==="loading",isLoggingOut:v==="loading",isInitializing:!b,login:E,logout:T,refreshUserDb:N,refreshSession:C}}function ng(e,[t,n]){return Math.min(n,Math.max(t,e))}function _7(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,w7(s,...t)]}function w7(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function xM(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function S7(e){const t=C7(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(A7);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function C7(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=R7(s),c=T7(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var E7=Symbol("radix.slottable");function A7(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===E7}function T7(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function R7(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var k7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],oh=k7.reduce((e,t)=>{const n=S7(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),_M=["PageUp","PageDown"],wM=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],SM={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Bu="Slider",[Wx,N7,O7]=Sg(Bu),[CM]=_7(Bu,[O7]),[P7,Fg]=CM(Bu),EM=x.forwardRef((e,t)=>{const{name:n,min:i=0,max:s=100,step:o=1,orientation:l="horizontal",disabled:c=!1,minStepsBetweenThumbs:d=0,defaultValue:h=[i],value:m,onValueChange:v=()=>{},onValueCommit:b=()=>{},inverted:_=!1,form:C,...E}=e,T=x.useRef(new Set),N=x.useRef(0),O=l==="horizontal"?M7:D7,[M=[],j]=Do({prop:m,defaultProp:h,onChange:q=>{[...T.current][N.current]?.focus(),v(q)}}),V=x.useRef(M);function z(q){const W=B7(M,q);Y(q,W)}function I(q){Y(q,N.current)}function $(){const q=V.current[N.current];M[N.current]!==q&&b(M)}function Y(q,W,{commit:Z}={commit:!1}){const ie=$7(o),ye=H7(Math.round((q-i)/o)*o+i,ie),G=ng(ye,[i,s]);j((X=[])=>{const ne=I7(X,G,W);if(V7(ne,d*o)){N.current=ne.indexOf(G);const de=String(ne)!==String(X);return de&&Z&&b(ne),de?ne:X}else return X})}return y.jsx(P7,{scope:e.__scopeSlider,name:n,disabled:c,min:i,max:s,valueIndexToChangeRef:N,thumbs:T.current,values:M,orientation:l,form:C,children:y.jsx(Wx.Provider,{scope:e.__scopeSlider,children:y.jsx(Wx.Slot,{scope:e.__scopeSlider,children:y.jsx(O,{"aria-disabled":c,"data-disabled":c?"":void 0,...E,ref:t,onPointerDown:Ie(E.onPointerDown,()=>{c||(V.current=M)}),min:i,max:s,inverted:_,onSlideStart:c?void 0:z,onSlideMove:c?void 0:I,onSlideEnd:c?void 0:$,onHomeKeyDown:()=>!c&&Y(i,0,{commit:!0}),onEndKeyDown:()=>!c&&Y(s,M.length-1,{commit:!0}),onStepKeyDown:({event:q,direction:W})=>{if(!c){const ye=_M.includes(q.key)||q.shiftKey&&wM.includes(q.key)?10:1,G=N.current,X=M[G],ne=o*ye*W;Y(X+ne,G,{commit:!0})}}})})})})});EM.displayName=Bu;var[AM,TM]=CM(Bu,{startEdge:"left",endEdge:"right",size:"width",direction:1}),M7=x.forwardRef((e,t)=>{const{min:n,max:i,dir:s,inverted:o,onSlideStart:l,onSlideMove:c,onSlideEnd:d,onStepKeyDown:h,...m}=e,[v,b]=x.useState(null),_=St(t,O=>b(O)),C=x.useRef(void 0),E=Cg(s),T=E==="ltr",N=T&&!o||!T&&o;function k(O){const M=C.current||v.getBoundingClientRect(),j=[0,M.width],z=z_(j,N?[n,i]:[i,n]);return C.current=M,z(O-M.left)}return y.jsx(AM,{scope:e.__scopeSlider,startEdge:N?"left":"right",endEdge:N?"right":"left",direction:N?1:-1,size:"width",children:y.jsx(RM,{dir:E,"data-orientation":"horizontal",...m,ref:_,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:O=>{const M=k(O.clientX);l?.(M)},onSlideMove:O=>{const M=k(O.clientX);c?.(M)},onSlideEnd:()=>{C.current=void 0,d?.()},onStepKeyDown:O=>{const j=SM[N?"from-left":"from-right"].includes(O.key);h?.({event:O,direction:j?-1:1})}})})}),D7=x.forwardRef((e,t)=>{const{min:n,max:i,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...h}=e,m=x.useRef(null),v=St(t,m),b=x.useRef(void 0),_=!s;function C(E){const T=b.current||m.current.getBoundingClientRect(),N=[0,T.height],O=z_(N,_?[i,n]:[n,i]);return b.current=T,O(E-T.top)}return y.jsx(AM,{scope:e.__scopeSlider,startEdge:_?"bottom":"top",endEdge:_?"top":"bottom",size:"height",direction:_?1:-1,children:y.jsx(RM,{"data-orientation":"vertical",...h,ref:v,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:E=>{const T=C(E.clientY);o?.(T)},onSlideMove:E=>{const T=C(E.clientY);l?.(T)},onSlideEnd:()=>{b.current=void 0,c?.()},onStepKeyDown:E=>{const N=SM[_?"from-bottom":"from-top"].includes(E.key);d?.({event:E,direction:N?-1:1})}})})}),RM=x.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:i,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:l,onEndKeyDown:c,onStepKeyDown:d,...h}=e,m=Fg(Bu,n);return y.jsx(oh.span,{...h,ref:t,onKeyDown:Ie(e.onKeyDown,v=>{v.key==="Home"?(l(v),v.preventDefault()):v.key==="End"?(c(v),v.preventDefault()):_M.concat(wM).includes(v.key)&&(d(v),v.preventDefault())}),onPointerDown:Ie(e.onPointerDown,v=>{const b=v.target;b.setPointerCapture(v.pointerId),v.preventDefault(),m.thumbs.has(b)?b.focus():i(v)}),onPointerMove:Ie(e.onPointerMove,v=>{v.target.hasPointerCapture(v.pointerId)&&s(v)}),onPointerUp:Ie(e.onPointerUp,v=>{const b=v.target;b.hasPointerCapture(v.pointerId)&&(b.releasePointerCapture(v.pointerId),o(v))})})}),kM="SliderTrack",NM=x.forwardRef((e,t)=>{const{__scopeSlider:n,...i}=e,s=Fg(kM,n);return y.jsx(oh.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...i,ref:t})});NM.displayName=kM;var Yx="SliderRange",OM=x.forwardRef((e,t)=>{const{__scopeSlider:n,...i}=e,s=Fg(Yx,n),o=TM(Yx,n),l=x.useRef(null),c=St(t,l),d=s.values.length,h=s.values.map(b=>DM(b,s.min,s.max)),m=d>1?Math.min(...h):0,v=100-Math.max(...h);return y.jsx(oh.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...i,ref:c,style:{...e.style,[o.startEdge]:m+"%",[o.endEdge]:v+"%"}})});OM.displayName=Yx;var Zx="SliderThumb",PM=x.forwardRef((e,t)=>{const n=N7(e.__scopeSlider),[i,s]=x.useState(null),o=St(t,c=>s(c)),l=x.useMemo(()=>i?n().findIndex(c=>c.ref.current===i):-1,[n,i]);return y.jsx(L7,{...e,ref:o,index:l})}),L7=x.forwardRef((e,t)=>{const{__scopeSlider:n,index:i,name:s,...o}=e,l=Fg(Zx,n),c=TM(Zx,n),[d,h]=x.useState(null),m=St(t,k=>h(k)),v=d?l.form||!!d.closest("form"):!0,b=MN(d),_=l.values[i],C=_===void 0?0:DM(_,l.min,l.max),E=z7(i,l.values.length),T=b?.[c.size],N=T?U7(T,C,c.direction):0;return x.useEffect(()=>{if(d)return l.thumbs.add(d),()=>{l.thumbs.delete(d)}},[d,l.thumbs]),y.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${C}% + ${N}px)`},children:[y.jsx(Wx.ItemSlot,{scope:e.__scopeSlider,children:y.jsx(oh.span,{role:"slider","aria-label":e["aria-label"]||E,"aria-valuemin":l.min,"aria-valuenow":_,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...o,ref:m,style:_===void 0?{display:"none"}:e.style,onFocus:Ie(e.onFocus,()=>{l.valueIndexToChangeRef.current=i})})}),v&&y.jsx(MM,{name:s??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:_},i)]})});PM.displayName=Zx;var j7="RadioBubbleInput",MM=x.forwardRef(({__scopeSlider:e,value:t,...n},i)=>{const s=x.useRef(null),o=St(s,i),l=xM(t);return x.useEffect(()=>{const c=s.current;if(!c)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&m){const v=new Event("input",{bubbles:!0});m.call(c,t),c.dispatchEvent(v)}},[l,t]),y.jsx(oh.input,{style:{display:"none"},...n,ref:o,defaultValue:t})});MM.displayName=j7;function I7(e=[],t,n){const i=[...e];return i[n]=t,i.sort((s,o)=>s-o)}function DM(e,t,n){const o=100/(n-t)*(e-t);return ng(o,[0,100])}function z7(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function B7(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),i=Math.min(...n);return n.indexOf(i)}function U7(e,t,n){const i=e/2,o=z_([0,50],[0,i]);return(i-o(t)*n)*n}function F7(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function V7(e,t){if(t>0){const n=F7(e);return Math.min(...n)>=t}return!0}function z_(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(n-e[0])}}function $7(e){return(String(e).split(".")[1]||"").length}function H7(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}const LM=b9("audio.settings",{muted:!1,volume:.7}),jM=pt(!1),B_=pt(e=>{const t=e(st.userDb);return t?t.game_info?.settings?.showEmptyNodes??!1:e(jM)}),G7=async(e,t)=>{try{const{data:n,error:i}=await Dn.from("users").update({game_info:{...e.game_info,settings:t}}).eq("id",e.id).select().single();return i?(console.error("Error updating user settings:",i),null):n}catch(n){return console.error("Unexpected error updating user settings:",n),null}},K7=()=>{const e=Me(B_),[t,n]=Gs(st.userDb),[,i]=Gs(jM),s=Ei();return{showEmptyNodes:e,toggleShowEmptyNodes:async()=>{const l=!e;if(s({to:"/"}),!t){i(l);return}const c={...t.game_info.settings,showEmptyNodes:l};n({...t,game_info:{...t.game_info,settings:c}}),await G7(t,c)}}};function q7(e,t){const n=x.createContext(t),i=o=>{const{children:l,...c}=o,d=x.useMemo(()=>c,Object.values(c));return y.jsx(n.Provider,{value:d,children:l})};i.displayName=e+"Provider";function s(o){const l=x.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[i,s]}function W7(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,Y7(s,...t)]}function Y7(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function IM(e){const t=Z7(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(Q7);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function Z7(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=eY(s),c=J7(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var X7=Symbol("radix.slottable");function Q7(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===X7}function J7(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function eY(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var tY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ah=tY.reduce((e,t)=>{const n=IM(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),Vg="Dialog",[zM]=W7(Vg),[nY,_r]=zM(Vg),BM=e=>{const{__scopeDialog:t,children:n,open:i,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,c=x.useRef(null),d=x.useRef(null),[h,m]=Do({prop:i,defaultProp:s??!1,onChange:o,caller:Vg});return y.jsx(nY,{scope:t,triggerRef:c,contentRef:d,contentId:_s(),titleId:_s(),descriptionId:_s(),open:h,onOpenChange:m,onOpenToggle:x.useCallback(()=>m(v=>!v),[m]),modal:l,children:n})};BM.displayName=Vg;var UM="DialogTrigger",FM=x.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=_r(UM,n),o=St(t,s.triggerRef);return y.jsx(ah.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":V_(s.open),...i,ref:o,onClick:Ie(e.onClick,s.onOpenToggle)})});FM.displayName=UM;var U_="DialogPortal",[iY,VM]=zM(U_,{forceMount:void 0}),$M=e=>{const{__scopeDialog:t,forceMount:n,children:i,container:s}=e,o=_r(U_,t);return y.jsx(iY,{scope:t,forceMount:n,children:x.Children.map(i,l=>y.jsx(xr,{present:n||o.open,children:y.jsx(Xf,{asChild:!0,container:s,children:l})}))})};$M.displayName=U_;var ig="DialogOverlay",HM=x.forwardRef((e,t)=>{const n=VM(ig,e.__scopeDialog),{forceMount:i=n.forceMount,...s}=e,o=_r(ig,e.__scopeDialog);return o.modal?y.jsx(xr,{present:i||o.open,children:y.jsx(rY,{...s,ref:t})}):null});HM.displayName=ig;var sY=IM("DialogOverlay.RemoveScroll"),rY=x.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=_r(ig,n);return y.jsx(Pg,{as:sY,allowPinchZoom:!0,shards:[s.contentRef],children:y.jsx(ah.div,{"data-state":V_(s.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),Wl="DialogContent",GM=x.forwardRef((e,t)=>{const n=VM(Wl,e.__scopeDialog),{forceMount:i=n.forceMount,...s}=e,o=_r(Wl,e.__scopeDialog);return y.jsx(xr,{present:i||o.open,children:o.modal?y.jsx(oY,{...s,ref:t}):y.jsx(aY,{...s,ref:t})})});GM.displayName=Wl;var oY=x.forwardRef((e,t)=>{const n=_r(Wl,e.__scopeDialog),i=x.useRef(null),s=St(t,n.contentRef,i);return x.useEffect(()=>{const o=i.current;if(o)return g_(o)},[]),y.jsx(KM,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(e.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Ie(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&o.preventDefault()}),onFocusOutside:Ie(e.onFocusOutside,o=>o.preventDefault())})}),aY=x.forwardRef((e,t)=>{const n=_r(Wl,e.__scopeDialog),i=x.useRef(!1),s=x.useRef(!1);return y.jsx(KM,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(i.current||n.triggerRef.current?.focus(),o.preventDefault()),i.current=!1,s.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(i.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;n.triggerRef.current?.contains(l)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),KM=x.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,...l}=e,c=_r(Wl,n),d=x.useRef(null),h=St(t,d);return s_(),y.jsxs(y.Fragment,{children:[y.jsx(Eg,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:s,onUnmountAutoFocus:o,children:y.jsx(Yf,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":V_(c.open),...l,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),y.jsxs(y.Fragment,{children:[y.jsx(cY,{titleId:c.titleId}),y.jsx(dY,{contentRef:d,descriptionId:c.descriptionId})]})]})}),F_="DialogTitle",qM=x.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=_r(F_,n);return y.jsx(ah.h2,{id:s.titleId,...i,ref:t})});qM.displayName=F_;var WM="DialogDescription",lY=x.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=_r(WM,n);return y.jsx(ah.p,{id:s.descriptionId,...i,ref:t})});lY.displayName=WM;var YM="DialogClose",ZM=x.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=_r(YM,n);return y.jsx(ah.button,{type:"button",...i,ref:t,onClick:Ie(e.onClick,()=>s.onOpenChange(!1))})});ZM.displayName=YM;function V_(e){return e?"open":"closed"}var XM="DialogTitleWarning",[Cle,QM]=q7(XM,{contentName:Wl,titleName:F_,docsSlug:"dialog"}),cY=({titleId:e})=>{const t=QM(XM),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},uY="DialogDescriptionWarning",dY=({contentRef:e,descriptionId:t})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${QM(uY).contentName}}.`;return x.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(i))},[i,e,t]),null},JM=BM,eD=FM,tD=$M,fY=HM,nD=GM,iD=qM,sD=ZM;const $_=JM,hY=eD,pY=tD,mY=({className:e,...t})=>y.jsx(fY,{className:it("fixed inset-0 z-50 bg-black/60 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}),H_=({className:e,children:t,...n})=>y.jsxs(pY,{children:[y.jsx(mY,{}),y.jsxs(nD,{className:it("bg-background fixed top-[50%] left-[50%] z-50 max-h-[90dvh] w-full max-w-lg -translate-x-1/2 -translate-y-1/2 overflow-hidden rounded-2xl border shadow-xl duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95",e),...n,children:[t,y.jsxs(sD,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-none disabled:pointer-events-none",children:[y.jsx(Da,{className:"size-4"}),y.jsx("span",{className:"sr-only",children:"Close"})]})]})]}),G_=({className:e,...t})=>y.jsx("div",{className:it("flex flex-col gap-1.5 p-6 pb-4",e),...t}),K_=({className:e,...t})=>y.jsx(iD,{className:it("text-lg leading-none font-semibold tracking-tight",e),...t}),mT=({checked:e,onCheckedChange:t})=>y.jsx("button",{role:"switch","aria-checked":e,onClick:t,className:`relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 ${e?"bg-green-600":"bg-input"}`,children:y.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow-lg transition-transform ${e?"translate-x-5":"translate-x-0"}`})}),gY=({open:e,onOpenChange:t})=>{const n=Me(st.isAuthenticated),{showEmptyNodes:i,toggleShowEmptyNodes:s}=K7(),[o,l]=Gs(LM);return y.jsx($_,{open:e,onOpenChange:t,children:y.jsxs(H_,{children:[y.jsx(G_,{children:y.jsx(K_,{children:"Configuraes"})}),y.jsxs("div",{className:"divide-y",children:[y.jsxs("section",{className:"space-y-3 p-6",children:[y.jsx("h3",{className:"text-sm font-semibold",children:"rvore Taxonmica"}),y.jsxs("div",{className:"flex items-start justify-between gap-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("p",{className:"text-sm font-medium",children:"Exibir ns sem descendentes"}),y.jsxs("p",{className:"text-muted-foreground text-xs leading-relaxed",children:["Por padro,  exibido apenas ns que possuem descendentes. Mantenha ",y.jsx("strong",{children:"desativado"})," para continuar com esse comportamento ou ",y.jsx("strong",{children:"ative"})," para exibir ns sem descendentes."]}),!n&&y.jsx("p",{className:"text-muted-foreground text-xs italic",children:"Faa login para salvar esta preferncia."})]}),y.jsx(mT,{checked:i,onCheckedChange:s})]})]}),y.jsxs("section",{className:"space-y-3 p-6",children:[y.jsx("h3",{className:"text-sm font-semibold",children:"Desafios"}),y.jsxs("div",{className:"flex items-center justify-between gap-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("p",{className:"text-sm font-medium",children:"Som"}),y.jsx("p",{className:"text-muted-foreground text-xs",children:"Ativar ou desativar os efeitos sonoros durante os desafios."})]}),y.jsx(mT,{checked:!o.muted,onCheckedChange:()=>l(c=>({...c,muted:!c.muted}))})]}),!o.muted&&y.jsx("div",{className:"space-y-2",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("p",{className:"text-sm font-medium",children:"Volume"}),y.jsxs("div",{className:"text-muted-foreground flex items-center gap-1.5 text-xs",children:[y.jsx(eH,{className:"size-3.5"}),y.jsxs(EM,{value:[o.volume*100],onValueChange:([c])=>l(d=>({...d,volume:c/100})),min:0,max:100,step:1,className:"relative flex h-5 w-32 touch-none items-center select-none",children:[y.jsx(NM,{className:"relative h-1 w-full grow rounded-full bg-gray-200",children:y.jsx(OM,{className:"absolute h-full rounded-full bg-green-600"})}),y.jsx(PM,{className:"block h-4 w-4 rounded-full bg-green-600 shadow focus:outline-none"})]}),y.jsx(Q6,{className:"size-3.5"})]})]})})]})]})]})})},rD=({isProfilePage:e})=>{const{changeTheme:t,theme:n}=sh(),{t:i}=At(),s=Me(st.isAuthenticated),o=Me(st.userDb),{logout:l,isLoggingOut:c}=I_(),[d,h]=Gs(Ye.challenge),m=async()=>{d.status==="IN_PROGRESS"&&!window.confirm(`Voc tem um desafio em andamento. Ao Sair, o desafio ser cancelado.

Deseja continuar?`)||(await l(),h({mode:null,status:"NOT_STARTED"}))},v=Ei(),[b,_]=x.useState(!1);return e&&!s&&v({to:"/login"}),y.jsxs(y.Fragment,{children:[y.jsxs(gP,{children:[y.jsx(vP,{asChild:!0,className:"group cursor-pointer",children:y.jsx("div",{className:"rounded-full",children:s&&o?y.jsxs(n9,{className:e?"size-12":"size-8",children:[y.jsx(i9,{src:o.avatar_url,alt:"User"}),y.jsx(s9,{className:"bg-green-600 text-xs text-white",children:o.name[0]})]}):y.jsx(M6,{className:"size-6"})})}),y.jsx(yP,{className:"m-1 w-full",align:"start",children:y.jsxs(qH,{children:[!s&&y.jsxs(y.Fragment,{children:[y.jsx(Xi,{children:y.jsxs(lf,{to:"/login",className:"flex w-full items-center",children:[y.jsx(N6,{className:"mr-2 size-4"}),y.jsx("span",{children:i("loginWithGoogle")})]})}),y.jsx(ba,{})]}),!e&&s&&o&&y.jsxs(Xi,{onClick:()=>{d.status==="IN_PROGRESS"&&!window.confirm(`Voc tem um desafio em andamento. Acessar seu perfil, o desafio ser cancelado.

Deseja continuar?`)||(h({mode:null,status:"NOT_STARTED"}),v({to:"/profile"}))},children:[y.jsxs("div",{className:"px-2 py-1.5 text-sm",children:[y.jsx("div",{className:"font-medium",children:o.name}),y.jsx("div",{className:"text-muted-foreground text-xs",children:o.email})]}),y.jsx(ba,{})]}),e&&y.jsxs(y.Fragment,{children:[y.jsx(Xi,{children:y.jsxs(lf,{to:"/",className:"flex w-full items-center",children:[y.jsx(Lg,{className:"mr-2 size-4"}),y.jsx("span",{children:i("nav.back")})]})}),y.jsx(ba,{})]}),y.jsx(Xi,{disabled:d.status==="IN_PROGRESS",onClick:()=>h({mode:"UNSET",status:"NOT_STARTED"}),children:y.jsxs(lf,{to:"/challenges",className:"flex w-full items-center",children:[y.jsx(H6,{className:"mr-2 size-4"})," ",i("nav.challenges")]})}),y.jsx(ba,{}),y.jsx(Xi,{onClick:()=>{d.status==="IN_PROGRESS"&&!window.confirm(`Voc tem um desafio em andamento. Ao acessar Explorar, o desafio ser cancelado.

Deseja continuar?`)||(h({mode:null,status:"NOT_STARTED"}),v({to:"/"}))},children:y.jsxs("div",{className:"flex w-full items-center",children:[y.jsx(K6,{className:"mr-2 size-4"})," ",i("nav.explore")]})}),y.jsx(ba,{}),y.jsxs(Xi,{onClick:()=>_(!0),children:[y.jsx(F6,{className:"mr-2 size-4"}),y.jsx("span",{children:"Configuraes"})]}),y.jsx(ba,{}),y.jsxs(Rb,{children:[y.jsxs(kb,{children:[i("theme"),": ",i(n)]}),y.jsx(Tb,{children:y.jsxs(Nb,{className:"m-1",children:[y.jsx(Xi,{onClick:()=>t("light"),children:i("light")}),y.jsx(Xi,{onClick:()=>t("dark"),children:i("dark")}),y.jsx(Xi,{onClick:()=>t("system"),children:i("system")})]})})]}),y.jsx(ba,{}),y.jsxs(Rb,{children:[y.jsxs(kb,{children:[i("language"),": ",i(Qt.language)]}),y.jsx(Tb,{children:y.jsxs(Nb,{className:"m-1",children:[y.jsx(Xi,{onClick:()=>Qt.changeLanguage("pt"),children:i("pt")}),y.jsx(Xi,{onClick:()=>Qt.changeLanguage("en"),children:i("en")}),y.jsx(Xi,{onClick:()=>Qt.changeLanguage("es"),children:i("es")})]})})]}),!e&&s&&y.jsxs(Rb,{children:[y.jsx(ba,{}),y.jsxs(kb,{disabled:c,children:[y.jsx(c1,{className:"mr-2 size-4"}),y.jsx("span",{children:i("logout")})]}),y.jsx(Tb,{children:y.jsxs(Nb,{className:"w-72 max-w-[90vw] p-4",sideOffset:-90,alignOffset:90,children:[y.jsx("p",{className:"mb-3 text-center text-sm leading-relaxed",children:i("nav.logoutWarning")}),y.jsxs(Ht,{onClick:m,variant:"destructive",className:"w-full",children:[c?y.jsx(ih,{className:"mr-2 h-4 w-4 animate-spin"}):y.jsx(c1,{className:"mr-2 h-4 w-4"}),i("nav.logoutAnyway")]})]})})]})]})})]}),y.jsx(gY,{open:b,onOpenChange:_})]})},oD=()=>y.jsxs("header",{className:"flex w-[calc(100%-8px)] items-center justify-between gap-3 rounded-br-2xl pt-4 pb-6",children:[y.jsx(Ln,{alt:"Logo",src:aU,className:"h-12"}),y.jsxs("div",{className:"flex w-full flex-col",children:[y.jsx("h1",{className:"text-2xl font-bold",children:"Treevera"}),y.jsx("p",{className:"line-clamp-1 text-base/4",children:"Taxonomia interativa"})]}),y.jsx(rD,{})]});var lh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vY={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},yY=class{#e=vY;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},No=new yY;function bY(e){setTimeout(e,0)}var Yl=typeof window>"u"||"Deno"in globalThis;function ni(){}function xY(e,t){return typeof e=="function"?e(t):e}function Xx(e){return typeof e=="number"&&e>=0&&e!==1/0}function aD(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Oa(e,t){return typeof e=="function"?e(t):e}function Bs(e,t){return typeof e=="function"?e(t):e}function gT(e,t){const{type:n="all",exact:i,fetchStatus:s,predicate:o,queryKey:l,stale:c}=e;if(l){if(i){if(t.queryHash!==q_(l,t.options))return!1}else if(!Lf(t.queryKey,l))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||s&&s!==t.state.fetchStatus||o&&!o(t))}function vT(e,t){const{exact:n,status:i,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Df(t.options.mutationKey)!==Df(o))return!1}else if(!Lf(t.options.mutationKey,o))return!1}return!(i&&t.state.status!==i||s&&!s(t))}function q_(e,t){return(t?.queryKeyHashFn||Df)(e)}function Df(e){return JSON.stringify(e,(t,n)=>Jx(n)?Object.keys(n).sort().reduce((i,s)=>(i[s]=n[s],i),{}):n)}function Lf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Lf(e[n],t[n])):!1}var _Y=Object.prototype.hasOwnProperty;function lD(e,t,n=0){if(e===t)return e;if(n>500)return t;const i=yT(e)&&yT(t);if(!i&&!(Jx(e)&&Jx(t)))return t;const o=(i?e:Object.keys(e)).length,l=i?t:Object.keys(t),c=l.length,d=i?new Array(c):{};let h=0;for(let m=0;m<c;m++){const v=i?m:l[m],b=e[v],_=t[v];if(b===_){d[v]=b,(i?m<o:_Y.call(e,v))&&h++;continue}if(b===null||_===null||typeof b!="object"||typeof _!="object"){d[v]=_;continue}const C=lD(b,_,n+1);d[v]=C,C===b&&h++}return o===c&&h===o?e:d}function Qx(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function yT(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Jx(e){if(!bT(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!bT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function bT(e){return Object.prototype.toString.call(e)==="[object Object]"}function wY(e){return new Promise(t=>{No.setTimeout(t,e)})}function e0(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?lD(e,t):t}function SY(e,t,n=0){const i=[...e,t];return n&&i.length>n?i.slice(1):i}function CY(e,t,n=0){const i=[t,...e];return n&&i.length>n?i.slice(0,-1):i}var W_=Symbol();function cD(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===W_?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function uD(e,t){return typeof e=="function"?e(...t):!!e}function EY(e,t,n){let i=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??=t(),i||(i=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var AY=class extends lh{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Yl&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Y_=new AY;function t0(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function i(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{i({status:"fulfilled",value:s}),e(s)},n.reject=s=>{i({status:"rejected",reason:s}),t(s)},n}function TY(e){let t;if(e.then(n=>(t=n,n),ni)?.catch(ni),t!==void 0)return{data:t}}function dD(e){return e}function RY(e){return{mutationKey:e.options.mutationKey,state:e.state,...e.options.scope&&{scope:e.options.scope},...e.meta&&{meta:e.meta}}}function kY(e,t,n){const i=()=>{const s=e.promise?.then(t).catch(o=>n(o)?Promise.reject(new Error("redacted")):Promise.reject(o));return s?.catch(ni),s};return{dehydratedAt:Date.now(),state:{...e.state,...e.state.data!==void 0&&{data:t(e.state.data)}},queryKey:e.queryKey,queryHash:e.queryHash,...e.state.status==="pending"&&{promise:i()},...e.meta&&{meta:e.meta}}}function NY(e){return e.state.isPaused}function OY(e){return e.state.status==="success"}function PY(e){return!0}function MY(e,t={}){const n=t.shouldDehydrateMutation??e.getDefaultOptions().dehydrate?.shouldDehydrateMutation??NY,i=e.getMutationCache().getAll().flatMap(d=>n(d)?[RY(d)]:[]),s=t.shouldDehydrateQuery??e.getDefaultOptions().dehydrate?.shouldDehydrateQuery??OY,o=t.shouldRedactErrors??e.getDefaultOptions().dehydrate?.shouldRedactErrors??PY,l=t.serializeData??e.getDefaultOptions().dehydrate?.serializeData??dD,c=e.getQueryCache().getAll().flatMap(d=>s(d)?[kY(d,l,o)]:[]);return{mutations:i,queries:c}}function DY(e,t,n){if(typeof t!="object"||t===null)return;const i=e.getMutationCache(),s=e.getQueryCache(),o=n?.defaultOptions?.deserializeData??e.getDefaultOptions().hydrate?.deserializeData??dD,l=t.mutations||[],c=t.queries||[];l.forEach(({state:d,...h})=>{i.build(e,{...e.getDefaultOptions().hydrate?.mutations,...n?.defaultOptions?.mutations,...h},d)}),c.forEach(({queryKey:d,state:h,queryHash:m,meta:v,promise:b,dehydratedAt:_})=>{const C=b?TY(b):void 0,E=h.data===void 0?C?.data:h.data,T=E===void 0?E:o(E);let N=s.get(m);const k=N?.state.status==="pending",O=N?.state.fetchStatus==="fetching";if(N){const M=C&&_!==void 0&&_>N.state.dataUpdatedAt;if(h.dataUpdatedAt>N.state.dataUpdatedAt||M){const{fetchStatus:j,...V}=h;N.setState({...V,data:T})}}else N=s.build(e,{...e.getDefaultOptions().hydrate?.queries,...n?.defaultOptions?.queries,queryKey:d,queryHash:m,meta:v},{...h,data:T,fetchStatus:"idle",status:T!==void 0?"success":h.status});b&&!k&&!O&&(_===void 0||_>N.state.dataUpdatedAt)&&N.fetch(void 0,{initialPromise:Promise.resolve(b).then(o)}).catch(ni)})}var LY=bY;function jY(){let e=[],t=0,n=c=>{c()},i=c=>{c()},s=LY;const o=c=>{t?e.push(c):s(()=>{n(c)})},l=()=>{const c=e;e=[],c.length&&s(()=>{i(()=>{c.forEach(d=>{n(d)})})})};return{batch:c=>{let d;t++;try{d=c()}finally{t--,t||l()}return d},batchCalls:c=>(...d)=>{o(()=>{c(...d)})},schedule:o,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{i=c},setScheduler:c=>{s=c}}}var pi=jY(),IY=class extends lh{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Yl&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},sg=new IY;function zY(e){return Math.min(1e3*2**e,3e4)}function fD(e){return(e??"online")==="online"?sg.isOnline():!0}var n0=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function hD(e){let t=!1,n=0,i;const s=t0(),o=()=>s.status!=="pending",l=E=>{if(!o()){const T=new n0(E);b(T),e.onCancel?.(T)}},c=()=>{t=!0},d=()=>{t=!1},h=()=>Y_.isFocused()&&(e.networkMode==="always"||sg.isOnline())&&e.canRun(),m=()=>fD(e.networkMode)&&e.canRun(),v=E=>{o()||(i?.(),s.resolve(E))},b=E=>{o()||(i?.(),s.reject(E))},_=()=>new Promise(E=>{i=T=>{(o()||h())&&E(T)},e.onPause?.()}).then(()=>{i=void 0,o()||e.onContinue?.()}),C=()=>{if(o())return;let E;const T=n===0?e.initialPromise:void 0;try{E=T??e.fn()}catch(N){E=Promise.reject(N)}Promise.resolve(E).then(v).catch(N=>{if(o())return;const k=e.retry??(Yl?0:3),O=e.retryDelay??zY,M=typeof O=="function"?O(n,N):O,j=k===!0||typeof k=="number"&&n<k||typeof k=="function"&&k(n,N);if(t||!j){b(N);return}n++,e.onFail?.(n,N),wY(M).then(()=>h()?void 0:_()).then(()=>{t?b(N):C()})})};return{promise:s,status:()=>s.status,cancel:l,continue:()=>(i?.(),s),cancelRetry:c,continueRetry:d,canStart:m,start:()=>(m()?C():_().then(C),s)}}var pD=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Xx(this.gcTime)&&(this.#e=No.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Yl?1/0:300*1e3))}clearGcTimeout(){this.#e&&(No.clearTimeout(this.#e),this.#e=void 0)}},BY=class extends pD{#e;#t;#n;#s;#i;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=_T(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=_T(this.options);t.data!==void 0&&(this.setState(xT(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=e0(this.state.data,e,this.options);return this.#r({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#r({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(ni).catch(ni):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Bs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===W_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Oa(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!aD(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(d=>d.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,i=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},s=()=>{const c=cD(this.options,t),h=(()=>{const m={client:this.#s,queryKey:this.queryKey,meta:this.meta};return i(m),m})();return this.#o=!1,this.options.persister?this.options.persister(c,h,this):c(h)},l=(()=>{const c={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:s};return i(c),c})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#r({type:"fetch",meta:l.fetchOptions?.meta}),this.#i=hD({initialPromise:t?.initialPromise,fn:l.fetchFn,onCancel:c=>{c instanceof n0&&c.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(c,d)=>{this.#r({type:"failed",failureCount:c,error:d})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const c=await this.#i.start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof n0){if(c.silent)return this.#i.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#r({type:"error",error:c}),this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...mD(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,...xT(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),pi.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function mD(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:fD(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function xT(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function _T(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,i=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var UY=class extends lh{constructor(e,t){super(),this.options=t,this.#e=e,this.#r=null,this.#o=t0(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#s=void 0;#i;#a;#o;#r;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),wT(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return i0(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return i0(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#_(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Bs(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),t._defaulted&&!Qx(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&ST(this.#t,n,this.options,t)&&this.#d(),this.updateResult(),i&&(this.#t!==n||Bs(this.options.enabled,this.#t)!==Bs(t.enabled,this.#t)||Oa(this.options.staleTime,this.#t)!==Oa(t.staleTime,this.#t))&&this.#g();const s=this.#v();i&&(this.#t!==n||Bs(this.options.enabled,this.#t)!==Bs(t.enabled,this.#t)||s!==this.#l)&&this.#y(s)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return VY(this,n)&&(this.#s=n,this.#a=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(e,t){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),t?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(e){this.#w();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(ni)),t}#g(){this.#x();const e=Oa(this.options.staleTime,this.#t);if(Yl||this.#s.isStale||!Xx(e))return;const n=aD(this.#s.dataUpdatedAt,e)+1;this.#c=No.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(e){this.#_(),this.#l=e,!(Yl||Bs(this.options.enabled,this.#t)===!1||!Xx(this.#l)||this.#l===0)&&(this.#u=No.setInterval(()=>{(this.options.refetchIntervalInBackground||Y_.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#y(this.#v())}#x(){this.#c&&(No.clearTimeout(this.#c),this.#c=void 0)}#_(){this.#u&&(No.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const n=this.#t,i=this.options,s=this.#s,o=this.#i,l=this.#a,d=e!==n?e.state:this.#n,{state:h}=e;let m={...h},v=!1,b;if(t._optimisticResults){const I=this.hasListeners(),$=!I&&wT(e,t),Y=I&&ST(e,n,t,i);($||Y)&&(m={...m,...mD(h.data,e.options)}),t._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:_,errorUpdatedAt:C,status:E}=m;b=m.data;let T=!1;if(t.placeholderData!==void 0&&b===void 0&&E==="pending"){let I;s?.isPlaceholderData&&t.placeholderData===l?.placeholderData?(I=s.data,T=!0):I=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,I!==void 0&&(E="success",b=e0(s?.data,I,t),v=!0)}if(t.select&&b!==void 0&&!T)if(s&&b===o?.data&&t.select===this.#m)b=this.#f;else try{this.#m=t.select,b=t.select(b),b=e0(s?.data,b,t),this.#f=b,this.#r=null}catch(I){this.#r=I}this.#r&&(_=this.#r,b=this.#f,C=Date.now(),E="error");const N=m.fetchStatus==="fetching",k=E==="pending",O=E==="error",M=k&&N,j=b!==void 0,z={status:E,fetchStatus:m.fetchStatus,isPending:k,isSuccess:E==="success",isError:O,isInitialLoading:M,isLoading:M,data:b,dataUpdatedAt:m.dataUpdatedAt,error:_,errorUpdatedAt:C,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:N,isRefetching:N&&!k,isLoadingError:O&&!j,isPaused:m.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:O&&j,isStale:Z_(e,t),refetch:this.refetch,promise:this.#o,isEnabled:Bs(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const I=z.data!==void 0,$=z.status==="error"&&!I,Y=Z=>{$?Z.reject(z.error):I&&Z.resolve(z.data)},q=()=>{const Z=this.#o=z.promise=t0();Y(Z)},W=this.#o;switch(W.status){case"pending":e.queryHash===n.queryHash&&Y(W);break;case"fulfilled":($||z.data!==W.value)&&q();break;case"rejected":(!$||z.error!==W.reason)&&q();break}}return z}updateResult(){const e=this.#s,t=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#a=this.options,this.#i.data!==void 0&&(this.#h=this.#t),Qx(t,e))return;this.#s=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!this.#p.size)return!0;const o=new Set(s??this.#p);return this.options.throwOnError&&o.add("error"),Object.keys(this.#s).some(l=>{const c=l;return this.#s[c]!==e[c]&&o.has(c)})};this.#S({listeners:n()})}#w(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(e){pi.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function FY(e,t){return Bs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function wT(e,t){return FY(e,t)||e.state.data!==void 0&&i0(e,t,t.refetchOnMount)}function i0(e,t,n){if(Bs(t.enabled,e)!==!1&&Oa(t.staleTime,e)!=="static"){const i=typeof n=="function"?n(e):n;return i==="always"||i!==!1&&Z_(e,t)}return!1}function ST(e,t,n,i){return(e!==t||Bs(i.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Z_(e,n)}function Z_(e,t){return Bs(t.enabled,e)!==!1&&e.isStaleByTime(Oa(t.staleTime,e))}function VY(e,t){return!Qx(e.getCurrentResult(),t)}function CT(e){return{onFetch:(t,n)=>{const i=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],l=t.state.data?.pageParams||[];let c={pages:[],pageParams:[]},d=0;const h=async()=>{let m=!1;const v=C=>{EY(C,()=>t.signal,()=>m=!0)},b=cD(t.options,t.fetchOptions),_=async(C,E,T)=>{if(m)return Promise.reject();if(E==null&&C.pages.length)return Promise.resolve(C);const k=(()=>{const V={client:t.client,queryKey:t.queryKey,pageParam:E,direction:T?"backward":"forward",meta:t.options.meta};return v(V),V})(),O=await b(k),{maxPages:M}=t.options,j=T?CY:SY;return{pages:j(C.pages,O,M),pageParams:j(C.pageParams,E,M)}};if(s&&o.length){const C=s==="backward",E=C?$Y:ET,T={pages:o,pageParams:l},N=E(i,T);c=await _(T,N,C)}else{const C=e??o.length;do{const E=d===0?l[0]??i.initialPageParam:ET(i,c);if(d>0&&E==null)break;c=await _(c,E),d++}while(d<C)}return c};t.options.persister?t.fetchFn=()=>t.options.persister?.(h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=h}}}function ET(e,{pages:t,pageParams:n}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,n[i],n):void 0}function $Y(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var HY=class extends pD{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||GY(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#i({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=hD({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(o,l)=>{this.#i({type:"failed",failureCount:o,error:l})},onPause:()=>{this.#i({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",s=!this.#s.canStart();try{if(i)t();else{this.#i({type:"pending",variables:e,isPaused:s}),this.#n.config.onMutate&&await this.#n.config.onMutate(e,this,n);const l=await this.options.onMutate?.(e,n);l!==this.state.context&&this.#i({type:"pending",context:l,variables:e,isPaused:s})}const o=await this.#s.start();return await this.#n.config.onSuccess?.(o,e,this.state.context,this,n),await this.options.onSuccess?.(o,e,this.state.context,n),await this.#n.config.onSettled?.(o,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(o,null,e,this.state.context,n),this.#i({type:"success",data:o}),o}catch(o){try{await this.#n.config.onError?.(o,e,this.state.context,this,n)}catch(l){Promise.reject(l)}try{await this.options.onError?.(o,e,this.state.context,n)}catch(l){Promise.reject(l)}try{await this.#n.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this,n)}catch(l){Promise.reject(l)}try{await this.options.onSettled?.(void 0,o,e,this.state.context,n)}catch(l){Promise.reject(l)}throw this.#i({type:"error",error:o}),o}finally{this.#n.runNext(this)}}#i(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),pi.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function GY(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var KY=class extends lh{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const i=new HY({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(i),i}add(e){this.#e.add(e);const t=sm(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=sm(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=sm(e);if(typeof t=="string"){const i=this.#t.get(t)?.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){const t=sm(e);return typeof t=="string"?this.#t.get(t)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){pi.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>vT(t,n))}findAll(e={}){return this.getAll().filter(t=>vT(e,t))}notify(e){pi.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return pi.batch(()=>Promise.all(e.map(t=>t.continue().catch(ni))))}};function sm(e){return e.options.scope?.id}var qY=class extends lh{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const i=t.queryKey,s=t.queryHash??q_(i,t);let o=this.get(s);return o||(o=new BY({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){pi.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>gT(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>gT(e,n)):t}notify(e){pi.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){pi.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){pi.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},WY=class{#e;#t;#n;#s;#i;#a;#o;#r;constructor(e={}){this.#e=e.queryCache||new qY,this.#t=e.mutationCache||new KY,this.#n=e.defaultOptions||{},this.#s=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=Y_.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=sg.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),i=n.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Oa(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const i=n.data;return[t,i]})}setQueryData(e,t,n){const i=this.defaultQueryOptions({queryKey:e}),o=this.#e.get(i.queryHash)?.state.data,l=xY(t,o);if(l!==void 0)return this.#e.build(this,i).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return pi.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;pi.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return pi.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},i=pi.batch(()=>this.#e.findAll(e).map(s=>s.cancel(n)));return Promise.all(i).then(ni).catch(ni)}invalidateQueries(e,t={}){return pi.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},i=pi.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(ni)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(i).then(ni)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(Oa(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ni).catch(ni)}fetchInfiniteQuery(e){return e.behavior=CT(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ni).catch(ni)}ensureInfiniteQueryData(e){return e.behavior=CT(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return sg.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#s.set(Df(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#s.values()],n={};return t.forEach(i=>{Lf(e,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(e,t){this.#i.set(Df(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(i=>{Lf(e,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=q_(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===W_&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},gD=x.createContext(void 0),X_=e=>{const t=x.useContext(gD);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},YY=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),y.jsx(gD.Provider,{value:e,children:t})),vD=x.createContext(!1),Q_=()=>x.useContext(vD),ZY=vD.Provider;function XY(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var QY=x.createContext(XY()),JY=()=>x.useContext(QY),eZ=(e,t,n)=>{const i=n?.state.error&&typeof e.throwOnError=="function"?uD(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||i)&&(t.isReset()||(e.retryOnMount=!1))},tZ=e=>{x.useEffect(()=>{e.clearReset()},[e])},nZ=({result:e,errorResetBoundary:t,throwOnError:n,query:i,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&(s&&e.data===void 0||uD(n,[e.error,i])),iZ=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...s)=>n(i(...s)):n(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},sZ=(e,t)=>e.isLoading&&e.isFetching&&!t,rZ=(e,t)=>e?.suspense&&t.isPending,AT=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function oZ(e,t,n){const i=Q_(),s=JY(),o=X_(),l=o.defaultQueryOptions(e);o.getDefaultOptions().queries?._experimental_beforeQuery?.(l);const c=o.getQueryCache().get(l.queryHash);l._optimisticResults=i?"isRestoring":"optimistic",iZ(l),eZ(l,s,c),tZ(s);const d=!o.getQueryCache().get(l.queryHash),[h]=x.useState(()=>new t(o,l)),m=h.getOptimisticResult(l),v=!i&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(b=>{const _=v?h.subscribe(pi.batchCalls(b)):ni;return h.updateResult(),_},[h,v]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),x.useEffect(()=>{h.setOptions(l)},[l,h]),rZ(l,m))throw AT(l,h,s);if(nZ({result:m,errorResetBoundary:s,throwOnError:l.throwOnError,query:c,suspense:l.suspense}))throw m.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(l,m),l.experimental_prefetchInRender&&!Yl&&sZ(m,i)&&(d?AT(l,h,s):c?.promise)?.catch(ni).finally(()=>{h.updateResult()}),l.notifyOnChangeProps?m:h.trackResult(m)}function wr(e,t){return oZ(e,UY)}const yD="https://api.gbif.org/v1",ch=`${yD}/species`,aZ=`${ch}/search?rank=KINGDOM&status=ACCEPTED&limit=100&datasetKey=d7dddbf4-2cf0-4f39-9b2a-bb099caae36c`,lZ=async()=>(await(await fetch(aZ)).json()).results,bD=async e=>{const t=`${ch}/${e}/children?limit=1000&status=ACCEPTED`;return(await fetch(t).then(i=>i.json())).results},s0=async e=>{const t=`${ch}/${e}`;return await fetch(t).then(i=>i.json())},cZ=async({specieKey:e})=>{const t=`https://api.gbif.org/v1/occurrence/search?mediaType=StillImage&taxon_key=${e}&limit=1`,i=(await fetch(t).then(s=>s.json())).results?.[0]?.media?.[0]?.identifier;return i?{source:"GBIF",imgUrl:i,licenseCode:"",author:""}:null},uZ=async(e,t)=>{let n=`${ch}/search?q=${encodeURIComponent(e)}&status=ACCEPTED&limit=50`;return t&&(n+=`&kingdom=${encodeURIComponent(t)}`),(await fetch(n).then(o=>o.json())).results??[]},xD=async e=>{const t=`${ch}/${e}/parents`;return await fetch(t).then(i=>i.json())??[]},dZ=`${yD}/occurrence`,fZ=async e=>{const t=`${dZ}/search?taxonKey=${e}`;return await fetch(t).then(i=>i.json())},ic={kingdoms_key:"kingdoms",children_key:"children",specie_key:"specie",parents_key:"parents",daily_challenge_key:"daily_challenge",challenge_tips_key:"challenge_tips"},Bo=({specieKey:e})=>{const{specie_key:t}=ic;return wr({queryKey:[t,e],queryFn:async()=>{const n=await s0(e);return{canonicalName:n.canonicalName,scientificName:n.scientificName,kingdom:n.kingdom,phylum:n.phylum,class:n.class,order:n.order,family:n.family,genus:n.genus,species:n.species,authorship:n.authorship,publishedIn:n.publishedIn,title:n.title}},staleTime:1e3*60*15,gcTime:1e3*60*60})},hZ="https://api.inaturalist.org/v1",pZ=async({canonicalName:e})=>{const t=`${hZ}/search?q=${encodeURIComponent(e)}&sources=taxa`,n=await fetch(t).then(s=>s.json());if(!n||!n.results?.[0]?.record?.id)return null;const i=n.results[0].record.taxon_photos?.[0]?.photo;if(i)return{source:"iNaturalist",imgUrl:i.original_url,licenseCode:i.license_code,author:i.attribution_name}},_D="https://pt.wikipedia.org/api/rest_v1/page/summary",mZ=async e=>await(await fetch(`${_D}/${e}`)).json();async function gZ(e){const t=`
    SELECT ?item ?itemLabel ?iucnStatus ?iucnStatusLabel WHERE {
      ?item wdt:P225 "${e}".
      OPTIONAL { ?item wdt:P141 ?iucnStatus. }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
    } LIMIT 1
  `,i="https://query.wikidata.org/sparql"+"?format=json&query="+encodeURIComponent(t);try{const s=await fetch(i,{headers:{Accept:"application/sparql-results+json"}});if(!s.ok)throw new Error("Erro na requisio SPARQL");const l=(await s.json())?.results?.bindings?.[0]?.iucnStatusLabel?.value;return{Extinct:"EX","Extinct in the Wild":"EW","Critically Endangered":"CR",Endangered:"EN",Vulnerable:"VU","Near Threatened":"NT","Least Concern":"LC","Data Deficient":"DD","Not Evaluated":"NE"}[l]??null}catch(s){return console.error("Erro ao buscar status na Wikidata:",s),null}}const vZ=async({canonicalName:e})=>{const t=`${_D}/${encodeURIComponent(e)}`,n=await fetch(t).then(i=>i.json());return n?.thumbnail?.source?{source:"Wikipedia",imgUrl:n.thumbnail.source,licenseCode:"",author:""}:null},uh=(e,t)=>wr({queryKey:["specie-image",e,t],queryFn:async()=>{if(!e||!t)return null;const n=await pZ({canonicalName:t});if(n)return n;const i=await vZ({canonicalName:t});return i||await cZ({specieKey:e})},enabled:!!e&&!!t,staleTime:1e3*60*60*24}),Oo=({className:e,children:t})=>y.jsx("div",{className:`bg-skeleton bg-skeleton-size animate-skeleton rounded ${e}`,children:t}),wD=()=>y.jsxs("div",{className:"space-y-2",children:[y.jsx(Oo,{className:"h-8 w-1/2"}),y.jsx(Oo,{className:"h-4 w-1/3"})]}),yZ=()=>y.jsx("div",{className:"grid grid-cols-2 gap-4",children:Array.from({length:6}).map((e,t)=>y.jsxs("div",{children:[y.jsx(Oo,{className:"h-4 w-3/4"}),y.jsx(Oo,{className:"mt-1 h-4 w-1/2"})]},t))}),bZ=()=>y.jsx(Oo,{className:"h-6 w-32 rounded-full"}),xZ=()=>y.jsxs("div",{className:"space-y-2",children:[y.jsx(Oo,{className:"h-4 w-full"}),y.jsx(Oo,{className:"h-4 w-5/6"}),y.jsx(Oo,{className:"h-4 w-2/3"})]}),_Z=()=>y.jsx(Oo,{className:"aspect-square w-full rounded-xl"}),wZ=({zoom:e=3,...t})=>{const n=x.useRef(null),[i,s]=x.useState(!1),[o,l]=x.useState({xPercent:50,yPercent:50}),[c,d]=x.useState(!1),h=m=>{const v=n.current?.getBoundingClientRect();if(!v)return;const b=(m.clientX-v.left)/v.width*100,_=(m.clientY-v.top)/v.height*100;l({xPercent:b,yPercent:_})};return x.useEffect(()=>{if(!c)return;const m=v=>{v.key==="Escape"&&d(!1)};return window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[c]),y.jsxs(y.Fragment,{children:[y.jsx("div",{ref:n,className:`relative size-full cursor-zoom-in overflow-hidden ${t.className}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onMouseMove:h,onClick:()=>d(!0),style:{backgroundImage:`url(${t.src})`,backgroundSize:i?`${e*100}%`:"cover",backgroundPosition:`${o.xPercent}% ${o.yPercent}%`,backgroundRepeat:"no-repeat",transition:"background-size 0.15s ease-out"},children:y.jsx(Ln,{src:t.src,alt:t.alt,className:`h-full w-full object-cover transition-opacity duration-150 ${i?"opacity-0":"opacity-100"}`,draggable:!1,fallbackSrc:t.fallbackSrc})}),c&&y.jsx("div",{className:"fixed inset-0 z-[9999] flex cursor-zoom-out items-center justify-center bg-black/90",onClick:()=>d(!1),children:y.jsx(Ln,{src:t.src,alt:t.alt,className:"max-h-[95vh] max-w-[95vw] rounded-lg object-contain",draggable:!1})})]})},SZ=()=>{const{t:e}=At(),t=Me(La),n=Me(Ye.expandedNodes).find(m=>m.rank==="SPECIES")?.key,i=t??n,{data:s}=Bo({specieKey:i}),{data:o,isLoading:l}=uh(i,s?.canonicalName),[c,d]=x.useState(!1);if(!s)return;if(l)return y.jsx(_Z,{});const h=gs(FP[s.kingdom.toLowerCase()]);return!o||c?y.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2 rounded-xl border border-dashed p-4 text-center text-sm",children:[y.jsx(Ln,{src:h,alt:s.scientificName,className:"max-h-48 opacity-30"}),y.jsx("span",{children:e("specieDetail.imageNotFound")}),y.jsx("div",{className:"rounded-md border p-3 text-xs",children:y.jsx("p",{children:e("specieDetail.imageNote")})}),y.jsx("a",{href:`https://www.google.com/search?tbm=isch&q=${encodeURIComponent(s.canonicalName)}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:e("specieDetail.viewOnGoogle")})]}):y.jsxs("div",{className:"relative mx-auto h-fit w-full",children:[y.jsx("figure",{children:y.jsx(wZ,{src:o.imgUrl||h,fallbackSrc:h,alt:`Imagem da espcie "${s.scientificName}"`,onFallbackChange:d,zoom:3,className:"h-auto w-full rounded-lg"})}),o.source&&y.jsxs("p",{className:"absolute right-0 -bottom-4 px-1 text-[11px]",children:[e("specieDetail.imageSource"),": ",o.source,o.author&&`${e("specieDetail.imageBy")}${o.author}`,o.licenseCode&&`${e("specieDetail.imageLicense")}${o.licenseCode}`]})]})},CZ=UP("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function jf({className:e,variant:t,asChild:n=!1,...i}){const s=n?MP:"span";return y.jsx(s,{"data-slot":"badge",className:it(CZ({variant:t}),e),...i})}const TT={EX:{bg:"bg-gray-800"},EW:{bg:"bg-gray-600"},CR:{bg:"bg-red-700"},EN:{bg:"bg-orange-600"},VU:{bg:"bg-yellow-500",text:"text-black"},NT:{bg:"bg-lime-500",text:"text-black"},LC:{bg:"bg-green-500"},DD:{bg:"bg-blue-400"},NE:{bg:"bg-neutral-400"}},EZ=({statusCode:e})=>{const{t}=At();if(!e||!(e in TT))return y.jsx(jf,{className:"w-full bg-neutral-500 py-3 text-sm text-white",children:t("vulnerability.unknown")});const{bg:n,text:i}=TT[e];return y.jsx(jf,{className:it("w-full py-3 text-sm text-white",n,i),children:t(`vulnerability.${e}`)})},AZ=({specieName:e})=>wr({queryKey:["iucn-status",e],queryFn:async()=>await gZ(e),enabled:!!e,staleTime:1e3*60*60*24}),TZ=e=>wr({queryKey:["wiki-details",e],queryFn:()=>mZ(e),enabled:!!e,staleTime:1e3*60*60*24}),J_=x.createContext({});function ew(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const SD=typeof window<"u",CD=SD?x.useLayoutEffect:x.useEffect,$g=x.createContext(null);function tw(e,t){e.indexOf(t)===-1&&e.push(t)}function rg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Zr=(e,t,n)=>n>t?t:n<e?e:n;let nw=()=>{};const Io={},ED=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function AD(e){return typeof e=="object"&&e!==null}const TD=e=>/^0[^.\s]+$/u.test(e);function RD(e){let t;return()=>(t===void 0&&(t=e()),t)}const Hs=e=>e,RZ=(e,t)=>n=>t(e(n)),dh=(...e)=>e.reduce(RZ),If=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class iw{constructor(){this.subscriptions=[]}add(t){return tw(this.subscriptions,t),()=>rg(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pr=e=>e*1e3,Vs=e=>e/1e3;function kD(e,t){return t?e*(1e3/t):0}const ND=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,kZ=1e-7,NZ=12;function OZ(e,t,n,i,s){let o,l,c=0;do l=t+(n-t)/2,o=ND(l,i,s)-e,o>0?n=l:t=l;while(Math.abs(o)>kZ&&++c<NZ);return l}function fh(e,t,n,i){if(e===t&&n===i)return Hs;const s=o=>OZ(o,0,1,e,n);return o=>o===0||o===1?o:ND(s(o),t,i)}const OD=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,PD=e=>t=>1-e(1-t),MD=fh(.33,1.53,.69,.99),sw=PD(MD),DD=OD(sw),LD=e=>(e*=2)<1?.5*sw(e):.5*(2-Math.pow(2,-10*(e-1))),rw=e=>1-Math.sin(Math.acos(e)),jD=PD(rw),ID=OD(rw),PZ=fh(.42,0,1,1),MZ=fh(0,0,.58,1),zD=fh(.42,0,.58,1),DZ=e=>Array.isArray(e)&&typeof e[0]!="number",BD=e=>Array.isArray(e)&&typeof e[0]=="number",LZ={linear:Hs,easeIn:PZ,easeInOut:zD,easeOut:MZ,circIn:rw,circInOut:ID,circOut:jD,backIn:sw,backInOut:DD,backOut:MD,anticipate:LD},jZ=e=>typeof e=="string",RT=e=>{if(BD(e)){nw(e.length===4);const[t,n,i,s]=e;return fh(t,n,i,s)}else if(jZ(e))return LZ[e];return e},rm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function IZ(e,t){let n=new Set,i=new Set,s=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){l.has(m)&&(h.schedule(m),e()),m(c)}const h={schedule:(m,v=!1,b=!1)=>{const C=b&&s?n:i;return v&&l.add(m),C.has(m)||C.add(m),m},cancel:m=>{i.delete(m),l.delete(m)},process:m=>{if(c=m,s){o=!0;return}s=!0,[n,i]=[i,n],n.forEach(d),n.clear(),s=!1,o&&(o=!1,h.process(m))}};return h}const zZ=40;function UD(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=rm.reduce((O,M)=>(O[M]=IZ(o),O),{}),{setup:c,read:d,resolveKeyframes:h,preUpdate:m,update:v,preRender:b,render:_,postRender:C}=l,E=()=>{const O=Io.useManualTiming?s.timestamp:performance.now();n=!1,Io.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(O-s.timestamp,zZ),1)),s.timestamp=O,s.isProcessing=!0,c.process(s),d.process(s),h.process(s),m.process(s),v.process(s),b.process(s),_.process(s),C.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(E))},T=()=>{n=!0,i=!0,s.isProcessing||e(E)};return{schedule:rm.reduce((O,M)=>{const j=l[M];return O[M]=(V,z=!1,I=!1)=>(n||T(),j.schedule(V,z,I)),O},{}),cancel:O=>{for(let M=0;M<rm.length;M++)l[rm[M]].cancel(O)},state:s,steps:l}}const{schedule:Jt,cancel:ja,state:hi,steps:Fb}=UD(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hs,!0);let _m;function BZ(){_m=void 0}const Di={now:()=>(_m===void 0&&Di.set(hi.isProcessing||Io.useManualTiming?hi.timestamp:performance.now()),_m),set:e=>{_m=e,queueMicrotask(BZ)}},FD=e=>t=>typeof t=="string"&&t.startsWith(e),VD=FD("--"),UZ=FD("var(--"),ow=e=>UZ(e)?FZ.test(e.split("/*")[0].trim()):!1,FZ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function kT(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Uu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},zf={...Uu,transform:e=>Zr(0,1,e)},om={...Uu,default:1},hf=e=>Math.round(e*1e5)/1e5,aw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function VZ(e){return e==null}const $Z=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,lw=(e,t)=>n=>!!(typeof n=="string"&&$Z.test(n)&&n.startsWith(e)||t&&!VZ(n)&&Object.prototype.hasOwnProperty.call(n,t)),$D=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,o,l,c]=i.match(aw);return{[e]:parseFloat(s),[t]:parseFloat(o),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},HZ=e=>Zr(0,255,e),Vb={...Uu,transform:e=>Math.round(HZ(e))},zl={test:lw("rgb","red"),parse:$D("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+Vb.transform(e)+", "+Vb.transform(t)+", "+Vb.transform(n)+", "+hf(zf.transform(i))+")"};function GZ(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const r0={test:lw("#"),parse:GZ,transform:zl.transform},hh=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),_a=hh("deg"),Wr=hh("%"),Ve=hh("px"),KZ=hh("vh"),qZ=hh("vw"),NT={...Wr,parse:e=>Wr.parse(e)/100,transform:e=>Wr.transform(e*100)},uu={test:lw("hsl","hue"),parse:$D("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+Wr.transform(hf(t))+", "+Wr.transform(hf(n))+", "+hf(zf.transform(i))+")"},Mn={test:e=>zl.test(e)||r0.test(e)||uu.test(e),parse:e=>zl.test(e)?zl.parse(e):uu.test(e)?uu.parse(e):r0.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?zl.transform(e):uu.transform(e),getAnimatableNone:e=>{const t=Mn.parse(e);return t.alpha=0,Mn.transform(t)}},WZ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function YZ(e){return isNaN(e)&&typeof e=="string"&&(e.match(aw)?.length||0)+(e.match(WZ)?.length||0)>0}const HD="number",GD="color",ZZ="var",XZ="var(",OT="${}",QZ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bf(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let o=0;const c=t.replace(QZ,d=>(Mn.test(d)?(i.color.push(o),s.push(GD),n.push(Mn.parse(d))):d.startsWith(XZ)?(i.var.push(o),s.push(ZZ),n.push(d)):(i.number.push(o),s.push(HD),n.push(parseFloat(d))),++o,OT)).split(OT);return{values:n,split:c,indexes:i,types:s}}function KD(e){return Bf(e).values}function qD(e){const{split:t,types:n}=Bf(e),i=t.length;return s=>{let o="";for(let l=0;l<i;l++)if(o+=t[l],s[l]!==void 0){const c=n[l];c===HD?o+=hf(s[l]):c===GD?o+=Mn.transform(s[l]):o+=s[l]}return o}}const JZ=e=>typeof e=="number"?0:Mn.test(e)?Mn.getAnimatableNone(e):e;function eX(e){const t=KD(e);return qD(e)(t.map(JZ))}const mr={test:YZ,parse:KD,createTransformer:qD,getAnimatableNone:eX};function $b(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function tX({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,o=0,l=0;if(!t)s=o=l=n;else{const c=n<.5?n*(1+t):n+t-n*t,d=2*n-c;s=$b(d,c,e+1/3),o=$b(d,c,e),l=$b(d,c,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:i}}function og(e,t){return n=>n>0?t:e}const un=(e,t,n)=>e+(t-e)*n,Hb=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},nX=[r0,zl,uu],iX=e=>nX.find(t=>t.test(e));function PT(e){const t=iX(e);if(!t)return!1;let n=t.parse(e);return t===uu&&(n=tX(n)),n}const MT=(e,t)=>{const n=PT(e),i=PT(t);if(!n||!i)return og(e,t);const s={...n};return o=>(s.red=Hb(n.red,i.red,o),s.green=Hb(n.green,i.green,o),s.blue=Hb(n.blue,i.blue,o),s.alpha=un(n.alpha,i.alpha,o),zl.transform(s))},o0=new Set(["none","hidden"]);function sX(e,t){return o0.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function rX(e,t){return n=>un(e,t,n)}function cw(e){return typeof e=="number"?rX:typeof e=="string"?ow(e)?og:Mn.test(e)?MT:lX:Array.isArray(e)?WD:typeof e=="object"?Mn.test(e)?MT:oX:og}function WD(e,t){const n=[...e],i=n.length,s=e.map((o,l)=>cw(o)(o,t[l]));return o=>{for(let l=0;l<i;l++)n[l]=s[l](o);return n}}function oX(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=cw(e[s])(e[s],t[s]));return s=>{for(const o in i)n[o]=i[o](s);return n}}function aX(e,t){const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],l=e.indexes[o][i[o]],c=e.values[l]??0;n[s]=c,i[o]++}return n}const lX=(e,t)=>{const n=mr.createTransformer(t),i=Bf(e),s=Bf(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?o0.has(e)&&!s.values.length||o0.has(t)&&!i.values.length?sX(e,t):dh(WD(aX(i,s),s.values),n):og(e,t)};function YD(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?un(e,t,n):cw(e)(e,t)}const cX=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Jt.update(t,n),stop:()=>ja(t),now:()=>hi.isProcessing?hi.timestamp:Di.now()}},ZD=(e,t,n=10)=>{let i="";const s=Math.max(Math.round(t/n),2);for(let o=0;o<s;o++)i+=Math.round(e(o/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},ag=2e4;function uw(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<ag;)t+=n,i=e.next(t);return t>=ag?1/0:t}function uX(e,t=100,n){const i=n({...e,keyframes:[0,t]}),s=Math.min(uw(i),ag);return{type:"keyframes",ease:o=>i.next(s*o).value/t,duration:Vs(s)}}const dX=5;function XD(e,t,n){const i=Math.max(t-dX,0);return kD(n-e(i),t-i)}const xn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Gb=.001;function fX({duration:e=xn.duration,bounce:t=xn.bounce,velocity:n=xn.velocity,mass:i=xn.mass}){let s,o,l=1-t;l=Zr(xn.minDamping,xn.maxDamping,l),e=Zr(xn.minDuration,xn.maxDuration,Vs(e)),l<1?(s=h=>{const m=h*l,v=m*e,b=m-n,_=a0(h,l),C=Math.exp(-v);return Gb-b/_*C},o=h=>{const v=h*l*e,b=v*n+n,_=Math.pow(l,2)*Math.pow(h,2)*e,C=Math.exp(-v),E=a0(Math.pow(h,2),l);return(-s(h)+Gb>0?-1:1)*((b-_)*C)/E}):(s=h=>{const m=Math.exp(-h*e),v=(h-n)*e+1;return-Gb+m*v},o=h=>{const m=Math.exp(-h*e),v=(n-h)*(e*e);return m*v});const c=5/e,d=pX(s,o,c);if(e=pr(e),isNaN(d))return{stiffness:xn.stiffness,damping:xn.damping,duration:e};{const h=Math.pow(d,2)*i;return{stiffness:h,damping:l*2*Math.sqrt(i*h),duration:e}}}const hX=12;function pX(e,t,n){let i=n;for(let s=1;s<hX;s++)i=i-e(i)/t(i);return i}function a0(e,t){return e*Math.sqrt(1-t*t)}const mX=["duration","bounce"],gX=["stiffness","damping","mass"];function DT(e,t){return t.some(n=>e[n]!==void 0)}function vX(e){let t={velocity:xn.velocity,stiffness:xn.stiffness,damping:xn.damping,mass:xn.mass,isResolvedFromDuration:!1,...e};if(!DT(e,gX)&&DT(e,mX))if(t.velocity=0,e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,o=2*Zr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:xn.mass,stiffness:s,damping:o}}else{const n=fX({...e,velocity:0});t={...t,...n,mass:xn.mass},t.isResolvedFromDuration=!0}return t}function lg(e=xn.visualDuration,t=xn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:d,damping:h,mass:m,duration:v,velocity:b,isResolvedFromDuration:_}=vX({...n,velocity:-Vs(n.velocity||0)}),C=b||0,E=h/(2*Math.sqrt(d*m)),T=l-o,N=Vs(Math.sqrt(d/m)),k=Math.abs(T)<5;i||(i=k?xn.restSpeed.granular:xn.restSpeed.default),s||(s=k?xn.restDelta.granular:xn.restDelta.default);let O;if(E<1){const j=a0(N,E);O=V=>{const z=Math.exp(-E*N*V);return l-z*((C+E*N*T)/j*Math.sin(j*V)+T*Math.cos(j*V))}}else if(E===1)O=j=>l-Math.exp(-N*j)*(T+(C+N*T)*j);else{const j=N*Math.sqrt(E*E-1);O=V=>{const z=Math.exp(-E*N*V),I=Math.min(j*V,300);return l-z*((C+E*N*T)*Math.sinh(I)+j*T*Math.cosh(I))/j}}const M={calculatedDuration:_&&v||null,next:j=>{const V=O(j);if(_)c.done=j>=v;else{let z=j===0?C:0;E<1&&(z=j===0?pr(C):XD(O,j,V));const I=Math.abs(z)<=i,$=Math.abs(l-V)<=s;c.done=I&&$}return c.value=c.done?l:V,c},toString:()=>{const j=Math.min(uw(M),ag),V=ZD(z=>M.next(j*z).value,j,30);return j+"ms "+V},toTransition:()=>{}};return M}lg.applyToOptions=e=>{const t=uX(e,100,lg);return e.ease=t.ease,e.duration=pr(t.duration),e.type="keyframes",e};function l0({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:d,restDelta:h=.5,restSpeed:m}){const v=e[0],b={done:!1,value:v},_=I=>c!==void 0&&I<c||d!==void 0&&I>d,C=I=>c===void 0?d:d===void 0||Math.abs(c-I)<Math.abs(d-I)?c:d;let E=n*t;const T=v+E,N=l===void 0?T:l(T);N!==T&&(E=N-v);const k=I=>-E*Math.exp(-I/i),O=I=>N+k(I),M=I=>{const $=k(I),Y=O(I);b.done=Math.abs($)<=h,b.value=b.done?N:Y};let j,V;const z=I=>{_(b.value)&&(j=I,V=lg({keyframes:[b.value,C(b.value)],velocity:XD(O,I,b.value),damping:s,stiffness:o,restDelta:h,restSpeed:m}))};return z(0),{calculatedDuration:null,next:I=>{let $=!1;return!V&&j===void 0&&($=!0,M(I),z(I)),j!==void 0&&I>=j?V.next(I-j):(!$&&M(I),b)}}}function yX(e,t,n){const i=[],s=n||Io.mix||YD,o=e.length-1;for(let l=0;l<o;l++){let c=s(e[l],e[l+1]);if(t){const d=Array.isArray(t)?t[l]||Hs:t;c=dh(d,c)}i.push(c)}return i}function bX(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const o=e.length;if(nw(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=yX(t,i,s),d=c.length,h=m=>{if(l&&m<e[0])return t[0];let v=0;if(d>1)for(;v<e.length-2&&!(m<e[v+1]);v++);const b=If(e[v],e[v+1],m);return c[v](b)};return n?m=>h(Zr(e[0],e[o-1],m)):h}function xX(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=If(0,t,i);e.push(un(n,1,s))}}function _X(e){const t=[0];return xX(t,e.length-1),t}function wX(e,t){return e.map(n=>n*t)}function SX(e,t){return e.map(()=>t||zD).splice(0,e.length-1)}function pf({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=DZ(i)?i.map(RT):RT(i),o={done:!1,value:t[0]},l=wX(n&&n.length===t.length?n:_X(t),e),c=bX(l,t,{ease:Array.isArray(s)?s:SX(t,s)});return{calculatedDuration:e,next:d=>(o.value=c(d),o.done=d>=e,o)}}const CX=e=>e!==null;function dw(e,{repeat:t,repeatType:n="loop"},i,s=1){const o=e.filter(CX),c=s<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!c||i===void 0?o[c]:i}const EX={decay:l0,inertia:l0,tween:pf,keyframes:pf,spring:lg};function QD(e){typeof e.type=="string"&&(e.type=EX[e.type])}class fw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const AX=e=>e/100;class hw extends fw{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Di.now()&&this.tick(Di.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;QD(t);const{type:n=pf,repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=t;let{keyframes:c}=t;const d=n||pf;d!==pf&&typeof c[0]!="number"&&(this.mixKeyframes=dh(AX,YD(c[0],c[1])),c=[0,100]);const h=d({...t,keyframes:c});o==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...c].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=uw(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=h}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:s,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:h=0,keyframes:m,repeat:v,repeatType:b,repeatDelay:_,type:C,onUpdate:E,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const N=this.currentTime-h*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?N<0:N>s;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let O=this.currentTime,M=i;if(v){const I=Math.min(this.currentTime,s)/c;let $=Math.floor(I),Y=I%1;!Y&&I>=1&&(Y=1),Y===1&&$--,$=Math.min($,v+1),$%2&&(b==="reverse"?(Y=1-Y,_&&(Y-=_/c)):b==="mirror"&&(M=l)),O=Zr(0,1,Y)*c}const j=k?{done:!1,value:m[0]}:M.next(O);o&&(j.value=o(j.value));let{done:V}=j;!k&&d!==null&&(V=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return z&&C!==l0&&(j.value=dw(m,this.options,T,this.speed)),E&&E(j.value),z&&this.finish(),j}then(t,n){return this.finished.then(t,n)}get duration(){return Vs(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Vs(t)}get time(){return Vs(this.currentTime)}set time(t){t=pr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Di.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Vs(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=cX,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Di.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function TX(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Bl=e=>e*180/Math.PI,c0=e=>{const t=Bl(Math.atan2(e[1],e[0]));return u0(t)},RX={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:c0,rotateZ:c0,skewX:e=>Bl(Math.atan(e[1])),skewY:e=>Bl(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},u0=e=>(e=e%360,e<0&&(e+=360),e),LT=c0,jT=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),IT=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),kX={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:jT,scaleY:IT,scale:e=>(jT(e)+IT(e))/2,rotateX:e=>u0(Bl(Math.atan2(e[6],e[5]))),rotateY:e=>u0(Bl(Math.atan2(-e[2],e[0]))),rotateZ:LT,rotate:LT,skewX:e=>Bl(Math.atan(e[4])),skewY:e=>Bl(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function d0(e){return e.includes("scale")?1:0}function f0(e,t){if(!e||e==="none")return d0(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=kX,s=n;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=RX,s=c}if(!s)return d0(t);const o=i[t],l=s[1].split(",").map(OX);return typeof o=="function"?o(l):l[o]}const NX=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return f0(n,t)};function OX(e){return parseFloat(e.trim())}const Fu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vu=new Set(Fu),zT=e=>e===Uu||e===Ve,PX=new Set(["x","y","z"]),MX=Fu.filter(e=>!PX.has(e));function DX(e){const t=[];return MX.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Ra={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>f0(t,"x"),y:(e,{transform:t})=>f0(t,"y")};Ra.translateX=Ra.x;Ra.translateY=Ra.y;const Vl=new Set;let h0=!1,p0=!1,m0=!1;function JD(){if(p0){const e=Array.from(Vl).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=DX(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([o,l])=>{i.getValue(o)?.set(l)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}p0=!1,h0=!1,Vl.forEach(e=>e.complete(m0)),Vl.clear()}function eL(){Vl.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(p0=!0)})}function LX(){m0=!0,eL(),JD(),m0=!1}class pw{constructor(t,n,i,s,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Vl.add(this),h0||(h0=!0,Jt.read(eL),Jt.resolveKeyframes(JD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;if(t[0]===null){const o=s?.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&n){const c=i.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}TX(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Vl.delete(this)}cancel(){this.state==="scheduled"&&(Vl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const jX=e=>e.startsWith("--");function IX(e,t,n){jX(t)?e.style.setProperty(t,n):e.style[t]=n}const zX={};function tL(e,t){const n=RD(e);return()=>zX[t]??n()}const BX=tL(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),nL=tL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),nf=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,BT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nf([0,.65,.55,1]),circOut:nf([.55,0,1,.45]),backIn:nf([.31,.01,.66,-.59]),backOut:nf([.33,1.53,.69,.99])};function iL(e,t){if(e)return typeof e=="function"?nL()?ZD(e,t):"ease-out":BD(e)?nf(e):Array.isArray(e)?e.map(n=>iL(n,t)||BT.easeOut):BT[e]}function UX(e,t,n,{delay:i=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:c="easeOut",times:d}={},h=void 0){const m={[t]:n};d&&(m.offset=d);const v=iL(c,s);Array.isArray(v)&&(m.easing=v);const b={delay:i,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return h&&(b.pseudoElement=h),e.animate(m,b)}function sL(e){return typeof e=="function"&&"applyToOptions"in e}function FX({type:e,...t}){return sL(e)&&nL()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class rL extends fw{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:i,keyframes:s,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:c,onComplete:d}=t;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=t,nw(typeof t.type!="string");const h=FX(t);this.animation=UX(n,i,s,h,o),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const m=dw(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):IX(n,i,m),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Vs(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Vs(t)}get time(){return Vs(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=pr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&BX()?(this.animation.timeline=t,Hs):n(this)}}const oL={anticipate:LD,backInOut:DD,circInOut:ID};function VX(e){return e in oL}function $X(e){typeof e.ease=="string"&&VX(e.ease)&&(e.ease=oL[e.ease])}const Kb=10;class HX extends rL{constructor(t){$X(t),QD(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:s,element:o,...l}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const c=new hw({...l,autoplay:!1}),d=Math.max(Kb,Di.now()-this.startTime),h=Zr(0,Kb,d-Kb);n.setWithVelocity(c.sample(Math.max(0,d-h)).value,c.sample(d).value,h),c.stop()}}const UT=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(mr.test(e)||e==="0")&&!e.startsWith("url("));function GX(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function KX(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],l=UT(s,t),c=UT(o,t);return!l||!c?!1:GX(e)||(n==="spring"||sL(n))&&i}function g0(e){e.duration=0,e.type="keyframes"}const qX=new Set(["opacity","clipPath","filter","transform"]),WX=RD(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function YX(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:s,damping:o,type:l}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=t.owner.getProps();return WX()&&n&&qX.has(n)&&(n!=="transform"||!h)&&!d&&!i&&s!=="mirror"&&o!==0&&l!=="inertia"}const ZX=40;class XX extends fw{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",keyframes:c,name:d,motionValue:h,element:m,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Di.now();const b={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:o,repeatType:l,name:d,motionValue:h,element:m,...v},_=m?.KeyframeResolver||pw;this.keyframeResolver=new _(c,(C,E,T)=>this.onKeyframesResolved(C,E,b,!T),d,h,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,i,s){this.keyframeResolver=void 0;const{name:o,type:l,velocity:c,delay:d,isHandoff:h,onUpdate:m}=i;this.resolvedAt=Di.now(),KX(t,o,l,c)||((Io.instantAnimations||!d)&&m?.(dw(t,i,n)),t[0]=t[t.length-1],g0(i),i.repeat=0);const b={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>ZX?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},_=!h&&YX(b),C=b.motionValue?.owner?.current,E=_?new HX({...b,element:C}):new hw(b);E.finished.then(()=>{this.notifyFinished()}).catch(Hs),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),LX()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function aL(e,t,n,i=0,s=1){const o=Array.from(e).sort((h,m)=>h.sortNodePosition(m)).indexOf(t),l=e.size,c=(l-1)*i;return typeof n=="function"?n(o,l):s===1?o*i:c-o*i}const QX=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function JX(e){const t=QX.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function lL(e,t,n=1){const[i,s]=JX(e);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const l=o.trim();return ED(l)?parseFloat(l):l}return ow(s)?lL(s,t,n+1):s}const eQ={type:"spring",stiffness:500,damping:25,restSpeed:10},tQ=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),nQ={type:"keyframes",duration:.8},iQ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sQ=(e,{keyframes:t})=>t.length>2?nQ:Vu.has(e)?e.startsWith("scale")?tQ(t[1]):eQ:iQ,rQ=e=>e!==null;function oQ(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(rQ),o=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[o]}function cL(e,t){if(e?.inherit&&t){const{inherit:n,...i}=e;return{...t,...i}}return e}function mw(e,t){const n=e?.[t]??e?.default??e;return n!==e?cL(n,e):n}function aQ({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:c,from:d,elapsed:h,...m}){return!!Object.keys(m).length}const gw=(e,t,n,i={},s,o)=>l=>{const c=mw(i,e)||{},d=c.delay||i.delay||0;let{elapsed:h=0}=i;h=h-pr(d);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-h,onUpdate:b=>{t.set(b),c.onUpdate&&c.onUpdate(b)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:o?void 0:s};aQ(c)||Object.assign(m,sQ(e,m)),m.duration&&(m.duration=pr(m.duration)),m.repeatDelay&&(m.repeatDelay=pr(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let v=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(g0(m),m.delay===0&&(v=!0)),(Io.instantAnimations||Io.skipAnimations||s?.shouldSkipAnimations)&&(v=!0,g0(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,v&&!o&&t.get()!==void 0){const b=oQ(m.keyframes,c);if(b!==void 0){Jt.update(()=>{m.onUpdate(b),m.onComplete()});return}}return c.isSync?new hw(m):new XX(m)};function FT(e){const t=[{},{}];return e?.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function vw(e,t,n,i){if(typeof t=="function"){const[s,o]=FT(i);t=t(n!==void 0?n:e.custom,s,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,o]=FT(i);t=t(n!==void 0?n:e.custom,s,o)}return t}function wu(e,t,n){const i=e.getProps();return vw(i,t,n!==void 0?n:i.custom,e)}const uL=new Set(["width","height","top","left","right","bottom",...Fu]),VT=30,lQ=e=>!isNaN(parseFloat(e));class cQ{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const s=Di.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Di.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=lQ(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new iw);const i=this.events[t].add(n);return t==="change"?()=>{i(),Jt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Di.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>VT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,VT);return kD(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ku(e,t){return new cQ(e,t)}const v0=e=>Array.isArray(e);function uQ(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ku(n))}function dQ(e){return v0(e)?e[e.length-1]||0:e}function fQ(e,t){const n=wu(e,t);let{transitionEnd:i={},transition:s={},...o}=n||{};o={...o,...i};for(const l in o){const c=dQ(o[l]);uQ(e,l,c)}}const Ci=e=>!!(e&&e.getVelocity);function hQ(e){return!!(Ci(e)&&e.add)}function y0(e,t){const n=e.getValue("willChange");if(hQ(n))return n.add(t);if(!n&&Io.WillChange){const i=new Io.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function yw(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const pQ="framerAppearId",dL="data-"+yw(pQ);function fL(e){return e.props[dL]}function mQ({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function hL(e,t,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:o,transitionEnd:l,...c}=t;const d=e.getDefaultTransition();o=o?cL(o,d):d;const h=o?.reduceMotion;i&&(o=i);const m=[],v=s&&e.animationState&&e.animationState.getState()[s];for(const b in c){const _=e.getValue(b,e.latestValues[b]??null),C=c[b];if(C===void 0||v&&mQ(v,b))continue;const E={delay:n,...mw(o||{},b)},T=_.get();if(T!==void 0&&!_.isAnimating&&!Array.isArray(C)&&C===T&&!E.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const M=fL(e);if(M){const j=window.MotionHandoffAnimation(M,b,Jt);j!==null&&(E.startTime=j,N=!0)}}y0(e,b);const k=h??e.shouldReduceMotion;_.start(gw(b,_,C,k&&uL.has(b)?{type:!1}:E,e,N));const O=_.animation;O&&m.push(O)}if(l){const b=()=>Jt.update(()=>{l&&fQ(e,l)});m.length?Promise.all(m).then(b):b()}return m}function b0(e,t,n={}){const i=wu(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(hL(e,i,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:v}=s;return gQ(e,t,d,h,m,v,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[d,h]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>h())}else return Promise.all([o(),l(n.delay)])}function gQ(e,t,n=0,i=0,s=0,o=1,l){const c=[];for(const d of e.variantChildren)d.notify("AnimationStart",t),c.push(b0(d,t,{...l,delay:n+(typeof i=="function"?0:i)+aL(e.variantChildren,d,i,s,o)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(c)}function vQ(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(o=>b0(e,o,n));i=Promise.all(s)}else if(typeof t=="string")i=b0(e,t,n);else{const s=typeof t=="function"?wu(e,t,n.custom):t;i=Promise.all(hL(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}const yQ={test:e=>e==="auto",parse:e=>e},pL=e=>t=>t.test(e),mL=[Uu,Ve,Wr,_a,qZ,KZ,yQ],$T=e=>mL.find(pL(e));function bQ(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||TD(e):!0}const xQ=new Set(["brightness","contrast","saturate","opacity"]);function _Q(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(aw)||[];if(!i)return e;const s=n.replace(i,"");let o=xQ.has(t)?1:0;return i!==n&&(o*=100),t+"("+o+s+")"}const wQ=/\b([a-z-]*)\(.*?\)/gu,x0={...mr,getAnimatableNone:e=>{const t=e.match(wQ);return t?t.map(_Q).join(" "):e}},_0={...mr,getAnimatableNone:e=>{const t=mr.parse(e);return mr.createTransformer(e)(t.map(i=>typeof i=="number"?0:typeof i=="object"?{...i,alpha:1}:i))}},HT={...Uu,transform:Math.round},SQ={rotate:_a,rotateX:_a,rotateY:_a,rotateZ:_a,scale:om,scaleX:om,scaleY:om,scaleZ:om,skew:_a,skewX:_a,skewY:_a,distance:Ve,translateX:Ve,translateY:Ve,translateZ:Ve,x:Ve,y:Ve,z:Ve,perspective:Ve,transformPerspective:Ve,opacity:zf,originX:NT,originY:NT,originZ:Ve},bw={borderWidth:Ve,borderTopWidth:Ve,borderRightWidth:Ve,borderBottomWidth:Ve,borderLeftWidth:Ve,borderRadius:Ve,borderTopLeftRadius:Ve,borderTopRightRadius:Ve,borderBottomRightRadius:Ve,borderBottomLeftRadius:Ve,width:Ve,maxWidth:Ve,height:Ve,maxHeight:Ve,top:Ve,right:Ve,bottom:Ve,left:Ve,inset:Ve,insetBlock:Ve,insetBlockStart:Ve,insetBlockEnd:Ve,insetInline:Ve,insetInlineStart:Ve,insetInlineEnd:Ve,padding:Ve,paddingTop:Ve,paddingRight:Ve,paddingBottom:Ve,paddingLeft:Ve,paddingBlock:Ve,paddingBlockStart:Ve,paddingBlockEnd:Ve,paddingInline:Ve,paddingInlineStart:Ve,paddingInlineEnd:Ve,margin:Ve,marginTop:Ve,marginRight:Ve,marginBottom:Ve,marginLeft:Ve,marginBlock:Ve,marginBlockStart:Ve,marginBlockEnd:Ve,marginInline:Ve,marginInlineStart:Ve,marginInlineEnd:Ve,fontSize:Ve,backgroundPositionX:Ve,backgroundPositionY:Ve,...SQ,zIndex:HT,fillOpacity:zf,strokeOpacity:zf,numOctaves:HT},CQ={...bw,color:Mn,backgroundColor:Mn,outlineColor:Mn,fill:Mn,stroke:Mn,borderColor:Mn,borderTopColor:Mn,borderRightColor:Mn,borderBottomColor:Mn,borderLeftColor:Mn,filter:x0,WebkitFilter:x0,mask:_0,WebkitMask:_0},gL=e=>CQ[e],EQ=new Set([x0,_0]);function vL(e,t){let n=gL(e);return EQ.has(n)||(n=mr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const AQ=new Set(["auto","none","0"]);function TQ(e,t,n){let i=0,s;for(;i<e.length&&!s;){const o=e[i];typeof o=="string"&&!AQ.has(o)&&Bf(o).values.length&&(s=e[i]),i++}if(s&&n)for(const o of t)e[o]=vL(n,s)}class RQ extends pw{constructor(t,n,i,s,o){super(t,n,i,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let v=t[m];if(typeof v=="string"&&(v=v.trim(),ow(v))){const b=lL(v,n.current);b!==void 0&&(t[m]=b),m===t.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!uL.has(i)||t.length!==2)return;const[s,o]=t,l=$T(s),c=$T(o),d=kT(s),h=kT(o);if(d!==h&&Ra[i]){this.needsMeasurement=!0;return}if(l!==c)if(zT(l)&&zT(c))for(let m=0;m<t.length;m++){const v=t[m];typeof v=="string"&&(t[m]=parseFloat(v))}else Ra[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||bQ(t[s]))&&i.push(s);i.length&&TQ(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ra[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=Ra[n](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const kQ=new Set(["opacity","clipPath","filter","transform"]);function yL(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const s=n?.[e]??i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e).filter(i=>i!=null)}const bL=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function w0(e){return AD(e)&&"offsetHeight"in e}const{schedule:xw}=UD(queueMicrotask,!1),cr={x:!1,y:!1};function xL(){return cr.x||cr.y}function NQ(e){return e==="x"||e==="y"?cr[e]?null:(cr[e]=!0,()=>{cr[e]=!1}):cr.x||cr.y?null:(cr.x=cr.y=!0,()=>{cr.x=cr.y=!1})}function _L(e,t){const n=yL(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[n,s,()=>i.abort()]}function OQ(e){return!(e.pointerType==="touch"||xL())}function PQ(e,t,n={}){const[i,s,o]=_L(e,n);return i.forEach(l=>{let c=!1,d=!1,h;const m=()=>{l.removeEventListener("pointerleave",C)},v=T=>{h&&(h(T),h=void 0),m()},b=T=>{c=!1,window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",b),d&&(d=!1,v(T))},_=()=>{c=!0,window.addEventListener("pointerup",b,s),window.addEventListener("pointercancel",b,s)},C=T=>{if(T.pointerType!=="touch"){if(c){d=!0;return}v(T)}},E=T=>{if(!OQ(T))return;d=!1;const N=t(l,T);typeof N=="function"&&(h=N,l.addEventListener("pointerleave",C,s))};l.addEventListener("pointerenter",E,s),l.addEventListener("pointerdown",_,s)}),o}const wL=(e,t)=>t?e===t?!0:wL(e,t.parentElement):!1,_w=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,MQ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function DQ(e){return MQ.has(e.tagName)||e.isContentEditable===!0}const LQ=new Set(["INPUT","SELECT","TEXTAREA"]);function jQ(e){return LQ.has(e.tagName)||e.isContentEditable===!0}const wm=new WeakSet;function GT(e){return t=>{t.key==="Enter"&&e(t)}}function qb(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const IQ=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=GT(()=>{if(wm.has(n))return;qb(n,"down");const s=GT(()=>{qb(n,"up")}),o=()=>qb(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function KT(e){return _w(e)&&!xL()}const qT=new WeakSet;function zQ(e,t,n={}){const[i,s,o]=_L(e,n),l=c=>{const d=c.currentTarget;if(!KT(c)||qT.has(c))return;wm.add(d),n.stopPropagation&&qT.add(c);const h=t(d,c),m=(_,C)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),wm.has(d)&&wm.delete(d),KT(_)&&typeof h=="function"&&h(_,{success:C})},v=_=>{m(_,d===window||d===document||n.useGlobalTarget||wL(d,_.target))},b=_=>{m(_,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",b,s)};return i.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),w0(c)&&(c.addEventListener("focus",h=>IQ(h,s)),!DQ(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function ww(e){return AD(e)&&"ownerSVGElement"in e}const Sm=new WeakMap;let Cm;const SL=(e,t,n)=>(i,s)=>s&&s[0]?s[0][e+"Size"]:ww(i)&&"getBBox"in i?i.getBBox()[t]:i[n],BQ=SL("inline","width","offsetWidth"),UQ=SL("block","height","offsetHeight");function FQ({target:e,borderBoxSize:t}){Sm.get(e)?.forEach(n=>{n(e,{get width(){return BQ(e,t)},get height(){return UQ(e,t)}})})}function VQ(e){e.forEach(FQ)}function $Q(){typeof ResizeObserver>"u"||(Cm=new ResizeObserver(VQ))}function HQ(e,t){Cm||$Q();const n=yL(e);return n.forEach(i=>{let s=Sm.get(i);s||(s=new Set,Sm.set(i,s)),s.add(t),Cm?.observe(i)}),()=>{n.forEach(i=>{const s=Sm.get(i);s?.delete(t),s?.size||Cm?.unobserve(i)})}}const Em=new Set;let du;function GQ(){du=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Em.forEach(t=>t(e))},window.addEventListener("resize",du)}function KQ(e){return Em.add(e),du||GQ(),()=>{Em.delete(e),!Em.size&&typeof du=="function"&&(window.removeEventListener("resize",du),du=void 0)}}function WT(e,t){return typeof e=="function"?KQ(e):HQ(e,t)}function qQ(e){return ww(e)&&e.tagName==="svg"}const WQ=[...mL,Mn,mr],YQ=e=>WQ.find(pL(e)),YT=()=>({translate:0,scale:1,origin:0,originPoint:0}),fu=()=>({x:YT(),y:YT()}),ZT=()=>({min:0,max:0}),Vn=()=>({x:ZT(),y:ZT()}),ZQ=new WeakMap;function Hg(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Uf(e){return typeof e=="string"||Array.isArray(e)}const Sw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cw=["initial",...Sw];function Gg(e){return Hg(e.animate)||Cw.some(t=>Uf(e[t]))}function CL(e){return!!(Gg(e)||e.variants)}function XQ(e,t,n){for(const i in t){const s=t[i],o=n[i];if(Ci(s))e.addValue(i,s);else if(Ci(o))e.addValue(i,ku(s,{owner:e}));else if(o!==s)if(e.hasValue(i)){const l=e.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=e.getStaticValue(i);e.addValue(i,ku(l!==void 0?l:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const S0={current:null},EL={current:!1},QQ=typeof window<"u";function JQ(){if(EL.current=!0,!!QQ)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>S0.current=e.matches;e.addEventListener("change",t),t()}else S0.current=!1}const XT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let cg={};function AL(e){cg=e}function eJ(){return cg}class tJ{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,skipAnimations:o,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=pw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Di.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Jt.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.skipAnimationsConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Gg(n),this.isVariantNode=CL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in b){const C=b[_];h[_]!==void 0&&Ci(C)&&C.set(h[_])}}mount(t){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=t,ZQ.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(EL.current||JQ(),this.shouldReduceMotion=S0.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),ja(this.notifyUpdate),ja(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),n.accelerate&&kQ.has(t)&&this.current instanceof HTMLElement){const{factory:l,keyframes:c,times:d,ease:h,duration:m}=n.accelerate,v=new rL({element:this.current,name:t,keyframes:c,times:d,ease:h,duration:pr(m)}),b=l(v);this.valueSubscriptions.set(t,()=>{b(),v.cancel()});return}const i=Vu.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Jt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in cg){const n=cg[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Vn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<XT.length;i++){const s=XT[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=t[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=XQ(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=ku(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(ED(i)||TD(i))?i=parseFloat(i):!YQ(i)&&mr.test(n)&&(i=vL(t,n)),this.setBaseTarget(t,Ci(i)?i.get():i)),Ci(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=vw(this.props,n,this.presenceContext?.custom);o&&(i=o[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Ci(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new iw),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){xw.render(this.render)}}class TL extends tJ{constructor(){super(...arguments),this.KeyframeResolver=RQ}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const i=t.style;return i?i[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ci(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Fa{constructor(t){this.isMounted=!1,this.node=t}update(){}}function RL({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function nJ({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function iJ(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Wb(e){return e===void 0||e===1}function C0({scale:e,scaleX:t,scaleY:n}){return!Wb(e)||!Wb(t)||!Wb(n)}function Ol(e){return C0(e)||kL(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function kL(e){return QT(e.x)||QT(e.y)}function QT(e){return e&&e!=="0%"}function ug(e,t,n){const i=e-n,s=t*i;return n+s}function JT(e,t,n,i,s){return s!==void 0&&(e=ug(e,s,i)),ug(e,n,i)+t}function E0(e,t=0,n=1,i,s){e.min=JT(e.min,t,n,i,s),e.max=JT(e.max,t,n,i,s)}function NL(e,{x:t,y:n}){E0(e.x,t.translate,t.scale,t.originPoint),E0(e.y,n.translate,n.scale,n.originPoint)}const eR=.999999999999,tR=1.0000000000001;function sJ(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let o,l;for(let c=0;c<s;c++){o=n[c],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&pu(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,NL(e,l)),i&&Ol(o.latestValues)&&pu(e,o.latestValues))}t.x<tR&&t.x>eR&&(t.x=1),t.y<tR&&t.y>eR&&(t.y=1)}function hu(e,t){e.min=e.min+t,e.max=e.max+t}function nR(e,t,n,i,s=.5){const o=un(e.min,e.max,s);E0(e,t,n,o,i)}function pu(e,t){nR(e.x,t.x,t.scaleX,t.scale,t.originX),nR(e.y,t.y,t.scaleY,t.scale,t.originY)}function OL(e,t){return RL(iJ(e.getBoundingClientRect(),t))}function rJ(e,t,n){const i=OL(e,n),{scroll:s}=t;return s&&(hu(i.x,s.offset.x),hu(i.y,s.offset.y)),i}const oJ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aJ=Fu.length;function lJ(e,t,n){let i="",s=!0;for(let o=0;o<aJ;o++){const l=Fu[o],c=e[l];if(c===void 0)continue;let d=!0;if(typeof c=="number")d=c===(l.startsWith("scale")?1:0);else{const h=parseFloat(c);d=l.startsWith("scale")?h===1:h===0}if(!d||n){const h=bL(c,bw[l]);if(!d){s=!1;const m=oJ[l]||l;i+=`${m}(${h}) `}n&&(t[l]=h)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function Ew(e,t,n){const{style:i,vars:s,transformOrigin:o}=e;let l=!1,c=!1;for(const d in t){const h=t[d];if(Vu.has(d)){l=!0;continue}else if(VD(d)){s[d]=h;continue}else{const m=bL(h,bw[d]);d.startsWith("origin")?(c=!0,o[d]=m):i[d]=m}}if(t.transform||(l||n?i.transform=lJ(t,e.transform,n):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:m=0}=o;i.transformOrigin=`${d} ${h} ${m}`}}function PL(e,{style:t,vars:n},i,s){const o=e.style;let l;for(l in t)o[l]=t[l];s?.applyProjectionStyles(o,i);for(l in n)o.setProperty(l,n[l])}function iR(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Jd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ve.test(e))e=parseFloat(e);else return e;const n=iR(e,t.target.x),i=iR(e,t.target.y);return`${n}% ${i}%`}},cJ={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=mr.parse(e);if(s.length>5)return i;const o=mr.createTransformer(e),l=typeof s[0]!="number"?1:0,c=n.x.scale*t.x,d=n.y.scale*t.y;s[0+l]/=c,s[1+l]/=d;const h=un(c,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=h),typeof s[3+l]=="number"&&(s[3+l]/=h),o(s)}},A0={borderRadius:{...Jd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jd,borderTopRightRadius:Jd,borderBottomLeftRadius:Jd,borderBottomRightRadius:Jd,boxShadow:cJ};function ML(e,{layout:t,layoutId:n}){return Vu.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!A0[e]||e==="opacity")}function Aw(e,t,n){const i=e.style,s=t?.style,o={};if(!i)return o;for(const l in i)(Ci(i[l])||s&&Ci(s[l])||ML(l,e)||n?.getValue(l)?.liveStyle!==void 0)&&(o[l]=i[l]);return o}function uJ(e){return window.getComputedStyle(e)}class dJ extends TL{constructor(){super(...arguments),this.type="html",this.renderInstance=PL}readValueFromInstance(t,n){if(Vu.has(n))return this.projection?.isProjecting?d0(n):NX(t,n);{const i=uJ(t),s=(VD(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return OL(t,n)}build(t,n,i){Ew(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return Aw(t,n,i)}}const fJ={offset:"stroke-dashoffset",array:"stroke-dasharray"},hJ={offset:"strokeDashoffset",array:"strokeDasharray"};function pJ(e,t,n=1,i=0,s=!0){e.pathLength=1;const o=s?fJ:hJ;e[o.offset]=`${-i}`,e[o.array]=`${t} ${n}`}const mJ=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function DL(e,{attrX:t,attrY:n,attrScale:i,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...c},d,h,m){if(Ew(e,c,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:b}=e;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=m?.transformBox??"fill-box",delete v.transformBox);for(const _ of mJ)v[_]!==void 0&&(b[_]=v[_],delete v[_]);t!==void 0&&(v.x=t),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),s!==void 0&&pJ(v,s,o,l,!1)}const LL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),jL=e=>typeof e=="string"&&e.toLowerCase()==="svg";function gJ(e,t,n,i){PL(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(LL.has(s)?s:yw(s),t.attrs[s])}function IL(e,t,n){const i=Aw(e,t,n);for(const s in e)if(Ci(e[s])||Ci(t[s])){const o=Fu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[o]=e[s]}return i}class vJ extends TL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Vn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Vu.has(n)){const i=gL(n);return i&&i.default||0}return n=LL.has(n)?n:yw(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return IL(t,n,i)}build(t,n,i){DL(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,s){gJ(t,n,i,s)}mount(t){this.isSVGTag=jL(t.tagName),super.mount(t)}}const yJ=Cw.length;function zL(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?zL(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<yJ;n++){const i=Cw[n],s=e.props[i];(Uf(s)||s===!1)&&(t[i]=s)}return t}function BL(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const bJ=[...Sw].reverse(),xJ=Sw.length;function _J(e){return t=>Promise.all(t.map(({animation:n,options:i})=>vQ(e,n,i)))}function wJ(e){let t=_J(e),n=sR(),i=!0;const s=d=>(h,m)=>{const v=wu(e,m,d==="exit"?e.presenceContext?.custom:void 0);if(v){const{transition:b,transitionEnd:_,...C}=v;h={...h,...C,..._}}return h};function o(d){t=d(e)}function l(d){const{props:h}=e,m=zL(e.parent)||{},v=[],b=new Set;let _={},C=1/0;for(let T=0;T<xJ;T++){const N=bJ[T],k=n[N],O=h[N]!==void 0?h[N]:m[N],M=Uf(O),j=N===d?k.isActive:null;j===!1&&(C=T);let V=O===m[N]&&O!==h[N]&&M;if(V&&i&&e.manuallyAnimateOnMount&&(V=!1),k.protectedKeys={..._},!k.isActive&&j===null||!O&&!k.prevProp||Hg(O)||typeof O=="boolean")continue;if(N==="exit"&&k.isActive&&j!==!0){k.prevResolvedValues&&(_={..._,...k.prevResolvedValues});continue}const z=SJ(k.prevProp,O);let I=z||N===d&&k.isActive&&!V&&M||T>C&&M,$=!1;const Y=Array.isArray(O)?O:[O];let q=Y.reduce(s(N),{});j===!1&&(q={});const{prevResolvedValues:W={}}=k,Z={...W,...q},ie=X=>{I=!0,b.has(X)&&($=!0,b.delete(X)),k.needsAnimating[X]=!0;const ne=e.getValue(X);ne&&(ne.liveStyle=!1)};for(const X in Z){const ne=q[X],de=W[X];if(_.hasOwnProperty(X))continue;let ae=!1;v0(ne)&&v0(de)?ae=!BL(ne,de):ae=ne!==de,ae?ne!=null?ie(X):b.add(X):ne!==void 0&&b.has(X)?ie(X):k.protectedKeys[X]=!0}k.prevProp=O,k.prevResolvedValues=q,k.isActive&&(_={..._,...q}),i&&e.blockInitialAnimation&&(I=!1);const ye=V&&z;I&&(!ye||$)&&v.push(...Y.map(X=>{const ne={type:N};if(typeof X=="string"&&i&&!ye&&e.manuallyAnimateOnMount&&e.parent){const{parent:de}=e,ae=wu(de,X);if(de.enteringChildren&&ae){const{delayChildren:K}=ae.transition||{};ne.delay=aL(de.enteringChildren,e,K)}}return{animation:X,options:ne}}))}if(b.size){const T={};if(typeof h.initial!="boolean"){const N=wu(e,Array.isArray(h.initial)?h.initial[0]:h.initial);N&&N.transition&&(T.transition=N.transition)}b.forEach(N=>{const k=e.getBaseTarget(N),O=e.getValue(N);O&&(O.liveStyle=!0),T[N]=k??null}),v.push({animation:T})}let E=!!v.length;return i&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(E=!1),i=!1,E?t(v):Promise.resolve()}function c(d,h){if(n[d].isActive===h)return Promise.resolve();e.variantChildren?.forEach(v=>v.animationState?.setActive(d,h)),n[d].isActive=h;const m=l(d);for(const v in n)n[v].protectedKeys={};return m}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=sR()}}}function SJ(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!BL(t,e):!1}function Rl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sR(){return{animate:Rl(!0),whileInView:Rl(),whileHover:Rl(),whileTap:Rl(),whileDrag:Rl(),whileFocus:Rl(),exit:Rl()}}function rR(e,t){e.min=t.min,e.max=t.max}function ar(e,t){rR(e.x,t.x),rR(e.y,t.y)}function oR(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const UL=1e-4,CJ=1-UL,EJ=1+UL,FL=.01,AJ=0-FL,TJ=0+FL;function Li(e){return e.max-e.min}function RJ(e,t,n){return Math.abs(e-t)<=n}function aR(e,t,n,i=.5){e.origin=i,e.originPoint=un(t.min,t.max,e.origin),e.scale=Li(n)/Li(t),e.translate=un(n.min,n.max,e.origin)-e.originPoint,(e.scale>=CJ&&e.scale<=EJ||isNaN(e.scale))&&(e.scale=1),(e.translate>=AJ&&e.translate<=TJ||isNaN(e.translate))&&(e.translate=0)}function mf(e,t,n,i){aR(e.x,t.x,n.x,i?i.originX:void 0),aR(e.y,t.y,n.y,i?i.originY:void 0)}function lR(e,t,n){e.min=n.min+t.min,e.max=e.min+Li(t)}function kJ(e,t,n){lR(e.x,t.x,n.x),lR(e.y,t.y,n.y)}function cR(e,t,n){e.min=t.min-n.min,e.max=e.min+Li(t)}function dg(e,t,n){cR(e.x,t.x,n.x),cR(e.y,t.y,n.y)}function uR(e,t,n,i,s){return e-=t,e=ug(e,1/n,i),s!==void 0&&(e=ug(e,1/s,i)),e}function NJ(e,t=0,n=1,i=.5,s,o=e,l=e){if(Wr.test(t)&&(t=parseFloat(t),t=un(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=un(o.min,o.max,i);e===o&&(c-=t),e.min=uR(e.min,t,n,c,s),e.max=uR(e.max,t,n,c,s)}function dR(e,t,[n,i,s],o,l){NJ(e,t[n],t[i],t[s],t.scale,o,l)}const OJ=["x","scaleX","originX"],PJ=["y","scaleY","originY"];function fR(e,t,n,i){dR(e.x,t,OJ,n?n.x:void 0,i?i.x:void 0),dR(e.y,t,PJ,n?n.y:void 0,i?i.y:void 0)}function hR(e){return e.translate===0&&e.scale===1}function VL(e){return hR(e.x)&&hR(e.y)}function pR(e,t){return e.min===t.min&&e.max===t.max}function MJ(e,t){return pR(e.x,t.x)&&pR(e.y,t.y)}function mR(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function $L(e,t){return mR(e.x,t.x)&&mR(e.y,t.y)}function gR(e){return Li(e.x)/Li(e.y)}function vR(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Ur(e){return[e("x"),e("y")]}function DJ(e,t,n){let i="";const s=e.x.translate/t.x,o=e.y.translate/t.y,l=n?.z||0;if((s||o||l)&&(i=`translate3d(${s}px, ${o}px, ${l}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:h,rotate:m,rotateX:v,rotateY:b,skewX:_,skewY:C}=n;h&&(i=`perspective(${h}px) ${i}`),m&&(i+=`rotate(${m}deg) `),v&&(i+=`rotateX(${v}deg) `),b&&(i+=`rotateY(${b}deg) `),_&&(i+=`skewX(${_}deg) `),C&&(i+=`skewY(${C}deg) `)}const c=e.x.scale*t.x,d=e.y.scale*t.y;return(c!==1||d!==1)&&(i+=`scale(${c}, ${d})`),i||"none"}const HL=["TopLeft","TopRight","BottomLeft","BottomRight"],LJ=HL.length,yR=e=>typeof e=="string"?parseFloat(e):e,bR=e=>typeof e=="number"||Ve.test(e);function jJ(e,t,n,i,s,o){s?(e.opacity=un(0,n.opacity??1,IJ(i)),e.opacityExit=un(t.opacity??1,0,zJ(i))):o&&(e.opacity=un(t.opacity??1,n.opacity??1,i));for(let l=0;l<LJ;l++){const c=`border${HL[l]}Radius`;let d=xR(t,c),h=xR(n,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||bR(d)===bR(h)?(e[c]=Math.max(un(yR(d),yR(h),i),0),(Wr.test(h)||Wr.test(d))&&(e[c]+="%")):e[c]=h}(t.rotate||n.rotate)&&(e.rotate=un(t.rotate||0,n.rotate||0,i))}function xR(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const IJ=GL(0,.5,jD),zJ=GL(.5,.95,Hs);function GL(e,t,n){return i=>i<e?0:i>t?1:n(If(e,t,i))}function BJ(e,t,n){const i=Ci(e)?e:ku(e);return i.start(gw("",i,t,n)),i.animation}function Ff(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}const UJ=(e,t)=>e.depth-t.depth;class FJ{constructor(){this.children=[],this.isDirty=!1}add(t){tw(this.children,t),this.isDirty=!0}remove(t){rg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(UJ),this.isDirty=!1,this.children.forEach(t)}}function VJ(e,t){const n=Di.now(),i=({timestamp:s})=>{const o=s-n;o>=t&&(ja(i),e(o-t))};return Jt.setup(i,!0),()=>ja(i)}function Am(e){return Ci(e)?e.get():e}class $J{constructor(){this.members=[]}add(t){tw(this.members,t);for(let n=this.members.length-1;n>=0;n--){const i=this.members[n];if(i===t||i===this.lead||i===this.prevLead)continue;const s=i.instance;s&&s.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&rg(this.members,i)}t.scheduleRender()}remove(t){if(rg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const o=this.members[s],l=o.instance;if(o.isPresent!==!1&&(!l||l.isConnected!==!1)){i=o;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender();const s=i.options.layoutDependency,o=t.options.layoutDependency;if(!(s!==void 0&&o!==void 0&&s===o)){const d=i.instance;d&&d.isConnected===!1&&!i.snapshot||(t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:c}=t.options;c===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Tm={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Yb=["","X","Y","Z"],HJ=1e3;let GJ=0;function Zb(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function KL(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=fL(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Jt,!(s||o))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&KL(i)}function qL({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},c=t?.()){this.id=GJ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(WJ),this.nodes.forEach(QJ),this.nodes.forEach(JJ),this.nodes.forEach(YJ)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new FJ)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new iw),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=ww(l)&&!qQ(l),this.instance=l;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),e){let m,v=0;const b=()=>this.root.updateBlockedByResize=!1;Jt.read(()=>{v=window.innerWidth}),e(l,()=>{const _=window.innerWidth;_!==v&&(v=_,this.root.updateBlockedByResize=!0,m&&m(),m=VJ(b,250),Tm.hasAnimatedSinceResize&&(Tm.hasAnimatedSinceResize=!1,this.nodes.forEach(SR)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||h.getDefaultTransition()||see,{onLayoutAnimationStart:E,onLayoutAnimationComplete:T}=h.getProps(),N=!this.targetLayout||!$L(this.targetLayout,_),k=!v&&b;if(this.options.layoutRoot||this.resumeFrom||k||v&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const O={...mw(C,"layout"),onPlay:E,onComplete:T};(h.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O),this.setAnimationOrigin(m,k)}else v||SR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ja(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eee),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&KL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_R);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(wR);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(XJ),this.nodes.forEach(KJ),this.nodes.forEach(qJ)):this.nodes.forEach(wR),this.clearAllSnapshots();const c=Di.now();hi.delta=Zr(0,1e3/60,c-hi.timestamp),hi.timestamp=c,hi.isProcessing=!0,Fb.update.process(hi),Fb.preRender.process(hi),Fb.render.process(hi),hi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ZJ),this.sharedNodes.forEach(tee)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Jt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Jt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Li(this.snapshot.measuredBox.x)&&!Li(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Vn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!VL(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;l&&this.instance&&(c||Ol(this.latestValues)||m)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),ree(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Vn();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(oee))){const{scroll:h}=this.root;h&&(hu(c.x,h.offset.x),hu(c.y,h.offset.y))}return c}removeElementScroll(l){const c=Vn();if(ar(c,l),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:m,options:v}=h;h!==this.root&&m&&v.layoutScroll&&(m.wasRoot&&ar(c,l),hu(c.x,m.offset.x),hu(c.y,m.offset.y))}return c}applyTransform(l,c=!1){const d=Vn();ar(d,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&pu(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Ol(m.latestValues)&&pu(d,m.latestValues)}return Ol(this.latestValues)&&pu(d,this.latestValues),d}removeTransform(l){const c=Vn();ar(c,l);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!Ol(h.latestValues))continue;C0(h.latestValues)&&h.updateSnapshot();const m=Vn(),v=h.measurePageBox();ar(m,v),fR(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return Ol(this.latestValues)&&fR(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==hi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:v}=this.options;if(!this.layout||!(m||v))return;this.resolvedRelativeTargetAt=hi.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Vn(),this.targetWithTransforms=Vn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kJ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ar(this.target,this.layout.layoutBox),NL(this.target,this.targetDelta)):ar(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||C0(this.parent.latestValues)||kL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,c,d){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vn(),this.relativeTargetOrigin=Vn(),dg(this.relativeTargetOrigin,c,d),ar(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===hi.timestamp&&(d=!1),d)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;ar(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;sJ(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Vn());const{target:_}=l;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(oR(this.prevProjectionDelta.x,this.projectionDelta.x),oR(this.prevProjectionDelta.y,this.projectionDelta.y)),mf(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!vR(this.projectionDelta.x,this.prevProjectionDelta.x)||!vR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fu(),this.projectionDelta=fu(),this.projectionDeltaWithTransform=fu()}setAnimationOrigin(l,c=!1){const d=this.snapshot,h=d?d.latestValues:{},m={...this.latestValues},v=fu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const b=Vn(),_=d?d.source:void 0,C=this.layout?this.layout.source:void 0,E=_!==C,T=this.getStack(),N=!T||T.members.length<=1,k=!!(E&&!N&&this.options.crossfade===!0&&!this.path.some(iee));this.animationProgress=0;let O;this.mixTargetDelta=M=>{const j=M/1e3;CR(v.x,l.x,j),CR(v.y,l.y,j),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dg(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nee(this.relativeTarget,this.relativeTargetOrigin,b,j),O&&MJ(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=Vn()),ar(O,this.relativeTarget)),E&&(this.animationValues=m,jJ(m,h,this.latestValues,j,k,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ja(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Jt.update(()=>{Tm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ku(0)),this.motionValue.jump(0,!1),this.currentAnimation=BJ(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(HJ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:m}=l;if(!(!c||!d||!h)){if(this!==l&&this.layout&&h&&WL(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||Vn();const v=Li(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+v;const b=Li(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+b}ar(c,d),pu(c,m),mf(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new $J),this.sharedNodes.get(l).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&Zb("z",l,h,this.animationValues);for(let m=0;m<Yb.length;m++)Zb(`rotate${Yb[m]}`,l,h,this.animationValues),Zb(`skew${Yb[m]}`,l,h,this.animationValues);l.render();for(const m in h)l.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Am(c?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Am(c?.pointerEvents)||""),this.hasProjected&&!Ol(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let v=DJ(this.projectionDeltaWithTransform,this.treeScale,m);d&&(v=d(m,v)),l.transform=v;const{x:b,y:_}=this.projectionDelta;l.transformOrigin=`${b.origin*100}% ${_.origin*100}% 0`,h.animationValues?l.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const C in A0){if(m[C]===void 0)continue;const{correct:E,applyTo:T,isCSSVariable:N}=A0[C],k=v==="none"?m[C]:E(m[C],h);if(T){const O=T.length;for(let M=0;M<O;M++)l[T[M]]=k}else N?this.options.visualElement.renderState.vars[C]=k:l[C]=k}this.options.layoutId&&(l.pointerEvents=h===this?Am(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(_R),this.root.sharedNodes.clear()}}}function KJ(e){e.updateLayout()}function qJ(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,o=t.source!==e.layout.source;s==="size"?Ur(m=>{const v=o?t.measuredBox[m]:t.layoutBox[m],b=Li(v);v.min=n[m].min,v.max=v.min+b}):WL(s,t.layoutBox,n)&&Ur(m=>{const v=o?t.measuredBox[m]:t.layoutBox[m],b=Li(n[m]);v.max=v.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+b)});const l=fu();mf(l,n,t.layoutBox);const c=fu();o?mf(c,e.applyTransform(i,!0),t.measuredBox):mf(c,n,t.layoutBox);const d=!VL(l);let h=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:v,layout:b}=m;if(v&&b){const _=Vn();dg(_,t.layoutBox,v.layoutBox);const C=Vn();dg(C,n,b.layoutBox),$L(_,C)||(h=!0),m.options.layoutRoot&&(e.relativeTarget=C,e.relativeTargetOrigin=_,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function WJ(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function YJ(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ZJ(e){e.clearSnapshot()}function _R(e){e.clearMeasurements()}function wR(e){e.isLayoutDirty=!1}function XJ(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function SR(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function QJ(e){e.resolveTargetDelta()}function JJ(e){e.calcProjection()}function eee(e){e.resetSkewAndRotation()}function tee(e){e.removeLeadSnapshot()}function CR(e,t,n){e.translate=un(t.translate,0,n),e.scale=un(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ER(e,t,n,i){e.min=un(t.min,n.min,i),e.max=un(t.max,n.max,i)}function nee(e,t,n,i){ER(e.x,t.x,n.x,i),ER(e.y,t.y,n.y,i)}function iee(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const see={duration:.45,ease:[.4,0,.1,1]},AR=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),TR=AR("applewebkit/")&&!AR("chrome/")?Math.round:Hs;function RR(e){e.min=TR(e.min),e.max=TR(e.max)}function ree(e){RR(e.x),RR(e.y)}function WL(e,t,n){return e==="position"||e==="preserve-aspect"&&!RJ(gR(t),gR(n),.2)}function oee(e){return e!==e.root&&e.scroll?.wasRoot}const aee=qL({attachResizeListener:(e,t)=>Ff(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Xb={current:void 0},YL=qL({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Xb.current){const e=new aee({});e.mount(window),e.setOptions({layoutScroll:!0}),Xb.current=e}return Xb.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Tw=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function kR(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function lee(...e){return t=>{let n=!1;const i=e.map(s=>{const o=kR(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<i.length;s++){const o=i[s];typeof o=="function"?o():kR(e[s],null)}}}}function cee(...e){return x.useCallback(lee(...e),e)}class uee extends x.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=n.offsetParent,s=w0(i)&&i.offsetWidth||0,o=w0(i)&&i.offsetHeight||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=s-l.width-l.left,l.bottom=o-l.height-l.top}return null}componentDidUpdate(){}render(){return this.props.children}}function dee({children:e,isPresent:t,anchorX:n,anchorY:i,root:s,pop:o}){const l=x.useId(),c=x.useRef(null),d=x.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:h}=x.useContext(Tw),m=e.props?.ref??e?.ref,v=cee(c,m);return x.useInsertionEffect(()=>{const{width:b,height:_,top:C,left:E,right:T,bottom:N}=d.current;if(t||o===!1||!c.current||!b||!_)return;const k=n==="left"?`left: ${E}`:`right: ${T}`,O=i==="bottom"?`bottom: ${N}`:`top: ${C}`;c.current.dataset.motionPopId=l;const M=document.createElement("style");h&&(M.nonce=h);const j=s??document.head;return j.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${b}px !important;
            height: ${_}px !important;
            ${k}px !important;
            ${O}px !important;
          }
        `),()=>{j.contains(M)&&j.removeChild(M)}},[t]),y.jsx(uee,{isPresent:t,childRef:c,sizeRef:d,pop:o,children:o===!1?e:x.cloneElement(e,{ref:v})})}const fee=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:o,mode:l,anchorX:c,anchorY:d,root:h})=>{const m=ew(hee),v=x.useId();let b=!0,_=x.useMemo(()=>(b=!1,{id:v,initial:t,isPresent:n,custom:s,onExitComplete:C=>{m.set(C,!0);for(const E of m.values())if(!E)return;i&&i()},register:C=>(m.set(C,!1),()=>m.delete(C))}),[n,m,i]);return o&&b&&(_={..._}),x.useMemo(()=>{m.forEach((C,E)=>m.set(E,!1))},[n]),x.useEffect(()=>{!n&&!m.size&&i&&i()},[n]),e=y.jsx(dee,{pop:l==="popLayout",isPresent:n,anchorX:c,anchorY:d,root:h,children:e}),y.jsx($g.Provider,{value:_,children:e})};function hee(){return new Map}function ZL(e=!0){const t=x.useContext($g);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,o=x.useId();x.useEffect(()=>{if(e)return s(o)},[e]);const l=x.useCallback(()=>e&&i&&i(o),[o,i,e]);return!n&&i?[!1,l]:[!0]}const am=e=>e.key||"";function NR(e){const t=[];return x.Children.forEach(e,n=>{x.isValidElement(n)&&t.push(n)}),t}const Nu=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync",propagate:l=!1,anchorX:c="left",anchorY:d="top",root:h})=>{const[m,v]=ZL(l),b=x.useMemo(()=>NR(e),[e]),_=l&&!m?[]:b.map(am),C=x.useRef(!0),E=x.useRef(b),T=ew(()=>new Map),N=x.useRef(new Set),[k,O]=x.useState(b),[M,j]=x.useState(b);CD(()=>{C.current=!1,E.current=b;for(let I=0;I<M.length;I++){const $=am(M[I]);_.includes($)?(T.delete($),N.current.delete($)):T.get($)!==!0&&T.set($,!1)}},[M,_.length,_.join("-")]);const V=[];if(b!==k){let I=[...b];for(let $=0;$<M.length;$++){const Y=M[$],q=am(Y);_.includes(q)||(I.splice($,0,Y),V.push(Y))}return o==="wait"&&V.length&&(I=V),j(NR(I)),O(b),null}const{forceRender:z}=x.useContext(J_);return y.jsx(y.Fragment,{children:M.map(I=>{const $=am(I),Y=l&&!m?!1:b===M||_.includes($),q=()=>{if(N.current.has($))return;if(N.current.add($),T.has($))T.set($,!0);else return;let W=!0;T.forEach(Z=>{Z||(W=!1)}),W&&(z?.(),j(E.current),l&&v?.(),i&&i())};return y.jsx(fee,{isPresent:Y,initial:!C.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:o,root:h,onExitComplete:Y?void 0:q,anchorX:c,anchorY:d,children:I},$)})})},XL=x.createContext({strict:!1}),OR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let PR=!1;function pee(){if(PR)return;const e={};for(const t in OR)e[t]={isEnabled:n=>OR[t].some(i=>!!n[i])};AL(e),PR=!0}function QL(){return pee(),eJ()}function mee(e){const t=QL();for(const n in e)t[n]={...t[n],...e[n]};AL(t)}const gee=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function fg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||gee.has(e)}let JL=e=>!fg(e);function vee(e){typeof e=="function"&&(JL=t=>t.startsWith("on")?!fg(t):e(t))}try{vee(require("@emotion/is-prop-valid").default)}catch{}function yee(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(JL(s)||n===!0&&fg(s)||!t&&!fg(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}const Kg=x.createContext({});function bee(e,t){if(Gg(e)){const{initial:n,animate:i}=e;return{initial:n===!1||Uf(n)?n:void 0,animate:Uf(i)?i:void 0}}return e.inherit!==!1?t:{}}function xee(e){const{initial:t,animate:n}=bee(e,x.useContext(Kg));return x.useMemo(()=>({initial:t,animate:n}),[MR(t),MR(n)])}function MR(e){return Array.isArray(e)?e.join(" "):e}const Rw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ej(e,t,n){for(const i in t)!Ci(t[i])&&!ML(i,n)&&(e[i]=t[i])}function _ee({transformTemplate:e},t){return x.useMemo(()=>{const n=Rw();return Ew(n,t,e),Object.assign({},n.vars,n.style)},[t])}function wee(e,t){const n=e.style||{},i={};return ej(i,n,e),Object.assign(i,_ee(e,t)),i}function See(e,t){const n={},i=wee(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const tj=()=>({...Rw(),attrs:{}});function Cee(e,t,n,i){const s=x.useMemo(()=>{const o=tj();return DL(o,t,jL(i),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};ej(o,e.style,e),s.style={...o,...s.style}}return s}const Eee=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function kw(e){return typeof e!="string"||e.includes("-")?!1:!!(Eee.indexOf(e)>-1||/[A-Z]/u.test(e))}function Aee(e,t,n,{latestValues:i},s,o=!1,l){const d=(l??kw(e)?Cee:See)(t,i,s,e),h=yee(t,typeof e=="string",o),m=e!==x.Fragment?{...h,...d,ref:n}:{},{children:v}=t,b=x.useMemo(()=>Ci(v)?v.get():v,[v]);return x.createElement(e,{...m,children:b})}function Tee({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,s){return{latestValues:Ree(n,i,s,e),renderState:t()}}function Ree(e,t,n,i){const s={},o=i(e,{});for(const b in o)s[b]=Am(o[b]);let{initial:l,animate:c}=e;const d=Gg(e),h=CL(e);t&&h&&!d&&e.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const v=m?c:l;if(v&&typeof v!="boolean"&&!Hg(v)){const b=Array.isArray(v)?v:[v];for(let _=0;_<b.length;_++){const C=vw(e,b[_]);if(C){const{transitionEnd:E,transition:T,...N}=C;for(const k in N){let O=N[k];if(Array.isArray(O)){const M=m?O.length-1:0;O=O[M]}O!==null&&(s[k]=O)}for(const k in E)s[k]=E[k]}}}return s}const nj=e=>(t,n)=>{const i=x.useContext(Kg),s=x.useContext($g),o=()=>Tee(e,t,i,s);return n?o():ew(o)},kee=nj({scrapeMotionValuesFromProps:Aw,createRenderState:Rw}),Nee=nj({scrapeMotionValuesFromProps:IL,createRenderState:tj}),Oee=Symbol.for("motionComponentSymbol");function Pee(e,t,n){const i=x.useRef(n);x.useInsertionEffect(()=>{i.current=n});const s=x.useRef(null);return x.useCallback(o=>{o&&e.onMount?.(o),t&&(o?t.mount(o):t.unmount());const l=i.current;if(typeof l=="function")if(o){const c=l(o);typeof c=="function"&&(s.current=c)}else s.current?(s.current(),s.current=null):l(o);else l&&(l.current=o)},[t])}const ij=x.createContext({});function lu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Mee(e,t,n,i,s,o){const{visualElement:l}=x.useContext(Kg),c=x.useContext(XL),d=x.useContext($g),h=x.useContext(Tw),m=h.reducedMotion,v=h.skipAnimations,b=x.useRef(null),_=x.useRef(!1);i=i||c.renderer,!b.current&&i&&(b.current=i(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m,skipAnimations:v,isSVG:o}),_.current&&b.current&&(b.current.manuallyAnimateOnMount=!0));const C=b.current,E=x.useContext(ij);C&&!C.projection&&s&&(C.type==="html"||C.type==="svg")&&Dee(b.current,n,s,E);const T=x.useRef(!1);x.useInsertionEffect(()=>{C&&T.current&&C.update(n,d)});const N=n[dL],k=x.useRef(!!N&&!window.MotionHandoffIsComplete?.(N)&&window.MotionHasOptimisedAnimation?.(N));return CD(()=>{_.current=!0,C&&(T.current=!0,window.MotionIsMounted=!0,C.updateFeatures(),C.scheduleRenderMicrotask(),k.current&&C.animationState&&C.animationState.animateChanges())}),x.useEffect(()=>{C&&(!k.current&&C.animationState&&C.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(N)}),k.current=!1),C.enteringChildren=void 0)}),C}function Dee(e,t,n,i){const{layoutId:s,layout:o,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:h,layoutCrossfade:m}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:sj(e.parent)),e.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||c&&lu(c),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:m,layoutScroll:d,layoutRoot:h})}function sj(e){if(e)return e.options.allowProjection!==!1?e.projection:sj(e.parent)}function Qb(e,{forwardMotionProps:t=!1,type:n}={},i,s){i&&mee(i);const o=n?n==="svg":kw(e),l=o?Nee:kee;function c(h,m){let v;const b={...x.useContext(Tw),...h,layoutId:Lee(h)},{isStatic:_}=b,C=xee(h),E=l(h,_);if(!_&&SD){jee();const T=Iee(b);v=T.MeasureLayout,C.visualElement=Mee(e,E,b,s,T.ProjectionNode,o)}return y.jsxs(Kg.Provider,{value:C,children:[v&&C.visualElement?y.jsx(v,{visualElement:C.visualElement,...b}):null,Aee(e,h,Pee(E,C.visualElement,m),E,_,t,o)]})}c.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const d=x.forwardRef(c);return d[Oee]=e,d}function Lee({layoutId:e}){const t=x.useContext(J_).id;return t&&e!==void 0?t+"-"+e:e}function jee(e,t){x.useContext(XL).strict}function Iee(e){const t=QL(),{drag:n,layout:i}=t;if(!n&&!i)return{};const s={...n,...i};return{MeasureLayout:n?.isEnabled(e)||i?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function zee(e,t){if(typeof Proxy>"u")return Qb;const n=new Map,i=(o,l)=>Qb(o,l,e,t),s=(o,l)=>i(o,l);return new Proxy(s,{get:(o,l)=>l==="create"?i:(n.has(l)||n.set(l,Qb(l,void 0,e,t)),n.get(l))})}const Bee=(e,t)=>t.isSVG??kw(e)?new vJ(t):new dJ(t,{allowProjection:e!==x.Fragment});class Uee extends Fa{constructor(t){super(t),t.animationState||(t.animationState=wJ(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Hg(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Fee=0;class Vee extends Fa{constructor(){super(...arguments),this.id=Fee++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const $ee={animation:{Feature:Uee},exit:{Feature:Vee}};function ph(e){return{point:{x:e.pageX,y:e.pageY}}}const Hee=e=>t=>_w(t)&&e(t,ph(t));function gf(e,t,n,i){return Ff(e,t,Hee(n),i)}const rj=({current:e})=>e?e.ownerDocument.defaultView:null,DR=(e,t)=>Math.abs(e-t);function Gee(e,t){const n=DR(e.x,t.x),i=DR(e.y,t.y);return Math.sqrt(n**2+i**2)}const LR=new Set(["auto","scroll"]);class oj{constructor(t,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3,element:c}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=_=>{this.handleScroll(_.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=ex(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,E=Gee(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!E)return;const{point:T}=_,{timestamp:N}=hi;this.history.push({...T,timestamp:N});const{onStart:k,onMove:O}=this.handlers;C||(k&&k(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,_)},this.handlePointerMove=(_,C)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Jb(C,this.transformPagePoint),Jt.update(this.updatePoint,!0)},this.handlePointerUp=(_,C)=>{this.end();const{onEnd:E,onSessionEnd:T,resumeAnimation:N}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=ex(_.type==="pointercancel"?this.lastMoveEventInfo:Jb(C,this.transformPagePoint),this.history);this.startEvent&&E&&E(_,k),T&&T(_,k)},!_w(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=l,this.contextWindow=s||window;const d=ph(t),h=Jb(d,this.transformPagePoint),{point:m}=h,{timestamp:v}=hi;this.history=[{...m,timestamp:v}];const{onSessionStart:b}=n;b&&b(t,ex(h,this.history)),this.removeListeners=dh(gf(this.contextWindow,"pointermove",this.handlePointerMove),gf(this.contextWindow,"pointerup",this.handlePointerUp),gf(this.contextWindow,"pointercancel",this.handlePointerUp)),c&&this.startScrollTracking(c)}startScrollTracking(t){let n=t.parentElement;for(;n;){const i=getComputedStyle(n);(LR.has(i.overflowX)||LR.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0}),window.addEventListener("scroll",this.onWindowScroll),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const i=t===window,s=i?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},o={x:s.x-n.x,y:s.y-n.y};o.x===0&&o.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(t,s),Jt.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ja(this.updatePoint)}}function Jb(e,t){return t?{point:t(e.point)}:e}function jR(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ex({point:e},t){return{point:e,delta:jR(e,aj(t)),offset:jR(e,Kee(t)),velocity:qee(t,.1)}}function Kee(e){return e[0]}function aj(e){return e[e.length-1]}function qee(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=aj(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>pr(t)));)n--;if(!i)return{x:0,y:0};i===e[0]&&e.length>2&&s.timestamp-i.timestamp>pr(t)*2&&(i=e[1]);const o=Vs(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Wee(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?un(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?un(n,e,i.max):Math.min(e,n)),e}function IR(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Yee(e,{top:t,left:n,bottom:i,right:s}){return{x:IR(e.x,n,s),y:IR(e.y,t,i)}}function zR(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function Zee(e,t){return{x:zR(e.x,t.x),y:zR(e.y,t.y)}}function Xee(e,t){let n=.5;const i=Li(e),s=Li(t);return s>i?n=If(t.min,t.max-i,e.min):i>s&&(n=If(e.min,e.max-s,t.min)),Zr(0,1,n)}function Qee(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const T0=.35;function Jee(e=T0){return e===!1?e=0:e===!0&&(e=T0),{x:BR(e,"left","right"),y:BR(e,"top","bottom")}}function BR(e,t,n){return{min:UR(e,t),max:UR(e,n)}}function UR(e,t){return typeof e=="number"?e:e[t]||0}const ete=new WeakMap;class tte{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Vn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=v=>{n&&this.snapToCursor(ph(v).point),this.stopAnimation()},l=(v,b)=>{const{drag:_,dragPropagation:C,onDragStart:E}=this.getProps();if(_&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=NQ(_),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ur(N=>{let k=this.getAxisMotionValue(N).get()||0;if(Wr.test(k)){const{projection:O}=this.visualElement;if(O&&O.layout){const M=O.layout.layoutBox[N];M&&(k=Li(M)*(parseFloat(k)/100))}}this.originPoint[N]=k}),E&&Jt.update(()=>E(v,b),!1,!0),y0(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},c=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:_,dragDirectionLock:C,onDirectionLock:E,onDrag:T}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:N}=b;if(C&&this.currentDirection===null){this.currentDirection=ite(N),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",b.point,N),this.updateAxis("y",b.point,N),this.visualElement.render(),T&&Jt.update(()=>T(v,b),!1,!0)},d=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>{const{dragSnapToOrigin:v}=this.getProps();(v||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:m}=this.getProps();this.panSession=new oj(t,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:i,contextWindow:rj(this.visualElement),element:this.visualElement.current})}stop(t,n){const i=t||this.latestPointerEvent,s=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!i)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&Jt.postRender(()=>c(i,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!lm(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let l=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(l=Wee(l,this.constraints[t],this.elastic[t])),o.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&lu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=Yee(i.layoutBox,t):this.constraints=!1,this.elastic=Jee(n),s!==this.constraints&&!lu(t)&&i&&this.constraints&&!this.hasMutatedConstraints&&Ur(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Qee(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!lu(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=rJ(i,s.root,this.visualElement.getTransformPagePoint());let l=Zee(s.layout.layoutBox,o);if(n){const c=n(nJ(l));this.hasMutatedConstraints=!!c,c&&(l=RL(c))}return l}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=Ur(m=>{if(!lm(m,n,this.currentDirection))return;let v=d&&d[m]||{};l&&(v={min:0,max:0});const b=s?200:1e6,_=s?40:1e7,C={type:"inertia",velocity:i?t[m]:0,bounceStiffness:b,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(m,C)});return Promise.all(h).then(c)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return y0(this.visualElement,t),i.start(gw(t,i,0,n,this.visualElement,!1))}stopAnimation(){Ur(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Ur(n=>{const{drag:i}=this.getProps();if(!lm(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n],d=o.get()||0;o.set(t[n]-un(l,c,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!lu(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ur(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();s[l]=Xee({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),Ur(l=>{if(!lm(l,t,null))return;const c=this.getAxisMotionValue(l),{min:d,max:h}=this.constraints[l];c.set(un(d,h,s[l]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;ete.set(this.visualElement,this);const t=this.visualElement.current,n=gf(t,"pointerdown",h=>{const{drag:m,dragListener:v=!0}=this.getProps(),b=h.target,_=b!==t&&jQ(b);m&&v&&!_&&this.start(h)});let i;const s=()=>{const{dragConstraints:h}=this.getProps();lu(h)&&h.current&&(this.constraints=this.resolveRefConstraints(),i||(i=nte(t,h.current,()=>this.scalePositionWithinConstraints())))},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Jt.read(s);const c=Ff(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(Ur(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=h[v].translate,b.set(b.get()+h[v].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d(),i&&i()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=T0,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function FR(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function nte(e,t,n){const i=WT(e,FR(n)),s=WT(t,FR(n));return()=>{i(),s()}}function lm(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function ite(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class ste extends Fa{constructor(t){super(t),this.removeGroupControls=Hs,this.removeListeners=Hs,this.controls=new tte(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hs}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const tx=e=>(t,n)=>{e&&Jt.update(()=>e(t,n),!1,!0)};class rte extends Fa{constructor(){super(...arguments),this.removePointerDownListener=Hs}onPointerDown(t){this.session=new oj(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rj(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:tx(t),onStart:tx(n),onMove:tx(i),onEnd:(o,l)=>{delete this.session,s&&Jt.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=gf(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let nx=!1;class ote extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=t;o&&(n.group&&n.group.add(o),i&&i.register&&s&&i.register(o),nx&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Tm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:o}=this.props,{projection:l}=i;return l&&(l.isPresent=o,t.layoutDependency!==n&&l.setOptions({...l.options,layoutDependency:n}),nx=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==o?l.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?l.promote():l.relegate()||Jt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),xw.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;nx=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function lj(e){const[t,n]=ZL(),i=x.useContext(J_);return y.jsx(ote,{...e,layoutGroup:i,switchLayoutGroup:x.useContext(ij),isPresent:t,safeToRemove:n})}const ate={pan:{Feature:rte},drag:{Feature:ste,ProjectionNode:YL,MeasureLayout:lj}};function VR(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=i[s];o&&Jt.postRender(()=>o(t,ph(t)))}class lte extends Fa{mount(){const{current:t}=this.node;t&&(this.unmount=PQ(t,(n,i)=>(VR(this.node,i,"Start"),s=>VR(this.node,s,"End"))))}unmount(){}}class cte extends Fa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=dh(Ff(this.node.current,"focus",()=>this.onFocus()),Ff(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $R(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=i[s];o&&Jt.postRender(()=>o(t,ph(t)))}class ute extends Fa{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:n,propagate:i}=this.node.props;this.unmount=zQ(t,(s,o)=>($R(this.node,o,"Start"),(l,{success:c})=>$R(this.node,l,c?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:i?.tap===!1})}unmount(){}}const R0=new WeakMap,ix=new WeakMap,dte=e=>{const t=R0.get(e.target);t&&t(e)},fte=e=>{e.forEach(dte)};function hte({root:e,...t}){const n=e||document;ix.has(n)||ix.set(n,{});const i=ix.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(fte,{root:e,...t})),i[s]}function pte(e,t,n){const i=hte(t);return R0.set(e,n),i.observe(e),()=>{R0.delete(e),i.unobserve(e)}}const mte={some:0,all:1};class gte extends Fa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:o}=t,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:mte[s]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),b=h?m:v;b&&b(d)};return pte(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(vte(t,n))&&this.startObserver()}unmount(){}}function vte({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const yte={inView:{Feature:gte},tap:{Feature:ute},focus:{Feature:cte},hover:{Feature:lte}},bte={layout:{ProjectionNode:YL,MeasureLayout:lj}},xte={...$ee,...yte,...ate,...bte},jt=zee(xte,Bee),cj=async(e,t)=>{try{const n=e.game_info?.seen_species??[],i=t(n),{data:s,error:o}=await Dn.from("users").update({game_info:{...e.game_info,seen_species:i}}).eq("id",e.id).select().single();return o?(console.error("Error updating seen_species:",o),null):s}catch(n){return console.error("Unexpected error updating seen_species:",n),null}},HR="Nova espcie favorita!",_te=async({user:e,speciesName:t,isFav:n})=>{const i=`Favoritou a espcie ${t}`,s=e.game_info.activities??[];let o;if(n)o=[{title:HR,description:i,date:new Date().toISOString()},...s];else{let d=!1;o=s.slice().reverse().filter(h=>!d&&h.title===HR&&h.description===i?(d=!0,!1):!0).reverse()}const{data:l,error:c}=await Dn.from("users").update({game_info:{...e.game_info,activities:o}}).eq("id",e.id).select().single();return c?(console.error("Error updating fav activity:",c),null):l},wte=()=>{const{t:e}=At(),t=Me(La),n=Me(Ye.expandedNodes).find(O=>O.rank==="SPECIES")?.key,i=t??n,{data:s,isLoading:o}=Bo({specieKey:i}),[l,c]=Gs(st.userDb),h=(l?.game_info?.seen_species??[]).find(O=>O.key===i),[m,v]=x.useState(h?.fav??!1),{data:b,isLoading:_}=AZ({specieName:(s?.canonicalName||s?.scientificName)??""}),{data:C,isLoading:E}=TZ(s?.canonicalName);x.useEffect(()=>{v(h?.fav??!1)},[h?.fav]);const T=async()=>{if(!l||i==null)return;const O=!m;v(O);const M=await cj(l,z=>{const I=[...z],$=I.findIndex(Y=>Y.key===i);return $!==-1?I[$]={...I[$],fav:O}:s&&I.push({key:i,date:new Date().toISOString(),fav:O}),I});if(!M)return;const j=s?.canonicalName??"",V=await _te({user:M,speciesName:j,isFav:O});c(V??M)};if(!s)return y.jsx("p",{className:"text-muted-foreground text-center",children:e("specieDetail.dataUnavailable")});if(o)return y.jsx(wD,{});const N=h9[s.class],k=[[e("specieDetail.kingdomLabel"),s.kingdom],[e("specieDetail.phylumLabel"),s.phylum],[e(N?"specieDetail.orderLabel":"specieDetail.classLabel"),s.class],[e("specieDetail.orderLabel"),N?void 0:s.order],[e("specieDetail.familyLabel"),s.family],[e("specieDetail.genusLabel"),s.genus]].filter(([,O])=>!!O);return y.jsxs("div",{className:"space-y-6",children:[y.jsx(jt.header,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"border-b pb-4",children:y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("h1",{className:"mb-1 text-3xl font-bold",children:s.canonicalName}),s.scientificName&&y.jsx("p",{className:"text-muted-foreground text-lg italic",children:s.scientificName})]}),l&&y.jsx(jt.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:T,className:"mt-1",children:y.jsx(Km,{className:`size-7 transition-all ${m?"fill-red-500 text-red-500":"text-muted-foreground hover:text-red-500"}`})})]})}),k.length>0&&y.jsxs(jt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-muted rounded-lg border p-4",children:[y.jsx("div",{className:"mb-3 flex items-center gap-2"}),y.jsx("dl",{className:"grid grid-cols-2 gap-3 text-sm [@container(min-width:1280px)]:grid-cols-3",children:k.map(([O,M])=>y.jsxs("div",{children:[y.jsxs("dt",{className:"font-semibold",children:[O,":"]}),y.jsx("dd",{className:"text-primary/87",children:M})]},O))})]}),y.jsx(jt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:_?y.jsx(bZ,{}):y.jsx(EZ,{statusCode:b})}),E?y.jsx(xZ,{}):C?.extract||C?.description?y.jsxs(jt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-3",children:[y.jsx("h3",{className:"flex items-center gap-2 text-xl font-semibold",children:e("specieDetail.descriptionTitle")}),y.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:C.extract||C.description})]}):null,(s.authorship||s.publishedIn)&&y.jsxs(jt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-3 border-t pt-4",children:[y.jsx("h3",{className:"text-lg font-semibold",children:e("specieDetail.nomenclatureTitle")}),y.jsxs("div",{className:"space-y-2 text-sm",children:[s.authorship&&y.jsxs("p",{className:"text-muted-foreground",children:[y.jsxs("strong",{className:"text-foreground",children:[e("specieDetail.author"),": "]}),s.authorship]}),s.publishedIn&&y.jsxs("p",{className:"text-muted-foreground",children:[y.jsxs("strong",{className:"text-foreground",children:[e("specieDetail.publishedIn"),": "]}),s.publishedIn]}),y.jsxs("p",{className:"text-muted-foreground",children:[y.jsxs("strong",{className:"text-foreground",children:[e("specieDetail.sources"),": "]}),"GBIF, Wikipedia"]})]})]})]})};function uj(e,t){const n=x.useRef(t);x.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const Ste=1;function Cte(e){return Object.freeze({__version:Ste,map:e})}function Ete(e,t){return Object.freeze({...e,...t})}const Nw=x.createContext(null);function Ow(){const e=x.use(Nw);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Ate(e){function t(n,i){const{instance:s,context:o}=e(n).current;x.useImperativeHandle(i,()=>s);const{children:l}=n;return l==null?null:Pt.createElement(Nw,{value:o},l)}return x.forwardRef(t)}function Tte(e){function t(n,i){const[s,o]=x.useState(!1),{instance:l}=e(n,o).current;x.useImperativeHandle(i,()=>l),x.useEffect(function(){s&&l.update()},[l,s,n.children]);const c=l._contentNode;return c?Ji.createPortal(n.children,c):null}return x.forwardRef(t)}function Rte(e){function t(n,i){const{instance:s}=e(n).current;return x.useImperativeHandle(i,()=>s),null}return x.forwardRef(t)}function dj(e,t){const n=x.useRef(void 0);x.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Pw(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function kte(e,t){return function(i,s){const o=Ow(),l=e(Pw(i,o),o);return uj(o.map,i.attribution),dj(l.current,i.eventHandlers),t(l.current,o,i,s),l}}var sf={exports:{}};var Nte=sf.exports,GR;function Ote(){return GR||(GR=1,(function(e,t){(function(n,i){i(t)})(Nte,(function(n){var i="1.9.4";function s(u){var p,w,R,P;for(w=1,R=arguments.length;w<R;w++){P=arguments[w];for(p in P)u[p]=P[p]}return u}var o=Object.create||(function(){function u(){}return function(p){return u.prototype=p,new u}})();function l(u,p){var w=Array.prototype.slice;if(u.bind)return u.bind.apply(u,w.call(arguments,1));var R=w.call(arguments,2);return function(){return u.apply(p,R.length?R.concat(w.call(arguments)):arguments)}}var c=0;function d(u){return"_leaflet_id"in u||(u._leaflet_id=++c),u._leaflet_id}function h(u,p,w){var R,P,B,Q;return Q=function(){R=!1,P&&(B.apply(w,P),P=!1)},B=function(){R?P=arguments:(u.apply(w,arguments),setTimeout(Q,p),R=!0)},B}function m(u,p,w){var R=p[1],P=p[0],B=R-P;return u===R&&w?u:((u-P)%B+B)%B+P}function v(){return!1}function b(u,p){if(p===!1)return u;var w=Math.pow(10,p===void 0?6:p);return Math.round(u*w)/w}function _(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function C(u){return _(u).split(/\s+/)}function E(u,p){Object.prototype.hasOwnProperty.call(u,"options")||(u.options=u.options?o(u.options):{});for(var w in p)u.options[w]=p[w];return u.options}function T(u,p,w){var R=[];for(var P in u)R.push(encodeURIComponent(w?P.toUpperCase():P)+"="+encodeURIComponent(u[P]));return(!p||p.indexOf("?")===-1?"?":"&")+R.join("&")}var N=/\{ *([\w_ -]+) *\}/g;function k(u,p){return u.replace(N,function(w,R){var P=p[R];if(P===void 0)throw new Error("No value provided for variable "+w);return typeof P=="function"&&(P=P(p)),P})}var O=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"};function M(u,p){for(var w=0;w<u.length;w++)if(u[w]===p)return w;return-1}var j="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function V(u){return window["webkit"+u]||window["moz"+u]||window["ms"+u]}var z=0;function I(u){var p=+new Date,w=Math.max(0,16-(p-z));return z=p+w,window.setTimeout(u,w)}var $=window.requestAnimationFrame||V("RequestAnimationFrame")||I,Y=window.cancelAnimationFrame||V("CancelAnimationFrame")||V("CancelRequestAnimationFrame")||function(u){window.clearTimeout(u)};function q(u,p,w){if(w&&$===I)u.call(p);else return $.call(window,l(u,p))}function W(u){u&&Y.call(window,u)}var Z={__proto__:null,extend:s,create:o,bind:l,get lastId(){return c},stamp:d,throttle:h,wrapNum:m,falseFn:v,formatNum:b,trim:_,splitWords:C,setOptions:E,getParamString:T,template:k,isArray:O,indexOf:M,emptyImageUrl:j,requestFn:$,cancelFn:Y,requestAnimFrame:q,cancelAnimFrame:W};function ie(){}ie.extend=function(u){var p=function(){E(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},w=p.__super__=this.prototype,R=o(w);R.constructor=p,p.prototype=R;for(var P in this)Object.prototype.hasOwnProperty.call(this,P)&&P!=="prototype"&&P!=="__super__"&&(p[P]=this[P]);return u.statics&&s(p,u.statics),u.includes&&(ye(u.includes),s.apply(null,[R].concat(u.includes))),s(R,u),delete R.statics,delete R.includes,R.options&&(R.options=w.options?o(w.options):{},s(R.options,u.options)),R._initHooks=[],R.callInitHooks=function(){if(!this._initHooksCalled){w.callInitHooks&&w.callInitHooks.call(this),this._initHooksCalled=!0;for(var B=0,Q=R._initHooks.length;B<Q;B++)R._initHooks[B].call(this)}},p},ie.include=function(u){var p=this.prototype.options;return s(this.prototype,u),u.options&&(this.prototype.options=p,this.mergeOptions(u.options)),this},ie.mergeOptions=function(u){return s(this.prototype.options,u),this},ie.addInitHook=function(u){var p=Array.prototype.slice.call(arguments,1),w=typeof u=="function"?u:function(){this[u].apply(this,p)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(w),this};function ye(u){if(!(typeof L>"u"||!L||!L.Mixin)){u=O(u)?u:[u];for(var p=0;p<u.length;p++)u[p]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var G={on:function(u,p,w){if(typeof u=="object")for(var R in u)this._on(R,u[R],p);else{u=C(u);for(var P=0,B=u.length;P<B;P++)this._on(u[P],p,w)}return this},off:function(u,p,w){if(!arguments.length)delete this._events;else if(typeof u=="object")for(var R in u)this._off(R,u[R],p);else{u=C(u);for(var P=arguments.length===1,B=0,Q=u.length;B<Q;B++)P?this._off(u[B]):this._off(u[B],p,w)}return this},_on:function(u,p,w,R){if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}if(this._listens(u,p,w)===!1){w===this&&(w=void 0);var P={fn:p,ctx:w};R&&(P.once=!0),this._events=this._events||{},this._events[u]=this._events[u]||[],this._events[u].push(P)}},_off:function(u,p,w){var R,P,B;if(this._events&&(R=this._events[u],!!R)){if(arguments.length===1){if(this._firingCount)for(P=0,B=R.length;P<B;P++)R[P].fn=v;delete this._events[u];return}if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}var Q=this._listens(u,p,w);if(Q!==!1){var ue=R[Q];this._firingCount&&(ue.fn=v,this._events[u]=R=R.slice()),R.splice(Q,1)}}},fire:function(u,p,w){if(!this.listens(u,w))return this;var R=s({},p,{type:u,target:this,sourceTarget:p&&p.sourceTarget||this});if(this._events){var P=this._events[u];if(P){this._firingCount=this._firingCount+1||1;for(var B=0,Q=P.length;B<Q;B++){var ue=P[B],pe=ue.fn;ue.once&&this.off(u,pe,ue.ctx),pe.call(ue.ctx||this,R)}this._firingCount--}}return w&&this._propagateEvent(R),this},listens:function(u,p,w,R){typeof u!="string"&&console.warn('"string" type argument expected');var P=p;typeof p!="function"&&(R=!!p,P=void 0,w=void 0);var B=this._events&&this._events[u];if(B&&B.length&&this._listens(u,P,w)!==!1)return!0;if(R){for(var Q in this._eventParents)if(this._eventParents[Q].listens(u,p,w,R))return!0}return!1},_listens:function(u,p,w){if(!this._events)return!1;var R=this._events[u]||[];if(!p)return!!R.length;w===this&&(w=void 0);for(var P=0,B=R.length;P<B;P++)if(R[P].fn===p&&R[P].ctx===w)return P;return!1},once:function(u,p,w){if(typeof u=="object")for(var R in u)this._on(R,u[R],p,!0);else{u=C(u);for(var P=0,B=u.length;P<B;P++)this._on(u[P],p,w,!0)}return this},addEventParent:function(u){return this._eventParents=this._eventParents||{},this._eventParents[d(u)]=u,this},removeEventParent:function(u){return this._eventParents&&delete this._eventParents[d(u)],this},_propagateEvent:function(u){for(var p in this._eventParents)this._eventParents[p].fire(u.type,s({layer:u.target,propagatedFrom:u.target},u),!0)}};G.addEventListener=G.on,G.removeEventListener=G.clearAllEventListeners=G.off,G.addOneTimeEventListener=G.once,G.fireEvent=G.fire,G.hasEventListeners=G.listens;var X=ie.extend(G);function ne(u,p,w){this.x=w?Math.round(u):u,this.y=w?Math.round(p):p}var de=Math.trunc||function(u){return u>0?Math.floor(u):Math.ceil(u)};ne.prototype={clone:function(){return new ne(this.x,this.y)},add:function(u){return this.clone()._add(ae(u))},_add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.clone()._subtract(ae(u))},_subtract:function(u){return this.x-=u.x,this.y-=u.y,this},divideBy:function(u){return this.clone()._divideBy(u)},_divideBy:function(u){return this.x/=u,this.y/=u,this},multiplyBy:function(u){return this.clone()._multiplyBy(u)},_multiplyBy:function(u){return this.x*=u,this.y*=u,this},scaleBy:function(u){return new ne(this.x*u.x,this.y*u.y)},unscaleBy:function(u){return new ne(this.x/u.x,this.y/u.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=de(this.x),this.y=de(this.y),this},distanceTo:function(u){u=ae(u);var p=u.x-this.x,w=u.y-this.y;return Math.sqrt(p*p+w*w)},equals:function(u){return u=ae(u),u.x===this.x&&u.y===this.y},contains:function(u){return u=ae(u),Math.abs(u.x)<=Math.abs(this.x)&&Math.abs(u.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function ae(u,p,w){return u instanceof ne?u:O(u)?new ne(u[0],u[1]):u==null?u:typeof u=="object"&&"x"in u&&"y"in u?new ne(u.x,u.y):new ne(u,p,w)}function K(u,p){if(u)for(var w=p?[u,p]:u,R=0,P=w.length;R<P;R++)this.extend(w[R])}K.prototype={extend:function(u){var p,w;if(!u)return this;if(u instanceof ne||typeof u[0]=="number"||"x"in u)p=w=ae(u);else if(u=oe(u),p=u.min,w=u.max,!p||!w)return this;return!this.min&&!this.max?(this.min=p.clone(),this.max=w.clone()):(this.min.x=Math.min(p.x,this.min.x),this.max.x=Math.max(w.x,this.max.x),this.min.y=Math.min(p.y,this.min.y),this.max.y=Math.max(w.y,this.max.y)),this},getCenter:function(u){return ae((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,u)},getBottomLeft:function(){return ae(this.min.x,this.max.y)},getTopRight:function(){return ae(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(u){var p,w;return typeof u[0]=="number"||u instanceof ne?u=ae(u):u=oe(u),u instanceof K?(p=u.min,w=u.max):p=w=u,p.x>=this.min.x&&w.x<=this.max.x&&p.y>=this.min.y&&w.y<=this.max.y},intersects:function(u){u=oe(u);var p=this.min,w=this.max,R=u.min,P=u.max,B=P.x>=p.x&&R.x<=w.x,Q=P.y>=p.y&&R.y<=w.y;return B&&Q},overlaps:function(u){u=oe(u);var p=this.min,w=this.max,R=u.min,P=u.max,B=P.x>p.x&&R.x<w.x,Q=P.y>p.y&&R.y<w.y;return B&&Q},isValid:function(){return!!(this.min&&this.max)},pad:function(u){var p=this.min,w=this.max,R=Math.abs(p.x-w.x)*u,P=Math.abs(p.y-w.y)*u;return oe(ae(p.x-R,p.y-P),ae(w.x+R,w.y+P))},equals:function(u){return u?(u=oe(u),this.min.equals(u.getTopLeft())&&this.max.equals(u.getBottomRight())):!1}};function oe(u,p){return!u||u instanceof K?u:new K(u,p)}function be(u,p){if(u)for(var w=p?[u,p]:u,R=0,P=w.length;R<P;R++)this.extend(w[R])}be.prototype={extend:function(u){var p=this._southWest,w=this._northEast,R,P;if(u instanceof Re)R=u,P=u;else if(u instanceof be){if(R=u._southWest,P=u._northEast,!R||!P)return this}else return u?this.extend(we(u)||xe(u)):this;return!p&&!w?(this._southWest=new Re(R.lat,R.lng),this._northEast=new Re(P.lat,P.lng)):(p.lat=Math.min(R.lat,p.lat),p.lng=Math.min(R.lng,p.lng),w.lat=Math.max(P.lat,w.lat),w.lng=Math.max(P.lng,w.lng)),this},pad:function(u){var p=this._southWest,w=this._northEast,R=Math.abs(p.lat-w.lat)*u,P=Math.abs(p.lng-w.lng)*u;return new be(new Re(p.lat-R,p.lng-P),new Re(w.lat+R,w.lng+P))},getCenter:function(){return new Re((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Re(this.getNorth(),this.getWest())},getSouthEast:function(){return new Re(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(u){typeof u[0]=="number"||u instanceof Re||"lat"in u?u=we(u):u=xe(u);var p=this._southWest,w=this._northEast,R,P;return u instanceof be?(R=u.getSouthWest(),P=u.getNorthEast()):R=P=u,R.lat>=p.lat&&P.lat<=w.lat&&R.lng>=p.lng&&P.lng<=w.lng},intersects:function(u){u=xe(u);var p=this._southWest,w=this._northEast,R=u.getSouthWest(),P=u.getNorthEast(),B=P.lat>=p.lat&&R.lat<=w.lat,Q=P.lng>=p.lng&&R.lng<=w.lng;return B&&Q},overlaps:function(u){u=xe(u);var p=this._southWest,w=this._northEast,R=u.getSouthWest(),P=u.getNorthEast(),B=P.lat>p.lat&&R.lat<w.lat,Q=P.lng>p.lng&&R.lng<w.lng;return B&&Q},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(u,p){return u?(u=xe(u),this._southWest.equals(u.getSouthWest(),p)&&this._northEast.equals(u.getNorthEast(),p)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function xe(u,p){return u instanceof be?u:new be(u,p)}function Re(u,p,w){if(isNaN(u)||isNaN(p))throw new Error("Invalid LatLng object: ("+u+", "+p+")");this.lat=+u,this.lng=+p,w!==void 0&&(this.alt=+w)}Re.prototype={equals:function(u,p){if(!u)return!1;u=we(u);var w=Math.max(Math.abs(this.lat-u.lat),Math.abs(this.lng-u.lng));return w<=(p===void 0?1e-9:p)},toString:function(u){return"LatLng("+b(this.lat,u)+", "+b(this.lng,u)+")"},distanceTo:function(u){return je.distance(this,we(u))},wrap:function(){return je.wrapLatLng(this)},toBounds:function(u){var p=180*u/40075017,w=p/Math.cos(Math.PI/180*this.lat);return xe([this.lat-p,this.lng-w],[this.lat+p,this.lng+w])},clone:function(){return new Re(this.lat,this.lng,this.alt)}};function we(u,p,w){return u instanceof Re?u:O(u)&&typeof u[0]!="object"?u.length===3?new Re(u[0],u[1],u[2]):u.length===2?new Re(u[0],u[1]):null:u==null?u:typeof u=="object"&&"lat"in u?new Re(u.lat,"lng"in u?u.lng:u.lon,u.alt):p===void 0?null:new Re(u,p,w)}var Se={latLngToPoint:function(u,p){var w=this.projection.project(u),R=this.scale(p);return this.transformation._transform(w,R)},pointToLatLng:function(u,p){var w=this.scale(p),R=this.transformation.untransform(u,w);return this.projection.unproject(R)},project:function(u){return this.projection.project(u)},unproject:function(u){return this.projection.unproject(u)},scale:function(u){return 256*Math.pow(2,u)},zoom:function(u){return Math.log(u/256)/Math.LN2},getProjectedBounds:function(u){if(this.infinite)return null;var p=this.projection.bounds,w=this.scale(u),R=this.transformation.transform(p.min,w),P=this.transformation.transform(p.max,w);return new K(R,P)},infinite:!1,wrapLatLng:function(u){var p=this.wrapLng?m(u.lng,this.wrapLng,!0):u.lng,w=this.wrapLat?m(u.lat,this.wrapLat,!0):u.lat,R=u.alt;return new Re(w,p,R)},wrapLatLngBounds:function(u){var p=u.getCenter(),w=this.wrapLatLng(p),R=p.lat-w.lat,P=p.lng-w.lng;if(R===0&&P===0)return u;var B=u.getSouthWest(),Q=u.getNorthEast(),ue=new Re(B.lat-R,B.lng-P),pe=new Re(Q.lat-R,Q.lng-P);return new be(ue,pe)}},je=s({},Se,{wrapLng:[-180,180],R:6371e3,distance:function(u,p){var w=Math.PI/180,R=u.lat*w,P=p.lat*w,B=Math.sin((p.lat-u.lat)*w/2),Q=Math.sin((p.lng-u.lng)*w/2),ue=B*B+Math.cos(R)*Math.cos(P)*Q*Q,pe=2*Math.atan2(Math.sqrt(ue),Math.sqrt(1-ue));return this.R*pe}}),De=6378137,Le={R:De,MAX_LATITUDE:85.0511287798,project:function(u){var p=Math.PI/180,w=this.MAX_LATITUDE,R=Math.max(Math.min(w,u.lat),-w),P=Math.sin(R*p);return new ne(this.R*u.lng*p,this.R*Math.log((1+P)/(1-P))/2)},unproject:function(u){var p=180/Math.PI;return new Re((2*Math.atan(Math.exp(u.y/this.R))-Math.PI/2)*p,u.x*p/this.R)},bounds:(function(){var u=De*Math.PI;return new K([-u,-u],[u,u])})()};function Ze(u,p,w,R){if(O(u)){this._a=u[0],this._b=u[1],this._c=u[2],this._d=u[3];return}this._a=u,this._b=p,this._c=w,this._d=R}Ze.prototype={transform:function(u,p){return this._transform(u.clone(),p)},_transform:function(u,p){return p=p||1,u.x=p*(this._a*u.x+this._b),u.y=p*(this._c*u.y+this._d),u},untransform:function(u,p){return p=p||1,new ne((u.x/p-this._b)/this._a,(u.y/p-this._d)/this._c)}};function Xe(u,p,w,R){return new Ze(u,p,w,R)}var Ct=s({},je,{code:"EPSG:3857",projection:Le,transformation:(function(){var u=.5/(Math.PI*Le.R);return Xe(u,.5,-u,.5)})()}),yt=s({},Ct,{code:"EPSG:900913"});function zt(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}function dn(u,p){var w="",R,P,B,Q,ue,pe;for(R=0,B=u.length;R<B;R++){for(ue=u[R],P=0,Q=ue.length;P<Q;P++)pe=ue[P],w+=(P?"L":"M")+pe.x+" "+pe.y;w+=p?ze.svg?"z":"x":""}return w||"M0 0"}var fn=document.documentElement.style,In="ActiveXObject"in window,_n=In&&!document.addEventListener,wn="msLaunchUri"in navigator&&!("documentMode"in document),Kn=an("webkit"),Ti=an("android"),Es=an("android 2")||an("android 3"),sn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Sr=Ti&&an("Google")&&sn<537&&!("AudioNode"in window),bt=!!window.opera,Tt=!wn&&an("chrome"),Bt=an("gecko")&&!Kn&&!bt&&!In,Ri=!Tt&&an("safari"),Ws=an("phantom"),vi="OTransition"in fn,Jr=navigator.platform.indexOf("Win")===0,ts=In&&"transition"in fn,rn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Es,si="MozPerspective"in fn,En=!window.L_DISABLE_3D&&(ts||rn||si)&&!vi&&!Ws,ns=typeof orientation<"u"||an("mobile"),eo=ns&&Kn,Ha=ns&&rn,qn=!window.PointerEvent&&window.MSPointerEvent,Ys=!!(window.PointerEvent||qn),Yt="ontouchstart"in window||!!window.TouchEvent,Zt=!window.L_NO_TOUCH&&(Yt||Ys),hn=ns&&bt,Wn=ns&&Bt,Yn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,An=(function(){var u=!1;try{var p=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassiveEventSupport",v,p),window.removeEventListener("testPassiveEventSupport",v,p)}catch{}return u})(),Zn=(function(){return!!document.createElement("canvas").getContext})(),Xn=!!(document.createElementNS&&zt("svg").createSVGRect),on=!!Xn&&(function(){var u=document.createElement("div");return u.innerHTML="<svg/>",(u.firstChild&&u.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),ki=!Xn&&(function(){try{var u=document.createElement("div");u.innerHTML='<v:shape adj="1"/>';var p=u.firstChild;return p.style.behavior="url(#default#VML)",p&&typeof p.adj=="object"}catch{return!1}})(),ri=navigator.platform.indexOf("Mac")===0,yi=navigator.platform.indexOf("Linux")===0;function an(u){return navigator.userAgent.toLowerCase().indexOf(u)>=0}var ze={ie:In,ielt9:_n,edge:wn,webkit:Kn,android:Ti,android23:Es,androidStock:Sr,opera:bt,chrome:Tt,gecko:Bt,safari:Ri,phantom:Ws,opera12:vi,win:Jr,ie3d:ts,webkit3d:rn,gecko3d:si,any3d:En,mobile:ns,mobileWebkit:eo,mobileWebkit3d:Ha,msPointer:qn,pointer:Ys,touch:Zt,touchNative:Yt,mobileOpera:hn,mobileGecko:Wn,retina:Yn,passiveEvents:An,canvas:Zn,svg:Xn,vml:ki,inlineSvg:on,mac:ri,linux:yi},bi=ze.msPointer?"MSPointerDown":"pointerdown",is=ze.msPointer?"MSPointerMove":"pointermove",oi=ze.msPointer?"MSPointerUp":"pointerup",pn=ze.msPointer?"MSPointerCancel":"pointercancel",Tn={touchstart:bi,touchmove:is,touchend:oi,touchcancel:pn},Zs={touchstart:zi,touchmove:ss,touchend:ss,touchcancel:ss},As={},rc=!1;function Wu(u,p,w){return p==="touchstart"&&Cr(),Zs[p]?(w=Zs[p].bind(this,w),u.addEventListener(Tn[p],w,!1),w):(console.warn("wrong event specified:",p),v)}function oc(u,p,w){if(!Tn[p]){console.warn("wrong event specified:",p);return}u.removeEventListener(Tn[p],w,!1)}function to(u){As[u.pointerId]=u}function Ga(u){As[u.pointerId]&&(As[u.pointerId]=u)}function Xs(u){delete As[u.pointerId]}function Cr(){rc||(document.addEventListener(bi,to,!0),document.addEventListener(is,Ga,!0),document.addEventListener(oi,Xs,!0),document.addEventListener(pn,Xs,!0),rc=!0)}function ss(u,p){if(p.pointerType!==(p.MSPOINTER_TYPE_MOUSE||"mouse")){p.touches=[];for(var w in As)p.touches.push(As[w]);p.changedTouches=[p],u(p)}}function zi(u,p){p.MSPOINTER_TYPE_TOUCH&&p.pointerType===p.MSPOINTER_TYPE_TOUCH&&mn(p),ss(u,p)}function ln(u){var p={},w,R;for(R in u)w=u[R],p[R]=w&&w.bind?w.bind(u):w;return u=p,p.type="dblclick",p.detail=2,p.isTrusted=!1,p._simulated=!0,p}var Qs=200;function ac(u,p){u.addEventListener("dblclick",p);var w=0,R;function P(B){if(B.detail!==1){R=B.detail;return}if(!(B.pointerType==="mouse"||B.sourceCapabilities&&!B.sourceCapabilities.firesTouchEvents)){var Q=Ya(B);if(!(Q.some(function(pe){return pe instanceof HTMLLabelElement&&pe.attributes.for})&&!Q.some(function(pe){return pe instanceof HTMLInputElement||pe instanceof HTMLSelectElement}))){var ue=Date.now();ue-w<=Qs?(R++,R===2&&p(ln(B))):R=1,w=ue}}}return u.addEventListener("click",P),{dblclick:p,simDblclick:P}}function Bi(u,p){u.removeEventListener("dblclick",p.dblclick),u.removeEventListener("click",p.simDblclick)}var Ui=Be(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),no=Be(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ka=no==="webkitTransition"||no==="OTransition"?no+"End":"transitionend";function io(u){return typeof u=="string"?document.getElementById(u):u}function so(u,p){var w=u.style[p]||u.currentStyle&&u.currentStyle[p];if((!w||w==="auto")&&document.defaultView){var R=document.defaultView.getComputedStyle(u,null);w=R?R[p]:null}return w==="auto"?null:w}function ft(u,p,w){var R=document.createElement(u);return R.className=p||"",w&&w.appendChild(R),R}function U(u){var p=u.parentNode;p&&p.removeChild(u)}function ee(u){for(;u.firstChild;)u.removeChild(u.firstChild)}function H(u){var p=u.parentNode;p&&p.lastChild!==u&&p.appendChild(u)}function re(u){var p=u.parentNode;p&&p.firstChild!==u&&p.insertBefore(u,p.firstChild)}function le(u,p){if(u.classList!==void 0)return u.classList.contains(p);var w=Ne(u);return w.length>0&&new RegExp("(^|\\s)"+p+"(\\s|$)").test(w)}function J(u,p){if(u.classList!==void 0)for(var w=C(p),R=0,P=w.length;R<P;R++)u.classList.add(w[R]);else if(!le(u,p)){var B=Ne(u);ke(u,(B?B+" ":"")+p)}}function ge(u,p){u.classList!==void 0?u.classList.remove(p):ke(u,_((" "+Ne(u)+" ").replace(" "+p+" "," ")))}function ke(u,p){u.className.baseVal===void 0?u.className=p:u.className.baseVal=p}function Ne(u){return u.correspondingElement&&(u=u.correspondingElement),u.className.baseVal===void 0?u.className:u.className.baseVal}function Ee(u,p){"opacity"in u.style?u.style.opacity=p:"filter"in u.style&&Oe(u,p)}function Oe(u,p){var w=!1,R="DXImageTransform.Microsoft.Alpha";try{w=u.filters.item(R)}catch{if(p===1)return}p=Math.round(p*100),w?(w.Enabled=p!==100,w.Opacity=p):u.style.filter+=" progid:"+R+"(opacity="+p+")"}function Be(u){for(var p=document.documentElement.style,w=0;w<u.length;w++)if(u[w]in p)return u[w];return!1}function et(u,p,w){var R=p||new ne(0,0);u.style[Ui]=(ze.ie3d?"translate("+R.x+"px,"+R.y+"px)":"translate3d("+R.x+"px,"+R.y+"px,0)")+(w?" scale("+w+")":"")}function qe(u,p){u._leaflet_pos=p,ze.any3d?et(u,p):(u.style.left=p.x+"px",u.style.top=p.y+"px")}function dt(u){return u._leaflet_pos||new ne(0,0)}var Ut,Et,Qn;if("onselectstart"in document)Ut=function(){nt(window,"selectstart",mn)},Et=function(){It(window,"selectstart",mn)};else{var Fi=Be(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ut=function(){if(Fi){var u=document.documentElement.style;Qn=u[Fi],u[Fi]="none"}},Et=function(){Fi&&(document.documentElement.style[Fi]=Qn,Qn=void 0)}}function Er(){nt(window,"dragstart",mn)}function ro(){It(window,"dragstart",mn)}var Ar,lc;function Tr(u){for(;u.tabIndex===-1;)u=u.parentNode;u.style&&(xi(),Ar=u,lc=u.style.outlineStyle,u.style.outlineStyle="none",nt(window,"keydown",xi))}function xi(){Ar&&(Ar.style.outlineStyle=lc,Ar=void 0,lc=void 0,It(window,"keydown",xi))}function oo(u){do u=u.parentNode;while((!u.offsetWidth||!u.offsetHeight)&&u!==document.body);return u}function qa(u){var p=u.getBoundingClientRect();return{x:p.width/u.offsetWidth||1,y:p.height/u.offsetHeight||1,boundingClientRect:p}}var Uo={__proto__:null,TRANSFORM:Ui,TRANSITION:no,TRANSITION_END:Ka,get:io,getStyle:so,create:ft,remove:U,empty:ee,toFront:H,toBack:re,hasClass:le,addClass:J,removeClass:ge,setClass:ke,getClass:Ne,setOpacity:Ee,testProp:Be,setTransform:et,setPosition:qe,getPosition:dt,get disableTextSelection(){return Ut},get enableTextSelection(){return Et},disableImageDrag:Er,enableImageDrag:ro,preventOutline:Tr,restoreOutline:xi,getSizedParentNode:oo,getScale:qa};function nt(u,p,w,R){if(p&&typeof p=="object")for(var P in p)os(u,P,p[P],w);else{p=C(p);for(var B=0,Q=p.length;B<Q;B++)os(u,p[B],w,R)}return this}var rs="_leaflet_events";function It(u,p,w,R){if(arguments.length===1)Yu(u),delete u[rs];else if(p&&typeof p=="object")for(var P in p)Wa(u,P,p[P],w);else if(p=C(p),arguments.length===2)Yu(u,function(ue){return M(p,ue)!==-1});else for(var B=0,Q=p.length;B<Q;B++)Wa(u,p[B],w,R);return this}function Yu(u,p){for(var w in u[rs]){var R=w.split(/\d/)[0];(!p||p(R))&&Wa(u,R,null,null,w)}}var ao={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function os(u,p,w,R){var P=p+d(w)+(R?"_"+d(R):"");if(u[rs]&&u[rs][P])return this;var B=function(ue){return w.call(R||u,ue||window.event)},Q=B;!ze.touchNative&&ze.pointer&&p.indexOf("touch")===0?B=Wu(u,p,B):ze.touch&&p==="dblclick"?B=ac(u,B):"addEventListener"in u?p==="touchstart"||p==="touchmove"||p==="wheel"||p==="mousewheel"?u.addEventListener(ao[p]||p,B,ze.passiveEvents?{passive:!1}:!1):p==="mouseenter"||p==="mouseleave"?(B=function(ue){ue=ue||window.event,Js(u,ue)&&Q(ue)},u.addEventListener(ao[p],B,!1)):u.addEventListener(p,Q,!1):u.attachEvent("on"+p,B),u[rs]=u[rs]||{},u[rs][P]=B}function Wa(u,p,w,R,P){P=P||p+d(w)+(R?"_"+d(R):"");var B=u[rs]&&u[rs][P];if(!B)return this;!ze.touchNative&&ze.pointer&&p.indexOf("touch")===0?oc(u,p,B):ze.touch&&p==="dblclick"?Bi(u,B):"removeEventListener"in u?u.removeEventListener(ao[p]||p,B,!1):u.detachEvent("on"+p,B),u[rs][P]=null}function as(u){return u.stopPropagation?u.stopPropagation():u.originalEvent?u.originalEvent._stopped=!0:u.cancelBubble=!0,this}function Ts(u){return os(u,"wheel",as),this}function lo(u){return nt(u,"mousedown touchstart dblclick contextmenu",as),u._leaflet_disable_click=!0,this}function mn(u){return u.preventDefault?u.preventDefault():u.returnValue=!1,this}function Rr(u){return mn(u),as(u),this}function Ya(u){if(u.composedPath)return u.composedPath();for(var p=[],w=u.target;w;)p.push(w),w=w.parentNode;return p}function Za(u,p){if(!p)return new ne(u.clientX,u.clientY);var w=qa(p),R=w.boundingClientRect;return new ne((u.clientX-R.left)/w.x-p.clientLeft,(u.clientY-R.top)/w.y-p.clientTop)}var _h=ze.linux&&ze.chrome?window.devicePixelRatio:ze.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ai(u){return ze.edge?u.wheelDeltaY/2:u.deltaY&&u.deltaMode===0?-u.deltaY/_h:u.deltaY&&u.deltaMode===1?-u.deltaY*20:u.deltaY&&u.deltaMode===2?-u.deltaY*60:u.deltaX||u.deltaZ?0:u.wheelDelta?(u.wheelDeltaY||u.wheelDelta)/2:u.detail&&Math.abs(u.detail)<32765?-u.detail*20:u.detail?u.detail/-32765*60:0}function Js(u,p){var w=p.relatedTarget;if(!w)return!0;try{for(;w&&w!==u;)w=w.parentNode}catch{return!1}return w!==u}var cc={__proto__:null,on:nt,off:It,stopPropagation:as,disableScrollPropagation:Ts,disableClickPropagation:lo,preventDefault:mn,stop:Rr,getPropagationPath:Ya,getMousePosition:Za,getWheelDelta:ai,isExternalTarget:Js,addListener:nt,removeListener:It},Fo=X.extend({run:function(u,p,w,R){this.stop(),this._el=u,this._inProgress=!0,this._duration=w||.25,this._easeOutPower=1/Math.max(R||.5,.2),this._startPos=dt(u),this._offset=p.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=q(this._animate,this),this._step()},_step:function(u){var p=+new Date-this._startTime,w=this._duration*1e3;p<w?this._runFrame(this._easeOut(p/w),u):(this._runFrame(1),this._complete())},_runFrame:function(u,p){var w=this._startPos.add(this._offset.multiplyBy(u));p&&w._round(),qe(this._el,w),this.fire("step")},_complete:function(){W(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(u){return 1-Math.pow(1-u,this._easeOutPower)}}),xt=X.extend({options:{crs:Ct,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(u,p){p=E(this,p),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(u),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),p.maxBounds&&this.setMaxBounds(p.maxBounds),p.zoom!==void 0&&(this._zoom=this._limitZoom(p.zoom)),p.center&&p.zoom!==void 0&&this.setView(we(p.center),p.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=no&&ze.any3d&&!ze.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),nt(this._proxy,Ka,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(u,p,w){if(p=p===void 0?this._zoom:this._limitZoom(p),u=this._limitCenter(we(u),p,this.options.maxBounds),w=w||{},this._stop(),this._loaded&&!w.reset&&w!==!0){w.animate!==void 0&&(w.zoom=s({animate:w.animate},w.zoom),w.pan=s({animate:w.animate,duration:w.duration},w.pan));var R=this._zoom!==p?this._tryAnimatedZoom&&this._tryAnimatedZoom(u,p,w.zoom):this._tryAnimatedPan(u,w.pan);if(R)return clearTimeout(this._sizeTimer),this}return this._resetView(u,p,w.pan&&w.pan.noMoveStart),this},setZoom:function(u,p){return this._loaded?this.setView(this.getCenter(),u,{zoom:p}):(this._zoom=u,this)},zoomIn:function(u,p){return u=u||(ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+u,p)},zoomOut:function(u,p){return u=u||(ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-u,p)},setZoomAround:function(u,p,w){var R=this.getZoomScale(p),P=this.getSize().divideBy(2),B=u instanceof ne?u:this.latLngToContainerPoint(u),Q=B.subtract(P).multiplyBy(1-1/R),ue=this.containerPointToLatLng(P.add(Q));return this.setView(ue,p,{zoom:w})},_getBoundsCenterZoom:function(u,p){p=p||{},u=u.getBounds?u.getBounds():xe(u);var w=ae(p.paddingTopLeft||p.padding||[0,0]),R=ae(p.paddingBottomRight||p.padding||[0,0]),P=this.getBoundsZoom(u,!1,w.add(R));if(P=typeof p.maxZoom=="number"?Math.min(p.maxZoom,P):P,P===1/0)return{center:u.getCenter(),zoom:P};var B=R.subtract(w).divideBy(2),Q=this.project(u.getSouthWest(),P),ue=this.project(u.getNorthEast(),P),pe=this.unproject(Q.add(ue).divideBy(2).add(B),P);return{center:pe,zoom:P}},fitBounds:function(u,p){if(u=xe(u),!u.isValid())throw new Error("Bounds are not valid.");var w=this._getBoundsCenterZoom(u,p);return this.setView(w.center,w.zoom,p)},fitWorld:function(u){return this.fitBounds([[-90,-180],[90,180]],u)},panTo:function(u,p){return this.setView(u,this._zoom,{pan:p})},panBy:function(u,p){if(u=ae(u).round(),p=p||{},!u.x&&!u.y)return this.fire("moveend");if(p.animate!==!0&&!this.getSize().contains(u))return this._resetView(this.unproject(this.project(this.getCenter()).add(u)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Fo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),p.noMoveStart||this.fire("movestart"),p.animate!==!1){J(this._mapPane,"leaflet-pan-anim");var w=this._getMapPanePos().subtract(u).round();this._panAnim.run(this._mapPane,w,p.duration||.25,p.easeLinearity)}else this._rawPanBy(u),this.fire("move").fire("moveend");return this},flyTo:function(u,p,w){if(w=w||{},w.animate===!1||!ze.any3d)return this.setView(u,p,w);this._stop();var R=this.project(this.getCenter()),P=this.project(u),B=this.getSize(),Q=this._zoom;u=we(u),p=p===void 0?Q:p;var ue=Math.max(B.x,B.y),pe=ue*this.getZoomScale(Q,p),Ae=P.distanceTo(R)||1,Pe=1.42,Ge=Pe*Pe;function ct(cn){var ir=cn?-1:1,ho=cn?pe:ue,ud=pe*pe-ue*ue+ir*Ge*Ge*Ae*Ae,fl=2*ho*Ge*Ae,hl=ud/fl,Ir=Math.sqrt(hl*hl+1)-hl,sr=Ir<1e-9?-18:Math.log(Ir);return sr}function zn(cn){return(Math.exp(cn)-Math.exp(-cn))/2}function gn(cn){return(Math.exp(cn)+Math.exp(-cn))/2}function Oi(cn){return zn(cn)/gn(cn)}var Rt=ct(0);function kt(cn){return ue*(gn(Rt)/gn(Rt+Pe*cn))}function mt(cn){return ue*(gn(Rt)*Oi(Rt+Pe*cn)-zn(Rt))/Ge}function Lr(cn){return 1-Math.pow(1-cn,1.5)}var Gi=Date.now(),Sc=(ct(1)-Rt)/Pe,jr=w.duration?1e3*w.duration:1e3*Sc*.8;function cd(){var cn=(Date.now()-Gi)/jr,ir=Lr(cn)*Sc;cn<=1?(this._flyToFrame=q(cd,this),this._move(this.unproject(R.add(P.subtract(R).multiplyBy(mt(ir)/Ae)),Q),this.getScaleZoom(ue/kt(ir),Q),{flyTo:!0})):this._move(u,p)._moveEnd(!0)}return this._moveStart(!0,w.noMoveStart),cd.call(this),this},flyToBounds:function(u,p){var w=this._getBoundsCenterZoom(u,p);return this.flyTo(w.center,w.zoom,p)},setMaxBounds:function(u){return u=xe(u),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),u.isValid()?(this.options.maxBounds=u,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(u){var p=this.options.minZoom;return this.options.minZoom=u,this._loaded&&p!==u&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(u):this},setMaxZoom:function(u){var p=this.options.maxZoom;return this.options.maxZoom=u,this._loaded&&p!==u&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(u):this},panInsideBounds:function(u,p){this._enforcingBounds=!0;var w=this.getCenter(),R=this._limitCenter(w,this._zoom,xe(u));return w.equals(R)||this.panTo(R,p),this._enforcingBounds=!1,this},panInside:function(u,p){p=p||{};var w=ae(p.paddingTopLeft||p.padding||[0,0]),R=ae(p.paddingBottomRight||p.padding||[0,0]),P=this.project(this.getCenter()),B=this.project(u),Q=this.getPixelBounds(),ue=oe([Q.min.add(w),Q.max.subtract(R)]),pe=ue.getSize();if(!ue.contains(B)){this._enforcingBounds=!0;var Ae=B.subtract(ue.getCenter()),Pe=ue.extend(B).getSize().subtract(pe);P.x+=Ae.x<0?-Pe.x:Pe.x,P.y+=Ae.y<0?-Pe.y:Pe.y,this.panTo(this.unproject(P),p),this._enforcingBounds=!1}return this},invalidateSize:function(u){if(!this._loaded)return this;u=s({animate:!1,pan:!0},u===!0?{animate:!0}:u);var p=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var w=this.getSize(),R=p.divideBy(2).round(),P=w.divideBy(2).round(),B=R.subtract(P);return!B.x&&!B.y?this:(u.animate&&u.pan?this.panBy(B):(u.pan&&this._rawPanBy(B),this.fire("move"),u.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:p,newSize:w}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(u){if(u=this._locateOptions=s({timeout:1e4,watch:!1},u),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var p=l(this._handleGeolocationResponse,this),w=l(this._handleGeolocationError,this);return u.watch?this._locationWatchId=navigator.geolocation.watchPosition(p,w,u):navigator.geolocation.getCurrentPosition(p,w,u),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(u){if(this._container._leaflet_id){var p=u.code,w=u.message||(p===1?"permission denied":p===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:p,message:"Geolocation error: "+w+"."})}},_handleGeolocationResponse:function(u){if(this._container._leaflet_id){var p=u.coords.latitude,w=u.coords.longitude,R=new Re(p,w),P=R.toBounds(u.coords.accuracy*2),B=this._locateOptions;if(B.setView){var Q=this.getBoundsZoom(P);this.setView(R,B.maxZoom?Math.min(Q,B.maxZoom):Q)}var ue={latlng:R,bounds:P,timestamp:u.timestamp};for(var pe in u.coords)typeof u.coords[pe]=="number"&&(ue[pe]=u.coords[pe]);this.fire("locationfound",ue)}},addHandler:function(u,p){if(!p)return this;var w=this[u]=new p(this);return this._handlers.push(w),this.options[u]&&w.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),U(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(W(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var u;for(u in this._layers)this._layers[u].remove();for(u in this._panes)U(this._panes[u]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(u,p){var w="leaflet-pane"+(u?" leaflet-"+u.replace("Pane","")+"-pane":""),R=ft("div",w,p||this._mapPane);return u&&(this._panes[u]=R),R},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var u=this.getPixelBounds(),p=this.unproject(u.getBottomLeft()),w=this.unproject(u.getTopRight());return new be(p,w)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(u,p,w){u=xe(u),w=ae(w||[0,0]);var R=this.getZoom()||0,P=this.getMinZoom(),B=this.getMaxZoom(),Q=u.getNorthWest(),ue=u.getSouthEast(),pe=this.getSize().subtract(w),Ae=oe(this.project(ue,R),this.project(Q,R)).getSize(),Pe=ze.any3d?this.options.zoomSnap:1,Ge=pe.x/Ae.x,ct=pe.y/Ae.y,zn=p?Math.max(Ge,ct):Math.min(Ge,ct);return R=this.getScaleZoom(zn,R),Pe&&(R=Math.round(R/(Pe/100))*(Pe/100),R=p?Math.ceil(R/Pe)*Pe:Math.floor(R/Pe)*Pe),Math.max(P,Math.min(B,R))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ne(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(u,p){var w=this._getTopLeftPoint(u,p);return new K(w,w.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(u){return this.options.crs.getProjectedBounds(u===void 0?this.getZoom():u)},getPane:function(u){return typeof u=="string"?this._panes[u]:u},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(u,p){var w=this.options.crs;return p=p===void 0?this._zoom:p,w.scale(u)/w.scale(p)},getScaleZoom:function(u,p){var w=this.options.crs;p=p===void 0?this._zoom:p;var R=w.zoom(u*w.scale(p));return isNaN(R)?1/0:R},project:function(u,p){return p=p===void 0?this._zoom:p,this.options.crs.latLngToPoint(we(u),p)},unproject:function(u,p){return p=p===void 0?this._zoom:p,this.options.crs.pointToLatLng(ae(u),p)},layerPointToLatLng:function(u){var p=ae(u).add(this.getPixelOrigin());return this.unproject(p)},latLngToLayerPoint:function(u){var p=this.project(we(u))._round();return p._subtract(this.getPixelOrigin())},wrapLatLng:function(u){return this.options.crs.wrapLatLng(we(u))},wrapLatLngBounds:function(u){return this.options.crs.wrapLatLngBounds(xe(u))},distance:function(u,p){return this.options.crs.distance(we(u),we(p))},containerPointToLayerPoint:function(u){return ae(u).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(u){return ae(u).add(this._getMapPanePos())},containerPointToLatLng:function(u){var p=this.containerPointToLayerPoint(ae(u));return this.layerPointToLatLng(p)},latLngToContainerPoint:function(u){return this.layerPointToContainerPoint(this.latLngToLayerPoint(we(u)))},mouseEventToContainerPoint:function(u){return Za(u,this._container)},mouseEventToLayerPoint:function(u){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(u))},mouseEventToLatLng:function(u){return this.layerPointToLatLng(this.mouseEventToLayerPoint(u))},_initContainer:function(u){var p=this._container=io(u);if(p){if(p._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");nt(p,"scroll",this._onScroll,this),this._containerId=d(p)},_initLayout:function(){var u=this._container;this._fadeAnimated=this.options.fadeAnimation&&ze.any3d,J(u,"leaflet-container"+(ze.touch?" leaflet-touch":"")+(ze.retina?" leaflet-retina":"")+(ze.ielt9?" leaflet-oldie":"")+(ze.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var p=so(u,"position");p!=="absolute"&&p!=="relative"&&p!=="fixed"&&p!=="sticky"&&(u.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var u=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),qe(this._mapPane,new ne(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(J(u.markerPane,"leaflet-zoom-hide"),J(u.shadowPane,"leaflet-zoom-hide"))},_resetView:function(u,p,w){qe(this._mapPane,new ne(0,0));var R=!this._loaded;this._loaded=!0,p=this._limitZoom(p),this.fire("viewprereset");var P=this._zoom!==p;this._moveStart(P,w)._move(u,p)._moveEnd(P),this.fire("viewreset"),R&&this.fire("load")},_moveStart:function(u,p){return u&&this.fire("zoomstart"),p||this.fire("movestart"),this},_move:function(u,p,w,R){p===void 0&&(p=this._zoom);var P=this._zoom!==p;return this._zoom=p,this._lastCenter=u,this._pixelOrigin=this._getNewPixelOrigin(u),R?w&&w.pinch&&this.fire("zoom",w):((P||w&&w.pinch)&&this.fire("zoom",w),this.fire("move",w)),this},_moveEnd:function(u){return u&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return W(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(u){qe(this._mapPane,this._getMapPanePos().subtract(u))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(u){this._targets={},this._targets[d(this._container)]=this;var p=u?It:nt;p(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&p(window,"resize",this._onResize,this),ze.any3d&&this.options.transform3DLimit&&(u?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){W(this._resizeRequest),this._resizeRequest=q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var u=this._getMapPanePos();Math.max(Math.abs(u.x),Math.abs(u.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(u,p){for(var w=[],R,P=p==="mouseout"||p==="mouseover",B=u.target||u.srcElement,Q=!1;B;){if(R=this._targets[d(B)],R&&(p==="click"||p==="preclick")&&this._draggableMoved(R)){Q=!0;break}if(R&&R.listens(p,!0)&&(P&&!Js(B,u)||(w.push(R),P))||B===this._container)break;B=B.parentNode}return!w.length&&!Q&&!P&&this.listens(p,!0)&&(w=[this]),w},_isClickDisabled:function(u){for(;u&&u!==this._container;){if(u._leaflet_disable_click)return!0;u=u.parentNode}},_handleDOMEvent:function(u){var p=u.target||u.srcElement;if(!(!this._loaded||p._leaflet_disable_events||u.type==="click"&&this._isClickDisabled(p))){var w=u.type;w==="mousedown"&&Tr(p),this._fireDOMEvent(u,w)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(u,p,w){if(u.type==="click"){var R=s({},u);R.type="preclick",this._fireDOMEvent(R,R.type,w)}var P=this._findEventTargets(u,p);if(w){for(var B=[],Q=0;Q<w.length;Q++)w[Q].listens(p,!0)&&B.push(w[Q]);P=B.concat(P)}if(P.length){p==="contextmenu"&&mn(u);var ue=P[0],pe={originalEvent:u};if(u.type!=="keypress"&&u.type!=="keydown"&&u.type!=="keyup"){var Ae=ue.getLatLng&&(!ue._radius||ue._radius<=10);pe.containerPoint=Ae?this.latLngToContainerPoint(ue.getLatLng()):this.mouseEventToContainerPoint(u),pe.layerPoint=this.containerPointToLayerPoint(pe.containerPoint),pe.latlng=Ae?ue.getLatLng():this.layerPointToLatLng(pe.layerPoint)}for(Q=0;Q<P.length;Q++)if(P[Q].fire(p,pe,!0),pe.originalEvent._stopped||P[Q].options.bubblingMouseEvents===!1&&M(this._mouseEvents,p)!==-1)return}},_draggableMoved:function(u){return u=u.dragging&&u.dragging.enabled()?u:this,u.dragging&&u.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var u=0,p=this._handlers.length;u<p;u++)this._handlers[u].disable()},whenReady:function(u,p){return this._loaded?u.call(p||this,{target:this}):this.on("load",u,p),this},_getMapPanePos:function(){return dt(this._mapPane)||new ne(0,0)},_moved:function(){var u=this._getMapPanePos();return u&&!u.equals([0,0])},_getTopLeftPoint:function(u,p){var w=u&&p!==void 0?this._getNewPixelOrigin(u,p):this.getPixelOrigin();return w.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(u,p){var w=this.getSize()._divideBy(2);return this.project(u,p)._subtract(w)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(u,p,w){var R=this._getNewPixelOrigin(w,p);return this.project(u,p)._subtract(R)},_latLngBoundsToNewLayerBounds:function(u,p,w){var R=this._getNewPixelOrigin(w,p);return oe([this.project(u.getSouthWest(),p)._subtract(R),this.project(u.getNorthWest(),p)._subtract(R),this.project(u.getSouthEast(),p)._subtract(R),this.project(u.getNorthEast(),p)._subtract(R)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(u){return this.latLngToLayerPoint(u).subtract(this._getCenterLayerPoint())},_limitCenter:function(u,p,w){if(!w)return u;var R=this.project(u,p),P=this.getSize().divideBy(2),B=new K(R.subtract(P),R.add(P)),Q=this._getBoundsOffset(B,w,p);return Math.abs(Q.x)<=1&&Math.abs(Q.y)<=1?u:this.unproject(R.add(Q),p)},_limitOffset:function(u,p){if(!p)return u;var w=this.getPixelBounds(),R=new K(w.min.add(u),w.max.add(u));return u.add(this._getBoundsOffset(R,p))},_getBoundsOffset:function(u,p,w){var R=oe(this.project(p.getNorthEast(),w),this.project(p.getSouthWest(),w)),P=R.min.subtract(u.min),B=R.max.subtract(u.max),Q=this._rebound(P.x,-B.x),ue=this._rebound(P.y,-B.y);return new ne(Q,ue)},_rebound:function(u,p){return u+p>0?Math.round(u-p)/2:Math.max(0,Math.ceil(u))-Math.max(0,Math.floor(p))},_limitZoom:function(u){var p=this.getMinZoom(),w=this.getMaxZoom(),R=ze.any3d?this.options.zoomSnap:1;return R&&(u=Math.round(u/R)*R),Math.max(p,Math.min(w,u))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ge(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(u,p){var w=this._getCenterOffset(u)._trunc();return(p&&p.animate)!==!0&&!this.getSize().contains(w)?!1:(this.panBy(w,p),!0)},_createAnimProxy:function(){var u=this._proxy=ft("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(u),this.on("zoomanim",function(p){var w=Ui,R=this._proxy.style[w];et(this._proxy,this.project(p.center,p.zoom),this.getZoomScale(p.zoom,1)),R===this._proxy.style[w]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){U(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var u=this.getCenter(),p=this.getZoom();et(this._proxy,this.project(u,p),this.getZoomScale(p,1))},_catchTransitionEnd:function(u){this._animatingZoom&&u.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(u,p,w){if(this._animatingZoom)return!0;if(w=w||{},!this._zoomAnimated||w.animate===!1||this._nothingToAnimate()||Math.abs(p-this._zoom)>this.options.zoomAnimationThreshold)return!1;var R=this.getZoomScale(p),P=this._getCenterOffset(u)._divideBy(1-1/R);return w.animate!==!0&&!this.getSize().contains(P)?!1:(q(function(){this._moveStart(!0,w.noMoveStart||!1)._animateZoom(u,p,!0)},this),!0)},_animateZoom:function(u,p,w,R){this._mapPane&&(w&&(this._animatingZoom=!0,this._animateToCenter=u,this._animateToZoom=p,J(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:u,zoom:p,noUpdate:R}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ge(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Zu(u,p){return new xt(u,p)}var Ni=ie.extend({options:{position:"topright"},initialize:function(u){E(this,u)},getPosition:function(){return this.options.position},setPosition:function(u){var p=this._map;return p&&p.removeControl(this),this.options.position=u,p&&p.addControl(this),this},getContainer:function(){return this._container},addTo:function(u){this.remove(),this._map=u;var p=this._container=this.onAdd(u),w=this.getPosition(),R=u._controlCorners[w];return J(p,"leaflet-control"),w.indexOf("bottom")!==-1?R.insertBefore(p,R.firstChild):R.appendChild(p),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(U(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(u){this._map&&u&&u.screenX>0&&u.screenY>0&&this._map.getContainer().focus()}}),er=function(u){return new Ni(u)};xt.include({addControl:function(u){return u.addTo(this),this},removeControl:function(u){return u.remove(),this},_initControlPos:function(){var u=this._controlCorners={},p="leaflet-",w=this._controlContainer=ft("div",p+"control-container",this._container);function R(P,B){var Q=p+P+" "+p+B;u[P+B]=ft("div",Q,w)}R("top","left"),R("top","right"),R("bottom","left"),R("bottom","right")},_clearControlPos:function(){for(var u in this._controlCorners)U(this._controlCorners[u]);U(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Xa=Ni.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(u,p,w,R){return w<R?-1:R<w?1:0}},initialize:function(u,p,w){E(this,w),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var R in u)this._addLayer(u[R],R);for(R in p)this._addLayer(p[R],R,!0)},onAdd:function(u){this._initLayout(),this._update(),this._map=u,u.on("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(u){return Ni.prototype.addTo.call(this,u),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(u,p){return this._addLayer(u,p),this._map?this._update():this},addOverlay:function(u,p){return this._addLayer(u,p,!0),this._map?this._update():this},removeLayer:function(u){u.off("add remove",this._onLayerChange,this);var p=this._getLayer(d(u));return p&&this._layers.splice(this._layers.indexOf(p),1),this._map?this._update():this},expand:function(){J(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var u=this._map.getSize().y-(this._container.offsetTop+50);return u<this._section.clientHeight?(J(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=u+"px"):ge(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ge(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var u="leaflet-control-layers",p=this._container=ft("div",u),w=this.options.collapsed;p.setAttribute("aria-haspopup",!0),lo(p),Ts(p);var R=this._section=ft("section",u+"-list");w&&(this._map.on("click",this.collapse,this),nt(p,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var P=this._layersLink=ft("a",u+"-toggle",p);P.href="#",P.title="Layers",P.setAttribute("role","button"),nt(P,{keydown:function(B){B.keyCode===13&&this._expandSafely()},click:function(B){mn(B),this._expandSafely()}},this),w||this.expand(),this._baseLayersList=ft("div",u+"-base",R),this._separator=ft("div",u+"-separator",R),this._overlaysList=ft("div",u+"-overlays",R),p.appendChild(R)},_getLayer:function(u){for(var p=0;p<this._layers.length;p++)if(this._layers[p]&&d(this._layers[p].layer)===u)return this._layers[p]},_addLayer:function(u,p,w){this._map&&u.on("add remove",this._onLayerChange,this),this._layers.push({layer:u,name:p,overlay:w}),this.options.sortLayers&&this._layers.sort(l(function(R,P){return this.options.sortFunction(R.layer,P.layer,R.name,P.name)},this)),this.options.autoZIndex&&u.setZIndex&&(this._lastZIndex++,u.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ee(this._baseLayersList),ee(this._overlaysList),this._layerControlInputs=[];var u,p,w,R,P=0;for(w=0;w<this._layers.length;w++)R=this._layers[w],this._addItem(R),p=p||R.overlay,u=u||!R.overlay,P+=R.overlay?0:1;return this.options.hideSingleBase&&(u=u&&P>1,this._baseLayersList.style.display=u?"":"none"),this._separator.style.display=p&&u?"":"none",this},_onLayerChange:function(u){this._handlingClick||this._update();var p=this._getLayer(d(u.target)),w=p.overlay?u.type==="add"?"overlayadd":"overlayremove":u.type==="add"?"baselayerchange":null;w&&this._map.fire(w,p)},_createRadioElement:function(u,p){var w='<input type="radio" class="leaflet-control-layers-selector" name="'+u+'"'+(p?' checked="checked"':"")+"/>",R=document.createElement("div");return R.innerHTML=w,R.firstChild},_addItem:function(u){var p=document.createElement("label"),w=this._map.hasLayer(u.layer),R;u.overlay?(R=document.createElement("input"),R.type="checkbox",R.className="leaflet-control-layers-selector",R.defaultChecked=w):R=this._createRadioElement("leaflet-base-layers_"+d(this),w),this._layerControlInputs.push(R),R.layerId=d(u.layer),nt(R,"click",this._onInputClick,this);var P=document.createElement("span");P.innerHTML=" "+u.name;var B=document.createElement("span");p.appendChild(B),B.appendChild(R),B.appendChild(P);var Q=u.overlay?this._overlaysList:this._baseLayersList;return Q.appendChild(p),this._checkDisabledLayers(),p},_onInputClick:function(){if(!this._preventClick){var u=this._layerControlInputs,p,w,R=[],P=[];this._handlingClick=!0;for(var B=u.length-1;B>=0;B--)p=u[B],w=this._getLayer(p.layerId).layer,p.checked?R.push(w):p.checked||P.push(w);for(B=0;B<P.length;B++)this._map.hasLayer(P[B])&&this._map.removeLayer(P[B]);for(B=0;B<R.length;B++)this._map.hasLayer(R[B])||this._map.addLayer(R[B]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var u=this._layerControlInputs,p,w,R=this._map.getZoom(),P=u.length-1;P>=0;P--)p=u[P],w=this._getLayer(p.layerId).layer,p.disabled=w.options.minZoom!==void 0&&R<w.options.minZoom||w.options.maxZoom!==void 0&&R>w.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var u=this._section;this._preventClick=!0,nt(u,"click",mn),this.expand();var p=this;setTimeout(function(){It(u,"click",mn),p._preventClick=!1})}}),wh=function(u,p,w){return new Xa(u,p,w)},Xu=Ni.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(u){var p="leaflet-control-zoom",w=ft("div",p+" leaflet-bar"),R=this.options;return this._zoomInButton=this._createButton(R.zoomInText,R.zoomInTitle,p+"-in",w,this._zoomIn),this._zoomOutButton=this._createButton(R.zoomOutText,R.zoomOutTitle,p+"-out",w,this._zoomOut),this._updateDisabled(),u.on("zoomend zoomlevelschange",this._updateDisabled,this),w},onRemove:function(u){u.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(u){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(u.shiftKey?3:1))},_zoomOut:function(u){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(u.shiftKey?3:1))},_createButton:function(u,p,w,R,P){var B=ft("a",w,R);return B.innerHTML=u,B.href="#",B.title=p,B.setAttribute("role","button"),B.setAttribute("aria-label",p),lo(B),nt(B,"click",Rr),nt(B,"click",P,this),nt(B,"click",this._refocusOnMap,this),B},_updateDisabled:function(){var u=this._map,p="leaflet-disabled";ge(this._zoomInButton,p),ge(this._zoomOutButton,p),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||u._zoom===u.getMinZoom())&&(J(this._zoomOutButton,p),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||u._zoom===u.getMaxZoom())&&(J(this._zoomInButton,p),this._zoomInButton.setAttribute("aria-disabled","true"))}});xt.mergeOptions({zoomControl:!0}),xt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Xu,this.addControl(this.zoomControl))});var av=function(u){return new Xu(u)},Sh=Ni.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(u){var p="leaflet-control-scale",w=ft("div",p),R=this.options;return this._addScales(R,p+"-line",w),u.on(R.updateWhenIdle?"moveend":"move",this._update,this),u.whenReady(this._update,this),w},onRemove:function(u){u.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(u,p,w){u.metric&&(this._mScale=ft("div",p,w)),u.imperial&&(this._iScale=ft("div",p,w))},_update:function(){var u=this._map,p=u.getSize().y/2,w=u.distance(u.containerPointToLatLng([0,p]),u.containerPointToLatLng([this.options.maxWidth,p]));this._updateScales(w)},_updateScales:function(u){this.options.metric&&u&&this._updateMetric(u),this.options.imperial&&u&&this._updateImperial(u)},_updateMetric:function(u){var p=this._getRoundNum(u),w=p<1e3?p+" m":p/1e3+" km";this._updateScale(this._mScale,w,p/u)},_updateImperial:function(u){var p=u*3.2808399,w,R,P;p>5280?(w=p/5280,R=this._getRoundNum(w),this._updateScale(this._iScale,R+" mi",R/w)):(P=this._getRoundNum(p),this._updateScale(this._iScale,P+" ft",P/p))},_updateScale:function(u,p,w){u.style.width=Math.round(this.options.maxWidth*w)+"px",u.innerHTML=p},_getRoundNum:function(u){var p=Math.pow(10,(Math.floor(u)+"").length-1),w=u/p;return w=w>=10?10:w>=5?5:w>=3?3:w>=2?2:1,p*w}}),Qu=function(u){return new Sh(u)},lv='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ju=Ni.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ze.inlineSvg?lv+" ":"")+"Leaflet</a>"},initialize:function(u){E(this,u),this._attributions={}},onAdd:function(u){u.attributionControl=this,this._container=ft("div","leaflet-control-attribution"),lo(this._container);for(var p in u._layers)u._layers[p].getAttribution&&this.addAttribution(u._layers[p].getAttribution());return this._update(),u.on("layeradd",this._addAttribution,this),this._container},onRemove:function(u){u.off("layeradd",this._addAttribution,this)},_addAttribution:function(u){u.layer.getAttribution&&(this.addAttribution(u.layer.getAttribution()),u.layer.once("remove",function(){this.removeAttribution(u.layer.getAttribution())},this))},setPrefix:function(u){return this.options.prefix=u,this._update(),this},addAttribution:function(u){return u?(this._attributions[u]||(this._attributions[u]=0),this._attributions[u]++,this._update(),this):this},removeAttribution:function(u){return u?(this._attributions[u]&&(this._attributions[u]--,this._update()),this):this},_update:function(){if(this._map){var u=[];for(var p in this._attributions)this._attributions[p]&&u.push(p);var w=[];this.options.prefix&&w.push(this.options.prefix),u.length&&w.push(u.join(", ")),this._container.innerHTML=w.join(' <span aria-hidden="true">|</span> ')}}});xt.mergeOptions({attributionControl:!0}),xt.addInitHook(function(){this.options.attributionControl&&new Ju().addTo(this)});var cv=function(u){return new Ju(u)};Ni.Layers=Xa,Ni.Zoom=Xu,Ni.Scale=Sh,Ni.Attribution=Ju,er.layers=wh,er.zoom=av,er.scale=Qu,er.attribution=cv;var Rs=ie.extend({initialize:function(u){this._map=u},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Rs.addTo=function(u,p){return u.addHandler(p,this),this};var uv={Events:G},ed=ze.touch?"touchstart mousedown":"mousedown",kr=X.extend({options:{clickTolerance:3},initialize:function(u,p,w,R){E(this,R),this._element=u,this._dragStartTarget=p||u,this._preventOutline=w},enable:function(){this._enabled||(nt(this._dragStartTarget,ed,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(kr._dragging===this&&this.finishDrag(!0),It(this._dragStartTarget,ed,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(u){if(this._enabled&&(this._moved=!1,!le(this._element,"leaflet-zoom-anim"))){if(u.touches&&u.touches.length!==1){kr._dragging===this&&this.finishDrag();return}if(!(kr._dragging||u.shiftKey||u.which!==1&&u.button!==1&&!u.touches)&&(kr._dragging=this,this._preventOutline&&Tr(this._element),Er(),Ut(),!this._moving)){this.fire("down");var p=u.touches?u.touches[0]:u,w=oo(this._element);this._startPoint=new ne(p.clientX,p.clientY),this._startPos=dt(this._element),this._parentScale=qa(w);var R=u.type==="mousedown";nt(document,R?"mousemove":"touchmove",this._onMove,this),nt(document,R?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(u){if(this._enabled){if(u.touches&&u.touches.length>1){this._moved=!0;return}var p=u.touches&&u.touches.length===1?u.touches[0]:u,w=new ne(p.clientX,p.clientY)._subtract(this._startPoint);!w.x&&!w.y||Math.abs(w.x)+Math.abs(w.y)<this.options.clickTolerance||(w.x/=this._parentScale.x,w.y/=this._parentScale.y,mn(u),this._moved||(this.fire("dragstart"),this._moved=!0,J(document.body,"leaflet-dragging"),this._lastTarget=u.target||u.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),J(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(w),this._moving=!0,this._lastEvent=u,this._updatePosition())}},_updatePosition:function(){var u={originalEvent:this._lastEvent};this.fire("predrag",u),qe(this._element,this._newPos),this.fire("drag",u)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(u){ge(document.body,"leaflet-dragging"),this._lastTarget&&(ge(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),It(document,"mousemove touchmove",this._onMove,this),It(document,"mouseup touchend touchcancel",this._onUp,this),ro(),Et();var p=this._moved&&this._moving;this._moving=!1,kr._dragging=!1,p&&this.fire("dragend",{noInertia:u,distance:this._newPos.distanceTo(this._startPos)})}});function Ch(u,p,w){var R,P=[1,4,2,8],B,Q,ue,pe,Ae,Pe,Ge,ct;for(B=0,Pe=u.length;B<Pe;B++)u[B]._code=co(u[B],p);for(ue=0;ue<4;ue++){for(Ge=P[ue],R=[],B=0,Pe=u.length,Q=Pe-1;B<Pe;Q=B++)pe=u[B],Ae=u[Q],pe._code&Ge?Ae._code&Ge||(ct=uc(Ae,pe,Ge,p,w),ct._code=co(ct,p),R.push(ct)):(Ae._code&Ge&&(ct=uc(Ae,pe,Ge,p,w),ct._code=co(ct,p),R.push(ct)),R.push(pe));u=R}return u}function Eh(u,p){var w,R,P,B,Q,ue,pe,Ae,Pe;if(!u||u.length===0)throw new Error("latlngs not passed");Vi(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Ge=we([0,0]),ct=xe(u),zn=ct.getNorthWest().distanceTo(ct.getSouthWest())*ct.getNorthEast().distanceTo(ct.getNorthWest());zn<1700&&(Ge=td(u));var gn=u.length,Oi=[];for(w=0;w<gn;w++){var Rt=we(u[w]);Oi.push(p.project(we([Rt.lat-Ge.lat,Rt.lng-Ge.lng])))}for(ue=pe=Ae=0,w=0,R=gn-1;w<gn;R=w++)P=Oi[w],B=Oi[R],Q=P.y*B.x-B.y*P.x,pe+=(P.x+B.x)*Q,Ae+=(P.y+B.y)*Q,ue+=Q*3;ue===0?Pe=Oi[0]:Pe=[pe/ue,Ae/ue];var kt=p.unproject(ae(Pe));return we([kt.lat+Ge.lat,kt.lng+Ge.lng])}function td(u){for(var p=0,w=0,R=0,P=0;P<u.length;P++){var B=we(u[P]);p+=B.lat,w+=B.lng,R++}return we([p/R,w/R])}var nd={__proto__:null,clipPolygon:Ch,polygonCenter:Eh,centroid:td};function Ah(u,p){if(!p||!u.length)return u.slice();var w=p*p;return u=fv(u,w),u=Rh(u,w),u}function Th(u,p,w){return Math.sqrt(Qa(u,p,w,!0))}function dv(u,p,w){return Qa(u,p,w)}function Rh(u,p){var w=u.length,R=typeof Uint8Array<"u"?Uint8Array:Array,P=new R(w);P[0]=P[w-1]=1,id(u,P,p,0,w-1);var B,Q=[];for(B=0;B<w;B++)P[B]&&Q.push(u[B]);return Q}function id(u,p,w,R,P){var B=0,Q,ue,pe;for(ue=R+1;ue<=P-1;ue++)pe=Qa(u[ue],u[R],u[P],!0),pe>B&&(Q=ue,B=pe);B>w&&(p[Q]=1,id(u,p,w,R,Q),id(u,p,w,Q,P))}function fv(u,p){for(var w=[u[0]],R=1,P=0,B=u.length;R<B;R++)hv(u[R],u[P])>p&&(w.push(u[R]),P=R);return P<B-1&&w.push(u[B-1]),w}var kh;function Nh(u,p,w,R,P){var B=R?kh:co(u,w),Q=co(p,w),ue,pe,Ae;for(kh=Q;;){if(!(B|Q))return[u,p];if(B&Q)return!1;ue=B||Q,pe=uc(u,p,ue,w,P),Ae=co(pe,w),ue===B?(u=pe,B=Ae):(p=pe,Q=Ae)}}function uc(u,p,w,R,P){var B=p.x-u.x,Q=p.y-u.y,ue=R.min,pe=R.max,Ae,Pe;return w&8?(Ae=u.x+B*(pe.y-u.y)/Q,Pe=pe.y):w&4?(Ae=u.x+B*(ue.y-u.y)/Q,Pe=ue.y):w&2?(Ae=pe.x,Pe=u.y+Q*(pe.x-u.x)/B):w&1&&(Ae=ue.x,Pe=u.y+Q*(ue.x-u.x)/B),new ne(Ae,Pe,P)}function co(u,p){var w=0;return u.x<p.min.x?w|=1:u.x>p.max.x&&(w|=2),u.y<p.min.y?w|=4:u.y>p.max.y&&(w|=8),w}function hv(u,p){var w=p.x-u.x,R=p.y-u.y;return w*w+R*R}function Qa(u,p,w,R){var P=p.x,B=p.y,Q=w.x-P,ue=w.y-B,pe=Q*Q+ue*ue,Ae;return pe>0&&(Ae=((u.x-P)*Q+(u.y-B)*ue)/pe,Ae>1?(P=w.x,B=w.y):Ae>0&&(P+=Q*Ae,B+=ue*Ae)),Q=u.x-P,ue=u.y-B,R?Q*Q+ue*ue:new ne(P,B)}function Vi(u){return!O(u[0])||typeof u[0][0]!="object"&&typeof u[0][0]<"u"}function dc(u){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Vi(u)}function Vo(u,p){var w,R,P,B,Q,ue,pe,Ae;if(!u||u.length===0)throw new Error("latlngs not passed");Vi(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Pe=we([0,0]),Ge=xe(u),ct=Ge.getNorthWest().distanceTo(Ge.getSouthWest())*Ge.getNorthEast().distanceTo(Ge.getNorthWest());ct<1700&&(Pe=td(u));var zn=u.length,gn=[];for(w=0;w<zn;w++){var Oi=we(u[w]);gn.push(p.project(we([Oi.lat-Pe.lat,Oi.lng-Pe.lng])))}for(w=0,R=0;w<zn-1;w++)R+=gn[w].distanceTo(gn[w+1])/2;if(R===0)Ae=gn[0];else for(w=0,B=0;w<zn-1;w++)if(Q=gn[w],ue=gn[w+1],P=Q.distanceTo(ue),B+=P,B>R){pe=(B-R)/P,Ae=[ue.x-pe*(ue.x-Q.x),ue.y-pe*(ue.y-Q.y)];break}var Rt=p.unproject(ae(Ae));return we([Rt.lat+Pe.lat,Rt.lng+Pe.lng])}var pv={__proto__:null,simplify:Ah,pointToSegmentDistance:Th,closestPointOnSegment:dv,clipSegment:Nh,_getEdgeIntersection:uc,_getBitCode:co,_sqClosestPointOnSegment:Qa,isFlat:Vi,_flat:dc,polylineCenter:Vo},fc={project:function(u){return new ne(u.lng,u.lat)},unproject:function(u){return new Re(u.y,u.x)},bounds:new K([-180,-90],[180,90])},hc={R:6378137,R_MINOR:6356752314245179e-9,bounds:new K([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(u){var p=Math.PI/180,w=this.R,R=u.lat*p,P=this.R_MINOR/w,B=Math.sqrt(1-P*P),Q=B*Math.sin(R),ue=Math.tan(Math.PI/4-R/2)/Math.pow((1-Q)/(1+Q),B/2);return R=-w*Math.log(Math.max(ue,1e-10)),new ne(u.lng*p*w,R)},unproject:function(u){for(var p=180/Math.PI,w=this.R,R=this.R_MINOR/w,P=Math.sqrt(1-R*R),B=Math.exp(-u.y/w),Q=Math.PI/2-2*Math.atan(B),ue=0,pe=.1,Ae;ue<15&&Math.abs(pe)>1e-7;ue++)Ae=P*Math.sin(Q),Ae=Math.pow((1-Ae)/(1+Ae),P/2),pe=Math.PI/2-2*Math.atan(B*Ae)-Q,Q+=pe;return new Re(Q*p,u.x*p/w)}},Oh={__proto__:null,LonLat:fc,Mercator:hc,SphericalMercator:Le},Ph=s({},je,{code:"EPSG:3395",projection:hc,transformation:(function(){var u=.5/(Math.PI*hc.R);return Xe(u,.5,-u,.5)})()}),sd=s({},je,{code:"EPSG:4326",projection:fc,transformation:Xe(1/180,1,-1/180,.5)}),$o=s({},Se,{projection:fc,transformation:Xe(1,0,-1,0),scale:function(u){return Math.pow(2,u)},zoom:function(u){return Math.log(u)/Math.LN2},distance:function(u,p){var w=p.lng-u.lng,R=p.lat-u.lat;return Math.sqrt(w*w+R*R)},infinite:!0});Se.Earth=je,Se.EPSG3395=Ph,Se.EPSG3857=Ct,Se.EPSG900913=yt,Se.EPSG4326=sd,Se.Simple=$o;var ls=X.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(u){return u.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(u){return u&&u.removeLayer(this),this},getPane:function(u){return this._map.getPane(u?this.options[u]||u:this.options.pane)},addInteractiveTarget:function(u){return this._map._targets[d(u)]=this,this},removeInteractiveTarget:function(u){return delete this._map._targets[d(u)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(u){var p=u.target;if(p.hasLayer(this)){if(this._map=p,this._zoomAnimated=p._zoomAnimated,this.getEvents){var w=this.getEvents();p.on(w,this),this.once("remove",function(){p.off(w,this)},this)}this.onAdd(p),this.fire("add"),p.fire("layeradd",{layer:this})}}});xt.include({addLayer:function(u){if(!u._layerAdd)throw new Error("The provided object is not a Layer.");var p=d(u);return this._layers[p]?this:(this._layers[p]=u,u._mapToAdd=this,u.beforeAdd&&u.beforeAdd(this),this.whenReady(u._layerAdd,u),this)},removeLayer:function(u){var p=d(u);return this._layers[p]?(this._loaded&&u.onRemove(this),delete this._layers[p],this._loaded&&(this.fire("layerremove",{layer:u}),u.fire("remove")),u._map=u._mapToAdd=null,this):this},hasLayer:function(u){return d(u)in this._layers},eachLayer:function(u,p){for(var w in this._layers)u.call(p,this._layers[w]);return this},_addLayers:function(u){u=u?O(u)?u:[u]:[];for(var p=0,w=u.length;p<w;p++)this.addLayer(u[p])},_addZoomLimit:function(u){(!isNaN(u.options.maxZoom)||!isNaN(u.options.minZoom))&&(this._zoomBoundLayers[d(u)]=u,this._updateZoomLevels())},_removeZoomLimit:function(u){var p=d(u);this._zoomBoundLayers[p]&&(delete this._zoomBoundLayers[p],this._updateZoomLevels())},_updateZoomLevels:function(){var u=1/0,p=-1/0,w=this._getZoomSpan();for(var R in this._zoomBoundLayers){var P=this._zoomBoundLayers[R].options;u=P.minZoom===void 0?u:Math.min(u,P.minZoom),p=P.maxZoom===void 0?p:Math.max(p,P.maxZoom)}this._layersMaxZoom=p===-1/0?void 0:p,this._layersMinZoom=u===1/0?void 0:u,w!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ho=ls.extend({initialize:function(u,p){E(this,p),this._layers={};var w,R;if(u)for(w=0,R=u.length;w<R;w++)this.addLayer(u[w])},addLayer:function(u){var p=this.getLayerId(u);return this._layers[p]=u,this._map&&this._map.addLayer(u),this},removeLayer:function(u){var p=u in this._layers?u:this.getLayerId(u);return this._map&&this._layers[p]&&this._map.removeLayer(this._layers[p]),delete this._layers[p],this},hasLayer:function(u){var p=typeof u=="number"?u:this.getLayerId(u);return p in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(u){var p=Array.prototype.slice.call(arguments,1),w,R;for(w in this._layers)R=this._layers[w],R[u]&&R[u].apply(R,p);return this},onAdd:function(u){this.eachLayer(u.addLayer,u)},onRemove:function(u){this.eachLayer(u.removeLayer,u)},eachLayer:function(u,p){for(var w in this._layers)u.call(p,this._layers[w]);return this},getLayer:function(u){return this._layers[u]},getLayers:function(){var u=[];return this.eachLayer(u.push,u),u},setZIndex:function(u){return this.invoke("setZIndex",u)},getLayerId:function(u){return d(u)}}),mv=function(u,p){return new Ho(u,p)},ks=Ho.extend({addLayer:function(u){return this.hasLayer(u)?this:(u.addEventParent(this),Ho.prototype.addLayer.call(this,u),this.fire("layeradd",{layer:u}))},removeLayer:function(u){return this.hasLayer(u)?(u in this._layers&&(u=this._layers[u]),u.removeEventParent(this),Ho.prototype.removeLayer.call(this,u),this.fire("layerremove",{layer:u})):this},setStyle:function(u){return this.invoke("setStyle",u)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var u=new be;for(var p in this._layers){var w=this._layers[p];u.extend(w.getBounds?w.getBounds():w.getLatLng())}return u}}),Mh=function(u,p){return new ks(u,p)},Ns=ie.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(u){E(this,u)},createIcon:function(u){return this._createIcon("icon",u)},createShadow:function(u){return this._createIcon("shadow",u)},_createIcon:function(u,p){var w=this._getIconUrl(u);if(!w){if(u==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var R=this._createImg(w,p&&p.tagName==="IMG"?p:null);return this._setIconStyles(R,u),(this.options.crossOrigin||this.options.crossOrigin==="")&&(R.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),R},_setIconStyles:function(u,p){var w=this.options,R=w[p+"Size"];typeof R=="number"&&(R=[R,R]);var P=ae(R),B=ae(p==="shadow"&&w.shadowAnchor||w.iconAnchor||P&&P.divideBy(2,!0));u.className="leaflet-marker-"+p+" "+(w.className||""),B&&(u.style.marginLeft=-B.x+"px",u.style.marginTop=-B.y+"px"),P&&(u.style.width=P.x+"px",u.style.height=P.y+"px")},_createImg:function(u,p){return p=p||document.createElement("img"),p.src=u,p},_getIconUrl:function(u){return ze.retina&&this.options[u+"RetinaUrl"]||this.options[u+"Url"]}});function Ja(u){return new Ns(u)}var el=Ns.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(u){return typeof el.imagePath!="string"&&(el.imagePath=this._detectIconPath()),(this.options.imagePath||el.imagePath)+Ns.prototype._getIconUrl.call(this,u)},_stripUrl:function(u){var p=function(w,R,P){var B=R.exec(w);return B&&B[P]};return u=p(u,/^url\((['"])?(.+)\1\)$/,2),u&&p(u,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var u=ft("div","leaflet-default-icon-path",document.body),p=so(u,"background-image")||so(u,"backgroundImage");if(document.body.removeChild(u),p=this._stripUrl(p),p)return p;var w=document.querySelector('link[href$="leaflet.css"]');return w?w.href.substring(0,w.href.length-11-1):""}}),tl=Rs.extend({initialize:function(u){this._marker=u},addHooks:function(){var u=this._marker._icon;this._draggable||(this._draggable=new kr(u,u,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),J(u,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ge(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(u){var p=this._marker,w=p._map,R=this._marker.options.autoPanSpeed,P=this._marker.options.autoPanPadding,B=dt(p._icon),Q=w.getPixelBounds(),ue=w.getPixelOrigin(),pe=oe(Q.min._subtract(ue).add(P),Q.max._subtract(ue).subtract(P));if(!pe.contains(B)){var Ae=ae((Math.max(pe.max.x,B.x)-pe.max.x)/(Q.max.x-pe.max.x)-(Math.min(pe.min.x,B.x)-pe.min.x)/(Q.min.x-pe.min.x),(Math.max(pe.max.y,B.y)-pe.max.y)/(Q.max.y-pe.max.y)-(Math.min(pe.min.y,B.y)-pe.min.y)/(Q.min.y-pe.min.y)).multiplyBy(R);w.panBy(Ae,{animate:!1}),this._draggable._newPos._add(Ae),this._draggable._startPos._add(Ae),qe(p._icon,this._draggable._newPos),this._onDrag(u),this._panRequest=q(this._adjustPan.bind(this,u))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(u){this._marker.options.autoPan&&(W(this._panRequest),this._panRequest=q(this._adjustPan.bind(this,u)))},_onDrag:function(u){var p=this._marker,w=p._shadow,R=dt(p._icon),P=p._map.layerPointToLatLng(R);w&&qe(w,R),p._latlng=P,u.latlng=P,u.oldLatLng=this._oldLatLng,p.fire("move",u).fire("drag",u)},_onDragEnd:function(u){W(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",u)}}),nl=ls.extend({options:{icon:new el,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(u,p){E(this,p),this._latlng=we(u)},onAdd:function(u){this._zoomAnimated=this._zoomAnimated&&u.options.markerZoomAnimation,this._zoomAnimated&&u.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(u){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&u.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(u){var p=this._latlng;return this._latlng=we(u),this.update(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},setZIndexOffset:function(u){return this.options.zIndexOffset=u,this.update()},getIcon:function(){return this.options.icon},setIcon:function(u){return this.options.icon=u,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var u=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(u)}return this},_initIcon:function(){var u=this.options,p="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),w=u.icon.createIcon(this._icon),R=!1;w!==this._icon&&(this._icon&&this._removeIcon(),R=!0,u.title&&(w.title=u.title),w.tagName==="IMG"&&(w.alt=u.alt||"")),J(w,p),u.keyboard&&(w.tabIndex="0",w.setAttribute("role","button")),this._icon=w,u.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&nt(w,"focus",this._panOnFocus,this);var P=u.icon.createShadow(this._shadow),B=!1;P!==this._shadow&&(this._removeShadow(),B=!0),P&&(J(P,p),P.alt=""),this._shadow=P,u.opacity<1&&this._updateOpacity(),R&&this.getPane().appendChild(this._icon),this._initInteraction(),P&&B&&this.getPane(u.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&It(this._icon,"focus",this._panOnFocus,this),U(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&U(this._shadow),this._shadow=null},_setPos:function(u){this._icon&&qe(this._icon,u),this._shadow&&qe(this._shadow,u),this._zIndex=u.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(u){this._icon&&(this._icon.style.zIndex=this._zIndex+u)},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center).round();this._setPos(p)},_initInteraction:function(){if(this.options.interactive&&(J(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),tl)){var u=this.options.draggable;this.dragging&&(u=this.dragging.enabled(),this.dragging.disable()),this.dragging=new tl(this),u&&this.dragging.enable()}},setOpacity:function(u){return this.options.opacity=u,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var u=this.options.opacity;this._icon&&Ee(this._icon,u),this._shadow&&Ee(this._shadow,u)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var u=this._map;if(u){var p=this.options.icon.options,w=p.iconSize?ae(p.iconSize):ae(0,0),R=p.iconAnchor?ae(p.iconAnchor):ae(0,0);u.panInside(this._latlng,{paddingTopLeft:R,paddingBottomRight:w.subtract(R)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Dh(u,p){return new nl(u,p)}var Os=ls.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(u){this._renderer=u.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(u){return E(this,u),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&u&&Object.prototype.hasOwnProperty.call(u,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Go=Os.extend({options:{fill:!0,radius:10},initialize:function(u,p){E(this,p),this._latlng=we(u),this._radius=this.options.radius},setLatLng:function(u){var p=this._latlng;return this._latlng=we(u),this.redraw(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(u){return this.options.radius=this._radius=u,this.redraw()},getRadius:function(){return this._radius},setStyle:function(u){var p=u&&u.radius||this._radius;return Os.prototype.setStyle.call(this,u),this.setRadius(p),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var u=this._radius,p=this._radiusY||u,w=this._clickTolerance(),R=[u+w,p+w];this._pxBounds=new K(this._point.subtract(R),this._point.add(R))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(u){return u.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Lh(u,p){return new Go(u,p)}var pc=Go.extend({initialize:function(u,p,w){if(typeof p=="number"&&(p=s({},w,{radius:p})),E(this,p),this._latlng=we(u),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(u){return this._mRadius=u,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var u=[this._radius,this._radiusY||this._radius];return new be(this._map.layerPointToLatLng(this._point.subtract(u)),this._map.layerPointToLatLng(this._point.add(u)))},setStyle:Os.prototype.setStyle,_project:function(){var u=this._latlng.lng,p=this._latlng.lat,w=this._map,R=w.options.crs;if(R.distance===je.distance){var P=Math.PI/180,B=this._mRadius/je.R/P,Q=w.project([p+B,u]),ue=w.project([p-B,u]),pe=Q.add(ue).divideBy(2),Ae=w.unproject(pe).lat,Pe=Math.acos((Math.cos(B*P)-Math.sin(p*P)*Math.sin(Ae*P))/(Math.cos(p*P)*Math.cos(Ae*P)))/P;(isNaN(Pe)||Pe===0)&&(Pe=B/Math.cos(Math.PI/180*p)),this._point=pe.subtract(w.getPixelOrigin()),this._radius=isNaN(Pe)?0:pe.x-w.project([Ae,u-Pe]).x,this._radiusY=pe.y-Q.y}else{var Ge=R.unproject(R.project(this._latlng).subtract([this._mRadius,0]));this._point=w.latLngToLayerPoint(this._latlng),this._radius=this._point.x-w.latLngToLayerPoint(Ge).x}this._updateBounds()}});function jh(u,p,w){return new pc(u,p,w)}var tr=Os.extend({options:{smoothFactor:1,noClip:!1},initialize:function(u,p){E(this,p),this._setLatLngs(u)},getLatLngs:function(){return this._latlngs},setLatLngs:function(u){return this._setLatLngs(u),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(u){for(var p=1/0,w=null,R=Qa,P,B,Q=0,ue=this._parts.length;Q<ue;Q++)for(var pe=this._parts[Q],Ae=1,Pe=pe.length;Ae<Pe;Ae++){P=pe[Ae-1],B=pe[Ae];var Ge=R(u,P,B,!0);Ge<p&&(p=Ge,w=R(u,P,B))}return w&&(w.distance=Math.sqrt(p)),w},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Vo(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(u,p){return p=p||this._defaultShape(),u=we(u),p.push(u),this._bounds.extend(u),this.redraw()},_setLatLngs:function(u){this._bounds=new be,this._latlngs=this._convertLatLngs(u)},_defaultShape:function(){return Vi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(u){for(var p=[],w=Vi(u),R=0,P=u.length;R<P;R++)w?(p[R]=we(u[R]),this._bounds.extend(p[R])):p[R]=this._convertLatLngs(u[R]);return p},_project:function(){var u=new K;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,u),this._bounds.isValid()&&u.isValid()&&(this._rawPxBounds=u,this._updateBounds())},_updateBounds:function(){var u=this._clickTolerance(),p=new ne(u,u);this._rawPxBounds&&(this._pxBounds=new K([this._rawPxBounds.min.subtract(p),this._rawPxBounds.max.add(p)]))},_projectLatlngs:function(u,p,w){var R=u[0]instanceof Re,P=u.length,B,Q;if(R){for(Q=[],B=0;B<P;B++)Q[B]=this._map.latLngToLayerPoint(u[B]),w.extend(Q[B]);p.push(Q)}else for(B=0;B<P;B++)this._projectLatlngs(u[B],p,w)},_clipPoints:function(){var u=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}var p=this._parts,w,R,P,B,Q,ue,pe;for(w=0,P=0,B=this._rings.length;w<B;w++)for(pe=this._rings[w],R=0,Q=pe.length;R<Q-1;R++)ue=Nh(pe[R],pe[R+1],u,R,!0),ue&&(p[P]=p[P]||[],p[P].push(ue[0]),(ue[1]!==pe[R+1]||R===Q-2)&&(p[P].push(ue[1]),P++))}},_simplifyPoints:function(){for(var u=this._parts,p=this.options.smoothFactor,w=0,R=u.length;w<R;w++)u[w]=Ah(u[w],p)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(u,p){var w,R,P,B,Q,ue,pe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(w=0,B=this._parts.length;w<B;w++)for(ue=this._parts[w],R=0,Q=ue.length,P=Q-1;R<Q;P=R++)if(!(!p&&R===0)&&Th(u,ue[P],ue[R])<=pe)return!0;return!1}});function gv(u,p){return new tr(u,p)}tr._flat=dc;var Ko=tr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Eh(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(u){var p=tr.prototype._convertLatLngs.call(this,u),w=p.length;return w>=2&&p[0]instanceof Re&&p[0].equals(p[w-1])&&p.pop(),p},_setLatLngs:function(u){tr.prototype._setLatLngs.call(this,u),Vi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Vi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var u=this._renderer._bounds,p=this.options.weight,w=new ne(p,p);if(u=new K(u.min.subtract(w),u.max.add(w)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}for(var R=0,P=this._rings.length,B;R<P;R++)B=Ch(this._rings[R],u,!0),B.length&&this._parts.push(B)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(u){var p=!1,w,R,P,B,Q,ue,pe,Ae;if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(B=0,pe=this._parts.length;B<pe;B++)for(w=this._parts[B],Q=0,Ae=w.length,ue=Ae-1;Q<Ae;ue=Q++)R=w[Q],P=w[ue],R.y>u.y!=P.y>u.y&&u.x<(P.x-R.x)*(u.y-R.y)/(P.y-R.y)+R.x&&(p=!p);return p||tr.prototype._containsPoint.call(this,u,!0)}});function vv(u,p){return new Ko(u,p)}var nr=ks.extend({initialize:function(u,p){E(this,p),this._layers={},u&&this.addData(u)},addData:function(u){var p=O(u)?u:u.features,w,R,P;if(p){for(w=0,R=p.length;w<R;w++)P=p[w],(P.geometries||P.geometry||P.features||P.coordinates)&&this.addData(P);return this}var B=this.options;if(B.filter&&!B.filter(u))return this;var Q=Jn(u,B);return Q?(Q.feature=vc(u),Q.defaultOptions=Q.options,this.resetStyle(Q),B.onEachFeature&&B.onEachFeature(u,Q),this.addLayer(Q)):this},resetStyle:function(u){return u===void 0?this.eachLayer(this.resetStyle,this):(u.options=s({},u.defaultOptions),this._setLayerStyle(u,this.options.style),this)},setStyle:function(u){return this.eachLayer(function(p){this._setLayerStyle(p,u)},this)},_setLayerStyle:function(u,p){u.setStyle&&(typeof p=="function"&&(p=p(u.feature)),u.setStyle(p))}});function Jn(u,p){var w=u.type==="Feature"?u.geometry:u,R=w?w.coordinates:null,P=[],B=p&&p.pointToLayer,Q=p&&p.coordsToLatLng||mc,ue,pe,Ae,Pe;if(!R&&!w)return null;switch(w.type){case"Point":return ue=Q(R),qo(B,u,ue,p);case"MultiPoint":for(Ae=0,Pe=R.length;Ae<Pe;Ae++)ue=Q(R[Ae]),P.push(qo(B,u,ue,p));return new ks(P);case"LineString":case"MultiLineString":return pe=il(R,w.type==="LineString"?0:1,Q),new tr(pe,p);case"Polygon":case"MultiPolygon":return pe=il(R,w.type==="Polygon"?1:2,Q),new Ko(pe,p);case"GeometryCollection":for(Ae=0,Pe=w.geometries.length;Ae<Pe;Ae++){var Ge=Jn({geometry:w.geometries[Ae],type:"Feature",properties:u.properties},p);Ge&&P.push(Ge)}return new ks(P);case"FeatureCollection":for(Ae=0,Pe=w.features.length;Ae<Pe;Ae++){var ct=Jn(w.features[Ae],p);ct&&P.push(ct)}return new ks(P);default:throw new Error("Invalid GeoJSON object.")}}function qo(u,p,w,R){return u?u(p,w):new nl(w,R&&R.markersInheritOptions&&R)}function mc(u){return new Re(u[1],u[0],u[2])}function il(u,p,w){for(var R=[],P=0,B=u.length,Q;P<B;P++)Q=p?il(u[P],p-1,w):(w||mc)(u[P]),R.push(Q);return R}function gc(u,p){return u=we(u),u.alt!==void 0?[b(u.lng,p),b(u.lat,p),b(u.alt,p)]:[b(u.lng,p),b(u.lat,p)]}function sl(u,p,w,R){for(var P=[],B=0,Q=u.length;B<Q;B++)P.push(p?sl(u[B],Vi(u[B])?0:p-1,w,R):gc(u[B],R));return!p&&w&&P.length>0&&P.push(P[0].slice()),P}function Nr(u,p){return u.feature?s({},u.feature,{geometry:p}):vc(p)}function vc(u){return u.type==="Feature"||u.type==="FeatureCollection"?u:{type:"Feature",properties:{},geometry:u}}var Or={toGeoJSON:function(u){return Nr(this,{type:"Point",coordinates:gc(this.getLatLng(),u)})}};nl.include(Or),pc.include(Or),Go.include(Or),tr.include({toGeoJSON:function(u){var p=!Vi(this._latlngs),w=sl(this._latlngs,p?1:0,!1,u);return Nr(this,{type:(p?"Multi":"")+"LineString",coordinates:w})}}),Ko.include({toGeoJSON:function(u){var p=!Vi(this._latlngs),w=p&&!Vi(this._latlngs[0]),R=sl(this._latlngs,w?2:p?1:0,!0,u);return p||(R=[R]),Nr(this,{type:(w?"Multi":"")+"Polygon",coordinates:R})}}),Ho.include({toMultiPoint:function(u){var p=[];return this.eachLayer(function(w){p.push(w.toGeoJSON(u).geometry.coordinates)}),Nr(this,{type:"MultiPoint",coordinates:p})},toGeoJSON:function(u){var p=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(p==="MultiPoint")return this.toMultiPoint(u);var w=p==="GeometryCollection",R=[];return this.eachLayer(function(P){if(P.toGeoJSON){var B=P.toGeoJSON(u);if(w)R.push(B.geometry);else{var Q=vc(B);Q.type==="FeatureCollection"?R.push.apply(R,Q.features):R.push(Q)}}}),w?Nr(this,{geometries:R,type:"GeometryCollection"}):{type:"FeatureCollection",features:R}}});function yc(u,p){return new nr(u,p)}var rl=yc,Wo=ls.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(u,p,w){this._url=u,this._bounds=xe(p),E(this,w)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(J(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){U(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(u){return this.options.opacity=u,this._image&&this._updateOpacity(),this},setStyle:function(u){return u.opacity&&this.setOpacity(u.opacity),this},bringToFront:function(){return this._map&&H(this._image),this},bringToBack:function(){return this._map&&re(this._image),this},setUrl:function(u){return this._url=u,this._image&&(this._image.src=u),this},setBounds:function(u){return this._bounds=xe(u),this._map&&this._reset(),this},getEvents:function(){var u={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var u=this._url.tagName==="IMG",p=this._image=u?this._url:ft("img");if(J(p,"leaflet-image-layer"),this._zoomAnimated&&J(p,"leaflet-zoom-animated"),this.options.className&&J(p,this.options.className),p.onselectstart=v,p.onmousemove=v,p.onload=l(this.fire,this,"load"),p.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),u){this._url=p.src;return}p.src=this._url,p.alt=this.options.alt},_animateZoom:function(u){var p=this._map.getZoomScale(u.zoom),w=this._map._latLngBoundsToNewLayerBounds(this._bounds,u.zoom,u.center).min;et(this._image,w,p)},_reset:function(){var u=this._image,p=new K(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),w=p.getSize();qe(u,p.min),u.style.width=w.x+"px",u.style.height=w.y+"px"},_updateOpacity:function(){Ee(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var u=this.options.errorOverlayUrl;u&&this._url!==u&&(this._url=u,this._image.src=u)},getCenter:function(){return this._bounds.getCenter()}}),Ih=function(u,p,w){return new Wo(u,p,w)},Pr=Wo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var u=this._url.tagName==="VIDEO",p=this._image=u?this._url:ft("video");if(J(p,"leaflet-image-layer"),this._zoomAnimated&&J(p,"leaflet-zoom-animated"),this.options.className&&J(p,this.options.className),p.onselectstart=v,p.onmousemove=v,p.onloadeddata=l(this.fire,this,"load"),u){for(var w=p.getElementsByTagName("source"),R=[],P=0;P<w.length;P++)R.push(w[P].src);this._url=w.length>0?R:[p.src];return}O(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(p.style,"objectFit")&&(p.style.objectFit="fill"),p.autoplay=!!this.options.autoplay,p.loop=!!this.options.loop,p.muted=!!this.options.muted,p.playsInline=!!this.options.playsInline;for(var B=0;B<this._url.length;B++){var Q=ft("source");Q.src=this._url[B],p.appendChild(Q)}}});function Yo(u,p,w){return new Pr(u,p,w)}var bc=Wo.extend({_initImage:function(){var u=this._image=this._url;J(u,"leaflet-image-layer"),this._zoomAnimated&&J(u,"leaflet-zoom-animated"),this.options.className&&J(u,this.options.className),u.onselectstart=v,u.onmousemove=v}});function zh(u,p,w){return new bc(u,p,w)}var ei=ls.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(u,p){u&&(u instanceof Re||O(u))?(this._latlng=we(u),E(this,p)):(E(this,u),this._source=p),this.options.content&&(this._content=this.options.content)},openOn:function(u){return u=arguments.length?u:this._source._map,u.hasLayer(this)||u.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(u){return this._map?this.close():(arguments.length?this._source=u:u=this._source,this._prepareOpen(),this.openOn(u._map)),this},onAdd:function(u){this._zoomAnimated=u._zoomAnimated,this._container||this._initLayout(),u._fadeAnimated&&Ee(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),u._fadeAnimated&&Ee(this._container,1),this.bringToFront(),this.options.interactive&&(J(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(u){u._fadeAnimated?(Ee(this._container,0),this._removeTimeout=setTimeout(l(U,void 0,this._container),200)):U(this._container),this.options.interactive&&(ge(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(u){return this._latlng=we(u),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(u){return this._content=u,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var u={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&H(this._container),this},bringToBack:function(){return this._map&&re(this._container),this},_prepareOpen:function(u){var p=this._source;if(!p._map)return!1;if(p instanceof ks){p=null;var w=this._source._layers;for(var R in w)if(w[R]._map){p=w[R];break}if(!p)return!1;this._source=p}if(!u)if(p.getCenter)u=p.getCenter();else if(p.getLatLng)u=p.getLatLng();else if(p.getBounds)u=p.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(u),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var u=this._contentNode,p=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof p=="string")u.innerHTML=p;else{for(;u.hasChildNodes();)u.removeChild(u.firstChild);u.appendChild(p)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var u=this._map.latLngToLayerPoint(this._latlng),p=ae(this.options.offset),w=this._getAnchor();this._zoomAnimated?qe(this._container,u.add(w)):p=p.add(u).add(w);var R=this._containerBottom=-p.y,P=this._containerLeft=-Math.round(this._containerWidth/2)+p.x;this._container.style.bottom=R+"px",this._container.style.left=P+"px"}},_getAnchor:function(){return[0,0]}});xt.include({_initOverlay:function(u,p,w,R){var P=p;return P instanceof u||(P=new u(R).setContent(p)),w&&P.setLatLng(w),P}}),ls.include({_initOverlay:function(u,p,w,R){var P=w;return P instanceof u?(E(P,R),P._source=this):(P=p&&!R?p:new u(R,this),P.setContent(w)),P}});var ol=ei.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(u){return u=arguments.length?u:this._source._map,!u.hasLayer(this)&&u._popup&&u._popup.options.autoClose&&u.removeLayer(u._popup),u._popup=this,ei.prototype.openOn.call(this,u)},onAdd:function(u){ei.prototype.onAdd.call(this,u),u.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Os||this._source.on("preclick",as))},onRemove:function(u){ei.prototype.onRemove.call(this,u),u.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Os||this._source.off("preclick",as))},getEvents:function(){var u=ei.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(u.preclick=this.close),this.options.keepInView&&(u.moveend=this._adjustPan),u},_initLayout:function(){var u="leaflet-popup",p=this._container=ft("div",u+" "+(this.options.className||"")+" leaflet-zoom-animated"),w=this._wrapper=ft("div",u+"-content-wrapper",p);if(this._contentNode=ft("div",u+"-content",w),lo(p),Ts(this._contentNode),nt(p,"contextmenu",as),this._tipContainer=ft("div",u+"-tip-container",p),this._tip=ft("div",u+"-tip",this._tipContainer),this.options.closeButton){var R=this._closeButton=ft("a",u+"-close-button",p);R.setAttribute("role","button"),R.setAttribute("aria-label","Close popup"),R.href="#close",R.innerHTML='<span aria-hidden="true">&#215;</span>',nt(R,"click",function(P){mn(P),this.close()},this)}},_updateLayout:function(){var u=this._contentNode,p=u.style;p.width="",p.whiteSpace="nowrap";var w=u.offsetWidth;w=Math.min(w,this.options.maxWidth),w=Math.max(w,this.options.minWidth),p.width=w+1+"px",p.whiteSpace="",p.height="";var R=u.offsetHeight,P=this.options.maxHeight,B="leaflet-popup-scrolled";P&&R>P?(p.height=P+"px",J(u,B)):ge(u,B),this._containerWidth=this._container.offsetWidth},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center),w=this._getAnchor();qe(this._container,p.add(w))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var u=this._map,p=parseInt(so(this._container,"marginBottom"),10)||0,w=this._container.offsetHeight+p,R=this._containerWidth,P=new ne(this._containerLeft,-w-this._containerBottom);P._add(dt(this._container));var B=u.layerPointToContainerPoint(P),Q=ae(this.options.autoPanPadding),ue=ae(this.options.autoPanPaddingTopLeft||Q),pe=ae(this.options.autoPanPaddingBottomRight||Q),Ae=u.getSize(),Pe=0,Ge=0;B.x+R+pe.x>Ae.x&&(Pe=B.x+R-Ae.x+pe.x),B.x-Pe-ue.x<0&&(Pe=B.x-ue.x),B.y+w+pe.y>Ae.y&&(Ge=B.y+w-Ae.y+pe.y),B.y-Ge-ue.y<0&&(Ge=B.y-ue.y),(Pe||Ge)&&(this.options.keepInView&&(this._autopanning=!0),u.fire("autopanstart").panBy([Pe,Ge]))}},_getAnchor:function(){return ae(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Bh=function(u,p){return new ol(u,p)};xt.mergeOptions({closePopupOnClick:!0}),xt.include({openPopup:function(u,p,w){return this._initOverlay(ol,u,p,w).openOn(this),this},closePopup:function(u){return u=arguments.length?u:this._popup,u&&u.close(),this}}),ls.include({bindPopup:function(u,p){return this._popup=this._initOverlay(ol,this._popup,u,p),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(u){return this._popup&&(this instanceof ks||(this._popup._source=this),this._popup._prepareOpen(u||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(u){return this._popup&&this._popup.setContent(u),this},getPopup:function(){return this._popup},_openPopup:function(u){if(!(!this._popup||!this._map)){Rr(u);var p=u.layer||u.target;if(this._popup._source===p&&!(p instanceof Os)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(u.latlng);return}this._popup._source=p,this.openPopup(u.latlng)}},_movePopup:function(u){this._popup.setLatLng(u.latlng)},_onKeyPress:function(u){u.originalEvent.keyCode===13&&this._openPopup(u)}});var al=ei.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(u){ei.prototype.onAdd.call(this,u),this.setOpacity(this.options.opacity),u.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(u){ei.prototype.onRemove.call(this,u),u.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var u=ei.prototype.getEvents.call(this);return this.options.permanent||(u.preclick=this.close),u},_initLayout:function(){var u="leaflet-tooltip",p=u+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ft("div",p),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(u){var p,w,R=this._map,P=this._container,B=R.latLngToContainerPoint(R.getCenter()),Q=R.layerPointToContainerPoint(u),ue=this.options.direction,pe=P.offsetWidth,Ae=P.offsetHeight,Pe=ae(this.options.offset),Ge=this._getAnchor();ue==="top"?(p=pe/2,w=Ae):ue==="bottom"?(p=pe/2,w=0):ue==="center"?(p=pe/2,w=Ae/2):ue==="right"?(p=0,w=Ae/2):ue==="left"?(p=pe,w=Ae/2):Q.x<B.x?(ue="right",p=0,w=Ae/2):(ue="left",p=pe+(Pe.x+Ge.x)*2,w=Ae/2),u=u.subtract(ae(p,w,!0)).add(Pe).add(Ge),ge(P,"leaflet-tooltip-right"),ge(P,"leaflet-tooltip-left"),ge(P,"leaflet-tooltip-top"),ge(P,"leaflet-tooltip-bottom"),J(P,"leaflet-tooltip-"+ue),qe(P,u)},_updatePosition:function(){var u=this._map.latLngToLayerPoint(this._latlng);this._setPosition(u)},setOpacity:function(u){this.options.opacity=u,this._container&&Ee(this._container,u)},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center);this._setPosition(p)},_getAnchor:function(){return ae(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),yv=function(u,p){return new al(u,p)};xt.include({openTooltip:function(u,p,w){return this._initOverlay(al,u,p,w).openOn(this),this},closeTooltip:function(u){return u.close(),this}}),ls.include({bindTooltip:function(u,p){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(al,this._tooltip,u,p),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(u){if(!(!u&&this._tooltipHandlersAdded)){var p=u?"off":"on",w={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?w.add=this._openTooltip:(w.mouseover=this._openTooltip,w.mouseout=this.closeTooltip,w.click=this._openTooltip,this._map?this._addFocusListeners():w.add=this._addFocusListeners),this._tooltip.options.sticky&&(w.mousemove=this._moveTooltip),this[p](w),this._tooltipHandlersAdded=!u}},openTooltip:function(u){return this._tooltip&&(this instanceof ks||(this._tooltip._source=this),this._tooltip._prepareOpen(u)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(u){return this._tooltip&&this._tooltip.setContent(u),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(u){var p=typeof u.getElement=="function"&&u.getElement();p&&(nt(p,"focus",function(){this._tooltip._source=u,this.openTooltip()},this),nt(p,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(u){var p=typeof u.getElement=="function"&&u.getElement();p&&p.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(u){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var p=this;this._map.once("moveend",function(){p._openOnceFlag=!1,p._openTooltip(u)});return}this._tooltip._source=u.layer||u.target,this.openTooltip(this._tooltip.options.sticky?u.latlng:void 0)}},_moveTooltip:function(u){var p=u.latlng,w,R;this._tooltip.options.sticky&&u.originalEvent&&(w=this._map.mouseEventToContainerPoint(u.originalEvent),R=this._map.containerPointToLayerPoint(w),p=this._map.layerPointToLatLng(R)),this._tooltip.setLatLng(p)}});var Uh=Ns.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(u){var p=u&&u.tagName==="DIV"?u:document.createElement("div"),w=this.options;if(w.html instanceof Element?(ee(p),p.appendChild(w.html)):p.innerHTML=w.html!==!1?w.html:"",w.bgPos){var R=ae(w.bgPos);p.style.backgroundPosition=-R.x+"px "+-R.y+"px"}return this._setIconStyles(p,"icon"),p},createShadow:function(){return null}});function bv(u){return new Uh(u)}Ns.Default=el;var Zo=ls.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ze.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(u){E(this,u)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(u){u._addZoomLimit(this)},onRemove:function(u){this._removeAllTiles(),U(this._container),u._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(H(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(re(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(u){return this.options.opacity=u,this._updateOpacity(),this},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var u=this._clampZoom(this._map.getZoom());u!==this._tileZoom&&(this._tileZoom=u,this._updateLevels()),this._update()}return this},getEvents:function(){var u={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),u.move=this._onMove),this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},createTile:function(){return document.createElement("div")},getTileSize:function(){var u=this.options.tileSize;return u instanceof ne?u:new ne(u,u)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(u){for(var p=this.getPane().children,w=-u(-1/0,1/0),R=0,P=p.length,B;R<P;R++)B=p[R].style.zIndex,p[R]!==this._container&&B&&(w=u(w,+B));isFinite(w)&&(this.options.zIndex=w+u(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ze.ielt9){Ee(this._container,this.options.opacity);var u=+new Date,p=!1,w=!1;for(var R in this._tiles){var P=this._tiles[R];if(!(!P.current||!P.loaded)){var B=Math.min(1,(u-P.loaded)/200);Ee(P.el,B),B<1?p=!0:(P.active?w=!0:this._onOpaqueTile(P),P.active=!0)}}w&&!this._noPrune&&this._pruneTiles(),p&&(W(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=ft("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var u=this._tileZoom,p=this.options.maxZoom;if(u!==void 0){for(var w in this._levels)w=Number(w),this._levels[w].el.children.length||w===u?(this._levels[w].el.style.zIndex=p-Math.abs(u-w),this._onUpdateLevel(w)):(U(this._levels[w].el),this._removeTilesAtZoom(w),this._onRemoveLevel(w),delete this._levels[w]);var R=this._levels[u],P=this._map;return R||(R=this._levels[u]={},R.el=ft("div","leaflet-tile-container leaflet-zoom-animated",this._container),R.el.style.zIndex=p,R.origin=P.project(P.unproject(P.getPixelOrigin()),u).round(),R.zoom=u,this._setZoomTransform(R,P.getCenter(),P.getZoom()),v(R.el.offsetWidth),this._onCreateLevel(R)),this._level=R,R}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var u,p,w=this._map.getZoom();if(w>this.options.maxZoom||w<this.options.minZoom){this._removeAllTiles();return}for(u in this._tiles)p=this._tiles[u],p.retain=p.current;for(u in this._tiles)if(p=this._tiles[u],p.current&&!p.active){var R=p.coords;this._retainParent(R.x,R.y,R.z,R.z-5)||this._retainChildren(R.x,R.y,R.z,R.z+2)}for(u in this._tiles)this._tiles[u].retain||this._removeTile(u)}},_removeTilesAtZoom:function(u){for(var p in this._tiles)this._tiles[p].coords.z===u&&this._removeTile(p)},_removeAllTiles:function(){for(var u in this._tiles)this._removeTile(u)},_invalidateAll:function(){for(var u in this._levels)U(this._levels[u].el),this._onRemoveLevel(Number(u)),delete this._levels[u];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(u,p,w,R){var P=Math.floor(u/2),B=Math.floor(p/2),Q=w-1,ue=new ne(+P,+B);ue.z=+Q;var pe=this._tileCoordsToKey(ue),Ae=this._tiles[pe];return Ae&&Ae.active?(Ae.retain=!0,!0):(Ae&&Ae.loaded&&(Ae.retain=!0),Q>R?this._retainParent(P,B,Q,R):!1)},_retainChildren:function(u,p,w,R){for(var P=2*u;P<2*u+2;P++)for(var B=2*p;B<2*p+2;B++){var Q=new ne(P,B);Q.z=w+1;var ue=this._tileCoordsToKey(Q),pe=this._tiles[ue];if(pe&&pe.active){pe.retain=!0;continue}else pe&&pe.loaded&&(pe.retain=!0);w+1<R&&this._retainChildren(P,B,w+1,R)}},_resetView:function(u){var p=u&&(u.pinch||u.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),p,p)},_animateZoom:function(u){this._setView(u.center,u.zoom,!0,u.noUpdate)},_clampZoom:function(u){var p=this.options;return p.minNativeZoom!==void 0&&u<p.minNativeZoom?p.minNativeZoom:p.maxNativeZoom!==void 0&&p.maxNativeZoom<u?p.maxNativeZoom:u},_setView:function(u,p,w,R){var P=Math.round(p);this.options.maxZoom!==void 0&&P>this.options.maxZoom||this.options.minZoom!==void 0&&P<this.options.minZoom?P=void 0:P=this._clampZoom(P);var B=this.options.updateWhenZooming&&P!==this._tileZoom;(!R||B)&&(this._tileZoom=P,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),P!==void 0&&this._update(u),w||this._pruneTiles(),this._noPrune=!!w),this._setZoomTransforms(u,p)},_setZoomTransforms:function(u,p){for(var w in this._levels)this._setZoomTransform(this._levels[w],u,p)},_setZoomTransform:function(u,p,w){var R=this._map.getZoomScale(w,u.zoom),P=u.origin.multiplyBy(R).subtract(this._map._getNewPixelOrigin(p,w)).round();ze.any3d?et(u.el,P,R):qe(u.el,P)},_resetGrid:function(){var u=this._map,p=u.options.crs,w=this._tileSize=this.getTileSize(),R=this._tileZoom,P=this._map.getPixelWorldBounds(this._tileZoom);P&&(this._globalTileRange=this._pxBoundsToTileRange(P)),this._wrapX=p.wrapLng&&!this.options.noWrap&&[Math.floor(u.project([0,p.wrapLng[0]],R).x/w.x),Math.ceil(u.project([0,p.wrapLng[1]],R).x/w.y)],this._wrapY=p.wrapLat&&!this.options.noWrap&&[Math.floor(u.project([p.wrapLat[0],0],R).y/w.x),Math.ceil(u.project([p.wrapLat[1],0],R).y/w.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(u){var p=this._map,w=p._animatingZoom?Math.max(p._animateToZoom,p.getZoom()):p.getZoom(),R=p.getZoomScale(w,this._tileZoom),P=p.project(u,this._tileZoom).floor(),B=p.getSize().divideBy(R*2);return new K(P.subtract(B),P.add(B))},_update:function(u){var p=this._map;if(p){var w=this._clampZoom(p.getZoom());if(u===void 0&&(u=p.getCenter()),this._tileZoom!==void 0){var R=this._getTiledPixelBounds(u),P=this._pxBoundsToTileRange(R),B=P.getCenter(),Q=[],ue=this.options.keepBuffer,pe=new K(P.getBottomLeft().subtract([ue,-ue]),P.getTopRight().add([ue,-ue]));if(!(isFinite(P.min.x)&&isFinite(P.min.y)&&isFinite(P.max.x)&&isFinite(P.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ae in this._tiles){var Pe=this._tiles[Ae].coords;(Pe.z!==this._tileZoom||!pe.contains(new ne(Pe.x,Pe.y)))&&(this._tiles[Ae].current=!1)}if(Math.abs(w-this._tileZoom)>1){this._setView(u,w);return}for(var Ge=P.min.y;Ge<=P.max.y;Ge++)for(var ct=P.min.x;ct<=P.max.x;ct++){var zn=new ne(ct,Ge);if(zn.z=this._tileZoom,!!this._isValidTile(zn)){var gn=this._tiles[this._tileCoordsToKey(zn)];gn?gn.current=!0:Q.push(zn)}}if(Q.sort(function(Rt,kt){return Rt.distanceTo(B)-kt.distanceTo(B)}),Q.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Oi=document.createDocumentFragment();for(ct=0;ct<Q.length;ct++)this._addTile(Q[ct],Oi);this._level.el.appendChild(Oi)}}}},_isValidTile:function(u){var p=this._map.options.crs;if(!p.infinite){var w=this._globalTileRange;if(!p.wrapLng&&(u.x<w.min.x||u.x>w.max.x)||!p.wrapLat&&(u.y<w.min.y||u.y>w.max.y))return!1}if(!this.options.bounds)return!0;var R=this._tileCoordsToBounds(u);return xe(this.options.bounds).overlaps(R)},_keyToBounds:function(u){return this._tileCoordsToBounds(this._keyToTileCoords(u))},_tileCoordsToNwSe:function(u){var p=this._map,w=this.getTileSize(),R=u.scaleBy(w),P=R.add(w),B=p.unproject(R,u.z),Q=p.unproject(P,u.z);return[B,Q]},_tileCoordsToBounds:function(u){var p=this._tileCoordsToNwSe(u),w=new be(p[0],p[1]);return this.options.noWrap||(w=this._map.wrapLatLngBounds(w)),w},_tileCoordsToKey:function(u){return u.x+":"+u.y+":"+u.z},_keyToTileCoords:function(u){var p=u.split(":"),w=new ne(+p[0],+p[1]);return w.z=+p[2],w},_removeTile:function(u){var p=this._tiles[u];p&&(U(p.el),delete this._tiles[u],this.fire("tileunload",{tile:p.el,coords:this._keyToTileCoords(u)}))},_initTile:function(u){J(u,"leaflet-tile");var p=this.getTileSize();u.style.width=p.x+"px",u.style.height=p.y+"px",u.onselectstart=v,u.onmousemove=v,ze.ielt9&&this.options.opacity<1&&Ee(u,this.options.opacity)},_addTile:function(u,p){var w=this._getTilePos(u),R=this._tileCoordsToKey(u),P=this.createTile(this._wrapCoords(u),l(this._tileReady,this,u));this._initTile(P),this.createTile.length<2&&q(l(this._tileReady,this,u,null,P)),qe(P,w),this._tiles[R]={el:P,coords:u,current:!0},p.appendChild(P),this.fire("tileloadstart",{tile:P,coords:u})},_tileReady:function(u,p,w){p&&this.fire("tileerror",{error:p,tile:w,coords:u});var R=this._tileCoordsToKey(u);w=this._tiles[R],w&&(w.loaded=+new Date,this._map._fadeAnimated?(Ee(w.el,0),W(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this)):(w.active=!0,this._pruneTiles()),p||(J(w.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:w.el,coords:u})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ze.ielt9||!this._map._fadeAnimated?q(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(u){return u.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(u){var p=new ne(this._wrapX?m(u.x,this._wrapX):u.x,this._wrapY?m(u.y,this._wrapY):u.y);return p.z=u.z,p},_pxBoundsToTileRange:function(u){var p=this.getTileSize();return new K(u.min.unscaleBy(p).floor(),u.max.unscaleBy(p).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var u in this._tiles)if(!this._tiles[u].loaded)return!1;return!0}});function Fh(u){return new Zo(u)}var Mr=Zo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(u,p){this._url=u,p=E(this,p),p.detectRetina&&ze.retina&&p.maxZoom>0?(p.tileSize=Math.floor(p.tileSize/2),p.zoomReverse?(p.zoomOffset--,p.minZoom=Math.min(p.maxZoom,p.minZoom+1)):(p.zoomOffset++,p.maxZoom=Math.max(p.minZoom,p.maxZoom-1)),p.minZoom=Math.max(0,p.minZoom)):p.zoomReverse?p.minZoom=Math.min(p.maxZoom,p.minZoom):p.maxZoom=Math.max(p.minZoom,p.maxZoom),typeof p.subdomains=="string"&&(p.subdomains=p.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(u,p){return this._url===u&&p===void 0&&(p=!0),this._url=u,p||this.redraw(),this},createTile:function(u,p){var w=document.createElement("img");return nt(w,"load",l(this._tileOnLoad,this,p,w)),nt(w,"error",l(this._tileOnError,this,p,w)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(w.referrerPolicy=this.options.referrerPolicy),w.alt="",w.src=this.getTileUrl(u),w},getTileUrl:function(u){var p={r:ze.retina?"@2x":"",s:this._getSubdomain(u),x:u.x,y:u.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var w=this._globalTileRange.max.y-u.y;this.options.tms&&(p.y=w),p["-y"]=w}return k(this._url,s(p,this.options))},_tileOnLoad:function(u,p){ze.ielt9?setTimeout(l(u,this,null,p),0):u(null,p)},_tileOnError:function(u,p,w){var R=this.options.errorTileUrl;R&&p.getAttribute("src")!==R&&(p.src=R),u(w,p)},_onTileRemove:function(u){u.tile.onload=null},_getZoomForUrl:function(){var u=this._tileZoom,p=this.options.maxZoom,w=this.options.zoomReverse,R=this.options.zoomOffset;return w&&(u=p-u),u+R},_getSubdomain:function(u){var p=Math.abs(u.x+u.y)%this.options.subdomains.length;return this.options.subdomains[p]},_abortLoading:function(){var u,p;for(u in this._tiles)if(this._tiles[u].coords.z!==this._tileZoom&&(p=this._tiles[u].el,p.onload=v,p.onerror=v,!p.complete)){p.src=j;var w=this._tiles[u].coords;U(p),delete this._tiles[u],this.fire("tileabort",{tile:p,coords:w})}},_removeTile:function(u){var p=this._tiles[u];if(p)return p.el.setAttribute("src",j),Zo.prototype._removeTile.call(this,u)},_tileReady:function(u,p,w){if(!(!this._map||w&&w.getAttribute("src")===j))return Zo.prototype._tileReady.call(this,u,p,w)}});function $i(u,p){return new Mr(u,p)}var ll=Mr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(u,p){this._url=u;var w=s({},this.defaultWmsParams);for(var R in p)R in this.options||(w[R]=p[R]);p=E(this,p);var P=p.detectRetina&&ze.retina?2:1,B=this.getTileSize();w.width=B.x*P,w.height=B.y*P,this.wmsParams=w},onAdd:function(u){this._crs=this.options.crs||u.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var p=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[p]=this._crs.code,Mr.prototype.onAdd.call(this,u)},getTileUrl:function(u){var p=this._tileCoordsToNwSe(u),w=this._crs,R=oe(w.project(p[0]),w.project(p[1])),P=R.min,B=R.max,Q=(this._wmsVersion>=1.3&&this._crs===sd?[P.y,P.x,B.y,B.x]:[P.x,P.y,B.x,B.y]).join(","),ue=Mr.prototype.getTileUrl.call(this,u);return ue+T(this.wmsParams,ue,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Q},setParams:function(u,p){return s(this.wmsParams,u),p||this.redraw(),this}});function Hi(u,p){return new ll(u,p)}Mr.WMS=ll,$i.wms=Hi;var _i=ls.extend({options:{padding:.1},initialize:function(u){E(this,u),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),J(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var u={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(u.zoomanim=this._onAnimZoom),u},_onAnimZoom:function(u){this._updateTransform(u.center,u.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(u,p){var w=this._map.getZoomScale(p,this._zoom),R=this._map.getSize().multiplyBy(.5+this.options.padding),P=this._map.project(this._center,p),B=R.multiplyBy(-w).add(P).subtract(this._map._getNewPixelOrigin(u,p));ze.any3d?et(this._container,B,w):qe(this._container,B)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var u in this._layers)this._layers[u]._reset()},_onZoomEnd:function(){for(var u in this._layers)this._layers[u]._project()},_updatePaths:function(){for(var u in this._layers)this._layers[u]._update()},_update:function(){var u=this.options.padding,p=this._map.getSize(),w=this._map.containerPointToLayerPoint(p.multiplyBy(-u)).round();this._bounds=new K(w,w.add(p.multiplyBy(1+u*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),xc=_i.extend({options:{tolerance:0},getEvents:function(){var u=_i.prototype.getEvents.call(this);return u.viewprereset=this._onViewPreReset,u},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){_i.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var u=this._container=document.createElement("canvas");nt(u,"mousemove",this._onMouseMove,this),nt(u,"click dblclick mousedown mouseup contextmenu",this._onClick,this),nt(u,"mouseout",this._handleMouseOut,this),u._leaflet_disable_events=!0,this._ctx=u.getContext("2d")},_destroyContainer:function(){W(this._redrawRequest),delete this._ctx,U(this._container),It(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var u;this._redrawBounds=null;for(var p in this._layers)u=this._layers[p],u._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_i.prototype._update.call(this);var u=this._bounds,p=this._container,w=u.getSize(),R=ze.retina?2:1;qe(p,u.min),p.width=R*w.x,p.height=R*w.y,p.style.width=w.x+"px",p.style.height=w.y+"px",ze.retina&&this._ctx.scale(2,2),this._ctx.translate(-u.min.x,-u.min.y),this.fire("update")}},_reset:function(){_i.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(u){this._updateDashArray(u),this._layers[d(u)]=u;var p=u._order={layer:u,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=p),this._drawLast=p,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(u){this._requestRedraw(u)},_removePath:function(u){var p=u._order,w=p.next,R=p.prev;w?w.prev=R:this._drawLast=R,R?R.next=w:this._drawFirst=w,delete u._order,delete this._layers[d(u)],this._requestRedraw(u)},_updatePath:function(u){this._extendRedrawBounds(u),u._project(),u._update(),this._requestRedraw(u)},_updateStyle:function(u){this._updateDashArray(u),this._requestRedraw(u)},_updateDashArray:function(u){if(typeof u.options.dashArray=="string"){var p=u.options.dashArray.split(/[, ]+/),w=[],R,P;for(P=0;P<p.length;P++){if(R=Number(p[P]),isNaN(R))return;w.push(R)}u.options._dashArray=w}else u.options._dashArray=u.options.dashArray},_requestRedraw:function(u){this._map&&(this._extendRedrawBounds(u),this._redrawRequest=this._redrawRequest||q(this._redraw,this))},_extendRedrawBounds:function(u){if(u._pxBounds){var p=(u.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new K,this._redrawBounds.extend(u._pxBounds.min.subtract([p,p])),this._redrawBounds.extend(u._pxBounds.max.add([p,p]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var u=this._redrawBounds;if(u){var p=u.getSize();this._ctx.clearRect(u.min.x,u.min.y,p.x,p.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var u,p=this._redrawBounds;if(this._ctx.save(),p){var w=p.getSize();this._ctx.beginPath(),this._ctx.rect(p.min.x,p.min.y,w.x,w.y),this._ctx.clip()}this._drawing=!0;for(var R=this._drawFirst;R;R=R.next)u=R.layer,(!p||u._pxBounds&&u._pxBounds.intersects(p))&&u._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(u,p){if(this._drawing){var w,R,P,B,Q=u._parts,ue=Q.length,pe=this._ctx;if(ue){for(pe.beginPath(),w=0;w<ue;w++){for(R=0,P=Q[w].length;R<P;R++)B=Q[w][R],pe[R?"lineTo":"moveTo"](B.x,B.y);p&&pe.closePath()}this._fillStroke(pe,u)}}},_updateCircle:function(u){if(!(!this._drawing||u._empty())){var p=u._point,w=this._ctx,R=Math.max(Math.round(u._radius),1),P=(Math.max(Math.round(u._radiusY),1)||R)/R;P!==1&&(w.save(),w.scale(1,P)),w.beginPath(),w.arc(p.x,p.y/P,R,0,Math.PI*2,!1),P!==1&&w.restore(),this._fillStroke(w,u)}},_fillStroke:function(u,p){var w=p.options;w.fill&&(u.globalAlpha=w.fillOpacity,u.fillStyle=w.fillColor||w.color,u.fill(w.fillRule||"evenodd")),w.stroke&&w.weight!==0&&(u.setLineDash&&u.setLineDash(p.options&&p.options._dashArray||[]),u.globalAlpha=w.opacity,u.lineWidth=w.weight,u.strokeStyle=w.color,u.lineCap=w.lineCap,u.lineJoin=w.lineJoin,u.stroke())},_onClick:function(u){for(var p=this._map.mouseEventToLayerPoint(u),w,R,P=this._drawFirst;P;P=P.next)w=P.layer,w.options.interactive&&w._containsPoint(p)&&(!(u.type==="click"||u.type==="preclick")||!this._map._draggableMoved(w))&&(R=w);this._fireEvent(R?[R]:!1,u)},_onMouseMove:function(u){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var p=this._map.mouseEventToLayerPoint(u);this._handleMouseHover(u,p)}},_handleMouseOut:function(u){var p=this._hoveredLayer;p&&(ge(this._container,"leaflet-interactive"),this._fireEvent([p],u,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(u,p){if(!this._mouseHoverThrottled){for(var w,R,P=this._drawFirst;P;P=P.next)w=P.layer,w.options.interactive&&w._containsPoint(p)&&(R=w);R!==this._hoveredLayer&&(this._handleMouseOut(u),R&&(J(this._container,"leaflet-interactive"),this._fireEvent([R],u,"mouseover"),this._hoveredLayer=R)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,u),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(u,p,w){this._map._fireDOMEvent(p,w||p.type,u)},_bringToFront:function(u){var p=u._order;if(p){var w=p.next,R=p.prev;if(w)w.prev=R;else return;R?R.next=w:w&&(this._drawFirst=w),p.prev=this._drawLast,this._drawLast.next=p,p.next=null,this._drawLast=p,this._requestRedraw(u)}},_bringToBack:function(u){var p=u._order;if(p){var w=p.next,R=p.prev;if(R)R.next=w;else return;w?w.prev=R:R&&(this._drawLast=R),p.prev=null,p.next=this._drawFirst,this._drawFirst.prev=p,this._drawFirst=p,this._requestRedraw(u)}}});function cl(u){return ze.canvas?new xc(u):null}var Dr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(u){return document.createElement("<lvml:"+u+' class="lvml">')}}catch{}return function(u){return document.createElement("<"+u+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),rd={_initContainer:function(){this._container=ft("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(_i.prototype._update.call(this),this.fire("update"))},_initPath:function(u){var p=u._container=Dr("shape");J(p,"leaflet-vml-shape "+(this.options.className||"")),p.coordsize="1 1",u._path=Dr("path"),p.appendChild(u._path),this._updateStyle(u),this._layers[d(u)]=u},_addPath:function(u){var p=u._container;this._container.appendChild(p),u.options.interactive&&u.addInteractiveTarget(p)},_removePath:function(u){var p=u._container;U(p),u.removeInteractiveTarget(p),delete this._layers[d(u)]},_updateStyle:function(u){var p=u._stroke,w=u._fill,R=u.options,P=u._container;P.stroked=!!R.stroke,P.filled=!!R.fill,R.stroke?(p||(p=u._stroke=Dr("stroke")),P.appendChild(p),p.weight=R.weight+"px",p.color=R.color,p.opacity=R.opacity,R.dashArray?p.dashStyle=O(R.dashArray)?R.dashArray.join(" "):R.dashArray.replace(/( *, *)/g," "):p.dashStyle="",p.endcap=R.lineCap.replace("butt","flat"),p.joinstyle=R.lineJoin):p&&(P.removeChild(p),u._stroke=null),R.fill?(w||(w=u._fill=Dr("fill")),P.appendChild(w),w.color=R.fillColor||R.color,w.opacity=R.fillOpacity):w&&(P.removeChild(w),u._fill=null)},_updateCircle:function(u){var p=u._point.round(),w=Math.round(u._radius),R=Math.round(u._radiusY||w);this._setPath(u,u._empty()?"M0 0":"AL "+p.x+","+p.y+" "+w+","+R+" 0,"+65535*360)},_setPath:function(u,p){u._path.v=p},_bringToFront:function(u){H(u._container)},_bringToBack:function(u){re(u._container)}},Ps=ze.vml?Dr:zt,Xo=_i.extend({_initContainer:function(){this._container=Ps("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ps("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){U(this._container),It(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_i.prototype._update.call(this);var u=this._bounds,p=u.getSize(),w=this._container;(!this._svgSize||!this._svgSize.equals(p))&&(this._svgSize=p,w.setAttribute("width",p.x),w.setAttribute("height",p.y)),qe(w,u.min),w.setAttribute("viewBox",[u.min.x,u.min.y,p.x,p.y].join(" ")),this.fire("update")}},_initPath:function(u){var p=u._path=Ps("path");u.options.className&&J(p,u.options.className),u.options.interactive&&J(p,"leaflet-interactive"),this._updateStyle(u),this._layers[d(u)]=u},_addPath:function(u){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(u._path),u.addInteractiveTarget(u._path)},_removePath:function(u){U(u._path),u.removeInteractiveTarget(u._path),delete this._layers[d(u)]},_updatePath:function(u){u._project(),u._update()},_updateStyle:function(u){var p=u._path,w=u.options;p&&(w.stroke?(p.setAttribute("stroke",w.color),p.setAttribute("stroke-opacity",w.opacity),p.setAttribute("stroke-width",w.weight),p.setAttribute("stroke-linecap",w.lineCap),p.setAttribute("stroke-linejoin",w.lineJoin),w.dashArray?p.setAttribute("stroke-dasharray",w.dashArray):p.removeAttribute("stroke-dasharray"),w.dashOffset?p.setAttribute("stroke-dashoffset",w.dashOffset):p.removeAttribute("stroke-dashoffset")):p.setAttribute("stroke","none"),w.fill?(p.setAttribute("fill",w.fillColor||w.color),p.setAttribute("fill-opacity",w.fillOpacity),p.setAttribute("fill-rule",w.fillRule||"evenodd")):p.setAttribute("fill","none"))},_updatePoly:function(u,p){this._setPath(u,dn(u._parts,p))},_updateCircle:function(u){var p=u._point,w=Math.max(Math.round(u._radius),1),R=Math.max(Math.round(u._radiusY),1)||w,P="a"+w+","+R+" 0 1,0 ",B=u._empty()?"M0 0":"M"+(p.x-w)+","+p.y+P+w*2+",0 "+P+-w*2+",0 ";this._setPath(u,B)},_setPath:function(u,p){u._path.setAttribute("d",p)},_bringToFront:function(u){H(u._path)},_bringToBack:function(u){re(u._path)}});ze.vml&&Xo.include(rd);function ul(u){return ze.svg||ze.vml?new Xo(u):null}xt.include({getRenderer:function(u){var p=u.options.renderer||this._getPaneRenderer(u.options.pane)||this.options.renderer||this._renderer;return p||(p=this._renderer=this._createRenderer()),this.hasLayer(p)||this.addLayer(p),p},_getPaneRenderer:function(u){if(u==="overlayPane"||u===void 0)return!1;var p=this._paneRenderers[u];return p===void 0&&(p=this._createRenderer({pane:u}),this._paneRenderers[u]=p),p},_createRenderer:function(u){return this.options.preferCanvas&&cl(u)||ul(u)}});var uo=Ko.extend({initialize:function(u,p){Ko.prototype.initialize.call(this,this._boundsToLatLngs(u),p)},setBounds:function(u){return this.setLatLngs(this._boundsToLatLngs(u))},_boundsToLatLngs:function(u){return u=xe(u),[u.getSouthWest(),u.getNorthWest(),u.getNorthEast(),u.getSouthEast()]}});function xv(u,p){return new uo(u,p)}Xo.create=Ps,Xo.pointsToPath=dn,nr.geometryToLayer=Jn,nr.coordsToLatLng=mc,nr.coordsToLatLngs=il,nr.latLngToCoords=gc,nr.latLngsToCoords=sl,nr.getFeature=Nr,nr.asFeature=vc,xt.mergeOptions({boxZoom:!0});var wi=Rs.extend({initialize:function(u){this._map=u,this._container=u._container,this._pane=u._panes.overlayPane,this._resetStateTimeout=0,u.on("unload",this._destroy,this)},addHooks:function(){nt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){It(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){U(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(u){if(!u.shiftKey||u.which!==1&&u.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ut(),Er(),this._startPoint=this._map.mouseEventToContainerPoint(u),nt(document,{contextmenu:Rr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(u){this._moved||(this._moved=!0,this._box=ft("div","leaflet-zoom-box",this._container),J(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(u);var p=new K(this._point,this._startPoint),w=p.getSize();qe(this._box,p.min),this._box.style.width=w.x+"px",this._box.style.height=w.y+"px"},_finish:function(){this._moved&&(U(this._box),ge(this._container,"leaflet-crosshair")),Et(),ro(),It(document,{contextmenu:Rr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(u){if(!(u.which!==1&&u.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var p=new be(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(p).fire("boxzoomend",{boxZoomBounds:p})}},_onKeyDown:function(u){u.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});xt.addInitHook("addHandler","boxZoom",wi),xt.mergeOptions({doubleClickZoom:!0});var _c=Rs.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(u){var p=this._map,w=p.getZoom(),R=p.options.zoomDelta,P=u.originalEvent.shiftKey?w-R:w+R;p.options.doubleClickZoom==="center"?p.setZoom(P):p.setZoomAround(u.containerPoint,P)}});xt.addInitHook("addHandler","doubleClickZoom",_c),xt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ms=Rs.extend({addHooks:function(){if(!this._draggable){var u=this._map;this._draggable=new kr(u._mapPane,u._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),u.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),u.on("zoomend",this._onZoomEnd,this),u.whenReady(this._onZoomEnd,this))}J(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ge(this._map._container,"leaflet-grab"),ge(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var u=this._map;if(u._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var p=xe(this._map.options.maxBounds);this._offsetLimit=oe(this._map.latLngToContainerPoint(p.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(p.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;u.fire("movestart").fire("dragstart"),u.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(u){if(this._map.options.inertia){var p=this._lastTime=+new Date,w=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(w),this._times.push(p),this._prunePositions(p)}this._map.fire("move",u).fire("drag",u)},_prunePositions:function(u){for(;this._positions.length>1&&u-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var u=this._map.getSize().divideBy(2),p=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=p.subtract(u).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(u,p){return u-(u-p)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var u=this._draggable._newPos.subtract(this._draggable._startPos),p=this._offsetLimit;u.x<p.min.x&&(u.x=this._viscousLimit(u.x,p.min.x)),u.y<p.min.y&&(u.y=this._viscousLimit(u.y,p.min.y)),u.x>p.max.x&&(u.x=this._viscousLimit(u.x,p.max.x)),u.y>p.max.y&&(u.y=this._viscousLimit(u.y,p.max.y)),this._draggable._newPos=this._draggable._startPos.add(u)}},_onPreDragWrap:function(){var u=this._worldWidth,p=Math.round(u/2),w=this._initialWorldOffset,R=this._draggable._newPos.x,P=(R-p+w)%u+p-w,B=(R+p+w)%u-p-w,Q=Math.abs(P+w)<Math.abs(B+w)?P:B;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Q},_onDragEnd:function(u){var p=this._map,w=p.options,R=!w.inertia||u.noInertia||this._times.length<2;if(p.fire("dragend",u),R)p.fire("moveend");else{this._prunePositions(+new Date);var P=this._lastPos.subtract(this._positions[0]),B=(this._lastTime-this._times[0])/1e3,Q=w.easeLinearity,ue=P.multiplyBy(Q/B),pe=ue.distanceTo([0,0]),Ae=Math.min(w.inertiaMaxSpeed,pe),Pe=ue.multiplyBy(Ae/pe),Ge=Ae/(w.inertiaDeceleration*Q),ct=Pe.multiplyBy(-Ge/2).round();!ct.x&&!ct.y?p.fire("moveend"):(ct=p._limitOffset(ct,p.options.maxBounds),q(function(){p.panBy(ct,{duration:Ge,easeLinearity:Q,noMoveStart:!0,animate:!0})}))}}});xt.addInitHook("addHandler","dragging",Ms),xt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var od=Rs.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(u){this._map=u,this._setPanDelta(u.options.keyboardPanDelta),this._setZoomDelta(u.options.zoomDelta)},addHooks:function(){var u=this._map._container;u.tabIndex<=0&&(u.tabIndex="0"),nt(u,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),It(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var u=document.body,p=document.documentElement,w=u.scrollTop||p.scrollTop,R=u.scrollLeft||p.scrollLeft;this._map._container.focus(),window.scrollTo(R,w)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(u){var p=this._panKeys={},w=this.keyCodes,R,P;for(R=0,P=w.left.length;R<P;R++)p[w.left[R]]=[-1*u,0];for(R=0,P=w.right.length;R<P;R++)p[w.right[R]]=[u,0];for(R=0,P=w.down.length;R<P;R++)p[w.down[R]]=[0,u];for(R=0,P=w.up.length;R<P;R++)p[w.up[R]]=[0,-1*u]},_setZoomDelta:function(u){var p=this._zoomKeys={},w=this.keyCodes,R,P;for(R=0,P=w.zoomIn.length;R<P;R++)p[w.zoomIn[R]]=u;for(R=0,P=w.zoomOut.length;R<P;R++)p[w.zoomOut[R]]=-u},_addHooks:function(){nt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){It(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(u){if(!(u.altKey||u.ctrlKey||u.metaKey)){var p=u.keyCode,w=this._map,R;if(p in this._panKeys){if(!w._panAnim||!w._panAnim._inProgress)if(R=this._panKeys[p],u.shiftKey&&(R=ae(R).multiplyBy(3)),w.options.maxBounds&&(R=w._limitOffset(ae(R),w.options.maxBounds)),w.options.worldCopyJump){var P=w.wrapLatLng(w.unproject(w.project(w.getCenter()).add(R)));w.panTo(P)}else w.panBy(R)}else if(p in this._zoomKeys)w.setZoom(w.getZoom()+(u.shiftKey?3:1)*this._zoomKeys[p]);else if(p===27&&w._popup&&w._popup.options.closeOnEscapeKey)w.closePopup();else return;Rr(u)}}});xt.addInitHook("addHandler","keyboard",od),xt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var dl=Rs.extend({addHooks:function(){nt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){It(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(u){var p=ai(u),w=this._map.options.wheelDebounceTime;this._delta+=p,this._lastMousePos=this._map.mouseEventToContainerPoint(u),this._startTime||(this._startTime=+new Date);var R=Math.max(w-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),R),Rr(u)},_performZoom:function(){var u=this._map,p=u.getZoom(),w=this._map.options.zoomSnap||0;u._stop();var R=this._delta/(this._map.options.wheelPxPerZoomLevel*4),P=4*Math.log(2/(1+Math.exp(-Math.abs(R))))/Math.LN2,B=w?Math.ceil(P/w)*w:P,Q=u._limitZoom(p+(this._delta>0?B:-B))-p;this._delta=0,this._startTime=null,Q&&(u.options.scrollWheelZoom==="center"?u.setZoom(p+Q):u.setZoomAround(this._lastMousePos,p+Q))}});xt.addInitHook("addHandler","scrollWheelZoom",dl);var fo=600;xt.mergeOptions({tapHold:ze.touchNative&&ze.safari&&ze.mobile,tapTolerance:15});var wc=Rs.extend({addHooks:function(){nt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){It(this._map._container,"touchstart",this._onDown,this)},_onDown:function(u){if(clearTimeout(this._holdTimeout),u.touches.length===1){var p=u.touches[0];this._startPos=this._newPos=new ne(p.clientX,p.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(nt(document,"touchend",mn),nt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",p))},this),fo),nt(document,"touchend touchcancel contextmenu",this._cancel,this),nt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function u(){It(document,"touchend",mn),It(document,"touchend touchcancel",u)},_cancel:function(){clearTimeout(this._holdTimeout),It(document,"touchend touchcancel contextmenu",this._cancel,this),It(document,"touchmove",this._onMove,this)},_onMove:function(u){var p=u.touches[0];this._newPos=new ne(p.clientX,p.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(u,p){var w=new MouseEvent(u,{bubbles:!0,cancelable:!0,view:window,screenX:p.screenX,screenY:p.screenY,clientX:p.clientX,clientY:p.clientY});w._simulated=!0,p.target.dispatchEvent(w)}});xt.addInitHook("addHandler","tapHold",wc),xt.mergeOptions({touchZoom:ze.touch,bounceAtZoomLimits:!0});var ad=Rs.extend({addHooks:function(){J(this._map._container,"leaflet-touch-zoom"),nt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ge(this._map._container,"leaflet-touch-zoom"),It(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(u){var p=this._map;if(!(!u.touches||u.touches.length!==2||p._animatingZoom||this._zooming)){var w=p.mouseEventToContainerPoint(u.touches[0]),R=p.mouseEventToContainerPoint(u.touches[1]);this._centerPoint=p.getSize()._divideBy(2),this._startLatLng=p.containerPointToLatLng(this._centerPoint),p.options.touchZoom!=="center"&&(this._pinchStartLatLng=p.containerPointToLatLng(w.add(R)._divideBy(2))),this._startDist=w.distanceTo(R),this._startZoom=p.getZoom(),this._moved=!1,this._zooming=!0,p._stop(),nt(document,"touchmove",this._onTouchMove,this),nt(document,"touchend touchcancel",this._onTouchEnd,this),mn(u)}},_onTouchMove:function(u){if(!(!u.touches||u.touches.length!==2||!this._zooming)){var p=this._map,w=p.mouseEventToContainerPoint(u.touches[0]),R=p.mouseEventToContainerPoint(u.touches[1]),P=w.distanceTo(R)/this._startDist;if(this._zoom=p.getScaleZoom(P,this._startZoom),!p.options.bounceAtZoomLimits&&(this._zoom<p.getMinZoom()&&P<1||this._zoom>p.getMaxZoom()&&P>1)&&(this._zoom=p._limitZoom(this._zoom)),p.options.touchZoom==="center"){if(this._center=this._startLatLng,P===1)return}else{var B=w._add(R)._divideBy(2)._subtract(this._centerPoint);if(P===1&&B.x===0&&B.y===0)return;this._center=p.unproject(p.project(this._pinchStartLatLng,this._zoom).subtract(B),this._zoom)}this._moved||(p._moveStart(!0,!1),this._moved=!0),W(this._animRequest);var Q=l(p._move,p,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=q(Q,this,!0),mn(u)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,W(this._animRequest),It(document,"touchmove",this._onTouchMove,this),It(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});xt.addInitHook("addHandler","touchZoom",ad),xt.BoxZoom=wi,xt.DoubleClickZoom=_c,xt.Drag=Ms,xt.Keyboard=od,xt.ScrollWheelZoom=dl,xt.TapHold=wc,xt.TouchZoom=ad,n.Bounds=K,n.Browser=ze,n.CRS=Se,n.Canvas=xc,n.Circle=pc,n.CircleMarker=Go,n.Class=ie,n.Control=Ni,n.DivIcon=Uh,n.DivOverlay=ei,n.DomEvent=cc,n.DomUtil=Uo,n.Draggable=kr,n.Evented=X,n.FeatureGroup=ks,n.GeoJSON=nr,n.GridLayer=Zo,n.Handler=Rs,n.Icon=Ns,n.ImageOverlay=Wo,n.LatLng=Re,n.LatLngBounds=be,n.Layer=ls,n.LayerGroup=Ho,n.LineUtil=pv,n.Map=xt,n.Marker=nl,n.Mixin=uv,n.Path=Os,n.Point=ne,n.PolyUtil=nd,n.Polygon=Ko,n.Polyline=tr,n.Popup=ol,n.PosAnimation=Fo,n.Projection=Oh,n.Rectangle=uo,n.Renderer=_i,n.SVG=Xo,n.SVGOverlay=bc,n.TileLayer=Mr,n.Tooltip=al,n.Transformation=Ze,n.Util=Z,n.VideoOverlay=Pr,n.bind=l,n.bounds=oe,n.canvas=cl,n.circle=jh,n.circleMarker=Lh,n.control=er,n.divIcon=bv,n.extend=s,n.featureGroup=Mh,n.geoJSON=yc,n.geoJson=rl,n.gridLayer=Fh,n.icon=Ja,n.imageOverlay=Ih,n.latLng=we,n.latLngBounds=xe,n.layerGroup=mv,n.map=Zu,n.marker=Dh,n.point=ae,n.polygon=vv,n.polyline=gv,n.popup=Bh,n.rectangle=xv,n.setOptions=E,n.stamp=d,n.svg=ul,n.svgOverlay=zh,n.tileLayer=$i,n.tooltip=yv,n.transformation=Xe,n.version=i,n.videoOverlay=Yo;var ld=window.L;n.noConflict=function(){return window.L=ld,this},window.L=n}))})(sf,sf.exports)),sf.exports}var qg=Ote();function Mw(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Dw(e,t){return t==null?function(i,s){const o=x.useRef(void 0);return o.current||(o.current=e(i,s)),o}:function(i,s){const o=x.useRef(void 0);o.current||(o.current=e(i,s));const l=x.useRef(i),{instance:c}=o.current;return x.useEffect(function(){l.current!==i&&(t(c,i,l.current),l.current=i)},[c,i,t]),o}}function Pte(e,t){x.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function fj(e){return function(n){const i=Ow(),s=e(Pw(n,i),i);return uj(i.map,n.attribution),dj(s.current,n.eventHandlers),Pte(s.current,i),s}}function Mte(e,t){const n=Dw(e,t),i=fj(n);return Ate(i)}function Dte(e,t){const n=Dw(e),i=kte(n,t);return Tte(i)}function Lte(e,t){const n=Dw(e,t),i=fj(n);return Rte(i)}function jte(e,t,n){const{opacity:i,zIndex:s}=t;i!=null&&i!==n.opacity&&e.setOpacity(i),s!=null&&s!==n.zIndex&&e.setZIndex(s)}function Ite(){return Ow().map}function zte({bounds:e,boundsOptions:t,center:n,children:i,className:s,id:o,placeholder:l,style:c,whenReady:d,zoom:h,...m},v){const[b]=x.useState({className:s,id:o,style:c}),[_,C]=x.useState(null),E=x.useRef(void 0);x.useImperativeHandle(v,()=>_?.map??null,[_]);const T=x.useCallback(k=>{if(k!==null&&!E.current){const O=new qg.Map(k,m);E.current=O,n!=null&&h!=null?O.setView(n,h):e!=null&&O.fitBounds(e,t),d!=null&&O.whenReady(d),C(Cte(O))}},[]);x.useEffect(()=>()=>{_?.map.remove()},[_]);const N=_?Pt.createElement(Nw,{value:_},i):l??null;return Pt.createElement("div",{...b,ref:T},N)}const Bte=x.forwardRef(zte),Ute=Mte(function({position:t,...n},i){const s=new qg.Marker(t,n);return Mw(s,Ete(i,{overlayContainer:s}))},function(t,n,i){n.position!==i.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),Fte=Dte(function(t,n){const i=new qg.Popup(t,n.overlayContainer);return Mw(i,n)},function(t,n,{position:i},s){x.useEffect(function(){const{instance:l}=t;function c(h){h.popup===l&&(l.update(),s(!0))}function d(h){h.popup===l&&s(!1)}return n.map.on({popupopen:c,popupclose:d}),n.overlayContainer==null?(i!=null&&l.setLatLng(i),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){n.map.off({popupopen:c,popupclose:d}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(l)}},[t,n,s,i])}),Vte=Lte(function({url:t,...n},i){const s=new qg.TileLayer(t,Pw(n,i));return Mw(s,i)},function(t,n,i){jte(t,n,i);const{url:s}=n;s!=null&&s!==i.url&&t.setUrl(s)}),$te=({bounds:e})=>{const t=Ite();return x.useEffect(()=>{e.length>=2?t.fitBounds(e,{padding:[30,30]}):e.length===1&&t.setView(e[0],6)},[e,t]),null},Hte=e=>wr({queryKey:["occurrences",e],queryFn:async()=>{const n=(await fZ(e)).results.filter(i=>i.decimalLatitude&&i.decimalLongitude).map(i=>({decimalLatitude:i.decimalLatitude,decimalLongitude:i.decimalLongitude,eventDate:i.eventDate,locality:i.locality,country:i.country,recordedBy:i.recordedBy,references:i.references}));return{hasResults:n.length>0,occurrences:n}},staleTime:1e3*60*15}),Gte=x.memo(({specieKey:e})=>{const{t}=At(),{data:n,isFetching:i}=Hte(e),s=n?.occurrences??[],o=n?.hasResults;return i?y.jsx(ih,{className:"m-auto size-4 animate-spin"}):!i&&!o?null:y.jsxs("div",{className:"flex w-full flex-col gap-1 pb-4",children:[y.jsxs(Bte,{center:[s[0].decimalLatitude,s[0].decimalLongitude],zoom:4,style:{height:"250px",width:"100%",borderRadius:"12px",border:"none"},children:[y.jsx(Vte,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),y.jsx($te,{bounds:s.map(l=>[l.decimalLatitude,l.decimalLongitude])}),s.map((l,c)=>y.jsx(Ute,{position:[l.decimalLatitude,l.decimalLongitude],children:y.jsx(Fte,{children:y.jsxs("div",{className:"text-sm",children:[y.jsxs("p",{children:[y.jsxs("strong",{children:[t("occurrenceMap.locality"),":"]})," ",l.locality??t("occurrenceMap.notInformed")]}),y.jsxs("p",{children:[y.jsxs("strong",{children:[t("occurrenceMap.country"),":"]})," ",l.country??t("occurrenceMap.notInformed")]}),y.jsxs("p",{children:[y.jsxs("strong",{children:[t("occurrenceMap.date"),": "]}),l.eventDate?new Date(l.eventDate).toLocaleDateString():t("occurrenceMap.noDate")]}),y.jsxs("p",{className:"wrap-break-word",children:[y.jsxs("strong",{children:[t("occurrenceMap.recordedBy"),":"]})," ",l.recordedBy??t("occurrenceMap.unknown")]}),l.references&&y.jsx("p",{className:"mt-2",children:y.jsx("a",{href:l.references,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:t("occurrenceMap.viewReference")})})]})})},c))]},`map-${e}`),y.jsxs("div",{className:"bg-card text-muted-foreground rounded-xl p-2 text-xs",children:[t("occurrenceMap.dataProvidedBy"),y.jsx("a",{href:"https://www.gbif.org",target:"_blank",rel:"noopener noreferrer",className:"ml-1 text-blue-600 underline",children:"GBIF.org"}),t("occurrenceMap.dataNote")]})]})}),$u=({embedded:e=!1,backLabel:t})=>{const{t:n}=At(),{isTablet:i}=ec(),s=Ei(),o=Me(La),l=Lt(La),c=Lt(Ye.expandedNodes),d=Me(Ye.expandedNodes),h=d.find(T=>T.rank==="SPECIES")?.key,m=o??h,v=o!==null,b=!v&&h!==null&&h!==void 0&&i,{data:_,isLoading:C}=Bo({specieKey:m}),E=x.useCallback(()=>{if(v)l(null);else{const T=d.filter(k=>k.rank!=="SPECIES"),N=T.length>0?`/tree/${T.map(k=>k.key).join("/")}`:"/";c(T),s({to:N})}},[v,l,d,s,c]);return C?y.jsxs("div",{className:"p-6",children:[y.jsx(wD,{}),y.jsx(yZ,{})]}):_?y.jsxs(jt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:e?void 0:"h-full overflow-auto",style:{containerType:"inline-size"},children:[(v||b)&&!e&&y.jsx("div",{className:"bg-card/95 sticky top-0 z-10 border-b px-4 py-3 shadow-sm backdrop-blur-sm",children:y.jsxs(Ht,{onClick:E,variant:"ghost",size:"sm",className:"gap-2",children:[y.jsx(Lg,{className:"size-4"}),t??n(b?"specieDetail.backToTree":"specieDetail.backToGallery")]})}),y.jsx("div",{className:`p-4 ${v||b?"pt-6":e?"pt-2":"md:mt-4"}`,children:y.jsxs("div",{className:"mx-auto grid max-w-7xl grid-cols-1 gap-6 lg:grid-cols-2",children:[y.jsx(jt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-card rounded-xl border p-6 shadow-lg",children:y.jsx(wte,{})}),y.jsxs("div",{className:"flex flex-col gap-6",children:[y.jsx(jt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-card overflow-hidden rounded-xl border shadow-lg",children:y.jsx(SZ,{})}),m&&y.jsx(jt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:y.jsx(Gte,{specieKey:m})})]})]})})]}):y.jsx("div",{className:"flex h-full items-center justify-center",children:y.jsx("p",{className:"text-muted-foreground",children:n("specieDetail.notFound")})})},Kte=e=>{const t=new Set;return e.filter(n=>t.has(n.kingdom)||n.kingdom.toLowerCase()==="viruses"?!1:(t.add(n.kingdom),!0)).map(n=>({key:n.key,rank:n.rank,numDescendants:n.numDescendants,color:To[n.key]}))},qte=()=>{const{kingdoms_key:e}=ic,t=Q_();return wr({queryKey:[e],queryFn:async()=>{const n=await lZ();return Kte(n)},staleTime:1/0,gcTime:1/0,enabled:!t})};function Pl({className:e,...t}){return y.jsx("div",{"data-slot":"skeleton",className:it("bg-accent animate-bounce cursor-wait rounded-md",e),...t})}const Wte=()=>y.jsxs("div",{className:"flex w-full min-w-1/5 flex-col gap-6 overflow-auto border-r-1 px-4 py-6",children:[y.jsx(Pl,{className:"h-12 w-full max-w-2xs"}),y.jsx("div",{className:"flex flex-col gap-1",children:Array.from({length:8}).map((e,t)=>y.jsxs("div",{className:"group flex min-w-2xs items-center gap-4 rounded-lg p-3",children:[y.jsx(Pl,{className:"size-11 rounded-lg"}),y.jsxs("div",{className:"flex w-full items-center justify-between gap-1",children:[y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx(Pl,{className:"h-4 w-32"}),y.jsx(Pl,{className:"h-3 w-16"})]}),y.jsxs("div",{className:"flex flex-col items-end gap-2",children:[y.jsx(Pl,{className:"h-4 w-8"}),y.jsx(Pl,{className:"h-3 w-10"})]})]})]},t))})]}),sx=({type:e})=>{const{t}=At();if(e==="loading")return y.jsx(Wte,{});const n={error:{icon:y.jsx(QO,{className:"h-6 w-6 text-red-500"}),title:t("tree.loadError"),text:t("tree.loadErrorMessage")},empty:{icon:y.jsx(c6,{className:"h-6 w-6"}),title:t("tree.noData"),text:t("tree.noDataMessage")}}[e];return y.jsxs("div",{className:"flex h-[60vh] flex-col items-center justify-center gap-3 text-center",children:[n.icon,y.jsx("h2",{className:"font-semibold",children:n.title}),y.jsx("p",{className:"text-muted-foreground max-w-xs text-sm",children:n.text})]})};function Yte(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,Zte(s,...t)]}function Zte(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function Xte(e){const t=Qte(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(ene);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function Qte(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=nne(s),c=tne(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var hj=Symbol("radix.slottable");function Jte(e){const t=({children:n})=>y.jsx(y.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=hj,t}function ene(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===hj}function tne(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function nne(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ine=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],sne=ine.reduce((e,t)=>{const n=Xte(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function rne(e){const t=one(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(lne);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function one(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=une(s),c=cne(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ane=Symbol("radix.slottable");function lne(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ane}function cne(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function une(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var dne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fne=dne.reduce((e,t)=>{const n=rne(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),pj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),hne="VisuallyHidden",mj=x.forwardRef((e,t)=>y.jsx(fne.span,{...e,ref:t,style:{...pj,...e.style}}));mj.displayName=hne;var pne=mj,[Wg]=Yte("Tooltip",[Lu]),Yg=Lu(),gj="TooltipProvider",mne=700,k0="tooltip.open",[gne,Lw]=Wg(gj),vj=e=>{const{__scopeTooltip:t,delayDuration:n=mne,skipDelayDuration:i=300,disableHoverableContent:s=!1,children:o}=e,l=x.useRef(!0),c=x.useRef(!1),d=x.useRef(0);return x.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),y.jsx(gne,{scope:t,isOpenDelayedRef:l,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,i)},[i]),isPointerInTransitRef:c,onPointerInTransitChange:x.useCallback(h=>{c.current=h},[]),disableHoverableContent:s,children:o})};vj.displayName=gj;var Vf="Tooltip",[vne,mh]=Wg(Vf),yj=e=>{const{__scopeTooltip:t,children:n,open:i,defaultOpen:s,onOpenChange:o,disableHoverableContent:l,delayDuration:c}=e,d=Lw(Vf,e.__scopeTooltip),h=Yg(t),[m,v]=x.useState(null),b=_s(),_=x.useRef(0),C=l??d.disableHoverableContent,E=c??d.delayDuration,T=x.useRef(!1),[N,k]=Do({prop:i,defaultProp:s??!1,onChange:z=>{z?(d.onOpen(),document.dispatchEvent(new CustomEvent(k0))):d.onClose(),o?.(z)},caller:Vf}),O=x.useMemo(()=>N?T.current?"delayed-open":"instant-open":"closed",[N]),M=x.useCallback(()=>{window.clearTimeout(_.current),_.current=0,T.current=!1,k(!0)},[k]),j=x.useCallback(()=>{window.clearTimeout(_.current),_.current=0,k(!1)},[k]),V=x.useCallback(()=>{window.clearTimeout(_.current),_.current=window.setTimeout(()=>{T.current=!0,k(!0),_.current=0},E)},[E,k]);return x.useEffect(()=>()=>{_.current&&(window.clearTimeout(_.current),_.current=0)},[]),y.jsx(Ng,{...h,children:y.jsx(vne,{scope:t,contentId:b,open:N,stateAttribute:O,trigger:m,onTriggerChange:v,onTriggerEnter:x.useCallback(()=>{d.isOpenDelayedRef.current?V():M()},[d.isOpenDelayedRef,V,M]),onTriggerLeave:x.useCallback(()=>{C?j():(window.clearTimeout(_.current),_.current=0)},[j,C]),onOpen:M,onClose:j,disableHoverableContent:C,children:n})})};yj.displayName=Vf;var N0="TooltipTrigger",bj=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,s=mh(N0,n),o=Lw(N0,n),l=Yg(n),c=x.useRef(null),d=St(t,c,s.onTriggerChange),h=x.useRef(!1),m=x.useRef(!1),v=x.useCallback(()=>h.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),y.jsx(h_,{asChild:!0,...l,children:y.jsx(sne.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...i,ref:d,onPointerMove:Ie(e.onPointerMove,b=>{b.pointerType!=="touch"&&!m.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),m.current=!0)}),onPointerLeave:Ie(e.onPointerLeave,()=>{s.onTriggerLeave(),m.current=!1}),onPointerDown:Ie(e.onPointerDown,()=>{s.open&&s.onClose(),h.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:Ie(e.onFocus,()=>{h.current||s.onOpen()}),onBlur:Ie(e.onBlur,s.onClose),onClick:Ie(e.onClick,s.onClose)})})});bj.displayName=N0;var jw="TooltipPortal",[yne,bne]=Wg(jw,{forceMount:void 0}),xj=e=>{const{__scopeTooltip:t,forceMount:n,children:i,container:s}=e,o=mh(jw,t);return y.jsx(yne,{scope:t,forceMount:n,children:y.jsx(xr,{present:n||o.open,children:y.jsx(Xf,{asChild:!0,container:s,children:i})})})};xj.displayName=jw;var Ou="TooltipContent",_j=x.forwardRef((e,t)=>{const n=bne(Ou,e.__scopeTooltip),{forceMount:i=n.forceMount,side:s="top",...o}=e,l=mh(Ou,e.__scopeTooltip);return y.jsx(xr,{present:i||l.open,children:l.disableHoverableContent?y.jsx(wj,{side:s,...o,ref:t}):y.jsx(xne,{side:s,...o,ref:t})})}),xne=x.forwardRef((e,t)=>{const n=mh(Ou,e.__scopeTooltip),i=Lw(Ou,e.__scopeTooltip),s=x.useRef(null),o=St(t,s),[l,c]=x.useState(null),{trigger:d,onClose:h}=n,m=s.current,{onPointerInTransitChange:v}=i,b=x.useCallback(()=>{c(null),v(!1)},[v]),_=x.useCallback((C,E)=>{const T=C.currentTarget,N={x:C.clientX,y:C.clientY},k=Cne(N,T.getBoundingClientRect()),O=Ene(N,k),M=Ane(E.getBoundingClientRect()),j=Rne([...O,...M]);c(j),v(!0)},[v]);return x.useEffect(()=>()=>b(),[b]),x.useEffect(()=>{if(d&&m){const C=T=>_(T,m),E=T=>_(T,d);return d.addEventListener("pointerleave",C),m.addEventListener("pointerleave",E),()=>{d.removeEventListener("pointerleave",C),m.removeEventListener("pointerleave",E)}}},[d,m,_,b]),x.useEffect(()=>{if(l){const C=E=>{const T=E.target,N={x:E.clientX,y:E.clientY},k=d?.contains(T)||m?.contains(T),O=!Tne(N,l);k?b():O&&(b(),h())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[d,m,l,h,b]),y.jsx(wj,{...e,ref:o})}),[_ne,wne]=Wg(Vf,{isInside:!1}),Sne=Jte("TooltipContent"),wj=x.forwardRef((e,t)=>{const{__scopeTooltip:n,children:i,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:l,...c}=e,d=mh(Ou,n),h=Yg(n),{onClose:m}=d;return x.useEffect(()=>(document.addEventListener(k0,m),()=>document.removeEventListener(k0,m)),[m]),x.useEffect(()=>{if(d.trigger){const v=b=>{b.target?.contains(d.trigger)&&m()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[d.trigger,m]),y.jsx(Yf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:v=>v.preventDefault(),onDismiss:m,children:y.jsxs(p_,{"data-state":d.stateAttribute,...h,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[y.jsx(Sne,{children:i}),y.jsx(_ne,{scope:n,isInside:!0,children:y.jsx(pne,{id:d.contentId,role:"tooltip",children:s||i})})]})})});_j.displayName=Ou;var Sj="TooltipArrow",Cj=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,s=Yg(n);return wne(Sj,n).isInside?null:y.jsx(m_,{...s,...i,ref:t})});Cj.displayName=Sj;function Cne(e,t){const n=Math.abs(t.top-e.y),i=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,i,s,o)){case o:return"left";case s:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function Ene(e,t,n=5){const i=[];switch(t){case"top":i.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":i.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":i.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":i.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return i}function Ane(e){const{top:t,right:n,bottom:i,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:i},{x:s,y:i}]}function Tne(e,t){const{x:n,y:i}=e;let s=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const c=t[o],d=t[l],h=c.x,m=c.y,v=d.x,b=d.y;m>i!=b>i&&n<(v-h)*(i-m)/(b-m)+h&&(s=!s)}return s}function Rne(e){const t=e.slice();return t.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),kne(t)}function kne(e){if(e.length<=1)return e.slice();const t=[];for(let i=0;i<e.length;i++){const s=e[i];for(;t.length>=2;){const o=t[t.length-1],l=t[t.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let i=e.length-1;i>=0;i--){const s=e[i];for(;n.length>=2;){const o=n[n.length-1],l=n[n.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Nne=vj,One=yj,Pne=bj,Mne=xj,Dne=_j,Lne=Cj;function jne({delayDuration:e=0,...t}){return y.jsx(Nne,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function Ej({...e}){return y.jsx(jne,{children:y.jsx(One,{"data-slot":"tooltip",...e})})}function Aj({...e}){return y.jsx(Pne,{"data-slot":"tooltip-trigger",...e})}function Tj({className:e,sideOffset:t=0,children:n,...i}){return y.jsx(Mne,{children:y.jsxs(Dne,{"data-slot":"tooltip-content",sideOffset:t,className:it("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-2 text-xs text-balance",e),...i,children:[n,y.jsx(Lne,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const O0=async(e,t)=>{try{const n=e.game_info.shortcuts??{},i=t(n),{data:s,error:o}=await Dn.from("users").update({game_info:{...e.game_info,shortcuts:i}}).eq("id",e.id).select().single();return o?(console.error("Error updating shortcuts:",o),null):s}catch(n){return console.error("Unexpected error updating shortcuts:",n),null}},Zg=(e,t)=>wr({queryKey:[ic.parents_key,e],queryFn:()=>xD(e),enabled:t&&!!e,staleTime:1e3*60*60*24,gcTime:1e3*60*60*24*7}),Ine=new Set(["SUBSPECIES","VARIETY","SUBVARIETY","FORM","SUBFORM","UNRANKED","CULTIVAR_GROUP","CULTIVAR","STRAIN"]),Xg=(e,t,n)=>{const i=e.filter(s=>!Ine.has(s.rank)).map(s=>({rank:s.rank,name:s.canonicalName??s.scientificName??"",key:s.key}));return i.push({rank:"SPECIES",name:t,key:n}),i},zne=x.memo(({node:e})=>{const[t,n]=Gs(st.userDb),[i,s]=x.useState(!1),o=e.expanded,l=e?.kingdom?.toLowerCase(),c=Me(Ye.challenge),d=c.status,h=d==="IN_PROGRESS",m=h||d==="COMPLETED",v=c.speciesKey??0,b=Me(Ye.highlightedKeys),_=b.size>0&&b.has(e.key)&&h,C=Me(Ye.expandedNodes),{data:E}=Bo({specieKey:v}),{data:T}=Zg(v,m),N=x.useMemo(()=>!T||!E?[]:Xg(T,E.canonicalName??E.species??"",v),[T,E,v]),k=x.useMemo(()=>{if(!m)return null;const $=C.findIndex(q=>q.key===e.key);if($===-1)return null;const Y=N[$];return Y?e.canonicalName===Y.name||e.scientificName===Y.name?"success":"error":null},[m,C,e.key,e.canonicalName,e.scientificName,N]),O=Lt(N9);x.useEffect(()=>{_&&k==="error"&&O(e.key)},[_,k,e.key,O]);const M=_&&k!=="error",j=x.useMemo(()=>{const $=t?.game_info?.shortcuts;return $?($[l]?.length??0)>=3:!1},[l,t?.game_info?.shortcuts]),V=x.useCallback(async()=>{!t||h||O0(t,$=>{const Y=$[l]??[];if(Y.length>=3||Y.some(Z=>Z.nodes.length===C.length&&Z.nodes.every((ie,ye)=>ie.key===C[ye].key&&ie.rank===C[ye].rank)))return $;const W=C.slice(0,C.findIndex(Z=>Z.key===e.key)+1);return{...$,[l]:[...Y,{name:(e.canonicalName||e.scientificName)??" - ",nodes:W}]}}).then($=>{$&&n($)})},[t,h,l,C,e,n]),z=e.canonicalName||e.scientificName,I=e.scientificName&&e.canonicalName&&e.scientificName!==e.canonicalName;return y.jsx(jt.div,{className:"item group flex h-full w-full flex-row items-center gap-2",animate:M?{scale:[1,1.03,1]}:k==="success"?{scale:[1,1.05,1]}:k==="error"?{x:[-4,4,-2,2,0]}:{},transition:{duration:.5},children:y.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[y.jsxs("div",{className:"mr-auto flex items-center gap-2",children:[y.jsx("div",{className:"flex flex-col items-start justify-center",children:y.jsx("span",{className:it("relative transition-all duration-200 ease-in-out",o&&"font-bold",k==="success"&&"text-emerald-600",k==="error"&&"text-red-500",M&&["z-10","text-emerald-600","after:absolute after:-inset-y-0.5","after:-right-1.5 after:-left-1.5","after:-z-10 after:rounded-md after:bg-emerald-400/15"]),children:z})}),I&&y.jsxs(Ej,{open:i,onOpenChange:s,children:[y.jsx(Aj,{asChild:!0,children:y.jsx("button",{onClick:$=>{$.stopPropagation(),s(Y=>!Y)},className:"text-muted-foreground inline-flex items-center",children:y.jsx(R_,{className:"size-3"})})}),y.jsx(Tj,{children:e.scientificName})]}),k==="success"&&y.jsx(GO,{className:"h-4 w-4 text-emerald-500"}),k==="error"&&y.jsx(HO,{className:"h-4 w-4 text-red-500"}),y.jsx(jf,{className:it("bg-primary-foreground text-primary flex items-center gap-1 rounded-xl px-1 py-0 text-[11px] opacity-0 outline-1 group-hover:opacity-100",o&&"opacity-100"),children:Qi(e.rank)}),t&&o&&!h&&y.jsx("div",{className:"opacity-0 transition-all duration-300 group-hover:opacity-100",children:y.jsx(Nx,{onClick:$=>{$.stopPropagation(),V()},className:it("size-4 scale-x-[-1]",j&&"opacity-50")})})]}),y.jsx("span",{className:"text-[11px]",children:e.numDescendants&&e.numDescendants.toLocaleString("pt-BR")})]})},`${e.key}-${k}`)}),Bne=e=>{if(e>=1e6){const t=Math.floor(e/1e5)/10;return`${Number.isInteger(t)?t.toFixed(0):t}M`}return e>=1e3?`${Math.floor(e/1e3)}K`:e.toString()},Une=x.memo(({node:e,isLoading:t})=>{const{isShaking:n,shakeDirection:i}=Me(Ye.animate),s=e.expanded,o=t&&s;return y.jsxs("div",{className:it("group flex h-full w-full min-w-2xs cursor-pointer items-center gap-4 rounded-lg px-2",s&&`rounded-bl-none border-2 ${o9[e.key]}`,!s&&"hover:bg-accent"),children:[y.jsx("div",{className:it("flex items-center justify-center rounded-xl",!s&&"group-hover:bg-accent bg-accent"),children:y.jsx("div",{className:"flex size-11 items-center justify-center overflow-hidden rounded-lg p-3",children:y.jsx(Ln,{src:gs(e.key),alt:Ru[e.key],className:it("h-full w-full transition-transform duration-150 group-hover:scale-150",o?"animate-wiggle":n?i?"rotate-6":"-rotate-6":"rotate-0",n?"":"group-hover:rotate-6",s&&"scale-150")})})}),y.jsx("div",{className:"flex w-full items-center justify-between gap-1",children:y.jsxs("div",{className:"flex flex-col",children:[y.jsx("h1",{className:it("text-md font-medium",s&&"font-bold"),children:Qi(Ru[e.key])}),y.jsxs("span",{className:"text-xs",children:[Bne(e.numDescendants)," ",y.jsx("span",{children:"descendentes"})]})]})})]})}),Fne=x.memo(({node:e})=>{const[t,n]=Gs(st.userDb),[i,s]=x.useState(!1),o=Me(Ye.expandedNodes),l=Me(Ye.challenge),d=l.status==="IN_PROGRESS"||l.status==="COMPLETED",h=l.speciesKey,m=x.useMemo(()=>o.some(E=>E.key===e.key),[o,e.key]),v=x.useMemo(()=>!d||!m?null:e.key===h?"success":"error",[d,m,e.key,h]),b=x.useCallback(async()=>{t&&cj(t,E=>{if(E.some(k=>k.key===e.key))return E;const N={key:e.key,date:new Date().toISOString(),fav:!1};return[...E,N]}).then(E=>{E&&n(E)})},[t,e.key,n]),_=e.canonicalName||e.scientificName,C=e.scientificName&&e.canonicalName&&e.scientificName!==e.canonicalName;return y.jsxs(jt.div,{className:"item flex w-full items-center justify-between",animate:v==="success"?{scale:[1,1.08,1]}:v==="error"?{x:[-4,4,-2,2,0]}:{},transition:{duration:.3},onClick:b,children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("i",{className:it("w-max transition-all duration-200 ease-in-out",m&&"font-bold",v==="success"&&"text-emerald-600",v==="error"&&"text-red-500"),children:_}),C&&y.jsxs(Ej,{open:i,onOpenChange:s,children:[y.jsx(Aj,{asChild:!0,children:y.jsx("button",{onClick:E=>{E.stopPropagation(),s(T=>!T)},className:"text-muted-foreground inline-flex items-center",children:y.jsx(R_,{className:"size-3"})})}),y.jsx(Tj,{children:e.scientificName})]}),v==="success"&&y.jsx(GO,{className:"h-4 w-4 text-emerald-500"}),v==="error"&&y.jsx(HO,{className:"h-4 w-4 text-red-500"}),y.jsx(jf,{className:it("bg-primary-foreground text-primary rounded-xl px-1 py-0 text-[11px] opacity-0 group-hover:opacity-100",v&&"opacity-100"),children:Qi(e.rank)})]}),y.jsx(y.Fragment,{children:""})]},`${e.key}-${v}`)}),Vne=new Set(["SUBSPECIES","VARIETY","SUBVARIETY","FORM","SUBFORM","CULTIVAR_GROUP","CULTIVAR","STRAIN","UNRANKED"]),Rj=e=>e?e.filter(t=>!Vne.has(t.rank)):[],kj=e=>!(e.taxonomicStatus&&e.taxonomicStatus!=="ACCEPTED"||e.nubKey!==void 0&&e.nubKey!==e.key||!e.canonicalName),Nj=e=>{const t={key:e.key,scientificName:e.scientificName,canonicalName:e.canonicalName,rank:e.rank,kingdom:e.kingdom,numDescendants:e.numDescendants,phylum:e.phylum};return e.class&&(t.class=e.class),e.order&&(t.order=e.order),e.family&&(t.family=e.family),e.genus&&(t.genus=e.genus),t},$ne=({parentKey:e,expanded:t,numDescendants:n})=>{const{children_key:i}=ic,s=Me(B_);return wr({queryKey:[i,e,s],queryFn:async()=>{const l=(await bD(e)).filter(kj),c=s?l:l.filter(d=>d.numDescendants>0||d.rank==="SPECIES");return Rj(c).map(Nj)},enabled:!!e&&t&&n!==0,staleTime:1e3*60*60*24,gcTime:1e3*60*60*24*7})};function gh(){const e=Ei(),t=Me(Ye.nodes),n=Me(Ye.expandedNodes),i=Lt(KP),s=x.useCallback(c=>c.length===0?"/":`/tree/${c.map(d=>d.key).join("/")}`,[]),o=x.useCallback((c,d=!1)=>{i(d?[...c]:null);const h=s(c);e({to:h})},[e,s,i]),l=x.useCallback(c=>{const d=t[c];if(!d)return;const h=n.findIndex(b=>b.key===c);if(h!==-1){o(n.slice(0,h));return}const m=[];let v=d;for(;v;)m.unshift({key:v.key,rank:v.rank,name:v.rank==="KINGDOM"?Qi(Ru[v.key]):v.canonicalName||v.scientificName||""}),v=v.parentKey?t[v.parentKey]:void 0;o(m)},[t,n,o]);return{navigateToNodes:o,toggleNode:l,nodesToPath:s}}const Hne=x.memo(({nodeKey:e,level:t})=>{const[n]=Gs(qP(e)),i=Lt(WP),{toggleNode:s}=gh(),o=n?.expanded,{data:l,isLoading:c}=$ne({parentKey:n?.key,expanded:!!o,numDescendants:n?.numDescendants});x.useEffect(()=>{o&&l&&i({key:n.key,children:l})},[o,l,n?.key,i]);const d=x.useCallback(()=>{c||s(e)},[c,s,e]);if(!n)return null;const h=n.rank==="KINGDOM",m=n.rank==="SPECIES",v=VP[n?.kingdom?.toLocaleLowerCase()],b=t*M_;return y.jsxs("div",{className:it("flex",c&&"node-loading"),style:{marginLeft:b,height:h?"4.25rem":"2.125rem",zIndex:1,"--tree-color":v},onClick:d,children:[!h&&y.jsx("div",{className:"z-50 mt-1.5 flex cursor-pointer items-center justify-center rounded-full p-px text-white",style:{backgroundColor:v,width:Ix,height:Ix,marginLeft:$P,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"700"},children:c?y.jsx(ih,{className:"animate-spin"}):m?y.jsx("span",{className:"size-5"}):y.jsx("span",{className:"flex size-5 items-center justify-center pb-0.5 font-bold",children:o?"":"+"})}),h?y.jsx(Une,{node:n,isLoading:c}):m?y.jsx(Fne,{node:n}):y.jsx(zne,{node:n})]})}),Gne=({parentNodeKey:e,level:t})=>{const n=Me(qP(e));if(!n)return null;const i=n.canonicalName||n.scientificName||String(e),s=`https://www.gbif.org/species/${e}`;return y.jsx("div",{className:"-ml-4 flex h-full w-full min-w-0 items-start",style:{paddingLeft:t*M_},children:y.jsxs("div",{className:"bg-muted/40 flex w-full min-w-0 flex-col divide-y overflow-hidden rounded-lg border text-xs",children:[y.jsxs("p",{className:"px-3 py-2 leading-relaxed",children:[y.jsx("span",{className:"font-medium italic",children:i})," est registrado como uma classificao aceita no"," ",y.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",onClick:o=>o.stopPropagation(),className:"text-blue-600 hover:underline",children:"GBIF"}),", mas no possui descendentes registrados."]}),y.jsxs("p",{className:"text-muted-foreground px-3 py-2 leading-relaxed",children:["Caso no queira ver ns sem descendentes, desative em"," ",y.jsx("span",{className:"font-medium",children:"Menu > Configuraes > Exibir ns sem descendentes"}),"."]})]})})},Kne=()=>{const e=Me(Ye.expandedNodes),t=Lt(A9);x.useEffect(()=>{t()},[e,t])};function nu(e,t,n){let i=n.initialDeps??[],s,o=!0;function l(){var c,d,h;let m;n.key&&((c=n.debug)!=null&&c.call(n))&&(m=Date.now());const v=e();if(!(v.length!==i.length||v.some((C,E)=>i[E]!==C)))return s;i=v;let _;if(n.key&&((d=n.debug)!=null&&d.call(n))&&(_=Date.now()),s=t(...v),n.key&&((h=n.debug)!=null&&h.call(n))){const C=Math.round((Date.now()-m)*100)/100,E=Math.round((Date.now()-_)*100)/100,T=E/16,N=(k,O)=>{for(k=String(k);k.length<O;)k=" "+k;return k};console.info(`%c ${N(E,5)} /${N(C,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*T,120))}deg 100% 31%);`,n?.key)}return n?.onChange&&!(o&&n.skipInitialOnChange)&&n.onChange(s),o=!1,s}return l.updateDeps=c=>{i=c},l}function KR(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const qne=(e,t)=>Math.abs(e-t)<1.01,Wne=(e,t,n)=>{let i;return function(...s){e.clearTimeout(i),i=e.setTimeout(()=>t.apply(this,s),n)}},qR=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},Yne=e=>e,Zne=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),i=[];for(let s=t;s<=n;s++)i.push(s);return i},Xne=(e,t)=>{const n=e.scrollElement;if(!n)return;const i=e.targetWindow;if(!i)return;const s=l=>{const{width:c,height:d}=l;t({width:Math.round(c),height:Math.round(d)})};if(s(qR(n)),!i.ResizeObserver)return()=>{};const o=new i.ResizeObserver(l=>{const c=()=>{const d=l[0];if(d?.borderBoxSize){const h=d.borderBoxSize[0];if(h){s({width:h.inlineSize,height:h.blockSize});return}}s(qR(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(c):c()});return o.observe(n,{box:"border-box"}),()=>{o.unobserve(n)}},WR={passive:!0},YR=typeof window>"u"?!0:"onscrollend"in window,Qne=(e,t)=>{const n=e.scrollElement;if(!n)return;const i=e.targetWindow;if(!i)return;let s=0;const o=e.options.useScrollendEvent&&YR?()=>{}:Wne(i,()=>{t(s,!1)},e.options.isScrollingResetDelay),l=m=>()=>{const{horizontal:v,isRtl:b}=e.options;s=v?n.scrollLeft*(b&&-1||1):n.scrollTop,o(),t(s,m)},c=l(!0),d=l(!1);n.addEventListener("scroll",c,WR);const h=e.options.useScrollendEvent&&YR;return h&&n.addEventListener("scrollend",d,WR),()=>{n.removeEventListener("scroll",c),h&&n.removeEventListener("scrollend",d)}},Jne=(e,t,n)=>{if(t?.borderBoxSize){const i=t.borderBoxSize[0];if(i)return Math.round(i[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},eie=(e,{adjustments:t=0,behavior:n},i)=>{var s,o;const l=e+t;(o=(s=i.scrollElement)==null?void 0:s.scrollTo)==null||o.call(s,{[i.options.horizontal?"left":"top"]:l,behavior:n})};class tie{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.currentScrollToIndex=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const i=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(s=>{s.forEach(o=>{const l=()=>{this._measureElement(o.target,o)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()})}));return{disconnect:()=>{var s;(s=i())==null||s.disconnect(),n=null},observe:s=>{var o;return(o=i())==null?void 0:o.observe(s,{box:"border-box"})},unobserve:s=>{var o;return(o=i())==null?void 0:o.unobserve(s)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([i,s])=>{typeof s>"u"&&delete n[i]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Yne,rangeExtractor:Zne,onChange:()=>{},measureElement:Jne,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var i,s;(s=(i=this.options).onChange)==null||s.call(i,this,n)},this.maybeNotify=nu(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const i=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==i){if(this.cleanup(),!i){this.maybeNotify();return}this.scrollElement=i,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(s=>{this.observer.observe(s)}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(s,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<s?"forward":"backward":null,this.scrollOffset=s,this.isScrolling=o,this.maybeNotify()})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0})}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,i)=>{const s=new Map,o=new Map;for(let l=i-1;l>=0;l--){const c=n[l];if(s.has(c.lane))continue;const d=o.get(c.lane);if(d==null||c.end>d.end?o.set(c.lane,c):c.end<d.end&&s.set(c.lane,!0),s.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((l,c)=>l.end===c.end?l.index-c.index:l.end-c.end)[0]:void 0},this.getMeasurementOptions=nu(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,i,s,o,l,c)=>(this.prevLanes!==void 0&&this.prevLanes!==c&&(this.lanesChangedFlag=!0),this.prevLanes=c,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:i,scrollMargin:s,getItemKey:o,enabled:l,lanes:c}),{key:!1}),this.getMeasurements=nu(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:i,scrollMargin:s,getItemKey:o,enabled:l,lanes:c},d)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const b of this.laneAssignments.keys())b>=n&&this.laneAssignments.delete(b);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&!this.lanesSettling&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(b=>{this.itemSizeCache.set(b.key,b.size)}));const h=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const m=this.measurementsCache.slice(0,h),v=new Array(c).fill(void 0);for(let b=0;b<h;b++){const _=m[b];_&&(v[_.lane]=b)}for(let b=h;b<n;b++){const _=o(b),C=this.laneAssignments.get(b);let E,T;if(C!==void 0&&this.options.lanes>1){E=C;const M=v[E],j=M!==void 0?m[M]:void 0;T=j?j.end+this.options.gap:i+s}else{const M=this.options.lanes===1?m[b-1]:this.getFurthestMeasurement(m,b);T=M?M.end+this.options.gap:i+s,E=M?M.lane:b%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(b,E)}const N=d.get(_),k=typeof N=="number"?N:this.options.estimateSize(b),O=T+k;m[b]={index:b,start:T,size:k,end:O,key:_,lane:E},v[E]=b}return this.measurementsCache=m,m},{key:!1,debug:()=>this.options.debug}),this.calculateRange=nu(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,i,s,o)=>this.range=n.length>0&&i>0?nie({measurements:n,outerSize:i,scrollOffset:s,lanes:o}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=nu(()=>{let n=null,i=null;const s=this.calculateRange();return s&&(n=s.startIndex,i=s.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,i]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,i]},(n,i,s,o,l)=>o===null||l===null?[]:n({startIndex:o,endIndex:l,overscan:i,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const i=this.options.indexAttribute,s=n.getAttribute(i);return s?parseInt(s,10):(console.warn(`Missing attribute name '${i}={index}' on measured element.`),-1)},this._measureElement=(n,i)=>{const s=this.indexFromElement(n),o=this.measurementsCache[s];if(!o)return;const l=o.key,c=this.elementsCache.get(l);c!==n&&(c&&this.observer.unobserve(c),this.observer.observe(n),this.elementsCache.set(l,n)),n.isConnected&&this.resizeItem(s,this.options.measureElement(n,i,this))},this.resizeItem=(n,i)=>{const s=this.measurementsCache[n];if(!s)return;const o=this.itemSizeCache.get(s.key)??s.size,l=i-o;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,l,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,i)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((i,s)=>{i.isConnected||(this.observer.unobserve(i),this.elementsCache.delete(s))});return}this._measureElement(n,void 0)},this.getVirtualItems=nu(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,i)=>{const s=[];for(let o=0,l=n.length;o<l;o++){const c=n[o],d=i[c];s.push(d)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const i=this.getMeasurements();if(i.length!==0)return KR(i[Oj(0,i.length-1,s=>KR(i[s]).start,n)])},this.getMaxScrollOffset=()=>{if(!this.scrollElement)return 0;if("scrollHeight"in this.scrollElement)return this.options.horizontal?this.scrollElement.scrollWidth-this.scrollElement.clientWidth:this.scrollElement.scrollHeight-this.scrollElement.clientHeight;{const n=this.scrollElement.document.documentElement;return this.options.horizontal?n.scrollWidth-this.scrollElement.innerWidth:n.scrollHeight-this.scrollElement.innerHeight}},this.getOffsetForAlignment=(n,i,s=0)=>{if(!this.scrollElement)return 0;const o=this.getSize(),l=this.getScrollOffset();i==="auto"&&(i=n>=l+o?"end":"start"),i==="center"?n+=(s-o)/2:i==="end"&&(n-=o);const c=this.getMaxScrollOffset();return Math.max(Math.min(c,n),0)},this.getOffsetForIndex=(n,i="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const s=this.measurementsCache[n];if(!s)return;const o=this.getSize(),l=this.getScrollOffset();if(i==="auto")if(s.end>=l+o-this.options.scrollPaddingEnd)i="end";else if(s.start<=l+this.options.scrollPaddingStart)i="start";else return[l,i];if(i==="end"&&n===this.options.count-1)return[this.getMaxScrollOffset(),i];const c=i==="end"?s.end+this.options.scrollPaddingEnd:s.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(c,i,s.size),i]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:i="start",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,i),{adjustments:void 0,behavior:s})},this.scrollToIndex=(n,{align:i="auto",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1)),this.currentScrollToIndex=n;let o=0;const l=10,c=h=>{if(!this.targetWindow)return;const m=this.getOffsetForIndex(n,h);if(!m){console.warn("Failed to get offset for index:",n);return}const[v,b]=m;this._scrollToOffset(v,{adjustments:void 0,behavior:s}),this.targetWindow.requestAnimationFrame(()=>{const _=()=>{if(this.currentScrollToIndex!==n)return;const C=this.getScrollOffset(),E=this.getOffsetForIndex(n,b);if(!E){console.warn("Failed to get offset for index:",n);return}qne(E[0],C)||d(b)};this.isDynamicMode()?this.targetWindow.requestAnimationFrame(_):_()})},d=h=>{this.targetWindow&&this.currentScrollToIndex===n&&(o++,o<l?this.targetWindow.requestAnimationFrame(()=>c(h)):console.warn(`Failed to scroll to index ${n} after ${l} attempts.`))};c(i)},this.scrollBy=(n,{behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:i})},this.getTotalSize=()=>{var n;const i=this.getMeasurements();let s;if(i.length===0)s=this.options.paddingStart;else if(this.options.lanes===1)s=((n=i[i.length-1])==null?void 0:n.end)??0;else{const o=Array(this.options.lanes).fill(null);let l=i.length-1;for(;l>=0&&o.some(c=>c===null);){const c=i[l];o[c.lane]===null&&(o[c.lane]=c.end),l--}s=Math.max(...o.filter(c=>c!==null))}return Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:i,behavior:s})=>{this.options.scrollToFn(n,{behavior:s,adjustments:i},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(t)}}const Oj=(e,t,n,i)=>{for(;e<=t;){const s=(e+t)/2|0,o=n(s);if(o<i)e=s+1;else if(o>i)t=s-1;else return s}return e>0?e-1:0};function nie({measurements:e,outerSize:t,scrollOffset:n,lanes:i}){const s=e.length-1,o=d=>e[d].start;if(e.length<=i)return{startIndex:0,endIndex:s};let l=Oj(0,s,o,n),c=l;if(i===1)for(;c<s&&e[c].end<n+t;)c++;else if(i>1){const d=Array(i).fill(0);for(;c<s&&d.some(m=>m<n+t);){const m=e[c];d[m.lane]=m.end,c++}const h=Array(i).fill(n+t);for(;l>=0&&h.some(m=>m>=n);){const m=e[l];h[m.lane]=m.start,l--}l=Math.max(0,l-l%i),c=Math.min(s,c+(i-1-c%i))}return{startIndex:l,endIndex:c}}const ZR=typeof document<"u"?x.useLayoutEffect:x.useEffect;function iie({useFlushSync:e=!0,...t}){const n=x.useReducer(()=>({}),{})[1],i={...t,onChange:(o,l)=>{var c;e&&l?Ji.flushSync(n):n(),(c=t.onChange)==null||c.call(t,o,l)}},[s]=x.useState(()=>new tie(i));return s.setOptions(i),ZR(()=>s._didMount(),[]),ZR(()=>s._willUpdate()),s}function sie(e){return iie({observeElementRect:Xne,observeElementOffset:Qne,scrollToFn:eie,...e})}const rie=(e,t,n)=>{const i=x.useCallback((m,v,b=0)=>{const _=[];for(const C of v){const E=m[C];if(E)if(_.push({key:C,level:b}),E.expanded&&E.childrenKeys?.length){const T=i(m,E.childrenKeys,b+1);for(let N=0;N<T.length;N++)_.push(T[N])}else E.expanded&&E.rank!=="KINGDOM"&&E.rank!=="SPECIES"&&E.numDescendants===0&&_.push({key:-C,level:b+1,isEmptyInfo:!0,parentNodeKey:C})}return _},[]),s=x.useMemo(()=>i(e,t),[i,e,t]),o=x.useCallback(m=>{const v=s[m];return v.isEmptyInfo?192:e[v.key]?.rank==="KINGDOM"?72:34},[s,e]),l=x.useMemo(()=>{const m=[];let v=0;for(let b=0;b<s.length;b++)m[b]=v,v+=o(b);return m},[s,o]),c=x.useCallback(m=>s[m]?.key??m,[s]),d=sie({count:s.length,getScrollElement:()=>n.current,estimateSize:m=>o(m),getItemKey:c,overscan:10}),h=x.useMemo(()=>{const m=new Map;s.forEach((_,C)=>m.set(_.key,C));const v=[],b=Math.floor(jx/2);for(let _=0;_<s.length;_++){const{key:C}=s[_],E=e[C];if(!E||!E.childrenKeys?.length||!E.expanded)continue;const T=E.childrenKeys.map(W=>m.get(W)).filter(W=>typeof W=="number");if(!T.length)continue;const N=Math.min(...T),k=Math.max(...T),O=l[N]-Math.round(o(N)/2),M=l[k]+Math.round(o(k)/2),j=Math.max(0,Math.round(M-O)),V=s[N].level,I=Math.round(V*M_+$P+Ix/2)-U1,$=Math.round(I),Y=Math.round(O),q=E?.color??VP[E.kingdom?.toLocaleLowerCase()];v.push({type:"vertical",left:$-b,top:Y,height:j,color:q});for(const W of E.childrenKeys){const Z=m.get(W);if(Z==null)continue;const ie=Math.round(l[Z]+o(Z)/2);v.push({type:"horizontal",left:$-b,top:ie-b,width:U1+b,color:q})}}return v},[s,e,l,o]);return{flattened:s,rowVirtualizer:d,connectors:h}},oie=({connectors:e,totalHeight:t})=>y.jsx("div",{"aria-hidden":!0,style:{position:"absolute",top:0,left:0,width:"100%",height:t,pointerEvents:"none",zIndex:0},children:e.map((n,i)=>n.type==="vertical"?y.jsx("div",{style:{position:"absolute",left:n.left,top:n.top,width:jx,height:n.height,backgroundColor:n.color,boxSizing:"border-box"}},i):y.jsx("div",{style:{position:"absolute",left:n.left,top:n.top,width:n.width,height:jx,backgroundColor:n.color,boxSizing:"border-box"}},i))});function aie(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,lie(s,...t)]}function lie(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function Pj(e){const t=cie(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(die);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function cie(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=hie(s),c=fie(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var uie=Symbol("radix.slottable");function die(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===uie}function fie(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function hie(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var pie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Cs=pie.reduce((e,t)=>{const n=Pj(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),mie=[" ","Enter","ArrowUp","ArrowDown"],gie=[" ","Enter"],Zl="Select",[Qg,Jg,vie]=Sg(Zl),[Hu]=aie(Zl,[vie,Lu]),ev=Lu(),[yie,Va]=Hu(Zl),[bie,xie]=Hu(Zl),Mj=e=>{const{__scopeSelect:t,children:n,open:i,defaultOpen:s,onOpenChange:o,value:l,defaultValue:c,onValueChange:d,dir:h,name:m,autoComplete:v,disabled:b,required:_,form:C}=e,E=ev(t),[T,N]=x.useState(null),[k,O]=x.useState(null),[M,j]=x.useState(!1),V=Cg(h),[z,I]=Do({prop:i,defaultProp:s??!1,onChange:o,caller:Zl}),[$,Y]=Do({prop:l,defaultProp:c,onChange:d,caller:Zl}),q=x.useRef(null),W=T?C||!!T.closest("form"):!0,[Z,ie]=x.useState(new Set),ye=Array.from(Z).map(G=>G.props.value).join(";");return y.jsx(Ng,{...E,children:y.jsxs(yie,{required:_,scope:t,trigger:T,onTriggerChange:N,valueNode:k,onValueNodeChange:O,valueNodeHasChildren:M,onValueNodeHasChildrenChange:j,contentId:_s(),value:$,onValueChange:Y,open:z,onOpenChange:I,dir:V,triggerPointerDownPosRef:q,disabled:b,children:[y.jsx(Qg.Provider,{scope:t,children:y.jsx(bie,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(G=>{ie(X=>new Set(X).add(G))},[]),onNativeOptionRemove:x.useCallback(G=>{ie(X=>{const ne=new Set(X);return ne.delete(G),ne})},[]),children:n})}),W?y.jsxs(t2,{"aria-hidden":!0,required:_,tabIndex:-1,name:m,autoComplete:v,value:$,onChange:G=>Y(G.target.value),disabled:b,form:C,children:[$===void 0?y.jsx("option",{value:""}):null,Array.from(Z)]},ye):null]})})};Mj.displayName=Zl;var Dj="SelectTrigger",Lj=x.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:i=!1,...s}=e,o=ev(n),l=Va(Dj,n),c=l.disabled||i,d=St(t,l.onTriggerChange),h=Jg(n),m=x.useRef("touch"),[v,b,_]=i2(E=>{const T=h().filter(O=>!O.disabled),N=T.find(O=>O.value===l.value),k=s2(T,E,N);k!==void 0&&l.onValueChange(k.value)}),C=E=>{c||(l.onOpenChange(!0),_()),E&&(l.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)})};return y.jsx(h_,{asChild:!0,...o,children:y.jsx(Cs.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":n2(l.value)?"":void 0,...s,ref:d,onClick:Ie(s.onClick,E=>{E.currentTarget.focus(),m.current!=="mouse"&&C(E)}),onPointerDown:Ie(s.onPointerDown,E=>{m.current=E.pointerType;const T=E.target;T.hasPointerCapture(E.pointerId)&&T.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&E.pointerType==="mouse"&&(C(E),E.preventDefault())}),onKeyDown:Ie(s.onKeyDown,E=>{const T=v.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&b(E.key),!(T&&E.key===" ")&&mie.includes(E.key)&&(C(),E.preventDefault())})})})});Lj.displayName=Dj;var jj="SelectValue",Ij=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:i,style:s,children:o,placeholder:l="",...c}=e,d=Va(jj,n),{onValueNodeHasChildrenChange:h}=d,m=o!==void 0,v=St(t,d.onValueNodeChange);return jn(()=>{h(m)},[h,m]),y.jsx(Cs.span,{...c,ref:v,style:{pointerEvents:"none"},children:n2(d.value)?y.jsx(y.Fragment,{children:l}):o})});Ij.displayName=jj;var _ie="SelectIcon",zj=x.forwardRef((e,t)=>{const{__scopeSelect:n,children:i,...s}=e;return y.jsx(Cs.span,{"aria-hidden":!0,...s,ref:t,children:i||""})});zj.displayName=_ie;var wie="SelectPortal",Bj=e=>y.jsx(Xf,{asChild:!0,...e});Bj.displayName=wie;var Xl="SelectContent",Uj=x.forwardRef((e,t)=>{const n=Va(Xl,e.__scopeSelect),[i,s]=x.useState();if(jn(()=>{s(new DocumentFragment)},[]),!n.open){const o=i;return o?Ji.createPortal(y.jsx(Fj,{scope:e.__scopeSelect,children:y.jsx(Qg.Slot,{scope:e.__scopeSelect,children:y.jsx("div",{children:e.children})})}),o):null}return y.jsx(Vj,{...e,ref:t})});Uj.displayName=Xl;var ur=10,[Fj,$a]=Hu(Xl),Sie="SelectContentImpl",Cie=Pj("SelectContent.RemoveScroll"),Vj=x.forwardRef((e,t)=>{const{__scopeSelect:n,position:i="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:l,side:c,sideOffset:d,align:h,alignOffset:m,arrowPadding:v,collisionBoundary:b,collisionPadding:_,sticky:C,hideWhenDetached:E,avoidCollisions:T,...N}=e,k=Va(Xl,n),[O,M]=x.useState(null),[j,V]=x.useState(null),z=St(t,Se=>M(Se)),[I,$]=x.useState(null),[Y,q]=x.useState(null),W=Jg(n),[Z,ie]=x.useState(!1),ye=x.useRef(!1);x.useEffect(()=>{if(O)return g_(O)},[O]),s_();const G=x.useCallback(Se=>{const[je,...De]=W().map(Xe=>Xe.ref.current),[Le]=De.slice(-1),Ze=document.activeElement;for(const Xe of Se)if(Xe===Ze||(Xe?.scrollIntoView({block:"nearest"}),Xe===je&&j&&(j.scrollTop=0),Xe===Le&&j&&(j.scrollTop=j.scrollHeight),Xe?.focus(),document.activeElement!==Ze))return},[W,j]),X=x.useCallback(()=>G([I,O]),[G,I,O]);x.useEffect(()=>{Z&&X()},[Z,X]);const{onOpenChange:ne,triggerPointerDownPosRef:de}=k;x.useEffect(()=>{if(O){let Se={x:0,y:0};const je=Le=>{Se={x:Math.abs(Math.round(Le.pageX)-(de.current?.x??0)),y:Math.abs(Math.round(Le.pageY)-(de.current?.y??0))}},De=Le=>{Se.x<=10&&Se.y<=10?Le.preventDefault():O.contains(Le.target)||ne(!1),document.removeEventListener("pointermove",je),de.current=null};return de.current!==null&&(document.addEventListener("pointermove",je),document.addEventListener("pointerup",De,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",De,{capture:!0})}}},[O,ne,de]),x.useEffect(()=>{const Se=()=>ne(!1);return window.addEventListener("blur",Se),window.addEventListener("resize",Se),()=>{window.removeEventListener("blur",Se),window.removeEventListener("resize",Se)}},[ne]);const[ae,K]=i2(Se=>{const je=W().filter(Ze=>!Ze.disabled),De=je.find(Ze=>Ze.ref.current===document.activeElement),Le=s2(je,Se,De);Le&&setTimeout(()=>Le.ref.current.focus())}),oe=x.useCallback((Se,je,De)=>{const Le=!ye.current&&!De;(k.value!==void 0&&k.value===je||Le)&&($(Se),Le&&(ye.current=!0))},[k.value]),be=x.useCallback(()=>O?.focus(),[O]),xe=x.useCallback((Se,je,De)=>{const Le=!ye.current&&!De;(k.value!==void 0&&k.value===je||Le)&&q(Se)},[k.value]),Re=i==="popper"?P0:$j,we=Re===P0?{side:c,sideOffset:d,align:h,alignOffset:m,arrowPadding:v,collisionBoundary:b,collisionPadding:_,sticky:C,hideWhenDetached:E,avoidCollisions:T}:{};return y.jsx(Fj,{scope:n,content:O,viewport:j,onViewportChange:V,itemRefCallback:oe,selectedItem:I,onItemLeave:be,itemTextRefCallback:xe,focusSelectedItem:X,selectedItemText:Y,position:i,isPositioned:Z,searchRef:ae,children:y.jsx(Pg,{as:Cie,allowPinchZoom:!0,children:y.jsx(Eg,{asChild:!0,trapped:k.open,onMountAutoFocus:Se=>{Se.preventDefault()},onUnmountAutoFocus:Ie(s,Se=>{k.trigger?.focus({preventScroll:!0}),Se.preventDefault()}),children:y.jsx(Yf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:Se=>Se.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:y.jsx(Re,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:Se=>Se.preventDefault(),...N,...we,onPlaced:()=>ie(!0),ref:z,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Ie(N.onKeyDown,Se=>{const je=Se.ctrlKey||Se.altKey||Se.metaKey;if(Se.key==="Tab"&&Se.preventDefault(),!je&&Se.key.length===1&&K(Se.key),["ArrowUp","ArrowDown","Home","End"].includes(Se.key)){let Le=W().filter(Ze=>!Ze.disabled).map(Ze=>Ze.ref.current);if(["ArrowUp","End"].includes(Se.key)&&(Le=Le.slice().reverse()),["ArrowUp","ArrowDown"].includes(Se.key)){const Ze=Se.target,Xe=Le.indexOf(Ze);Le=Le.slice(Xe+1)}setTimeout(()=>G(Le)),Se.preventDefault()}})})})})})})});Vj.displayName=Sie;var Eie="SelectItemAlignedPosition",$j=x.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:i,...s}=e,o=Va(Xl,n),l=$a(Xl,n),[c,d]=x.useState(null),[h,m]=x.useState(null),v=St(t,z=>m(z)),b=Jg(n),_=x.useRef(!1),C=x.useRef(!0),{viewport:E,selectedItem:T,selectedItemText:N,focusSelectedItem:k}=l,O=x.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&h&&E&&T&&N){const z=o.trigger.getBoundingClientRect(),I=h.getBoundingClientRect(),$=o.valueNode.getBoundingClientRect(),Y=N.getBoundingClientRect();if(o.dir!=="rtl"){const Ze=Y.left-I.left,Xe=$.left-Ze,Ct=z.left-Xe,yt=z.width+Ct,zt=Math.max(yt,I.width),dn=window.innerWidth-ur,fn=ng(Xe,[ur,Math.max(ur,dn-zt)]);c.style.minWidth=yt+"px",c.style.left=fn+"px"}else{const Ze=I.right-Y.right,Xe=window.innerWidth-$.right-Ze,Ct=window.innerWidth-z.right-Xe,yt=z.width+Ct,zt=Math.max(yt,I.width),dn=window.innerWidth-ur,fn=ng(Xe,[ur,Math.max(ur,dn-zt)]);c.style.minWidth=yt+"px",c.style.right=fn+"px"}const q=b(),W=window.innerHeight-ur*2,Z=E.scrollHeight,ie=window.getComputedStyle(h),ye=parseInt(ie.borderTopWidth,10),G=parseInt(ie.paddingTop,10),X=parseInt(ie.borderBottomWidth,10),ne=parseInt(ie.paddingBottom,10),de=ye+G+Z+ne+X,ae=Math.min(T.offsetHeight*5,de),K=window.getComputedStyle(E),oe=parseInt(K.paddingTop,10),be=parseInt(K.paddingBottom,10),xe=z.top+z.height/2-ur,Re=W-xe,we=T.offsetHeight/2,Se=T.offsetTop+we,je=ye+G+Se,De=de-je;if(je<=xe){const Ze=q.length>0&&T===q[q.length-1].ref.current;c.style.bottom="0px";const Xe=h.clientHeight-E.offsetTop-E.offsetHeight,Ct=Math.max(Re,we+(Ze?be:0)+Xe+X),yt=je+Ct;c.style.height=yt+"px"}else{const Ze=q.length>0&&T===q[0].ref.current;c.style.top="0px";const Ct=Math.max(xe,ye+E.offsetTop+(Ze?oe:0)+we)+De;c.style.height=Ct+"px",E.scrollTop=je-xe+E.offsetTop}c.style.margin=`${ur}px 0`,c.style.minHeight=ae+"px",c.style.maxHeight=W+"px",i?.(),requestAnimationFrame(()=>_.current=!0)}},[b,o.trigger,o.valueNode,c,h,E,T,N,o.dir,i]);jn(()=>O(),[O]);const[M,j]=x.useState();jn(()=>{h&&j(window.getComputedStyle(h).zIndex)},[h]);const V=x.useCallback(z=>{z&&C.current===!0&&(O(),k?.(),C.current=!1)},[O,k]);return y.jsx(Tie,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:_,onScrollButtonChange:V,children:y.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:y.jsx(Cs.div,{...s,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});$j.displayName=Eie;var Aie="SelectPopperPosition",P0=x.forwardRef((e,t)=>{const{__scopeSelect:n,align:i="start",collisionPadding:s=ur,...o}=e,l=ev(n);return y.jsx(p_,{...l,...o,ref:t,align:i,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});P0.displayName=Aie;var[Tie,Iw]=Hu(Xl,{}),M0="SelectViewport",Hj=x.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:i,...s}=e,o=$a(M0,n),l=Iw(M0,n),c=St(t,o.onViewportChange),d=x.useRef(0);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),y.jsx(Qg.Slot,{scope:n,children:y.jsx(Cs.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ie(s.onScroll,h=>{const m=h.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:b}=l;if(b?.current&&v){const _=Math.abs(d.current-m.scrollTop);if(_>0){const C=window.innerHeight-ur*2,E=parseFloat(v.style.minHeight),T=parseFloat(v.style.height),N=Math.max(E,T);if(N<C){const k=N+_,O=Math.min(C,k),M=k-O;v.style.height=O+"px",v.style.bottom==="0px"&&(m.scrollTop=M>0?M:0,v.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});Hj.displayName=M0;var Gj="SelectGroup",[Rie,kie]=Hu(Gj),Nie=x.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,s=_s();return y.jsx(Rie,{scope:n,id:s,children:y.jsx(Cs.div,{role:"group","aria-labelledby":s,...i,ref:t})})});Nie.displayName=Gj;var Kj="SelectLabel",Oie=x.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,s=kie(Kj,n);return y.jsx(Cs.div,{id:s.id,...i,ref:t})});Oie.displayName=Kj;var hg="SelectItem",[Pie,qj]=Hu(hg),Wj=x.forwardRef((e,t)=>{const{__scopeSelect:n,value:i,disabled:s=!1,textValue:o,...l}=e,c=Va(hg,n),d=$a(hg,n),h=c.value===i,[m,v]=x.useState(o??""),[b,_]=x.useState(!1),C=St(t,k=>d.itemRefCallback?.(k,i,s)),E=_s(),T=x.useRef("touch"),N=()=>{s||(c.onValueChange(i),c.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return y.jsx(Pie,{scope:n,value:i,disabled:s,textId:E,isSelected:h,onItemTextChange:x.useCallback(k=>{v(O=>O||(k?.textContent??"").trim())},[]),children:y.jsx(Qg.ItemSlot,{scope:n,value:i,disabled:s,textValue:m,children:y.jsx(Cs.div,{role:"option","aria-labelledby":E,"data-highlighted":b?"":void 0,"aria-selected":h&&b,"data-state":h?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:C,onFocus:Ie(l.onFocus,()=>_(!0)),onBlur:Ie(l.onBlur,()=>_(!1)),onClick:Ie(l.onClick,()=>{T.current!=="mouse"&&N()}),onPointerUp:Ie(l.onPointerUp,()=>{T.current==="mouse"&&N()}),onPointerDown:Ie(l.onPointerDown,k=>{T.current=k.pointerType}),onPointerMove:Ie(l.onPointerMove,k=>{T.current=k.pointerType,s?d.onItemLeave?.():T.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ie(l.onPointerLeave,k=>{k.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:Ie(l.onKeyDown,k=>{d.searchRef?.current!==""&&k.key===" "||(gie.includes(k.key)&&N(),k.key===" "&&k.preventDefault())})})})})});Wj.displayName=hg;var rf="SelectItemText",Yj=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:i,style:s,...o}=e,l=Va(rf,n),c=$a(rf,n),d=qj(rf,n),h=xie(rf,n),[m,v]=x.useState(null),b=St(t,N=>v(N),d.onItemTextChange,N=>c.itemTextRefCallback?.(N,d.value,d.disabled)),_=m?.textContent,C=x.useMemo(()=>y.jsx("option",{value:d.value,disabled:d.disabled,children:_},d.value),[d.disabled,d.value,_]),{onNativeOptionAdd:E,onNativeOptionRemove:T}=h;return jn(()=>(E(C),()=>T(C)),[E,T,C]),y.jsxs(y.Fragment,{children:[y.jsx(Cs.span,{id:d.textId,...o,ref:b}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Ji.createPortal(o.children,l.valueNode):null]})});Yj.displayName=rf;var Zj="SelectItemIndicator",Xj=x.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e;return qj(Zj,n).isSelected?y.jsx(Cs.span,{"aria-hidden":!0,...i,ref:t}):null});Xj.displayName=Zj;var D0="SelectScrollUpButton",Qj=x.forwardRef((e,t)=>{const n=$a(D0,e.__scopeSelect),i=Iw(D0,e.__scopeSelect),[s,o]=x.useState(!1),l=St(t,i.onScrollButtonChange);return jn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollTop>0;o(h)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?y.jsx(e2,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});Qj.displayName=D0;var L0="SelectScrollDownButton",Jj=x.forwardRef((e,t)=>{const n=$a(L0,e.__scopeSelect),i=Iw(L0,e.__scopeSelect),[s,o]=x.useState(!1),l=St(t,i.onScrollButtonChange);return jn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<h;o(m)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?y.jsx(e2,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});Jj.displayName=L0;var e2=x.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:i,...s}=e,o=$a("SelectScrollButton",n),l=x.useRef(null),c=Jg(n),d=x.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return x.useEffect(()=>()=>d(),[d]),jn(()=>{c().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),y.jsx(Cs.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Ie(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(i,50))}),onPointerMove:Ie(s.onPointerMove,()=>{o.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(i,50))}),onPointerLeave:Ie(s.onPointerLeave,()=>{d()})})}),Mie="SelectSeparator",Die=x.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e;return y.jsx(Cs.div,{"aria-hidden":!0,...i,ref:t})});Die.displayName=Mie;var j0="SelectArrow",Lie=x.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,s=ev(n),o=Va(j0,n),l=$a(j0,n);return o.open&&l.position==="popper"?y.jsx(m_,{...s,...i,ref:t}):null});Lie.displayName=j0;var jie="SelectBubbleInput",t2=x.forwardRef(({__scopeSelect:e,value:t,...n},i)=>{const s=x.useRef(null),o=St(i,s),l=xM(t);return x.useEffect(()=>{const c=s.current;if(!c)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&m){const v=new Event("change",{bubbles:!0});m.call(c,t),c.dispatchEvent(v)}},[l,t]),y.jsx(Cs.select,{...n,style:{...pj,...n.style},ref:o,defaultValue:t})});t2.displayName=jie;function n2(e){return e===""||e===void 0}function i2(e){const t=Ks(e),n=x.useRef(""),i=x.useRef(0),s=x.useCallback(l=>{const c=n.current+l;t(c),(function d(h){n.current=h,window.clearTimeout(i.current),h!==""&&(i.current=window.setTimeout(()=>d(""),1e3))})(c)},[t]),o=x.useCallback(()=>{n.current="",window.clearTimeout(i.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(i.current),[]),[n,s,o]}function s2(e,t,n){const s=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let l=Iie(e,Math.max(o,0));s.length===1&&(l=l.filter(h=>h!==n));const d=l.find(h=>h.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function Iie(e,t){return e.map((n,i)=>e[(t+i)%e.length])}var zie=Mj,Bie=Lj,Uie=Ij,Fie=zj,Vie=Bj,$ie=Uj,Hie=Hj,Gie=Wj,Kie=Yj,qie=Xj,Wie=Qj,Yie=Jj;function Zie({...e}){return y.jsx(zie,{"data-slot":"select",...e})}function Xie({...e}){return y.jsx(Uie,{"data-slot":"select-value",...e})}function Qie({className:e,size:t="default",children:n,...i}){return y.jsxs(Bie,{"data-slot":"select-trigger","data-size":t,className:it("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...i,children:[n,y.jsx(Fie,{asChild:!0,children:y.jsx(Tu,{className:"size-4 opacity-50"})})]})}function Jie({className:e,children:t,position:n="popper",...i}){return y.jsx(Vie,{children:y.jsxs($ie,{"data-slot":"select-content",className:it("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...i,children:[y.jsx(tse,{}),y.jsx(Hie,{className:it("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),y.jsx(nse,{})]})})}function ese({className:e,children:t,...n}){return y.jsxs(Gie,{"data-slot":"select-item",className:it("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[y.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:y.jsx(qie,{children:y.jsx($O,{className:"size-4"})})}),y.jsx(Kie,{children:t})]})}function tse({className:e,...t}){return y.jsx(Wie,{"data-slot":"select-scroll-up-button",className:it("flex cursor-default items-center justify-center py-1",e),...t,children:y.jsx(A_,{className:"size-4"})})}function nse({className:e,...t}){return y.jsx(Yie,{"data-slot":"select-scroll-down-button",className:it("flex cursor-default items-center justify-center py-1",e),...t,children:y.jsx(Tu,{className:"size-4"})})}const ise=65,sse=32,rse=2e3,ose=450,ase=700;function lse(e){const[t,n]=x.useState(""),i=x.useRef({index:0,chars:0,phase:"typing"});return x.useEffect(()=>{if(!e.length){n("");return}i.current={index:0,chars:0,phase:"typing"},n("");let s,o=!0;const l=()=>{if(!o)return;const c=i.current,d=e[c.index%e.length];if(c.phase==="typing"){const h=c.chars+1;c.chars=h,n(d.slice(0,h)),h>=d.length?(c.phase="erasing",s=setTimeout(l,rse)):s=setTimeout(l,ise)}else{const h=c.chars-1;c.chars=h,n(d.slice(0,h)),h<=0?(c.index=(c.index+1)%e.length,c.phase="typing",s=setTimeout(l,ose)):s=setTimeout(l,sse)}};return s=setTimeout(l,ase),()=>{o=!1,clearTimeout(s)}},[e]),t}const XR={"":[],animalia:["Canis lupus","Ursus maritimus","Loxodonta","Panthera leo","Gorilla","Orcinus orca","Harpia"],plantae:["Zea mays","Rosa canina","Quercus robur","Arabidopsis thaliana","Solanum lycopersicum","Ficus carica"],fungi:["Amanita muscaria","Penicillium notatum","Boletus edulis","Aspergillus niger"],bacteria:["Escherichia coli","Bacillus subtilis","Streptomyces coelicolor","Lactobacillus acidophilus"],archaea:["Halobacterium salinarum","Methanobacterium formicicum","Sulfolobus acidocaldarius"],chromista:["Navicula radiosa","Fucus vesiculosus","Phytophthora infestans"],protozoa:["Amoeba proteus","Plasmodium falciparum","Trypanosoma brucei"]};function cse({q:e,setQ:t,kingdom:n,setKingdom:i,loading:s,isKeySearch:o,hasResults:l,onSearch:c,onClear:d}){const{t:h}=At(),m=x.useRef(null),v=x.useMemo(()=>Object.entries(Ru).map(([N,k])=>({key:Number(N),name:k})),[]),b=x.useMemo(()=>{if(e)return[];const N=n.toLowerCase();return XR[N]??XR[""]},[e,n]),_=lse(b),C=h("search.searchByNameOrKey"),E=_||C,T=e.length>0||l;return y.jsxs("form",{onSubmit:c,className:"flex h-9.5 flex-nowrap items-center gap-1.5",children:[!o&&y.jsxs(Zie,{value:n,onValueChange:i,children:[y.jsx(Qie,{className:"rounded-lg border px-2 text-sm font-medium",children:y.jsx(Xie,{placeholder:h("search.kingdom"),children:n?y.jsx(Ln,{src:gs(v.find(N=>N.name===n)?.key??0),alt:"Reino",className:"size-5"}):y.jsx("span",{children:h("search.kingdom")})})}),y.jsx(Jie,{className:"rounded-lg text-sm font-medium",children:v.map(N=>y.jsxs(ese,{value:N.name,children:[y.jsx(Ln,{src:gs(N.key),alt:`${N.name} icon`,className:"size-5"}),Qi(N.name)]},N.key))})]}),o&&y.jsx("span",{className:"text-muted-foreground flex shrink-0 items-center gap-1 rounded-md border px-2 py-1.5 text-xs font-medium",children:"GBIF key"}),y.jsx("div",{className:"relative min-w-0 flex-1",children:y.jsx("input",{ref:m,value:e,onChange:N=>t(N.target.value),placeholder:E,className:"h-9.5 w-full rounded-md border bg-transparent px-3 py-2 text-sm outline-none focus:ring-1 focus:ring-inset","aria-label":h("search.searchTaxa"),autoComplete:"off",autoCorrect:"off",spellCheck:!1})}),T&&y.jsx("button",{type:"button",onClick:()=>{d(),m.current?.focus()},"aria-label":h("search.clearSearch"),className:"text-muted-foreground hover:text-foreground h-9.5 shrink-0 cursor-pointer rounded-md border px-2.5 transition-colors",children:y.jsx(Da,{className:"size-3.5"})}),y.jsx("button",{type:"submit",disabled:s||!e.trim(),"aria-label":h("search.searchTaxa"),className:"h-9.5 shrink-0 cursor-pointer rounded-md border px-3 transition-opacity disabled:cursor-not-allowed disabled:opacity-50",children:s?y.jsx(ih,{className:"size-4 animate-spin"}):y.jsx(ZO,{className:"size-4"})})]})}function use({results:e,selected:t,minimized:n,setMinimized:i,onPick:s}){const o=async h=>{await s(h),i(!0)},{t:l}=At(),c=h=>{const m=h;return[h.kingdom&&Qi(String(h.kingdom)),h.phylum&&Qi(String(h.phylum)),m.class&&Qi(String(m.class)),h.order&&Qi(String(h.order)),h.family&&Qi(String(h.family)),h.genus&&Qi(String(h.genus))].filter(Boolean).join("  ")},d=n&&t?t.canonicalName||t.scientificName:e.length===0?l("search.noResults"):`${e.length} ${l("search.results")}`;return y.jsxs("div",{className:"bg-card mt-2 overflow-hidden rounded-lg border shadow-sm",children:[y.jsxs("button",{onClick:()=>i(!n),className:"flex w-full cursor-pointer items-center justify-between px-3 py-2","aria-label":l(n?"search.expandResults":"search.minimizeResults"),children:[y.jsx("span",{className:`truncate text-xs font-medium ${n&&t?"italic":"text-muted-foreground"}`,children:d}),n?y.jsx(Tu,{className:"text-muted-foreground ml-2 size-3.5 shrink-0"}):y.jsx(A_,{className:"text-muted-foreground ml-2 size-3.5 shrink-0"})]}),!n&&e.length>0&&y.jsx("ul",{className:"max-h-64 divide-y overflow-auto",children:e.map(h=>y.jsx("li",{children:y.jsx("button",{onClick:()=>o(h),className:`hover:bg-accent w-full cursor-pointer px-3 py-2 text-left transition-colors ${t?.key===h.key?"bg-muted":""}`,children:y.jsxs("div",{className:"flex items-start justify-between gap-2",children:[y.jsxs("div",{className:"min-w-0",children:[y.jsx("p",{className:"truncate text-sm font-medium italic",children:h.canonicalName||h.scientificName}),y.jsx("p",{className:"text-muted-foreground truncate text-xs",children:c(h)})]}),y.jsx("span",{className:"text-muted-foreground mt-0.5 shrink-0 text-xs",children:h.rank})]})})},h.key))}),!n&&e.length===0&&y.jsx("p",{className:"text-muted-foreground px-3 pb-3 text-sm",children:l("search.noResults")})]})}const dse=e=>{const t=e.trim();if(/^\d+$/.test(t)&&t.length>0){const n=parseInt(t,10);return n>0?n:null}return null},QR=(e,t)=>{const n=new Map,i=new Map;e.forEach(l=>{const c=((l.canonicalName||l.scientificName)??"").trim();if(!c)return;const d=c.toLowerCase().split(/\s+/).filter(Boolean);if(d.length>=2){const h=`${d[0]} ${d[1]}`,m=n.get(h);(!m||m.rank!=="SPECIES")&&n.set(h,l)}else if(d.length===1){const h=d[0],m=i.get(h);(!m||m.rank!=="GENUS")&&i.set(h,l)}});const s=t[0]??"",o=[];if(t.length===1&&s){for(const[l,c]of n.entries())l.split(" ")[1]===s&&o.push(c);if(i.has(s))o.unshift(i.get(s));else for(const l of i.values())if(String(l.genus??"").toLowerCase()===s){o.unshift(l);break}if(o.length>0)return o.slice(0,10)}if(s&&i.has(s))o.push(i.get(s));else if(s){for(const l of i.values())if(String(l.genus??"").toLowerCase()===s){o.push(l);break}}for(const[l,c]of n.entries())if(l.startsWith(s+" ")){o.push(c);break}if(o.length===0){if(i.size>0){const l=i.values().next().value;l&&o.push(l)}if(n.size>0){const l=n.values().next().value;l&&o.push(l)}}return o};function fse(){const{t:e}=At(),{navigateToNodes:t}=gh(),[n,i]=x.useState(""),[s,o]=x.useState(""),[l,c]=x.useState(!1),[d,h]=x.useState(null),[m,v]=x.useState(null),[b,_]=x.useState(null),[C,E]=x.useState(!1),T=dse(n),N=T!==null,k=x.useCallback(()=>{i(""),h(null),v(null),_(null),E(!1)},[]),O=x.useCallback(async j=>{j?.preventDefault(),v(null),h(null),_(null),E(!1);const V=n.trim();if(V){c(!0);try{if(N&&T!==null){const W=await s0(T),Z=W,ie=Z.nubKey??Z.key;if(!ie){v(e("search.keyNotFound")),h(null);return}const ye={key:ie,scientificName:W.scientificName||"",canonicalName:W.canonicalName||W.scientificName||"",rank:Z.rank?.toUpperCase()??"SPECIES",kingdom:W.kingdom||"animalia",numDescendants:0,phylum:W.phylum||"",class:W.class,order:W.order,family:W.family,genus:W.genus};h([ye]);return}if(!s){v(e("search.selectKingdomFirst"));return}const $=(await uZ(V,s)??[]).filter(W=>{const ie=W.nubKey,ye=typeof ie=="number"&&ie>0,G=String(W.kingdom??"").toLowerCase(),X=G===String(s??"").toLowerCase()||G==="metazoa"&&String(s??"").toLowerCase()==="animalia";return!!(ye&&X)}),Y=V.toLowerCase(),q=Y.split(/\s+/).filter(Boolean);if(q.length>=2){const W=$.filter(ie=>((ie.canonicalName||ie.scientificName)??"").toLowerCase()===Y),Z=W.length?W:$.filter(ie=>{const ye=((ie.canonicalName||ie.scientificName)??"").toLowerCase();return q.every(G=>ye.includes(G))});h(QR(Z,q))}else{const W=$.filter(ie=>((ie.canonicalName||ie.scientificName)??"").toLowerCase()===Y&&ie.rank==="SPECIES"),Z=W.length?[...W,...$.filter(ie=>!W.includes(ie))]:$;h(QR(Z,q))}}catch(z){console.error(z),v(e("search.gbifError")),h(null)}finally{c(!1)}}},[n,s,N,T,e]),M=x.useCallback(async j=>{c(!0);try{let V,z=null;try{const X=await s0(j.key);z=X,V=X.nubKey??X.key}catch{}const I=V??j.key,$=await xD(I);if(!$||$.length===0){v(e("search.lineageError"));return}const Y=j.rank==="SPECIES",q=$.findIndex(G=>G.rank==="GENUS");let W=$.length;if(Y&&q!==-1)W=q+1;else if(j.rank==="GENUS"){const G=$.findIndex(X=>{const ne=X,de=ne.nubKey??ne.key;return X.key===j.key||de===j.key});G!==-1&&(W=G+1)}const ie=$.slice(0,W).map(G=>{const X=G,ne=X.nubKey??X.key??0,de=X.canonicalName||X.scientificName||X.name||X.rank||"";return{key:ne,rank:X.rank?.toUpperCase()??"KINGDOM",name:de}});if(j.rank==="SPECIES"||!!(z&&(z.species||z.species===""))){const G=V??j.key,X=z?.species||j.canonicalName||j.scientificName||"",ne=ie[ie.length-1]?.key;G&&G!==ne&&ie.push({key:G,rank:"SPECIES",name:X})}else{const G=V??j.key,X=ie[ie.length-1]?.key;G&&G!==X&&ie.push({key:G,rank:j.rank,name:j.canonicalName||j.scientificName||""})}t(ie,!0),_(j)}catch(V){console.error(V),v(e("search.pathError"))}finally{c(!1)}},[e,t]);return{q:n,setQ:i,kingdom:s,setKingdom:o,loading:l,results:d,error:m,selected:b,minimized:C,setMinimized:E,isKeySearch:N,onSearch:O,onPick:M,onClear:k}}const hse=()=>{const{q:e,setQ:t,kingdom:n,setKingdom:i,loading:s,results:o,error:l,selected:c,minimized:d,setMinimized:h,isKeySearch:m,onSearch:v,onPick:b,onClear:_}=fse();return y.jsxs("div",{children:[y.jsx(cse,{q:e,setQ:t,kingdom:n,setKingdom:i,loading:s,isKeySearch:m,hasResults:o!==null,onSearch:v,onClear:_}),l&&y.jsx("p",{className:"mt-1.5 px-1 text-xs text-red-500",children:l}),o!==null&&y.jsx(use,{results:o,selected:c,minimized:d,setMinimized:h,onPick:b})]})},pse="/treevera/assets/click-success-CCSz7ZCu.wav",mse="/treevera/assets/click-error-e1JTzZ7m.wav",gse="/treevera/assets/winning-CUspfwTE.wav",vse={success:pse,error:mse,win:gse};class yse{play(t){const n=Wf(),{muted:i,volume:s}=n.get(LM);if(i)return;const o=new Audio(vse[t]);o.volume=s,o.play().catch(()=>{})}}const rx=new yse,bse=()=>{const e=Me(Ye.expandedNodes),t=Me(Ye.challenge),n=t.status,i=t.speciesKey??0,s=n==="IN_PROGRESS"||n==="COMPLETED",o=x.useRef(!1),l=x.useRef(new Set),{data:c}=Bo({specieKey:i}),{data:d}=Zg(i,s),h=x.useMemo(()=>!d||!c?[]:Xg(d,c.canonicalName??c.species??"",i),[d,c,i]);x.useEffect(()=>{n==="COMPLETED"&&(o.current||(rx.play("win"),o.current=!0))},[n]),x.useEffect(()=>{if(n!=="IN_PROGRESS")return;if(e.length===0){l.current=new Set;return}const m=e[e.length-1];if(!m)return;const v=!l.current.has(m.key);if(l.current=new Set(e.map(E=>E.key)),!v)return;const b=e.length-1,_=h[b];if(!_)return;m.name.toLowerCase()===_.name.toLowerCase()?rx.play("success"):rx.play("error")},[e,n,h]),x.useEffect(()=>{o.current=!1,l.current=new Set},[i])};function xse(e,t){const n=Me(Ye.expandedNodes),i=Me(Ye.shortcutScrollTarget),s=Lt(KP),{isMobile:o}=ec(),l=x.useRef({targetPath:null,scrolledKey:null});x.useEffect(()=>{if(!i||i.length===0){l.current={targetPath:null,scrolledKey:null};return}l.current.targetPath!==i&&(l.current={targetPath:i,scrolledKey:null},o&&window.scrollTo({top:0,behavior:"smooth"}));let c=null;for(let h=i.length-1;h>=0;h--){const m=i[h].key;if(n.some(v=>v.key===m)&&e.some(v=>v.key===m)){c=m;break}}if(c===null||c===l.current.scrolledKey)return;l.current.scrolledKey=c;const d=e.findIndex(h=>h.key===c);d!==-1&&(t.scrollToIndex(d,{align:"start",behavior:"smooth"}),c===i[i.length-1]?.key&&s(null))},[i,n,e,t,s,o])}function _se(){const e=Me(Ye.expandedNodes),t=Me(Ye.nodes),n=Me(Ye.shortcutScrollTarget),i=Lt(WP),s=Me(B_),o=X_(),l=x.useRef(new Set),c=x.useRef(n);c.current!==n&&(c.current=n,l.current.clear()),x.useEffect(()=>{if(!(!n||n.length===0))for(const d of e){const h=t[d.key];if(!h||h.rank==="SPECIES"||!h.expanded||h.childrenKeys!==void 0||h.numDescendants===0||l.current.has(h.key))continue;const m=h.key;l.current.add(m),o.fetchQuery({queryKey:[ic.children_key,m,s],queryFn:async()=>{const b=(await bD(m)).filter(kj),_=s?b:b.filter(C=>C.numDescendants>0||C.rank==="SPECIES");return Rj(_).map(Nj)},staleTime:1e3*60*60*24}).then(v=>{i({key:m,children:v})}).finally(()=>{l.current.delete(m)})}},[n,e,t,s,o,i])}function Ia({className:e,...t}){return y.jsx("div",{"data-slot":"card",className:it("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function r2({className:e,...t}){return y.jsx("div",{"data-slot":"card-header",className:it("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function o2({className:e,...t}){return y.jsx("div",{"data-slot":"card-title",className:it("leading-none font-semibold",e),...t})}function wse({className:e,...t}){return y.jsx("div",{"data-slot":"card-description",className:it("text-muted-foreground text-sm",e),...t})}function za({className:e,...t}){return y.jsx("div",{"data-slot":"card-content",className:it("px-6",e),...t})}const vh="/treevera/assets/alvo-DNWwIacs.gif",tv="/treevera/assets/alvo-white-D_dDYQFf.gif",a2=()=>{const[e,t]=x.useState("24:00:00");return x.useEffect(()=>{const n=()=>{const s=new Date,o=new Date;o.setHours(24,0,0,0);const l=o.getTime()-s.getTime(),c=String(Math.floor(l/36e5)).padStart(2,"0"),d=String(Math.floor(l%36e5/6e4)).padStart(2,"0"),h=String(Math.floor(l%6e4/1e3)).padStart(2,"0");t(`${c}:${d}:${h}`)};n();const i=setInterval(n,1e3);return()=>clearInterval(i)},[]),y.jsxs("div",{className:"flex items-center gap-1 text-right",children:[y.jsx(r6,{className:"text-muted-foreground size-3 shrink-0"}),y.jsx("span",{className:"text-muted-foreground font-mono text-xs tabular-nums",children:e})]})},Sse=async e=>{const{data:t,error:n}=await Dn.rpc("get_or_create_daily_challenge",{p_date:e});if(n||!t||t.length===0)return console.error("Error fetching daily challenge:",n),null;const i=t[0];return{gbifKey:i.gbif_key,scientificName:i.scientific_name}},Cse=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${i}`},JR=()=>{const e=new Date;return e.setHours(24,0,0,0),e.getTime()-Date.now()},l2=e=>{const{daily_challenge_key:t}=ic,n=Cse(),i=e??n,s=i===n;return wr({queryKey:[t,i],queryFn:()=>Sse(i),staleTime:s?JR():1/0,gcTime:s?JR()+1e3*60*5:1e3*60*60*24})},Ese=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${i}`},Ase=async e=>{const t=Ese(),{data:n,error:i}=await Dn.from("daily_challenges").select("date, gbif_key").lte("date",t).order("date",{ascending:!1}).limit(60);if(i||!n)return[];if(!e||n.length===0)return n.map(c=>({date:c.date,gbifKey:c.gbif_key,completed:!1}));const s=n.map(c=>c.gbif_key),{data:o}=await Dn.from("user_challenge_history").select("gbif_key").eq("user_id",e).eq("mode","DAILY").in("gbif_key",s),l=new Set((o??[]).map(c=>c.gbif_key));return n.map(c=>({date:c.date,gbifKey:c.gbif_key,completed:l.has(c.gbif_key)}))},c2=()=>{const t=Me(st.session)?.user?.id;return wr({queryKey:["challenge_dates",t??"anonymous"],queryFn:()=>Ase(t),staleTime:1e3*60*5})},Tse=(e,t)=>new Date(e,t+1,0).getDate(),Rse=(e,t)=>{const n=new Date(e,t,1).getDay();return n===0?6:n-1},kse=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${i}`},Nse=({selectedDate:e,challengeDates:t,onSelectDate:n,formattedLabel:i})=>{const{i18n:s,t:o}=At(),l=kse(),[c,d]=x.useState(!1),[h,m]=x.useState(()=>parseInt(e.slice(0,4))),[v,b]=x.useState(()=>parseInt(e.slice(5,7))-1),_=new Map(t.map(Z=>[Z.date,Z])),C=l.split("-"),E=parseInt(C[0]),T=parseInt(C[1])-1,N=t.length>0?t[t.length-1].date:l,k=parseInt(N.slice(0,4)),O=parseInt(N.slice(5,7))-1,M=h===E&&v===T,j=h===k&&v===O,V=()=>{j||(v===0?(m(Z=>Z-1),b(11)):b(Z=>Z-1))},z=()=>{M||(v===11?(m(Z=>Z+1),b(0)):b(Z=>Z+1))},I=Z=>{!_.get(Z)||Z>l||(n(Z),d(!1))},$=Tse(h,v),Y=Rse(h,v),q=new Intl.DateTimeFormat(s.language,{month:"long",year:"numeric"}).format(new Date(h,v,1)),W=Array.from({length:7},(Z,ie)=>{const ye=new Date(2025,0,6+ie);return new Intl.DateTimeFormat(s.language,{weekday:"short"}).format(ye).slice(0,2)});return y.jsxs($_,{open:c,onOpenChange:d,children:[y.jsx(hY,{asChild:!0,children:y.jsx("button",{className:"bg-muted/80 rounded-md px-2 py-1 text-sm font-medium transition-colors",children:i})}),y.jsxs(H_,{className:"max-w-[320px] p-0",children:[y.jsx(G_,{className:"px-5 pt-5 pb-3",children:y.jsx(K_,{className:"text-base",children:o("challenge.dailyChallenges")})}),y.jsxs("div",{className:"px-4 pb-5 select-none",children:[y.jsxs("div",{className:"mb-3 flex items-center justify-between gap-2",children:[y.jsx(Ht,{variant:"ghost",size:"icon",className:"size-7",onClick:V,disabled:j,children:y.jsx(E_,{className:"size-4"})}),y.jsx("span",{className:"text-sm font-semibold capitalize",children:q}),y.jsx(Ht,{variant:"ghost",size:"icon",className:"size-7",onClick:z,disabled:M,children:y.jsx(Iu,{className:"size-4"})})]}),y.jsx("div",{className:"mb-1 grid grid-cols-7",children:W.map(Z=>y.jsx("div",{className:"text-muted-foreground py-1 text-center text-[10px] font-medium uppercase",children:Z},Z))}),y.jsxs("div",{className:"grid grid-cols-7 gap-y-1",children:[Array.from({length:Y},(Z,ie)=>y.jsx("div",{},`gap-${ie}`)),Array.from({length:$},(Z,ie)=>{const ye=ie+1,G=`${h}-${String(v+1).padStart(2,"0")}-${String(ye).padStart(2,"0")}`,X=G>l,ne=_.get(G),de=!!ne,ae=ne?.completed??!1,K=G===e,oe=X||!de;return y.jsxs("button",{onClick:()=>!oe&&I(G),disabled:oe,className:["relative mx-auto flex size-8 items-center justify-center rounded-full text-sm transition-all",oe?"text-muted-foreground/35 cursor-not-allowed":"cursor-pointer",K?"ring-primary ring-1":oe?"":"hover:bg-muted",ae&&!K?"font-semibold text-emerald-600 dark:text-emerald-400":""].filter(Boolean).join(" "),children:[ye,ae&&y.jsx("span",{className:"absolute bottom-0.5 left-1/2 size-1 -translate-x-1/2 rounded-full bg-emerald-500"})]},ye)})]}),y.jsx("div",{className:"text-muted-foreground mt-3 flex items-center gap-3 border-t pt-3 text-xs",children:y.jsxs("span",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:"inline-block size-1.5 rounded-full bg-emerald-500"}),o("challenge.completedLabel")]})})]})]})]})},u2=({selectedDate:e,onSelectDate:t})=>{const{i18n:n,t:i}=At(),{data:s=[]}=c2(),o=[...s].sort((m,v)=>m.date.localeCompare(v.date)),l=o.findIndex(m=>m.date===e),c=l>0?o[l-1]:null,d=l<o.length-1?o[l+1]:null,h=new Intl.DateTimeFormat(n.language,{day:"numeric",month:"short",year:"numeric"}).format(new Date(e+"T00:00:00"));return y.jsxs("div",{className:"flex items-center gap-0.5",children:[y.jsx(Ht,{variant:"ghost",size:"icon",className:"bg-muted/80 size-7 shrink-0",disabled:!c,onClick:()=>c&&t(c.date),title:i("challenge.prevDay"),children:y.jsx(E_,{className:"size-4"})}),y.jsx(Nse,{selectedDate:e,challengeDates:s,onSelectDate:t,formattedLabel:h}),y.jsx(Ht,{variant:"ghost",size:"icon",className:"bg-muted/80 size-7 shrink-0",disabled:!d,onClick:()=>d&&t(d.date),title:i("challenge.nextDay"),children:y.jsx(Iu,{className:"size-4"})})]})},Ose=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${i}`},ek=()=>{const{t:e}=At(),t=Ei(),{theme:n}=sh(),i=Me(st.isAuthenticated),s=Me(Ye.challenge),o=Lt(Ye.challenge),l=Ose(),[c,d]=x.useState(()=>s.challengeDate??l),{data:h=[]}=c2(),{data:m,isLoading:v,isError:b}=l2(c),C=h.find(O=>O.date===c)?.completed??!1,E=c===l,T=O=>{d(O)},N=()=>{if(!i){t({to:"/login"});return}m&&o({mode:"DAILY",status:"IN_PROGRESS",targetSpecies:m.scientificName,speciesKey:m.gbifKey,challengeDate:c})},k=m?.scientificName;return y.jsx("div",{className:"md:px-4 md:py-6",children:y.jsxs(Ia,{className:"relative mx-auto rounded-3xl",children:[E&&y.jsx("div",{className:"absolute top-3 right-4",children:y.jsx(a2,{})}),y.jsxs(za,{className:"flex flex-col gap-3",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Ln,{src:n==="dark"?tv:vh,className:"size-12",alt:"Alvo gif"}),y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("h2",{className:"text-xl font-bold",children:e("challenge.title")}),y.jsxs("p",{className:"text-sm",children:[e("challenge.find"),":"," ",v?y.jsx("span",{className:"text-muted-foreground animate-pulse font-semibold",children:"..."}):b||!k?y.jsx("span",{className:"text-muted-foreground font-semibold",children:""}):y.jsx("span",{className:"font-semibold text-emerald-600",children:k})]})]})]}),y.jsxs("div",{className:"flex flex-col items-center gap-2 sm:flex-row",children:[y.jsx(u2,{selectedDate:c,onSelectDate:T}),C&&y.jsx("span",{className:"text-muted-foreground text-xs",children:e("challenge.alreadyCompleted")})]}),E&&y.jsx("p",{className:"text-muted-foreground text-sm",children:e("challenge.missionDescription")}),y.jsx(Ht,{size:"lg",className:"bg-emerald-600",onClick:N,disabled:v||b||!m,children:e("challenge.start")})]})]})})},zw=async e=>{const{data:t,error:n}=await Dn.rpc("get_random_challenge_for_user",{p_user_id:e});if(n)return console.error("Error fetching random challenge:",n),null;if(!t||t.length===0)return null;const i=t[0];return{gbifKey:i.gbif_key,scientificName:i.scientific_name}},Pse=()=>{const{t:e}=At(),t=Ei(),{theme:n}=sh(),i=Me(st.isAuthenticated),s=Me(st.session),o=Lt(Ye.challenge),[l,c]=x.useState(!1),[d,h]=x.useState(!1),m=async()=>{if(!i){t({to:"/login"});return}const v=s?.user?.id;if(!v)return;c(!0),h(!1);const b=await zw(v);if(c(!1),!b){h(!0);return}o({mode:"RANDOM",status:"IN_PROGRESS",targetSpecies:b.scientificName,speciesKey:b.gbifKey})};return y.jsx("div",{className:"md:px-4 md:py-6",children:y.jsx(Ia,{className:"mx-auto rounded-3xl",children:y.jsxs(za,{className:"flex flex-col gap-3",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Ln,{src:n==="dark"?tv:vh,className:"size-12",alt:"Alvo gif"}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-bold",children:e("challenge.randomTitle")}),y.jsxs("p",{className:"text-sm",children:[e("challenge.find"),":"," ",y.jsx("span",{className:"font-semibold text-violet-600",children:"????"})]})]})]}),y.jsx("p",{className:"text-muted-foreground text-sm",children:e("challenge.randomMissionDescription")}),d&&y.jsx("p",{className:"text-sm font-semibold text-violet-600",children:"No foi possivel obter um desafio aleatrio. Tente novamente mais tarde."}),y.jsx(Ht,{size:"lg",className:"bg-violet-600",onClick:m,disabled:l,children:e("challenge.start")})]})})})},d2=({correctPath:e,activeIndex:t,currentStep:n})=>{const{t:i}=At(),s=Me(Ye.expandedNodes),o=l=>{const c=s[l],d=e[l];return c?d&&c.name===d.name?"success":"error":"locked"};return e.length===0?null:y.jsxs("div",{className:"bg-accent/40 rounded-2xl p-4",children:[y.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[y.jsx("h3",{className:"text-sm font-semibold",children:i("challenge.taxonomicPath")}),y.jsxs("div",{children:[y.jsx("span",{className:"text-xl font-bold text-emerald-600 tabular-nums dark:text-emerald-400",children:n}),y.jsxs("span",{className:"text-muted-foreground text-sm font-medium",children:["/",e.length]})]})]}),y.jsx("div",{className:"grid grid-cols-2 gap-2",children:e.map((l,c)=>{const d=o(c),h=t===c,m=c===e.length-1;return y.jsxs(jt.div,{layout:!0,animate:h?{scale:1}:d==="error"?{x:[-4,4,-3,3,0]}:{scale:1},transition:d==="error"?{duration:.3}:{type:"spring",stiffness:300,damping:20},className:it("flex items-center justify-between rounded-xl border p-3 transition-all",m&&"col-span-2",d==="success"&&"border-green-500/60 bg-green-500/10",d==="error"&&"border-red-400/60 bg-red-500/10",d==="locked"&&"border-dashed opacity-50",h&&"ring-2 ring-emerald-400"),children:[y.jsxs("div",{className:"flex min-w-0 flex-col",children:[y.jsx("span",{className:"text-muted-foreground text-[10px] font-semibold tracking-wide uppercase",children:l.rank}),y.jsx("span",{className:it("mt-0.5 truncate text-xs font-medium",d==="success"&&"text-green-600 dark:text-green-400",d==="error"&&"text-red-500",d==="locked"&&"text-muted-foreground"),children:d==="locked"?"":s[c]?.name})]}),y.jsxs("div",{className:"ml-2 shrink-0",children:[d==="success"&&y.jsx(i6,{className:"size-4 text-green-500"}),d==="error"&&y.jsx(QO,{className:"size-4 text-red-500"}),d==="locked"&&y.jsx(R6,{className:"text-muted-foreground/40 size-3"})]})]},`${l.rank}-${c}`)})})]})},Mse=({correctSteps:e,errorIndex:t,totalSteps:n})=>y.jsx("div",{className:"mt-2 flex items-center gap-1",children:Array.from({length:n}).map((i,s)=>{const o=s<e,l=s===t;return y.jsx(jt.div,{className:it("h-1.5 flex-1 rounded-full",o?"bg-emerald-500":l?"bg-red-500":"bg-muted"),animate:l?{x:[-3,3,-2,2,0]}:{},transition:{duration:.3}},s)})});function Dse(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,T=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:T,children:_})};h.displayName=o+"Provider";function m(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,Lse(s,...t)]}function Lse(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function jse(e){const t=Ise(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(Bse);if(d){const h=d.props.children,m=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function Ise(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=Fse(s),c=Use(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var zse=Symbol("radix.slottable");function Bse(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===zse}function Use(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Fse(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Vse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bw=Vse.reduce((e,t)=>{const n=jse(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),nv="Collapsible",[$se]=Dse(nv),[Hse,Uw]=$se(nv),f2=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:i,defaultOpen:s,disabled:o,onOpenChange:l,...c}=e,[d,h]=Do({prop:i,defaultProp:s??!1,onChange:l,caller:nv});return y.jsx(Hse,{scope:n,disabled:o,contentId:_s(),open:d,onOpenToggle:x.useCallback(()=>h(m=>!m),[h]),children:y.jsx(Bw.div,{"data-state":Vw(d),"data-disabled":o?"":void 0,...c,ref:t})})});f2.displayName=nv;var h2="CollapsibleTrigger",p2=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,...i}=e,s=Uw(h2,n);return y.jsx(Bw.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Vw(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...i,ref:t,onClick:Ie(e.onClick,s.onOpenToggle)})});p2.displayName=h2;var Fw="CollapsibleContent",m2=x.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=Uw(Fw,e.__scopeCollapsible);return y.jsx(xr,{present:n||s.open,children:({present:o})=>y.jsx(Gse,{...i,ref:t,present:o})})});m2.displayName=Fw;var Gse=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:i,children:s,...o}=e,l=Uw(Fw,n),[c,d]=x.useState(i),h=x.useRef(null),m=St(t,h),v=x.useRef(0),b=v.current,_=x.useRef(0),C=_.current,E=l.open||c,T=x.useRef(E),N=x.useRef(void 0);return x.useEffect(()=>{const k=requestAnimationFrame(()=>T.current=!1);return()=>cancelAnimationFrame(k)},[]),jn(()=>{const k=h.current;if(k){N.current=N.current||{transitionDuration:k.style.transitionDuration,animationName:k.style.animationName},k.style.transitionDuration="0s",k.style.animationName="none";const O=k.getBoundingClientRect();v.current=O.height,_.current=O.width,T.current||(k.style.transitionDuration=N.current.transitionDuration,k.style.animationName=N.current.animationName),d(i)}},[l.open,i]),y.jsx(Bw.div,{"data-state":Vw(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!E,...o,ref:m,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":C?`${C}px`:void 0,...e.style},children:E&&s})});function Vw(e){return e?"open":"closed"}var tk=f2,nk=p2,ik=m2;const Kse=async e=>{if(e.length===0)return{};const{data:t,error:n}=await Dn.from("challenge_tips").select("canonical_name, hints").in("canonical_name",e);return n||!t?(console.error("Error fetching challenge tips:",n),{}):Object.fromEntries(t.map(i=>[i.canonical_name,i.hints]))},qse=e=>{const t=e.map(n=>n.name);return wr({queryKey:[ic.challenge_tips_key,...t],queryFn:async()=>await Kse(t),enabled:t.length>0,staleTime:1/0,gcTime:1e3*60*60*24})},Wse={KINGDOM:"reino",SUBKINGDOM:"subreino",PHYLUM:"filo",SUBPHYLUM:"subfilo",SUPERCLASS:"superclasse",CLASS:"classe",SUBCLASS:"subclasse",SUPERORDER:"superordem",ORDER:"ordem",SUBORDER:"subordem",SUPERFAMILY:"superfamlia",FAMILY:"famlia",SUBFAMILY:"subfamlia",GENUS:"gnero",SUBGENUS:"subgnero",SPECIES:"espcie",SUBSPECIES:"subespcie"},Yse=e=>Wse[e]??e.toLowerCase().replace(/_/g," "),$w=({speciesName:e,speciesKey:t,currentStep:n,errorIndex:i,correctPath:s})=>{const{t:o}=At(),[l,c]=x.useState({}),[d,h]=x.useState(!1),[m,v]=x.useState(n),b=Me(Ye.nodes),_=Lt(k9),C=Lt(O9),E=Lt(R9),{data:T={}}=qse(s),{data:N}=Bo({specieKey:t}),{data:k,isLoading:O}=uh(t,N?.canonicalName),M=s[m],j=M?T[M.name]??[]:[],V=l[m]===!0,z=()=>{c(W=>({...W,[m]:!0}))},I=3,$=x.useRef(!1),Y=x.useCallback((W,Z)=>{const ie=s[W];if(!ie)return!1;const ye=W>0?s[W-1].key:null,G=ye?Z[ye]?.childrenKeys??[]:[];let X;if(G.length===0)X=[ie.key];else{const ne=G.indexOf(ie.key);if(ne===-1)X=[ie.key,...G.slice(0,I-1)];else{const de=Math.max(0,ne+I-G.length),ae=Math.min(I-1,ne);if(ae<de)X=[...G];else{const K=Math.floor(Math.random()*(ae-de+1))+de,oe=ne-K;X=G.slice(oe,oe+I)}}}return _(X),C(ie.key),E(ie.rank),G.length>0},[s,_,C,E]),q=W=>{v(W),$.current=!1;const Z=Y(W,b);$.current=Z};return x.useEffect(()=>{if(!d)return;v(n),$.current=!1;const W=Y(n,b);$.current=W},[n]),x.useEffect(()=>{if(!d||$.current||!s[m])return;const Z=m>0?s[m-1]?.key:null;!Z||!b[Z]?.childrenKeys?.length||($.current=!0,Y(m,b))},[b]),y.jsxs(JM,{modal:!1,open:d,onOpenChange:W=>{h(W),W?(v(n),q(n)):(_([]),E(null),C(null))},children:[y.jsx(eD,{asChild:!0,children:y.jsxs("button",{className:it("bg-muted/50 flex w-full items-center justify-between rounded-xl border border-dashed px-3 py-2 text-xs transition-colors"),children:[y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx(C6,{className:it("size-3.5 text-amber-500",i!==null&&"fill-amber-300")}),y.jsx("span",{className:it(i!==null?"font-medium text-amber-700 dark:text-amber-400":"text-muted-foreground"),children:o(i!==null?"challenge.needHelp":"challenge.tips")})]}),y.jsx("span",{className:"text-muted-foreground/50 text-[10px]",children:""})]})}),y.jsx(tD,{children:y.jsx(nD,{asChild:!0,onInteractOutside:W=>W.preventDefault(),onPointerDownOutside:W=>W.preventDefault(),children:y.jsxs(jt.div,{initial:{opacity:0,y:-16},animate:{opacity:1,y:0},exit:{opacity:0,y:-16},transition:{duration:.25,ease:"easeOut"},className:"bg-background fixed top-2 left-1/2 z-50 w-[calc(100%-1rem)] max-w-md -translate-x-1/2 rounded-xl border p-4 shadow-lg",children:[y.jsxs("header",{className:"mb-2 flex items-center justify-between",children:[y.jsxs("div",{className:"flex max-h-[45dvh] items-center gap-2 overflow-y-auto",children:[y.jsx("button",{onClick:()=>q(m-1),disabled:m===0,className:"hover:bg-muted rounded p-1 disabled:opacity-30","aria-label":o("challenge.prevStep"),children:y.jsx(E_,{className:"size-4"})}),y.jsxs(iD,{className:"flex items-center gap-2 text-sm font-semibold",children:[o("challenge.step")," ",m+1," ",o("challenge.of")," ",s.length]}),y.jsx("button",{onClick:()=>q(m+1),disabled:m===n,className:"hover:bg-muted rounded p-1 disabled:opacity-30","aria-label":o("challenge.nextStep"),children:y.jsx(Iu,{className:"size-4"})})]}),y.jsx(sD,{className:"hover:bg-muted rounded p-1",children:y.jsx(Da,{className:"size-3.5"})})]}),j.length>0?y.jsx("div",{className:"bg-muted/40 mt-3 rounded-lg border p-3 text-sm",children:j.map((W,Z)=>y.jsxs("div",{className:"flex items-start gap-2",children:[y.jsx("span",{children:""}),y.jsx("span",{className:"flex-1",children:W})]},Z))}):y.jsx("div",{className:"bg-muted/40 text-muted-foreground mt-3 rounded-lg border p-3 text-sm",children:"Sem dicas disponveis para esta etapa."}),M&&y.jsx("div",{className:"mt-4 rounded-lg border border-dashed p-3 text-sm",children:y.jsx(Nu,{mode:"wait",children:y.jsx(jt.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"easeOut"},children:V?y.jsxs("p",{className:"text-foreground font-medium",children:[Yse(M.rank)," ",y.jsx("span",{className:"font-bold text-green-600",children:M.name})]}):y.jsxs("button",{onClick:z,className:"flex items-center gap-2 text-amber-600 hover:underline",children:[y.jsx(h6,{className:"size-4"}),o("challenge.revealAnswer")]})},m)})}),y.jsxs(tk,{className:"mt-4",children:[y.jsx(nk,{asChild:!0,children:y.jsxs("button",{className:"text-muted-foreground hover:bg-muted/50 flex w-full items-center justify-between rounded-md px-2 py-1 text-xs",children:[y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx(_6,{className:"size-3.5"}),"Imagem da espcie"]}),y.jsx(Tu,{className:"size-3.5 opacity-60"})]})}),y.jsx(ik,{className:"mt-2 overflow-hidden rounded-md border",children:O?y.jsx(Pl,{className:"h-32 w-full"}):k?.imgUrl?y.jsx(Ln,{src:k.imgUrl,alt:e,className:"h-32 w-full object-cover"}):y.jsx("div",{className:"text-muted-foreground flex h-32 items-center justify-center text-xs",children:"Imagem no disponvel"})})]}),y.jsxs(tk,{className:"mt-2",children:[y.jsx(nk,{asChild:!0,children:y.jsxs("button",{className:"text-muted-foreground hover:bg-muted/50 flex w-full items-center justify-between rounded-md px-2 py-1 text-xs",children:[y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx(R_,{className:"size-3.5"}),o("challenge.howItWorks")]}),y.jsx(Tu,{className:"size-3.5 opacity-60"})]})}),y.jsx(ik,{className:"text-muted-foreground bg-muted/40 mt-2 rounded-md p-3 text-sm",children:"Expanda os grupos da rvore taxonmica seguindo o caminho correto at chegar  espcie alvo."})]})]})})})]})},g2=({speciesName:e,speciesKey:t,correctSteps:n,isCompleted:i,onCancel:s,onNext:o,nextLoading:l,errorIndex:c,correctPath:d})=>{const{t:h}=At();return y.jsx("div",{className:"px-2",children:y.jsxs(jt.div,{className:"rounded-2xl border px-3 py-2.5 shadow-sm",children:[y.jsxs("div",{className:"flex items-center gap-2.5",children:[y.jsx(Ln,{src:vh,className:"size-7 shrink-0",alt:"Alvo gif"}),y.jsx("p",{className:"truncate text-sm",children:y.jsx("span",{className:"font-bold text-emerald-600 dark:text-green-400",children:e})}),y.jsxs("span",{className:"text-muted-foreground text-xs font-semibold tabular-nums",children:[n,"/",d.length]}),o&&y.jsx("button",{onClick:o,disabled:l,className:"text-muted-foreground/60 ml-auto rounded-full p-1 hover:bg-violet-100 hover:text-violet-600 disabled:opacity-50 dark:hover:bg-violet-950","aria-label":h("challenge.nextChallenge"),children:y.jsx(XO,{className:"size-3.5"})}),y.jsx("button",{onClick:s,className:`rounded-full p-1 hover:bg-red-100 hover:text-red-500 dark:hover:bg-red-950 ${o?"":"ml-auto"} text-muted-foreground/60`,"aria-label":h("challenge.cancel"),children:y.jsx(Da,{className:"size-3.5"})})]}),!i&&d.length>0&&y.jsxs("div",{className:"space-y-2",children:[y.jsx(Mse,{correctSteps:n,errorIndex:c,totalSteps:d.length}),y.jsx($w,{speciesName:e,speciesKey:t,currentStep:n,errorIndex:c,correctPath:d})]})]})})},v2=async({userId:e,gbifKey:t,mode:n})=>{const{data:i,error:s}=await Dn.from("user_challenge_history").upsert({user_id:e,gbif_key:t,mode:n},{onConflict:"user_id,gbif_key,mode",ignoreDuplicates:!0}).select();return s?(console.error("Error saving challenge result:",s),{wasNew:!1}):{wasNew:i!=null&&i.length>0}},y2=async({user:e,speciesName:t,mode:n})=>{const i=n==="DAILY"?"Desafio Dirio":"Desafio Aleatrio",s=`Encontrou a espcie ${t}`,l=[{title:i,description:s,date:new Date().toISOString()},...e.game_info.activities??[]],{data:c,error:d}=await Dn.from("users").update({game_info:{...e.game_info,activities:l}}).eq("id",e.id).select().single();return d?(console.error("Error saving challenge activity:",d),null):c},b2=({speciesName:e,onReplay:t,onNext:n,nextLabel:i,nextLoading:s=!1,children:o})=>{const{t:l}=At();return y.jsxs(jt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.4,ease:"easeOut"},className:"mx-4 rounded-2xl border bg-emerald-50/50 p-5 text-center shadow-sm md:mt-5 dark:bg-emerald-950/30",children:[y.jsx(jt.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.15,type:"spring",stiffness:200},className:"mx-auto mb-3 flex size-12 items-center justify-center rounded-full bg-emerald-500 md:size-16",children:y.jsx(JO,{className:"size-6 text-white md:size-8"})}),y.jsx("p",{className:"text-sm font-semibold text-emerald-700 md:text-lg dark:text-emerald-400",children:l("challenge.completed")}),y.jsx("p",{className:"mt-1 text-sm md:text-lg",children:y.jsx("strong",{children:e})}),y.jsxs(jt.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{delay:.25},className:"text-muted-foreground mt-2 flex items-center justify-center gap-1 text-xs md:text-sm",children:[y.jsx(t6,{className:"size-3.5 text-emerald-500"}),l("challenge.path")]}),y.jsxs(jt.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-5 flex flex-col gap-2 sm:flex-row sm:justify-center",children:[y.jsxs(Ht,{variant:"outline",onClick:t,className:"gap-2",children:[y.jsx(I6,{className:"size-4"}),l("challenge.replay")]}),y.jsxs(Ht,{onClick:n,disabled:s,className:"gap-2 bg-emerald-600 hover:bg-emerald-700",children:[i,y.jsx(Iu,{className:"size-4"})]})]}),o&&y.jsx(jt.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{delay:.55},className:"mt-4 border-t pt-4 text-left",children:o})]})},Zse=()=>new Date().toISOString().slice(0,10),Xse=()=>{const{t:e}=At(),t=Lt(Ye.challenge),n=Ei(),i=Me(Ye.expandedNodes),s=Lt(Ye.expandedNodes),{isTablet:o}=ec(),{theme:l}=sh(),c=Me(Ye.challenge),d=Me(st.session),[h,m]=Gs(st.userDb),v=Zse(),b=c.targetSpecies??"",_=c.speciesKey??0,C=c.challengeDate??v,[E,T]=x.useState(C),{data:N,isLoading:k}=l2(E),[O,M]=x.useState(!1),{data:j}=Bo({specieKey:_}),{data:V}=Zg(_,!!_),z=x.useMemo(()=>!V||!j?[]:Xg(V,j.canonicalName??j.species??"",_),[V,j,_]),I=x.useMemo(()=>i.filter((X,ne)=>{const de=z[ne];return de&&X.name===de.name}).length,[i,z]),$=z.length>0&&I===z.length;x.useEffect(()=>{if(!$)return;t(ne=>ne.status==="COMPLETED"?ne:{...ne,status:"COMPLETED"});const X=d?.user?.id;!X||!_||!h||(async()=>{const{wasNew:ne}=await v2({userId:X,gbifKey:_,mode:"DAILY"});if(ne){const de=await y2({user:h,speciesName:b,mode:"DAILY"});de&&m(de)}})()},[$,t,d,_,h,b,m]);const Y=()=>{s([]),n({to:"/",replace:!0})},q=()=>{t({status:"NOT_STARTED",mode:"UNSET"}),Y()},W=()=>{Y(),t(X=>({...X,status:"IN_PROGRESS"}))},Z=async()=>{const X=d?.user?.id;if(!X)return;M(!0);const ne=await zw(X);M(!1),ne&&(Y(),t({mode:"RANDOM",status:"IN_PROGRESS",targetSpecies:ne.scientificName,speciesKey:ne.gbifKey}))},ie=()=>{N&&(Y(),t({mode:"DAILY",status:"IN_PROGRESS",targetSpecies:N.scientificName,speciesKey:N.gbifKey,challengeDate:E}))},G=x.useMemo(()=>{const X=i.length-1,ne=i[X],de=z[X];return X>=0&&de&&ne?.name!==de.name},[i,z])?i.length-1:null;if($){const X=E===C;return y.jsxs("div",{className:"flex flex-col gap-4 pb-10",children:[y.jsx(b2,{speciesName:b,onReplay:W,onNext:Z,nextLabel:e("challenge.nextRandom"),nextLoading:O,children:y.jsxs("div",{className:"flex items-center justify-between gap-3",children:[y.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[y.jsx(W$,{className:"text-muted-foreground size-4 shrink-0"}),y.jsx(u2,{selectedDate:E,onSelectDate:T})]}),!X&&y.jsx(Ht,{size:"sm",className:"shrink-0 bg-emerald-600 hover:bg-emerald-700",onClick:ie,disabled:k||!N,children:e("challenge.play")})]})}),y.jsx($u,{embedded:!0})]})}return o?y.jsx(g2,{speciesName:b,speciesKey:_,correctSteps:I,isCompleted:$,onCancel:q,errorIndex:G,correctPath:z}):y.jsx("div",{className:"mt-22 md:mt-0 md:px-4 md:py-6",children:y.jsxs(Ia,{className:"relative mx-auto rounded-3xl",children:[C===v&&y.jsx("div",{className:"absolute top-3 right-4",children:y.jsx(a2,{})}),y.jsxs(za,{className:"flex flex-col gap-4 pt-5",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"flex size-12 shrink-0 items-center justify-center rounded-2xl bg-emerald-100 dark:bg-emerald-900/40",children:y.jsx(Ln,{src:l==="dark"?tv:vh,className:"size-8",alt:"Alvo gif"})}),y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("p",{className:"text-muted-foreground text-[10px] font-semibold tracking-widest uppercase",children:e("challenge.title")}),y.jsx("h2",{className:"truncate text-base leading-tight font-bold",children:b})]})]}),!$&&z.length>0&&y.jsx($w,{speciesName:b,speciesKey:_,currentStep:I,errorIndex:G,correctPath:z}),y.jsx(d2,{currentStep:I,correctPath:z,activeIndex:i.length}),!$&&y.jsx("div",{className:"flex justify-end",children:y.jsx(Ht,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-destructive text-xs",onClick:q,children:e("challenge.cancel")})})]})]})})},Qse=()=>{const{t:e}=At(),t=Ei(),n=Lt(Ye.challenge),i=Me(Ye.expandedNodes),s=Lt(Ye.expandedNodes),{isTablet:o}=ec(),{theme:l}=sh(),c=Me(Ye.challenge),d=Me(st.session),[h,m]=Gs(st.userDb),v=c.targetSpecies??"",b=c.speciesKey??0,{data:_}=Bo({specieKey:b}),{data:C}=Zg(b,!!b),E=x.useMemo(()=>!C||!_?[]:Xg(C,_.canonicalName??_.species??"",b),[C,_,b]),T=x.useMemo(()=>i.filter((Y,q)=>{const W=E[q];return W&&Y.name===W.name}).length,[i,E]),N=E.length>0&&T===E.length;x.useEffect(()=>{if(!N)return;n(q=>q.status==="COMPLETED"?q:{...q,status:"COMPLETED"});const Y=d?.user?.id;!Y||!b||!h||(async()=>{const{wasNew:q}=await v2({userId:Y,gbifKey:b,mode:"RANDOM"});if(q){const W=await y2({user:h,speciesName:v,mode:"RANDOM"});W&&m(W)}})()},[N,n,d,b,h,v,m]);const[k,O]=x.useState(!1),M=()=>{s([]),t({to:"/",replace:!0})},j=()=>{n({status:"NOT_STARTED",mode:"UNSET"}),M()},V=()=>{M(),n(Y=>({...Y,status:"IN_PROGRESS"}))},z=async()=>{const Y=d?.user?.id;if(!Y)return;O(!0);const q=await zw(Y);O(!1),q&&(M(),n({mode:"RANDOM",status:"IN_PROGRESS",targetSpecies:q.scientificName,speciesKey:q.gbifKey}))},$=x.useMemo(()=>{const Y=i.length-1,q=i[Y],W=E[Y];return Y>=0&&W&&q?.name!==W.name},[i,E])?i.length-1:null;return N?y.jsxs("div",{className:"flex flex-col gap-4 pb-10",children:[y.jsx(b2,{speciesName:v,onReplay:V,onNext:z,nextLabel:e("challenge.nextChallenge"),nextLoading:k}),y.jsx($u,{embedded:!0})]}):o?y.jsx(g2,{speciesName:v,speciesKey:b,correctSteps:T,isCompleted:N,onCancel:j,onNext:z,nextLoading:k,errorIndex:$,correctPath:E}):y.jsx("div",{className:"mt-22 md:mt-0 md:px-4 md:py-6",children:y.jsx(Nu,{mode:"wait",initial:!1,children:y.jsx(jt.div,{initial:{opacity:0,x:28},animate:{opacity:1,x:0},exit:{opacity:0,x:-28},transition:{duration:.22,ease:"easeOut"},children:y.jsx(Ia,{className:"mx-auto rounded-3xl",children:y.jsxs(za,{className:"flex flex-col gap-4 pt-5",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"flex size-12 shrink-0 items-center justify-center rounded-2xl bg-violet-100 dark:bg-violet-900/40",children:y.jsx(Ln,{src:l==="dark"?tv:vh,className:"size-8",alt:"Alvo gif"})}),y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("p",{className:"text-muted-foreground text-[10px] font-semibold tracking-widest uppercase",children:e("challenge.randomTitle")}),y.jsx("h2",{className:"truncate text-base leading-tight font-bold",children:v})]})]}),!N&&E.length>0&&y.jsx($w,{speciesName:v,speciesKey:b,currentStep:T,errorIndex:$,correctPath:E}),y.jsx(d2,{correctPath:E,activeIndex:i.length,currentStep:T}),!N&&y.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[y.jsx(Ht,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-destructive text-xs",onClick:j,children:e("challenge.cancel")}),y.jsxs(Ht,{className:"gap-2 bg-violet-600 text-white hover:bg-violet-700",onClick:z,disabled:k,children:[y.jsx(XO,{className:"size-4"}),e("challenge.nextChallenge")]})]})]})})},b||"loading")})})},Jse=e=>{const t=x.useRef(e);t.current=e,x.useEffect(()=>{const n=new Date;n.setHours(24,0,0,0);const i=n.getTime()-Date.now(),s=setTimeout(()=>t.current(),i);return()=>clearTimeout(s)},[])},sk=()=>new Date().toDateString(),x2=()=>{const e=Me(Ye.challenge),t=X_(),[n,i]=x.useState(sk);return Jse(()=>{t.invalidateQueries({queryKey:["challenge_dates"]}),i(sk())}),e.mode==="DAILY"&&e.status!=="NOT_STARTED"?y.jsx(Xse,{}):e.mode==="DAILY"?y.jsx(Nu,{mode:"wait",initial:!1,children:y.jsx(jt.div,{initial:{opacity:0,x:28},animate:{opacity:1,x:0},exit:{opacity:0,x:-28},transition:{duration:.22,ease:"easeOut"},children:y.jsx(ek,{})},n)}):e.mode==="RANDOM"?y.jsx(Qse,{}):y.jsxs("div",{className:"mx-auto flex max-w-7xl flex-col gap-4",children:[y.jsx(Nu,{mode:"wait",initial:!1,children:y.jsx(jt.div,{initial:{opacity:0,x:28},animate:{opacity:1,x:0},exit:{opacity:0,x:-28},transition:{duration:.22,ease:"easeOut"},children:y.jsx(ek,{})},n)}),y.jsx(Pse,{})]})},ere=()=>{Kne(),bse(),_se();const e=x.useRef(null),t=Me(Ye.nodes),n=Me(Ye.rootKeys),i=Me(Ye.challenge).mode,s=Me(Ye.scrollToRank),o=x.useRef(null),l=Me(Ye.scrollToNodeKey),c=x.useRef(null),{isTablet:d}=ec(),{flattened:h,rowVirtualizer:m,connectors:v}=rie(t,n,e);return x.useEffect(()=>{if(!s||s===o.current)return;o.current=s;const b=h.findIndex(_=>t[_.key]?.rank===s);b!==-1&&m.scrollToIndex(b,{align:"center",behavior:"smooth"})},[s,h,t,m]),x.useEffect(()=>{if(!l||l===c.current)return;c.current=l;const b=h.findIndex(_=>_.key===l);b!==-1&&m.scrollToIndex(b,{align:"center",behavior:"smooth"})},[l,h,m]),xse(h,m),y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"mb-4 px-4",children:[i&&d&&y.jsx(x2,{}),!i&&y.jsx(hse,{})]}),y.jsx("div",{ref:e,className:it("h-[calc(100dvh-144px)] w-full overflow-auto px-4 pb-28",i&&!d&&"h-[calc(100dvh-130px)]",i==="UNSET"&&"pointer-events-none opacity-40"),style:{WebkitOverflowScrolling:"touch"},children:y.jsxs("ul",{style:{height:m.getTotalSize()},className:"relative w-full",children:[y.jsx(oie,{connectors:v,totalHeight:m.getTotalSize()}),m.getVirtualItems().map(b=>{const _=h[b.index];return y.jsx("li",{className:"absolute top-0 left-0 w-full",style:{transform:`translateY(${b.start}px)`},children:_.isEmptyInfo?y.jsx(Gne,{parentNodeKey:_.parentNodeKey,level:_.level}):y.jsx(Hne,{nodeKey:_.key,level:_.level})},_.key)})]})})]})};function tre(){const e=Ei(),t=N3(),n=Lt(E9),i=Me(Ye.nodes),s=x.useRef(i),o=x.useRef([]),l=x.useRef([]),c=x.useRef(""),d=x.useRef(!0);x.useEffect(()=>{s.current=i},[i]);const h=()=>{if(d.current||o.current.length===0)return;const m=o.current[0],v=s.current[m];if(!v)return;const b={key:v.key,rank:v.rank,name:v.rank==="KINGDOM"?Qi(Ru[v.key]):v.canonicalName||v.scientificName||""},_=[...l.current,b],C=o.current.slice(1);l.current=_,o.current=C,C.length===0&&(d.current=!0),n(_),C.length>0&&h()};x.useEffect(()=>{d.current||h()},[i]),x.useEffect(()=>{const m=t.pathname;if(m===c.current)return;c.current=m;const b=m.replace("/treevera","").split("/").filter(Boolean);if(b[0]!=="tree"){o.current=[],l.current=[],d.current=!0,n([]);return}const _=b.slice(1);if(_.length===0){o.current=[],l.current=[],d.current=!0,n([]);return}const C=_.map(Number);if(C.some(isNaN)){console.warn(" URL com keys invalidas:",_),e({to:"/",replace:!0});return}o.current=C,l.current=[],d.current=!1,h()},[t.pathname])}const _2=()=>{const{data:e,isLoading:t,isError:n}=qte(),i=Lt(Ye.mergeNodes),s=Lt(Ye.rootKeys);return tre(),x.useEffect(()=>{e&&e.length>0&&(i(e.map(o=>({...o}))),s(e.map(o=>o.key)))},[e,i,s]),t?y.jsx(sx,{type:"loading"}):n?y.jsx(sx,{type:"error"}):!e||e.length===0?y.jsx(sx,{type:"empty"}):y.jsx(ere,{})},nre=()=>{const{t:e}=At(),t=Me(Ye.exploreInfos),n=Me(st.userDb),i=Me(Ye.expandedNodes),{navigateToNodes:s}=gh(),o=t.find(d=>d.kingdomKey===i[0].key),l=x.useMemo(()=>{const d=i[i.length-1].rank;return o?d!=="KINGDOM"?`a classificao ${Qi(d)}`:`o Reino ${o.kingdomName}`:""},[i,o]),c=x.useMemo(()=>{if(!n||!n.game_info?.shortcuts)return null;const d=o?.kingdomName.toLocaleLowerCase();return n.game_info.shortcuts[d]},[o?.kingdomName,n]);if(o)return y.jsxs("main",{className:"mx-auto min-h-screen w-full max-w-6xl p-10",style:{containerType:"inline-size"},children:[y.jsxs("header",{className:"bg-card flex rounded-xl border p-6 pr-10 shadow-sm",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(jf,{variant:"secondary",children:e("explore.kingdom")}),y.jsx("h1",{className:"[@container(min-width:350px)]text-4xl text-3xl font-bold tracking-tight [@container(min-width:450px)]:text-5xl",style:{color:To[o.kingdomKey]},children:o.kingdomName}),y.jsx("p",{className:"text-muted-foreground w-full",children:o.description}),y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("div",{className:"flex flex-wrap items-center gap-1",children:o.mainGroups.map((d,h)=>y.jsxs(Ht,{variant:"outline",onClick:()=>s(d.pathNode),children:[y.jsx(Nx,{className:"size-4 scale-x-[-1]"}),d.groupName]},h))}),c&&y.jsx("div",{className:"flex flex-wrap items-center gap-1",children:c.map(({name:d,nodes:h},m)=>{if(h[0].key===o.kingdomKey)return y.jsxs(Ht,{variant:"outline",onClick:()=>s(h,!0),children:[y.jsx(Nx,{className:"size-4 scale-x-[-1]"}),d]},d+m)})})]})]}),y.jsx(Ln,{src:gs(o.kingdomKey),className:"mt-8 size-8 [@container(min-width:350px)]:size-12 [@container(min-width:450px)]:my-auto [@container(min-width:450px)]:ml-auto [@container(min-width:450px)]:size-20"})]}),i.length>0&&i[i.length-1].rank!=="SPECIES"&&y.jsxs("section",{className:"py-8 sm:py-10",children:[y.jsxs("h2",{className:"mb-6 text-center text-2xl font-semibold tracking-tight",children:["Fatos e curiosidades sobre ",l]}),y.jsx("div",{className:"grid gap-4 [@container(min-width:350px)]:grid-cols-2",children:i.length===1?V1.KINGDOM[i[0].key].map((d,h)=>y.jsx(Ia,{className:"transition-shadow duration-200 hover:shadow-lg",children:y.jsx(za,{children:y.jsx("p",{className:"text-foreground/90",children:d})})},h)):V1[i[i.length-1].rank].map((d,h)=>y.jsx(Ia,{className:"transition-shadow duration-200 hover:shadow-lg",children:y.jsx(za,{children:y.jsx("p",{className:"text-foreground/90",children:d})})},h))})]})]})},w2=()=>{const{t:e}=At(),t=Me(Ye.challenge).mode,n=Me(Ye.exploreInfos),i=Me(Ye.expandedNodes),{toggleNode:s}=gh();return!t&&i.length?y.jsx(nre,{}):y.jsx("div",{className:"p-8",children:y.jsxs("div",{className:"mx-auto max-w-7xl space-y-12",style:{containerType:"inline-size"},children:[y.jsx("div",{className:"text-center",children:y.jsx("h1",{className:"mb-4 text-3xl font-semibold",children:e("explore.selectKingdom")})}),y.jsx("div",{className:"grid grid-cols-1 gap-6 [@container(min-width:620px)]:grid-cols-2 [@container(min-width:820px)]:grid-cols-3",children:n.map(o=>y.jsxs(Ia,{className:"cursor-pointer overflow-hidden border-0 shadow-sm transition-all duration-300 hover:-translate-y-1 hover:shadow-md",onClick:()=>s(o.kingdomKey),children:[y.jsxs(r2,{className:"",children:[y.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[y.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl text-xl shadow-sm",style:{backgroundColor:o.lightColor},children:y.jsx(Ln,{src:o.icon,className:"size-6",alt:o.kingdomName+"icon"})}),y.jsx(o2,{className:"mb-2 text-xl font-bold",children:o.kingdomName})]}),y.jsx("p",{className:"line-clamp-2 text-sm leading-relaxed",children:o.description})]}),y.jsxs(za,{children:[y.jsxs("p",{className:"mb-2 text-xs font-medium",children:[e("explore.mainGroups"),":"]}),y.jsxs("div",{className:"flex flex-wrap gap-1",children:[o.mainGroups.slice(0,3).map((l,c)=>y.jsx("span",{className:"bg-accent rounded border px-2 py-1 text-xs",children:l.groupName},c)),o.mainGroups.length>3&&y.jsxs("span",{className:"bg-accent rounded border px-2 py-1 text-xs",children:["+",o.mainGroups.length-3]})]})]})]},o.kingdomKey))})]})})},ire=()=>{const e=Me(Ye.expandedNodes),t=Me(Ye.challenge),n=e.find(i=>i.rank==="SPECIES");return y.jsxs("div",{className:"flex flex-col",children:[y.jsx(oD,{}),!t.mode&&n?y.jsx($u,{}):y.jsxs(y.Fragment,{children:[y.jsx(_2,{}),!t.mode&&y.jsx(w2,{})]})]})};function sre(e,t){const n=getComputedStyle(e),i=parseFloat(n.fontSize);return t*i}function rre(e,t){const n=getComputedStyle(e.ownerDocument.body),i=parseFloat(n.fontSize);return t*i}function ore(e){return e/100*window.innerHeight}function are(e){return e/100*window.innerWidth}function lre(e){switch(typeof e){case"number":return[e,"px"];case"string":{const t=parseFloat(e);return e.endsWith("%")?[t,"%"]:e.endsWith("px")?[t,"px"]:e.endsWith("rem")?[t,"rem"]:e.endsWith("em")?[t,"em"]:e.endsWith("vh")?[t,"vh"]:e.endsWith("vw")?[t,"vw"]:[t,"%"]}}}function cm({groupSize:e,panelElement:t,styleProp:n}){let i;const[s,o]=lre(n);switch(o){case"%":{i=s/100*e;break}case"px":{i=s;break}case"rem":{i=rre(t,s);break}case"em":{i=sre(t,s);break}case"vh":{i=ore(s);break}case"vw":{i=are(s);break}}return i}function hr(e){return parseFloat(e.toFixed(3))}function Pu({group:e}){const{orientation:t,panels:n}=e;return n.reduce((i,s)=>(i+=t==="horizontal"?s.element.offsetWidth:s.element.offsetHeight,i),0)}function I0(e){const{panels:t}=e,n=Pu({group:e});return n===0?t.map(i=>({collapsedSize:0,collapsible:i.panelConstraints.collapsible===!0,defaultSize:void 0,disabled:i.panelConstraints.disabled,minSize:0,maxSize:100,panelId:i.id})):t.map(i=>{const{element:s,panelConstraints:o}=i;let l=0;if(o.collapsedSize!==void 0){const m=cm({groupSize:n,panelElement:s,styleProp:o.collapsedSize});l=hr(m/n*100)}let c;if(o.defaultSize!==void 0){const m=cm({groupSize:n,panelElement:s,styleProp:o.defaultSize});c=hr(m/n*100)}let d=0;if(o.minSize!==void 0){const m=cm({groupSize:n,panelElement:s,styleProp:o.minSize});d=hr(m/n*100)}let h=100;if(o.maxSize!==void 0){const m=cm({groupSize:n,panelElement:s,styleProp:o.maxSize});h=hr(m/n*100)}return{collapsedSize:l,collapsible:o.collapsible===!0,defaultSize:c,disabled:o.disabled,minSize:d,maxSize:h,panelId:i.id}})}function $t(e,t="Assertion error"){if(!e)throw Error(t)}function z0(e,t){return Array.from(t).sort(e==="horizontal"?cre:ure)}function cre(e,t){const n=e.element.offsetLeft-t.element.offsetLeft;return n!==0?n:e.element.offsetWidth-t.element.offsetWidth}function ure(e,t){const n=e.element.offsetTop-t.element.offsetTop;return n!==0?n:e.element.offsetHeight-t.element.offsetHeight}function S2(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}function C2(e,t){return{x:e.x>=t.left&&e.x<=t.right?0:Math.min(Math.abs(e.x-t.left),Math.abs(e.x-t.right)),y:e.y>=t.top&&e.y<=t.bottom?0:Math.min(Math.abs(e.y-t.top),Math.abs(e.y-t.bottom))}}function dre({orientation:e,rects:t,targetRect:n}){const i={x:n.x+n.width/2,y:n.y+n.height/2};let s,o=Number.MAX_VALUE;for(const l of t){const{x:c,y:d}=C2(i,l),h=e==="horizontal"?c:d;h<o&&(o=h,s=l)}return $t(s,"No rect found"),s}let um;function fre(){return um===void 0&&(typeof matchMedia=="function"?um=!!matchMedia("(pointer:coarse)").matches:um=!1),um}function E2(e){const{element:t,orientation:n,panels:i,separators:s}=e,o=z0(n,Array.from(t.children).filter(S2).map(C=>({element:C}))).map(({element:C})=>C),l=[];let c=!1,d=!1,h=-1,m=-1,v=0,b,_=[];{let C=-1;for(const E of o)E.hasAttribute("data-panel")&&(C++,E.ariaDisabled===null&&(v++,h===-1&&(h=C),m=C))}if(v>1){let C=-1;for(const E of o)if(E.hasAttribute("data-panel")){C++;const T=i.find(N=>N.element===E);if(T){if(b){const N=b.element.getBoundingClientRect(),k=E.getBoundingClientRect();let O;if(d){const M=n==="horizontal"?new DOMRect(N.right,N.top,0,N.height):new DOMRect(N.left,N.bottom,N.width,0),j=n==="horizontal"?new DOMRect(k.left,k.top,0,k.height):new DOMRect(k.left,k.top,k.width,0);switch(_.length){case 0:{O=[M,j];break}case 1:{const V=_[0],z=dre({orientation:n,rects:[N,k],targetRect:V.element.getBoundingClientRect()});O=[V,z===N?j:M];break}default:{O=_;break}}}else _.length?O=_:O=[n==="horizontal"?new DOMRect(N.right,k.top,k.left-N.right,k.height):new DOMRect(k.left,N.bottom,k.width,k.top-N.bottom)];for(const M of O){let j="width"in M?M:M.element.getBoundingClientRect();const V=fre()?e.resizeTargetMinimumSize.coarse:e.resizeTargetMinimumSize.fine;if(j.width<V){const I=V-j.width;j=new DOMRect(j.x-I/2,j.y,j.width+I,j.height)}if(j.height<V){const I=V-j.height;j=new DOMRect(j.x,j.y-I/2,j.width,j.height+I)}const z=C<=h||C>m;!c&&!z&&l.push({group:e,groupSize:Pu({group:e}),panels:[b,T],separator:"width"in M?void 0:M,rect:j}),c=!1}}d=!1,b=T,_=[]}}else if(E.hasAttribute("data-separator")){E.ariaDisabled!==null&&(c=!0);const T=s.find(N=>N.element===E);T?_.push(T):(b=void 0,_=[])}else d=!0}return l}class hre{#e={};addListener(t,n){const i=this.#e[t];return i===void 0?this.#e[t]=[n]:i.includes(n)||i.push(n),()=>{this.removeListener(t,n)}}emit(t,n){const i=this.#e[t];if(i!==void 0)if(i.length===1)i[0].call(null,n);else{let s=!1,o=null;const l=Array.from(i);for(let c=0;c<l.length;c++){const d=l[c];try{d.call(null,n)}catch(h){o===null&&(s=!0,o=h)}}if(s)throw o}}removeAllListeners(){this.#e={}}removeListener(t,n){const i=this.#e[t];if(i!==void 0){const s=i.indexOf(n);s>=0&&i.splice(s,1)}}}function Mi(e,t,n=0){return Math.abs(hr(e)-hr(t))<=n}let Is={cursorFlags:0,interactionState:{state:"inactive"},mountedGroups:new Map};const Po=new hre;function ji(){return Is}function Ii(e){const t=typeof e=="function"?e(Is):e;if(Is===t)return Is;const n=Is;return Is={...Is,...t},t.cursorFlags!==void 0&&Po.emit("cursorFlagsChange",Is.cursorFlags),t.interactionState!==void 0&&Po.emit("interactionStateChange",Is.interactionState),t.mountedGroups!==void 0&&(Is.mountedGroups.forEach((i,s)=>{i.derivedPanelConstraints.forEach(o=>{if(o.collapsible){const{layout:l}=n.mountedGroups.get(s)??{};if(l){const c=Mi(o.collapsedSize,i.layout[o.panelId]),d=Mi(o.collapsedSize,l[o.panelId]);c&&!d&&(s.inMemoryLastExpandedPanelSizes[o.panelId]=l[o.panelId])}}})}),Po.emit("mountedGroupsChange",Is.mountedGroups)),Is}function pre(e,t,n){let i,s={x:1/0,y:1/0};for(const o of t){const l=C2(n,o.rect);switch(e){case"horizontal":{l.x<=s.x&&(i=o,s=l);break}case"vertical":{l.y<=s.y&&(i=o,s=l);break}}}return i?{distance:s,hitRegion:i}:void 0}function mre(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}function gre(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:ak(e),b:ak(t)};let i;for(;n.a.at(-1)===n.b.at(-1);)i=n.a.pop(),n.b.pop();$t(i,"Stacking order can only be calculated for elements with a common ancestor");const s={a:ok(rk(n.a)),b:ok(rk(n.b))};if(s.a===s.b){const o=i.childNodes,l={a:n.a.at(-1),b:n.b.at(-1)};let c=o.length;for(;c--;){const d=o[c];if(d===l.a)return 1;if(d===l.b)return-1}}return Math.sign(s.a-s.b)}const vre=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function yre(e){const t=getComputedStyle(A2(e)??e).display;return t==="flex"||t==="inline-flex"}function bre(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||yre(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||vre.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function rk(e){let t=e.length;for(;t--;){const n=e[t];if($t(n,"Missing node"),bre(n))return n}return null}function ok(e){return e&&Number(getComputedStyle(e).zIndex)||0}function ak(e){const t=[];for(;e;)t.push(e),e=A2(e);return t}function A2(e){const{parentNode:t}=e;return mre(t)?t.host:t}function xre(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function _re({groupElement:e,hitRegion:t,pointerEventTarget:n}){if(!S2(n)||n.contains(e)||e.contains(n))return!0;if(gre(n,e)>0){let i=n;for(;i;){if(i.contains(e))return!0;if(xre(i.getBoundingClientRect(),t))return!1;i=i.parentElement}}return!0}function Hw(e,t){const n=[];return t.forEach((i,s)=>{if(s.disabled)return;const o=E2(s),l=pre(s.orientation,o,{x:e.clientX,y:e.clientY});l&&l.distance.x<=0&&l.distance.y<=0&&_re({groupElement:s.element,hitRegion:l.hitRegion.rect,pointerEventTarget:e.target})&&n.push(l.hitRegion)}),n}function wre(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function Vr(e,t){return Mi(e,t)?0:e>t?1:-1}function mu({overrideDisabledPanels:e,panelConstraints:t,prevSize:n,size:i}){const{collapsedSize:s=0,collapsible:o,disabled:l,maxSize:c=100,minSize:d=0}=t;if(l&&!e)return n;if(Vr(i,d)<0)if(o){const h=(s+d)/2;Vr(i,h)<0?i=s:i=d}else i=d;return i=Math.min(c,i),i=hr(i),i}function $f({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:i,prevLayout:s,trigger:o}){if(Mi(e,0))return t;const l=o==="imperative-api",c=Object.values(t),d=Object.values(s),h=[...c],[m,v]=i;$t(m!=null,"Invalid first pivot index"),$t(v!=null,"Invalid second pivot index");let b=0;switch(o){case"keyboard":{{const E=e<0?v:m,T=n[E];$t(T,`Panel constraints not found for index ${E}`);const{collapsedSize:N=0,collapsible:k,minSize:O=0}=T;if(k){const M=c[E];if($t(M!=null,`Previous layout not found for panel index ${E}`),Mi(M,N)){const j=O-M;Vr(j,Math.abs(e))>0&&(e=e<0?0-j:j)}}}{const E=e<0?m:v,T=n[E];$t(T,`No panel constraints found for index ${E}`);const{collapsedSize:N=0,collapsible:k,minSize:O=0}=T;if(k){const M=c[E];if($t(M!=null,`Previous layout not found for panel index ${E}`),Mi(M,O)){const j=M-N;Vr(j,Math.abs(e))>0&&(e=e<0?0-j:j)}}}break}default:{const E=e<0?v:m,T=n[E];$t(T,`Panel constraints not found for index ${E}`);const N=c[E],{collapsible:k,collapsedSize:O,minSize:M}=T;if(k&&Vr(N,M)<0)if(e>0){const j=M-O,V=j/2,z=N+e;Vr(z,M)<0&&(e=Vr(e,V)<=0?0:j)}else{const j=M-O,V=100-j/2,z=N-e;Vr(z,M)<0&&(e=Vr(100+e,V)>0?0:-j)}break}}{const E=e<0?1:-1;let T=e<0?v:m,N=0;for(;;){const O=c[T];$t(O!=null,`Previous layout not found for panel index ${T}`);const M=mu({overrideDisabledPanels:l,panelConstraints:n[T],prevSize:O,size:100})-O;if(N+=M,T+=E,T<0||T>=n.length)break}const k=Math.min(Math.abs(e),Math.abs(N));e=e<0?0-k:k}{let E=e<0?m:v;for(;E>=0&&E<n.length;){const T=Math.abs(e)-Math.abs(b),N=c[E];$t(N!=null,`Previous layout not found for panel index ${E}`);const k=N-T,O=mu({overrideDisabledPanels:l,panelConstraints:n[E],prevSize:N,size:k});if(!Mi(N,O)&&(b+=N-O,h[E]=O,b.toFixed(3).localeCompare(Math.abs(e).toFixed(3),void 0,{numeric:!0})>=0))break;e<0?E--:E++}}if(wre(d,h))return s;{const E=e<0?v:m,T=c[E];$t(T!=null,`Previous layout not found for panel index ${E}`);const N=T+b,k=mu({overrideDisabledPanels:l,panelConstraints:n[E],prevSize:T,size:N});if(h[E]=k,!Mi(k,N)){let O=N-k,M=e<0?v:m;for(;M>=0&&M<n.length;){const j=h[M];$t(j!=null,`Previous layout not found for panel index ${M}`);const V=j+O,z=mu({overrideDisabledPanels:l,panelConstraints:n[M],prevSize:j,size:V});if(Mi(j,z)||(O-=z-j,h[M]=z),Mi(O,0))break;e>0?M--:M++}}}const _=Object.values(h).reduce((E,T)=>T+E,0);if(!Mi(_,100,.1))return s;const C=Object.keys(s);return h.reduce((E,T,N)=>(E[C[N]]=T,E),{})}function Ql(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(t[n]===void 0||Vr(e[n],t[n])!==0)return!1;return!0}function Jl({layout:e,panelConstraints:t}){const n=Object.values(e),i=[...n],s=i.reduce((c,d)=>c+d,0);if(i.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${i.map(c=>`${c}%`).join(", ")}`);if(!Mi(s,100)&&i.length>0)for(let c=0;c<t.length;c++){const d=i[c];$t(d!=null,`No layout data found for index ${c}`);const h=100/s*d;i[c]=h}let o=0;for(let c=0;c<t.length;c++){const d=n[c];$t(d!=null,`No layout data found for index ${c}`);const h=i[c];$t(h!=null,`No layout data found for index ${c}`);const m=mu({overrideDisabledPanels:!0,panelConstraints:t[c],prevSize:d,size:h});h!=m&&(o+=h-m,i[c]=m)}if(!Mi(o,0))for(let c=0;c<t.length;c++){const d=i[c];$t(d!=null,`No layout data found for index ${c}`);const h=d+o,m=mu({overrideDisabledPanels:!0,panelConstraints:t[c],prevSize:d,size:h});if(d!==m&&(o-=m-d,i[c]=m,Mi(o,0)))break}const l=Object.keys(e);return i.reduce((c,d,h)=>(c[l[h]]=d,c),{})}function T2({groupId:e,panelId:t}){const n=()=>{const{mountedGroups:c}=ji();for(const[d,{defaultLayoutDeferred:h,derivedPanelConstraints:m,layout:v,separatorToPanels:b}]of c)if(d.id===e)return{defaultLayoutDeferred:h,derivedPanelConstraints:m,group:d,layout:v,separatorToPanels:b};throw Error(`Group ${e} not found`)},i=()=>{const c=n().derivedPanelConstraints.find(d=>d.panelId===t);if(c!==void 0)return c;throw Error(`Panel constraints not found for Panel ${t}`)},s=()=>{const c=n().group.panels.find(d=>d.id===t);if(c!==void 0)return c;throw Error(`Layout not found for Panel ${t}`)},o=()=>{const c=n().layout[t];if(c!==void 0)return c;throw Error(`Layout not found for Panel ${t}`)},l=c=>{const d=o();if(c===d)return;const{defaultLayoutDeferred:h,derivedPanelConstraints:m,group:v,layout:b,separatorToPanels:_}=n(),C=v.panels.findIndex(k=>k.id===t),E=C===v.panels.length-1,T=$f({delta:E?d-c:c-d,initialLayout:b,panelConstraints:m,pivotIndices:E?[C-1,C]:[C,C+1],prevLayout:b,trigger:"imperative-api"}),N=Jl({layout:T,panelConstraints:m});Ql(b,N)||Ii(k=>({mountedGroups:new Map(k.mountedGroups).set(v,{defaultLayoutDeferred:h,derivedPanelConstraints:m,layout:N,separatorToPanels:_})}))};return{collapse:()=>{const{collapsible:c,collapsedSize:d}=i(),{mutableValues:h}=s(),m=o();c&&m!==d&&(h.expandToSize=m,l(d))},expand:()=>{const{collapsible:c,collapsedSize:d,minSize:h}=i(),{mutableValues:m}=s(),v=o();if(c&&v===d){let b=m.expandToSize??h;b===0&&(b=1),l(b)}},getSize:()=>{const{group:c}=n(),d=o(),{element:h}=s(),m=c.orientation==="horizontal"?h.offsetWidth:h.offsetHeight;return{asPercentage:d,inPixels:m}},isCollapsed:()=>{const{collapsible:c,collapsedSize:d}=i(),h=o();return c&&Mi(d,h)},resize:c=>{if(o()!==c){let d;switch(typeof c){case"number":{const{group:h}=n(),m=Pu({group:h});d=hr(c/m*100);break}case"string":{d=parseFloat(c);break}}l(d)}}}}function lk(e){if(e.defaultPrevented)return;const{mountedGroups:t}=ji();Hw(e,t).forEach(n=>{if(n.separator){const i=n.panels.find(s=>s.panelConstraints.defaultSize!==void 0);if(i){const s=i.panelConstraints.defaultSize,o=T2({groupId:n.group.id,panelId:i.id});o&&s!==void 0&&(o.resize(s),e.preventDefault())}}})}function Rm(e){const{mountedGroups:t}=ji();for(const[n]of t)if(n.separators.some(i=>i.element===e))return n;throw Error("Could not find parent Group for separator element")}function R2({groupId:e}){const t=()=>{const{mountedGroups:n}=ji();for(const[i,s]of n)if(i.id===e)return{group:i,...s};throw Error(`Could not find Group with id "${e}"`)};return{getLayout(){const{defaultLayoutDeferred:n,layout:i}=t();return n?{}:i},setLayout(n){const{defaultLayoutDeferred:i,derivedPanelConstraints:s,group:o,layout:l,separatorToPanels:c}=t(),d=Jl({layout:n,panelConstraints:s});return i?l:(Ql(l,d)||Ii(h=>({mountedGroups:new Map(h.mountedGroups).set(o,{defaultLayoutDeferred:i,derivedPanelConstraints:s,layout:d,separatorToPanels:c})})),d)}}}function k2(e){const{mountedGroups:t}=ji(),n=t.get(e);return $t(n,`Mounted Group ${e.id} not found`),n}function kl(e,t){const n=Rm(e),i=k2(n),s=n.separators.find(m=>m.element===e);$t(s,"Matching separator not found");const o=i.separatorToPanels.get(s);$t(o,"Matching panels not found");const l=o.map(m=>n.panels.indexOf(m)),c=R2({groupId:n.id}).getLayout(),d=$f({delta:t,initialLayout:c,panelConstraints:i.derivedPanelConstraints,pivotIndices:l,prevLayout:c,trigger:"keyboard"}),h=Jl({layout:d,panelConstraints:i.derivedPanelConstraints});Ql(c,h)||Ii(m=>({mountedGroups:new Map(m.mountedGroups).set(n,{defaultLayoutDeferred:i.defaultLayoutDeferred,derivedPanelConstraints:i.derivedPanelConstraints,layout:h,separatorToPanels:i.separatorToPanels})}))}function ck(e){if(e.defaultPrevented)return;const t=e.currentTarget,n=Rm(t);if(!n.disabled)switch(e.key){case"ArrowDown":{e.preventDefault(),n.orientation==="vertical"&&kl(t,5);break}case"ArrowLeft":{e.preventDefault(),n.orientation==="horizontal"&&kl(t,-5);break}case"ArrowRight":{e.preventDefault(),n.orientation==="horizontal"&&kl(t,5);break}case"ArrowUp":{e.preventDefault(),n.orientation==="vertical"&&kl(t,-5);break}case"End":{e.preventDefault(),kl(t,100);break}case"Enter":{e.preventDefault();const i=Rm(t),{derivedPanelConstraints:s,layout:o,separatorToPanels:l}=k2(i),c=i.separators.find(v=>v.element===t);$t(c,"Matching separator not found");const d=l.get(c);$t(d,"Matching panels not found");const h=d[0],m=s.find(v=>v.panelId===h.id);if($t(m,"Panel metadata not found"),m.collapsible){const v=o[h.id],b=m.collapsedSize===v?i.inMemoryLastExpandedPanelSizes[h.id]??m.minSize:m.collapsedSize;kl(t,b-v)}break}case"F6":{e.preventDefault();const i=Rm(t).separators.map(l=>l.element),s=Array.from(i).findIndex(l=>l===e.currentTarget);$t(s!==null,"Index not found");const o=e.shiftKey?s>0?s-1:i.length-1:s+1<i.length?s+1:0;i[o].focus();break}case"Home":{e.preventDefault(),kl(t,-100);break}}}function uk(e){if(e.defaultPrevented||e.pointerType==="mouse"&&e.button>0)return;const{mountedGroups:t}=ji(),n=Hw(e,t),i=new Map;let s=!1;n.forEach(o=>{o.separator&&(s||(s=!0,o.separator.element.focus()));const l=t.get(o.group);l&&i.set(o.group,l.layout)}),Ii({interactionState:{hitRegions:n,initialLayoutMap:i,pointerDownAtPoint:{x:e.clientX,y:e.clientY},state:"active"}}),n.length&&e.preventDefault()}const Sre=e=>e,ox=()=>{},N2=1,O2=2,P2=4,M2=8,dk=3,fk=12;let dm;function hk(){return dm===void 0&&(dm=!1,typeof window<"u"&&(window.navigator.userAgent.includes("Chrome")||window.navigator.userAgent.includes("Firefox"))&&(dm=!0)),dm}function Cre({cursorFlags:e,groups:t,state:n}){let i=0,s=0;switch(n){case"active":case"hover":t.forEach(o=>{if(!o.disableCursor)switch(o.orientation){case"horizontal":{i++;break}case"vertical":{s++;break}}})}if(!(i===0&&s===0)){switch(n){case"active":{if(e&&hk()){const o=(e&N2)!==0,l=(e&O2)!==0,c=(e&P2)!==0,d=(e&M2)!==0;if(o)return c?"se-resize":d?"ne-resize":"e-resize";if(l)return c?"sw-resize":d?"nw-resize":"w-resize";if(c)return"s-resize";if(d)return"n-resize"}break}}return hk()?i>0&&s>0?"move":i>0?"ew-resize":"ns-resize":i>0&&s>0?"grab":i>0?"col-resize":"row-resize"}}const pk=new WeakMap;function Gw(e){if(e.defaultView===null||e.defaultView===void 0)return;let{prevStyle:t,styleSheet:n}=pk.get(e)??{};n===void 0&&(n=new e.defaultView.CSSStyleSheet,e.adoptedStyleSheets&&e.adoptedStyleSheets.push(n));const{cursorFlags:i,interactionState:s}=ji();switch(s.state){case"active":case"hover":{const o=Cre({cursorFlags:i,groups:s.hitRegions.map(c=>c.group),state:s.state}),l=`*, *:hover {cursor: ${o} !important; }`;if(t===l)return;t=l,o?n.cssRules.length===0?n.insertRule(l):n.replaceSync(l):n.cssRules.length===1&&n.deleteRule(0);break}case"inactive":{t=void 0,n.cssRules.length===1&&n.deleteRule(0);break}}pk.set(e,{prevStyle:t,styleSheet:n})}function D2({document:e,event:t,hitRegions:n,initialLayoutMap:i,mountedGroups:s,pointerDownAtPoint:o,prevCursorFlags:l}){let c=0;const d=new Map(s);n.forEach(m=>{const{group:v,groupSize:b}=m,{disableCursor:_,orientation:C,panels:E}=v;let T=0;o?C==="horizontal"?T=(t.clientX-o.x)/b*100:T=(t.clientY-o.y)/b*100:C==="horizontal"?T=t.clientX<0?-100:100:T=t.clientY<0?-100:100;const N=i.get(v),{defaultLayoutDeferred:k,derivedPanelConstraints:O,layout:M,separatorToPanels:j}=s.get(v)??{defaultLayoutDeferred:!1};if(O&&N&&M&&j){const V=$f({delta:T,initialLayout:N,panelConstraints:O,pivotIndices:m.panels.map(z=>E.indexOf(z)),prevLayout:M,trigger:"mouse-or-touch"});if(Ql(V,M)){if(T!==0&&!_)switch(C){case"horizontal":{c|=T<0?N2:O2;break}case"vertical":{c|=T<0?P2:M2;break}}}else d.set(m.group,{defaultLayoutDeferred:k,derivedPanelConstraints:O,layout:V,separatorToPanels:j})}});let h=0;t.movementX===0?h|=l&dk:h|=c&dk,t.movementY===0?h|=l&fk:h|=c&fk,Ii({cursorFlags:h,mountedGroups:d}),Gw(e)}function mk(e){const{cursorFlags:t,interactionState:n,mountedGroups:i}=ji();n.state==="active"&&D2({document:e.currentTarget,event:e,hitRegions:n.hitRegions,initialLayoutMap:n.initialLayoutMap,mountedGroups:i,prevCursorFlags:t})}function gk(e){if(e.defaultPrevented)return;const{cursorFlags:t,interactionState:n,mountedGroups:i}=ji();switch(n.state){case"active":{if(e.buttons===0){Ii(s=>s.interactionState.state==="inactive"?s:{cursorFlags:0,interactionState:{state:"inactive"}}),Ii(s=>({mountedGroups:new Map(s.mountedGroups)}));return}D2({document:e.currentTarget,event:e,hitRegions:n.hitRegions,initialLayoutMap:n.initialLayoutMap,mountedGroups:i,pointerDownAtPoint:n.pointerDownAtPoint,prevCursorFlags:t});break}default:{const s=Hw(e,i);s.length===0?n.state!=="inactive"&&Ii({interactionState:{state:"inactive"}}):Ii({interactionState:{hitRegions:s,state:"hover"}}),Gw(e.currentTarget);break}}}function vk(e){if(e.relatedTarget instanceof HTMLIFrameElement){const{interactionState:t}=ji();t.state==="hover"&&Ii({interactionState:{state:"inactive"}})}}function yk(e){if(e.defaultPrevented||e.pointerType==="mouse"&&e.button>0)return;const{interactionState:t}=ji();t.state==="active"&&(Ii({cursorFlags:0,interactionState:{state:"inactive"}}),t.hitRegions.length>0&&(Gw(e.currentTarget),Ii(n=>({mountedGroups:new Map(n.mountedGroups)})),e.preventDefault()))}function bk(e){let t=0,n=0;const i={};for(const o of e)if(o.defaultSize!==void 0){t++;const l=hr(o.defaultSize);n+=l,i[o.panelId]=l}else i[o.panelId]=void 0;const s=e.length-t;if(s!==0){const o=hr((100-n)/s);for(const l of e)l.defaultSize===void 0&&(i[l.panelId]=o)}return i}function Ere(e,t,n){if(!n[0])return;const i=e.panels.find(d=>d.element===t);if(!i||!i.onResize)return;const s=Pu({group:e}),o=e.orientation==="horizontal"?i.element.offsetWidth:i.element.offsetHeight,l=i.mutableValues.prevSize,c={asPercentage:hr(o/s*100),inPixels:o};i.mutableValues.prevSize=c,i.onResize(c,i.id,l)}function Are(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Tre(e,t){const n=e.map(s=>s.id),i=Object.keys(t);if(n.length!==i.length)return!1;for(const s of n)if(!i.includes(s))return!1;return!0}const iu=new Map;function Rre(e){let t=!0;$t(e.element.ownerDocument.defaultView,"Cannot register an unmounted Group");const n=e.element.ownerDocument.defaultView.ResizeObserver,i=new Set,s=new Set,o=new n(C=>{for(const E of C){const{borderBoxSize:T,target:N}=E;if(N===e.element){if(t){if(Pu({group:e})===0)return;Ii(k=>{const O=k.mountedGroups.get(e);if(O){const M=I0(e),j=O.defaultLayoutDeferred?bk(M):O.layout,V=Jl({layout:j,panelConstraints:M});return!O.defaultLayoutDeferred&&Ql(j,V)&&Are(O.derivedPanelConstraints,M)?k:{mountedGroups:new Map(k.mountedGroups).set(e,{defaultLayoutDeferred:!1,derivedPanelConstraints:M,layout:V,separatorToPanels:O.separatorToPanels})}}return k})}}else Ere(e,N,T)}});o.observe(e.element),e.panels.forEach(C=>{$t(!i.has(C.id),`Panel ids must be unique; id "${C.id}" was used more than once`),i.add(C.id),C.onResize&&o.observe(C.element)});const l=Pu({group:e}),c=I0(e),d=e.panels.map(({id:C})=>C).join(",");let h=e.defaultLayout;h&&(Tre(e.panels,h)||(h=void 0));const m=e.inMemoryLayouts[d]??h??bk(c),v=Jl({layout:m,panelConstraints:c}),b=E2(e),_=e.element.ownerDocument;return Ii(C=>{const E=new Map;return iu.set(_,(iu.get(_)??0)+1),b.forEach(T=>{T.separator&&E.set(T.separator,T.panels)}),{mountedGroups:new Map(C.mountedGroups).set(e,{defaultLayoutDeferred:l===0,derivedPanelConstraints:c,layout:v,separatorToPanels:E})}}),e.separators.forEach(C=>{$t(!s.has(C.id),`Separator ids must be unique; id "${C.id}" was used more than once`),s.add(C.id),C.element.addEventListener("keydown",ck)}),iu.get(_)===1&&(_.addEventListener("dblclick",lk,!0),_.addEventListener("pointerdown",uk,!0),_.addEventListener("pointerleave",mk),_.addEventListener("pointermove",gk),_.addEventListener("pointerout",vk),_.addEventListener("pointerup",yk,!0)),function(){t=!1,iu.set(_,Math.max(0,(iu.get(_)??0)-1)),Ii(C=>{const E=new Map(C.mountedGroups);return E.delete(e),{mountedGroups:E}}),e.separators.forEach(C=>{C.element.removeEventListener("keydown",ck)}),iu.get(_)||(_.removeEventListener("dblclick",lk,!0),_.removeEventListener("pointerdown",uk,!0),_.removeEventListener("pointerleave",mk),_.removeEventListener("pointermove",gk),_.removeEventListener("pointerout",vk),_.removeEventListener("pointerup",yk,!0)),o.disconnect()}}function kre(){const[e,t]=x.useState({}),n=x.useCallback(()=>t({}),[]);return[e,n]}function Kw(e){const t=x.useId();return`${e??t}`}const sc=typeof window<"u"?x.useLayoutEffect:x.useEffect;function vf(e){const t=x.useRef(e);return sc(()=>{t.current=e},[e]),x.useCallback((...n)=>t.current?.(...n),[t])}function qw(...e){return vf(t=>{e.forEach(n=>{if(n)switch(typeof n){case"function":{n(t);break}case"object":{n.current=t;break}}})})}function Ww(e){const t=x.useRef({...e});return sc(()=>{for(const n in e)t.current[n]=e[n]},[e]),t.current}const L2=x.createContext(null);function Nre(e,t){const n=x.useRef({getLayout:()=>({}),setLayout:Sre});x.useImperativeHandle(t,()=>n.current,[]),sc(()=>{Object.assign(n.current,R2({groupId:e}))})}function j2({children:e,className:t,defaultLayout:n,disableCursor:i,disabled:s,elementRef:o,groupRef:l,id:c,onLayoutChange:d,onLayoutChanged:h,orientation:m="horizontal",resizeTargetMinimumSize:v={coarse:20,fine:10},style:b,..._}){const C=x.useRef({onLayoutChange:{},onLayoutChanged:{}}),E=vf(q=>{Ql(C.current.onLayoutChange,q)||(C.current.onLayoutChange=q,d?.(q))}),T=vf(q=>{Ql(C.current.onLayoutChanged,q)||(C.current.onLayoutChanged=q,h?.(q))}),N=Kw(c),k=x.useRef(null),[O,M]=kre(),j=x.useRef({lastExpandedPanelSizes:{},layouts:{},panels:[],resizeTargetMinimumSize:v,separators:[]}),V=qw(k,o);Nre(N,l);const z=vf((q,W)=>{const{interactionState:Z,mountedGroups:ie}=ji();for(const ye of ie.keys())if(ye.id===q){const G=ie.get(ye);if(G){let X=!1;return Z.state==="active"&&(X=Z.hitRegions.some(ne=>ne.group===ye)),{flexGrow:G.layout[W]??1,pointerEvents:X?"none":void 0}}}return{flexGrow:n?.[W]??1}}),I=Ww({defaultLayout:n,disableCursor:i}),$=x.useMemo(()=>({get disableCursor(){return!!I.disableCursor},getPanelStyles:z,id:N,orientation:m,registerPanel:q=>{const W=j.current;return W.panels=z0(m,[...W.panels,q]),M(),()=>{W.panels=W.panels.filter(Z=>Z!==q),M()}},registerSeparator:q=>{const W=j.current;return W.separators=z0(m,[...W.separators,q]),M(),()=>{W.separators=W.separators.filter(Z=>Z!==q),M()}},togglePanelDisabled:(q,W)=>{const Z=j.current.panels.find(ye=>ye.id===q);Z&&(Z.panelConstraints.disabled=W);const{mountedGroups:ie}=ji();for(const ye of ie.keys())if(ye.id===N){const G=ie.get(ye);G&&(G.derivedPanelConstraints=I0(ye))}},toggleSeparatorDisabled:(q,W)=>{const Z=j.current.separators.find(ie=>ie.id===q);Z&&(Z.disabled=W)}}),[z,N,M,m,I]),Y=x.useRef(null);return sc(()=>{const q=k.current;if(q===null)return;const W=j.current;let Z;if(I.defaultLayout!==void 0&&Object.keys(I.defaultLayout).length===W.panels.length){Z={};for(const de of W.panels){const ae=I.defaultLayout[de.id];ae!==void 0&&(Z[de.id]=ae)}}const ie={defaultLayout:Z,disableCursor:!!I.disableCursor,disabled:!!s,element:q,id:N,inMemoryLastExpandedPanelSizes:j.current.lastExpandedPanelSizes,inMemoryLayouts:j.current.layouts,orientation:m,panels:W.panels,resizeTargetMinimumSize:W.resizeTargetMinimumSize,separators:W.separators};Y.current=ie;const ye=Rre(ie),G=ji().mountedGroups.get(ie);if(G){const{defaultLayoutDeferred:de,derivedPanelConstraints:ae,layout:K}=G;!de&&ae.length>0&&(E(K),T(K))}const X=Po.addListener("interactionStateChange",de=>{de.state}),ne=Po.addListener("mountedGroupsChange",de=>{const ae=de.get(ie);if(ae){const{defaultLayoutDeferred:K,derivedPanelConstraints:oe,layout:be}=ae;if(K||oe.length===0)return;const xe=ie.panels.map(({id:Se})=>Se).join(",");ie.inMemoryLayouts[xe]=be;const{interactionState:Re}=ji(),we=Re.state!=="active";E(be),we&&T(be)}});return()=>{Y.current=null,ye(),X(),ne()}},[s,N,T,E,m,O,I]),x.useEffect(()=>{const q=Y.current;q&&(q.defaultLayout=n,q.disableCursor=!!i)}),y.jsx(L2.Provider,{value:$,children:y.jsx("div",{..._,className:t,"data-group":!0,"data-testid":N,id:N,ref:V,style:{height:"100%",width:"100%",overflow:"hidden",...b,display:"flex",flexDirection:m==="horizontal"?"row":"column",flexWrap:"nowrap",touchAction:m==="horizontal"?"pan-y":"pan-x"},children:e})})}j2.displayName="Group";function Yw(){const e=x.useContext(L2);return $t(e,"Group Context not found; did you render a Panel or Separator outside of a Group?"),e}function Ore(e,t){const{id:n}=Yw(),i=x.useRef({collapse:ox,expand:ox,getSize:()=>({asPercentage:0,inPixels:0}),isCollapsed:()=>!1,resize:ox});x.useImperativeHandle(t,()=>i.current,[]),sc(()=>{Object.assign(i.current,T2({groupId:n,panelId:e}))})}function I2({children:e,className:t,collapsedSize:n="0%",collapsible:i=!1,defaultSize:s,disabled:o,elementRef:l,id:c,maxSize:d="100%",minSize:h="0%",onResize:m,panelRef:v,style:b,..._}){const C=!!c,E=Kw(c),T=Ww({disabled:o}),N=x.useRef(null),k=qw(N,l),{getPanelStyles:O,id:M,orientation:j,registerPanel:V,togglePanelDisabled:z}=Yw(),I=m!==null,$=vf((q,W,Z)=>{m?.(q,c,Z)});sc(()=>{const q=N.current;if(q!==null){const W={element:q,id:E,idIsStable:C,mutableValues:{expandToSize:void 0,prevSize:void 0},onResize:I?$:void 0,panelConstraints:{collapsedSize:n,collapsible:i,defaultSize:s,disabled:T.disabled,maxSize:d,minSize:h}};return V(W)}},[n,i,s,I,E,C,d,h,$,V,T]),x.useEffect(()=>{z(E,!!o)},[o,E,z]),Ore(E,v);const Y=x.useSyncExternalStore(q=>(Po.addListener("mountedGroupsChange",q),()=>{Po.removeListener("mountedGroupsChange",q)}),()=>JSON.stringify(O(M,E)),()=>JSON.stringify(O(M,E)));return y.jsx("div",{..._,"aria-disabled":o||void 0,"data-panel":!0,"data-testid":E,id:E,ref:k,style:{...Pre,display:"flex",flexBasis:0,flexShrink:1,overflow:"hidden",...JSON.parse(Y)},children:y.jsx("div",{className:t,style:{maxHeight:"100%",maxWidth:"100%",flexGrow:1,...b,touchAction:j==="horizontal"?"pan-y":"pan-x"},children:e})})}I2.displayName="Panel";const Pre={minHeight:0,maxHeight:"100%",height:"auto",minWidth:0,maxWidth:"100%",width:"auto",border:"none",borderWidth:0,padding:0,margin:0};function Mre({layout:e,panelConstraints:t,panelId:n,panelIndex:i}){let s,o;const l=e[n],c=t.find(d=>d.panelId===n);if(c){const d=c.maxSize,h=c.collapsible?c.collapsedSize:c.minSize,m=[i,i+1];o=Jl({layout:$f({delta:h-l,initialLayout:e,panelConstraints:t,pivotIndices:m,prevLayout:e}),panelConstraints:t})[n],s=Jl({layout:$f({delta:d-l,initialLayout:e,panelConstraints:t,pivotIndices:m,prevLayout:e}),panelConstraints:t})[n]}return{valueControls:n,valueMax:s,valueMin:o,valueNow:l}}function z2({children:e,className:t,disabled:n,elementRef:i,id:s,style:o,...l}){const c=Kw(s),d=Ww({disabled:n}),[h,m]=x.useState({}),[v,b]=x.useState("inactive"),_=x.useRef(null),C=qw(_,i),{disableCursor:E,id:T,orientation:N,registerSeparator:k,toggleSeparatorDisabled:O}=Yw(),M=N==="horizontal"?"vertical":"horizontal";sc(()=>{const V=_.current;if(V!==null){const z={disabled:d.disabled,element:V,id:c},I=k(z),$=Po.addListener("interactionStateChange",q=>{b(q.state!=="inactive"&&q.hitRegions.some(W=>W.separator===z)?q.state:"inactive")}),Y=Po.addListener("mountedGroupsChange",q=>{q.forEach(({derivedPanelConstraints:W,layout:Z,separatorToPanels:ie},ye)=>{if(ye.id===T){const G=ie.get(z);if(G){const X=G[0],ne=ye.panels.indexOf(X);m(Mre({layout:Z,panelConstraints:W,panelId:X.id,panelIndex:ne}))}}})});return()=>{$(),Y(),I()}}},[T,c,k,d]),x.useEffect(()=>{O(c,!!n)},[n,c,O]);let j;return n&&!E&&(j="not-allowed"),y.jsx("div",{...l,"aria-controls":h.valueControls,"aria-disabled":n||void 0,"aria-orientation":M,"aria-valuemax":h.valueMax,"aria-valuemin":h.valueMin,"aria-valuenow":h.valueNow,children:e,className:t,"data-separator":n?"disabled":v,"data-testid":c,id:c,ref:C,role:"separator",style:{flexBasis:"auto",cursor:j,...o,flexGrow:0,flexShrink:0,touchAction:"none"},tabIndex:n?void 0:0})}z2.displayName="Separator";function Dre({className:e,...t}){return y.jsx(j2,{"data-slot":"resizable-panel-group",className:it("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t})}function xk({...e}){return y.jsx(I2,{"data-slot":"resizable-panel",...e})}function Lre({withHandle:e,className:t,...n}){return y.jsx(z2,{"data-slot":"resizable-handle",className:it("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...n,children:e&&y.jsx("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:y.jsx(KO,{className:"size-2.5"})})})}const jre=()=>{const e=Me(Ye.expandedNodes),t=Me(Ye.challenge),n=e.find(i=>i.rank==="SPECIES");return y.jsxs(Dre,{orientation:"horizontal",children:[y.jsxs(xk,{className:"relative",defaultSize:480,minSize:452,maxSize:855,children:[y.jsx(oD,{}),y.jsx(_2,{})]}),y.jsx(Lre,{}),y.jsx(xk,{className:"flex w-full flex-col gap-4",children:y.jsxs("div",{className:"h-screen w-full overflow-auto",children:[t.mode&&y.jsx(x2,{}),!t.mode&&(n?y.jsx($u,{}):y.jsx(w2,{}))]})})]})},qs=()=>{const{isTablet:e}=ec(),t=Lt(Ye.challenge),n=gr({from:"/challenges",shouldThrow:!1});return x.useEffect(()=>{n&&t({mode:"UNSET",status:"NOT_STARTED"})},[n,t]),e?y.jsx(ire,{}):y.jsx(jre,{})},Ire=[{icon:T_,title:"Galeria de Espcies",description:"Organize e favorite suas espcies j descobertas",color:"text-green-600",bgColor:"bg-green-50"},{icon:JO,title:"Desafios Dirios",description:"Novos desafios todos os dias para testar seus conhecimentos",color:"text-orange-600",bgColor:"bg-orange-50"},{icon:K$,title:"Conquistas e Medalhas",description:"Desbloqueie conquistas especiais e mostre suas habilidades",color:"text-pink-600",bgColor:"bg-pink-50"},{icon:a6,title:"Ranking Global",description:"Compita com outros exploradores da taxonomia",color:"text-yellow-600",bgColor:"bg-yellow-50"},{icon:m6,title:"Salvar atalhos",description:"Defina ns mais visitados para agilizar sua navegao",color:"text-blue-600",bgColor:"bg-blue-50"},{icon:W6,title:"Acompanhe seu Progresso",description:"Veja suas estatsticas e evoluo ao longo do tempo",color:"text-purple-600",bgColor:"bg-purple-50"}],zre=y.jsxs("svg",{className:"mr-3 size-5",viewBox:"0 0 24 24",children:[y.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),y.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),y.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),y.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),Bre=()=>{const{t:e}=At(),t=Ss(),{login:n}=I_(),i=Me(st.loginStatus)==="loading",s=Me(st.error),o=Me(st.isAuthenticated);x.useEffect(()=>{o&&t.navigate({to:"/profile"})},[o,t]);const l=async()=>{(await n("google")).success&&t.navigate({to:"/profile"})},c=()=>{window.history.length>1?window.history.back():t.navigate({to:"/"})};return y.jsx("main",{className:"flex min-h-screen items-center justify-center p-4",children:y.jsx("section",{className:"relative z-10 mx-auto w-full max-w-lg",children:y.jsxs(Ia,{className:"border-0 shadow-xl",children:[y.jsxs(r2,{className:"text-center",children:[y.jsx(o2,{className:"text-2xl",children:e("welcome")}),y.jsx(wse,{className:"text-sm leading-relaxed",children:e("auth.descriptionGoogle")})]}),y.jsxs(za,{className:"space-y-6",children:[s&&y.jsxs("div",{className:"bg-accent rounded-lg p-3 text-sm text-red-600",children:[y.jsx("p",{className:"font-medium",children:e("auth.loginError")}),y.jsx("p",{className:"mt-1 text-xs",children:s?.message})]}),y.jsx(Ht,{onClick:l,disabled:i,className:"h-12 w-full border border-gray-300 text-base font-medium shadow-sm hover:bg-gray-50",variant:"outline",children:i?y.jsxs(y.Fragment,{children:[y.jsx(WO,{className:"mr-2 size-5 animate-spin"})," ",e("auth.signingIn")]}):y.jsxs(y.Fragment,{children:[zre,e("auth.continueWithGoogle")]})}),y.jsxs("div",{className:"space-y-4 border-t pt-4",children:[y.jsx("div",{className:"text-center",children:y.jsx("p",{className:"text-sm text-gray-500",children:e("auth.exclusiveFeatures")})}),y.jsx("ul",{className:"grid h-48 grid-cols-1 overflow-auto 2xl:h-full",children:Ire.map((d,h)=>{const m=d.icon;return y.jsxs("li",{className:"flex items-start space-x-3 rounded-lg px-2 py-3",children:[y.jsx("div",{className:`flex size-8 shrink-0 items-center justify-center rounded-full ${d.bgColor} ${d.color}`,children:y.jsx(m,{className:"size-4"})}),y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("h4",{className:`text-sm font-medium ${d.color}`,children:d.title}),y.jsx("p",{className:"text-xs text-gray-500",children:d.description})]})]},h)})})]})]}),y.jsxs("div",{className:"space-y-4 border-t border-border p-6 pb-1 text-muted-foreground",children:[y.jsx("p",{className:"text-center text-sm leading-relaxed",children:e("auth.continueWithoutLogin")}),y.jsxs(Ht,{className:"h-11 w-full border border-border font-medium transition-all duration-200",variant:"outline","aria-label":e("auth.backAriaLabel"),onClick:c,children:[y.jsx(Lg,{className:"mr-2 size-4","aria-hidden":"true"}),e("auth.back")]})]})]})})})},_k="/treevera/assets/avif-new-logo-CsHr8CWA.avif",Ure=()=>{const{isMobile:e}=ec();return y.jsxs("div",{className:"relative",children:[y.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden","aria-hidden":"true",children:[!e&&y.jsx(Ln,{src:_k,alt:"Logo",className:"absolute -top-16 -left-16 -z-50 w-64 max-w-3xl rotate-12 transform-gpu opacity-10 sm:w-80 md:w-96 lg:w-md xl:w-lg 2xl:w-full"}),y.jsx(Ln,{src:_k,alt:"Logo",className:it("absolute -right-16 -bottom-16 -z-50 w-64 max-w-3xl scale-x-[-1] rotate-45 transform-gpu opacity-10 sm:w-80 md:w-96 lg:w-md xl:w-lg 2xl:w-full",e&&"fixed -right-6 bottom-50")})]}),y.jsx(lN,{})]})},ax=async(e,t)=>{try{const n=e.game_info.top_fav_species??[],i=t(n),{data:s,error:o}=await Dn.from("users").update({game_info:{...e.game_info,top_fav_species:i}}).eq("id",e.id).select().single();return o?(console.error("Error updating top_fav_species:",o),null):s}catch(n){return console.error("Unexpected error updating top_fav_species:",n),null}};function Fre(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return x.useMemo(()=>i=>{t.forEach(s=>s(i))},t)}const iv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Gu(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Zw(e){return"nodeType"in e}function es(e){var t,n;return e?Gu(e)?e:Zw(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Xw(e){const{Document:t}=es(e);return e instanceof t}function yh(e){return Gu(e)?!1:e instanceof es(e).HTMLElement}function B2(e){return e instanceof es(e).SVGElement}function Ku(e){return e?Gu(e)?e.document:Zw(e)?Xw(e)?e:yh(e)||B2(e)?e.ownerDocument:document:document:document}const Xr=iv?x.useLayoutEffect:x.useEffect;function Qw(e){const t=x.useRef(e);return Xr(()=>{t.current=e}),x.useCallback(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t.current==null?void 0:t.current(...i)},[])}function Vre(){const e=x.useRef(null),t=x.useCallback((i,s)=>{e.current=setInterval(i,s)},[]),n=x.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Hf(e,t){t===void 0&&(t=[e]);const n=x.useRef(e);return Xr(()=>{n.current!==e&&(n.current=e)},t),n}function bh(e,t){const n=x.useRef();return x.useMemo(()=>{const i=e(n.current);return n.current=i,i},[...t])}function pg(e){const t=Qw(e),n=x.useRef(null),i=x.useCallback(s=>{s!==n.current&&t?.(s,n.current),n.current=s},[]);return[n,i]}function B0(e){const t=x.useRef();return x.useEffect(()=>{t.current=e},[e]),t.current}let lx={};function xh(e,t){return x.useMemo(()=>{if(t)return t;const n=lx[e]==null?0:lx[e]+1;return lx[e]=n,e+"-"+n},[e,t])}function U2(e){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return i.reduce((o,l)=>{const c=Object.entries(l);for(const[d,h]of c){const m=o[d];m!=null&&(o[d]=m+e*h)}return o},{...t})}}const Su=U2(1),mg=U2(-1);function $re(e){return"clientX"in e&&"clientY"in e}function Jw(e){if(!e)return!1;const{KeyboardEvent:t}=es(e.target);return t&&e instanceof t}function Hre(e){if(!e)return!1;const{TouchEvent:t}=es(e.target);return t&&e instanceof t}function U0(e){if(Hre(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return $re(e)?{x:e.clientX,y:e.clientY}:null}const Gf=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Gf.Translate.toString(e),Gf.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:i}=e;return t+" "+n+"ms "+i}}}),wk="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Gre(e){return e.matches(wk)?e:e.querySelector(wk)}const Kre={display:"none"};function qre(e){let{id:t,value:n}=e;return Pt.createElement("div",{id:t,style:Kre},n)}function Wre(e){let{id:t,announcement:n,ariaLiveType:i="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Pt.createElement("div",{id:t,style:s,role:"status","aria-live":i,"aria-atomic":!0},n)}function Yre(){const[e,t]=x.useState("");return{announce:x.useCallback(i=>{i!=null&&t(i)},[]),announcement:e}}const F2=x.createContext(null);function Zre(e){const t=x.useContext(F2);x.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Xre(){const[e]=x.useState(()=>new Set),t=x.useCallback(i=>(e.add(i),()=>e.delete(i)),[e]);return[x.useCallback(i=>{let{type:s,event:o}=i;e.forEach(l=>{var c;return(c=l[s])==null?void 0:c.call(l,o)})},[e]),t]}const Qre={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Jre={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function eoe(e){let{announcements:t=Jre,container:n,hiddenTextDescribedById:i,screenReaderInstructions:s=Qre}=e;const{announce:o,announcement:l}=Yre(),c=xh("DndLiveRegion"),[d,h]=x.useState(!1);if(x.useEffect(()=>{h(!0)},[]),Zre(x.useMemo(()=>({onDragStart(v){let{active:b}=v;o(t.onDragStart({active:b}))},onDragMove(v){let{active:b,over:_}=v;t.onDragMove&&o(t.onDragMove({active:b,over:_}))},onDragOver(v){let{active:b,over:_}=v;o(t.onDragOver({active:b,over:_}))},onDragEnd(v){let{active:b,over:_}=v;o(t.onDragEnd({active:b,over:_}))},onDragCancel(v){let{active:b,over:_}=v;o(t.onDragCancel({active:b,over:_}))}}),[o,t])),!d)return null;const m=Pt.createElement(Pt.Fragment,null,Pt.createElement(qre,{id:i,value:s.draggable}),Pt.createElement(Wre,{id:c,announcement:l}));return n?Ji.createPortal(m,n):m}var $n;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})($n||($n={}));function gg(){}function Sk(e,t){return x.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function toe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return x.useMemo(()=>[...t].filter(i=>i!=null),[...t])}const br=Object.freeze({x:0,y:0});function noe(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ioe(e,t){let{data:{value:n}}=e,{data:{value:i}}=t;return n-i}function soe(e,t){let{data:{value:n}}=e,{data:{value:i}}=t;return i-n}function roe(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Ck(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const ooe=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:i}=e;const s=Ck(t,t.left,t.top),o=[];for(const l of i){const{id:c}=l,d=n.get(c);if(d){const h=noe(Ck(d),s);o.push({id:c,data:{droppableContainer:l,value:h}})}}return o.sort(ioe)};function aoe(e,t){const n=Math.max(t.top,e.top),i=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),l=s-i,c=o-n;if(i<s&&n<o){const d=t.width*t.height,h=e.width*e.height,m=l*c,v=m/(d+h-m);return Number(v.toFixed(4))}return 0}const loe=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:i}=e;const s=[];for(const o of i){const{id:l}=o,c=n.get(l);if(c){const d=aoe(c,t);d>0&&s.push({id:l,data:{droppableContainer:o,value:d}})}}return s.sort(soe)};function coe(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function V2(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:br}function uoe(e){return function(n){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return s.reduce((l,c)=>({...l,top:l.top+e*c.y,bottom:l.bottom+e*c.y,left:l.left+e*c.x,right:l.right+e*c.x}),{...n})}}const doe=uoe(1);function foe(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function hoe(e,t,n){const i=foe(t);if(!i)return e;const{scaleX:s,scaleY:o,x:l,y:c}=i,d=e.left-l-(1-s)*parseFloat(n),h=e.top-c-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),m=s?e.width/s:e.width,v=o?e.height/o:e.height;return{width:m,height:v,top:h,right:d+m,bottom:h+v,left:d}}const poe={ignoreTransform:!1};function qu(e,t){t===void 0&&(t=poe);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:h,transformOrigin:m}=es(e).getComputedStyle(e);h&&(n=hoe(n,h,m))}const{top:i,left:s,width:o,height:l,bottom:c,right:d}=n;return{top:i,left:s,width:o,height:l,bottom:c,right:d}}function Ek(e){return qu(e,{ignoreTransform:!0})}function moe(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function goe(e,t){return t===void 0&&(t=es(e).getComputedStyle(e)),t.position==="fixed"}function voe(e,t){t===void 0&&(t=es(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=t[s];return typeof o=="string"?n.test(o):!1})}function eS(e,t){const n=[];function i(s){if(t!=null&&n.length>=t||!s)return n;if(Xw(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!yh(s)||B2(s)||n.includes(s))return n;const o=es(e).getComputedStyle(s);return s!==e&&voe(s,o)&&n.push(s),goe(s,o)?n:i(s.parentNode)}return e?i(e):n}function $2(e){const[t]=eS(e,1);return t??null}function cx(e){return!iv||!e?null:Gu(e)?e:Zw(e)?Xw(e)||e===Ku(e).scrollingElement?window:yh(e)?e:null:null}function H2(e){return Gu(e)?e.scrollX:e.scrollLeft}function G2(e){return Gu(e)?e.scrollY:e.scrollTop}function F0(e){return{x:H2(e),y:G2(e)}}var ii;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(ii||(ii={}));function K2(e){return!iv||!e?!1:e===document.scrollingElement}function q2(e){const t={x:0,y:0},n=K2(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,l=e.scrollTop>=i.y,c=e.scrollLeft>=i.x;return{isTop:s,isLeft:o,isBottom:l,isRight:c,maxScroll:i,minScroll:t}}const yoe={x:.2,y:.2};function boe(e,t,n,i,s){let{top:o,left:l,right:c,bottom:d}=n;i===void 0&&(i=10),s===void 0&&(s=yoe);const{isTop:h,isBottom:m,isLeft:v,isRight:b}=q2(e),_={x:0,y:0},C={x:0,y:0},E={height:t.height*s.y,width:t.width*s.x};return!h&&o<=t.top+E.height?(_.y=ii.Backward,C.y=i*Math.abs((t.top+E.height-o)/E.height)):!m&&d>=t.bottom-E.height&&(_.y=ii.Forward,C.y=i*Math.abs((t.bottom-E.height-d)/E.height)),!b&&c>=t.right-E.width?(_.x=ii.Forward,C.x=i*Math.abs((t.right-E.width-c)/E.width)):!v&&l<=t.left+E.width&&(_.x=ii.Backward,C.x=i*Math.abs((t.left+E.width-l)/E.width)),{direction:_,speed:C}}function xoe(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:l}=window;return{top:0,left:0,right:o,bottom:l,width:o,height:l}}const{top:t,left:n,right:i,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:i,bottom:s,width:e.clientWidth,height:e.clientHeight}}function W2(e){return e.reduce((t,n)=>Su(t,F0(n)),br)}function _oe(e){return e.reduce((t,n)=>t+H2(n),0)}function woe(e){return e.reduce((t,n)=>t+G2(n),0)}function Soe(e,t){if(t===void 0&&(t=qu),!e)return;const{top:n,left:i,bottom:s,right:o}=t(e);$2(e)&&(s<=0||o<=0||n>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Coe=[["x",["left","right"],_oe],["y",["top","bottom"],woe]];class tS{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=eS(n),s=W2(i);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,l,c]of Coe)for(const d of l)Object.defineProperty(this,d,{get:()=>{const h=c(i),m=s[o]-h;return this.rect[d]+m},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class yf{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...n)})},this.target=t}add(t,n,i){var s;(s=this.target)==null||s.addEventListener(t,n,i),this.listeners.push([t,n,i])}}function Eoe(e){const{EventTarget:t}=es(e);return e instanceof t?e:Ku(e)}function ux(e,t){const n=Math.abs(e.x),i=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+i**2)>t:"x"in t&&"y"in t?n>t.x&&i>t.y:"x"in t?n>t.x:"y"in t?i>t.y:!1}var Us;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Us||(Us={}));function Ak(e){e.preventDefault()}function Aoe(e){e.stopPropagation()}var Dt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Dt||(Dt={}));const Y2={start:[Dt.Space,Dt.Enter],cancel:[Dt.Esc],end:[Dt.Space,Dt.Enter,Dt.Tab]},Toe=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Dt.Right:return{...n,x:n.x+25};case Dt.Left:return{...n,x:n.x-25};case Dt.Down:return{...n,y:n.y+25};case Dt.Up:return{...n,y:n.y-25}}};class Z2{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new yf(Ku(n)),this.windowListeners=new yf(es(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Us.Resize,this.handleCancel),this.windowListeners.add(Us.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Us.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,i=t.node.current;i&&Soe(i),n(br)}handleKeyDown(t){if(Jw(t)){const{active:n,context:i,options:s}=this.props,{keyboardCodes:o=Y2,coordinateGetter:l=Toe,scrollBehavior:c="smooth"}=s,{code:d}=t;if(o.end.includes(d)){this.handleEnd(t);return}if(o.cancel.includes(d)){this.handleCancel(t);return}const{collisionRect:h}=i.current,m=h?{x:h.left,y:h.top}:br;this.referenceCoordinates||(this.referenceCoordinates=m);const v=l(t,{active:n,context:i.current,currentCoordinates:m});if(v){const b=mg(v,m),_={x:0,y:0},{scrollableAncestors:C}=i.current;for(const E of C){const T=t.code,{isTop:N,isRight:k,isLeft:O,isBottom:M,maxScroll:j,minScroll:V}=q2(E),z=xoe(E),I={x:Math.min(T===Dt.Right?z.right-z.width/2:z.right,Math.max(T===Dt.Right?z.left:z.left+z.width/2,v.x)),y:Math.min(T===Dt.Down?z.bottom-z.height/2:z.bottom,Math.max(T===Dt.Down?z.top:z.top+z.height/2,v.y))},$=T===Dt.Right&&!k||T===Dt.Left&&!O,Y=T===Dt.Down&&!M||T===Dt.Up&&!N;if($&&I.x!==v.x){const q=E.scrollLeft+b.x,W=T===Dt.Right&&q<=j.x||T===Dt.Left&&q>=V.x;if(W&&!b.y){E.scrollTo({left:q,behavior:c});return}W?_.x=E.scrollLeft-q:_.x=T===Dt.Right?E.scrollLeft-j.x:E.scrollLeft-V.x,_.x&&E.scrollBy({left:-_.x,behavior:c});break}else if(Y&&I.y!==v.y){const q=E.scrollTop+b.y,W=T===Dt.Down&&q<=j.y||T===Dt.Up&&q>=V.y;if(W&&!b.x){E.scrollTo({top:q,behavior:c});return}W?_.y=E.scrollTop-q:_.y=T===Dt.Down?E.scrollTop-j.y:E.scrollTop-V.y,_.y&&E.scrollBy({top:-_.y,behavior:c});break}}this.handleMove(t,Su(mg(v,this.referenceCoordinates),_))}}}handleMove(t,n){const{onMove:i}=this.props;t.preventDefault(),i(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Z2.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:i=Y2,onActivation:s}=t,{active:o}=n;const{code:l}=e.nativeEvent;if(i.start.includes(l)){const c=o.activatorNode.current;return c&&e.target!==c?!1:(e.preventDefault(),s?.({event:e.nativeEvent}),!0)}return!1}}];function Tk(e){return!!(e&&"distance"in e)}function Rk(e){return!!(e&&"delay"in e)}class nS{constructor(t,n,i){var s;i===void 0&&(i=Eoe(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:l}=o;this.props=t,this.events=n,this.document=Ku(l),this.documentListeners=new yf(this.document),this.listeners=new yf(i),this.windowListeners=new yf(es(l)),this.initialCoordinates=(s=U0(o))!=null?s:br,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:i}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Us.Resize,this.handleCancel),this.windowListeners.add(Us.DragStart,Ak),this.windowListeners.add(Us.VisibilityChange,this.handleCancel),this.windowListeners.add(Us.ContextMenu,Ak),this.documentListeners.add(Us.Keydown,this.handleKeydown),n){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Rk(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Tk(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:i,onPending:s}=this.props;s(i,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Us.Click,Aoe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Us.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:i,initialCoordinates:s,props:o}=this,{onMove:l,options:{activationConstraint:c}}=o;if(!s)return;const d=(n=U0(t))!=null?n:br,h=mg(s,d);if(!i&&c){if(Tk(c)){if(c.tolerance!=null&&ux(h,c.tolerance))return this.handleCancel();if(ux(h,c.distance))return this.handleStart()}if(Rk(c)&&ux(h,c.tolerance))return this.handleCancel();this.handlePending(c,h);return}t.cancelable&&t.preventDefault(),l(d)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Dt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Roe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class iS extends nS{constructor(t){const{event:n}=t,i=Ku(n.target);super(t,Roe,i)}}iS.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:i}=t;return!n.isPrimary||n.button!==0?!1:(i?.({event:n}),!0)}}];const koe={move:{name:"mousemove"},end:{name:"mouseup"}};var V0;(function(e){e[e.RightClick=2]="RightClick"})(V0||(V0={}));class Noe extends nS{constructor(t){super(t,koe,Ku(t.event.target))}}Noe.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:i}=t;return n.button===V0.RightClick?!1:(i?.({event:n}),!0)}}];const dx={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class X2 extends nS{constructor(t){super(t,dx)}static setup(){return window.addEventListener(dx.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(dx.move.name,t)};function t(){}}}X2.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:i}=t;const{touches:s}=n;return s.length>1?!1:(i?.({event:n}),!0)}}];var bf;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(bf||(bf={}));var vg;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(vg||(vg={}));function Ooe(e){let{acceleration:t,activator:n=bf.Pointer,canScroll:i,draggingRect:s,enabled:o,interval:l=5,order:c=vg.TreeOrder,pointerCoordinates:d,scrollableAncestors:h,scrollableAncestorRects:m,delta:v,threshold:b}=e;const _=Moe({delta:v,disabled:!o}),[C,E]=Vre(),T=x.useRef({x:0,y:0}),N=x.useRef({x:0,y:0}),k=x.useMemo(()=>{switch(n){case bf.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case bf.DraggableRect:return s}},[n,s,d]),O=x.useRef(null),M=x.useCallback(()=>{const V=O.current;if(!V)return;const z=T.current.x*N.current.x,I=T.current.y*N.current.y;V.scrollBy(z,I)},[]),j=x.useMemo(()=>c===vg.TreeOrder?[...h].reverse():h,[c,h]);x.useEffect(()=>{if(!o||!h.length||!k){E();return}for(const V of j){if(i?.(V)===!1)continue;const z=h.indexOf(V),I=m[z];if(!I)continue;const{direction:$,speed:Y}=boe(V,I,k,t,b);for(const q of["x","y"])_[q][$[q]]||(Y[q]=0,$[q]=0);if(Y.x>0||Y.y>0){E(),O.current=V,C(M,l),T.current=Y,N.current=$;return}}T.current={x:0,y:0},N.current={x:0,y:0},E()},[t,M,i,E,o,l,JSON.stringify(k),JSON.stringify(_),C,h,j,m,JSON.stringify(b)])}const Poe={x:{[ii.Backward]:!1,[ii.Forward]:!1},y:{[ii.Backward]:!1,[ii.Forward]:!1}};function Moe(e){let{delta:t,disabled:n}=e;const i=B0(t);return bh(s=>{if(n||!i||!s)return Poe;const o={x:Math.sign(t.x-i.x),y:Math.sign(t.y-i.y)};return{x:{[ii.Backward]:s.x[ii.Backward]||o.x===-1,[ii.Forward]:s.x[ii.Forward]||o.x===1},y:{[ii.Backward]:s.y[ii.Backward]||o.y===-1,[ii.Forward]:s.y[ii.Forward]||o.y===1}}},[n,t,i])}function Doe(e,t){const n=t!=null?e.get(t):void 0,i=n?n.node.current:null;return bh(s=>{var o;return t==null?null:(o=i??s)!=null?o:null},[i,t])}function Loe(e,t){return x.useMemo(()=>e.reduce((n,i)=>{const{sensor:s}=i,o=s.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,i)}));return[...n,...o]},[]),[e,t])}var Kf;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Kf||(Kf={}));var $0;(function(e){e.Optimized="optimized"})($0||($0={}));const kk=new Map;function joe(e,t){let{dragging:n,dependencies:i,config:s}=t;const[o,l]=x.useState(null),{frequency:c,measure:d,strategy:h}=s,m=x.useRef(e),v=T(),b=Hf(v),_=x.useCallback(function(N){N===void 0&&(N=[]),!b.current&&l(k=>k===null?N:k.concat(N.filter(O=>!k.includes(O))))},[b]),C=x.useRef(null),E=bh(N=>{if(v&&!n)return kk;if(!N||N===kk||m.current!==e||o!=null){const k=new Map;for(let O of e){if(!O)continue;if(o&&o.length>0&&!o.includes(O.id)&&O.rect.current){k.set(O.id,O.rect.current);continue}const M=O.node.current,j=M?new tS(d(M),M):null;O.rect.current=j,j&&k.set(O.id,j)}return k}return N},[e,o,n,v,d]);return x.useEffect(()=>{m.current=e},[e]),x.useEffect(()=>{v||_()},[n,v]),x.useEffect(()=>{o&&o.length>0&&l(null)},[JSON.stringify(o)]),x.useEffect(()=>{v||typeof c!="number"||C.current!==null||(C.current=setTimeout(()=>{_(),C.current=null},c))},[c,v,_,...i]),{droppableRects:E,measureDroppableContainers:_,measuringScheduled:o!=null};function T(){switch(h){case Kf.Always:return!1;case Kf.BeforeDragging:return n;default:return!n}}}function Q2(e,t){return bh(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Ioe(e,t){return Q2(e,t)}function zoe(e){let{callback:t,disabled:n}=e;const i=Qw(t),s=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(i)},[i,n]);return x.useEffect(()=>()=>s?.disconnect(),[s]),s}function sv(e){let{callback:t,disabled:n}=e;const i=Qw(t),s=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(i)},[n]);return x.useEffect(()=>()=>s?.disconnect(),[s]),s}function Boe(e){return new tS(qu(e),e)}function Nk(e,t,n){t===void 0&&(t=Boe);const[i,s]=x.useState(null);function o(){s(d=>{if(!e)return null;if(e.isConnected===!1){var h;return(h=d??n)!=null?h:null}const m=t(e);return JSON.stringify(d)===JSON.stringify(m)?d:m})}const l=zoe({callback(d){if(e)for(const h of d){const{type:m,target:v}=h;if(m==="childList"&&v instanceof HTMLElement&&v.contains(e)){o();break}}}}),c=sv({callback:o});return Xr(()=>{o(),e?(c?.observe(e),l?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),l?.disconnect())},[e]),i}function Uoe(e){const t=Q2(e);return V2(e,t)}const Ok=[];function Foe(e){const t=x.useRef(e),n=bh(i=>e?i&&i!==Ok&&e&&t.current&&e.parentNode===t.current.parentNode?i:eS(e):Ok,[e]);return x.useEffect(()=>{t.current=e},[e]),n}function Voe(e){const[t,n]=x.useState(null),i=x.useRef(e),s=x.useCallback(o=>{const l=cx(o.target);l&&n(c=>c?(c.set(l,F0(l)),new Map(c)):null)},[]);return x.useEffect(()=>{const o=i.current;if(e!==o){l(o);const c=e.map(d=>{const h=cx(d);return h?(h.addEventListener("scroll",s,{passive:!0}),[h,F0(h)]):null}).filter(d=>d!=null);n(c.length?new Map(c):null),i.current=e}return()=>{l(e),l(o)};function l(c){c.forEach(d=>{const h=cx(d);h?.removeEventListener("scroll",s)})}},[s,e]),x.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,l)=>Su(o,l),br):W2(e):br,[e,t])}function Pk(e,t){t===void 0&&(t=[]);const n=x.useRef(null);return x.useEffect(()=>{n.current=null},t),x.useEffect(()=>{const i=e!==br;i&&!n.current&&(n.current=e),!i&&n.current&&(n.current=null)},[e]),n.current?mg(e,n.current):br}function $oe(e){x.useEffect(()=>{if(!iv)return;const t=e.map(n=>{let{sensor:i}=n;return i.setup==null?void 0:i.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function Hoe(e,t){return x.useMemo(()=>e.reduce((n,i)=>{let{eventName:s,handler:o}=i;return n[s]=l=>{o(l,t)},n},{}),[e,t])}function J2(e){return x.useMemo(()=>e?moe(e):null,[e])}const Mk=[];function Goe(e,t){t===void 0&&(t=qu);const[n]=e,i=J2(n?es(n):null),[s,o]=x.useState(Mk);function l(){o(()=>e.length?e.map(d=>K2(d)?i:new tS(t(d),d)):Mk)}const c=sv({callback:l});return Xr(()=>{c?.disconnect(),l(),e.forEach(d=>c?.observe(d))},[e]),s}function Koe(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return yh(t)?t:e}function qoe(e){let{measure:t}=e;const[n,i]=x.useState(null),s=x.useCallback(h=>{for(const{target:m}of h)if(yh(m)){i(v=>{const b=t(m);return v?{...v,width:b.width,height:b.height}:b});break}},[t]),o=sv({callback:s}),l=x.useCallback(h=>{const m=Koe(h);o?.disconnect(),m&&o?.observe(m),i(m?t(m):null)},[t,o]),[c,d]=pg(l);return x.useMemo(()=>({nodeRef:c,rect:n,setRef:d}),[n,c,d])}const Woe=[{sensor:iS,options:{}},{sensor:Z2,options:{}}],Yoe={current:{}},km={draggable:{measure:Ek},droppable:{measure:Ek,strategy:Kf.WhileDragging,frequency:$0.Optimized},dragOverlay:{measure:qu}};class xf extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,i;return(n=(i=this.get(t))==null?void 0:i.node.current)!=null?n:void 0}}const Zoe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new xf,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:gg},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:km,measureDroppableContainers:gg,windowRect:null,measuringScheduled:!1},Xoe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:gg,draggableNodes:new Map,over:null,measureDroppableContainers:gg},rv=x.createContext(Xoe),eI=x.createContext(Zoe);function Qoe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new xf}}}function Joe(e,t){switch(t.type){case $n.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case $n.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case $n.DragEnd:case $n.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case $n.RegisterDroppable:{const{element:n}=t,{id:i}=n,s=new xf(e.droppable.containers);return s.set(i,n),{...e,droppable:{...e.droppable,containers:s}}}case $n.SetDroppableDisabled:{const{id:n,key:i,disabled:s}=t,o=e.droppable.containers.get(n);if(!o||i!==o.key)return e;const l=new xf(e.droppable.containers);return l.set(n,{...o,disabled:s}),{...e,droppable:{...e.droppable,containers:l}}}case $n.UnregisterDroppable:{const{id:n,key:i}=t,s=e.droppable.containers.get(n);if(!s||i!==s.key)return e;const o=new xf(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function eae(e){let{disabled:t}=e;const{active:n,activatorEvent:i,draggableNodes:s}=x.useContext(rv),o=B0(i),l=B0(n?.id);return x.useEffect(()=>{if(!t&&!i&&o&&l!=null){if(!Jw(o)||document.activeElement===o.target)return;const c=s.get(l);if(!c)return;const{activatorNode:d,node:h}=c;if(!d.current&&!h.current)return;requestAnimationFrame(()=>{for(const m of[d.current,h.current]){if(!m)continue;const v=Gre(m);if(v){v.focus();break}}})}},[i,t,s,l,o]),null}function tae(e,t){let{transform:n,...i}=t;return e!=null&&e.length?e.reduce((s,o)=>o({transform:s,...i}),n):n}function nae(e){return x.useMemo(()=>({draggable:{...km.draggable,...e?.draggable},droppable:{...km.droppable,...e?.droppable},dragOverlay:{...km.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function iae(e){let{activeNode:t,measure:n,initialRect:i,config:s=!0}=e;const o=x.useRef(!1),{x:l,y:c}=typeof s=="boolean"?{x:s,y:s}:s;Xr(()=>{if(!l&&!c||!t){o.current=!1;return}if(o.current||!i)return;const h=t?.node.current;if(!h||h.isConnected===!1)return;const m=n(h),v=V2(m,i);if(l||(v.x=0),c||(v.y=0),o.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const b=$2(h);b&&b.scrollBy({top:v.y,left:v.x})}},[t,l,c,i,n])}const tI=x.createContext({...br,scaleX:1,scaleY:1});var Ca;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ca||(Ca={}));const sae=x.memo(function(t){var n,i,s,o;let{id:l,accessibility:c,autoScroll:d=!0,children:h,sensors:m=Woe,collisionDetection:v=loe,measuring:b,modifiers:_,...C}=t;const E=x.useReducer(Joe,void 0,Qoe),[T,N]=E,[k,O]=Xre(),[M,j]=x.useState(Ca.Uninitialized),V=M===Ca.Initialized,{draggable:{active:z,nodes:I,translate:$},droppable:{containers:Y}}=T,q=z!=null?I.get(z):null,W=x.useRef({initial:null,translated:null}),Z=x.useMemo(()=>{var Yt;return z!=null?{id:z,data:(Yt=q?.data)!=null?Yt:Yoe,rect:W}:null},[z,q]),ie=x.useRef(null),[ye,G]=x.useState(null),[X,ne]=x.useState(null),de=Hf(C,Object.values(C)),ae=xh("DndDescribedBy",l),K=x.useMemo(()=>Y.getEnabled(),[Y]),oe=nae(b),{droppableRects:be,measureDroppableContainers:xe,measuringScheduled:Re}=joe(K,{dragging:V,dependencies:[$.x,$.y],config:oe.droppable}),we=Doe(I,z),Se=x.useMemo(()=>X?U0(X):null,[X]),je=Ys(),De=Ioe(we,oe.draggable.measure);iae({activeNode:z!=null?I.get(z):null,config:je.layoutShiftCompensation,initialRect:De,measure:oe.draggable.measure});const Le=Nk(we,oe.draggable.measure,De),Ze=Nk(we?we.parentElement:null),Xe=x.useRef({activatorEvent:null,active:null,activeNode:we,collisionRect:null,collisions:null,droppableRects:be,draggableNodes:I,draggingNode:null,draggingNodeRect:null,droppableContainers:Y,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ct=Y.getNodeFor((n=Xe.current.over)==null?void 0:n.id),yt=qoe({measure:oe.dragOverlay.measure}),zt=(i=yt.nodeRef.current)!=null?i:we,dn=V?(s=yt.rect)!=null?s:Le:null,fn=!!(yt.nodeRef.current&&yt.rect),In=Uoe(fn?null:Le),_n=J2(zt?es(zt):null),wn=Foe(V?Ct??we:null),Kn=Goe(wn),Ti=tae(_,{transform:{x:$.x-In.x,y:$.y-In.y,scaleX:1,scaleY:1},activatorEvent:X,active:Z,activeNodeRect:Le,containerNodeRect:Ze,draggingNodeRect:dn,over:Xe.current.over,overlayNodeRect:yt.rect,scrollableAncestors:wn,scrollableAncestorRects:Kn,windowRect:_n}),Es=Se?Su(Se,$):null,sn=Voe(wn),Sr=Pk(sn),bt=Pk(sn,[Le]),Tt=Su(Ti,Sr),Bt=dn?doe(dn,Ti):null,Ri=Z&&Bt?v({active:Z,collisionRect:Bt,droppableRects:be,droppableContainers:K,pointerCoordinates:Es}):null,Ws=roe(Ri,"id"),[vi,Jr]=x.useState(null),ts=fn?Ti:Su(Ti,bt),rn=coe(ts,(o=vi?.rect)!=null?o:null,Le),si=x.useRef(null),En=x.useCallback((Yt,Zt)=>{let{sensor:hn,options:Wn}=Zt;if(ie.current==null)return;const Yn=I.get(ie.current);if(!Yn)return;const An=Yt.nativeEvent,Zn=new hn({active:ie.current,activeNode:Yn,event:An,options:Wn,context:Xe,onAbort(on){if(!I.get(on))return;const{onDragAbort:ri}=de.current,yi={id:on};ri?.(yi),k({type:"onDragAbort",event:yi})},onPending(on,ki,ri,yi){if(!I.get(on))return;const{onDragPending:ze}=de.current,bi={id:on,constraint:ki,initialCoordinates:ri,offset:yi};ze?.(bi),k({type:"onDragPending",event:bi})},onStart(on){const ki=ie.current;if(ki==null)return;const ri=I.get(ki);if(!ri)return;const{onDragStart:yi}=de.current,an={activatorEvent:An,active:{id:ki,data:ri.data,rect:W}};Ji.unstable_batchedUpdates(()=>{yi?.(an),j(Ca.Initializing),N({type:$n.DragStart,initialCoordinates:on,active:ki}),k({type:"onDragStart",event:an}),G(si.current),ne(An)})},onMove(on){N({type:$n.DragMove,coordinates:on})},onEnd:Xn($n.DragEnd),onCancel:Xn($n.DragCancel)});si.current=Zn;function Xn(on){return async function(){const{active:ri,collisions:yi,over:an,scrollAdjustedTranslate:ze}=Xe.current;let bi=null;if(ri&&ze){const{cancelDrop:is}=de.current;bi={activatorEvent:An,active:ri,collisions:yi,delta:ze,over:an},on===$n.DragEnd&&typeof is=="function"&&await Promise.resolve(is(bi))&&(on=$n.DragCancel)}ie.current=null,Ji.unstable_batchedUpdates(()=>{N({type:on}),j(Ca.Uninitialized),Jr(null),G(null),ne(null),si.current=null;const is=on===$n.DragEnd?"onDragEnd":"onDragCancel";if(bi){const oi=de.current[is];oi?.(bi),k({type:is,event:bi})}})}}},[I]),ns=x.useCallback((Yt,Zt)=>(hn,Wn)=>{const Yn=hn.nativeEvent,An=I.get(Wn);if(ie.current!==null||!An||Yn.dndKit||Yn.defaultPrevented)return;const Zn={active:An};Yt(hn,Zt.options,Zn)===!0&&(Yn.dndKit={capturedBy:Zt.sensor},ie.current=Wn,En(hn,Zt))},[I,En]),eo=Loe(m,ns);$oe(m),Xr(()=>{Le&&M===Ca.Initializing&&j(Ca.Initialized)},[Le,M]),x.useEffect(()=>{const{onDragMove:Yt}=de.current,{active:Zt,activatorEvent:hn,collisions:Wn,over:Yn}=Xe.current;if(!Zt||!hn)return;const An={active:Zt,activatorEvent:hn,collisions:Wn,delta:{x:Tt.x,y:Tt.y},over:Yn};Ji.unstable_batchedUpdates(()=>{Yt?.(An),k({type:"onDragMove",event:An})})},[Tt.x,Tt.y]),x.useEffect(()=>{const{active:Yt,activatorEvent:Zt,collisions:hn,droppableContainers:Wn,scrollAdjustedTranslate:Yn}=Xe.current;if(!Yt||ie.current==null||!Zt||!Yn)return;const{onDragOver:An}=de.current,Zn=Wn.get(Ws),Xn=Zn&&Zn.rect.current?{id:Zn.id,rect:Zn.rect.current,data:Zn.data,disabled:Zn.disabled}:null,on={active:Yt,activatorEvent:Zt,collisions:hn,delta:{x:Yn.x,y:Yn.y},over:Xn};Ji.unstable_batchedUpdates(()=>{Jr(Xn),An?.(on),k({type:"onDragOver",event:on})})},[Ws]),Xr(()=>{Xe.current={activatorEvent:X,active:Z,activeNode:we,collisionRect:Bt,collisions:Ri,droppableRects:be,draggableNodes:I,draggingNode:zt,draggingNodeRect:dn,droppableContainers:Y,over:vi,scrollableAncestors:wn,scrollAdjustedTranslate:Tt},W.current={initial:dn,translated:Bt}},[Z,we,Ri,Bt,I,zt,dn,be,Y,vi,wn,Tt]),Ooe({...je,delta:$,draggingRect:Bt,pointerCoordinates:Es,scrollableAncestors:wn,scrollableAncestorRects:Kn});const Ha=x.useMemo(()=>({active:Z,activeNode:we,activeNodeRect:Le,activatorEvent:X,collisions:Ri,containerNodeRect:Ze,dragOverlay:yt,draggableNodes:I,droppableContainers:Y,droppableRects:be,over:vi,measureDroppableContainers:xe,scrollableAncestors:wn,scrollableAncestorRects:Kn,measuringConfiguration:oe,measuringScheduled:Re,windowRect:_n}),[Z,we,Le,X,Ri,Ze,yt,I,Y,be,vi,xe,wn,Kn,oe,Re,_n]),qn=x.useMemo(()=>({activatorEvent:X,activators:eo,active:Z,activeNodeRect:Le,ariaDescribedById:{draggable:ae},dispatch:N,draggableNodes:I,over:vi,measureDroppableContainers:xe}),[X,eo,Z,Le,N,ae,I,vi,xe]);return Pt.createElement(F2.Provider,{value:O},Pt.createElement(rv.Provider,{value:qn},Pt.createElement(eI.Provider,{value:Ha},Pt.createElement(tI.Provider,{value:rn},h)),Pt.createElement(eae,{disabled:c?.restoreFocus===!1})),Pt.createElement(eoe,{...c,hiddenTextDescribedById:ae}));function Ys(){const Yt=ye?.autoScrollEnabled===!1,Zt=typeof d=="object"?d.enabled===!1:d===!1,hn=V&&!Yt&&!Zt;return typeof d=="object"?{...d,enabled:hn}:{enabled:hn}}}),rae=x.createContext(null),Dk="button",oae="Draggable";function aae(e){let{id:t,data:n,disabled:i=!1,attributes:s}=e;const o=xh(oae),{activators:l,activatorEvent:c,active:d,activeNodeRect:h,ariaDescribedById:m,draggableNodes:v,over:b}=x.useContext(rv),{role:_=Dk,roleDescription:C="draggable",tabIndex:E=0}=s??{},T=d?.id===t,N=x.useContext(T?tI:rae),[k,O]=pg(),[M,j]=pg(),V=Hoe(l,t),z=Hf(n);Xr(()=>(v.set(t,{id:t,key:o,node:k,activatorNode:M,data:z}),()=>{const $=v.get(t);$&&$.key===o&&v.delete(t)}),[v,t]);const I=x.useMemo(()=>({role:_,tabIndex:E,"aria-disabled":i,"aria-pressed":T&&_===Dk?!0:void 0,"aria-roledescription":C,"aria-describedby":m.draggable}),[i,_,E,T,C,m.draggable]);return{active:d,activatorEvent:c,activeNodeRect:h,attributes:I,isDragging:T,listeners:i?void 0:V,node:k,over:b,setNodeRef:O,setActivatorNodeRef:j,transform:N}}function lae(){return x.useContext(eI)}const cae="Droppable",uae={timeout:25};function dae(e){let{data:t,disabled:n=!1,id:i,resizeObserverConfig:s}=e;const o=xh(cae),{active:l,dispatch:c,over:d,measureDroppableContainers:h}=x.useContext(rv),m=x.useRef({disabled:n}),v=x.useRef(!1),b=x.useRef(null),_=x.useRef(null),{disabled:C,updateMeasurementsFor:E,timeout:T}={...uae,...s},N=Hf(E??i),k=x.useCallback(()=>{if(!v.current){v.current=!0;return}_.current!=null&&clearTimeout(_.current),_.current=setTimeout(()=>{h(Array.isArray(N.current)?N.current:[N.current]),_.current=null},T)},[T]),O=sv({callback:k,disabled:C||!l}),M=x.useCallback((I,$)=>{O&&($&&(O.unobserve($),v.current=!1),I&&O.observe(I))},[O]),[j,V]=pg(M),z=Hf(t);return x.useEffect(()=>{!O||!j.current||(O.disconnect(),v.current=!1,O.observe(j.current))},[j,O]),x.useEffect(()=>(c({type:$n.RegisterDroppable,element:{id:i,key:o,disabled:n,node:j,rect:b,data:z}}),()=>c({type:$n.UnregisterDroppable,key:o,id:i})),[i]),x.useEffect(()=>{n!==m.current.disabled&&(c({type:$n.SetDroppableDisabled,id:i,key:o,disabled:n}),m.current.disabled=n)},[i,o,n,c]),{active:l,rect:b,isOver:d?.id===i,node:j,over:d,setNodeRef:V}}function sS(e,t,n){const i=e.slice();return i.splice(n<0?i.length+n:n,0,i.splice(t,1)[0]),i}function fae(e,t){return e.reduce((n,i,s)=>{const o=t.get(i);return o&&(n[s]=o),n},Array(e.length))}function fm(e){return e!==null&&e>=0}function hae(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function pae(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const rS=e=>{let{rects:t,activeIndex:n,overIndex:i,index:s}=e;const o=sS(t,i,n),l=t[s],c=o[s];return!c||!l?null:{x:c.left-l.left,y:c.top-l.top,scaleX:c.width/l.width,scaleY:c.height/l.height}},nI="Sortable",iI=Pt.createContext({activeIndex:-1,containerId:nI,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:rS,disabled:{draggable:!1,droppable:!1}});function mae(e){let{children:t,id:n,items:i,strategy:s=rS,disabled:o=!1}=e;const{active:l,dragOverlay:c,droppableRects:d,over:h,measureDroppableContainers:m}=lae(),v=xh(nI,n),b=c.rect!==null,_=x.useMemo(()=>i.map(V=>typeof V=="object"&&"id"in V?V.id:V),[i]),C=l!=null,E=l?_.indexOf(l.id):-1,T=h?_.indexOf(h.id):-1,N=x.useRef(_),k=!hae(_,N.current),O=T!==-1&&E===-1||k,M=pae(o);Xr(()=>{k&&C&&m(_)},[k,_,C,m]),x.useEffect(()=>{N.current=_},[_]);const j=x.useMemo(()=>({activeIndex:E,containerId:v,disabled:M,disableTransforms:O,items:_,overIndex:T,useDragOverlay:b,sortedRects:fae(_,d),strategy:s}),[E,v,M.draggable,M.droppable,O,_,T,d,b,s]);return Pt.createElement(iI.Provider,{value:j},t)}const gae=e=>{let{id:t,items:n,activeIndex:i,overIndex:s}=e;return sS(n,i,s).indexOf(t)},vae=e=>{let{containerId:t,isSorting:n,wasDragging:i,index:s,items:o,newIndex:l,previousItems:c,previousContainerId:d,transition:h}=e;return!h||!i||c!==o&&s===l?!1:n?!0:l!==s&&t===d},yae={duration:200,easing:"ease"},sI="transform",bae=Gf.Transition.toString({property:sI,duration:0,easing:"linear"}),xae={roleDescription:"sortable"};function _ae(e){let{disabled:t,index:n,node:i,rect:s}=e;const[o,l]=x.useState(null),c=x.useRef(n);return Xr(()=>{if(!t&&n!==c.current&&i.current){const d=s.current;if(d){const h=qu(i.current,{ignoreTransform:!0}),m={x:d.left-h.left,y:d.top-h.top,scaleX:d.width/h.width,scaleY:d.height/h.height};(m.x||m.y)&&l(m)}}n!==c.current&&(c.current=n)},[t,n,i,s]),x.useEffect(()=>{o&&l(null)},[o]),o}function wae(e){let{animateLayoutChanges:t=vae,attributes:n,disabled:i,data:s,getNewIndex:o=gae,id:l,strategy:c,resizeObserverConfig:d,transition:h=yae}=e;const{items:m,containerId:v,activeIndex:b,disabled:_,disableTransforms:C,sortedRects:E,overIndex:T,useDragOverlay:N,strategy:k}=x.useContext(iI),O=Sae(i,_),M=m.indexOf(l),j=x.useMemo(()=>({sortable:{containerId:v,index:M,items:m},...s}),[v,s,M,m]),V=x.useMemo(()=>m.slice(m.indexOf(l)),[m,l]),{rect:z,node:I,isOver:$,setNodeRef:Y}=dae({id:l,data:j,disabled:O.droppable,resizeObserverConfig:{updateMeasurementsFor:V,...d}}),{active:q,activatorEvent:W,activeNodeRect:Z,attributes:ie,setNodeRef:ye,listeners:G,isDragging:X,over:ne,setActivatorNodeRef:de,transform:ae}=aae({id:l,data:j,attributes:{...xae,...n},disabled:O.draggable}),K=Fre(Y,ye),oe=!!q,be=oe&&!C&&fm(b)&&fm(T),xe=!N&&X,Re=xe&&be?ae:null,Se=be?Re??(c??k)({rects:E,activeNodeRect:Z,activeIndex:b,overIndex:T,index:M}):null,je=fm(b)&&fm(T)?o({id:l,items:m,activeIndex:b,overIndex:T}):M,De=q?.id,Le=x.useRef({activeId:De,items:m,newIndex:je,containerId:v}),Ze=m!==Le.current.items,Xe=t({active:q,containerId:v,isDragging:X,isSorting:oe,id:l,index:M,items:m,newIndex:Le.current.newIndex,previousItems:Le.current.items,previousContainerId:Le.current.containerId,transition:h,wasDragging:Le.current.activeId!=null}),Ct=_ae({disabled:!Xe,index:M,node:I,rect:z});return x.useEffect(()=>{oe&&Le.current.newIndex!==je&&(Le.current.newIndex=je),v!==Le.current.containerId&&(Le.current.containerId=v),m!==Le.current.items&&(Le.current.items=m)},[oe,je,v,m]),x.useEffect(()=>{if(De===Le.current.activeId)return;if(De!=null&&Le.current.activeId==null){Le.current.activeId=De;return}const zt=setTimeout(()=>{Le.current.activeId=De},50);return()=>clearTimeout(zt)},[De]),{active:q,activeIndex:b,attributes:ie,data:j,rect:z,index:M,newIndex:je,items:m,isOver:$,isSorting:oe,isDragging:X,listeners:G,node:I,overIndex:T,over:ne,setNodeRef:K,setActivatorNodeRef:de,setDroppableNodeRef:Y,setDraggableNodeRef:ye,transform:Ct??Se,transition:yt()};function yt(){if(Ct||Ze&&Le.current.newIndex===M)return bae;if(!(xe&&!Jw(W)||!h)&&(oe||Xe))return Gf.Transition.toString({...h,property:sI})}}function Sae(e,t){var n,i;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(i=e?.droppable)!=null?i:t.droppable}}Dt.Down,Dt.Right,Dt.Up,Dt.Left;const rI=({editMode:e,onAdd:t})=>{const{t:n}=At();return y.jsx("div",{onClick:e?t:void 0,className:`border-border bg-muted flex aspect-3/4 w-full items-center justify-center overflow-hidden rounded-xl border-2 border-dashed transition-all duration-300 ${e?"hover:border-primary/60 hover:bg-primary/5 cursor-pointer":""}`,children:y.jsxs("div",{className:"text-center",children:[y.jsx(qm,{className:`mx-auto mb-2 h-8 w-8 transition-colors ${e?"text-primary/60":"text-muted-foreground/40"}`}),y.jsx("div",{className:`text-xs transition-colors ${e?"text-primary/70 font-medium":"text-muted-foreground/70"}`,children:n("favSpecies.addFavorite")})]})})},ov=e=>{const{data:t,isLoading:n}=Bo({specieKey:e});return{specieName:t?.canonicalName||t?.scientificName||"",familyName:t?.family||"",isLoading:n}},Cae=({specieKey:e,editMode:t,onClick:n,onRemove:i,dragHandleProps:s})=>{const{specieName:o,familyName:l,isLoading:c}=ov(e),{t:d}=At(),h=!c&&o!==""?o:void 0,{data:m,isLoading:v}=uh(e,h),b=c||v;return y.jsx("div",{className:"group relative",children:b?y.jsx("div",{className:"bg-accent flex aspect-3/4 w-full animate-pulse items-center justify-center overflow-hidden rounded-xl",children:y.jsx(ih,{className:"size-5 animate-spin"})}):m?.imgUrl?y.jsxs(y.Fragment,{children:[y.jsxs("figure",{onClick:n,className:`relative aspect-3/4 w-full cursor-pointer overflow-hidden rounded-xl shadow-sm transition-all duration-300 ease-out ${t?"ring-primary/40 ring-2 brightness-75 hover:brightness-90":"group-hover:shadow-lg"}`,children:[y.jsx(Ln,{src:m.imgUrl,alt:o,loading:"lazy",className:`size-full object-cover transition-transform duration-500 ease-out ${t?"":"group-hover:scale-110"}`}),y.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-linear-to-t from-black/75 via-black/30 to-transparent px-3 pt-8 pb-3",children:[y.jsx("p",{className:"truncate text-xs leading-tight font-semibold text-white",children:o}),y.jsx("p",{className:"truncate text-xs text-white/70 italic",children:l})]}),t&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:y.jsx("span",{className:"rounded-full bg-white/20 px-3 py-1 text-xs font-medium text-white backdrop-blur-sm",children:d("favSpecies.replace")})})]}),t&&y.jsx("button",{onPointerDown:_=>_.stopPropagation(),onClick:_=>{_.stopPropagation(),i()},className:"bg-destructive hover:bg-destructive/80 absolute -top-2 -right-2 z-10 flex size-6 items-center justify-center rounded-full text-white shadow-md transition-colors",children:y.jsx(Da,{className:"size-3.5"})}),t&&s&&y.jsx("div",{...s,onPointerDown:_=>{_.stopPropagation(),s.onPointerDown?.(_)},className:"absolute right-1 bottom-2 z-10 flex -translate-x-1/2 cursor-grab touch-none items-center justify-center rounded-full bg-black/40 px-2 py-0.5 text-white transition-colors hover:bg-black/60 active:cursor-grabbing",children:y.jsx(KO,{className:"size-3.5"})}),!t&&y.jsxs("div",{className:"pointer-events-none absolute bottom-[calc(100%+10px)] left-1/2 z-50 -translate-x-1/2 translate-y-2 opacity-0 transition-all duration-300 ease-out group-hover:translate-y-0 group-hover:opacity-100",children:[y.jsx("div",{className:"bg-popover ring-border overflow-hidden rounded-xl shadow-2xl ring-1",children:y.jsx("img",{src:m.imgUrl,alt:o,className:"block max-h-56 max-w-56 object-contain"})}),y.jsx("div",{className:"border-t-popover mx-auto h-0 w-0 border-x-[7px] border-t-[7px] border-x-transparent"})]})]}):y.jsx(rI,{editMode:t,onAdd:t?n:void 0})})},Eae=e=>{const{attributes:t,listeners:n,setNodeRef:i,transform:s,transition:o,isDragging:l}=wae({id:String(e.specieKey),disabled:!e.editMode}),c={transform:Gf.Transform.toString(s),transition:o,zIndex:l?50:void 0,opacity:l?.5:1};return y.jsx("div",{ref:i,style:c,children:y.jsx(Cae,{...e,dragHandleProps:e.editMode?{...t,...n}:void 0})})},Aae=({specieKey:e,onSelect:t})=>{const{specieName:n,familyName:i,isLoading:s}=ov(e),o=!s&&n!==""?n:void 0,{data:l,isLoading:c}=uh(e,o),d=s||c,h=()=>{d||t({key:e,name:n,img:l?.imgUrl??"",family:i})};return y.jsxs("button",{onClick:h,disabled:d,className:"hover:bg-accent flex w-full items-center gap-3 rounded-xl px-3 py-2 text-left transition-colors disabled:opacity-50",children:[y.jsx("div",{className:"bg-muted size-12 shrink-0 overflow-hidden rounded-lg",children:d?y.jsx("div",{className:"size-full animate-pulse"}):l?.imgUrl?y.jsx("img",{src:l.imgUrl,alt:n,className:"size-full object-cover"}):y.jsx("div",{className:"flex size-full items-center justify-center",children:y.jsx(qm,{className:"text-muted-foreground size-4"})})}),y.jsx("div",{className:"min-w-0 flex-1",children:d?y.jsx("div",{className:"bg-muted h-4 w-3/4 animate-pulse rounded"}):y.jsxs(y.Fragment,{children:[y.jsx("p",{className:"truncate text-sm font-medium",children:n}),y.jsx("p",{className:"text-muted-foreground truncate text-xs italic",children:i})]})}),y.jsx(qm,{className:"text-muted-foreground size-4 shrink-0"})]})},fx=(e,t)=>{const n=new Map(t.map(i=>[i.key,i]));return e.map(i=>n.get(i)??{key:i,name:"",img:"",family:""})},Tae=()=>{const{t:e}=At(),[t,n]=Gs(st.userDb),i=Lt(La),[s,o]=x.useState(!1),[l,c]=x.useState(!1),[d,h]=x.useState(null),m=toe(Sk(iS,{activationConstraint:{distance:8}}),Sk(X2,{activationConstraint:{delay:200,tolerance:5}})),v=x.useMemo(()=>{const k=t?.game_info.top_fav_species;return k!=null?k.map(M=>M.key):(t?.game_info.seen_species??[]).filter(M=>M.fav).sort((M,j)=>new Date(j.date).getTime()-new Date(M.date).getTime()).map(M=>M.key).slice(0,4)},[t]),b=x.useMemo(()=>{const k=t?.game_info.seen_species??[],O=new Set(v);return d!==null&&v[d]!==void 0&&O.delete(v[d]),k.filter(M=>M.fav&&!O.has(M.key)).sort((M,j)=>new Date(j.date).getTime()-new Date(M.date).getTime()).map(M=>M.key)},[t,v,d]),_=Math.max(0,4-v.length),C=k=>{h(k),c(!0)},E=async k=>{if(!t)return;const O=fx(v,t.game_info.top_fav_species??[]),M=await ax(t,()=>O.filter((j,V)=>V!==k));M&&n(M)},T=async k=>{if(!t)return;c(!1);const O=fx(v,t.game_info.top_fav_species??[]),M=await ax(t,()=>{const j=[...O];return d!==null&&d<j.length?j[d]=k:j.push(k),j.slice(0,4)});M&&n(M),h(null)},N=async k=>{const{active:O,over:M}=k;if(!M||O.id===M.id||!t)return;const j=v.indexOf(Number(O.id)),V=v.indexOf(Number(M.id));if(j===-1||V===-1)return;const z=sS([...v],j,V),I=fx(z,t.game_info.top_fav_species??[]),$=await ax(t,()=>I);$&&n($)};return y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex items-center justify-between border-b pb-1",children:[y.jsx("h2",{children:e("favSpecies.title")}),y.jsx(Ht,{variant:"ghost",size:"sm",className:"gap-1.5",onClick:()=>o(k=>!k),children:s?e("favSpecies.done"):y.jsxs(y.Fragment,{children:[y.jsx(YO,{className:"size-3.5"}),e("favSpecies.edit")]})})]}),y.jsx(sae,{sensors:m,collisionDetection:ooe,onDragEnd:N,children:y.jsx(mae,{items:v.map(String),strategy:rS,children:y.jsxs("div",{className:"grid grid-cols-2 gap-3 overflow-visible sm:gap-4 lg:grid-cols-4",children:[v.map((k,O)=>y.jsx(Eae,{specieKey:k,editMode:s,onClick:()=>s?C(O):i(k),onRemove:()=>E(O)},k)),Array.from({length:_}).map((k,O)=>y.jsx(rI,{editMode:s,onAdd:s?()=>C(v.length+O):void 0},`empty-${O}`))]})})}),y.jsx($_,{open:l,onOpenChange:k=>{c(k),k||h(null)},children:y.jsxs(H_,{className:"flex flex-col",children:[y.jsx(G_,{children:y.jsx(K_,{children:e("favSpecies.pickerTitle")})}),b.length===0?y.jsxs("div",{className:"flex flex-col items-center gap-2 px-6 py-10 text-center",children:[y.jsx(qm,{className:"text-muted-foreground/40 size-10"}),y.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:e("favSpecies.pickerEmpty")}),y.jsx("p",{className:"text-muted-foreground text-xs",children:e("favSpecies.pickerEmptyHint")})]}):y.jsx("div",{className:"max-h-[60dvh] overflow-y-auto px-3 pb-4",children:y.jsx("div",{className:"flex flex-col gap-1",children:b.map(k=>y.jsx(Aae,{specieKey:k,onSelect:T},k))})})]})})]})},Rae=e=>{if(!e)return"";const t=typeof e=="string"?new Date(e):e,n=new Intl.DateTimeFormat(Qt.language,{month:"long",year:"numeric"}).format(t);return n.charAt(0).toUpperCase()+n.slice(1)},oI=e=>{if(!e)return"";const t=typeof e=="string"?new Date(e):e,i=new Date().getTime()-t.getTime(),s=Math.floor(i/1e3),o=Math.floor(s/60),l=Math.floor(o/60),c=Math.floor(l/24);if(s<60)return Qt.t("time.now","Agora mesmo");if(o<60){const d=Math.floor(o/5)*5||1;return Qt.t("time.minutesAgo",{count:d,defaultValue:"{{count}}m atrs"})}return l<24?Qt.t("time.hoursAgo",{count:l,defaultValue:"{{count}}h atrs"}):c===1?Qt.t("time.yesterday","Ontem"):c<=3?Qt.t("time.daysAgo",{count:c,defaultValue:"{{count}} dias atrs"}):new Intl.DateTimeFormat(Qt.language,{day:"2-digit",month:"2-digit",year:"numeric"}).format(t)},kae=()=>{const{t:e}=At(),t=Me(st.userDb);return y.jsx("header",{className:"flex flex-col gap-4 rounded-2xl",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(rD,{isProfilePage:!0}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h1",{className:"text-xl font-bold",children:t?.name}),y.jsxs("span",{className:"mt-0.5 flex items-center gap-1 text-xs",children:[e("profilePage.memberSince"),y.jsx("strong",{children:Rae(t?.created_at)})]})]})]})})},Nae=()=>{const{t:e}=At(),n=Me(st.userDb)?.game_info?.activities??[],[i,s]=x.useState(!1),o=4,l=i?n:n.slice(0,4),c=n.length>o;return y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex justify-between border-b",children:[y.jsx("h2",{children:e("activity.title")}),c&&y.jsxs(Ht,{variant:"ghost",size:"sm",className:"text-muted-foreground h-7 px-2 text-xs",onClick:()=>s(d=>!d),children:[i?"Recolher":"Expandir",i?y.jsx(A_,{className:"ml-1 size-3"}):y.jsx(Tu,{className:"ml-1 size-3"})]})]}),y.jsx("div",{className:`space-y-2 ${i&&n.length>4?"max-h-100 overflow-y-auto pr-1":""}`,children:l.map((d,h)=>y.jsxs("div",{className:"flex items-center gap-2 border-b py-2 last:border-0",children:[y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("div",{className:"truncate text-xs font-medium",children:d.title}),y.jsx("div",{className:"text-muted-foreground text-xs",children:d.description})]}),y.jsx("div",{className:"text-muted-foreground shrink-0 text-xs",children:oI(d.date)})]},h))})]})},Oae=({specieKey:e,date:t})=>{const{specieName:n,familyName:i,isLoading:s}=ov(e);return s?y.jsxs("div",{className:"-mx-2 border-b px-2 py-2 last:border-0",children:[y.jsx("div",{className:"bg-muted mb-1 h-4 w-32 animate-pulse rounded"}),y.jsx("div",{className:"bg-muted h-3 w-24 animate-pulse rounded"})]}):y.jsxs("div",{className:"-mx-2 flex items-center justify-between border-b px-2 py-2 last:border-0",children:[y.jsx("div",{className:"flex items-center gap-2",children:y.jsxs("div",{children:[y.jsx("div",{className:"text-xs font-medium italic",children:n}),y.jsx("div",{className:"text-muted-foreground text-xs",children:i})]})}),y.jsx("div",{className:"text-muted-foreground shrink-0 text-xs",children:oI(t)})]})},Pae=()=>{const{t:e}=At(),t=Me(st.userDb),n=Ei(),i=t?.game_info?.seen_species??[];if(!t||!t.game_info)return null;const s=()=>{n({to:"/profile/species-gallery"})};return y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex justify-between border-b",children:[y.jsx("h2",{children:e("seenSpecies.title")}),y.jsxs(Ht,{variant:"ghost",size:"sm",className:"text-muted-foreground h-7 px-2 text-xs",disabled:!i.length,onClick:s,children:[e("seenSpecies.openGallery")," ",y.jsx(Iu,{className:"ml-1 size-3"})]})]}),i.length?i.slice().reverse().slice(0,4).map(o=>y.jsx(Oae,{specieKey:o.key,date:o.date},o.key)):y.jsxs("div",{className:"text-muted-foreground py-8 text-center",children:[y.jsx(T_,{className:"text-muted-foreground/50 mx-auto mb-3 h-12 w-12"}),y.jsx("div",{className:"mb-1 text-sm font-medium",children:e("seenSpecies.emptyTitle")}),y.jsx("div",{className:"text-xs",children:e("seenSpecies.emptyHint")})]})]})},Mae=()=>{const{t:e}=At(),[t,n]=Gs(st.userDb),{navigateToNodes:i}=gh(),[s,o]=x.useState({isEdit:!1,newName:""}),l=x.useRef(null);if(x.useEffect(()=>{s.isEdit&&l.current&&l.current.focus()},[s.isEdit]),!t)return null;const c=t.game_info?.shortcuts;if(!c)return null;const d=_=>{i(_,!0)},h=async(_,C)=>{if(!t)return;if(!c)return null;const T=(c[_]??[]).filter((N,k)=>k!==C);(async()=>{const N=await O0(t,k=>({...k,[_]:T}));N&&n(N)})()},m=async()=>{if(!s.isEdit||!t||!s.kingdom)return;const{kingdom:_,index:C,newName:E}=s;if(!E.trim())return;const T=c[_]??[];if(!T[C])return;const N=[...T];N[C]={...N[C],name:E.trim()},(async()=>{const k=await O0(t,O=>({...O,[_]:N}));k&&n(k)})(),v()},v=()=>o({isEdit:!1,newName:""}),b=Object.keys(c);return y.jsxs("div",{className:"space-y-3",children:[y.jsx("h2",{className:"border-b",children:e("shortcuts.title")}),b.map(_=>{const C=c[_];return C?.length?y.jsx("div",{className:"space-y-3",children:C.map((E,T)=>{if(!E?.nodes)return null;const N=s.isEdit&&s.kingdom===_&&s.index===T;return y.jsxs("div",{className:"hover:bg-muted/50 flex items-center justify-between rounded-md border py-1 pl-2.5",children:[y.jsxs("div",{className:"flex min-w-0 flex-1 cursor-pointer items-center gap-2",onClick:()=>!N&&d(E.nodes),children:[y.jsx("figure",{className:"flex size-6 shrink-0 items-center",children:y.jsx(Ln,{src:gs(FP[_]),alt:`${_} icon`,className:"size-5"})}),y.jsxs("div",{className:"min-w-0 flex-1",children:[N?y.jsx("input",{ref:l,type:"text",value:s.newName,maxLength:52,onChange:k=>o(O=>({...O,newName:k.target.value})),className:"rounded border px-1 text-sm"}):y.jsx("p",{className:"truncate text-sm font-medium",children:E.name}),y.jsx("span",{className:"text-muted-foreground block truncate text-xs leading-tight",children:E.nodes.map((k,O)=>y.jsxs(x.Fragment,{children:[k.name??k.rank,O<E.nodes.length-1&&" > "]},k.key))})]})]}),y.jsx("div",{className:"flex flex-col gap-px border-l px-1",children:N?y.jsxs(y.Fragment,{children:[y.jsx(Ht,{variant:"ghost",size:"icon",className:"size-6 text-green-600 hover:text-green-800",title:e("shortcuts.saveEdit"),onClick:m,children:y.jsx($O,{className:"size-4"})}),y.jsx(Ht,{variant:"ghost",size:"icon",className:"size-6 text-blue-500 hover:text-blue-800",title:e("shortcuts.cancelEdit"),onClick:v,children:y.jsx(Da,{className:"size-4"})})]}):y.jsxs(y.Fragment,{children:[y.jsx(Ht,{variant:"ghost",size:"icon",className:"text-muted-foreground size-6 hover:text-blue-700",title:e("shortcuts.editName"),onClick:()=>o({isEdit:!0,kingdom:_,index:T,newName:E.name}),children:y.jsx(YO,{className:"size-4"})}),y.jsx(Ht,{variant:"ghost",size:"icon",className:"text-muted-foreground size-6 hover:text-red-700",onClick:()=>h(_,T),title:e("shortcuts.remove"),children:y.jsx(Da,{className:"size-4"})})]})})]},T)})},_):null}),b.every(_=>!c[_]?.length)&&y.jsxs("div",{className:"text-muted-foreground py-6 text-center",children:[y.jsx(iH,{className:"text-muted-foreground/50 mx-auto mb-3 h-10 w-10"}),y.jsx("div",{className:"mb-1 text-sm font-medium",children:e("shortcuts.empty")}),y.jsx("div",{className:"text-xs",children:e("shortcuts.emptyHint")})]}),y.jsx("div",{className:"bg-muted text-muted-foreground rounded-lg p-2 text-center text-xs italic",children:e("shortcuts.tip")})]})},Dae=()=>{const{t:e}=At(),t=Me(st.isAuthenticated),n=Me(La),i=Ei();return x.useEffect(()=>{if(!t){i({to:"/login"});return}},[t,i]),y.jsx(Nu,{mode:"wait",children:n!==null?y.jsx(jt.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.2},className:"h-screen",children:y.jsx($u,{backLabel:e("specieDetail.backToProfile")})},"detail"):y.jsx(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"h-screen overflow-auto",children:y.jsx("div",{className:"mx-auto max-w-7xl space-y-12 p-4",children:y.jsxs("div",{className:"grid grid-cols-1 gap-20 lg:grid-cols-3",children:[y.jsxs("div",{className:"space-y-10 md:space-y-16 lg:col-span-2",children:[y.jsx(kae,{}),y.jsx(Tae,{})]}),y.jsxs("div",{className:"space-y-10 md:space-y-16",children:[y.jsx(Nae,{}),y.jsx(Pae,{}),y.jsx(Mae,{})]})]})})},"profile")})},Lae=()=>(x.useEffect(()=>{(async()=>{try{await new Promise(t=>setTimeout(t,2e3));try{const t=new BroadcastChannel("supabase-auth");t.postMessage("oauth_complete"),t.close()}catch(t){console.warn(" [Popup] BroadcastChannel falhou:",t)}if(window.opener&&!window.opener.closed)try{window.opener.postMessage({type:"OAUTH_COMPLETE"},window.location.origin)}catch(t){console.warn(" [Popup] postMessage falhou:",t)}await new Promise(t=>setTimeout(t,500)),window.close()}catch(t){console.error(" [Popup] Erro:",t),setTimeout(()=>{window.close()},1e3)}})()},[]),y.jsx("div",{className:"flex min-h-screen items-center justify-center",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"mb-4 inline-flex h-16 w-16 items-center justify-center rounded-full bg-green-100",children:y.jsx("svg",{className:"h-8 w-8 animate-spin text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),y.jsx("h1",{className:"mb-2 text-xl font-semibold",children:"Finalizando autenticao..."}),y.jsx("p",{className:"text-muted-foreground text-sm",children:"Aguarde alguns segundos."})]})})),jae=({species:e,onClick:t,searchQuery:n,onImageResolved:i})=>{const{t:s}=At(),{specieName:o,familyName:l,isLoading:c}=ov(e.key),d=!c&&o!==""?o:void 0,{data:h,isLoading:m}=uh(e.key,d),v=c||m;if(x.useEffect(()=>{v||i?.(e.key,!!h?.imgUrl)},[v]),!v&&n?.trim()){const b=n.toLowerCase();if(!o.toLowerCase().includes(b)&&!l.toLowerCase().includes(b))return null}return y.jsxs("div",{onClick:t,className:"group bg-card relative cursor-pointer overflow-hidden rounded-xl border shadow-md transition-all duration-300 hover:shadow-2xl",children:[y.jsxs("div",{className:"bg-muted relative w-full overflow-hidden",children:[v?y.jsx("div",{className:"flex aspect-4/3 items-center justify-center",children:y.jsx(WO,{className:"text-muted-foreground size-8 animate-spin"})}):h?.imgUrl?y.jsxs(y.Fragment,{children:[y.jsx("img",{src:h.imgUrl,alt:o,className:"h-auto w-full object-cover transition-transform duration-500 group-hover:scale-105",loading:"lazy"}),y.jsx("div",{className:"absolute inset-0 bg-linear-to-t from-black/60 via-black/10 to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"})]}):y.jsxs("div",{className:"text-muted-foreground flex aspect-4/3 flex-col items-center justify-center",children:[y.jsx(qO,{className:"mb-2 size-12"}),y.jsx("p",{className:"text-xs",children:s("gallery.noImage")})]}),e.fav&&y.jsx("div",{className:"bg-card/95 absolute top-2 right-2 rounded-full p-1.5 shadow-lg backdrop-blur-sm",children:y.jsx(Km,{className:"size-4 fill-red-500 text-red-500"})})]}),y.jsxs("div",{className:"p-3",children:[y.jsx("h3",{className:"text-foreground group-hover:text-primary mb-1 line-clamp-2 text-sm font-semibold italic transition-colors",children:o}),y.jsx("p",{className:"text-muted-foreground line-clamp-1 text-xs",children:l})]}),y.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-xl border-2 border-transparent transition-colors group-hover:border-blue-500"})]})},hx=20,Iae=()=>{const[e,t]=x.useState(1);return x.useEffect(()=>{const n=()=>{const i=window.innerWidth;i>=1280?t(5):i>=1024?t(4):i>=768?t(3):i>=640?t(2):t(1)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e},zae=()=>{const{t:e}=At(),t=Ei(),n=Me(st.userDb),i=Lt(La),s=Iae(),o=x.useMemo(()=>n?.game_info?.seen_species??[],[n]),[l,c]=x.useState(""),[d,h]=x.useState(!1),[m,v]=x.useState("newest"),[b,_]=x.useState(!0),[C,E]=x.useState({}),[T,N]=x.useState(hx),k=x.useRef(null),O=x.useRef(null),M=x.useCallback((Z,ie)=>{E(ye=>ye[Z]===ie?ye:{...ye,[Z]:ie})},[]),j=x.useMemo(()=>{let Z=[...o];return d&&(Z=Z.filter(ie=>ie.fav)),Z.sort((ie,ye)=>{if(b){const ne=C[ie.key]===!1,de=C[ye.key]===!1;if(ne!==de)return ne?1:-1}const G=new Date(ie.date).getTime(),X=new Date(ye.date).getTime();return m==="newest"?X-G:G-X}),Z},[o,d,m,b,C]),V=j.slice(0,T),z=T<j.length,I=x.useMemo(()=>{const Z=Array.from({length:s},()=>[]);return V.forEach((ie,ye)=>{Z[ye%s].push({species:ie,globalIndex:ye})}),Z},[V,s]);x.useEffect(()=>{N(hx)},[d,m,b,l]),x.useEffect(()=>{if(!z||!O.current||!k.current)return;const Z=new IntersectionObserver(ie=>{ie[0].isIntersecting&&N(ye=>ye+hx)},{root:k.current,rootMargin:"200px"});return Z.observe(O.current),()=>Z.disconnect()},[z,T]);const $=x.useCallback(()=>{i(null),t({to:"/profile"})},[t,i]),Y=x.useCallback(Z=>{i(Z.key)},[i]),q=x.useCallback(()=>{h(Z=>!Z)},[]),W=o.filter(Z=>Z.fav).length;return n?y.jsxs("div",{className:"bg-background fixed inset-0 z-50 flex flex-col",children:[y.jsxs(jt.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"bg-background/95 relative z-10 border-b backdrop-blur-sm",children:[y.jsxs("div",{className:"mx-auto flex max-w-7xl items-center gap-3 px-4 pt-3 pb-2",children:[y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("h1",{className:"text-base leading-tight font-bold",children:e("gallery.title")}),y.jsxs("span",{className:"text-muted-foreground text-xs",children:[j.length===o.length?`${o.length} ${e("gallery.species")}`:`${j.length} ${e("gallery.of")} ${o.length}`,W>0&&y.jsxs("span",{className:"ml-1.5",children:[" ",W," ",y.jsx(Km,{className:"inline size-3 fill-current text-red-500"})]})]})]}),y.jsx(Ht,{onClick:$,variant:"ghost",size:"icon",className:"size-8 shrink-0",children:y.jsx(Da,{className:"size-4"})})]}),y.jsxs("div",{className:"mx-auto flex max-w-7xl items-center gap-2 px-4 pb-3",children:[y.jsxs("div",{className:"relative min-w-0 flex-1",children:[y.jsx(ZO,{className:"text-muted-foreground absolute top-1/2 left-3 size-3.5 -translate-y-1/2"}),y.jsx("input",{type:"text",placeholder:e("gallery.searchPlaceholder"),value:l,onChange:Z=>c(Z.target.value),className:"bg-muted/50 focus:bg-background focus:border-border h-8 w-full rounded-lg border border-transparent pl-8 text-sm transition-colors outline-none"})]}),y.jsxs("div",{className:"flex shrink-0 items-center gap-1.5",children:[y.jsxs(gP,{children:[y.jsx(vP,{asChild:!0,children:y.jsxs(Ht,{variant:"outline",size:"sm",className:"h-8 gap-1.5 px-2.5",children:[y.jsx(H$,{className:"size-3.5"}),y.jsx("span",{className:"hidden text-xs sm:inline",children:e(m==="newest"?"gallery.newest":"gallery.oldest")})]})}),y.jsxs(yP,{align:"end",children:[y.jsx(Xi,{onClick:()=>v("newest"),children:e("gallery.newestFirst")}),y.jsx(Xi,{onClick:()=>v("oldest"),children:e("gallery.oldestFirst")})]})]}),y.jsxs(Ht,{onClick:()=>_(Z=>!Z),variant:b?"secondary":"ghost",size:"sm",className:"h-8 gap-1.5 px-2.5",title:e("gallery.photosFirst"),children:[y.jsx(qO,{className:"size-3.5"}),y.jsx("span",{className:"hidden text-xs sm:inline",children:e("gallery.photosFirst")})]}),y.jsxs(Ht,{onClick:q,variant:d?"secondary":"ghost",size:"sm",className:"h-8 gap-1.5 px-2.5",children:[y.jsx(Km,{className:`size-3.5 ${d?"fill-current text-red-500":""}`}),y.jsx("span",{className:"hidden text-xs sm:inline",children:e("gallery.favorites")})]})]})]})]}),y.jsx("div",{ref:k,className:"flex-1 overflow-y-auto",children:j.length===0?y.jsx("div",{className:"flex h-full items-center justify-center",children:y.jsxs("div",{className:"text-muted-foreground text-center",children:[y.jsx(T_,{className:"mx-auto mb-3 size-16 opacity-30"}),y.jsx("p",{className:"mb-1 text-lg font-medium",children:e("gallery.noSpeciesFound")}),y.jsx("p",{className:"text-sm",children:e(d?"gallery.noFavorites":"gallery.adjustFilters")})]})}):y.jsx("div",{className:"p-4 md:p-6 lg:p-8",children:y.jsxs("div",{className:"mx-auto max-w-7xl",children:[y.jsx("div",{className:"flex gap-4",children:I.map((Z,ie)=>y.jsx("div",{className:"flex min-w-0 flex-1 flex-col gap-4",children:Z.map(({species:ye,globalIndex:G})=>y.jsx(jt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:G*.02,duration:.25},children:y.jsx(jae,{species:ye,onClick:()=>Y(ye),searchQuery:l,onImageResolved:M})},ye.key))},ie))}),z&&y.jsx("div",{ref:O,className:"h-4"})]})})})]}):null},Bae=()=>{const e=Me(La);return y.jsx(Nu,{mode:"wait",children:e===null?y.jsx(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:y.jsx(zae,{})},"gallery"):y.jsx(jt.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.2},children:y.jsx($u,{})},"detail")})},Uae="/treevera/assets/avif-new-fav-icon-ViAcN2Tf.avif";function Fae(){const e=Ei();return y.jsx("div",{className:"relative flex min-h-screen flex-col items-center justify-center px-4 text-center",children:y.jsxs("div",{className:"flex max-w-md flex-col items-center gap-6",children:[y.jsx(Ln,{alt:"Logo Treevera",src:Uae,className:"size-20 rounded-full opacity-60"}),y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx("p",{className:"text-muted-foreground/60 text-sm font-medium tracking-widest uppercase",children:"Erro 404"}),y.jsx("h1",{className:"text-foreground text-3xl font-bold",children:"Pgina no encontrada"}),y.jsx("p",{className:"text-muted-foreground mt-1 text-base leading-relaxed",children:"Este galho no leva a lugar nenhum. A pgina pode ter sido movida ou nunca existiu."})]}),y.jsxs("button",{onClick:()=>{e({to:"/"})},className:"bg-primary text-primary-foreground hover:bg-primary/90 flex items-center gap-2 rounded-lg px-6 py-2.5 text-sm font-medium transition-colors",children:[y.jsx(Lg,{className:"h-4 w-4"}),"Voltar para a pgina inicial"]})]})})}const gi=y3({component:Ure,notFoundComponent:Fae}),Vae=mi({getParentRoute:()=>gi,path:"/",component:qs}),$ae=mi({getParentRoute:()=>gi,path:"/tree",component:qs}),Hae=mi({getParentRoute:()=>gi,path:"/tree/$level1",component:qs}),Gae=mi({getParentRoute:()=>gi,path:"/tree/$level1/$level2",component:qs}),Kae=mi({getParentRoute:()=>gi,path:"/tree/$level1/$level2/$level3",component:qs}),qae=mi({getParentRoute:()=>gi,path:"/tree/$level1/$level2/$level3/$level4",component:qs}),Wae=mi({getParentRoute:()=>gi,path:"/tree/$level1/$level2/$level3/$level4/$level5",component:qs}),Yae=mi({getParentRoute:()=>gi,path:"/tree/$level1/$level2/$level3/$level4/$level5/$level6",component:qs}),Zae=mi({getParentRoute:()=>gi,path:"/tree/$level1/$level2/$level3/$level4/$level5/$level6/$level7",component:qs}),Xae=mi({getParentRoute:()=>gi,path:"/auth-callback",component:Lae}),Qae=mi({getParentRoute:()=>gi,path:"/login",component:Bre,beforeLoad:()=>{const e=Wf(),t=e.get(st.initialized),n=e.get(st.isAuthenticated);if(t&&n)throw xg({to:"/profile"})}}),Jae=mi({getParentRoute:()=>gi,path:"/profile",component:Dae,beforeLoad:()=>{const e=Wf(),t=e.get(st.initialized),n=e.get(st.isAuthenticated);if(t&&!n)throw xg({to:"/login"})}}),ele=mi({getParentRoute:()=>gi,path:"/profile/species-gallery",component:Bae,beforeLoad:()=>{const e=Wf(),t=e.get(st.initialized),n=e.get(st.isAuthenticated);if(t&&!n)throw xg({to:"/login"})}}),tle=mi({getParentRoute:()=>gi,path:"/challenges",component:qs}),nle=mi({getParentRoute:()=>gi,path:"/challenges/daily/in-progress",component:qs}),ile=mi({getParentRoute:()=>gi,path:"/challenges/random/in-progress",component:qs}),sle=gi.addChildren([Qae,Vae,$ae,Hae,Gae,Kae,qae,Wae,Yae,Zae,Xae,Jae,ele,tle,nle,ile]),rle=A3({routeTree:sle,basepath:"/treevera"}),ole=()=>{const e=Q_(),{t}=At(),{isInitializing:n}=I_();return e?y.jsx("div",{children:t("loading.restoringCache")}):n?y.jsx("div",{children:t("loading.initializing")}):y.jsx(k3,{router:rle})};var ale=["added","removed","updated"];function Lk(e){return ale.includes(e)}async function lle({queryClient:e,persister:t,maxAge:n=1e3*60*60*24,buster:i="",hydrateOptions:s}){try{const o=await t.restoreClient();if(o)if(o.timestamp){const l=Date.now()-o.timestamp>n,c=o.buster!==i;if(l||c)return t.removeClient();DY(e,o.clientState,s)}else return t.removeClient()}catch(o){throw await t.removeClient(),o}}async function jk({queryClient:e,persister:t,buster:n="",dehydrateOptions:i}){const s={buster:n,timestamp:Date.now(),clientState:MY(e,i)};await t.persistClient(s)}function cle(e){const t=e.queryClient.getQueryCache().subscribe(i=>{Lk(i.type)&&jk(e)}),n=e.queryClient.getMutationCache().subscribe(i=>{Lk(i.type)&&jk(e)});return()=>{t(),n()}}var ule=({children:e,persistOptions:t,onSuccess:n,onError:i,...s})=>{const[o,l]=x.useState(!0),c=x.useRef({persistOptions:t,onSuccess:n,onError:i}),d=x.useRef(!1);return x.useEffect(()=>{c.current={persistOptions:t,onSuccess:n,onError:i}}),x.useEffect(()=>{const h={...c.current.persistOptions,queryClient:s.client};return d.current||(d.current=!0,lle(h).then(()=>c.current.onSuccess?.()).catch(()=>c.current.onError?.()).finally(()=>{l(!1)})),o?void 0:cle(h)},[s.client,o]),y.jsx(YY,{...s,children:y.jsx(ZY,{value:o,children:e})})};function H0(){}function dle(e,{interval:t=1e3,onError:n=H0}={}){if(typeof e!="function")throw new Error("argument is not function.");let i=0,s=null,o=!1,l=!1;return async(...c)=>{if(s=c,!l){for(l=!0;o;)await new Promise(d=>No.setTimeout(d,t));for(;Date.now()<i;)await new Promise(d=>No.setTimeout(d,i-Date.now()));l=!1,o=!0;try{await e(...s)}catch(d){try{n(d)}catch{}}i=Date.now()+t,o=!1}}}var fle=({storage:e,key:t="REACT_QUERY_OFFLINE_CACHE",throttleTime:n=1e3,serialize:i=JSON.stringify,deserialize:s=JSON.parse,retry:o})=>{if(e){const l=async c=>{try{const d=await i(c);await e.setItem(t,d);return}catch(d){return d}};return{persistClient:dle(async c=>{let d=c,h=await l(d),m=0;for(;h&&d;)m++,d=await o?.({persistedClient:d,error:h,errorCount:m}),d&&(h=await l(d))},{interval:n}),restoreClient:async()=>{const c=await e.getItem(t);if(c)return await s(c)},removeClient:()=>e.removeItem(t)}}return{persistClient:H0,restoreClient:()=>Promise.resolve(void 0),removeClient:H0}};function hm(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var px={exports:{}};var Ik;function hle(){return Ik||(Ik=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(i,s,o){function l(h,m){if(!s[h]){if(!i[h]){var v=typeof hm=="function"&&hm;if(!m&&v)return v(h,!0);if(c)return c(h,!0);var b=new Error("Cannot find module '"+h+"'");throw b.code="MODULE_NOT_FOUND",b}var _=s[h]={exports:{}};i[h][0].call(_.exports,function(C){var E=i[h][1][C];return l(E||C)},_,_.exports,n,i,s,o)}return s[h].exports}for(var c=typeof hm=="function"&&hm,d=0;d<o.length;d++)l(o[d]);return l})({1:[function(n,i,s){(function(o){var l=o.MutationObserver||o.WebKitMutationObserver,c;if(l){var d=0,h=new l(C),m=o.document.createTextNode("");h.observe(m,{characterData:!0}),c=function(){m.data=d=++d%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var v=new o.MessageChannel;v.port1.onmessage=C,c=function(){v.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?c=function(){var T=o.document.createElement("script");T.onreadystatechange=function(){C(),T.onreadystatechange=null,T.parentNode.removeChild(T),T=null},o.document.documentElement.appendChild(T)}:c=function(){setTimeout(C,0)};var b,_=[];function C(){b=!0;for(var T,N,k=_.length;k;){for(N=_,_=[],T=-1;++T<k;)N[T]();k=_.length}b=!1}i.exports=E;function E(T){_.push(T)===1&&!b&&c()}}).call(this,typeof zp<"u"?zp:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,i,s){var o=n(1);function l(){}var c={},d=["REJECTED"],h=["FULFILLED"],m=["PENDING"];i.exports=v;function v(j){if(typeof j!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,j!==l&&E(this,j)}v.prototype.catch=function(j){return this.then(null,j)},v.prototype.then=function(j,V){if(typeof j!="function"&&this.state===h||typeof V!="function"&&this.state===d)return this;var z=new this.constructor(l);if(this.state!==m){var I=this.state===h?j:V;_(z,I,this.outcome)}else this.queue.push(new b(z,j,V));return z};function b(j,V,z){this.promise=j,typeof V=="function"&&(this.onFulfilled=V,this.callFulfilled=this.otherCallFulfilled),typeof z=="function"&&(this.onRejected=z,this.callRejected=this.otherCallRejected)}b.prototype.callFulfilled=function(j){c.resolve(this.promise,j)},b.prototype.otherCallFulfilled=function(j){_(this.promise,this.onFulfilled,j)},b.prototype.callRejected=function(j){c.reject(this.promise,j)},b.prototype.otherCallRejected=function(j){_(this.promise,this.onRejected,j)};function _(j,V,z){o(function(){var I;try{I=V(z)}catch($){return c.reject(j,$)}I===j?c.reject(j,new TypeError("Cannot resolve promise with itself")):c.resolve(j,I)})}c.resolve=function(j,V){var z=T(C,V);if(z.status==="error")return c.reject(j,z.value);var I=z.value;if(I)E(j,I);else{j.state=h,j.outcome=V;for(var $=-1,Y=j.queue.length;++$<Y;)j.queue[$].callFulfilled(V)}return j},c.reject=function(j,V){j.state=d,j.outcome=V;for(var z=-1,I=j.queue.length;++z<I;)j.queue[z].callRejected(V);return j};function C(j){var V=j&&j.then;if(j&&(typeof j=="object"||typeof j=="function")&&typeof V=="function")return function(){V.apply(j,arguments)}}function E(j,V){var z=!1;function I(W){z||(z=!0,c.reject(j,W))}function $(W){z||(z=!0,c.resolve(j,W))}function Y(){V($,I)}var q=T(Y);q.status==="error"&&I(q.value)}function T(j,V){var z={};try{z.value=j(V),z.status="success"}catch(I){z.status="error",z.value=I}return z}v.resolve=N;function N(j){return j instanceof this?j:c.resolve(new this(l),j)}v.reject=k;function k(j){var V=new this(l);return c.reject(V,j)}v.all=O;function O(j){var V=this;if(Object.prototype.toString.call(j)!=="[object Array]")return this.reject(new TypeError("must be an array"));var z=j.length,I=!1;if(!z)return this.resolve([]);for(var $=new Array(z),Y=0,q=-1,W=new this(l);++q<z;)Z(j[q],q);return W;function Z(ie,ye){V.resolve(ie).then(G,function(X){I||(I=!0,c.reject(W,X))});function G(X){$[ye]=X,++Y===z&&!I&&(I=!0,c.resolve(W,$))}}}v.race=M;function M(j){var V=this;if(Object.prototype.toString.call(j)!=="[object Array]")return this.reject(new TypeError("must be an array"));var z=j.length,I=!1;if(!z)return this.resolve([]);for(var $=-1,Y=new this(l);++$<z;)q(j[$]);return Y;function q(W){V.resolve(W).then(function(Z){I||(I=!0,c.resolve(Y,Z))},function(Z){I||(I=!0,c.reject(Y,Z))})}}},{1:1}],3:[function(n,i,s){(function(o){typeof o.Promise!="function"&&(o.Promise=n(2))}).call(this,typeof zp<"u"?zp:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,i,s){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U};function l(U,ee){if(!(U instanceof ee))throw new TypeError("Cannot call a class as a function")}function c(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var d=c();function h(){try{if(!d||!d.open)return!1;var U=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),ee=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!U||ee)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function m(U,ee){U=U||[],ee=ee||{};try{return new Blob(U,ee)}catch(J){if(J.name!=="TypeError")throw J;for(var H=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,re=new H,le=0;le<U.length;le+=1)re.append(U[le]);return re.getBlob(ee.type)}}typeof Promise>"u"&&n(3);var v=Promise;function b(U,ee){ee&&U.then(function(H){ee(null,H)},function(H){ee(H)})}function _(U,ee,H){typeof ee=="function"&&U.then(ee),typeof H=="function"&&U.catch(H)}function C(U){return typeof U!="string"&&(console.warn(U+" used as a key, but it is not a string."),U=String(U)),U}function E(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var T="local-forage-detect-blob-support",N=void 0,k={},O=Object.prototype.toString,M="readonly",j="readwrite";function V(U){for(var ee=U.length,H=new ArrayBuffer(ee),re=new Uint8Array(H),le=0;le<ee;le++)re[le]=U.charCodeAt(le);return H}function z(U){return new v(function(ee){var H=U.transaction(T,j),re=m([""]);H.objectStore(T).put(re,"key"),H.onabort=function(le){le.preventDefault(),le.stopPropagation(),ee(!1)},H.oncomplete=function(){var le=navigator.userAgent.match(/Chrome\/(\d+)/),J=navigator.userAgent.match(/Edge\//);ee(J||!le||parseInt(le[1],10)>=43)}}).catch(function(){return!1})}function I(U){return typeof N=="boolean"?v.resolve(N):z(U).then(function(ee){return N=ee,N})}function $(U){var ee=k[U.name],H={};H.promise=new v(function(re,le){H.resolve=re,H.reject=le}),ee.deferredOperations.push(H),ee.dbReady?ee.dbReady=ee.dbReady.then(function(){return H.promise}):ee.dbReady=H.promise}function Y(U){var ee=k[U.name],H=ee.deferredOperations.pop();if(H)return H.resolve(),H.promise}function q(U,ee){var H=k[U.name],re=H.deferredOperations.pop();if(re)return re.reject(ee),re.promise}function W(U,ee){return new v(function(H,re){if(k[U.name]=k[U.name]||oe(),U.db)if(ee)$(U),U.db.close();else return H(U.db);var le=[U.name];ee&&le.push(U.version);var J=d.open.apply(d,le);ee&&(J.onupgradeneeded=function(ge){var ke=J.result;try{ke.createObjectStore(U.storeName),ge.oldVersion<=1&&ke.createObjectStore(T)}catch(Ne){if(Ne.name==="ConstraintError")console.warn('The database "'+U.name+'" has been upgraded from version '+ge.oldVersion+" to version "+ge.newVersion+', but the storage "'+U.storeName+'" already exists.');else throw Ne}}),J.onerror=function(ge){ge.preventDefault(),re(J.error)},J.onsuccess=function(){var ge=J.result;ge.onversionchange=function(ke){ke.target.close()},H(ge),Y(U)}})}function Z(U){return W(U,!1)}function ie(U){return W(U,!0)}function ye(U,ee){if(!U.db)return!0;var H=!U.db.objectStoreNames.contains(U.storeName),re=U.version<U.db.version,le=U.version>U.db.version;if(re&&(U.version!==ee&&console.warn('The database "'+U.name+`" can't be downgraded from version `+U.db.version+" to version "+U.version+"."),U.version=U.db.version),le||H){if(H){var J=U.db.version+1;J>U.version&&(U.version=J)}return!0}return!1}function G(U){return new v(function(ee,H){var re=new FileReader;re.onerror=H,re.onloadend=function(le){var J=btoa(le.target.result||"");ee({__local_forage_encoded_blob:!0,data:J,type:U.type})},re.readAsBinaryString(U)})}function X(U){var ee=V(atob(U.data));return m([ee],{type:U.type})}function ne(U){return U&&U.__local_forage_encoded_blob}function de(U){var ee=this,H=ee._initReady().then(function(){var re=k[ee._dbInfo.name];if(re&&re.dbReady)return re.dbReady});return _(H,U,U),H}function ae(U){$(U);for(var ee=k[U.name],H=ee.forages,re=0;re<H.length;re++){var le=H[re];le._dbInfo.db&&(le._dbInfo.db.close(),le._dbInfo.db=null)}return U.db=null,Z(U).then(function(J){return U.db=J,ye(U)?ie(U):J}).then(function(J){U.db=ee.db=J;for(var ge=0;ge<H.length;ge++)H[ge]._dbInfo.db=J}).catch(function(J){throw q(U,J),J})}function K(U,ee,H,re){re===void 0&&(re=1);try{var le=U.db.transaction(U.storeName,ee);H(null,le)}catch(J){if(re>0&&(!U.db||J.name==="InvalidStateError"||J.name==="NotFoundError"))return v.resolve().then(function(){if(!U.db||J.name==="NotFoundError"&&!U.db.objectStoreNames.contains(U.storeName)&&U.version<=U.db.version)return U.db&&(U.version=U.db.version+1),ie(U)}).then(function(){return ae(U).then(function(){K(U,ee,H,re-1)})}).catch(H);H(J)}}function oe(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function be(U){var ee=this,H={db:null};if(U)for(var re in U)H[re]=U[re];var le=k[H.name];le||(le=oe(),k[H.name]=le),le.forages.push(ee),ee._initReady||(ee._initReady=ee.ready,ee.ready=de);var J=[];function ge(){return v.resolve()}for(var ke=0;ke<le.forages.length;ke++){var Ne=le.forages[ke];Ne!==ee&&J.push(Ne._initReady().catch(ge))}var Ee=le.forages.slice(0);return v.all(J).then(function(){return H.db=le.db,Z(H)}).then(function(Oe){return H.db=Oe,ye(H,ee._defaultConfig.version)?ie(H):Oe}).then(function(Oe){H.db=le.db=Oe,ee._dbInfo=H;for(var Be=0;Be<Ee.length;Be++){var et=Ee[Be];et!==ee&&(et._dbInfo.db=H.db,et._dbInfo.version=H.version)}})}function xe(U,ee){var H=this;U=C(U);var re=new v(function(le,J){H.ready().then(function(){K(H._dbInfo,M,function(ge,ke){if(ge)return J(ge);try{var Ne=ke.objectStore(H._dbInfo.storeName),Ee=Ne.get(U);Ee.onsuccess=function(){var Oe=Ee.result;Oe===void 0&&(Oe=null),ne(Oe)&&(Oe=X(Oe)),le(Oe)},Ee.onerror=function(){J(Ee.error)}}catch(Oe){J(Oe)}})}).catch(J)});return b(re,ee),re}function Re(U,ee){var H=this,re=new v(function(le,J){H.ready().then(function(){K(H._dbInfo,M,function(ge,ke){if(ge)return J(ge);try{var Ne=ke.objectStore(H._dbInfo.storeName),Ee=Ne.openCursor(),Oe=1;Ee.onsuccess=function(){var Be=Ee.result;if(Be){var et=Be.value;ne(et)&&(et=X(et));var qe=U(et,Be.key,Oe++);qe!==void 0?le(qe):Be.continue()}else le()},Ee.onerror=function(){J(Ee.error)}}catch(Be){J(Be)}})}).catch(J)});return b(re,ee),re}function we(U,ee,H){var re=this;U=C(U);var le=new v(function(J,ge){var ke;re.ready().then(function(){return ke=re._dbInfo,O.call(ee)==="[object Blob]"?I(ke.db).then(function(Ne){return Ne?ee:G(ee)}):ee}).then(function(Ne){K(re._dbInfo,j,function(Ee,Oe){if(Ee)return ge(Ee);try{var Be=Oe.objectStore(re._dbInfo.storeName);Ne===null&&(Ne=void 0);var et=Be.put(Ne,U);Oe.oncomplete=function(){Ne===void 0&&(Ne=null),J(Ne)},Oe.onabort=Oe.onerror=function(){var qe=et.error?et.error:et.transaction.error;ge(qe)}}catch(qe){ge(qe)}})}).catch(ge)});return b(le,H),le}function Se(U,ee){var H=this;U=C(U);var re=new v(function(le,J){H.ready().then(function(){K(H._dbInfo,j,function(ge,ke){if(ge)return J(ge);try{var Ne=ke.objectStore(H._dbInfo.storeName),Ee=Ne.delete(U);ke.oncomplete=function(){le()},ke.onerror=function(){J(Ee.error)},ke.onabort=function(){var Oe=Ee.error?Ee.error:Ee.transaction.error;J(Oe)}}catch(Oe){J(Oe)}})}).catch(J)});return b(re,ee),re}function je(U){var ee=this,H=new v(function(re,le){ee.ready().then(function(){K(ee._dbInfo,j,function(J,ge){if(J)return le(J);try{var ke=ge.objectStore(ee._dbInfo.storeName),Ne=ke.clear();ge.oncomplete=function(){re()},ge.onabort=ge.onerror=function(){var Ee=Ne.error?Ne.error:Ne.transaction.error;le(Ee)}}catch(Ee){le(Ee)}})}).catch(le)});return b(H,U),H}function De(U){var ee=this,H=new v(function(re,le){ee.ready().then(function(){K(ee._dbInfo,M,function(J,ge){if(J)return le(J);try{var ke=ge.objectStore(ee._dbInfo.storeName),Ne=ke.count();Ne.onsuccess=function(){re(Ne.result)},Ne.onerror=function(){le(Ne.error)}}catch(Ee){le(Ee)}})}).catch(le)});return b(H,U),H}function Le(U,ee){var H=this,re=new v(function(le,J){if(U<0){le(null);return}H.ready().then(function(){K(H._dbInfo,M,function(ge,ke){if(ge)return J(ge);try{var Ne=ke.objectStore(H._dbInfo.storeName),Ee=!1,Oe=Ne.openKeyCursor();Oe.onsuccess=function(){var Be=Oe.result;if(!Be){le(null);return}U===0||Ee?le(Be.key):(Ee=!0,Be.advance(U))},Oe.onerror=function(){J(Oe.error)}}catch(Be){J(Be)}})}).catch(J)});return b(re,ee),re}function Ze(U){var ee=this,H=new v(function(re,le){ee.ready().then(function(){K(ee._dbInfo,M,function(J,ge){if(J)return le(J);try{var ke=ge.objectStore(ee._dbInfo.storeName),Ne=ke.openKeyCursor(),Ee=[];Ne.onsuccess=function(){var Oe=Ne.result;if(!Oe){re(Ee);return}Ee.push(Oe.key),Oe.continue()},Ne.onerror=function(){le(Ne.error)}}catch(Oe){le(Oe)}})}).catch(le)});return b(H,U),H}function Xe(U,ee){ee=E.apply(this,arguments);var H=this.config();U=typeof U!="function"&&U||{},U.name||(U.name=U.name||H.name,U.storeName=U.storeName||H.storeName);var re=this,le;if(!U.name)le=v.reject("Invalid arguments");else{var J=U.name===H.name&&re._dbInfo.db,ge=J?v.resolve(re._dbInfo.db):Z(U).then(function(ke){var Ne=k[U.name],Ee=Ne.forages;Ne.db=ke;for(var Oe=0;Oe<Ee.length;Oe++)Ee[Oe]._dbInfo.db=ke;return ke});U.storeName?le=ge.then(function(ke){if(ke.objectStoreNames.contains(U.storeName)){var Ne=ke.version+1;$(U);var Ee=k[U.name],Oe=Ee.forages;ke.close();for(var Be=0;Be<Oe.length;Be++){var et=Oe[Be];et._dbInfo.db=null,et._dbInfo.version=Ne}var qe=new v(function(dt,Ut){var Et=d.open(U.name,Ne);Et.onerror=function(Qn){var Fi=Et.result;Fi.close(),Ut(Qn)},Et.onupgradeneeded=function(){var Qn=Et.result;Qn.deleteObjectStore(U.storeName)},Et.onsuccess=function(){var Qn=Et.result;Qn.close(),dt(Qn)}});return qe.then(function(dt){Ee.db=dt;for(var Ut=0;Ut<Oe.length;Ut++){var Et=Oe[Ut];Et._dbInfo.db=dt,Y(Et._dbInfo)}}).catch(function(dt){throw(q(U,dt)||v.resolve()).catch(function(){}),dt})}}):le=ge.then(function(ke){$(U);var Ne=k[U.name],Ee=Ne.forages;ke.close();for(var Oe=0;Oe<Ee.length;Oe++){var Be=Ee[Oe];Be._dbInfo.db=null}var et=new v(function(qe,dt){var Ut=d.deleteDatabase(U.name);Ut.onerror=function(){var Et=Ut.result;Et&&Et.close(),dt(Ut.error)},Ut.onblocked=function(){console.warn('dropInstance blocked for database "'+U.name+'" until all open connections are closed')},Ut.onsuccess=function(){var Et=Ut.result;Et&&Et.close(),qe(Et)}});return et.then(function(qe){Ne.db=qe;for(var dt=0;dt<Ee.length;dt++){var Ut=Ee[dt];Y(Ut._dbInfo)}}).catch(function(qe){throw(q(U,qe)||v.resolve()).catch(function(){}),qe})})}return b(le,ee),le}var Ct={_driver:"asyncStorage",_initStorage:be,_support:h(),iterate:Re,getItem:xe,setItem:we,removeItem:Se,clear:je,length:De,key:Le,keys:Ze,dropInstance:Xe};function yt(){return typeof openDatabase=="function"}var zt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dn="~~local_forage_type~",fn=/^~~local_forage_type~([^~]+)~/,In="__lfsc__:",_n=In.length,wn="arbf",Kn="blob",Ti="si08",Es="ui08",sn="uic8",Sr="si16",bt="si32",Tt="ur16",Bt="ui32",Ri="fl32",Ws="fl64",vi=_n+wn.length,Jr=Object.prototype.toString;function ts(U){var ee=U.length*.75,H=U.length,re,le=0,J,ge,ke,Ne;U[U.length-1]==="="&&(ee--,U[U.length-2]==="="&&ee--);var Ee=new ArrayBuffer(ee),Oe=new Uint8Array(Ee);for(re=0;re<H;re+=4)J=zt.indexOf(U[re]),ge=zt.indexOf(U[re+1]),ke=zt.indexOf(U[re+2]),Ne=zt.indexOf(U[re+3]),Oe[le++]=J<<2|ge>>4,Oe[le++]=(ge&15)<<4|ke>>2,Oe[le++]=(ke&3)<<6|Ne&63;return Ee}function rn(U){var ee=new Uint8Array(U),H="",re;for(re=0;re<ee.length;re+=3)H+=zt[ee[re]>>2],H+=zt[(ee[re]&3)<<4|ee[re+1]>>4],H+=zt[(ee[re+1]&15)<<2|ee[re+2]>>6],H+=zt[ee[re+2]&63];return ee.length%3===2?H=H.substring(0,H.length-1)+"=":ee.length%3===1&&(H=H.substring(0,H.length-2)+"=="),H}function si(U,ee){var H="";if(U&&(H=Jr.call(U)),U&&(H==="[object ArrayBuffer]"||U.buffer&&Jr.call(U.buffer)==="[object ArrayBuffer]")){var re,le=In;U instanceof ArrayBuffer?(re=U,le+=wn):(re=U.buffer,H==="[object Int8Array]"?le+=Ti:H==="[object Uint8Array]"?le+=Es:H==="[object Uint8ClampedArray]"?le+=sn:H==="[object Int16Array]"?le+=Sr:H==="[object Uint16Array]"?le+=Tt:H==="[object Int32Array]"?le+=bt:H==="[object Uint32Array]"?le+=Bt:H==="[object Float32Array]"?le+=Ri:H==="[object Float64Array]"?le+=Ws:ee(new Error("Failed to get type for BinaryArray"))),ee(le+rn(re))}else if(H==="[object Blob]"){var J=new FileReader;J.onload=function(){var ge=dn+U.type+"~"+rn(this.result);ee(In+Kn+ge)},J.readAsArrayBuffer(U)}else try{ee(JSON.stringify(U))}catch(ge){console.error("Couldn't convert value into a JSON string: ",U),ee(null,ge)}}function En(U){if(U.substring(0,_n)!==In)return JSON.parse(U);var ee=U.substring(vi),H=U.substring(_n,vi),re;if(H===Kn&&fn.test(ee)){var le=ee.match(fn);re=le[1],ee=ee.substring(le[0].length)}var J=ts(ee);switch(H){case wn:return J;case Kn:return m([J],{type:re});case Ti:return new Int8Array(J);case Es:return new Uint8Array(J);case sn:return new Uint8ClampedArray(J);case Sr:return new Int16Array(J);case Tt:return new Uint16Array(J);case bt:return new Int32Array(J);case Bt:return new Uint32Array(J);case Ri:return new Float32Array(J);case Ws:return new Float64Array(J);default:throw new Error("Unkown type: "+H)}}var ns={serialize:si,deserialize:En,stringToBuffer:ts,bufferToString:rn};function eo(U,ee,H,re){U.executeSql("CREATE TABLE IF NOT EXISTS "+ee.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],H,re)}function Ha(U){var ee=this,H={db:null};if(U)for(var re in U)H[re]=typeof U[re]!="string"?U[re].toString():U[re];var le=new v(function(J,ge){try{H.db=openDatabase(H.name,String(H.version),H.description,H.size)}catch(ke){return ge(ke)}H.db.transaction(function(ke){eo(ke,H,function(){ee._dbInfo=H,J()},function(Ne,Ee){ge(Ee)})},ge)});return H.serializer=ns,le}function qn(U,ee,H,re,le,J){U.executeSql(H,re,le,function(ge,ke){ke.code===ke.SYNTAX_ERR?ge.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[ee.storeName],function(Ne,Ee){Ee.rows.length?J(Ne,ke):eo(Ne,ee,function(){Ne.executeSql(H,re,le,J)},J)},J):J(ge,ke)},J)}function Ys(U,ee){var H=this;U=C(U);var re=new v(function(le,J){H.ready().then(function(){var ge=H._dbInfo;ge.db.transaction(function(ke){qn(ke,ge,"SELECT * FROM "+ge.storeName+" WHERE key = ? LIMIT 1",[U],function(Ne,Ee){var Oe=Ee.rows.length?Ee.rows.item(0).value:null;Oe&&(Oe=ge.serializer.deserialize(Oe)),le(Oe)},function(Ne,Ee){J(Ee)})})}).catch(J)});return b(re,ee),re}function Yt(U,ee){var H=this,re=new v(function(le,J){H.ready().then(function(){var ge=H._dbInfo;ge.db.transaction(function(ke){qn(ke,ge,"SELECT * FROM "+ge.storeName,[],function(Ne,Ee){for(var Oe=Ee.rows,Be=Oe.length,et=0;et<Be;et++){var qe=Oe.item(et),dt=qe.value;if(dt&&(dt=ge.serializer.deserialize(dt)),dt=U(dt,qe.key,et+1),dt!==void 0){le(dt);return}}le()},function(Ne,Ee){J(Ee)})})}).catch(J)});return b(re,ee),re}function Zt(U,ee,H,re){var le=this;U=C(U);var J=new v(function(ge,ke){le.ready().then(function(){ee===void 0&&(ee=null);var Ne=ee,Ee=le._dbInfo;Ee.serializer.serialize(ee,function(Oe,Be){Be?ke(Be):Ee.db.transaction(function(et){qn(et,Ee,"INSERT OR REPLACE INTO "+Ee.storeName+" (key, value) VALUES (?, ?)",[U,Oe],function(){ge(Ne)},function(qe,dt){ke(dt)})},function(et){if(et.code===et.QUOTA_ERR){if(re>0){ge(Zt.apply(le,[U,Ne,H,re-1]));return}ke(et)}})})}).catch(ke)});return b(J,H),J}function hn(U,ee,H){return Zt.apply(this,[U,ee,H,1])}function Wn(U,ee){var H=this;U=C(U);var re=new v(function(le,J){H.ready().then(function(){var ge=H._dbInfo;ge.db.transaction(function(ke){qn(ke,ge,"DELETE FROM "+ge.storeName+" WHERE key = ?",[U],function(){le()},function(Ne,Ee){J(Ee)})})}).catch(J)});return b(re,ee),re}function Yn(U){var ee=this,H=new v(function(re,le){ee.ready().then(function(){var J=ee._dbInfo;J.db.transaction(function(ge){qn(ge,J,"DELETE FROM "+J.storeName,[],function(){re()},function(ke,Ne){le(Ne)})})}).catch(le)});return b(H,U),H}function An(U){var ee=this,H=new v(function(re,le){ee.ready().then(function(){var J=ee._dbInfo;J.db.transaction(function(ge){qn(ge,J,"SELECT COUNT(key) as c FROM "+J.storeName,[],function(ke,Ne){var Ee=Ne.rows.item(0).c;re(Ee)},function(ke,Ne){le(Ne)})})}).catch(le)});return b(H,U),H}function Zn(U,ee){var H=this,re=new v(function(le,J){H.ready().then(function(){var ge=H._dbInfo;ge.db.transaction(function(ke){qn(ke,ge,"SELECT key FROM "+ge.storeName+" WHERE id = ? LIMIT 1",[U+1],function(Ne,Ee){var Oe=Ee.rows.length?Ee.rows.item(0).key:null;le(Oe)},function(Ne,Ee){J(Ee)})})}).catch(J)});return b(re,ee),re}function Xn(U){var ee=this,H=new v(function(re,le){ee.ready().then(function(){var J=ee._dbInfo;J.db.transaction(function(ge){qn(ge,J,"SELECT key FROM "+J.storeName,[],function(ke,Ne){for(var Ee=[],Oe=0;Oe<Ne.rows.length;Oe++)Ee.push(Ne.rows.item(Oe).key);re(Ee)},function(ke,Ne){le(Ne)})})}).catch(le)});return b(H,U),H}function on(U){return new v(function(ee,H){U.transaction(function(re){re.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(le,J){for(var ge=[],ke=0;ke<J.rows.length;ke++)ge.push(J.rows.item(ke).name);ee({db:U,storeNames:ge})},function(le,J){H(J)})},function(re){H(re)})})}function ki(U,ee){ee=E.apply(this,arguments);var H=this.config();U=typeof U!="function"&&U||{},U.name||(U.name=U.name||H.name,U.storeName=U.storeName||H.storeName);var re=this,le;return U.name?le=new v(function(J){var ge;U.name===H.name?ge=re._dbInfo.db:ge=openDatabase(U.name,"","",0),U.storeName?J({db:ge,storeNames:[U.storeName]}):J(on(ge))}).then(function(J){return new v(function(ge,ke){J.db.transaction(function(Ne){function Ee(qe){return new v(function(dt,Ut){Ne.executeSql("DROP TABLE IF EXISTS "+qe,[],function(){dt()},function(Et,Qn){Ut(Qn)})})}for(var Oe=[],Be=0,et=J.storeNames.length;Be<et;Be++)Oe.push(Ee(J.storeNames[Be]));v.all(Oe).then(function(){ge()}).catch(function(qe){ke(qe)})},function(Ne){ke(Ne)})})}):le=v.reject("Invalid arguments"),b(le,ee),le}var ri={_driver:"webSQLStorage",_initStorage:Ha,_support:yt(),iterate:Yt,getItem:Ys,setItem:hn,removeItem:Wn,clear:Yn,length:An,key:Zn,keys:Xn,dropInstance:ki};function yi(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function an(U,ee){var H=U.name+"/";return U.storeName!==ee.storeName&&(H+=U.storeName+"/"),H}function ze(){var U="_localforage_support_test";try{return localStorage.setItem(U,!0),localStorage.removeItem(U),!1}catch{return!0}}function bi(){return!ze()||localStorage.length>0}function is(U){var ee=this,H={};if(U)for(var re in U)H[re]=U[re];return H.keyPrefix=an(U,ee._defaultConfig),bi()?(ee._dbInfo=H,H.serializer=ns,v.resolve()):v.reject()}function oi(U){var ee=this,H=ee.ready().then(function(){for(var re=ee._dbInfo.keyPrefix,le=localStorage.length-1;le>=0;le--){var J=localStorage.key(le);J.indexOf(re)===0&&localStorage.removeItem(J)}});return b(H,U),H}function pn(U,ee){var H=this;U=C(U);var re=H.ready().then(function(){var le=H._dbInfo,J=localStorage.getItem(le.keyPrefix+U);return J&&(J=le.serializer.deserialize(J)),J});return b(re,ee),re}function Tn(U,ee){var H=this,re=H.ready().then(function(){for(var le=H._dbInfo,J=le.keyPrefix,ge=J.length,ke=localStorage.length,Ne=1,Ee=0;Ee<ke;Ee++){var Oe=localStorage.key(Ee);if(Oe.indexOf(J)===0){var Be=localStorage.getItem(Oe);if(Be&&(Be=le.serializer.deserialize(Be)),Be=U(Be,Oe.substring(ge),Ne++),Be!==void 0)return Be}}});return b(re,ee),re}function Zs(U,ee){var H=this,re=H.ready().then(function(){var le=H._dbInfo,J;try{J=localStorage.key(U)}catch{J=null}return J&&(J=J.substring(le.keyPrefix.length)),J});return b(re,ee),re}function As(U){var ee=this,H=ee.ready().then(function(){for(var re=ee._dbInfo,le=localStorage.length,J=[],ge=0;ge<le;ge++){var ke=localStorage.key(ge);ke.indexOf(re.keyPrefix)===0&&J.push(ke.substring(re.keyPrefix.length))}return J});return b(H,U),H}function rc(U){var ee=this,H=ee.keys().then(function(re){return re.length});return b(H,U),H}function Wu(U,ee){var H=this;U=C(U);var re=H.ready().then(function(){var le=H._dbInfo;localStorage.removeItem(le.keyPrefix+U)});return b(re,ee),re}function oc(U,ee,H){var re=this;U=C(U);var le=re.ready().then(function(){ee===void 0&&(ee=null);var J=ee;return new v(function(ge,ke){var Ne=re._dbInfo;Ne.serializer.serialize(ee,function(Ee,Oe){if(Oe)ke(Oe);else try{localStorage.setItem(Ne.keyPrefix+U,Ee),ge(J)}catch(Be){(Be.name==="QuotaExceededError"||Be.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ke(Be),ke(Be)}})})});return b(le,H),le}function to(U,ee){if(ee=E.apply(this,arguments),U=typeof U!="function"&&U||{},!U.name){var H=this.config();U.name=U.name||H.name,U.storeName=U.storeName||H.storeName}var re=this,le;return U.name?le=new v(function(J){U.storeName?J(an(U,re._defaultConfig)):J(U.name+"/")}).then(function(J){for(var ge=localStorage.length-1;ge>=0;ge--){var ke=localStorage.key(ge);ke.indexOf(J)===0&&localStorage.removeItem(ke)}}):le=v.reject("Invalid arguments"),b(le,ee),le}var Ga={_driver:"localStorageWrapper",_initStorage:is,_support:yi(),iterate:Tn,getItem:pn,setItem:oc,removeItem:Wu,clear:oi,length:rc,key:Zs,keys:As,dropInstance:to},Xs=function(ee,H){return ee===H||typeof ee=="number"&&typeof H=="number"&&isNaN(ee)&&isNaN(H)},Cr=function(ee,H){for(var re=ee.length,le=0;le<re;){if(Xs(ee[le],H))return!0;le++}return!1},ss=Array.isArray||function(U){return Object.prototype.toString.call(U)==="[object Array]"},zi={},ln={},Qs={INDEXEDDB:Ct,WEBSQL:ri,LOCALSTORAGE:Ga},ac=[Qs.INDEXEDDB._driver,Qs.WEBSQL._driver,Qs.LOCALSTORAGE._driver],Bi=["dropInstance"],Ui=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Bi),no={description:"",driver:ac.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Ka(U,ee){U[ee]=function(){var H=arguments;return U.ready().then(function(){return U[ee].apply(U,H)})}}function io(){for(var U=1;U<arguments.length;U++){var ee=arguments[U];if(ee)for(var H in ee)ee.hasOwnProperty(H)&&(ss(ee[H])?arguments[0][H]=ee[H].slice():arguments[0][H]=ee[H])}return arguments[0]}var so=(function(){function U(ee){l(this,U);for(var H in Qs)if(Qs.hasOwnProperty(H)){var re=Qs[H],le=re._driver;this[H]=le,zi[le]||this.defineDriver(re)}this._defaultConfig=io({},no),this._config=io({},this._defaultConfig,ee),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return U.prototype.config=function(H){if((typeof H>"u"?"undefined":o(H))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var re in H){if(re==="storeName"&&(H[re]=H[re].replace(/\W/g,"_")),re==="version"&&typeof H[re]!="number")return new Error("Database version must be a number.");this._config[re]=H[re]}return"driver"in H&&H.driver?this.setDriver(this._config.driver):!0}else return typeof H=="string"?this._config[H]:this._config},U.prototype.defineDriver=function(H,re,le){var J=new v(function(ge,ke){try{var Ne=H._driver,Ee=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!H._driver){ke(Ee);return}for(var Oe=Ui.concat("_initStorage"),Be=0,et=Oe.length;Be<et;Be++){var qe=Oe[Be],dt=!Cr(Bi,qe);if((dt||H[qe])&&typeof H[qe]!="function"){ke(Ee);return}}var Ut=function(){for(var Fi=function(Tr){return function(){var xi=new Error("Method "+Tr+" is not implemented by the current driver"),oo=v.reject(xi);return b(oo,arguments[arguments.length-1]),oo}},Er=0,ro=Bi.length;Er<ro;Er++){var Ar=Bi[Er];H[Ar]||(H[Ar]=Fi(Ar))}};Ut();var Et=function(Fi){zi[Ne]&&console.info("Redefining LocalForage driver: "+Ne),zi[Ne]=H,ln[Ne]=Fi,ge()};"_support"in H?H._support&&typeof H._support=="function"?H._support().then(Et,ke):Et(!!H._support):Et(!0)}catch(Qn){ke(Qn)}});return _(J,re,le),J},U.prototype.driver=function(){return this._driver||null},U.prototype.getDriver=function(H,re,le){var J=zi[H]?v.resolve(zi[H]):v.reject(new Error("Driver not found."));return _(J,re,le),J},U.prototype.getSerializer=function(H){var re=v.resolve(ns);return _(re,H),re},U.prototype.ready=function(H){var re=this,le=re._driverSet.then(function(){return re._ready===null&&(re._ready=re._initDriver()),re._ready});return _(le,H,H),le},U.prototype.setDriver=function(H,re,le){var J=this;ss(H)||(H=[H]);var ge=this._getSupportedDrivers(H);function ke(){J._config.driver=J.driver()}function Ne(Be){return J._extend(Be),ke(),J._ready=J._initStorage(J._config),J._ready}function Ee(Be){return function(){var et=0;function qe(){for(;et<Be.length;){var dt=Be[et];return et++,J._dbInfo=null,J._ready=null,J.getDriver(dt).then(Ne).catch(qe)}ke();var Ut=new Error("No available storage method found.");return J._driverSet=v.reject(Ut),J._driverSet}return qe()}}var Oe=this._driverSet!==null?this._driverSet.catch(function(){return v.resolve()}):v.resolve();return this._driverSet=Oe.then(function(){var Be=ge[0];return J._dbInfo=null,J._ready=null,J.getDriver(Be).then(function(et){J._driver=et._driver,ke(),J._wrapLibraryMethodsWithReady(),J._initDriver=Ee(ge)})}).catch(function(){ke();var Be=new Error("No available storage method found.");return J._driverSet=v.reject(Be),J._driverSet}),_(this._driverSet,re,le),this._driverSet},U.prototype.supports=function(H){return!!ln[H]},U.prototype._extend=function(H){io(this,H)},U.prototype._getSupportedDrivers=function(H){for(var re=[],le=0,J=H.length;le<J;le++){var ge=H[le];this.supports(ge)&&re.push(ge)}return re},U.prototype._wrapLibraryMethodsWithReady=function(){for(var H=0,re=Ui.length;H<re;H++)Ka(this,Ui[H])},U.prototype.createInstance=function(H){return new U(H)},U})(),ft=new so;i.exports=ft},{3:3}]},{},[4])(4)})})(px)),px.exports}var ple=hle();const mle=G0(ple),gle=new WY({defaultOptions:{queries:{gcTime:1e3*60*60*24,staleTime:1e3*60*5,retry:1,refetchOnWindowFocus:!1}}}),vle=mle.createInstance({name:"treevera-db",storeName:"react-query-cache"}),yle=fle({storage:vle,key:"treevera-react-query-cache",throttleTime:1e3});Pz.createRoot(document.getElementById("root")).render(y.jsx(x.StrictMode,{children:y.jsx(ule,{client:gle,persistOptions:{persister:yle},children:y.jsx(D8,{children:y.jsx(ole,{})})})}));
