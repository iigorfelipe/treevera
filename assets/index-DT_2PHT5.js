function pz(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(i,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Ip=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function V0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zy={exports:{}},Bd={};var ZE;function mz(){if(ZE)return Bd;ZE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:e,type:i,key:l,ref:s!==void 0?s:null,props:o}}return Bd.Fragment=t,Bd.jsx=n,Bd.jsxs=n,Bd}var XE;function gz(){return XE||(XE=1,Zy.exports=mz()),Zy.exports}var y=gz(),Xy={exports:{}},at={};var QE;function vz(){if(QE)return at;QE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function _(K){return K===null||typeof K!="object"?null:(K=b&&K[b]||K["@@iterator"],typeof K=="function"?K:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,R={};function N(K,ae,be){this.props=K,this.context=ae,this.refs=R,this.updater=be||C}N.prototype.isReactComponent={},N.prototype.setState=function(K,ae){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,ae,"setState")},N.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function k(){}k.prototype=N.prototype;function O(K,ae,be){this.props=K,this.context=ae,this.refs=R,this.updater=be||C}var M=O.prototype=new k;M.constructor=O,E(M,N.prototype),M.isPureReactComponent=!0;var D=Array.isArray;function V(){}var z={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function $(K,ae,be){var xe=be.ref;return{$$typeof:e,type:K,key:ae,ref:xe!==void 0?xe:null,props:be}}function Z(K,ae){return $(K.type,ae,K.props)}function q(K){return typeof K=="object"&&K!==null&&K.$$typeof===e}function W(K){var ae={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(be){return ae[be]})}var ne=/\/+/g;function re(K,ae){return typeof K=="object"&&K!==null&&K.key!=null?W(""+K.key):ae.toString(36)}function ye(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(V,V):(K.status="pending",K.then(function(ae){K.status==="pending"&&(K.status="fulfilled",K.value=ae)},function(ae){K.status==="pending"&&(K.status="rejected",K.reason=ae)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function G(K,ae,be,xe,Re){var we=typeof K;(we==="undefined"||we==="boolean")&&(K=null);var Se=!1;if(K===null)Se=!0;else switch(we){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(K.$$typeof){case e:case t:Se=!0;break;case g:return Se=K._init,G(Se(K._payload),ae,be,xe,Re)}}if(Se)return Re=Re(K),Se=xe===""?"."+re(K,0):xe,D(Re)?(be="",Se!=null&&(be=Se.replace(ne,"$&/")+"/"),G(Re,ae,be,"",function(De){return De})):Re!=null&&(q(Re)&&(Re=Z(Re,be+(Re.key==null||K&&K.key===Re.key?"":(""+Re.key).replace(ne,"$&/")+"/")+Se)),ae.push(Re)),1;Se=0;var je=xe===""?".":xe+":";if(D(K))for(var Me=0;Me<K.length;Me++)xe=K[Me],we=je+re(xe,Me),Se+=G(xe,ae,be,we,Re);else if(Me=_(K),typeof Me=="function")for(K=Me.call(K),Me=0;!(xe=K.next()).done;)xe=xe.value,we=je+re(xe,Me++),Se+=G(xe,ae,be,we,Re);else if(we==="object"){if(typeof K.then=="function")return G(ye(K),ae,be,xe,Re);throw ae=String(K),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Se}function Y(K,ae,be){if(K==null)return K;var xe=[],Re=0;return G(K,xe,"","",function(we){return ae.call(be,we,Re++)}),xe}function te(K){if(K._status===-1){var ae=K._result;ae=ae(),ae.then(function(be){(K._status===0||K._status===-1)&&(K._status=1,K._result=be)},function(be){(K._status===0||K._status===-1)&&(K._status=2,K._result=be)}),K._status===-1&&(K._status=0,K._result=ae)}if(K._status===1)return K._result.default;throw K._result}var de=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)},oe={map:Y,forEach:function(K,ae,be){Y(K,function(){ae.apply(this,arguments)},be)},count:function(K){var ae=0;return Y(K,function(){ae++}),ae},toArray:function(K){return Y(K,function(ae){return ae})||[]},only:function(K){if(!q(K))throw Error("React.Children.only expected to receive a single React element child.");return K}};return at.Activity=v,at.Children=oe,at.Component=N,at.Fragment=n,at.Profiler=s,at.PureComponent=O,at.StrictMode=i,at.Suspense=d,at.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,at.__COMPILER_RUNTIME={__proto__:null,c:function(K){return z.H.useMemoCache(K)}},at.cache=function(K){return function(){return K.apply(null,arguments)}},at.cacheSignal=function(){return null},at.cloneElement=function(K,ae,be){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var xe=E({},K.props),Re=K.key;if(ae!=null)for(we in ae.key!==void 0&&(Re=""+ae.key),ae)!I.call(ae,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ae.ref===void 0||(xe[we]=ae[we]);var we=arguments.length-2;if(we===1)xe.children=be;else if(1<we){for(var Se=Array(we),je=0;je<we;je++)Se[je]=arguments[je+2];xe.children=Se}return $(K.type,Re,xe)},at.createContext=function(K){return K={$$typeof:l,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:o,_context:K},K},at.createElement=function(K,ae,be){var xe,Re={},we=null;if(ae!=null)for(xe in ae.key!==void 0&&(we=""+ae.key),ae)I.call(ae,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(Re[xe]=ae[xe]);var Se=arguments.length-2;if(Se===1)Re.children=be;else if(1<Se){for(var je=Array(Se),Me=0;Me<Se;Me++)je[Me]=arguments[Me+2];Re.children=je}if(K&&K.defaultProps)for(xe in Se=K.defaultProps,Se)Re[xe]===void 0&&(Re[xe]=Se[xe]);return $(K,we,Re)},at.createRef=function(){return{current:null}},at.forwardRef=function(K){return{$$typeof:c,render:K}},at.isValidElement=q,at.lazy=function(K){return{$$typeof:g,_payload:{_status:-1,_result:K},_init:te}},at.memo=function(K,ae){return{$$typeof:h,type:K,compare:ae===void 0?null:ae}},at.startTransition=function(K){var ae=z.T,be={};z.T=be;try{var xe=K(),Re=z.S;Re!==null&&Re(be,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(V,de)}catch(we){de(we)}finally{ae!==null&&be.types!==null&&(ae.types=be.types),z.T=ae}},at.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},at.use=function(K){return z.H.use(K)},at.useActionState=function(K,ae,be){return z.H.useActionState(K,ae,be)},at.useCallback=function(K,ae){return z.H.useCallback(K,ae)},at.useContext=function(K){return z.H.useContext(K)},at.useDebugValue=function(){},at.useDeferredValue=function(K,ae){return z.H.useDeferredValue(K,ae)},at.useEffect=function(K,ae){return z.H.useEffect(K,ae)},at.useEffectEvent=function(K){return z.H.useEffectEvent(K)},at.useId=function(){return z.H.useId()},at.useImperativeHandle=function(K,ae,be){return z.H.useImperativeHandle(K,ae,be)},at.useInsertionEffect=function(K,ae){return z.H.useInsertionEffect(K,ae)},at.useLayoutEffect=function(K,ae){return z.H.useLayoutEffect(K,ae)},at.useMemo=function(K,ae){return z.H.useMemo(K,ae)},at.useOptimistic=function(K,ae){return z.H.useOptimistic(K,ae)},at.useReducer=function(K,ae,be){return z.H.useReducer(K,ae,be)},at.useRef=function(K){return z.H.useRef(K)},at.useState=function(K){return z.H.useState(K)},at.useSyncExternalStore=function(K,ae,be){return z.H.useSyncExternalStore(K,ae,be)},at.useTransition=function(){return z.H.useTransition()},at.version="19.2.4",at}var JE;function Kf(){return JE||(JE=1,Xy.exports=vz()),Xy.exports}var x=Kf();const Ot=V0(x),$0=pz({__proto__:null,default:Ot},[x]);var Qy={exports:{}},Ud={},Jy={exports:{}},eb={};var eA;function yz(){return eA||(eA=1,(function(e){function t(G,Y){var te=G.length;G.push(Y);e:for(;0<te;){var de=te-1>>>1,oe=G[de];if(0<s(oe,Y))G[de]=Y,G[te]=oe,te=de;else break e}}function n(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var Y=G[0],te=G.pop();if(te!==Y){G[0]=te;e:for(var de=0,oe=G.length,K=oe>>>1;de<K;){var ae=2*(de+1)-1,be=G[ae],xe=ae+1,Re=G[xe];if(0>s(be,te))xe<oe&&0>s(Re,be)?(G[de]=Re,G[xe]=te,de=xe):(G[de]=be,G[ae]=te,de=ae);else if(xe<oe&&0>s(Re,te))G[de]=Re,G[xe]=te,de=xe;else break e}}return Y}function s(G,Y){var te=G.sortIndex-Y.sortIndex;return te!==0?te:G.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],h=[],g=1,v=null,b=3,_=!1,C=!1,E=!1,R=!1,N=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function M(G){for(var Y=n(h);Y!==null;){if(Y.callback===null)i(h);else if(Y.startTime<=G)i(h),Y.sortIndex=Y.expirationTime,t(d,Y);else break;Y=n(h)}}function D(G){if(E=!1,M(G),!C)if(n(d)!==null)C=!0,V||(V=!0,W());else{var Y=n(h);Y!==null&&ye(D,Y.startTime-G)}}var V=!1,z=-1,I=5,$=-1;function Z(){return R?!0:!(e.unstable_now()-$<I)}function q(){if(R=!1,V){var G=e.unstable_now();$=G;var Y=!0;try{e:{C=!1,E&&(E=!1,k(z),z=-1),_=!0;var te=b;try{t:{for(M(G),v=n(d);v!==null&&!(v.expirationTime>G&&Z());){var de=v.callback;if(typeof de=="function"){v.callback=null,b=v.priorityLevel;var oe=de(v.expirationTime<=G);if(G=e.unstable_now(),typeof oe=="function"){v.callback=oe,M(G),Y=!0;break t}v===n(d)&&i(d),M(G)}else i(d);v=n(d)}if(v!==null)Y=!0;else{var K=n(h);K!==null&&ye(D,K.startTime-G),Y=!1}}break e}finally{v=null,b=te,_=!1}Y=void 0}}finally{Y?W():V=!1}}}var W;if(typeof O=="function")W=function(){O(q)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,re=ne.port2;ne.port1.onmessage=q,W=function(){re.postMessage(null)}}else W=function(){N(q,0)};function ye(G,Y){z=N(function(){G(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(G){switch(b){case 1:case 2:case 3:var Y=3;break;default:Y=b}var te=b;b=Y;try{return G()}finally{b=te}},e.unstable_requestPaint=function(){R=!0},e.unstable_runWithPriority=function(G,Y){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var te=b;b=G;try{return Y()}finally{b=te}},e.unstable_scheduleCallback=function(G,Y,te){var de=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?de+te:de):te=de,G){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=te+oe,G={id:g++,callback:Y,priorityLevel:G,startTime:te,expirationTime:oe,sortIndex:-1},te>de?(G.sortIndex=te,t(h,G),n(d)===null&&G===n(h)&&(E?(k(z),z=-1):E=!0,ye(D,te-de))):(G.sortIndex=oe,t(d,G),C||_||(C=!0,V||(V=!0,W()))),G},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(G){var Y=b;return function(){var te=b;b=Y;try{return G.apply(this,arguments)}finally{b=te}}}})(eb)),eb}var tA;function bz(){return tA||(tA=1,Jy.exports=yz()),Jy.exports}var tb={exports:{}},Si={};var nA;function xz(){if(nA)return Si;nA=1;var e=Kf();function t(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,h,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:d,containerInfo:h,implementation:g}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Si.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Si.createPortal=function(d,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return o(d,h,null,g)},Si.flushSync=function(d){var h=l.T,g=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=h,i.p=g,i.d.f()}},Si.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(d,h))},Si.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Si.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var g=h.as,v=c(g,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?i.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:_}):g==="script"&&i.d.X(d,{crossOrigin:v,integrity:b,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Si.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=c(h.as,h.crossOrigin);i.d.M(d,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(d)},Si.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,v=c(g,h.crossOrigin);i.d.L(d,g,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Si.preloadModule=function(d,h){if(typeof d=="string")if(h){var g=c(h.as,h.crossOrigin);i.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(d)},Si.requestFormReset=function(d){i.d.r(d)},Si.unstable_batchedUpdates=function(d,h){return d(h)},Si.useFormState=function(d,h,g){return l.H.useFormState(d,h,g)},Si.useFormStatus=function(){return l.H.useHostTransitionStatus()},Si.version="19.2.4",Si}var iA;function Ok(){if(iA)return tb.exports;iA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),tb.exports=xz(),tb.exports}var sA;function _z(){if(sA)return Ud;sA=1;var e=bz(),t=Kf(),n=Ok();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)a+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,f=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(f=a.return),r=a.return;while(r)}return a.tag===3?f:null}function l(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function c(r){if(r.tag===31){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(i(188))}function h(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var f=r,m=a;;){var S=f.return;if(S===null)break;var A=S.alternate;if(A===null){if(m=S.return,m!==null){f=m;continue}break}if(S.child===A.child){for(A=S.child;A;){if(A===f)return d(S),r;if(A===m)return d(S),a;A=A.sibling}throw Error(i(188))}if(f.return!==m.return)f=S,m=A;else{for(var j=!1,F=S.child;F;){if(F===f){j=!0,f=S,m=A;break}if(F===m){j=!0,m=S,f=A;break}F=F.sibling}if(!j){for(F=A.child;F;){if(F===f){j=!0,f=A,m=S;break}if(F===m){j=!0,m=A,f=S;break}F=F.sibling}if(!j)throw Error(i(189))}}if(f.alternate!==m)throw Error(i(190))}if(f.tag!==3)throw Error(i(188));return f.stateNode.current===f?r:a}function g(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=g(r),a!==null)return a;r=r.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),O=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function W(r){return r===null||typeof r!="object"?null:(r=q&&r[q]||r["@@iterator"],typeof r=="function"?r:null)}var ne=Symbol.for("react.client.reference");function re(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===ne?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case N:return"Profiler";case R:return"StrictMode";case D:return"Suspense";case V:return"SuspenseList";case $:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case O:return r.displayName||"Context";case k:return(r._context.displayName||"Context")+".Consumer";case M:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case z:return a=r.displayName||null,a!==null?a:re(r.type)||"Memo";case I:a=r._payload,r=r._init;try{return re(r(a))}catch{}}return null}var ye=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},de=[],oe=-1;function K(r){return{current:r}}function ae(r){0>oe||(r.current=de[oe],de[oe]=null,oe--)}function be(r,a){oe++,de[oe]=r.current,r.current=a}var xe=K(null),Re=K(null),we=K(null),Se=K(null);function je(r,a){switch(be(we,a),be(Re,r),be(xe,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?bE(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=bE(a),r=xE(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ae(xe),be(xe,r)}function Me(){ae(xe),ae(Re),ae(we)}function De(r){r.memoizedState!==null&&be(Se,r);var a=xe.current,f=xE(a,r.type);a!==f&&(be(Re,r),be(xe,f))}function Ye(r){Re.current===r&&(ae(xe),ae(Re)),Se.current===r&&(ae(Se),Ld._currentValue=te)}var Ze,Ct;function yt(r){if(Ze===void 0)try{throw Error()}catch(f){var a=f.stack.trim().match(/\n( *(at )?)/);Ze=a&&a[1]||"",Ct=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ze+r+Ct}var It=!1;function dn(r,a){if(!r||It)return"";It=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(a){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(ve){var me=ve}Reflect.construct(r,[],Te)}else{try{Te.call()}catch(ve){me=ve}r.call(Te.prototype)}}else{try{throw Error()}catch(ve){me=ve}(Te=r())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(ve){if(ve&&me&&typeof ve.stack=="string")return[ve.stack,me.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=m.DetermineComponentFrameRoot(),j=A[0],F=A[1];if(j&&F){var ee=j.split(`
`),he=F.split(`
`);for(S=m=0;m<ee.length&&!ee[m].includes("DetermineComponentFrameRoot");)m++;for(;S<he.length&&!he[S].includes("DetermineComponentFrameRoot");)S++;if(m===ee.length||S===he.length)for(m=ee.length-1,S=he.length-1;1<=m&&0<=S&&ee[m]!==he[S];)S--;for(;1<=m&&0<=S;m--,S--)if(ee[m]!==he[S]){if(m!==1||S!==1)do if(m--,S--,0>S||ee[m]!==he[S]){var _e=`
`+ee[m].replace(" at new "," at ");return r.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",r.displayName)),_e}while(1<=m&&0<=S);break}}}finally{It=!1,Error.prepareStackTrace=f}return(f=r?r.displayName||r.name:"")?yt(f):""}function fn(r,a){switch(r.tag){case 26:case 27:case 5:return yt(r.type);case 16:return yt("Lazy");case 13:return r.child!==a&&a!==null?yt("Suspense Fallback"):yt("Suspense");case 19:return yt("SuspenseList");case 0:case 15:return dn(r.type,!1);case 11:return dn(r.type.render,!1);case 1:return dn(r.type,!0);case 31:return yt("Activity");default:return""}}function jn(r){try{var a="",f=null;do a+=fn(r,f),f=r,r=r.return;while(r);return a}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var _n=Object.prototype.hasOwnProperty,wn=e.unstable_scheduleCallback,Kn=e.unstable_cancelCallback,Ai=e.unstable_shouldYield,Es=e.unstable_requestPaint,sn=e.unstable_now,Sr=e.unstable_getCurrentPriorityLevel,bt=e.unstable_ImmediatePriority,At=e.unstable_UserBlockingPriority,zt=e.unstable_NormalPriority,Ti=e.unstable_LowPriority,Ws=e.unstable_IdlePriority,vi=e.log,Jr=e.unstable_setDisableYieldValue,ts=null,rn=null;function si(r){if(typeof vi=="function"&&Jr(r),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(ts,r)}catch{}}var En=Math.clz32?Math.clz32:$a,ns=Math.log,eo=Math.LN2;function $a(r){return r>>>=0,r===0?32:31-(ns(r)/eo|0)|0}var qn=256,Ys=262144,Yt=4194304;function Zt(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function hn(r,a,f){var m=r.pendingLanes;if(m===0)return 0;var S=0,A=r.suspendedLanes,j=r.pingedLanes;r=r.warmLanes;var F=m&134217727;return F!==0?(m=F&~A,m!==0?S=Zt(m):(j&=F,j!==0?S=Zt(j):f||(f=F&~r,f!==0&&(S=Zt(f))))):(F=m&~A,F!==0?S=Zt(F):j!==0?S=Zt(j):f||(f=m&~r,f!==0&&(S=Zt(f)))),S===0?0:a!==0&&a!==S&&(a&A)===0&&(A=S&-S,f=a&-a,A>=f||A===32&&(f&4194048)!==0)?a:S}function Wn(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Yn(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function An(){var r=Yt;return Yt<<=1,(Yt&62914560)===0&&(Yt=4194304),r}function Zn(r){for(var a=[],f=0;31>f;f++)a.push(r);return a}function Xn(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function on(r,a,f,m,S,A){var j=r.pendingLanes;r.pendingLanes=f,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=f,r.entangledLanes&=f,r.errorRecoveryDisabledLanes&=f,r.shellSuspendCounter=0;var F=r.entanglements,ee=r.expirationTimes,he=r.hiddenUpdates;for(f=j&~f;0<f;){var _e=31-En(f),Te=1<<_e;F[_e]=0,ee[_e]=-1;var me=he[_e];if(me!==null)for(he[_e]=null,_e=0;_e<me.length;_e++){var ve=me[_e];ve!==null&&(ve.lane&=-536870913)}f&=~Te}m!==0&&Ri(r,m,0),A!==0&&S===0&&r.tag!==0&&(r.suspendedLanes|=A&~(j&~a))}function Ri(r,a,f){r.pendingLanes|=a,r.suspendedLanes&=~a;var m=31-En(a);r.entangledLanes|=a,r.entanglements[m]=r.entanglements[m]|1073741824|f&261930}function ri(r,a){var f=r.entangledLanes|=a;for(r=r.entanglements;f;){var m=31-En(f),S=1<<m;S&a|r[m]&a&&(r[m]|=a),f&=~S}}function yi(r,a){var f=a&-a;return f=(f&42)!==0?1:an(f),(f&(r.suspendedLanes|a))!==0?0:f}function an(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ze(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function bi(){var r=Y.p;return r!==0?r:(r=window.event,r===void 0?32:$E(r.type))}function is(r,a){var f=Y.p;try{return Y.p=r,a()}finally{Y.p=f}}var oi=Math.random().toString(36).slice(2),pn="__reactFiber$"+oi,Tn="__reactProps$"+oi,Zs="__reactContainer$"+oi,As="__reactEvents$"+oi,sc="__reactListeners$"+oi,Ku="__reactHandles$"+oi,rc="__reactResources$"+oi,to="__reactMarker$"+oi;function Ha(r){delete r[pn],delete r[Tn],delete r[As],delete r[sc],delete r[Ku]}function Xs(r){var a=r[pn];if(a)return a;for(var f=r.parentNode;f;){if(a=f[Zs]||f[pn]){if(f=a.alternate,a.child!==null||f!==null&&f.child!==null)for(r=TE(r);r!==null;){if(f=r[pn])return f;r=TE(r)}return a}r=f,f=r.parentNode}return null}function Cr(r){if(r=r[pn]||r[Zs]){var a=r.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return r}return null}function ss(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function zi(r){var a=r[rc];return a||(a=r[rc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ln(r){r[to]=!0}var Qs=new Set,oc={};function Bi(r,a){Ui(r,a),Ui(r+"Capture",a)}function Ui(r,a){for(oc[r]=a,r=0;r<a.length;r++)Qs.add(a[r])}var no=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ga={},io={};function so(r){return _n.call(io,r)?!0:_n.call(Ga,r)?!1:no.test(r)?io[r]=!0:(Ga[r]=!0,!1)}function ft(r,a,f){if(so(a))if(f===null)r.removeAttribute(a);else{switch(typeof f){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var m=a.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+f)}}function U(r,a,f){if(f===null)r.removeAttribute(a);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+f)}}function J(r,a,f,m){if(m===null)r.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(f);return}r.setAttributeNS(a,f,""+m)}}function H(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function se(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function le(r,a,f){var m=Object.getOwnPropertyDescriptor(r.constructor.prototype,a);if(!r.hasOwnProperty(a)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var S=m.get,A=m.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return S.call(this)},set:function(j){f=""+j,A.call(this,j)}}),Object.defineProperty(r,a,{enumerable:m.enumerable}),{getValue:function(){return f},setValue:function(j){f=""+j},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Q(r){if(!r._valueTracker){var a=se(r)?"checked":"value";r._valueTracker=le(r,a,""+r[a])}}function ge(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var f=a.getValue(),m="";return r&&(m=se(r)?r.checked?"true":"false":r.value),r=m,r!==f?(a.setValue(r),!0):!1}function ke(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Ne=/[\n"\\]/g;function Ee(r){return r.replace(Ne,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Oe(r,a,f,m,S,A,j,F){r.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?r.type=j:r.removeAttribute("type"),a!=null?j==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+H(a)):r.value!==""+H(a)&&(r.value=""+H(a)):j!=="submit"&&j!=="reset"||r.removeAttribute("value"),a!=null?Je(r,j,H(a)):f!=null?Je(r,j,H(f)):m!=null&&r.removeAttribute("value"),S==null&&A!=null&&(r.defaultChecked=!!A),S!=null&&(r.checked=S&&typeof S!="function"&&typeof S!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?r.name=""+H(F):r.removeAttribute("name")}function Be(r,a,f,m,S,A,j,F){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(r.type=A),a!=null||f!=null){if(!(A!=="submit"&&A!=="reset"||a!=null)){Q(r);return}f=f!=null?""+H(f):"",a=a!=null?""+H(a):f,F||a===r.value||(r.value=a),r.defaultValue=a}m=m??S,m=typeof m!="function"&&typeof m!="symbol"&&!!m,r.checked=F?r.checked:!!m,r.defaultChecked=!!m,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(r.name=j),Q(r)}function Je(r,a,f){a==="number"&&ke(r.ownerDocument)===r||r.defaultValue===""+f||(r.defaultValue=""+f)}function qe(r,a,f,m){if(r=r.options,a){a={};for(var S=0;S<f.length;S++)a["$"+f[S]]=!0;for(f=0;f<r.length;f++)S=a.hasOwnProperty("$"+r[f].value),r[f].selected!==S&&(r[f].selected=S),S&&m&&(r[f].defaultSelected=!0)}else{for(f=""+H(f),a=null,S=0;S<r.length;S++){if(r[S].value===f){r[S].selected=!0,m&&(r[S].defaultSelected=!0);return}a!==null||r[S].disabled||(a=r[S])}a!==null&&(a.selected=!0)}}function dt(r,a,f){if(a!=null&&(a=""+H(a),a!==r.value&&(r.value=a),f==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=f!=null?""+H(f):""}function Bt(r,a,f,m){if(a==null){if(m!=null){if(f!=null)throw Error(i(92));if(ye(m)){if(1<m.length)throw Error(i(93));m=m[0]}f=m}f==null&&(f=""),a=f}f=H(a),r.defaultValue=f,m=r.textContent,m===f&&m!==""&&m!==null&&(r.value=m),Q(r)}function Et(r,a){if(a){var f=r.firstChild;if(f&&f===r.lastChild&&f.nodeType===3){f.nodeValue=a;return}}r.textContent=a}var Qn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fi(r,a,f){var m=a.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":m?r.setProperty(a,f):typeof f!="number"||f===0||Qn.has(a)?a==="float"?r.cssFloat=f:r[a]=(""+f).trim():r[a]=f+"px"}function Er(r,a,f){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||a!=null&&a.hasOwnProperty(m)||(m.indexOf("--")===0?r.setProperty(m,""):m==="float"?r.cssFloat="":r[m]="");for(var S in a)m=a[S],a.hasOwnProperty(S)&&f[S]!==m&&Fi(r,S,m)}else for(var A in a)a.hasOwnProperty(A)&&Fi(r,A,a[A])}function ro(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ar=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ac=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tr(r){return ac.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function xi(){}var oo=null;function Ka(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Uo=null,nt=null;function rs(r){var a=Cr(r);if(a&&(r=a.stateNode)){var f=r[Tn]||null;e:switch(r=a.stateNode,a.type){case"input":if(Oe(r,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),a=f.name,f.type==="radio"&&a!=null){for(f=r;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Ee(""+a)+'"][type="radio"]'),a=0;a<f.length;a++){var m=f[a];if(m!==r&&m.form===r.form){var S=m[Tn]||null;if(!S)throw Error(i(90));Oe(m,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(a=0;a<f.length;a++)m=f[a],m.form===r.form&&ge(m)}break e;case"textarea":dt(r,f.value,f.defaultValue);break e;case"select":a=f.value,a!=null&&qe(r,!!f.multiple,a,!1)}}}var jt=!1;function qu(r,a,f){if(jt)return r(a,f);jt=!0;try{var m=r(a);return m}finally{if(jt=!1,(Uo!==null||nt!==null)&&(mp(),Uo&&(a=Uo,r=nt,nt=Uo=null,rs(a),r)))for(a=0;a<r.length;a++)rs(r[a])}}function ao(r,a){var f=r.stateNode;if(f===null)return null;var m=f[Tn]||null;if(m===null)return null;f=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break e;default:r=!1}if(r)return null;if(f&&typeof f!="function")throw Error(i(231,a,typeof f));return f}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qa=!1;if(os)try{var as={};Object.defineProperty(as,"passive",{get:function(){qa=!0}}),window.addEventListener("test",as,as),window.removeEventListener("test",as,as)}catch{qa=!1}var Ts=null,lo=null,mn=null;function Rr(){if(mn)return mn;var r,a=lo,f=a.length,m,S="value"in Ts?Ts.value:Ts.textContent,A=S.length;for(r=0;r<f&&a[r]===S[r];r++);var j=f-r;for(m=1;m<=j&&a[f-m]===S[A-m];m++);return mn=S.slice(r,1<m?1-m:void 0)}function Wa(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Ya(){return!0}function xh(){return!1}function ai(r){function a(f,m,S,A,j){this._reactName=f,this._targetInst=S,this.type=m,this.nativeEvent=A,this.target=j,this.currentTarget=null;for(var F in r)r.hasOwnProperty(F)&&(f=r[F],this[F]=f?f(A):A[F]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Ya:xh,this.isPropagationStopped=xh,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Ya)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Ya)},persist:function(){},isPersistent:Ya}),a}var Js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lc=ai(Js),Fo=v({},Js,{view:0,detail:0}),xt=ai(Fo),Wu,ki,er,Za=v({},Fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ed,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==er&&(er&&r.type==="mousemove"?(Wu=r.screenX-er.screenX,ki=r.screenY-er.screenY):ki=Wu=0,er=r),Wu)},movementY:function(r){return"movementY"in r?r.movementY:ki}}),_h=ai(Za),Yu=v({},Za,{dataTransfer:0}),ov=ai(Yu),wh=v({},Fo,{relatedTarget:0}),Zu=ai(wh),av=v({},Js,{animationName:0,elapsedTime:0,pseudoElement:0}),Xu=ai(av),lv=v({},Js,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Rs=ai(lv),cv=v({},Js,{data:0}),Qu=ai(cv),kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ch={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ju(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Ch[r])?!!a[r]:!1}function ed(){return Ju}var Eh=v({},Fo,{key:function(r){if(r.key){var a=kr[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Wa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Sh[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ed,charCode:function(r){return r.type==="keypress"?Wa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Wa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ah=ai(Eh),uv=v({},Za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Th=ai(uv),td=v({},Fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ed}),dv=ai(td),Rh=v({},Js,{propertyName:0,elapsedTime:0,pseudoElement:0}),kh=ai(Rh),cc=v({},Za,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),co=ai(cc),fv=v({},Js,{newState:0,oldState:0}),Xa=ai(fv),Vi=[9,13,27,32],uc=os&&"CompositionEvent"in window,Vo=null;os&&"documentMode"in document&&(Vo=document.documentMode);var hv=os&&"TextEvent"in window&&!Vo,dc=os&&(!uc||Vo&&8<Vo&&11>=Vo),fc=" ",Nh=!1;function Oh(r,a){switch(r){case"keyup":return Vi.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nd(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var $o=!1;function ls(r,a){switch(r){case"compositionend":return nd(a);case"keypress":return a.which!==32?null:(Nh=!0,fc);case"textInput":return r=a.data,r===fc&&Nh?null:r;default:return null}}function Ho(r,a){if($o)return r==="compositionend"||!uc&&Oh(r,a)?(r=Rr(),mn=lo=Ts=null,$o=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return dc&&a.locale!=="ko"?null:a.data;default:return null}}var pv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ks(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!pv[r.type]:a==="textarea"}function Ph(r,a,f,m){Uo?nt?nt.push(m):nt=[m]:Uo=m,a=wp(a,"onChange"),0<a.length&&(f=new lc("onChange","change",null,f,m),r.push({event:f,listeners:a}))}var Ns=null,Qa=null;function Ja(r){hE(r,0)}function el(r){var a=ss(r);if(ge(a))return r}function tl(r,a){if(r==="change")return a}var Mh=!1;if(os){var Os;if(os){var Go="oninput"in document;if(!Go){var Dh=document.createElement("div");Dh.setAttribute("oninput","return;"),Go=typeof Dh.oninput=="function"}Os=Go}else Os=!1;Mh=Os&&(!document.documentMode||9<document.documentMode)}function hc(){Ns&&(Ns.detachEvent("onpropertychange",Lh),Qa=Ns=null)}function Lh(r){if(r.propertyName==="value"&&el(Qa)){var a=[];Ph(a,Qa,r,Ka(r)),qu(Ja,a)}}function tr(r,a,f){r==="focusin"?(hc(),Ns=a,Qa=f,Ns.attachEvent("onpropertychange",Lh)):r==="focusout"&&hc()}function mv(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return el(Qa)}function Ko(r,a){if(r==="click")return el(a)}function gv(r,a){if(r==="input"||r==="change")return el(a)}function nr(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Jn=typeof Object.is=="function"?Object.is:nr;function qo(r,a){if(Jn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var f=Object.keys(r),m=Object.keys(a);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var S=f[m];if(!_n.call(a,S)||!Jn(r[S],a[S]))return!1}return!0}function pc(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function nl(r,a){var f=pc(r);r=0;for(var m;f;){if(f.nodeType===3){if(m=r+f.textContent.length,r<=a&&m>=a)return{node:f,offset:a-r};r=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=pc(f)}}function mc(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?mc(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function il(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=ke(r.document);a instanceof r.HTMLIFrameElement;){try{var f=typeof a.contentWindow.location.href=="string"}catch{f=!1}if(f)r=a.contentWindow;else break;a=ke(r.document)}return a}function Nr(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var gc=os&&"documentMode"in document&&11>=document.documentMode,Or=null,vc=null,sl=null,Wo=!1;function jh(r,a,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Wo||Or==null||Or!==ke(m)||(m=Or,"selectionStart"in m&&Nr(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),sl&&qo(sl,m)||(sl=m,m=wp(vc,"onSelect"),0<m.length&&(a=new lc("onSelect","select",null,a,f),r.push({event:a,listeners:m}),a.target=Or)))}function Pr(r,a){var f={};return f[r.toLowerCase()]=a.toLowerCase(),f["Webkit"+r]="webkit"+a,f["Moz"+r]="moz"+a,f}var Yo={animationend:Pr("Animation","AnimationEnd"),animationiteration:Pr("Animation","AnimationIteration"),animationstart:Pr("Animation","AnimationStart"),transitionrun:Pr("Transition","TransitionRun"),transitionstart:Pr("Transition","TransitionStart"),transitioncancel:Pr("Transition","TransitionCancel"),transitionend:Pr("Transition","TransitionEnd")},yc={},Ih={};os&&(Ih=document.createElement("div").style,"AnimationEvent"in window||(delete Yo.animationend.animation,delete Yo.animationiteration.animation,delete Yo.animationstart.animation),"TransitionEvent"in window||delete Yo.transitionend.transition);function ei(r){if(yc[r])return yc[r];if(!Yo[r])return r;var a=Yo[r],f;for(f in a)if(a.hasOwnProperty(f)&&f in Ih)return yc[r]=a[f];return r}var rl=ei("animationend"),zh=ei("animationiteration"),ol=ei("animationstart"),vv=ei("transitionrun"),Bh=ei("transitionstart"),yv=ei("transitioncancel"),Zo=ei("transitionend"),Uh=new Map,Mr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mr.push("scrollEnd");function $i(r,a){Uh.set(r,a),Bi(a,[r])}var al=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Hi=[],_i=0,bc=0;function ll(){for(var r=_i,a=bc=_i=0;a<r;){var f=Hi[a];Hi[a++]=null;var m=Hi[a];Hi[a++]=null;var S=Hi[a];Hi[a++]=null;var A=Hi[a];if(Hi[a++]=null,m!==null&&S!==null){var j=m.pending;j===null?S.next=S:(S.next=j.next,j.next=S),m.pending=S}A!==0&&Xo(f,S,A)}}function Dr(r,a,f,m){Hi[_i++]=r,Hi[_i++]=a,Hi[_i++]=f,Hi[_i++]=m,bc|=m,r.lanes|=m,r=r.alternate,r!==null&&(r.lanes|=m)}function id(r,a,f,m){return Dr(r,a,f,m),cl(r)}function Ps(r,a){return Dr(r,null,null,a),cl(r)}function Xo(r,a,f){r.lanes|=f;var m=r.alternate;m!==null&&(m.lanes|=f);for(var S=!1,A=r.return;A!==null;)A.childLanes|=f,m=A.alternate,m!==null&&(m.childLanes|=f),A.tag===22&&(r=A.stateNode,r===null||r._visibility&1||(S=!0)),r=A,A=A.return;return r.tag===3?(A=r.stateNode,S&&a!==null&&(S=31-En(f),r=A.hiddenUpdates,m=r[S],m===null?r[S]=[a]:m.push(a),a.lane=f|536870912),A):null}function cl(r){if(50<Rd)throw Rd=0,xy=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var uo={};function bv(r,a,f,m){this.tag=r,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wi(r,a,f,m){return new bv(r,a,f,m)}function xc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ms(r,a){var f=r.alternate;return f===null?(f=wi(r.tag,a,r.key,r.mode),f.elementType=r.elementType,f.type=r.type,f.stateNode=r.stateNode,f.alternate=r,r.alternate=f):(f.pendingProps=a,f.type=r.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=r.flags&65011712,f.childLanes=r.childLanes,f.lanes=r.lanes,f.child=r.child,f.memoizedProps=r.memoizedProps,f.memoizedState=r.memoizedState,f.updateQueue=r.updateQueue,a=r.dependencies,f.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},f.sibling=r.sibling,f.index=r.index,f.ref=r.ref,f.refCleanup=r.refCleanup,f}function sd(r,a){r.flags&=65011714;var f=r.alternate;return f===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=f.childLanes,r.lanes=f.lanes,r.child=f.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=f.memoizedProps,r.memoizedState=f.memoizedState,r.updateQueue=f.updateQueue,r.type=f.type,a=f.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function ul(r,a,f,m,S,A){var j=0;if(m=r,typeof r=="function")xc(r)&&(j=1);else if(typeof r=="string")j=nz(r,f,xe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case $:return r=wi(31,f,a,S),r.elementType=$,r.lanes=A,r;case E:return fo(f.children,S,A,a);case R:j=8,S|=24;break;case N:return r=wi(12,f,a,S|2),r.elementType=N,r.lanes=A,r;case D:return r=wi(13,f,a,S),r.elementType=D,r.lanes=A,r;case V:return r=wi(19,f,a,S),r.elementType=V,r.lanes=A,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case O:j=10;break e;case k:j=9;break e;case M:j=11;break e;case z:j=14;break e;case I:j=16,m=null;break e}j=29,f=Error(i(130,r===null?"null":typeof r,"")),m=null}return a=wi(j,f,a,S),a.elementType=r,a.type=m,a.lanes=A,a}function fo(r,a,f,m){return r=wi(7,r,m,a),r.lanes=f,r}function _c(r,a,f){return r=wi(6,r,null,a),r.lanes=f,r}function rd(r){var a=wi(18,null,null,0);return a.stateNode=r,a}function od(r,a,f){return a=wi(4,r.children!==null?r.children:[],r.key,a),a.lanes=f,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var u=new WeakMap;function p(r,a){if(typeof r=="object"&&r!==null){var f=u.get(r);return f!==void 0?f:(a={value:r,source:a,stack:jn(a)},u.set(r,a),a)}return{value:r,source:a,stack:jn(a)}}var w=[],T=0,P=null,B=0,X=[],ue=0,pe=null,Ae=1,Pe="";function Ge(r,a){w[T++]=B,w[T++]=P,P=r,B=a}function ct(r,a,f){X[ue++]=Ae,X[ue++]=Pe,X[ue++]=pe,pe=r;var m=Ae;r=Pe;var S=32-En(m)-1;m&=~(1<<S),f+=1;var A=32-En(a)+S;if(30<A){var j=S-S%5;A=(m&(1<<j)-1).toString(32),m>>=j,S-=j,Ae=1<<32-En(a)+S|f<<S|m,Pe=A+r}else Ae=1<<A|f<<S|m,Pe=r}function In(r){r.return!==null&&(Ge(r,1),ct(r,1,0))}function gn(r){for(;r===P;)P=w[--T],w[T]=null,B=w[--T],w[T]=null;for(;r===pe;)pe=X[--ue],X[ue]=null,Pe=X[--ue],X[ue]=null,Ae=X[--ue],X[ue]=null}function Ni(r,a){X[ue++]=Ae,X[ue++]=Pe,X[ue++]=pe,Ae=a.id,Pe=a.overflow,pe=r}var Tt=null,Rt=null,mt=!1,Lr=null,Gi=!1,wc=Error(i(519));function jr(r){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dl(p(a,r)),wc}function ad(r){var a=r.stateNode,f=r.type,m=r.memoizedProps;switch(a[pn]=r,a[Tn]=m,f){case"dialog":vt("cancel",a),vt("close",a);break;case"iframe":case"object":case"embed":vt("load",a);break;case"video":case"audio":for(f=0;f<Nd.length;f++)vt(Nd[f],a);break;case"source":vt("error",a);break;case"img":case"image":case"link":vt("error",a),vt("load",a);break;case"details":vt("toggle",a);break;case"input":vt("invalid",a),Be(a,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":vt("invalid",a);break;case"textarea":vt("invalid",a),Bt(a,m.value,m.defaultValue,m.children)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||a.textContent===""+f||m.suppressHydrationWarning===!0||vE(a.textContent,f)?(m.popover!=null&&(vt("beforetoggle",a),vt("toggle",a)),m.onScroll!=null&&vt("scroll",a),m.onScrollEnd!=null&&vt("scrollend",a),m.onClick!=null&&(a.onclick=xi),a=!0):a=!1,a||jr(r,!0)}function cn(r){for(Tt=r.return;Tt;)switch(Tt.tag){case 5:case 31:case 13:Gi=!1;return;case 27:case 3:Gi=!0;return;default:Tt=Tt.return}}function ir(r){if(r!==Tt)return!1;if(!mt)return cn(r),mt=!0,!1;var a=r.tag,f;if((f=a!==3&&a!==27)&&((f=a===5)&&(f=r.type,f=!(f!=="form"&&f!=="button")||Ly(r.type,r.memoizedProps)),f=!f),f&&Rt&&jr(r),cn(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Rt=AE(r)}else if(a===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Rt=AE(r)}else a===27?(a=Rt,da(r.type)?(r=Uy,Uy=null,Rt=r):Rt=a):Rt=Tt?Ls(r.stateNode.nextSibling):null;return!0}function ho(){Rt=Tt=null,mt=!1}function ld(){var r=Lr;return r!==null&&(Yi===null?Yi=r:Yi.push.apply(Yi,r),Lr=null),r}function dl(r){Lr===null?Lr=[r]:Lr.push(r)}var fl=K(null),Ir=null,sr=null;function Qo(r,a,f){be(fl,a._currentValue),a._currentValue=f}function po(r){r._currentValue=fl.current,ae(fl)}function xv(r,a,f){for(;r!==null;){var m=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),r===f)break;r=r.return}}function _v(r,a,f,m){var S=r.child;for(S!==null&&(S.return=r);S!==null;){var A=S.dependencies;if(A!==null){var j=S.child;A=A.firstContext;e:for(;A!==null;){var F=A;A=S;for(var ee=0;ee<a.length;ee++)if(F.context===a[ee]){A.lanes|=f,F=A.alternate,F!==null&&(F.lanes|=f),xv(A.return,f,r),m||(j=null);break e}A=F.next}}else if(S.tag===18){if(j=S.return,j===null)throw Error(i(341));j.lanes|=f,A=j.alternate,A!==null&&(A.lanes|=f),xv(j,f,r),j=null}else j=S.child;if(j!==null)j.return=S;else for(j=S;j!==null;){if(j===r){j=null;break}if(S=j.sibling,S!==null){S.return=j.return,j=S;break}j=j.return}S=j}}function Sc(r,a,f,m){r=null;for(var S=a,A=!1;S!==null;){if(!A){if((S.flags&524288)!==0)A=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var j=S.alternate;if(j===null)throw Error(i(387));if(j=j.memoizedProps,j!==null){var F=S.type;Jn(S.pendingProps.value,j.value)||(r!==null?r.push(F):r=[F])}}else if(S===Se.current){if(j=S.alternate,j===null)throw Error(i(387));j.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(r!==null?r.push(Ld):r=[Ld])}S=S.return}r!==null&&_v(a,r,f,m),a.flags|=262144}function Fh(r){for(r=r.firstContext;r!==null;){if(!Jn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function hl(r){Ir=r,sr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function li(r){return nS(Ir,r)}function Vh(r,a){return Ir===null&&hl(r),nS(r,a)}function nS(r,a){var f=a._currentValue;if(a={context:a,memoizedValue:f,next:null},sr===null){if(r===null)throw Error(i(308));sr=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else sr=sr.next=a;return f}var Q2=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(f,m){r.push(m)}};this.abort=function(){a.aborted=!0,r.forEach(function(f){return f()})}},J2=e.unstable_scheduleCallback,eI=e.unstable_NormalPriority,Rn={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wv(){return{controller:new Q2,data:new Map,refCount:0}}function cd(r){r.refCount--,r.refCount===0&&J2(eI,function(){r.controller.abort()})}var ud=null,Sv=0,Cc=0,Ec=null;function tI(r,a){if(ud===null){var f=ud=[];Sv=0,Cc=Ay(),Ec={status:"pending",value:void 0,then:function(m){f.push(m)}}}return Sv++,a.then(iS,iS),a}function iS(){if(--Sv===0&&ud!==null){Ec!==null&&(Ec.status="fulfilled");var r=ud;ud=null,Cc=0,Ec=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function nI(r,a){var f=[],m={status:"pending",value:null,reason:null,then:function(S){f.push(S)}};return r.then(function(){m.status="fulfilled",m.value=a;for(var S=0;S<f.length;S++)(0,f[S])(a)},function(S){for(m.status="rejected",m.reason=S,S=0;S<f.length;S++)(0,f[S])(void 0)}),m}var sS=G.S;G.S=function(r,a){FC=sn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&tI(r,a),sS!==null&&sS(r,a)};var pl=K(null);function Cv(){var r=pl.current;return r!==null?r:Wt.pooledCache}function $h(r,a){a===null?be(pl,pl.current):be(pl,a.pool)}function rS(){var r=Cv();return r===null?null:{parent:Rn._currentValue,pool:r}}var Ac=Error(i(460)),Ev=Error(i(474)),Hh=Error(i(542)),Gh={then:function(){}};function oS(r){return r=r.status,r==="fulfilled"||r==="rejected"}function aS(r,a,f){switch(f=r[f],f===void 0?r.push(a):f!==a&&(a.then(xi,xi),a=f),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,cS(r),r;default:if(typeof a.status=="string")a.then(xi,xi);else{if(r=Wt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(m){if(a.status==="pending"){var S=a;S.status="fulfilled",S.value=m}},function(m){if(a.status==="pending"){var S=a;S.status="rejected",S.reason=m}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,cS(r),r}throw gl=a,Ac}}function ml(r){try{var a=r._init;return a(r._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(gl=f,Ac):f}}var gl=null;function lS(){if(gl===null)throw Error(i(459));var r=gl;return gl=null,r}function cS(r){if(r===Ac||r===Hh)throw Error(i(483))}var Tc=null,dd=0;function Kh(r){var a=dd;return dd+=1,Tc===null&&(Tc=[]),aS(Tc,r,a)}function fd(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function qh(r,a){throw a.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function uS(r){function a(ce,ie){if(r){var fe=ce.deletions;fe===null?(ce.deletions=[ie],ce.flags|=16):fe.push(ie)}}function f(ce,ie){if(!r)return null;for(;ie!==null;)a(ce,ie),ie=ie.sibling;return null}function m(ce){for(var ie=new Map;ce!==null;)ce.key!==null?ie.set(ce.key,ce):ie.set(ce.index,ce),ce=ce.sibling;return ie}function S(ce,ie){return ce=Ms(ce,ie),ce.index=0,ce.sibling=null,ce}function A(ce,ie,fe){return ce.index=fe,r?(fe=ce.alternate,fe!==null?(fe=fe.index,fe<ie?(ce.flags|=67108866,ie):fe):(ce.flags|=67108866,ie)):(ce.flags|=1048576,ie)}function j(ce){return r&&ce.alternate===null&&(ce.flags|=67108866),ce}function F(ce,ie,fe,Ce){return ie===null||ie.tag!==6?(ie=_c(fe,ce.mode,Ce),ie.return=ce,ie):(ie=S(ie,fe),ie.return=ce,ie)}function ee(ce,ie,fe,Ce){var We=fe.type;return We===E?_e(ce,ie,fe.props.children,Ce,fe.key):ie!==null&&(ie.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===I&&ml(We)===ie.type)?(ie=S(ie,fe.props),fd(ie,fe),ie.return=ce,ie):(ie=ul(fe.type,fe.key,fe.props,null,ce.mode,Ce),fd(ie,fe),ie.return=ce,ie)}function he(ce,ie,fe,Ce){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==fe.containerInfo||ie.stateNode.implementation!==fe.implementation?(ie=od(fe,ce.mode,Ce),ie.return=ce,ie):(ie=S(ie,fe.children||[]),ie.return=ce,ie)}function _e(ce,ie,fe,Ce,We){return ie===null||ie.tag!==7?(ie=fo(fe,ce.mode,Ce,We),ie.return=ce,ie):(ie=S(ie,fe),ie.return=ce,ie)}function Te(ce,ie,fe){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=_c(""+ie,ce.mode,fe),ie.return=ce,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case _:return fe=ul(ie.type,ie.key,ie.props,null,ce.mode,fe),fd(fe,ie),fe.return=ce,fe;case C:return ie=od(ie,ce.mode,fe),ie.return=ce,ie;case I:return ie=ml(ie),Te(ce,ie,fe)}if(ye(ie)||W(ie))return ie=fo(ie,ce.mode,fe,null),ie.return=ce,ie;if(typeof ie.then=="function")return Te(ce,Kh(ie),fe);if(ie.$$typeof===O)return Te(ce,Vh(ce,ie),fe);qh(ce,ie)}return null}function me(ce,ie,fe,Ce){var We=ie!==null?ie.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return We!==null?null:F(ce,ie,""+fe,Ce);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case _:return fe.key===We?ee(ce,ie,fe,Ce):null;case C:return fe.key===We?he(ce,ie,fe,Ce):null;case I:return fe=ml(fe),me(ce,ie,fe,Ce)}if(ye(fe)||W(fe))return We!==null?null:_e(ce,ie,fe,Ce,null);if(typeof fe.then=="function")return me(ce,ie,Kh(fe),Ce);if(fe.$$typeof===O)return me(ce,ie,Vh(ce,fe),Ce);qh(ce,fe)}return null}function ve(ce,ie,fe,Ce,We){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return ce=ce.get(fe)||null,F(ie,ce,""+Ce,We);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case _:return ce=ce.get(Ce.key===null?fe:Ce.key)||null,ee(ie,ce,Ce,We);case C:return ce=ce.get(Ce.key===null?fe:Ce.key)||null,he(ie,ce,Ce,We);case I:return Ce=ml(Ce),ve(ce,ie,fe,Ce,We)}if(ye(Ce)||W(Ce))return ce=ce.get(fe)||null,_e(ie,ce,Ce,We,null);if(typeof Ce.then=="function")return ve(ce,ie,fe,Kh(Ce),We);if(Ce.$$typeof===O)return ve(ce,ie,fe,Vh(ie,Ce),We);qh(ie,Ce)}return null}function Ue(ce,ie,fe,Ce){for(var We=null,kt=null,He=ie,ut=ie=0,wt=null;He!==null&&ut<fe.length;ut++){He.index>ut?(wt=He,He=null):wt=He.sibling;var Nt=me(ce,He,fe[ut],Ce);if(Nt===null){He===null&&(He=wt);break}r&&He&&Nt.alternate===null&&a(ce,He),ie=A(Nt,ie,ut),kt===null?We=Nt:kt.sibling=Nt,kt=Nt,He=wt}if(ut===fe.length)return f(ce,He),mt&&Ge(ce,ut),We;if(He===null){for(;ut<fe.length;ut++)He=Te(ce,fe[ut],Ce),He!==null&&(ie=A(He,ie,ut),kt===null?We=He:kt.sibling=He,kt=He);return mt&&Ge(ce,ut),We}for(He=m(He);ut<fe.length;ut++)wt=ve(He,ce,ut,fe[ut],Ce),wt!==null&&(r&&wt.alternate!==null&&He.delete(wt.key===null?ut:wt.key),ie=A(wt,ie,ut),kt===null?We=wt:kt.sibling=wt,kt=wt);return r&&He.forEach(function(ga){return a(ce,ga)}),mt&&Ge(ce,ut),We}function Xe(ce,ie,fe,Ce){if(fe==null)throw Error(i(151));for(var We=null,kt=null,He=ie,ut=ie=0,wt=null,Nt=fe.next();He!==null&&!Nt.done;ut++,Nt=fe.next()){He.index>ut?(wt=He,He=null):wt=He.sibling;var ga=me(ce,He,Nt.value,Ce);if(ga===null){He===null&&(He=wt);break}r&&He&&ga.alternate===null&&a(ce,He),ie=A(ga,ie,ut),kt===null?We=ga:kt.sibling=ga,kt=ga,He=wt}if(Nt.done)return f(ce,He),mt&&Ge(ce,ut),We;if(He===null){for(;!Nt.done;ut++,Nt=fe.next())Nt=Te(ce,Nt.value,Ce),Nt!==null&&(ie=A(Nt,ie,ut),kt===null?We=Nt:kt.sibling=Nt,kt=Nt);return mt&&Ge(ce,ut),We}for(He=m(He);!Nt.done;ut++,Nt=fe.next())Nt=ve(He,ce,ut,Nt.value,Ce),Nt!==null&&(r&&Nt.alternate!==null&&He.delete(Nt.key===null?ut:Nt.key),ie=A(Nt,ie,ut),kt===null?We=Nt:kt.sibling=Nt,kt=Nt);return r&&He.forEach(function(hz){return a(ce,hz)}),mt&&Ge(ce,ut),We}function qt(ce,ie,fe,Ce){if(typeof fe=="object"&&fe!==null&&fe.type===E&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case _:e:{for(var We=fe.key;ie!==null;){if(ie.key===We){if(We=fe.type,We===E){if(ie.tag===7){f(ce,ie.sibling),Ce=S(ie,fe.props.children),Ce.return=ce,ce=Ce;break e}}else if(ie.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===I&&ml(We)===ie.type){f(ce,ie.sibling),Ce=S(ie,fe.props),fd(Ce,fe),Ce.return=ce,ce=Ce;break e}f(ce,ie);break}else a(ce,ie);ie=ie.sibling}fe.type===E?(Ce=fo(fe.props.children,ce.mode,Ce,fe.key),Ce.return=ce,ce=Ce):(Ce=ul(fe.type,fe.key,fe.props,null,ce.mode,Ce),fd(Ce,fe),Ce.return=ce,ce=Ce)}return j(ce);case C:e:{for(We=fe.key;ie!==null;){if(ie.key===We)if(ie.tag===4&&ie.stateNode.containerInfo===fe.containerInfo&&ie.stateNode.implementation===fe.implementation){f(ce,ie.sibling),Ce=S(ie,fe.children||[]),Ce.return=ce,ce=Ce;break e}else{f(ce,ie);break}else a(ce,ie);ie=ie.sibling}Ce=od(fe,ce.mode,Ce),Ce.return=ce,ce=Ce}return j(ce);case I:return fe=ml(fe),qt(ce,ie,fe,Ce)}if(ye(fe))return Ue(ce,ie,fe,Ce);if(W(fe)){if(We=W(fe),typeof We!="function")throw Error(i(150));return fe=We.call(fe),Xe(ce,ie,fe,Ce)}if(typeof fe.then=="function")return qt(ce,ie,Kh(fe),Ce);if(fe.$$typeof===O)return qt(ce,ie,Vh(ce,fe),Ce);qh(ce,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,ie!==null&&ie.tag===6?(f(ce,ie.sibling),Ce=S(ie,fe),Ce.return=ce,ce=Ce):(f(ce,ie),Ce=_c(fe,ce.mode,Ce),Ce.return=ce,ce=Ce),j(ce)):f(ce,ie)}return function(ce,ie,fe,Ce){try{dd=0;var We=qt(ce,ie,fe,Ce);return Tc=null,We}catch(He){if(He===Ac||He===Hh)throw He;var kt=wi(29,He,null,ce.mode);return kt.lanes=Ce,kt.return=ce,kt}}}var vl=uS(!0),dS=uS(!1),Jo=!1;function Av(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tv(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ea(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ta(r,a,f){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,(Dt&2)!==0){var S=m.pending;return S===null?a.next=a:(a.next=S.next,S.next=a),m.pending=a,a=cl(r),Xo(r,null,f),a}return Dr(r,m,a,f),cl(r)}function hd(r,a,f){if(a=a.updateQueue,a!==null&&(a=a.shared,(f&4194048)!==0)){var m=a.lanes;m&=r.pendingLanes,f|=m,a.lanes=f,ri(r,f)}}function Rv(r,a){var f=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var S=null,A=null;if(f=f.firstBaseUpdate,f!==null){do{var j={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};A===null?S=A=j:A=A.next=j,f=f.next}while(f!==null);A===null?S=A=a:A=A.next=a}else S=A=a;f={baseState:m.baseState,firstBaseUpdate:S,lastBaseUpdate:A,shared:m.shared,callbacks:m.callbacks},r.updateQueue=f;return}r=f.lastBaseUpdate,r===null?f.firstBaseUpdate=a:r.next=a,f.lastBaseUpdate=a}var kv=!1;function pd(){if(kv){var r=Ec;if(r!==null)throw r}}function md(r,a,f,m){kv=!1;var S=r.updateQueue;Jo=!1;var A=S.firstBaseUpdate,j=S.lastBaseUpdate,F=S.shared.pending;if(F!==null){S.shared.pending=null;var ee=F,he=ee.next;ee.next=null,j===null?A=he:j.next=he,j=ee;var _e=r.alternate;_e!==null&&(_e=_e.updateQueue,F=_e.lastBaseUpdate,F!==j&&(F===null?_e.firstBaseUpdate=he:F.next=he,_e.lastBaseUpdate=ee))}if(A!==null){var Te=S.baseState;j=0,_e=he=ee=null,F=A;do{var me=F.lane&-536870913,ve=me!==F.lane;if(ve?(_t&me)===me:(m&me)===me){me!==0&&me===Cc&&(kv=!0),_e!==null&&(_e=_e.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var Ue=r,Xe=F;me=a;var qt=f;switch(Xe.tag){case 1:if(Ue=Xe.payload,typeof Ue=="function"){Te=Ue.call(qt,Te,me);break e}Te=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Xe.payload,me=typeof Ue=="function"?Ue.call(qt,Te,me):Ue,me==null)break e;Te=v({},Te,me);break e;case 2:Jo=!0}}me=F.callback,me!==null&&(r.flags|=64,ve&&(r.flags|=8192),ve=S.callbacks,ve===null?S.callbacks=[me]:ve.push(me))}else ve={lane:me,tag:F.tag,payload:F.payload,callback:F.callback,next:null},_e===null?(he=_e=ve,ee=Te):_e=_e.next=ve,j|=me;if(F=F.next,F===null){if(F=S.shared.pending,F===null)break;ve=F,F=ve.next,ve.next=null,S.lastBaseUpdate=ve,S.shared.pending=null}}while(!0);_e===null&&(ee=Te),S.baseState=ee,S.firstBaseUpdate=he,S.lastBaseUpdate=_e,A===null&&(S.shared.lanes=0),oa|=j,r.lanes=j,r.memoizedState=Te}}function fS(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function hS(r,a){var f=r.callbacks;if(f!==null)for(r.callbacks=null,r=0;r<f.length;r++)fS(f[r],a)}var Rc=K(null),Wh=K(0);function pS(r,a){r=So,be(Wh,r),be(Rc,a),So=r|a.baseLanes}function Nv(){be(Wh,So),be(Rc,Rc.current)}function Ov(){So=Wh.current,ae(Rc),ae(Wh)}var cs=K(null),Ds=null;function na(r){var a=r.alternate;be(Sn,Sn.current&1),be(cs,r),Ds===null&&(a===null||Rc.current!==null||a.memoizedState!==null)&&(Ds=r)}function Pv(r){be(Sn,Sn.current),be(cs,r),Ds===null&&(Ds=r)}function mS(r){r.tag===22?(be(Sn,Sn.current),be(cs,r),Ds===null&&(Ds=r)):ia()}function ia(){be(Sn,Sn.current),be(cs,cs.current)}function us(r){ae(cs),Ds===r&&(Ds=null),ae(Sn)}var Sn=K(0);function Yh(r){for(var a=r;a!==null;){if(a.tag===13){var f=a.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||zy(f)||By(f)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var mo=0,lt=null,Gt=null,kn=null,Zh=!1,kc=!1,yl=!1,Xh=0,gd=0,Nc=null,iI=0;function vn(){throw Error(i(321))}function Mv(r,a){if(a===null)return!1;for(var f=0;f<a.length&&f<r.length;f++)if(!Jn(r[f],a[f]))return!1;return!0}function Dv(r,a,f,m,S,A){return mo=A,lt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,G.H=r===null||r.memoizedState===null?QS:Yv,yl=!1,A=f(m,S),yl=!1,kc&&(A=vS(a,f,m,S)),gS(r),A}function gS(r){G.H=bd;var a=Gt!==null&&Gt.next!==null;if(mo=0,kn=Gt=lt=null,Zh=!1,gd=0,Nc=null,a)throw Error(i(300));r===null||Nn||(r=r.dependencies,r!==null&&Fh(r)&&(Nn=!0))}function vS(r,a,f,m){lt=r;var S=0;do{if(kc&&(Nc=null),gd=0,kc=!1,25<=S)throw Error(i(301));if(S+=1,kn=Gt=null,r.updateQueue!=null){var A=r.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}G.H=JS,A=a(f,m)}while(kc);return A}function sI(){var r=G.H,a=r.useState()[0];return a=typeof a.then=="function"?vd(a):a,r=r.useState()[0],(Gt!==null?Gt.memoizedState:null)!==r&&(lt.flags|=1024),a}function Lv(){var r=Xh!==0;return Xh=0,r}function jv(r,a,f){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~f}function Iv(r){if(Zh){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Zh=!1}mo=0,kn=Gt=lt=null,kc=!1,gd=Xh=0,Nc=null}function Oi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?lt.memoizedState=kn=r:kn=kn.next=r,kn}function Cn(){if(Gt===null){var r=lt.alternate;r=r!==null?r.memoizedState:null}else r=Gt.next;var a=kn===null?lt.memoizedState:kn.next;if(a!==null)kn=a,Gt=r;else{if(r===null)throw lt.alternate===null?Error(i(467)):Error(i(310));Gt=r,r={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},kn===null?lt.memoizedState=kn=r:kn=kn.next=r}return kn}function Qh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vd(r){var a=gd;return gd+=1,Nc===null&&(Nc=[]),r=aS(Nc,r,a),a=lt,(kn===null?a.memoizedState:kn.next)===null&&(a=a.alternate,G.H=a===null||a.memoizedState===null?QS:Yv),r}function Jh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return vd(r);if(r.$$typeof===O)return li(r)}throw Error(i(438,String(r)))}function zv(r){var a=null,f=lt.updateQueue;if(f!==null&&(a=f.memoCache),a==null){var m=lt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(a={data:m.data.map(function(S){return S.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),f===null&&(f=Qh(),lt.updateQueue=f),f.memoCache=a,f=a.data[a.index],f===void 0)for(f=a.data[a.index]=Array(r),m=0;m<r;m++)f[m]=Z;return a.index++,f}function go(r,a){return typeof a=="function"?a(r):a}function ep(r){var a=Cn();return Bv(a,Gt,r)}function Bv(r,a,f){var m=r.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=f;var S=r.baseQueue,A=m.pending;if(A!==null){if(S!==null){var j=S.next;S.next=A.next,A.next=j}a.baseQueue=S=A,m.pending=null}if(A=r.baseState,S===null)r.memoizedState=A;else{a=S.next;var F=j=null,ee=null,he=a,_e=!1;do{var Te=he.lane&-536870913;if(Te!==he.lane?(_t&Te)===Te:(mo&Te)===Te){var me=he.revertLane;if(me===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),Te===Cc&&(_e=!0);else if((mo&me)===me){he=he.next,me===Cc&&(_e=!0);continue}else Te={lane:0,revertLane:he.revertLane,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},ee===null?(F=ee=Te,j=A):ee=ee.next=Te,lt.lanes|=me,oa|=me;Te=he.action,yl&&f(A,Te),A=he.hasEagerState?he.eagerState:f(A,Te)}else me={lane:Te,revertLane:he.revertLane,gesture:he.gesture,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},ee===null?(F=ee=me,j=A):ee=ee.next=me,lt.lanes|=Te,oa|=Te;he=he.next}while(he!==null&&he!==a);if(ee===null?j=A:ee.next=F,!Jn(A,r.memoizedState)&&(Nn=!0,_e&&(f=Ec,f!==null)))throw f;r.memoizedState=A,r.baseState=j,r.baseQueue=ee,m.lastRenderedState=A}return S===null&&(m.lanes=0),[r.memoizedState,m.dispatch]}function Uv(r){var a=Cn(),f=a.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=r;var m=f.dispatch,S=f.pending,A=a.memoizedState;if(S!==null){f.pending=null;var j=S=S.next;do A=r(A,j.action),j=j.next;while(j!==S);Jn(A,a.memoizedState)||(Nn=!0),a.memoizedState=A,a.baseQueue===null&&(a.baseState=A),f.lastRenderedState=A}return[A,m]}function yS(r,a,f){var m=lt,S=Cn(),A=mt;if(A){if(f===void 0)throw Error(i(407));f=f()}else f=a();var j=!Jn((Gt||S).memoizedState,f);if(j&&(S.memoizedState=f,Nn=!0),S=S.queue,$v(_S.bind(null,m,S,r),[r]),S.getSnapshot!==a||j||kn!==null&&kn.memoizedState.tag&1){if(m.flags|=2048,Oc(9,{destroy:void 0},xS.bind(null,m,S,f,a),null),Wt===null)throw Error(i(349));A||(mo&127)!==0||bS(m,a,f)}return f}function bS(r,a,f){r.flags|=16384,r={getSnapshot:a,value:f},a=lt.updateQueue,a===null?(a=Qh(),lt.updateQueue=a,a.stores=[r]):(f=a.stores,f===null?a.stores=[r]:f.push(r))}function xS(r,a,f,m){a.value=f,a.getSnapshot=m,wS(a)&&SS(r)}function _S(r,a,f){return f(function(){wS(a)&&SS(r)})}function wS(r){var a=r.getSnapshot;r=r.value;try{var f=a();return!Jn(r,f)}catch{return!0}}function SS(r){var a=Ps(r,2);a!==null&&Zi(a,r,2)}function Fv(r){var a=Oi();if(typeof r=="function"){var f=r;if(r=f(),yl){si(!0);try{f()}finally{si(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:r},a}function CS(r,a,f,m){return r.baseState=f,Bv(r,Gt,typeof m=="function"?m:go)}function rI(r,a,f,m,S){if(ip(r))throw Error(i(485));if(r=a.action,r!==null){var A={payload:S,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){A.listeners.push(j)}};G.T!==null?f(!0):A.isTransition=!1,m(A),f=a.pending,f===null?(A.next=a.pending=A,ES(a,A)):(A.next=f.next,a.pending=f.next=A)}}function ES(r,a){var f=a.action,m=a.payload,S=r.state;if(a.isTransition){var A=G.T,j={};G.T=j;try{var F=f(S,m),ee=G.S;ee!==null&&ee(j,F),AS(r,a,F)}catch(he){Vv(r,a,he)}finally{A!==null&&j.types!==null&&(A.types=j.types),G.T=A}}else try{A=f(S,m),AS(r,a,A)}catch(he){Vv(r,a,he)}}function AS(r,a,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){TS(r,a,m)},function(m){return Vv(r,a,m)}):TS(r,a,f)}function TS(r,a,f){a.status="fulfilled",a.value=f,RS(a),r.state=f,a=r.pending,a!==null&&(f=a.next,f===a?r.pending=null:(f=f.next,a.next=f,ES(r,f)))}function Vv(r,a,f){var m=r.pending;if(r.pending=null,m!==null){m=m.next;do a.status="rejected",a.reason=f,RS(a),a=a.next;while(a!==m)}r.action=null}function RS(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function kS(r,a){return a}function NS(r,a){if(mt){var f=Wt.formState;if(f!==null){e:{var m=lt;if(mt){if(Rt){t:{for(var S=Rt,A=Gi;S.nodeType!==8;){if(!A){S=null;break t}if(S=Ls(S.nextSibling),S===null){S=null;break t}}A=S.data,S=A==="F!"||A==="F"?S:null}if(S){Rt=Ls(S.nextSibling),m=S.data==="F!";break e}}jr(m)}m=!1}m&&(a=f[0])}}return f=Oi(),f.memoizedState=f.baseState=a,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kS,lastRenderedState:a},f.queue=m,f=YS.bind(null,lt,m),m.dispatch=f,m=Fv(!1),A=Wv.bind(null,lt,!1,m.queue),m=Oi(),S={state:a,dispatch:null,action:r,pending:null},m.queue=S,f=rI.bind(null,lt,S,A,f),S.dispatch=f,m.memoizedState=r,[a,f,!1]}function OS(r){var a=Cn();return PS(a,Gt,r)}function PS(r,a,f){if(a=Bv(r,a,kS)[0],r=ep(go)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var m=vd(a)}catch(j){throw j===Ac?Hh:j}else m=a;a=Cn();var S=a.queue,A=S.dispatch;return f!==a.memoizedState&&(lt.flags|=2048,Oc(9,{destroy:void 0},oI.bind(null,S,f),null)),[m,A,r]}function oI(r,a){r.action=a}function MS(r){var a=Cn(),f=Gt;if(f!==null)return PS(a,f,r);Cn(),a=a.memoizedState,f=Cn();var m=f.queue.dispatch;return f.memoizedState=r,[a,m,!1]}function Oc(r,a,f,m){return r={tag:r,create:f,deps:m,inst:a,next:null},a=lt.updateQueue,a===null&&(a=Qh(),lt.updateQueue=a),f=a.lastEffect,f===null?a.lastEffect=r.next=r:(m=f.next,f.next=r,r.next=m,a.lastEffect=r),r}function DS(){return Cn().memoizedState}function tp(r,a,f,m){var S=Oi();lt.flags|=r,S.memoizedState=Oc(1|a,{destroy:void 0},f,m===void 0?null:m)}function np(r,a,f,m){var S=Cn();m=m===void 0?null:m;var A=S.memoizedState.inst;Gt!==null&&m!==null&&Mv(m,Gt.memoizedState.deps)?S.memoizedState=Oc(a,A,f,m):(lt.flags|=r,S.memoizedState=Oc(1|a,A,f,m))}function LS(r,a){tp(8390656,8,r,a)}function $v(r,a){np(2048,8,r,a)}function aI(r){lt.flags|=4;var a=lt.updateQueue;if(a===null)a=Qh(),lt.updateQueue=a,a.events=[r];else{var f=a.events;f===null?a.events=[r]:f.push(r)}}function jS(r){var a=Cn().memoizedState;return aI({ref:a,nextImpl:r}),function(){if((Dt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function IS(r,a){return np(4,2,r,a)}function zS(r,a){return np(4,4,r,a)}function BS(r,a){if(typeof a=="function"){r=r();var f=a(r);return function(){typeof f=="function"?f():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function US(r,a,f){f=f!=null?f.concat([r]):null,np(4,4,BS.bind(null,a,r),f)}function Hv(){}function FS(r,a){var f=Cn();a=a===void 0?null:a;var m=f.memoizedState;return a!==null&&Mv(a,m[1])?m[0]:(f.memoizedState=[r,a],r)}function VS(r,a){var f=Cn();a=a===void 0?null:a;var m=f.memoizedState;if(a!==null&&Mv(a,m[1]))return m[0];if(m=r(),yl){si(!0);try{r()}finally{si(!1)}}return f.memoizedState=[m,a],m}function Gv(r,a,f){return f===void 0||(mo&1073741824)!==0&&(_t&261930)===0?r.memoizedState=a:(r.memoizedState=f,r=$C(),lt.lanes|=r,oa|=r,f)}function $S(r,a,f,m){return Jn(f,a)?f:Rc.current!==null?(r=Gv(r,f,m),Jn(r,a)||(Nn=!0),r):(mo&42)===0||(mo&1073741824)!==0&&(_t&261930)===0?(Nn=!0,r.memoizedState=f):(r=$C(),lt.lanes|=r,oa|=r,a)}function HS(r,a,f,m,S){var A=Y.p;Y.p=A!==0&&8>A?A:8;var j=G.T,F={};G.T=F,Wv(r,!1,a,f);try{var ee=S(),he=G.S;if(he!==null&&he(F,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var _e=nI(ee,m);yd(r,a,_e,hs(r))}else yd(r,a,m,hs(r))}catch(Te){yd(r,a,{then:function(){},status:"rejected",reason:Te},hs())}finally{Y.p=A,j!==null&&F.types!==null&&(j.types=F.types),G.T=j}}function lI(){}function Kv(r,a,f,m){if(r.tag!==5)throw Error(i(476));var S=GS(r).queue;HS(r,S,a,te,f===null?lI:function(){return KS(r),f(m)})}function GS(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:te},next:null};var f={};return a.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:f},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function KS(r){var a=GS(r);a.next===null&&(a=r.alternate.memoizedState),yd(r,a.next.queue,{},hs())}function qv(){return li(Ld)}function qS(){return Cn().memoizedState}function WS(){return Cn().memoizedState}function cI(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var f=hs();r=ea(f);var m=ta(a,r,f);m!==null&&(Zi(m,a,f),hd(m,a,f)),a={cache:wv()},r.payload=a;return}a=a.return}}function uI(r,a,f){var m=hs();f={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},ip(r)?ZS(a,f):(f=id(r,a,f,m),f!==null&&(Zi(f,r,m),XS(f,a,m)))}function YS(r,a,f){var m=hs();yd(r,a,f,m)}function yd(r,a,f,m){var S={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(ip(r))ZS(a,S);else{var A=r.alternate;if(r.lanes===0&&(A===null||A.lanes===0)&&(A=a.lastRenderedReducer,A!==null))try{var j=a.lastRenderedState,F=A(j,f);if(S.hasEagerState=!0,S.eagerState=F,Jn(F,j))return Dr(r,a,S,0),Wt===null&&ll(),!1}catch{}if(f=id(r,a,S,m),f!==null)return Zi(f,r,m),XS(f,a,m),!0}return!1}function Wv(r,a,f,m){if(m={lane:2,revertLane:Ay(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},ip(r)){if(a)throw Error(i(479))}else a=id(r,f,m,2),a!==null&&Zi(a,r,2)}function ip(r){var a=r.alternate;return r===lt||a!==null&&a===lt}function ZS(r,a){kc=Zh=!0;var f=r.pending;f===null?a.next=a:(a.next=f.next,f.next=a),r.pending=a}function XS(r,a,f){if((f&4194048)!==0){var m=a.lanes;m&=r.pendingLanes,f|=m,a.lanes=f,ri(r,f)}}var bd={readContext:li,use:Jh,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useLayoutEffect:vn,useInsertionEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useSyncExternalStore:vn,useId:vn,useHostTransitionStatus:vn,useFormState:vn,useActionState:vn,useOptimistic:vn,useMemoCache:vn,useCacheRefresh:vn};bd.useEffectEvent=vn;var QS={readContext:li,use:Jh,useCallback:function(r,a){return Oi().memoizedState=[r,a===void 0?null:a],r},useContext:li,useEffect:LS,useImperativeHandle:function(r,a,f){f=f!=null?f.concat([r]):null,tp(4194308,4,BS.bind(null,a,r),f)},useLayoutEffect:function(r,a){return tp(4194308,4,r,a)},useInsertionEffect:function(r,a){tp(4,2,r,a)},useMemo:function(r,a){var f=Oi();a=a===void 0?null:a;var m=r();if(yl){si(!0);try{r()}finally{si(!1)}}return f.memoizedState=[m,a],m},useReducer:function(r,a,f){var m=Oi();if(f!==void 0){var S=f(a);if(yl){si(!0);try{f(a)}finally{si(!1)}}}else S=a;return m.memoizedState=m.baseState=S,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:S},m.queue=r,r=r.dispatch=uI.bind(null,lt,r),[m.memoizedState,r]},useRef:function(r){var a=Oi();return r={current:r},a.memoizedState=r},useState:function(r){r=Fv(r);var a=r.queue,f=YS.bind(null,lt,a);return a.dispatch=f,[r.memoizedState,f]},useDebugValue:Hv,useDeferredValue:function(r,a){var f=Oi();return Gv(f,r,a)},useTransition:function(){var r=Fv(!1);return r=HS.bind(null,lt,r.queue,!0,!1),Oi().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,f){var m=lt,S=Oi();if(mt){if(f===void 0)throw Error(i(407));f=f()}else{if(f=a(),Wt===null)throw Error(i(349));(_t&127)!==0||bS(m,a,f)}S.memoizedState=f;var A={value:f,getSnapshot:a};return S.queue=A,LS(_S.bind(null,m,A,r),[r]),m.flags|=2048,Oc(9,{destroy:void 0},xS.bind(null,m,A,f,a),null),f},useId:function(){var r=Oi(),a=Wt.identifierPrefix;if(mt){var f=Pe,m=Ae;f=(m&~(1<<32-En(m)-1)).toString(32)+f,a="_"+a+"R_"+f,f=Xh++,0<f&&(a+="H"+f.toString(32)),a+="_"}else f=iI++,a="_"+a+"r_"+f.toString(32)+"_";return r.memoizedState=a},useHostTransitionStatus:qv,useFormState:NS,useActionState:NS,useOptimistic:function(r){var a=Oi();a.memoizedState=a.baseState=r;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=f,a=Wv.bind(null,lt,!0,f),f.dispatch=a,[r,a]},useMemoCache:zv,useCacheRefresh:function(){return Oi().memoizedState=cI.bind(null,lt)},useEffectEvent:function(r){var a=Oi(),f={impl:r};return a.memoizedState=f,function(){if((Dt&2)!==0)throw Error(i(440));return f.impl.apply(void 0,arguments)}}},Yv={readContext:li,use:Jh,useCallback:FS,useContext:li,useEffect:$v,useImperativeHandle:US,useInsertionEffect:IS,useLayoutEffect:zS,useMemo:VS,useReducer:ep,useRef:DS,useState:function(){return ep(go)},useDebugValue:Hv,useDeferredValue:function(r,a){var f=Cn();return $S(f,Gt.memoizedState,r,a)},useTransition:function(){var r=ep(go)[0],a=Cn().memoizedState;return[typeof r=="boolean"?r:vd(r),a]},useSyncExternalStore:yS,useId:qS,useHostTransitionStatus:qv,useFormState:OS,useActionState:OS,useOptimistic:function(r,a){var f=Cn();return CS(f,Gt,r,a)},useMemoCache:zv,useCacheRefresh:WS};Yv.useEffectEvent=jS;var JS={readContext:li,use:Jh,useCallback:FS,useContext:li,useEffect:$v,useImperativeHandle:US,useInsertionEffect:IS,useLayoutEffect:zS,useMemo:VS,useReducer:Uv,useRef:DS,useState:function(){return Uv(go)},useDebugValue:Hv,useDeferredValue:function(r,a){var f=Cn();return Gt===null?Gv(f,r,a):$S(f,Gt.memoizedState,r,a)},useTransition:function(){var r=Uv(go)[0],a=Cn().memoizedState;return[typeof r=="boolean"?r:vd(r),a]},useSyncExternalStore:yS,useId:qS,useHostTransitionStatus:qv,useFormState:MS,useActionState:MS,useOptimistic:function(r,a){var f=Cn();return Gt!==null?CS(f,Gt,r,a):(f.baseState=r,[r,f.queue.dispatch])},useMemoCache:zv,useCacheRefresh:WS};JS.useEffectEvent=jS;function Zv(r,a,f,m){a=r.memoizedState,f=f(m,a),f=f==null?a:v({},a,f),r.memoizedState=f,r.lanes===0&&(r.updateQueue.baseState=f)}var Xv={enqueueSetState:function(r,a,f){r=r._reactInternals;var m=hs(),S=ea(m);S.payload=a,f!=null&&(S.callback=f),a=ta(r,S,m),a!==null&&(Zi(a,r,m),hd(a,r,m))},enqueueReplaceState:function(r,a,f){r=r._reactInternals;var m=hs(),S=ea(m);S.tag=1,S.payload=a,f!=null&&(S.callback=f),a=ta(r,S,m),a!==null&&(Zi(a,r,m),hd(a,r,m))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var f=hs(),m=ea(f);m.tag=2,a!=null&&(m.callback=a),a=ta(r,m,f),a!==null&&(Zi(a,r,f),hd(a,r,f))}};function eC(r,a,f,m,S,A,j){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,A,j):a.prototype&&a.prototype.isPureReactComponent?!qo(f,m)||!qo(S,A):!0}function tC(r,a,f,m){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(f,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(f,m),a.state!==r&&Xv.enqueueReplaceState(a,a.state,null)}function bl(r,a){var f=a;if("ref"in a){f={};for(var m in a)m!=="ref"&&(f[m]=a[m])}if(r=r.defaultProps){f===a&&(f=v({},f));for(var S in r)f[S]===void 0&&(f[S]=r[S])}return f}function nC(r){al(r)}function iC(r){console.error(r)}function sC(r){al(r)}function sp(r,a){try{var f=r.onUncaughtError;f(a.value,{componentStack:a.stack})}catch(m){setTimeout(function(){throw m})}}function rC(r,a,f){try{var m=r.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function Qv(r,a,f){return f=ea(f),f.tag=3,f.payload={element:null},f.callback=function(){sp(r,a)},f}function oC(r){return r=ea(r),r.tag=3,r}function aC(r,a,f,m){var S=f.type.getDerivedStateFromError;if(typeof S=="function"){var A=m.value;r.payload=function(){return S(A)},r.callback=function(){rC(a,f,m)}}var j=f.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(r.callback=function(){rC(a,f,m),typeof S!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var F=m.stack;this.componentDidCatch(m.value,{componentStack:F!==null?F:""})})}function dI(r,a,f,m,S){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(a=f.alternate,a!==null&&Sc(a,f,S,!0),f=cs.current,f!==null){switch(f.tag){case 31:case 13:return Ds===null?gp():f.alternate===null&&yn===0&&(yn=3),f.flags&=-257,f.flags|=65536,f.lanes=S,m===Gh?f.flags|=16384:(a=f.updateQueue,a===null?f.updateQueue=new Set([m]):a.add(m),Sy(r,m,S)),!1;case 22:return f.flags|=65536,m===Gh?f.flags|=16384:(a=f.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=a):(f=a.retryQueue,f===null?a.retryQueue=new Set([m]):f.add(m)),Sy(r,m,S)),!1}throw Error(i(435,f.tag))}return Sy(r,m,S),gp(),!1}if(mt)return a=cs.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=S,m!==wc&&(r=Error(i(422),{cause:m}),dl(p(r,f)))):(m!==wc&&(a=Error(i(423),{cause:m}),dl(p(a,f))),r=r.current.alternate,r.flags|=65536,S&=-S,r.lanes|=S,m=p(m,f),S=Qv(r.stateNode,m,S),Rv(r,S),yn!==4&&(yn=2)),!1;var A=Error(i(520),{cause:m});if(A=p(A,f),Td===null?Td=[A]:Td.push(A),yn!==4&&(yn=2),a===null)return!0;m=p(m,f),f=a;do{switch(f.tag){case 3:return f.flags|=65536,r=S&-S,f.lanes|=r,r=Qv(f.stateNode,m,r),Rv(f,r),!1;case 1:if(a=f.type,A=f.stateNode,(f.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(aa===null||!aa.has(A))))return f.flags|=65536,S&=-S,f.lanes|=S,S=oC(S),aC(S,r,f,m),Rv(f,S),!1}f=f.return}while(f!==null);return!1}var Jv=Error(i(461)),Nn=!1;function ci(r,a,f,m){a.child=r===null?dS(a,null,f,m):vl(a,r.child,f,m)}function lC(r,a,f,m,S){f=f.render;var A=a.ref;if("ref"in m){var j={};for(var F in m)F!=="ref"&&(j[F]=m[F])}else j=m;return hl(a),m=Dv(r,a,f,j,A,S),F=Lv(),r!==null&&!Nn?(jv(r,a,S),vo(r,a,S)):(mt&&F&&In(a),a.flags|=1,ci(r,a,m,S),a.child)}function cC(r,a,f,m,S){if(r===null){var A=f.type;return typeof A=="function"&&!xc(A)&&A.defaultProps===void 0&&f.compare===null?(a.tag=15,a.type=A,uC(r,a,A,m,S)):(r=ul(f.type,null,m,a,a.mode,S),r.ref=a.ref,r.return=a,a.child=r)}if(A=r.child,!ay(r,S)){var j=A.memoizedProps;if(f=f.compare,f=f!==null?f:qo,f(j,m)&&r.ref===a.ref)return vo(r,a,S)}return a.flags|=1,r=Ms(A,m),r.ref=a.ref,r.return=a,a.child=r}function uC(r,a,f,m,S){if(r!==null){var A=r.memoizedProps;if(qo(A,m)&&r.ref===a.ref)if(Nn=!1,a.pendingProps=m=A,ay(r,S))(r.flags&131072)!==0&&(Nn=!0);else return a.lanes=r.lanes,vo(r,a,S)}return ey(r,a,f,m,S)}function dC(r,a,f,m){var S=m.children,A=r!==null?r.memoizedState:null;if(r===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((a.flags&128)!==0){if(A=A!==null?A.baseLanes|f:f,r!==null){for(m=a.child=r.child,S=0;m!==null;)S=S|m.lanes|m.childLanes,m=m.sibling;m=S&~A}else m=0,a.child=null;return fC(r,a,A,f,m)}if((f&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&$h(a,A!==null?A.cachePool:null),A!==null?pS(a,A):Nv(),mS(a);else return m=a.lanes=536870912,fC(r,a,A!==null?A.baseLanes|f:f,f,m)}else A!==null?($h(a,A.cachePool),pS(a,A),ia(),a.memoizedState=null):(r!==null&&$h(a,null),Nv(),ia());return ci(r,a,S,f),a.child}function xd(r,a){return r!==null&&r.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function fC(r,a,f,m,S){var A=Cv();return A=A===null?null:{parent:Rn._currentValue,pool:A},a.memoizedState={baseLanes:f,cachePool:A},r!==null&&$h(a,null),Nv(),mS(a),r!==null&&Sc(r,a,m,!0),a.childLanes=S,null}function rp(r,a){return a=ap({mode:a.mode,children:a.children},r.mode),a.ref=r.ref,r.child=a,a.return=r,a}function hC(r,a,f){return vl(a,r.child,null,f),r=rp(a,a.pendingProps),r.flags|=2,us(a),a.memoizedState=null,r}function fI(r,a,f){var m=a.pendingProps,S=(a.flags&128)!==0;if(a.flags&=-129,r===null){if(mt){if(m.mode==="hidden")return r=rp(a,m),a.lanes=536870912,xd(null,r);if(Pv(a),(r=Rt)?(r=EE(r,Gi),r=r!==null&&r.data==="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:pe!==null?{id:Ae,overflow:Pe}:null,retryLane:536870912,hydrationErrors:null},f=rd(r),f.return=a,a.child=f,Tt=a,Rt=null)):r=null,r===null)throw jr(a);return a.lanes=536870912,null}return rp(a,m)}var A=r.memoizedState;if(A!==null){var j=A.dehydrated;if(Pv(a),S)if(a.flags&256)a.flags&=-257,a=hC(r,a,f);else if(a.memoizedState!==null)a.child=r.child,a.flags|=128,a=null;else throw Error(i(558));else if(Nn||Sc(r,a,f,!1),S=(f&r.childLanes)!==0,Nn||S){if(m=Wt,m!==null&&(j=yi(m,f),j!==0&&j!==A.retryLane))throw A.retryLane=j,Ps(r,j),Zi(m,r,j),Jv;gp(),a=hC(r,a,f)}else r=A.treeContext,Rt=Ls(j.nextSibling),Tt=a,mt=!0,Lr=null,Gi=!1,r!==null&&Ni(a,r),a=rp(a,m),a.flags|=4096;return a}return r=Ms(r.child,{mode:m.mode,children:m.children}),r.ref=a.ref,a.child=r,r.return=a,r}function op(r,a){var f=a.ref;if(f===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(i(284));(r===null||r.ref!==f)&&(a.flags|=4194816)}}function ey(r,a,f,m,S){return hl(a),f=Dv(r,a,f,m,void 0,S),m=Lv(),r!==null&&!Nn?(jv(r,a,S),vo(r,a,S)):(mt&&m&&In(a),a.flags|=1,ci(r,a,f,S),a.child)}function pC(r,a,f,m,S,A){return hl(a),a.updateQueue=null,f=vS(a,m,f,S),gS(r),m=Lv(),r!==null&&!Nn?(jv(r,a,A),vo(r,a,A)):(mt&&m&&In(a),a.flags|=1,ci(r,a,f,A),a.child)}function mC(r,a,f,m,S){if(hl(a),a.stateNode===null){var A=uo,j=f.contextType;typeof j=="object"&&j!==null&&(A=li(j)),A=new f(m,A),a.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=Xv,a.stateNode=A,A._reactInternals=a,A=a.stateNode,A.props=m,A.state=a.memoizedState,A.refs={},Av(a),j=f.contextType,A.context=typeof j=="object"&&j!==null?li(j):uo,A.state=a.memoizedState,j=f.getDerivedStateFromProps,typeof j=="function"&&(Zv(a,f,j,m),A.state=a.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(j=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),j!==A.state&&Xv.enqueueReplaceState(A,A.state,null),md(a,m,A,S),pd(),A.state=a.memoizedState),typeof A.componentDidMount=="function"&&(a.flags|=4194308),m=!0}else if(r===null){A=a.stateNode;var F=a.memoizedProps,ee=bl(f,F);A.props=ee;var he=A.context,_e=f.contextType;j=uo,typeof _e=="object"&&_e!==null&&(j=li(_e));var Te=f.getDerivedStateFromProps;_e=typeof Te=="function"||typeof A.getSnapshotBeforeUpdate=="function",F=a.pendingProps!==F,_e||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(F||he!==j)&&tC(a,A,m,j),Jo=!1;var me=a.memoizedState;A.state=me,md(a,m,A,S),pd(),he=a.memoizedState,F||me!==he||Jo?(typeof Te=="function"&&(Zv(a,f,Te,m),he=a.memoizedState),(ee=Jo||eC(a,f,ee,m,me,he,j))?(_e||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(a.flags|=4194308)):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=he),A.props=m,A.state=he,A.context=j,m=ee):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{A=a.stateNode,Tv(r,a),j=a.memoizedProps,_e=bl(f,j),A.props=_e,Te=a.pendingProps,me=A.context,he=f.contextType,ee=uo,typeof he=="object"&&he!==null&&(ee=li(he)),F=f.getDerivedStateFromProps,(he=typeof F=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(j!==Te||me!==ee)&&tC(a,A,m,ee),Jo=!1,me=a.memoizedState,A.state=me,md(a,m,A,S),pd();var ve=a.memoizedState;j!==Te||me!==ve||Jo||r!==null&&r.dependencies!==null&&Fh(r.dependencies)?(typeof F=="function"&&(Zv(a,f,F,m),ve=a.memoizedState),(_e=Jo||eC(a,f,_e,m,me,ve,ee)||r!==null&&r.dependencies!==null&&Fh(r.dependencies))?(he||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(m,ve,ee),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(m,ve,ee)),typeof A.componentDidUpdate=="function"&&(a.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof A.componentDidUpdate!="function"||j===r.memoizedProps&&me===r.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||j===r.memoizedProps&&me===r.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=ve),A.props=m,A.state=ve,A.context=ee,m=_e):(typeof A.componentDidUpdate!="function"||j===r.memoizedProps&&me===r.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||j===r.memoizedProps&&me===r.memoizedState||(a.flags|=1024),m=!1)}return A=m,op(r,a),m=(a.flags&128)!==0,A||m?(A=a.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:A.render(),a.flags|=1,r!==null&&m?(a.child=vl(a,r.child,null,S),a.child=vl(a,null,f,S)):ci(r,a,f,S),a.memoizedState=A.state,r=a.child):r=vo(r,a,S),r}function gC(r,a,f,m){return ho(),a.flags|=256,ci(r,a,f,m),a.child}var ty={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ny(r){return{baseLanes:r,cachePool:rS()}}function iy(r,a,f){return r=r!==null?r.childLanes&~f:0,a&&(r|=fs),r}function vC(r,a,f){var m=a.pendingProps,S=!1,A=(a.flags&128)!==0,j;if((j=A)||(j=r!==null&&r.memoizedState===null?!1:(Sn.current&2)!==0),j&&(S=!0,a.flags&=-129),j=(a.flags&32)!==0,a.flags&=-33,r===null){if(mt){if(S?na(a):ia(),(r=Rt)?(r=EE(r,Gi),r=r!==null&&r.data!=="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:pe!==null?{id:Ae,overflow:Pe}:null,retryLane:536870912,hydrationErrors:null},f=rd(r),f.return=a,a.child=f,Tt=a,Rt=null)):r=null,r===null)throw jr(a);return By(r)?a.lanes=32:a.lanes=536870912,null}var F=m.children;return m=m.fallback,S?(ia(),S=a.mode,F=ap({mode:"hidden",children:F},S),m=fo(m,S,f,null),F.return=a,m.return=a,F.sibling=m,a.child=F,m=a.child,m.memoizedState=ny(f),m.childLanes=iy(r,j,f),a.memoizedState=ty,xd(null,m)):(na(a),sy(a,F))}var ee=r.memoizedState;if(ee!==null&&(F=ee.dehydrated,F!==null)){if(A)a.flags&256?(na(a),a.flags&=-257,a=ry(r,a,f)):a.memoizedState!==null?(ia(),a.child=r.child,a.flags|=128,a=null):(ia(),F=m.fallback,S=a.mode,m=ap({mode:"visible",children:m.children},S),F=fo(F,S,f,null),F.flags|=2,m.return=a,F.return=a,m.sibling=F,a.child=m,vl(a,r.child,null,f),m=a.child,m.memoizedState=ny(f),m.childLanes=iy(r,j,f),a.memoizedState=ty,a=xd(null,m));else if(na(a),By(F)){if(j=F.nextSibling&&F.nextSibling.dataset,j)var he=j.dgst;j=he,m=Error(i(419)),m.stack="",m.digest=j,dl({value:m,source:null,stack:null}),a=ry(r,a,f)}else if(Nn||Sc(r,a,f,!1),j=(f&r.childLanes)!==0,Nn||j){if(j=Wt,j!==null&&(m=yi(j,f),m!==0&&m!==ee.retryLane))throw ee.retryLane=m,Ps(r,m),Zi(j,r,m),Jv;zy(F)||gp(),a=ry(r,a,f)}else zy(F)?(a.flags|=192,a.child=r.child,a=null):(r=ee.treeContext,Rt=Ls(F.nextSibling),Tt=a,mt=!0,Lr=null,Gi=!1,r!==null&&Ni(a,r),a=sy(a,m.children),a.flags|=4096);return a}return S?(ia(),F=m.fallback,S=a.mode,ee=r.child,he=ee.sibling,m=Ms(ee,{mode:"hidden",children:m.children}),m.subtreeFlags=ee.subtreeFlags&65011712,he!==null?F=Ms(he,F):(F=fo(F,S,f,null),F.flags|=2),F.return=a,m.return=a,m.sibling=F,a.child=m,xd(null,m),m=a.child,F=r.child.memoizedState,F===null?F=ny(f):(S=F.cachePool,S!==null?(ee=Rn._currentValue,S=S.parent!==ee?{parent:ee,pool:ee}:S):S=rS(),F={baseLanes:F.baseLanes|f,cachePool:S}),m.memoizedState=F,m.childLanes=iy(r,j,f),a.memoizedState=ty,xd(r.child,m)):(na(a),f=r.child,r=f.sibling,f=Ms(f,{mode:"visible",children:m.children}),f.return=a,f.sibling=null,r!==null&&(j=a.deletions,j===null?(a.deletions=[r],a.flags|=16):j.push(r)),a.child=f,a.memoizedState=null,f)}function sy(r,a){return a=ap({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function ap(r,a){return r=wi(22,r,null,a),r.lanes=0,r}function ry(r,a,f){return vl(a,r.child,null,f),r=sy(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function yC(r,a,f){r.lanes|=a;var m=r.alternate;m!==null&&(m.lanes|=a),xv(r.return,a,f)}function oy(r,a,f,m,S,A){var j=r.memoizedState;j===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:S,treeForkCount:A}:(j.isBackwards=a,j.rendering=null,j.renderingStartTime=0,j.last=m,j.tail=f,j.tailMode=S,j.treeForkCount=A)}function bC(r,a,f){var m=a.pendingProps,S=m.revealOrder,A=m.tail;m=m.children;var j=Sn.current,F=(j&2)!==0;if(F?(j=j&1|2,a.flags|=128):j&=1,be(Sn,j),ci(r,a,m,f),m=mt?B:0,!F&&r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&yC(r,f,a);else if(r.tag===19)yC(r,f,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(S){case"forwards":for(f=a.child,S=null;f!==null;)r=f.alternate,r!==null&&Yh(r)===null&&(S=f),f=f.sibling;f=S,f===null?(S=a.child,a.child=null):(S=f.sibling,f.sibling=null),oy(a,!1,S,f,A,m);break;case"backwards":case"unstable_legacy-backwards":for(f=null,S=a.child,a.child=null;S!==null;){if(r=S.alternate,r!==null&&Yh(r)===null){a.child=S;break}r=S.sibling,S.sibling=f,f=S,S=r}oy(a,!0,f,null,A,m);break;case"together":oy(a,!1,null,null,void 0,m);break;default:a.memoizedState=null}return a.child}function vo(r,a,f){if(r!==null&&(a.dependencies=r.dependencies),oa|=a.lanes,(f&a.childLanes)===0)if(r!==null){if(Sc(r,a,f,!1),(f&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,f=Ms(r,r.pendingProps),a.child=f,f.return=a;r.sibling!==null;)r=r.sibling,f=f.sibling=Ms(r,r.pendingProps),f.return=a;f.sibling=null}return a.child}function ay(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Fh(r)))}function hI(r,a,f){switch(a.tag){case 3:je(a,a.stateNode.containerInfo),Qo(a,Rn,r.memoizedState.cache),ho();break;case 27:case 5:De(a);break;case 4:je(a,a.stateNode.containerInfo);break;case 10:Qo(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Pv(a),null;break;case 13:var m=a.memoizedState;if(m!==null)return m.dehydrated!==null?(na(a),a.flags|=128,null):(f&a.child.childLanes)!==0?vC(r,a,f):(na(a),r=vo(r,a,f),r!==null?r.sibling:null);na(a);break;case 19:var S=(r.flags&128)!==0;if(m=(f&a.childLanes)!==0,m||(Sc(r,a,f,!1),m=(f&a.childLanes)!==0),S){if(m)return bC(r,a,f);a.flags|=128}if(S=a.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),be(Sn,Sn.current),m)break;return null;case 22:return a.lanes=0,dC(r,a,f,a.pendingProps);case 24:Qo(a,Rn,r.memoizedState.cache)}return vo(r,a,f)}function xC(r,a,f){if(r!==null)if(r.memoizedProps!==a.pendingProps)Nn=!0;else{if(!ay(r,f)&&(a.flags&128)===0)return Nn=!1,hI(r,a,f);Nn=(r.flags&131072)!==0}else Nn=!1,mt&&(a.flags&1048576)!==0&&ct(a,B,a.index);switch(a.lanes=0,a.tag){case 16:e:{var m=a.pendingProps;if(r=ml(a.elementType),a.type=r,typeof r=="function")xc(r)?(m=bl(r,m),a.tag=1,a=mC(null,a,r,m,f)):(a.tag=0,a=ey(null,a,r,m,f));else{if(r!=null){var S=r.$$typeof;if(S===M){a.tag=11,a=lC(null,a,r,m,f);break e}else if(S===z){a.tag=14,a=cC(null,a,r,m,f);break e}}throw a=re(r)||r,Error(i(306,a,""))}}return a;case 0:return ey(r,a,a.type,a.pendingProps,f);case 1:return m=a.type,S=bl(m,a.pendingProps),mC(r,a,m,S,f);case 3:e:{if(je(a,a.stateNode.containerInfo),r===null)throw Error(i(387));m=a.pendingProps;var A=a.memoizedState;S=A.element,Tv(r,a),md(a,m,null,f);var j=a.memoizedState;if(m=j.cache,Qo(a,Rn,m),m!==A.cache&&_v(a,[Rn],f,!0),pd(),m=j.element,A.isDehydrated)if(A={element:m,isDehydrated:!1,cache:j.cache},a.updateQueue.baseState=A,a.memoizedState=A,a.flags&256){a=gC(r,a,m,f);break e}else if(m!==S){S=p(Error(i(424)),a),dl(S),a=gC(r,a,m,f);break e}else for(r=a.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,Rt=Ls(r.firstChild),Tt=a,mt=!0,Lr=null,Gi=!0,f=dS(a,null,m,f),a.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(ho(),m===S){a=vo(r,a,f);break e}ci(r,a,m,f)}a=a.child}return a;case 26:return op(r,a),r===null?(f=OE(a.type,null,a.pendingProps,null))?a.memoizedState=f:mt||(f=a.type,r=a.pendingProps,m=Sp(we.current).createElement(f),m[pn]=a,m[Tn]=r,ui(m,f,r),ln(m),a.stateNode=m):a.memoizedState=OE(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return De(a),r===null&&mt&&(m=a.stateNode=RE(a.type,a.pendingProps,we.current),Tt=a,Gi=!0,S=Rt,da(a.type)?(Uy=S,Rt=Ls(m.firstChild)):Rt=S),ci(r,a,a.pendingProps.children,f),op(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&mt&&((S=m=Rt)&&(m=$I(m,a.type,a.pendingProps,Gi),m!==null?(a.stateNode=m,Tt=a,Rt=Ls(m.firstChild),Gi=!1,S=!0):S=!1),S||jr(a)),De(a),S=a.type,A=a.pendingProps,j=r!==null?r.memoizedProps:null,m=A.children,Ly(S,A)?m=null:j!==null&&Ly(S,j)&&(a.flags|=32),a.memoizedState!==null&&(S=Dv(r,a,sI,null,null,f),Ld._currentValue=S),op(r,a),ci(r,a,m,f),a.child;case 6:return r===null&&mt&&((r=f=Rt)&&(f=HI(f,a.pendingProps,Gi),f!==null?(a.stateNode=f,Tt=a,Rt=null,r=!0):r=!1),r||jr(a)),null;case 13:return vC(r,a,f);case 4:return je(a,a.stateNode.containerInfo),m=a.pendingProps,r===null?a.child=vl(a,null,m,f):ci(r,a,m,f),a.child;case 11:return lC(r,a,a.type,a.pendingProps,f);case 7:return ci(r,a,a.pendingProps,f),a.child;case 8:return ci(r,a,a.pendingProps.children,f),a.child;case 12:return ci(r,a,a.pendingProps.children,f),a.child;case 10:return m=a.pendingProps,Qo(a,a.type,m.value),ci(r,a,m.children,f),a.child;case 9:return S=a.type._context,m=a.pendingProps.children,hl(a),S=li(S),m=m(S),a.flags|=1,ci(r,a,m,f),a.child;case 14:return cC(r,a,a.type,a.pendingProps,f);case 15:return uC(r,a,a.type,a.pendingProps,f);case 19:return bC(r,a,f);case 31:return fI(r,a,f);case 22:return dC(r,a,f,a.pendingProps);case 24:return hl(a),m=li(Rn),r===null?(S=Cv(),S===null&&(S=Wt,A=wv(),S.pooledCache=A,A.refCount++,A!==null&&(S.pooledCacheLanes|=f),S=A),a.memoizedState={parent:m,cache:S},Av(a),Qo(a,Rn,S)):((r.lanes&f)!==0&&(Tv(r,a),md(a,null,null,f),pd()),S=r.memoizedState,A=a.memoizedState,S.parent!==m?(S={parent:m,cache:m},a.memoizedState=S,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=S),Qo(a,Rn,m)):(m=A.cache,Qo(a,Rn,m),m!==S.cache&&_v(a,[Rn],f,!0))),ci(r,a,a.pendingProps.children,f),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function yo(r){r.flags|=4}function ly(r,a,f,m,S){if((a=(r.mode&32)!==0)&&(a=!1),a){if(r.flags|=16777216,(S&335544128)===S)if(r.stateNode.complete)r.flags|=8192;else if(qC())r.flags|=8192;else throw gl=Gh,Ev}else r.flags&=-16777217}function _C(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!jE(a))if(qC())r.flags|=8192;else throw gl=Gh,Ev}function lp(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?An():536870912,r.lanes|=a,Lc|=a)}function _d(r,a){if(!mt)switch(r.tailMode){case"hidden":a=r.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?r.tail=null:f.sibling=null;break;case"collapsed":f=r.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function en(r){var a=r.alternate!==null&&r.alternate.child===r.child,f=0,m=0;if(a)for(var S=r.child;S!==null;)f|=S.lanes|S.childLanes,m|=S.subtreeFlags&65011712,m|=S.flags&65011712,S.return=r,S=S.sibling;else for(S=r.child;S!==null;)f|=S.lanes|S.childLanes,m|=S.subtreeFlags,m|=S.flags,S.return=r,S=S.sibling;return r.subtreeFlags|=m,r.childLanes=f,a}function pI(r,a,f){var m=a.pendingProps;switch(gn(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(a),null;case 1:return en(a),null;case 3:return f=a.stateNode,m=null,r!==null&&(m=r.memoizedState.cache),a.memoizedState.cache!==m&&(a.flags|=2048),po(Rn),Me(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(ir(a)?yo(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ld())),en(a),null;case 26:var S=a.type,A=a.memoizedState;return r===null?(yo(a),A!==null?(en(a),_C(a,A)):(en(a),ly(a,S,null,m,f))):A?A!==r.memoizedState?(yo(a),en(a),_C(a,A)):(en(a),a.flags&=-16777217):(r=r.memoizedProps,r!==m&&yo(a),en(a),ly(a,S,r,m,f)),null;case 27:if(Ye(a),f=we.current,S=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==m&&yo(a);else{if(!m){if(a.stateNode===null)throw Error(i(166));return en(a),null}r=xe.current,ir(a)?ad(a):(r=RE(S,m,f),a.stateNode=r,yo(a))}return en(a),null;case 5:if(Ye(a),S=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==m&&yo(a);else{if(!m){if(a.stateNode===null)throw Error(i(166));return en(a),null}if(A=xe.current,ir(a))ad(a);else{var j=Sp(we.current);switch(A){case 1:A=j.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:A=j.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":A=j.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":A=j.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":A=j.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof m.is=="string"?j.createElement("select",{is:m.is}):j.createElement("select"),m.multiple?A.multiple=!0:m.size&&(A.size=m.size);break;default:A=typeof m.is=="string"?j.createElement(S,{is:m.is}):j.createElement(S)}}A[pn]=a,A[Tn]=m;e:for(j=a.child;j!==null;){if(j.tag===5||j.tag===6)A.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===a)break e;for(;j.sibling===null;){if(j.return===null||j.return===a)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}a.stateNode=A;e:switch(ui(A,S,m),S){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&yo(a)}}return en(a),ly(a,a.type,r===null?null:r.memoizedProps,a.pendingProps,f),null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==m&&yo(a);else{if(typeof m!="string"&&a.stateNode===null)throw Error(i(166));if(r=we.current,ir(a)){if(r=a.stateNode,f=a.memoizedProps,m=null,S=Tt,S!==null)switch(S.tag){case 27:case 5:m=S.memoizedProps}r[pn]=a,r=!!(r.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||vE(r.nodeValue,f)),r||jr(a,!0)}else r=Sp(r).createTextNode(m),r[pn]=a,a.stateNode=r}return en(a),null;case 31:if(f=a.memoizedState,r===null||r.memoizedState!==null){if(m=ir(a),f!==null){if(r===null){if(!m)throw Error(i(318));if(r=a.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[pn]=a}else ho(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;en(a),r=!1}else f=ld(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),r=!0;if(!r)return a.flags&256?(us(a),a):(us(a),null);if((a.flags&128)!==0)throw Error(i(558))}return en(a),null;case 13:if(m=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(S=ir(a),m!==null&&m.dehydrated!==null){if(r===null){if(!S)throw Error(i(318));if(S=a.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(i(317));S[pn]=a}else ho(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;en(a),S=!1}else S=ld(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=S),S=!0;if(!S)return a.flags&256?(us(a),a):(us(a),null)}return us(a),(a.flags&128)!==0?(a.lanes=f,a):(f=m!==null,r=r!==null&&r.memoizedState!==null,f&&(m=a.child,S=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(S=m.alternate.memoizedState.cachePool.pool),A=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(A=m.memoizedState.cachePool.pool),A!==S&&(m.flags|=2048)),f!==r&&f&&(a.child.flags|=8192),lp(a,a.updateQueue),en(a),null);case 4:return Me(),r===null&&Ny(a.stateNode.containerInfo),en(a),null;case 10:return po(a.type),en(a),null;case 19:if(ae(Sn),m=a.memoizedState,m===null)return en(a),null;if(S=(a.flags&128)!==0,A=m.rendering,A===null)if(S)_d(m,!1);else{if(yn!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(A=Yh(r),A!==null){for(a.flags|=128,_d(m,!1),r=A.updateQueue,a.updateQueue=r,lp(a,r),a.subtreeFlags=0,r=f,f=a.child;f!==null;)sd(f,r),f=f.sibling;return be(Sn,Sn.current&1|2),mt&&Ge(a,m.treeForkCount),a.child}r=r.sibling}m.tail!==null&&sn()>hp&&(a.flags|=128,S=!0,_d(m,!1),a.lanes=4194304)}else{if(!S)if(r=Yh(A),r!==null){if(a.flags|=128,S=!0,r=r.updateQueue,a.updateQueue=r,lp(a,r),_d(m,!0),m.tail===null&&m.tailMode==="hidden"&&!A.alternate&&!mt)return en(a),null}else 2*sn()-m.renderingStartTime>hp&&f!==536870912&&(a.flags|=128,S=!0,_d(m,!1),a.lanes=4194304);m.isBackwards?(A.sibling=a.child,a.child=A):(r=m.last,r!==null?r.sibling=A:a.child=A,m.last=A)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=sn(),r.sibling=null,f=Sn.current,be(Sn,S?f&1|2:f&1),mt&&Ge(a,m.treeForkCount),r):(en(a),null);case 22:case 23:return us(a),Ov(),m=a.memoizedState!==null,r!==null?r.memoizedState!==null!==m&&(a.flags|=8192):m&&(a.flags|=8192),m?(f&536870912)!==0&&(a.flags&128)===0&&(en(a),a.subtreeFlags&6&&(a.flags|=8192)):en(a),f=a.updateQueue,f!==null&&lp(a,f.retryQueue),f=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),m=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(m=a.memoizedState.cachePool.pool),m!==f&&(a.flags|=2048),r!==null&&ae(pl),null;case 24:return f=null,r!==null&&(f=r.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),po(Rn),en(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function mI(r,a){switch(gn(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return po(Rn),Me(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Ye(a),null;case 31:if(a.memoizedState!==null){if(us(a),a.alternate===null)throw Error(i(340));ho()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 13:if(us(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));ho()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return ae(Sn),null;case 4:return Me(),null;case 10:return po(a.type),null;case 22:case 23:return us(a),Ov(),r!==null&&ae(pl),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return po(Rn),null;case 25:return null;default:return null}}function wC(r,a){switch(gn(a),a.tag){case 3:po(Rn),Me();break;case 26:case 27:case 5:Ye(a);break;case 4:Me();break;case 31:a.memoizedState!==null&&us(a);break;case 13:us(a);break;case 19:ae(Sn);break;case 10:po(a.type);break;case 22:case 23:us(a),Ov(),r!==null&&ae(pl);break;case 24:po(Rn)}}function wd(r,a){try{var f=a.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var S=m.next;f=S;do{if((f.tag&r)===r){m=void 0;var A=f.create,j=f.inst;m=A(),j.destroy=m}f=f.next}while(f!==S)}}catch(F){Ft(a,a.return,F)}}function sa(r,a,f){try{var m=a.updateQueue,S=m!==null?m.lastEffect:null;if(S!==null){var A=S.next;m=A;do{if((m.tag&r)===r){var j=m.inst,F=j.destroy;if(F!==void 0){j.destroy=void 0,S=a;var ee=f,he=F;try{he()}catch(_e){Ft(S,ee,_e)}}}m=m.next}while(m!==A)}}catch(_e){Ft(a,a.return,_e)}}function SC(r){var a=r.updateQueue;if(a!==null){var f=r.stateNode;try{hS(a,f)}catch(m){Ft(r,r.return,m)}}}function CC(r,a,f){f.props=bl(r.type,r.memoizedProps),f.state=r.memoizedState;try{f.componentWillUnmount()}catch(m){Ft(r,a,m)}}function Sd(r,a){try{var f=r.ref;if(f!==null){switch(r.tag){case 26:case 27:case 5:var m=r.stateNode;break;case 30:m=r.stateNode;break;default:m=r.stateNode}typeof f=="function"?r.refCleanup=f(m):f.current=m}}catch(S){Ft(r,a,S)}}function zr(r,a){var f=r.ref,m=r.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(S){Ft(r,a,S)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(S){Ft(r,a,S)}else f.current=null}function EC(r){var a=r.type,f=r.memoizedProps,m=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break e;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(S){Ft(r,r.return,S)}}function cy(r,a,f){try{var m=r.stateNode;II(m,r.type,f,a),m[Tn]=a}catch(S){Ft(r,r.return,S)}}function AC(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&da(r.type)||r.tag===4}function uy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||AC(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&da(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function dy(r,a,f){var m=r.tag;if(m===5||m===6)r=r.stateNode,a?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(r,a):(a=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,a.appendChild(r),f=f._reactRootContainer,f!=null||a.onclick!==null||(a.onclick=xi));else if(m!==4&&(m===27&&da(r.type)&&(f=r.stateNode,a=null),r=r.child,r!==null))for(dy(r,a,f),r=r.sibling;r!==null;)dy(r,a,f),r=r.sibling}function cp(r,a,f){var m=r.tag;if(m===5||m===6)r=r.stateNode,a?f.insertBefore(r,a):f.appendChild(r);else if(m!==4&&(m===27&&da(r.type)&&(f=r.stateNode),r=r.child,r!==null))for(cp(r,a,f),r=r.sibling;r!==null;)cp(r,a,f),r=r.sibling}function TC(r){var a=r.stateNode,f=r.memoizedProps;try{for(var m=r.type,S=a.attributes;S.length;)a.removeAttributeNode(S[0]);ui(a,m,f),a[pn]=r,a[Tn]=f}catch(A){Ft(r,r.return,A)}}var bo=!1,On=!1,fy=!1,RC=typeof WeakSet=="function"?WeakSet:Set,ti=null;function gI(r,a){if(r=r.containerInfo,My=Np,r=il(r),Nr(r)){if("selectionStart"in r)var f={start:r.selectionStart,end:r.selectionEnd};else e:{f=(f=r.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var S=m.anchorOffset,A=m.focusNode;m=m.focusOffset;try{f.nodeType,A.nodeType}catch{f=null;break e}var j=0,F=-1,ee=-1,he=0,_e=0,Te=r,me=null;t:for(;;){for(var ve;Te!==f||S!==0&&Te.nodeType!==3||(F=j+S),Te!==A||m!==0&&Te.nodeType!==3||(ee=j+m),Te.nodeType===3&&(j+=Te.nodeValue.length),(ve=Te.firstChild)!==null;)me=Te,Te=ve;for(;;){if(Te===r)break t;if(me===f&&++he===S&&(F=j),me===A&&++_e===m&&(ee=j),(ve=Te.nextSibling)!==null)break;Te=me,me=Te.parentNode}Te=ve}f=F===-1||ee===-1?null:{start:F,end:ee}}else f=null}f=f||{start:0,end:0}}else f=null;for(Dy={focusedElem:r,selectionRange:f},Np=!1,ti=a;ti!==null;)if(a=ti,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,ti=r;else for(;ti!==null;){switch(a=ti,A=a.alternate,r=a.flags,a.tag){case 0:if((r&4)!==0&&(r=a.updateQueue,r=r!==null?r.events:null,r!==null))for(f=0;f<r.length;f++)S=r[f],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&A!==null){r=void 0,f=a,S=A.memoizedProps,A=A.memoizedState,m=f.stateNode;try{var Ue=bl(f.type,S);r=m.getSnapshotBeforeUpdate(Ue,A),m.__reactInternalSnapshotBeforeUpdate=r}catch(Xe){Ft(f,f.return,Xe)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,f=r.nodeType,f===9)Iy(r);else if(f===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Iy(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,ti=r;break}ti=a.return}}function kC(r,a,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:_o(r,f),m&4&&wd(5,f);break;case 1:if(_o(r,f),m&4)if(r=f.stateNode,a===null)try{r.componentDidMount()}catch(j){Ft(f,f.return,j)}else{var S=bl(f.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(S,a,r.__reactInternalSnapshotBeforeUpdate)}catch(j){Ft(f,f.return,j)}}m&64&&SC(f),m&512&&Sd(f,f.return);break;case 3:if(_o(r,f),m&64&&(r=f.updateQueue,r!==null)){if(a=null,f.child!==null)switch(f.child.tag){case 27:case 5:a=f.child.stateNode;break;case 1:a=f.child.stateNode}try{hS(r,a)}catch(j){Ft(f,f.return,j)}}break;case 27:a===null&&m&4&&TC(f);case 26:case 5:_o(r,f),a===null&&m&4&&EC(f),m&512&&Sd(f,f.return);break;case 12:_o(r,f);break;case 31:_o(r,f),m&4&&PC(r,f);break;case 13:_o(r,f),m&4&&MC(r,f),m&64&&(r=f.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(f=EI.bind(null,f),GI(r,f))));break;case 22:if(m=f.memoizedState!==null||bo,!m){a=a!==null&&a.memoizedState!==null||On,S=bo;var A=On;bo=m,(On=a)&&!A?wo(r,f,(f.subtreeFlags&8772)!==0):_o(r,f),bo=S,On=A}break;case 30:break;default:_o(r,f)}}function NC(r){var a=r.alternate;a!==null&&(r.alternate=null,NC(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Ha(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var tn=null,Ki=!1;function xo(r,a,f){for(f=f.child;f!==null;)OC(r,a,f),f=f.sibling}function OC(r,a,f){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(ts,f)}catch{}switch(f.tag){case 26:On||zr(f,a),xo(r,a,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:On||zr(f,a);var m=tn,S=Ki;da(f.type)&&(tn=f.stateNode,Ki=!1),xo(r,a,f),Pd(f.stateNode),tn=m,Ki=S;break;case 5:On||zr(f,a);case 6:if(m=tn,S=Ki,tn=null,xo(r,a,f),tn=m,Ki=S,tn!==null)if(Ki)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(f.stateNode)}catch(A){Ft(f,a,A)}else try{tn.removeChild(f.stateNode)}catch(A){Ft(f,a,A)}break;case 18:tn!==null&&(Ki?(r=tn,SE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,f.stateNode),$c(r)):SE(tn,f.stateNode));break;case 4:m=tn,S=Ki,tn=f.stateNode.containerInfo,Ki=!0,xo(r,a,f),tn=m,Ki=S;break;case 0:case 11:case 14:case 15:sa(2,f,a),On||sa(4,f,a),xo(r,a,f);break;case 1:On||(zr(f,a),m=f.stateNode,typeof m.componentWillUnmount=="function"&&CC(f,a,m)),xo(r,a,f);break;case 21:xo(r,a,f);break;case 22:On=(m=On)||f.memoizedState!==null,xo(r,a,f),On=m;break;default:xo(r,a,f)}}function PC(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{$c(r)}catch(f){Ft(a,a.return,f)}}}function MC(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{$c(r)}catch(f){Ft(a,a.return,f)}}function vI(r){switch(r.tag){case 31:case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new RC),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new RC),a;default:throw Error(i(435,r.tag))}}function up(r,a){var f=vI(r);a.forEach(function(m){if(!f.has(m)){f.add(m);var S=AI.bind(null,r,m);m.then(S,S)}})}function qi(r,a){var f=a.deletions;if(f!==null)for(var m=0;m<f.length;m++){var S=f[m],A=r,j=a,F=j;e:for(;F!==null;){switch(F.tag){case 27:if(da(F.type)){tn=F.stateNode,Ki=!1;break e}break;case 5:tn=F.stateNode,Ki=!1;break e;case 3:case 4:tn=F.stateNode.containerInfo,Ki=!0;break e}F=F.return}if(tn===null)throw Error(i(160));OC(A,j,S),tn=null,Ki=!1,A=S.alternate,A!==null&&(A.return=null),S.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)DC(a,r),a=a.sibling}var rr=null;function DC(r,a){var f=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:qi(a,r),Wi(r),m&4&&(sa(3,r,r.return),wd(3,r),sa(5,r,r.return));break;case 1:qi(a,r),Wi(r),m&512&&(On||f===null||zr(f,f.return)),m&64&&bo&&(r=r.updateQueue,r!==null&&(m=r.callbacks,m!==null&&(f=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var S=rr;if(qi(a,r),Wi(r),m&512&&(On||f===null||zr(f,f.return)),m&4){var A=f!==null?f.memoizedState:null;if(m=r.memoizedState,f===null)if(m===null)if(r.stateNode===null){e:{m=r.type,f=r.memoizedProps,S=S.ownerDocument||S;t:switch(m){case"title":A=S.getElementsByTagName("title")[0],(!A||A[to]||A[pn]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=S.createElement(m),S.head.insertBefore(A,S.querySelector("head > title"))),ui(A,m,f),A[pn]=r,ln(A),m=A;break e;case"link":var j=DE("link","href",S).get(m+(f.href||""));if(j){for(var F=0;F<j.length;F++)if(A=j[F],A.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&A.getAttribute("rel")===(f.rel==null?null:f.rel)&&A.getAttribute("title")===(f.title==null?null:f.title)&&A.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){j.splice(F,1);break t}}A=S.createElement(m),ui(A,m,f),S.head.appendChild(A);break;case"meta":if(j=DE("meta","content",S).get(m+(f.content||""))){for(F=0;F<j.length;F++)if(A=j[F],A.getAttribute("content")===(f.content==null?null:""+f.content)&&A.getAttribute("name")===(f.name==null?null:f.name)&&A.getAttribute("property")===(f.property==null?null:f.property)&&A.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&A.getAttribute("charset")===(f.charSet==null?null:f.charSet)){j.splice(F,1);break t}}A=S.createElement(m),ui(A,m,f),S.head.appendChild(A);break;default:throw Error(i(468,m))}A[pn]=r,ln(A),m=A}r.stateNode=m}else LE(S,r.type,r.stateNode);else r.stateNode=ME(S,m,r.memoizedProps);else A!==m?(A===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):A.count--,m===null?LE(S,r.type,r.stateNode):ME(S,m,r.memoizedProps)):m===null&&r.stateNode!==null&&cy(r,r.memoizedProps,f.memoizedProps)}break;case 27:qi(a,r),Wi(r),m&512&&(On||f===null||zr(f,f.return)),f!==null&&m&4&&cy(r,r.memoizedProps,f.memoizedProps);break;case 5:if(qi(a,r),Wi(r),m&512&&(On||f===null||zr(f,f.return)),r.flags&32){S=r.stateNode;try{Et(S,"")}catch(Ue){Ft(r,r.return,Ue)}}m&4&&r.stateNode!=null&&(S=r.memoizedProps,cy(r,S,f!==null?f.memoizedProps:S)),m&1024&&(fy=!0);break;case 6:if(qi(a,r),Wi(r),m&4){if(r.stateNode===null)throw Error(i(162));m=r.memoizedProps,f=r.stateNode;try{f.nodeValue=m}catch(Ue){Ft(r,r.return,Ue)}}break;case 3:if(Ap=null,S=rr,rr=Cp(a.containerInfo),qi(a,r),rr=S,Wi(r),m&4&&f!==null&&f.memoizedState.isDehydrated)try{$c(a.containerInfo)}catch(Ue){Ft(r,r.return,Ue)}fy&&(fy=!1,LC(r));break;case 4:m=rr,rr=Cp(r.stateNode.containerInfo),qi(a,r),Wi(r),rr=m;break;case 12:qi(a,r),Wi(r);break;case 31:qi(a,r),Wi(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,up(r,m)));break;case 13:qi(a,r),Wi(r),r.child.flags&8192&&r.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(fp=sn()),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,up(r,m)));break;case 22:S=r.memoizedState!==null;var ee=f!==null&&f.memoizedState!==null,he=bo,_e=On;if(bo=he||S,On=_e||ee,qi(a,r),On=_e,bo=he,Wi(r),m&8192)e:for(a=r.stateNode,a._visibility=S?a._visibility&-2:a._visibility|1,S&&(f===null||ee||bo||On||xl(r)),f=null,a=r;;){if(a.tag===5||a.tag===26){if(f===null){ee=f=a;try{if(A=ee.stateNode,S)j=A.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{F=ee.stateNode;var Te=ee.memoizedProps.style,me=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;F.style.display=me==null||typeof me=="boolean"?"":(""+me).trim()}}catch(Ue){Ft(ee,ee.return,Ue)}}}else if(a.tag===6){if(f===null){ee=a;try{ee.stateNode.nodeValue=S?"":ee.memoizedProps}catch(Ue){Ft(ee,ee.return,Ue)}}}else if(a.tag===18){if(f===null){ee=a;try{var ve=ee.stateNode;S?CE(ve,!0):CE(ee.stateNode,!1)}catch(Ue){Ft(ee,ee.return,Ue)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;f===a&&(f=null),a=a.return}f===a&&(f=null),a.sibling.return=a.return,a=a.sibling}m&4&&(m=r.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,up(r,f))));break;case 19:qi(a,r),Wi(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,up(r,m)));break;case 30:break;case 21:break;default:qi(a,r),Wi(r)}}function Wi(r){var a=r.flags;if(a&2){try{for(var f,m=r.return;m!==null;){if(AC(m)){f=m;break}m=m.return}if(f==null)throw Error(i(160));switch(f.tag){case 27:var S=f.stateNode,A=uy(r);cp(r,A,S);break;case 5:var j=f.stateNode;f.flags&32&&(Et(j,""),f.flags&=-33);var F=uy(r);cp(r,F,j);break;case 3:case 4:var ee=f.stateNode.containerInfo,he=uy(r);dy(r,he,ee);break;default:throw Error(i(161))}}catch(_e){Ft(r,r.return,_e)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function LC(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;LC(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function _o(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)kC(r,a.alternate,a),a=a.sibling}function xl(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:sa(4,a,a.return),xl(a);break;case 1:zr(a,a.return);var f=a.stateNode;typeof f.componentWillUnmount=="function"&&CC(a,a.return,f),xl(a);break;case 27:Pd(a.stateNode);case 26:case 5:zr(a,a.return),xl(a);break;case 22:a.memoizedState===null&&xl(a);break;case 30:xl(a);break;default:xl(a)}r=r.sibling}}function wo(r,a,f){for(f=f&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var m=a.alternate,S=r,A=a,j=A.flags;switch(A.tag){case 0:case 11:case 15:wo(S,A,f),wd(4,A);break;case 1:if(wo(S,A,f),m=A,S=m.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(he){Ft(m,m.return,he)}if(m=A,S=m.updateQueue,S!==null){var F=m.stateNode;try{var ee=S.shared.hiddenCallbacks;if(ee!==null)for(S.shared.hiddenCallbacks=null,S=0;S<ee.length;S++)fS(ee[S],F)}catch(he){Ft(m,m.return,he)}}f&&j&64&&SC(A),Sd(A,A.return);break;case 27:TC(A);case 26:case 5:wo(S,A,f),f&&m===null&&j&4&&EC(A),Sd(A,A.return);break;case 12:wo(S,A,f);break;case 31:wo(S,A,f),f&&j&4&&PC(S,A);break;case 13:wo(S,A,f),f&&j&4&&MC(S,A);break;case 22:A.memoizedState===null&&wo(S,A,f),Sd(A,A.return);break;case 30:break;default:wo(S,A,f)}a=a.sibling}}function hy(r,a){var f=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==f&&(r!=null&&r.refCount++,f!=null&&cd(f))}function py(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&cd(r))}function or(r,a,f,m){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)jC(r,a,f,m),a=a.sibling}function jC(r,a,f,m){var S=a.flags;switch(a.tag){case 0:case 11:case 15:or(r,a,f,m),S&2048&&wd(9,a);break;case 1:or(r,a,f,m);break;case 3:or(r,a,f,m),S&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&cd(r)));break;case 12:if(S&2048){or(r,a,f,m),r=a.stateNode;try{var A=a.memoizedProps,j=A.id,F=A.onPostCommit;typeof F=="function"&&F(j,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(ee){Ft(a,a.return,ee)}}else or(r,a,f,m);break;case 31:or(r,a,f,m);break;case 13:or(r,a,f,m);break;case 23:break;case 22:A=a.stateNode,j=a.alternate,a.memoizedState!==null?A._visibility&2?or(r,a,f,m):Cd(r,a):A._visibility&2?or(r,a,f,m):(A._visibility|=2,Pc(r,a,f,m,(a.subtreeFlags&10256)!==0||!1)),S&2048&&hy(j,a);break;case 24:or(r,a,f,m),S&2048&&py(a.alternate,a);break;default:or(r,a,f,m)}}function Pc(r,a,f,m,S){for(S=S&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var A=r,j=a,F=f,ee=m,he=j.flags;switch(j.tag){case 0:case 11:case 15:Pc(A,j,F,ee,S),wd(8,j);break;case 23:break;case 22:var _e=j.stateNode;j.memoizedState!==null?_e._visibility&2?Pc(A,j,F,ee,S):Cd(A,j):(_e._visibility|=2,Pc(A,j,F,ee,S)),S&&he&2048&&hy(j.alternate,j);break;case 24:Pc(A,j,F,ee,S),S&&he&2048&&py(j.alternate,j);break;default:Pc(A,j,F,ee,S)}a=a.sibling}}function Cd(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var f=r,m=a,S=m.flags;switch(m.tag){case 22:Cd(f,m),S&2048&&hy(m.alternate,m);break;case 24:Cd(f,m),S&2048&&py(m.alternate,m);break;default:Cd(f,m)}a=a.sibling}}var Ed=8192;function Mc(r,a,f){if(r.subtreeFlags&Ed)for(r=r.child;r!==null;)IC(r,a,f),r=r.sibling}function IC(r,a,f){switch(r.tag){case 26:Mc(r,a,f),r.flags&Ed&&r.memoizedState!==null&&iz(f,rr,r.memoizedState,r.memoizedProps);break;case 5:Mc(r,a,f);break;case 3:case 4:var m=rr;rr=Cp(r.stateNode.containerInfo),Mc(r,a,f),rr=m;break;case 22:r.memoizedState===null&&(m=r.alternate,m!==null&&m.memoizedState!==null?(m=Ed,Ed=16777216,Mc(r,a,f),Ed=m):Mc(r,a,f));break;default:Mc(r,a,f)}}function zC(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Ad(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var f=0;f<a.length;f++){var m=a[f];ti=m,UC(m,r)}zC(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)BC(r),r=r.sibling}function BC(r){switch(r.tag){case 0:case 11:case 15:Ad(r),r.flags&2048&&sa(9,r,r.return);break;case 3:Ad(r);break;case 12:Ad(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,dp(r)):Ad(r);break;default:Ad(r)}}function dp(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var f=0;f<a.length;f++){var m=a[f];ti=m,UC(m,r)}zC(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:sa(8,a,a.return),dp(a);break;case 22:f=a.stateNode,f._visibility&2&&(f._visibility&=-3,dp(a));break;default:dp(a)}r=r.sibling}}function UC(r,a){for(;ti!==null;){var f=ti;switch(f.tag){case 0:case 11:case 15:sa(8,f,a);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:cd(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,ti=m;else e:for(f=r;ti!==null;){m=ti;var S=m.sibling,A=m.return;if(NC(m),m===f){ti=null;break e}if(S!==null){S.return=A,ti=S;break e}ti=A}}}var yI={getCacheForType:function(r){var a=li(Rn),f=a.data.get(r);return f===void 0&&(f=r(),a.data.set(r,f)),f},cacheSignal:function(){return li(Rn).controller.signal}},bI=typeof WeakMap=="function"?WeakMap:Map,Dt=0,Wt=null,gt=null,_t=0,Ut=0,ds=null,ra=!1,Dc=!1,my=!1,So=0,yn=0,oa=0,_l=0,gy=0,fs=0,Lc=0,Td=null,Yi=null,vy=!1,fp=0,FC=0,hp=1/0,pp=null,aa=null,zn=0,la=null,jc=null,Co=0,yy=0,by=null,VC=null,Rd=0,xy=null;function hs(){return(Dt&2)!==0&&_t!==0?_t&-_t:G.T!==null?Ay():bi()}function $C(){if(fs===0)if((_t&536870912)===0||mt){var r=Ys;Ys<<=1,(Ys&3932160)===0&&(Ys=262144),fs=r}else fs=536870912;return r=cs.current,r!==null&&(r.flags|=32),fs}function Zi(r,a,f){(r===Wt&&(Ut===2||Ut===9)||r.cancelPendingCommit!==null)&&(Ic(r,0),ca(r,_t,fs,!1)),Xn(r,f),((Dt&2)===0||r!==Wt)&&(r===Wt&&((Dt&2)===0&&(_l|=f),yn===4&&ca(r,_t,fs,!1)),Br(r))}function HC(r,a,f){if((Dt&6)!==0)throw Error(i(327));var m=!f&&(a&127)===0&&(a&r.expiredLanes)===0||Wn(r,a),S=m?wI(r,a):wy(r,a,!0),A=m;do{if(S===0){Dc&&!m&&ca(r,a,0,!1);break}else{if(f=r.current.alternate,A&&!xI(f)){S=wy(r,a,!1),A=!1;continue}if(S===2){if(A=a,r.errorRecoveryDisabledLanes&A)var j=0;else j=r.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){a=j;e:{var F=r;S=Td;var ee=F.current.memoizedState.isDehydrated;if(ee&&(Ic(F,j).flags|=256),j=wy(F,j,!1),j!==2){if(my&&!ee){F.errorRecoveryDisabledLanes|=A,_l|=A,S=4;break e}A=Yi,Yi=S,A!==null&&(Yi===null?Yi=A:Yi.push.apply(Yi,A))}S=j}if(A=!1,S!==2)continue}}if(S===1){Ic(r,0),ca(r,a,0,!0);break}e:{switch(m=r,A=S,A){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ca(m,a,fs,!ra);break e;case 2:Yi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(S=fp+300-sn(),10<S)){if(ca(m,a,fs,!ra),hn(m,0,!0)!==0)break e;Co=a,m.timeoutHandle=_E(GC.bind(null,m,f,Yi,pp,vy,a,fs,_l,Lc,ra,A,"Throttled",-0,0),S);break e}GC(m,f,Yi,pp,vy,a,fs,_l,Lc,ra,A,null,-0,0)}}break}while(!0);Br(r)}function GC(r,a,f,m,S,A,j,F,ee,he,_e,Te,me,ve){if(r.timeoutHandle=-1,Te=a.subtreeFlags,Te&8192||(Te&16785408)===16785408){Te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xi},IC(a,A,Te);var Ue=(A&62914560)===A?fp-sn():(A&4194048)===A?FC-sn():0;if(Ue=sz(Te,Ue),Ue!==null){Co=A,r.cancelPendingCommit=Ue(JC.bind(null,r,a,A,f,m,S,j,F,ee,_e,Te,null,me,ve)),ca(r,A,j,!he);return}}JC(r,a,A,f,m,S,j,F,ee)}function xI(r){for(var a=r;;){var f=a.tag;if((f===0||f===11||f===15)&&a.flags&16384&&(f=a.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var S=f[m],A=S.getSnapshot;S=S.value;try{if(!Jn(A(),S))return!1}catch{return!1}}if(f=a.child,a.subtreeFlags&16384&&f!==null)f.return=a,a=f;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ca(r,a,f,m){a&=~gy,a&=~_l,r.suspendedLanes|=a,r.pingedLanes&=~a,m&&(r.warmLanes|=a),m=r.expirationTimes;for(var S=a;0<S;){var A=31-En(S),j=1<<A;m[A]=-1,S&=~j}f!==0&&Ri(r,f,a)}function mp(){return(Dt&6)===0?(kd(0),!1):!0}function _y(){if(gt!==null){if(Ut===0)var r=gt.return;else r=gt,sr=Ir=null,Iv(r),Tc=null,dd=0,r=gt;for(;r!==null;)wC(r.alternate,r),r=r.return;gt=null}}function Ic(r,a){var f=r.timeoutHandle;f!==-1&&(r.timeoutHandle=-1,UI(f)),f=r.cancelPendingCommit,f!==null&&(r.cancelPendingCommit=null,f()),Co=0,_y(),Wt=r,gt=f=Ms(r.current,null),_t=a,Ut=0,ds=null,ra=!1,Dc=Wn(r,a),my=!1,Lc=fs=gy=_l=oa=yn=0,Yi=Td=null,vy=!1,(a&8)!==0&&(a|=a&32);var m=r.entangledLanes;if(m!==0)for(r=r.entanglements,m&=a;0<m;){var S=31-En(m),A=1<<S;a|=r[S],m&=~A}return So=a,ll(),f}function KC(r,a){lt=null,G.H=bd,a===Ac||a===Hh?(a=lS(),Ut=3):a===Ev?(a=lS(),Ut=4):Ut=a===Jv?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ds=a,gt===null&&(yn=1,sp(r,p(a,r.current)))}function qC(){var r=cs.current;return r===null?!0:(_t&4194048)===_t?Ds===null:(_t&62914560)===_t||(_t&536870912)!==0?r===Ds:!1}function WC(){var r=G.H;return G.H=bd,r===null?bd:r}function YC(){var r=G.A;return G.A=yI,r}function gp(){yn=4,ra||(_t&4194048)!==_t&&cs.current!==null||(Dc=!0),(oa&134217727)===0&&(_l&134217727)===0||Wt===null||ca(Wt,_t,fs,!1)}function wy(r,a,f){var m=Dt;Dt|=2;var S=WC(),A=YC();(Wt!==r||_t!==a)&&(pp=null,Ic(r,a)),a=!1;var j=yn;e:do try{if(Ut!==0&&gt!==null){var F=gt,ee=ds;switch(Ut){case 8:_y(),j=6;break e;case 3:case 2:case 9:case 6:cs.current===null&&(a=!0);var he=Ut;if(Ut=0,ds=null,zc(r,F,ee,he),f&&Dc){j=0;break e}break;default:he=Ut,Ut=0,ds=null,zc(r,F,ee,he)}}_I(),j=yn;break}catch(_e){KC(r,_e)}while(!0);return a&&r.shellSuspendCounter++,sr=Ir=null,Dt=m,G.H=S,G.A=A,gt===null&&(Wt=null,_t=0,ll()),j}function _I(){for(;gt!==null;)ZC(gt)}function wI(r,a){var f=Dt;Dt|=2;var m=WC(),S=YC();Wt!==r||_t!==a?(pp=null,hp=sn()+500,Ic(r,a)):Dc=Wn(r,a);e:do try{if(Ut!==0&&gt!==null){a=gt;var A=ds;t:switch(Ut){case 1:Ut=0,ds=null,zc(r,a,A,1);break;case 2:case 9:if(oS(A)){Ut=0,ds=null,XC(a);break}a=function(){Ut!==2&&Ut!==9||Wt!==r||(Ut=7),Br(r)},A.then(a,a);break e;case 3:Ut=7;break e;case 4:Ut=5;break e;case 7:oS(A)?(Ut=0,ds=null,XC(a)):(Ut=0,ds=null,zc(r,a,A,7));break;case 5:var j=null;switch(gt.tag){case 26:j=gt.memoizedState;case 5:case 27:var F=gt;if(j?jE(j):F.stateNode.complete){Ut=0,ds=null;var ee=F.sibling;if(ee!==null)gt=ee;else{var he=F.return;he!==null?(gt=he,vp(he)):gt=null}break t}}Ut=0,ds=null,zc(r,a,A,5);break;case 6:Ut=0,ds=null,zc(r,a,A,6);break;case 8:_y(),yn=6;break e;default:throw Error(i(462))}}SI();break}catch(_e){KC(r,_e)}while(!0);return sr=Ir=null,G.H=m,G.A=S,Dt=f,gt!==null?0:(Wt=null,_t=0,ll(),yn)}function SI(){for(;gt!==null&&!Ai();)ZC(gt)}function ZC(r){var a=xC(r.alternate,r,So);r.memoizedProps=r.pendingProps,a===null?vp(r):gt=a}function XC(r){var a=r,f=a.alternate;switch(a.tag){case 15:case 0:a=pC(f,a,a.pendingProps,a.type,void 0,_t);break;case 11:a=pC(f,a,a.pendingProps,a.type.render,a.ref,_t);break;case 5:Iv(a);default:wC(f,a),a=gt=sd(a,So),a=xC(f,a,So)}r.memoizedProps=r.pendingProps,a===null?vp(r):gt=a}function zc(r,a,f,m){sr=Ir=null,Iv(a),Tc=null,dd=0;var S=a.return;try{if(dI(r,S,a,f,_t)){yn=1,sp(r,p(f,r.current)),gt=null;return}}catch(A){if(S!==null)throw gt=S,A;yn=1,sp(r,p(f,r.current)),gt=null;return}a.flags&32768?(mt||m===1?r=!0:Dc||(_t&536870912)!==0?r=!1:(ra=r=!0,(m===2||m===9||m===3||m===6)&&(m=cs.current,m!==null&&m.tag===13&&(m.flags|=16384))),QC(a,r)):vp(a)}function vp(r){var a=r;do{if((a.flags&32768)!==0){QC(a,ra);return}r=a.return;var f=pI(a.alternate,a,So);if(f!==null){gt=f;return}if(a=a.sibling,a!==null){gt=a;return}gt=a=r}while(a!==null);yn===0&&(yn=5)}function QC(r,a){do{var f=mI(r.alternate,r);if(f!==null){f.flags&=32767,gt=f;return}if(f=r.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!a&&(r=r.sibling,r!==null)){gt=r;return}gt=r=f}while(r!==null);yn=6,gt=null}function JC(r,a,f,m,S,A,j,F,ee){r.cancelPendingCommit=null;do yp();while(zn!==0);if((Dt&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(A=a.lanes|a.childLanes,A|=bc,on(r,f,A,j,F,ee),r===Wt&&(gt=Wt=null,_t=0),jc=a,la=r,Co=f,yy=A,by=S,VC=m,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,TI(zt,function(){return sE(),null})):(r.callbackNode=null,r.callbackPriority=0),m=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||m){m=G.T,G.T=null,S=Y.p,Y.p=2,j=Dt,Dt|=4;try{gI(r,a,f)}finally{Dt=j,Y.p=S,G.T=m}}zn=1,eE(),tE(),nE()}}function eE(){if(zn===1){zn=0;var r=la,a=jc,f=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||f){f=G.T,G.T=null;var m=Y.p;Y.p=2;var S=Dt;Dt|=4;try{DC(a,r);var A=Dy,j=il(r.containerInfo),F=A.focusedElem,ee=A.selectionRange;if(j!==F&&F&&F.ownerDocument&&mc(F.ownerDocument.documentElement,F)){if(ee!==null&&Nr(F)){var he=ee.start,_e=ee.end;if(_e===void 0&&(_e=he),"selectionStart"in F)F.selectionStart=he,F.selectionEnd=Math.min(_e,F.value.length);else{var Te=F.ownerDocument||document,me=Te&&Te.defaultView||window;if(me.getSelection){var ve=me.getSelection(),Ue=F.textContent.length,Xe=Math.min(ee.start,Ue),qt=ee.end===void 0?Xe:Math.min(ee.end,Ue);!ve.extend&&Xe>qt&&(j=qt,qt=Xe,Xe=j);var ce=nl(F,Xe),ie=nl(F,qt);if(ce&&ie&&(ve.rangeCount!==1||ve.anchorNode!==ce.node||ve.anchorOffset!==ce.offset||ve.focusNode!==ie.node||ve.focusOffset!==ie.offset)){var fe=Te.createRange();fe.setStart(ce.node,ce.offset),ve.removeAllRanges(),Xe>qt?(ve.addRange(fe),ve.extend(ie.node,ie.offset)):(fe.setEnd(ie.node,ie.offset),ve.addRange(fe))}}}}for(Te=[],ve=F;ve=ve.parentNode;)ve.nodeType===1&&Te.push({element:ve,left:ve.scrollLeft,top:ve.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<Te.length;F++){var Ce=Te[F];Ce.element.scrollLeft=Ce.left,Ce.element.scrollTop=Ce.top}}Np=!!My,Dy=My=null}finally{Dt=S,Y.p=m,G.T=f}}r.current=a,zn=2}}function tE(){if(zn===2){zn=0;var r=la,a=jc,f=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||f){f=G.T,G.T=null;var m=Y.p;Y.p=2;var S=Dt;Dt|=4;try{kC(r,a.alternate,a)}finally{Dt=S,Y.p=m,G.T=f}}zn=3}}function nE(){if(zn===4||zn===3){zn=0,Es();var r=la,a=jc,f=Co,m=VC;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?zn=5:(zn=0,jc=la=null,iE(r,r.pendingLanes));var S=r.pendingLanes;if(S===0&&(aa=null),ze(f),a=a.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(ts,a,void 0,(a.current.flags&128)===128)}catch{}if(m!==null){a=G.T,S=Y.p,Y.p=2,G.T=null;try{for(var A=r.onRecoverableError,j=0;j<m.length;j++){var F=m[j];A(F.value,{componentStack:F.stack})}}finally{G.T=a,Y.p=S}}(Co&3)!==0&&yp(),Br(r),S=r.pendingLanes,(f&261930)!==0&&(S&42)!==0?r===xy?Rd++:(Rd=0,xy=r):Rd=0,kd(0)}}function iE(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,cd(a)))}function yp(){return eE(),tE(),nE(),sE()}function sE(){if(zn!==5)return!1;var r=la,a=yy;yy=0;var f=ze(Co),m=G.T,S=Y.p;try{Y.p=32>f?32:f,G.T=null,f=by,by=null;var A=la,j=Co;if(zn=0,jc=la=null,Co=0,(Dt&6)!==0)throw Error(i(331));var F=Dt;if(Dt|=4,BC(A.current),jC(A,A.current,j,f),Dt=F,kd(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(ts,A)}catch{}return!0}finally{Y.p=S,G.T=m,iE(r,a)}}function rE(r,a,f){a=p(f,a),a=Qv(r.stateNode,a,2),r=ta(r,a,2),r!==null&&(Xn(r,2),Br(r))}function Ft(r,a,f){if(r.tag===3)rE(r,r,f);else for(;a!==null;){if(a.tag===3){rE(a,r,f);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(aa===null||!aa.has(m))){r=p(f,r),f=oC(2),m=ta(a,f,2),m!==null&&(aC(f,m,a,r),Xn(m,2),Br(m));break}}a=a.return}}function Sy(r,a,f){var m=r.pingCache;if(m===null){m=r.pingCache=new bI;var S=new Set;m.set(a,S)}else S=m.get(a),S===void 0&&(S=new Set,m.set(a,S));S.has(f)||(my=!0,S.add(f),r=CI.bind(null,r,a,f),a.then(r,r))}function CI(r,a,f){var m=r.pingCache;m!==null&&m.delete(a),r.pingedLanes|=r.suspendedLanes&f,r.warmLanes&=~f,Wt===r&&(_t&f)===f&&(yn===4||yn===3&&(_t&62914560)===_t&&300>sn()-fp?(Dt&2)===0&&Ic(r,0):gy|=f,Lc===_t&&(Lc=0)),Br(r)}function oE(r,a){a===0&&(a=An()),r=Ps(r,a),r!==null&&(Xn(r,a),Br(r))}function EI(r){var a=r.memoizedState,f=0;a!==null&&(f=a.retryLane),oE(r,f)}function AI(r,a){var f=0;switch(r.tag){case 31:case 13:var m=r.stateNode,S=r.memoizedState;S!==null&&(f=S.retryLane);break;case 19:m=r.stateNode;break;case 22:m=r.stateNode._retryCache;break;default:throw Error(i(314))}m!==null&&m.delete(a),oE(r,f)}function TI(r,a){return wn(r,a)}var bp=null,Bc=null,Cy=!1,xp=!1,Ey=!1,ua=0;function Br(r){r!==Bc&&r.next===null&&(Bc===null?bp=Bc=r:Bc=Bc.next=r),xp=!0,Cy||(Cy=!0,kI())}function kd(r,a){if(!Ey&&xp){Ey=!0;do for(var f=!1,m=bp;m!==null;){if(r!==0){var S=m.pendingLanes;if(S===0)var A=0;else{var j=m.suspendedLanes,F=m.pingedLanes;A=(1<<31-En(42|r)+1)-1,A&=S&~(j&~F),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(f=!0,uE(m,A))}else A=_t,A=hn(m,m===Wt?A:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(A&3)===0||Wn(m,A)||(f=!0,uE(m,A));m=m.next}while(f);Ey=!1}}function RI(){aE()}function aE(){xp=Cy=!1;var r=0;ua!==0&&BI()&&(r=ua);for(var a=sn(),f=null,m=bp;m!==null;){var S=m.next,A=lE(m,a);A===0?(m.next=null,f===null?bp=S:f.next=S,S===null&&(Bc=f)):(f=m,(r!==0||(A&3)!==0)&&(xp=!0)),m=S}zn!==0&&zn!==5||kd(r),ua!==0&&(ua=0)}function lE(r,a){for(var f=r.suspendedLanes,m=r.pingedLanes,S=r.expirationTimes,A=r.pendingLanes&-62914561;0<A;){var j=31-En(A),F=1<<j,ee=S[j];ee===-1?((F&f)===0||(F&m)!==0)&&(S[j]=Yn(F,a)):ee<=a&&(r.expiredLanes|=F),A&=~F}if(a=Wt,f=_t,f=hn(r,r===a?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m=r.callbackNode,f===0||r===a&&(Ut===2||Ut===9)||r.cancelPendingCommit!==null)return m!==null&&m!==null&&Kn(m),r.callbackNode=null,r.callbackPriority=0;if((f&3)===0||Wn(r,f)){if(a=f&-f,a===r.callbackPriority)return a;switch(m!==null&&Kn(m),ze(f)){case 2:case 8:f=At;break;case 32:f=zt;break;case 268435456:f=Ws;break;default:f=zt}return m=cE.bind(null,r),f=wn(f,m),r.callbackPriority=a,r.callbackNode=f,a}return m!==null&&m!==null&&Kn(m),r.callbackPriority=2,r.callbackNode=null,2}function cE(r,a){if(zn!==0&&zn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var f=r.callbackNode;if(yp()&&r.callbackNode!==f)return null;var m=_t;return m=hn(r,r===Wt?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m===0?null:(HC(r,m,a),lE(r,sn()),r.callbackNode!=null&&r.callbackNode===f?cE.bind(null,r):null)}function uE(r,a){if(yp())return null;HC(r,a,!0)}function kI(){FI(function(){(Dt&6)!==0?wn(bt,RI):aE()})}function Ay(){if(ua===0){var r=Cc;r===0&&(r=qn,qn<<=1,(qn&261888)===0&&(qn=256)),ua=r}return ua}function dE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Tr(""+r)}function fE(r,a){var f=a.ownerDocument.createElement("input");return f.name=a.name,f.value=a.value,r.id&&f.setAttribute("form",r.id),a.parentNode.insertBefore(f,a),r=new FormData(r),f.parentNode.removeChild(f),r}function NI(r,a,f,m,S){if(a==="submit"&&f&&f.stateNode===S){var A=dE((S[Tn]||null).action),j=m.submitter;j&&(a=(a=j[Tn]||null)?dE(a.formAction):j.getAttribute("formAction"),a!==null&&(A=a,j=null));var F=new lc("action","action",null,m,S);r.push({event:F,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(ua!==0){var ee=j?fE(S,j):new FormData(S);Kv(f,{pending:!0,data:ee,method:S.method,action:A},null,ee)}}else typeof A=="function"&&(F.preventDefault(),ee=j?fE(S,j):new FormData(S),Kv(f,{pending:!0,data:ee,method:S.method,action:A},A,ee))},currentTarget:S}]})}}for(var Ty=0;Ty<Mr.length;Ty++){var Ry=Mr[Ty],OI=Ry.toLowerCase(),PI=Ry[0].toUpperCase()+Ry.slice(1);$i(OI,"on"+PI)}$i(rl,"onAnimationEnd"),$i(zh,"onAnimationIteration"),$i(ol,"onAnimationStart"),$i("dblclick","onDoubleClick"),$i("focusin","onFocus"),$i("focusout","onBlur"),$i(vv,"onTransitionRun"),$i(Bh,"onTransitionStart"),$i(yv,"onTransitionCancel"),$i(Zo,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nd));function hE(r,a){a=(a&4)!==0;for(var f=0;f<r.length;f++){var m=r[f],S=m.event;m=m.listeners;e:{var A=void 0;if(a)for(var j=m.length-1;0<=j;j--){var F=m[j],ee=F.instance,he=F.currentTarget;if(F=F.listener,ee!==A&&S.isPropagationStopped())break e;A=F,S.currentTarget=he;try{A(S)}catch(_e){al(_e)}S.currentTarget=null,A=ee}else for(j=0;j<m.length;j++){if(F=m[j],ee=F.instance,he=F.currentTarget,F=F.listener,ee!==A&&S.isPropagationStopped())break e;A=F,S.currentTarget=he;try{A(S)}catch(_e){al(_e)}S.currentTarget=null,A=ee}}}}function vt(r,a){var f=a[As];f===void 0&&(f=a[As]=new Set);var m=r+"__bubble";f.has(m)||(pE(a,r,2,!1),f.add(m))}function ky(r,a,f){var m=0;a&&(m|=4),pE(f,r,m,a)}var _p="_reactListening"+Math.random().toString(36).slice(2);function Ny(r){if(!r[_p]){r[_p]=!0,Qs.forEach(function(f){f!=="selectionchange"&&(MI.has(f)||ky(f,!1,r),ky(f,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[_p]||(a[_p]=!0,ky("selectionchange",!1,a))}}function pE(r,a,f,m){switch($E(a)){case 2:var S=az;break;case 8:S=lz;break;default:S=Gy}f=S.bind(null,a,f,r),S=void 0,!qa||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(S=!0),m?S!==void 0?r.addEventListener(a,f,{capture:!0,passive:S}):r.addEventListener(a,f,!0):S!==void 0?r.addEventListener(a,f,{passive:S}):r.addEventListener(a,f,!1)}function Oy(r,a,f,m,S){var A=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var j=m.tag;if(j===3||j===4){var F=m.stateNode.containerInfo;if(F===S)break;if(j===4)for(j=m.return;j!==null;){var ee=j.tag;if((ee===3||ee===4)&&j.stateNode.containerInfo===S)return;j=j.return}for(;F!==null;){if(j=Xs(F),j===null)return;if(ee=j.tag,ee===5||ee===6||ee===26||ee===27){m=A=j;continue e}F=F.parentNode}}m=m.return}qu(function(){var he=A,_e=Ka(f),Te=[];e:{var me=Uh.get(r);if(me!==void 0){var ve=lc,Ue=r;switch(r){case"keypress":if(Wa(f)===0)break e;case"keydown":case"keyup":ve=Ah;break;case"focusin":Ue="focus",ve=Zu;break;case"focusout":Ue="blur",ve=Zu;break;case"beforeblur":case"afterblur":ve=Zu;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=_h;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=ov;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=dv;break;case rl:case zh:case ol:ve=Xu;break;case Zo:ve=kh;break;case"scroll":case"scrollend":ve=xt;break;case"wheel":ve=co;break;case"copy":case"cut":case"paste":ve=Rs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=Th;break;case"toggle":case"beforetoggle":ve=Xa}var Xe=(a&4)!==0,qt=!Xe&&(r==="scroll"||r==="scrollend"),ce=Xe?me!==null?me+"Capture":null:me;Xe=[];for(var ie=he,fe;ie!==null;){var Ce=ie;if(fe=Ce.stateNode,Ce=Ce.tag,Ce!==5&&Ce!==26&&Ce!==27||fe===null||ce===null||(Ce=ao(ie,ce),Ce!=null&&Xe.push(Od(ie,Ce,fe))),qt)break;ie=ie.return}0<Xe.length&&(me=new ve(me,Ue,null,f,_e),Te.push({event:me,listeners:Xe}))}}if((a&7)===0){e:{if(me=r==="mouseover"||r==="pointerover",ve=r==="mouseout"||r==="pointerout",me&&f!==oo&&(Ue=f.relatedTarget||f.fromElement)&&(Xs(Ue)||Ue[Zs]))break e;if((ve||me)&&(me=_e.window===_e?_e:(me=_e.ownerDocument)?me.defaultView||me.parentWindow:window,ve?(Ue=f.relatedTarget||f.toElement,ve=he,Ue=Ue?Xs(Ue):null,Ue!==null&&(qt=o(Ue),Xe=Ue.tag,Ue!==qt||Xe!==5&&Xe!==27&&Xe!==6)&&(Ue=null)):(ve=null,Ue=he),ve!==Ue)){if(Xe=_h,Ce="onMouseLeave",ce="onMouseEnter",ie="mouse",(r==="pointerout"||r==="pointerover")&&(Xe=Th,Ce="onPointerLeave",ce="onPointerEnter",ie="pointer"),qt=ve==null?me:ss(ve),fe=Ue==null?me:ss(Ue),me=new Xe(Ce,ie+"leave",ve,f,_e),me.target=qt,me.relatedTarget=fe,Ce=null,Xs(_e)===he&&(Xe=new Xe(ce,ie+"enter",Ue,f,_e),Xe.target=fe,Xe.relatedTarget=qt,Ce=Xe),qt=Ce,ve&&Ue)t:{for(Xe=DI,ce=ve,ie=Ue,fe=0,Ce=ce;Ce;Ce=Xe(Ce))fe++;Ce=0;for(var We=ie;We;We=Xe(We))Ce++;for(;0<fe-Ce;)ce=Xe(ce),fe--;for(;0<Ce-fe;)ie=Xe(ie),Ce--;for(;fe--;){if(ce===ie||ie!==null&&ce===ie.alternate){Xe=ce;break t}ce=Xe(ce),ie=Xe(ie)}Xe=null}else Xe=null;ve!==null&&mE(Te,me,ve,Xe,!1),Ue!==null&&qt!==null&&mE(Te,qt,Ue,Xe,!0)}}e:{if(me=he?ss(he):window,ve=me.nodeName&&me.nodeName.toLowerCase(),ve==="select"||ve==="input"&&me.type==="file")var kt=tl;else if(ks(me))if(Mh)kt=gv;else{kt=mv;var He=tr}else ve=me.nodeName,!ve||ve.toLowerCase()!=="input"||me.type!=="checkbox"&&me.type!=="radio"?he&&ro(he.elementType)&&(kt=tl):kt=Ko;if(kt&&(kt=kt(r,he))){Ph(Te,kt,f,_e);break e}He&&He(r,me,he),r==="focusout"&&he&&me.type==="number"&&he.memoizedProps.value!=null&&Je(me,"number",me.value)}switch(He=he?ss(he):window,r){case"focusin":(ks(He)||He.contentEditable==="true")&&(Or=He,vc=he,sl=null);break;case"focusout":sl=vc=Or=null;break;case"mousedown":Wo=!0;break;case"contextmenu":case"mouseup":case"dragend":Wo=!1,jh(Te,f,_e);break;case"selectionchange":if(gc)break;case"keydown":case"keyup":jh(Te,f,_e)}var ut;if(uc)e:{switch(r){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else $o?Oh(r,f)&&(wt="onCompositionEnd"):r==="keydown"&&f.keyCode===229&&(wt="onCompositionStart");wt&&(dc&&f.locale!=="ko"&&($o||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&$o&&(ut=Rr()):(Ts=_e,lo="value"in Ts?Ts.value:Ts.textContent,$o=!0)),He=wp(he,wt),0<He.length&&(wt=new Qu(wt,r,null,f,_e),Te.push({event:wt,listeners:He}),ut?wt.data=ut:(ut=nd(f),ut!==null&&(wt.data=ut)))),(ut=hv?ls(r,f):Ho(r,f))&&(wt=wp(he,"onBeforeInput"),0<wt.length&&(He=new Qu("onBeforeInput","beforeinput",null,f,_e),Te.push({event:He,listeners:wt}),He.data=ut)),NI(Te,r,he,f,_e)}hE(Te,a)})}function Od(r,a,f){return{instance:r,listener:a,currentTarget:f}}function wp(r,a){for(var f=a+"Capture",m=[];r!==null;){var S=r,A=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||A===null||(S=ao(r,f),S!=null&&m.unshift(Od(r,S,A)),S=ao(r,a),S!=null&&m.push(Od(r,S,A))),r.tag===3)return m;r=r.return}return[]}function DI(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function mE(r,a,f,m,S){for(var A=a._reactName,j=[];f!==null&&f!==m;){var F=f,ee=F.alternate,he=F.stateNode;if(F=F.tag,ee!==null&&ee===m)break;F!==5&&F!==26&&F!==27||he===null||(ee=he,S?(he=ao(f,A),he!=null&&j.unshift(Od(f,he,ee))):S||(he=ao(f,A),he!=null&&j.push(Od(f,he,ee)))),f=f.return}j.length!==0&&r.push({event:a,listeners:j})}var LI=/\r\n?/g,jI=/\u0000|\uFFFD/g;function gE(r){return(typeof r=="string"?r:""+r).replace(LI,`
`).replace(jI,"")}function vE(r,a){return a=gE(a),gE(r)===a}function Kt(r,a,f,m,S,A){switch(f){case"children":typeof m=="string"?a==="body"||a==="textarea"&&m===""||Et(r,m):(typeof m=="number"||typeof m=="bigint")&&a!=="body"&&Et(r,""+m);break;case"className":U(r,"class",m);break;case"tabIndex":U(r,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":U(r,f,m);break;case"style":Er(r,m,A);break;case"data":if(a!=="object"){U(r,"data",m);break}case"src":case"href":if(m===""&&(a!=="a"||f!=="href")){r.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(f);break}m=Tr(""+m),r.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){r.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(f==="formAction"?(a!=="input"&&Kt(r,a,"name",S.name,S,null),Kt(r,a,"formEncType",S.formEncType,S,null),Kt(r,a,"formMethod",S.formMethod,S,null),Kt(r,a,"formTarget",S.formTarget,S,null)):(Kt(r,a,"encType",S.encType,S,null),Kt(r,a,"method",S.method,S,null),Kt(r,a,"target",S.target,S,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(f);break}m=Tr(""+m),r.setAttribute(f,m);break;case"onClick":m!=null&&(r.onclick=xi);break;case"onScroll":m!=null&&vt("scroll",r);break;case"onScrollEnd":m!=null&&vt("scrollend",r);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(f=m.__html,f!=null){if(S.children!=null)throw Error(i(60));r.innerHTML=f}}break;case"multiple":r.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":r.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){r.removeAttribute("xlink:href");break}f=Tr(""+m),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(f,""+m):r.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(f,""):r.removeAttribute(f);break;case"capture":case"download":m===!0?r.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(f,m):r.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?r.setAttribute(f,m):r.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?r.removeAttribute(f):r.setAttribute(f,m);break;case"popover":vt("beforetoggle",r),vt("toggle",r),ft(r,"popover",m);break;case"xlinkActuate":J(r,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":J(r,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":J(r,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":J(r,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":J(r,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":J(r,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":J(r,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":J(r,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":J(r,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":ft(r,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=Ar.get(f)||f,ft(r,f,m))}}function Py(r,a,f,m,S,A){switch(f){case"style":Er(r,m,A);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(f=m.__html,f!=null){if(S.children!=null)throw Error(i(60));r.innerHTML=f}}break;case"children":typeof m=="string"?Et(r,m):(typeof m=="number"||typeof m=="bigint")&&Et(r,""+m);break;case"onScroll":m!=null&&vt("scroll",r);break;case"onScrollEnd":m!=null&&vt("scrollend",r);break;case"onClick":m!=null&&(r.onclick=xi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oc.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(S=f.endsWith("Capture"),a=f.slice(2,S?f.length-7:void 0),A=r[Tn]||null,A=A!=null?A[f]:null,typeof A=="function"&&r.removeEventListener(a,A,S),typeof m=="function")){typeof A!="function"&&A!==null&&(f in r?r[f]=null:r.hasAttribute(f)&&r.removeAttribute(f)),r.addEventListener(a,m,S);break e}f in r?r[f]=m:m===!0?r.setAttribute(f,""):ft(r,f,m)}}}function ui(r,a,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",r),vt("load",r);var m=!1,S=!1,A;for(A in f)if(f.hasOwnProperty(A)){var j=f[A];if(j!=null)switch(A){case"src":m=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Kt(r,a,A,j,f,null)}}S&&Kt(r,a,"srcSet",f.srcSet,f,null),m&&Kt(r,a,"src",f.src,f,null);return;case"input":vt("invalid",r);var F=A=j=S=null,ee=null,he=null;for(m in f)if(f.hasOwnProperty(m)){var _e=f[m];if(_e!=null)switch(m){case"name":S=_e;break;case"type":j=_e;break;case"checked":ee=_e;break;case"defaultChecked":he=_e;break;case"value":A=_e;break;case"defaultValue":F=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(i(137,a));break;default:Kt(r,a,m,_e,f,null)}}Be(r,A,F,ee,he,j,S,!1);return;case"select":vt("invalid",r),m=j=A=null;for(S in f)if(f.hasOwnProperty(S)&&(F=f[S],F!=null))switch(S){case"value":A=F;break;case"defaultValue":j=F;break;case"multiple":m=F;default:Kt(r,a,S,F,f,null)}a=A,f=j,r.multiple=!!m,a!=null?qe(r,!!m,a,!1):f!=null&&qe(r,!!m,f,!0);return;case"textarea":vt("invalid",r),A=S=m=null;for(j in f)if(f.hasOwnProperty(j)&&(F=f[j],F!=null))switch(j){case"value":m=F;break;case"defaultValue":S=F;break;case"children":A=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(91));break;default:Kt(r,a,j,F,f,null)}Bt(r,m,S,A);return;case"option":for(ee in f)f.hasOwnProperty(ee)&&(m=f[ee],m!=null)&&(ee==="selected"?r.selected=m&&typeof m!="function"&&typeof m!="symbol":Kt(r,a,ee,m,f,null));return;case"dialog":vt("beforetoggle",r),vt("toggle",r),vt("cancel",r),vt("close",r);break;case"iframe":case"object":vt("load",r);break;case"video":case"audio":for(m=0;m<Nd.length;m++)vt(Nd[m],r);break;case"image":vt("error",r),vt("load",r);break;case"details":vt("toggle",r);break;case"embed":case"source":case"link":vt("error",r),vt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in f)if(f.hasOwnProperty(he)&&(m=f[he],m!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Kt(r,a,he,m,f,null)}return;default:if(ro(a)){for(_e in f)f.hasOwnProperty(_e)&&(m=f[_e],m!==void 0&&Py(r,a,_e,m,f,void 0));return}}for(F in f)f.hasOwnProperty(F)&&(m=f[F],m!=null&&Kt(r,a,F,m,f,null))}function II(r,a,f,m){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,A=null,j=null,F=null,ee=null,he=null,_e=null;for(ve in f){var Te=f[ve];if(f.hasOwnProperty(ve)&&Te!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":ee=Te;default:m.hasOwnProperty(ve)||Kt(r,a,ve,null,m,Te)}}for(var me in m){var ve=m[me];if(Te=f[me],m.hasOwnProperty(me)&&(ve!=null||Te!=null))switch(me){case"type":A=ve;break;case"name":S=ve;break;case"checked":he=ve;break;case"defaultChecked":_e=ve;break;case"value":j=ve;break;case"defaultValue":F=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(i(137,a));break;default:ve!==Te&&Kt(r,a,me,ve,m,Te)}}Oe(r,j,F,ee,he,_e,A,S);return;case"select":ve=j=F=me=null;for(A in f)if(ee=f[A],f.hasOwnProperty(A)&&ee!=null)switch(A){case"value":break;case"multiple":ve=ee;default:m.hasOwnProperty(A)||Kt(r,a,A,null,m,ee)}for(S in m)if(A=m[S],ee=f[S],m.hasOwnProperty(S)&&(A!=null||ee!=null))switch(S){case"value":me=A;break;case"defaultValue":F=A;break;case"multiple":j=A;default:A!==ee&&Kt(r,a,S,A,m,ee)}a=F,f=j,m=ve,me!=null?qe(r,!!f,me,!1):!!m!=!!f&&(a!=null?qe(r,!!f,a,!0):qe(r,!!f,f?[]:"",!1));return;case"textarea":ve=me=null;for(F in f)if(S=f[F],f.hasOwnProperty(F)&&S!=null&&!m.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:Kt(r,a,F,null,m,S)}for(j in m)if(S=m[j],A=f[j],m.hasOwnProperty(j)&&(S!=null||A!=null))switch(j){case"value":me=S;break;case"defaultValue":ve=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:S!==A&&Kt(r,a,j,S,m,A)}dt(r,me,ve);return;case"option":for(var Ue in f)me=f[Ue],f.hasOwnProperty(Ue)&&me!=null&&!m.hasOwnProperty(Ue)&&(Ue==="selected"?r.selected=!1:Kt(r,a,Ue,null,m,me));for(ee in m)me=m[ee],ve=f[ee],m.hasOwnProperty(ee)&&me!==ve&&(me!=null||ve!=null)&&(ee==="selected"?r.selected=me&&typeof me!="function"&&typeof me!="symbol":Kt(r,a,ee,me,m,ve));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xe in f)me=f[Xe],f.hasOwnProperty(Xe)&&me!=null&&!m.hasOwnProperty(Xe)&&Kt(r,a,Xe,null,m,me);for(he in m)if(me=m[he],ve=f[he],m.hasOwnProperty(he)&&me!==ve&&(me!=null||ve!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(i(137,a));break;default:Kt(r,a,he,me,m,ve)}return;default:if(ro(a)){for(var qt in f)me=f[qt],f.hasOwnProperty(qt)&&me!==void 0&&!m.hasOwnProperty(qt)&&Py(r,a,qt,void 0,m,me);for(_e in m)me=m[_e],ve=f[_e],!m.hasOwnProperty(_e)||me===ve||me===void 0&&ve===void 0||Py(r,a,_e,me,m,ve);return}}for(var ce in f)me=f[ce],f.hasOwnProperty(ce)&&me!=null&&!m.hasOwnProperty(ce)&&Kt(r,a,ce,null,m,me);for(Te in m)me=m[Te],ve=f[Te],!m.hasOwnProperty(Te)||me===ve||me==null&&ve==null||Kt(r,a,Te,me,m,ve)}function yE(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zI(){if(typeof performance.getEntriesByType=="function"){for(var r=0,a=0,f=performance.getEntriesByType("resource"),m=0;m<f.length;m++){var S=f[m],A=S.transferSize,j=S.initiatorType,F=S.duration;if(A&&F&&yE(j)){for(j=0,F=S.responseEnd,m+=1;m<f.length;m++){var ee=f[m],he=ee.startTime;if(he>F)break;var _e=ee.transferSize,Te=ee.initiatorType;_e&&yE(Te)&&(ee=ee.responseEnd,j+=_e*(ee<F?1:(F-he)/(ee-he)))}if(--m,a+=8*(A+j)/(S.duration/1e3),r++,10<r)break}}if(0<r)return a/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var My=null,Dy=null;function Sp(r){return r.nodeType===9?r:r.ownerDocument}function bE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xE(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Ly(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var jy=null;function BI(){var r=window.event;return r&&r.type==="popstate"?r===jy?!1:(jy=r,!0):(jy=null,!1)}var _E=typeof setTimeout=="function"?setTimeout:void 0,UI=typeof clearTimeout=="function"?clearTimeout:void 0,wE=typeof Promise=="function"?Promise:void 0,FI=typeof queueMicrotask=="function"?queueMicrotask:typeof wE<"u"?function(r){return wE.resolve(null).then(r).catch(VI)}:_E;function VI(r){setTimeout(function(){throw r})}function da(r){return r==="head"}function SE(r,a){var f=a,m=0;do{var S=f.nextSibling;if(r.removeChild(f),S&&S.nodeType===8)if(f=S.data,f==="/$"||f==="/&"){if(m===0){r.removeChild(S),$c(a);return}m--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")m++;else if(f==="html")Pd(r.ownerDocument.documentElement);else if(f==="head"){f=r.ownerDocument.head,Pd(f);for(var A=f.firstChild;A;){var j=A.nextSibling,F=A.nodeName;A[to]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&A.rel.toLowerCase()==="stylesheet"||f.removeChild(A),A=j}}else f==="body"&&Pd(r.ownerDocument.body);f=S}while(f);$c(a)}function CE(r,a){var f=r;r=0;do{var m=f.nextSibling;if(f.nodeType===1?a?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(a?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),m&&m.nodeType===8)if(f=m.data,f==="/$"){if(r===0)break;r--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||r++;f=m}while(f)}function Iy(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var f=a;switch(a=a.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Iy(f),Ha(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}r.removeChild(f)}}function $I(r,a,f,m){for(;r.nodeType===1;){var S=f;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!m&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(m){if(!r[to])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(A=r.getAttribute("rel"),A==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(A!==S.rel||r.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||r.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||r.getAttribute("title")!==(S.title==null?null:S.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(A=r.getAttribute("src"),(A!==(S.src==null?null:S.src)||r.getAttribute("type")!==(S.type==null?null:S.type)||r.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&A&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var A=S.name==null?null:""+S.name;if(S.type==="hidden"&&r.getAttribute("name")===A)return r}else return r;if(r=Ls(r.nextSibling),r===null)break}return null}function HI(r,a,f){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!f||(r=Ls(r.nextSibling),r===null))return null;return r}function EE(r,a){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=Ls(r.nextSibling),r===null))return null;return r}function zy(r){return r.data==="$?"||r.data==="$~"}function By(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function GI(r,a){var f=r.ownerDocument;if(r.data==="$~")r._reactRetry=a;else if(r.data!=="$?"||f.readyState!=="loading")a();else{var m=function(){a(),f.removeEventListener("DOMContentLoaded",m)};f.addEventListener("DOMContentLoaded",m),r._reactRetry=m}}function Ls(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return r}var Uy=null;function AE(r){r=r.nextSibling;for(var a=0;r;){if(r.nodeType===8){var f=r.data;if(f==="/$"||f==="/&"){if(a===0)return Ls(r.nextSibling);a--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||a++}r=r.nextSibling}return null}function TE(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var f=r.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(a===0)return r;a--}else f!=="/$"&&f!=="/&"||a++}r=r.previousSibling}return null}function RE(r,a,f){switch(a=Sp(f),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Pd(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Ha(r)}var js=new Map,kE=new Set;function Cp(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Eo=Y.d;Y.d={f:KI,r:qI,D:WI,C:YI,L:ZI,m:XI,X:JI,S:QI,M:ez};function KI(){var r=Eo.f(),a=mp();return r||a}function qI(r){var a=Cr(r);a!==null&&a.tag===5&&a.type==="form"?KS(a):Eo.r(r)}var Uc=typeof document>"u"?null:document;function NE(r,a,f){var m=Uc;if(m&&typeof a=="string"&&a){var S=Ee(a);S='link[rel="'+r+'"][href="'+S+'"]',typeof f=="string"&&(S+='[crossorigin="'+f+'"]'),kE.has(S)||(kE.add(S),r={rel:r,crossOrigin:f,href:a},m.querySelector(S)===null&&(a=m.createElement("link"),ui(a,"link",r),ln(a),m.head.appendChild(a)))}}function WI(r){Eo.D(r),NE("dns-prefetch",r,null)}function YI(r,a){Eo.C(r,a),NE("preconnect",r,a)}function ZI(r,a,f){Eo.L(r,a,f);var m=Uc;if(m&&r&&a){var S='link[rel="preload"][as="'+Ee(a)+'"]';a==="image"&&f&&f.imageSrcSet?(S+='[imagesrcset="'+Ee(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(S+='[imagesizes="'+Ee(f.imageSizes)+'"]')):S+='[href="'+Ee(r)+'"]';var A=S;switch(a){case"style":A=Fc(r);break;case"script":A=Vc(r)}js.has(A)||(r=v({rel:"preload",href:a==="image"&&f&&f.imageSrcSet?void 0:r,as:a},f),js.set(A,r),m.querySelector(S)!==null||a==="style"&&m.querySelector(Md(A))||a==="script"&&m.querySelector(Dd(A))||(a=m.createElement("link"),ui(a,"link",r),ln(a),m.head.appendChild(a)))}}function XI(r,a){Eo.m(r,a);var f=Uc;if(f&&r){var m=a&&typeof a.as=="string"?a.as:"script",S='link[rel="modulepreload"][as="'+Ee(m)+'"][href="'+Ee(r)+'"]',A=S;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=Vc(r)}if(!js.has(A)&&(r=v({rel:"modulepreload",href:r},a),js.set(A,r),f.querySelector(S)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Dd(A)))return}m=f.createElement("link"),ui(m,"link",r),ln(m),f.head.appendChild(m)}}}function QI(r,a,f){Eo.S(r,a,f);var m=Uc;if(m&&r){var S=zi(m).hoistableStyles,A=Fc(r);a=a||"default";var j=S.get(A);if(!j){var F={loading:0,preload:null};if(j=m.querySelector(Md(A)))F.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":a},f),(f=js.get(A))&&Fy(r,f);var ee=j=m.createElement("link");ln(ee),ui(ee,"link",r),ee._p=new Promise(function(he,_e){ee.onload=he,ee.onerror=_e}),ee.addEventListener("load",function(){F.loading|=1}),ee.addEventListener("error",function(){F.loading|=2}),F.loading|=4,Ep(j,a,m)}j={type:"stylesheet",instance:j,count:1,state:F},S.set(A,j)}}}function JI(r,a){Eo.X(r,a);var f=Uc;if(f&&r){var m=zi(f).hoistableScripts,S=Vc(r),A=m.get(S);A||(A=f.querySelector(Dd(S)),A||(r=v({src:r,async:!0},a),(a=js.get(S))&&Vy(r,a),A=f.createElement("script"),ln(A),ui(A,"link",r),f.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},m.set(S,A))}}function ez(r,a){Eo.M(r,a);var f=Uc;if(f&&r){var m=zi(f).hoistableScripts,S=Vc(r),A=m.get(S);A||(A=f.querySelector(Dd(S)),A||(r=v({src:r,async:!0,type:"module"},a),(a=js.get(S))&&Vy(r,a),A=f.createElement("script"),ln(A),ui(A,"link",r),f.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},m.set(S,A))}}function OE(r,a,f,m){var S=(S=we.current)?Cp(S):null;if(!S)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(a=Fc(f.href),f=zi(S).hoistableStyles,m=f.get(a),m||(m={type:"style",instance:null,count:0,state:null},f.set(a,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){r=Fc(f.href);var A=zi(S).hoistableStyles,j=A.get(r);if(j||(S=S.ownerDocument||S,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(r,j),(A=S.querySelector(Md(r)))&&!A._p&&(j.instance=A,j.state.loading=5),js.has(r)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},js.set(r,f),A||tz(S,r,f,j.state))),a&&m===null)throw Error(i(528,""));return j}if(a&&m!==null)throw Error(i(529,""));return null;case"script":return a=f.async,f=f.src,typeof f=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Vc(f),f=zi(S).hoistableScripts,m=f.get(a),m||(m={type:"script",instance:null,count:0,state:null},f.set(a,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Fc(r){return'href="'+Ee(r)+'"'}function Md(r){return'link[rel="stylesheet"]['+r+"]"}function PE(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function tz(r,a,f,m){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?m.loading=1:(a=r.createElement("link"),m.preload=a,a.addEventListener("load",function(){return m.loading|=1}),a.addEventListener("error",function(){return m.loading|=2}),ui(a,"link",f),ln(a),r.head.appendChild(a))}function Vc(r){return'[src="'+Ee(r)+'"]'}function Dd(r){return"script[async]"+r}function ME(r,a,f){if(a.count++,a.instance===null)switch(a.type){case"style":var m=r.querySelector('style[data-href~="'+Ee(f.href)+'"]');if(m)return a.instance=m,ln(m),m;var S=v({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(r.ownerDocument||r).createElement("style"),ln(m),ui(m,"style",S),Ep(m,f.precedence,r),a.instance=m;case"stylesheet":S=Fc(f.href);var A=r.querySelector(Md(S));if(A)return a.state.loading|=4,a.instance=A,ln(A),A;m=PE(f),(S=js.get(S))&&Fy(m,S),A=(r.ownerDocument||r).createElement("link"),ln(A);var j=A;return j._p=new Promise(function(F,ee){j.onload=F,j.onerror=ee}),ui(A,"link",m),a.state.loading|=4,Ep(A,f.precedence,r),a.instance=A;case"script":return A=Vc(f.src),(S=r.querySelector(Dd(A)))?(a.instance=S,ln(S),S):(m=f,(S=js.get(A))&&(m=v({},f),Vy(m,S)),r=r.ownerDocument||r,S=r.createElement("script"),ln(S),ui(S,"link",m),r.head.appendChild(S),a.instance=S);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(m=a.instance,a.state.loading|=4,Ep(m,f.precedence,r));return a.instance}function Ep(r,a,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=m.length?m[m.length-1]:null,A=S,j=0;j<m.length;j++){var F=m[j];if(F.dataset.precedence===a)A=F;else if(A!==S)break}A?A.parentNode.insertBefore(r,A.nextSibling):(a=f.nodeType===9?f.head:f,a.insertBefore(r,a.firstChild))}function Fy(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Vy(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Ap=null;function DE(r,a,f){if(Ap===null){var m=new Map,S=Ap=new Map;S.set(f,m)}else S=Ap,m=S.get(f),m||(m=new Map,S.set(f,m));if(m.has(r))return m;for(m.set(r,null),f=f.getElementsByTagName(r),S=0;S<f.length;S++){var A=f[S];if(!(A[to]||A[pn]||r==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var j=A.getAttribute(a)||"";j=r+j;var F=m.get(j);F?F.push(A):m.set(j,[A])}}return m}function LE(r,a,f){r=r.ownerDocument||r,r.head.insertBefore(f,a==="title"?r.querySelector("head > title"):null)}function nz(r,a,f){if(f===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(r=a.disabled,typeof a.precedence=="string"&&r==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function jE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function iz(r,a,f,m){if(f.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var S=Fc(m.href),A=a.querySelector(Md(S));if(A){a=A._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(r.count++,r=Tp.bind(r),a.then(r,r)),f.state.loading|=4,f.instance=A,ln(A);return}A=a.ownerDocument||a,m=PE(m),(S=js.get(S))&&Fy(m,S),A=A.createElement("link"),ln(A);var j=A;j._p=new Promise(function(F,ee){j.onload=F,j.onerror=ee}),ui(A,"link",m),f.instance=A}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(f,a),(a=f.state.preload)&&(f.state.loading&3)===0&&(r.count++,f=Tp.bind(r),a.addEventListener("load",f),a.addEventListener("error",f))}}var $y=0;function sz(r,a){return r.stylesheets&&r.count===0&&kp(r,r.stylesheets),0<r.count||0<r.imgCount?function(f){var m=setTimeout(function(){if(r.stylesheets&&kp(r,r.stylesheets),r.unsuspend){var A=r.unsuspend;r.unsuspend=null,A()}},6e4+a);0<r.imgBytes&&$y===0&&($y=62500*zI());var S=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&kp(r,r.stylesheets),r.unsuspend)){var A=r.unsuspend;r.unsuspend=null,A()}},(r.imgBytes>$y?50:800)+a);return r.unsuspend=f,function(){r.unsuspend=null,clearTimeout(m),clearTimeout(S)}}:null}function Tp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Rp=null;function kp(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Rp=new Map,a.forEach(rz,r),Rp=null,Tp.call(r))}function rz(r,a){if(!(a.state.loading&4)){var f=Rp.get(r);if(f)var m=f.get(null);else{f=new Map,Rp.set(r,f);for(var S=r.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<S.length;A++){var j=S[A];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(f.set(j.dataset.precedence,j),m=j)}m&&f.set(null,m)}S=a.instance,j=S.getAttribute("data-precedence"),A=f.get(j)||m,A===m&&f.set(null,S),f.set(j,S),this.count++,m=Tp.bind(this),S.addEventListener("load",m),S.addEventListener("error",m),A?A.parentNode.insertBefore(S,A.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(S,r.firstChild)),a.state.loading|=4}}var Ld={$$typeof:O,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function oz(r,a,f,m,S,A,j,F,ee){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zn(0),this.hiddenUpdates=Zn(null),this.identifierPrefix=m,this.onUncaughtError=S,this.onCaughtError=A,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ee,this.incompleteTransitions=new Map}function IE(r,a,f,m,S,A,j,F,ee,he,_e,Te){return r=new oz(r,a,f,j,ee,he,_e,Te,F),a=1,A===!0&&(a|=24),A=wi(3,null,null,a),r.current=A,A.stateNode=r,a=wv(),a.refCount++,r.pooledCache=a,a.refCount++,A.memoizedState={element:m,isDehydrated:f,cache:a},Av(A),r}function zE(r){return r?(r=uo,r):uo}function BE(r,a,f,m,S,A){S=zE(S),m.context===null?m.context=S:m.pendingContext=S,m=ea(a),m.payload={element:f},A=A===void 0?null:A,A!==null&&(m.callback=A),f=ta(r,m,a),f!==null&&(Zi(f,r,a),hd(f,r,a))}function UE(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var f=r.retryLane;r.retryLane=f!==0&&f<a?f:a}}function Hy(r,a){UE(r,a),(r=r.alternate)&&UE(r,a)}function FE(r){if(r.tag===13||r.tag===31){var a=Ps(r,67108864);a!==null&&Zi(a,r,67108864),Hy(r,67108864)}}function VE(r){if(r.tag===13||r.tag===31){var a=hs();a=an(a);var f=Ps(r,a);f!==null&&Zi(f,r,a),Hy(r,a)}}var Np=!0;function az(r,a,f,m){var S=G.T;G.T=null;var A=Y.p;try{Y.p=2,Gy(r,a,f,m)}finally{Y.p=A,G.T=S}}function lz(r,a,f,m){var S=G.T;G.T=null;var A=Y.p;try{Y.p=8,Gy(r,a,f,m)}finally{Y.p=A,G.T=S}}function Gy(r,a,f,m){if(Np){var S=Ky(m);if(S===null)Oy(r,a,m,Op,f),HE(r,m);else if(uz(S,r,a,f,m))m.stopPropagation();else if(HE(r,m),a&4&&-1<cz.indexOf(r)){for(;S!==null;){var A=Cr(S);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var j=Zt(A.pendingLanes);if(j!==0){var F=A;for(F.pendingLanes|=2,F.entangledLanes|=2;j;){var ee=1<<31-En(j);F.entanglements[1]|=ee,j&=~ee}Br(A),(Dt&6)===0&&(hp=sn()+500,kd(0))}}break;case 31:case 13:F=Ps(A,2),F!==null&&Zi(F,A,2),mp(),Hy(A,2)}if(A=Ky(m),A===null&&Oy(r,a,m,Op,f),A===S)break;S=A}S!==null&&m.stopPropagation()}else Oy(r,a,m,null,f)}}function Ky(r){return r=Ka(r),qy(r)}var Op=null;function qy(r){if(Op=null,r=Xs(r),r!==null){var a=o(r);if(a===null)r=null;else{var f=a.tag;if(f===13){if(r=l(a),r!==null)return r;r=null}else if(f===31){if(r=c(a),r!==null)return r;r=null}else if(f===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Op=r,null}function $E(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sr()){case bt:return 2;case At:return 8;case zt:case Ti:return 32;case Ws:return 268435456;default:return 32}default:return 32}}var Wy=!1,fa=null,ha=null,pa=null,jd=new Map,Id=new Map,ma=[],cz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function HE(r,a){switch(r){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":jd.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Id.delete(a.pointerId)}}function zd(r,a,f,m,S,A){return r===null||r.nativeEvent!==A?(r={blockedOn:a,domEventName:f,eventSystemFlags:m,nativeEvent:A,targetContainers:[S]},a!==null&&(a=Cr(a),a!==null&&FE(a)),r):(r.eventSystemFlags|=m,a=r.targetContainers,S!==null&&a.indexOf(S)===-1&&a.push(S),r)}function uz(r,a,f,m,S){switch(a){case"focusin":return fa=zd(fa,r,a,f,m,S),!0;case"dragenter":return ha=zd(ha,r,a,f,m,S),!0;case"mouseover":return pa=zd(pa,r,a,f,m,S),!0;case"pointerover":var A=S.pointerId;return jd.set(A,zd(jd.get(A)||null,r,a,f,m,S)),!0;case"gotpointercapture":return A=S.pointerId,Id.set(A,zd(Id.get(A)||null,r,a,f,m,S)),!0}return!1}function GE(r){var a=Xs(r.target);if(a!==null){var f=o(a);if(f!==null){if(a=f.tag,a===13){if(a=l(f),a!==null){r.blockedOn=a,is(r.priority,function(){VE(f)});return}}else if(a===31){if(a=c(f),a!==null){r.blockedOn=a,is(r.priority,function(){VE(f)});return}}else if(a===3&&f.stateNode.current.memoizedState.isDehydrated){r.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Pp(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var f=Ky(r.nativeEvent);if(f===null){f=r.nativeEvent;var m=new f.constructor(f.type,f);oo=m,f.target.dispatchEvent(m),oo=null}else return a=Cr(f),a!==null&&FE(a),r.blockedOn=f,!1;a.shift()}return!0}function KE(r,a,f){Pp(r)&&f.delete(a)}function dz(){Wy=!1,fa!==null&&Pp(fa)&&(fa=null),ha!==null&&Pp(ha)&&(ha=null),pa!==null&&Pp(pa)&&(pa=null),jd.forEach(KE),Id.forEach(KE)}function Mp(r,a){r.blockedOn===a&&(r.blockedOn=null,Wy||(Wy=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,dz)))}var Dp=null;function qE(r){Dp!==r&&(Dp=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Dp===r&&(Dp=null);for(var a=0;a<r.length;a+=3){var f=r[a],m=r[a+1],S=r[a+2];if(typeof m!="function"){if(qy(m||f)===null)continue;break}var A=Cr(f);A!==null&&(r.splice(a,3),a-=3,Kv(A,{pending:!0,data:S,method:f.method,action:m},m,S))}}))}function $c(r){function a(ee){return Mp(ee,r)}fa!==null&&Mp(fa,r),ha!==null&&Mp(ha,r),pa!==null&&Mp(pa,r),jd.forEach(a),Id.forEach(a);for(var f=0;f<ma.length;f++){var m=ma[f];m.blockedOn===r&&(m.blockedOn=null)}for(;0<ma.length&&(f=ma[0],f.blockedOn===null);)GE(f),f.blockedOn===null&&ma.shift();if(f=(r.ownerDocument||r).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var S=f[m],A=f[m+1],j=S[Tn]||null;if(typeof A=="function")j||qE(f);else if(j){var F=null;if(A&&A.hasAttribute("formAction")){if(S=A,j=A[Tn]||null)F=j.formAction;else if(qy(S)!==null)continue}else F=j.action;typeof F=="function"?f[m+1]=F:(f.splice(m,3),m-=3),qE(f)}}}function WE(){function r(A){A.canIntercept&&A.info==="react-transition"&&A.intercept({handler:function(){return new Promise(function(j){return S=j})},focusReset:"manual",scroll:"manual"})}function a(){S!==null&&(S(),S=null),m||setTimeout(f,20)}function f(){if(!m&&!navigation.transition){var A=navigation.currentEntry;A&&A.url!=null&&navigation.navigate(A.url,{state:A.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,S=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(f,100),function(){m=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),S!==null&&(S(),S=null)}}}function Yy(r){this._internalRoot=r}Lp.prototype.render=Yy.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var f=a.current,m=hs();BE(f,m,r,a,null,null)},Lp.prototype.unmount=Yy.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;BE(r.current,2,null,r,null,null),mp(),a[Zs]=null}};function Lp(r){this._internalRoot=r}Lp.prototype.unstable_scheduleHydration=function(r){if(r){var a=bi();r={blockedOn:null,target:r,priority:a};for(var f=0;f<ma.length&&a!==0&&a<ma[f].priority;f++);ma.splice(f,0,r),f===0&&GE(r)}};var YE=t.version;if(YE!=="19.2.4")throw Error(i(527,YE,"19.2.4"));Y.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(a),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var fz={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jp.isDisabled&&jp.supportsFiber)try{ts=jp.inject(fz),rn=jp}catch{}}return Ud.createRoot=function(r,a){if(!s(r))throw Error(i(299));var f=!1,m="",S=nC,A=iC,j=sC;return a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(S=a.onUncaughtError),a.onCaughtError!==void 0&&(A=a.onCaughtError),a.onRecoverableError!==void 0&&(j=a.onRecoverableError)),a=IE(r,1,!1,null,null,f,m,null,S,A,j,WE),r[Zs]=a.current,Ny(r),new Yy(a)},Ud.hydrateRoot=function(r,a,f){if(!s(r))throw Error(i(299));var m=!1,S="",A=nC,j=iC,F=sC,ee=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onUncaughtError!==void 0&&(A=f.onUncaughtError),f.onCaughtError!==void 0&&(j=f.onCaughtError),f.onRecoverableError!==void 0&&(F=f.onRecoverableError),f.formState!==void 0&&(ee=f.formState)),a=IE(r,1,!0,a,f??null,m,S,ee,A,j,F,WE),a.context=zE(null),f=a.current,m=hs(),m=an(m),S=ea(m),S.callback=null,ta(f,S,m),f=m,a.current.lanes=f,Xn(a,f),Br(a),r[Zs]=a.current,Ny(r),new Lp(a)},Ud.version="19.2.4",Ud}var rA;function wz(){if(rA)return Qy.exports;rA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Qy.exports=_z(),Qy.exports}var Sz=wz(),nn=(e=>(e[e.None=0]="None",e[e.Mutable=1]="Mutable",e[e.Watching=2]="Watching",e[e.RecursedCheck=4]="RecursedCheck",e[e.Recursed=8]="Recursed",e[e.Dirty=16]="Dirty",e[e.Pending=32]="Pending",e))(nn||{});function Pk({update:e,notify:t,unwatched:n}){return{link:i,unlink:s,propagate:o,checkDirty:l,shallowPropagate:c};function i(h,g,v){const b=g.depsTail;if(b!==void 0&&b.dep===h)return;const _=b!==void 0?b.nextDep:g.deps;if(_!==void 0&&_.dep===h){_.version=v,g.depsTail=_;return}const C=h.subsTail;if(C!==void 0&&C.version===v&&C.sub===g)return;const E=g.depsTail=h.subsTail={version:v,dep:h,sub:g,prevDep:b,nextDep:_,prevSub:C,nextSub:void 0};_!==void 0&&(_.prevDep=E),b!==void 0?b.nextDep=E:g.deps=E,C!==void 0?C.nextSub=E:h.subs=E}function s(h,g=h.sub){const v=h.dep,b=h.prevDep,_=h.nextDep,C=h.nextSub,E=h.prevSub;return _!==void 0?_.prevDep=b:g.depsTail=b,b!==void 0?b.nextDep=_:g.deps=_,C!==void 0?C.prevSub=E:v.subsTail=E,E!==void 0?E.nextSub=C:(v.subs=C)===void 0&&n(v),_}function o(h){let g=h.nextSub,v;e:do{const b=h.sub;let _=b.flags;if(_&60?_&12?_&4?!(_&48)&&d(h,b)?(b.flags=_|40,_&=1):_=0:b.flags=_&-9|32:_=0:b.flags=_|32,_&2&&t(b),_&1){const C=b.subs;if(C!==void 0){const E=(h=C).nextSub;E!==void 0&&(v={value:g,prev:v},g=E);continue}}if((h=g)!==void 0){g=h.nextSub;continue}for(;v!==void 0;)if(h=v.value,v=v.prev,h!==void 0){g=h.nextSub;continue e}break}while(!0)}function l(h,g){let v,b=0,_=!1;e:do{const C=h.dep,E=C.flags;if(g.flags&16)_=!0;else if((E&17)===17){if(e(C)){const R=C.subs;R.nextSub!==void 0&&c(R),_=!0}}else if((E&33)===33){(h.nextSub!==void 0||h.prevSub!==void 0)&&(v={value:h,prev:v}),h=C.deps,g=C,++b;continue}if(!_){const R=h.nextDep;if(R!==void 0){h=R;continue}}for(;b--;){const R=g.subs,N=R.nextSub!==void 0;if(N?(h=v.value,v=v.prev):h=R,_){if(e(g)){N&&c(R),g=h.sub;continue}_=!1}else g.flags&=-33;g=h.sub;const k=h.nextDep;if(k!==void 0){h=k;continue e}}return _}while(!0)}function c(h){do{const g=h.sub,v=g.flags;(v&48)===32&&(g.flags=v|16,(v&6)===2&&t(g))}while((h=h.nextSub)!==void 0)}function d(h,g){let v=g.depsTail;for(;v!==void 0;){if(v===h)return!0;v=v.prevDep}return!1}}let H0=0,wl=0,sf=0;const ko=[],{link:ele,unlink:Mk,propagate:tle,checkDirty:Cz,shallowPropagate:nle}=Pk({update(e){return e.depsTail!==void 0?Rz(e):kz(e)},notify(e){let t=sf,n=t;do if(ko[t++]=e,e.flags&=-3,e=e.subs?.sub,e===void 0||!(e.flags&2))break;while(!0);for(sf=t;n<--t;){const i=ko[n];ko[n++]=ko[t],ko[t]=i}},unwatched(e){e.flags&1?e.depsTail!==void 0&&(e.depsTail=void 0,e.flags=17,vg(e)):Pz.call(e)}});function Ez(){return H0}function Az(){++H0}function Tz(){--H0||Oz()}function Rz(e){e.depsTail=void 0,e.flags=5;try{const t=e.value;return t!==(e.value=e.getter(t))}finally{e.flags&=-5,vg(e)}}function kz(e){return e.flags=1,e.currentValue!==(e.currentValue=e.pendingValue)}function Nz(e){const t=e.flags;if(t&16||t&32&&Cz(e.deps,e)){e.depsTail=void 0,e.flags=6;try{e.fn()}finally{e.flags&=-5,vg(e)}}else e.flags=2}function Oz(){try{for(;wl<sf;){const e=ko[wl];ko[wl++]=void 0,Nz(e)}}finally{for(;wl<sf;){const e=ko[wl];ko[wl++]=void 0,e.flags|=10}wl=0,sf=0}}function Pz(){this.depsTail=void 0,this.flags=0,vg(this);const e=this.subs;e!==void 0&&Mk(e)}function vg(e){const t=e.depsTail;let n=t!==void 0?t.nextDep:e.deps;for(;n!==void 0;)n=Mk(n,e)}function Dk(e,t,n){const i=typeof e=="object",s=i?e:void 0;return{next:(i?e.next:e)?.bind(s),error:(i?e.error:t)?.bind(s),complete:(i?e.complete:n)?.bind(s)}}const hx=[];let hm=0;const{link:oA,unlink:Mz,propagate:Dz,checkDirty:Lk,shallowPropagate:aA}=Pk({update(e){return e._update()},notify(e){hx[px++]=e,e.flags&=~nn.Watching},unwatched(e){e.depsTail!==void 0&&(e.depsTail=void 0,e.flags=nn.Mutable|nn.Dirty,km(e))}});let zp=0,px=0,Fr;function km(e){const t=e.depsTail;let n=t!==void 0?t.nextDep:e.deps;for(;n!==void 0;)n=Mz(n,e)}function jk(){if(!(Ez()>0)){for(;zp<px;){const e=hx[zp];hx[zp++]=void 0,e.notify()}zp=0,px=0}}function Lz(e,t){const n=typeof e=="function",i=e,s={_snapshot:n?void 0:e,subs:void 0,subsTail:void 0,deps:void 0,depsTail:void 0,flags:n?nn.None:nn.Mutable,get(){return Fr!==void 0&&oA(s,Fr,hm),s._snapshot},subscribe(o){const l=Dk(o),c={current:!1},d=jz(()=>{s.get(),c.current?l.next?.(s._snapshot):c.current=!0});return{unsubscribe:()=>{d.stop()}}},_update(o){const l=Fr,c=Object.is;Fr=s,++hm,s.depsTail=void 0,n&&(s.flags=nn.Mutable|nn.RecursedCheck);try{const d=s._snapshot,h=typeof o=="function"?o(d):o===void 0&&n?i(d):o;return d===void 0||!c(d,h)?(s._snapshot=h,!0):!1}finally{Fr=l,n&&(s.flags&=~nn.RecursedCheck),km(s)}}};return n?(s.flags=nn.Mutable|nn.Dirty,s.get=function(){const o=s.flags;if(o&nn.Dirty||o&nn.Pending&&Lk(s.deps,s)){if(s._update()){const l=s.subs;l!==void 0&&aA(l)}}else o&nn.Pending&&(s.flags=o&~nn.Pending);return Fr!==void 0&&oA(s,Fr,hm),s._snapshot}):s.set=function(o){if(s._update(o)){const l=s.subs;l!==void 0&&(Dz(l),aA(l),jk())}},s}function jz(e){const t=()=>{const i=Fr;Fr=n,++hm,n.depsTail=void 0,n.flags=nn.Watching|nn.RecursedCheck;try{return e()}finally{Fr=i,n.flags&=~nn.RecursedCheck,km(n)}},n={deps:void 0,depsTail:void 0,subs:void 0,subsTail:void 0,flags:nn.Watching|nn.RecursedCheck,notify(){const i=this.flags;i&nn.Dirty||i&nn.Pending&&Lk(this.deps,this)?t():this.flags=nn.Watching},stop(){this.flags=nn.None,this.depsTail=void 0,km(this)}};return t(),n}class Iz{constructor(t){this.atom=Lz(t)}setState(t){this.atom.set(t)}get state(){return this.atom.get()}get(){return this.state}subscribe(t){return this.atom.subscribe(Dk(t))}}function zz(e){try{Az(),e()}finally{Tz(),jk()}}const ka="__TSR_index",lA="popstate",cA="beforeunload";function Bz(e){let t=e.getLocation();const n=new Set,i=l=>{t=e.getLocation(),n.forEach(c=>c({location:t,action:l}))},s=l=>{e.notifyOnIndexChange??!0?i(l):t=e.getLocation()},o=async({task:l,navigateOpts:c,...d})=>{if(c?.ignoreBlocker??!1){l();return}const g=e.getBlockers?.()??[],v=d.type==="PUSH"||d.type==="REPLACE";if(typeof document<"u"&&g.length&&v)for(const b of g){const _=Nm(d.path,d.state);if(await b.blockerFn({currentLocation:t,nextLocation:_,action:d.type})){e.onBlocked?.();return}}l()};return{get location(){return t},get length(){return e.getLength()},subscribers:n,subscribe:l=>(n.add(l),()=>{n.delete(l)}),push:(l,c,d)=>{const h=t.state[ka];c=uA(h+1,c),o({task:()=>{e.pushState(l,c),i({type:"PUSH"})},navigateOpts:d,type:"PUSH",path:l,state:c})},replace:(l,c,d)=>{const h=t.state[ka];c=uA(h,c),o({task:()=>{e.replaceState(l,c),i({type:"REPLACE"})},navigateOpts:d,type:"REPLACE",path:l,state:c})},go:(l,c)=>{o({task:()=>{e.go(l),s({type:"GO",index:l})},navigateOpts:c,type:"GO"})},back:l=>{o({task:()=>{e.back(l?.ignoreBlocker??!1),s({type:"BACK"})},navigateOpts:l,type:"BACK"})},forward:l=>{o({task:()=>{e.forward(l?.ignoreBlocker??!1),s({type:"FORWARD"})},navigateOpts:l,type:"FORWARD"})},canGoBack:()=>t.state[ka]!==0,createHref:l=>e.createHref(l),block:l=>{if(!e.setBlockers)return()=>{};const c=e.getBlockers?.()??[];return e.setBlockers([...c,l]),()=>{const d=e.getBlockers?.()??[];e.setBlockers?.(d.filter(h=>h!==l))}},flush:()=>e.flush?.(),destroy:()=>e.destroy?.(),notify:i}}function uA(e,t){t||(t={});const n=G0();return{...t,key:n,__TSR_key:n,[ka]:e}}function Uz(e){const t=typeof document<"u"?window:void 0,n=t.history.pushState,i=t.history.replaceState;let s=[];const o=()=>s,l=I=>s=I,c=(I=>I),d=(()=>Nm(`${t.location.pathname}${t.location.search}${t.location.hash}`,t.history.state));if(!t.history.state?.__TSR_key&&!t.history.state?.key){const I=G0();t.history.replaceState({[ka]:0,key:I,__TSR_key:I},"")}let h=d(),g,v=!1,b=!1,_=!1,C=!1;const E=()=>h;let R,N;const k=()=>{R&&(z._ignoreSubscribers=!0,(R.isPush?t.history.pushState:t.history.replaceState)(R.state,"",R.href),z._ignoreSubscribers=!1,R=void 0,N=void 0,g=void 0)},O=(I,$,Z)=>{const q=c($);N||(g=h),h=Nm($,Z),R={href:q,state:Z,isPush:R?.isPush||I==="push"},N||(N=Promise.resolve().then(()=>k()))},M=I=>{h=d(),z.notify({type:I})},D=async()=>{if(b){b=!1;return}const I=d(),$=I.state[ka]-h.state[ka],Z=$===1,q=$===-1,W=!Z&&!q||v;v=!1;const ne=W?"GO":q?"BACK":"FORWARD",re=W?{type:"GO",index:$}:{type:q?"BACK":"FORWARD"};if(_)_=!1;else{const ye=o();if(typeof document<"u"&&ye.length){for(const G of ye)if(await G.blockerFn({currentLocation:h,nextLocation:I,action:ne})){b=!0,t.history.go(1),z.notify(re);return}}}h=d(),z.notify(re)},V=I=>{if(C){C=!1;return}let $=!1;const Z=o();if(typeof document<"u"&&Z.length)for(const q of Z){const W=q.enableBeforeUnload??!0;if(W===!0){$=!0;break}if(typeof W=="function"&&W()===!0){$=!0;break}}if($)return I.preventDefault(),I.returnValue=""},z=Bz({getLocation:E,getLength:()=>t.history.length,pushState:(I,$)=>O("push",I,$),replaceState:(I,$)=>O("replace",I,$),back:I=>(I&&(_=!0),C=!0,t.history.back()),forward:I=>{I&&(_=!0),C=!0,t.history.forward()},go:I=>{v=!0,t.history.go(I)},createHref:I=>c(I),flush:k,destroy:()=>{t.history.pushState=n,t.history.replaceState=i,t.removeEventListener(cA,V,{capture:!0}),t.removeEventListener(lA,D)},onBlocked:()=>{g&&h!==g&&(h=g)},getBlockers:o,setBlockers:l,notifyOnIndexChange:!1});return t.addEventListener(cA,V,{capture:!0}),t.addEventListener(lA,D),t.history.pushState=function(...I){const $=n.apply(t.history,I);return z._ignoreSubscribers||M("PUSH"),$},t.history.replaceState=function(...I){const $=i.apply(t.history,I);return z._ignoreSubscribers||M("REPLACE"),$},z}function Fz(e){let t=e.replace(/[\x00-\x1f\x7f]/g,"");return t.startsWith("//")&&(t="/"+t.replace(/^\/+/,"")),t}function Nm(e,t){const n=Fz(e),i=n.indexOf("#"),s=n.indexOf("?"),o=G0();return{href:n,pathname:n.substring(0,i>0?s>0?Math.min(i,s):i:s>0?s:n.length),hash:i>-1?n.substring(i):"",search:s>-1?n.slice(s,i===-1?void 0:i):"",state:t||{[ka]:0,key:o,__TSR_key:o}}}function G0(){return(Math.random()+1).toString(36).substring(7)}const Vz=!1;function rf(e){let t;return zz(()=>{t=e()}),t}function bf(e){return e[e.length-1]}function $z(e){return typeof e=="function"}function Aa(e,t){return $z(e)?e(t):e}const Hz=Object.prototype.hasOwnProperty,dA=Object.prototype.propertyIsEnumerable;function ms(e,t,n=0){if(e===t)return e;if(n>500)return t;const i=t,s=pA(e)&&pA(i);if(!s&&!(Om(e)&&Om(i)))return i;const o=s?e:fA(e);if(!o)return i;const l=s?i:fA(i);if(!l)return i;const c=o.length,d=l.length,h=s?new Array(d):{};let g=0;for(let v=0;v<d;v++){const b=s?v:l[v],_=e[b],C=i[b];if(_===C){h[b]=_,(s?v<c:Hz.call(e,b))&&g++;continue}if(_===null||C===null||typeof _!="object"||typeof C!="object"){h[b]=C;continue}const E=ms(_,C,n+1);h[b]=E,E===_&&g++}return c===d&&g===c?e:h}function fA(e){const t=Object.getOwnPropertyNames(e);for(const s of t)if(!dA.call(e,s))return!1;const n=Object.getOwnPropertySymbols(e);if(n.length===0)return t;const i=t;for(const s of n){if(!dA.call(e,s))return!1;i.push(s)}return i}function Om(e){if(!hA(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!hA(n)||!n.hasOwnProperty("isPrototypeOf"))}function hA(e){return Object.prototype.toString.call(e)==="[object Object]"}function pA(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Bl(e,t,n){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let i=0,s=e.length;i<s;i++)if(!Bl(e[i],t[i],n))return!1;return!0}if(Om(e)&&Om(t)){const i=n?.ignoreUndefined??!0;if(n?.partial){for(const l in t)if((!i||t[l]!==void 0)&&!Bl(e[l],t[l],n))return!1;return!0}let s=0;if(!i)s=Object.keys(e).length;else for(const l in e)e[l]!==void 0&&s++;let o=0;for(const l in t)if((!i||t[l]!==void 0)&&(o++,o>s||!Bl(e[l],t[l],n)))return!1;return s===o}return!1}function Su(e){let t,n;const i=new Promise((s,o)=>{t=s,n=o});return i.status="pending",i.resolve=s=>{i.status="resolved",i.value=s,t(s),e?.(s)},i.reject=s=>{i.status="rejected",n(s)},i}function mu(e){return!!(e&&typeof e=="object"&&typeof e.then=="function")}function Gz(e){return e.replace(/[\x00-\x1f\x7f]/g,"")}function mA(e){let t;try{t=decodeURI(e)}catch{t=e.replaceAll(/%[0-9A-F]{2}/gi,n=>{try{return decodeURI(n)}catch{return n}})}return Gz(t)}const Kz=["http:","https:","mailto:","tel:"];function Pm(e,t){if(!e)return!1;try{const n=new URL(e);return!t.has(n.protocol)}catch{return!1}}function Fd(e){if(!e)return{path:e,handledProtocolRelativeURL:!1};if(!/[%\\\x00-\x1f\x7f]/.test(e)&&!e.startsWith("//"))return{path:e,handledProtocolRelativeURL:!1};const t=/%25|%5C/gi;let n=0,i="",s;for(;(s=t.exec(e))!==null;)i+=mA(e.slice(n,s.index))+s[0],n=t.lastIndex;i=i+mA(n?e.slice(n):e);let o=!1;return i.startsWith("//")&&(o=!0,i="/"+i.replace(/^\/+/,"")),{path:i,handledProtocolRelativeURL:o}}function qz(e){return/\s|[^\u0000-\u007F]/.test(e)?e.replace(/\s|[^\u0000-\u007F]/gu,encodeURIComponent):e}var Wz="Invariant failed";function Mo(e,t){if(!e)throw new Error(Wz)}function Mm(e){const t=new Map;let n,i;const s=o=>{o.next&&(o.prev?(o.prev.next=o.next,o.next.prev=o.prev,o.next=void 0,i&&(i.next=o,o.prev=i)):(o.next.prev=void 0,n=o.next,o.next=void 0,i&&(o.prev=i,i.next=o)),i=o)};return{get(o){const l=t.get(o);if(l)return s(l),l.value},set(o,l){if(t.size>=e&&n){const d=n;t.delete(d.key),d.next&&(n=d.next,d.next.prev=void 0),d===i&&(i=void 0)}const c=t.get(o);if(c)c.value=l,s(c);else{const d={key:o,value:l,prev:i};i&&(i.next=d),i=d,n||(n=d),t.set(o,d)}},clear(){t.clear(),n=void 0,i=void 0}}}const Cu=0,Vl=1,$l=2,xf=3,Dl=4,Ik=5;function Yz(e){const t=e.indexOf("{");if(t===-1)return null;const n=e.indexOf("}",t);return n===-1||t+1>=e.length?null:[t,n]}function K0(e,t,n=new Uint16Array(6)){const i=e.indexOf("/",t),s=i===-1?e.length:i,o=e.substring(t,s);if(!o||!o.includes("$"))return n[0]=Cu,n[1]=t,n[2]=t,n[3]=s,n[4]=s,n[5]=s,n;if(o==="$"){const c=e.length;return n[0]=$l,n[1]=t,n[2]=t,n[3]=c,n[4]=c,n[5]=c,n}if(o.charCodeAt(0)===36)return n[0]=Vl,n[1]=t,n[2]=t+1,n[3]=s,n[4]=s,n[5]=s,n;const l=Yz(o);if(l){const[c,d]=l,h=o.charCodeAt(c+1);if(h===45){if(c+2<o.length&&o.charCodeAt(c+2)===36){const g=c+3,v=d;if(g<v)return n[0]=xf,n[1]=t+c,n[2]=t+g,n[3]=t+v,n[4]=t+d+1,n[5]=s,n}}else if(h===36){const g=c+1,v=c+2;return v===d?(n[0]=$l,n[1]=t+c,n[2]=t+g,n[3]=t+v,n[4]=t+d+1,n[5]=e.length,n):(n[0]=Vl,n[1]=t+c,n[2]=t+v,n[3]=t+d,n[4]=t+d+1,n[5]=s,n)}}return n[0]=Cu,n[1]=t,n[2]=t,n[3]=s,n[4]=s,n[5]=s,n}function yg(e,t,n,i,s,o,l){l?.(n);let c=i;{const d=n.fullPath??n.from,h=d.length,g=n.options?.caseSensitive??e,v=!!(n.options?.params?.parse&&n.options?.skipRouteOnParseError?.params);for(;c<h;){const _=K0(d,c,t);let C;const E=c,R=_[5];switch(c=R+1,o++,_[0]){case Cu:{const k=d.substring(_[2],_[3]);if(g){const O=s.static?.get(k);if(O)C=O;else{s.static??=new Map;const M=Ll(n.fullPath??n.from);M.parent=s,M.depth=o,C=M,s.static.set(k,M)}}else{const O=k.toLowerCase(),M=s.staticInsensitive?.get(O);if(M)C=M;else{s.staticInsensitive??=new Map;const D=Ll(n.fullPath??n.from);D.parent=s,D.depth=o,C=D,s.staticInsensitive.set(O,D)}}break}case Vl:{const k=d.substring(E,_[1]),O=d.substring(_[4],R),M=g&&!!(k||O),D=k?M?k:k.toLowerCase():void 0,V=O?M?O:O.toLowerCase():void 0,z=!v&&s.dynamic?.find(I=>!I.skipOnParamError&&I.caseSensitive===M&&I.prefix===D&&I.suffix===V);if(z)C=z;else{const I=ib(Vl,n.fullPath??n.from,M,D,V);C=I,I.depth=o,I.parent=s,s.dynamic??=[],s.dynamic.push(I)}break}case xf:{const k=d.substring(E,_[1]),O=d.substring(_[4],R),M=g&&!!(k||O),D=k?M?k:k.toLowerCase():void 0,V=O?M?O:O.toLowerCase():void 0,z=!v&&s.optional?.find(I=>!I.skipOnParamError&&I.caseSensitive===M&&I.prefix===D&&I.suffix===V);if(z)C=z;else{const I=ib(xf,n.fullPath??n.from,M,D,V);C=I,I.parent=s,I.depth=o,s.optional??=[],s.optional.push(I)}break}case $l:{const k=d.substring(E,_[1]),O=d.substring(_[4],R),M=g&&!!(k||O),D=k?M?k:k.toLowerCase():void 0,V=O?M?O:O.toLowerCase():void 0,z=ib($l,n.fullPath??n.from,M,D,V);C=z,z.parent=s,z.depth=o,s.wildcard??=[],s.wildcard.push(z)}}s=C}if(v&&n.children&&!n.isRoot&&n.id&&n.id.charCodeAt(n.id.lastIndexOf("/")+1)===95){const _=Ll(n.fullPath??n.from);_.kind=Ik,_.parent=s,o++,_.depth=o,s.pathless??=[],s.pathless.push(_),s=_}const b=(n.path||!n.children)&&!n.isRoot;if(b&&d.endsWith("/")){const _=Ll(n.fullPath??n.from);_.kind=Dl,_.parent=s,o++,_.depth=o,s.index=_,s=_}s.parse=n.options?.params?.parse??null,s.skipOnParamError=v,s.parsingPriority=n.options?.skipRouteOnParseError?.priority??0,b&&!s.route&&(s.route=n,s.fullPath=n.fullPath??n.from)}if(n.children)for(const d of n.children)yg(e,t,d,c,s,o,l)}function nb(e,t){if(e.skipOnParamError&&!t.skipOnParamError)return-1;if(!e.skipOnParamError&&t.skipOnParamError)return 1;if(e.skipOnParamError&&t.skipOnParamError&&(e.parsingPriority||t.parsingPriority))return t.parsingPriority-e.parsingPriority;if(e.prefix&&t.prefix&&e.prefix!==t.prefix){if(e.prefix.startsWith(t.prefix))return-1;if(t.prefix.startsWith(e.prefix))return 1}if(e.suffix&&t.suffix&&e.suffix!==t.suffix){if(e.suffix.endsWith(t.suffix))return-1;if(t.suffix.endsWith(e.suffix))return 1}return e.prefix&&!t.prefix?-1:!e.prefix&&t.prefix?1:e.suffix&&!t.suffix?-1:!e.suffix&&t.suffix?1:e.caseSensitive&&!t.caseSensitive?-1:!e.caseSensitive&&t.caseSensitive?1:0}function wa(e){if(e.pathless)for(const t of e.pathless)wa(t);if(e.static)for(const t of e.static.values())wa(t);if(e.staticInsensitive)for(const t of e.staticInsensitive.values())wa(t);if(e.dynamic?.length){e.dynamic.sort(nb);for(const t of e.dynamic)wa(t)}if(e.optional?.length){e.optional.sort(nb);for(const t of e.optional)wa(t)}if(e.wildcard?.length){e.wildcard.sort(nb);for(const t of e.wildcard)wa(t)}}function Ll(e){return{kind:Cu,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:e,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0}}function ib(e,t,n,i,s){return{kind:e,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:t,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0,caseSensitive:n,prefix:i,suffix:s}}function Zz(e,t){const n=Ll("/"),i=new Uint16Array(6);for(const s of e)yg(!1,i,s,1,n,0);wa(n),t.masksTree=n,t.flatCache=Mm(1e3)}function Xz(e,t){e||="/";const n=t.flatCache.get(e);if(n)return n;const i=q0(e,t.masksTree);return t.flatCache.set(e,i),i}function Qz(e,t,n,i,s){e||="/",i||="/";const o=t?`case\0${e}`:e;let l=s.singleCache.get(o);if(!l){l=Ll("/");const c=new Uint16Array(6);yg(t,c,{from:e},1,l,0),s.singleCache.set(o,l)}return q0(i,l,n)}function Jz(e,t,n=!1){const i=n?e:`nofuzz\0${e}`,s=t.matchCache.get(i);if(s!==void 0)return s;e||="/";let o;try{o=q0(e,t.segmentTree,n)}catch(l){if(l instanceof URIError)o=null;else throw l}return o&&(o.branch=nB(o.route)),t.matchCache.set(i,o),o}function eB(e){return e==="/"?e:e.replace(/\/{1,}$/,"")}function tB(e,t=!1,n){const i=Ll(e.fullPath),s=new Uint16Array(6),o={},l={};let c=0;return yg(t,s,e,1,i,0,h=>{if(n?.(h,c),Mo(!(h.id in o),`Duplicate routes found with id: ${String(h.id)}`),o[h.id]=h,c!==0&&h.path){const g=eB(h.fullPath);(!l[g]||h.fullPath.endsWith("/"))&&(l[g]=h)}c++}),wa(i),{processedTree:{segmentTree:i,singleCache:Mm(1e3),matchCache:Mm(1e3),flatCache:null,masksTree:null},routesById:o,routesByPath:l}}function q0(e,t,n=!1){const i=e.split("/"),s=sB(e,i,t,n);if(!s)return null;const[o]=zk(e,i,s);return{route:s.node.route,rawParams:o,parsedParams:s.parsedParams}}function zk(e,t,n){const i=iB(n.node);let s=null;const o={};let l=n.extract?.part??0,c=n.extract?.node??0,d=n.extract?.path??0,h=n.extract?.segment??0;for(;c<i.length;l++,c++,d++,h++){const g=i[c];if(g.kind===Dl)break;if(g.kind===Ik){h--,l--,d--;continue}const v=t[l],b=d;if(v&&(d+=v.length),g.kind===Vl){s??=n.node.fullPath.split("/");const _=s[h],C=g.prefix?.length??0;if(_.charCodeAt(C)===123){const R=g.suffix?.length??0,N=_.substring(C+2,_.length-R-1),k=v.substring(C,v.length-R);o[N]=decodeURIComponent(k)}else{const R=_.substring(1);o[R]=decodeURIComponent(v)}}else if(g.kind===xf){if(n.skipped&1<<c){l--,d=b-1;continue}s??=n.node.fullPath.split("/");const _=s[h],C=g.prefix?.length??0,E=g.suffix?.length??0,R=_.substring(C+3,_.length-E-1),N=g.suffix||g.prefix?v.substring(C,v.length-E):v;N&&(o[R]=decodeURIComponent(N))}else if(g.kind===$l){const _=g,C=e.substring(b+(_.prefix?.length??0),e.length-(_.suffix?.length??0)),E=decodeURIComponent(C);o["*"]=E,o._splat=E;break}}return n.rawParams&&Object.assign(o,n.rawParams),[o,{part:l,node:c,path:d,segment:h}]}function nB(e){const t=[e];for(;e.parentRoute;)e=e.parentRoute,t.push(e);return t.reverse(),t}function iB(e){const t=Array(e.depth+1);do t[e.depth]=e,e=e.parent;while(e);return t}function sB(e,t,n,i){if(e==="/"&&n.index)return{node:n.index,skipped:0};const s=!bf(t),o=s&&e!=="/",l=t.length-(s?1:0),c=[{node:n,index:1,skipped:0,depth:1,statics:1,dynamics:0,optionals:0}];let d=null,h=null,g=null;for(;c.length;){const v=c.pop(),{node:b,index:_,skipped:C,depth:E,statics:R,dynamics:N,optionals:k}=v;let{extract:O,rawParams:M,parsedParams:D}=v;if(b.skipOnParamError){if(!sb(e,t,v))continue;M=v.rawParams,O=v.extract,D=v.parsedParams}i&&b.route&&b.kind!==Dl&&Vd(h,v)&&(h=v);const V=_===l;if(V&&(b.route&&!o&&Vd(g,v)&&(g=v),!b.optional&&!b.wildcard&&!b.index&&!b.pathless))continue;const z=V?void 0:t[_];let I;if(V&&b.index){const $={node:b.index,index:_,skipped:C,depth:E+1,statics:R,dynamics:N,optionals:k,extract:O,rawParams:M,parsedParams:D};let Z=!0;if(b.index.skipOnParamError&&(sb(e,t,$)||(Z=!1)),Z){if(R===l&&!N&&!k&&!C)return $;Vd(g,$)&&(g=$)}}if(b.wildcard&&Vd(d,v))for(const $ of b.wildcard){const{prefix:Z,suffix:q}=$;if(Z&&(V||!($.caseSensitive?z:I??=z.toLowerCase()).startsWith(Z)))continue;if(q){if(V)continue;const ne=t.slice(_).join("/").slice(-q.length);if(($.caseSensitive?ne:ne.toLowerCase())!==q)continue}const W={node:$,index:l,skipped:C,depth:E,statics:R,dynamics:N,optionals:k,extract:O,rawParams:M,parsedParams:D};if(!($.skipOnParamError&&!sb(e,t,W))){d=W;break}}if(b.optional){const $=C|1<<E,Z=E+1;for(let q=b.optional.length-1;q>=0;q--){const W=b.optional[q];c.push({node:W,index:_,skipped:$,depth:Z,statics:R,dynamics:N,optionals:k,extract:O,rawParams:M,parsedParams:D})}if(!V)for(let q=b.optional.length-1;q>=0;q--){const W=b.optional[q],{prefix:ne,suffix:re}=W;if(ne||re){const ye=W.caseSensitive?z:I??=z.toLowerCase();if(ne&&!ye.startsWith(ne)||re&&!ye.endsWith(re))continue}c.push({node:W,index:_+1,skipped:C,depth:Z,statics:R,dynamics:N,optionals:k+1,extract:O,rawParams:M,parsedParams:D})}}if(!V&&b.dynamic&&z)for(let $=b.dynamic.length-1;$>=0;$--){const Z=b.dynamic[$],{prefix:q,suffix:W}=Z;if(q||W){const ne=Z.caseSensitive?z:I??=z.toLowerCase();if(q&&!ne.startsWith(q)||W&&!ne.endsWith(W))continue}c.push({node:Z,index:_+1,skipped:C,depth:E+1,statics:R,dynamics:N+1,optionals:k,extract:O,rawParams:M,parsedParams:D})}if(!V&&b.staticInsensitive){const $=b.staticInsensitive.get(I??=z.toLowerCase());$&&c.push({node:$,index:_+1,skipped:C,depth:E+1,statics:R+1,dynamics:N,optionals:k,extract:O,rawParams:M,parsedParams:D})}if(!V&&b.static){const $=b.static.get(z);$&&c.push({node:$,index:_+1,skipped:C,depth:E+1,statics:R+1,dynamics:N,optionals:k,extract:O,rawParams:M,parsedParams:D})}if(b.pathless){const $=E+1;for(let Z=b.pathless.length-1;Z>=0;Z--){const q=b.pathless[Z];c.push({node:q,index:_,skipped:C,depth:$,statics:R,dynamics:N,optionals:k,extract:O,rawParams:M,parsedParams:D})}}}if(g&&d)return Vd(d,g)?g:d;if(g)return g;if(d)return d;if(i&&h){let v=h.index;for(let _=0;_<h.index;_++)v+=t[_].length;const b=v===e.length?"/":e.slice(v);return h.rawParams??={},h.rawParams["**"]=decodeURIComponent(b),h}return null}function sb(e,t,n){try{const[i,s]=zk(e,t,n);n.rawParams=i,n.extract=s;const o=n.node.parse(i);return n.parsedParams=Object.assign({},n.parsedParams,o),!0}catch{return null}}function Vd(e,t){return e?t.statics>e.statics||t.statics===e.statics&&(t.dynamics>e.dynamics||t.dynamics===e.dynamics&&(t.optionals>e.optionals||t.optionals===e.optionals&&((t.node.kind===Dl)>(e.node.kind===Dl)||t.node.kind===Dl==(e.node.kind===Dl)&&t.depth>e.depth))):!0}function pm(e){return W0(e.filter(t=>t!==void 0).join("/"))}function W0(e){return e.replace(/\/{2,}/g,"/")}function Bk(e){return e==="/"?e:e.replace(/^\/{1,}/,"")}function Na(e){const t=e.length;return t>1&&e[t-1]==="/"?e.replace(/\/{1,}$/,""):e}function Uk(e){return Na(Bk(e))}function Dm(e,t){return e?.endsWith("/")&&e!=="/"&&e!==`${t}/`?e.slice(0,-1):e}function rB(e,t,n){return Dm(e,n)===Dm(t,n)}function oB({base:e,to:t,trailingSlash:n="never",cache:i}){const s=t.startsWith("/"),o=!s&&t===".";let l;if(i){l=s?t:o?e:e+"\0"+t;const v=i.get(l);if(v)return v}let c;if(o)c=e.split("/");else if(s)c=t.split("/");else{for(c=e.split("/");c.length>1&&bf(c)==="";)c.pop();const v=t.split("/");for(let b=0,_=v.length;b<_;b++){const C=v[b];C===""?b?b===_-1&&c.push(C):c=[C]:C===".."?c.pop():C==="."||c.push(C)}}c.length>1&&(bf(c)===""?n==="never"&&c.pop():n==="always"&&c.push(""));let d,h="";for(let v=0;v<c.length;v++){v>0&&(h+="/");const b=c[v];if(!b)continue;d=K0(b,0,d);const _=d[0];if(_===Cu){h+=b;continue}const C=d[5],E=b.substring(0,d[1]),R=b.substring(d[4],C),N=b.substring(d[2],d[3]);_===Vl?h+=E||R?`${E}{$${N}}${R}`:`$${N}`:_===$l?h+=E||R?`${E}{$}${R}`:"$":h+=`${E}{-$${N}}${R}`}h=W0(h);const g=h||"/";return l&&i&&i.set(l,g),g}function aB(e){const t=new Map(e.map(s=>[encodeURIComponent(s),s])),n=Array.from(t.keys()).map(s=>s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),i=new RegExp(n,"g");return s=>s.replace(i,o=>t.get(o)??o)}function rb(e,t,n){const i=t[e];return typeof i!="string"?i:e==="_splat"?/^[a-zA-Z0-9\-._~!/]*$/.test(i)?i:i.split("/").map(s=>vA(s,n)).join("/"):vA(i,n)}function gA({path:e,params:t,decoder:n,...i}){let s=!1;const o={};if(!e||e==="/")return{interpolatedPath:"/",usedParams:o,isMissingParams:s};if(!e.includes("$"))return{interpolatedPath:e,usedParams:o,isMissingParams:s};const l=e.length;let c=0,d,h="";for(;c<l;){const v=c;d=K0(e,v,d);const b=d[5];if(c=b+1,v===b)continue;const _=d[0];if(_===Cu){h+="/"+e.substring(v,b);continue}if(_===$l){const C=t._splat;o._splat=C,o["*"]=C;const E=e.substring(v,d[1]),R=e.substring(d[4],b);if(!C){s=!0,(E||R)&&(h+="/"+E+R);continue}const N=rb("_splat",t,n);h+="/"+E+N+R;continue}if(_===Vl){const C=e.substring(d[2],d[3]);!s&&!(C in t)&&(s=!0),o[C]=t[C];const E=e.substring(v,d[1]),R=e.substring(d[4],b),N=rb(C,t,n)??"undefined";h+="/"+E+N+R;continue}if(_===xf){const C=e.substring(d[2],d[3]),E=t[C];if(E==null)continue;o[C]=E;const R=e.substring(v,d[1]),N=e.substring(d[4],b),k=rb(C,t,n)??"";h+="/"+R+k+N;continue}}return e.endsWith("/")&&(h+="/"),{usedParams:o,interpolatedPath:h||"/",isMissingParams:s}}function vA(e,t){const n=encodeURIComponent(e);return t?.(n)??n}function bs(e){return!!e?.isNotFound}function lB(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const mx="tsr-scroll-restoration-v1_3",cB=(e,t)=>{let n;return(...i)=>{n||(n=setTimeout(()=>{e(...i),n=null},t))}};function uB(){const e=lB();if(!e)return null;const t=e.getItem(mx);let n=t?JSON.parse(t):{};return{state:n,set:i=>{n=Aa(i,n)||n;try{e.setItem(mx,JSON.stringify(n))}catch{console.warn("[ts-router] Could not persist scroll restoration state to sessionStorage.")}}}}const Bp=uB(),dB=e=>e.state.__TSR_key||e.href;function fB(e){const t=[];let n;for(;n=e.parentNode;)t.push(`${e.tagName}:nth-child(${Array.prototype.indexOf.call(n.children,e)+1})`),e=n;return`${t.reverse().join(" > ")}`.toLowerCase()}let Lm=!1;function hB({storageKey:e,key:t,behavior:n,shouldScrollRestoration:i,scrollToTopSelectors:s,location:o}){let l;try{l=JSON.parse(sessionStorage.getItem(e)||"{}")}catch(h){console.error(h);return}const c=t||window.history.state?.__TSR_key,d=l[c];Lm=!0;e:{if(i&&d&&Object.keys(d).length>0){for(const v in d){const b=d[v];if(v==="window")window.scrollTo({top:b.scrollY,left:b.scrollX,behavior:n});else if(v){const _=document.querySelector(v);_&&(_.scrollLeft=b.scrollX,_.scrollTop=b.scrollY)}}break e}const h=(o??window.location).hash.split("#",2)[1];if(h){const v=window.history.state?.__hashScrollIntoViewOptions??!0;if(v){const b=document.getElementById(h);b&&b.scrollIntoView(v)}break e}const g={top:0,left:0,behavior:n};if(window.scrollTo(g),s)for(const v of s){if(v==="window")continue;const b=typeof v=="function"?v():document.querySelector(v);b&&b.scrollTo(g)}}Lm=!1}function pB(e,t){if(!Bp||((e.options.scrollRestoration??!1)&&(e.isScrollRestoring=!0),e.isScrollRestorationSetup||!Bp))return;e.isScrollRestorationSetup=!0,Lm=!1;const i=e.options.getScrollRestorationKey||dB;window.history.scrollRestoration="manual";const s=o=>{if(Lm||!e.isScrollRestoring)return;let l="";if(o.target===document||o.target===window)l="window";else{const d=o.target.getAttribute("data-scroll-restoration-id");d?l=`[data-scroll-restoration-id="${d}"]`:l=fB(o.target)}const c=i(e.state.location);Bp.set(d=>{const h=d[c]||={},g=h[l]||={};if(l==="window")g.scrollX=window.scrollX||0,g.scrollY=window.scrollY||0;else if(l){const v=document.querySelector(l);v&&(g.scrollX=v.scrollLeft||0,g.scrollY=v.scrollTop||0)}return d})};typeof document<"u"&&document.addEventListener("scroll",cB(s,100),!0),e.subscribe("onRendered",o=>{const l=i(o.toLocation);if(!e.resetNextScroll){e.resetNextScroll=!0;return}typeof e.options.scrollRestoration=="function"&&!e.options.scrollRestoration({location:e.latestLocation})||(hB({storageKey:mx,key:l,behavior:e.options.scrollRestorationBehavior,shouldScrollRestoration:e.isScrollRestoring,scrollToTopSelectors:e.options.scrollToTopSelectors,location:e.history.location}),e.isScrollRestoring&&Bp.set(c=>(c[l]||={},c)))})}function mB(e){if(typeof document<"u"&&document.querySelector){const t=e.state.location.state.__hashScrollIntoViewOptions??!0;if(t&&e.state.location.hash!==""){const n=document.getElementById(e.state.location.hash);n&&n.scrollIntoView(t)}}}function gB(e,t=String){const n=new URLSearchParams;for(const i in e){const s=e[i];s!==void 0&&n.set(i,t(s))}return n.toString()}function ob(e){return e?e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e:""}function vB(e){const t=new URLSearchParams(e),n={};for(const[i,s]of t.entries()){const o=n[i];o==null?n[i]=ob(s):Array.isArray(o)?o.push(ob(s)):n[i]=[o,ob(s)]}return n}const yB=xB(JSON.parse),bB=_B(JSON.stringify,JSON.parse);function xB(e){return t=>{t[0]==="?"&&(t=t.substring(1));const n=vB(t);for(const i in n){const s=n[i];if(typeof s=="string")try{n[i]=e(s)}catch{}}return n}}function _B(e,t){const n=typeof t=="function";function i(s){if(typeof s=="object"&&s!==null)try{return e(s)}catch{}else if(n&&typeof s=="string")try{return t(s),e(s)}catch{}return s}return s=>{const o=gB(s,i);return o?`?${o}`:""}}const zs="__root__";function bg(e){if(e.statusCode=e.statusCode||e.code||307,!e._builtLocation&&!e.reloadDocument&&typeof e.href=="string")try{new URL(e.href),e.reloadDocument=!0}catch{}const t=new Headers(e.headers);e.href&&t.get("Location")===null&&t.set("Location",e.href);const n=new Response(null,{status:e.statusCode,headers:t});if(n.options=e,e.throw)throw n;return n}function Fs(e){return e instanceof Response&&!!e.options}const mm=e=>{if(!e.rendered)return e.rendered=!0,e.onReady?.()},xg=(e,t)=>!!(e.preload&&!e.router.state.matches.some(n=>n.id===t)),gu=(e,t,n=!0)=>{const i={...e.router.options.context??{}},s=n?t:t-1;for(let o=0;o<=s;o++){const l=e.matches[o];if(!l)continue;const c=e.router.getMatch(l.id);c&&Object.assign(i,c.__routeContext,c.__beforeLoadContext)}return i},Fk=(e,t,n)=>{const i=e.router.routesById[t.routeId??""]??e.router.routeTree;!i.options.notFoundComponent&&e.router.options?.defaultNotFoundComponent&&(i.options.notFoundComponent=e.router.options.defaultNotFoundComponent);const s=n==="BEFORE_LOAD"&&i.parentRoute;s||Mo(i.options.notFoundComponent);const o=e.matches.find(l=>l.routeId===i.id);Mo(o,"Could not find match for route: "+i.id),e.updateMatch(o.id,l=>({...l,status:"notFound",error:t,isFetching:!1})),s&&(t.routeId=i.parentRoute.id,Fk(e,t,n))},Ta=(e,t,n,i)=>{if(!(!Fs(n)&&!bs(n))){if(Fs(n)&&n.redirectHandled&&!n.options.reloadDocument)throw n;if(t){t._nonReactive.beforeLoadPromise?.resolve(),t._nonReactive.loaderPromise?.resolve(),t._nonReactive.beforeLoadPromise=void 0,t._nonReactive.loaderPromise=void 0;const s=Fs(n)?"redirected":"notFound";t._nonReactive.error=n,e.updateMatch(t.id,o=>({...o,status:s,context:gu(e,t.index),isFetching:!1,error:n})),bs(n)&&!n.routeId&&(n.routeId=t.routeId),t._nonReactive.loadPromise?.resolve()}throw Fs(n)?(e.rendered=!0,n.options._fromLocation=e.location,n.redirectHandled=!0,n=e.router.resolveRedirect(n),n):(Fk(e,n,i),n)}},Vk=(e,t)=>!!e.router.getMatch(t)._nonReactive.dehydrated,$d=(e,t,n,i)=>{const{id:s,routeId:o}=e.matches[t],l=e.router.looseRoutesById[o];if(n instanceof Promise)throw n;n.routerCode=i,e.firstBadMatchIndex??=t,Ta(e,e.router.getMatch(s),n,i);try{l.options.onError?.(n)}catch(c){n=c,Ta(e,e.router.getMatch(s),n,i)}e.updateMatch(s,c=>(c._nonReactive.beforeLoadPromise?.resolve(),c._nonReactive.beforeLoadPromise=void 0,c._nonReactive.loadPromise?.resolve(),{...c,error:n,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}))},$k=(e,t,n,i)=>{if(i._nonReactive.pendingTimeout!==void 0)return;const s=n.options.pendingMs??e.router.options.defaultPendingMs;if(!!(e.onReady&&!xg(e,t)&&(n.options.loader||n.options.beforeLoad||Kk(n))&&typeof s=="number"&&s!==1/0&&(n.options.pendingComponent??e.router.options?.defaultPendingComponent))){const l=setTimeout(()=>{mm(e)},s);i._nonReactive.pendingTimeout=l}},wB=(e,t,n)=>{const i=e.router.getMatch(t);if(!i._nonReactive.beforeLoadPromise&&!i._nonReactive.loaderPromise)return;$k(e,t,n,i);const s=()=>{const o=e.router.getMatch(t);o.preload&&(o.status==="redirected"||o.status==="notFound")&&Ta(e,o,o.error)};return i._nonReactive.beforeLoadPromise?i._nonReactive.beforeLoadPromise.then(s):s()},SB=(e,t,n,i)=>{const s=e.router.getMatch(t),o=s._nonReactive.loadPromise;s._nonReactive.loadPromise=Su(()=>{o?.resolve()});const{paramsError:l,searchError:c}=s;l&&$d(e,n,l,"PARSE_PARAMS"),c&&$d(e,n,c,"VALIDATE_SEARCH"),$k(e,t,i,s);const d=new AbortController;let h=!1;const g=()=>{h||(h=!0,e.updateMatch(t,M=>({...M,isFetching:"beforeLoad",fetchCount:M.fetchCount+1,abortController:d})))},v=()=>{s._nonReactive.beforeLoadPromise?.resolve(),s._nonReactive.beforeLoadPromise=void 0,e.updateMatch(t,M=>({...M,isFetching:!1}))};if(!i.options.beforeLoad){rf(()=>{g(),v()});return}s._nonReactive.beforeLoadPromise=Su();const b={...gu(e,n,!1),...s.__routeContext},{search:_,params:C,cause:E}=s,R=xg(e,t),N={search:_,abortController:d,params:C,preload:R,context:b,location:e.location,navigate:M=>e.router.navigate({...M,_fromLocation:e.location}),buildLocation:e.router.buildLocation,cause:R?"preload":E,matches:e.matches,routeId:i.id,...e.router.options.additionalContext},k=M=>{if(M===void 0){rf(()=>{g(),v()});return}(Fs(M)||bs(M))&&(g(),$d(e,n,M,"BEFORE_LOAD")),rf(()=>{g(),e.updateMatch(t,D=>({...D,__beforeLoadContext:M})),v()})};let O;try{if(O=i.options.beforeLoad(N),mu(O))return g(),O.catch(M=>{$d(e,n,M,"BEFORE_LOAD")}).then(k)}catch(M){g(),$d(e,n,M,"BEFORE_LOAD")}k(O)},CB=(e,t)=>{const{id:n,routeId:i}=e.matches[t],s=e.router.looseRoutesById[i],o=()=>c(),l=()=>SB(e,n,t,s),c=()=>{if(Vk(e,n))return;const d=wB(e,n,s);return mu(d)?d.then(l):l()};return o()},EB=(e,t,n)=>{const i=e.router.getMatch(t);if(!i||!n.options.head&&!n.options.scripts&&!n.options.headers)return;const s={ssr:e.router.options.ssr,matches:e.matches,match:i,params:i.params,loaderData:i.loaderData};return Promise.all([n.options.head?.(s),n.options.scripts?.(s),n.options.headers?.(s)]).then(([o,l,c])=>{const d=o?.meta,h=o?.links,g=o?.scripts,v=o?.styles;return{meta:d,links:h,headScripts:g,headers:c,scripts:l,styles:v}})},Hk=(e,t,n,i)=>{const s=e.matchPromises[n-1],{params:o,loaderDeps:l,abortController:c,cause:d}=e.router.getMatch(t),h=gu(e,n),g=xg(e,t);return{params:o,deps:l,preload:!!g,parentMatchPromise:s,abortController:c,context:h,location:e.location,navigate:v=>e.router.navigate({...v,_fromLocation:e.location}),cause:g?"preload":d,route:i,...e.router.options.additionalContext}},yA=async(e,t,n,i)=>{try{const s=e.router.getMatch(t);try{(!(Vz??e.router.isServer)||s.ssr===!0)&&Gk(i);const o=i.options.loader?.(Hk(e,t,n,i)),l=i.options.loader&&mu(o);if((l||i._lazyPromise||i._componentsPromise||i.options.head||i.options.scripts||i.options.headers||s._nonReactive.minPendingPromise)&&e.updateMatch(t,h=>({...h,isFetching:"loader"})),i.options.loader){const h=l?await o:o;Ta(e,e.router.getMatch(t),h),h!==void 0&&e.updateMatch(t,g=>({...g,loaderData:h}))}i._lazyPromise&&await i._lazyPromise;const d=s._nonReactive.minPendingPromise;d&&await d,i._componentsPromise&&await i._componentsPromise,e.updateMatch(t,h=>({...h,error:void 0,context:gu(e,n),status:"success",isFetching:!1,updatedAt:Date.now()}))}catch(o){let l=o;if(l?.name==="AbortError"){if(s.abortController.signal.aborted){s._nonReactive.loaderPromise?.resolve(),s._nonReactive.loaderPromise=void 0;return}e.updateMatch(t,d=>({...d,status:d.status==="pending"?"success":d.status,isFetching:!1,context:gu(e,n)}));return}const c=s._nonReactive.minPendingPromise;c&&await c,bs(o)&&await i.options.notFoundComponent?.preload?.(),Ta(e,e.router.getMatch(t),o);try{i.options.onError?.(o)}catch(d){l=d,Ta(e,e.router.getMatch(t),d)}e.updateMatch(t,d=>({...d,error:l,context:gu(e,n),status:"error",isFetching:!1}))}}catch(s){const o=e.router.getMatch(t);o&&(o._nonReactive.loaderPromise=void 0),Ta(e,o,s)}},AB=async(e,t)=>{async function n(g,v,b,_){const C=Date.now()-v.updatedAt,E=g?_.options.preloadStaleTime??e.router.options.defaultPreloadStaleTime??3e4:_.options.staleTime??e.router.options.defaultStaleTime??0,R=_.options.shouldReload,N=typeof R=="function"?R(Hk(e,i,t,_)):R,{status:k,invalid:O}=b;o=k==="success"&&(O||(N??C>E)),g&&_.options.preload===!1||(o&&!e.sync?(l=!0,(async()=>{try{await yA(e,i,t,_);const M=e.router.getMatch(i);M._nonReactive.loaderPromise?.resolve(),M._nonReactive.loadPromise?.resolve(),M._nonReactive.loaderPromise=void 0}catch(M){Fs(M)&&await e.router.navigate(M.options)}})()):(k!=="success"||o&&e.sync)&&await yA(e,i,t,_))}const{id:i,routeId:s}=e.matches[t];let o=!1,l=!1;const c=e.router.looseRoutesById[s];if(!Vk(e,i)){const g=e.router.getMatch(i),v=xg(e,i);if(g._nonReactive.loaderPromise){if(g.status==="success"&&!e.sync&&!g.preload)return g;await g._nonReactive.loaderPromise;const b=e.router.getMatch(i),_=b._nonReactive.error||b.error;_&&Ta(e,b,_),b.status==="pending"&&await n(v,g,b,c)}else{const b=v&&!e.router.state.matches.some(C=>C.id===i),_=e.router.getMatch(i);_._nonReactive.loaderPromise=Su(),b!==_.preload&&e.updateMatch(i,C=>({...C,preload:b})),await n(v,g,_,c)}}const d=e.router.getMatch(i);l||(d._nonReactive.loaderPromise?.resolve(),d._nonReactive.loadPromise?.resolve()),clearTimeout(d._nonReactive.pendingTimeout),d._nonReactive.pendingTimeout=void 0,l||(d._nonReactive.loaderPromise=void 0),d._nonReactive.dehydrated=void 0;const h=l?d.isFetching:!1;return h!==d.isFetching||d.invalid!==!1?(e.updateMatch(i,g=>({...g,isFetching:h,invalid:!1})),e.router.getMatch(i)):d};async function bA(e){const t=Object.assign(e,{matchPromises:[]});t.router.state.matches.some(n=>n._forcePending)&&mm(t);try{for(let c=0;c<t.matches.length;c++){const d=CB(t,c);mu(d)&&await d}const n=t.firstBadMatchIndex??t.matches.length;for(let c=0;c<n;c++)t.matchPromises.push(AB(t,c));const s=(await Promise.allSettled(t.matchPromises)).filter(c=>c.status==="rejected").map(c=>c.reason);let o;for(const c of s){if(Fs(c))throw c;!o&&bs(c)&&(o=c)}for(const c of t.matches){const{id:d,routeId:h}=c,g=t.router.looseRoutesById[h];try{const v=EB(t,d,g);if(v){const b=await v;t.updateMatch(d,_=>({..._,...b}))}}catch(v){console.error(`Error executing head for route ${h}:`,v)}}if(o)throw o;const l=mm(t);mu(l)&&await l}catch(n){if(bs(n)&&!t.preload){const i=mm(t);throw mu(i)&&await i,n}if(Fs(n))throw n}return t.matches}async function Gk(e){if(!e._lazyLoaded&&e._lazyPromise===void 0&&(e.lazyFn?e._lazyPromise=e.lazyFn().then(t=>{const{id:n,...i}=t.options;Object.assign(e.options,i),e._lazyLoaded=!0,e._lazyPromise=void 0}):e._lazyLoaded=!0),!e._componentsLoaded&&e._componentsPromise===void 0){const t=()=>{const n=[];for(const i of qk){const s=e.options[i]?.preload;s&&n.push(s())}if(n.length)return Promise.all(n).then(()=>{e._componentsLoaded=!0,e._componentsPromise=void 0});e._componentsLoaded=!0,e._componentsPromise=void 0};e._componentsPromise=e._lazyPromise?e._lazyPromise.then(t):t()}return e._componentsPromise}function Kk(e){for(const t of qk)if(e.options[t]?.preload)return!0;return!1}const qk=["component","errorComponent","pendingComponent","notFoundComponent"];function TB(e){return{input:({url:t})=>{for(const n of e)t=gx(n,t);return t},output:({url:t})=>{for(let n=e.length-1;n>=0;n--)t=Wk(e[n],t);return t}}}function RB(e){const t=Uk(e.basepath),n=`/${t}`,i=`${n}/`,s=e.caseSensitive?n:n.toLowerCase(),o=e.caseSensitive?i:i.toLowerCase();return{input:({url:l})=>{const c=e.caseSensitive?l.pathname:l.pathname.toLowerCase();return c===s?l.pathname="/":c.startsWith(o)&&(l.pathname=l.pathname.slice(n.length)),l},output:({url:l})=>(l.pathname=pm(["/",t,l.pathname]),l)}}function gx(e,t){const n=e?.input?.({url:t});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return t}function Wk(e,t){const n=e?.output?.({url:t});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return t}function Ul(e){const t=e.resolvedLocation,n=e.location,i=t?.pathname!==n.pathname,s=t?.href!==n.href,o=t?.hash!==n.hash;return{fromLocation:t,toLocation:n,pathChanged:i,hrefChanged:s,hashChanged:o}}function kB(e){const t=e.filter(n=>n.status!=="redirected");return t.length===e.length?e:t}class NB{constructor(t){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=n=>n(),this.update=n=>{n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const i=this.options,s=this.basepath??i?.basepath??"/",o=this.basepath===void 0,l=i?.rewrite;if(this.options={...i,...n},this.isServer=this.options.isServer??typeof document>"u",this.protocolAllowlist=new Set(this.options.protocolAllowlist),this.options.pathParamsAllowedCharacters&&(this.pathParamsDecoder=aB(this.options.pathParamsAllowedCharacters)),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.history=Uz()),this.origin=this.options.origin,this.origin||(window?.origin&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree){this.routeTree=this.options.routeTree;let b;this.resolvePathCache=Mm(1e3),b=this.buildRouteTree(),this.setRoutes(b)}!this.__store&&this.latestLocation&&(this.__store=new Iz(PB(this.latestLocation)),pB(this));let c=!1;const d=this.options.basepath??"/",h=this.options.rewrite;if(o||s!==d||l!==h){this.basepath=d;const b=[],_=Uk(d);_&&_!=="/"&&b.push(RB({basepath:d})),h&&b.push(h),this.rewrite=b.length===0?void 0:b.length===1?b[0]:TB(b),this.history&&this.updateLatestLocation(),c=!0}c&&this.__store&&this.__store.setState(b=>({...b,location:this.latestLocation})),typeof window<"u"&&"CSS"in window&&typeof window.CSS?.supports=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const n=tB(this.routeTree,this.options.caseSensitive,(i,s)=>{i.init({originalIndex:s})});return this.options.routeMasks&&Zz(this.options.routeMasks,n.processedTree),n},this.subscribe=(n,i)=>{const s={eventType:n,fn:i};return this.subscribers.add(s),()=>{this.subscribers.delete(s)}},this.emit=n=>{this.subscribers.forEach(i=>{i.eventType===n.type&&i.fn(n)})},this.parseLocation=(n,i)=>{const s=({pathname:d,search:h,hash:g,href:v,state:b})=>{if(!this.rewrite&&!/[ \x00-\x1f\x7f\u0080-\uffff]/.test(d)){const k=this.options.parseSearch(h),O=this.options.stringifySearch(k);return{href:d+O+g,publicHref:v,pathname:Fd(d).path,external:!1,searchStr:O,search:ms(i?.search,k),hash:Fd(g.slice(1)).path,state:ms(i?.state,b)}}const _=new URL(v,this.origin),C=gx(this.rewrite,_),E=this.options.parseSearch(C.search),R=this.options.stringifySearch(E);return C.search=R,{href:C.href.replace(C.origin,""),publicHref:v,pathname:Fd(C.pathname).path,external:!!this.rewrite&&C.origin!==this.origin,searchStr:R,search:ms(i?.search,E),hash:Fd(C.hash.slice(1)).path,state:ms(i?.state,b)}},o=s(n),{__tempLocation:l,__tempKey:c}=o.state;if(l&&(!c||c===this.tempLocationKey)){const d=s(l);return d.state.key=o.state.key,d.state.__TSR_key=o.state.__TSR_key,delete d.state.__tempLocation,{...d,maskedLocation:o}}return o},this.resolvePathWithBase=(n,i)=>oB({base:n,to:W0(i),trailingSlash:this.options.trailingSlash,cache:this.resolvePathCache}),this.matchRoutes=(n,i,s)=>typeof n=="string"?this.matchRoutesInternal({pathname:n,search:i},s):this.matchRoutesInternal(n,i),this.getMatchedRoutes=n=>MB({pathname:n,routesById:this.routesById,processedTree:this.processedTree}),this.cancelMatch=n=>{const i=this.getMatch(n);i&&(i.abortController.abort(),clearTimeout(i._nonReactive.pendingTimeout),i._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{const n=this.state.matches.filter(o=>o.status==="pending"),i=this.state.matches.filter(o=>o.isFetching==="loader");new Set([...this.state.pendingMatches??[],...n,...i]).forEach(o=>{this.cancelMatch(o.id)})},this.buildLocation=n=>{const i=(o={})=>{const l=o._fromLocation||this.pendingBuiltLocation||this.latestLocation,c=this.matchRoutesLightweight(l);o.from;const d=o.unsafeRelative==="path"?l.pathname:o.from??c.fullPath,h=this.resolvePathWithBase(d,"."),g=c.search,v={...c.params},b=o.to?this.resolvePathWithBase(h,`${o.to}`):this.resolvePathWithBase(h,"."),_=o.params===!1||o.params===null?{}:(o.params??!0)===!0?v:Object.assign(v,Aa(o.params,v)),C=this.getMatchedRoutes(b);let E=C.matchedRoutes;if((!C.foundRoute||C.foundRoute.path!=="/"&&C.routeParams["**"])&&this.options.notFoundRoute&&(E=[...E,this.options.notFoundRoute]),Object.keys(_).length>0)for(const q of E){const W=q.options.params?.stringify??q.options.stringifyParams;if(W)try{Object.assign(_,W(_))}catch{}}const N=n.leaveParams?b:Fd(gA({path:b,params:_,decoder:this.pathParamsDecoder,server:this.isServer}).interpolatedPath).path;let k=g;if(n._includeValidateSearch&&this.options.search?.strict){const q={};E.forEach(W=>{if(W.options.validateSearch)try{Object.assign(q,gm(W.options.validateSearch,{...q,...k}))}catch{}}),k=q}k=DB({search:k,dest:o,destRoutes:E,_includeValidateSearch:n._includeValidateSearch}),k=ms(g,k);const O=this.options.stringifySearch(k),M=o.hash===!0?l.hash:o.hash?Aa(o.hash,l.hash):void 0,D=M?`#${M}`:"";let V=o.state===!0?l.state:o.state?Aa(o.state,l.state):{};V=ms(l.state,V);const z=`${N}${O}${D}`;let I,$,Z=!1;if(this.rewrite){const q=new URL(z,this.origin),W=Wk(this.rewrite,q);I=q.href.replace(q.origin,""),W.origin!==this.origin?($=W.href,Z=!0):$=W.pathname+W.search+W.hash}else I=qz(z),$=I;return{publicHref:$,href:I,pathname:N,search:k,searchStr:O,state:V,hash:M??"",external:Z,unmaskOnReload:o.unmaskOnReload}},s=(o={},l)=>{const c=i(o);let d=l?i(l):void 0;if(!d){const h={};if(this.options.routeMasks){const g=Xz(c.pathname,this.processedTree);if(g){Object.assign(h,g.rawParams);const{from:v,params:b,..._}=g.route,C=b===!1||b===null?{}:(b??!0)===!0?h:Object.assign(h,Aa(b,h));l={from:n.from,..._,params:C},d=i(l)}}}return d&&(c.maskedLocation=d),c};return n.mask?s(n,{from:n.from,...n.mask}):s(n)},this.commitLocation=async({viewTransition:n,ignoreBlocker:i,...s})=>{const o=()=>{const d=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];d.forEach(g=>{s.state[g]=this.latestLocation.state[g]});const h=Bl(s.state,this.latestLocation.state);return d.forEach(g=>{delete s.state[g]}),h},l=Na(this.latestLocation.href)===Na(s.href),c=this.commitLocationPromise;if(this.commitLocationPromise=Su(()=>{c?.resolve()}),l&&o())this.load();else{let{maskedLocation:d,hashScrollIntoView:h,...g}=s;d&&(g={...d,state:{...d.state,__tempKey:void 0,__tempLocation:{...g,search:g.searchStr,state:{...g.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(g.unmaskOnReload??this.options.unmaskOnReload??!1)&&(g.state.__tempKey=this.tempLocationKey)),g.state.__hashScrollIntoViewOptions=h??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[s.replace?"replace":"push"](g.publicHref,g.state,{ignoreBlocker:i})}return this.resetNextScroll=s.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:i,hashScrollIntoView:s,viewTransition:o,ignoreBlocker:l,href:c,...d}={})=>{if(c){const v=this.history.location.state.__TSR_index,b=Nm(c,{__TSR_index:n?v:v+1}),_=new URL(b.pathname,this.origin),C=gx(this.rewrite,_);d.to=C.pathname,d.search=this.options.parseSearch(b.search),d.hash=b.hash.slice(1)}const h=this.buildLocation({...d,_includeValidateSearch:!0});this.pendingBuiltLocation=h;const g=this.commitLocation({...h,viewTransition:o,replace:n,resetScroll:i,hashScrollIntoView:s,ignoreBlocker:l});return Promise.resolve().then(()=>{this.pendingBuiltLocation===h&&(this.pendingBuiltLocation=void 0)}),g},this.navigate=async({to:n,reloadDocument:i,href:s,publicHref:o,...l})=>{let c=!1;if(s)try{new URL(`${s}`),c=!0}catch{}if(c&&!i&&(i=!0),i){if(n!==void 0||!s){const h=this.buildLocation({to:n,...l});s=s??h.publicHref,o=o??h.publicHref}const d=!c&&o?o:s;if(Pm(d,this.protocolAllowlist))return Promise.resolve();if(!l.ignoreBlocker){const g=this.history.getBlockers?.()??[];for(const v of g)if(v?.blockerFn&&await v.blockerFn({currentLocation:this.latestLocation,nextLocation:this.latestLocation,action:"PUSH"}))return Promise.resolve()}return l.replace?window.location.replace(d):window.location.href=d,Promise.resolve()}return this.buildAndCommitLocation({...l,href:s,to:n,_isNavigate:!0})},this.beforeLoad=()=>{this.cancelMatches(),this.updateLatestLocation();const n=this.matchRoutes(this.latestLocation);this.__store.setState(i=>({...i,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:n,cachedMatches:i.cachedMatches.filter(s=>!n.some(o=>o.id===s.id))}))},this.load=async n=>{let i,s,o;for(o=new Promise(c=>{this.startTransition(async()=>{try{this.beforeLoad();const d=this.latestLocation,h=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...Ul({resolvedLocation:h,location:d})}),this.emit({type:"onBeforeLoad",...Ul({resolvedLocation:h,location:d})}),await bA({router:this,sync:n?.sync,matches:this.state.pendingMatches,location:d,updateMatch:this.updateMatch,onReady:async()=>{this.startTransition(()=>{this.startViewTransition(async()=>{let g=[],v=[],b=[];rf(()=>{this.__store.setState(_=>{const C=_.matches,E=_.pendingMatches||_.matches;return g=C.filter(R=>!E.some(N=>N.id===R.id)),v=E.filter(R=>!C.some(N=>N.id===R.id)),b=E.filter(R=>C.some(N=>N.id===R.id)),{..._,isLoading:!1,loadedAt:Date.now(),matches:E,pendingMatches:void 0,cachedMatches:[..._.cachedMatches,...g.filter(R=>R.status!=="error"&&R.status!=="notFound"&&R.status!=="redirected")]}}),this.clearExpiredCache()}),[[g,"onLeave"],[v,"onEnter"],[b,"onStay"]].forEach(([_,C])=>{_.forEach(E=>{this.looseRoutesById[E.routeId].options[C]?.(E)})})})})}})}catch(d){Fs(d)?(i=d,this.navigate({...i.options,replace:!0,ignoreBlocker:!0})):bs(d)&&(s=d),this.__store.setState(h=>({...h,statusCode:i?i.status:s?404:h.matches.some(g=>g.status==="error")?500:200,redirect:i}))}this.latestLoadPromise===o&&(this.commitLocationPromise?.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),c()})}),this.latestLoadPromise=o,await o;this.latestLoadPromise&&o!==this.latestLoadPromise;)await this.latestLoadPromise;let l;this.hasNotFoundMatch()?l=404:this.__store.state.matches.some(c=>c.status==="error")&&(l=500),l!==void 0&&this.__store.setState(c=>({...c,statusCode:l}))},this.startViewTransition=n=>{const i=this.shouldViewTransition??this.options.defaultViewTransition;if(this.shouldViewTransition=void 0,i&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let s;if(typeof i=="object"&&this.isViewTransitionTypesSupported){const o=this.latestLocation,l=this.state.resolvedLocation,c=typeof i.types=="function"?i.types(Ul({resolvedLocation:l,location:o})):i.types;if(c===!1){n();return}s={update:n,types:c}}else s=n;document.startViewTransition(s)}else n()},this.updateMatch=(n,i)=>{this.startTransition(()=>{const s=this.state.pendingMatches?.some(o=>o.id===n)?"pendingMatches":this.state.matches.some(o=>o.id===n)?"matches":this.state.cachedMatches.some(o=>o.id===n)?"cachedMatches":"";s&&(s==="cachedMatches"?this.__store.setState(o=>({...o,cachedMatches:kB(o.cachedMatches.map(l=>l.id===n?i(l):l))})):this.__store.setState(o=>({...o,[s]:o[s]?.map(l=>l.id===n?i(l):l)})))})},this.getMatch=n=>{const i=s=>s.id===n;return this.state.cachedMatches.find(i)??this.state.pendingMatches?.find(i)??this.state.matches.find(i)},this.invalidate=n=>{const i=s=>n?.filter?.(s)??!0?{...s,invalid:!0,...n?.forcePending||s.status==="error"||s.status==="notFound"?{status:"pending",error:void 0}:void 0}:s;return this.__store.setState(s=>({...s,matches:s.matches.map(i),cachedMatches:s.cachedMatches.map(i),pendingMatches:s.pendingMatches?.map(i)})),this.shouldViewTransition=!1,this.load({sync:n?.sync})},this.getParsedLocationHref=n=>n.publicHref||"/",this.resolveRedirect=n=>{const i=n.headers.get("Location");if(!n.options.href||n.options._builtLocation){const s=n.options._builtLocation??this.buildLocation(n.options),o=this.getParsedLocationHref(s);n.options.href=o,n.headers.set("Location",o)}else if(i)try{const s=new URL(i);if(this.origin&&s.origin===this.origin){const o=s.pathname+s.search+s.hash;n.options.href=o,n.headers.set("Location",o)}}catch{}if(n.options.href&&!n.options._builtLocation&&Pm(n.options.href,this.protocolAllowlist))throw new Error(`Redirect blocked: unsafe protocol in href "${n.options.href}". Allowed protocols: ${Array.from(this.protocolAllowlist).join(", ")}.`);return n.headers.get("Location")||n.headers.set("Location",n.options.href),n},this.clearCache=n=>{const i=n?.filter;i!==void 0?this.__store.setState(s=>({...s,cachedMatches:s.cachedMatches.filter(o=>!i(o))})):this.__store.setState(s=>({...s,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=i=>{const s=this.looseRoutesById[i.routeId];if(!s.options.loader)return!0;const o=(i.preload?s.options.preloadGcTime??this.options.defaultPreloadGcTime:s.options.gcTime??this.options.defaultGcTime)??300*1e3;return i.status==="error"?!0:Date.now()-i.updatedAt>=o};this.clearCache({filter:n})},this.loadRouteChunk=Gk,this.preloadRoute=async n=>{const i=n._builtLocation??this.buildLocation(n);let s=this.matchRoutes(i,{throwOnError:!0,preload:!0,dest:n});const o=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(c=>c.id)),l=new Set([...o,...this.state.cachedMatches.map(c=>c.id)]);rf(()=>{s.forEach(c=>{l.has(c.id)||this.__store.setState(d=>({...d,cachedMatches:[...d.cachedMatches,c]}))})});try{return s=await bA({router:this,matches:s,location:i,preload:!0,updateMatch:(c,d)=>{o.has(c)?s=s.map(h=>h.id===c?d(h):h):this.updateMatch(c,d)}}),s}catch(c){if(Fs(c))return c.options.reloadDocument?void 0:await this.preloadRoute({...c.options,_fromLocation:i});bs(c)||console.error(c);return}},this.matchRoute=(n,i)=>{const s={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},o=this.buildLocation(s);if(i?.pending&&this.state.status!=="pending")return!1;const c=(i?.pending===void 0?!this.state.isLoading:i.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,d=Qz(o.pathname,i?.caseSensitive??!1,i?.fuzzy??!1,c.pathname,this.processedTree);return!d||n.params&&!Bl(d.rawParams,n.params,{partial:!0})?!1:i?.includeSearch??!0?Bl(c.search,o.search,{partial:!0})?d.rawParams:!1:d.rawParams},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...t,caseSensitive:t.caseSensitive??!1,notFoundMode:t.notFoundMode??"fuzzy",stringifySearch:t.stringifySearch??bB,parseSearch:t.parseSearch??yB,protocolAllowlist:t.protocolAllowlist??Kz}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}setRoutes({routesById:t,routesByPath:n,processedTree:i}){this.routesById=t,this.routesByPath=n,this.processedTree=i;const s=this.options.notFoundRoute;s&&(s.init({originalIndex:99999999999}),this.routesById[s.id]=s)}get looseRoutesById(){return this.routesById}getParentContext(t){return t?.id?t.context??this.options.context??void 0:this.options.context??void 0}matchRoutesInternal(t,n){const i=this.getMatchedRoutes(t.pathname),{foundRoute:s,routeParams:o,parsedParams:l}=i;let{matchedRoutes:c}=i,d=!1;(s?s.path!=="/"&&o["**"]:Na(t.pathname))&&(this.options.notFoundRoute?c=[...c,this.options.notFoundRoute]:d=!0);const h=d?jB(this.options.notFoundMode,c):void 0,g=new Array(c.length),v=new Map(this.state.matches.map(b=>[b.routeId,b]));for(let b=0;b<c.length;b++){const _=c[b],C=g[b-1];let E,R,N;{const re=C?.search??t.search,ye=C?._strictSearch??void 0;try{const G=gm(_.options.validateSearch,{...re})??void 0;E={...re,...G},R={...ye,...G},N=void 0}catch(G){let Y=G;if(G instanceof jm||(Y=new jm(G.message,{cause:G})),n?.throwOnError)throw Y;E=re,R={},N=Y}}const k=_.options.loaderDeps?.({search:E})??"",O=k?JSON.stringify(k):"",{interpolatedPath:M,usedParams:D}=gA({path:_.fullPath,params:o,decoder:this.pathParamsDecoder,server:this.isServer}),V=_.id+M+O,z=this.getMatch(V),I=v.get(_.id),$=z?._strictParams??D;let Z;if(!z)try{xA(_,D,l,$)}catch(re){if(bs(re)||Fs(re)?Z=re:Z=new OB(re.message,{cause:re}),n?.throwOnError)throw Z}Object.assign(o,$);const q=I?"stay":"enter";let W;if(z)W={...z,cause:q,params:I?.params??o,_strictParams:$,search:ms(I?I.search:z.search,E),_strictSearch:R};else{const re=_.options.loader||_.options.beforeLoad||_.lazyFn||Kk(_)?"pending":"success";W={id:V,ssr:_.options.ssr,index:b,routeId:_.id,params:I?.params??o,_strictParams:$,pathname:M,updatedAt:Date.now(),search:I?ms(I.search,E):E,_strictSearch:R,searchError:void 0,status:re,isFetching:!1,error:void 0,paramsError:Z,__routeContext:void 0,_nonReactive:{loadPromise:Su()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:q,loaderDeps:I?ms(I.loaderDeps,k):k,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:_.options.staticData||{},fullPath:_.fullPath}}n?.preload||(W.globalNotFound=h===_.id),W.searchError=N;const ne=this.getParentContext(C);W.context={...ne,...W.__routeContext,...W.__beforeLoadContext},g[b]=W}for(let b=0;b<g.length;b++){const _=g[b],C=this.looseRoutesById[_.routeId],E=this.getMatch(_.id),R=v.get(_.routeId);if(_.params=R?ms(R.params,o):o,!E){const N=g[b-1],k=this.getParentContext(N);if(C.options.context){const O={deps:_.loaderDeps,params:_.params,context:k??{},location:t,navigate:M=>this.navigate({...M,_fromLocation:t}),buildLocation:this.buildLocation,cause:_.cause,abortController:_.abortController,preload:!!_.preload,matches:g,routeId:C.id};_.__routeContext=C.options.context(O)??void 0}_.context={...k,..._.__routeContext,..._.__beforeLoadContext}}}return g}matchRoutesLightweight(t){const{matchedRoutes:n,routeParams:i,parsedParams:s}=this.getMatchedRoutes(t.pathname),o=bf(n),l={...t.search};for(const g of n)try{Object.assign(l,gm(g.options.validateSearch,l))}catch{}const c=bf(this.state.matches),d=c&&c.routeId===o.id&&t.pathname===this.state.location.pathname;let h;if(d)h=c.params;else{const g={...i};for(const v of n)try{xA(v,i,s??{},g)}catch{}h=g}return{matchedRoutes:n,fullPath:o.fullPath,search:l,params:h}}}class jm extends Error{}class OB extends Error{}function PB(e){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:e,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function gm(e,t){if(e==null)return{};if("~standard"in e){const n=e["~standard"].validate(t);if(n instanceof Promise)throw new jm("Async validation not supported");if(n.issues)throw new jm(JSON.stringify(n.issues,void 0,2),{cause:n});return n.value}return"parse"in e?e.parse(t):typeof e=="function"?e(t):{}}function MB({pathname:e,routesById:t,processedTree:n}){const i={},s=Na(e);let o,l;const c=Jz(s,n,!0);return c&&(o=c.route,Object.assign(i,c.rawParams),l=Object.assign({},c.parsedParams)),{matchedRoutes:c?.branch||[t[zs]],routeParams:i,foundRoute:o,parsedParams:l}}function DB({search:e,dest:t,destRoutes:n,_includeValidateSearch:i}){return LB(n)(e,t,i??!1)}function LB(e){const t={dest:null,_includeValidateSearch:!1,middlewares:[]};for(const s of e){if("search"in s.options)s.options.search?.middlewares&&t.middlewares.push(...s.options.search.middlewares);else if(s.options.preSearchFilters||s.options.postSearchFilters){const o=({search:l,next:c})=>{let d=l;"preSearchFilters"in s.options&&s.options.preSearchFilters&&(d=s.options.preSearchFilters.reduce((g,v)=>v(g),l));const h=c(d);return"postSearchFilters"in s.options&&s.options.postSearchFilters?s.options.postSearchFilters.reduce((g,v)=>v(g),h):h};t.middlewares.push(o)}if(s.options.validateSearch){const o=({search:l,next:c})=>{const d=c(l);if(!t._includeValidateSearch)return d;try{return{...d,...gm(s.options.validateSearch,d)??void 0}}catch{return d}};t.middlewares.push(o)}}const n=({search:s})=>{const o=t.dest;return o.search?o.search===!0?s:Aa(o.search,s):{}};t.middlewares.push(n);const i=(s,o,l)=>{if(s>=l.length)return o;const c=l[s];return c({search:o,next:h=>i(s+1,h,l)})};return function(o,l,c){return t.dest=l,t._includeValidateSearch=c,i(0,o,t.middlewares)}}function jB(e,t){if(e!=="root")for(let n=t.length-1;n>=0;n--){const i=t[n];if(i.children)return i.id}return zs}function xA(e,t,n,i){const s=e.options.params?.parse??e.options.parseParams;if(s)if(e.options.skipRouteOnParseError)for(const o in t)o in n&&(i[o]=n[o]);else{const o=s(i);Object.assign(i,o)}}const IB="Error preloading route! ";class Yk{constructor(t){if(this.init=n=>{this.originalIndex=n.originalIndex;const i=this.options,s=!i?.path&&!i?.id;this.parentRoute=this.options.getParentRoute?.(),s?this._path=zs:this.parentRoute||Mo(!1);let o=s?zs:i?.path;o&&o!=="/"&&(o=Bk(o));const l=i?.id||o;let c=s?zs:pm([this.parentRoute.id===zs?"":this.parentRoute.id,l]);o===zs&&(o="/"),c!==zs&&(c=pm(["/",c]));const d=c===zs?"/":pm([this.parentRoute.fullPath,o]);this._path=o,this._id=c,this._fullPath=d,this._to=Na(d)},this.addChildren=n=>this._addFileChildren(n),this._addFileChildren=n=>(Array.isArray(n)&&(this.children=n),typeof n=="object"&&n!==null&&(this.children=Object.values(n)),this),this._addFileTypes=()=>this,this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.redirect=n=>bg({from:this.fullPath,...n}),this.options=t||{},this.isRoot=!t?.getParentRoute,t?.id&&t?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class zB extends Yk{constructor(t){super(t)}}const Up=typeof window<"u"?x.useLayoutEffect:x.useEffect;function ab(e){const t=x.useRef({value:e,prev:null}),n=t.current.value;return e!==n&&(t.current={value:e,prev:n}),t.current.prev}function BB(e,t,n={},i={}){x.useEffect(()=>{if(!e.current||i.disabled||typeof IntersectionObserver!="function")return;const s=new IntersectionObserver(([o])=>{t(o)},n);return s.observe(e.current),()=>{s.disconnect()}},[t,n,i.disabled,e])}function UB(e){const t=x.useRef(null);return x.useImperativeHandle(e,()=>t.current,[]),t}function Y0(e){const t=e.errorComponent??Z0;return y.jsx(FB,{getResetKey:e.getResetKey,onCatch:e.onCatch,children:({error:n,reset:i})=>n?x.createElement(t,{error:n,reset:i}):e.children})}class FB extends x.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(t){return{resetKey:t.getResetKey()}}static getDerivedStateFromError(t){return{error:t}}reset(){this.setState({error:null})}componentDidUpdate(t,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(t,n){this.props.onCatch&&this.props.onCatch(t,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function Z0({error:e}){const[t,n]=x.useState(!1);return y.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[y.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),y.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(i=>!i),children:t?"Hide Error":"Show Error"})]}),y.jsx("div",{style:{height:".25rem"}}),t?y.jsx("div",{children:y.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:e.message?y.jsx("code",{children:e.message}):null})}):null]})}function VB({children:e,fallback:t=null}){return Zk()?y.jsx(Ot.Fragment,{children:e}):y.jsx(Ot.Fragment,{children:t})}function Zk(){return Ot.useSyncExternalStore($B,()=>!0,()=>!1)}function $B(){return()=>{}}var lb={exports:{}},cb={},ub={exports:{}},db={};var _A;function HB(){if(_A)return db;_A=1;var e=Kf();function t(v,b){return v===b&&(v!==0||1/v===1/b)||v!==v&&b!==b}var n=typeof Object.is=="function"?Object.is:t,i=e.useState,s=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function c(v,b){var _=b(),C=i({inst:{value:_,getSnapshot:b}}),E=C[0].inst,R=C[1];return o(function(){E.value=_,E.getSnapshot=b,d(E)&&R({inst:E})},[v,_,b]),s(function(){return d(E)&&R({inst:E}),v(function(){d(E)&&R({inst:E})})},[v]),l(_),_}function d(v){var b=v.getSnapshot;v=v.value;try{var _=b();return!n(v,_)}catch{return!0}}function h(v,b){return b()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return db.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,db}var wA;function Xk(){return wA||(wA=1,ub.exports=HB()),ub.exports}var SA;function GB(){if(SA)return cb;SA=1;var e=Kf(),t=Xk();function n(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var i=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,o=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return cb.useSyncExternalStoreWithSelector=function(h,g,v,b,_){var C=o(null);if(C.current===null){var E={hasValue:!1,value:null};C.current=E}else E=C.current;C=c(function(){function N(V){if(!k){if(k=!0,O=V,V=b(V),_!==void 0&&E.hasValue){var z=E.value;if(_(z,V))return M=z}return M=V}if(z=M,i(O,V))return z;var I=b(V);return _!==void 0&&_(z,I)?(O=V,z):(O=V,M=I)}var k=!1,O,M,D=v===void 0?null:v;return[function(){return N(g())},D===null?void 0:function(){return N(D())}]},[g,v,b,_]);var R=s(h,C[0],C[1]);return l(function(){E.hasValue=!0,E.value=R},[R]),d(R),R},cb}var CA;function KB(){return CA||(CA=1,lb.exports=GB()),lb.exports}var qB=KB();function WB(e,t){return e===t}function YB(e,t,n=WB){const i=x.useCallback(l=>{if(!e)return()=>{};const{unsubscribe:c}=e.subscribe(l);return c},[e]),s=x.useCallback(()=>e?.get(),[e]);return qB.useSyncExternalStoreWithSelector(i,s,s,t,n)}const fb=x.createContext(null);function Qk(){return typeof document>"u"?fb:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=fb,fb)}function Ss(e){const t=x.useContext(Qk());return e?.warn,t}function xs(e){const t=Ss({warn:e?.router===void 0}),n=e?.router||t,i=x.useRef(void 0);return YB(n.__store,s=>{if(e?.select){if(e.structuralSharing??n.options.defaultStructuralSharing){const o=ms(i.current,e.select(s));return i.current=o,o}return e.select(s)}return s})}const _g=x.createContext(void 0),ZB=x.createContext(void 0);function gr(e){const t=x.useContext(e.from?ZB:_g);return xs({select:i=>{const s=i.matches.find(o=>e.from?e.from===o.routeId:o.id===t);if(Mo(!((e.shouldThrow??!0)&&!s),`Could not find ${e.from?`an active match from "${e.from}"`:"a nearest match!"}`),s!==void 0)return e.select?e.select(s):s},structuralSharing:e.structuralSharing})}function X0(e){return gr({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.loaderData):t.loaderData})}function Q0(e){const{select:t,...n}=e;return gr({...n,select:i=>t?t(i.loaderDeps):i.loaderDeps})}function J0(e){return gr({from:e.from,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,strict:e.strict,select:t=>{const n=e.strict===!1?t.params:t._strictParams;return e.select?e.select(n):n}})}function e_(e){return gr({from:e.from,strict:e.strict,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.search):t.search})}function Ii(e){const t=Ss();return x.useCallback(n=>t.navigate({...n,from:n.from??e?.from}),[e?.from,t])}var Ji=Ok();const XB=V0(Ji);function QB(e,t){const n=Ss(),i=UB(t),{activeProps:s,inactiveProps:o,activeOptions:l,to:c,preload:d,preloadDelay:h,hashScrollIntoView:g,replace:v,startTransition:b,resetScroll:_,viewTransition:C,children:E,target:R,disabled:N,style:k,className:O,onClick:M,onFocus:D,onMouseEnter:V,onMouseLeave:z,onTouchStart:I,ignoreBlocker:$,params:Z,search:q,hash:W,state:ne,mask:re,reloadDocument:ye,unsafeRelative:G,from:Y,_fromLocation:te,...de}=e,oe=Zk(),K=xs({select:bt=>{const At=bt.matches[bt.matches.length-1];return{search:At?.search,hash:bt.location.hash,path:At?.pathname}},structuralSharing:!0}),ae=e.from,be=x.useMemo(()=>({...e,from:ae}),[n,K,ae,e._fromLocation,e.hash,e.to,e.search,e.params,e.state,e.mask,e.unsafeRelative]),xe=x.useMemo(()=>n.buildLocation({...be}),[n,be]),Re=xe.maskedLocation?xe.maskedLocation.publicHref:xe.publicHref,we=xe.maskedLocation?xe.maskedLocation.external:xe.external,Se=x.useMemo(()=>s3(Re,we,n.history,N),[N,we,Re,n.history]),je=x.useMemo(()=>{if(Se?.external)return Pm(Se.href,n.protocolAllowlist)?void 0:Se.href;if(!r3(c)&&!(typeof c!="string"||c.indexOf(":")===-1))try{return new URL(c),Pm(c,n.protocolAllowlist)?void 0:c}catch{}},[c,Se,n.protocolAllowlist]),Me=xs({select:bt=>{if(je)return!1;if(l?.exact){if(!rB(bt.location.pathname,xe.pathname,n.basepath))return!1}else{const At=Dm(bt.location.pathname,n.basepath),zt=Dm(xe.pathname,n.basepath);if(!(At.startsWith(zt)&&(At.length===zt.length||At[zt.length]==="/")))return!1}return(l?.includeSearch??!0)&&!Bl(bt.location.search,xe.search,{partial:!l?.exact,ignoreUndefined:!l?.explicitUndefined})?!1:l?.includeHash?oe&&bt.location.hash===xe.hash:!0}}),De=Me?Aa(s,{})??JB:hb,Ye=Me?hb:Aa(o,{})??hb,Ze=[O,De.className,Ye.className].filter(Boolean).join(" "),Ct=(k||De.style||Ye.style)&&{...k,...De.style,...Ye.style},[yt,It]=x.useState(!1),dn=x.useRef(!1),fn=e.reloadDocument||je?!1:d??n.options.defaultPreload,jn=h??n.options.defaultPreloadDelay??0,_n=x.useCallback(()=>{n.preloadRoute({...be,_builtLocation:xe}).catch(bt=>{console.warn(bt),console.warn(IB)})},[n,be,xe]),wn=x.useCallback(bt=>{bt?.isIntersecting&&_n()},[_n]);BB(i,wn,i3,{disabled:!!N||fn!=="viewport"}),x.useEffect(()=>{dn.current||!N&&fn==="render"&&(_n(),dn.current=!0)},[N,_n,fn]);const Kn=bt=>{const At=bt.currentTarget.getAttribute("target"),zt=R!==void 0?R:At;if(!N&&!o3(bt)&&!bt.defaultPrevented&&(!zt||zt==="_self")&&bt.button===0){bt.preventDefault(),Ji.flushSync(()=>{It(!0)});const Ti=n.subscribe("onResolved",()=>{Ti(),It(!1)});n.navigate({...be,replace:v,resetScroll:_,hashScrollIntoView:g,startTransition:b,viewTransition:C,ignoreBlocker:$})}};if(je)return{...de,ref:i,href:je,...E&&{children:E},...R&&{target:R},...N&&{disabled:N},...k&&{style:k},...O&&{className:O},...M&&{onClick:M},...D&&{onFocus:D},...V&&{onMouseEnter:V},...z&&{onMouseLeave:z},...I&&{onTouchStart:I}};const Ai=bt=>{N||fn&&_n()},Es=Ai,sn=bt=>{if(!(N||!fn))if(!jn)_n();else{const At=bt.target;if(Hd.has(At))return;const zt=setTimeout(()=>{Hd.delete(At),_n()},jn);Hd.set(At,zt)}},Sr=bt=>{if(N||!fn||!jn)return;const At=bt.target,zt=Hd.get(At);zt&&(clearTimeout(zt),Hd.delete(At))};return{...de,...De,...Ye,href:Se?.href,ref:i,onClick:Gd([M,Kn]),onFocus:Gd([D,Ai]),onMouseEnter:Gd([V,sn]),onMouseLeave:Gd([z,Sr]),onTouchStart:Gd([I,Es]),disabled:!!N,target:R,...Ct&&{style:Ct},...Ze&&{className:Ze},...N&&e3,...Me&&t3,...oe&&yt&&n3}}const hb={},JB={className:"active"},e3={role:"link","aria-disabled":!0},t3={"data-status":"active","aria-current":"page"},n3={"data-transitioning":"transitioning"},Hd=new WeakMap,i3={rootMargin:"100px"},Gd=e=>t=>{for(const n of e)if(n){if(t.defaultPrevented)return;n(t)}};function s3(e,t,n,i){if(!i)return t?{href:e,external:!0}:{href:n.createHref(e)||"/",external:!1}}function r3(e){if(typeof e!="string")return!1;const t=e.charCodeAt(0);return t===47?e.charCodeAt(1)!==47:t===46}const of=x.forwardRef((e,t)=>{const{_asChild:n,...i}=e,{type:s,...o}=QB(i,t),l=typeof i.children=="function"?i.children({isActive:o["data-status"]==="active"}):i.children;if(!n){const{disabled:c,...d}=o;return x.createElement("a",d,l)}return x.createElement(n,o,l)});function o3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}let a3=class extends Yk{constructor(t){super(t),this.useMatch=n=>gr({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>gr({...n,from:this.id,select:i=>n?.select?n.select(i.context):i.context}),this.useSearch=n=>e_({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>J0({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>Q0({...n,from:this.id}),this.useLoaderData=n=>X0({...n,from:this.id}),this.useNavigate=()=>Ii({from:this.fullPath}),this.Link=Ot.forwardRef((n,i)=>y.jsx(of,{ref:i,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}};function mi(e){return new a3(e)}class l3 extends zB{constructor(t){super(t),this.useMatch=n=>gr({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>gr({...n,from:this.id,select:i=>n?.select?n.select(i.context):i.context}),this.useSearch=n=>e_({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>J0({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>Q0({...n,from:this.id}),this.useLoaderData=n=>X0({...n,from:this.id}),this.useNavigate=()=>Ii({from:this.fullPath}),this.Link=Ot.forwardRef((n,i)=>y.jsx(of,{ref:i,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function c3(e){return new l3(e)}function EA(e){return typeof e=="object"?new AA(e,{silent:!0}).createRoute(e):new AA(e,{silent:!0}).createRoute}class AA{constructor(t,n){this.path=t,this.createRoute=i=>{this.silent;const s=mi(i);return s.isRoot=!1,s},this.silent=n?.silent}}class TA{constructor(t){this.useMatch=n=>gr({select:n?.select,from:this.options.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>gr({from:this.options.id,select:i=>n?.select?n.select(i.context):i.context}),this.useSearch=n=>e_({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useParams=n=>J0({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useLoaderDeps=n=>Q0({...n,from:this.options.id}),this.useLoaderData=n=>X0({...n,from:this.options.id}),this.useNavigate=()=>{const n=Ss();return Ii({from:n.routesById[this.options.id].fullPath})},this.options=t,this.$$typeof=Symbol.for("react.memo")}}function RA(e){return typeof e=="object"?new TA(e):t=>new TA({id:e,...t})}function u3(){const e=Ss(),t=x.useRef({router:e,mounted:!1}),[n,i]=x.useState(!1),{hasPendingMatches:s,isLoading:o}=xs({select:v=>({isLoading:v.isLoading,hasPendingMatches:v.matches.some(b=>b.status==="pending")}),structuralSharing:!0}),l=ab(o),c=o||n||s,d=ab(c),h=o||s,g=ab(h);return e.startTransition=v=>{i(!0),x.startTransition(()=>{v(),i(!1)})},x.useEffect(()=>{const v=e.history.subscribe(e.load),b=e.buildLocation({to:e.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Na(e.latestLocation.publicHref)!==Na(b.publicHref)&&e.commitLocation({...b,replace:!0}),()=>{v()}},[e,e.history]),Up(()=>{if(typeof window<"u"&&e.ssr||t.current.router===e&&t.current.mounted)return;t.current={router:e,mounted:!0},(async()=>{try{await e.load()}catch(b){console.error(b)}})()},[e]),Up(()=>{l&&!o&&e.emit({type:"onLoad",...Ul(e.state)})},[l,e,o]),Up(()=>{g&&!h&&e.emit({type:"onBeforeRouteMount",...Ul(e.state)})},[h,g,e]),Up(()=>{if(d&&!c){const v=Ul(e.state);e.emit({type:"onResolved",...v}),e.__store.setState(b=>({...b,status:"idle",resolvedLocation:b.location})),v.hrefChanged&&mB(e)}},[c,d,e]),null}function d3(e){const t=xs({select:n=>`not-found-${n.location.pathname}-${n.status}`});return y.jsx(Y0,{getResetKey:()=>t,onCatch:(n,i)=>{if(bs(n))e.onCatch?.(n,i);else throw n},errorComponent:({error:n})=>{if(bs(n))return e.fallback?.(n);throw n},children:e.children})}function f3(){return y.jsx("p",{children:"Not Found"})}function iu(e){return y.jsx(y.Fragment,{children:e.children})}function Jk(e,t,n){return t.options.notFoundComponent?y.jsx(t.options.notFoundComponent,{...n}):e.options.defaultNotFoundComponent?y.jsx(e.options.defaultNotFoundComponent,{...n}):y.jsx(f3,{})}function h3(){return Ss().isScrollRestoring,null}const eN=x.memo(function({matchId:t}){const n=Ss(),i=xs({select:E=>{const R=E.matches.findIndex(k=>k.id===t),N=E.matches[R];return Mo(N),{routeId:N.routeId,ssr:N.ssr,_displayPending:N._displayPending,resetKey:E.loadedAt,parentRouteId:E.matches[R-1]?.routeId}},structuralSharing:!0}),s=n.routesById[i.routeId],o=s.options.pendingComponent??n.options.defaultPendingComponent,l=o?y.jsx(o,{}):null,c=s.options.errorComponent??n.options.defaultErrorComponent,d=s.options.onCatch??n.options.defaultOnCatch,h=s.isRoot?s.options.notFoundComponent??n.options.notFoundRoute?.options.component:s.options.notFoundComponent,g=i.ssr===!1||i.ssr==="data-only",v=(!s.isRoot||s.options.wrapInSuspense||g)&&(s.options.wrapInSuspense??o??(s.options.errorComponent?.preload||g))?x.Suspense:iu,b=c?Y0:iu,_=h?d3:iu,C=s.isRoot?s.options.shellComponent??iu:iu;return y.jsxs(C,{children:[y.jsx(_g.Provider,{value:t,children:y.jsx(v,{fallback:l,children:y.jsx(b,{getResetKey:()=>i.resetKey,errorComponent:c||Z0,onCatch:(E,R)=>{if(bs(E))throw E;d?.(E,R)},children:y.jsx(_,{fallback:E=>{if(!h||E.routeId&&E.routeId!==i.routeId||!E.routeId&&!s.isRoot)throw E;return x.createElement(h,E)},children:g||i._displayPending?y.jsx(VB,{fallback:l,children:y.jsx(kA,{matchId:t})}):y.jsx(kA,{matchId:t})})})})}),i.parentRouteId===zs&&n.options.scrollRestoration?y.jsxs(y.Fragment,{children:[y.jsx(p3,{}),y.jsx(h3,{})]}):null]})});function p3(){const e=Ss(),t=x.useRef(void 0);return y.jsx("script",{suppressHydrationWarning:!0,ref:n=>{n&&(t.current===void 0||t.current.href!==e.latestLocation.href)&&(e.emit({type:"onRendered",...Ul(e.state)}),t.current=e.latestLocation)}},e.latestLocation.state.__TSR_key)}const kA=x.memo(function({matchId:t}){const n=Ss(),{match:i,key:s,routeId:o}=xs({select:d=>{const h=d.matches.find(C=>C.id===t),g=h.routeId,b=(n.routesById[g].options.remountDeps??n.options.defaultRemountDeps)?.({routeId:g,loaderDeps:h.loaderDeps,params:h._strictParams,search:h._strictSearch});return{key:b?JSON.stringify(b):void 0,routeId:g,match:{id:h.id,status:h.status,error:h.error,invalid:h.invalid,_forcePending:h._forcePending,_displayPending:h._displayPending}}},structuralSharing:!0}),l=n.routesById[o],c=x.useMemo(()=>{const d=l.options.component??n.options.defaultComponent;return d?y.jsx(d,{},s):y.jsx(tN,{})},[s,l.options.component,n.options.defaultComponent]);if(i._displayPending)throw n.getMatch(i.id)?._nonReactive.displayPendingPromise;if(i._forcePending)throw n.getMatch(i.id)?._nonReactive.minPendingPromise;if(i.status==="pending"){const d=l.options.pendingMinMs??n.options.defaultPendingMinMs;if(d){const h=n.getMatch(i.id);if(h&&!h._nonReactive.minPendingPromise){const g=Su();h._nonReactive.minPendingPromise=g,setTimeout(()=>{g.resolve(),h._nonReactive.minPendingPromise=void 0},d)}}throw n.getMatch(i.id)?._nonReactive.loadPromise}if(i.status==="notFound")return Mo(bs(i.error)),Jk(n,l,i.error);if(i.status==="redirected")throw Mo(Fs(i.error)),n.getMatch(i.id)?._nonReactive.loadPromise;if(i.status==="error")throw i.error;return c}),tN=x.memo(function(){const t=Ss(),n=x.useContext(_g),i=xs({select:h=>h.matches.find(g=>g.id===n)?.routeId}),s=t.routesById[i],o=xs({select:h=>{const v=h.matches.find(b=>b.id===n);return Mo(v),v.globalNotFound}}),l=xs({select:h=>{const g=h.matches,v=g.findIndex(b=>b.id===n);return g[v+1]?.id}}),c=t.options.defaultPendingComponent?y.jsx(t.options.defaultPendingComponent,{}):null;if(o)return Jk(t,s,void 0);if(!l)return null;const d=y.jsx(eN,{matchId:l});return i===zs?y.jsx(x.Suspense,{fallback:c,children:d}):d});function m3(){const e=Ss(),n=e.routesById[zs].options.pendingComponent??e.options.defaultPendingComponent,i=n?y.jsx(n,{}):null,s=typeof document<"u"&&e.ssr?iu:x.Suspense,o=y.jsxs(s,{fallback:i,children:[y.jsx(u3,{}),y.jsx(g3,{})]});return e.options.InnerWrap?y.jsx(e.options.InnerWrap,{children:o}):o}function g3(){const e=Ss(),t=xs({select:s=>s.matches[0]?.id}),n=xs({select:s=>s.loadedAt}),i=t?y.jsx(eN,{matchId:t}):null;return y.jsx(_g.Provider,{value:t,children:e.options.disableGlobalCatchBoundary?i:y.jsx(Y0,{getResetKey:()=>n,errorComponent:Z0,onCatch:s=>{s.message||s.toString()},children:i})})}const v3=e=>new y3(e);class y3 extends NB{constructor(t){super(t)}}typeof globalThis<"u"?(globalThis.createFileRoute=EA,globalThis.createLazyFileRoute=RA):typeof window<"u"&&(window.createFileRoute=EA,window.createLazyFileRoute=RA);function b3({router:e,children:t,...n}){Object.keys(n).length>0&&e.update({...e.options,...n,context:{...e.options.context,...n.context}});const i=Qk(),s=y.jsx(i.Provider,{value:e,children:t});return e.options.Wrap?y.jsx(e.options.Wrap,{children:s}):s}function x3({router:e,...t}){return y.jsx(b3,{router:e,...t,children:y.jsx(m3,{})})}function _3(e){return xs({select:t=>t.location})}const nN={sm:"480px",md:"768px"},w3=Number(nN.sm.replace("px","")),S3=Number(nN.md.replace("px","")),ec=()=>{const[e,t]=x.useState(!1),[n,i]=x.useState(!1);return x.useEffect(()=>{const s=()=>{t(window.innerWidth<=w3),i(window.innerWidth<=S3)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),{isMobile:e,isTablet:n}},$r={BASE_URL:"/treevera/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyBzinELXu5WO8e3uiZgBalJSQh5F_XAi28",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp2amlyb2Nuc3Vjc2Fwd25qZnBlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUxOTQwODksImV4cCI6MjA3MDc3MDA4OX0.eQESQzBSt0_gciw0LN5zByYGBGugi-NuCChs-1mMVoA",VITE_SUPABASE_URL:"https://jvjirocnsucsapwnjfpe.supabase.co"};function iN(e){return"init"in e}function vx(e){return!!e.write}function NA(e){return"v"in e||"e"in e}function Im(e){if("e"in e)throw e.e;if(($r?"production":void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v}function zm(e){return typeof e?.then=="function"}function sN(e,t,n){if(!n.p.has(e)){n.p.add(e);const i=()=>n.p.delete(e);t.then(i,i)}}function rN(e,t,n){var i;const s=new Set;for(const o of((i=n.get(e))==null?void 0:i.t)||[])s.add(o);for(const o of t.p)s.add(o);return s}const C3=(e,t,...n)=>t.read(...n),E3=(e,t,...n)=>t.write(...n),A3=(e,t)=>{var n;return(n=t.INTERNAL_onInit)==null?void 0:n.call(t,e)},T3=(e,t,n)=>{var i;return(i=t.onMount)==null?void 0:i.call(t,n)},R3=(e,t)=>{var n;const i=$n(e),s=i[0],o=i[6],l=i[9];if(($r?"production":void 0)!=="production"&&!t)throw new Error("Atom is undefined or null");let c=s.get(t);return c||(c={d:new Map,p:new Set,n:0},s.set(t,c),(n=o.i)==null||n.call(o,t),l?.(e,t)),c},k3=e=>{const t=$n(e),n=t[1],i=t[3],s=t[4],o=t[5],l=t[6],c=t[13],d=[],h=g=>{try{g()}catch(v){d.push(v)}};do{l.f&&h(l.f);const g=new Set,v=g.add.bind(g);i.forEach(b=>{var _;return(_=n.get(b))==null?void 0:_.l.forEach(v)}),i.clear(),o.forEach(v),o.clear(),s.forEach(v),s.clear(),g.forEach(h),i.size&&c(e)}while(i.size||o.size||s.size);if(d.length)throw new AggregateError(d)},N3=e=>{const t=$n(e),n=t[1],i=t[2],s=t[3],o=t[11],l=t[14],c=t[17],d=[],h=new WeakSet,g=new WeakSet,v=Array.from(s);for(;v.length;){const b=v[v.length-1],_=o(e,b);if(g.has(b)){v.pop();continue}if(h.has(b)){if(i.get(b)===_.n)d.push([b,_]);else if(($r?"production":void 0)!=="production"&&i.has(b))throw new Error("[Bug] invalidated atom exists");g.add(b),v.pop();continue}h.add(b);for(const C of rN(b,_,n))h.has(C)||v.push(C)}for(let b=d.length-1;b>=0;--b){const[_,C]=d[b];let E=!1;for(const R of C.d.keys())if(R!==_&&s.has(R)){E=!0;break}E&&(l(e,_),c(e,_)),i.delete(_)}},yx=new WeakSet,O3=(e,t)=>{var n,i;const s=$n(e),o=s[1],l=s[2],c=s[3],d=s[6],h=s[7],g=s[11],v=s[12],b=s[13],_=s[14],C=s[16],E=s[17],R=s[20],N=s[26],k=g(e,t);if(NA(k)){if(o.has(t)&&l.get(t)!==k.n)return k;let ne=!1;for(const[re,ye]of k.d)if(_(e,re).n!==ye){ne=!0;break}if(!ne)return k}let O=!0;const M=new Set(k.d.keys()),D=new Map,V=()=>{for(const ne of M)D.has(ne)||k.d.delete(ne)},z=()=>{if(o.has(t)){const ne=!c.size;E(e,t),ne&&(b(e),v(e))}},I=ne=>{var re;if(ne===t){const G=g(e,ne);if(!NA(G))if(iN(ne))R(e,ne,ne.init);else throw new Error("no atom init");return Im(G)}const ye=_(e,ne);try{return Im(ye)}finally{D.set(ne,ye.n),k.d.set(ne,ye.n),zm(k.v)&&sN(t,k.v,ye),o.has(t)&&((re=o.get(ne))==null||re.t.add(t)),O||z()}};let $,Z;const q={get signal(){return $||($=new AbortController),$.signal},get setSelf(){return($r?"production":void 0)!=="production"&&console.warn("[DEPRECATED] setSelf is deprecated and will be removed in v3."),($r?"production":void 0)!=="production"&&!vx(t)&&console.warn("setSelf function cannot be used with read-only atom"),!Z&&vx(t)&&(Z=(...ne)=>{if(($r?"production":void 0)!=="production"&&O&&console.warn("setSelf function cannot be called in sync"),!O)try{return C(e,t,...ne)}finally{b(e),v(e)}}),Z}},W=k.n;try{($r?"production":void 0)!=="production"&&yx.delete(e);const ne=h(e,t,I,q);if(($r?"production":void 0)!=="production"&&yx.has(e)&&console.warn("Detected store mutation during atom read. This is not supported."),R(e,t,ne),zm(ne)){N(e,ne,()=>$?.abort());const re=()=>{V(),z()};ne.then(re,re)}else V();return(n=d.r)==null||n.call(d,t),k}catch(ne){return delete k.v,k.e=ne,++k.n,k}finally{O=!1,W!==k.n&&l.get(t)===W&&(l.set(t,k.n),c.add(t),(i=d.c)==null||i.call(d,t))}},P3=(e,t)=>{const n=$n(e),i=n[1],s=n[2],o=n[11],l=[t];for(;l.length;){const c=l.pop(),d=o(e,c);for(const h of rN(c,d,i)){const g=o(e,h);s.get(h)!==g.n&&(s.set(h,g.n),l.push(h))}}},M3=(e,t,...n)=>{const i=$n(e),s=i[3],o=i[6],l=i[8],c=i[11],d=i[12],h=i[13],g=i[14],v=i[15],b=i[16],_=i[17],C=i[20];let E=!0;const R=k=>Im(g(e,k)),N=(k,...O)=>{var M;const D=c(e,k);try{if(k===t){if(!iN(k))throw new Error("atom not writable");($r?"production":void 0)!=="production"&&yx.add(e);const V=D.n,z=O[0];C(e,k,z),_(e,k),V!==D.n&&(s.add(k),v(e,k),(M=o.c)==null||M.call(o,k));return}else return b(e,k,...O)}finally{E||(h(e),d(e))}};try{return l(e,t,R,N,...n)}finally{E=!1}},D3=(e,t)=>{var n;const i=$n(e),s=i[1],o=i[3],l=i[6],c=i[11],d=i[15],h=i[18],g=i[19],v=c(e,t),b=s.get(t);if(b){for(const[_,C]of v.d)if(!b.d.has(_)){const E=c(e,_);h(e,_).t.add(t),b.d.add(_),C!==E.n&&(o.add(_),d(e,_),(n=l.c)==null||n.call(l,_))}for(const _ of b.d)if(!v.d.has(_)){b.d.delete(_);const C=g(e,_);C?.t.delete(t)}}},L3=(e,t)=>{var n;const i=$n(e),s=i[1],o=i[4],l=i[6],c=i[10],d=i[11],h=i[12],g=i[13],v=i[14],b=i[16],_=i[18],C=d(e,t);let E=s.get(t);if(!E){v(e,t);for(const R of C.d.keys())_(e,R).t.add(t);if(E={l:new Set,d:new Set(C.d.keys()),t:new Set},s.set(t,E),vx(t)){const R=()=>{let N=!0;const k=(...O)=>{try{return b(e,t,...O)}finally{N||(g(e),h(e))}};try{const O=c(e,t,k);O&&(E.u=()=>{N=!0;try{O()}finally{N=!1}})}finally{N=!1}};o.add(R)}(n=l.m)==null||n.call(l,t)}return E},j3=(e,t)=>{var n,i;const s=$n(e),o=s[1],l=s[5],c=s[6],d=s[11],h=s[19],g=d(e,t);let v=o.get(t);if(!v||v.l.size)return v;let b=!1;for(const _ of v.t)if((n=o.get(_))!=null&&n.d.has(t)){b=!0;break}if(!b){v.u&&l.add(v.u),v=void 0,o.delete(t);for(const _ of g.d.keys()){const C=h(e,_);C?.t.delete(t)}(i=c.u)==null||i.call(c,t);return}return v},I3=(e,t,n)=>{const i=$n(e),s=i[11],o=i[27],l=s(e,t),c="v"in l,d=l.v;if(zm(n))for(const h of l.d.keys())sN(t,n,s(e,h));l.v=n,delete l.e,(!c||!Object.is(d,l.v))&&(++l.n,zm(d)&&o(e,d))},z3=(e,t)=>{const n=$n(e)[14];return Im(n(e,t))},B3=(e,t,...n)=>{const i=$n(e),s=i[12],o=i[13],l=i[16];try{return l(e,t,...n)}finally{o(e),s(e)}},U3=(e,t,n)=>{const i=$n(e),s=i[12],o=i[18],l=i[19],d=o(e,t).l;return d.add(n),s(e),()=>{d.delete(n),l(e,t),s(e)}},F3=(e,t,n)=>{const s=$n(e)[25];let o=s.get(t);if(!o){o=new Set,s.set(t,o);const l=()=>s.delete(t);t.then(l,l)}o.add(n)},V3=(e,t)=>{const s=$n(e)[25].get(t);s?.forEach(o=>o())},oN=new WeakMap,$n=e=>{const t=oN.get(e);if(($r?"production":void 0)!=="production"&&!t)throw new Error("Store must be created by buildStore to read its building blocks");return t};function $3(e){const t=$n(e),n=t[24];return n?n(t):t}function H3(...e){const t={get(i){const s=$n(t)[21];return s(t,i)},set(i,...s){const o=$n(t)[22];return o(t,i,...s)},sub(i,s){const o=$n(t)[23];return o(t,i,s)}},n=[new WeakMap,new WeakMap,new WeakMap,new Set,new Set,new Set,{},C3,E3,A3,T3,R3,k3,N3,O3,P3,M3,D3,L3,j3,I3,z3,B3,U3,void 0,new WeakMap,F3,V3].map((i,s)=>e[s]||i);return oN.set(t,Object.freeze(n)),t}const aN={};let G3=0;function pt(e,t){const n=`atom${++G3}`,i={toString(){return(aN?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof e=="function"?i.read=e:(i.init=e,i.read=K3,i.write=q3),t&&(i.write=t),i}function K3(e){return e(this)}function q3(e,t,n){return t(this,typeof n=="function"?n(e(this)):n)}function W3(){return H3()}let Kd;function qf(){return Kd||(Kd=W3(),(aN?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=Kd),globalThis.__JOTAI_DEFAULT_STORE__!==Kd&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),Kd}const Y3={},Z3=x.createContext(void 0);function lN(e){return x.useContext(Z3)||qf()}const bx=e=>typeof e?.then=="function",xx=e=>{e.status||(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}))},X3=Ot.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(xx(e),e)}),pb=new WeakMap,OA=(e,t,n)=>{const s=$3(e)[26];let o=pb.get(t);return o||(o=new Promise((l,c)=>{let d=t;const h=b=>_=>{d===b&&l(_)},g=b=>_=>{d===b&&c(_)},v=()=>{try{const b=n();bx(b)?(pb.set(b,o),d=b,b.then(h(b),g(b)),s(e,b,v)):l(b)}catch(b){c(b)}};t.then(h(t),g(t)),s(e,t,v)}),pb.set(t,o)),o};function Le(e,t){const{delay:n,unstable_promiseStatus:i=!Ot.use}={},s=lN(),[[o,l,c],d]=x.useReducer(g=>{const v=s.get(e);return Object.is(g[0],v)&&g[1]===s&&g[2]===e?g:[v,s,e]},void 0,()=>[s.get(e),s,e]);let h=o;if((l!==s||c!==e)&&(d(),h=s.get(e)),x.useEffect(()=>{const g=s.sub(e,()=>{if(i)try{const v=s.get(e);bx(v)&&xx(OA(s,v,()=>s.get(e)))}catch{}if(typeof n=="number"){setTimeout(d,n);return}d()});return d(),g},[s,e,n,i]),x.useDebugValue(h),bx(h)){const g=OA(s,h,()=>s.get(e));return i&&xx(g),X3(g)}return h}function $t(e,t){const n=lN();return x.useCallback((...s)=>{if((Y3?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return n.set(e,...s)},[n,e])}function Gs(e,t){return[Le(e),$t(e)]}const Hn=({src:e,alt:t,fallbackSrc:n="",loading:i="lazy",decoding:s="async",onFallbackChange:o,...l})=>{const[c,d]=x.useState(e);x.useEffect(()=>{d(e)},[e]);const h=c===n;return x.useEffect(()=>{o?.(h)},[h,o]),y.jsx("img",{src:c,alt:t,loading:i,decoding:s,onError:()=>{n&&!h&&d(n)},...l})},Q3="/treevera/assets/avif-new-logo-CsHr8CWA.avif";function Ie(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e?.(s),n===!1||!s.defaultPrevented)return t?.(s)}}function PA(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Gn(...e){return t=>{let n=!1;const i=e.map(s=>{const o=PA(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<i.length;s++){const o=i[s];typeof o=="function"?o():PA(e[s],null)}}}}function St(...e){return x.useCallback(Gn(...e),e)}function J3(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,R=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:R,children:_})};h.displayName=o+"Provider";function g(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,g]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,eU(s,...t)]}function eU(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var Ln=globalThis?.document?x.useLayoutEffect:()=>{},tU=$0[" useInsertionEffect ".trim().toString()]||Ln;function Do({prop:e,defaultProp:t,onChange:n=()=>{},caller:i}){const[s,o,l]=nU({defaultProp:t,onChange:n}),c=e!==void 0,d=c?e:s;{const g=x.useRef(e!==void 0);x.useEffect(()=>{const v=g.current;v!==c&&console.warn(`${i} is changing from ${v?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=c},[c,i])}const h=x.useCallback(g=>{if(c){const v=iU(g)?g(e):g;v!==e&&l.current?.(v)}else o(g)},[c,e,o,l]);return[d,h]}function nU({defaultProp:e,onChange:t}){const[n,i]=x.useState(e),s=x.useRef(n),o=x.useRef(t);return tU(()=>{o.current=t},[t]),x.useEffect(()=>{s.current!==n&&(o.current?.(n),s.current=n)},[n,s]),[n,i,o]}function iU(e){return typeof e=="function"}function sU(e){const t=rU(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(aU);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function rU(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=cU(s),c=lU(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var oU=Symbol("radix.slottable");function aU(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===oU}function lU(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function cU(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var uU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dU=uU.reduce((e,t)=>{const n=sU(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function fU(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,R=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:R,children:_})};h.displayName=o+"Provider";function g(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,g]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,hU(s,...t)]}function hU(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function MA(e){const t=pU(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(gU);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function pU(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=yU(s),c=vU(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var mU=Symbol("radix.slottable");function gU(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===mU}function vU(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function yU(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function wg(e){const t=e+"CollectionProvider",[n,i]=fU(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=E=>{const{scope:R,children:N}=E,k=Ot.useRef(null),O=Ot.useRef(new Map).current;return y.jsx(s,{scope:R,itemMap:O,collectionRef:k,children:N})};l.displayName=t;const c=e+"CollectionSlot",d=MA(c),h=Ot.forwardRef((E,R)=>{const{scope:N,children:k}=E,O=o(c,N),M=St(R,O.collectionRef);return y.jsx(d,{ref:M,children:k})});h.displayName=c;const g=e+"CollectionItemSlot",v="data-radix-collection-item",b=MA(g),_=Ot.forwardRef((E,R)=>{const{scope:N,children:k,...O}=E,M=Ot.useRef(null),D=St(R,M),V=o(g,N);return Ot.useEffect(()=>(V.itemMap.set(M,{ref:M,...O}),()=>{V.itemMap.delete(M)})),y.jsx(b,{[v]:"",ref:D,children:k})});_.displayName=g;function C(E){const R=o(e+"CollectionConsumer",E);return Ot.useCallback(()=>{const k=R.collectionRef.current;if(!k)return[];const O=Array.from(k.querySelectorAll(`[${v}]`));return Array.from(R.itemMap.values()).sort((V,z)=>O.indexOf(V.ref.current)-O.indexOf(z.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:l,Slot:h,ItemSlot:_},C,i]}function bU(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,R=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:R,children:_})};h.displayName=o+"Provider";function g(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,g]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,xU(s,...t)]}function xU(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var _U=x.createContext(void 0);function Sg(e){const t=x.useContext(_U);return e||t||"ltr"}function wU(e){const t=SU(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(EU);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function SU(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=TU(s),c=AU(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var CU=Symbol("radix.slottable");function EU(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===CU}function AU(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function TU(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var RU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],cN=RU.reduce((e,t)=>{const n=wU(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function kU(e,t){e&&Ji.flushSync(()=>e.dispatchEvent(t))}function Ks(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...n)=>t.current?.(...n),[])}function NU(e,t=globalThis?.document){const n=Ks(e);x.useEffect(()=>{const i=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[n,t])}var OU="DismissableLayer",_x="dismissableLayer.update",PU="dismissableLayer.pointerDownOutside",MU="dismissableLayer.focusOutside",DA,uN=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wf=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...d}=e,h=x.useContext(uN),[g,v]=x.useState(null),b=g?.ownerDocument??globalThis?.document,[,_]=x.useState({}),C=St(t,z=>v(z)),E=Array.from(h.layers),[R]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=E.indexOf(R),k=g?E.indexOf(g):-1,O=h.layersWithOutsidePointerEventsDisabled.size>0,M=k>=N,D=jU(z=>{const I=z.target,$=[...h.branches].some(Z=>Z.contains(I));!M||$||(s?.(z),l?.(z),z.defaultPrevented||c?.())},b),V=IU(z=>{const I=z.target;[...h.branches].some(Z=>Z.contains(I))||(o?.(z),l?.(z),z.defaultPrevented||c?.())},b);return NU(z=>{k===h.layers.size-1&&(i?.(z),!z.defaultPrevented&&c&&(z.preventDefault(),c()))},b),x.useEffect(()=>{if(g)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(DA=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(g)),h.layers.add(g),LA(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=DA)}},[g,b,n,h]),x.useEffect(()=>()=>{g&&(h.layers.delete(g),h.layersWithOutsidePointerEventsDisabled.delete(g),LA())},[g,h]),x.useEffect(()=>{const z=()=>_({});return document.addEventListener(_x,z),()=>document.removeEventListener(_x,z)},[]),y.jsx(cN.div,{...d,ref:C,style:{pointerEvents:O?M?"auto":"none":void 0,...e.style},onFocusCapture:Ie(e.onFocusCapture,V.onFocusCapture),onBlurCapture:Ie(e.onBlurCapture,V.onBlurCapture),onPointerDownCapture:Ie(e.onPointerDownCapture,D.onPointerDownCapture)})});Wf.displayName=OU;var DU="DismissableLayerBranch",LU=x.forwardRef((e,t)=>{const n=x.useContext(uN),i=x.useRef(null),s=St(t,i);return x.useEffect(()=>{const o=i.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),y.jsx(cN.div,{...e,ref:s})});LU.displayName=DU;function jU(e,t=globalThis?.document){const n=Ks(e),i=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const o=c=>{if(c.target&&!i.current){let d=function(){dN(PU,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);i.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>i.current=!0}}function IU(e,t=globalThis?.document){const n=Ks(e),i=x.useRef(!1);return x.useEffect(()=>{const s=o=>{o.target&&!i.current&&dN(MU,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function LA(){const e=new CustomEvent(_x);document.dispatchEvent(e)}function dN(e,t,n,{discrete:i}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),i?kU(s,o):s.dispatchEvent(o)}var mb=0;function t_(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??jA()),document.body.insertAdjacentElement("beforeend",e[1]??jA()),mb++,()=>{mb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),mb--}},[])}function jA(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}function zU(e){const t=BU(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(FU);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function BU(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=$U(s),c=VU(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var UU=Symbol("radix.slottable");function FU(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===UU}function VU(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function $U(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var HU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],GU=HU.reduce((e,t)=>{const n=zU(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),gb="focusScope.autoFocusOnMount",vb="focusScope.autoFocusOnUnmount",IA={bubbles:!1,cancelable:!0},KU="FocusScope",Cg=x.forwardRef((e,t)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...l}=e,[c,d]=x.useState(null),h=Ks(s),g=Ks(o),v=x.useRef(null),b=St(t,E=>d(E)),_=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(i){let E=function(O){if(_.paused||!c)return;const M=O.target;c.contains(M)?v.current=M:xa(v.current,{select:!0})},R=function(O){if(_.paused||!c)return;const M=O.relatedTarget;M!==null&&(c.contains(M)||xa(v.current,{select:!0}))},N=function(O){if(document.activeElement===document.body)for(const D of O)D.removedNodes.length>0&&xa(c)};document.addEventListener("focusin",E),document.addEventListener("focusout",R);const k=new MutationObserver(N);return c&&k.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",R),k.disconnect()}}},[i,c,_.paused]),x.useEffect(()=>{if(c){BA.add(_);const E=document.activeElement;if(!c.contains(E)){const N=new CustomEvent(gb,IA);c.addEventListener(gb,h),c.dispatchEvent(N),N.defaultPrevented||(qU(QU(fN(c)),{select:!0}),document.activeElement===E&&xa(c))}return()=>{c.removeEventListener(gb,h),setTimeout(()=>{const N=new CustomEvent(vb,IA);c.addEventListener(vb,g),c.dispatchEvent(N),N.defaultPrevented||xa(E??document.body,{select:!0}),c.removeEventListener(vb,g),BA.remove(_)},0)}}},[c,h,g,_]);const C=x.useCallback(E=>{if(!n&&!i||_.paused)return;const R=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,N=document.activeElement;if(R&&N){const k=E.currentTarget,[O,M]=WU(k);O&&M?!E.shiftKey&&N===M?(E.preventDefault(),n&&xa(O,{select:!0})):E.shiftKey&&N===O&&(E.preventDefault(),n&&xa(M,{select:!0})):N===k&&E.preventDefault()}},[n,i,_.paused]);return y.jsx(GU.div,{tabIndex:-1,...l,ref:b,onKeyDown:C})});Cg.displayName=KU;function qU(e,{select:t=!1}={}){const n=document.activeElement;for(const i of e)if(xa(i,{select:t}),document.activeElement!==n)return}function WU(e){const t=fN(e),n=zA(t,e),i=zA(t.reverse(),e);return[n,i]}function fN(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function zA(e,t){for(const n of e)if(!YU(n,{upTo:t}))return n}function YU(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ZU(e){return e instanceof HTMLInputElement&&"select"in e}function xa(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&ZU(e)&&t&&e.select()}}var BA=XU();function XU(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=UA(e,t),e.unshift(t)},remove(t){e=UA(e,t),e[0]?.resume()}}}function UA(e,t){const n=[...e],i=n.indexOf(t);return i!==-1&&n.splice(i,1),n}function QU(e){return e.filter(t=>t.tagName!=="A")}var JU=$0[" useId ".trim().toString()]||(()=>{}),e5=0;function _s(e){const[t,n]=x.useState(JU());return Ln(()=>{n(i=>i??String(e5++))},[e]),t?`radix-${t}`:""}const t5=["top","right","bottom","left"],Pa=Math.min,vs=Math.max,Bm=Math.round,Fp=Math.floor,qr=e=>({x:e,y:e}),n5={left:"right",right:"left",bottom:"top",top:"bottom"},i5={start:"end",end:"start"};function wx(e,t,n){return vs(e,Pa(t,n))}function Lo(e,t){return typeof e=="function"?e(t):e}function jo(e){return e.split("-")[0]}function Nu(e){return e.split("-")[1]}function n_(e){return e==="x"?"y":"x"}function i_(e){return e==="y"?"height":"width"}const s5=new Set(["top","bottom"]);function Gr(e){return s5.has(jo(e))?"y":"x"}function s_(e){return n_(Gr(e))}function r5(e,t,n){n===void 0&&(n=!1);const i=Nu(e),s=s_(e),o=i_(s);let l=s==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=Um(l)),[l,Um(l)]}function o5(e){const t=Um(e);return[Sx(e),t,Sx(t)]}function Sx(e){return e.replace(/start|end/g,t=>i5[t])}const FA=["left","right"],VA=["right","left"],a5=["top","bottom"],l5=["bottom","top"];function c5(e,t,n){switch(e){case"top":case"bottom":return n?t?VA:FA:t?FA:VA;case"left":case"right":return t?a5:l5;default:return[]}}function u5(e,t,n,i){const s=Nu(e);let o=c5(jo(e),n==="start",i);return s&&(o=o.map(l=>l+"-"+s),t&&(o=o.concat(o.map(Sx)))),o}function Um(e){return e.replace(/left|right|bottom|top/g,t=>n5[t])}function d5(e){return{top:0,right:0,bottom:0,left:0,...e}}function hN(e){return typeof e!="number"?d5(e):{top:e,right:e,bottom:e,left:e}}function Fm(e){const{x:t,y:n,width:i,height:s}=e;return{width:i,height:s,top:n,left:t,right:t+i,bottom:n+s,x:t,y:n}}function $A(e,t,n){let{reference:i,floating:s}=e;const o=Gr(t),l=s_(t),c=i_(l),d=jo(t),h=o==="y",g=i.x+i.width/2-s.width/2,v=i.y+i.height/2-s.height/2,b=i[c]/2-s[c]/2;let _;switch(d){case"top":_={x:g,y:i.y-s.height};break;case"bottom":_={x:g,y:i.y+i.height};break;case"right":_={x:i.x+i.width,y:v};break;case"left":_={x:i.x-s.width,y:v};break;default:_={x:i.x,y:i.y}}switch(Nu(t)){case"start":_[l]-=b*(n&&h?-1:1);break;case"end":_[l]+=b*(n&&h?-1:1);break}return _}async function f5(e,t){var n;t===void 0&&(t={});const{x:i,y:s,platform:o,rects:l,elements:c,strategy:d}=e,{boundary:h="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:b=!1,padding:_=0}=Lo(t,e),C=hN(_),R=c[b?v==="floating"?"reference":"floating":v],N=Fm(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(R)))==null||n?R:R.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:h,rootBoundary:g,strategy:d})),k=v==="floating"?{x:i,y:s,width:l.floating.width,height:l.floating.height}:l.reference,O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),M=await(o.isElement==null?void 0:o.isElement(O))?await(o.getScale==null?void 0:o.getScale(O))||{x:1,y:1}:{x:1,y:1},D=Fm(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:k,offsetParent:O,strategy:d}):k);return{top:(N.top-D.top+C.top)/M.y,bottom:(D.bottom-N.bottom+C.bottom)/M.y,left:(N.left-D.left+C.left)/M.x,right:(D.right-N.right+C.right)/M.x}}const h5=async(e,t,n)=>{const{placement:i="bottom",strategy:s="absolute",middleware:o=[],platform:l}=n,c=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let h=await l.getElementRects({reference:e,floating:t,strategy:s}),{x:g,y:v}=$A(h,i,d),b=i,_={},C=0;for(let R=0;R<c.length;R++){var E;const{name:N,fn:k}=c[R],{x:O,y:M,data:D,reset:V}=await k({x:g,y:v,initialPlacement:i,placement:b,strategy:s,middlewareData:_,rects:h,platform:{...l,detectOverflow:(E=l.detectOverflow)!=null?E:f5},elements:{reference:e,floating:t}});g=O??g,v=M??v,_={..._,[N]:{..._[N],...D}},V&&C<=50&&(C++,typeof V=="object"&&(V.placement&&(b=V.placement),V.rects&&(h=V.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:s}):V.rects),{x:g,y:v}=$A(h,b,d)),R=-1)}return{x:g,y:v,placement:b,strategy:s,middlewareData:_}},p5=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:s,rects:o,platform:l,elements:c,middlewareData:d}=t,{element:h,padding:g=0}=Lo(e,t)||{};if(h==null)return{};const v=hN(g),b={x:n,y:i},_=s_(s),C=i_(_),E=await l.getDimensions(h),R=_==="y",N=R?"top":"left",k=R?"bottom":"right",O=R?"clientHeight":"clientWidth",M=o.reference[C]+o.reference[_]-b[_]-o.floating[C],D=b[_]-o.reference[_],V=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let z=V?V[O]:0;(!z||!await(l.isElement==null?void 0:l.isElement(V)))&&(z=c.floating[O]||o.floating[C]);const I=M/2-D/2,$=z/2-E[C]/2-1,Z=Pa(v[N],$),q=Pa(v[k],$),W=Z,ne=z-E[C]-q,re=z/2-E[C]/2+I,ye=wx(W,re,ne),G=!d.arrow&&Nu(s)!=null&&re!==ye&&o.reference[C]/2-(re<W?Z:q)-E[C]/2<0,Y=G?re<W?re-W:re-ne:0;return{[_]:b[_]+Y,data:{[_]:ye,centerOffset:re-ye-Y,...G&&{alignmentOffset:Y}},reset:G}}}),m5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:s,middlewareData:o,rects:l,initialPlacement:c,platform:d,elements:h}=t,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:b,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:E=!0,...R}=Lo(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const N=jo(s),k=Gr(c),O=jo(c)===c,M=await(d.isRTL==null?void 0:d.isRTL(h.floating)),D=b||(O||!E?[Um(c)]:o5(c)),V=C!=="none";!b&&V&&D.push(...u5(c,E,C,M));const z=[c,...D],I=await d.detectOverflow(t,R),$=[];let Z=((i=o.flip)==null?void 0:i.overflows)||[];if(g&&$.push(I[N]),v){const re=r5(s,l,M);$.push(I[re[0]],I[re[1]])}if(Z=[...Z,{placement:s,overflows:$}],!$.every(re=>re<=0)){var q,W;const re=(((q=o.flip)==null?void 0:q.index)||0)+1,ye=z[re];if(ye&&(!(v==="alignment"?k!==Gr(ye):!1)||Z.every(te=>Gr(te.placement)===k?te.overflows[0]>0:!0)))return{data:{index:re,overflows:Z},reset:{placement:ye}};let G=(W=Z.filter(Y=>Y.overflows[0]<=0).sort((Y,te)=>Y.overflows[1]-te.overflows[1])[0])==null?void 0:W.placement;if(!G)switch(_){case"bestFit":{var ne;const Y=(ne=Z.filter(te=>{if(V){const de=Gr(te.placement);return de===k||de==="y"}return!0}).map(te=>[te.placement,te.overflows.filter(de=>de>0).reduce((de,oe)=>de+oe,0)]).sort((te,de)=>te[1]-de[1])[0])==null?void 0:ne[0];Y&&(G=Y);break}case"initialPlacement":G=c;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function HA(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function GA(e){return t5.some(t=>e[t]>=0)}const g5=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:i}=t,{strategy:s="referenceHidden",...o}=Lo(e,t);switch(s){case"referenceHidden":{const l=await i.detectOverflow(t,{...o,elementContext:"reference"}),c=HA(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:GA(c)}}}case"escaped":{const l=await i.detectOverflow(t,{...o,altBoundary:!0}),c=HA(l,n.floating);return{data:{escapedOffsets:c,escaped:GA(c)}}}default:return{}}}}},pN=new Set(["left","top"]);async function v5(e,t){const{placement:n,platform:i,elements:s}=e,o=await(i.isRTL==null?void 0:i.isRTL(s.floating)),l=jo(n),c=Nu(n),d=Gr(n)==="y",h=pN.has(l)?-1:1,g=o&&d?-1:1,v=Lo(t,e);let{mainAxis:b,crossAxis:_,alignmentAxis:C}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return c&&typeof C=="number"&&(_=c==="end"?C*-1:C),d?{x:_*g,y:b*h}:{x:b*h,y:_*g}}const y5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:s,y:o,placement:l,middlewareData:c}=t,d=await v5(t,e);return l===((n=c.offset)==null?void 0:n.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:s+d.x,y:o+d.y,data:{...d,placement:l}}}}},b5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:s,platform:o}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:N=>{let{x:k,y:O}=N;return{x:k,y:O}}},...h}=Lo(e,t),g={x:n,y:i},v=await o.detectOverflow(t,h),b=Gr(jo(s)),_=n_(b);let C=g[_],E=g[b];if(l){const N=_==="y"?"top":"left",k=_==="y"?"bottom":"right",O=C+v[N],M=C-v[k];C=wx(O,C,M)}if(c){const N=b==="y"?"top":"left",k=b==="y"?"bottom":"right",O=E+v[N],M=E-v[k];E=wx(O,E,M)}const R=d.fn({...t,[_]:C,[b]:E});return{...R,data:{x:R.x-n,y:R.y-i,enabled:{[_]:l,[b]:c}}}}}},x5=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:i,placement:s,rects:o,middlewareData:l}=t,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=Lo(e,t),g={x:n,y:i},v=Gr(s),b=n_(v);let _=g[b],C=g[v];const E=Lo(c,t),R=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(d){const O=b==="y"?"height":"width",M=o.reference[b]-o.floating[O]+R.mainAxis,D=o.reference[b]+o.reference[O]-R.mainAxis;_<M?_=M:_>D&&(_=D)}if(h){var N,k;const O=b==="y"?"width":"height",M=pN.has(jo(s)),D=o.reference[v]-o.floating[O]+(M&&((N=l.offset)==null?void 0:N[v])||0)+(M?0:R.crossAxis),V=o.reference[v]+o.reference[O]+(M?0:((k=l.offset)==null?void 0:k[v])||0)-(M?R.crossAxis:0);C<D?C=D:C>V&&(C=V)}return{[b]:_,[v]:C}}}},_5=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,i;const{placement:s,rects:o,platform:l,elements:c}=t,{apply:d=()=>{},...h}=Lo(e,t),g=await l.detectOverflow(t,h),v=jo(s),b=Nu(s),_=Gr(s)==="y",{width:C,height:E}=o.floating;let R,N;v==="top"||v==="bottom"?(R=v,N=b===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(N=v,R=b==="end"?"top":"bottom");const k=E-g.top-g.bottom,O=C-g.left-g.right,M=Pa(E-g[R],k),D=Pa(C-g[N],O),V=!t.middlewareData.shift;let z=M,I=D;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(I=O),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(z=k),V&&!b){const Z=vs(g.left,0),q=vs(g.right,0),W=vs(g.top,0),ne=vs(g.bottom,0);_?I=C-2*(Z!==0||q!==0?Z+q:vs(g.left,g.right)):z=E-2*(W!==0||ne!==0?W+ne:vs(g.top,g.bottom))}await d({...t,availableWidth:I,availableHeight:z});const $=await l.getDimensions(c.floating);return C!==$.width||E!==$.height?{reset:{rects:!0}}:{}}}};function Eg(){return typeof window<"u"}function Ou(e){return mN(e)?(e.nodeName||"").toLowerCase():"#document"}function ws(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Qr(e){var t;return(t=(mN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function mN(e){return Eg()?e instanceof Node||e instanceof ws(e).Node:!1}function vr(e){return Eg()?e instanceof Element||e instanceof ws(e).Element:!1}function Yr(e){return Eg()?e instanceof HTMLElement||e instanceof ws(e).HTMLElement:!1}function KA(e){return!Eg()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ws(e).ShadowRoot}const w5=new Set(["inline","contents"]);function Yf(e){const{overflow:t,overflowX:n,overflowY:i,display:s}=yr(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!w5.has(s)}const S5=new Set(["table","td","th"]);function C5(e){return S5.has(Ou(e))}const E5=[":popover-open",":modal"];function Ag(e){return E5.some(t=>{try{return e.matches(t)}catch{return!1}})}const A5=["transform","translate","scale","rotate","perspective"],T5=["transform","translate","scale","rotate","perspective","filter"],R5=["paint","layout","strict","content"];function r_(e){const t=o_(),n=vr(e)?yr(e):e;return A5.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||T5.some(i=>(n.willChange||"").includes(i))||R5.some(i=>(n.contain||"").includes(i))}function k5(e){let t=Ma(e);for(;Yr(t)&&!Eu(t);){if(r_(t))return t;if(Ag(t))return null;t=Ma(t)}return null}function o_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const N5=new Set(["html","body","#document"]);function Eu(e){return N5.has(Ou(e))}function yr(e){return ws(e).getComputedStyle(e)}function Tg(e){return vr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ma(e){if(Ou(e)==="html")return e;const t=e.assignedSlot||e.parentNode||KA(e)&&e.host||Qr(e);return KA(t)?t.host:t}function gN(e){const t=Ma(e);return Eu(t)?e.ownerDocument?e.ownerDocument.body:e.body:Yr(t)&&Yf(t)?t:gN(t)}function _f(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=gN(e),o=s===((i=e.ownerDocument)==null?void 0:i.body),l=ws(s);if(o){const c=Cx(l);return t.concat(l,l.visualViewport||[],Yf(s)?s:[],c&&n?_f(c):[])}return t.concat(s,_f(s,[],n))}function Cx(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function vN(e){const t=yr(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const s=Yr(e),o=s?e.offsetWidth:n,l=s?e.offsetHeight:i,c=Bm(n)!==o||Bm(i)!==l;return c&&(n=o,i=l),{width:n,height:i,$:c}}function a_(e){return vr(e)?e:e.contextElement}function vu(e){const t=a_(e);if(!Yr(t))return qr(1);const n=t.getBoundingClientRect(),{width:i,height:s,$:o}=vN(t);let l=(o?Bm(n.width):n.width)/i,c=(o?Bm(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const O5=qr(0);function yN(e){const t=ws(e);return!o_()||!t.visualViewport?O5:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function P5(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ws(e)?!1:t}function Hl(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=a_(e);let l=qr(1);t&&(i?vr(i)&&(l=vu(i)):l=vu(e));const c=P5(o,n,i)?yN(o):qr(0);let d=(s.left+c.x)/l.x,h=(s.top+c.y)/l.y,g=s.width/l.x,v=s.height/l.y;if(o){const b=ws(o),_=i&&vr(i)?ws(i):i;let C=b,E=Cx(C);for(;E&&i&&_!==C;){const R=vu(E),N=E.getBoundingClientRect(),k=yr(E),O=N.left+(E.clientLeft+parseFloat(k.paddingLeft))*R.x,M=N.top+(E.clientTop+parseFloat(k.paddingTop))*R.y;d*=R.x,h*=R.y,g*=R.x,v*=R.y,d+=O,h+=M,C=ws(E),E=Cx(C)}}return Fm({width:g,height:v,x:d,y:h})}function Rg(e,t){const n=Tg(e).scrollLeft;return t?t.left+n:Hl(Qr(e)).left+n}function bN(e,t){const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-Rg(e,n),s=n.top+t.scrollTop;return{x:i,y:s}}function M5(e){let{elements:t,rect:n,offsetParent:i,strategy:s}=e;const o=s==="fixed",l=Qr(i),c=t?Ag(t.floating):!1;if(i===l||c&&o)return n;let d={scrollLeft:0,scrollTop:0},h=qr(1);const g=qr(0),v=Yr(i);if((v||!v&&!o)&&((Ou(i)!=="body"||Yf(l))&&(d=Tg(i)),Yr(i))){const _=Hl(i);h=vu(i),g.x=_.x+i.clientLeft,g.y=_.y+i.clientTop}const b=l&&!v&&!o?bN(l,d):qr(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+g.x+b.x,y:n.y*h.y-d.scrollTop*h.y+g.y+b.y}}function D5(e){return Array.from(e.getClientRects())}function L5(e){const t=Qr(e),n=Tg(e),i=e.ownerDocument.body,s=vs(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),o=vs(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let l=-n.scrollLeft+Rg(e);const c=-n.scrollTop;return yr(i).direction==="rtl"&&(l+=vs(t.clientWidth,i.clientWidth)-s),{width:s,height:o,x:l,y:c}}const qA=25;function j5(e,t){const n=ws(e),i=Qr(e),s=n.visualViewport;let o=i.clientWidth,l=i.clientHeight,c=0,d=0;if(s){o=s.width,l=s.height;const g=o_();(!g||g&&t==="fixed")&&(c=s.offsetLeft,d=s.offsetTop)}const h=Rg(i);if(h<=0){const g=i.ownerDocument,v=g.body,b=getComputedStyle(v),_=g.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,C=Math.abs(i.clientWidth-v.clientWidth-_);C<=qA&&(o-=C)}else h<=qA&&(o+=h);return{width:o,height:l,x:c,y:d}}const I5=new Set(["absolute","fixed"]);function z5(e,t){const n=Hl(e,!0,t==="fixed"),i=n.top+e.clientTop,s=n.left+e.clientLeft,o=Yr(e)?vu(e):qr(1),l=e.clientWidth*o.x,c=e.clientHeight*o.y,d=s*o.x,h=i*o.y;return{width:l,height:c,x:d,y:h}}function WA(e,t,n){let i;if(t==="viewport")i=j5(e,n);else if(t==="document")i=L5(Qr(e));else if(vr(t))i=z5(t,n);else{const s=yN(e);i={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Fm(i)}function xN(e,t){const n=Ma(e);return n===t||!vr(n)||Eu(n)?!1:yr(n).position==="fixed"||xN(n,t)}function B5(e,t){const n=t.get(e);if(n)return n;let i=_f(e,[],!1).filter(c=>vr(c)&&Ou(c)!=="body"),s=null;const o=yr(e).position==="fixed";let l=o?Ma(e):e;for(;vr(l)&&!Eu(l);){const c=yr(l),d=r_(l);!d&&c.position==="fixed"&&(s=null),(o?!d&&!s:!d&&c.position==="static"&&!!s&&I5.has(s.position)||Yf(l)&&!d&&xN(e,l))?i=i.filter(g=>g!==l):s=c,l=Ma(l)}return t.set(e,i),i}function U5(e){let{element:t,boundary:n,rootBoundary:i,strategy:s}=e;const l=[...n==="clippingAncestors"?Ag(t)?[]:B5(t,this._c):[].concat(n),i],c=l[0],d=l.reduce((h,g)=>{const v=WA(t,g,s);return h.top=vs(v.top,h.top),h.right=Pa(v.right,h.right),h.bottom=Pa(v.bottom,h.bottom),h.left=vs(v.left,h.left),h},WA(t,c,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function F5(e){const{width:t,height:n}=vN(e);return{width:t,height:n}}function V5(e,t,n){const i=Yr(t),s=Qr(t),o=n==="fixed",l=Hl(e,!0,o,t);let c={scrollLeft:0,scrollTop:0};const d=qr(0);function h(){d.x=Rg(s)}if(i||!i&&!o)if((Ou(t)!=="body"||Yf(s))&&(c=Tg(t)),i){const _=Hl(t,!0,o,t);d.x=_.x+t.clientLeft,d.y=_.y+t.clientTop}else s&&h();o&&!i&&s&&h();const g=s&&!i&&!o?bN(s,c):qr(0),v=l.left+c.scrollLeft-d.x-g.x,b=l.top+c.scrollTop-d.y-g.y;return{x:v,y:b,width:l.width,height:l.height}}function yb(e){return yr(e).position==="static"}function YA(e,t){if(!Yr(e)||yr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Qr(e)===n&&(n=n.ownerDocument.body),n}function _N(e,t){const n=ws(e);if(Ag(e))return n;if(!Yr(e)){let s=Ma(e);for(;s&&!Eu(s);){if(vr(s)&&!yb(s))return s;s=Ma(s)}return n}let i=YA(e,t);for(;i&&C5(i)&&yb(i);)i=YA(i,t);return i&&Eu(i)&&yb(i)&&!r_(i)?n:i||k5(e)||n}const $5=async function(e){const t=this.getOffsetParent||_N,n=this.getDimensions,i=await n(e.floating);return{reference:V5(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function H5(e){return yr(e).direction==="rtl"}const G5={convertOffsetParentRelativeRectToViewportRelativeRect:M5,getDocumentElement:Qr,getClippingRect:U5,getOffsetParent:_N,getElementRects:$5,getClientRects:D5,getDimensions:F5,getScale:vu,isElement:vr,isRTL:H5};function wN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function K5(e,t){let n=null,i;const s=Qr(e);function o(){var c;clearTimeout(i),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const h=e.getBoundingClientRect(),{left:g,top:v,width:b,height:_}=h;if(c||t(),!b||!_)return;const C=Fp(v),E=Fp(s.clientWidth-(g+b)),R=Fp(s.clientHeight-(v+_)),N=Fp(g),O={rootMargin:-C+"px "+-E+"px "+-R+"px "+-N+"px",threshold:vs(0,Pa(1,d))||1};let M=!0;function D(V){const z=V[0].intersectionRatio;if(z!==d){if(!M)return l();z?l(!1,z):i=setTimeout(()=>{l(!1,1e-7)},1e3)}z===1&&!wN(h,e.getBoundingClientRect())&&l(),M=!1}try{n=new IntersectionObserver(D,{...O,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,O)}n.observe(e)}return l(!0),o}function q5(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=i,h=a_(e),g=s||o?[...h?_f(h):[],..._f(t)]:[];g.forEach(N=>{s&&N.addEventListener("scroll",n,{passive:!0}),o&&N.addEventListener("resize",n)});const v=h&&c?K5(h,n):null;let b=-1,_=null;l&&(_=new ResizeObserver(N=>{let[k]=N;k&&k.target===h&&_&&(_.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var O;(O=_)==null||O.observe(t)})),n()}),h&&!d&&_.observe(h),_.observe(t));let C,E=d?Hl(e):null;d&&R();function R(){const N=Hl(e);E&&!wN(E,N)&&n(),E=N,C=requestAnimationFrame(R)}return n(),()=>{var N;g.forEach(k=>{s&&k.removeEventListener("scroll",n),o&&k.removeEventListener("resize",n)}),v?.(),(N=_)==null||N.disconnect(),_=null,d&&cancelAnimationFrame(C)}}const W5=y5,Y5=b5,Z5=m5,X5=_5,Q5=g5,ZA=p5,J5=x5,e4=(e,t,n)=>{const i=new Map,s={platform:G5,...n},o={...s.platform,_c:i};return h5(e,t,{...s,platform:o})};var t4=typeof document<"u",n4=function(){},vm=t4?x.useLayoutEffect:n4;function Vm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(!Vm(e[i],t[i]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(t,s[i]))return!1;for(i=n;i--!==0;){const o=s[i];if(!(o==="_owner"&&e.$$typeof)&&!Vm(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function SN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function XA(e,t){const n=SN(e);return Math.round(t*n)/n}function bb(e){const t=x.useRef(e);return vm(()=>{t.current=e}),t}function i4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:s,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:d,open:h}=e,[g,v]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,_]=x.useState(i);Vm(b,i)||_(i);const[C,E]=x.useState(null),[R,N]=x.useState(null),k=x.useCallback(te=>{te!==V.current&&(V.current=te,E(te))},[]),O=x.useCallback(te=>{te!==z.current&&(z.current=te,N(te))},[]),M=o||C,D=l||R,V=x.useRef(null),z=x.useRef(null),I=x.useRef(g),$=d!=null,Z=bb(d),q=bb(s),W=bb(h),ne=x.useCallback(()=>{if(!V.current||!z.current)return;const te={placement:t,strategy:n,middleware:b};q.current&&(te.platform=q.current),e4(V.current,z.current,te).then(de=>{const oe={...de,isPositioned:W.current!==!1};re.current&&!Vm(I.current,oe)&&(I.current=oe,Ji.flushSync(()=>{v(oe)}))})},[b,t,n,q,W]);vm(()=>{h===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,v(te=>({...te,isPositioned:!1})))},[h]);const re=x.useRef(!1);vm(()=>(re.current=!0,()=>{re.current=!1}),[]),vm(()=>{if(M&&(V.current=M),D&&(z.current=D),M&&D){if(Z.current)return Z.current(M,D,ne);ne()}},[M,D,ne,Z,$]);const ye=x.useMemo(()=>({reference:V,floating:z,setReference:k,setFloating:O}),[k,O]),G=x.useMemo(()=>({reference:M,floating:D}),[M,D]),Y=x.useMemo(()=>{const te={position:n,left:0,top:0};if(!G.floating)return te;const de=XA(G.floating,g.x),oe=XA(G.floating,g.y);return c?{...te,transform:"translate("+de+"px, "+oe+"px)",...SN(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:de,top:oe}},[n,c,G.floating,g.x,g.y]);return x.useMemo(()=>({...g,update:ne,refs:ye,elements:G,floatingStyles:Y}),[g,ne,ye,G,Y])}const s4=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:i,padding:s}=typeof e=="function"?e(n):e;return i&&t(i)?i.current!=null?ZA({element:i.current,padding:s}).fn(n):{}:i?ZA({element:i,padding:s}).fn(n):{}}}},r4=(e,t)=>({...W5(e),options:[e,t]}),o4=(e,t)=>({...Y5(e),options:[e,t]}),a4=(e,t)=>({...J5(e),options:[e,t]}),l4=(e,t)=>({...Z5(e),options:[e,t]}),c4=(e,t)=>({...X5(e),options:[e,t]}),u4=(e,t)=>({...Q5(e),options:[e,t]}),d4=(e,t)=>({...s4(e),options:[e,t]});function f4(e){const t=h4(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(m4);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function h4(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=v4(s),c=g4(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var p4=Symbol("radix.slottable");function m4(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===p4}function g4(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function v4(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var y4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],b4=y4.reduce((e,t)=>{const n=f4(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),x4="Arrow",CN=x.forwardRef((e,t)=>{const{children:n,width:i=10,height:s=5,...o}=e;return y.jsx(b4.svg,{...o,ref:t,width:i,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});CN.displayName=x4;var _4=CN;function w4(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,R=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:R,children:_})};h.displayName=o+"Provider";function g(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,g]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,S4(s,...t)]}function S4(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function C4(e){const t=E4(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(T4);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function E4(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=k4(s),c=R4(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var A4=Symbol("radix.slottable");function T4(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===A4}function R4(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function k4(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var N4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],EN=N4.reduce((e,t)=>{const n=C4(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function AN(e){const[t,n]=x.useState(void 0);return Ln(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let l,c;if("borderBoxSize"in o){const d=o.borderBoxSize,h=Array.isArray(d)?d[0]:d;l=h.inlineSize,c=h.blockSize}else l=e.offsetWidth,c=e.offsetHeight;n({width:l,height:c})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else n(void 0)},[e]),t}var l_="Popper",[TN,Pu]=w4(l_),[O4,RN]=TN(l_),kN=e=>{const{__scopePopper:t,children:n}=e,[i,s]=x.useState(null);return y.jsx(O4,{scope:t,anchor:i,onAnchorChange:s,children:n})};kN.displayName=l_;var NN="PopperAnchor",ON=x.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:i,...s}=e,o=RN(NN,n),l=x.useRef(null),c=St(t,l),d=x.useRef(null);return x.useEffect(()=>{const h=d.current;d.current=i?.current||l.current,h!==d.current&&o.onAnchorChange(d.current)}),i?null:y.jsx(EN.div,{...s,ref:c})});ON.displayName=NN;var c_="PopperContent",[P4,M4]=TN(c_),PN=x.forwardRef((e,t)=>{const{__scopePopper:n,side:i="bottom",sideOffset:s=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:g=0,sticky:v="partial",hideWhenDetached:b=!1,updatePositionStrategy:_="optimized",onPlaced:C,...E}=e,R=RN(c_,n),[N,k]=x.useState(null),O=St(t,Se=>k(Se)),[M,D]=x.useState(null),V=AN(M),z=V?.width??0,I=V?.height??0,$=i+(o!=="center"?"-"+o:""),Z=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},q=Array.isArray(h)?h:[h],W=q.length>0,ne={padding:Z,boundary:q.filter(L4),altBoundary:W},{refs:re,floatingStyles:ye,placement:G,isPositioned:Y,middlewareData:te}=i4({strategy:"fixed",placement:$,whileElementsMounted:(...Se)=>q5(...Se,{animationFrame:_==="always"}),elements:{reference:R.anchor},middleware:[r4({mainAxis:s+I,alignmentAxis:l}),d&&o4({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?a4():void 0,...ne}),d&&l4({...ne}),c4({...ne,apply:({elements:Se,rects:je,availableWidth:Me,availableHeight:De})=>{const{width:Ye,height:Ze}=je.reference,Ct=Se.floating.style;Ct.setProperty("--radix-popper-available-width",`${Me}px`),Ct.setProperty("--radix-popper-available-height",`${De}px`),Ct.setProperty("--radix-popper-anchor-width",`${Ye}px`),Ct.setProperty("--radix-popper-anchor-height",`${Ze}px`)}}),M&&d4({element:M,padding:c}),j4({arrowWidth:z,arrowHeight:I}),b&&u4({strategy:"referenceHidden",...ne})]}),[de,oe]=LN(G),K=Ks(C);Ln(()=>{Y&&K?.()},[Y,K]);const ae=te.arrow?.x,be=te.arrow?.y,xe=te.arrow?.centerOffset!==0,[Re,we]=x.useState();return Ln(()=>{N&&we(window.getComputedStyle(N).zIndex)},[N]),y.jsx("div",{ref:re.setFloating,"data-radix-popper-content-wrapper":"",style:{...ye,transform:Y?ye.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[te.transformOrigin?.x,te.transformOrigin?.y].join(" "),...te.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:y.jsx(P4,{scope:n,placedSide:de,onArrowChange:D,arrowX:ae,arrowY:be,shouldHideArrow:xe,children:y.jsx(EN.div,{"data-side":de,"data-align":oe,...E,ref:O,style:{...E.style,animation:Y?void 0:"none"}})})})});PN.displayName=c_;var MN="PopperArrow",D4={top:"bottom",right:"left",bottom:"top",left:"right"},DN=x.forwardRef(function(t,n){const{__scopePopper:i,...s}=t,o=M4(MN,i),l=D4[o.placedSide];return y.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:y.jsx(_4,{...s,ref:n,style:{...s.style,display:"block"}})})});DN.displayName=MN;function L4(e){return e!==null}var j4=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:i,middlewareData:s}=t,l=s.arrow?.centerOffset!==0,c=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[h,g]=LN(n),v={start:"0%",center:"50%",end:"100%"}[g],b=(s.arrow?.x??0)+c/2,_=(s.arrow?.y??0)+d/2;let C="",E="";return h==="bottom"?(C=l?v:`${b}px`,E=`${-d}px`):h==="top"?(C=l?v:`${b}px`,E=`${i.floating.height+d}px`):h==="right"?(C=`${-d}px`,E=l?v:`${_}px`):h==="left"&&(C=`${i.floating.width+d}px`,E=l?v:`${_}px`),{data:{x:C,y:E}}}});function LN(e){const[t,n="center"]=e.split("-");return[t,n]}var kg=kN,u_=ON,d_=PN,f_=DN;function I4(e){const t=z4(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(U4);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function z4(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=V4(s),c=F4(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var B4=Symbol("radix.slottable");function U4(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===B4}function F4(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function V4(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var $4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],H4=$4.reduce((e,t)=>{const n=I4(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),G4="Portal",Zf=x.forwardRef((e,t)=>{const{container:n,...i}=e,[s,o]=x.useState(!1);Ln(()=>o(!0),[]);const l=n||s&&globalThis?.document?.body;return l?XB.createPortal(y.jsx(H4.div,{...i,ref:t}),l):null});Zf.displayName=G4;function K4(e,t){return x.useReducer((n,i)=>t[n][i]??n,e)}var xr=e=>{const{present:t,children:n}=e,i=q4(t),s=typeof n=="function"?n({present:i.isPresent}):x.Children.only(n),o=St(i.ref,W4(s));return typeof n=="function"||i.isPresent?x.cloneElement(s,{ref:o}):null};xr.displayName="Presence";function q4(e){const[t,n]=x.useState(),i=x.useRef(null),s=x.useRef(e),o=x.useRef("none"),l=e?"mounted":"unmounted",[c,d]=K4(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const h=Vp(i.current);o.current=c==="mounted"?h:"none"},[c]),Ln(()=>{const h=i.current,g=s.current;if(g!==e){const b=o.current,_=Vp(h);e?d("MOUNT"):_==="none"||h?.display==="none"?d("UNMOUNT"):d(g&&b!==_?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),Ln(()=>{if(t){let h;const g=t.ownerDocument.defaultView??window,v=_=>{const E=Vp(i.current).includes(CSS.escape(_.animationName));if(_.target===t&&E&&(d("ANIMATION_END"),!s.current)){const R=t.style.animationFillMode;t.style.animationFillMode="forwards",h=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=R)})}},b=_=>{_.target===t&&(o.current=Vp(i.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{g.clearTimeout(h),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:x.useCallback(h=>{i.current=h?getComputedStyle(h):null,n(h)},[])}}function Vp(e){return e?.animationName||"none"}function W4(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function jN(e){const t=Y4(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(X4);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function Y4(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=J4(s),c=Q4(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Z4=Symbol("radix.slottable");function X4(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Z4}function Q4(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function J4(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var eF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xf=eF.reduce((e,t)=>{const n=jN(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function tF(e,t){e&&Ji.flushSync(()=>e.dispatchEvent(t))}function nF(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,R=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:R,children:_})};h.displayName=o+"Provider";function g(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,g]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,iF(s,...t)]}function iF(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function sF(e){const t=rF(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(aF);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function rF(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=cF(s),c=lF(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var oF=Symbol("radix.slottable");function aF(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===oF}function lF(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function cF(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var uF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],IN=uF.reduce((e,t)=>{const n=sF(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),xb="rovingFocusGroup.onEntryFocus",dF={bubbles:!1,cancelable:!0},Qf="RovingFocusGroup",[Ex,zN,fF]=wg(Qf),[hF,BN]=nF(Qf,[fF]),[pF,mF]=hF(Qf),UN=x.forwardRef((e,t)=>y.jsx(Ex.Provider,{scope:e.__scopeRovingFocusGroup,children:y.jsx(Ex.Slot,{scope:e.__scopeRovingFocusGroup,children:y.jsx(gF,{...e,ref:t})})}));UN.displayName=Qf;var gF=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:s=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:g=!1,...v}=e,b=x.useRef(null),_=St(t,b),C=Sg(o),[E,R]=Do({prop:l,defaultProp:c??null,onChange:d,caller:Qf}),[N,k]=x.useState(!1),O=Ks(h),M=zN(n),D=x.useRef(!1),[V,z]=x.useState(0);return x.useEffect(()=>{const I=b.current;if(I)return I.addEventListener(xb,O),()=>I.removeEventListener(xb,O)},[O]),y.jsx(pF,{scope:n,orientation:i,dir:C,loop:s,currentTabStopId:E,onItemFocus:x.useCallback(I=>R(I),[R]),onItemShiftTab:x.useCallback(()=>k(!0),[]),onFocusableItemAdd:x.useCallback(()=>z(I=>I+1),[]),onFocusableItemRemove:x.useCallback(()=>z(I=>I-1),[]),children:y.jsx(IN.div,{tabIndex:N||V===0?-1:0,"data-orientation":i,...v,ref:_,style:{outline:"none",...e.style},onMouseDown:Ie(e.onMouseDown,()=>{D.current=!0}),onFocus:Ie(e.onFocus,I=>{const $=!D.current;if(I.target===I.currentTarget&&$&&!N){const Z=new CustomEvent(xb,dF);if(I.currentTarget.dispatchEvent(Z),!Z.defaultPrevented){const q=M().filter(G=>G.focusable),W=q.find(G=>G.active),ne=q.find(G=>G.id===E),ye=[W,ne,...q].filter(Boolean).map(G=>G.ref.current);$N(ye,g)}}D.current=!1}),onBlur:Ie(e.onBlur,()=>k(!1))})})}),FN="RovingFocusGroupItem",VN=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:s=!1,tabStopId:o,children:l,...c}=e,d=_s(),h=o||d,g=mF(FN,n),v=g.currentTabStopId===h,b=zN(n),{onFocusableItemAdd:_,onFocusableItemRemove:C,currentTabStopId:E}=g;return x.useEffect(()=>{if(i)return _(),()=>C()},[i,_,C]),y.jsx(Ex.ItemSlot,{scope:n,id:h,focusable:i,active:s,children:y.jsx(IN.span,{tabIndex:v?0:-1,"data-orientation":g.orientation,...c,ref:t,onMouseDown:Ie(e.onMouseDown,R=>{i?g.onItemFocus(h):R.preventDefault()}),onFocus:Ie(e.onFocus,()=>g.onItemFocus(h)),onKeyDown:Ie(e.onKeyDown,R=>{if(R.key==="Tab"&&R.shiftKey){g.onItemShiftTab();return}if(R.target!==R.currentTarget)return;const N=bF(R,g.orientation,g.dir);if(N!==void 0){if(R.metaKey||R.ctrlKey||R.altKey||R.shiftKey)return;R.preventDefault();let O=b().filter(M=>M.focusable).map(M=>M.ref.current);if(N==="last")O.reverse();else if(N==="prev"||N==="next"){N==="prev"&&O.reverse();const M=O.indexOf(R.currentTarget);O=g.loop?xF(O,M+1):O.slice(M+1)}setTimeout(()=>$N(O))}}),children:typeof l=="function"?l({isCurrentTabStop:v,hasTabStop:E!=null}):l})})});VN.displayName=FN;var vF={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function yF(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function bF(e,t,n){const i=yF(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return vF[i]}function $N(e,t=!1){const n=document.activeElement;for(const i of e)if(i===n||(i.focus({preventScroll:t}),document.activeElement!==n))return}function xF(e,t){return e.map((n,i)=>e[(t+i)%e.length])}var _F=UN,wF=VN,SF=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Hc=new WeakMap,$p=new WeakMap,Hp={},_b=0,HN=function(e){return e&&(e.host||HN(e.parentNode))},CF=function(e,t){return t.map(function(n){if(e.contains(n))return n;var i=HN(n);return i&&e.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},EF=function(e,t,n,i){var s=CF(t,Array.isArray(e)?e:[e]);Hp[n]||(Hp[n]=new WeakMap);var o=Hp[n],l=[],c=new Set,d=new Set(s),h=function(v){!v||c.has(v)||(c.add(v),h(v.parentNode))};s.forEach(h);var g=function(v){!v||d.has(v)||Array.prototype.forEach.call(v.children,function(b){if(c.has(b))g(b);else try{var _=b.getAttribute(i),C=_!==null&&_!=="false",E=(Hc.get(b)||0)+1,R=(o.get(b)||0)+1;Hc.set(b,E),o.set(b,R),l.push(b),E===1&&C&&$p.set(b,!0),R===1&&b.setAttribute(n,"true"),C||b.setAttribute(i,"true")}catch(N){console.error("aria-hidden: cannot operate on ",b,N)}})};return g(t),c.clear(),_b++,function(){l.forEach(function(v){var b=Hc.get(v)-1,_=o.get(v)-1;Hc.set(v,b),o.set(v,_),b||($p.has(v)||v.removeAttribute(i),$p.delete(v)),_||v.removeAttribute(n)}),_b--,_b||(Hc=new WeakMap,Hc=new WeakMap,$p=new WeakMap,Hp={})}},h_=function(e,t,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),s=SF(e);return s?(i.push.apply(i,Array.from(s.querySelectorAll("[aria-live], script"))),EF(i,s,n,"aria-hidden")):function(){return null}},Hr=function(){return Hr=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Hr.apply(this,arguments)};function Mu(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function AF(e,t,n,i){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(g){try{h(i.next(g))}catch(v){l(v)}}function d(g){try{h(i.throw(g))}catch(v){l(v)}}function h(g){g.done?o(g.value):s(g.value).then(c,d)}h((i=i.apply(e,t||[])).next())})}function TF(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,o;i<s;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))}var ym="right-scroll-bar-position",bm="width-before-scroll-bar",RF="with-scroll-bars-hidden",kF="--removed-body-scroll-bar-size";function wb(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function NF(e,t){var n=x.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(i){var s=n.value;s!==i&&(n.value=i,n.callback(i,s))}}}})[0];return n.callback=t,n.facade}var OF=typeof window<"u"?x.useLayoutEffect:x.useEffect,QA=new WeakMap;function PF(e,t){var n=NF(null,function(i){return e.forEach(function(s){return wb(s,i)})});return OF(function(){var i=QA.get(n);if(i){var s=new Set(i),o=new Set(e),l=n.current;s.forEach(function(c){o.has(c)||wb(c,null)}),o.forEach(function(c){s.has(c)||wb(c,l)})}QA.set(n,e)},[e]),n}function MF(e){return e}function DF(e,t){t===void 0&&(t=MF);var n=[],i=!1,s={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var l=t(o,i);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(o){for(i=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){i=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(o),l=n}var d=function(){var g=l;l=[],g.forEach(o)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(g){l.push(g),h()},filter:function(g){return l=l.filter(g),n}}}};return s}function LF(e){e===void 0&&(e={});var t=DF(null);return t.options=Hr({async:!0,ssr:!1},e),t}var GN=function(e){var t=e.sideCar,n=Mu(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return x.createElement(i,Hr({},n))};GN.isSideCarExport=!0;function jF(e,t){return e.useMedium(t),GN}var KN=LF(),Sb=function(){},Ng=x.forwardRef(function(e,t){var n=x.useRef(null),i=x.useState({onScrollCapture:Sb,onWheelCapture:Sb,onTouchMoveCapture:Sb}),s=i[0],o=i[1],l=e.forwardProps,c=e.children,d=e.className,h=e.removeScrollBar,g=e.enabled,v=e.shards,b=e.sideCar,_=e.noRelative,C=e.noIsolation,E=e.inert,R=e.allowPinchZoom,N=e.as,k=N===void 0?"div":N,O=e.gapMode,M=Mu(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=b,V=PF([n,t]),z=Hr(Hr({},M),s);return x.createElement(x.Fragment,null,g&&x.createElement(D,{sideCar:KN,removeScrollBar:h,shards:v,noRelative:_,noIsolation:C,inert:E,setCallbacks:o,allowPinchZoom:!!R,lockRef:n,gapMode:O}),l?x.cloneElement(x.Children.only(c),Hr(Hr({},z),{ref:V})):x.createElement(k,Hr({},z,{className:d,ref:V}),c))});Ng.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ng.classNames={fullWidth:bm,zeroRight:ym};var IF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zF(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=IF();return t&&e.setAttribute("nonce",t),e}function BF(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function UF(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var FF=function(){var e=0,t=null;return{add:function(n){e==0&&(t=zF())&&(BF(t,n),UF(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},VF=function(){var e=FF();return function(t,n){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},qN=function(){var e=VF(),t=function(n){var i=n.styles,s=n.dynamic;return e(i,s),null};return t},$F={left:0,top:0,right:0,gap:0},Cb=function(e){return parseInt(e||"",10)||0},HF=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Cb(n),Cb(i),Cb(s)]},GF=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return $F;var t=HF(e),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-n+t[2]-t[0])}},KF=qN(),yu="data-scroll-locked",qF=function(e,t,n,i){var s=e.left,o=e.top,l=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(RF,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(c,"px ").concat(i,`;
  }
  body[`).concat(yu,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ym,` {
    right: `).concat(c,"px ").concat(i,`;
  }
  
  .`).concat(bm,` {
    margin-right: `).concat(c,"px ").concat(i,`;
  }
  
  .`).concat(ym," .").concat(ym,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(bm," .").concat(bm,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(yu,`] {
    `).concat(kF,": ").concat(c,`px;
  }
`)},JA=function(){var e=parseInt(document.body.getAttribute(yu)||"0",10);return isFinite(e)?e:0},WF=function(){x.useEffect(function(){return document.body.setAttribute(yu,(JA()+1).toString()),function(){var e=JA()-1;e<=0?document.body.removeAttribute(yu):document.body.setAttribute(yu,e.toString())}},[])},YF=function(e){var t=e.noRelative,n=e.noImportant,i=e.gapMode,s=i===void 0?"margin":i;WF();var o=x.useMemo(function(){return GF(s)},[s]);return x.createElement(KF,{styles:qF(o,!t,s,n?"":"!important")})},Ax=!1;if(typeof window<"u")try{var Gp=Object.defineProperty({},"passive",{get:function(){return Ax=!0,!0}});window.addEventListener("test",Gp,Gp),window.removeEventListener("test",Gp,Gp)}catch{Ax=!1}var Gc=Ax?{passive:!1}:!1,ZF=function(e){return e.tagName==="TEXTAREA"},WN=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!ZF(e)&&n[t]==="visible")},XF=function(e){return WN(e,"overflowY")},QF=function(e){return WN(e,"overflowX")},e1=function(e,t){var n=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var s=YN(e,i);if(s){var o=ZN(e,i),l=o[1],c=o[2];if(l>c)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},JF=function(e){var t=e.scrollTop,n=e.scrollHeight,i=e.clientHeight;return[t,n,i]},eV=function(e){var t=e.scrollLeft,n=e.scrollWidth,i=e.clientWidth;return[t,n,i]},YN=function(e,t){return e==="v"?XF(t):QF(t)},ZN=function(e,t){return e==="v"?JF(t):eV(t)},tV=function(e,t){return e==="h"&&t==="rtl"?-1:1},nV=function(e,t,n,i,s){var o=tV(e,window.getComputedStyle(t).direction),l=o*i,c=n.target,d=t.contains(c),h=!1,g=l>0,v=0,b=0;do{if(!c)break;var _=ZN(e,c),C=_[0],E=_[1],R=_[2],N=E-R-o*C;(C||N)&&YN(e,c)&&(v+=N,b+=C);var k=c.parentNode;c=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(g&&Math.abs(v)<1||!g&&Math.abs(b)<1)&&(h=!0),h},Kp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},t1=function(e){return[e.deltaX,e.deltaY]},n1=function(e){return e&&"current"in e?e.current:e},iV=function(e,t){return e[0]===t[0]&&e[1]===t[1]},sV=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},rV=0,Kc=[];function oV(e){var t=x.useRef([]),n=x.useRef([0,0]),i=x.useRef(),s=x.useState(rV++)[0],o=x.useState(qN)[0],l=x.useRef(e);x.useEffect(function(){l.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var E=TF([e.lockRef.current],(e.shards||[]).map(n1),!0).filter(Boolean);return E.forEach(function(R){return R.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),E.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var c=x.useCallback(function(E,R){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!l.current.allowPinchZoom;var N=Kp(E),k=n.current,O="deltaX"in E?E.deltaX:k[0]-N[0],M="deltaY"in E?E.deltaY:k[1]-N[1],D,V=E.target,z=Math.abs(O)>Math.abs(M)?"h":"v";if("touches"in E&&z==="h"&&V.type==="range")return!1;var I=window.getSelection(),$=I&&I.anchorNode,Z=$?$===V||$.contains(V):!1;if(Z)return!1;var q=e1(z,V);if(!q)return!0;if(q?D=z:(D=z==="v"?"h":"v",q=e1(z,V)),!q)return!1;if(!i.current&&"changedTouches"in E&&(O||M)&&(i.current=D),!D)return!0;var W=i.current||D;return nV(W,R,E,W==="h"?O:M)},[]),d=x.useCallback(function(E){var R=E;if(!(!Kc.length||Kc[Kc.length-1]!==o)){var N="deltaY"in R?t1(R):Kp(R),k=t.current.filter(function(D){return D.name===R.type&&(D.target===R.target||R.target===D.shadowParent)&&iV(D.delta,N)})[0];if(k&&k.should){R.cancelable&&R.preventDefault();return}if(!k){var O=(l.current.shards||[]).map(n1).filter(Boolean).filter(function(D){return D.contains(R.target)}),M=O.length>0?c(R,O[0]):!l.current.noIsolation;M&&R.cancelable&&R.preventDefault()}}},[]),h=x.useCallback(function(E,R,N,k){var O={name:E,delta:R,target:N,should:k,shadowParent:aV(N)};t.current.push(O),setTimeout(function(){t.current=t.current.filter(function(M){return M!==O})},1)},[]),g=x.useCallback(function(E){n.current=Kp(E),i.current=void 0},[]),v=x.useCallback(function(E){h(E.type,t1(E),E.target,c(E,e.lockRef.current))},[]),b=x.useCallback(function(E){h(E.type,Kp(E),E.target,c(E,e.lockRef.current))},[]);x.useEffect(function(){return Kc.push(o),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:b}),document.addEventListener("wheel",d,Gc),document.addEventListener("touchmove",d,Gc),document.addEventListener("touchstart",g,Gc),function(){Kc=Kc.filter(function(E){return E!==o}),document.removeEventListener("wheel",d,Gc),document.removeEventListener("touchmove",d,Gc),document.removeEventListener("touchstart",g,Gc)}},[]);var _=e.removeScrollBar,C=e.inert;return x.createElement(x.Fragment,null,C?x.createElement(o,{styles:sV(s)}):null,_?x.createElement(YF,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function aV(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const lV=jF(KN,oV);var Og=x.forwardRef(function(e,t){return x.createElement(Ng,Hr({},e,{ref:t,sideCar:lV}))});Og.classNames=Ng.classNames;var Tx=["Enter"," "],cV=["ArrowDown","PageUp","Home"],XN=["ArrowUp","PageDown","End"],uV=[...cV,...XN],dV={ltr:[...Tx,"ArrowRight"],rtl:[...Tx,"ArrowLeft"]},fV={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Jf="Menu",[wf,hV,pV]=wg(Jf),[tc,QN]=bU(Jf,[pV,Pu,BN]),eh=Pu(),JN=BN(),[eO,za]=tc(Jf),[mV,th]=tc(Jf),tO=e=>{const{__scopeMenu:t,open:n=!1,children:i,dir:s,onOpenChange:o,modal:l=!0}=e,c=eh(t),[d,h]=x.useState(null),g=x.useRef(!1),v=Ks(o),b=Sg(s);return x.useEffect(()=>{const _=()=>{g.current=!0,document.addEventListener("pointerdown",C,{capture:!0,once:!0}),document.addEventListener("pointermove",C,{capture:!0,once:!0})},C=()=>g.current=!1;return document.addEventListener("keydown",_,{capture:!0}),()=>{document.removeEventListener("keydown",_,{capture:!0}),document.removeEventListener("pointerdown",C,{capture:!0}),document.removeEventListener("pointermove",C,{capture:!0})}},[]),y.jsx(kg,{...c,children:y.jsx(eO,{scope:t,open:n,onOpenChange:v,content:d,onContentChange:h,children:y.jsx(mV,{scope:t,onClose:x.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:g,dir:b,modal:l,children:i})})})};tO.displayName=Jf;var gV="MenuAnchor",p_=x.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e,s=eh(n);return y.jsx(u_,{...s,...i,ref:t})});p_.displayName=gV;var m_="MenuPortal",[vV,nO]=tc(m_,{forceMount:void 0}),iO=e=>{const{__scopeMenu:t,forceMount:n,children:i,container:s}=e,o=za(m_,t);return y.jsx(vV,{scope:t,forceMount:n,children:y.jsx(xr,{present:n||o.open,children:y.jsx(Zf,{asChild:!0,container:s,children:i})})})};iO.displayName=m_;var $s="MenuContent",[yV,g_]=tc($s),sO=x.forwardRef((e,t)=>{const n=nO($s,e.__scopeMenu),{forceMount:i=n.forceMount,...s}=e,o=za($s,e.__scopeMenu),l=th($s,e.__scopeMenu);return y.jsx(wf.Provider,{scope:e.__scopeMenu,children:y.jsx(xr,{present:i||o.open,children:y.jsx(wf.Slot,{scope:e.__scopeMenu,children:l.modal?y.jsx(bV,{...s,ref:t}):y.jsx(xV,{...s,ref:t})})})})}),bV=x.forwardRef((e,t)=>{const n=za($s,e.__scopeMenu),i=x.useRef(null),s=St(t,i);return x.useEffect(()=>{const o=i.current;if(o)return h_(o)},[]),y.jsx(v_,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ie(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),xV=x.forwardRef((e,t)=>{const n=za($s,e.__scopeMenu);return y.jsx(v_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),_V=jN("MenuContent.ScrollLock"),v_=x.forwardRef((e,t)=>{const{__scopeMenu:n,loop:i=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:b,onDismiss:_,disableOutsideScroll:C,...E}=e,R=za($s,n),N=th($s,n),k=eh(n),O=JN(n),M=hV(n),[D,V]=x.useState(null),z=x.useRef(null),I=St(t,z,R.onContentChange),$=x.useRef(0),Z=x.useRef(""),q=x.useRef(0),W=x.useRef(null),ne=x.useRef("right"),re=x.useRef(0),ye=C?Og:x.Fragment,G=C?{as:_V,allowPinchZoom:!0}:void 0,Y=de=>{const oe=Z.current+de,K=M().filter(Se=>!Se.disabled),ae=document.activeElement,be=K.find(Se=>Se.ref.current===ae)?.textValue,xe=K.map(Se=>Se.textValue),Re=MV(xe,oe,be),we=K.find(Se=>Se.textValue===Re)?.ref.current;(function Se(je){Z.current=je,window.clearTimeout($.current),je!==""&&($.current=window.setTimeout(()=>Se(""),1e3))})(oe),we&&setTimeout(()=>we.focus())};x.useEffect(()=>()=>window.clearTimeout($.current),[]),t_();const te=x.useCallback(de=>ne.current===W.current?.side&&LV(de,W.current?.area),[]);return y.jsx(yV,{scope:n,searchRef:Z,onItemEnter:x.useCallback(de=>{te(de)&&de.preventDefault()},[te]),onItemLeave:x.useCallback(de=>{te(de)||(z.current?.focus(),V(null))},[te]),onTriggerLeave:x.useCallback(de=>{te(de)&&de.preventDefault()},[te]),pointerGraceTimerRef:q,onPointerGraceIntentChange:x.useCallback(de=>{W.current=de},[]),children:y.jsx(ye,{...G,children:y.jsx(Cg,{asChild:!0,trapped:s,onMountAutoFocus:Ie(o,de=>{de.preventDefault(),z.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:y.jsx(Wf,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:b,onDismiss:_,children:y.jsx(_F,{asChild:!0,...O,dir:N.dir,orientation:"vertical",loop:i,currentTabStopId:D,onCurrentTabStopIdChange:V,onEntryFocus:Ie(d,de=>{N.isUsingKeyboardRef.current||de.preventDefault()}),preventScrollOnEntryFocus:!0,children:y.jsx(d_,{role:"menu","aria-orientation":"vertical","data-state":_O(R.open),"data-radix-menu-content":"",dir:N.dir,...k,...E,ref:I,style:{outline:"none",...E.style},onKeyDown:Ie(E.onKeyDown,de=>{const K=de.target.closest("[data-radix-menu-content]")===de.currentTarget,ae=de.ctrlKey||de.altKey||de.metaKey,be=de.key.length===1;K&&(de.key==="Tab"&&de.preventDefault(),!ae&&be&&Y(de.key));const xe=z.current;if(de.target!==xe||!uV.includes(de.key))return;de.preventDefault();const we=M().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);XN.includes(de.key)&&we.reverse(),OV(we)}),onBlur:Ie(e.onBlur,de=>{de.currentTarget.contains(de.target)||(window.clearTimeout($.current),Z.current="")}),onPointerMove:Ie(e.onPointerMove,Sf(de=>{const oe=de.target,K=re.current!==de.clientX;if(de.currentTarget.contains(oe)&&K){const ae=de.clientX>re.current?"right":"left";ne.current=ae,re.current=de.clientX}}))})})})})})})});sO.displayName=$s;var wV="MenuGroup",y_=x.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e;return y.jsx(Xf.div,{role:"group",...i,ref:t})});y_.displayName=wV;var SV="MenuLabel",rO=x.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e;return y.jsx(Xf.div,{...i,ref:t})});rO.displayName=SV;var $m="MenuItem",i1="menu.itemSelect",Pg=x.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:i,...s}=e,o=x.useRef(null),l=th($m,e.__scopeMenu),c=g_($m,e.__scopeMenu),d=St(t,o),h=x.useRef(!1),g=()=>{const v=o.current;if(!n&&v){const b=new CustomEvent(i1,{bubbles:!0,cancelable:!0});v.addEventListener(i1,_=>i?.(_),{once:!0}),tF(v,b),b.defaultPrevented?h.current=!1:l.onClose()}};return y.jsx(oO,{...s,ref:d,disabled:n,onClick:Ie(e.onClick,g),onPointerDown:v=>{e.onPointerDown?.(v),h.current=!0},onPointerUp:Ie(e.onPointerUp,v=>{h.current||v.currentTarget?.click()}),onKeyDown:Ie(e.onKeyDown,v=>{const b=c.searchRef.current!=="";n||b&&v.key===" "||Tx.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});Pg.displayName=$m;var oO=x.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:i=!1,textValue:s,...o}=e,l=g_($m,n),c=JN(n),d=x.useRef(null),h=St(t,d),[g,v]=x.useState(!1),[b,_]=x.useState("");return x.useEffect(()=>{const C=d.current;C&&_((C.textContent??"").trim())},[o.children]),y.jsx(wf.ItemSlot,{scope:n,disabled:i,textValue:s??b,children:y.jsx(wF,{asChild:!0,...c,focusable:!i,children:y.jsx(Xf.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...o,ref:h,onPointerMove:Ie(e.onPointerMove,Sf(C=>{i?l.onItemLeave(C):(l.onItemEnter(C),C.defaultPrevented||C.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ie(e.onPointerLeave,Sf(C=>l.onItemLeave(C))),onFocus:Ie(e.onFocus,()=>v(!0)),onBlur:Ie(e.onBlur,()=>v(!1))})})})}),CV="MenuCheckboxItem",aO=x.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:i,...s}=e;return y.jsx(fO,{scope:e.__scopeMenu,checked:n,children:y.jsx(Pg,{role:"menuitemcheckbox","aria-checked":Hm(n)?"mixed":n,...s,ref:t,"data-state":__(n),onSelect:Ie(s.onSelect,()=>i?.(Hm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});aO.displayName=CV;var lO="MenuRadioGroup",[EV,AV]=tc(lO,{value:void 0,onValueChange:()=>{}}),cO=x.forwardRef((e,t)=>{const{value:n,onValueChange:i,...s}=e,o=Ks(i);return y.jsx(EV,{scope:e.__scopeMenu,value:n,onValueChange:o,children:y.jsx(y_,{...s,ref:t})})});cO.displayName=lO;var uO="MenuRadioItem",dO=x.forwardRef((e,t)=>{const{value:n,...i}=e,s=AV(uO,e.__scopeMenu),o=n===s.value;return y.jsx(fO,{scope:e.__scopeMenu,checked:o,children:y.jsx(Pg,{role:"menuitemradio","aria-checked":o,...i,ref:t,"data-state":__(o),onSelect:Ie(i.onSelect,()=>s.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});dO.displayName=uO;var b_="MenuItemIndicator",[fO,TV]=tc(b_,{checked:!1}),hO=x.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:i,...s}=e,o=TV(b_,n);return y.jsx(xr,{present:i||Hm(o.checked)||o.checked===!0,children:y.jsx(Xf.span,{...s,ref:t,"data-state":__(o.checked)})})});hO.displayName=b_;var RV="MenuSeparator",pO=x.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e;return y.jsx(Xf.div,{role:"separator","aria-orientation":"horizontal",...i,ref:t})});pO.displayName=RV;var kV="MenuArrow",mO=x.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e,s=eh(n);return y.jsx(f_,{...s,...i,ref:t})});mO.displayName=kV;var x_="MenuSub",[NV,gO]=tc(x_),vO=e=>{const{__scopeMenu:t,children:n,open:i=!1,onOpenChange:s}=e,o=za(x_,t),l=eh(t),[c,d]=x.useState(null),[h,g]=x.useState(null),v=Ks(s);return x.useEffect(()=>(o.open===!1&&v(!1),()=>v(!1)),[o.open,v]),y.jsx(kg,{...l,children:y.jsx(eO,{scope:t,open:i,onOpenChange:v,content:h,onContentChange:g,children:y.jsx(NV,{scope:t,contentId:_s(),triggerId:_s(),trigger:c,onTriggerChange:d,children:n})})})};vO.displayName=x_;var Qd="MenuSubTrigger",yO=x.forwardRef((e,t)=>{const n=za(Qd,e.__scopeMenu),i=th(Qd,e.__scopeMenu),s=gO(Qd,e.__scopeMenu),o=g_(Qd,e.__scopeMenu),l=x.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=o,h={__scopeMenu:e.__scopeMenu},g=x.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return x.useEffect(()=>g,[g]),x.useEffect(()=>{const v=c.current;return()=>{window.clearTimeout(v),d(null)}},[c,d]),y.jsx(p_,{asChild:!0,...h,children:y.jsx(oO,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":_O(n.open),...e,ref:Gn(t,s.onTriggerChange),onClick:v=>{e.onClick?.(v),!(e.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ie(e.onPointerMove,Sf(v=>{o.onItemEnter(v),!v.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(o.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),g()},100))})),onPointerLeave:Ie(e.onPointerLeave,Sf(v=>{g();const b=n.content?.getBoundingClientRect();if(b){const _=n.content?.dataset.side,C=_==="right",E=C?-5:5,R=b[C?"left":"right"],N=b[C?"right":"left"];o.onPointerGraceIntentChange({area:[{x:v.clientX+E,y:v.clientY},{x:R,y:b.top},{x:N,y:b.top},{x:N,y:b.bottom},{x:R,y:b.bottom}],side:_}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(v),v.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Ie(e.onKeyDown,v=>{const b=o.searchRef.current!=="";e.disabled||b&&v.key===" "||dV[i.dir].includes(v.key)&&(n.onOpenChange(!0),n.content?.focus(),v.preventDefault())})})})});yO.displayName=Qd;var bO="MenuSubContent",xO=x.forwardRef((e,t)=>{const n=nO($s,e.__scopeMenu),{forceMount:i=n.forceMount,...s}=e,o=za($s,e.__scopeMenu),l=th($s,e.__scopeMenu),c=gO(bO,e.__scopeMenu),d=x.useRef(null),h=St(t,d);return y.jsx(wf.Provider,{scope:e.__scopeMenu,children:y.jsx(xr,{present:i||o.open,children:y.jsx(wf.Slot,{scope:e.__scopeMenu,children:y.jsx(v_,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:h,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{l.isUsingKeyboardRef.current&&d.current?.focus(),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:Ie(e.onFocusOutside,g=>{g.target!==c.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Ie(e.onEscapeKeyDown,g=>{l.onClose(),g.preventDefault()}),onKeyDown:Ie(e.onKeyDown,g=>{const v=g.currentTarget.contains(g.target),b=fV[l.dir].includes(g.key);v&&b&&(o.onOpenChange(!1),c.trigger?.focus(),g.preventDefault())})})})})})});xO.displayName=bO;function _O(e){return e?"open":"closed"}function Hm(e){return e==="indeterminate"}function __(e){return Hm(e)?"indeterminate":e?"checked":"unchecked"}function OV(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function PV(e,t){return e.map((n,i)=>e[(t+i)%e.length])}function MV(e,t,n){const s=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let l=PV(e,Math.max(o,0));s.length===1&&(l=l.filter(h=>h!==n));const d=l.find(h=>h.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function DV(e,t){const{x:n,y:i}=e;let s=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const c=t[o],d=t[l],h=c.x,g=c.y,v=d.x,b=d.y;g>i!=b>i&&n<(v-h)*(i-g)/(b-g)+h&&(s=!s)}return s}function LV(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return DV(n,t)}function Sf(e){return t=>t.pointerType==="mouse"?e(t):void 0}var jV=tO,IV=p_,zV=iO,BV=sO,UV=y_,FV=rO,VV=Pg,$V=aO,HV=cO,GV=dO,KV=hO,qV=pO,WV=mO,YV=vO,ZV=yO,XV=xO,Mg="DropdownMenu",[QV]=J3(Mg,[QN]),Ei=QN(),[JV,wO]=QV(Mg),SO=e=>{const{__scopeDropdownMenu:t,children:n,dir:i,open:s,defaultOpen:o,onOpenChange:l,modal:c=!0}=e,d=Ei(t),h=x.useRef(null),[g,v]=Do({prop:s,defaultProp:o??!1,onChange:l,caller:Mg});return y.jsx(JV,{scope:t,triggerId:_s(),triggerRef:h,contentId:_s(),open:g,onOpenChange:v,onOpenToggle:x.useCallback(()=>v(b=>!b),[v]),modal:c,children:y.jsx(jV,{...d,open:g,onOpenChange:v,dir:i,modal:c,children:n})})};SO.displayName=Mg;var CO="DropdownMenuTrigger",EO=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:i=!1,...s}=e,o=wO(CO,n),l=Ei(n);return y.jsx(IV,{asChild:!0,...l,children:y.jsx(dU.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...s,ref:Gn(t,o.triggerRef),onPointerDown:Ie(e.onPointerDown,c=>{!i&&c.button===0&&c.ctrlKey===!1&&(o.onOpenToggle(),o.open||c.preventDefault())}),onKeyDown:Ie(e.onKeyDown,c=>{i||(["Enter"," "].includes(c.key)&&o.onOpenToggle(),c.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});EO.displayName=CO;var e$="DropdownMenuPortal",AO=e=>{const{__scopeDropdownMenu:t,...n}=e,i=Ei(t);return y.jsx(zV,{...i,...n})};AO.displayName=e$;var TO="DropdownMenuContent",RO=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=wO(TO,n),o=Ei(n),l=x.useRef(!1);return y.jsx(BV,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...i,ref:t,onCloseAutoFocus:Ie(e.onCloseAutoFocus,c=>{l.current||s.triggerRef.current?.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:Ie(e.onInteractOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,g=d.button===2||h;(!s.modal||g)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});RO.displayName=TO;var t$="DropdownMenuGroup",kO=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ei(n);return y.jsx(UV,{...s,...i,ref:t})});kO.displayName=t$;var n$="DropdownMenuLabel",i$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ei(n);return y.jsx(FV,{...s,...i,ref:t})});i$.displayName=n$;var s$="DropdownMenuItem",NO=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ei(n);return y.jsx(VV,{...s,...i,ref:t})});NO.displayName=s$;var r$="DropdownMenuCheckboxItem",o$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ei(n);return y.jsx($V,{...s,...i,ref:t})});o$.displayName=r$;var a$="DropdownMenuRadioGroup",l$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ei(n);return y.jsx(HV,{...s,...i,ref:t})});l$.displayName=a$;var c$="DropdownMenuRadioItem",u$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ei(n);return y.jsx(GV,{...s,...i,ref:t})});u$.displayName=c$;var d$="DropdownMenuItemIndicator",f$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ei(n);return y.jsx(KV,{...s,...i,ref:t})});f$.displayName=d$;var h$="DropdownMenuSeparator",OO=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ei(n);return y.jsx(qV,{...s,...i,ref:t})});OO.displayName=h$;var p$="DropdownMenuArrow",m$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ei(n);return y.jsx(WV,{...s,...i,ref:t})});m$.displayName=p$;var g$=e=>{const{__scopeDropdownMenu:t,children:n,open:i,onOpenChange:s,defaultOpen:o}=e,l=Ei(t),[c,d]=Do({prop:i,defaultProp:o??!1,onChange:s,caller:"DropdownMenuSub"});return y.jsx(YV,{...l,open:c,onOpenChange:d,children:n})},v$="DropdownMenuSubTrigger",PO=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ei(n);return y.jsx(ZV,{...s,...i,ref:t})});PO.displayName=v$;var y$="DropdownMenuSubContent",MO=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ei(n);return y.jsx(XV,{...s,...i,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});MO.displayName=y$;var b$=SO,x$=EO,DO=AO,_$=RO,w$=kO,S$=NO,C$=OO,E$=g$,A$=PO,T$=MO;const LO=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim();const R$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const k$=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase());const s1=e=>{const t=k$(e);return t.charAt(0).toUpperCase()+t.slice(1)};var N$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const O$=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const P$=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:o,iconNode:l,...c},d)=>x.createElement("svg",{ref:d,...N$,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:LO("lucide",s),...!o&&!O$(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,g])=>x.createElement(h,g)),...Array.isArray(o)?o:[o]]));const rt=(e,t)=>{const n=x.forwardRef(({className:i,...s},o)=>x.createElement(P$,{ref:o,iconNode:t,className:LO(`lucide-${R$(s1(e))}`,`lucide-${e}`,i),...s}));return n.displayName=s1(e),n};const M$=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],w_=rt("arrow-left",M$);const D$=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],L$=rt("arrow-up-down",D$);const j$=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],I$=rt("award",j$);const z$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],B$=rt("calendar-days",z$);const U$=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],jO=rt("check",U$);const F$=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Cf=rt("chevron-down",F$);const V$=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],S_=rt("chevron-left",V$);const $$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Du=rt("chevron-right",$$);const H$=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],IO=rt("chevron-up",H$);const G$=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zO=rt("circle-check-big",G$);const K$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],q$=rt("circle-check",K$);const W$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],Y$=rt("clock",W$);const Z$=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],X$=rt("crown",Z$);const Q$=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],J$=rt("database",Q$);const e6=[["path",{d:"M15 2c-1.35 1.5-2.092 3-2.5 4.5L14 8",key:"1bivrr"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c3.333-3 6.667-3 10-3",key:"nxix30"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M22 9c-1.5 1.35-3 2.092-4.5 2.5l-1-1",key:"18cutr"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.35-1.5 2.092-3 2.5-4.5L10 16",key:"rlvei3"}]],BO=rt("dna-off",e6);const t6=[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]],UO=rt("dna",t6);const n6=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],i6=rt("eye",n6);const s6=[["path",{d:"M6 3v12",key:"qpgusn"}],["path",{d:"M18 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",key:"1d02ji"}],["path",{d:"M6 21a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",key:"chk6ph"}],["path",{d:"M15 6a9 9 0 0 0-9 9",key:"or332x"}],["path",{d:"M18 15v6",key:"9wciyi"}],["path",{d:"M21 18h-6",key:"139f0c"}]],r6=rt("git-branch-plus",s6);const o6=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],FO=rt("grip-vertical",o6);const a6=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Gm=rt("heart",a6);const l6=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]],VO=rt("image-off",l6);const c6=[["path",{d:"m22 11-1.296-1.296a2.4 2.4 0 0 0-3.408 0L11 16",key:"9kzy35"}],["path",{d:"M4 8a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2",key:"1t0f0t"}],["circle",{cx:"13",cy:"7",r:"1",fill:"currentColor",key:"1obus6"}],["rect",{x:"8",y:"2",width:"14",height:"14",rx:"2",key:"1gvhby"}]],C_=rt("images",c6);const u6=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],d6=rt("image",u6);const f6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],E_=rt("info",f6);const h6=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],p6=rt("lightbulb",h6);const m6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],$O=rt("loader-circle",m6);const g6=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],nh=rt("loader",g6);const v6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],y6=rt("lock",v6);const b6=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],x6=rt("log-in",b6);const _6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],r1=rt("log-out",_6);const w6=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],S6=rt("menu",w6);const C6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],HO=rt("pencil",C6);const E6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Km=rt("plus",E6);const A6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],GO=rt("rotate-ccw",A6);const T6=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],Rx=rt("route",T6);const R6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],KO=rt("search",R6);const k6=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],N6=rt("settings",k6);const O6=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],A_=rt("shuffle",O6);const P6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],M6=rt("target",P6);const D6=[["path",{d:"m10.065 12.493-6.18 1.318a.934.934 0 0 1-1.108-.702l-.537-2.15a1.07 1.07 0 0 1 .691-1.265l13.504-4.44",key:"k4qptu"}],["path",{d:"m13.56 11.747 4.332-.924",key:"19l80z"}],["path",{d:"m16 21-3.105-6.21",key:"7oh9d"}],["path",{d:"M16.485 5.94a2 2 0 0 1 1.455-2.425l1.09-.272a1 1 0 0 1 1.212.727l1.515 6.06a1 1 0 0 1-.727 1.213l-1.09.272a2 2 0 0 1-2.425-1.455z",key:"m7xp4m"}],["path",{d:"m6.158 8.633 1.114 4.456",key:"74o979"}],["path",{d:"m8 21 3.105-6.21",key:"1fvxut"}],["circle",{cx:"12",cy:"13",r:"2",key:"1c1ljs"}]],L6=rt("telescope",D6);const j6=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],I6=rt("trending-up",j6);const z6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],qO=rt("triangle-alert",z6);const B6=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],T_=rt("trophy",B6);const U6=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],F6=rt("volume-2",U6);const V6=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],$6=rt("volume-x",V6);const H6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Gl=rt("x",H6);const G6=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],K6=rt("zap",G6);function WO(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=WO(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function YO(){for(var e,t,n=0,i="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=WO(e))&&(i&&(i+=" "),i+=t);return i}const q6=(e,t)=>{const n=new Array(e.length+t.length);for(let i=0;i<e.length;i++)n[i]=e[i];for(let i=0;i<t.length;i++)n[e.length+i]=t[i];return n},W6=(e,t)=>({classGroupId:e,validator:t}),ZO=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),qm="-",o1=[],Y6="arbitrary..",Z6=e=>{const t=Q6(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return X6(l);const c=l.split(qm),d=c[0]===""&&c.length>1?1:0;return XO(c,d,t)},getConflictingClassGroupIds:(l,c)=>{if(c){const d=i[l],h=n[l];return d?h?q6(h,d):d:h||o1}return n[l]||o1}}},XO=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const s=e[t],o=n.nextPart.get(s);if(o){const h=XO(e,t+1,o);if(h)return h}const l=n.validators;if(l===null)return;const c=t===0?e.join(qm):e.slice(t).join(qm),d=l.length;for(let h=0;h<d;h++){const g=l[h];if(g.validator(c))return g.classGroupId}},X6=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),i=t.slice(0,n);return i?Y6+i:void 0})(),Q6=e=>{const{theme:t,classGroups:n}=e;return J6(n,t)},J6=(e,t)=>{const n=ZO();for(const i in e){const s=e[i];R_(s,n,i,t)}return n},R_=(e,t,n,i)=>{const s=e.length;for(let o=0;o<s;o++){const l=e[o];eH(l,t,n,i)}},eH=(e,t,n,i)=>{if(typeof e=="string"){tH(e,t,n);return}if(typeof e=="function"){nH(e,t,n,i);return}iH(e,t,n,i)},tH=(e,t,n)=>{const i=e===""?t:QO(t,e);i.classGroupId=n},nH=(e,t,n,i)=>{if(sH(e)){R_(e(i),t,n,i);return}t.validators===null&&(t.validators=[]),t.validators.push(W6(n,e))},iH=(e,t,n,i)=>{const s=Object.entries(e),o=s.length;for(let l=0;l<o;l++){const[c,d]=s[l];R_(d,QO(t,c),n,i)}},QO=(e,t)=>{let n=e;const i=t.split(qm),s=i.length;for(let o=0;o<s;o++){const l=i[o];let c=n.nextPart.get(l);c||(c=ZO(),n.nextPart.set(l,c)),n=c}return n},sH=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,rH=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),i=Object.create(null);const s=(o,l)=>{n[o]=l,t++,t>e&&(t=0,i=n,n=Object.create(null))};return{get(o){let l=n[o];if(l!==void 0)return l;if((l=i[o])!==void 0)return s(o,l),l},set(o,l){o in n?n[o]=l:s(o,l)}}},kx="!",a1=":",oH=[],l1=(e,t,n,i,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:i,isExternal:s}),aH=e=>{const{prefix:t,experimentalParseClassName:n}=e;let i=s=>{const o=[];let l=0,c=0,d=0,h;const g=s.length;for(let E=0;E<g;E++){const R=s[E];if(l===0&&c===0){if(R===a1){o.push(s.slice(d,E)),d=E+1;continue}if(R==="/"){h=E;continue}}R==="["?l++:R==="]"?l--:R==="("?c++:R===")"&&c--}const v=o.length===0?s:s.slice(d);let b=v,_=!1;v.endsWith(kx)?(b=v.slice(0,-1),_=!0):v.startsWith(kx)&&(b=v.slice(1),_=!0);const C=h&&h>d?h-d:void 0;return l1(o,_,b,C)};if(t){const s=t+a1,o=i;i=l=>l.startsWith(s)?o(l.slice(s.length)):l1(oH,!1,l,void 0,!0)}if(n){const s=i;i=o=>n({className:o,parseClassName:s})}return i},lH=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,i)=>{t.set(n,1e6+i)}),n=>{const i=[];let s=[];for(let o=0;o<n.length;o++){const l=n[o],c=l[0]==="[",d=t.has(l);c||d?(s.length>0&&(s.sort(),i.push(...s),s=[]),i.push(l)):s.push(l)}return s.length>0&&(s.sort(),i.push(...s)),i}},cH=e=>({cache:rH(e.cacheSize),parseClassName:aH(e),sortModifiers:lH(e),...Z6(e)}),uH=/\s+/,dH=(e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:s,sortModifiers:o}=t,l=[],c=e.trim().split(uH);let d="";for(let h=c.length-1;h>=0;h-=1){const g=c[h],{isExternal:v,modifiers:b,hasImportantModifier:_,baseClassName:C,maybePostfixModifierPosition:E}=n(g);if(v){d=g+(d.length>0?" "+d:d);continue}let R=!!E,N=i(R?C.substring(0,E):C);if(!N){if(!R){d=g+(d.length>0?" "+d:d);continue}if(N=i(C),!N){d=g+(d.length>0?" "+d:d);continue}R=!1}const k=b.length===0?"":b.length===1?b[0]:o(b).join(":"),O=_?k+kx:k,M=O+N;if(l.indexOf(M)>-1)continue;l.push(M);const D=s(N,R);for(let V=0;V<D.length;++V){const z=D[V];l.push(O+z)}d=g+(d.length>0?" "+d:d)}return d},fH=(...e)=>{let t=0,n,i,s="";for(;t<e.length;)(n=e[t++])&&(i=JO(n))&&(s&&(s+=" "),s+=i);return s},JO=e=>{if(typeof e=="string")return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=JO(e[i]))&&(n&&(n+=" "),n+=t);return n},hH=(e,...t)=>{let n,i,s,o;const l=d=>{const h=t.reduce((g,v)=>v(g),e());return n=cH(h),i=n.cache.get,s=n.cache.set,o=c,c(d)},c=d=>{const h=i(d);if(h)return h;const g=dH(d,n);return s(d,g),g};return o=l,(...d)=>o(fH(...d))},pH=[],Bn=e=>{const t=n=>n[e]||pH;return t.isThemeGetter=!0,t},eP=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,tP=/^\((?:(\w[\w-]*):)?(.+)\)$/i,mH=/^\d+(?:\.\d+)?\/\d+(?:\.\d+)?$/,gH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,bH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,va=e=>mH.test(e),ht=e=>!!e&&!Number.isNaN(Number(e)),ya=e=>!!e&&Number.isInteger(Number(e)),Eb=e=>e.endsWith("%")&&ht(e.slice(0,-1)),Ao=e=>gH.test(e),nP=()=>!0,_H=e=>vH.test(e)&&!yH.test(e),k_=()=>!1,wH=e=>bH.test(e),SH=e=>xH.test(e),CH=e=>!Fe(e)&&!$e(e),EH=e=>Ba(e,rP,k_),Fe=e=>eP.test(e),Sl=e=>Ba(e,oP,_H),c1=e=>Ba(e,MH,ht),AH=e=>Ba(e,lP,nP),TH=e=>Ba(e,aP,k_),u1=e=>Ba(e,iP,k_),RH=e=>Ba(e,sP,SH),qp=e=>Ba(e,cP,wH),$e=e=>tP.test(e),qd=e=>nc(e,oP),kH=e=>nc(e,aP),d1=e=>nc(e,iP),NH=e=>nc(e,rP),OH=e=>nc(e,sP),Wp=e=>nc(e,cP,!0),PH=e=>nc(e,lP,!0),Ba=(e,t,n)=>{const i=eP.exec(e);return i?i[1]?t(i[1]):n(i[2]):!1},nc=(e,t,n=!1)=>{const i=tP.exec(e);return i?i[1]?t(i[1]):n:!1},iP=e=>e==="position"||e==="percentage",sP=e=>e==="image"||e==="url",rP=e=>e==="length"||e==="size"||e==="bg-size",oP=e=>e==="length",MH=e=>e==="number",aP=e=>e==="family-name",lP=e=>e==="number"||e==="weight",cP=e=>e==="shadow",DH=()=>{const e=Bn("color"),t=Bn("font"),n=Bn("text"),i=Bn("font-weight"),s=Bn("tracking"),o=Bn("leading"),l=Bn("breakpoint"),c=Bn("container"),d=Bn("spacing"),h=Bn("radius"),g=Bn("shadow"),v=Bn("inset-shadow"),b=Bn("text-shadow"),_=Bn("drop-shadow"),C=Bn("blur"),E=Bn("perspective"),R=Bn("aspect"),N=Bn("ease"),k=Bn("animate"),O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...M(),$e,Fe],V=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],I=()=>[$e,Fe,d],$=()=>[va,"full","auto",...I()],Z=()=>[ya,"none","subgrid",$e,Fe],q=()=>["auto",{span:["full",ya,$e,Fe]},ya,$e,Fe],W=()=>[ya,"auto",$e,Fe],ne=()=>["auto","min","max","fr",$e,Fe],re=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ye=()=>["start","end","center","stretch","center-safe","end-safe"],G=()=>["auto",...I()],Y=()=>[va,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],te=()=>[va,"screen","full","dvw","lvw","svw","min","max","fit",...I()],de=()=>[va,"screen","full","lh","dvh","lvh","svh","min","max","fit",...I()],oe=()=>[e,$e,Fe],K=()=>[...M(),d1,u1,{position:[$e,Fe]}],ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],be=()=>["auto","cover","contain",NH,EH,{size:[$e,Fe]}],xe=()=>[Eb,qd,Sl],Re=()=>["","none","full",h,$e,Fe],we=()=>["",ht,qd,Sl],Se=()=>["solid","dashed","dotted","double"],je=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Me=()=>[ht,Eb,d1,u1],De=()=>["","none",C,$e,Fe],Ye=()=>["none",ht,$e,Fe],Ze=()=>["none",ht,$e,Fe],Ct=()=>[ht,$e,Fe],yt=()=>[va,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ao],breakpoint:[Ao],color:[nP],container:[Ao],"drop-shadow":[Ao],ease:["in","out","in-out"],font:[CH],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ao],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ao],shadow:[Ao],spacing:["px",ht],text:[Ao],"text-shadow":[Ao],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",va,Fe,$e,R]}],container:["container"],columns:[{columns:[ht,Fe,$e,c]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:$()}],"inset-x":[{"inset-x":$()}],"inset-y":[{"inset-y":$()}],start:[{"inset-s":$(),start:$()}],end:[{"inset-e":$(),end:$()}],"inset-bs":[{"inset-bs":$()}],"inset-be":[{"inset-be":$()}],top:[{top:$()}],right:[{right:$()}],bottom:[{bottom:$()}],left:[{left:$()}],visibility:["visible","invisible","collapse"],z:[{z:[ya,"auto",$e,Fe]}],basis:[{basis:[va,"full","auto",c,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ht,va,"auto","initial","none",Fe]}],grow:[{grow:["",ht,$e,Fe]}],shrink:[{shrink:["",ht,$e,Fe]}],order:[{order:[ya,"first","last","none",$e,Fe]}],"grid-cols":[{"grid-cols":Z()}],"col-start-end":[{col:q()}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":Z()}],"row-start-end":[{row:q()}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ne()}],"auto-rows":[{"auto-rows":ne()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...re(),"normal"]}],"justify-items":[{"justify-items":[...ye(),"normal"]}],"justify-self":[{"justify-self":["auto",...ye()]}],"align-content":[{content:["normal",...re()]}],"align-items":[{items:[...ye(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ye(),{baseline:["","last"]}]}],"place-content":[{"place-content":re()}],"place-items":[{"place-items":[...ye(),"baseline"]}],"place-self":[{"place-self":["auto",...ye()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pbs:[{pbs:I()}],pbe:[{pbe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:G()}],mx:[{mx:G()}],my:[{my:G()}],ms:[{ms:G()}],me:[{me:G()}],mbs:[{mbs:G()}],mbe:[{mbe:G()}],mt:[{mt:G()}],mr:[{mr:G()}],mb:[{mb:G()}],ml:[{ml:G()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],"inline-size":[{inline:["auto",...te()]}],"min-inline-size":[{"min-inline":["auto",...te()]}],"max-inline-size":[{"max-inline":["none",...te()]}],"block-size":[{block:["auto",...de()]}],"min-block-size":[{"min-block":["auto",...de()]}],"max-block-size":[{"max-block":["none",...de()]}],w:[{w:[c,"screen",...Y()]}],"min-w":[{"min-w":[c,"screen","none",...Y()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...Y()]}],h:[{h:["screen","lh",...Y()]}],"min-h":[{"min-h":["screen","lh","none",...Y()]}],"max-h":[{"max-h":["screen","lh",...Y()]}],"font-size":[{text:["base",n,qd,Sl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,PH,AH]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Eb,Fe]}],"font-family":[{font:[kH,TH,t]}],"font-features":[{"font-features":[Fe]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,$e,Fe]}],"line-clamp":[{"line-clamp":[ht,"none",$e,c1]}],leading:[{leading:[o,...I()]}],"list-image":[{"list-image":["none",$e,Fe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",$e,Fe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:oe()}],"text-color":[{text:oe()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Se(),"wavy"]}],"text-decoration-thickness":[{decoration:[ht,"from-font","auto",$e,Sl]}],"text-decoration-color":[{decoration:oe()}],"underline-offset":[{"underline-offset":[ht,"auto",$e,Fe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e,Fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e,Fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:ae()}],"bg-size":[{bg:be()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ya,$e,Fe],radial:["",$e,Fe],conic:[ya,$e,Fe]},OH,RH]}],"bg-color":[{bg:oe()}],"gradient-from-pos":[{from:xe()}],"gradient-via-pos":[{via:xe()}],"gradient-to-pos":[{to:xe()}],"gradient-from":[{from:oe()}],"gradient-via":[{via:oe()}],"gradient-to":[{to:oe()}],rounded:[{rounded:Re()}],"rounded-s":[{"rounded-s":Re()}],"rounded-e":[{"rounded-e":Re()}],"rounded-t":[{"rounded-t":Re()}],"rounded-r":[{"rounded-r":Re()}],"rounded-b":[{"rounded-b":Re()}],"rounded-l":[{"rounded-l":Re()}],"rounded-ss":[{"rounded-ss":Re()}],"rounded-se":[{"rounded-se":Re()}],"rounded-ee":[{"rounded-ee":Re()}],"rounded-es":[{"rounded-es":Re()}],"rounded-tl":[{"rounded-tl":Re()}],"rounded-tr":[{"rounded-tr":Re()}],"rounded-br":[{"rounded-br":Re()}],"rounded-bl":[{"rounded-bl":Re()}],"border-w":[{border:we()}],"border-w-x":[{"border-x":we()}],"border-w-y":[{"border-y":we()}],"border-w-s":[{"border-s":we()}],"border-w-e":[{"border-e":we()}],"border-w-bs":[{"border-bs":we()}],"border-w-be":[{"border-be":we()}],"border-w-t":[{"border-t":we()}],"border-w-r":[{"border-r":we()}],"border-w-b":[{"border-b":we()}],"border-w-l":[{"border-l":we()}],"divide-x":[{"divide-x":we()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":we()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Se(),"hidden","none"]}],"divide-style":[{divide:[...Se(),"hidden","none"]}],"border-color":[{border:oe()}],"border-color-x":[{"border-x":oe()}],"border-color-y":[{"border-y":oe()}],"border-color-s":[{"border-s":oe()}],"border-color-e":[{"border-e":oe()}],"border-color-bs":[{"border-bs":oe()}],"border-color-be":[{"border-be":oe()}],"border-color-t":[{"border-t":oe()}],"border-color-r":[{"border-r":oe()}],"border-color-b":[{"border-b":oe()}],"border-color-l":[{"border-l":oe()}],"divide-color":[{divide:oe()}],"outline-style":[{outline:[...Se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ht,$e,Fe]}],"outline-w":[{outline:["",ht,qd,Sl]}],"outline-color":[{outline:oe()}],shadow:[{shadow:["","none",g,Wp,qp]}],"shadow-color":[{shadow:oe()}],"inset-shadow":[{"inset-shadow":["none",v,Wp,qp]}],"inset-shadow-color":[{"inset-shadow":oe()}],"ring-w":[{ring:we()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:oe()}],"ring-offset-w":[{"ring-offset":[ht,Sl]}],"ring-offset-color":[{"ring-offset":oe()}],"inset-ring-w":[{"inset-ring":we()}],"inset-ring-color":[{"inset-ring":oe()}],"text-shadow":[{"text-shadow":["none",b,Wp,qp]}],"text-shadow-color":[{"text-shadow":oe()}],opacity:[{opacity:[ht,$e,Fe]}],"mix-blend":[{"mix-blend":[...je(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":je()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ht]}],"mask-image-linear-from-pos":[{"mask-linear-from":Me()}],"mask-image-linear-to-pos":[{"mask-linear-to":Me()}],"mask-image-linear-from-color":[{"mask-linear-from":oe()}],"mask-image-linear-to-color":[{"mask-linear-to":oe()}],"mask-image-t-from-pos":[{"mask-t-from":Me()}],"mask-image-t-to-pos":[{"mask-t-to":Me()}],"mask-image-t-from-color":[{"mask-t-from":oe()}],"mask-image-t-to-color":[{"mask-t-to":oe()}],"mask-image-r-from-pos":[{"mask-r-from":Me()}],"mask-image-r-to-pos":[{"mask-r-to":Me()}],"mask-image-r-from-color":[{"mask-r-from":oe()}],"mask-image-r-to-color":[{"mask-r-to":oe()}],"mask-image-b-from-pos":[{"mask-b-from":Me()}],"mask-image-b-to-pos":[{"mask-b-to":Me()}],"mask-image-b-from-color":[{"mask-b-from":oe()}],"mask-image-b-to-color":[{"mask-b-to":oe()}],"mask-image-l-from-pos":[{"mask-l-from":Me()}],"mask-image-l-to-pos":[{"mask-l-to":Me()}],"mask-image-l-from-color":[{"mask-l-from":oe()}],"mask-image-l-to-color":[{"mask-l-to":oe()}],"mask-image-x-from-pos":[{"mask-x-from":Me()}],"mask-image-x-to-pos":[{"mask-x-to":Me()}],"mask-image-x-from-color":[{"mask-x-from":oe()}],"mask-image-x-to-color":[{"mask-x-to":oe()}],"mask-image-y-from-pos":[{"mask-y-from":Me()}],"mask-image-y-to-pos":[{"mask-y-to":Me()}],"mask-image-y-from-color":[{"mask-y-from":oe()}],"mask-image-y-to-color":[{"mask-y-to":oe()}],"mask-image-radial":[{"mask-radial":[$e,Fe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Me()}],"mask-image-radial-to-pos":[{"mask-radial-to":Me()}],"mask-image-radial-from-color":[{"mask-radial-from":oe()}],"mask-image-radial-to-color":[{"mask-radial-to":oe()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":M()}],"mask-image-conic-pos":[{"mask-conic":[ht]}],"mask-image-conic-from-pos":[{"mask-conic-from":Me()}],"mask-image-conic-to-pos":[{"mask-conic-to":Me()}],"mask-image-conic-from-color":[{"mask-conic-from":oe()}],"mask-image-conic-to-color":[{"mask-conic-to":oe()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:ae()}],"mask-size":[{mask:be()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",$e,Fe]}],filter:[{filter:["","none",$e,Fe]}],blur:[{blur:De()}],brightness:[{brightness:[ht,$e,Fe]}],contrast:[{contrast:[ht,$e,Fe]}],"drop-shadow":[{"drop-shadow":["","none",_,Wp,qp]}],"drop-shadow-color":[{"drop-shadow":oe()}],grayscale:[{grayscale:["",ht,$e,Fe]}],"hue-rotate":[{"hue-rotate":[ht,$e,Fe]}],invert:[{invert:["",ht,$e,Fe]}],saturate:[{saturate:[ht,$e,Fe]}],sepia:[{sepia:["",ht,$e,Fe]}],"backdrop-filter":[{"backdrop-filter":["","none",$e,Fe]}],"backdrop-blur":[{"backdrop-blur":De()}],"backdrop-brightness":[{"backdrop-brightness":[ht,$e,Fe]}],"backdrop-contrast":[{"backdrop-contrast":[ht,$e,Fe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ht,$e,Fe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ht,$e,Fe]}],"backdrop-invert":[{"backdrop-invert":["",ht,$e,Fe]}],"backdrop-opacity":[{"backdrop-opacity":[ht,$e,Fe]}],"backdrop-saturate":[{"backdrop-saturate":[ht,$e,Fe]}],"backdrop-sepia":[{"backdrop-sepia":["",ht,$e,Fe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",$e,Fe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ht,"initial",$e,Fe]}],ease:[{ease:["linear","initial",N,$e,Fe]}],delay:[{delay:[ht,$e,Fe]}],animate:[{animate:["none",k,$e,Fe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,$e,Fe]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:Ye()}],"rotate-x":[{"rotate-x":Ye()}],"rotate-y":[{"rotate-y":Ye()}],"rotate-z":[{"rotate-z":Ye()}],scale:[{scale:Ze()}],"scale-x":[{"scale-x":Ze()}],"scale-y":[{"scale-y":Ze()}],"scale-z":[{"scale-z":Ze()}],"scale-3d":["scale-3d"],skew:[{skew:Ct()}],"skew-x":[{"skew-x":Ct()}],"skew-y":[{"skew-y":Ct()}],transform:[{transform:[$e,Fe,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:yt()}],"translate-x":[{"translate-x":yt()}],"translate-y":[{"translate-y":yt()}],"translate-z":[{"translate-z":yt()}],"translate-none":["translate-none"],accent:[{accent:oe()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:oe()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e,Fe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mbs":[{"scroll-mbs":I()}],"scroll-mbe":[{"scroll-mbe":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pbs":[{"scroll-pbs":I()}],"scroll-pbe":[{"scroll-pbe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e,Fe]}],fill:[{fill:["none",...oe()]}],"stroke-w":[{stroke:[ht,qd,Sl,c1]}],stroke:[{stroke:["none",...oe()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","inset-bs","inset-be","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pbs","pbe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mbs","mbe","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-bs","border-w-be","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-bs","border-color-be","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mbs","scroll-mbe","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pbs","scroll-pbe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},LH=hH(DH);function it(...e){return LH(YO(e))}function uP({...e}){return y.jsx(b$,{"data-slot":"dropdown-menu",...e})}function Ab({...e}){return y.jsx(DO,{"data-slot":"dropdown-menu-portal",...e})}function dP({...e}){return y.jsx(x$,{"data-slot":"dropdown-menu-trigger",...e})}function fP({className:e,sideOffset:t=4,...n}){return y.jsx(DO,{children:y.jsx(_$,{"data-slot":"dropdown-menu-content",sideOffset:t,className:it("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function jH({...e}){return y.jsx(w$,{"data-slot":"dropdown-menu-group",...e})}function Xi({className:e,inset:t,variant:n="default",...i}){return y.jsx(S$,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:it("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default cursor-pointer items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...i})}function ba({className:e,...t}){return y.jsx(C$,{"data-slot":"dropdown-menu-separator",className:it("bg-border -mx-1 my-1 h-px",e),...t})}function Tb({...e}){return y.jsx(E$,{"data-slot":"dropdown-menu-sub",...e})}function Rb({className:e,inset:t,children:n,...i}){return y.jsxs(A$,{"data-slot":"dropdown-menu-sub-trigger","data-inset":t,className:it("focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8",e),...i,children:[n,y.jsx(Du,{className:"ml-auto size-4"})]})}function kb({className:e,...t}){return y.jsx(T$,{"data-slot":"dropdown-menu-sub-content",className:it("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg",e),...t})}const ot=e=>typeof e=="string",Wd=()=>{let e,t;const n=new Promise((i,s)=>{e=i,t=s});return n.resolve=e,n.reject=t,n},f1=e=>e==null?"":""+e,IH=(e,t,n)=>{e.forEach(i=>{t[i]&&(n[i]=t[i])})},zH=/###/g,h1=e=>e&&e.indexOf("###")>-1?e.replace(zH,"."):e,p1=e=>!e||ot(e),af=(e,t,n)=>{const i=ot(t)?t.split("."):t;let s=0;for(;s<i.length-1;){if(p1(e))return{};const o=h1(i[s]);!e[o]&&n&&(e[o]=new n),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={},++s}return p1(e)?{}:{obj:e,k:h1(i[s])}},m1=(e,t,n)=>{const{obj:i,k:s}=af(e,t,Object);if(i!==void 0||t.length===1){i[s]=n;return}let o=t[t.length-1],l=t.slice(0,t.length-1),c=af(e,l,Object);for(;c.obj===void 0&&l.length;)o=`${l[l.length-1]}.${o}`,l=l.slice(0,l.length-1),c=af(e,l,Object),c?.obj&&typeof c.obj[`${c.k}.${o}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${o}`]=n},BH=(e,t,n,i)=>{const{obj:s,k:o}=af(e,t,Object);s[o]=s[o]||[],s[o].push(n)},Wm=(e,t)=>{const{obj:n,k:i}=af(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,i))return n[i]},UH=(e,t,n)=>{const i=Wm(e,n);return i!==void 0?i:Wm(t,n)},hP=(e,t,n)=>{for(const i in t)i!=="__proto__"&&i!=="constructor"&&(i in e?ot(e[i])||e[i]instanceof String||ot(t[i])||t[i]instanceof String?n&&(e[i]=t[i]):hP(e[i],t[i],n):e[i]=t[i]);return e},Cl=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var FH={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const VH=e=>ot(e)?e.replace(/[&<>"'\/]/g,t=>FH[t]):e;class $H{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const i=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,i),this.regExpQueue.push(t),i}}const HH=[" ",",","?","!",";"],GH=new $H(20),KH=(e,t,n)=>{t=t||"",n=n||"";const i=HH.filter(l=>t.indexOf(l)<0&&n.indexOf(l)<0);if(i.length===0)return!0;const s=GH.getRegExp(`(${i.map(l=>l==="?"?"\\?":l).join("|")})`);let o=!s.test(e);if(!o){const l=e.indexOf(n);l>0&&!s.test(e.substring(0,l))&&(o=!0)}return o},Nx=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const i=t.split(n);let s=e;for(let o=0;o<i.length;){if(!s||typeof s!="object")return;let l,c="";for(let d=o;d<i.length;++d)if(d!==o&&(c+=n),c+=i[d],l=s[c],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&d<i.length-1)continue;o+=d-o+1;break}s=l}return s},Ef=e=>e?.replace("_","-"),qH={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class Ym{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||qH,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,i,s){return s&&!this.debug?null:(ot(t[0])&&(t[0]=`${i}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Ym(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Ym(this.logger,t)}}var Kr=new Ym;class Dg{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const s=this.observers[i].get(n)||0;this.observers[i].set(n,s+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([s,o])=>{for(let l=0;l<o;l++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,o])=>{for(let l=0;l<o;l++)s.apply(s,[t,...n])})}}class g1 extends Dg{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,i,s={}){const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;t.indexOf(".")>-1?c=t.split("."):(c=[t,n],i&&(Array.isArray(i)?c.push(...i):ot(i)&&o?c.push(...i.split(o)):c.push(i)));const d=Wm(this.data,c);return!d&&!n&&!i&&t.indexOf(".")>-1&&(t=c[0],n=c[1],i=c.slice(2).join(".")),d||!l||!ot(i)?d:Nx(this.data?.[t]?.[n],i,o)}addResource(t,n,i,s,o={silent:!1}){const l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let c=[t,n];i&&(c=c.concat(l?i.split(l):i)),t.indexOf(".")>-1&&(c=t.split("."),s=n,n=c[1]),this.addNamespaces(n),m1(this.data,c,s),o.silent||this.emit("added",t,n,i,s)}addResources(t,n,i,s={silent:!1}){for(const o in i)(ot(i[o])||Array.isArray(i[o]))&&this.addResource(t,n,o,i[o],{silent:!0});s.silent||this.emit("added",t,n,i)}addResourceBundle(t,n,i,s,o,l={silent:!1,skipCopy:!1}){let c=[t,n];t.indexOf(".")>-1&&(c=t.split("."),s=i,i=n,n=c[1]),this.addNamespaces(n);let d=Wm(this.data,c)||{};l.skipCopy||(i=JSON.parse(JSON.stringify(i))),s?hP(d,i,o):d={...d,...i},m1(this.data,c,d),l.silent||this.emit("added",t,n,i)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var pP={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,i,s){return e.forEach(o=>{t=this.processors[o]?.process(t,n,i,s)??t}),t}};const mP=Symbol("i18next/PATH_KEY");function WH(){const e=[],t=Object.create(null);let n;return t.get=(i,s)=>(n?.revoke?.(),s===mP?e:(e.push(s),n=Proxy.revocable(i,t),n.proxy)),Proxy.revocable(Object.create(null),t).proxy}function Ox(e,t){const{[mP]:n}=e(WH());return n.join(t?.keySeparator??".")}const v1={},Nb=e=>!ot(e)&&typeof e!="boolean"&&typeof e!="number";class Zm extends Dg{constructor(t,n={}){super(),IH(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Kr.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const i={...n};if(t==null)return!1;const s=this.resolve(t,i);if(s?.res===void 0)return!1;const o=Nb(s.res);return!(i.returnObjects===!1&&o)}extractFromKey(t,n){let i=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const l=i&&t.indexOf(i)>-1,c=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!KH(t,i,s);if(l&&!c){const d=t.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:t,namespaces:ot(o)?[o]:o};const h=t.split(i);(i!==s||i===s&&this.options.ns.indexOf(h[0])>-1)&&(o=h.shift()),t=h.join(s)}return{key:t,namespaces:ot(o)?[o]:o}}translate(t,n,i){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),t==null)return"";typeof t=="function"&&(t=Ox(t,{...this.options,...s})),Array.isArray(t)||(t=[String(t)]);const o=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:c,namespaces:d}=this.extractFromKey(t[t.length-1],s),h=d[d.length-1];let g=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;g===void 0&&(g=":");const v=s.lng||this.language,b=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v?.toLowerCase()==="cimode")return b?o?{res:`${h}${g}${c}`,usedKey:c,exactUsedKey:c,usedLng:v,usedNS:h,usedParams:this.getUsedParamsDetails(s)}:`${h}${g}${c}`:o?{res:c,usedKey:c,exactUsedKey:c,usedLng:v,usedNS:h,usedParams:this.getUsedParamsDetails(s)}:c;const _=this.resolve(t,s);let C=_?.res;const E=_?.usedKey||c,R=_?.exactUsedKey||c,N=["[object Number]","[object Function]","[object RegExp]"],k=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,O=!this.i18nFormat||this.i18nFormat.handleAsObject,M=s.count!==void 0&&!ot(s.count),D=Zm.hasDefaultValue(s),V=M?this.pluralResolver.getSuffix(v,s.count,s):"",z=s.ordinal&&M?this.pluralResolver.getSuffix(v,s.count,{ordinal:!1}):"",I=M&&!s.ordinal&&s.count===0,$=I&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${V}`]||s[`defaultValue${z}`]||s.defaultValue;let Z=C;O&&!C&&D&&(Z=$);const q=Nb(Z),W=Object.prototype.toString.apply(Z);if(O&&Z&&q&&N.indexOf(W)<0&&!(ot(k)&&Array.isArray(Z))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ne=this.options.returnedObjectHandler?this.options.returnedObjectHandler(E,Z,{...s,ns:d}):`key '${c} (${this.language})' returned an object instead of string.`;return o?(_.res=ne,_.usedParams=this.getUsedParamsDetails(s),_):ne}if(l){const ne=Array.isArray(Z),re=ne?[]:{},ye=ne?R:E;for(const G in Z)if(Object.prototype.hasOwnProperty.call(Z,G)){const Y=`${ye}${l}${G}`;D&&!C?re[G]=this.translate(Y,{...s,defaultValue:Nb($)?$[G]:void 0,joinArrays:!1,ns:d}):re[G]=this.translate(Y,{...s,joinArrays:!1,ns:d}),re[G]===Y&&(re[G]=Z[G])}C=re}}else if(O&&ot(k)&&Array.isArray(C))C=C.join(k),C&&(C=this.extendTranslation(C,t,s,i));else{let ne=!1,re=!1;!this.isValidLookup(C)&&D&&(ne=!0,C=$),this.isValidLookup(C)||(re=!0,C=c);const G=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&re?void 0:C,Y=D&&$!==C&&this.options.updateMissing;if(re||ne||Y){if(this.logger.log(Y?"updateKey":"missingKey",v,h,c,Y?$:C),l){const K=this.resolve(c,{...s,keySeparator:!1});K&&K.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let te=[];const de=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&de&&de[0])for(let K=0;K<de.length;K++)te.push(de[K]);else this.options.saveMissingTo==="all"?te=this.languageUtils.toResolveHierarchy(s.lng||this.language):te.push(s.lng||this.language);const oe=(K,ae,be)=>{const xe=D&&be!==C?be:G;this.options.missingKeyHandler?this.options.missingKeyHandler(K,h,ae,xe,Y,s):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(K,h,ae,xe,Y,s),this.emit("missingKey",K,h,ae,C)};this.options.saveMissing&&(this.options.saveMissingPlurals&&M?te.forEach(K=>{const ae=this.pluralResolver.getSuffixes(K,s);I&&s[`defaultValue${this.options.pluralSeparator}zero`]&&ae.indexOf(`${this.options.pluralSeparator}zero`)<0&&ae.push(`${this.options.pluralSeparator}zero`),ae.forEach(be=>{oe([K],c+be,s[`defaultValue${be}`]||$)})}):oe(te,c,$))}C=this.extendTranslation(C,t,s,_,i),re&&C===c&&this.options.appendNamespaceToMissingKey&&(C=`${h}${g}${c}`),(re||ne)&&this.options.parseMissingKeyHandler&&(C=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${g}${c}`:c,ne?C:void 0,s))}return o?(_.res=C,_.usedParams=this.getUsedParamsDetails(s),_):C}extendTranslation(t,n,i,s,o){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const d=ot(t)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(d){const v=t.match(this.interpolator.nestingRegexp);h=v&&v.length}let g=i.replace&&!ot(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(g={...this.options.interpolation.defaultVariables,...g}),t=this.interpolator.interpolate(t,g,i.lng||this.language||s.usedLng,i),d){const v=t.match(this.interpolator.nestingRegexp),b=v&&v.length;h<b&&(i.nest=!1)}!i.lng&&s&&s.res&&(i.lng=this.language||s.usedLng),i.nest!==!1&&(t=this.interpolator.nest(t,(...v)=>o?.[0]===v[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${n[0]}`),null):this.translate(...v,n),i)),i.interpolation&&this.interpolator.reset()}const l=i.postProcess||this.options.postProcess,c=ot(l)?[l]:l;return t!=null&&c?.length&&i.applyPostProcessor!==!1&&(t=pP.handle(c,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),t}resolve(t,n={}){let i,s,o,l,c;return ot(t)&&(t=[t]),t.forEach(d=>{if(this.isValidLookup(i))return;const h=this.extractFromKey(d,n),g=h.key;s=g;let v=h.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const b=n.count!==void 0&&!ot(n.count),_=b&&!n.ordinal&&n.count===0,C=n.context!==void 0&&(ot(n.context)||typeof n.context=="number")&&n.context!=="",E=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);v.forEach(R=>{this.isValidLookup(i)||(c=R,!v1[`${E[0]}-${R}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(c)&&(v1[`${E[0]}-${R}`]=!0,this.logger.warn(`key "${s}" for languages "${E.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),E.forEach(N=>{if(this.isValidLookup(i))return;l=N;const k=[g];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(k,g,N,R,n);else{let M;b&&(M=this.pluralResolver.getSuffix(N,n.count,n));const D=`${this.options.pluralSeparator}zero`,V=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(b&&(n.ordinal&&M.indexOf(V)===0&&k.push(g+M.replace(V,this.options.pluralSeparator)),k.push(g+M),_&&k.push(g+D)),C){const z=`${g}${this.options.contextSeparator||"_"}${n.context}`;k.push(z),b&&(n.ordinal&&M.indexOf(V)===0&&k.push(z+M.replace(V,this.options.pluralSeparator)),k.push(z+M),_&&k.push(z+D))}}let O;for(;O=k.pop();)this.isValidLookup(i)||(o=O,i=this.getResource(N,R,O,n))}))})}),{res:i,usedKey:s,exactUsedKey:o,usedLng:l,usedNS:c}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,i,s={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,n,i,s):this.resourceStore.getResource(t,n,i,s)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=t.replace&&!ot(t.replace);let s=i?t.replace:t;if(i&&typeof t.count<"u"&&(s.count=t.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!i){s={...s};for(const o of n)delete s[o]}return s}static hasDefaultValue(t){const n="defaultValue";for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&n===i.substring(0,n.length)&&t[i]!==void 0)return!0;return!1}}class y1{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Kr.create("languageUtils")}getScriptPartFromCode(t){if(t=Ef(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=Ef(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(ot(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(i=>{if(n)return;const s=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&t.forEach(i=>{if(n)return;const s=this.getScriptPartFromCode(i);if(this.isSupportedCode(s))return n=s;const o=this.getLanguagePartFromCode(i);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(l=>{if(l===o)return l;if(!(l.indexOf("-")<0&&o.indexOf("-")<0)&&(l.indexOf("-")>0&&o.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===o||l.indexOf(o)===0&&o.length>1))return l})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),ot(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let i=t[n];return i||(i=t[this.getScriptPartFromCode(n)]),i||(i=t[this.formatLanguageCode(n)]),i||(i=t[this.getLanguagePartFromCode(n)]),i||(i=t.default),i||[]}toResolveHierarchy(t,n){const i=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),s=[],o=l=>{l&&(this.isSupportedCode(l)?s.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return ot(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):ot(t)&&o(this.formatLanguageCode(t)),i.forEach(l=>{s.indexOf(l)<0&&o(this.formatLanguageCode(l))}),s}}const b1={zero:0,one:1,two:2,few:3,many:4,other:5},x1={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class YH{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=Kr.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const i=Ef(t==="dev"?"en":t),s=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:i,type:s});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let l;try{l=new Intl.PluralRules(i,{type:s})}catch{if(typeof Intl>"u")return this.logger.error("No Intl support, please use an Intl polyfill!"),x1;if(!t.match(/-|_/))return x1;const d=this.languageUtils.getLanguagePartFromCode(t);l=this.getRule(d,n)}return this.pluralRulesCache[o]=l,l}needsPlural(t,n={}){let i=this.getRule(t,n);return i||(i=this.getRule("dev",n)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,n,i={}){return this.getSuffixes(t,i).map(s=>`${n}${s}`)}getSuffixes(t,n={}){let i=this.getRule(t,n);return i||(i=this.getRule("dev",n)),i?i.resolvedOptions().pluralCategories.sort((s,o)=>b1[s]-b1[o]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(t,n,i={}){const s=this.getRule(t,i);return s?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,i))}}const _1=(e,t,n,i=".",s=!0)=>{let o=UH(e,t,n);return!o&&s&&ot(n)&&(o=Nx(e,n,i),o===void 0&&(o=Nx(t,n,i))),o},Ob=e=>e.replace(/\$/g,"$$$$");class w1{constructor(t={}){this.logger=Kr.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:i,useRawValueToEscape:s,prefix:o,prefixEscaped:l,suffix:c,suffixEscaped:d,formatSeparator:h,unescapeSuffix:g,unescapePrefix:v,nestingPrefix:b,nestingPrefixEscaped:_,nestingSuffix:C,nestingSuffixEscaped:E,nestingOptionsSeparator:R,maxReplaces:N,alwaysFormat:k}=t.interpolation;this.escape=n!==void 0?n:VH,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=o?Cl(o):l||"{{",this.suffix=c?Cl(c):d||"}}",this.formatSeparator=h||",",this.unescapePrefix=g?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":g||"",this.nestingPrefix=b?Cl(b):_||Cl("$t("),this.nestingSuffix=C?Cl(C):E||Cl(")"),this.nestingOptionsSeparator=R||",",this.maxReplaces=N||1e3,this.alwaysFormat=k!==void 0?k:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,i)=>n?.source===i?(n.lastIndex=0,n):new RegExp(i,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,i,s){let o,l,c;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=_=>{if(_.indexOf(this.formatSeparator)<0){const N=_1(n,d,_,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(N,void 0,i,{...s,...n,interpolationkey:_}):N}const C=_.split(this.formatSeparator),E=C.shift().trim(),R=C.join(this.formatSeparator).trim();return this.format(_1(n,d,E,this.options.keySeparator,this.options.ignoreJSONStructure),R,i,{...s,...n,interpolationkey:E})};this.resetRegExp();const g=s?.missingInterpolationHandler||this.options.missingInterpolationHandler,v=s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:_=>Ob(_)},{regex:this.regexp,safeValue:_=>this.escapeValue?Ob(this.escape(_)):Ob(_)}].forEach(_=>{for(c=0;o=_.regex.exec(t);){const C=o[1].trim();if(l=h(C),l===void 0)if(typeof g=="function"){const R=g(t,o,s);l=ot(R)?R:""}else if(s&&Object.prototype.hasOwnProperty.call(s,C))l="";else if(v){l=o[0];continue}else this.logger.warn(`missed to pass in variable ${C} for interpolating ${t}`),l="";else!ot(l)&&!this.useRawValueToEscape&&(l=f1(l));const E=_.safeValue(l);if(t=t.replace(o[0],E),v?(_.regex.lastIndex+=l.length,_.regex.lastIndex-=o[0].length):_.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),t}nest(t,n,i={}){let s,o,l;const c=(d,h)=>{const g=this.nestingOptionsSeparator;if(d.indexOf(g)<0)return d;const v=d.split(new RegExp(`${Cl(g)}[ ]*{`));let b=`{${v[1]}`;d=v[0],b=this.interpolate(b,l);const _=b.match(/'/g),C=b.match(/"/g);((_?.length??0)%2===0&&!C||(C?.length??0)%2!==0)&&(b=b.replace(/'/g,'"'));try{l=JSON.parse(b),h&&(l={...h,...l})}catch(E){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,E),`${d}${g}${b}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,d};for(;s=this.nestingRegexp.exec(t);){let d=[];l={...i},l=l.replace&&!ot(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const h=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(h!==-1&&(d=s[1].slice(h).split(this.formatSeparator).map(g=>g.trim()).filter(Boolean),s[1]=s[1].slice(0,h)),o=n(c.call(this,s[1].trim(),l),l),o&&s[0]===t&&!ot(o))return o;ot(o)||(o=f1(o)),o||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${t}`),o=""),d.length&&(o=d.reduce((g,v)=>this.format(g,v,i.lng,{...i,interpolationkey:s[1].trim()}),o.trim())),t=t.replace(s[0],o),this.regexp.lastIndex=0}return t}}const ZH=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const i=e.split("(");t=i[0].toLowerCase().trim();const s=i[1].substring(0,i[1].length-1);t==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):t==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(l=>{if(l){const[c,...d]=l.split(":"),h=d.join(":").trim().replace(/^'+|'+$/g,""),g=c.trim();n[g]||(n[g]=h),h==="false"&&(n[g]=!1),h==="true"&&(n[g]=!0),isNaN(h)||(n[g]=parseInt(h,10))}})}return{formatName:t,formatOptions:n}},S1=e=>{const t={};return(n,i,s)=>{let o=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(o={...o,[s.interpolationkey]:void 0});const l=i+JSON.stringify(o);let c=t[l];return c||(c=e(Ef(i),s),t[l]=c),c(n)}},XH=e=>(t,n,i)=>e(Ef(n),i)(t);class QH{constructor(t={}){this.logger=Kr.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const i=n.cacheInBuiltFormats?S1:XH;this.formats={number:i((s,o)=>{const l=new Intl.NumberFormat(s,{...o});return c=>l.format(c)}),currency:i((s,o)=>{const l=new Intl.NumberFormat(s,{...o,style:"currency"});return c=>l.format(c)}),datetime:i((s,o)=>{const l=new Intl.DateTimeFormat(s,{...o});return c=>l.format(c)}),relativetime:i((s,o)=>{const l=new Intl.RelativeTimeFormat(s,{...o});return c=>l.format(c,o.range||"day")}),list:i((s,o)=>{const l=new Intl.ListFormat(s,{...o});return c=>l.format(c)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=S1(n)}format(t,n,i,s={}){const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(c=>c.indexOf(")")>-1)){const c=o.findIndex(d=>d.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,c)].join(this.formatSeparator)}return o.reduce((c,d)=>{const{formatName:h,formatOptions:g}=ZH(d);if(this.formats[h]){let v=c;try{const b=s?.formatParams?.[s.interpolationkey]||{},_=b.locale||b.lng||s.locale||s.lng||i;v=this.formats[h](c,_,{...g,...s,...b})}catch(b){this.logger.warn(b)}return v}else this.logger.warn(`there was no format function for ${h}`);return c},t)}}const JH=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class e8 extends Dg{constructor(t,n,i,s={}){super(),this.backend=t,this.store=n,this.services=i,this.languageUtils=i.languageUtils,this.options=s,this.logger=Kr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,s.backend,s)}queueLoad(t,n,i,s){const o={},l={},c={},d={};return t.forEach(h=>{let g=!0;n.forEach(v=>{const b=`${h}|${v}`;!i.reload&&this.store.hasResourceBundle(h,v)?this.state[b]=2:this.state[b]<0||(this.state[b]===1?l[b]===void 0&&(l[b]=!0):(this.state[b]=1,g=!1,l[b]===void 0&&(l[b]=!0),o[b]===void 0&&(o[b]=!0),d[v]===void 0&&(d[v]=!0)))}),g||(c[h]=!0)}),(Object.keys(o).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(o),pending:Object.keys(l),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(d)}}loaded(t,n,i){const s=t.split("|"),o=s[0],l=s[1];n&&this.emit("failedLoading",o,l,n),!n&&i&&this.store.addResourceBundle(o,l,i,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&i&&(this.state[t]=0);const c={};this.queue.forEach(d=>{BH(d.loaded,[o],l),JH(d,t),n&&d.errors.push(n),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(h=>{c[h]||(c[h]={});const g=d.loaded[h];g.length&&g.forEach(v=>{c[h][v]===void 0&&(c[h][v]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(d=>!d.done)}read(t,n,i,s=0,o=this.retryTimeout,l){if(!t.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:i,tried:s,wait:o,callback:l});return}this.readingCalls++;const c=(h,g)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(h&&g&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,i,s+1,o*2,l)},o);return}l(h,g)},d=this.backend[i].bind(this.backend);if(d.length===2){try{const h=d(t,n);h&&typeof h.then=="function"?h.then(g=>c(null,g)).catch(c):c(null,h)}catch(h){c(h)}return}return d(t,n,c)}prepareLoading(t,n,i={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();ot(t)&&(t=this.languageUtils.toResolveHierarchy(t)),ot(n)&&(n=[n]);const o=this.queueLoad(t,n,i,s);if(!o.toLoad.length)return o.pending.length||s(),null;o.toLoad.forEach(l=>{this.loadOne(l)})}load(t,n,i){this.prepareLoading(t,n,{},i)}reload(t,n,i){this.prepareLoading(t,n,{reload:!0},i)}loadOne(t,n=""){const i=t.split("|"),s=i[0],o=i[1];this.read(s,o,"read",void 0,void 0,(l,c)=>{l&&this.logger.warn(`${n}loading namespace ${o} for language ${s} failed`,l),!l&&c&&this.logger.log(`${n}loaded namespace ${o} for language ${s}`,c),this.loaded(t,l,c)})}saveMissing(t,n,i,s,o,l={},c=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${i}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){const d={...l,isUpdate:o},h=this.backend.create.bind(this.backend);if(h.length<6)try{let g;h.length===5?g=h(t,n,i,s,d):g=h(t,n,i,s),g&&typeof g.then=="function"?g.then(v=>c(null,v)).catch(c):c(null,g)}catch(g){c(g)}else h(t,n,i,s,c,d)}!t||!t[0]||this.store.addResource(t[0],n,i,s)}}}const Pb=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),ot(e[1])&&(t.defaultValue=e[1]),ot(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(i=>{t[i]=n[i]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),C1=e=>(ot(e.ns)&&(e.ns=[e.ns]),ot(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),ot(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),Yp=()=>{},t8=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})},gP="__i18next_supportNoticeShown",n8=()=>typeof globalThis<"u"&&!!globalThis[gP],i8=()=>{typeof globalThis<"u"&&(globalThis[gP]=!0)},s8=e=>!!(e?.modules?.backend?.name?.indexOf("Locize")>0||e?.modules?.backend?.constructor?.name?.indexOf("Locize")>0||e?.options?.backend?.backends&&e.options.backend.backends.some(t=>t?.name?.indexOf("Locize")>0||t?.constructor?.name?.indexOf("Locize")>0)||e?.options?.backend?.projectId||e?.options?.backend?.backendOptions&&e.options.backend.backendOptions.some(t=>t?.projectId));class lf extends Dg{constructor(t={},n){if(super(),this.options=C1(t),this.services={},this.logger=Kr,this.modules={external:[]},t8(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(ot(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const i=Pb();this.options={...i,...this.options,...C1(t)},this.options.interpolation={...i.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=i.overloadTranslationOptionHandler),this.options.showSupportNotice!==!1&&!s8(this)&&!n8()&&(typeof console<"u"&&typeof console.info<"u"&&console.info(" i18next is maintained with support from Locize  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com "),i8());const s=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?Kr.init(s(this.modules.logger),this.options):Kr.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=QH;const g=new y1(this.options);this.store=new g1(this.options.resources,this.options);const v=this.services;v.logger=Kr,v.resourceStore=this.store,v.languageUtils=g,v.pluralResolver=new YH(g,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(v.formatter=s(h),v.formatter.init&&v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new w1(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new e8(s(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(_,...C)=>{this.emit(_,...C)}),this.modules.languageDetector&&(v.languageDetector=s(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=s(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new Zm(this.services,this.options),this.translator.on("*",(_,...C)=>{this.emit(_,...C)}),this.modules.external.forEach(_=>{_.init&&_.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Yp),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...g)=>this.store[h](...g)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...g)=>(this.store[h](...g),this)});const c=Wd(),d=()=>{const h=(g,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(v),n(g,v)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),c}loadResources(t,n=Yp){let i=n;const s=ot(t)?t:this.language;if(typeof t=="function"&&(i=t),!this.options.resources||this.options.partialBundledLanguages){if(s?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const o=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(h=>{h!=="cimode"&&o.indexOf(h)<0&&o.push(h)})};s?l(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),this.options.preload?.forEach?.(c=>l(c)),this.services.backendConnector.load(o,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(c)})}else i(null)}reloadResources(t,n,i){const s=Wd();return typeof t=="function"&&(i=t,t=void 0),typeof n=="function"&&(i=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),i||(i=Yp),this.services.backendConnector.reload(t,n,o=>{s.resolve(),i(o)}),s}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&pP.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const i=this.languages[n];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const i=Wd();this.emit("languageChanging",t);const s=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,d)=>{d?this.isLanguageChangingTo===t&&(s(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,i.resolve((...h)=>this.t(...h)),n&&n(c,(...h)=>this.t(...h))},l=c=>{!t&&!c&&this.services.languageDetector&&(c=[]);const d=ot(c)?c:c&&c[0],h=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(ot(c)?[c]:c);h&&(this.language||s(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector?.cacheUserLanguage?.(h)),this.loadResources(h,g=>{o(g,h)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(t),i}getFixedT(t,n,i){const s=(o,l,...c)=>{let d;typeof l!="object"?d=this.options.overloadTranslationOptionHandler([o,l].concat(c)):d={...l},d.lng=d.lng||s.lng,d.lngs=d.lngs||s.lngs,d.ns=d.ns||s.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||i||s.keyPrefix);const h=this.options.keySeparator||".";let g;return d.keyPrefix&&Array.isArray(o)?g=o.map(v=>(typeof v=="function"&&(v=Ox(v,{...this.options,...l})),`${d.keyPrefix}${h}${v}`)):(typeof o=="function"&&(o=Ox(o,{...this.options,...l})),g=d.keyPrefix?`${d.keyPrefix}${h}${o}`:o),this.t(g,d)};return ot(t)?s.lng=t:s.lngs=t,s.ns=n,s.keyPrefix=i,s}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const l=(c,d)=>{const h=this.services.backendConnector.state[`${c}|${d}`];return h===-1||h===0||h===2};if(n.precheck){const c=n.precheck(this,l);if(c!==void 0)return c}return!!(this.hasResourceBundle(i,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(i,t)&&(!s||l(o,t)))}loadNamespaces(t,n){const i=Wd();return this.options.ns?(ot(t)&&(t=[t]),t.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{i.resolve(),n&&n(s)}),i):(n&&n(),Promise.resolve())}loadLanguages(t,n){const i=Wd();ot(t)&&(t=[t]);const s=this.options.preload||[],o=t.filter(l=>s.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return o.length?(this.options.preload=s.concat(o),this.loadResources(l=>{i.resolve(),n&&n(l)}),i):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const s=new Intl.Locale(t);if(s&&s.getTextInfo){const o=s.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new y1(Pb());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(i.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){const i=new lf(t,n);return i.createInstance=lf.createInstance,i}cloneInstance(t={},n=Yp){const i=t.forkResourceStore;i&&delete t.forkResourceStore;const s={...this.options,...t,isClone:!0},o=new lf(s);if((t.debug!==void 0||t.prefix!==void 0)&&(o.logger=o.logger.clone(t)),["store","services","language"].forEach(c=>{o[c]=this[c]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},i){const c=Object.keys(this.store.data).reduce((d,h)=>(d[h]={...this.store.data[h]},d[h]=Object.keys(d[h]).reduce((g,v)=>(g[v]={...d[h][v]},g),d[h]),d),{});o.store=new g1(c,s),o.services.resourceStore=o.store}if(t.interpolation){const d={...Pb().interpolation,...this.options.interpolation,...t.interpolation},h={...s,interpolation:d};o.services.interpolator=new w1(h)}return o.translator=new Zm(o.services,s),o.translator.on("*",(c,...d)=>{o.emit(c,...d)}),o.init(s,n),o.translator.options=s,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Qt=lf.createInstance();Qt.createInstance;Qt.dir;Qt.init;Qt.loadResources;Qt.reloadResources;Qt.use;Qt.changeLanguage;Qt.getFixedT;Qt.t;Qt.exists;Qt.setDefaultNamespace;Qt.hasLoadedNamespace;Qt.loadNamespaces;Qt.loadLanguages;const r8=(e,t,n,i)=>{const s=[n,{code:t,...i||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(s,"warn","react-i18next::",!0);Kl(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...s):console?.warn&&console.warn(...s)},E1={},vP=(e,t,n,i)=>{Kl(n)&&E1[n]||(Kl(n)&&(E1[n]=new Date),r8(e,t,n,i))},yP=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},Px=(e,t,n)=>{e.loadNamespaces(t,yP(e,n))},A1=(e,t,n,i)=>{if(Kl(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return Px(e,n,i);n.forEach(s=>{e.options.ns.indexOf(s)<0&&e.options.ns.push(s)}),e.loadLanguages(t,yP(e,i))},o8=(e,t,n={})=>!t.languages||!t.languages.length?(vP(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(i,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!s(i.isLanguageChangingTo,e))return!1}}),Kl=e=>typeof e=="string",a8=e=>typeof e=="object"&&e!==null,l8=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,c8={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},u8=e=>c8[e],d8=e=>e.replace(l8,u8);let Mx={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:d8,transDefaultProps:void 0};const f8=(e={})=>{Mx={...Mx,...e}},h8=()=>Mx;let bP;const p8=e=>{bP=e},m8=()=>bP,g8={type:"3rdParty",init(e){f8(e.options.react),p8(e)}},v8=x.createContext();class y8{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var xP=Xk();const b8=(e,t)=>Kl(t)?t:a8(t)&&Kl(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,x8={t:b8,ready:!1},_8=()=>()=>{},Mt=(e,t={})=>{const{i18n:n}=t,{i18n:i,defaultNS:s}=x.useContext(v8)||{},o=n||i||m8();o&&!o.reportNamespaces&&(o.reportNamespaces=new y8),o||vP(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const l=x.useMemo(()=>({...h8(),...o?.options?.react,...t}),[o,t]),{useSuspense:c,keyPrefix:d}=l,h=s||o?.options?.defaultNS,g=Kl(h)?[h]:h||["translation"],v=x.useMemo(()=>g,g);o?.reportNamespaces?.addUsedNamespaces?.(v);const b=x.useRef(0),_=x.useCallback($=>{if(!o)return _8;const{bindI18n:Z,bindI18nStore:q}=l,W=()=>{b.current+=1,$()};return Z&&o.on(Z,W),q&&o.store.on(q,W),()=>{Z&&Z.split(" ").forEach(ne=>o.off(ne,W)),q&&q.split(" ").forEach(ne=>o.store.off(ne,W))}},[o,l]),C=x.useRef(),E=x.useCallback(()=>{if(!o)return x8;const $=!!(o.isInitialized||o.initializedStoreOnce)&&v.every(ye=>o8(ye,o,l)),Z=t.lng||o.language,q=b.current,W=C.current;if(W&&W.ready===$&&W.lng===Z&&W.keyPrefix===d&&W.revision===q)return W;const re={t:o.getFixedT(Z,l.nsMode==="fallback"?v:v[0],d),ready:$,lng:Z,keyPrefix:d,revision:q};return C.current=re,re},[o,v,d,l,t.lng]),[R,N]=x.useState(0),{t:k,ready:O}=xP.useSyncExternalStore(_,E,E);x.useEffect(()=>{if(o&&!O&&!c){const $=()=>N(Z=>Z+1);t.lng?A1(o,t.lng,v,$):Px(o,v,$)}},[o,t.lng,v,O,c,R]);const M=o||{},D=x.useRef(null),V=x.useRef(),z=$=>{const Z=Object.getOwnPropertyDescriptors($);Z.__original&&delete Z.__original;const q=Object.create(Object.getPrototypeOf($),Z);if(!Object.prototype.hasOwnProperty.call(q,"__original"))try{Object.defineProperty(q,"__original",{value:$,writable:!1,enumerable:!1,configurable:!1})}catch{}return q},I=x.useMemo(()=>{const $=M,Z=$?.language;let q=$;$&&(D.current&&D.current.__original===$?V.current!==Z?(q=z($),D.current=q,V.current=Z):q=D.current:(q=z($),D.current=q,V.current=Z));const W=[k,q,O];return W.t=k,W.i18n=q,W.ready=O,W},[k,M,O,M.resolvedLanguage,M.language,M.languages]);if(o&&c&&!O)throw new Promise($=>{const Z=()=>$();t.lng?A1(o,t.lng,v,Z):Px(o,v,Z)});return I},_P=x.createContext(null),T1="theme-preference",w8=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",R1=e=>{const t=document.documentElement,n=e==="system"?w8():e;t.classList.remove("light","dark"),t.classList.add(n)},S8=({children:e})=>{const[t,n]=x.useState(()=>localStorage.getItem(T1)||"system");x.useEffect(()=>{if(R1(t),t==="system"){const s=window.matchMedia("(prefers-color-scheme: dark)"),o=()=>R1("system");return s.addEventListener("change",o),()=>s.removeEventListener("change",o)}},[t]);const i=s=>{n(s),localStorage.setItem(T1,s)};return y.jsx(_P.Provider,{value:{theme:t,changeTheme:i},children:e})},ih=()=>{const e=x.useContext(_P);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},{slice:C8,forEach:E8}=[];function A8(e){return E8.call(C8.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}function T8(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(e))}const k1=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,R8=function(e,t){const i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(t);let o=`${e}=${s}`;if(i.maxAge>0){const l=i.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(l)}`}if(i.domain){if(!k1.test(i.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${i.domain}`}if(i.path){if(!k1.test(i.path))throw new TypeError("option path is invalid");o+=`; Path=${i.path}`}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${i.expires.toUTCString()}`}if(i.httpOnly&&(o+="; HttpOnly"),i.secure&&(o+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i.partitioned&&(o+="; Partitioned"),o},N1={create(e,t,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+n*60*1e3)),i&&(s.domain=i),document.cookie=R8(e,t,s)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let i=0;i<n.length;i++){let s=n[i];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(t)===0)return s.substring(t.length,s.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var k8={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return N1.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:i,cookieDomain:s,cookieOptions:o}=t;n&&typeof document<"u"&&N1.create(n,e,i,s,o)}},N8={name:"querystring",lookup(e){let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const o=i.substring(1).split("&");for(let l=0;l<o.length;l++){const c=o[l].indexOf("=");c>0&&o[l].substring(0,c)===t&&(n=o[l].substring(c+1))}}return n}},O8={name:"hash",lookup(e){let{lookupHash:t,lookupFromHashIndex:n}=e,i;if(typeof window<"u"){const{hash:s}=window.location;if(s&&s.length>2){const o=s.substring(1);if(t){const l=o.split("&");for(let c=0;c<l.length;c++){const d=l[c].indexOf("=");d>0&&l[c].substring(0,d)===t&&(i=l[c].substring(d+1))}}if(i)return i;if(!i&&n>-1){const l=s.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?l[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return i}};let qc=null;const O1=()=>{if(qc!==null)return qc;try{if(qc=typeof window<"u"&&window.localStorage!==null,!qc)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{qc=!1}return qc};var P8={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&O1())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&O1()&&window.localStorage.setItem(n,e)}};let Wc=null;const P1=()=>{if(Wc!==null)return Wc;try{if(Wc=typeof window<"u"&&window.sessionStorage!==null,!Wc)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Wc=!1}return Wc};var M8={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&P1())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&P1()&&window.sessionStorage.setItem(n,e)}},D8={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:i,language:s}=navigator;if(n)for(let o=0;o<n.length;o++)t.push(n[o]);i&&t.push(i),s&&t.push(s)}return t.length>0?t:void 0}},L8={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const i=t||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(n=i.getAttribute("lang")),n}},j8={name:"path",lookup(e){let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof t=="number"?t:0]?.replace("/",""):void 0}},I8={name:"subdomain",lookup(e){let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,i=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(i)return i[n]}};let wP=!1;try{document.cookie,wP=!0}catch{}const SP=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];wP||SP.splice(1,1);const z8=()=>({order:SP,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class CP{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=A8(n,this.options||{},z8()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(k8),this.addDetector(N8),this.addDetector(P8),this.addDetector(M8),this.addDetector(D8),this.addDetector(L8),this.addDetector(j8),this.addDetector(I8),this.addDetector(O8)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return t.forEach(i=>{if(this.detectors[i]){let s=this.detectors[i].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(n=n.concat(s))}}),n=n.filter(i=>i!=null&&!T8(i)).map(i=>this.options.convertDetectedLanguage(i)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(i=>{this.detectors[i]&&this.detectors[i].cacheUserLanguage(t,this.options)}))}}CP.type="languageDetector";const B8="Welcome!",U8="Language",F8="Light",V8="Dark",$8="System",H8="English",G8="Spanish",K8="Portuguese",q8="Profile",W8="Logout",Y8="Theme",Z8="Login with Google",X8={now:"Just now",minutesAgo:"{{count}}m ago",hoursAgo:"{{count}}h ago",yesterday:"Yesterday",daysAgo:"{{count}} days ago"},Q8={restoringCache:"Restoring cache...",initializing:"Initializing..."},J8={finalizingAuth:"Finalizing authentication...",waitSeconds:"Please wait a few seconds.",descriptionGoogle:"Sign in with your Google account to unlock all features and save your progress",loginError:"Login error",signingIn:"Signing in...",continueWithGoogle:"Continue with Google",exclusiveFeatures:"Exclusive features when signed in",continueWithoutLogin:"You can continue without signing in, but you won't have access to the features listed above.",back:"Back",backAriaLabel:"Go back to previous page"},eG={back:"Back",challenges:"Challenges",explore:"Explore",audio:"Audio",soundOff:"Sound off",soundOn:"Sound on",logoutWarning:"When you sign out, your features and progress will only be available when you sign in again.",logoutAnyway:"Sign out anyway"},tG={memberSince:"Member since",globalRanking:"Global Ranking",rankingHint:"Score on explored species, hit accuracy and speed to keep climbing."},nG={title:"PROGRESS",speciesExplored:"Species explored",challengesCompleted:"Challenges completed",hitAccuracy:"Hit accuracy",medalsEarned:"Medals earned",dayStreak:"Day streak",globalRanking:"Global ranking"},iG={title:"ACTIVITY"},sG={title:"ACHIEVEMENTS",locked:"Locked"},rG={title:"SHORTCUTS",saveEdit:"Save edit",cancelEdit:"Cancel edit",editName:"Edit shortcut name",remove:"Remove shortcut",empty:"No shortcuts created",emptyHint:"Create shortcuts by browsing the tree",tip:"Browse the taxonomic tree and save selected nodes as shortcuts for quick access."},oG={title:"SEEN SPECIES",openGallery:"Open gallery",emptyTitle:"Your gallery is empty",emptyHint:"Explore species to fill it!"},aG={title:"FAVORITE SPECIES",addFavorite:"Add favorite",edit:"Edit",done:"Done",replace:"Replace",pickerTitle:"Choose a favorite species",pickerEmpty:"No species available",pickerEmptyHint:"Favorite species in the gallery to add them here"},lG={title:"Species Gallery",species:"species",of:"of",searchPlaceholder:"Search by name or family...",newest:"Newest",oldest:"Oldest",newestFirst:"Newest first",oldestFirst:"Oldest first",favorites:"Favorites",noSpeciesFound:"No species found",noFavorites:"You have no favorites yet",adjustFilters:"Try adjusting the filters",noImage:"No image",photosFirst:"Photos first"},cG={notFound:"No data found",backToGallery:"Back to gallery",backToProfile:"Back to profile",backToTree:"Back to tree",dataUnavailable:"Data unavailable.",taxonomyTitle:"Taxonomic Classification",kingdomLabel:"Kingdom",phylumLabel:"Phylum",orderLabel:"Order",classLabel:"Class",familyLabel:"Family",genusLabel:"Genus",descriptionTitle:"Description",nomenclatureTitle:"Nomenclature Details",author:"Author",publishedIn:"Published in",sources:"Sources",imageNotFound:"Image not found.",imageNote:"Images are sourced from Wikipedia, iNaturalist and GBIF, and may be missing for species with limited visual documentation.",viewOnGoogle:"View on Google Images",imageSource:"Source",imageBy:"by @",imageLicense:", licensed under "},uG={locality:"Locality",country:"Country",date:"Date",recordedBy:"Recorded by",unknown:"Unknown",noDate:"No date",notInformed:"Not provided",viewReference:"View reference",dataProvidedBy:"Occurrence data provided by",dataNote:". The points represent global records from various databases, which may differ from the image source above."},dG={loadError:"Failed to load",loadErrorMessage:"Could not load the tree. Please try again.",noData:"No data available",noDataMessage:"No taxonomic data to display yet."},fG={selectKingdom:"Select a kingdom",example:"Example",selectKingdomFirst:"Select a kingdom to search",gbifError:"Error querying GBIF",lineageError:"Could not retrieve lineage for the selected item",pathError:"Error building the selected path",kingdom:"Kingdom",searchTaxa:"Search taxa",expandResults:"Expand results",minimizeResults:"Minimize results",results:"results"},hG={selectKingdom:"Choose a Kingdom to start exploring!",mainGroups:"Main Groups",kingdom:"Kingdom"},pG={title:"Daily Challenge",find:"Find",missionDescription:"Complete the taxonomic path before time runs out.",cancel:"Cancel Challenge",start:"Start Challenge",completed:"Classification complete!",path:"Kingdom  Species",timeRemaining:"Time remaining",taxonomicPath:"Taxonomic Path",interactions:"interactions",tips:"Tips to advance",needHelp:"Need help?",prevStep:"Previous step",step:"Step",of:"of",nextStep:"Next step",revealAnswer:"Reveal answer for this step",belongsTo:"belongs to",howItWorks:"How does the challenge work?",randomTitle:"Random Challenge",randomMissionDescription:"Complete the taxonomic path of a randomly chosen species.",allSpeciesCompleted:"You've completed all available species!",replay:"Try again",nextChallenge:"Next challenge",nextRandom:"Random Challenge",pastChallenges:"Past Challenges",today:"Today",completedLabel:"Completed",alreadyCompleted:"Already completed",prevDay:"Previous day",nextDay:"Next day",play:"Play",otherDailyChallenges:"Other daily challenges",dailyChallenges:"Daily Challenges"},mG={unknown:"Unknown status",EX:"Extinct",EW:"Extinct in the Wild",CR:"Critically Endangered",EN:"Endangered",VU:"Vulnerable",NT:"Near Threatened",LC:"Least Concern",DD:"Data Deficient",NE:"Not Evaluated"},gG={welcome:B8,language:U8,light:F8,dark:V8,system:$8,en:H8,es:G8,pt:K8,profile:q8,logout:W8,theme:Y8,loginWithGoogle:Z8,time:X8,loading:Q8,auth:J8,nav:eG,profilePage:tG,progress:nG,activity:iG,achievements:sG,shortcuts:rG,seenSpecies:oG,favSpecies:aG,gallery:lG,specieDetail:cG,occurrenceMap:uG,tree:dG,search:fG,explore:hG,challenge:pG,vulnerability:mG},vG="Bem-vindo!",yG="Idioma",bG="Claro",xG="Escuro",_G="Sistema",wG="Ingls",SG="Espanhol",CG="Portugus",EG="Perfil",AG="Sair",TG="Tema",RG="Login com Google",kG={now:"Agora mesmo",minutesAgo:"{{count}}m atrs",hoursAgo:"{{count}}h atrs",yesterday:"Ontem",daysAgo:"{{count}} dias atrs"},NG={restoringCache:"Restaurando cache...",initializing:"Inicializando..."},OG={finalizingAuth:"Finalizando autenticao...",waitSeconds:"Aguarde alguns segundos.",descriptionGoogle:"Entre com sua conta Google para desbloquear todos os recursos e salvar seu progresso",loginError:"Erro ao fazer login",signingIn:"Entrando...",continueWithGoogle:"Continuar com Google",exclusiveFeatures:"Recursos exclusivos ao entrar",continueWithoutLogin:"Voc pode continuar sem fazer login, mas no ter acesso aos recursos listados acima.",back:"Voltar",backAriaLabel:"Voltar para pgina anterior"},PG={back:"Voltar",challenges:"Desafios",explore:"Explorar",audio:"udio",soundOff:"Som desligado",soundOn:"Som ligado",logoutWarning:"Ao sair, seus recursos e progresso s ficaro disponveis quando entrar novamente.",logoutAnyway:"Sair mesmo assim"},MG={memberSince:"Usurio desde",globalRanking:"Ranking Global",rankingHint:"Pontue em espcies exploradas, preciso de acerto e velocidade para continuar subindo."},DG={title:"PROGRESSO",speciesExplored:"Espcies exploradas",challengesCompleted:"Desafios completados",hitAccuracy:"Preciso de acerto",medalsEarned:"Medalhas conquistadas",dayStreak:"Sequncia de dias",globalRanking:"Ranking global"},LG={title:"ATIVIDADE"},jG={title:"CONQUISTAS",locked:"Bloqueadas"},IG={title:"ATALHOS",saveEdit:"Salvar edio",cancelEdit:"Cancelar edio",editName:"Editar nome do atalho",remove:"Remover atalho",empty:"Nenhum atalho criado",emptyHint:"Crie atalhos navegando pela rvore",tip:"Navegue pela rvore taxonmica e salve os ns selecionados como atalhos para acesso rpido."},zG={title:"ESPCIES VISTAS",openGallery:"Abrir galeria",emptyTitle:"Sua galeria est vazia",emptyHint:"Explore espcies para preench-la!"},BG={title:"ESPCIES FAVORITAS",addFavorite:"Adicionar favorita",edit:"Editar",done:"Concludo",replace:"Substituir",pickerTitle:"Escolher espcie favorita",pickerEmpty:"Nenhuma espcie disponvel",pickerEmptyHint:"Favorite espcies na galeria para adicion-las aqui"},UG={title:"Galeria de Espcies",species:"espcies",of:"de",searchPlaceholder:"Buscar por nome ou famlia...",newest:"Mais recentes",oldest:"Mais antigas",newestFirst:"Mais recentes primeiro",oldestFirst:"Mais antigas primeiro",favorites:"Favoritas",noSpeciesFound:"Nenhuma espcie encontrada",noFavorites:"Voc ainda no tem favoritas",adjustFilters:"Tente ajustar os filtros",noImage:"Sem imagem",photosFirst:"Fotos primeiro"},FG={notFound:"Nenhum dado foi encontrado",backToGallery:"Voltar para galeria",backToProfile:"Voltar para o perfil",backToTree:"Voltar para a rvore",dataUnavailable:"Dados indisponveis.",taxonomyTitle:"Classificao Taxonmica",kingdomLabel:"Reino",phylumLabel:"Filo",orderLabel:"Ordem",classLabel:"Classe",familyLabel:"Famlia",genusLabel:"Gnero",descriptionTitle:"Descrio",nomenclatureTitle:"Detalhes da Nomenclatura",author:"Autor",publishedIn:"Publicado em",sources:"Fontes",imageNotFound:"Imagem no encontrada.",imageNote:"As imagens so obtidas atravs da Wikipedia, iNaturalist e GBIF, e podem estar ausentes para espcies com pouca documentao visual.",viewOnGoogle:"Ver no Google Imagens",imageSource:"Fonte",imageBy:"por @",imageLicense:", licenciada sob "},VG={locality:"Local",country:"Pas",date:"Data",recordedBy:"Registrado por",unknown:"Desconhecido",noDate:"Sem data",notInformed:"No informado",viewReference:"Ver referncia",dataProvidedBy:"Dados de ocorrncia fornecidos por",dataNote:". Os pontos representam registros globais de diversas bases de dados, que podem ser diferentes da fonte da imagem acima."},$G={loadError:"Erro ao carregar",loadErrorMessage:"No foi possvel carregar a rvore. Tente novamente.",noData:"Nenhum dado disponvel",noDataMessage:"Ainda no h dados taxonmicos para exibir."},HG={selectKingdom:"Selecione um reino",example:"Exemplo",selectKingdomFirst:"Selecione um reino para buscar",gbifError:"Erro ao consultar GBIF",lineageError:"No foi possvel obter linhagem para o item selecionado",pathError:"Erro ao montar o caminho selecionado",kingdom:"Reino",searchTaxa:"Pesquisar taxa",expandResults:"Expandir resultados",minimizeResults:"Minimizar resultados",results:"resultados"},GG={selectKingdom:"Escolha um Reino para iniciar sua explorao!",mainGroups:"Principais Grupos",kingdom:"Reino"},KG={title:"Desafio Dirio",find:"Encontre",missionDescription:"Complete o caminho taxonmico antes do tempo acabar.",cancel:"Cancelar Desafio",start:"Iniciar Desafio",completed:"Classificao completa!",path:"Reino  Espcie",timeRemaining:"Tempo restante",taxonomicPath:"Caminho Taxonmico",interactions:"interaes",tips:"Dicas para avanar",needHelp:"Precisa de ajuda?",prevStep:"Etapa anterior",step:"Etapa",of:"de",nextStep:"Prxima etapa",revealAnswer:"Revelar resposta desta etapa",belongsTo:"pertence ao",howItWorks:"Como funciona o desafio?",randomTitle:"Desafio Aleatrio",randomMissionDescription:"Complete o caminho taxonmico de uma espcie escolhida aleatoriamente.",allSpeciesCompleted:"Voc completou todas as espcies disponveis!",replay:"Tentar novamente",nextChallenge:"Prximo desafio",nextRandom:"Desafio Aleatrio",pastChallenges:"Desafios Anteriores",today:"Hoje",completedLabel:"Concludo",alreadyCompleted:"J concludo",prevDay:"Dia anterior",nextDay:"Prximo dia",play:"Jogar",otherDailyChallenges:"Outros desafios dirios",dailyChallenges:"Desafios Dirios"},qG={unknown:"Status desconhecido",EX:"Extinto",EW:"Extinto na natureza",CR:"Criticamente em perigo",EN:"Em perigo",VU:"Vulnervel",NT:"Quase ameaado",LC:"Pouco preocupante",DD:"Dados insuficientes",NE:"No avaliado"},WG={welcome:vG,language:yG,light:bG,dark:xG,system:_G,en:wG,es:SG,pt:CG,profile:EG,logout:AG,theme:TG,loginWithGoogle:RG,time:kG,loading:NG,auth:OG,nav:PG,profilePage:MG,progress:DG,activity:LG,achievements:jG,shortcuts:IG,seenSpecies:zG,favSpecies:BG,gallery:UG,specieDetail:FG,occurrenceMap:VG,tree:$G,search:HG,explore:GG,challenge:KG,vulnerability:qG},YG="Bienvenido!",ZG="Idioma",XG="Claro",QG="Oscuro",JG="Sistema",eK="Ingls",tK="Espaol",nK="Portugus",iK="Perfil",sK="Salir",rK="Tema",oK="Iniciar sesin con Google",aK={now:"Justo ahora",minutesAgo:"hace {{count}}m",hoursAgo:"hace {{count}}h",yesterday:"Ayer",daysAgo:"hace {{count}} das"},lK={restoringCache:"Restaurando cach...",initializing:"Inicializando..."},cK={finalizingAuth:"Finalizando autenticacin...",waitSeconds:"Por favor espere unos segundos.",descriptionGoogle:"Inicia sesin con tu cuenta de Google para desbloquear todas las funciones y guardar tu progreso",loginError:"Error al iniciar sesin",signingIn:"Iniciando sesin...",continueWithGoogle:"Continuar con Google",exclusiveFeatures:"Funciones exclusivas al iniciar sesin",continueWithoutLogin:"Puedes continuar sin iniciar sesin, pero no tendrs acceso a las funciones enumeradas arriba.",back:"Volver",backAriaLabel:"Volver a la pgina anterior"},uK={back:"Volver",challenges:"Desafos",explore:"Explorar",audio:"Audio",soundOff:"Sonido desactivado",soundOn:"Sonido activado",logoutWarning:"Al salir, tus funciones y progreso solo estarn disponibles cuando vuelvas a iniciar sesin.",logoutAnyway:"Salir de todas formas"},dK={memberSince:"Usuario desde",globalRanking:"Clasificacin Global",rankingHint:"Punta en especies exploradas, precisin y velocidad para seguir subiendo."},fK={title:"PROGRESO",speciesExplored:"Especies exploradas",challengesCompleted:"Desafos completados",hitAccuracy:"Precisin de acierto",medalsEarned:"Medallas ganadas",dayStreak:"Racha de das",globalRanking:"Clasificacin global"},hK={title:"ACTIVIDAD"},pK={title:"LOGROS",locked:"Bloqueados"},mK={title:"ATAJOS",saveEdit:"Guardar edicin",cancelEdit:"Cancelar edicin",editName:"Editar nombre del atajo",remove:"Eliminar atajo",empty:"Ningn atajo creado",emptyHint:"Crea atajos navegando por el rbol",tip:"Navega por el rbol taxonmico y guarda los nodos seleccionados como atajos para acceso rpido."},gK={title:"ESPECIES VISTAS",openGallery:"Abrir galera",emptyTitle:"Tu galera est vaca",emptyHint:"Explora especies para llenarla!"},vK={title:"ESPECIES FAVORITAS",addFavorite:"Aadir favorita",edit:"Editar",done:"Listo",replace:"Reemplazar",pickerTitle:"Elegir especie favorita",pickerEmpty:"Ninguna especie disponible",pickerEmptyHint:"Marca especies como favoritas en la galera para aadirlas aqu"},yK={title:"Galera de Especies",species:"especies",of:"de",searchPlaceholder:"Buscar por nombre o familia...",newest:"Ms recientes",oldest:"Ms antiguas",newestFirst:"Ms recientes primero",oldestFirst:"Ms antiguas primero",favorites:"Favoritas",noSpeciesFound:"Ninguna especie encontrada",noFavorites:"An no tienes favoritas",adjustFilters:"Intenta ajustar los filtros",noImage:"Sin imagen",photosFirst:"Fotos primero"},bK={notFound:"No se encontraron datos",backToGallery:"Volver a la galera",backToProfile:"Volver al perfil",backToTree:"Volver al rbol",dataUnavailable:"Datos no disponibles.",taxonomyTitle:"Clasificacin Taxonmica",kingdomLabel:"Reino",phylumLabel:"Filo",orderLabel:"Orden",classLabel:"Clase",familyLabel:"Familia",genusLabel:"Gnero",descriptionTitle:"Descripcin",nomenclatureTitle:"Detalles de Nomenclatura",author:"Autor",publishedIn:"Publicado en",sources:"Fuentes",imageNotFound:"Imagen no encontrada.",imageNote:"Las imgenes se obtienen de Wikipedia, iNaturalist y GBIF, y pueden faltar para especies con poca documentacin visual.",viewOnGoogle:"Ver en Google Imgenes",imageSource:"Fuente",imageBy:"por @",imageLicense:", con licencia "},xK={locality:"Localidad",country:"Pas",date:"Fecha",recordedBy:"Registrado por",unknown:"Desconocido",noDate:"Sin fecha",notInformed:"No informado",viewReference:"Ver referencia",dataProvidedBy:"Datos de ocurrencia proporcionados por",dataNote:". Los puntos representan registros globales de diversas bases de datos, que pueden ser diferentes a la fuente de la imagen de arriba."},_K={loadError:"Error al cargar",loadErrorMessage:"No se pudo cargar el rbol. Intntalo de nuevo.",noData:"Sin datos disponibles",noDataMessage:"Todava no hay datos taxonmicos para mostrar."},wK={selectKingdom:"Selecciona un reino",example:"Ejemplo",selectKingdomFirst:"Selecciona un reino para buscar",gbifError:"Error al consultar GBIF",lineageError:"No se pudo obtener el linaje del elemento seleccionado",pathError:"Error al construir el camino seleccionado",kingdom:"Reino",searchTaxa:"Buscar taxa",expandResults:"Expandir resultados",minimizeResults:"Minimizar resultados",results:"resultados"},SK={selectKingdom:"Elige un Reino para comenzar tu exploracin!",mainGroups:"Grupos Principales",kingdom:"Reino"},CK={title:"Desafo Diario",find:"Encuentra",missionDescription:"Completa el camino taxonmico antes de que se acabe el tiempo.",cancel:"Cancelar Desafo",start:"Iniciar Desafo",completed:"Clasificacin completa!",path:"Reino  Especie",timeRemaining:"Tiempo restante",taxonomicPath:"Camino Taxonmico",interactions:"interacciones",tips:"Consejos para avanzar",needHelp:"Necesitas ayuda?",prevStep:"Paso anterior",step:"Paso",of:"de",nextStep:"Siguiente paso",revealAnswer:"Revelar respuesta de este paso",belongsTo:"pertenece al",howItWorks:"Cmo funciona el desafo?",randomTitle:"Desafo Aleatorio",randomMissionDescription:"Completa el camino taxonmico de una especie elegida al azar.",allSpeciesCompleted:"Has completado todas las especies disponibles!",replay:"Intentar de nuevo",nextChallenge:"Siguiente desafo",nextRandom:"Desafo Aleatorio",pastChallenges:"Desafos Anteriores",today:"Hoy",completedLabel:"Completado",alreadyCompleted:"Ya completado",prevDay:"Da anterior",nextDay:"Da siguiente",play:"Jugar",otherDailyChallenges:"Otros desafos diarios",dailyChallenges:"Desafos Diarios"},EK={unknown:"Estado desconocido",EX:"Extinto",EW:"Extinto en estado silvestre",CR:"En peligro crtico",EN:"En peligro",VU:"Vulnerable",NT:"Casi amenazado",LC:"Preocupacin menor",DD:"Datos insuficientes",NE:"No evaluado"},AK={welcome:YG,language:ZG,light:XG,dark:QG,system:JG,en:eK,es:tK,pt:nK,profile:iK,logout:sK,theme:rK,loginWithGoogle:oK,time:aK,loading:lK,auth:cK,nav:uK,profilePage:dK,progress:fK,activity:hK,achievements:pK,shortcuts:mK,seenSpecies:gK,favSpecies:vK,gallery:yK,specieDetail:bK,occurrenceMap:xK,tree:_K,search:wK,explore:SK,challenge:CK,vulnerability:EK};Qt.use(CP).use(g8).init({fallbackLng:"pt",debug:!1,interpolation:{escapeValue:!1},resources:{en:{translation:gG},pt:{translation:WG},es:{translation:AK}}});function TK(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l);c.displayName=o+"Context";const d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,R=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:R,children:_})};h.displayName=o+"Provider";function g(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,g]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,RK(s,...t)]}function RK(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var kK=Symbol.for("react.lazy"),Xm=$0[" use ".trim().toString()];function NK(e){return typeof e=="object"&&e!==null&&"then"in e}function EP(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===kK&&"_payload"in e&&NK(e._payload)}function AP(e){const t=OK(e),n=x.forwardRef((i,s)=>{let{children:o,...l}=i;EP(o)&&typeof Xm=="function"&&(o=Xm(o._payload));const c=x.Children.toArray(o),d=c.find(MK);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var TP=AP("Slot");function OK(e){const t=x.forwardRef((n,i)=>{let{children:s,...o}=n;if(EP(s)&&typeof Xm=="function"&&(s=Xm(s._payload)),x.isValidElement(s)){const l=LK(s),c=DK(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var PK=Symbol("radix.slottable");function MK(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===PK}function DK(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function LK(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var jK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],N_=jK.reduce((e,t)=>{const n=AP(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function IK(){return xP.useSyncExternalStore(zK,()=>!0,()=>!1)}function zK(){return()=>{}}var O_="Avatar",[BK]=TK(O_),[UK,RP]=BK(O_),kP=x.forwardRef((e,t)=>{const{__scopeAvatar:n,...i}=e,[s,o]=x.useState("idle");return y.jsx(UK,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:y.jsx(N_.span,{...i,ref:t})})});kP.displayName=O_;var NP="AvatarImage",OP=x.forwardRef((e,t)=>{const{__scopeAvatar:n,src:i,onLoadingStatusChange:s=()=>{},...o}=e,l=RP(NP,n),c=FK(i,o),d=Ks(h=>{s(h),l.onImageLoadingStatusChange(h)});return Ln(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?y.jsx(N_.img,{...o,ref:t,src:i}):null});OP.displayName=NP;var PP="AvatarFallback",MP=x.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:i,...s}=e,o=RP(PP,n),[l,c]=x.useState(i===void 0);return x.useEffect(()=>{if(i!==void 0){const d=window.setTimeout(()=>c(!0),i);return()=>window.clearTimeout(d)}},[i]),l&&o.imageLoadingStatus!=="loaded"?y.jsx(N_.span,{...s,ref:t}):null});MP.displayName=PP;function M1(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function FK(e,{referrerPolicy:t,crossOrigin:n}){const i=IK(),s=x.useRef(null),o=i?(s.current||(s.current=new window.Image),s.current):null,[l,c]=x.useState(()=>M1(o,e));return Ln(()=>{c(M1(o,e))},[o,e]),Ln(()=>{const d=v=>()=>{c(v)};if(!o)return;const h=d("loaded"),g=d("error");return o.addEventListener("load",h),o.addEventListener("error",g),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",h),o.removeEventListener("error",g)}},[o,n,t]),l}var VK=kP,$K=OP,HK=MP;function GK({className:e,...t}){return y.jsx(VK,{"data-slot":"avatar",className:it("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function KK({className:e,...t}){return y.jsx($K,{"data-slot":"avatar-image",className:it("aspect-square size-full",e),...t})}function qK({className:e,...t}){return y.jsx(HK,{"data-slot":"avatar-fallback",className:it("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}const D1=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,L1=YO,DP=(e,t)=>n=>{var i;if(t?.variants==null)return L1(e,n?.class,n?.className);const{variants:s,defaultVariants:o}=t,l=Object.keys(s).map(h=>{const g=n?.[h],v=o?.[h];if(g===null)return null;const b=D1(g)||D1(v);return s[h][b]}),c=n&&Object.entries(n).reduce((h,g)=>{let[v,b]=g;return b===void 0||(h[v]=b),h},{}),d=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((h,g)=>{let{class:v,className:b,..._}=g;return Object.entries(_).every(C=>{let[E,R]=C;return Array.isArray(R)?R.includes({...o,...c}[E]):{...o,...c}[E]===R})?[...h,v,b]:h},[]);return L1(e,l,d,n?.class,n?.className)},WK=DP("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive cursor-pointer",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Ht({className:e,variant:t,size:n,asChild:i=!1,...s}){const o=i?TP:"button";return y.jsx(o,{"data-slot":"button",className:it(WK({variant:t,size:n,className:e})),...s})}const Au={1:"animalia",2:"archaea",3:"bacteria",4:"chromista",5:"fungi",6:"plantae",7:"protozoa"},LP={animalia:1,archaea:2,bacteria:3,chromista:4,fungi:5,plantae:6,protozoa:7},To={1:"#ff6b4d",2:"#b561ff",3:"#2fb5a0",4:"#ffb700",5:"#c84726",6:"#5bbd38",7:"#2196f3"},jP={animalia:"#ff6b4d",archaea:"#b561ff",bacteria:"#2fb5a0",chromista:"#ffb700",fungi:"#c84726",plantae:"#5bbd38",protozoa:"#2196f3"},YK={1:"border-[#ff6b4d]",2:"border-[#b561ff]",3:"border-[#2fb5a0]",4:"border-[#ffb700]",5:"border-[#c84726]",6:"border-[#5bbd38]",7:"border-[#2196f3]"},P_=20,Dx=2,j1=20,Lx=20,IP=-9,ZK="/treevera/assets/avif-animalia-B-f7tRK9.avif",XK="/treevera/assets/avif-archaea-9EsGaDQG.avif",QK="/treevera/assets/avif-bacteria-DowZWJad.avif",JK="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAGNbWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAsaWxvYwAAAABEAAACAAEAAAABAAAGJQAACSwAAgAAAAEAAAG1AAAEcAAAAEJpaW5mAAAAAAACAAAAGmluZmUCAAAAAAEAAGF2MDFDb2xvcgAAAAAaaW5mZQIAAAAAAgAAYXYwMUFscGhhAAAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAAw2lwcnAAAACdaXBjbwAAABRpc3BlAAAAAAAAAGwAAABvAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQBBYYHAAANpG1kYXQSAAoGGBm17mFQMuMIEgAKKFDYAsLyjFo3dLA9gFsleEO1sDsKbGus3GXbF8epprVeuAz/W4qkshsFIvEAUItGfQPrZ92zwBMs8RztQBsf0vV/rHO/QPgwhmlSuyaki7uMPY/TisltPIQNjxopDuExE5Hs6N7ATevqJ+cAF2f1NRefv4QF/dt4FnBqjgvtTjwwenfOzj65bgelDbdWE20tA4Qom6YijB4pVwt9vw8D4fItTFoyAAEeZBWU8hohAjaDMUcMa+j3Qmsm2s8JrILwkO8/lsfccCWw0IzlP+T50oxEkA+Vx1yMx68312dGcpTgFQaU98D+TzWMekHuhxY4mo6THEinOC063dFzdb6syJxTbTf1e/X17EPl4c/FJI2coDIDDKBgqRrR1M9o/KMA6WpqwGPEq+eR8CcWH/EgroQVMk100U/vdxmbMCzkX1JIdGmcdI+Y5YaarpHHTG5W7pCISuUuvhIvT/S6j49IwGVcMzpj+dV1eju/GUMZnycN+v76jj5KRcv3F2rsLrMOD5EUsOS2AyQjpSD5EbkDwlVdnfI/eojI/QHVm+pIdGJeDCYN3DPetVpzb+r1q2gA1iveuUGV7C/I4UFs864WmFshyKQUvl6lw+y8nB/Yxek3V1rNnym8vMHR4b0wHO/2KWKo1BWuPx5CcOxn7ELfjzzvorSxZwWmz/+BKD9izo6PiMNh+rJYyN30zjH3M8qZS8nZyh3CkT13gFrroZsp6NSNpq2+EIAoG4WJdf4+rFIIi/Ac/v+e06w9To4Ggr2R5V0+p/G+DPWf5MiY2jCXtguNLwosHAHmuj6KAX9RM7splnnW/trJLvPh7N0UMteps/9kSspdcZaam02qym3V4+zYIxqfFaD39Qtg/61oPuwoboUhk5CvqWpLSwL8hmdaqloryMad594PjesgMbVJJrtp2M4qjCSRc1j3SHDdhEowwcOR91rPCG4EI1+hEnFT2SPblY1CAg0t/iziZZduLb95pH04mrSvU4UgNG8a059Z02kYbht43p4X17v3/lPSZnmp8K2hC6/gwT/WGhd5cGpvsCMZeZxikvcvFJPFJEwiPJkC1K3hDM/gopPjyfdsQmLIOJOGVuK1TSYxwmwb7IJLZ51IlB8+zBqMdfNW3ombH/zbc8CS6dcAEPbmpXUDYWcrtnV6Ru6bGAtq0KAGKX1nflRQ4r7ccW8HEPsiRrFomJUIS+iun6yIqlAdFIXBSw6NPiaQJIN8eStr0kKnB63qXsPk377OKM3hLgQq0Lzk5oy5kzMFPwk7SyScD+B8zCjk2FiOT0cS9gvWKHcbY5AhV/Jub302lnRTxhkfFm2/tZFRF5qBE853vDuafs03gNgsMaFpEWCCRcP2JTT6u3BmGaECfovbWb9JEm0v6sEej+cUnhecfimdjtylV6gaDDr83cqyCJJmnfujFsEWlnzpEGCvNNRz59th42fAruG0PKfCzAS45AXTTMK0+H3mj1MsiVnpscY20+vKXbTqLxIACgkYGbXuYIEBA0IynBJEgACiiihQ1/8mS+0ZHqhaPuYuFtDXyEXMhvC1LFbrnQhf4LGpkza7zu1DS8vAFLD5urBX5K2LYLt/VQM0Pyps0aHsvZloiNVAyzkpp7r3m0IIZjI97mhhLNdJqLMjAYdNaC1SVYzT9iVc8yQGizaVMoH3uM20vAerHeMo5ZQNEUafvZcRKaxf/lqliuV49bVpaubcETXt7HmOwKpz07M0FeUh6dQhQLkG6+YBNccpT7V1krYBk7dV1bLdYxMXRmbZQgbBOkZfSr+tt+tqvYvrHWJmcGEECJmeEjvhcR0t0LtnVzvOhSdtfLqrsDQY2W1Ee4PDIUOoYX9+aW2PPLfAjN4unBzpc+JKqP3//TOyYCvb6cnZyZJ5/Lv2WK8ftLoi4PzMFYhNM+glDVjYOcGZ5Myq+1xLUB9sEq0y/obMrfy2plXXkf6D27bF4C837Jj6Hwwq38kxf83HBxUUqmvyQOtKYTvDPptGS1n+hqTutaY/8RLIeA7boEJAzc7jKkxyHWz31I84xTToQNWvXVXkYaEVsNyw6atPOkRcXH+2cvIWjCzbtzOWkHqyr4IVUPGL4w1Fm5iendMQUGsfVtM/qnhmZdhtMcwLK8wJXBlRy+1/vggQm5kFriq7MQbYycq+SjsGbmFbDfMWT3ajA4w8l2f0P/CmW3/NwX4anmYHK50l/7qQ7URhanrGu9aAyZ24sAWXch7UOc38M4lf9ekXbevCKgbooxHalkxCuDBamvY0rNkNlo72pkvugS8ZzCB5QsqDZSGpFzFZBVECz7rtBWsOe+kjmvNMiCItlYocgEl0JunBdHCisz5TeL8MlkK/pUMEUc3os86qnlky2+/dR1N4oDHsJY4t7VWdw6hYF0nRyUWbljlGQn2wQ1JWFCW8XPFgQrQTBnhK6qyediFfDtFYcyIVNjf0EAd5kLhk850UB6NCBSCRVWNjz+tKk1WXz4YV5Z1V8TAfo0Rmpx6yJlHq7CFnTy0YNxx0GZT9IxULt2md2O+S08vCiMOwricx9goNmcvzaaCi8Lehurd6y/nhbq383eozGUhe3t8vqF3ObuHLdxrjSiFXNAvxRdtqitLT88vZ/o4mOXftv+u64YPtFGwr2jvgyYXV55ilSeR4HSN/YabafECaeNanam2knUhC4JQUEXekLFpXQEOo4CtvXEko5es/IiP2W3SxvSFWYBqycKJYqCtbvJiONlOLMTNa76s9G+9Z0eGugMML8b34wS+GG1a0CB1sM657Qox5bfTeqnAaanXxxCkVsm3KXyhUTQCPVTYxeGFcJ8EalMAhpC3hsg/zk1KRTjxA7H2SY5l3SP+Kav5vSf0e9G8+VR58gbl121l2IrzbgJzStCsNPgYwB//5LYuNxqKbRmGWefHWnzAWgXb/EUQctM4KWglLpfRUSa7nO7cjfDUotPPXSWhxRTYzPLxMqG68sHmxIxu6W7GhY0ZR+sc9JjlPP4ojQevzZ8j3Fh32LtjCRTx4HDrcDm9iyloM+PBdDX8gKmxsk+MvM0M7AtXp16qS1XWjNLfZKY1VZVwyVRALAKD+UsJwl11p1yqKK7A43w8t+yHEemTos+lemT9uKFQH3EdCf7udvDFYuBTNQLrDL9cpwfiZOUS1ioy8JGG2vM9VUSd0moeHvbhvOyFI5ukw3Ek9vtG2Wk56Jlb543NX5HHyyJ6ayvzLJ6qKUAaF9zuKQ1yPFP0tV+npwf7enNrReLrmAtLkYx1qA+ee4aHO700Kli7RygiMM9Si2hIT6cMI3PeihZEp8/uFiaZEOIXRLrkh+jqMdPq9NcC69u6EDopbj/sh3xOJa3Ip6wtnvR2wBJMKV4kSn6zaHvVfUYKeMpGP/+Jq3vHZK0P5S1TRLF0Trt5O0J+2VtpvFuREuyPCLdj6IXBwKZPXphABEqgFYk7eXBfKtsRFDjPJT/ebTDJcXAJTTqLjVC7FIi+KbxJPJ44nIlf/KJ7114UWQIFZLCpO3oq04LvK+9Xp5lTlmabo6IKcBDErD+15rNuMMn9cK2KlYza/kwbN2pq5V4eAvVMjNSAGRDMhFN7DvxY4AeD/+HbGMddkoBQPVIMhatZw0TniuM0BXavTrK4E7C9tkpnA0brcPKt/L7ya1Vzk/4bumauyOmgL08WZBUAM0Pj8hZfFr0xwp30qX0ur4dvvspaM3RQaniPPdKlj8PTleR804UyDllzSvEVvkYnfsK1kj96ZzQfw+B6X6uXxDFXjg9V3rvz2Ky+MURrTsbQXetVEicb/JPACBxw+SL2ZSdT1eEJPEYOThYEVyevmZgP4CfRN4T2i/g7ouekkT2El+Ki678Bou9hJT2uK+iBVAqzvyS/lSMQFgtVPbRycXYRL0xmpVqa6HqzfBw7x9TjYSbjqoOBnD/R/6wSYsp6UkCYd0Fd7KBqoMyLxnKNNY/jjvPngpHH+SmDfHY4c8JZsgbzk0A/kIJAoC8OmfgDV20xILJ8ujCdFVuOOP52rN8biish7YWu4pS9d7Ga4cUXcvevpJB70peN45NBEqr8xjpa//EbYSCycyxQ9woR2Q4+oFqFFjia49aMUxYixWResp7UxXjVFP7Yho8TO2GkccjG667/Q8+U/Bf/2SIhPPyUlwNN7WWjmYQ6qdmzSjp2iyZmI8PUhyl1NY8PuASe2MKc6rWo2DxRmqTtmMq4qKg3EYUAnI0unriMr7QJ5P9ch11MJO4JsdSjJQgpPbSgsLdtB9zQOoiDr9H+FK2UhZC0a/oBWN8pAaBQpEjs8CDc1IEsKK6QN6QiMXaMW76ayfdap95ETzrVBmvJW7oAJvIAHHLqJZvoI2fzWrXBeu7VtIsuApMY8lc/SiCOc+UnC15ym0XJlfbuR2ESZl9jaYN+U1KgBgQGgMo85gHwOqdwDlU5mZNchmGb52pJtZa+4pJ2rfqJZq0z/643WP81PmwDRgciiItmC8fESYLw1OfojDJ4PXgr5BQL0ebZrO2JvjzWsfz990hj6NjfhMxBa5NRnEsJHaC+jaixRB/2P+EZihZeJWxJ4mI/hB6P1QN7eKClBZ+Zy1aUKJGyMR/EpI8uyYy680g1OrdUpIY05oWY+Y6oQbqQXIUchIo/A",e9="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAGNbWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAsaWxvYwAAAABEAAACAAEAAAABAAADrQAABRQAAgAAAAEAAAG1AAAB+AAAAEJpaW5mAAAAAAACAAAAGmluZmUCAAAAAAEAAGF2MDFDb2xvcgAAAAAaaW5mZQIAAAAAAgAAYXYwMUFscGhhAAAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAAw2lwcnAAAACdaXBjbwAAABRpc3BlAAAAAAAAAHcAAACBAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQBBYYHAAAHFG1kYXQSAAoGGBn7QDCoMusDEgAKKFDYAsLyjFo3yjEA9G9zx8r56yTZIgvnVCrfhhL0JlUUXbNXspXqu/0SkF+qCbvzwXswX1AJkHF0hgCZoDxY6YFxyIi9g7vB7C6qawEafmG63TTCXUZe5p/kJydJUg6DzlB/dkEuci+j7MQLA/9LvhRPoCXafFq+HnelQrDlQByrd2Spf0mjbYtagK3gTD8bAICt8pBdLcapp4Y4w76HtSAONq+QOWPk0Ym+wQgc1YBBJqnR0i6amL5iU+ijtckupUsWP/K5MME1u/Or79uNQihpYIxAoskRh0yZexa9wyKaAjCZTFbKHPgW6kI9RfuDj/W341XONFYxNfIVOw+s7FFU3bAZSQl6XLvPcf2LnAnJg7hGm+C/xYfDaa6TtznuaxAj+JYqy+CJHztEP/7MLrYbq/5uedhvDpBnEB2w4x2S9KUKEMjNwV91zyWfig1DbxACu1jeNWjt6X0wj61zCYk3mDnuppySa2pMht7jq9awfwFSBBLepWj7TfrULy19fbXoJR/iBeTW//H3TTsaElyku3PKQ8GddVAFoqJXqZmF6DX6v0j9mlZAiPs3u9fMaDqTYdu8WbyaCZuUNu7UAJJQTn0EIuj/0vAiVxVAi7DDFCtuvzY2DlXFGGlw0V0M9XhHeA6crSoSAAoJGBn7QDBAgIGhMoQKRIAAooooUNf/JkvtGR6oV8dtYj1WBBGv1iQlFx//RbT/tA8xKpuYZIqTv7rRj97uzDG9Sw4ewGvvegI+KVvFcbOmrdfgLNT+2vuCmi69od9wbEbAas/jZIHo8xkmvvn5h29h2QlXvMOuDkI4gMtxZnovlP+pSo8/+265ysscKZkGfXxXNxk2SA4DrqSuQkwW5g0ftc9FAIWkwXUh1V2j3gLbvURWQ652sbP8to5I0lnGrghTXkaD2Gv87p+Hv9xAy+trqwJMfHxtvnl9x9oJN+JR96oaU+2NT1cpWtY8BwgzR5mfixkEX+a4WIaOi5NfZMkA58e81+TOh1LXfuZkBlZoWCF162y1U05LmqbJGmXMAutII8ZnXFJ5XWEKFjoHPL+mFf/9nY2RASmjjPtn4yFY4LNpnRvx2LOvNsslIGMWm8ITxumI+aphIONsnW+6A71P9PWMHhoK/VhqhSP3zDsvDVndkCkLTjyJ8nOVC+8NbJEaBxBhOmagpI5KJC80ejy73dRe6I0+tK0FBi29wS5f9YLymlF8HrOCQ+VIUaxq3MAia/bx3JaiIZ3GBa0K0HnQaE1Fvqltk1WGWziOeeXVfAI9nmp3Fh4w6teeJssyZdOoshU/N05iHomBc9metXKDfMJTthTQ67ZJOqjpMFhRzUIaOT/zXf7PWiLi1fBLhRSjsBs9za4lVyIDTxjLgXutblodGetVkeBg6/GOB1rMHiSK1bksnDBHJ0EGG1Y70m0a6SueEzfjZhJFLMTIuhpwjAZ6Pr8Ro8sh6OltmZc2D+2pjsc3HnewXnbsMxb5aHwUKiIh0CFXdDyeu9p0unC8KTc7MrnfF1yDnWOV2HTX3HJdRQkPA1bGuG9vvaByHfurqVKa8W/P0unk5bMBYXm2DoDtI8/LkYN6T7o/LpilF4XmiCKnFENW50J9tsf88umr6+RWKMOym7iprrQKVya95FRU1WLAuTB/C1zwq0ZRdinCTJ4/iPuP85trKA9Gtk5vFPVU0jekR3aUHp03STpHeykqnbB5RVWUeYAYk3GdhsXO4ewVDY8hxwH7i/sft3dCR3wBgdHs/0CnQJekwSqSGs5fZL6xHnPwOzo/d28nb4rz+Pip8USLtV4ERrAa+lZH53GDYzqz/H4KOWieFJQjFED+/G3FpioFGZDkXJB86LwawLTuDYd4+qWrpfwHPeQhdEHnVNmp8PNXF11dY9gBuDQ6W0dOtvWxaQ59ViELMeWGG4xO3hYnRY/LQUHJIvUmi8GUzYYk6FjfGJi6aUWE4CpJNfTkhRJAhAReHR/EYOqSRtQt4Nq3Yhn9VgovKyxlF6cgLABEKMeOIVRwsu3SXruUQr2qWVCylYhp+9HGAHGGun/xG2N5nBNYqTLku9A9tr7n/ZPQdklz/unNZbLGbP07IGwzeA/uaf8/+S4dDOI8qEvw73aHArq4mbObv1qZXJ2A9oqNichHjFwK/wAyEB7NLr7BFfiln5mOj2DxW8aP5wn/4kyD/2CvAN2Wnt0F8wxzLYR04r9qAr2SUZqYsOvDiR7FCC2sIyQO0cZxGJ2mmLm5lFJcZdvkrptMvji05X6MLFYAHUG1H7o8RFi2iU/9Ur3fFauJtcwx30Yh7sPuKDJLQVB9tZtcBIkBnXAlncpcrkefx6A4H2gnae9+GZFZ22BRx8qge13ZiJd3gz6cwniGpZtJ84bpQkSSmYFY",I1="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAGNbWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAsaWxvYwAAAABEAAACAAEAAAABAAAEVAAABXwAAgAAAAEAAAG1AAACnwAAAEJpaW5mAAAAAAACAAAAGmluZmUCAAAAAAEAAGF2MDFDb2xvcgAAAAAaaW5mZQIAAAAAAgAAYXYwMUFscGhhAAAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAAw2lwcnAAAACdaXBjbwAAABRpc3BlAAAAAAAAAG8AAAB6AAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQBBYYHAAAII21kYXQSAAoGGBm3eWFQMpIFEgAKKFDdK7YhY9FDgo7+mdWsfVkURfvprIG/cOJBkxUD49AD/MzZCP1c2ADPY73n8mfNApWMwOYKVUD/bHJgXBNMtSJ9++5QHxctjqe131Cl2x9Buye16AlUaS4DCaTSfTqyJlPT2lCkMJ7YJ79/CBRhKLG4zwKOHeVZZ4CRWCSgjy9KdT6eQCV3m0C3vuFn0Qm4BiAE+gvv//NsDhrMwj2qHReJLK2YvZ1DbmXNAs/avxk3giFCLqX4nACziQscV1sD+7WTf4ggUBPnU2qbgju2Q1YxKZgE561lHA9W3nx1cr8QLi5b8+pYnIowyabz7xxtCqpmMz/tqRdXIylhDPV9ZSAg0pIPG9oVMkftjV2PqTmefMGw9eHSlm1h6KzsaIDpvmvK1FsvxLcteYDS/wUYjMuac5EKolRQ2QgmyQ5PUqi89hiWpuxCk+kAIlSgxX8pSaRvgwjoKzTRG7KhXi0SEz18JRb8zkm3fQI1hc4HdAQTpApiCnyIaNyNIUnoo3HzE/BlbXa+0VTpB1M02fZcU5qgC3hfde3l2FimtVjqMo3JO/br+5k5RgjRWA3RZg4t/W4v9Ql442U+VczkJbc7+1xfljQTY6rbCtrmpCA0EWcoA0wtJjbWWE1ZkSmgFWghqbo9lu2LSiz+2OfGSyVSk5uRGj/ezjYmlb4e0NadORck49tpU/4n5eqfGlevunn7gFgGrIZb+dXJQzI38CdQ6SF5LG1gSR04x0m7sTcA6Y9vuj77HbWV+kqem6ADB+cmgvKu5dLHmXYESTw+O3//vzUxpQOQLs56j5wS/qCTeE6ImdNt8bwxsqQL368N2FFdnaFJS1V541LwDWt/E4Ye6bBlsVih/J834R0aVWZp4BIACgkYGbd5YIEBA0Iy7ApEgACiiihQ3GoDuV6oJ1tQulM9kmZu+DezSPd9HEBXhwInIn2iHF8xYI8xiy89UMOvIg6dR7H71dlvqqVDKnaUGwhgbfdIxQofuuCrh6CHtTLVZ+TsFHSQnOOTbXJQDbMAMIZadkQNKxPfZwvxAJjdRjXcEJJ/lGu/RZ/i+YnBwuvEhe6GT7p70qf9bLLUL1v5xaCWt0PWh+R3IaFmdnHW9bRCIW+FLjWJJpFrJ/QZoFUbFIWPllNx38Yfpl2pAvCdpg3DXq9RAPyPS1Lo2kcpvXQQE44QpwhdpnRhdrIq+wq/p4N5E+DE4EsiHHcVBOIxB0GaezT2AY3h+8acr17iHqlr/cAUT/WEK1yXTuQKXb2HQC3rwFMGEcpSXElvFLixVMdvpoIAuokXc7GXkZl6VNNSyX5NbdT6y5A0hS3REp8uTGf6pDbr7Bpwx4omX4SV6PjGoslNXeASq41ED+C9ijdb88OGDfpn30Z2YY59ewI9kDwXmOuAwXwool2GH9kjpDnWURjiGSvo3fVJ9OIoGRmkKDrQ5kSsf1LiyG0sMNr1Tu6xFZayQLpunPeNDjzRWNvzNeCFID/LQpif0z+vplcFYSwC04cVCpWZOVtjqyq40JL3PqAiRPmyk35KOP+dsk4Jh4KVyDfGIlqh/QTnCD63Lrpfc8i1+ymgKfsNZB4gfrnMcYUoBLx7q34ZlNyMT627fSKfcBa7jWJGSnUfrs4p3aJwGAmOlx/oMIcyrFjA5zg4uUWl4j5f6wRqkIMrx/Uf2a+xD051ctLAFa+4lAntw0Mfye6bY4etFuQ0qTekDRkmBxaRpmLeWDx0zDW9mgHsPovaQIxKkFepWAw6Wwby3BLD2b27rhjVCNi4Qq29ZEi9R0CGtZvWRfnif/nI9dkyup9PBranmyhxKS6lS/Lw89S2oU+l92Szpn4fQIkLe5XPSzmJUWvZWLvgn9s833lX5XWn4ptCHCorjCv7WHo1JIpbBJS6qGbdp3S/KT7JD121T8vFHCB6J7y9vJxdkB4PV1sdx3b/Zbh1oaWB8X19MWR+qaFOTEklhd2bC7extbnZ4+4DbgR4Qbz9BKPjTjZB0nuhgI0b+///dC5+1qwr2F8zePhEZRdmTeFW+yk4JsSQ/HVvCiSFTSJ0rtxHD75Xy5zTcDQXQWRULK62xy0Ujfl/wSSsneg1AtC4Dl2gO9+tHSldL3OZXGTbXkrvTLzgJvZlTo0DI5cAJGYeE93bL19hlI1aRtTTqUOJJLXs8OJYFd/8OxEZzhbAyLBW/OpJ22B9SozPcV++dDfFyiI36Vnq6t8vOLdD7ZBB4mFAXMS8GT1/BCaDo81SXO/AXTG+ucyermTZsqGZG7jbdkZu3/9uUKFJewulKhRIfWc3FKyjszcQQPT+VnjZeD4AigIlYPpmuApVtp4VL9sxB2FxymGtnKNh95k18aNz/yb0y+QMk0dlZWKUUOPhsSnoKTnEwHhB6BQ9sTK5bNVZw6/pBSb30yNfVC9n+VRV0ZbBkLVjx4kZHCgehVhV/P9+3l/SOFQ0lbYq7BKuDcxiGexdNtpSci7palVxm+WBLgY9l90X5XOyT5Imn1Nd5EEmy7+A24eRpYzrQYWrQwJwxMPh9piNy397M52MghUGboxDdjtBNzEkaG4t+cmu6roABlDqg0Zn8eDw8M6wKKgK75tfFT7n5wTSWOElW83rLzz7XFrp2Tmf4ePRqEx3Ap2Lp4ufiiqEjAGnGZi8d6bmCk2csIktyKyR6vzNIJ6Rwu4JAckzKUF3RocyNgv6NEsf5d5E6s679jB7nkV6B2l3Gs73+FX6eFTkR5S+vxGu6J+1TtzAFRzAD1GwwA==",t9="/treevera/assets/avif-protozoa-RsH4rUqA.avif",Qi=e=>e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():"",n9={Crocodylia:"Order",Squamata:"Order",Testudines:"Order",Sphenodontia:"Order"},gs=e=>{switch(e){case 1:return ZK;case 2:return XK;case 3:return QK;case 4:return JK;case 5:return e9;case 6:return I1;case 7:return t9;default:return I1}},i9=[{kingdomKey:1,kingdomName:"Animalia",numDescendants:0,explored:0,icon:gs(1),primaryColor:To[1],lightColor:"#fff3f0",description:"Organismos multicelulares hetertrofos que se alimentam de outros seres vivos.",mainGroups:[{groupName:"Mamferos",pathNode:[{key:1,rank:"KINGDOM",name:"Animalia"},{rank:"PHYLUM",key:44},{rank:"CLASS",key:359}]},{groupName:"Aves",pathNode:[{key:1,rank:"KINGDOM",name:"Animalia"},{rank:"PHYLUM",key:44},{rank:"CLASS",key:212}]},{groupName:"Insetos",pathNode:[{key:1,rank:"KINGDOM",name:"Animalia"},{rank:"PHYLUM",key:54},{rank:"CLASS",key:216}]}]},{kingdomKey:2,kingdomName:"Archaea",numDescendants:0,explored:0,icon:gs(2),primaryColor:To[2],lightColor:"#f8f3ff",description:"Micro-organismos unicelulares procariontes que vivem em ambientes extremos.",mainGroups:[{groupName:"Thermoproteota",pathNode:[{rank:"KINGDOM",key:2,name:"Archaea"},{rank:"PHYLUM",key:10807497}]},{groupName:"Nanoarchaeia",pathNode:[{rank:"KINGDOM",key:2,name:"Archaea"},{rank:"PHYLUM",key:10706191},{rank:"CLASS",key:10809188}]}]},{kingdomKey:3,kingdomName:"Bacteria",numDescendants:0,explored:0,icon:gs(3),primaryColor:To[3],lightColor:"#f0fbf9",description:"Organismos unicelulares procariontes, encontrados em praticamente todos os ambientes.",mainGroups:[{groupName:"Cyanobacteria",pathNode:[{rank:"KINGDOM",key:3,name:"Bacteria"},{rank:"PHYLUM",key:68}]},{groupName:"Flavobacteriales",pathNode:[{rank:"KINGDOM",key:3,name:"Bacteria"},{rank:"PHYLUM",key:10707955},{rank:"CLASS",key:7498440},{rank:"ORDER",key:569}]}]},{kingdomKey:4,kingdomName:"Chromista",numDescendants:0,explored:0,icon:gs(4),primaryColor:To[4],lightColor:"#fff9ed",description:"Grupo diverso de organismos, incluindo algas marrons e diatomceas, geralmente fotossintticos.",mainGroups:[{groupName:"Heterotrichea",pathNode:[{rank:"KINGDOM",key:4,name:"Chromista"},{rank:"PHYLUM",key:7765738},{rank:"CLASS",key:8235041,name:"Chromista"}]},{groupName:"Bacillariophyceae",pathNode:[{rank:"KINGDOM",key:4,name:"Chromista"},{rank:"PHYLUM",key:98},{rank:"CLASS",key:7947184}]}]},{kingdomKey:5,kingdomName:"Fungi",numDescendants:0,explored:0,icon:gs(5),primaryColor:To[5],lightColor:"#fff3ef",description:"Organismos hetertrofos com parede celular quitinosa, decompositores na natureza.",mainGroups:[{groupName:"Cogumelos",pathNode:[{rank:"KINGDOM",key:5},{rank:"PHYLUM",key:34}]},{groupName:"Leveduras",pathNode:[{rank:"KINGDOM",key:5,name:"Fungi"},{rank:"PHYLUM",key:95},{rank:"CLASS",key:182},{rank:"ORDER",key:1281}]}]},{kingdomKey:6,kingdomName:"Plantae",numDescendants:0,explored:0,icon:gs(6),primaryColor:To[6],lightColor:"#f3fbf0",description:"Organismos fotossintticos multicelulares, produtores de oxignio e base das cadeias alimentares.",mainGroups:[{groupName:"Angiospermas",pathNode:[{rank:"KINGDOM",key:6,name:"Plantae"},{rank:"PHYLUM",key:7707728},{rank:"CLASS",key:220}]},{groupName:"Jungermanniopsida",pathNode:[{rank:"KINGDOM",key:6,name:"Plantae"},{rank:"PHYLUM",key:9},{rank:"CLASS",key:126}]},{groupName:"Brifitas",pathNode:[{rank:"KINGDOM",key:6,name:"Plantae"},{rank:"PHYLUM",key:35}]}]},{kingdomKey:7,kingdomName:"Protozoa",numDescendants:0,explored:0,icon:gs(7),primaryColor:To[7],lightColor:"#f0f7ff",description:"Organismos unicelulares eucariontes, geralmente mveis e hetertrofos.",mainGroups:[{groupName:"Amebas",pathNode:[{rank:"KINGDOM",key:7,name:"Protozoa"},{rank:"PHYLUM",key:7509337}]},{groupName:"Euglenoidea",pathNode:[{rank:"KINGDOM",key:7,name:"Protozoa"},{rank:"PHYLUM",key:41}]}]}],z1={KINGDOM:{1:["O reino Animalia foi descrito pela primeira vez por Carl Linnaeus em seu livro Systema Naturae, publicado em 1758.","O termo 'Animalia' tem origem no latim.  o plural de 'animalis', que significa 'ser vivo' ou 'ser que respira'.","Inclui todos os animais multicelulares, heterotrficos e geralmente com mobilidade em alguma fase da vida.","Estima-se que existam mais de 7 milhes de espcies animais, sendo que apenas cerca de 1,5 milho foram descritas pela cincia.","A maioria dos animais se reproduz sexualmente e passa por um desenvolvimento embrionrio complexo.","Os membros do reino Animalia possuem tecidos diferenciados, com exceo de algumas formas muito simples como esponjas.","Representantes do reino Animalia vivem em praticamente todos os ambientes da Terra, incluindo ambientes extremos.","Animalia  um dos cinco (ou seis) reinos na classificao biolgica tradicional, ao lado de Plantae, Fungi, Protista, Bacteria e Archaea."],2:["O reino Archaea inclui organismos procariontes que se distinguem das bactrias por sua bioqumica e gentica.","Archaea foram reconhecidos como um grupo separado das bactrias apenas na dcada de 1970, por Carl Woese.","Esses microrganismos vivem em ambientes extremos, como fontes termais, lagos salgados e regies com pH extremo  por isso so chamados de extremfilos.","Apesar de serem procariontes, os arqueanos possuem algumas semelhanas moleculares com os eucariontes.","Seu DNA  organizado de forma mais complexa que o das bactrias, e suas membranas celulares so compostas por lipdios nicos.","Archaea no causam doenas conhecidas em humanos, ao contrrio de muitas bactrias.","So importantes para processos ecolgicos, como a produo de metano em ambientes anaerbicos.","Atualmente, Archaea  considerado um domnio separado de Bacteria e Eukarya, na rvore da vida moderna."],3:["O reino Bacteria inclui organismos unicelulares procariontes, presentes em praticamente todos os ambientes da Terra.","So extremamente diversos e numerosos  uma colher de solo pode conter bilhes de bactrias.","Bactrias tm papel fundamental na decomposio, ciclos biogeoqumicos e simbioses com outros organismos.","Podem ser patognicas (causadoras de doenas), mas muitas so benficas ou essenciais  vida, como as que vivem no intestino humano.","As bactrias se reproduzem principalmente por fisso binria, uma forma rpida de reproduo assexuada.","Elas foram os primeiros seres vivos da Terra, com fsseis datando de mais de 3,5 bilhes de anos.","Muitas bactrias podem formar esporos resistentes, sobrevivendo a condies extremas por longos perodos.","So amplamente usadas na biotecnologia, agricultura, medicina e indstria alimentar (como na produo de iogurte e queijos)."],4:["Chromista  um reino proposto para agrupar organismos como algas marrons, diatomceas e oomicetos.","Foi introduzido por Thomas Cavalier-Smith em 1981 como uma alternativa ao reino Protista.","A maioria dos organismos do reino Chromista  fotossintetizante, possuindo cloroplastos com origem secundria.","O grupo inclui organismos unicelulares e multicelulares, a maioria vivendo em ambientes aquticos.","Diatomceas, que pertencem a este reino, so importantes produtores primrios em ecossistemas marinhos.","Os membros do reino Chromista possuem parede celular geralmente composta por celulose ou slica.","Alguns membros so patgenos de plantas, como os oomicetos que causam a requeima em batatas.","Ainda h debates sobre a validade do reino Chromista, e sua classificao pode variar entre sistemas taxonmicos."],5:["O reino Fungi inclui organismos eucariontes como cogumelos, leveduras e bolores.","Todos os fungos so heterotrficos e obtm nutrientes por absoro, aps secretar enzimas digestivas no ambiente.","Sua parede celular  composta por quitina, um polissacardeo tambm encontrado no exoesqueleto de artrpodes.","Fungos desempenham papel crucial na decomposio e reciclagem de matria orgnica nos ecossistemas.","Algumas espcies formam micorrizas, associaes simbiticas com razes de plantas, beneficiando ambas.","Outros fungos so usados na produo de alimentos e bebidas, como po, cerveja e vinho, atravs da fermentao.","Vrios fungos so fontes de medicamentos importantes, como a penicilina.","Apesar de parecerem plantas, fungos so mais prximos dos animais na rvore evolutiva."],6:["Protozorios so organismos eucariontes unicelulares tradicionalmente agrupados no reino Protista (ou Protozoa, em classificaes alternativas).","Vivem principalmente em ambientes aquticos ou midos e podem ser de vida livre ou parasitas.","O termo 'protozorio' vem do grego e significa 'primeiro animal', embora eles no sejam animais de fato.","Movimentam-se por flagelos, clios ou pseudpodes, dependendo do grupo.","Alguns protozorios causam doenas em humanos, como a malria (Plasmodium) e a doena de Chagas (Trypanosoma).","So importantes na cadeia alimentar aqutica, atuando como consumidores primrios de bactrias e algas.","A classificao de protozorios tem sido revista, e muitos so hoje redistribudos em supergrupos e domnios modernos.","Apesar de sua simplicidade estrutural, podem ter ciclos de vida complexos com vrias fases e hospedeiros."],7:["O reino Plantae inclui organismos eucariontes multicelulares, autotrficos e com parede celular de celulose.","Realizam fotossntese utilizando clorofila, sendo a base da maioria das cadeias alimentares terrestres.","O termo 'Plantae' vem do latim e significa literalmente 'plantas'.","Inclui desde musgos e samambaias at rvores, gramneas e flores.","As plantas so fundamentais para a produo de oxignio e o sequestro de dixido de carbono na atmosfera.","Existem mais de 390 mil espcies de plantas descritas, das quais cerca de 90% so plantas com flores (angiospermas).","Possuem ciclo de vida com alternncia de geraes (esporfito e gametfito).","Plantas so utilizadas pela humanidade desde a antiguidade para alimentao, medicina, construo, rituais e decorao."]},PHYLUM:["O termo 'Filo' (ou 'Phylum' em ingls)  o segundo maior nvel na hierarquia taxonmica tradicional, logo abaixo do Reino.","Um filo agrupa organismos que compartilham caractersticas estruturais ou funcionais fundamentais.","Filos so usados para representar divergncias evolutivas profundas entre grandes grupos de organismos.","O nmero de filos em um reino pode variar dependendo do grupo de seres vivos e do sistema de classificao adotado.","Em botnica, o termo equivalente a 'filo'  frequentemente 'diviso', embora os dois sejam conceitualmente semelhantes.","A definio de um filo  baseada em critrios anatmicos, genticos e embriolgicos, conforme o grupo de organismos.","Os filos ajudam os cientistas a organizar e compreender a diversidade biolgica em uma escala ampla.","Muitos filos foram estabelecidos com base em fsseis e caractersticas morfolgicas, mas estudos moleculares vm refinando essas classificaes."],CLASS:["Classe  o terceiro nvel na hierarquia taxonmica tradicional, abaixo do filo e acima da ordem.","Uma classe agrupa organismos dentro de um mesmo filo que compartilham caractersticas mais especficas.","O conceito de classe foi introduzido por Carl Linnaeus e permanece amplamente utilizado na classificao moderna.","A quantidade de classes em um reino pode variar bastante dependendo do grupo e do nvel de estudo taxonmico.","A classificao em classes pode ser revista com base em estudos genticos, moleculares e filogenticos modernos.","Algumas classes renem organismos com grande diversidade morfolgica, ecolgica ou gentica.","Classes so importantes para representar agrupamentos intermedirios amplos na hierarquia taxonmica.","Novas classes so ocasionalmente propostas  medida que novas descobertas so feitas, especialmente entre microrganismos e organismos marinhos."],ORDER:["Ordem  um nvel taxonmico que fica abaixo da classe e acima da famlia.","Organismos de uma mesma ordem compartilham caractersticas estruturais e funcionais mais especficas do que os de uma mesma classe.","O conceito de ordem foi formalizado por Carl Linnaeus e continua sendo relevante na taxonomia moderna.","O nmero de ordens em um reino pode variar amplamente, refletindo a diversidade dos organismos agrupados.","Os nomes das ordens seguem convenes especficas em cada ramo da biologia, variando entre zoologia, botnica e microbiologia.","As ordens ajudam a organizar e agrupar famlias que compartilham um ancestral comum relativamente recente.","Algumas ordens contm apenas uma ou poucas espcies, enquanto outras so extremamente diversas.","Estudos moleculares modernos tm levado  criao, fuso ou diviso de ordens, aprimorando a classificao filogentica."],FAMILY:["Famlia  um nvel taxonmico situado abaixo da ordem e acima do gnero.","Rene organismos que compartilham caractersticas morfolgicas, genticas ou comportamentais muito semelhantes.","Os nomes das famlias seguem convenes taxonmicas especficas, como o sufixo '-idae' na zoologia e '-aceae' na botnica.","Uma famlia pode conter um ou vrios gneros e dezenas ou at centenas de espcies.","A delimitao de famlias  feita com base em estudos comparativos, incluindo gentica, morfologia e filogenia.","Novas famlias podem ser criadas conforme o avano da taxonomia molecular e a descoberta de novos organismos.","Famlias facilitam a comunicao cientfica ao agrupar organismos com alto grau de parentesco evolutivo.","O nmero de famlias reconhecidas em cada reino varia conforme o grupo e o nvel de detalhamento taxonmico."],GENUS:["Gnero  uma categoria taxonmica situada abaixo da famlia e acima da espcie.","Agrupa uma ou mais espcies que compartilham caractersticas morfolgicas e genticas muito prximas.","A nomenclatura cientfica binomial utiliza o nome do gnero como a primeira parte do nome de uma espcie.","O conceito de gnero foi introduzido por Carl Linnaeus no sculo XVIII como parte de seu sistema de classificao binomial.","Gneros podem conter uma nica espcie (gneros monoespecficos) ou muitas espcies diferentes.","A delimitao de um gnero  baseada em critrios morfolgicos, anatmicos, comportamentais e moleculares.","Com o avano da gentica, a classificao de muitos gneros tem sido revisada e atualizada.","Existem dezenas de milhares de gneros descritos na natureza, e esse nmero continua crescendo com novas descobertas."]},Lg={},s9=Symbol((Lg?"production":void 0)!=="production"?"RESET":"");let B1=!1;function r9(e,t){(Lg?"production":void 0)!=="production"&&!B1&&(console.warn("[DEPRECATED] atomFamily is deprecated and will be removed in v3. Please use the `jotai-family` package instead: https://github.com/jotaijs/jotai-family"),B1=!0);let n=null;const i=new Map,s=new Set,o=c=>{let d;if(d=i.get(c),d!==void 0)if(n?.(d[1],c))o.remove(c);else return d[0];const h=e(c);return i.set(c,[h,Date.now()]),l("CREATE",c,h),h},l=(c,d,h)=>{for(const g of s)g({type:c,param:d,atom:h})};return o.unstable_listen=c=>(s.add(c),()=>{s.delete(c)}),o.getParams=()=>i.keys(),o.remove=c=>{{if(!i.has(c))return;const[d]=i.get(c);i.delete(c),l("REMOVE",c,d)}},o.setShouldRemove=c=>{if(n=c,!!n)for(const[d,[h,g]]of i)n(g,d)&&(i.delete(d),l("REMOVE",d,h))},o}const zP=e=>typeof e?.then=="function";function o9(e=()=>{try{return window.localStorage}catch(n){(Lg?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(n);return}},t){var n;let i,s;const o={getItem:(d,h)=>{var g,v;const b=C=>{if(C=C||"",i!==C){try{s=JSON.parse(C,t?.reviver)}catch{return h}i=C}return s},_=(v=(g=e())==null?void 0:g.getItem(d))!=null?v:null;return zP(_)?_.then(b):b(_)},setItem:(d,h)=>{var g;return(g=e())==null?void 0:g.setItem(d,JSON.stringify(h,void 0))},removeItem:d=>{var h;return(h=e())==null?void 0:h.removeItem(d)}},l=d=>(h,g,v)=>d(h,b=>{let _;try{_=JSON.parse(b||"")}catch{_=v}g(_)});let c;try{c=(n=e())==null?void 0:n.subscribe}catch{}return!c&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(c=(d,h)=>{if(!(e()instanceof window.Storage))return()=>{};const g=v=>{v.storageArea===e()&&v.key===d&&h(v.newValue)};return window.addEventListener("storage",g),()=>{window.removeEventListener("storage",g)}}),c&&(o.subscribe=l(c)),o}const a9=o9();function l9(e,t,n=a9,i){const s=pt(t);return(Lg?"production":void 0)!=="production"&&(s.debugPrivate=!0),s.onMount=l=>{l(n.getItem(e,t));let c;return n.subscribe&&(c=n.subscribe(e,l,t)),c},pt(l=>l(s),(l,c,d)=>{const h=typeof d=="function"?d(l(s)):d;return h===s9?(c(s,t),n.removeItem(e)):zP(h)?h.then(g=>(c(s,g),n.setItem(e,g))):(c(s,h),n.setItem(e,h))})}const c9=pt({mode:null,status:"NOT_STARTED"}),u9=pt(i9),d9=pt({isShaking:!1,shakeDirection:!0}),ql=pt({}),f9=pt([]),bu=pt([]),BP=pt(null),UP=pt(null,(e,t,n)=>{t(BP,n)}),h9=pt(null,(e,t,n)=>{t(ql,i=>{const s={...i};return n.forEach(o=>{s[o.key]={...s[o.key],...o}}),s})}),p9=pt(null,(e,t,n)=>{t(bu,n)}),FP=r9(e=>pt(t=>t(ql)[e],(t,n,i)=>{n(ql,s=>{const o=s[e],l=typeof i=="function"?i(o):{...o,...i};return{...s,[e]:l}})})),m9=pt(null,(e,t,n)=>{const{key:i,children:s}=n;t(ql,o=>{const l={...o};return s.forEach(c=>{l[c.key]={...l[c.key]??{},...c,parentKey:i}}),l[i]={...l[i]??{},childrenKeys:s.map(c=>c.key)},l})});pt(null,(e,t,n)=>{const i=e(ql),s=i[n];if(!s)return;const o=e(bu),l=o.findIndex(g=>g.key===n);if(l!==-1){t(bu,o.slice(0,l));return}const c=[];let d=s;for(;d;)c.unshift(d),d=d.parentKey?i[d.parentKey]:void 0;const h=c.map(g=>({key:g.key,rank:g.rank,name:g.rank==="KINGDOM"?Qi(Au[g.key]):g.canonicalName||g.scientificName||""}));t(bu,h)});let Yd=new Set;const g9=pt(null,(e,t)=>{const n=e(bu),i=new Set(n.filter(l=>l.rank!=="SPECIES").map(l=>l.key));if(i.size===Yd.size&&[...i].every(l=>Yd.has(l)))return;const s=[...Yd].filter(l=>!i.has(l)),o=[...i].filter(l=>!Yd.has(l));Yd=i,t(ql,l=>{if(s.length===0&&o.length===0)return l;const c={...l};for(const d of s)c[d]&&(c[d]={...c[d],expanded:!1});for(const d of o){const h=n.find(g=>g.key===d);c[d]?c[d]={...c[d],expanded:!0}:h&&(c[d]={...h,numDescendants:0,expanded:!0})}return c})}),v9=pt(null);pt(null,(e,t,n)=>{t(v9,n)});const VP=pt(null),y9=pt(null,(e,t,n)=>{t(VP,n)}),$P=pt(new Set),b9=pt(null,(e,t,n)=>{t($P,new Set(n))}),HP=pt(null),x9=pt(null,(e,t,n)=>{t(HP,n)});pt({});const Da=pt(null),tt={challenge:c9,exploreInfos:u9,animate:d9,expandedNodes:bu,highlightedKeys:$P,scrollToRank:VP,scrollToNodeKey:HP,shortcutScrollTarget:BP,nodes:ql,rootKeys:f9,mergeNodes:h9},GP=pt(null),KP=pt(null),qP=pt("idle"),WP=pt("idle"),YP=pt(!1),_9=pt(null),w9=pt(e=>{const t=e(GP),n=e(KP);return e(YP)&&!!t?.user&&!!n});pt(e=>e(qP)==="loading"||e(WP)==="loading");const S9=pt(null);pt(!1);const st={session:GP,userDb:KP,loginStatus:qP,logoutStatus:WP,error:_9,initialized:YP,isAuthenticated:w9,lastAuthCheck:S9},C9=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class M_ extends Error{constructor(t,n="FunctionsError",i){super(t),this.name=n,this.context=i}}class E9 extends M_{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class U1 extends M_{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class F1 extends M_{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var jx;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(jx||(jx={}));class A9{constructor(t,{headers:n={},customFetch:i,region:s=jx.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=C9(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return AF(this,arguments,void 0,function*(n,i={}){var s;let o,l;try{const{headers:c,method:d,body:h,signal:g,timeout:v}=i;let b={},{region:_}=i;_||(_=this.region);const C=new URL(`${this.url}/${n}`);_&&_!=="any"&&(b["x-region"]=_,C.searchParams.set("forceFunctionRegion",_));let E;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",E=h):typeof h=="string"?(b["Content-Type"]="text/plain",E=h):typeof FormData<"u"&&h instanceof FormData?E=h:(b["Content-Type"]="application/json",E=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?E=JSON.stringify(h):E=h;let R=g;v&&(l=new AbortController,o=setTimeout(()=>l.abort(),v),g?(R=l.signal,g.addEventListener("abort",()=>l.abort())):R=l.signal);const N=yield this.fetch(C.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),c),body:E,signal:R}).catch(D=>{throw new E9(D)}),k=N.headers.get("x-relay-error");if(k&&k==="true")throw new U1(N);if(!N.ok)throw new F1(N);let O=((s=N.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),M;return O==="application/json"?M=yield N.json():O==="application/octet-stream"||O==="application/pdf"?M=yield N.blob():O==="text/event-stream"?M=N:O==="multipart/form-data"?M=yield N.formData():M=yield N.text(),{data:M,error:null,response:N}}catch(c){return{data:null,error:c,response:c instanceof F1||c instanceof U1?c.context:void 0}}finally{o&&clearTimeout(o)}})}}var T9=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},R9=class{constructor(e){var t,n,i;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(i=e.urlLengthLimit)!==null&&i!==void 0?i:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let s=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let l=null,c=null,d=null,h=o.status,g=o.statusText;if(o.ok){var v,b;if(n.method!=="HEAD"){var _;const N=await o.text();N===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((_=n.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?c=N:c=JSON.parse(N))}const E=(v=n.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),R=(b=o.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");E&&R&&R.length>1&&(d=parseInt(R[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(c)&&(c.length>1?(l={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,h=406,g="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var C;const E=await o.text();try{l=JSON.parse(E),Array.isArray(l)&&o.status===404&&(c=[],l=null,h=200,g="OK")}catch{o.status===404&&E===""?(h=204,g="No Content"):l={message:E}}if(l&&n.isMaybeSingle&&(!(l==null||(C=l.details)===null||C===void 0)&&C.includes("0 rows"))&&(l=null,h=200,g="OK"),l&&n.shouldThrowOnError)throw new T9(l)}return{error:l,data:c,count:d,status:h,statusText:g}});return this.shouldThrowOnError||(s=s.catch(o=>{var l;let c="",d="",h="";const g=o?.cause;if(g){var v,b,_,C;const N=(v=g?.message)!==null&&v!==void 0?v:"",k=(b=g?.code)!==null&&b!==void 0?b:"";c=`${(_=o?.name)!==null&&_!==void 0?_:"FetchError"}: ${o?.message}`,c+=`

Caused by: ${(C=g?.name)!==null&&C!==void 0?C:"Error"}: ${N}`,k&&(c+=` (${k})`),g?.stack&&(c+=`
${g.stack}`)}else{var E;c=(E=o?.stack)!==null&&E!==void 0?E:""}const R=this.url.toString().length;return o?.name==="AbortError"||o?.code==="ABORT_ERR"?(h="",d="Request was aborted (timeout or manual cancellation)",R>this.urlLengthLimit&&(d+=`. Note: Your request URL is ${R} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(g?.name==="HeadersOverflowError"||g?.code==="UND_ERR_HEADERS_OVERFLOW")&&(h="",d="HTTP headers exceeded server limits (typically 16KB)",R>this.urlLengthLimit&&(d+=`. Your request URL is ${R} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(l=o?.name)!==null&&l!==void 0?l:"FetchError"}: ${o?.message}`,details:c,hint:d,code:h},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},k9=class extends R9{select(e){let t=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,t?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const V1=new RegExp("[,()]");var su=class extends k9{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(i=>typeof i=="string"&&V1.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(i=>typeof i=="string"&&V1.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},N9=class{constructor(e,{headers:t={},schema:n,fetch:i,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=i,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:i}=t??{},s=n?"HEAD":"GET";let o=!1;const l=(e??"*").split("").map(h=>/\s/.test(h)&&!o?"":(h==='"'&&(o=!o),h)).join(""),{url:c,headers:d}=this.cloneRequestState();return c.searchParams.set("select",l),i&&d.append("Prefer",`count=${i}`),new su({method:s,url:c,headers:d,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var i;const s="POST",{url:o,headers:l}=this.cloneRequestState();if(t&&l.append("Prefer",`count=${t}`),n||l.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(c.length>0){const d=[...new Set(c)].map(h=>`"${h}"`);o.searchParams.set("columns",d.join(","))}}return new su({method:s,url:o,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){var o;const l="POST",{url:c,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&c.searchParams.set("on_conflict",t),i&&d.append("Prefer",`count=${i}`),s||d.append("Prefer","missing=default"),Array.isArray(e)){const h=e.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(h.length>0){const g=[...new Set(h)].map(v=>`"${v}"`);c.searchParams.set("columns",g.join(","))}}return new su({method:l,url:c,headers:d,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const i="PATCH",{url:s,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new su({method:i,url:s,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:i,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new su({method:n,url:i,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Af(e){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(e)}function O9(e,t){if(Af(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Af(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P9(e){var t=O9(e,"string");return Af(t)=="symbol"?t:t+""}function M9(e,t,n){return(t=P9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Zp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$1(Object(n),!0).forEach(function(i){M9(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$1(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}var D9=class ZP{constructor(t,{headers:n={},schema:i,fetch:s,timeout:o,urlLengthLimit:l=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=i,this.urlLengthLimit=l;const c=s??globalThis.fetch;o!==void 0&&o>0?this.fetch=(d,h)=>{const g=new AbortController,v=setTimeout(()=>g.abort(),o),b=h?.signal;if(b){if(b.aborted)return clearTimeout(v),c(d,h);const _=()=>{clearTimeout(v),g.abort()};return b.addEventListener("abort",_,{once:!0}),c(d,Zp(Zp({},h),{},{signal:g.signal})).finally(()=>{clearTimeout(v),b.removeEventListener("abort",_)})}return c(d,Zp(Zp({},h),{},{signal:g.signal})).finally(()=>clearTimeout(v))}:this.fetch=c}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new N9(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new ZP(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:i=!1,get:s=!1,count:o}={}){var l;let c;const d=new URL(`${this.url}/rpc/${t}`);let h;const g=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(g)),v=i&&Object.values(n).some(g);v?(c="POST",h=n):i||s?(c=i?"HEAD":"GET",Object.entries(n).filter(([_,C])=>C!==void 0).map(([_,C])=>[_,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([_,C])=>{d.searchParams.append(_,C)})):(c="POST",h=n);const b=new Headers(this.headers);return v?b.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&b.set("Prefer",`count=${o}`),new su({method:c,url:d,headers:b,schema:this.schemaName,body:h,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}};class L9{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const i=n.versions;if(i&&i.node){const s=i.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const i=this.getWebSocketConstructor();return new i(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const j9="2.97.0",I9=`realtime-js/${j9}`,z9="1.0.0",XP="2.0.0",H1=XP,Ix=1e4,B9=1e3,U9=100;var Sa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Sa||(Sa={}));var Un;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Un||(Un={}));var fr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(fr||(fr={}));var zx;(function(e){e.websocket="websocket"})(zx||(zx={}));var Pl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Pl||(Pl={}));class F9{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let i=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,i;const s=(i=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,i;const s=(i=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:{},l=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,n,i){var s,o;const l=t.topic,c=(s=t.ref)!==null&&s!==void 0?s:"",d=(o=t.join_ref)!==null&&o!==void 0?o:"",h=t.payload.event,g=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},v=Object.keys(g).length===0?"":JSON.stringify(g);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+c.length+l.length+h.length+v.length,_=new ArrayBuffer(this.HEADER_LENGTH+b);let C=new DataView(_),E=0;C.setUint8(E++,this.KINDS.userBroadcastPush),C.setUint8(E++,d.length),C.setUint8(E++,c.length),C.setUint8(E++,l.length),C.setUint8(E++,h.length),C.setUint8(E++,v.length),C.setUint8(E++,n),Array.from(d,N=>C.setUint8(E++,N.charCodeAt(0))),Array.from(c,N=>C.setUint8(E++,N.charCodeAt(0))),Array.from(l,N=>C.setUint8(E++,N.charCodeAt(0))),Array.from(h,N=>C.setUint8(E++,N.charCodeAt(0))),Array.from(v,N=>C.setUint8(E++,N.charCodeAt(0)));var R=new Uint8Array(_.byteLength+i.byteLength);return R.set(new Uint8Array(_),0),R.set(new Uint8Array(i),_.byteLength),R.buffer}decode(t,n){if(this._isArrayBuffer(t)){let i=this._binaryDecode(t);return n(i)}if(typeof t=="string"){const i=JSON.parse(t),[s,o,l,c,d]=i;return n({join_ref:s,ref:o,topic:l,event:c,payload:d})}return n({})}_binaryDecode(t){const n=new DataView(t),i=n.getUint8(0),s=new TextDecoder;if(i===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,n,s)}_decodeUserBroadcast(t,n,i){const s=n.getUint8(1),o=n.getUint8(2),l=n.getUint8(3),c=n.getUint8(4);let d=this.HEADER_LENGTH+4;const h=i.decode(t.slice(d,d+s));d=d+s;const g=i.decode(t.slice(d,d+o));d=d+o;const v=i.decode(t.slice(d,d+l));d=d+l;const b=t.slice(d,t.byteLength),_=c===this.JSON_ENCODING?JSON.parse(i.decode(b)):b,C={type:this.BROADCAST_EVENT,event:g,payload:_};return l>0&&(C.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([i])=>n.includes(i)))}}let QP=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Xt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Xt||(Xt={}));const G1=(e,t,n={})=>{var i;const s=(i=n.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((o,l)=>(o[l]=V9(l,e,t,s),o),{}):{}},V9=(e,t,n,i)=>{const s=t.find(c=>c.name===e),o=s?.type,l=n[e];return o&&!i.includes(o)?JP(o,l):Bx(l)},JP=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return K9(t,n)}switch(e){case Xt.bool:return $9(t);case Xt.float4:case Xt.float8:case Xt.int2:case Xt.int4:case Xt.int8:case Xt.numeric:case Xt.oid:return H9(t);case Xt.json:case Xt.jsonb:return G9(t);case Xt.timestamp:return q9(t);case Xt.abstime:case Xt.date:case Xt.daterange:case Xt.int4range:case Xt.int8range:case Xt.money:case Xt.reltime:case Xt.text:case Xt.time:case Xt.timestamptz:case Xt.timetz:case Xt.tsrange:case Xt.tstzrange:return Bx(t);default:return Bx(t)}},Bx=e=>e,$9=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},H9=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},G9=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},K9=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,i=e[n];if(e[0]==="{"&&i==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(c=>JP(t,c))}return e},q9=e=>typeof e=="string"?e.replace(" ","T"):e,eM=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Mb{constructor(t,n,i={},s=Ix){this.channel=t,this.event=n,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var i;return this._hasReceived(t)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var K1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(K1||(K1={}));class cf{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=cf.syncState(this.state,s,o,l),this.pendingDiffs.forEach(d=>{this.state=cf.syncDiff(this.state,d,o,l)}),this.pendingDiffs=[],c()}),this.channel._on(i.diff,{},s=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=cf.syncDiff(this.state,s,o,l),c())}),this.onJoin((s,o,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:l})}),this.onLeave((s,o,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,i,s){const o=this.cloneDeep(t),l=this.transformState(n),c={},d={};return this.map(o,(h,g)=>{l[h]||(d[h]=g)}),this.map(l,(h,g)=>{const v=o[h];if(v){const b=g.map(R=>R.presence_ref),_=v.map(R=>R.presence_ref),C=g.filter(R=>_.indexOf(R.presence_ref)<0),E=v.filter(R=>b.indexOf(R.presence_ref)<0);C.length>0&&(c[h]=C),E.length>0&&(d[h]=E)}else c[h]=g}),this.syncDiff(o,{joins:c,leaves:d},i,s)}static syncDiff(t,n,i,s){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(o,(c,d)=>{var h;const g=(h=t[c])!==null&&h!==void 0?h:[];if(t[c]=this.cloneDeep(d),g.length>0){const v=t[c].map(_=>_.presence_ref),b=g.filter(_=>v.indexOf(_.presence_ref)<0);t[c].unshift(...b)}i(c,g,d)}),this.map(l,(c,d)=>{let h=t[c];if(!h)return;const g=d.map(v=>v.presence_ref);h=h.filter(v=>g.indexOf(v.presence_ref)<0),t[c]=h,s(c,h,d),h.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(i=>n(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,i)=>{const s=t[i];return"metas"in s?n[i]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[i]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var q1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(q1||(q1={}));var uf;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(uf||(uf={}));var Ro;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ro||(Ro={}));class lu{constructor(t,n={config:{}},i){var s,o;if(this.topic=t,this.params=n,this.socket=i,this.bindings={},this.state=Un.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Mb(this,fr.join,this.params,this.timeout),this.rejoinTimer=new QP(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Un.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Un.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fr.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new cf(this),this.broadcastEndpointURL=eM(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var i,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Un.closed){const{config:{broadcast:l,presence:c,private:d}}=this.params,h=(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&s!==void 0?s:[],g=!!this.bindings[uf.PRESENCE]&&this.bindings[uf.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,v={},b={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:g}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(_=>t?.(Ro.CHANNEL_ERROR,_)),this._onClose(()=>t?.(Ro.CLOSED)),this.updateJoinPayload(Object.assign({config:b},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){t?.(Ro.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,R=(C=E?.length)!==null&&C!==void 0?C:0,N=[];for(let k=0;k<R;k++){const O=E[k],{filter:{event:M,schema:D,table:V,filter:z}}=O,I=_&&_[k];if(I&&I.event===M&&lu.isFilterValueEqual(I.schema,D)&&lu.isFilterValueEqual(I.table,V)&&lu.isFilterValueEqual(I.filter,z))N.push(Object.assign(Object.assign({},O),{id:I.id}));else{this.unsubscribe(),this.state=Un.errored,t?.(Ro.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(Ro.SUBSCRIBED);return}}).receive("error",_=>{this.state=Un.errored,t?.(Ro.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t?.(Ro.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,i){return this.state===Un.joined&&t===uf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,i)}async httpSend(t,n,i={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const h=await c.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}async send(t,n={}){var i,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=t,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,c,d;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Un.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fr.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(s=>{i=new Mb(this,fr.leave,{},t),i.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Un.closed,this.bindings={}}async _fetchWithTimeout(t,n,i){const s=new AbortController,o=setTimeout(()=>s.abort(),i),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),l}_push(t,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Mb(this,t,n,i);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>U9){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,i){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,i){var s,o;const l=t.toLocaleLowerCase(),{close:c,error:d,leave:h,join:g}=fr;if(i&&[c,d,h,g].indexOf(l)>=0&&i!==this._joinRef())return;let b=this._onMessage(l,n,i);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(_=>{var C,E,R;return((C=_.filter)===null||C===void 0?void 0:C.event)==="*"||((R=(E=_.filter)===null||E===void 0?void 0:E.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===l}).map(_=>_.callback(b,i)):(o=this.bindings[l])===null||o===void 0||o.filter(_=>{var C,E,R,N,k,O;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in _){const M=_.id,D=(C=_.filter)===null||C===void 0?void 0:C.event;return M&&((E=n.ids)===null||E===void 0?void 0:E.includes(M))&&(D==="*"||D?.toLocaleLowerCase()===((R=n.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const M=(k=(N=_?.filter)===null||N===void 0?void 0:N.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return M==="*"||M===((O=n?.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===l}).map(_=>{if(typeof b=="object"&&"ids"in b){const C=b.data,{schema:E,table:R,commit_timestamp:N,type:k,errors:O}=C;b=Object.assign(Object.assign({},{schema:E,table:R,commit_timestamp:N,eventType:k,new:{},old:{},errors:O}),this._getPayloadRecords(C))}_.callback(b,i)})}_isClosed(){return this.state===Un.closed}_isJoined(){return this.state===Un.joined}_isJoining(){return this.state===Un.joining}_isLeaving(){return this.state===Un.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,i){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:i};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&lu.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const i in t)if(t[i]!==n[i])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(fr.close,{},t)}_onError(t){this._on(fr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Un.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=G1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=G1(t.columns,t.old_record)),n}}const Db=()=>{},Xp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},W9=[1e3,2e3,5e3,1e4],Y9=1e4,Z9=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class X9{constructor(t,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ix,this.transport=null,this.heartbeatIntervalMs=Xp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Db,this.ref=0,this.reconnectTimer=null,this.vsn=H1,this.logger=Db,this.conn=null,this.sendBuffer=[],this.serializer=new F9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((i=n?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${zx.websocket}`,this.httpEndpoint=eM(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=L9.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,i){this.logger(t,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Sa.connecting:return Pl.Connecting;case Sa.open:return Pl.Open;case Sa.closing:return Pl.Closing;default:return Pl.Closed}}isConnected(){return this.connectionState()===Pl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const i=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===i);if(s)return s;{const o=new lu(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:i,payload:s,ref:o}=t,l=()=>{this.encode(t,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${n} ${i} (${o})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(B9,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Xp.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",h)}catch(g){this.log("error","error in heartbeat callback",g)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:s,payload:o,ref:l}=n,c=l?`(${l})`:"",d=o.status||"";this.log("receive",`${d} ${i} ${s} ${c}`.trim(),o),this.channels.filter(h=>h._isMember(i)).forEach(h=>h._trigger(s,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Sa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Sa.open||this.conn.readyState===Sa.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(fr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const i=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${i}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const i=new Blob([Z9],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,i=!1;if(t)n=t,i=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const o={access_token:n,version:I9};n&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(fr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new QP(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,i,s,o,l,c,d,h,g,v,b,_;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(i=t?.timeout)!==null&&i!==void 0?i:Ix,this.heartbeatIntervalMs=(s=t?.heartbeatIntervalMs)!==null&&s!==void 0?s:Xp.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=t?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=t?.heartbeatCallback)!==null&&c!==void 0?c:Db,this.vsn=(d=t?.vsn)!==null&&d!==void 0?d:H1,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t?.reconnectAfterMs)!==null&&h!==void 0?h:(C=>W9[C-1]||Y9),this.vsn){case z9:this.encode=(g=t?.encode)!==null&&g!==void 0?g:((C,E)=>E(JSON.stringify(C))),this.decode=(v=t?.decode)!==null&&v!==void 0?v:((C,E)=>E(JSON.parse(C)));break;case XP:this.encode=(b=t?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(_=t?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var Tf=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Q9(e,t,n){const i=new URL(t,e);if(n)for(const[s,o]of Object.entries(n))o!==void 0&&i.searchParams.set(s,o);return i.toString()}async function J9(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function eq(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:i,query:s,body:o,headers:l}){const c=Q9(e.baseUrl,i,s),d=await J9(e.auth),h=await t(c,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...d,...l},body:o?JSON.stringify(o):void 0}),g=await h.text(),v=(h.headers.get("content-type")||"").includes("application/json"),b=v&&g?JSON.parse(g):g;if(!h.ok){const _=v?b:void 0,C=_?.error;throw new Tf(C?.message??`Request failed with status ${h.status}`,{status:h.status,icebergType:C?.type,icebergCode:C?.code,details:_})}return{status:h.status,headers:h.headers,data:b}}}}function Qp(e){return e.join("")}var tq=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Qp(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Qp(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qp(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Qp(e.namespace)}`}),!0}catch(t){if(t instanceof Tf&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Tf&&n.status===409)return;throw n}}};function Yc(e){return e.join("")}var nq=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yc(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Yc(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Yc(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Yc(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yc(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Yc(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Tf&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Tf&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},iq=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=eq({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new tq(this.client,t),this.tableOps=new nq(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},jg=class extends Error{constructor(e,t="storage",n,i){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=i}};function Ig(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Jp=class extends jg{constructor(e,t,n,i="storage"){super(e,i,t,n),this.name=i==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},tM=class extends jg{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const sq=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),rq=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ux=e=>{if(Array.isArray(e))return e.map(n=>Ux(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,i])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Ux(i)}),t},oq=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Rf(e){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(e)}function aq(e,t){if(Rf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Rf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lq(e){var t=aq(e,"string");return Rf(t)=="symbol"?t:t+""}function cq(e,t,n){return(t=lq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W1(Object(n),!0).forEach(function(i){cq(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W1(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}const Y1=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},uq=async(e,t,n,i)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const s=e,o=s.status||500;if(typeof s.json=="function")s.json().then(l=>{const c=l?.statusCode||l?.code||o+"";t(new Jp(Y1(l),o,c,i))}).catch(()=>{if(i==="vectors"){const l=o+"";t(new Jp(s.statusText||`HTTP ${o} error`,o,l,i))}else{const l=o+"";t(new Jp(s.statusText||`HTTP ${o} error`,o,l,i))}});else{const l=o+"";t(new Jp(s.statusText||`HTTP ${o} error`,o,l,i))}}else t(new tM(Y1(e),e,i))},dq=(e,t,n,i)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"||e==="HEAD"||!i?Qe(Qe({},s),n):(rq(i)?(s.headers=Qe({"Content-Type":"application/json"},t?.headers),s.body=JSON.stringify(i)):s.body=i,t?.duplex&&(s.duplex=t.duplex),Qe(Qe({},s),n))};async function Zd(e,t,n,i,s,o,l){return new Promise((c,d)=>{e(n,dq(t,i,s,o)).then(h=>{if(!h.ok)throw h;if(i?.noResolveJson)return h;if(l==="vectors"){const g=h.headers.get("content-type");if(h.headers.get("content-length")==="0"||h.status===204)return{};if(!g||!g.includes("application/json"))return{}}return h.json()}).then(h=>c(h)).catch(h=>uq(h,d,i,l))})}function nM(e="storage"){return{get:async(t,n,i,s)=>Zd(t,"GET",n,i,s,void 0,e),post:async(t,n,i,s,o)=>Zd(t,"POST",n,s,o,i,e),put:async(t,n,i,s,o)=>Zd(t,"PUT",n,s,o,i,e),head:async(t,n,i,s)=>Zd(t,"HEAD",n,Qe(Qe({},i),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,n,i,s,o)=>Zd(t,"DELETE",n,s,o,i,e)}}const fq=nM("storage"),{get:kf,post:dr,put:Fx,head:hq,remove:D_}=fq,ys=nM("vectors");var Lu=class{constructor(e,t={},n,i="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=sq(n),this.namespace=i}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Qe(Qe({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ig(n))return{data:null,error:n};throw n}}},pq=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ig(t))return{data:null,error:t};throw t}}};let iM;iM=Symbol.toStringTag;var mq=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[iM]="BlobDownloadBuilder",this.promise=null}asStream(){return new pq(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ig(t))return{data:null,error:t};throw t}}};const gq={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Z1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var vq=class extends Lu{constructor(e,t={},n,i){super(e,t,i,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,i){var s=this;return s.handleOperation(async()=>{let o;const l=Qe(Qe({},Z1),i);let c=Qe(Qe({},s.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",s.encodeMetadata(d)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",l.cacheControl),d&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(d))):(o=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,d&&(c["x-metadata"]=s.toBase64(s.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!l.duplex&&(l.duplex="half")),i?.headers&&(c=Qe(Qe({},c),i.headers));const h=s._removeEmptyFolders(t),g=s._getFinalPath(h),v=await(e=="PUT"?Fx:dr)(s.fetch,`${s.url}/object/${g}`,o,Qe({headers:c},l?.duplex?{duplex:l.duplex}:{}));return{path:h,id:v.Id,fullPath:v.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,i){var s=this;const o=s._removeEmptyFolders(e),l=s._getFinalPath(o),c=new URL(s.url+`/object/upload/sign/${l}`);return c.searchParams.set("token",t),s.handleOperation(async()=>{let d;const h=Qe({upsert:Z1.upsert},i),g=Qe(Qe({},s.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",h.cacheControl)):(d=n,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType),{path:o,fullPath:(await Fx(s.fetch,c.toString(),d,{headers:g})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(e);const s=Qe({},n.headers);t?.upsert&&(s["x-upsert"]="true");const o=await dr(n.fetch,`${n.url}/object/upload/sign/${i}`,{},{headers:s}),l=new URL(n.url+o.url),c=l.searchParams.get("token");if(!c)throw new jg("No token returned by API");return{signedUrl:l.toString(),path:e,token:c}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var i=this;return i.handleOperation(async()=>await dr(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:i.headers}))}async copy(e,t,n){var i=this;return i.handleOperation(async()=>({path:(await dr(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:i.headers})).Key}))}async createSignedUrl(e,t,n){var i=this;return i.handleOperation(async()=>{let s=i._getFinalPath(e),o=await dr(i.fetch,`${i.url}/object/sign/${s}`,Qe({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:i.headers});const l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${i.url}${o.signedURL}${l}`)}})}async createSignedUrls(e,t,n){var i=this;return i.handleOperation(async()=>{const s=await dr(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:t,paths:e},{headers:i.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s.map(l=>Qe(Qe({},l),{},{signedUrl:l.signedURL?encodeURI(`${i.url}${l.signedURL}${o}`):null}))})}download(e,t,n){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(t?.transform||{}),o=s?`?${s}`:"",l=this._getFinalPath(e),c=()=>kf(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0},n);return new mq(c,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>Ux(await kf(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await hq(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Ig(i)&&i instanceof tM){const s=i.originalError;if([400,404].includes(s?.status))return{data:!1,error:i}}throw i}}getPublicUrl(e,t){const n=this._getFinalPath(e),i=[],s=t?.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&i.push(s);const o=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await D_(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var i=this;return i.handleOperation(async()=>{const s=Qe(Qe(Qe({},gq),t),{},{prefix:e||""});return await dr(i.fetch,`${i.url}/object/list/${i.bucketId}`,s,{headers:i.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const i=Qe({},e);return await dr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,i,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const yq="2.97.0",sh={"X-Client-Info":`storage-js/${yq}`};var bq=class extends Lu{constructor(e,t={},n,i){const s=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const o=s.href.replace(/\/$/,""),l=Qe(Qe({},sh),t);super(o,l,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await kf(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await kf(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await dr(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await Fx(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await dr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await D_(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},xq=class extends Lu{constructor(e,t={},n){const i=e.replace(/\/$/,""),s=Qe(Qe({},sh),t);super(i,s,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await dr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const i=n.toString(),s=i?`${t.url}/bucket?${i}`:`${t.url}/bucket`;return await kf(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await D_(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!oq(e))throw new jg("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new iq({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(n,{get(s,o){const l=s[o];return typeof l!="function"?l:async(...c)=>{try{return{data:await l.apply(s,c),error:null}}catch(d){if(i)throw d;return{data:null,error:d}}}}})}},_q=class extends Lu{constructor(e,t={},n){const i=e.replace(/\/$/,""),s=Qe(Qe({},sh),{},{"Content-Type":"application/json"},t);super(i,s,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await ys.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await ys.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},wq=class extends Lu{constructor(e,t={},n){const i=e.replace(/\/$/,""),s=Qe(Qe({},sh),{},{"Content-Type":"application/json"},t);super(i,s,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},Sq=class extends Lu{constructor(e,t={},n){const i=e.replace(/\/$/,""),s=Qe(Qe({},sh),{},{"Content-Type":"application/json"},t);super(i,s,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Cq=class extends Sq{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Eq(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},Eq=class extends _q{constructor(e,t,n,i){super(e,t,i),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,Qe(Qe({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,Qe(Qe({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new Aq(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Aq=class extends wq{constructor(e,t,n,i,s){super(e,t,s),this.vectorBucketName=n,this.indexName=i}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,Qe(Qe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,Qe(Qe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,Qe(Qe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,Qe(Qe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,Qe(Qe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Tq=class extends bq{constructor(e,t={},n,i){super(e,t,n,i)}from(e){return new vq(this.url,this.headers,e,this.fetch)}get vectors(){return new Cq(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new xq(this.url+"/iceberg",this.headers,this.fetch)}};const sM="2.97.0",ru=30*1e3,Vx=3,Lb=Vx*ru,Rq="http://localhost:9999",kq="supabase.auth.token",Nq={"X-Client-Info":`gotrue-js/${sM}`},$x="X-Supabase-Api-Version",rM={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Oq=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Pq=600*1e3;class Nf extends Error{constructor(t,n,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Ke(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Mq extends Nf{constructor(t,n,i){super(t,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function Dq(e){return Ke(e)&&e.name==="AuthApiError"}class Ml extends Nf{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class zo extends Nf{constructor(t,n,i,s){super(t,i,s),this.name=n,this.status=i}}class ps extends zo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jb(e){return Ke(e)&&e.name==="AuthSessionMissingError"}class Zc extends zo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class em extends zo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class tm extends zo{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Lq(e){return Ke(e)&&e.name==="AuthImplicitGrantRedirectError"}class X1 extends zo{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class jq extends zo{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Hx extends zo{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Ib(e){return Ke(e)&&e.name==="AuthRetryableFetchError"}class Q1 extends zo{constructor(t,n,i){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Gx extends zo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),J1=` 	
\r=`.split(""),Iq=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<J1.length;t+=1)e[J1[t].charCodeAt(0)]=-2;for(let t=0;t<Qm.length;t+=1)e[Qm[t].charCodeAt(0)]=t;return e})();function eT(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(Qm[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(Qm[i]),t.queuedBits-=6}}function oM(e,t,n){const i=Iq[e];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function tT(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=l=>{Uq(l,i,n)};for(let l=0;l<e.length;l+=1)oM(e.charCodeAt(l),s,o);return t.join("")}function zq(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Bq(e,t){for(let n=0;n<e.length;n+=1){let i=e.charCodeAt(n);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}zq(i,t)}}function Uq(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function xu(e){const t=[],n={queue:0,queuedBits:0},i=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)oM(e.charCodeAt(s),n,i);return new Uint8Array(t)}function Fq(e){const t=[];return Bq(e,n=>t.push(n)),new Uint8Array(t)}function jl(e){const t=[],n={queue:0,queuedBits:0},i=s=>{t.push(s)};return e.forEach(s=>eT(s,n,i)),eT(null,n,i),t.join("")}function Vq(e){return Math.round(Date.now()/1e3)+e}function $q(){return Symbol("auth-callback")}const fi=()=>typeof window<"u"&&typeof document<"u",El={tested:!1,writable:!1},aM=()=>{if(!fi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(El.tested)return El.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),El.tested=!0,El.writable=!0}catch{El.tested=!0,El.writable=!1}return El.writable};function Hq(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((i,s)=>{t[s]=i}),t}const lM=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Gq=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ou=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Al=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},di=async(e,t)=>{await e.removeItem(t)};class zg{constructor(){this.promise=new zg.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}zg.promiseConstructor=Promise;function nm(e){const t=e.split(".");if(t.length!==3)throw new Gx("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!Oq.test(t[i]))throw new Gx("JWT not in base64url format");return{header:JSON.parse(tT(t[0])),payload:JSON.parse(tT(t[1])),signature:xu(t[2]),raw:{header:t[0],payload:t[1]}}}async function Kq(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function qq(e,t){return new Promise((i,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){i(l);return}}catch(l){if(!t(o,l)){s(l);return}}})()})}function Wq(e){return("0"+e.toString(16)).substr(-2)}function Yq(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(t),Array.from(t,Wq).join("")}async function Zq(e){const n=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(i);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function Xq(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Zq(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xc(e,t,n=!1){const i=Yq();let s=i;n&&(s+="/PASSWORD_RECOVERY"),await ou(e,`${t}-code-verifier`,s);const o=await Xq(i);return[o,i===o?"plain":"s256"]}const Qq=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Jq(e){const t=e.headers.get($x);if(!t||!t.match(Qq))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function eW(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function tW(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nW=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qc(e){if(!nW.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function zb(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function iW(e,t){return new Proxy(e,{get:(n,i,s)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,s)}return!t.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,i,s)}})}function nT(e){return JSON.parse(JSON.stringify(e))}const kl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sW=[502,503,504];async function iT(e){var t;if(!Gq(e))throw new Hx(kl(e),0);if(sW.includes(e.status))throw new Hx(kl(e),e.status);let n;try{n=await e.json()}catch(o){throw new Ml(kl(o),o)}let i;const s=Jq(e);if(s&&s.getTime()>=rM["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new Q1(kl(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new ps}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new Q1(kl(n),e.status,n.weak_password.reasons);throw new Mq(kl(n),e.status||500,i)}const rW=(e,t,n,i)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),n))};async function et(e,t,n,i){var s;const o=Object.assign({},i?.headers);o[$x]||(o[$x]=rM["2024-01-01"].name),i?.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const l=(s=i?.query)!==null&&s!==void 0?s:{};i?.redirectTo&&(l.redirect_to=i.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await oW(e,t,n+c,{headers:o,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(d):{data:Object.assign({},d),error:null}}async function oW(e,t,n,i,s,o){const l=rW(t,i,s,o);let c;try{c=await e(n,Object.assign({},l))}catch(d){throw console.error(d),new Hx(kl(d),0)}if(c.ok||await iT(c),i?.noResolveJson)return c;try{return await c.json()}catch(d){await iT(d)}}function lr(e){var t;let n=null;cW(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Vq(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:i},error:null}}function sT(e){const t=lr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ea(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function aW(e){return{data:e,error:null}}function lW(e){const{action_link:t,email_otp:n,hashed_token:i,redirect_to:s,verification_type:o}=e,l=Mu(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:i,redirect_to:s,verification_type:o},d=Object.assign({},l);return{data:{properties:c,user:d},error:null}}function rT(e){return e}function cW(e){return e.access_token&&e.refresh_token&&e.expires_in}const Bb=["global","local","others"];class uW{constructor({url:t="",headers:n={},fetch:i}){this.url=t,this.headers=n,this.fetch=lM(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Bb[0]){if(Bb.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Bb.join(", ")}`);try{return await et(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Ke(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,n={}){try{return await et(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ea})}catch(i){if(Ke(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:n}=t,i=Mu(t,["options"]),s=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(s.new_email=i?.newEmail,delete s.newEmail),await et(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:lW,redirectTo:n?.redirectTo})}catch(n){if(Ke(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await et(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ea})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,i,s,o,l,c,d;try{const h={nextPage:null,lastPage:0,total:0},g=await et(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(o=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:rT});if(g.error)throw g.error;const v=await g.json(),b=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(d=(c=g.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(C=>{const E=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(C.split(";")[1].split("=")[1]);h[`${R}Page`]=E}),h.total=parseInt(b)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if(Ke(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){Qc(t);try{return await et(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ea})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Qc(t);try{return await et(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ea})}catch(i){if(Ke(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,n=!1){Qc(t);try{return await et(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ea})}catch(i){if(Ke(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){Qc(t.userId);try{const{data:n,error:i}=await et(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:i}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Qc(t.userId),Qc(t.id);try{return{data:await et(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,i,s,o,l,c,d;try{const h={nextPage:null,lastPage:0,total:0},g=await et(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(o=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:rT});if(g.error)throw g.error;const v=await g.json(),b=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(d=(c=g.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(C=>{const E=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(C.split(";")[1].split("=")[1]);h[`${R}Page`]=E}),h.total=parseInt(b)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if(Ke(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await et(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await et(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await et(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Ke(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(t){try{return await et(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await et(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}}function oT(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Jc={debug:!!(globalThis&&aM()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cM extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class aT extends cM{}async function dW(e,t,n){Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;t>0&&setTimeout(()=>{i.abort(),Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new aT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Jc.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}catch(s){throw s?.name==="AbortError"?new aT(`Acquiring an exclusive Navigator LockManager lock "${e}" timed out waiting ${t}ms`):s}}function fW(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function uM(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function hW(e){return parseInt(e,16)}function pW(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function mW(e){var t;const{chainId:n,domain:i,expirationTime:s,issuedAt:o=new Date,nonce:l,notBefore:c,requestId:d,resources:h,scheme:g,uri:v,version:b}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const _=uM(e.address),C=g?`${g}://${i}`:i,E=e.statement?`${e.statement}
`:"",R=`${C} wants you to sign in with your Ethereum account:
${_}

${E}`;let N=`URI: ${v}
Version: ${b}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(s&&(N+=`
Expiration Time: ${s.toISOString()}`),c&&(N+=`
Not Before: ${c.toISOString()}`),d&&(N+=`
Request ID: ${d}`),h){let k=`
Resources:`;for(const O of h){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);k+=`
- ${O}`}N+=k}return`${R}
${N}`}class Pn extends Error{constructor({message:t,code:n,cause:i,name:s}){var o;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(o=s??(i instanceof Error?i.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Jm extends Pn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function gW({error:e,options:t}){var n,i,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Pn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Pn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Pn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Pn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Pn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Pn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Pn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(dM(l)){if(o.rp.id!==l)return new Pn({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Pn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Pn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function vW({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Pn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(dM(i)){if(n.rpId!==i)return new Pn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Pn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class yW{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const bW=new yW;function xW(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:i}=e,s=Mu(e,["challenge","user","excludeCredentials"]),o=xu(t).buffer,l=Object.assign(Object.assign({},n),{id:xu(n.id).buffer}),c=Object.assign(Object.assign({},s),{challenge:o,user:l});if(i&&i.length>0){c.excludeCredentials=new Array(i.length);for(let d=0;d<i.length;d++){const h=i[d];c.excludeCredentials[d]=Object.assign(Object.assign({},h),{id:xu(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function _W(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,i=Mu(e,["challenge","allowCredentials"]),s=xu(t).buffer,o=Object.assign(Object.assign({},i),{challenge:s});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},c),{id:xu(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function wW(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:jl(new Uint8Array(e.response.attestationObject)),clientDataJSON:jl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function SW(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,i=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:jl(new Uint8Array(s.authenticatorData)),clientDataJSON:jl(new Uint8Array(s.clientDataJSON)),signature:jl(new Uint8Array(s.signature)),userHandle:s.userHandle?jl(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function dM(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function lT(){var e,t;return!!(fi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function CW(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Jm("Browser returned unexpected credential type",t)}:{data:null,error:new Jm("Empty credential response",t)}}catch(t){return{data:null,error:gW({error:t,options:e})}}}async function EW(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Jm("Browser returned unexpected credential type",t)}:{data:null,error:new Jm("Empty credential response",t)}}catch(t){return{data:null,error:vW({error:t,options:e})}}}const AW={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},TW={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function eg(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),i={};for(const s of e)if(s)for(const o in s){const l=s[o];if(l!==void 0)if(Array.isArray(l))i[o]=l;else if(n(l))i[o]=l;else if(t(l)){const c=i[o];t(c)?i[o]=eg(c,l):i[o]=eg(l)}else i[o]=l}return i}function RW(e,t){return eg(AW,e,t||{})}function kW(e,t){return eg(TW,e,t||{})}class NW{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:i,signal:s},o){var l;try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!c)return{data:null,error:d};const h=s??bW.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:g}=c.webauthn.credential_options.publicKey;if(!g.name){const v=i;if(v)g.name=`${g.id}:${v}`;else{const _=(await this.client.getUser()).data.user,C=((l=_?.user_metadata)===null||l===void 0?void 0:l.name)||_?.email||_?.id||"User";g.name=`${g.id}:${C}`}}g.displayName||(g.displayName=g.name)}switch(c.webauthn.type){case"create":{const g=RW(c.webauthn.credential_options.publicKey,o?.create),{data:v,error:b}=await CW({publicKey:g,signal:h});return v?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:b}}case"request":{const g=kW(c.webauthn.credential_options.publicKey,o?.request),{data:v,error:b}=await EW(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:g,signal:h}));return v?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:b}}}}catch(c){return Ke(c)?{data:null,error:c}:{data:null,error:new Ml("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new Nf("rpId is required for WebAuthn authentication")};try{if(!lT())return{data:null,error:new Ml("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:i},signal:s},{request:o});if(!l)return{data:null,error:c};const{webauthn:d}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:i,credential_response:d.credential_response}})}catch(l){return Ke(l)?{data:null,error:l}:{data:null,error:new Ml("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new Nf("rpId is required for WebAuthn registration")};try{if(!lT())return{data:null,error:new Ml("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(g=>{var v;return(v=g.data)===null||v===void 0?void 0:v.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:c};const{data:d,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:s},{create:o});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:i,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(l){return Ke(l)?{data:null,error:l}:{data:null,error:new Ml("Unexpected error in register",l)}}}}fW();const OW={url:Rq,storageKey:kq,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Nq,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function cT(e,t,n){return await n()}const eu={};class Of{get jwks(){var t,n;return(n=(t=eu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){eu[this.storageKey]=Object.assign(Object.assign({},eu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=eu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){eu[this.storageKey]=Object.assign(Object.assign({},eu[this.storageKey]),{cachedAt:t})}constructor(t){var n,i,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},OW),t);if(this.storageKey=o.storageKey,this.instanceID=(n=Of.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Of.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&fi()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new uW({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=lM(o.fetch),this.lock=o.lock||cT,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&fi()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=dW:this.lock=cT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new NW(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:aM()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=oT(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=oT(this.memoryStorage)),fi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(c){this._debug("#broadcastChannel","error",c)}})}o.skipAutoInitialize||this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${sM}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},i="none";if(fi()&&(n=Hq(window.location.href),this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce")),fi()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Lq(o)){const d=(t=o.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:l,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ke(n)?this._returnResult({error:n}):this._returnResult({error:new Ml("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,i,s;try{const o=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=t?.options)===null||s===void 0?void 0:s.captchaToken}},xform:lr}),{data:l,error:c}=o;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(o){if(Ke(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var n,i,s;try{let o;if("email"in t){const{email:g,password:v,options:b}=t;let _=null,C=null;this.flowType==="pkce"&&([_,C]=await Xc(this.storage,this.storageKey)),o=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:g,password:v,data:(n=b?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:_,code_challenge_method:C},xform:lr})}else if("phone"in t){const{phone:g,password:v,options:b}=t;o=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(i=b?.data)!==null&&i!==void 0?i:{},channel:(s=b?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:lr})}else throw new em("You must provide either an email or phone number and a password");const{data:l,error:c}=o;if(c||!l)return await di(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(o){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ke(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:c}=t;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:sT})}else if("phone"in t){const{phone:o,password:l,options:c}=t;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:sT})}else throw new em("You must provide either an email or phone number and a password");const{data:i,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!i||!i.session||!i.user){const o=new Zc;return this._returnResult({data:{user:null,session:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(n){if(Ke(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,i,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,i,s,o,l,c,d,h,g,v,b;let _,C;if("message"in t)_=t.message,C=t.signature;else{const{chain:E,wallet:R,statement:N,options:k}=t;let O;if(fi())if(typeof R=="object")O=R;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")O=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=R}const M=new URL((n=k?.url)!==null&&n!==void 0?n:window.location.href),D=await O.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=uM(D[0]);let z=(i=k?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!z){const $=await O.request({method:"eth_chainId"});z=hW($)}const I={domain:M.host,address:V,statement:N,uri:M.href,version:"1",chainId:z,nonce:(s=k?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(l=(o=k?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=k?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=k?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(h=k?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(g=k?.signInWithEthereum)===null||g===void 0?void 0:g.resources};_=mW(I),C=await O.request({method:"personal_sign",params:[pW(_),V]})}try{const{data:E,error:R}=await et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:C},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:lr});if(R)throw R;if(!E||!E.session||!E.user){const N=new Zc;return this._returnResult({data:{user:null,session:null},error:N})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:R})}catch(E){if(Ke(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(t){var n,i,s,o,l,c,d,h,g,v,b,_;let C,E;if("message"in t)C=t.message,E=t.signature;else{const{chain:R,wallet:N,statement:k,options:O}=t;let M;if(fi())if(typeof N=="object")M=N;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))M=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=N}const D=new URL((n=O?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in M&&M.signIn){const V=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O?.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),k?{statement:k}:null));let z;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")z=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)z=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)C=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),E=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${D.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(s=(i=O?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=O?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((l=O?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((c=O?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((d=O?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((h=O?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((v=(g=O?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...O.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const V=await M.signMessage(new TextEncoder().encode(C),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=V}}try{const{data:R,error:N}=await et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:jl(E)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:lr});if(N)throw N;if(!R||!R.session||!R.user){const k=new Zc;return this._returnResult({data:{user:null,session:null},error:k})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:N})}catch(R){if(Ke(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async _exchangeCodeForSession(t){const n=await Al(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(n??"").split("/");try{if(!i&&this.flowType==="pkce")throw new jq;const{data:o,error:l}=await et(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:lr});if(await di(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!o||!o.session||!o.user){const c=new Zc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:l})}catch(o){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ke(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:n,provider:i,token:s,access_token:o,nonce:l}=t,c=await et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:lr}),{data:d,error:h}=c;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d||!d.session||!d.user){const g=new Zc;return this._returnResult({data:{user:null,session:null},error:g})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:h})}catch(n){if(Ke(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,i,s,o,l;try{if("email"in t){const{email:c,options:d}=t;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await Xc(this.storage,this.storageKey));const{error:v}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=d?.data)!==null&&n!==void 0?n:{},create_user:(i=d?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:h,code_challenge_method:g},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in t){const{phone:c,options:d}=t,{data:h,error:g}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=d?.data)!==null&&s!==void 0?s:{},create_user:(o=d?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(l=d?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:g})}throw new em("You must provide either an email or phone number.")}catch(c){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ke(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var n,i;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:l,error:c}=await et(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:lr});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,h=l.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(s){if(Ke(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,i,s,o,l;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Xc(this.storage,this.storageKey));const h=await et(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=t?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:aW});return!((o=h.data)===null||o===void 0)&&o.url&&fi()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(c){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ke(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;if(i)throw i;if(!n)throw new ps;const{error:s}=await et(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Ke(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:i,type:s,options:o}=t,{error:l}=await et(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:i,type:s,options:o}=t,{data:l,error:c}=await et(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:c})}throw new em("You must provide either an email or phone number and a type")}catch(n){if(Ke(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Al(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<Lb:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const l=await Al(this.userStorage,this.storageKey+"-user");l?.user?t.user=l.user:t.user=zb()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=iW(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ea}):await this._useSession(async n=>{var i,s,o;const{data:l,error:c}=n;if(c)throw c;return!(!((i=l.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ps}:await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Ea})})}catch(n){if(Ke(n))return jb(n)&&(await this._removeSession(),await di(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async i=>{const{data:s,error:o}=i;if(o)throw o;if(!s.session)throw new ps;const l=s.session;let c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=await Xc(this.storage,this.storageKey));const{data:h,error:g}=await et(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:Ea});if(g)throw g;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(i){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ke(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ps;const n=Date.now()/1e3;let i=n,s=!0,o=null;const{payload:l}=nm(t.access_token);if(l.exp&&(i=l.exp,s=i<=n),s){const{data:c,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:d}=await this._getUser(t.access_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});o={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(Ke(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var i;if(!t){const{data:l,error:c}=n;if(c)throw c;t=(i=l.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new ps;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ke(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!fi())throw new tm("No browser detected.");if(t.error||t.error_description||t.error_code)throw new tm(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new X1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new tm("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new X1("No code detected.");const{data:k,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:o,refresh_token:l,expires_in:c,expires_at:d,token_type:h}=t;if(!o||!c||!l||!h)throw new tm("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(c);let b=g+v;d&&(b=parseInt(d));const _=b-g;_*1e3<=ru&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);const C=b-v;g-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,b,g):g-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,b,g);const{data:E,error:R}=await this._getUser(o);if(R)throw R;const N={provider_token:i,provider_refresh_token:s,access_token:o,expires_in:v,expires_at:b,refresh_token:l,token_type:h,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:t.type},error:null})}catch(i){if(Ke(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Al(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o&&!jb(o))return this._returnResult({error:o});const l=(i=s.session)===null||i===void 0?void 0:i.access_token;if(l){const{error:c}=await this.admin.signOut(l,t);if(c&&!(Dq(c)&&(c.status===404||c.status===401||c.status===403)||jb(c)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await di(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=$q(),i={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async n=>{var i,s;try{const{data:{session:o},error:l}=n;if(l)throw l;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await Xc(this.storage,this.storageKey,!0));try{return await et(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ke(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:i,error:s}=await this._useSession(async o=>{var l,c,d,h,g;const{data:v,error:b}=o;if(b)throw b;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await et(this.fetch,"GET",_,{headers:this.headers,jwt:(g=(h=v.session)===null||h===void 0?void 0:h.access_token)!==null&&g!==void 0?g:void 0})});if(s)throw s;return fi()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:t.provider,url:i?.url},error:null})}catch(i){if(Ke(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var i;try{const{error:s,data:{session:o}}=n;if(s)throw s;const{options:l,provider:c,token:d,access_token:h,nonce:g}=t,v=await et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=o?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:d,access_token:h,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:lr}),{data:b,error:_}=v;return _?this._returnResult({data:{user:null,session:null},error:_}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Zc}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:_}))}catch(s){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ke(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var i,s;const{data:o,error:l}=n;if(l)throw l;return await et(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await qq(async s=>(s>0&&await Kq(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await et(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:lr})),(s,o)=>{const l=200*Math.pow(2,s);return o&&Ib(o)&&Date.now()+l-i<ru})}catch(i){if(this._debug(n,"error",i),Ke(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",i),fi()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const s=await Al(this.storage,this.storageKey);if(s&&this.userStorage){let l=await Al(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await ou(this.userStorage,this.storageKey+"-user",l)),s.user=(t=l?.user)!==null&&t!==void 0?t:zb()}else if(s&&!s.user&&!s.user){const l=await Al(this.storage,this.storageKey+"-user");l&&l?.user?(s.user=l.user,await di(this.storage,this.storageKey+"-user"),await ou(this.storage,this.storageKey,s)):s.user=zb()}if(this._debug(i,"session from storage",s),!this._isValidSession(s)){this._debug(i,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Lb;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${Lb}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),Ib(l)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(s.access_token);!c&&l?.user?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(i,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(i,"error",s),console.error(s);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var n,i;if(!t)throw new ps;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new zg;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new ps;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={data:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(s,"error",o),Ke(o)){const l={data:null,error:o};return Ib(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,i=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(d){o.push(d)}});if(await Promise.all(l),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await di(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await ou(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=nT(s);await ou(this.storage,this.storageKey,o)}else{const s=nT(n);await ou(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await di(this.storage,this.storageKey),await di(this.storage,this.storageKey+"-code-verifier"),await di(this.storage,this.storageKey+"-user"),this.userStorage&&await di(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&fi()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ru);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-t)/ru);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ru}ms, refresh threshold is ${Vx} ticks`),s<=Vx&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof cM)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fi()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,i){const s=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,l]=await Xc(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(c.toString())}if(i?.queryParams){const o=new URLSearchParams(i.queryParams);s.push(o.toString())}return i?.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;return o?this._returnResult({data:null,error:o}):await et(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var i,s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:h}=await et(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&d.type==="totp"&&(!((s=d?.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?wW(t.webauthn.credential_response):SW(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:d}=await et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=await et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:xW(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:_W(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n?.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,i,s,o;if(t)try{const{payload:_}=nm(t);let C=null;_.aal&&(C=_.aal);let E=C;const{data:{user:R},error:N}=await this.getUser(t);if(N)return this._returnResult({data:null,error:N});((i=(n=R?.factors)===null||n===void 0?void 0:n.filter(M=>M.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(E="aal2");const O=_.amr||[];return{data:{currentLevel:C,nextLevel:E,currentAuthenticationMethods:O},error:null}}catch(_){if(Ke(_))return this._returnResult({data:null,error:_});throw _}const{data:{session:l},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=nm(l.access_token);let h=null;d.aal&&(h=d.aal);let g=h;((o=(s=l.user.factors)===null||s===void 0?void 0:s.filter(_=>_.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(g="aal2");const b=d.amr||[];return{data:{currentLevel:h,nextLevel:g,currentAuthenticationMethods:b},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?await et(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new ps})})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async i=>{const{data:{session:s},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new ps});const l=await et(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&fi()&&!n?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(i){if(Ke(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,n){try{return await this._useSession(async i=>{const{data:{session:s},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new ps});const l=await et(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&fi()&&!n?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(i){if(Ke(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;return i?this._returnResult({data:null,error:i}):n?await et(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ps})})}catch(t){if(Ke(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?(await et(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ps})})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let i=n.keys.find(c=>c.kid===t);if(i)return i;const s=Date.now();if(i=this.jwks.keys.find(c=>c.kid===t),i&&this.jwks_cached_at+Pq>s)return i;const{data:o,error:l}=await et(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,i=o.keys.find(c=>c.kid===t),!i)?null:i}async getClaims(t,n={}){try{let i=t;if(!i){const{data:_,error:C}=await this.getSession();if(C||!_.session)return this._returnResult({data:null,error:C});i=_.session.access_token}const{header:s,payload:o,signature:l,raw:{header:c,payload:d}}=nm(i);n?.allowExpired||eW(o.exp);const h=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!h){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:o,header:s,signature:l},error:null}}const g=tW(s.alg),v=await crypto.subtle.importKey("jwk",h,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,l,Fq(`${c}.${d}`)))throw new Gx("Invalid JWT signature");return{data:{claims:o,header:s,signature:l},error:null}}catch(i){if(Ke(i))return this._returnResult({data:null,error:i});throw i}}}Of.nextInstanceID={};const PW=Of,MW="2.97.0";let Jd="";typeof Deno<"u"?Jd="deno":typeof document<"u"?Jd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Jd="react-native":Jd="node";const DW={"X-Client-Info":`supabase-js-${Jd}/${MW}`},LW={headers:DW},jW={schema:"public"},IW={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zW={};function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}function BW(e,t){if(Pf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Pf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UW(e){var t=BW(e,"string");return Pf(t)=="symbol"?t:t+""}function FW(e,t,n){return(t=UW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uT(Object(n),!0).forEach(function(i){FW(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uT(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}const VW=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),$W=()=>Headers,HW=(e,t,n)=>{const i=VW(n),s=$W();return async(o,l)=>{var c;const d=(c=await t())!==null&&c!==void 0?c:e;let h=new s(l?.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),i(o,bn(bn({},l),{},{headers:h}))}};function GW(e){return e.endsWith("/")?e:e+"/"}function KW(e,t){var n,i;const{db:s,auth:o,realtime:l,global:c}=e,{db:d,auth:h,realtime:g,global:v}=t,b={db:bn(bn({},d),s),auth:bn(bn({},h),o),realtime:bn(bn({},g),l),storage:{},global:bn(bn(bn({},v),c),{},{headers:bn(bn({},(n=v?.headers)!==null&&n!==void 0?n:{}),(i=c?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return e.accessToken?b.accessToken=e.accessToken:delete b.accessToken,b}function qW(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(GW(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var WW=class extends PW{constructor(e){super(e)}},YW=class{constructor(e,t,n){var i,s;this.supabaseUrl=e,this.supabaseKey=t;const o=qW(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:jW,realtime:zW,auth:bn(bn({},IW),{},{storageKey:l}),global:LW},d=KW(n??{},c);if(this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=d.auth)!==null&&h!==void 0?h:{},this.headers,d.global.fetch)}this.fetch=HW(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(bn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new D9(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch,timeout:d.db.timeout,urlLengthLimit:d.db.urlLengthLimit}),this.storage=new Tq(this.storageUrl.href,this.headers,this.fetch,n?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new A9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:i}=await e.auth.getSession();return(t=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:o,flowType:l,lock:c,debug:d,throwOnError:h},g,v){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new WW({url:this.authUrl.href,headers:bn(bn({},b),g),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,userStorage:s,flowType:l,lock:c,debug:d,throwOnError:h,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new X9(this.realtimeUrl.href,bn(bn({},e),{},{params:bn(bn({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const ZW=(e,t,n)=>new YW(e,t,n);function XW(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}XW()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const QW="https://jvjirocnsucsapwnjfpe.supabase.co",JW="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp2amlyb2Nuc3Vjc2Fwd25qZnBlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUxOTQwODksImV4cCI6MjA3MDc3MDA4OX0.eQESQzBSt0_gciw0LN5zByYGBGugi-NuCChs-1mMVoA",Dn=ZW(QW,JW,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:window.localStorage,flowType:"pkce"}}),fM=500,hM=700,e7=9e4,t7=4e3;function n7(){const e=window.screenX+(window.outerWidth-fM)/2,t=window.screenY+(window.outerHeight-hM)/2;return{left:e,top:t}}function i7(){return new Promise(e=>{let t=null;const n=setTimeout(()=>{t&&t.close(),console.warn(" Timeout aguardando OAuth (90s)"),e({success:!1,error:"Tempo limite de autenticao excedido"})},e7);try{t=new BroadcastChannel("supabase-auth"),t.onmessage=i=>{i.data==="oauth_complete"&&(clearTimeout(n),t&&t.close(),e({success:!0}))}}catch(i){clearTimeout(n),console.warn(" BroadcastChannel no disponvel, usando timeout fixo",i),setTimeout(()=>{e({success:!0})},5e3)}})}function s7(e){const{left:t,top:n}=n7();return window.open(e,"oauth-popup",`width=${fM},height=${hM},left=${t},top=${n},toolbar=no,menubar=no,scrollbars=yes,resizable=yes`)}async function r7(e="google"){try{const{data:t,error:n}=await Dn.auth.signInWithOAuth({provider:e,options:{redirectTo:`${window.location.origin}/treevera/auth-callback`,skipBrowserRedirect:!0,queryParams:{access_type:"offline",prompt:"consent"}}});if(n)throw n;if(!t?.url)throw new Error("URL de autenticao no foi gerada");if(!s7(t.url))throw new Error("No foi possvel abrir a janela. Verifique o bloqueador de pop-ups.");const s=await i7();if(!s.success)throw new Error(s.error||"Falha na autenticao");await new Promise(c=>setTimeout(c,t7));let o=null;const l=10;for(let c=1;c<=l;c++){const{data:d,error:h}=await Dn.auth.getSession();if(h&&(console.error(" Erro ao buscar sesso:",h),c===l))throw h;if(d.session){o=d;break}c<l&&await new Promise(g=>setTimeout(g,1e3))}if(!o?.session)throw new Error("Sesso no foi estabelecida aps autenticao");return{user:o.session.user,session:o.session}}catch(t){throw console.error(" Erro no login OAuth:",t),t}}async function o7(){try{const{error:e}=await Dn.auth.signOut();if(e)throw e;return{success:!0}}catch(e){throw console.error(" Erro no logout:",e),e}}async function a7(){try{const{data:e,error:t}=await Dn.auth.getSession();if(t)throw t;return e.session}catch(e){return console.error(" Erro ao obter sesso:",e),null}}const l7=async e=>{const t=e.app_metadata?.provider||e.identities?.[0]?.provider||(e.email?.includes("@")?"email":"unknown"),n={id:e.id,email:e.email,name:e.user_metadata.full_name||e.email?.split("@")[0]||"Usurio",avatar_url:e.user_metadata.avatar_url||null,created_at:e.created_at,provider:t,game_info:{activities:[{title:"Conta criada com sucesso!",description:"Bem-vindo ao mundo da taxonomia",date:e.created_at}],seen_species:[]}},{data:i,error:s}=await Dn.from("users").upsert(n,{onConflict:"id"}).select().single();if(s)throw console.error("Error creating user:",s),s;if(!i)throw new Error("createUser: upsert retornou vazio");return JSON.parse(JSON.stringify(i))},c7=1e4;function L_(){const e=$t(st.session),t=$t(st.userDb),n=$t(st.loginStatus),i=$t(st.logoutStatus),s=$t(st.error),o=$t(st.initialized),l=$t(st.lastAuthCheck),c=Le(st.session),d=Le(st.userDb),h=Le(st.isAuthenticated),g=Le(st.loginStatus),v=Le(st.logoutStatus),b=Le(st.initialized),_=x.useCallback(async k=>{try{const{data:O,error:M}=await Dn.from("users").select("*").eq("id",k).single();if(M){if(M.code==="PGRST116"){const{data:D}=await Dn.auth.getUser();if(D.user)try{return await l7(D.user)}catch(V){return console.error(" Erro ao criar usurio no banco:",V),null}}return console.error(" Erro ao buscar userDb:",M),null}return O}catch(O){return console.error(" Erro ao buscar userDb:",O),null}},[]),C=x.useCallback(async()=>{const k=new Promise(M=>{setTimeout(()=>{console.warn(" Timeout na inicializao"),M(null)},c7)}),O=(async()=>{try{const M=await a7();if(M?.user){e(M);const D=await _(M.user.id);D?t(D):(console.warn(" UserDb no encontrado"),t(null))}else e(null),t(null);return M}catch(M){return console.error(" Erro ao inicializar:",M),e(null),t(null),null}})();await Promise.race([O,k]),l(Date.now()),o(!0)},[e,t,l,o,_]),E=x.useCallback(async(k="google")=>{try{n("loading"),s(null);const{user:O,session:M}=await r7(k);e(M);const D=await _(O.id);if(D)return t(D),n("success"),{success:!0,user:D};throw new Error("No foi possvel carregar os dados do usurio")}catch(O){const M=O instanceof Error?O.message:"Erro desconhecido ao fazer login";return s({message:M}),n("error"),console.error(" Erro no login:",O),{success:!1,error:M}}finally{setTimeout(()=>n("idle"),2e3)}},[n,s,e,t,_]),R=x.useCallback(async()=>{try{return i("loading"),s(null),await o7(),e(null),t(null),i("success"),{success:!0}}catch(k){const O=k instanceof Error?k.message:"Erro desconhecido ao fazer logout";return s({message:O}),i("error"),console.error(" Erro no logout:",k),{success:!1,error:O}}finally{setTimeout(()=>i("idle"),2e3)}},[i,s,e,t]),N=x.useCallback(async()=>{if(!c?.user?.id)return null;const k=await _(c.user.id);return k&&t(k),k},[c,_,t]);return x.useEffect(()=>{b||C();const{data:{subscription:k}}=Dn.auth.onAuthStateChange(async(O,M)=>{switch(O){case"SIGNED_IN":case"TOKEN_REFRESHED":M?.user&&e(M);break;case"SIGNED_OUT":e(null),t(null);break}});return()=>{k.unsubscribe()}},[b,C,e,t]),{session:c,userDb:d,isAuthenticated:h,initialized:b,loginStatus:g,logoutStatus:v,authError:Le(st.error),isLoggingIn:g==="loading",isLoggingOut:v==="loading",isInitializing:!b,login:E,logout:R,refreshUserDb:N,refreshSession:C}}function tg(e,[t,n]){return Math.min(n,Math.max(t,e))}function u7(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,R=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:R,children:_})};h.displayName=o+"Provider";function g(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,g]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,d7(s,...t)]}function d7(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function pM(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function f7(e){const t=h7(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(m7);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function h7(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=v7(s),c=g7(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var p7=Symbol("radix.slottable");function m7(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===p7}function g7(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function v7(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var y7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],rh=y7.reduce((e,t)=>{const n=f7(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),mM=["PageUp","PageDown"],gM=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],vM={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ju="Slider",[Kx,b7,x7]=wg(ju),[yM]=u7(ju,[x7]),[_7,Bg]=yM(ju),bM=x.forwardRef((e,t)=>{const{name:n,min:i=0,max:s=100,step:o=1,orientation:l="horizontal",disabled:c=!1,minStepsBetweenThumbs:d=0,defaultValue:h=[i],value:g,onValueChange:v=()=>{},onValueCommit:b=()=>{},inverted:_=!1,form:C,...E}=e,R=x.useRef(new Set),N=x.useRef(0),O=l==="horizontal"?w7:S7,[M=[],D]=Do({prop:g,defaultProp:h,onChange:q=>{[...R.current][N.current]?.focus(),v(q)}}),V=x.useRef(M);function z(q){const W=R7(M,q);Z(q,W)}function I(q){Z(q,N.current)}function $(){const q=V.current[N.current];M[N.current]!==q&&b(M)}function Z(q,W,{commit:ne}={commit:!1}){const re=P7(o),ye=M7(Math.round((q-i)/o)*o+i,re),G=tg(ye,[i,s]);D((Y=[])=>{const te=A7(Y,G,W);if(O7(te,d*o)){N.current=te.indexOf(G);const de=String(te)!==String(Y);return de&&ne&&b(te),de?te:Y}else return Y})}return y.jsx(_7,{scope:e.__scopeSlider,name:n,disabled:c,min:i,max:s,valueIndexToChangeRef:N,thumbs:R.current,values:M,orientation:l,form:C,children:y.jsx(Kx.Provider,{scope:e.__scopeSlider,children:y.jsx(Kx.Slot,{scope:e.__scopeSlider,children:y.jsx(O,{"aria-disabled":c,"data-disabled":c?"":void 0,...E,ref:t,onPointerDown:Ie(E.onPointerDown,()=>{c||(V.current=M)}),min:i,max:s,inverted:_,onSlideStart:c?void 0:z,onSlideMove:c?void 0:I,onSlideEnd:c?void 0:$,onHomeKeyDown:()=>!c&&Z(i,0,{commit:!0}),onEndKeyDown:()=>!c&&Z(s,M.length-1,{commit:!0}),onStepKeyDown:({event:q,direction:W})=>{if(!c){const ye=mM.includes(q.key)||q.shiftKey&&gM.includes(q.key)?10:1,G=N.current,Y=M[G],te=o*ye*W;Z(Y+te,G,{commit:!0})}}})})})})});bM.displayName=ju;var[xM,_M]=yM(ju,{startEdge:"left",endEdge:"right",size:"width",direction:1}),w7=x.forwardRef((e,t)=>{const{min:n,max:i,dir:s,inverted:o,onSlideStart:l,onSlideMove:c,onSlideEnd:d,onStepKeyDown:h,...g}=e,[v,b]=x.useState(null),_=St(t,O=>b(O)),C=x.useRef(void 0),E=Sg(s),R=E==="ltr",N=R&&!o||!R&&o;function k(O){const M=C.current||v.getBoundingClientRect(),D=[0,M.width],z=j_(D,N?[n,i]:[i,n]);return C.current=M,z(O-M.left)}return y.jsx(xM,{scope:e.__scopeSlider,startEdge:N?"left":"right",endEdge:N?"right":"left",direction:N?1:-1,size:"width",children:y.jsx(wM,{dir:E,"data-orientation":"horizontal",...g,ref:_,style:{...g.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:O=>{const M=k(O.clientX);l?.(M)},onSlideMove:O=>{const M=k(O.clientX);c?.(M)},onSlideEnd:()=>{C.current=void 0,d?.()},onStepKeyDown:O=>{const D=vM[N?"from-left":"from-right"].includes(O.key);h?.({event:O,direction:D?-1:1})}})})}),S7=x.forwardRef((e,t)=>{const{min:n,max:i,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...h}=e,g=x.useRef(null),v=St(t,g),b=x.useRef(void 0),_=!s;function C(E){const R=b.current||g.current.getBoundingClientRect(),N=[0,R.height],O=j_(N,_?[i,n]:[n,i]);return b.current=R,O(E-R.top)}return y.jsx(xM,{scope:e.__scopeSlider,startEdge:_?"bottom":"top",endEdge:_?"top":"bottom",size:"height",direction:_?1:-1,children:y.jsx(wM,{"data-orientation":"vertical",...h,ref:v,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:E=>{const R=C(E.clientY);o?.(R)},onSlideMove:E=>{const R=C(E.clientY);l?.(R)},onSlideEnd:()=>{b.current=void 0,c?.()},onStepKeyDown:E=>{const N=vM[_?"from-bottom":"from-top"].includes(E.key);d?.({event:E,direction:N?-1:1})}})})}),wM=x.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:i,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:l,onEndKeyDown:c,onStepKeyDown:d,...h}=e,g=Bg(ju,n);return y.jsx(rh.span,{...h,ref:t,onKeyDown:Ie(e.onKeyDown,v=>{v.key==="Home"?(l(v),v.preventDefault()):v.key==="End"?(c(v),v.preventDefault()):mM.concat(gM).includes(v.key)&&(d(v),v.preventDefault())}),onPointerDown:Ie(e.onPointerDown,v=>{const b=v.target;b.setPointerCapture(v.pointerId),v.preventDefault(),g.thumbs.has(b)?b.focus():i(v)}),onPointerMove:Ie(e.onPointerMove,v=>{v.target.hasPointerCapture(v.pointerId)&&s(v)}),onPointerUp:Ie(e.onPointerUp,v=>{const b=v.target;b.hasPointerCapture(v.pointerId)&&(b.releasePointerCapture(v.pointerId),o(v))})})}),SM="SliderTrack",CM=x.forwardRef((e,t)=>{const{__scopeSlider:n,...i}=e,s=Bg(SM,n);return y.jsx(rh.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...i,ref:t})});CM.displayName=SM;var qx="SliderRange",EM=x.forwardRef((e,t)=>{const{__scopeSlider:n,...i}=e,s=Bg(qx,n),o=_M(qx,n),l=x.useRef(null),c=St(t,l),d=s.values.length,h=s.values.map(b=>RM(b,s.min,s.max)),g=d>1?Math.min(...h):0,v=100-Math.max(...h);return y.jsx(rh.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...i,ref:c,style:{...e.style,[o.startEdge]:g+"%",[o.endEdge]:v+"%"}})});EM.displayName=qx;var Wx="SliderThumb",AM=x.forwardRef((e,t)=>{const n=b7(e.__scopeSlider),[i,s]=x.useState(null),o=St(t,c=>s(c)),l=x.useMemo(()=>i?n().findIndex(c=>c.ref.current===i):-1,[n,i]);return y.jsx(C7,{...e,ref:o,index:l})}),C7=x.forwardRef((e,t)=>{const{__scopeSlider:n,index:i,name:s,...o}=e,l=Bg(Wx,n),c=_M(Wx,n),[d,h]=x.useState(null),g=St(t,k=>h(k)),v=d?l.form||!!d.closest("form"):!0,b=AN(d),_=l.values[i],C=_===void 0?0:RM(_,l.min,l.max),E=T7(i,l.values.length),R=b?.[c.size],N=R?k7(R,C,c.direction):0;return x.useEffect(()=>{if(d)return l.thumbs.add(d),()=>{l.thumbs.delete(d)}},[d,l.thumbs]),y.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${C}% + ${N}px)`},children:[y.jsx(Kx.ItemSlot,{scope:e.__scopeSlider,children:y.jsx(rh.span,{role:"slider","aria-label":e["aria-label"]||E,"aria-valuemin":l.min,"aria-valuenow":_,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...o,ref:g,style:_===void 0?{display:"none"}:e.style,onFocus:Ie(e.onFocus,()=>{l.valueIndexToChangeRef.current=i})})}),v&&y.jsx(TM,{name:s??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:_},i)]})});AM.displayName=Wx;var E7="RadioBubbleInput",TM=x.forwardRef(({__scopeSlider:e,value:t,...n},i)=>{const s=x.useRef(null),o=St(s,i),l=pM(t);return x.useEffect(()=>{const c=s.current;if(!c)return;const d=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&g){const v=new Event("input",{bubbles:!0});g.call(c,t),c.dispatchEvent(v)}},[l,t]),y.jsx(rh.input,{style:{display:"none"},...n,ref:o,defaultValue:t})});TM.displayName=E7;function A7(e=[],t,n){const i=[...e];return i[n]=t,i.sort((s,o)=>s-o)}function RM(e,t,n){const o=100/(n-t)*(e-t);return tg(o,[0,100])}function T7(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function R7(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),i=Math.min(...n);return n.indexOf(i)}function k7(e,t,n){const i=e/2,o=j_([0,50],[0,i]);return(i-o(t)*n)*n}function N7(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function O7(e,t){if(t>0){const n=N7(e);return Math.min(...n)>=t}return!0}function j_(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(n-e[0])}}function P7(e){return(String(e).split(".")[1]||"").length}function M7(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}const kM=l9("audio.settings",{muted:!1,volume:.7}),NM=pt(!1),OM=pt(e=>{const t=e(st.userDb);return t?t.game_info?.settings?.showEmptyNodes??!1:e(NM)}),D7=async(e,t)=>{try{const{data:n,error:i}=await Dn.from("users").update({game_info:{...e.game_info,settings:t}}).eq("id",e.id).select().single();return i?(console.error("Error updating user settings:",i),null):n}catch(n){return console.error("Unexpected error updating user settings:",n),null}},L7=()=>{const e=Le(OM),[t,n]=Gs(st.userDb),[,i]=Gs(NM),s=Ii();return{showEmptyNodes:e,toggleShowEmptyNodes:async()=>{const l=!e;if(s({to:"/"}),!t){i(l);return}const c={...t.game_info.settings,showEmptyNodes:l};n({...t,game_info:{...t.game_info,settings:c}}),await D7(t,c)}}};function j7(e,t){const n=x.createContext(t),i=o=>{const{children:l,...c}=o,d=x.useMemo(()=>c,Object.values(c));return y.jsx(n.Provider,{value:d,children:l})};i.displayName=e+"Provider";function s(o){const l=x.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[i,s]}function I7(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,R=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:R,children:_})};h.displayName=o+"Provider";function g(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,g]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,z7(s,...t)]}function z7(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function PM(e){const t=B7(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(F7);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function B7(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=$7(s),c=V7(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var U7=Symbol("radix.slottable");function F7(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===U7}function V7(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function $7(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var H7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],oh=H7.reduce((e,t)=>{const n=PM(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),Ug="Dialog",[MM]=I7(Ug),[G7,_r]=MM(Ug),DM=e=>{const{__scopeDialog:t,children:n,open:i,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,c=x.useRef(null),d=x.useRef(null),[h,g]=Do({prop:i,defaultProp:s??!1,onChange:o,caller:Ug});return y.jsx(G7,{scope:t,triggerRef:c,contentRef:d,contentId:_s(),titleId:_s(),descriptionId:_s(),open:h,onOpenChange:g,onOpenToggle:x.useCallback(()=>g(v=>!v),[g]),modal:l,children:n})};DM.displayName=Ug;var LM="DialogTrigger",jM=x.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=_r(LM,n),o=St(t,s.triggerRef);return y.jsx(oh.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":B_(s.open),...i,ref:o,onClick:Ie(e.onClick,s.onOpenToggle)})});jM.displayName=LM;var I_="DialogPortal",[K7,IM]=MM(I_,{forceMount:void 0}),zM=e=>{const{__scopeDialog:t,forceMount:n,children:i,container:s}=e,o=_r(I_,t);return y.jsx(K7,{scope:t,forceMount:n,children:x.Children.map(i,l=>y.jsx(xr,{present:n||o.open,children:y.jsx(Zf,{asChild:!0,container:s,children:l})}))})};zM.displayName=I_;var ng="DialogOverlay",BM=x.forwardRef((e,t)=>{const n=IM(ng,e.__scopeDialog),{forceMount:i=n.forceMount,...s}=e,o=_r(ng,e.__scopeDialog);return o.modal?y.jsx(xr,{present:i||o.open,children:y.jsx(W7,{...s,ref:t})}):null});BM.displayName=ng;var q7=PM("DialogOverlay.RemoveScroll"),W7=x.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=_r(ng,n);return y.jsx(Og,{as:q7,allowPinchZoom:!0,shards:[s.contentRef],children:y.jsx(oh.div,{"data-state":B_(s.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),Wl="DialogContent",UM=x.forwardRef((e,t)=>{const n=IM(Wl,e.__scopeDialog),{forceMount:i=n.forceMount,...s}=e,o=_r(Wl,e.__scopeDialog);return y.jsx(xr,{present:i||o.open,children:o.modal?y.jsx(Y7,{...s,ref:t}):y.jsx(Z7,{...s,ref:t})})});UM.displayName=Wl;var Y7=x.forwardRef((e,t)=>{const n=_r(Wl,e.__scopeDialog),i=x.useRef(null),s=St(t,n.contentRef,i);return x.useEffect(()=>{const o=i.current;if(o)return h_(o)},[]),y.jsx(FM,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(e.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Ie(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&o.preventDefault()}),onFocusOutside:Ie(e.onFocusOutside,o=>o.preventDefault())})}),Z7=x.forwardRef((e,t)=>{const n=_r(Wl,e.__scopeDialog),i=x.useRef(!1),s=x.useRef(!1);return y.jsx(FM,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(i.current||n.triggerRef.current?.focus(),o.preventDefault()),i.current=!1,s.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(i.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;n.triggerRef.current?.contains(l)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),FM=x.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,...l}=e,c=_r(Wl,n),d=x.useRef(null),h=St(t,d);return t_(),y.jsxs(y.Fragment,{children:[y.jsx(Cg,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:s,onUnmountAutoFocus:o,children:y.jsx(Wf,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":B_(c.open),...l,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),y.jsxs(y.Fragment,{children:[y.jsx(Q7,{titleId:c.titleId}),y.jsx(eY,{contentRef:d,descriptionId:c.descriptionId})]})]})}),z_="DialogTitle",VM=x.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=_r(z_,n);return y.jsx(oh.h2,{id:s.titleId,...i,ref:t})});VM.displayName=z_;var $M="DialogDescription",X7=x.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=_r($M,n);return y.jsx(oh.p,{id:s.descriptionId,...i,ref:t})});X7.displayName=$M;var HM="DialogClose",GM=x.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=_r(HM,n);return y.jsx(oh.button,{type:"button",...i,ref:t,onClick:Ie(e.onClick,()=>s.onOpenChange(!1))})});GM.displayName=HM;function B_(e){return e?"open":"closed"}var KM="DialogTitleWarning",[rle,qM]=j7(KM,{contentName:Wl,titleName:z_,docsSlug:"dialog"}),Q7=({titleId:e})=>{const t=qM(KM),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},J7="DialogDescriptionWarning",eY=({contentRef:e,descriptionId:t})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${qM(J7).contentName}}.`;return x.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(i))},[i,e,t]),null},WM=DM,YM=jM,ZM=zM,tY=BM,XM=UM,QM=VM,JM=GM;const U_=WM,nY=YM,iY=ZM,sY=({className:e,...t})=>y.jsx(tY,{className:it("fixed inset-0 z-50 bg-black/60 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}),F_=({className:e,children:t,...n})=>y.jsxs(iY,{children:[y.jsx(sY,{}),y.jsxs(XM,{className:it("bg-background fixed top-[50%] left-[50%] z-50 max-h-[90dvh] w-full max-w-lg -translate-x-1/2 -translate-y-1/2 overflow-hidden rounded-2xl border shadow-xl duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95",e),...n,children:[t,y.jsxs(JM,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-none disabled:pointer-events-none",children:[y.jsx(Gl,{className:"size-4"}),y.jsx("span",{className:"sr-only",children:"Close"})]})]})]}),V_=({className:e,...t})=>y.jsx("div",{className:it("flex flex-col gap-1.5 p-6 pb-4",e),...t}),$_=({className:e,...t})=>y.jsx(QM,{className:it("text-lg leading-none font-semibold tracking-tight",e),...t}),dT=({checked:e,onCheckedChange:t})=>y.jsx("button",{role:"switch","aria-checked":e,onClick:t,className:`relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 ${e?"bg-green-600":"bg-input"}`,children:y.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow-lg transition-transform ${e?"translate-x-5":"translate-x-0"}`})}),rY=({open:e,onOpenChange:t})=>{const n=Le(st.isAuthenticated),{showEmptyNodes:i,toggleShowEmptyNodes:s}=L7(),[o,l]=Gs(kM);return y.jsx(U_,{open:e,onOpenChange:t,children:y.jsxs(F_,{children:[y.jsx(V_,{children:y.jsx($_,{children:"Configuraes"})}),y.jsxs("div",{className:"divide-y",children:[y.jsxs("section",{className:"space-y-3 p-6",children:[y.jsx("h3",{className:"text-sm font-semibold",children:"rvore Taxonmica"}),y.jsxs("div",{className:"flex items-start justify-between gap-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("p",{className:"text-sm font-medium",children:"Exibir ns sem descendentes"}),y.jsxs("p",{className:"text-muted-foreground text-xs leading-relaxed",children:["Por padro,  exibido apenas ns que possuem descendentes. Mantenha ",y.jsx("strong",{children:"desativado"})," para continuar com esse comportamento ou ",y.jsx("strong",{children:"ative"})," para exibir ns sem descendentes."]}),!n&&y.jsx("p",{className:"text-muted-foreground text-xs italic",children:"Faa login para salvar esta preferncia."})]}),y.jsx(dT,{checked:i,onCheckedChange:s})]})]}),y.jsxs("section",{className:"space-y-3 p-6",children:[y.jsx("h3",{className:"text-sm font-semibold",children:"Desafios"}),y.jsxs("div",{className:"flex items-center justify-between gap-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("p",{className:"text-sm font-medium",children:"Som"}),y.jsx("p",{className:"text-muted-foreground text-xs",children:"Ativar ou desativar os efeitos sonoros durante os desafios."})]}),y.jsx(dT,{checked:!o.muted,onCheckedChange:()=>l(c=>({...c,muted:!c.muted}))})]}),!o.muted&&y.jsx("div",{className:"space-y-2",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("p",{className:"text-sm font-medium",children:"Volume"}),y.jsxs("div",{className:"text-muted-foreground flex items-center gap-1.5 text-xs",children:[y.jsx($6,{className:"size-3.5"}),y.jsxs(bM,{value:[o.volume*100],onValueChange:([c])=>l(d=>({...d,volume:c/100})),min:0,max:100,step:1,className:"relative flex h-5 w-32 touch-none items-center select-none",children:[y.jsx(CM,{className:"relative h-1 w-full grow rounded-full bg-gray-200",children:y.jsx(EM,{className:"absolute h-full rounded-full bg-green-600"})}),y.jsx(AM,{className:"block h-4 w-4 rounded-full bg-green-600 shadow focus:outline-none"})]}),y.jsx(F6,{className:"size-3.5"})]})]})})]})]})]})})},eD=({isProfilePage:e})=>{const{changeTheme:t,theme:n}=ih(),{t:i}=Mt(),s=Le(st.isAuthenticated),o=Le(st.userDb),{logout:l,isLoggingOut:c}=L_(),[d,h]=Gs(tt.challenge),g=async()=>{d.status==="IN_PROGRESS"&&!window.confirm(`Voc tem um desafio em andamento. Ao Sair, o desafio ser cancelado.

Deseja continuar?`)||(await l(),h({mode:null,status:"NOT_STARTED"}))},v=Ii(),[b,_]=x.useState(!1);return e&&!s&&v({to:"/login"}),y.jsxs(y.Fragment,{children:[y.jsxs(uP,{children:[y.jsx(dP,{asChild:!0,className:"group cursor-pointer",children:y.jsx("div",{className:"rounded-full",children:s&&o?y.jsxs(GK,{className:e?"size-12":"size-8",children:[y.jsx(KK,{src:o.avatar_url,alt:"User"}),y.jsx(qK,{className:"bg-green-600 text-xs text-white",children:o.name[0]})]}):y.jsx(S6,{className:"size-6"})})}),y.jsx(fP,{className:"m-1 w-full",align:"start",children:y.jsxs(jH,{children:[!s&&y.jsxs(y.Fragment,{children:[y.jsx(Xi,{children:y.jsxs(of,{to:"/login",className:"flex w-full items-center",children:[y.jsx(x6,{className:"mr-2 size-4"}),y.jsx("span",{children:i("loginWithGoogle")})]})}),y.jsx(ba,{})]}),!e&&s&&o&&y.jsxs(Xi,{onClick:()=>{d.status==="IN_PROGRESS"&&!window.confirm(`Voc tem um desafio em andamento. Acessar seu perfil, o desafio ser cancelado.

Deseja continuar?`)||(h({mode:null,status:"NOT_STARTED"}),v({to:"/profile"}))},children:[y.jsxs("div",{className:"px-2 py-1.5 text-sm",children:[y.jsx("div",{className:"font-medium",children:o.name}),y.jsx("div",{className:"text-muted-foreground text-xs",children:o.email})]}),y.jsx(ba,{})]}),e&&y.jsxs(y.Fragment,{children:[y.jsx(Xi,{children:y.jsxs(of,{to:"/",className:"flex w-full items-center",children:[y.jsx(w_,{className:"mr-2 size-4"}),y.jsx("span",{children:i("nav.back")})]})}),y.jsx(ba,{})]}),y.jsx(Xi,{disabled:d.status==="IN_PROGRESS",onClick:()=>h({mode:"UNSET",status:"NOT_STARTED"}),children:y.jsxs(of,{to:"/challenges",className:"flex w-full items-center",children:[y.jsx(M6,{className:"mr-2 size-4"})," ",i("nav.challenges")]})}),y.jsx(ba,{}),y.jsx(Xi,{onClick:()=>{d.status==="IN_PROGRESS"&&!window.confirm(`Voc tem um desafio em andamento. Ao acessar Explorar, o desafio ser cancelado.

Deseja continuar?`)||(h({mode:null,status:"NOT_STARTED"}),v({to:"/"}))},children:y.jsxs("div",{className:"flex w-full items-center",children:[y.jsx(L6,{className:"mr-2 size-4"})," ",i("nav.explore")]})}),y.jsx(ba,{}),y.jsxs(Xi,{onClick:()=>_(!0),children:[y.jsx(N6,{className:"mr-2 size-4"}),y.jsx("span",{children:"Configuraes"})]}),y.jsx(ba,{}),y.jsxs(Tb,{children:[y.jsxs(Rb,{children:[i("theme"),": ",i(n)]}),y.jsx(Ab,{children:y.jsxs(kb,{className:"m-1",children:[y.jsx(Xi,{onClick:()=>t("light"),children:i("light")}),y.jsx(Xi,{onClick:()=>t("dark"),children:i("dark")}),y.jsx(Xi,{onClick:()=>t("system"),children:i("system")})]})})]}),y.jsx(ba,{}),y.jsxs(Tb,{children:[y.jsxs(Rb,{children:[i("language"),": ",i(Qt.language)]}),y.jsx(Ab,{children:y.jsxs(kb,{className:"m-1",children:[y.jsx(Xi,{onClick:()=>Qt.changeLanguage("pt"),children:i("pt")}),y.jsx(Xi,{onClick:()=>Qt.changeLanguage("en"),children:i("en")}),y.jsx(Xi,{onClick:()=>Qt.changeLanguage("es"),children:i("es")})]})})]}),!e&&s&&y.jsxs(Tb,{children:[y.jsx(ba,{}),y.jsxs(Rb,{disabled:c,children:[y.jsx(r1,{className:"mr-2 size-4"}),y.jsx("span",{children:i("logout")})]}),y.jsx(Ab,{children:y.jsxs(kb,{className:"w-72 max-w-[90vw] p-4",sideOffset:-90,alignOffset:90,children:[y.jsx("p",{className:"mb-3 text-center text-sm leading-relaxed",children:i("nav.logoutWarning")}),y.jsxs(Ht,{onClick:g,variant:"destructive",className:"w-full",children:[c?y.jsx(nh,{className:"mr-2 h-4 w-4 animate-spin"}):y.jsx(r1,{className:"mr-2 h-4 w-4"}),i("nav.logoutAnyway")]})]})})]})]})})]}),y.jsx(rY,{open:b,onOpenChange:_})]})},tD=()=>y.jsxs("header",{className:"flex w-[calc(100%-8px)] items-center justify-between gap-3 rounded-br-2xl pt-4 pb-6",children:[y.jsx(Hn,{alt:"Logo",src:Q3,className:"h-12"}),y.jsxs("div",{className:"flex w-full flex-col",children:[y.jsx("h1",{className:"text-2xl font-bold",children:"Treevera"}),y.jsx("p",{className:"line-clamp-1 text-base/4",children:"Taxonomia interativa"})]}),y.jsx(eD,{})]});var ah=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},oY={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},aY=class{#e=oY;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},No=new aY;function lY(e){setTimeout(e,0)}var Yl=typeof window>"u"||"Deno"in globalThis;function ni(){}function cY(e,t){return typeof e=="function"?e(t):e}function Yx(e){return typeof e=="number"&&e>=0&&e!==1/0}function nD(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Oa(e,t){return typeof e=="function"?e(t):e}function Bs(e,t){return typeof e=="function"?e(t):e}function fT(e,t){const{type:n="all",exact:i,fetchStatus:s,predicate:o,queryKey:l,stale:c}=e;if(l){if(i){if(t.queryHash!==H_(l,t.options))return!1}else if(!Df(t.queryKey,l))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||s&&s!==t.state.fetchStatus||o&&!o(t))}function hT(e,t){const{exact:n,status:i,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Mf(t.options.mutationKey)!==Mf(o))return!1}else if(!Df(t.options.mutationKey,o))return!1}return!(i&&t.state.status!==i||s&&!s(t))}function H_(e,t){return(t?.queryKeyHashFn||Mf)(e)}function Mf(e){return JSON.stringify(e,(t,n)=>Xx(n)?Object.keys(n).sort().reduce((i,s)=>(i[s]=n[s],i),{}):n)}function Df(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Df(e[n],t[n])):!1}var uY=Object.prototype.hasOwnProperty;function iD(e,t,n=0){if(e===t)return e;if(n>500)return t;const i=pT(e)&&pT(t);if(!i&&!(Xx(e)&&Xx(t)))return t;const o=(i?e:Object.keys(e)).length,l=i?t:Object.keys(t),c=l.length,d=i?new Array(c):{};let h=0;for(let g=0;g<c;g++){const v=i?g:l[g],b=e[v],_=t[v];if(b===_){d[v]=b,(i?g<o:uY.call(e,v))&&h++;continue}if(b===null||_===null||typeof b!="object"||typeof _!="object"){d[v]=_;continue}const C=iD(b,_,n+1);d[v]=C,C===b&&h++}return o===c&&h===o?e:d}function Zx(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function pT(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Xx(e){if(!mT(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!mT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function mT(e){return Object.prototype.toString.call(e)==="[object Object]"}function dY(e){return new Promise(t=>{No.setTimeout(t,e)})}function Qx(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?iD(e,t):t}function fY(e,t,n=0){const i=[...e,t];return n&&i.length>n?i.slice(1):i}function hY(e,t,n=0){const i=[t,...e];return n&&i.length>n?i.slice(0,-1):i}var G_=Symbol();function sD(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===G_?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function rD(e,t){return typeof e=="function"?e(...t):!!e}function pY(e,t,n){let i=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??=t(),i||(i=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var mY=class extends ah{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Yl&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},K_=new mY;function Jx(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function i(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{i({status:"fulfilled",value:s}),e(s)},n.reject=s=>{i({status:"rejected",reason:s}),t(s)},n}function gY(e){let t;if(e.then(n=>(t=n,n),ni)?.catch(ni),t!==void 0)return{data:t}}function oD(e){return e}function vY(e){return{mutationKey:e.options.mutationKey,state:e.state,...e.options.scope&&{scope:e.options.scope},...e.meta&&{meta:e.meta}}}function yY(e,t,n){const i=()=>{const s=e.promise?.then(t).catch(o=>n(o)?Promise.reject(new Error("redacted")):Promise.reject(o));return s?.catch(ni),s};return{dehydratedAt:Date.now(),state:{...e.state,...e.state.data!==void 0&&{data:t(e.state.data)}},queryKey:e.queryKey,queryHash:e.queryHash,...e.state.status==="pending"&&{promise:i()},...e.meta&&{meta:e.meta}}}function bY(e){return e.state.isPaused}function xY(e){return e.state.status==="success"}function _Y(e){return!0}function wY(e,t={}){const n=t.shouldDehydrateMutation??e.getDefaultOptions().dehydrate?.shouldDehydrateMutation??bY,i=e.getMutationCache().getAll().flatMap(d=>n(d)?[vY(d)]:[]),s=t.shouldDehydrateQuery??e.getDefaultOptions().dehydrate?.shouldDehydrateQuery??xY,o=t.shouldRedactErrors??e.getDefaultOptions().dehydrate?.shouldRedactErrors??_Y,l=t.serializeData??e.getDefaultOptions().dehydrate?.serializeData??oD,c=e.getQueryCache().getAll().flatMap(d=>s(d)?[yY(d,l,o)]:[]);return{mutations:i,queries:c}}function SY(e,t,n){if(typeof t!="object"||t===null)return;const i=e.getMutationCache(),s=e.getQueryCache(),o=n?.defaultOptions?.deserializeData??e.getDefaultOptions().hydrate?.deserializeData??oD,l=t.mutations||[],c=t.queries||[];l.forEach(({state:d,...h})=>{i.build(e,{...e.getDefaultOptions().hydrate?.mutations,...n?.defaultOptions?.mutations,...h},d)}),c.forEach(({queryKey:d,state:h,queryHash:g,meta:v,promise:b,dehydratedAt:_})=>{const C=b?gY(b):void 0,E=h.data===void 0?C?.data:h.data,R=E===void 0?E:o(E);let N=s.get(g);const k=N?.state.status==="pending",O=N?.state.fetchStatus==="fetching";if(N){const M=C&&_!==void 0&&_>N.state.dataUpdatedAt;if(h.dataUpdatedAt>N.state.dataUpdatedAt||M){const{fetchStatus:D,...V}=h;N.setState({...V,data:R})}}else N=s.build(e,{...e.getDefaultOptions().hydrate?.queries,...n?.defaultOptions?.queries,queryKey:d,queryHash:g,meta:v},{...h,data:R,fetchStatus:"idle",status:R!==void 0?"success":h.status});b&&!k&&!O&&(_===void 0||_>N.state.dataUpdatedAt)&&N.fetch(void 0,{initialPromise:Promise.resolve(b).then(o)}).catch(ni)})}var CY=lY;function EY(){let e=[],t=0,n=c=>{c()},i=c=>{c()},s=CY;const o=c=>{t?e.push(c):s(()=>{n(c)})},l=()=>{const c=e;e=[],c.length&&s(()=>{i(()=>{c.forEach(d=>{n(d)})})})};return{batch:c=>{let d;t++;try{d=c()}finally{t--,t||l()}return d},batchCalls:c=>(...d)=>{o(()=>{c(...d)})},schedule:o,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{i=c},setScheduler:c=>{s=c}}}var pi=EY(),AY=class extends ah{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Yl&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},ig=new AY;function TY(e){return Math.min(1e3*2**e,3e4)}function aD(e){return(e??"online")==="online"?ig.isOnline():!0}var e0=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function lD(e){let t=!1,n=0,i;const s=Jx(),o=()=>s.status!=="pending",l=E=>{if(!o()){const R=new e0(E);b(R),e.onCancel?.(R)}},c=()=>{t=!0},d=()=>{t=!1},h=()=>K_.isFocused()&&(e.networkMode==="always"||ig.isOnline())&&e.canRun(),g=()=>aD(e.networkMode)&&e.canRun(),v=E=>{o()||(i?.(),s.resolve(E))},b=E=>{o()||(i?.(),s.reject(E))},_=()=>new Promise(E=>{i=R=>{(o()||h())&&E(R)},e.onPause?.()}).then(()=>{i=void 0,o()||e.onContinue?.()}),C=()=>{if(o())return;let E;const R=n===0?e.initialPromise:void 0;try{E=R??e.fn()}catch(N){E=Promise.reject(N)}Promise.resolve(E).then(v).catch(N=>{if(o())return;const k=e.retry??(Yl?0:3),O=e.retryDelay??TY,M=typeof O=="function"?O(n,N):O,D=k===!0||typeof k=="number"&&n<k||typeof k=="function"&&k(n,N);if(t||!D){b(N);return}n++,e.onFail?.(n,N),dY(M).then(()=>h()?void 0:_()).then(()=>{t?b(N):C()})})};return{promise:s,status:()=>s.status,cancel:l,continue:()=>(i?.(),s),cancelRetry:c,continueRetry:d,canStart:g,start:()=>(g()?C():_().then(C),s)}}var cD=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Yx(this.gcTime)&&(this.#e=No.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Yl?1/0:300*1e3))}clearGcTimeout(){this.#e&&(No.clearTimeout(this.#e),this.#e=void 0)}},RY=class extends cD{#e;#t;#n;#s;#i;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=vT(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=vT(this.options);t.data!==void 0&&(this.setState(gT(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=Qx(this.state.data,e,this.options);return this.#r({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#r({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(ni).catch(ni):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Bs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===G_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Oa(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!nD(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(d=>d.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,i=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},s=()=>{const c=sD(this.options,t),h=(()=>{const g={client:this.#s,queryKey:this.queryKey,meta:this.meta};return i(g),g})();return this.#o=!1,this.options.persister?this.options.persister(c,h,this):c(h)},l=(()=>{const c={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:s};return i(c),c})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#r({type:"fetch",meta:l.fetchOptions?.meta}),this.#i=lD({initialPromise:t?.initialPromise,fn:l.fetchFn,onCancel:c=>{c instanceof e0&&c.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(c,d)=>{this.#r({type:"failed",failureCount:c,error:d})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const c=await this.#i.start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof e0){if(c.silent)return this.#i.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#r({type:"error",error:c}),this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...uD(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,...gT(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),pi.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function uD(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:aD(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function gT(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function vT(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,i=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var kY=class extends ah{constructor(e,t){super(),this.options=t,this.#e=e,this.#r=null,this.#o=Jx(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#s=void 0;#i;#a;#o;#r;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),yT(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return t0(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return t0(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#_(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Bs(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),t._defaulted&&!Zx(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&bT(this.#t,n,this.options,t)&&this.#d(),this.updateResult(),i&&(this.#t!==n||Bs(this.options.enabled,this.#t)!==Bs(t.enabled,this.#t)||Oa(this.options.staleTime,this.#t)!==Oa(t.staleTime,this.#t))&&this.#g();const s=this.#v();i&&(this.#t!==n||Bs(this.options.enabled,this.#t)!==Bs(t.enabled,this.#t)||s!==this.#l)&&this.#y(s)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return OY(this,n)&&(this.#s=n,this.#a=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(e,t){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),t?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(e){this.#w();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(ni)),t}#g(){this.#x();const e=Oa(this.options.staleTime,this.#t);if(Yl||this.#s.isStale||!Yx(e))return;const n=nD(this.#s.dataUpdatedAt,e)+1;this.#c=No.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(e){this.#_(),this.#l=e,!(Yl||Bs(this.options.enabled,this.#t)===!1||!Yx(this.#l)||this.#l===0)&&(this.#u=No.setInterval(()=>{(this.options.refetchIntervalInBackground||K_.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#y(this.#v())}#x(){this.#c&&(No.clearTimeout(this.#c),this.#c=void 0)}#_(){this.#u&&(No.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const n=this.#t,i=this.options,s=this.#s,o=this.#i,l=this.#a,d=e!==n?e.state:this.#n,{state:h}=e;let g={...h},v=!1,b;if(t._optimisticResults){const I=this.hasListeners(),$=!I&&yT(e,t),Z=I&&bT(e,n,t,i);($||Z)&&(g={...g,...uD(h.data,e.options)}),t._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:_,errorUpdatedAt:C,status:E}=g;b=g.data;let R=!1;if(t.placeholderData!==void 0&&b===void 0&&E==="pending"){let I;s?.isPlaceholderData&&t.placeholderData===l?.placeholderData?(I=s.data,R=!0):I=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,I!==void 0&&(E="success",b=Qx(s?.data,I,t),v=!0)}if(t.select&&b!==void 0&&!R)if(s&&b===o?.data&&t.select===this.#m)b=this.#f;else try{this.#m=t.select,b=t.select(b),b=Qx(s?.data,b,t),this.#f=b,this.#r=null}catch(I){this.#r=I}this.#r&&(_=this.#r,b=this.#f,C=Date.now(),E="error");const N=g.fetchStatus==="fetching",k=E==="pending",O=E==="error",M=k&&N,D=b!==void 0,z={status:E,fetchStatus:g.fetchStatus,isPending:k,isSuccess:E==="success",isError:O,isInitialLoading:M,isLoading:M,data:b,dataUpdatedAt:g.dataUpdatedAt,error:_,errorUpdatedAt:C,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>d.dataUpdateCount||g.errorUpdateCount>d.errorUpdateCount,isFetching:N,isRefetching:N&&!k,isLoadingError:O&&!D,isPaused:g.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:O&&D,isStale:q_(e,t),refetch:this.refetch,promise:this.#o,isEnabled:Bs(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const I=z.data!==void 0,$=z.status==="error"&&!I,Z=ne=>{$?ne.reject(z.error):I&&ne.resolve(z.data)},q=()=>{const ne=this.#o=z.promise=Jx();Z(ne)},W=this.#o;switch(W.status){case"pending":e.queryHash===n.queryHash&&Z(W);break;case"fulfilled":($||z.data!==W.value)&&q();break;case"rejected":(!$||z.error!==W.reason)&&q();break}}return z}updateResult(){const e=this.#s,t=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#a=this.options,this.#i.data!==void 0&&(this.#h=this.#t),Zx(t,e))return;this.#s=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!this.#p.size)return!0;const o=new Set(s??this.#p);return this.options.throwOnError&&o.add("error"),Object.keys(this.#s).some(l=>{const c=l;return this.#s[c]!==e[c]&&o.has(c)})};this.#S({listeners:n()})}#w(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(e){pi.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function NY(e,t){return Bs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function yT(e,t){return NY(e,t)||e.state.data!==void 0&&t0(e,t,t.refetchOnMount)}function t0(e,t,n){if(Bs(t.enabled,e)!==!1&&Oa(t.staleTime,e)!=="static"){const i=typeof n=="function"?n(e):n;return i==="always"||i!==!1&&q_(e,t)}return!1}function bT(e,t,n,i){return(e!==t||Bs(i.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&q_(e,n)}function q_(e,t){return Bs(t.enabled,e)!==!1&&e.isStaleByTime(Oa(t.staleTime,e))}function OY(e,t){return!Zx(e.getCurrentResult(),t)}function xT(e){return{onFetch:(t,n)=>{const i=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],l=t.state.data?.pageParams||[];let c={pages:[],pageParams:[]},d=0;const h=async()=>{let g=!1;const v=C=>{pY(C,()=>t.signal,()=>g=!0)},b=sD(t.options,t.fetchOptions),_=async(C,E,R)=>{if(g)return Promise.reject();if(E==null&&C.pages.length)return Promise.resolve(C);const k=(()=>{const V={client:t.client,queryKey:t.queryKey,pageParam:E,direction:R?"backward":"forward",meta:t.options.meta};return v(V),V})(),O=await b(k),{maxPages:M}=t.options,D=R?hY:fY;return{pages:D(C.pages,O,M),pageParams:D(C.pageParams,E,M)}};if(s&&o.length){const C=s==="backward",E=C?PY:_T,R={pages:o,pageParams:l},N=E(i,R);c=await _(R,N,C)}else{const C=e??o.length;do{const E=d===0?l[0]??i.initialPageParam:_T(i,c);if(d>0&&E==null)break;c=await _(c,E),d++}while(d<C)}return c};t.options.persister?t.fetchFn=()=>t.options.persister?.(h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=h}}}function _T(e,{pages:t,pageParams:n}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,n[i],n):void 0}function PY(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var MY=class extends cD{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||DY(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#i({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=lD({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(o,l)=>{this.#i({type:"failed",failureCount:o,error:l})},onPause:()=>{this.#i({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",s=!this.#s.canStart();try{if(i)t();else{this.#i({type:"pending",variables:e,isPaused:s}),this.#n.config.onMutate&&await this.#n.config.onMutate(e,this,n);const l=await this.options.onMutate?.(e,n);l!==this.state.context&&this.#i({type:"pending",context:l,variables:e,isPaused:s})}const o=await this.#s.start();return await this.#n.config.onSuccess?.(o,e,this.state.context,this,n),await this.options.onSuccess?.(o,e,this.state.context,n),await this.#n.config.onSettled?.(o,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(o,null,e,this.state.context,n),this.#i({type:"success",data:o}),o}catch(o){try{await this.#n.config.onError?.(o,e,this.state.context,this,n)}catch(l){Promise.reject(l)}try{await this.options.onError?.(o,e,this.state.context,n)}catch(l){Promise.reject(l)}try{await this.#n.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this,n)}catch(l){Promise.reject(l)}try{await this.options.onSettled?.(void 0,o,e,this.state.context,n)}catch(l){Promise.reject(l)}throw this.#i({type:"error",error:o}),o}finally{this.#n.runNext(this)}}#i(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),pi.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function DY(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var LY=class extends ah{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const i=new MY({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(i),i}add(e){this.#e.add(e);const t=im(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=im(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=im(e);if(typeof t=="string"){const i=this.#t.get(t)?.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){const t=im(e);return typeof t=="string"?this.#t.get(t)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){pi.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>hT(t,n))}findAll(e={}){return this.getAll().filter(t=>hT(e,t))}notify(e){pi.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return pi.batch(()=>Promise.all(e.map(t=>t.continue().catch(ni))))}};function im(e){return e.options.scope?.id}var jY=class extends ah{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const i=t.queryKey,s=t.queryHash??H_(i,t);let o=this.get(s);return o||(o=new RY({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){pi.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>fT(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>fT(e,n)):t}notify(e){pi.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){pi.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){pi.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},IY=class{#e;#t;#n;#s;#i;#a;#o;#r;constructor(e={}){this.#e=e.queryCache||new jY,this.#t=e.mutationCache||new LY,this.#n=e.defaultOptions||{},this.#s=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=K_.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=ig.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),i=n.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Oa(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const i=n.data;return[t,i]})}setQueryData(e,t,n){const i=this.defaultQueryOptions({queryKey:e}),o=this.#e.get(i.queryHash)?.state.data,l=cY(t,o);if(l!==void 0)return this.#e.build(this,i).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return pi.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;pi.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return pi.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},i=pi.batch(()=>this.#e.findAll(e).map(s=>s.cancel(n)));return Promise.all(i).then(ni).catch(ni)}invalidateQueries(e,t={}){return pi.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},i=pi.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(ni)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(i).then(ni)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(Oa(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ni).catch(ni)}fetchInfiniteQuery(e){return e.behavior=xT(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ni).catch(ni)}ensureInfiniteQueryData(e){return e.behavior=xT(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ig.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#s.set(Mf(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#s.values()],n={};return t.forEach(i=>{Df(e,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(e,t){this.#i.set(Mf(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(i=>{Df(e,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=H_(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===G_&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},dD=x.createContext(void 0),zY=e=>{const t=x.useContext(dD);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},BY=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),y.jsx(dD.Provider,{value:e,children:t})),fD=x.createContext(!1),W_=()=>x.useContext(fD),UY=fD.Provider;function FY(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var VY=x.createContext(FY()),$Y=()=>x.useContext(VY),HY=(e,t,n)=>{const i=n?.state.error&&typeof e.throwOnError=="function"?rD(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||i)&&(t.isReset()||(e.retryOnMount=!1))},GY=e=>{x.useEffect(()=>{e.clearReset()},[e])},KY=({result:e,errorResetBoundary:t,throwOnError:n,query:i,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&(s&&e.data===void 0||rD(n,[e.error,i])),qY=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...s)=>n(i(...s)):n(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},WY=(e,t)=>e.isLoading&&e.isFetching&&!t,YY=(e,t)=>e?.suspense&&t.isPending,wT=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function ZY(e,t,n){const i=W_(),s=$Y(),o=zY(),l=o.defaultQueryOptions(e);o.getDefaultOptions().queries?._experimental_beforeQuery?.(l);const c=o.getQueryCache().get(l.queryHash);l._optimisticResults=i?"isRestoring":"optimistic",qY(l),HY(l,s,c),GY(s);const d=!o.getQueryCache().get(l.queryHash),[h]=x.useState(()=>new t(o,l)),g=h.getOptimisticResult(l),v=!i&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(b=>{const _=v?h.subscribe(pi.batchCalls(b)):ni;return h.updateResult(),_},[h,v]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),x.useEffect(()=>{h.setOptions(l)},[l,h]),YY(l,g))throw wT(l,h,s);if(KY({result:g,errorResetBoundary:s,throwOnError:l.throwOnError,query:c,suspense:l.suspense}))throw g.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(l,g),l.experimental_prefetchInRender&&!Yl&&WY(g,i)&&(d?wT(l,h,s):c?.promise)?.catch(ni).finally(()=>{h.updateResult()}),l.notifyOnChangeProps?g:h.trackResult(g)}function wr(e,t){return ZY(e,kY)}const hD="https://api.gbif.org/v1",lh=`${hD}/species`,XY=`${lh}/search?rank=KINGDOM&status=ACCEPTED&limit=100&datasetKey=d7dddbf4-2cf0-4f39-9b2a-bb099caae36c`,QY=async()=>(await(await fetch(XY)).json()).results,JY=async e=>{const t=`${lh}/${e}/children?limit=1000&status=ACCEPTED`;return(await fetch(t).then(i=>i.json())).results},pD=async e=>{const t=`${lh}/${e}`;return await fetch(t).then(i=>i.json())},eZ=async({specieKey:e})=>{const t=`https://api.gbif.org/v1/occurrence/search?mediaType=StillImage&taxon_key=${e}&limit=1`,i=(await fetch(t).then(s=>s.json())).results?.[0]?.media?.[0]?.identifier;return i?{source:"GBIF",imgUrl:i,licenseCode:"",author:""}:null},tZ=async(e,t)=>{let n=`${lh}/search?q=${encodeURIComponent(e)}&status=ACCEPTED&limit=50`;return t&&(n+=`&kingdom=${encodeURIComponent(t)}`),(await fetch(n).then(o=>o.json())).results??[]},mD=async e=>{const t=`${lh}/${e}/parents`;return await fetch(t).then(i=>i.json())??[]},nZ=`${hD}/occurrence`,iZ=async e=>{const t=`${nZ}/search?taxonKey=${e}`;return await fetch(t).then(i=>i.json())},Iu={kingdoms_key:"kingdoms",children_key:"children",specie_key:"specie",parents_key:"parents",daily_challenge_key:"daily_challenge",challenge_tips_key:"challenge_tips"},Bo=({specieKey:e})=>{const{specie_key:t}=Iu;return wr({queryKey:[t,e],queryFn:async()=>{const n=await pD(e);return{canonicalName:n.canonicalName,scientificName:n.scientificName,kingdom:n.kingdom,phylum:n.phylum,class:n.class,order:n.order,family:n.family,genus:n.genus,species:n.species,authorship:n.authorship,publishedIn:n.publishedIn,title:n.title}},staleTime:1e3*60*15,gcTime:1e3*60*60})},sZ="https://api.inaturalist.org/v1",rZ=async({canonicalName:e})=>{const t=`${sZ}/search?q=${encodeURIComponent(e)}&sources=taxa`,n=await fetch(t).then(s=>s.json());if(!n||!n.results?.[0]?.record?.id)return null;const i=n.results[0].record.taxon_photos?.[0]?.photo;if(i)return{source:"iNaturalist",imgUrl:i.original_url,licenseCode:i.license_code,author:i.attribution_name}},gD="https://pt.wikipedia.org/api/rest_v1/page/summary",oZ=async e=>await(await fetch(`${gD}/${e}`)).json();async function aZ(e){const t=`
    SELECT ?item ?itemLabel ?iucnStatus ?iucnStatusLabel WHERE {
      ?item wdt:P225 "${e}".
      OPTIONAL { ?item wdt:P141 ?iucnStatus. }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
    } LIMIT 1
  `,i="https://query.wikidata.org/sparql"+"?format=json&query="+encodeURIComponent(t);try{const s=await fetch(i,{headers:{Accept:"application/sparql-results+json"}});if(!s.ok)throw new Error("Erro na requisio SPARQL");const l=(await s.json())?.results?.bindings?.[0]?.iucnStatusLabel?.value;return{Extinct:"EX","Extinct in the Wild":"EW","Critically Endangered":"CR",Endangered:"EN",Vulnerable:"VU","Near Threatened":"NT","Least Concern":"LC","Data Deficient":"DD","Not Evaluated":"NE"}[l]??null}catch(s){return console.error("Erro ao buscar status na Wikidata:",s),null}}const lZ=async({canonicalName:e})=>{const t=`${gD}/${encodeURIComponent(e)}`,n=await fetch(t).then(i=>i.json());return n?.thumbnail?.source?{source:"Wikipedia",imgUrl:n.thumbnail.source,licenseCode:"",author:""}:null},ch=(e,t)=>wr({queryKey:["specie-image",e,t],queryFn:async()=>{if(!e||!t)return null;const n=await rZ({canonicalName:t});if(n)return n;const i=await lZ({canonicalName:t});return i||await eZ({specieKey:e})},enabled:!!e&&!!t,staleTime:1e3*60*60*24}),Oo=({className:e,children:t})=>y.jsx("div",{className:`bg-skeleton bg-skeleton-size animate-skeleton rounded ${e}`,children:t}),vD=()=>y.jsxs("div",{className:"space-y-2",children:[y.jsx(Oo,{className:"h-8 w-1/2"}),y.jsx(Oo,{className:"h-4 w-1/3"})]}),cZ=()=>y.jsx("div",{className:"grid grid-cols-2 gap-4",children:Array.from({length:6}).map((e,t)=>y.jsxs("div",{children:[y.jsx(Oo,{className:"h-4 w-3/4"}),y.jsx(Oo,{className:"mt-1 h-4 w-1/2"})]},t))}),uZ=()=>y.jsx(Oo,{className:"h-6 w-32 rounded-full"}),dZ=()=>y.jsxs("div",{className:"space-y-2",children:[y.jsx(Oo,{className:"h-4 w-full"}),y.jsx(Oo,{className:"h-4 w-5/6"}),y.jsx(Oo,{className:"h-4 w-2/3"})]}),fZ=()=>y.jsx(Oo,{className:"aspect-square w-full rounded-xl"}),hZ=({zoom:e=3,...t})=>{const n=x.useRef(null),[i,s]=x.useState(!1),[o,l]=x.useState({xPercent:50,yPercent:50}),[c,d]=x.useState(!1),h=g=>{const v=n.current?.getBoundingClientRect();if(!v)return;const b=(g.clientX-v.left)/v.width*100,_=(g.clientY-v.top)/v.height*100;l({xPercent:b,yPercent:_})};return x.useEffect(()=>{if(!c)return;const g=v=>{v.key==="Escape"&&d(!1)};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[c]),y.jsxs(y.Fragment,{children:[y.jsx("div",{ref:n,className:`relative size-full cursor-zoom-in overflow-hidden ${t.className}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onMouseMove:h,onClick:()=>d(!0),style:{backgroundImage:`url(${t.src})`,backgroundSize:i?`${e*100}%`:"cover",backgroundPosition:`${o.xPercent}% ${o.yPercent}%`,backgroundRepeat:"no-repeat",transition:"background-size 0.15s ease-out"},children:y.jsx(Hn,{src:t.src,alt:t.alt,className:`h-full w-full object-cover transition-opacity duration-150 ${i?"opacity-0":"opacity-100"}`,draggable:!1,fallbackSrc:t.fallbackSrc})}),c&&y.jsx("div",{className:"fixed inset-0 z-[9999] flex cursor-zoom-out items-center justify-center bg-black/90",onClick:()=>d(!1),children:y.jsx(Hn,{src:t.src,alt:t.alt,className:"max-h-[95vh] max-w-[95vw] rounded-lg object-contain",draggable:!1})})]})},pZ=()=>{const{t:e}=Mt(),t=Le(Da),n=Le(tt.expandedNodes).find(g=>g.rank==="SPECIES")?.key,i=t??n,{data:s}=Bo({specieKey:i}),{data:o,isLoading:l}=ch(i,s?.canonicalName),[c,d]=x.useState(!1);if(!s)return;if(l)return y.jsx(fZ,{});const h=gs(LP[s.kingdom.toLowerCase()]);return!o||c?y.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2 rounded-xl border border-dashed p-4 text-center text-sm",children:[y.jsx(Hn,{src:h,alt:s.scientificName,className:"max-h-48 opacity-30"}),y.jsx("span",{children:e("specieDetail.imageNotFound")}),y.jsx("div",{className:"rounded-md border p-3 text-xs",children:y.jsx("p",{children:e("specieDetail.imageNote")})}),y.jsx("a",{href:`https://www.google.com/search?tbm=isch&q=${encodeURIComponent(s.canonicalName)}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:e("specieDetail.viewOnGoogle")})]}):y.jsxs("div",{className:"relative mx-auto h-fit w-full",children:[y.jsx("figure",{children:y.jsx(hZ,{src:o.imgUrl||h,fallbackSrc:h,alt:`Imagem da espcie "${s.scientificName}"`,onFallbackChange:d,zoom:3,className:"h-auto w-full rounded-lg"})}),o.source&&y.jsxs("p",{className:"absolute right-0 -bottom-4 px-1 text-[11px]",children:[e("specieDetail.imageSource"),": ",o.source,o.author&&`${e("specieDetail.imageBy")}${o.author}`,o.licenseCode&&`${e("specieDetail.imageLicense")}${o.licenseCode}`]})]})},mZ=DP("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Lf({className:e,variant:t,asChild:n=!1,...i}){const s=n?TP:"span";return y.jsx(s,{"data-slot":"badge",className:it(mZ({variant:t}),e),...i})}const ST={EX:{bg:"bg-gray-800"},EW:{bg:"bg-gray-600"},CR:{bg:"bg-red-700"},EN:{bg:"bg-orange-600"},VU:{bg:"bg-yellow-500",text:"text-black"},NT:{bg:"bg-lime-500",text:"text-black"},LC:{bg:"bg-green-500"},DD:{bg:"bg-blue-400"},NE:{bg:"bg-neutral-400"}},gZ=({statusCode:e})=>{const{t}=Mt();if(!e||!(e in ST))return y.jsx(Lf,{className:"w-full bg-neutral-500 py-3 text-sm text-white",children:t("vulnerability.unknown")});const{bg:n,text:i}=ST[e];return y.jsx(Lf,{className:it("w-full py-3 text-sm text-white",n,i),children:t(`vulnerability.${e}`)})},vZ=({specieName:e})=>wr({queryKey:["iucn-status",e],queryFn:async()=>await aZ(e),enabled:!!e,staleTime:1e3*60*60*24}),yZ=e=>wr({queryKey:["wiki-details",e],queryFn:()=>oZ(e),enabled:!!e,staleTime:1e3*60*60*24}),Y_=x.createContext({});function Z_(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const yD=typeof window<"u",bD=yD?x.useLayoutEffect:x.useEffect,Fg=x.createContext(null);function X_(e,t){e.indexOf(t)===-1&&e.push(t)}function sg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Zr=(e,t,n)=>n>t?t:n<e?e:n;let Q_=()=>{};const Io={},xD=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function _D(e){return typeof e=="object"&&e!==null}const wD=e=>/^0[^.\s]+$/u.test(e);function SD(e){let t;return()=>(t===void 0&&(t=e()),t)}const Hs=e=>e,bZ=(e,t)=>n=>t(e(n)),uh=(...e)=>e.reduce(bZ),jf=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class J_{constructor(){this.subscriptions=[]}add(t){return X_(this.subscriptions,t),()=>sg(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pr=e=>e*1e3,Vs=e=>e/1e3;function CD(e,t){return t?e*(1e3/t):0}const ED=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,xZ=1e-7,_Z=12;function wZ(e,t,n,i,s){let o,l,c=0;do l=t+(n-t)/2,o=ED(l,i,s)-e,o>0?n=l:t=l;while(Math.abs(o)>xZ&&++c<_Z);return l}function dh(e,t,n,i){if(e===t&&n===i)return Hs;const s=o=>wZ(o,0,1,e,n);return o=>o===0||o===1?o:ED(s(o),t,i)}const AD=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,TD=e=>t=>1-e(1-t),RD=dh(.33,1.53,.69,.99),ew=TD(RD),kD=AD(ew),ND=e=>(e*=2)<1?.5*ew(e):.5*(2-Math.pow(2,-10*(e-1))),tw=e=>1-Math.sin(Math.acos(e)),OD=TD(tw),PD=AD(tw),SZ=dh(.42,0,1,1),CZ=dh(0,0,.58,1),MD=dh(.42,0,.58,1),EZ=e=>Array.isArray(e)&&typeof e[0]!="number",DD=e=>Array.isArray(e)&&typeof e[0]=="number",AZ={linear:Hs,easeIn:SZ,easeInOut:MD,easeOut:CZ,circIn:tw,circInOut:PD,circOut:OD,backIn:ew,backInOut:kD,backOut:RD,anticipate:ND},TZ=e=>typeof e=="string",CT=e=>{if(DD(e)){Q_(e.length===4);const[t,n,i,s]=e;return dh(t,n,i,s)}else if(TZ(e))return AZ[e];return e},sm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function RZ(e,t){let n=new Set,i=new Set,s=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(g){l.has(g)&&(h.schedule(g),e()),g(c)}const h={schedule:(g,v=!1,b=!1)=>{const C=b&&s?n:i;return v&&l.add(g),C.has(g)||C.add(g),g},cancel:g=>{i.delete(g),l.delete(g)},process:g=>{if(c=g,s){o=!0;return}s=!0,[n,i]=[i,n],n.forEach(d),n.clear(),s=!1,o&&(o=!1,h.process(g))}};return h}const kZ=40;function LD(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=sm.reduce((O,M)=>(O[M]=RZ(o),O),{}),{setup:c,read:d,resolveKeyframes:h,preUpdate:g,update:v,preRender:b,render:_,postRender:C}=l,E=()=>{const O=Io.useManualTiming?s.timestamp:performance.now();n=!1,Io.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(O-s.timestamp,kZ),1)),s.timestamp=O,s.isProcessing=!0,c.process(s),d.process(s),h.process(s),g.process(s),v.process(s),b.process(s),_.process(s),C.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(E))},R=()=>{n=!0,i=!0,s.isProcessing||e(E)};return{schedule:sm.reduce((O,M)=>{const D=l[M];return O[M]=(V,z=!1,I=!1)=>(n||R(),D.schedule(V,z,I)),O},{}),cancel:O=>{for(let M=0;M<sm.length;M++)l[sm[M]].cancel(O)},state:s,steps:l}}const{schedule:Jt,cancel:La,state:hi,steps:Ub}=LD(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hs,!0);let xm;function NZ(){xm=void 0}const Mi={now:()=>(xm===void 0&&Mi.set(hi.isProcessing||Io.useManualTiming?hi.timestamp:performance.now()),xm),set:e=>{xm=e,queueMicrotask(NZ)}},jD=e=>t=>typeof t=="string"&&t.startsWith(e),ID=jD("--"),OZ=jD("var(--"),nw=e=>OZ(e)?PZ.test(e.split("/*")[0].trim()):!1,PZ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function ET(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const zu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},If={...zu,transform:e=>Zr(0,1,e)},rm={...zu,default:1},df=e=>Math.round(e*1e5)/1e5,iw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function MZ(e){return e==null}const DZ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sw=(e,t)=>n=>!!(typeof n=="string"&&DZ.test(n)&&n.startsWith(e)||t&&!MZ(n)&&Object.prototype.hasOwnProperty.call(n,t)),zD=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,o,l,c]=i.match(iw);return{[e]:parseFloat(s),[t]:parseFloat(o),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},LZ=e=>Zr(0,255,e),Fb={...zu,transform:e=>Math.round(LZ(e))},Il={test:sw("rgb","red"),parse:zD("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+Fb.transform(e)+", "+Fb.transform(t)+", "+Fb.transform(n)+", "+df(If.transform(i))+")"};function jZ(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const n0={test:sw("#"),parse:jZ,transform:Il.transform},fh=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),_a=fh("deg"),Wr=fh("%"),Ve=fh("px"),IZ=fh("vh"),zZ=fh("vw"),AT={...Wr,parse:e=>Wr.parse(e)/100,transform:e=>Wr.transform(e*100)},cu={test:sw("hsl","hue"),parse:zD("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+Wr.transform(df(t))+", "+Wr.transform(df(n))+", "+df(If.transform(i))+")"},Mn={test:e=>Il.test(e)||n0.test(e)||cu.test(e),parse:e=>Il.test(e)?Il.parse(e):cu.test(e)?cu.parse(e):n0.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Il.transform(e):cu.transform(e),getAnimatableNone:e=>{const t=Mn.parse(e);return t.alpha=0,Mn.transform(t)}},BZ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function UZ(e){return isNaN(e)&&typeof e=="string"&&(e.match(iw)?.length||0)+(e.match(BZ)?.length||0)>0}const BD="number",UD="color",FZ="var",VZ="var(",TT="${}",$Z=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zf(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let o=0;const c=t.replace($Z,d=>(Mn.test(d)?(i.color.push(o),s.push(UD),n.push(Mn.parse(d))):d.startsWith(VZ)?(i.var.push(o),s.push(FZ),n.push(d)):(i.number.push(o),s.push(BD),n.push(parseFloat(d))),++o,TT)).split(TT);return{values:n,split:c,indexes:i,types:s}}function FD(e){return zf(e).values}function VD(e){const{split:t,types:n}=zf(e),i=t.length;return s=>{let o="";for(let l=0;l<i;l++)if(o+=t[l],s[l]!==void 0){const c=n[l];c===BD?o+=df(s[l]):c===UD?o+=Mn.transform(s[l]):o+=s[l]}return o}}const HZ=e=>typeof e=="number"?0:Mn.test(e)?Mn.getAnimatableNone(e):e;function GZ(e){const t=FD(e);return VD(e)(t.map(HZ))}const mr={test:UZ,parse:FD,createTransformer:VD,getAnimatableNone:GZ};function Vb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function KZ({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,o=0,l=0;if(!t)s=o=l=n;else{const c=n<.5?n*(1+t):n+t-n*t,d=2*n-c;s=Vb(d,c,e+1/3),o=Vb(d,c,e),l=Vb(d,c,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:i}}function rg(e,t){return n=>n>0?t:e}const un=(e,t,n)=>e+(t-e)*n,$b=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},qZ=[n0,Il,cu],WZ=e=>qZ.find(t=>t.test(e));function RT(e){const t=WZ(e);if(!t)return!1;let n=t.parse(e);return t===cu&&(n=KZ(n)),n}const kT=(e,t)=>{const n=RT(e),i=RT(t);if(!n||!i)return rg(e,t);const s={...n};return o=>(s.red=$b(n.red,i.red,o),s.green=$b(n.green,i.green,o),s.blue=$b(n.blue,i.blue,o),s.alpha=un(n.alpha,i.alpha,o),Il.transform(s))},i0=new Set(["none","hidden"]);function YZ(e,t){return i0.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function ZZ(e,t){return n=>un(e,t,n)}function rw(e){return typeof e=="number"?ZZ:typeof e=="string"?nw(e)?rg:Mn.test(e)?kT:JZ:Array.isArray(e)?$D:typeof e=="object"?Mn.test(e)?kT:XZ:rg}function $D(e,t){const n=[...e],i=n.length,s=e.map((o,l)=>rw(o)(o,t[l]));return o=>{for(let l=0;l<i;l++)n[l]=s[l](o);return n}}function XZ(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=rw(e[s])(e[s],t[s]));return s=>{for(const o in i)n[o]=i[o](s);return n}}function QZ(e,t){const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],l=e.indexes[o][i[o]],c=e.values[l]??0;n[s]=c,i[o]++}return n}const JZ=(e,t)=>{const n=mr.createTransformer(t),i=zf(e),s=zf(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?i0.has(e)&&!s.values.length||i0.has(t)&&!i.values.length?YZ(e,t):uh($D(QZ(i,s),s.values),n):rg(e,t)};function HD(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?un(e,t,n):rw(e)(e,t)}const eX=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Jt.update(t,n),stop:()=>La(t),now:()=>hi.isProcessing?hi.timestamp:Mi.now()}},GD=(e,t,n=10)=>{let i="";const s=Math.max(Math.round(t/n),2);for(let o=0;o<s;o++)i+=Math.round(e(o/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},og=2e4;function ow(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<og;)t+=n,i=e.next(t);return t>=og?1/0:t}function tX(e,t=100,n){const i=n({...e,keyframes:[0,t]}),s=Math.min(ow(i),og);return{type:"keyframes",ease:o=>i.next(s*o).value/t,duration:Vs(s)}}const nX=5;function KD(e,t,n){const i=Math.max(t-nX,0);return CD(n-e(i),t-i)}const xn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Hb=.001;function iX({duration:e=xn.duration,bounce:t=xn.bounce,velocity:n=xn.velocity,mass:i=xn.mass}){let s,o,l=1-t;l=Zr(xn.minDamping,xn.maxDamping,l),e=Zr(xn.minDuration,xn.maxDuration,Vs(e)),l<1?(s=h=>{const g=h*l,v=g*e,b=g-n,_=s0(h,l),C=Math.exp(-v);return Hb-b/_*C},o=h=>{const v=h*l*e,b=v*n+n,_=Math.pow(l,2)*Math.pow(h,2)*e,C=Math.exp(-v),E=s0(Math.pow(h,2),l);return(-s(h)+Hb>0?-1:1)*((b-_)*C)/E}):(s=h=>{const g=Math.exp(-h*e),v=(h-n)*e+1;return-Hb+g*v},o=h=>{const g=Math.exp(-h*e),v=(n-h)*(e*e);return g*v});const c=5/e,d=rX(s,o,c);if(e=pr(e),isNaN(d))return{stiffness:xn.stiffness,damping:xn.damping,duration:e};{const h=Math.pow(d,2)*i;return{stiffness:h,damping:l*2*Math.sqrt(i*h),duration:e}}}const sX=12;function rX(e,t,n){let i=n;for(let s=1;s<sX;s++)i=i-e(i)/t(i);return i}function s0(e,t){return e*Math.sqrt(1-t*t)}const oX=["duration","bounce"],aX=["stiffness","damping","mass"];function NT(e,t){return t.some(n=>e[n]!==void 0)}function lX(e){let t={velocity:xn.velocity,stiffness:xn.stiffness,damping:xn.damping,mass:xn.mass,isResolvedFromDuration:!1,...e};if(!NT(e,aX)&&NT(e,oX))if(t.velocity=0,e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,o=2*Zr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:xn.mass,stiffness:s,damping:o}}else{const n=iX({...e,velocity:0});t={...t,...n,mass:xn.mass},t.isResolvedFromDuration=!0}return t}function ag(e=xn.visualDuration,t=xn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:d,damping:h,mass:g,duration:v,velocity:b,isResolvedFromDuration:_}=lX({...n,velocity:-Vs(n.velocity||0)}),C=b||0,E=h/(2*Math.sqrt(d*g)),R=l-o,N=Vs(Math.sqrt(d/g)),k=Math.abs(R)<5;i||(i=k?xn.restSpeed.granular:xn.restSpeed.default),s||(s=k?xn.restDelta.granular:xn.restDelta.default);let O;if(E<1){const D=s0(N,E);O=V=>{const z=Math.exp(-E*N*V);return l-z*((C+E*N*R)/D*Math.sin(D*V)+R*Math.cos(D*V))}}else if(E===1)O=D=>l-Math.exp(-N*D)*(R+(C+N*R)*D);else{const D=N*Math.sqrt(E*E-1);O=V=>{const z=Math.exp(-E*N*V),I=Math.min(D*V,300);return l-z*((C+E*N*R)*Math.sinh(I)+D*R*Math.cosh(I))/D}}const M={calculatedDuration:_&&v||null,next:D=>{const V=O(D);if(_)c.done=D>=v;else{let z=D===0?C:0;E<1&&(z=D===0?pr(C):KD(O,D,V));const I=Math.abs(z)<=i,$=Math.abs(l-V)<=s;c.done=I&&$}return c.value=c.done?l:V,c},toString:()=>{const D=Math.min(ow(M),og),V=GD(z=>M.next(D*z).value,D,30);return D+"ms "+V},toTransition:()=>{}};return M}ag.applyToOptions=e=>{const t=tX(e,100,ag);return e.ease=t.ease,e.duration=pr(t.duration),e.type="keyframes",e};function r0({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:d,restDelta:h=.5,restSpeed:g}){const v=e[0],b={done:!1,value:v},_=I=>c!==void 0&&I<c||d!==void 0&&I>d,C=I=>c===void 0?d:d===void 0||Math.abs(c-I)<Math.abs(d-I)?c:d;let E=n*t;const R=v+E,N=l===void 0?R:l(R);N!==R&&(E=N-v);const k=I=>-E*Math.exp(-I/i),O=I=>N+k(I),M=I=>{const $=k(I),Z=O(I);b.done=Math.abs($)<=h,b.value=b.done?N:Z};let D,V;const z=I=>{_(b.value)&&(D=I,V=ag({keyframes:[b.value,C(b.value)],velocity:KD(O,I,b.value),damping:s,stiffness:o,restDelta:h,restSpeed:g}))};return z(0),{calculatedDuration:null,next:I=>{let $=!1;return!V&&D===void 0&&($=!0,M(I),z(I)),D!==void 0&&I>=D?V.next(I-D):(!$&&M(I),b)}}}function cX(e,t,n){const i=[],s=n||Io.mix||HD,o=e.length-1;for(let l=0;l<o;l++){let c=s(e[l],e[l+1]);if(t){const d=Array.isArray(t)?t[l]||Hs:t;c=uh(d,c)}i.push(c)}return i}function uX(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const o=e.length;if(Q_(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=cX(t,i,s),d=c.length,h=g=>{if(l&&g<e[0])return t[0];let v=0;if(d>1)for(;v<e.length-2&&!(g<e[v+1]);v++);const b=jf(e[v],e[v+1],g);return c[v](b)};return n?g=>h(Zr(e[0],e[o-1],g)):h}function dX(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=jf(0,t,i);e.push(un(n,1,s))}}function fX(e){const t=[0];return dX(t,e.length-1),t}function hX(e,t){return e.map(n=>n*t)}function pX(e,t){return e.map(()=>t||MD).splice(0,e.length-1)}function ff({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=EZ(i)?i.map(CT):CT(i),o={done:!1,value:t[0]},l=hX(n&&n.length===t.length?n:fX(t),e),c=uX(l,t,{ease:Array.isArray(s)?s:pX(t,s)});return{calculatedDuration:e,next:d=>(o.value=c(d),o.done=d>=e,o)}}const mX=e=>e!==null;function aw(e,{repeat:t,repeatType:n="loop"},i,s=1){const o=e.filter(mX),c=s<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!c||i===void 0?o[c]:i}const gX={decay:r0,inertia:r0,tween:ff,keyframes:ff,spring:ag};function qD(e){typeof e.type=="string"&&(e.type=gX[e.type])}class lw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const vX=e=>e/100;class cw extends lw{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Mi.now()&&this.tick(Mi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;qD(t);const{type:n=ff,repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=t;let{keyframes:c}=t;const d=n||ff;d!==ff&&typeof c[0]!="number"&&(this.mixKeyframes=uh(vX,HD(c[0],c[1])),c=[0,100]);const h=d({...t,keyframes:c});o==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...c].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=ow(h));const{calculatedDuration:g}=h;this.calculatedDuration=g,this.resolvedDuration=g+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=h}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:s,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:h=0,keyframes:g,repeat:v,repeatType:b,repeatDelay:_,type:C,onUpdate:E,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const N=this.currentTime-h*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?N<0:N>s;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let O=this.currentTime,M=i;if(v){const I=Math.min(this.currentTime,s)/c;let $=Math.floor(I),Z=I%1;!Z&&I>=1&&(Z=1),Z===1&&$--,$=Math.min($,v+1),$%2&&(b==="reverse"?(Z=1-Z,_&&(Z-=_/c)):b==="mirror"&&(M=l)),O=Zr(0,1,Z)*c}const D=k?{done:!1,value:g[0]}:M.next(O);o&&(D.value=o(D.value));let{done:V}=D;!k&&d!==null&&(V=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return z&&C!==r0&&(D.value=aw(g,this.options,R,this.speed)),E&&E(D.value),z&&this.finish(),D}then(t,n){return this.finished.then(t,n)}get duration(){return Vs(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Vs(t)}get time(){return Vs(this.currentTime)}set time(t){t=pr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Mi.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Vs(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=eX,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Mi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function yX(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const zl=e=>e*180/Math.PI,o0=e=>{const t=zl(Math.atan2(e[1],e[0]));return a0(t)},bX={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:o0,rotateZ:o0,skewX:e=>zl(Math.atan(e[1])),skewY:e=>zl(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},a0=e=>(e=e%360,e<0&&(e+=360),e),OT=o0,PT=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),MT=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),xX={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:PT,scaleY:MT,scale:e=>(PT(e)+MT(e))/2,rotateX:e=>a0(zl(Math.atan2(e[6],e[5]))),rotateY:e=>a0(zl(Math.atan2(-e[2],e[0]))),rotateZ:OT,rotate:OT,skewX:e=>zl(Math.atan(e[4])),skewY:e=>zl(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function l0(e){return e.includes("scale")?1:0}function c0(e,t){if(!e||e==="none")return l0(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=xX,s=n;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=bX,s=c}if(!s)return l0(t);const o=i[t],l=s[1].split(",").map(wX);return typeof o=="function"?o(l):l[o]}const _X=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return c0(n,t)};function wX(e){return parseFloat(e.trim())}const Bu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Uu=new Set(Bu),DT=e=>e===zu||e===Ve,SX=new Set(["x","y","z"]),CX=Bu.filter(e=>!SX.has(e));function EX(e){const t=[];return CX.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Ra={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>c0(t,"x"),y:(e,{transform:t})=>c0(t,"y")};Ra.translateX=Ra.x;Ra.translateY=Ra.y;const Fl=new Set;let u0=!1,d0=!1,f0=!1;function WD(){if(d0){const e=Array.from(Fl).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=EX(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([o,l])=>{i.getValue(o)?.set(l)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}d0=!1,u0=!1,Fl.forEach(e=>e.complete(f0)),Fl.clear()}function YD(){Fl.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(d0=!0)})}function AX(){f0=!0,YD(),WD(),f0=!1}class uw{constructor(t,n,i,s,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Fl.add(this),u0||(u0=!0,Jt.read(YD),Jt.resolveKeyframes(WD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;if(t[0]===null){const o=s?.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&n){const c=i.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}yX(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Fl.delete(this)}cancel(){this.state==="scheduled"&&(Fl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const TX=e=>e.startsWith("--");function RX(e,t,n){TX(t)?e.style.setProperty(t,n):e.style[t]=n}const kX={};function ZD(e,t){const n=SD(e);return()=>kX[t]??n()}const NX=ZD(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),XD=ZD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ef=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,LT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ef([0,.65,.55,1]),circOut:ef([.55,0,1,.45]),backIn:ef([.31,.01,.66,-.59]),backOut:ef([.33,1.53,.69,.99])};function QD(e,t){if(e)return typeof e=="function"?XD()?GD(e,t):"ease-out":DD(e)?ef(e):Array.isArray(e)?e.map(n=>QD(n,t)||LT.easeOut):LT[e]}function OX(e,t,n,{delay:i=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:c="easeOut",times:d}={},h=void 0){const g={[t]:n};d&&(g.offset=d);const v=QD(c,s);Array.isArray(v)&&(g.easing=v);const b={delay:i,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return h&&(b.pseudoElement=h),e.animate(g,b)}function JD(e){return typeof e=="function"&&"applyToOptions"in e}function PX({type:e,...t}){return JD(e)&&XD()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class eL extends lw{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:i,keyframes:s,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:c,onComplete:d}=t;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=t,Q_(typeof t.type!="string");const h=PX(t);this.animation=OX(n,i,s,h,o),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const g=aw(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(g):RX(n,i,g),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Vs(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Vs(t)}get time(){return Vs(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=pr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&NX()?(this.animation.timeline=t,Hs):n(this)}}const tL={anticipate:ND,backInOut:kD,circInOut:PD};function MX(e){return e in tL}function DX(e){typeof e.ease=="string"&&MX(e.ease)&&(e.ease=tL[e.ease])}const Gb=10;class LX extends eL{constructor(t){DX(t),qD(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:s,element:o,...l}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const c=new cw({...l,autoplay:!1}),d=Math.max(Gb,Mi.now()-this.startTime),h=Zr(0,Gb,d-Gb);n.setWithVelocity(c.sample(Math.max(0,d-h)).value,c.sample(d).value,h),c.stop()}}const jT=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(mr.test(e)||e==="0")&&!e.startsWith("url("));function jX(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function IX(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],l=jT(s,t),c=jT(o,t);return!l||!c?!1:jX(e)||(n==="spring"||JD(n))&&i}function h0(e){e.duration=0,e.type="keyframes"}const zX=new Set(["opacity","clipPath","filter","transform"]),BX=SD(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function UX(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:s,damping:o,type:l}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=t.owner.getProps();return BX()&&n&&zX.has(n)&&(n!=="transform"||!h)&&!d&&!i&&s!=="mirror"&&o!==0&&l!=="inertia"}const FX=40;class VX extends lw{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",keyframes:c,name:d,motionValue:h,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Mi.now();const b={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:o,repeatType:l,name:d,motionValue:h,element:g,...v},_=g?.KeyframeResolver||uw;this.keyframeResolver=new _(c,(C,E,R)=>this.onKeyframesResolved(C,E,b,!R),d,h,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,i,s){this.keyframeResolver=void 0;const{name:o,type:l,velocity:c,delay:d,isHandoff:h,onUpdate:g}=i;this.resolvedAt=Mi.now(),IX(t,o,l,c)||((Io.instantAnimations||!d)&&g?.(aw(t,i,n)),t[0]=t[t.length-1],h0(i),i.repeat=0);const b={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>FX?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},_=!h&&UX(b),C=b.motionValue?.owner?.current,E=_?new LX({...b,element:C}):new cw(b);E.finished.then(()=>{this.notifyFinished()}).catch(Hs),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),AX()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function nL(e,t,n,i=0,s=1){const o=Array.from(e).sort((h,g)=>h.sortNodePosition(g)).indexOf(t),l=e.size,c=(l-1)*i;return typeof n=="function"?n(o,l):s===1?o*i:c-o*i}const $X=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function HX(e){const t=$X.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function iL(e,t,n=1){const[i,s]=HX(e);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const l=o.trim();return xD(l)?parseFloat(l):l}return nw(s)?iL(s,t,n+1):s}const GX={type:"spring",stiffness:500,damping:25,restSpeed:10},KX=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),qX={type:"keyframes",duration:.8},WX={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},YX=(e,{keyframes:t})=>t.length>2?qX:Uu.has(e)?e.startsWith("scale")?KX(t[1]):GX:WX,ZX=e=>e!==null;function XX(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(ZX),o=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[o]}function sL(e,t){if(e?.inherit&&t){const{inherit:n,...i}=e;return{...t,...i}}return e}function dw(e,t){const n=e?.[t]??e?.default??e;return n!==e?sL(n,e):n}function QX({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:c,from:d,elapsed:h,...g}){return!!Object.keys(g).length}const fw=(e,t,n,i={},s,o)=>l=>{const c=dw(i,e)||{},d=c.delay||i.delay||0;let{elapsed:h=0}=i;h=h-pr(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-h,onUpdate:b=>{t.set(b),c.onUpdate&&c.onUpdate(b)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:o?void 0:s};QX(c)||Object.assign(g,YX(e,g)),g.duration&&(g.duration=pr(g.duration)),g.repeatDelay&&(g.repeatDelay=pr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(h0(g),g.delay===0&&(v=!0)),(Io.instantAnimations||Io.skipAnimations||s?.shouldSkipAnimations)&&(v=!0,h0(g),g.delay=0),g.allowFlatten=!c.type&&!c.ease,v&&!o&&t.get()!==void 0){const b=XX(g.keyframes,c);if(b!==void 0){Jt.update(()=>{g.onUpdate(b),g.onComplete()});return}}return c.isSync?new cw(g):new VX(g)};function IT(e){const t=[{},{}];return e?.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function hw(e,t,n,i){if(typeof t=="function"){const[s,o]=IT(i);t=t(n!==void 0?n:e.custom,s,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,o]=IT(i);t=t(n!==void 0?n:e.custom,s,o)}return t}function _u(e,t,n){const i=e.getProps();return hw(i,t,n!==void 0?n:i.custom,e)}const rL=new Set(["width","height","top","left","right","bottom",...Bu]),zT=30,JX=e=>!isNaN(parseFloat(e));class eQ{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const s=Mi.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Mi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=JX(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new J_);const i=this.events[t].add(n);return t==="change"?()=>{i(),Jt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Mi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>zT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zT);return CD(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tu(e,t){return new eQ(e,t)}const p0=e=>Array.isArray(e);function tQ(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Tu(n))}function nQ(e){return p0(e)?e[e.length-1]||0:e}function iQ(e,t){const n=_u(e,t);let{transitionEnd:i={},transition:s={},...o}=n||{};o={...o,...i};for(const l in o){const c=nQ(o[l]);tQ(e,l,c)}}const Ci=e=>!!(e&&e.getVelocity);function sQ(e){return!!(Ci(e)&&e.add)}function m0(e,t){const n=e.getValue("willChange");if(sQ(n))return n.add(t);if(!n&&Io.WillChange){const i=new Io.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function pw(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const rQ="framerAppearId",oL="data-"+pw(rQ);function aL(e){return e.props[oL]}function oQ({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function lL(e,t,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:o,transitionEnd:l,...c}=t;const d=e.getDefaultTransition();o=o?sL(o,d):d;const h=o?.reduceMotion;i&&(o=i);const g=[],v=s&&e.animationState&&e.animationState.getState()[s];for(const b in c){const _=e.getValue(b,e.latestValues[b]??null),C=c[b];if(C===void 0||v&&oQ(v,b))continue;const E={delay:n,...dw(o||{},b)},R=_.get();if(R!==void 0&&!_.isAnimating&&!Array.isArray(C)&&C===R&&!E.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const M=aL(e);if(M){const D=window.MotionHandoffAnimation(M,b,Jt);D!==null&&(E.startTime=D,N=!0)}}m0(e,b);const k=h??e.shouldReduceMotion;_.start(fw(b,_,C,k&&rL.has(b)?{type:!1}:E,e,N));const O=_.animation;O&&g.push(O)}if(l){const b=()=>Jt.update(()=>{l&&iQ(e,l)});g.length?Promise.all(g).then(b):b()}return g}function g0(e,t,n={}){const i=_u(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(lL(e,i,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:g,staggerDirection:v}=s;return aQ(e,t,d,h,g,v,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[d,h]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>h())}else return Promise.all([o(),l(n.delay)])}function aQ(e,t,n=0,i=0,s=0,o=1,l){const c=[];for(const d of e.variantChildren)d.notify("AnimationStart",t),c.push(g0(d,t,{...l,delay:n+(typeof i=="function"?0:i)+nL(e.variantChildren,d,i,s,o)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(c)}function lQ(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(o=>g0(e,o,n));i=Promise.all(s)}else if(typeof t=="string")i=g0(e,t,n);else{const s=typeof t=="function"?_u(e,t,n.custom):t;i=Promise.all(lL(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}const cQ={test:e=>e==="auto",parse:e=>e},cL=e=>t=>t.test(e),uL=[zu,Ve,Wr,_a,zZ,IZ,cQ],BT=e=>uL.find(cL(e));function uQ(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||wD(e):!0}const dQ=new Set(["brightness","contrast","saturate","opacity"]);function fQ(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(iw)||[];if(!i)return e;const s=n.replace(i,"");let o=dQ.has(t)?1:0;return i!==n&&(o*=100),t+"("+o+s+")"}const hQ=/\b([a-z-]*)\(.*?\)/gu,v0={...mr,getAnimatableNone:e=>{const t=e.match(hQ);return t?t.map(fQ).join(" "):e}},y0={...mr,getAnimatableNone:e=>{const t=mr.parse(e);return mr.createTransformer(e)(t.map(i=>typeof i=="number"?0:typeof i=="object"?{...i,alpha:1}:i))}},UT={...zu,transform:Math.round},pQ={rotate:_a,rotateX:_a,rotateY:_a,rotateZ:_a,scale:rm,scaleX:rm,scaleY:rm,scaleZ:rm,skew:_a,skewX:_a,skewY:_a,distance:Ve,translateX:Ve,translateY:Ve,translateZ:Ve,x:Ve,y:Ve,z:Ve,perspective:Ve,transformPerspective:Ve,opacity:If,originX:AT,originY:AT,originZ:Ve},mw={borderWidth:Ve,borderTopWidth:Ve,borderRightWidth:Ve,borderBottomWidth:Ve,borderLeftWidth:Ve,borderRadius:Ve,borderTopLeftRadius:Ve,borderTopRightRadius:Ve,borderBottomRightRadius:Ve,borderBottomLeftRadius:Ve,width:Ve,maxWidth:Ve,height:Ve,maxHeight:Ve,top:Ve,right:Ve,bottom:Ve,left:Ve,inset:Ve,insetBlock:Ve,insetBlockStart:Ve,insetBlockEnd:Ve,insetInline:Ve,insetInlineStart:Ve,insetInlineEnd:Ve,padding:Ve,paddingTop:Ve,paddingRight:Ve,paddingBottom:Ve,paddingLeft:Ve,paddingBlock:Ve,paddingBlockStart:Ve,paddingBlockEnd:Ve,paddingInline:Ve,paddingInlineStart:Ve,paddingInlineEnd:Ve,margin:Ve,marginTop:Ve,marginRight:Ve,marginBottom:Ve,marginLeft:Ve,marginBlock:Ve,marginBlockStart:Ve,marginBlockEnd:Ve,marginInline:Ve,marginInlineStart:Ve,marginInlineEnd:Ve,fontSize:Ve,backgroundPositionX:Ve,backgroundPositionY:Ve,...pQ,zIndex:UT,fillOpacity:If,strokeOpacity:If,numOctaves:UT},mQ={...mw,color:Mn,backgroundColor:Mn,outlineColor:Mn,fill:Mn,stroke:Mn,borderColor:Mn,borderTopColor:Mn,borderRightColor:Mn,borderBottomColor:Mn,borderLeftColor:Mn,filter:v0,WebkitFilter:v0,mask:y0,WebkitMask:y0},dL=e=>mQ[e],gQ=new Set([v0,y0]);function fL(e,t){let n=dL(e);return gQ.has(n)||(n=mr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const vQ=new Set(["auto","none","0"]);function yQ(e,t,n){let i=0,s;for(;i<e.length&&!s;){const o=e[i];typeof o=="string"&&!vQ.has(o)&&zf(o).values.length&&(s=e[i]),i++}if(s&&n)for(const o of t)e[o]=fL(n,s)}class bQ extends uw{constructor(t,n,i,s,o){super(t,n,i,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let g=0;g<t.length;g++){let v=t[g];if(typeof v=="string"&&(v=v.trim(),nw(v))){const b=iL(v,n.current);b!==void 0&&(t[g]=b),g===t.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!rL.has(i)||t.length!==2)return;const[s,o]=t,l=BT(s),c=BT(o),d=ET(s),h=ET(o);if(d!==h&&Ra[i]){this.needsMeasurement=!0;return}if(l!==c)if(DT(l)&&DT(c))for(let g=0;g<t.length;g++){const v=t[g];typeof v=="string"&&(t[g]=parseFloat(v))}else Ra[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||uQ(t[s]))&&i.push(s);i.length&&yQ(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ra[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=Ra[n](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const xQ=new Set(["opacity","clipPath","filter","transform"]);function hL(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const s=n?.[e]??i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e).filter(i=>i!=null)}const pL=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function b0(e){return _D(e)&&"offsetHeight"in e}const{schedule:gw}=LD(queueMicrotask,!1),cr={x:!1,y:!1};function mL(){return cr.x||cr.y}function _Q(e){return e==="x"||e==="y"?cr[e]?null:(cr[e]=!0,()=>{cr[e]=!1}):cr.x||cr.y?null:(cr.x=cr.y=!0,()=>{cr.x=cr.y=!1})}function gL(e,t){const n=hL(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[n,s,()=>i.abort()]}function wQ(e){return!(e.pointerType==="touch"||mL())}function SQ(e,t,n={}){const[i,s,o]=gL(e,n);return i.forEach(l=>{let c=!1,d=!1,h;const g=()=>{l.removeEventListener("pointerleave",C)},v=R=>{h&&(h(R),h=void 0),g()},b=R=>{c=!1,window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",b),d&&(d=!1,v(R))},_=()=>{c=!0,window.addEventListener("pointerup",b,s),window.addEventListener("pointercancel",b,s)},C=R=>{if(R.pointerType!=="touch"){if(c){d=!0;return}v(R)}},E=R=>{if(!wQ(R))return;d=!1;const N=t(l,R);typeof N=="function"&&(h=N,l.addEventListener("pointerleave",C,s))};l.addEventListener("pointerenter",E,s),l.addEventListener("pointerdown",_,s)}),o}const vL=(e,t)=>t?e===t?!0:vL(e,t.parentElement):!1,vw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,CQ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function EQ(e){return CQ.has(e.tagName)||e.isContentEditable===!0}const AQ=new Set(["INPUT","SELECT","TEXTAREA"]);function TQ(e){return AQ.has(e.tagName)||e.isContentEditable===!0}const _m=new WeakSet;function FT(e){return t=>{t.key==="Enter"&&e(t)}}function Kb(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const RQ=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=FT(()=>{if(_m.has(n))return;Kb(n,"down");const s=FT(()=>{Kb(n,"up")}),o=()=>Kb(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function VT(e){return vw(e)&&!mL()}const $T=new WeakSet;function kQ(e,t,n={}){const[i,s,o]=gL(e,n),l=c=>{const d=c.currentTarget;if(!VT(c)||$T.has(c))return;_m.add(d),n.stopPropagation&&$T.add(c);const h=t(d,c),g=(_,C)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),_m.has(d)&&_m.delete(d),VT(_)&&typeof h=="function"&&h(_,{success:C})},v=_=>{g(_,d===window||d===document||n.useGlobalTarget||vL(d,_.target))},b=_=>{g(_,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",b,s)};return i.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),b0(c)&&(c.addEventListener("focus",h=>RQ(h,s)),!EQ(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function yw(e){return _D(e)&&"ownerSVGElement"in e}const wm=new WeakMap;let Sm;const yL=(e,t,n)=>(i,s)=>s&&s[0]?s[0][e+"Size"]:yw(i)&&"getBBox"in i?i.getBBox()[t]:i[n],NQ=yL("inline","width","offsetWidth"),OQ=yL("block","height","offsetHeight");function PQ({target:e,borderBoxSize:t}){wm.get(e)?.forEach(n=>{n(e,{get width(){return NQ(e,t)},get height(){return OQ(e,t)}})})}function MQ(e){e.forEach(PQ)}function DQ(){typeof ResizeObserver>"u"||(Sm=new ResizeObserver(MQ))}function LQ(e,t){Sm||DQ();const n=hL(e);return n.forEach(i=>{let s=wm.get(i);s||(s=new Set,wm.set(i,s)),s.add(t),Sm?.observe(i)}),()=>{n.forEach(i=>{const s=wm.get(i);s?.delete(t),s?.size||Sm?.unobserve(i)})}}const Cm=new Set;let uu;function jQ(){uu=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Cm.forEach(t=>t(e))},window.addEventListener("resize",uu)}function IQ(e){return Cm.add(e),uu||jQ(),()=>{Cm.delete(e),!Cm.size&&typeof uu=="function"&&(window.removeEventListener("resize",uu),uu=void 0)}}function HT(e,t){return typeof e=="function"?IQ(e):LQ(e,t)}function zQ(e){return yw(e)&&e.tagName==="svg"}const BQ=[...uL,Mn,mr],UQ=e=>BQ.find(cL(e)),GT=()=>({translate:0,scale:1,origin:0,originPoint:0}),du=()=>({x:GT(),y:GT()}),KT=()=>({min:0,max:0}),Fn=()=>({x:KT(),y:KT()}),FQ=new WeakMap;function Vg(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Bf(e){return typeof e=="string"||Array.isArray(e)}const bw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xw=["initial",...bw];function $g(e){return Vg(e.animate)||xw.some(t=>Bf(e[t]))}function bL(e){return!!($g(e)||e.variants)}function VQ(e,t,n){for(const i in t){const s=t[i],o=n[i];if(Ci(s))e.addValue(i,s);else if(Ci(o))e.addValue(i,Tu(s,{owner:e}));else if(o!==s)if(e.hasValue(i)){const l=e.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=e.getStaticValue(i);e.addValue(i,Tu(l!==void 0?l:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const x0={current:null},xL={current:!1},$Q=typeof window<"u";function HQ(){if(xL.current=!0,!!$Q)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>x0.current=e.matches;e.addEventListener("change",t),t()}else x0.current=!1}const qT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let lg={};function _L(e){lg=e}function GQ(){return lg}class KQ{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,skipAnimations:o,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=uw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Mi.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Jt.render(this.render,!1,!0))};const{latestValues:h,renderState:g}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=g,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.skipAnimationsConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=$g(n),this.isVariantNode=bL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in b){const C=b[_];h[_]!==void 0&&Ci(C)&&C.set(h[_])}}mount(t){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=t,FQ.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(xL.current||HQ(),this.shouldReduceMotion=x0.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),La(this.notifyUpdate),La(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),n.accelerate&&xQ.has(t)&&this.current instanceof HTMLElement){const{factory:l,keyframes:c,times:d,ease:h,duration:g}=n.accelerate,v=new eL({element:this.current,name:t,keyframes:c,times:d,ease:h,duration:pr(g)}),b=l(v);this.valueSubscriptions.set(t,()=>{b(),v.cancel()});return}const i=Uu.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Jt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in lg){const n=lg[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<qT.length;i++){const s=qT[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=t[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=VQ(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=Tu(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(xD(i)||wD(i))?i=parseFloat(i):!UQ(i)&&mr.test(n)&&(i=fL(t,n)),this.setBaseTarget(t,Ci(i)?i.get():i)),Ci(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=hw(this.props,n,this.presenceContext?.custom);o&&(i=o[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Ci(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new J_),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){gw.render(this.render)}}class wL extends KQ{constructor(){super(...arguments),this.KeyframeResolver=bQ}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const i=t.style;return i?i[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ci(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Ua{constructor(t){this.isMounted=!1,this.node=t}update(){}}function SL({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function qQ({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function WQ(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function qb(e){return e===void 0||e===1}function _0({scale:e,scaleX:t,scaleY:n}){return!qb(e)||!qb(t)||!qb(n)}function Nl(e){return _0(e)||CL(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function CL(e){return WT(e.x)||WT(e.y)}function WT(e){return e&&e!=="0%"}function cg(e,t,n){const i=e-n,s=t*i;return n+s}function YT(e,t,n,i,s){return s!==void 0&&(e=cg(e,s,i)),cg(e,n,i)+t}function w0(e,t=0,n=1,i,s){e.min=YT(e.min,t,n,i,s),e.max=YT(e.max,t,n,i,s)}function EL(e,{x:t,y:n}){w0(e.x,t.translate,t.scale,t.originPoint),w0(e.y,n.translate,n.scale,n.originPoint)}const ZT=.999999999999,XT=1.0000000000001;function YQ(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let o,l;for(let c=0;c<s;c++){o=n[c],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&hu(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,EL(e,l)),i&&Nl(o.latestValues)&&hu(e,o.latestValues))}t.x<XT&&t.x>ZT&&(t.x=1),t.y<XT&&t.y>ZT&&(t.y=1)}function fu(e,t){e.min=e.min+t,e.max=e.max+t}function QT(e,t,n,i,s=.5){const o=un(e.min,e.max,s);w0(e,t,n,o,i)}function hu(e,t){QT(e.x,t.x,t.scaleX,t.scale,t.originX),QT(e.y,t.y,t.scaleY,t.scale,t.originY)}function AL(e,t){return SL(WQ(e.getBoundingClientRect(),t))}function ZQ(e,t,n){const i=AL(e,n),{scroll:s}=t;return s&&(fu(i.x,s.offset.x),fu(i.y,s.offset.y)),i}const XQ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},QQ=Bu.length;function JQ(e,t,n){let i="",s=!0;for(let o=0;o<QQ;o++){const l=Bu[o],c=e[l];if(c===void 0)continue;let d=!0;if(typeof c=="number")d=c===(l.startsWith("scale")?1:0);else{const h=parseFloat(c);d=l.startsWith("scale")?h===1:h===0}if(!d||n){const h=pL(c,mw[l]);if(!d){s=!1;const g=XQ[l]||l;i+=`${g}(${h}) `}n&&(t[l]=h)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function _w(e,t,n){const{style:i,vars:s,transformOrigin:o}=e;let l=!1,c=!1;for(const d in t){const h=t[d];if(Uu.has(d)){l=!0;continue}else if(ID(d)){s[d]=h;continue}else{const g=pL(h,mw[d]);d.startsWith("origin")?(c=!0,o[d]=g):i[d]=g}}if(t.transform||(l||n?i.transform=JQ(t,e.transform,n):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:g=0}=o;i.transformOrigin=`${d} ${h} ${g}`}}function TL(e,{style:t,vars:n},i,s){const o=e.style;let l;for(l in t)o[l]=t[l];s?.applyProjectionStyles(o,i);for(l in n)o.setProperty(l,n[l])}function JT(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Xd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ve.test(e))e=parseFloat(e);else return e;const n=JT(e,t.target.x),i=JT(e,t.target.y);return`${n}% ${i}%`}},eJ={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=mr.parse(e);if(s.length>5)return i;const o=mr.createTransformer(e),l=typeof s[0]!="number"?1:0,c=n.x.scale*t.x,d=n.y.scale*t.y;s[0+l]/=c,s[1+l]/=d;const h=un(c,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=h),typeof s[3+l]=="number"&&(s[3+l]/=h),o(s)}},S0={borderRadius:{...Xd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xd,borderTopRightRadius:Xd,borderBottomLeftRadius:Xd,borderBottomRightRadius:Xd,boxShadow:eJ};function RL(e,{layout:t,layoutId:n}){return Uu.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!S0[e]||e==="opacity")}function ww(e,t,n){const i=e.style,s=t?.style,o={};if(!i)return o;for(const l in i)(Ci(i[l])||s&&Ci(s[l])||RL(l,e)||n?.getValue(l)?.liveStyle!==void 0)&&(o[l]=i[l]);return o}function tJ(e){return window.getComputedStyle(e)}class nJ extends wL{constructor(){super(...arguments),this.type="html",this.renderInstance=TL}readValueFromInstance(t,n){if(Uu.has(n))return this.projection?.isProjecting?l0(n):_X(t,n);{const i=tJ(t),s=(ID(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return AL(t,n)}build(t,n,i){_w(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return ww(t,n,i)}}const iJ={offset:"stroke-dashoffset",array:"stroke-dasharray"},sJ={offset:"strokeDashoffset",array:"strokeDasharray"};function rJ(e,t,n=1,i=0,s=!0){e.pathLength=1;const o=s?iJ:sJ;e[o.offset]=`${-i}`,e[o.array]=`${t} ${n}`}const oJ=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function kL(e,{attrX:t,attrY:n,attrScale:i,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...c},d,h,g){if(_w(e,c,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:b}=e;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=g?.transformBox??"fill-box",delete v.transformBox);for(const _ of oJ)v[_]!==void 0&&(b[_]=v[_],delete v[_]);t!==void 0&&(v.x=t),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),s!==void 0&&rJ(v,s,o,l,!1)}const NL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),OL=e=>typeof e=="string"&&e.toLowerCase()==="svg";function aJ(e,t,n,i){TL(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(NL.has(s)?s:pw(s),t.attrs[s])}function PL(e,t,n){const i=ww(e,t,n);for(const s in e)if(Ci(e[s])||Ci(t[s])){const o=Bu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[o]=e[s]}return i}class lJ extends wL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Uu.has(n)){const i=dL(n);return i&&i.default||0}return n=NL.has(n)?n:pw(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return PL(t,n,i)}build(t,n,i){kL(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,s){aJ(t,n,i,s)}mount(t){this.isSVGTag=OL(t.tagName),super.mount(t)}}const cJ=xw.length;function ML(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?ML(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<cJ;n++){const i=xw[n],s=e.props[i];(Bf(s)||s===!1)&&(t[i]=s)}return t}function DL(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const uJ=[...bw].reverse(),dJ=bw.length;function fJ(e){return t=>Promise.all(t.map(({animation:n,options:i})=>lQ(e,n,i)))}function hJ(e){let t=fJ(e),n=eR(),i=!0;const s=d=>(h,g)=>{const v=_u(e,g,d==="exit"?e.presenceContext?.custom:void 0);if(v){const{transition:b,transitionEnd:_,...C}=v;h={...h,...C,..._}}return h};function o(d){t=d(e)}function l(d){const{props:h}=e,g=ML(e.parent)||{},v=[],b=new Set;let _={},C=1/0;for(let R=0;R<dJ;R++){const N=uJ[R],k=n[N],O=h[N]!==void 0?h[N]:g[N],M=Bf(O),D=N===d?k.isActive:null;D===!1&&(C=R);let V=O===g[N]&&O!==h[N]&&M;if(V&&i&&e.manuallyAnimateOnMount&&(V=!1),k.protectedKeys={..._},!k.isActive&&D===null||!O&&!k.prevProp||Vg(O)||typeof O=="boolean")continue;if(N==="exit"&&k.isActive&&D!==!0){k.prevResolvedValues&&(_={..._,...k.prevResolvedValues});continue}const z=pJ(k.prevProp,O);let I=z||N===d&&k.isActive&&!V&&M||R>C&&M,$=!1;const Z=Array.isArray(O)?O:[O];let q=Z.reduce(s(N),{});D===!1&&(q={});const{prevResolvedValues:W={}}=k,ne={...W,...q},re=Y=>{I=!0,b.has(Y)&&($=!0,b.delete(Y)),k.needsAnimating[Y]=!0;const te=e.getValue(Y);te&&(te.liveStyle=!1)};for(const Y in ne){const te=q[Y],de=W[Y];if(_.hasOwnProperty(Y))continue;let oe=!1;p0(te)&&p0(de)?oe=!DL(te,de):oe=te!==de,oe?te!=null?re(Y):b.add(Y):te!==void 0&&b.has(Y)?re(Y):k.protectedKeys[Y]=!0}k.prevProp=O,k.prevResolvedValues=q,k.isActive&&(_={..._,...q}),i&&e.blockInitialAnimation&&(I=!1);const ye=V&&z;I&&(!ye||$)&&v.push(...Z.map(Y=>{const te={type:N};if(typeof Y=="string"&&i&&!ye&&e.manuallyAnimateOnMount&&e.parent){const{parent:de}=e,oe=_u(de,Y);if(de.enteringChildren&&oe){const{delayChildren:K}=oe.transition||{};te.delay=nL(de.enteringChildren,e,K)}}return{animation:Y,options:te}}))}if(b.size){const R={};if(typeof h.initial!="boolean"){const N=_u(e,Array.isArray(h.initial)?h.initial[0]:h.initial);N&&N.transition&&(R.transition=N.transition)}b.forEach(N=>{const k=e.getBaseTarget(N),O=e.getValue(N);O&&(O.liveStyle=!0),R[N]=k??null}),v.push({animation:R})}let E=!!v.length;return i&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(E=!1),i=!1,E?t(v):Promise.resolve()}function c(d,h){if(n[d].isActive===h)return Promise.resolve();e.variantChildren?.forEach(v=>v.animationState?.setActive(d,h)),n[d].isActive=h;const g=l(d);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=eR()}}}function pJ(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!DL(t,e):!1}function Tl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function eR(){return{animate:Tl(!0),whileInView:Tl(),whileHover:Tl(),whileTap:Tl(),whileDrag:Tl(),whileFocus:Tl(),exit:Tl()}}function tR(e,t){e.min=t.min,e.max=t.max}function ar(e,t){tR(e.x,t.x),tR(e.y,t.y)}function nR(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const LL=1e-4,mJ=1-LL,gJ=1+LL,jL=.01,vJ=0-jL,yJ=0+jL;function Di(e){return e.max-e.min}function bJ(e,t,n){return Math.abs(e-t)<=n}function iR(e,t,n,i=.5){e.origin=i,e.originPoint=un(t.min,t.max,e.origin),e.scale=Di(n)/Di(t),e.translate=un(n.min,n.max,e.origin)-e.originPoint,(e.scale>=mJ&&e.scale<=gJ||isNaN(e.scale))&&(e.scale=1),(e.translate>=vJ&&e.translate<=yJ||isNaN(e.translate))&&(e.translate=0)}function hf(e,t,n,i){iR(e.x,t.x,n.x,i?i.originX:void 0),iR(e.y,t.y,n.y,i?i.originY:void 0)}function sR(e,t,n){e.min=n.min+t.min,e.max=e.min+Di(t)}function xJ(e,t,n){sR(e.x,t.x,n.x),sR(e.y,t.y,n.y)}function rR(e,t,n){e.min=t.min-n.min,e.max=e.min+Di(t)}function ug(e,t,n){rR(e.x,t.x,n.x),rR(e.y,t.y,n.y)}function oR(e,t,n,i,s){return e-=t,e=cg(e,1/n,i),s!==void 0&&(e=cg(e,1/s,i)),e}function _J(e,t=0,n=1,i=.5,s,o=e,l=e){if(Wr.test(t)&&(t=parseFloat(t),t=un(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=un(o.min,o.max,i);e===o&&(c-=t),e.min=oR(e.min,t,n,c,s),e.max=oR(e.max,t,n,c,s)}function aR(e,t,[n,i,s],o,l){_J(e,t[n],t[i],t[s],t.scale,o,l)}const wJ=["x","scaleX","originX"],SJ=["y","scaleY","originY"];function lR(e,t,n,i){aR(e.x,t,wJ,n?n.x:void 0,i?i.x:void 0),aR(e.y,t,SJ,n?n.y:void 0,i?i.y:void 0)}function cR(e){return e.translate===0&&e.scale===1}function IL(e){return cR(e.x)&&cR(e.y)}function uR(e,t){return e.min===t.min&&e.max===t.max}function CJ(e,t){return uR(e.x,t.x)&&uR(e.y,t.y)}function dR(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function zL(e,t){return dR(e.x,t.x)&&dR(e.y,t.y)}function fR(e){return Di(e.x)/Di(e.y)}function hR(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Ur(e){return[e("x"),e("y")]}function EJ(e,t,n){let i="";const s=e.x.translate/t.x,o=e.y.translate/t.y,l=n?.z||0;if((s||o||l)&&(i=`translate3d(${s}px, ${o}px, ${l}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:h,rotate:g,rotateX:v,rotateY:b,skewX:_,skewY:C}=n;h&&(i=`perspective(${h}px) ${i}`),g&&(i+=`rotate(${g}deg) `),v&&(i+=`rotateX(${v}deg) `),b&&(i+=`rotateY(${b}deg) `),_&&(i+=`skewX(${_}deg) `),C&&(i+=`skewY(${C}deg) `)}const c=e.x.scale*t.x,d=e.y.scale*t.y;return(c!==1||d!==1)&&(i+=`scale(${c}, ${d})`),i||"none"}const BL=["TopLeft","TopRight","BottomLeft","BottomRight"],AJ=BL.length,pR=e=>typeof e=="string"?parseFloat(e):e,mR=e=>typeof e=="number"||Ve.test(e);function TJ(e,t,n,i,s,o){s?(e.opacity=un(0,n.opacity??1,RJ(i)),e.opacityExit=un(t.opacity??1,0,kJ(i))):o&&(e.opacity=un(t.opacity??1,n.opacity??1,i));for(let l=0;l<AJ;l++){const c=`border${BL[l]}Radius`;let d=gR(t,c),h=gR(n,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||mR(d)===mR(h)?(e[c]=Math.max(un(pR(d),pR(h),i),0),(Wr.test(h)||Wr.test(d))&&(e[c]+="%")):e[c]=h}(t.rotate||n.rotate)&&(e.rotate=un(t.rotate||0,n.rotate||0,i))}function gR(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const RJ=UL(0,.5,OD),kJ=UL(.5,.95,Hs);function UL(e,t,n){return i=>i<e?0:i>t?1:n(jf(e,t,i))}function NJ(e,t,n){const i=Ci(e)?e:Tu(e);return i.start(fw("",i,t,n)),i.animation}function Uf(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}const OJ=(e,t)=>e.depth-t.depth;class PJ{constructor(){this.children=[],this.isDirty=!1}add(t){X_(this.children,t),this.isDirty=!0}remove(t){sg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(OJ),this.isDirty=!1,this.children.forEach(t)}}function MJ(e,t){const n=Mi.now(),i=({timestamp:s})=>{const o=s-n;o>=t&&(La(i),e(o-t))};return Jt.setup(i,!0),()=>La(i)}function Em(e){return Ci(e)?e.get():e}class DJ{constructor(){this.members=[]}add(t){X_(this.members,t);for(let n=this.members.length-1;n>=0;n--){const i=this.members[n];if(i===t||i===this.lead||i===this.prevLead)continue;const s=i.instance;s&&s.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&sg(this.members,i)}t.scheduleRender()}remove(t){if(sg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const o=this.members[s],l=o.instance;if(o.isPresent!==!1&&(!l||l.isConnected!==!1)){i=o;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender();const s=i.options.layoutDependency,o=t.options.layoutDependency;if(!(s!==void 0&&o!==void 0&&s===o)){const d=i.instance;d&&d.isConnected===!1&&!i.snapshot||(t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:c}=t.options;c===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Am={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Wb=["","X","Y","Z"],LJ=1e3;let jJ=0;function Yb(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function FL(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=aL(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Jt,!(s||o))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&FL(i)}function VL({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},c=t?.()){this.id=jJ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(BJ),this.nodes.forEach($J),this.nodes.forEach(HJ),this.nodes.forEach(UJ)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new PJ)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new J_),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=yw(l)&&!zQ(l),this.instance=l;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),e){let g,v=0;const b=()=>this.root.updateBlockedByResize=!1;Jt.read(()=>{v=window.innerWidth}),e(l,()=>{const _=window.innerWidth;_!==v&&(v=_,this.root.updateBlockedByResize=!0,g&&g(),g=MJ(b,250),Am.hasAnimatedSinceResize&&(Am.hasAnimatedSinceResize=!1,this.nodes.forEach(bR)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||h.getDefaultTransition()||YJ,{onLayoutAnimationStart:E,onLayoutAnimationComplete:R}=h.getProps(),N=!this.targetLayout||!zL(this.targetLayout,_),k=!v&&b;if(this.options.layoutRoot||this.resumeFrom||k||v&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const O={...dw(C,"layout"),onPlay:E,onComplete:R};(h.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O),this.setAnimationOrigin(g,k)}else v||bR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),La(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(GJ),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&FL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(yR);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(VJ),this.nodes.forEach(IJ),this.nodes.forEach(zJ)):this.nodes.forEach(yR),this.clearAllSnapshots();const c=Mi.now();hi.delta=Zr(0,1e3/60,c-hi.timestamp),hi.timestamp=c,hi.isProcessing=!0,Ub.update.process(hi),Ub.preRender.process(hi),Ub.render.process(hi),hi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FJ),this.sharedNodes.forEach(KJ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Jt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Jt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Di(this.snapshot.measuredBox.x)&&!Di(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Fn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!IL(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,g=h!==this.prevTransformTemplateValue;l&&this.instance&&(c||Nl(this.latestValues)||g)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),ZJ(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Fn();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(XJ))){const{scroll:h}=this.root;h&&(fu(c.x,h.offset.x),fu(c.y,h.offset.y))}return c}removeElementScroll(l){const c=Fn();if(ar(c,l),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:g,options:v}=h;h!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&ar(c,l),fu(c.x,g.offset.x),fu(c.y,g.offset.y))}return c}applyTransform(l,c=!1){const d=Fn();ar(d,l);for(let h=0;h<this.path.length;h++){const g=this.path[h];!c&&g.options.layoutScroll&&g.scroll&&g!==g.root&&hu(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Nl(g.latestValues)&&hu(d,g.latestValues)}return Nl(this.latestValues)&&hu(d,this.latestValues),d}removeTransform(l){const c=Fn();ar(c,l);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!Nl(h.latestValues))continue;_0(h.latestValues)&&h.updateSnapshot();const g=Fn(),v=h.measurePageBox();ar(g,v),lR(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,g)}return Nl(this.latestValues)&&lR(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==hi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!this.layout||!(g||v))return;this.resolvedRelativeTargetAt=hi.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Fn(),this.targetWithTransforms=Fn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xJ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ar(this.target,this.layout.layoutBox),EL(this.target,this.targetDelta)):ar(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||_0(this.parent.latestValues)||CL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,c,d){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fn(),this.relativeTargetOrigin=Fn(),ug(this.relativeTargetOrigin,c,d),ar(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===hi.timestamp&&(d=!1),d)return;const{layout:h,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||g))return;ar(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;YQ(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Fn());const{target:_}=l;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(nR(this.prevProjectionDelta.x,this.projectionDelta.x),nR(this.prevProjectionDelta.y,this.projectionDelta.y)),hf(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!hR(this.projectionDelta.x,this.prevProjectionDelta.x)||!hR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=du(),this.projectionDelta=du(),this.projectionDeltaWithTransform=du()}setAnimationOrigin(l,c=!1){const d=this.snapshot,h=d?d.latestValues:{},g={...this.latestValues},v=du();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const b=Fn(),_=d?d.source:void 0,C=this.layout?this.layout.source:void 0,E=_!==C,R=this.getStack(),N=!R||R.members.length<=1,k=!!(E&&!N&&this.options.crossfade===!0&&!this.path.some(WJ));this.animationProgress=0;let O;this.mixTargetDelta=M=>{const D=M/1e3;xR(v.x,l.x,D),xR(v.y,l.y,D),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ug(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qJ(this.relativeTarget,this.relativeTargetOrigin,b,D),O&&CJ(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=Fn()),ar(O,this.relativeTarget)),E&&(this.animationValues=g,TJ(g,h,this.latestValues,D,k,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(La(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Jt.update(()=>{Am.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Tu(0)),this.motionValue.jump(0,!1),this.currentAnimation=NJ(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(LJ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:g}=l;if(!(!c||!d||!h)){if(this!==l&&this.layout&&h&&$L(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||Fn();const v=Di(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+v;const b=Di(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+b}ar(c,d),hu(c,g),hf(this.projectionDeltaWithTransform,this.layoutCorrected,c,g)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new DJ),this.sharedNodes.get(l).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&Yb("z",l,h,this.animationValues);for(let g=0;g<Wb.length;g++)Yb(`rotate${Wb[g]}`,l,h,this.animationValues),Yb(`skew${Wb[g]}`,l,h,this.animationValues);l.render();for(const g in h)l.setStaticValue(g,h[g]),this.animationValues&&(this.animationValues[g]=h[g]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Em(c?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Em(c?.pointerEvents)||""),this.hasProjected&&!Nl(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const g=h.animationValues||h.latestValues;this.applyTransformsToTarget();let v=EJ(this.projectionDeltaWithTransform,this.treeScale,g);d&&(v=d(g,v)),l.transform=v;const{x:b,y:_}=this.projectionDelta;l.transformOrigin=`${b.origin*100}% ${_.origin*100}% 0`,h.animationValues?l.opacity=h===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:l.opacity=h===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const C in S0){if(g[C]===void 0)continue;const{correct:E,applyTo:R,isCSSVariable:N}=S0[C],k=v==="none"?g[C]:E(g[C],h);if(R){const O=R.length;for(let M=0;M<O;M++)l[R[M]]=k}else N?this.options.visualElement.renderState.vars[C]=k:l[C]=k}this.options.layoutId&&(l.pointerEvents=h===this?Em(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(vR),this.root.sharedNodes.clear()}}}function IJ(e){e.updateLayout()}function zJ(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,o=t.source!==e.layout.source;s==="size"?Ur(g=>{const v=o?t.measuredBox[g]:t.layoutBox[g],b=Di(v);v.min=n[g].min,v.max=v.min+b}):$L(s,t.layoutBox,n)&&Ur(g=>{const v=o?t.measuredBox[g]:t.layoutBox[g],b=Di(n[g]);v.max=v.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+b)});const l=du();hf(l,n,t.layoutBox);const c=du();o?hf(c,e.applyTransform(i,!0),t.measuredBox):hf(c,n,t.layoutBox);const d=!IL(l);let h=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:b}=g;if(v&&b){const _=Fn();ug(_,t.layoutBox,v.layoutBox);const C=Fn();ug(C,n,b.layoutBox),zL(_,C)||(h=!0),g.options.layoutRoot&&(e.relativeTarget=C,e.relativeTargetOrigin=_,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function BJ(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function UJ(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function FJ(e){e.clearSnapshot()}function vR(e){e.clearMeasurements()}function yR(e){e.isLayoutDirty=!1}function VJ(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function bR(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function $J(e){e.resolveTargetDelta()}function HJ(e){e.calcProjection()}function GJ(e){e.resetSkewAndRotation()}function KJ(e){e.removeLeadSnapshot()}function xR(e,t,n){e.translate=un(t.translate,0,n),e.scale=un(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function _R(e,t,n,i){e.min=un(t.min,n.min,i),e.max=un(t.max,n.max,i)}function qJ(e,t,n,i){_R(e.x,t.x,n.x,i),_R(e.y,t.y,n.y,i)}function WJ(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const YJ={duration:.45,ease:[.4,0,.1,1]},wR=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),SR=wR("applewebkit/")&&!wR("chrome/")?Math.round:Hs;function CR(e){e.min=SR(e.min),e.max=SR(e.max)}function ZJ(e){CR(e.x),CR(e.y)}function $L(e,t,n){return e==="position"||e==="preserve-aspect"&&!bJ(fR(t),fR(n),.2)}function XJ(e){return e!==e.root&&e.scroll?.wasRoot}const QJ=VL({attachResizeListener:(e,t)=>Uf(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Zb={current:void 0},HL=VL({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Zb.current){const e=new QJ({});e.mount(window),e.setOptions({layoutScroll:!0}),Zb.current=e}return Zb.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Sw=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function ER(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function JJ(...e){return t=>{let n=!1;const i=e.map(s=>{const o=ER(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<i.length;s++){const o=i[s];typeof o=="function"?o():ER(e[s],null)}}}}function eee(...e){return x.useCallback(JJ(...e),e)}class tee extends x.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=n.offsetParent,s=b0(i)&&i.offsetWidth||0,o=b0(i)&&i.offsetHeight||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=s-l.width-l.left,l.bottom=o-l.height-l.top}return null}componentDidUpdate(){}render(){return this.props.children}}function nee({children:e,isPresent:t,anchorX:n,anchorY:i,root:s,pop:o}){const l=x.useId(),c=x.useRef(null),d=x.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:h}=x.useContext(Sw),g=e.props?.ref??e?.ref,v=eee(c,g);return x.useInsertionEffect(()=>{const{width:b,height:_,top:C,left:E,right:R,bottom:N}=d.current;if(t||o===!1||!c.current||!b||!_)return;const k=n==="left"?`left: ${E}`:`right: ${R}`,O=i==="bottom"?`bottom: ${N}`:`top: ${C}`;c.current.dataset.motionPopId=l;const M=document.createElement("style");h&&(M.nonce=h);const D=s??document.head;return D.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${b}px !important;
            height: ${_}px !important;
            ${k}px !important;
            ${O}px !important;
          }
        `),()=>{D.contains(M)&&D.removeChild(M)}},[t]),y.jsx(tee,{isPresent:t,childRef:c,sizeRef:d,pop:o,children:o===!1?e:x.cloneElement(e,{ref:v})})}const iee=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:o,mode:l,anchorX:c,anchorY:d,root:h})=>{const g=Z_(see),v=x.useId();let b=!0,_=x.useMemo(()=>(b=!1,{id:v,initial:t,isPresent:n,custom:s,onExitComplete:C=>{g.set(C,!0);for(const E of g.values())if(!E)return;i&&i()},register:C=>(g.set(C,!1),()=>g.delete(C))}),[n,g,i]);return o&&b&&(_={..._}),x.useMemo(()=>{g.forEach((C,E)=>g.set(E,!1))},[n]),x.useEffect(()=>{!n&&!g.size&&i&&i()},[n]),e=y.jsx(nee,{pop:l==="popLayout",isPresent:n,anchorX:c,anchorY:d,root:h,children:e}),y.jsx(Fg.Provider,{value:_,children:e})};function see(){return new Map}function GL(e=!0){const t=x.useContext(Fg);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,o=x.useId();x.useEffect(()=>{if(e)return s(o)},[e]);const l=x.useCallback(()=>e&&i&&i(o),[o,i,e]);return!n&&i?[!1,l]:[!0]}const om=e=>e.key||"";function AR(e){const t=[];return x.Children.forEach(e,n=>{x.isValidElement(n)&&t.push(n)}),t}const Hg=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync",propagate:l=!1,anchorX:c="left",anchorY:d="top",root:h})=>{const[g,v]=GL(l),b=x.useMemo(()=>AR(e),[e]),_=l&&!g?[]:b.map(om),C=x.useRef(!0),E=x.useRef(b),R=Z_(()=>new Map),N=x.useRef(new Set),[k,O]=x.useState(b),[M,D]=x.useState(b);bD(()=>{C.current=!1,E.current=b;for(let I=0;I<M.length;I++){const $=om(M[I]);_.includes($)?(R.delete($),N.current.delete($)):R.get($)!==!0&&R.set($,!1)}},[M,_.length,_.join("-")]);const V=[];if(b!==k){let I=[...b];for(let $=0;$<M.length;$++){const Z=M[$],q=om(Z);_.includes(q)||(I.splice($,0,Z),V.push(Z))}return o==="wait"&&V.length&&(I=V),D(AR(I)),O(b),null}const{forceRender:z}=x.useContext(Y_);return y.jsx(y.Fragment,{children:M.map(I=>{const $=om(I),Z=l&&!g?!1:b===M||_.includes($),q=()=>{if(N.current.has($))return;if(N.current.add($),R.has($))R.set($,!0);else return;let W=!0;R.forEach(ne=>{ne||(W=!1)}),W&&(z?.(),D(E.current),l&&v?.(),i&&i())};return y.jsx(iee,{isPresent:Z,initial:!C.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:o,root:h,onExitComplete:Z?void 0:q,anchorX:c,anchorY:d,children:I},$)})})},KL=x.createContext({strict:!1}),TR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let RR=!1;function ree(){if(RR)return;const e={};for(const t in TR)e[t]={isEnabled:n=>TR[t].some(i=>!!n[i])};_L(e),RR=!0}function qL(){return ree(),GQ()}function oee(e){const t=qL();for(const n in e)t[n]={...t[n],...e[n]};_L(t)}const aee=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function dg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||aee.has(e)}let WL=e=>!dg(e);function lee(e){typeof e=="function"&&(WL=t=>t.startsWith("on")?!dg(t):e(t))}try{lee(require("@emotion/is-prop-valid").default)}catch{}function cee(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(WL(s)||n===!0&&dg(s)||!t&&!dg(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}const Gg=x.createContext({});function uee(e,t){if($g(e)){const{initial:n,animate:i}=e;return{initial:n===!1||Bf(n)?n:void 0,animate:Bf(i)?i:void 0}}return e.inherit!==!1?t:{}}function dee(e){const{initial:t,animate:n}=uee(e,x.useContext(Gg));return x.useMemo(()=>({initial:t,animate:n}),[kR(t),kR(n)])}function kR(e){return Array.isArray(e)?e.join(" "):e}const Cw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function YL(e,t,n){for(const i in t)!Ci(t[i])&&!RL(i,n)&&(e[i]=t[i])}function fee({transformTemplate:e},t){return x.useMemo(()=>{const n=Cw();return _w(n,t,e),Object.assign({},n.vars,n.style)},[t])}function hee(e,t){const n=e.style||{},i={};return YL(i,n,e),Object.assign(i,fee(e,t)),i}function pee(e,t){const n={},i=hee(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const ZL=()=>({...Cw(),attrs:{}});function mee(e,t,n,i){const s=x.useMemo(()=>{const o=ZL();return kL(o,t,OL(i),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};YL(o,e.style,e),s.style={...o,...s.style}}return s}const gee=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ew(e){return typeof e!="string"||e.includes("-")?!1:!!(gee.indexOf(e)>-1||/[A-Z]/u.test(e))}function vee(e,t,n,{latestValues:i},s,o=!1,l){const d=(l??Ew(e)?mee:pee)(t,i,s,e),h=cee(t,typeof e=="string",o),g=e!==x.Fragment?{...h,...d,ref:n}:{},{children:v}=t,b=x.useMemo(()=>Ci(v)?v.get():v,[v]);return x.createElement(e,{...g,children:b})}function yee({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,s){return{latestValues:bee(n,i,s,e),renderState:t()}}function bee(e,t,n,i){const s={},o=i(e,{});for(const b in o)s[b]=Em(o[b]);let{initial:l,animate:c}=e;const d=$g(e),h=bL(e);t&&h&&!d&&e.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const v=g?c:l;if(v&&typeof v!="boolean"&&!Vg(v)){const b=Array.isArray(v)?v:[v];for(let _=0;_<b.length;_++){const C=hw(e,b[_]);if(C){const{transitionEnd:E,transition:R,...N}=C;for(const k in N){let O=N[k];if(Array.isArray(O)){const M=g?O.length-1:0;O=O[M]}O!==null&&(s[k]=O)}for(const k in E)s[k]=E[k]}}}return s}const XL=e=>(t,n)=>{const i=x.useContext(Gg),s=x.useContext(Fg),o=()=>yee(e,t,i,s);return n?o():Z_(o)},xee=XL({scrapeMotionValuesFromProps:ww,createRenderState:Cw}),_ee=XL({scrapeMotionValuesFromProps:PL,createRenderState:ZL}),wee=Symbol.for("motionComponentSymbol");function See(e,t,n){const i=x.useRef(n);x.useInsertionEffect(()=>{i.current=n});const s=x.useRef(null);return x.useCallback(o=>{o&&e.onMount?.(o),t&&(o?t.mount(o):t.unmount());const l=i.current;if(typeof l=="function")if(o){const c=l(o);typeof c=="function"&&(s.current=c)}else s.current?(s.current(),s.current=null):l(o);else l&&(l.current=o)},[t])}const QL=x.createContext({});function au(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Cee(e,t,n,i,s,o){const{visualElement:l}=x.useContext(Gg),c=x.useContext(KL),d=x.useContext(Fg),h=x.useContext(Sw),g=h.reducedMotion,v=h.skipAnimations,b=x.useRef(null),_=x.useRef(!1);i=i||c.renderer,!b.current&&i&&(b.current=i(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:g,skipAnimations:v,isSVG:o}),_.current&&b.current&&(b.current.manuallyAnimateOnMount=!0));const C=b.current,E=x.useContext(QL);C&&!C.projection&&s&&(C.type==="html"||C.type==="svg")&&Eee(b.current,n,s,E);const R=x.useRef(!1);x.useInsertionEffect(()=>{C&&R.current&&C.update(n,d)});const N=n[oL],k=x.useRef(!!N&&!window.MotionHandoffIsComplete?.(N)&&window.MotionHasOptimisedAnimation?.(N));return bD(()=>{_.current=!0,C&&(R.current=!0,window.MotionIsMounted=!0,C.updateFeatures(),C.scheduleRenderMicrotask(),k.current&&C.animationState&&C.animationState.animateChanges())}),x.useEffect(()=>{C&&(!k.current&&C.animationState&&C.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(N)}),k.current=!1),C.enteringChildren=void 0)}),C}function Eee(e,t,n,i){const{layoutId:s,layout:o,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:h,layoutCrossfade:g}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:JL(e.parent)),e.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||c&&au(c),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:d,layoutRoot:h})}function JL(e){if(e)return e.options.allowProjection!==!1?e.projection:JL(e.parent)}function Xb(e,{forwardMotionProps:t=!1,type:n}={},i,s){i&&oee(i);const o=n?n==="svg":Ew(e),l=o?_ee:xee;function c(h,g){let v;const b={...x.useContext(Sw),...h,layoutId:Aee(h)},{isStatic:_}=b,C=dee(h),E=l(h,_);if(!_&&yD){Tee();const R=Ree(b);v=R.MeasureLayout,C.visualElement=Cee(e,E,b,s,R.ProjectionNode,o)}return y.jsxs(Gg.Provider,{value:C,children:[v&&C.visualElement?y.jsx(v,{visualElement:C.visualElement,...b}):null,vee(e,h,See(E,C.visualElement,g),E,_,t,o)]})}c.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const d=x.forwardRef(c);return d[wee]=e,d}function Aee({layoutId:e}){const t=x.useContext(Y_).id;return t&&e!==void 0?t+"-"+e:e}function Tee(e,t){x.useContext(KL).strict}function Ree(e){const t=qL(),{drag:n,layout:i}=t;if(!n&&!i)return{};const s={...n,...i};return{MeasureLayout:n?.isEnabled(e)||i?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function kee(e,t){if(typeof Proxy>"u")return Xb;const n=new Map,i=(o,l)=>Xb(o,l,e,t),s=(o,l)=>i(o,l);return new Proxy(s,{get:(o,l)=>l==="create"?i:(n.has(l)||n.set(l,Xb(l,void 0,e,t)),n.get(l))})}const Nee=(e,t)=>t.isSVG??Ew(e)?new lJ(t):new nJ(t,{allowProjection:e!==x.Fragment});class Oee extends Ua{constructor(t){super(t),t.animationState||(t.animationState=hJ(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Vg(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Pee=0;class Mee extends Ua{constructor(){super(...arguments),this.id=Pee++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Dee={animation:{Feature:Oee},exit:{Feature:Mee}};function hh(e){return{point:{x:e.pageX,y:e.pageY}}}const Lee=e=>t=>vw(t)&&e(t,hh(t));function pf(e,t,n,i){return Uf(e,t,Lee(n),i)}const ej=({current:e})=>e?e.ownerDocument.defaultView:null,NR=(e,t)=>Math.abs(e-t);function jee(e,t){const n=NR(e.x,t.x),i=NR(e.y,t.y);return Math.sqrt(n**2+i**2)}const OR=new Set(["auto","scroll"]);class tj{constructor(t,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3,element:c}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=_=>{this.handleScroll(_.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Jb(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,E=jee(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!E)return;const{point:R}=_,{timestamp:N}=hi;this.history.push({...R,timestamp:N});const{onStart:k,onMove:O}=this.handlers;C||(k&&k(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,_)},this.handlePointerMove=(_,C)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Qb(C,this.transformPagePoint),Jt.update(this.updatePoint,!0)},this.handlePointerUp=(_,C)=>{this.end();const{onEnd:E,onSessionEnd:R,resumeAnimation:N}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Jb(_.type==="pointercancel"?this.lastMoveEventInfo:Qb(C,this.transformPagePoint),this.history);this.startEvent&&E&&E(_,k),R&&R(_,k)},!vw(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=l,this.contextWindow=s||window;const d=hh(t),h=Qb(d,this.transformPagePoint),{point:g}=h,{timestamp:v}=hi;this.history=[{...g,timestamp:v}];const{onSessionStart:b}=n;b&&b(t,Jb(h,this.history)),this.removeListeners=uh(pf(this.contextWindow,"pointermove",this.handlePointerMove),pf(this.contextWindow,"pointerup",this.handlePointerUp),pf(this.contextWindow,"pointercancel",this.handlePointerUp)),c&&this.startScrollTracking(c)}startScrollTracking(t){let n=t.parentElement;for(;n;){const i=getComputedStyle(n);(OR.has(i.overflowX)||OR.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0}),window.addEventListener("scroll",this.onWindowScroll),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const i=t===window,s=i?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},o={x:s.x-n.x,y:s.y-n.y};o.x===0&&o.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(t,s),Jt.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),La(this.updatePoint)}}function Qb(e,t){return t?{point:t(e.point)}:e}function PR(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Jb({point:e},t){return{point:e,delta:PR(e,nj(t)),offset:PR(e,Iee(t)),velocity:zee(t,.1)}}function Iee(e){return e[0]}function nj(e){return e[e.length-1]}function zee(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=nj(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>pr(t)));)n--;if(!i)return{x:0,y:0};i===e[0]&&e.length>2&&s.timestamp-i.timestamp>pr(t)*2&&(i=e[1]);const o=Vs(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Bee(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?un(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?un(n,e,i.max):Math.min(e,n)),e}function MR(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Uee(e,{top:t,left:n,bottom:i,right:s}){return{x:MR(e.x,n,s),y:MR(e.y,t,i)}}function DR(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function Fee(e,t){return{x:DR(e.x,t.x),y:DR(e.y,t.y)}}function Vee(e,t){let n=.5;const i=Di(e),s=Di(t);return s>i?n=jf(t.min,t.max-i,e.min):i>s&&(n=jf(e.min,e.max-s,t.min)),Zr(0,1,n)}function $ee(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const C0=.35;function Hee(e=C0){return e===!1?e=0:e===!0&&(e=C0),{x:LR(e,"left","right"),y:LR(e,"top","bottom")}}function LR(e,t,n){return{min:jR(e,t),max:jR(e,n)}}function jR(e,t){return typeof e=="number"?e:e[t]||0}const Gee=new WeakMap;class Kee{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=v=>{n&&this.snapToCursor(hh(v).point),this.stopAnimation()},l=(v,b)=>{const{drag:_,dragPropagation:C,onDragStart:E}=this.getProps();if(_&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_Q(_),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ur(N=>{let k=this.getAxisMotionValue(N).get()||0;if(Wr.test(k)){const{projection:O}=this.visualElement;if(O&&O.layout){const M=O.layout.layoutBox[N];M&&(k=Di(M)*(parseFloat(k)/100))}}this.originPoint[N]=k}),E&&Jt.update(()=>E(v,b),!1,!0),m0(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},c=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:_,dragDirectionLock:C,onDirectionLock:E,onDrag:R}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:N}=b;if(C&&this.currentDirection===null){this.currentDirection=Wee(N),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",b.point,N),this.updateAxis("y",b.point,N),this.visualElement.render(),R&&Jt.update(()=>R(v,b),!1,!0)},d=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>{const{dragSnapToOrigin:v}=this.getProps();(v||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:g}=this.getProps();this.panSession=new tj(t,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:ej(this.visualElement),element:this.visualElement.current})}stop(t,n){const i=t||this.latestPointerEvent,s=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!i)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&Jt.postRender(()=>c(i,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!am(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let l=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(l=Bee(l,this.constraints[t],this.elastic[t])),o.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&au(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=Uee(i.layoutBox,t):this.constraints=!1,this.elastic=Hee(n),s!==this.constraints&&!au(t)&&i&&this.constraints&&!this.hasMutatedConstraints&&Ur(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=$ee(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!au(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=ZQ(i,s.root,this.visualElement.getTransformPagePoint());let l=Fee(s.layout.layoutBox,o);if(n){const c=n(qQ(l));this.hasMutatedConstraints=!!c,c&&(l=SL(c))}return l}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=Ur(g=>{if(!am(g,n,this.currentDirection))return;let v=d&&d[g]||{};l&&(v={min:0,max:0});const b=s?200:1e6,_=s?40:1e7,C={type:"inertia",velocity:i?t[g]:0,bounceStiffness:b,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(g,C)});return Promise.all(h).then(c)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return m0(this.visualElement,t),i.start(fw(t,i,0,n,this.visualElement,!1))}stopAnimation(){Ur(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Ur(n=>{const{drag:i}=this.getProps();if(!am(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n],d=o.get()||0;o.set(t[n]-un(l,c,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!au(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ur(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();s[l]=Vee({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),Ur(l=>{if(!am(l,t,null))return;const c=this.getAxisMotionValue(l),{min:d,max:h}=this.constraints[l];c.set(un(d,h,s[l]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;Gee.set(this.visualElement,this);const t=this.visualElement.current,n=pf(t,"pointerdown",h=>{const{drag:g,dragListener:v=!0}=this.getProps(),b=h.target,_=b!==t&&TQ(b);g&&v&&!_&&this.start(h)});let i;const s=()=>{const{dragConstraints:h}=this.getProps();au(h)&&h.current&&(this.constraints=this.resolveRefConstraints(),i||(i=qee(t,h.current,()=>this.scalePositionWithinConstraints())))},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Jt.read(s);const c=Uf(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:g})=>{this.isDragging&&g&&(Ur(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=h[v].translate,b.set(b.get()+h[v].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d(),i&&i()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=C0,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function IR(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function qee(e,t,n){const i=HT(e,IR(n)),s=HT(t,IR(n));return()=>{i(),s()}}function am(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Wee(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Yee extends Ua{constructor(t){super(t),this.removeGroupControls=Hs,this.removeListeners=Hs,this.controls=new Kee(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hs}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const ex=e=>(t,n)=>{e&&Jt.update(()=>e(t,n),!1,!0)};class Zee extends Ua{constructor(){super(...arguments),this.removePointerDownListener=Hs}onPointerDown(t){this.session=new tj(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ej(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:ex(t),onStart:ex(n),onMove:ex(i),onEnd:(o,l)=>{delete this.session,s&&Jt.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=pf(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let tx=!1;class Xee extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=t;o&&(n.group&&n.group.add(o),i&&i.register&&s&&i.register(o),tx&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Am.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:o}=this.props,{projection:l}=i;return l&&(l.isPresent=o,t.layoutDependency!==n&&l.setOptions({...l.options,layoutDependency:n}),tx=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==o?l.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?l.promote():l.relegate()||Jt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),gw.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;tx=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ij(e){const[t,n]=GL(),i=x.useContext(Y_);return y.jsx(Xee,{...e,layoutGroup:i,switchLayoutGroup:x.useContext(QL),isPresent:t,safeToRemove:n})}const Qee={pan:{Feature:Zee},drag:{Feature:Yee,ProjectionNode:HL,MeasureLayout:ij}};function zR(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=i[s];o&&Jt.postRender(()=>o(t,hh(t)))}class Jee extends Ua{mount(){const{current:t}=this.node;t&&(this.unmount=SQ(t,(n,i)=>(zR(this.node,i,"Start"),s=>zR(this.node,s,"End"))))}unmount(){}}class ete extends Ua{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=uh(Uf(this.node.current,"focus",()=>this.onFocus()),Uf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function BR(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=i[s];o&&Jt.postRender(()=>o(t,hh(t)))}class tte extends Ua{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:n,propagate:i}=this.node.props;this.unmount=kQ(t,(s,o)=>(BR(this.node,o,"Start"),(l,{success:c})=>BR(this.node,l,c?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:i?.tap===!1})}unmount(){}}const E0=new WeakMap,nx=new WeakMap,nte=e=>{const t=E0.get(e.target);t&&t(e)},ite=e=>{e.forEach(nte)};function ste({root:e,...t}){const n=e||document;nx.has(n)||nx.set(n,{});const i=nx.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(ite,{root:e,...t})),i[s]}function rte(e,t,n){const i=ste(t);return E0.set(e,n),i.observe(e),()=>{E0.delete(e),i.unobserve(e)}}const ote={some:0,all:1};class ate extends Ua{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:o}=t,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:ote[s]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),b=h?g:v;b&&b(d)};return rte(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(lte(t,n))&&this.startObserver()}unmount(){}}function lte({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const cte={inView:{Feature:ate},tap:{Feature:tte},focus:{Feature:ete},hover:{Feature:Jee}},ute={layout:{ProjectionNode:HL,MeasureLayout:ij}},dte={...Dee,...cte,...Qee,...ute},Pt=kee(dte,Nee),sj=async(e,t)=>{try{const n=e.game_info?.seen_species??[],i=t(n),{data:s,error:o}=await Dn.from("users").update({game_info:{...e.game_info,seen_species:i}}).eq("id",e.id).select().single();return o?(console.error("Error updating seen_species:",o),null):s}catch(n){return console.error("Unexpected error updating seen_species:",n),null}},UR="Nova espcie favorita!",fte=async({user:e,speciesName:t,isFav:n})=>{const i=`Favoritou a espcie ${t}`,s=e.game_info.activities??[];let o;if(n)o=[{title:UR,description:i,date:new Date().toISOString()},...s];else{let d=!1;o=s.slice().reverse().filter(h=>!d&&h.title===UR&&h.description===i?(d=!0,!1):!0).reverse()}const{data:l,error:c}=await Dn.from("users").update({game_info:{...e.game_info,activities:o}}).eq("id",e.id).select().single();return c?(console.error("Error updating fav activity:",c),null):l},hte=()=>{const{t:e}=Mt(),t=Le(Da),n=Le(tt.expandedNodes).find(O=>O.rank==="SPECIES")?.key,i=t??n,{data:s,isLoading:o}=Bo({specieKey:i}),[l,c]=Gs(st.userDb),h=(l?.game_info?.seen_species??[]).find(O=>O.key===i),[g,v]=x.useState(h?.fav??!1),{data:b,isLoading:_}=vZ({specieName:(s?.canonicalName||s?.scientificName)??""}),{data:C,isLoading:E}=yZ(s?.canonicalName);x.useEffect(()=>{v(h?.fav??!1)},[h?.fav]);const R=async()=>{if(!l||i==null)return;const O=!g;v(O);const M=await sj(l,z=>{const I=[...z],$=I.findIndex(Z=>Z.key===i);return $!==-1?I[$]={...I[$],fav:O}:s&&I.push({key:i,date:new Date().toISOString(),fav:O}),I});if(!M)return;const D=s?.canonicalName??"",V=await fte({user:M,speciesName:D,isFav:O});c(V??M)};if(!s)return y.jsx("p",{className:"text-muted-foreground text-center",children:e("specieDetail.dataUnavailable")});if(o)return y.jsx(vD,{});const N=n9[s.class],k=[[e("specieDetail.kingdomLabel"),s.kingdom],[e("specieDetail.phylumLabel"),s.phylum],[e(N?"specieDetail.orderLabel":"specieDetail.classLabel"),s.class],[e("specieDetail.orderLabel"),N?void 0:s.order],[e("specieDetail.familyLabel"),s.family],[e("specieDetail.genusLabel"),s.genus]].filter(([,O])=>!!O);return y.jsxs("div",{className:"space-y-6",children:[y.jsx(Pt.header,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"border-b pb-4",children:y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("h1",{className:"mb-1 text-3xl font-bold",children:s.canonicalName}),s.scientificName&&y.jsx("p",{className:"text-muted-foreground text-lg italic",children:s.scientificName})]}),l&&y.jsx(Pt.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:R,className:"mt-1",children:y.jsx(Gm,{className:`size-7 transition-all ${g?"fill-red-500 text-red-500":"text-muted-foreground hover:text-red-500"}`})})]})}),k.length>0&&y.jsxs(Pt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-muted rounded-lg border p-4",children:[y.jsx("div",{className:"mb-3 flex items-center gap-2"}),y.jsx("dl",{className:"grid grid-cols-2 gap-3 text-sm [@container(min-width:1280px)]:grid-cols-3",children:k.map(([O,M])=>y.jsxs("div",{children:[y.jsxs("dt",{className:"font-semibold",children:[O,":"]}),y.jsx("dd",{className:"text-primary/87",children:M})]},O))})]}),y.jsx(Pt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:_?y.jsx(uZ,{}):y.jsx(gZ,{statusCode:b})}),E?y.jsx(dZ,{}):C?.extract||C?.description?y.jsxs(Pt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-3",children:[y.jsx("h3",{className:"flex items-center gap-2 text-xl font-semibold",children:e("specieDetail.descriptionTitle")}),y.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:C.extract||C.description})]}):null,(s.authorship||s.publishedIn)&&y.jsxs(Pt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-3 border-t pt-4",children:[y.jsx("h3",{className:"text-lg font-semibold",children:e("specieDetail.nomenclatureTitle")}),y.jsxs("div",{className:"space-y-2 text-sm",children:[s.authorship&&y.jsxs("p",{className:"text-muted-foreground",children:[y.jsxs("strong",{className:"text-foreground",children:[e("specieDetail.author"),": "]}),s.authorship]}),s.publishedIn&&y.jsxs("p",{className:"text-muted-foreground",children:[y.jsxs("strong",{className:"text-foreground",children:[e("specieDetail.publishedIn"),": "]}),s.publishedIn]}),y.jsxs("p",{className:"text-muted-foreground",children:[y.jsxs("strong",{className:"text-foreground",children:[e("specieDetail.sources"),": "]}),"GBIF, Wikipedia"]})]})]})]})};function rj(e,t){const n=x.useRef(t);x.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const pte=1;function mte(e){return Object.freeze({__version:pte,map:e})}function gte(e,t){return Object.freeze({...e,...t})}const Aw=x.createContext(null);function Tw(){const e=x.use(Aw);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function vte(e){function t(n,i){const{instance:s,context:o}=e(n).current;x.useImperativeHandle(i,()=>s);const{children:l}=n;return l==null?null:Ot.createElement(Aw,{value:o},l)}return x.forwardRef(t)}function yte(e){function t(n,i){const[s,o]=x.useState(!1),{instance:l}=e(n,o).current;x.useImperativeHandle(i,()=>l),x.useEffect(function(){s&&l.update()},[l,s,n.children]);const c=l._contentNode;return c?Ji.createPortal(n.children,c):null}return x.forwardRef(t)}function bte(e){function t(n,i){const{instance:s}=e(n).current;return x.useImperativeHandle(i,()=>s),null}return x.forwardRef(t)}function oj(e,t){const n=x.useRef(void 0);x.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Rw(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function xte(e,t){return function(i,s){const o=Tw(),l=e(Rw(i,o),o);return rj(o.map,i.attribution),oj(l.current,i.eventHandlers),t(l.current,o,i,s),l}}var tf={exports:{}};var _te=tf.exports,FR;function wte(){return FR||(FR=1,(function(e,t){(function(n,i){i(t)})(_te,(function(n){var i="1.9.4";function s(u){var p,w,T,P;for(w=1,T=arguments.length;w<T;w++){P=arguments[w];for(p in P)u[p]=P[p]}return u}var o=Object.create||(function(){function u(){}return function(p){return u.prototype=p,new u}})();function l(u,p){var w=Array.prototype.slice;if(u.bind)return u.bind.apply(u,w.call(arguments,1));var T=w.call(arguments,2);return function(){return u.apply(p,T.length?T.concat(w.call(arguments)):arguments)}}var c=0;function d(u){return"_leaflet_id"in u||(u._leaflet_id=++c),u._leaflet_id}function h(u,p,w){var T,P,B,X;return X=function(){T=!1,P&&(B.apply(w,P),P=!1)},B=function(){T?P=arguments:(u.apply(w,arguments),setTimeout(X,p),T=!0)},B}function g(u,p,w){var T=p[1],P=p[0],B=T-P;return u===T&&w?u:((u-P)%B+B)%B+P}function v(){return!1}function b(u,p){if(p===!1)return u;var w=Math.pow(10,p===void 0?6:p);return Math.round(u*w)/w}function _(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function C(u){return _(u).split(/\s+/)}function E(u,p){Object.prototype.hasOwnProperty.call(u,"options")||(u.options=u.options?o(u.options):{});for(var w in p)u.options[w]=p[w];return u.options}function R(u,p,w){var T=[];for(var P in u)T.push(encodeURIComponent(w?P.toUpperCase():P)+"="+encodeURIComponent(u[P]));return(!p||p.indexOf("?")===-1?"?":"&")+T.join("&")}var N=/\{ *([\w_ -]+) *\}/g;function k(u,p){return u.replace(N,function(w,T){var P=p[T];if(P===void 0)throw new Error("No value provided for variable "+w);return typeof P=="function"&&(P=P(p)),P})}var O=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"};function M(u,p){for(var w=0;w<u.length;w++)if(u[w]===p)return w;return-1}var D="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function V(u){return window["webkit"+u]||window["moz"+u]||window["ms"+u]}var z=0;function I(u){var p=+new Date,w=Math.max(0,16-(p-z));return z=p+w,window.setTimeout(u,w)}var $=window.requestAnimationFrame||V("RequestAnimationFrame")||I,Z=window.cancelAnimationFrame||V("CancelAnimationFrame")||V("CancelRequestAnimationFrame")||function(u){window.clearTimeout(u)};function q(u,p,w){if(w&&$===I)u.call(p);else return $.call(window,l(u,p))}function W(u){u&&Z.call(window,u)}var ne={__proto__:null,extend:s,create:o,bind:l,get lastId(){return c},stamp:d,throttle:h,wrapNum:g,falseFn:v,formatNum:b,trim:_,splitWords:C,setOptions:E,getParamString:R,template:k,isArray:O,indexOf:M,emptyImageUrl:D,requestFn:$,cancelFn:Z,requestAnimFrame:q,cancelAnimFrame:W};function re(){}re.extend=function(u){var p=function(){E(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},w=p.__super__=this.prototype,T=o(w);T.constructor=p,p.prototype=T;for(var P in this)Object.prototype.hasOwnProperty.call(this,P)&&P!=="prototype"&&P!=="__super__"&&(p[P]=this[P]);return u.statics&&s(p,u.statics),u.includes&&(ye(u.includes),s.apply(null,[T].concat(u.includes))),s(T,u),delete T.statics,delete T.includes,T.options&&(T.options=w.options?o(w.options):{},s(T.options,u.options)),T._initHooks=[],T.callInitHooks=function(){if(!this._initHooksCalled){w.callInitHooks&&w.callInitHooks.call(this),this._initHooksCalled=!0;for(var B=0,X=T._initHooks.length;B<X;B++)T._initHooks[B].call(this)}},p},re.include=function(u){var p=this.prototype.options;return s(this.prototype,u),u.options&&(this.prototype.options=p,this.mergeOptions(u.options)),this},re.mergeOptions=function(u){return s(this.prototype.options,u),this},re.addInitHook=function(u){var p=Array.prototype.slice.call(arguments,1),w=typeof u=="function"?u:function(){this[u].apply(this,p)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(w),this};function ye(u){if(!(typeof L>"u"||!L||!L.Mixin)){u=O(u)?u:[u];for(var p=0;p<u.length;p++)u[p]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var G={on:function(u,p,w){if(typeof u=="object")for(var T in u)this._on(T,u[T],p);else{u=C(u);for(var P=0,B=u.length;P<B;P++)this._on(u[P],p,w)}return this},off:function(u,p,w){if(!arguments.length)delete this._events;else if(typeof u=="object")for(var T in u)this._off(T,u[T],p);else{u=C(u);for(var P=arguments.length===1,B=0,X=u.length;B<X;B++)P?this._off(u[B]):this._off(u[B],p,w)}return this},_on:function(u,p,w,T){if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}if(this._listens(u,p,w)===!1){w===this&&(w=void 0);var P={fn:p,ctx:w};T&&(P.once=!0),this._events=this._events||{},this._events[u]=this._events[u]||[],this._events[u].push(P)}},_off:function(u,p,w){var T,P,B;if(this._events&&(T=this._events[u],!!T)){if(arguments.length===1){if(this._firingCount)for(P=0,B=T.length;P<B;P++)T[P].fn=v;delete this._events[u];return}if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}var X=this._listens(u,p,w);if(X!==!1){var ue=T[X];this._firingCount&&(ue.fn=v,this._events[u]=T=T.slice()),T.splice(X,1)}}},fire:function(u,p,w){if(!this.listens(u,w))return this;var T=s({},p,{type:u,target:this,sourceTarget:p&&p.sourceTarget||this});if(this._events){var P=this._events[u];if(P){this._firingCount=this._firingCount+1||1;for(var B=0,X=P.length;B<X;B++){var ue=P[B],pe=ue.fn;ue.once&&this.off(u,pe,ue.ctx),pe.call(ue.ctx||this,T)}this._firingCount--}}return w&&this._propagateEvent(T),this},listens:function(u,p,w,T){typeof u!="string"&&console.warn('"string" type argument expected');var P=p;typeof p!="function"&&(T=!!p,P=void 0,w=void 0);var B=this._events&&this._events[u];if(B&&B.length&&this._listens(u,P,w)!==!1)return!0;if(T){for(var X in this._eventParents)if(this._eventParents[X].listens(u,p,w,T))return!0}return!1},_listens:function(u,p,w){if(!this._events)return!1;var T=this._events[u]||[];if(!p)return!!T.length;w===this&&(w=void 0);for(var P=0,B=T.length;P<B;P++)if(T[P].fn===p&&T[P].ctx===w)return P;return!1},once:function(u,p,w){if(typeof u=="object")for(var T in u)this._on(T,u[T],p,!0);else{u=C(u);for(var P=0,B=u.length;P<B;P++)this._on(u[P],p,w,!0)}return this},addEventParent:function(u){return this._eventParents=this._eventParents||{},this._eventParents[d(u)]=u,this},removeEventParent:function(u){return this._eventParents&&delete this._eventParents[d(u)],this},_propagateEvent:function(u){for(var p in this._eventParents)this._eventParents[p].fire(u.type,s({layer:u.target,propagatedFrom:u.target},u),!0)}};G.addEventListener=G.on,G.removeEventListener=G.clearAllEventListeners=G.off,G.addOneTimeEventListener=G.once,G.fireEvent=G.fire,G.hasEventListeners=G.listens;var Y=re.extend(G);function te(u,p,w){this.x=w?Math.round(u):u,this.y=w?Math.round(p):p}var de=Math.trunc||function(u){return u>0?Math.floor(u):Math.ceil(u)};te.prototype={clone:function(){return new te(this.x,this.y)},add:function(u){return this.clone()._add(oe(u))},_add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.clone()._subtract(oe(u))},_subtract:function(u){return this.x-=u.x,this.y-=u.y,this},divideBy:function(u){return this.clone()._divideBy(u)},_divideBy:function(u){return this.x/=u,this.y/=u,this},multiplyBy:function(u){return this.clone()._multiplyBy(u)},_multiplyBy:function(u){return this.x*=u,this.y*=u,this},scaleBy:function(u){return new te(this.x*u.x,this.y*u.y)},unscaleBy:function(u){return new te(this.x/u.x,this.y/u.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=de(this.x),this.y=de(this.y),this},distanceTo:function(u){u=oe(u);var p=u.x-this.x,w=u.y-this.y;return Math.sqrt(p*p+w*w)},equals:function(u){return u=oe(u),u.x===this.x&&u.y===this.y},contains:function(u){return u=oe(u),Math.abs(u.x)<=Math.abs(this.x)&&Math.abs(u.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function oe(u,p,w){return u instanceof te?u:O(u)?new te(u[0],u[1]):u==null?u:typeof u=="object"&&"x"in u&&"y"in u?new te(u.x,u.y):new te(u,p,w)}function K(u,p){if(u)for(var w=p?[u,p]:u,T=0,P=w.length;T<P;T++)this.extend(w[T])}K.prototype={extend:function(u){var p,w;if(!u)return this;if(u instanceof te||typeof u[0]=="number"||"x"in u)p=w=oe(u);else if(u=ae(u),p=u.min,w=u.max,!p||!w)return this;return!this.min&&!this.max?(this.min=p.clone(),this.max=w.clone()):(this.min.x=Math.min(p.x,this.min.x),this.max.x=Math.max(w.x,this.max.x),this.min.y=Math.min(p.y,this.min.y),this.max.y=Math.max(w.y,this.max.y)),this},getCenter:function(u){return oe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,u)},getBottomLeft:function(){return oe(this.min.x,this.max.y)},getTopRight:function(){return oe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(u){var p,w;return typeof u[0]=="number"||u instanceof te?u=oe(u):u=ae(u),u instanceof K?(p=u.min,w=u.max):p=w=u,p.x>=this.min.x&&w.x<=this.max.x&&p.y>=this.min.y&&w.y<=this.max.y},intersects:function(u){u=ae(u);var p=this.min,w=this.max,T=u.min,P=u.max,B=P.x>=p.x&&T.x<=w.x,X=P.y>=p.y&&T.y<=w.y;return B&&X},overlaps:function(u){u=ae(u);var p=this.min,w=this.max,T=u.min,P=u.max,B=P.x>p.x&&T.x<w.x,X=P.y>p.y&&T.y<w.y;return B&&X},isValid:function(){return!!(this.min&&this.max)},pad:function(u){var p=this.min,w=this.max,T=Math.abs(p.x-w.x)*u,P=Math.abs(p.y-w.y)*u;return ae(oe(p.x-T,p.y-P),oe(w.x+T,w.y+P))},equals:function(u){return u?(u=ae(u),this.min.equals(u.getTopLeft())&&this.max.equals(u.getBottomRight())):!1}};function ae(u,p){return!u||u instanceof K?u:new K(u,p)}function be(u,p){if(u)for(var w=p?[u,p]:u,T=0,P=w.length;T<P;T++)this.extend(w[T])}be.prototype={extend:function(u){var p=this._southWest,w=this._northEast,T,P;if(u instanceof Re)T=u,P=u;else if(u instanceof be){if(T=u._southWest,P=u._northEast,!T||!P)return this}else return u?this.extend(we(u)||xe(u)):this;return!p&&!w?(this._southWest=new Re(T.lat,T.lng),this._northEast=new Re(P.lat,P.lng)):(p.lat=Math.min(T.lat,p.lat),p.lng=Math.min(T.lng,p.lng),w.lat=Math.max(P.lat,w.lat),w.lng=Math.max(P.lng,w.lng)),this},pad:function(u){var p=this._southWest,w=this._northEast,T=Math.abs(p.lat-w.lat)*u,P=Math.abs(p.lng-w.lng)*u;return new be(new Re(p.lat-T,p.lng-P),new Re(w.lat+T,w.lng+P))},getCenter:function(){return new Re((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Re(this.getNorth(),this.getWest())},getSouthEast:function(){return new Re(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(u){typeof u[0]=="number"||u instanceof Re||"lat"in u?u=we(u):u=xe(u);var p=this._southWest,w=this._northEast,T,P;return u instanceof be?(T=u.getSouthWest(),P=u.getNorthEast()):T=P=u,T.lat>=p.lat&&P.lat<=w.lat&&T.lng>=p.lng&&P.lng<=w.lng},intersects:function(u){u=xe(u);var p=this._southWest,w=this._northEast,T=u.getSouthWest(),P=u.getNorthEast(),B=P.lat>=p.lat&&T.lat<=w.lat,X=P.lng>=p.lng&&T.lng<=w.lng;return B&&X},overlaps:function(u){u=xe(u);var p=this._southWest,w=this._northEast,T=u.getSouthWest(),P=u.getNorthEast(),B=P.lat>p.lat&&T.lat<w.lat,X=P.lng>p.lng&&T.lng<w.lng;return B&&X},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(u,p){return u?(u=xe(u),this._southWest.equals(u.getSouthWest(),p)&&this._northEast.equals(u.getNorthEast(),p)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function xe(u,p){return u instanceof be?u:new be(u,p)}function Re(u,p,w){if(isNaN(u)||isNaN(p))throw new Error("Invalid LatLng object: ("+u+", "+p+")");this.lat=+u,this.lng=+p,w!==void 0&&(this.alt=+w)}Re.prototype={equals:function(u,p){if(!u)return!1;u=we(u);var w=Math.max(Math.abs(this.lat-u.lat),Math.abs(this.lng-u.lng));return w<=(p===void 0?1e-9:p)},toString:function(u){return"LatLng("+b(this.lat,u)+", "+b(this.lng,u)+")"},distanceTo:function(u){return je.distance(this,we(u))},wrap:function(){return je.wrapLatLng(this)},toBounds:function(u){var p=180*u/40075017,w=p/Math.cos(Math.PI/180*this.lat);return xe([this.lat-p,this.lng-w],[this.lat+p,this.lng+w])},clone:function(){return new Re(this.lat,this.lng,this.alt)}};function we(u,p,w){return u instanceof Re?u:O(u)&&typeof u[0]!="object"?u.length===3?new Re(u[0],u[1],u[2]):u.length===2?new Re(u[0],u[1]):null:u==null?u:typeof u=="object"&&"lat"in u?new Re(u.lat,"lng"in u?u.lng:u.lon,u.alt):p===void 0?null:new Re(u,p,w)}var Se={latLngToPoint:function(u,p){var w=this.projection.project(u),T=this.scale(p);return this.transformation._transform(w,T)},pointToLatLng:function(u,p){var w=this.scale(p),T=this.transformation.untransform(u,w);return this.projection.unproject(T)},project:function(u){return this.projection.project(u)},unproject:function(u){return this.projection.unproject(u)},scale:function(u){return 256*Math.pow(2,u)},zoom:function(u){return Math.log(u/256)/Math.LN2},getProjectedBounds:function(u){if(this.infinite)return null;var p=this.projection.bounds,w=this.scale(u),T=this.transformation.transform(p.min,w),P=this.transformation.transform(p.max,w);return new K(T,P)},infinite:!1,wrapLatLng:function(u){var p=this.wrapLng?g(u.lng,this.wrapLng,!0):u.lng,w=this.wrapLat?g(u.lat,this.wrapLat,!0):u.lat,T=u.alt;return new Re(w,p,T)},wrapLatLngBounds:function(u){var p=u.getCenter(),w=this.wrapLatLng(p),T=p.lat-w.lat,P=p.lng-w.lng;if(T===0&&P===0)return u;var B=u.getSouthWest(),X=u.getNorthEast(),ue=new Re(B.lat-T,B.lng-P),pe=new Re(X.lat-T,X.lng-P);return new be(ue,pe)}},je=s({},Se,{wrapLng:[-180,180],R:6371e3,distance:function(u,p){var w=Math.PI/180,T=u.lat*w,P=p.lat*w,B=Math.sin((p.lat-u.lat)*w/2),X=Math.sin((p.lng-u.lng)*w/2),ue=B*B+Math.cos(T)*Math.cos(P)*X*X,pe=2*Math.atan2(Math.sqrt(ue),Math.sqrt(1-ue));return this.R*pe}}),Me=6378137,De={R:Me,MAX_LATITUDE:85.0511287798,project:function(u){var p=Math.PI/180,w=this.MAX_LATITUDE,T=Math.max(Math.min(w,u.lat),-w),P=Math.sin(T*p);return new te(this.R*u.lng*p,this.R*Math.log((1+P)/(1-P))/2)},unproject:function(u){var p=180/Math.PI;return new Re((2*Math.atan(Math.exp(u.y/this.R))-Math.PI/2)*p,u.x*p/this.R)},bounds:(function(){var u=Me*Math.PI;return new K([-u,-u],[u,u])})()};function Ye(u,p,w,T){if(O(u)){this._a=u[0],this._b=u[1],this._c=u[2],this._d=u[3];return}this._a=u,this._b=p,this._c=w,this._d=T}Ye.prototype={transform:function(u,p){return this._transform(u.clone(),p)},_transform:function(u,p){return p=p||1,u.x=p*(this._a*u.x+this._b),u.y=p*(this._c*u.y+this._d),u},untransform:function(u,p){return p=p||1,new te((u.x/p-this._b)/this._a,(u.y/p-this._d)/this._c)}};function Ze(u,p,w,T){return new Ye(u,p,w,T)}var Ct=s({},je,{code:"EPSG:3857",projection:De,transformation:(function(){var u=.5/(Math.PI*De.R);return Ze(u,.5,-u,.5)})()}),yt=s({},Ct,{code:"EPSG:900913"});function It(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}function dn(u,p){var w="",T,P,B,X,ue,pe;for(T=0,B=u.length;T<B;T++){for(ue=u[T],P=0,X=ue.length;P<X;P++)pe=ue[P],w+=(P?"L":"M")+pe.x+" "+pe.y;w+=p?ze.svg?"z":"x":""}return w||"M0 0"}var fn=document.documentElement.style,jn="ActiveXObject"in window,_n=jn&&!document.addEventListener,wn="msLaunchUri"in navigator&&!("documentMode"in document),Kn=an("webkit"),Ai=an("android"),Es=an("android 2")||an("android 3"),sn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Sr=Ai&&an("Google")&&sn<537&&!("AudioNode"in window),bt=!!window.opera,At=!wn&&an("chrome"),zt=an("gecko")&&!Kn&&!bt&&!jn,Ti=!At&&an("safari"),Ws=an("phantom"),vi="OTransition"in fn,Jr=navigator.platform.indexOf("Win")===0,ts=jn&&"transition"in fn,rn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Es,si="MozPerspective"in fn,En=!window.L_DISABLE_3D&&(ts||rn||si)&&!vi&&!Ws,ns=typeof orientation<"u"||an("mobile"),eo=ns&&Kn,$a=ns&&rn,qn=!window.PointerEvent&&window.MSPointerEvent,Ys=!!(window.PointerEvent||qn),Yt="ontouchstart"in window||!!window.TouchEvent,Zt=!window.L_NO_TOUCH&&(Yt||Ys),hn=ns&&bt,Wn=ns&&zt,Yn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,An=(function(){var u=!1;try{var p=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassiveEventSupport",v,p),window.removeEventListener("testPassiveEventSupport",v,p)}catch{}return u})(),Zn=(function(){return!!document.createElement("canvas").getContext})(),Xn=!!(document.createElementNS&&It("svg").createSVGRect),on=!!Xn&&(function(){var u=document.createElement("div");return u.innerHTML="<svg/>",(u.firstChild&&u.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Ri=!Xn&&(function(){try{var u=document.createElement("div");u.innerHTML='<v:shape adj="1"/>';var p=u.firstChild;return p.style.behavior="url(#default#VML)",p&&typeof p.adj=="object"}catch{return!1}})(),ri=navigator.platform.indexOf("Mac")===0,yi=navigator.platform.indexOf("Linux")===0;function an(u){return navigator.userAgent.toLowerCase().indexOf(u)>=0}var ze={ie:jn,ielt9:_n,edge:wn,webkit:Kn,android:Ai,android23:Es,androidStock:Sr,opera:bt,chrome:At,gecko:zt,safari:Ti,phantom:Ws,opera12:vi,win:Jr,ie3d:ts,webkit3d:rn,gecko3d:si,any3d:En,mobile:ns,mobileWebkit:eo,mobileWebkit3d:$a,msPointer:qn,pointer:Ys,touch:Zt,touchNative:Yt,mobileOpera:hn,mobileGecko:Wn,retina:Yn,passiveEvents:An,canvas:Zn,svg:Xn,vml:Ri,inlineSvg:on,mac:ri,linux:yi},bi=ze.msPointer?"MSPointerDown":"pointerdown",is=ze.msPointer?"MSPointerMove":"pointermove",oi=ze.msPointer?"MSPointerUp":"pointerup",pn=ze.msPointer?"MSPointerCancel":"pointercancel",Tn={touchstart:bi,touchmove:is,touchend:oi,touchcancel:pn},Zs={touchstart:zi,touchmove:ss,touchend:ss,touchcancel:ss},As={},sc=!1;function Ku(u,p,w){return p==="touchstart"&&Cr(),Zs[p]?(w=Zs[p].bind(this,w),u.addEventListener(Tn[p],w,!1),w):(console.warn("wrong event specified:",p),v)}function rc(u,p,w){if(!Tn[p]){console.warn("wrong event specified:",p);return}u.removeEventListener(Tn[p],w,!1)}function to(u){As[u.pointerId]=u}function Ha(u){As[u.pointerId]&&(As[u.pointerId]=u)}function Xs(u){delete As[u.pointerId]}function Cr(){sc||(document.addEventListener(bi,to,!0),document.addEventListener(is,Ha,!0),document.addEventListener(oi,Xs,!0),document.addEventListener(pn,Xs,!0),sc=!0)}function ss(u,p){if(p.pointerType!==(p.MSPOINTER_TYPE_MOUSE||"mouse")){p.touches=[];for(var w in As)p.touches.push(As[w]);p.changedTouches=[p],u(p)}}function zi(u,p){p.MSPOINTER_TYPE_TOUCH&&p.pointerType===p.MSPOINTER_TYPE_TOUCH&&mn(p),ss(u,p)}function ln(u){var p={},w,T;for(T in u)w=u[T],p[T]=w&&w.bind?w.bind(u):w;return u=p,p.type="dblclick",p.detail=2,p.isTrusted=!1,p._simulated=!0,p}var Qs=200;function oc(u,p){u.addEventListener("dblclick",p);var w=0,T;function P(B){if(B.detail!==1){T=B.detail;return}if(!(B.pointerType==="mouse"||B.sourceCapabilities&&!B.sourceCapabilities.firesTouchEvents)){var X=Wa(B);if(!(X.some(function(pe){return pe instanceof HTMLLabelElement&&pe.attributes.for})&&!X.some(function(pe){return pe instanceof HTMLInputElement||pe instanceof HTMLSelectElement}))){var ue=Date.now();ue-w<=Qs?(T++,T===2&&p(ln(B))):T=1,w=ue}}}return u.addEventListener("click",P),{dblclick:p,simDblclick:P}}function Bi(u,p){u.removeEventListener("dblclick",p.dblclick),u.removeEventListener("click",p.simDblclick)}var Ui=Be(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),no=Be(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ga=no==="webkitTransition"||no==="OTransition"?no+"End":"transitionend";function io(u){return typeof u=="string"?document.getElementById(u):u}function so(u,p){var w=u.style[p]||u.currentStyle&&u.currentStyle[p];if((!w||w==="auto")&&document.defaultView){var T=document.defaultView.getComputedStyle(u,null);w=T?T[p]:null}return w==="auto"?null:w}function ft(u,p,w){var T=document.createElement(u);return T.className=p||"",w&&w.appendChild(T),T}function U(u){var p=u.parentNode;p&&p.removeChild(u)}function J(u){for(;u.firstChild;)u.removeChild(u.firstChild)}function H(u){var p=u.parentNode;p&&p.lastChild!==u&&p.appendChild(u)}function se(u){var p=u.parentNode;p&&p.firstChild!==u&&p.insertBefore(u,p.firstChild)}function le(u,p){if(u.classList!==void 0)return u.classList.contains(p);var w=Ne(u);return w.length>0&&new RegExp("(^|\\s)"+p+"(\\s|$)").test(w)}function Q(u,p){if(u.classList!==void 0)for(var w=C(p),T=0,P=w.length;T<P;T++)u.classList.add(w[T]);else if(!le(u,p)){var B=Ne(u);ke(u,(B?B+" ":"")+p)}}function ge(u,p){u.classList!==void 0?u.classList.remove(p):ke(u,_((" "+Ne(u)+" ").replace(" "+p+" "," ")))}function ke(u,p){u.className.baseVal===void 0?u.className=p:u.className.baseVal=p}function Ne(u){return u.correspondingElement&&(u=u.correspondingElement),u.className.baseVal===void 0?u.className:u.className.baseVal}function Ee(u,p){"opacity"in u.style?u.style.opacity=p:"filter"in u.style&&Oe(u,p)}function Oe(u,p){var w=!1,T="DXImageTransform.Microsoft.Alpha";try{w=u.filters.item(T)}catch{if(p===1)return}p=Math.round(p*100),w?(w.Enabled=p!==100,w.Opacity=p):u.style.filter+=" progid:"+T+"(opacity="+p+")"}function Be(u){for(var p=document.documentElement.style,w=0;w<u.length;w++)if(u[w]in p)return u[w];return!1}function Je(u,p,w){var T=p||new te(0,0);u.style[Ui]=(ze.ie3d?"translate("+T.x+"px,"+T.y+"px)":"translate3d("+T.x+"px,"+T.y+"px,0)")+(w?" scale("+w+")":"")}function qe(u,p){u._leaflet_pos=p,ze.any3d?Je(u,p):(u.style.left=p.x+"px",u.style.top=p.y+"px")}function dt(u){return u._leaflet_pos||new te(0,0)}var Bt,Et,Qn;if("onselectstart"in document)Bt=function(){nt(window,"selectstart",mn)},Et=function(){jt(window,"selectstart",mn)};else{var Fi=Be(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Bt=function(){if(Fi){var u=document.documentElement.style;Qn=u[Fi],u[Fi]="none"}},Et=function(){Fi&&(document.documentElement.style[Fi]=Qn,Qn=void 0)}}function Er(){nt(window,"dragstart",mn)}function ro(){jt(window,"dragstart",mn)}var Ar,ac;function Tr(u){for(;u.tabIndex===-1;)u=u.parentNode;u.style&&(xi(),Ar=u,ac=u.style.outlineStyle,u.style.outlineStyle="none",nt(window,"keydown",xi))}function xi(){Ar&&(Ar.style.outlineStyle=ac,Ar=void 0,ac=void 0,jt(window,"keydown",xi))}function oo(u){do u=u.parentNode;while((!u.offsetWidth||!u.offsetHeight)&&u!==document.body);return u}function Ka(u){var p=u.getBoundingClientRect();return{x:p.width/u.offsetWidth||1,y:p.height/u.offsetHeight||1,boundingClientRect:p}}var Uo={__proto__:null,TRANSFORM:Ui,TRANSITION:no,TRANSITION_END:Ga,get:io,getStyle:so,create:ft,remove:U,empty:J,toFront:H,toBack:se,hasClass:le,addClass:Q,removeClass:ge,setClass:ke,getClass:Ne,setOpacity:Ee,testProp:Be,setTransform:Je,setPosition:qe,getPosition:dt,get disableTextSelection(){return Bt},get enableTextSelection(){return Et},disableImageDrag:Er,enableImageDrag:ro,preventOutline:Tr,restoreOutline:xi,getSizedParentNode:oo,getScale:Ka};function nt(u,p,w,T){if(p&&typeof p=="object")for(var P in p)os(u,P,p[P],w);else{p=C(p);for(var B=0,X=p.length;B<X;B++)os(u,p[B],w,T)}return this}var rs="_leaflet_events";function jt(u,p,w,T){if(arguments.length===1)qu(u),delete u[rs];else if(p&&typeof p=="object")for(var P in p)qa(u,P,p[P],w);else if(p=C(p),arguments.length===2)qu(u,function(ue){return M(p,ue)!==-1});else for(var B=0,X=p.length;B<X;B++)qa(u,p[B],w,T);return this}function qu(u,p){for(var w in u[rs]){var T=w.split(/\d/)[0];(!p||p(T))&&qa(u,T,null,null,w)}}var ao={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function os(u,p,w,T){var P=p+d(w)+(T?"_"+d(T):"");if(u[rs]&&u[rs][P])return this;var B=function(ue){return w.call(T||u,ue||window.event)},X=B;!ze.touchNative&&ze.pointer&&p.indexOf("touch")===0?B=Ku(u,p,B):ze.touch&&p==="dblclick"?B=oc(u,B):"addEventListener"in u?p==="touchstart"||p==="touchmove"||p==="wheel"||p==="mousewheel"?u.addEventListener(ao[p]||p,B,ze.passiveEvents?{passive:!1}:!1):p==="mouseenter"||p==="mouseleave"?(B=function(ue){ue=ue||window.event,Js(u,ue)&&X(ue)},u.addEventListener(ao[p],B,!1)):u.addEventListener(p,X,!1):u.attachEvent("on"+p,B),u[rs]=u[rs]||{},u[rs][P]=B}function qa(u,p,w,T,P){P=P||p+d(w)+(T?"_"+d(T):"");var B=u[rs]&&u[rs][P];if(!B)return this;!ze.touchNative&&ze.pointer&&p.indexOf("touch")===0?rc(u,p,B):ze.touch&&p==="dblclick"?Bi(u,B):"removeEventListener"in u?u.removeEventListener(ao[p]||p,B,!1):u.detachEvent("on"+p,B),u[rs][P]=null}function as(u){return u.stopPropagation?u.stopPropagation():u.originalEvent?u.originalEvent._stopped=!0:u.cancelBubble=!0,this}function Ts(u){return os(u,"wheel",as),this}function lo(u){return nt(u,"mousedown touchstart dblclick contextmenu",as),u._leaflet_disable_click=!0,this}function mn(u){return u.preventDefault?u.preventDefault():u.returnValue=!1,this}function Rr(u){return mn(u),as(u),this}function Wa(u){if(u.composedPath)return u.composedPath();for(var p=[],w=u.target;w;)p.push(w),w=w.parentNode;return p}function Ya(u,p){if(!p)return new te(u.clientX,u.clientY);var w=Ka(p),T=w.boundingClientRect;return new te((u.clientX-T.left)/w.x-p.clientLeft,(u.clientY-T.top)/w.y-p.clientTop)}var xh=ze.linux&&ze.chrome?window.devicePixelRatio:ze.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ai(u){return ze.edge?u.wheelDeltaY/2:u.deltaY&&u.deltaMode===0?-u.deltaY/xh:u.deltaY&&u.deltaMode===1?-u.deltaY*20:u.deltaY&&u.deltaMode===2?-u.deltaY*60:u.deltaX||u.deltaZ?0:u.wheelDelta?(u.wheelDeltaY||u.wheelDelta)/2:u.detail&&Math.abs(u.detail)<32765?-u.detail*20:u.detail?u.detail/-32765*60:0}function Js(u,p){var w=p.relatedTarget;if(!w)return!0;try{for(;w&&w!==u;)w=w.parentNode}catch{return!1}return w!==u}var lc={__proto__:null,on:nt,off:jt,stopPropagation:as,disableScrollPropagation:Ts,disableClickPropagation:lo,preventDefault:mn,stop:Rr,getPropagationPath:Wa,getMousePosition:Ya,getWheelDelta:ai,isExternalTarget:Js,addListener:nt,removeListener:jt},Fo=Y.extend({run:function(u,p,w,T){this.stop(),this._el=u,this._inProgress=!0,this._duration=w||.25,this._easeOutPower=1/Math.max(T||.5,.2),this._startPos=dt(u),this._offset=p.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=q(this._animate,this),this._step()},_step:function(u){var p=+new Date-this._startTime,w=this._duration*1e3;p<w?this._runFrame(this._easeOut(p/w),u):(this._runFrame(1),this._complete())},_runFrame:function(u,p){var w=this._startPos.add(this._offset.multiplyBy(u));p&&w._round(),qe(this._el,w),this.fire("step")},_complete:function(){W(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(u){return 1-Math.pow(1-u,this._easeOutPower)}}),xt=Y.extend({options:{crs:Ct,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(u,p){p=E(this,p),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(u),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),p.maxBounds&&this.setMaxBounds(p.maxBounds),p.zoom!==void 0&&(this._zoom=this._limitZoom(p.zoom)),p.center&&p.zoom!==void 0&&this.setView(we(p.center),p.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=no&&ze.any3d&&!ze.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),nt(this._proxy,Ga,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(u,p,w){if(p=p===void 0?this._zoom:this._limitZoom(p),u=this._limitCenter(we(u),p,this.options.maxBounds),w=w||{},this._stop(),this._loaded&&!w.reset&&w!==!0){w.animate!==void 0&&(w.zoom=s({animate:w.animate},w.zoom),w.pan=s({animate:w.animate,duration:w.duration},w.pan));var T=this._zoom!==p?this._tryAnimatedZoom&&this._tryAnimatedZoom(u,p,w.zoom):this._tryAnimatedPan(u,w.pan);if(T)return clearTimeout(this._sizeTimer),this}return this._resetView(u,p,w.pan&&w.pan.noMoveStart),this},setZoom:function(u,p){return this._loaded?this.setView(this.getCenter(),u,{zoom:p}):(this._zoom=u,this)},zoomIn:function(u,p){return u=u||(ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+u,p)},zoomOut:function(u,p){return u=u||(ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-u,p)},setZoomAround:function(u,p,w){var T=this.getZoomScale(p),P=this.getSize().divideBy(2),B=u instanceof te?u:this.latLngToContainerPoint(u),X=B.subtract(P).multiplyBy(1-1/T),ue=this.containerPointToLatLng(P.add(X));return this.setView(ue,p,{zoom:w})},_getBoundsCenterZoom:function(u,p){p=p||{},u=u.getBounds?u.getBounds():xe(u);var w=oe(p.paddingTopLeft||p.padding||[0,0]),T=oe(p.paddingBottomRight||p.padding||[0,0]),P=this.getBoundsZoom(u,!1,w.add(T));if(P=typeof p.maxZoom=="number"?Math.min(p.maxZoom,P):P,P===1/0)return{center:u.getCenter(),zoom:P};var B=T.subtract(w).divideBy(2),X=this.project(u.getSouthWest(),P),ue=this.project(u.getNorthEast(),P),pe=this.unproject(X.add(ue).divideBy(2).add(B),P);return{center:pe,zoom:P}},fitBounds:function(u,p){if(u=xe(u),!u.isValid())throw new Error("Bounds are not valid.");var w=this._getBoundsCenterZoom(u,p);return this.setView(w.center,w.zoom,p)},fitWorld:function(u){return this.fitBounds([[-90,-180],[90,180]],u)},panTo:function(u,p){return this.setView(u,this._zoom,{pan:p})},panBy:function(u,p){if(u=oe(u).round(),p=p||{},!u.x&&!u.y)return this.fire("moveend");if(p.animate!==!0&&!this.getSize().contains(u))return this._resetView(this.unproject(this.project(this.getCenter()).add(u)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Fo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),p.noMoveStart||this.fire("movestart"),p.animate!==!1){Q(this._mapPane,"leaflet-pan-anim");var w=this._getMapPanePos().subtract(u).round();this._panAnim.run(this._mapPane,w,p.duration||.25,p.easeLinearity)}else this._rawPanBy(u),this.fire("move").fire("moveend");return this},flyTo:function(u,p,w){if(w=w||{},w.animate===!1||!ze.any3d)return this.setView(u,p,w);this._stop();var T=this.project(this.getCenter()),P=this.project(u),B=this.getSize(),X=this._zoom;u=we(u),p=p===void 0?X:p;var ue=Math.max(B.x,B.y),pe=ue*this.getZoomScale(X,p),Ae=P.distanceTo(T)||1,Pe=1.42,Ge=Pe*Pe;function ct(cn){var ir=cn?-1:1,ho=cn?pe:ue,ld=pe*pe-ue*ue+ir*Ge*Ge*Ae*Ae,dl=2*ho*Ge*Ae,fl=ld/dl,Ir=Math.sqrt(fl*fl+1)-fl,sr=Ir<1e-9?-18:Math.log(Ir);return sr}function In(cn){return(Math.exp(cn)-Math.exp(-cn))/2}function gn(cn){return(Math.exp(cn)+Math.exp(-cn))/2}function Ni(cn){return In(cn)/gn(cn)}var Tt=ct(0);function Rt(cn){return ue*(gn(Tt)/gn(Tt+Pe*cn))}function mt(cn){return ue*(gn(Tt)*Ni(Tt+Pe*cn)-In(Tt))/Ge}function Lr(cn){return 1-Math.pow(1-cn,1.5)}var Gi=Date.now(),wc=(ct(1)-Tt)/Pe,jr=w.duration?1e3*w.duration:1e3*wc*.8;function ad(){var cn=(Date.now()-Gi)/jr,ir=Lr(cn)*wc;cn<=1?(this._flyToFrame=q(ad,this),this._move(this.unproject(T.add(P.subtract(T).multiplyBy(mt(ir)/Ae)),X),this.getScaleZoom(ue/Rt(ir),X),{flyTo:!0})):this._move(u,p)._moveEnd(!0)}return this._moveStart(!0,w.noMoveStart),ad.call(this),this},flyToBounds:function(u,p){var w=this._getBoundsCenterZoom(u,p);return this.flyTo(w.center,w.zoom,p)},setMaxBounds:function(u){return u=xe(u),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),u.isValid()?(this.options.maxBounds=u,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(u){var p=this.options.minZoom;return this.options.minZoom=u,this._loaded&&p!==u&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(u):this},setMaxZoom:function(u){var p=this.options.maxZoom;return this.options.maxZoom=u,this._loaded&&p!==u&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(u):this},panInsideBounds:function(u,p){this._enforcingBounds=!0;var w=this.getCenter(),T=this._limitCenter(w,this._zoom,xe(u));return w.equals(T)||this.panTo(T,p),this._enforcingBounds=!1,this},panInside:function(u,p){p=p||{};var w=oe(p.paddingTopLeft||p.padding||[0,0]),T=oe(p.paddingBottomRight||p.padding||[0,0]),P=this.project(this.getCenter()),B=this.project(u),X=this.getPixelBounds(),ue=ae([X.min.add(w),X.max.subtract(T)]),pe=ue.getSize();if(!ue.contains(B)){this._enforcingBounds=!0;var Ae=B.subtract(ue.getCenter()),Pe=ue.extend(B).getSize().subtract(pe);P.x+=Ae.x<0?-Pe.x:Pe.x,P.y+=Ae.y<0?-Pe.y:Pe.y,this.panTo(this.unproject(P),p),this._enforcingBounds=!1}return this},invalidateSize:function(u){if(!this._loaded)return this;u=s({animate:!1,pan:!0},u===!0?{animate:!0}:u);var p=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var w=this.getSize(),T=p.divideBy(2).round(),P=w.divideBy(2).round(),B=T.subtract(P);return!B.x&&!B.y?this:(u.animate&&u.pan?this.panBy(B):(u.pan&&this._rawPanBy(B),this.fire("move"),u.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:p,newSize:w}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(u){if(u=this._locateOptions=s({timeout:1e4,watch:!1},u),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var p=l(this._handleGeolocationResponse,this),w=l(this._handleGeolocationError,this);return u.watch?this._locationWatchId=navigator.geolocation.watchPosition(p,w,u):navigator.geolocation.getCurrentPosition(p,w,u),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(u){if(this._container._leaflet_id){var p=u.code,w=u.message||(p===1?"permission denied":p===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:p,message:"Geolocation error: "+w+"."})}},_handleGeolocationResponse:function(u){if(this._container._leaflet_id){var p=u.coords.latitude,w=u.coords.longitude,T=new Re(p,w),P=T.toBounds(u.coords.accuracy*2),B=this._locateOptions;if(B.setView){var X=this.getBoundsZoom(P);this.setView(T,B.maxZoom?Math.min(X,B.maxZoom):X)}var ue={latlng:T,bounds:P,timestamp:u.timestamp};for(var pe in u.coords)typeof u.coords[pe]=="number"&&(ue[pe]=u.coords[pe]);this.fire("locationfound",ue)}},addHandler:function(u,p){if(!p)return this;var w=this[u]=new p(this);return this._handlers.push(w),this.options[u]&&w.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),U(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(W(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var u;for(u in this._layers)this._layers[u].remove();for(u in this._panes)U(this._panes[u]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(u,p){var w="leaflet-pane"+(u?" leaflet-"+u.replace("Pane","")+"-pane":""),T=ft("div",w,p||this._mapPane);return u&&(this._panes[u]=T),T},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var u=this.getPixelBounds(),p=this.unproject(u.getBottomLeft()),w=this.unproject(u.getTopRight());return new be(p,w)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(u,p,w){u=xe(u),w=oe(w||[0,0]);var T=this.getZoom()||0,P=this.getMinZoom(),B=this.getMaxZoom(),X=u.getNorthWest(),ue=u.getSouthEast(),pe=this.getSize().subtract(w),Ae=ae(this.project(ue,T),this.project(X,T)).getSize(),Pe=ze.any3d?this.options.zoomSnap:1,Ge=pe.x/Ae.x,ct=pe.y/Ae.y,In=p?Math.max(Ge,ct):Math.min(Ge,ct);return T=this.getScaleZoom(In,T),Pe&&(T=Math.round(T/(Pe/100))*(Pe/100),T=p?Math.ceil(T/Pe)*Pe:Math.floor(T/Pe)*Pe),Math.max(P,Math.min(B,T))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new te(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(u,p){var w=this._getTopLeftPoint(u,p);return new K(w,w.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(u){return this.options.crs.getProjectedBounds(u===void 0?this.getZoom():u)},getPane:function(u){return typeof u=="string"?this._panes[u]:u},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(u,p){var w=this.options.crs;return p=p===void 0?this._zoom:p,w.scale(u)/w.scale(p)},getScaleZoom:function(u,p){var w=this.options.crs;p=p===void 0?this._zoom:p;var T=w.zoom(u*w.scale(p));return isNaN(T)?1/0:T},project:function(u,p){return p=p===void 0?this._zoom:p,this.options.crs.latLngToPoint(we(u),p)},unproject:function(u,p){return p=p===void 0?this._zoom:p,this.options.crs.pointToLatLng(oe(u),p)},layerPointToLatLng:function(u){var p=oe(u).add(this.getPixelOrigin());return this.unproject(p)},latLngToLayerPoint:function(u){var p=this.project(we(u))._round();return p._subtract(this.getPixelOrigin())},wrapLatLng:function(u){return this.options.crs.wrapLatLng(we(u))},wrapLatLngBounds:function(u){return this.options.crs.wrapLatLngBounds(xe(u))},distance:function(u,p){return this.options.crs.distance(we(u),we(p))},containerPointToLayerPoint:function(u){return oe(u).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(u){return oe(u).add(this._getMapPanePos())},containerPointToLatLng:function(u){var p=this.containerPointToLayerPoint(oe(u));return this.layerPointToLatLng(p)},latLngToContainerPoint:function(u){return this.layerPointToContainerPoint(this.latLngToLayerPoint(we(u)))},mouseEventToContainerPoint:function(u){return Ya(u,this._container)},mouseEventToLayerPoint:function(u){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(u))},mouseEventToLatLng:function(u){return this.layerPointToLatLng(this.mouseEventToLayerPoint(u))},_initContainer:function(u){var p=this._container=io(u);if(p){if(p._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");nt(p,"scroll",this._onScroll,this),this._containerId=d(p)},_initLayout:function(){var u=this._container;this._fadeAnimated=this.options.fadeAnimation&&ze.any3d,Q(u,"leaflet-container"+(ze.touch?" leaflet-touch":"")+(ze.retina?" leaflet-retina":"")+(ze.ielt9?" leaflet-oldie":"")+(ze.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var p=so(u,"position");p!=="absolute"&&p!=="relative"&&p!=="fixed"&&p!=="sticky"&&(u.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var u=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),qe(this._mapPane,new te(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Q(u.markerPane,"leaflet-zoom-hide"),Q(u.shadowPane,"leaflet-zoom-hide"))},_resetView:function(u,p,w){qe(this._mapPane,new te(0,0));var T=!this._loaded;this._loaded=!0,p=this._limitZoom(p),this.fire("viewprereset");var P=this._zoom!==p;this._moveStart(P,w)._move(u,p)._moveEnd(P),this.fire("viewreset"),T&&this.fire("load")},_moveStart:function(u,p){return u&&this.fire("zoomstart"),p||this.fire("movestart"),this},_move:function(u,p,w,T){p===void 0&&(p=this._zoom);var P=this._zoom!==p;return this._zoom=p,this._lastCenter=u,this._pixelOrigin=this._getNewPixelOrigin(u),T?w&&w.pinch&&this.fire("zoom",w):((P||w&&w.pinch)&&this.fire("zoom",w),this.fire("move",w)),this},_moveEnd:function(u){return u&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return W(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(u){qe(this._mapPane,this._getMapPanePos().subtract(u))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(u){this._targets={},this._targets[d(this._container)]=this;var p=u?jt:nt;p(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&p(window,"resize",this._onResize,this),ze.any3d&&this.options.transform3DLimit&&(u?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){W(this._resizeRequest),this._resizeRequest=q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var u=this._getMapPanePos();Math.max(Math.abs(u.x),Math.abs(u.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(u,p){for(var w=[],T,P=p==="mouseout"||p==="mouseover",B=u.target||u.srcElement,X=!1;B;){if(T=this._targets[d(B)],T&&(p==="click"||p==="preclick")&&this._draggableMoved(T)){X=!0;break}if(T&&T.listens(p,!0)&&(P&&!Js(B,u)||(w.push(T),P))||B===this._container)break;B=B.parentNode}return!w.length&&!X&&!P&&this.listens(p,!0)&&(w=[this]),w},_isClickDisabled:function(u){for(;u&&u!==this._container;){if(u._leaflet_disable_click)return!0;u=u.parentNode}},_handleDOMEvent:function(u){var p=u.target||u.srcElement;if(!(!this._loaded||p._leaflet_disable_events||u.type==="click"&&this._isClickDisabled(p))){var w=u.type;w==="mousedown"&&Tr(p),this._fireDOMEvent(u,w)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(u,p,w){if(u.type==="click"){var T=s({},u);T.type="preclick",this._fireDOMEvent(T,T.type,w)}var P=this._findEventTargets(u,p);if(w){for(var B=[],X=0;X<w.length;X++)w[X].listens(p,!0)&&B.push(w[X]);P=B.concat(P)}if(P.length){p==="contextmenu"&&mn(u);var ue=P[0],pe={originalEvent:u};if(u.type!=="keypress"&&u.type!=="keydown"&&u.type!=="keyup"){var Ae=ue.getLatLng&&(!ue._radius||ue._radius<=10);pe.containerPoint=Ae?this.latLngToContainerPoint(ue.getLatLng()):this.mouseEventToContainerPoint(u),pe.layerPoint=this.containerPointToLayerPoint(pe.containerPoint),pe.latlng=Ae?ue.getLatLng():this.layerPointToLatLng(pe.layerPoint)}for(X=0;X<P.length;X++)if(P[X].fire(p,pe,!0),pe.originalEvent._stopped||P[X].options.bubblingMouseEvents===!1&&M(this._mouseEvents,p)!==-1)return}},_draggableMoved:function(u){return u=u.dragging&&u.dragging.enabled()?u:this,u.dragging&&u.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var u=0,p=this._handlers.length;u<p;u++)this._handlers[u].disable()},whenReady:function(u,p){return this._loaded?u.call(p||this,{target:this}):this.on("load",u,p),this},_getMapPanePos:function(){return dt(this._mapPane)||new te(0,0)},_moved:function(){var u=this._getMapPanePos();return u&&!u.equals([0,0])},_getTopLeftPoint:function(u,p){var w=u&&p!==void 0?this._getNewPixelOrigin(u,p):this.getPixelOrigin();return w.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(u,p){var w=this.getSize()._divideBy(2);return this.project(u,p)._subtract(w)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(u,p,w){var T=this._getNewPixelOrigin(w,p);return this.project(u,p)._subtract(T)},_latLngBoundsToNewLayerBounds:function(u,p,w){var T=this._getNewPixelOrigin(w,p);return ae([this.project(u.getSouthWest(),p)._subtract(T),this.project(u.getNorthWest(),p)._subtract(T),this.project(u.getSouthEast(),p)._subtract(T),this.project(u.getNorthEast(),p)._subtract(T)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(u){return this.latLngToLayerPoint(u).subtract(this._getCenterLayerPoint())},_limitCenter:function(u,p,w){if(!w)return u;var T=this.project(u,p),P=this.getSize().divideBy(2),B=new K(T.subtract(P),T.add(P)),X=this._getBoundsOffset(B,w,p);return Math.abs(X.x)<=1&&Math.abs(X.y)<=1?u:this.unproject(T.add(X),p)},_limitOffset:function(u,p){if(!p)return u;var w=this.getPixelBounds(),T=new K(w.min.add(u),w.max.add(u));return u.add(this._getBoundsOffset(T,p))},_getBoundsOffset:function(u,p,w){var T=ae(this.project(p.getNorthEast(),w),this.project(p.getSouthWest(),w)),P=T.min.subtract(u.min),B=T.max.subtract(u.max),X=this._rebound(P.x,-B.x),ue=this._rebound(P.y,-B.y);return new te(X,ue)},_rebound:function(u,p){return u+p>0?Math.round(u-p)/2:Math.max(0,Math.ceil(u))-Math.max(0,Math.floor(p))},_limitZoom:function(u){var p=this.getMinZoom(),w=this.getMaxZoom(),T=ze.any3d?this.options.zoomSnap:1;return T&&(u=Math.round(u/T)*T),Math.max(p,Math.min(w,u))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ge(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(u,p){var w=this._getCenterOffset(u)._trunc();return(p&&p.animate)!==!0&&!this.getSize().contains(w)?!1:(this.panBy(w,p),!0)},_createAnimProxy:function(){var u=this._proxy=ft("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(u),this.on("zoomanim",function(p){var w=Ui,T=this._proxy.style[w];Je(this._proxy,this.project(p.center,p.zoom),this.getZoomScale(p.zoom,1)),T===this._proxy.style[w]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){U(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var u=this.getCenter(),p=this.getZoom();Je(this._proxy,this.project(u,p),this.getZoomScale(p,1))},_catchTransitionEnd:function(u){this._animatingZoom&&u.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(u,p,w){if(this._animatingZoom)return!0;if(w=w||{},!this._zoomAnimated||w.animate===!1||this._nothingToAnimate()||Math.abs(p-this._zoom)>this.options.zoomAnimationThreshold)return!1;var T=this.getZoomScale(p),P=this._getCenterOffset(u)._divideBy(1-1/T);return w.animate!==!0&&!this.getSize().contains(P)?!1:(q(function(){this._moveStart(!0,w.noMoveStart||!1)._animateZoom(u,p,!0)},this),!0)},_animateZoom:function(u,p,w,T){this._mapPane&&(w&&(this._animatingZoom=!0,this._animateToCenter=u,this._animateToZoom=p,Q(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:u,zoom:p,noUpdate:T}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ge(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Wu(u,p){return new xt(u,p)}var ki=re.extend({options:{position:"topright"},initialize:function(u){E(this,u)},getPosition:function(){return this.options.position},setPosition:function(u){var p=this._map;return p&&p.removeControl(this),this.options.position=u,p&&p.addControl(this),this},getContainer:function(){return this._container},addTo:function(u){this.remove(),this._map=u;var p=this._container=this.onAdd(u),w=this.getPosition(),T=u._controlCorners[w];return Q(p,"leaflet-control"),w.indexOf("bottom")!==-1?T.insertBefore(p,T.firstChild):T.appendChild(p),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(U(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(u){this._map&&u&&u.screenX>0&&u.screenY>0&&this._map.getContainer().focus()}}),er=function(u){return new ki(u)};xt.include({addControl:function(u){return u.addTo(this),this},removeControl:function(u){return u.remove(),this},_initControlPos:function(){var u=this._controlCorners={},p="leaflet-",w=this._controlContainer=ft("div",p+"control-container",this._container);function T(P,B){var X=p+P+" "+p+B;u[P+B]=ft("div",X,w)}T("top","left"),T("top","right"),T("bottom","left"),T("bottom","right")},_clearControlPos:function(){for(var u in this._controlCorners)U(this._controlCorners[u]);U(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Za=ki.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(u,p,w,T){return w<T?-1:T<w?1:0}},initialize:function(u,p,w){E(this,w),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var T in u)this._addLayer(u[T],T);for(T in p)this._addLayer(p[T],T,!0)},onAdd:function(u){this._initLayout(),this._update(),this._map=u,u.on("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(u){return ki.prototype.addTo.call(this,u),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(u,p){return this._addLayer(u,p),this._map?this._update():this},addOverlay:function(u,p){return this._addLayer(u,p,!0),this._map?this._update():this},removeLayer:function(u){u.off("add remove",this._onLayerChange,this);var p=this._getLayer(d(u));return p&&this._layers.splice(this._layers.indexOf(p),1),this._map?this._update():this},expand:function(){Q(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var u=this._map.getSize().y-(this._container.offsetTop+50);return u<this._section.clientHeight?(Q(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=u+"px"):ge(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ge(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var u="leaflet-control-layers",p=this._container=ft("div",u),w=this.options.collapsed;p.setAttribute("aria-haspopup",!0),lo(p),Ts(p);var T=this._section=ft("section",u+"-list");w&&(this._map.on("click",this.collapse,this),nt(p,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var P=this._layersLink=ft("a",u+"-toggle",p);P.href="#",P.title="Layers",P.setAttribute("role","button"),nt(P,{keydown:function(B){B.keyCode===13&&this._expandSafely()},click:function(B){mn(B),this._expandSafely()}},this),w||this.expand(),this._baseLayersList=ft("div",u+"-base",T),this._separator=ft("div",u+"-separator",T),this._overlaysList=ft("div",u+"-overlays",T),p.appendChild(T)},_getLayer:function(u){for(var p=0;p<this._layers.length;p++)if(this._layers[p]&&d(this._layers[p].layer)===u)return this._layers[p]},_addLayer:function(u,p,w){this._map&&u.on("add remove",this._onLayerChange,this),this._layers.push({layer:u,name:p,overlay:w}),this.options.sortLayers&&this._layers.sort(l(function(T,P){return this.options.sortFunction(T.layer,P.layer,T.name,P.name)},this)),this.options.autoZIndex&&u.setZIndex&&(this._lastZIndex++,u.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;J(this._baseLayersList),J(this._overlaysList),this._layerControlInputs=[];var u,p,w,T,P=0;for(w=0;w<this._layers.length;w++)T=this._layers[w],this._addItem(T),p=p||T.overlay,u=u||!T.overlay,P+=T.overlay?0:1;return this.options.hideSingleBase&&(u=u&&P>1,this._baseLayersList.style.display=u?"":"none"),this._separator.style.display=p&&u?"":"none",this},_onLayerChange:function(u){this._handlingClick||this._update();var p=this._getLayer(d(u.target)),w=p.overlay?u.type==="add"?"overlayadd":"overlayremove":u.type==="add"?"baselayerchange":null;w&&this._map.fire(w,p)},_createRadioElement:function(u,p){var w='<input type="radio" class="leaflet-control-layers-selector" name="'+u+'"'+(p?' checked="checked"':"")+"/>",T=document.createElement("div");return T.innerHTML=w,T.firstChild},_addItem:function(u){var p=document.createElement("label"),w=this._map.hasLayer(u.layer),T;u.overlay?(T=document.createElement("input"),T.type="checkbox",T.className="leaflet-control-layers-selector",T.defaultChecked=w):T=this._createRadioElement("leaflet-base-layers_"+d(this),w),this._layerControlInputs.push(T),T.layerId=d(u.layer),nt(T,"click",this._onInputClick,this);var P=document.createElement("span");P.innerHTML=" "+u.name;var B=document.createElement("span");p.appendChild(B),B.appendChild(T),B.appendChild(P);var X=u.overlay?this._overlaysList:this._baseLayersList;return X.appendChild(p),this._checkDisabledLayers(),p},_onInputClick:function(){if(!this._preventClick){var u=this._layerControlInputs,p,w,T=[],P=[];this._handlingClick=!0;for(var B=u.length-1;B>=0;B--)p=u[B],w=this._getLayer(p.layerId).layer,p.checked?T.push(w):p.checked||P.push(w);for(B=0;B<P.length;B++)this._map.hasLayer(P[B])&&this._map.removeLayer(P[B]);for(B=0;B<T.length;B++)this._map.hasLayer(T[B])||this._map.addLayer(T[B]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var u=this._layerControlInputs,p,w,T=this._map.getZoom(),P=u.length-1;P>=0;P--)p=u[P],w=this._getLayer(p.layerId).layer,p.disabled=w.options.minZoom!==void 0&&T<w.options.minZoom||w.options.maxZoom!==void 0&&T>w.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var u=this._section;this._preventClick=!0,nt(u,"click",mn),this.expand();var p=this;setTimeout(function(){jt(u,"click",mn),p._preventClick=!1})}}),_h=function(u,p,w){return new Za(u,p,w)},Yu=ki.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(u){var p="leaflet-control-zoom",w=ft("div",p+" leaflet-bar"),T=this.options;return this._zoomInButton=this._createButton(T.zoomInText,T.zoomInTitle,p+"-in",w,this._zoomIn),this._zoomOutButton=this._createButton(T.zoomOutText,T.zoomOutTitle,p+"-out",w,this._zoomOut),this._updateDisabled(),u.on("zoomend zoomlevelschange",this._updateDisabled,this),w},onRemove:function(u){u.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(u){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(u.shiftKey?3:1))},_zoomOut:function(u){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(u.shiftKey?3:1))},_createButton:function(u,p,w,T,P){var B=ft("a",w,T);return B.innerHTML=u,B.href="#",B.title=p,B.setAttribute("role","button"),B.setAttribute("aria-label",p),lo(B),nt(B,"click",Rr),nt(B,"click",P,this),nt(B,"click",this._refocusOnMap,this),B},_updateDisabled:function(){var u=this._map,p="leaflet-disabled";ge(this._zoomInButton,p),ge(this._zoomOutButton,p),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||u._zoom===u.getMinZoom())&&(Q(this._zoomOutButton,p),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||u._zoom===u.getMaxZoom())&&(Q(this._zoomInButton,p),this._zoomInButton.setAttribute("aria-disabled","true"))}});xt.mergeOptions({zoomControl:!0}),xt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Yu,this.addControl(this.zoomControl))});var ov=function(u){return new Yu(u)},wh=ki.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(u){var p="leaflet-control-scale",w=ft("div",p),T=this.options;return this._addScales(T,p+"-line",w),u.on(T.updateWhenIdle?"moveend":"move",this._update,this),u.whenReady(this._update,this),w},onRemove:function(u){u.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(u,p,w){u.metric&&(this._mScale=ft("div",p,w)),u.imperial&&(this._iScale=ft("div",p,w))},_update:function(){var u=this._map,p=u.getSize().y/2,w=u.distance(u.containerPointToLatLng([0,p]),u.containerPointToLatLng([this.options.maxWidth,p]));this._updateScales(w)},_updateScales:function(u){this.options.metric&&u&&this._updateMetric(u),this.options.imperial&&u&&this._updateImperial(u)},_updateMetric:function(u){var p=this._getRoundNum(u),w=p<1e3?p+" m":p/1e3+" km";this._updateScale(this._mScale,w,p/u)},_updateImperial:function(u){var p=u*3.2808399,w,T,P;p>5280?(w=p/5280,T=this._getRoundNum(w),this._updateScale(this._iScale,T+" mi",T/w)):(P=this._getRoundNum(p),this._updateScale(this._iScale,P+" ft",P/p))},_updateScale:function(u,p,w){u.style.width=Math.round(this.options.maxWidth*w)+"px",u.innerHTML=p},_getRoundNum:function(u){var p=Math.pow(10,(Math.floor(u)+"").length-1),w=u/p;return w=w>=10?10:w>=5?5:w>=3?3:w>=2?2:1,p*w}}),Zu=function(u){return new wh(u)},av='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Xu=ki.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ze.inlineSvg?av+" ":"")+"Leaflet</a>"},initialize:function(u){E(this,u),this._attributions={}},onAdd:function(u){u.attributionControl=this,this._container=ft("div","leaflet-control-attribution"),lo(this._container);for(var p in u._layers)u._layers[p].getAttribution&&this.addAttribution(u._layers[p].getAttribution());return this._update(),u.on("layeradd",this._addAttribution,this),this._container},onRemove:function(u){u.off("layeradd",this._addAttribution,this)},_addAttribution:function(u){u.layer.getAttribution&&(this.addAttribution(u.layer.getAttribution()),u.layer.once("remove",function(){this.removeAttribution(u.layer.getAttribution())},this))},setPrefix:function(u){return this.options.prefix=u,this._update(),this},addAttribution:function(u){return u?(this._attributions[u]||(this._attributions[u]=0),this._attributions[u]++,this._update(),this):this},removeAttribution:function(u){return u?(this._attributions[u]&&(this._attributions[u]--,this._update()),this):this},_update:function(){if(this._map){var u=[];for(var p in this._attributions)this._attributions[p]&&u.push(p);var w=[];this.options.prefix&&w.push(this.options.prefix),u.length&&w.push(u.join(", ")),this._container.innerHTML=w.join(' <span aria-hidden="true">|</span> ')}}});xt.mergeOptions({attributionControl:!0}),xt.addInitHook(function(){this.options.attributionControl&&new Xu().addTo(this)});var lv=function(u){return new Xu(u)};ki.Layers=Za,ki.Zoom=Yu,ki.Scale=wh,ki.Attribution=Xu,er.layers=_h,er.zoom=ov,er.scale=Zu,er.attribution=lv;var Rs=re.extend({initialize:function(u){this._map=u},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Rs.addTo=function(u,p){return u.addHandler(p,this),this};var cv={Events:G},Qu=ze.touch?"touchstart mousedown":"mousedown",kr=Y.extend({options:{clickTolerance:3},initialize:function(u,p,w,T){E(this,T),this._element=u,this._dragStartTarget=p||u,this._preventOutline=w},enable:function(){this._enabled||(nt(this._dragStartTarget,Qu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(kr._dragging===this&&this.finishDrag(!0),jt(this._dragStartTarget,Qu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(u){if(this._enabled&&(this._moved=!1,!le(this._element,"leaflet-zoom-anim"))){if(u.touches&&u.touches.length!==1){kr._dragging===this&&this.finishDrag();return}if(!(kr._dragging||u.shiftKey||u.which!==1&&u.button!==1&&!u.touches)&&(kr._dragging=this,this._preventOutline&&Tr(this._element),Er(),Bt(),!this._moving)){this.fire("down");var p=u.touches?u.touches[0]:u,w=oo(this._element);this._startPoint=new te(p.clientX,p.clientY),this._startPos=dt(this._element),this._parentScale=Ka(w);var T=u.type==="mousedown";nt(document,T?"mousemove":"touchmove",this._onMove,this),nt(document,T?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(u){if(this._enabled){if(u.touches&&u.touches.length>1){this._moved=!0;return}var p=u.touches&&u.touches.length===1?u.touches[0]:u,w=new te(p.clientX,p.clientY)._subtract(this._startPoint);!w.x&&!w.y||Math.abs(w.x)+Math.abs(w.y)<this.options.clickTolerance||(w.x/=this._parentScale.x,w.y/=this._parentScale.y,mn(u),this._moved||(this.fire("dragstart"),this._moved=!0,Q(document.body,"leaflet-dragging"),this._lastTarget=u.target||u.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Q(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(w),this._moving=!0,this._lastEvent=u,this._updatePosition())}},_updatePosition:function(){var u={originalEvent:this._lastEvent};this.fire("predrag",u),qe(this._element,this._newPos),this.fire("drag",u)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(u){ge(document.body,"leaflet-dragging"),this._lastTarget&&(ge(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),jt(document,"mousemove touchmove",this._onMove,this),jt(document,"mouseup touchend touchcancel",this._onUp,this),ro(),Et();var p=this._moved&&this._moving;this._moving=!1,kr._dragging=!1,p&&this.fire("dragend",{noInertia:u,distance:this._newPos.distanceTo(this._startPos)})}});function Sh(u,p,w){var T,P=[1,4,2,8],B,X,ue,pe,Ae,Pe,Ge,ct;for(B=0,Pe=u.length;B<Pe;B++)u[B]._code=co(u[B],p);for(ue=0;ue<4;ue++){for(Ge=P[ue],T=[],B=0,Pe=u.length,X=Pe-1;B<Pe;X=B++)pe=u[B],Ae=u[X],pe._code&Ge?Ae._code&Ge||(ct=cc(Ae,pe,Ge,p,w),ct._code=co(ct,p),T.push(ct)):(Ae._code&Ge&&(ct=cc(Ae,pe,Ge,p,w),ct._code=co(ct,p),T.push(ct)),T.push(pe));u=T}return u}function Ch(u,p){var w,T,P,B,X,ue,pe,Ae,Pe;if(!u||u.length===0)throw new Error("latlngs not passed");Vi(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Ge=we([0,0]),ct=xe(u),In=ct.getNorthWest().distanceTo(ct.getSouthWest())*ct.getNorthEast().distanceTo(ct.getNorthWest());In<1700&&(Ge=Ju(u));var gn=u.length,Ni=[];for(w=0;w<gn;w++){var Tt=we(u[w]);Ni.push(p.project(we([Tt.lat-Ge.lat,Tt.lng-Ge.lng])))}for(ue=pe=Ae=0,w=0,T=gn-1;w<gn;T=w++)P=Ni[w],B=Ni[T],X=P.y*B.x-B.y*P.x,pe+=(P.x+B.x)*X,Ae+=(P.y+B.y)*X,ue+=X*3;ue===0?Pe=Ni[0]:Pe=[pe/ue,Ae/ue];var Rt=p.unproject(oe(Pe));return we([Rt.lat+Ge.lat,Rt.lng+Ge.lng])}function Ju(u){for(var p=0,w=0,T=0,P=0;P<u.length;P++){var B=we(u[P]);p+=B.lat,w+=B.lng,T++}return we([p/T,w/T])}var ed={__proto__:null,clipPolygon:Sh,polygonCenter:Ch,centroid:Ju};function Eh(u,p){if(!p||!u.length)return u.slice();var w=p*p;return u=dv(u,w),u=Th(u,w),u}function Ah(u,p,w){return Math.sqrt(Xa(u,p,w,!0))}function uv(u,p,w){return Xa(u,p,w)}function Th(u,p){var w=u.length,T=typeof Uint8Array<"u"?Uint8Array:Array,P=new T(w);P[0]=P[w-1]=1,td(u,P,p,0,w-1);var B,X=[];for(B=0;B<w;B++)P[B]&&X.push(u[B]);return X}function td(u,p,w,T,P){var B=0,X,ue,pe;for(ue=T+1;ue<=P-1;ue++)pe=Xa(u[ue],u[T],u[P],!0),pe>B&&(X=ue,B=pe);B>w&&(p[X]=1,td(u,p,w,T,X),td(u,p,w,X,P))}function dv(u,p){for(var w=[u[0]],T=1,P=0,B=u.length;T<B;T++)fv(u[T],u[P])>p&&(w.push(u[T]),P=T);return P<B-1&&w.push(u[B-1]),w}var Rh;function kh(u,p,w,T,P){var B=T?Rh:co(u,w),X=co(p,w),ue,pe,Ae;for(Rh=X;;){if(!(B|X))return[u,p];if(B&X)return!1;ue=B||X,pe=cc(u,p,ue,w,P),Ae=co(pe,w),ue===B?(u=pe,B=Ae):(p=pe,X=Ae)}}function cc(u,p,w,T,P){var B=p.x-u.x,X=p.y-u.y,ue=T.min,pe=T.max,Ae,Pe;return w&8?(Ae=u.x+B*(pe.y-u.y)/X,Pe=pe.y):w&4?(Ae=u.x+B*(ue.y-u.y)/X,Pe=ue.y):w&2?(Ae=pe.x,Pe=u.y+X*(pe.x-u.x)/B):w&1&&(Ae=ue.x,Pe=u.y+X*(ue.x-u.x)/B),new te(Ae,Pe,P)}function co(u,p){var w=0;return u.x<p.min.x?w|=1:u.x>p.max.x&&(w|=2),u.y<p.min.y?w|=4:u.y>p.max.y&&(w|=8),w}function fv(u,p){var w=p.x-u.x,T=p.y-u.y;return w*w+T*T}function Xa(u,p,w,T){var P=p.x,B=p.y,X=w.x-P,ue=w.y-B,pe=X*X+ue*ue,Ae;return pe>0&&(Ae=((u.x-P)*X+(u.y-B)*ue)/pe,Ae>1?(P=w.x,B=w.y):Ae>0&&(P+=X*Ae,B+=ue*Ae)),X=u.x-P,ue=u.y-B,T?X*X+ue*ue:new te(P,B)}function Vi(u){return!O(u[0])||typeof u[0][0]!="object"&&typeof u[0][0]<"u"}function uc(u){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Vi(u)}function Vo(u,p){var w,T,P,B,X,ue,pe,Ae;if(!u||u.length===0)throw new Error("latlngs not passed");Vi(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Pe=we([0,0]),Ge=xe(u),ct=Ge.getNorthWest().distanceTo(Ge.getSouthWest())*Ge.getNorthEast().distanceTo(Ge.getNorthWest());ct<1700&&(Pe=Ju(u));var In=u.length,gn=[];for(w=0;w<In;w++){var Ni=we(u[w]);gn.push(p.project(we([Ni.lat-Pe.lat,Ni.lng-Pe.lng])))}for(w=0,T=0;w<In-1;w++)T+=gn[w].distanceTo(gn[w+1])/2;if(T===0)Ae=gn[0];else for(w=0,B=0;w<In-1;w++)if(X=gn[w],ue=gn[w+1],P=X.distanceTo(ue),B+=P,B>T){pe=(B-T)/P,Ae=[ue.x-pe*(ue.x-X.x),ue.y-pe*(ue.y-X.y)];break}var Tt=p.unproject(oe(Ae));return we([Tt.lat+Pe.lat,Tt.lng+Pe.lng])}var hv={__proto__:null,simplify:Eh,pointToSegmentDistance:Ah,closestPointOnSegment:uv,clipSegment:kh,_getEdgeIntersection:cc,_getBitCode:co,_sqClosestPointOnSegment:Xa,isFlat:Vi,_flat:uc,polylineCenter:Vo},dc={project:function(u){return new te(u.lng,u.lat)},unproject:function(u){return new Re(u.y,u.x)},bounds:new K([-180,-90],[180,90])},fc={R:6378137,R_MINOR:6356752314245179e-9,bounds:new K([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(u){var p=Math.PI/180,w=this.R,T=u.lat*p,P=this.R_MINOR/w,B=Math.sqrt(1-P*P),X=B*Math.sin(T),ue=Math.tan(Math.PI/4-T/2)/Math.pow((1-X)/(1+X),B/2);return T=-w*Math.log(Math.max(ue,1e-10)),new te(u.lng*p*w,T)},unproject:function(u){for(var p=180/Math.PI,w=this.R,T=this.R_MINOR/w,P=Math.sqrt(1-T*T),B=Math.exp(-u.y/w),X=Math.PI/2-2*Math.atan(B),ue=0,pe=.1,Ae;ue<15&&Math.abs(pe)>1e-7;ue++)Ae=P*Math.sin(X),Ae=Math.pow((1-Ae)/(1+Ae),P/2),pe=Math.PI/2-2*Math.atan(B*Ae)-X,X+=pe;return new Re(X*p,u.x*p/w)}},Nh={__proto__:null,LonLat:dc,Mercator:fc,SphericalMercator:De},Oh=s({},je,{code:"EPSG:3395",projection:fc,transformation:(function(){var u=.5/(Math.PI*fc.R);return Ze(u,.5,-u,.5)})()}),nd=s({},je,{code:"EPSG:4326",projection:dc,transformation:Ze(1/180,1,-1/180,.5)}),$o=s({},Se,{projection:dc,transformation:Ze(1,0,-1,0),scale:function(u){return Math.pow(2,u)},zoom:function(u){return Math.log(u)/Math.LN2},distance:function(u,p){var w=p.lng-u.lng,T=p.lat-u.lat;return Math.sqrt(w*w+T*T)},infinite:!0});Se.Earth=je,Se.EPSG3395=Oh,Se.EPSG3857=Ct,Se.EPSG900913=yt,Se.EPSG4326=nd,Se.Simple=$o;var ls=Y.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(u){return u.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(u){return u&&u.removeLayer(this),this},getPane:function(u){return this._map.getPane(u?this.options[u]||u:this.options.pane)},addInteractiveTarget:function(u){return this._map._targets[d(u)]=this,this},removeInteractiveTarget:function(u){return delete this._map._targets[d(u)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(u){var p=u.target;if(p.hasLayer(this)){if(this._map=p,this._zoomAnimated=p._zoomAnimated,this.getEvents){var w=this.getEvents();p.on(w,this),this.once("remove",function(){p.off(w,this)},this)}this.onAdd(p),this.fire("add"),p.fire("layeradd",{layer:this})}}});xt.include({addLayer:function(u){if(!u._layerAdd)throw new Error("The provided object is not a Layer.");var p=d(u);return this._layers[p]?this:(this._layers[p]=u,u._mapToAdd=this,u.beforeAdd&&u.beforeAdd(this),this.whenReady(u._layerAdd,u),this)},removeLayer:function(u){var p=d(u);return this._layers[p]?(this._loaded&&u.onRemove(this),delete this._layers[p],this._loaded&&(this.fire("layerremove",{layer:u}),u.fire("remove")),u._map=u._mapToAdd=null,this):this},hasLayer:function(u){return d(u)in this._layers},eachLayer:function(u,p){for(var w in this._layers)u.call(p,this._layers[w]);return this},_addLayers:function(u){u=u?O(u)?u:[u]:[];for(var p=0,w=u.length;p<w;p++)this.addLayer(u[p])},_addZoomLimit:function(u){(!isNaN(u.options.maxZoom)||!isNaN(u.options.minZoom))&&(this._zoomBoundLayers[d(u)]=u,this._updateZoomLevels())},_removeZoomLimit:function(u){var p=d(u);this._zoomBoundLayers[p]&&(delete this._zoomBoundLayers[p],this._updateZoomLevels())},_updateZoomLevels:function(){var u=1/0,p=-1/0,w=this._getZoomSpan();for(var T in this._zoomBoundLayers){var P=this._zoomBoundLayers[T].options;u=P.minZoom===void 0?u:Math.min(u,P.minZoom),p=P.maxZoom===void 0?p:Math.max(p,P.maxZoom)}this._layersMaxZoom=p===-1/0?void 0:p,this._layersMinZoom=u===1/0?void 0:u,w!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ho=ls.extend({initialize:function(u,p){E(this,p),this._layers={};var w,T;if(u)for(w=0,T=u.length;w<T;w++)this.addLayer(u[w])},addLayer:function(u){var p=this.getLayerId(u);return this._layers[p]=u,this._map&&this._map.addLayer(u),this},removeLayer:function(u){var p=u in this._layers?u:this.getLayerId(u);return this._map&&this._layers[p]&&this._map.removeLayer(this._layers[p]),delete this._layers[p],this},hasLayer:function(u){var p=typeof u=="number"?u:this.getLayerId(u);return p in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(u){var p=Array.prototype.slice.call(arguments,1),w,T;for(w in this._layers)T=this._layers[w],T[u]&&T[u].apply(T,p);return this},onAdd:function(u){this.eachLayer(u.addLayer,u)},onRemove:function(u){this.eachLayer(u.removeLayer,u)},eachLayer:function(u,p){for(var w in this._layers)u.call(p,this._layers[w]);return this},getLayer:function(u){return this._layers[u]},getLayers:function(){var u=[];return this.eachLayer(u.push,u),u},setZIndex:function(u){return this.invoke("setZIndex",u)},getLayerId:function(u){return d(u)}}),pv=function(u,p){return new Ho(u,p)},ks=Ho.extend({addLayer:function(u){return this.hasLayer(u)?this:(u.addEventParent(this),Ho.prototype.addLayer.call(this,u),this.fire("layeradd",{layer:u}))},removeLayer:function(u){return this.hasLayer(u)?(u in this._layers&&(u=this._layers[u]),u.removeEventParent(this),Ho.prototype.removeLayer.call(this,u),this.fire("layerremove",{layer:u})):this},setStyle:function(u){return this.invoke("setStyle",u)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var u=new be;for(var p in this._layers){var w=this._layers[p];u.extend(w.getBounds?w.getBounds():w.getLatLng())}return u}}),Ph=function(u,p){return new ks(u,p)},Ns=re.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(u){E(this,u)},createIcon:function(u){return this._createIcon("icon",u)},createShadow:function(u){return this._createIcon("shadow",u)},_createIcon:function(u,p){var w=this._getIconUrl(u);if(!w){if(u==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var T=this._createImg(w,p&&p.tagName==="IMG"?p:null);return this._setIconStyles(T,u),(this.options.crossOrigin||this.options.crossOrigin==="")&&(T.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),T},_setIconStyles:function(u,p){var w=this.options,T=w[p+"Size"];typeof T=="number"&&(T=[T,T]);var P=oe(T),B=oe(p==="shadow"&&w.shadowAnchor||w.iconAnchor||P&&P.divideBy(2,!0));u.className="leaflet-marker-"+p+" "+(w.className||""),B&&(u.style.marginLeft=-B.x+"px",u.style.marginTop=-B.y+"px"),P&&(u.style.width=P.x+"px",u.style.height=P.y+"px")},_createImg:function(u,p){return p=p||document.createElement("img"),p.src=u,p},_getIconUrl:function(u){return ze.retina&&this.options[u+"RetinaUrl"]||this.options[u+"Url"]}});function Qa(u){return new Ns(u)}var Ja=Ns.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(u){return typeof Ja.imagePath!="string"&&(Ja.imagePath=this._detectIconPath()),(this.options.imagePath||Ja.imagePath)+Ns.prototype._getIconUrl.call(this,u)},_stripUrl:function(u){var p=function(w,T,P){var B=T.exec(w);return B&&B[P]};return u=p(u,/^url\((['"])?(.+)\1\)$/,2),u&&p(u,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var u=ft("div","leaflet-default-icon-path",document.body),p=so(u,"background-image")||so(u,"backgroundImage");if(document.body.removeChild(u),p=this._stripUrl(p),p)return p;var w=document.querySelector('link[href$="leaflet.css"]');return w?w.href.substring(0,w.href.length-11-1):""}}),el=Rs.extend({initialize:function(u){this._marker=u},addHooks:function(){var u=this._marker._icon;this._draggable||(this._draggable=new kr(u,u,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Q(u,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ge(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(u){var p=this._marker,w=p._map,T=this._marker.options.autoPanSpeed,P=this._marker.options.autoPanPadding,B=dt(p._icon),X=w.getPixelBounds(),ue=w.getPixelOrigin(),pe=ae(X.min._subtract(ue).add(P),X.max._subtract(ue).subtract(P));if(!pe.contains(B)){var Ae=oe((Math.max(pe.max.x,B.x)-pe.max.x)/(X.max.x-pe.max.x)-(Math.min(pe.min.x,B.x)-pe.min.x)/(X.min.x-pe.min.x),(Math.max(pe.max.y,B.y)-pe.max.y)/(X.max.y-pe.max.y)-(Math.min(pe.min.y,B.y)-pe.min.y)/(X.min.y-pe.min.y)).multiplyBy(T);w.panBy(Ae,{animate:!1}),this._draggable._newPos._add(Ae),this._draggable._startPos._add(Ae),qe(p._icon,this._draggable._newPos),this._onDrag(u),this._panRequest=q(this._adjustPan.bind(this,u))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(u){this._marker.options.autoPan&&(W(this._panRequest),this._panRequest=q(this._adjustPan.bind(this,u)))},_onDrag:function(u){var p=this._marker,w=p._shadow,T=dt(p._icon),P=p._map.layerPointToLatLng(T);w&&qe(w,T),p._latlng=P,u.latlng=P,u.oldLatLng=this._oldLatLng,p.fire("move",u).fire("drag",u)},_onDragEnd:function(u){W(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",u)}}),tl=ls.extend({options:{icon:new Ja,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(u,p){E(this,p),this._latlng=we(u)},onAdd:function(u){this._zoomAnimated=this._zoomAnimated&&u.options.markerZoomAnimation,this._zoomAnimated&&u.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(u){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&u.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(u){var p=this._latlng;return this._latlng=we(u),this.update(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},setZIndexOffset:function(u){return this.options.zIndexOffset=u,this.update()},getIcon:function(){return this.options.icon},setIcon:function(u){return this.options.icon=u,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var u=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(u)}return this},_initIcon:function(){var u=this.options,p="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),w=u.icon.createIcon(this._icon),T=!1;w!==this._icon&&(this._icon&&this._removeIcon(),T=!0,u.title&&(w.title=u.title),w.tagName==="IMG"&&(w.alt=u.alt||"")),Q(w,p),u.keyboard&&(w.tabIndex="0",w.setAttribute("role","button")),this._icon=w,u.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&nt(w,"focus",this._panOnFocus,this);var P=u.icon.createShadow(this._shadow),B=!1;P!==this._shadow&&(this._removeShadow(),B=!0),P&&(Q(P,p),P.alt=""),this._shadow=P,u.opacity<1&&this._updateOpacity(),T&&this.getPane().appendChild(this._icon),this._initInteraction(),P&&B&&this.getPane(u.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&jt(this._icon,"focus",this._panOnFocus,this),U(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&U(this._shadow),this._shadow=null},_setPos:function(u){this._icon&&qe(this._icon,u),this._shadow&&qe(this._shadow,u),this._zIndex=u.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(u){this._icon&&(this._icon.style.zIndex=this._zIndex+u)},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center).round();this._setPos(p)},_initInteraction:function(){if(this.options.interactive&&(Q(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),el)){var u=this.options.draggable;this.dragging&&(u=this.dragging.enabled(),this.dragging.disable()),this.dragging=new el(this),u&&this.dragging.enable()}},setOpacity:function(u){return this.options.opacity=u,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var u=this.options.opacity;this._icon&&Ee(this._icon,u),this._shadow&&Ee(this._shadow,u)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var u=this._map;if(u){var p=this.options.icon.options,w=p.iconSize?oe(p.iconSize):oe(0,0),T=p.iconAnchor?oe(p.iconAnchor):oe(0,0);u.panInside(this._latlng,{paddingTopLeft:T,paddingBottomRight:w.subtract(T)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Mh(u,p){return new tl(u,p)}var Os=ls.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(u){this._renderer=u.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(u){return E(this,u),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&u&&Object.prototype.hasOwnProperty.call(u,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Go=Os.extend({options:{fill:!0,radius:10},initialize:function(u,p){E(this,p),this._latlng=we(u),this._radius=this.options.radius},setLatLng:function(u){var p=this._latlng;return this._latlng=we(u),this.redraw(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(u){return this.options.radius=this._radius=u,this.redraw()},getRadius:function(){return this._radius},setStyle:function(u){var p=u&&u.radius||this._radius;return Os.prototype.setStyle.call(this,u),this.setRadius(p),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var u=this._radius,p=this._radiusY||u,w=this._clickTolerance(),T=[u+w,p+w];this._pxBounds=new K(this._point.subtract(T),this._point.add(T))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(u){return u.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Dh(u,p){return new Go(u,p)}var hc=Go.extend({initialize:function(u,p,w){if(typeof p=="number"&&(p=s({},w,{radius:p})),E(this,p),this._latlng=we(u),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(u){return this._mRadius=u,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var u=[this._radius,this._radiusY||this._radius];return new be(this._map.layerPointToLatLng(this._point.subtract(u)),this._map.layerPointToLatLng(this._point.add(u)))},setStyle:Os.prototype.setStyle,_project:function(){var u=this._latlng.lng,p=this._latlng.lat,w=this._map,T=w.options.crs;if(T.distance===je.distance){var P=Math.PI/180,B=this._mRadius/je.R/P,X=w.project([p+B,u]),ue=w.project([p-B,u]),pe=X.add(ue).divideBy(2),Ae=w.unproject(pe).lat,Pe=Math.acos((Math.cos(B*P)-Math.sin(p*P)*Math.sin(Ae*P))/(Math.cos(p*P)*Math.cos(Ae*P)))/P;(isNaN(Pe)||Pe===0)&&(Pe=B/Math.cos(Math.PI/180*p)),this._point=pe.subtract(w.getPixelOrigin()),this._radius=isNaN(Pe)?0:pe.x-w.project([Ae,u-Pe]).x,this._radiusY=pe.y-X.y}else{var Ge=T.unproject(T.project(this._latlng).subtract([this._mRadius,0]));this._point=w.latLngToLayerPoint(this._latlng),this._radius=this._point.x-w.latLngToLayerPoint(Ge).x}this._updateBounds()}});function Lh(u,p,w){return new hc(u,p,w)}var tr=Os.extend({options:{smoothFactor:1,noClip:!1},initialize:function(u,p){E(this,p),this._setLatLngs(u)},getLatLngs:function(){return this._latlngs},setLatLngs:function(u){return this._setLatLngs(u),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(u){for(var p=1/0,w=null,T=Xa,P,B,X=0,ue=this._parts.length;X<ue;X++)for(var pe=this._parts[X],Ae=1,Pe=pe.length;Ae<Pe;Ae++){P=pe[Ae-1],B=pe[Ae];var Ge=T(u,P,B,!0);Ge<p&&(p=Ge,w=T(u,P,B))}return w&&(w.distance=Math.sqrt(p)),w},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Vo(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(u,p){return p=p||this._defaultShape(),u=we(u),p.push(u),this._bounds.extend(u),this.redraw()},_setLatLngs:function(u){this._bounds=new be,this._latlngs=this._convertLatLngs(u)},_defaultShape:function(){return Vi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(u){for(var p=[],w=Vi(u),T=0,P=u.length;T<P;T++)w?(p[T]=we(u[T]),this._bounds.extend(p[T])):p[T]=this._convertLatLngs(u[T]);return p},_project:function(){var u=new K;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,u),this._bounds.isValid()&&u.isValid()&&(this._rawPxBounds=u,this._updateBounds())},_updateBounds:function(){var u=this._clickTolerance(),p=new te(u,u);this._rawPxBounds&&(this._pxBounds=new K([this._rawPxBounds.min.subtract(p),this._rawPxBounds.max.add(p)]))},_projectLatlngs:function(u,p,w){var T=u[0]instanceof Re,P=u.length,B,X;if(T){for(X=[],B=0;B<P;B++)X[B]=this._map.latLngToLayerPoint(u[B]),w.extend(X[B]);p.push(X)}else for(B=0;B<P;B++)this._projectLatlngs(u[B],p,w)},_clipPoints:function(){var u=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}var p=this._parts,w,T,P,B,X,ue,pe;for(w=0,P=0,B=this._rings.length;w<B;w++)for(pe=this._rings[w],T=0,X=pe.length;T<X-1;T++)ue=kh(pe[T],pe[T+1],u,T,!0),ue&&(p[P]=p[P]||[],p[P].push(ue[0]),(ue[1]!==pe[T+1]||T===X-2)&&(p[P].push(ue[1]),P++))}},_simplifyPoints:function(){for(var u=this._parts,p=this.options.smoothFactor,w=0,T=u.length;w<T;w++)u[w]=Eh(u[w],p)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(u,p){var w,T,P,B,X,ue,pe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(w=0,B=this._parts.length;w<B;w++)for(ue=this._parts[w],T=0,X=ue.length,P=X-1;T<X;P=T++)if(!(!p&&T===0)&&Ah(u,ue[P],ue[T])<=pe)return!0;return!1}});function mv(u,p){return new tr(u,p)}tr._flat=uc;var Ko=tr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ch(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(u){var p=tr.prototype._convertLatLngs.call(this,u),w=p.length;return w>=2&&p[0]instanceof Re&&p[0].equals(p[w-1])&&p.pop(),p},_setLatLngs:function(u){tr.prototype._setLatLngs.call(this,u),Vi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Vi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var u=this._renderer._bounds,p=this.options.weight,w=new te(p,p);if(u=new K(u.min.subtract(w),u.max.add(w)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}for(var T=0,P=this._rings.length,B;T<P;T++)B=Sh(this._rings[T],u,!0),B.length&&this._parts.push(B)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(u){var p=!1,w,T,P,B,X,ue,pe,Ae;if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(B=0,pe=this._parts.length;B<pe;B++)for(w=this._parts[B],X=0,Ae=w.length,ue=Ae-1;X<Ae;ue=X++)T=w[X],P=w[ue],T.y>u.y!=P.y>u.y&&u.x<(P.x-T.x)*(u.y-T.y)/(P.y-T.y)+T.x&&(p=!p);return p||tr.prototype._containsPoint.call(this,u,!0)}});function gv(u,p){return new Ko(u,p)}var nr=ks.extend({initialize:function(u,p){E(this,p),this._layers={},u&&this.addData(u)},addData:function(u){var p=O(u)?u:u.features,w,T,P;if(p){for(w=0,T=p.length;w<T;w++)P=p[w],(P.geometries||P.geometry||P.features||P.coordinates)&&this.addData(P);return this}var B=this.options;if(B.filter&&!B.filter(u))return this;var X=Jn(u,B);return X?(X.feature=gc(u),X.defaultOptions=X.options,this.resetStyle(X),B.onEachFeature&&B.onEachFeature(u,X),this.addLayer(X)):this},resetStyle:function(u){return u===void 0?this.eachLayer(this.resetStyle,this):(u.options=s({},u.defaultOptions),this._setLayerStyle(u,this.options.style),this)},setStyle:function(u){return this.eachLayer(function(p){this._setLayerStyle(p,u)},this)},_setLayerStyle:function(u,p){u.setStyle&&(typeof p=="function"&&(p=p(u.feature)),u.setStyle(p))}});function Jn(u,p){var w=u.type==="Feature"?u.geometry:u,T=w?w.coordinates:null,P=[],B=p&&p.pointToLayer,X=p&&p.coordsToLatLng||pc,ue,pe,Ae,Pe;if(!T&&!w)return null;switch(w.type){case"Point":return ue=X(T),qo(B,u,ue,p);case"MultiPoint":for(Ae=0,Pe=T.length;Ae<Pe;Ae++)ue=X(T[Ae]),P.push(qo(B,u,ue,p));return new ks(P);case"LineString":case"MultiLineString":return pe=nl(T,w.type==="LineString"?0:1,X),new tr(pe,p);case"Polygon":case"MultiPolygon":return pe=nl(T,w.type==="Polygon"?1:2,X),new Ko(pe,p);case"GeometryCollection":for(Ae=0,Pe=w.geometries.length;Ae<Pe;Ae++){var Ge=Jn({geometry:w.geometries[Ae],type:"Feature",properties:u.properties},p);Ge&&P.push(Ge)}return new ks(P);case"FeatureCollection":for(Ae=0,Pe=w.features.length;Ae<Pe;Ae++){var ct=Jn(w.features[Ae],p);ct&&P.push(ct)}return new ks(P);default:throw new Error("Invalid GeoJSON object.")}}function qo(u,p,w,T){return u?u(p,w):new tl(w,T&&T.markersInheritOptions&&T)}function pc(u){return new Re(u[1],u[0],u[2])}function nl(u,p,w){for(var T=[],P=0,B=u.length,X;P<B;P++)X=p?nl(u[P],p-1,w):(w||pc)(u[P]),T.push(X);return T}function mc(u,p){return u=we(u),u.alt!==void 0?[b(u.lng,p),b(u.lat,p),b(u.alt,p)]:[b(u.lng,p),b(u.lat,p)]}function il(u,p,w,T){for(var P=[],B=0,X=u.length;B<X;B++)P.push(p?il(u[B],Vi(u[B])?0:p-1,w,T):mc(u[B],T));return!p&&w&&P.length>0&&P.push(P[0].slice()),P}function Nr(u,p){return u.feature?s({},u.feature,{geometry:p}):gc(p)}function gc(u){return u.type==="Feature"||u.type==="FeatureCollection"?u:{type:"Feature",properties:{},geometry:u}}var Or={toGeoJSON:function(u){return Nr(this,{type:"Point",coordinates:mc(this.getLatLng(),u)})}};tl.include(Or),hc.include(Or),Go.include(Or),tr.include({toGeoJSON:function(u){var p=!Vi(this._latlngs),w=il(this._latlngs,p?1:0,!1,u);return Nr(this,{type:(p?"Multi":"")+"LineString",coordinates:w})}}),Ko.include({toGeoJSON:function(u){var p=!Vi(this._latlngs),w=p&&!Vi(this._latlngs[0]),T=il(this._latlngs,w?2:p?1:0,!0,u);return p||(T=[T]),Nr(this,{type:(w?"Multi":"")+"Polygon",coordinates:T})}}),Ho.include({toMultiPoint:function(u){var p=[];return this.eachLayer(function(w){p.push(w.toGeoJSON(u).geometry.coordinates)}),Nr(this,{type:"MultiPoint",coordinates:p})},toGeoJSON:function(u){var p=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(p==="MultiPoint")return this.toMultiPoint(u);var w=p==="GeometryCollection",T=[];return this.eachLayer(function(P){if(P.toGeoJSON){var B=P.toGeoJSON(u);if(w)T.push(B.geometry);else{var X=gc(B);X.type==="FeatureCollection"?T.push.apply(T,X.features):T.push(X)}}}),w?Nr(this,{geometries:T,type:"GeometryCollection"}):{type:"FeatureCollection",features:T}}});function vc(u,p){return new nr(u,p)}var sl=vc,Wo=ls.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(u,p,w){this._url=u,this._bounds=xe(p),E(this,w)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Q(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){U(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(u){return this.options.opacity=u,this._image&&this._updateOpacity(),this},setStyle:function(u){return u.opacity&&this.setOpacity(u.opacity),this},bringToFront:function(){return this._map&&H(this._image),this},bringToBack:function(){return this._map&&se(this._image),this},setUrl:function(u){return this._url=u,this._image&&(this._image.src=u),this},setBounds:function(u){return this._bounds=xe(u),this._map&&this._reset(),this},getEvents:function(){var u={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var u=this._url.tagName==="IMG",p=this._image=u?this._url:ft("img");if(Q(p,"leaflet-image-layer"),this._zoomAnimated&&Q(p,"leaflet-zoom-animated"),this.options.className&&Q(p,this.options.className),p.onselectstart=v,p.onmousemove=v,p.onload=l(this.fire,this,"load"),p.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),u){this._url=p.src;return}p.src=this._url,p.alt=this.options.alt},_animateZoom:function(u){var p=this._map.getZoomScale(u.zoom),w=this._map._latLngBoundsToNewLayerBounds(this._bounds,u.zoom,u.center).min;Je(this._image,w,p)},_reset:function(){var u=this._image,p=new K(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),w=p.getSize();qe(u,p.min),u.style.width=w.x+"px",u.style.height=w.y+"px"},_updateOpacity:function(){Ee(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var u=this.options.errorOverlayUrl;u&&this._url!==u&&(this._url=u,this._image.src=u)},getCenter:function(){return this._bounds.getCenter()}}),jh=function(u,p,w){return new Wo(u,p,w)},Pr=Wo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var u=this._url.tagName==="VIDEO",p=this._image=u?this._url:ft("video");if(Q(p,"leaflet-image-layer"),this._zoomAnimated&&Q(p,"leaflet-zoom-animated"),this.options.className&&Q(p,this.options.className),p.onselectstart=v,p.onmousemove=v,p.onloadeddata=l(this.fire,this,"load"),u){for(var w=p.getElementsByTagName("source"),T=[],P=0;P<w.length;P++)T.push(w[P].src);this._url=w.length>0?T:[p.src];return}O(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(p.style,"objectFit")&&(p.style.objectFit="fill"),p.autoplay=!!this.options.autoplay,p.loop=!!this.options.loop,p.muted=!!this.options.muted,p.playsInline=!!this.options.playsInline;for(var B=0;B<this._url.length;B++){var X=ft("source");X.src=this._url[B],p.appendChild(X)}}});function Yo(u,p,w){return new Pr(u,p,w)}var yc=Wo.extend({_initImage:function(){var u=this._image=this._url;Q(u,"leaflet-image-layer"),this._zoomAnimated&&Q(u,"leaflet-zoom-animated"),this.options.className&&Q(u,this.options.className),u.onselectstart=v,u.onmousemove=v}});function Ih(u,p,w){return new yc(u,p,w)}var ei=ls.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(u,p){u&&(u instanceof Re||O(u))?(this._latlng=we(u),E(this,p)):(E(this,u),this._source=p),this.options.content&&(this._content=this.options.content)},openOn:function(u){return u=arguments.length?u:this._source._map,u.hasLayer(this)||u.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(u){return this._map?this.close():(arguments.length?this._source=u:u=this._source,this._prepareOpen(),this.openOn(u._map)),this},onAdd:function(u){this._zoomAnimated=u._zoomAnimated,this._container||this._initLayout(),u._fadeAnimated&&Ee(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),u._fadeAnimated&&Ee(this._container,1),this.bringToFront(),this.options.interactive&&(Q(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(u){u._fadeAnimated?(Ee(this._container,0),this._removeTimeout=setTimeout(l(U,void 0,this._container),200)):U(this._container),this.options.interactive&&(ge(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(u){return this._latlng=we(u),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(u){return this._content=u,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var u={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&H(this._container),this},bringToBack:function(){return this._map&&se(this._container),this},_prepareOpen:function(u){var p=this._source;if(!p._map)return!1;if(p instanceof ks){p=null;var w=this._source._layers;for(var T in w)if(w[T]._map){p=w[T];break}if(!p)return!1;this._source=p}if(!u)if(p.getCenter)u=p.getCenter();else if(p.getLatLng)u=p.getLatLng();else if(p.getBounds)u=p.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(u),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var u=this._contentNode,p=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof p=="string")u.innerHTML=p;else{for(;u.hasChildNodes();)u.removeChild(u.firstChild);u.appendChild(p)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var u=this._map.latLngToLayerPoint(this._latlng),p=oe(this.options.offset),w=this._getAnchor();this._zoomAnimated?qe(this._container,u.add(w)):p=p.add(u).add(w);var T=this._containerBottom=-p.y,P=this._containerLeft=-Math.round(this._containerWidth/2)+p.x;this._container.style.bottom=T+"px",this._container.style.left=P+"px"}},_getAnchor:function(){return[0,0]}});xt.include({_initOverlay:function(u,p,w,T){var P=p;return P instanceof u||(P=new u(T).setContent(p)),w&&P.setLatLng(w),P}}),ls.include({_initOverlay:function(u,p,w,T){var P=w;return P instanceof u?(E(P,T),P._source=this):(P=p&&!T?p:new u(T,this),P.setContent(w)),P}});var rl=ei.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(u){return u=arguments.length?u:this._source._map,!u.hasLayer(this)&&u._popup&&u._popup.options.autoClose&&u.removeLayer(u._popup),u._popup=this,ei.prototype.openOn.call(this,u)},onAdd:function(u){ei.prototype.onAdd.call(this,u),u.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Os||this._source.on("preclick",as))},onRemove:function(u){ei.prototype.onRemove.call(this,u),u.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Os||this._source.off("preclick",as))},getEvents:function(){var u=ei.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(u.preclick=this.close),this.options.keepInView&&(u.moveend=this._adjustPan),u},_initLayout:function(){var u="leaflet-popup",p=this._container=ft("div",u+" "+(this.options.className||"")+" leaflet-zoom-animated"),w=this._wrapper=ft("div",u+"-content-wrapper",p);if(this._contentNode=ft("div",u+"-content",w),lo(p),Ts(this._contentNode),nt(p,"contextmenu",as),this._tipContainer=ft("div",u+"-tip-container",p),this._tip=ft("div",u+"-tip",this._tipContainer),this.options.closeButton){var T=this._closeButton=ft("a",u+"-close-button",p);T.setAttribute("role","button"),T.setAttribute("aria-label","Close popup"),T.href="#close",T.innerHTML='<span aria-hidden="true">&#215;</span>',nt(T,"click",function(P){mn(P),this.close()},this)}},_updateLayout:function(){var u=this._contentNode,p=u.style;p.width="",p.whiteSpace="nowrap";var w=u.offsetWidth;w=Math.min(w,this.options.maxWidth),w=Math.max(w,this.options.minWidth),p.width=w+1+"px",p.whiteSpace="",p.height="";var T=u.offsetHeight,P=this.options.maxHeight,B="leaflet-popup-scrolled";P&&T>P?(p.height=P+"px",Q(u,B)):ge(u,B),this._containerWidth=this._container.offsetWidth},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center),w=this._getAnchor();qe(this._container,p.add(w))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var u=this._map,p=parseInt(so(this._container,"marginBottom"),10)||0,w=this._container.offsetHeight+p,T=this._containerWidth,P=new te(this._containerLeft,-w-this._containerBottom);P._add(dt(this._container));var B=u.layerPointToContainerPoint(P),X=oe(this.options.autoPanPadding),ue=oe(this.options.autoPanPaddingTopLeft||X),pe=oe(this.options.autoPanPaddingBottomRight||X),Ae=u.getSize(),Pe=0,Ge=0;B.x+T+pe.x>Ae.x&&(Pe=B.x+T-Ae.x+pe.x),B.x-Pe-ue.x<0&&(Pe=B.x-ue.x),B.y+w+pe.y>Ae.y&&(Ge=B.y+w-Ae.y+pe.y),B.y-Ge-ue.y<0&&(Ge=B.y-ue.y),(Pe||Ge)&&(this.options.keepInView&&(this._autopanning=!0),u.fire("autopanstart").panBy([Pe,Ge]))}},_getAnchor:function(){return oe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),zh=function(u,p){return new rl(u,p)};xt.mergeOptions({closePopupOnClick:!0}),xt.include({openPopup:function(u,p,w){return this._initOverlay(rl,u,p,w).openOn(this),this},closePopup:function(u){return u=arguments.length?u:this._popup,u&&u.close(),this}}),ls.include({bindPopup:function(u,p){return this._popup=this._initOverlay(rl,this._popup,u,p),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(u){return this._popup&&(this instanceof ks||(this._popup._source=this),this._popup._prepareOpen(u||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(u){return this._popup&&this._popup.setContent(u),this},getPopup:function(){return this._popup},_openPopup:function(u){if(!(!this._popup||!this._map)){Rr(u);var p=u.layer||u.target;if(this._popup._source===p&&!(p instanceof Os)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(u.latlng);return}this._popup._source=p,this.openPopup(u.latlng)}},_movePopup:function(u){this._popup.setLatLng(u.latlng)},_onKeyPress:function(u){u.originalEvent.keyCode===13&&this._openPopup(u)}});var ol=ei.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(u){ei.prototype.onAdd.call(this,u),this.setOpacity(this.options.opacity),u.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(u){ei.prototype.onRemove.call(this,u),u.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var u=ei.prototype.getEvents.call(this);return this.options.permanent||(u.preclick=this.close),u},_initLayout:function(){var u="leaflet-tooltip",p=u+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ft("div",p),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(u){var p,w,T=this._map,P=this._container,B=T.latLngToContainerPoint(T.getCenter()),X=T.layerPointToContainerPoint(u),ue=this.options.direction,pe=P.offsetWidth,Ae=P.offsetHeight,Pe=oe(this.options.offset),Ge=this._getAnchor();ue==="top"?(p=pe/2,w=Ae):ue==="bottom"?(p=pe/2,w=0):ue==="center"?(p=pe/2,w=Ae/2):ue==="right"?(p=0,w=Ae/2):ue==="left"?(p=pe,w=Ae/2):X.x<B.x?(ue="right",p=0,w=Ae/2):(ue="left",p=pe+(Pe.x+Ge.x)*2,w=Ae/2),u=u.subtract(oe(p,w,!0)).add(Pe).add(Ge),ge(P,"leaflet-tooltip-right"),ge(P,"leaflet-tooltip-left"),ge(P,"leaflet-tooltip-top"),ge(P,"leaflet-tooltip-bottom"),Q(P,"leaflet-tooltip-"+ue),qe(P,u)},_updatePosition:function(){var u=this._map.latLngToLayerPoint(this._latlng);this._setPosition(u)},setOpacity:function(u){this.options.opacity=u,this._container&&Ee(this._container,u)},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center);this._setPosition(p)},_getAnchor:function(){return oe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),vv=function(u,p){return new ol(u,p)};xt.include({openTooltip:function(u,p,w){return this._initOverlay(ol,u,p,w).openOn(this),this},closeTooltip:function(u){return u.close(),this}}),ls.include({bindTooltip:function(u,p){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ol,this._tooltip,u,p),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(u){if(!(!u&&this._tooltipHandlersAdded)){var p=u?"off":"on",w={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?w.add=this._openTooltip:(w.mouseover=this._openTooltip,w.mouseout=this.closeTooltip,w.click=this._openTooltip,this._map?this._addFocusListeners():w.add=this._addFocusListeners),this._tooltip.options.sticky&&(w.mousemove=this._moveTooltip),this[p](w),this._tooltipHandlersAdded=!u}},openTooltip:function(u){return this._tooltip&&(this instanceof ks||(this._tooltip._source=this),this._tooltip._prepareOpen(u)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(u){return this._tooltip&&this._tooltip.setContent(u),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(u){var p=typeof u.getElement=="function"&&u.getElement();p&&(nt(p,"focus",function(){this._tooltip._source=u,this.openTooltip()},this),nt(p,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(u){var p=typeof u.getElement=="function"&&u.getElement();p&&p.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(u){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var p=this;this._map.once("moveend",function(){p._openOnceFlag=!1,p._openTooltip(u)});return}this._tooltip._source=u.layer||u.target,this.openTooltip(this._tooltip.options.sticky?u.latlng:void 0)}},_moveTooltip:function(u){var p=u.latlng,w,T;this._tooltip.options.sticky&&u.originalEvent&&(w=this._map.mouseEventToContainerPoint(u.originalEvent),T=this._map.containerPointToLayerPoint(w),p=this._map.layerPointToLatLng(T)),this._tooltip.setLatLng(p)}});var Bh=Ns.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(u){var p=u&&u.tagName==="DIV"?u:document.createElement("div"),w=this.options;if(w.html instanceof Element?(J(p),p.appendChild(w.html)):p.innerHTML=w.html!==!1?w.html:"",w.bgPos){var T=oe(w.bgPos);p.style.backgroundPosition=-T.x+"px "+-T.y+"px"}return this._setIconStyles(p,"icon"),p},createShadow:function(){return null}});function yv(u){return new Bh(u)}Ns.Default=Ja;var Zo=ls.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ze.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(u){E(this,u)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(u){u._addZoomLimit(this)},onRemove:function(u){this._removeAllTiles(),U(this._container),u._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(H(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(se(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(u){return this.options.opacity=u,this._updateOpacity(),this},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var u=this._clampZoom(this._map.getZoom());u!==this._tileZoom&&(this._tileZoom=u,this._updateLevels()),this._update()}return this},getEvents:function(){var u={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),u.move=this._onMove),this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},createTile:function(){return document.createElement("div")},getTileSize:function(){var u=this.options.tileSize;return u instanceof te?u:new te(u,u)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(u){for(var p=this.getPane().children,w=-u(-1/0,1/0),T=0,P=p.length,B;T<P;T++)B=p[T].style.zIndex,p[T]!==this._container&&B&&(w=u(w,+B));isFinite(w)&&(this.options.zIndex=w+u(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ze.ielt9){Ee(this._container,this.options.opacity);var u=+new Date,p=!1,w=!1;for(var T in this._tiles){var P=this._tiles[T];if(!(!P.current||!P.loaded)){var B=Math.min(1,(u-P.loaded)/200);Ee(P.el,B),B<1?p=!0:(P.active?w=!0:this._onOpaqueTile(P),P.active=!0)}}w&&!this._noPrune&&this._pruneTiles(),p&&(W(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=ft("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var u=this._tileZoom,p=this.options.maxZoom;if(u!==void 0){for(var w in this._levels)w=Number(w),this._levels[w].el.children.length||w===u?(this._levels[w].el.style.zIndex=p-Math.abs(u-w),this._onUpdateLevel(w)):(U(this._levels[w].el),this._removeTilesAtZoom(w),this._onRemoveLevel(w),delete this._levels[w]);var T=this._levels[u],P=this._map;return T||(T=this._levels[u]={},T.el=ft("div","leaflet-tile-container leaflet-zoom-animated",this._container),T.el.style.zIndex=p,T.origin=P.project(P.unproject(P.getPixelOrigin()),u).round(),T.zoom=u,this._setZoomTransform(T,P.getCenter(),P.getZoom()),v(T.el.offsetWidth),this._onCreateLevel(T)),this._level=T,T}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var u,p,w=this._map.getZoom();if(w>this.options.maxZoom||w<this.options.minZoom){this._removeAllTiles();return}for(u in this._tiles)p=this._tiles[u],p.retain=p.current;for(u in this._tiles)if(p=this._tiles[u],p.current&&!p.active){var T=p.coords;this._retainParent(T.x,T.y,T.z,T.z-5)||this._retainChildren(T.x,T.y,T.z,T.z+2)}for(u in this._tiles)this._tiles[u].retain||this._removeTile(u)}},_removeTilesAtZoom:function(u){for(var p in this._tiles)this._tiles[p].coords.z===u&&this._removeTile(p)},_removeAllTiles:function(){for(var u in this._tiles)this._removeTile(u)},_invalidateAll:function(){for(var u in this._levels)U(this._levels[u].el),this._onRemoveLevel(Number(u)),delete this._levels[u];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(u,p,w,T){var P=Math.floor(u/2),B=Math.floor(p/2),X=w-1,ue=new te(+P,+B);ue.z=+X;var pe=this._tileCoordsToKey(ue),Ae=this._tiles[pe];return Ae&&Ae.active?(Ae.retain=!0,!0):(Ae&&Ae.loaded&&(Ae.retain=!0),X>T?this._retainParent(P,B,X,T):!1)},_retainChildren:function(u,p,w,T){for(var P=2*u;P<2*u+2;P++)for(var B=2*p;B<2*p+2;B++){var X=new te(P,B);X.z=w+1;var ue=this._tileCoordsToKey(X),pe=this._tiles[ue];if(pe&&pe.active){pe.retain=!0;continue}else pe&&pe.loaded&&(pe.retain=!0);w+1<T&&this._retainChildren(P,B,w+1,T)}},_resetView:function(u){var p=u&&(u.pinch||u.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),p,p)},_animateZoom:function(u){this._setView(u.center,u.zoom,!0,u.noUpdate)},_clampZoom:function(u){var p=this.options;return p.minNativeZoom!==void 0&&u<p.minNativeZoom?p.minNativeZoom:p.maxNativeZoom!==void 0&&p.maxNativeZoom<u?p.maxNativeZoom:u},_setView:function(u,p,w,T){var P=Math.round(p);this.options.maxZoom!==void 0&&P>this.options.maxZoom||this.options.minZoom!==void 0&&P<this.options.minZoom?P=void 0:P=this._clampZoom(P);var B=this.options.updateWhenZooming&&P!==this._tileZoom;(!T||B)&&(this._tileZoom=P,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),P!==void 0&&this._update(u),w||this._pruneTiles(),this._noPrune=!!w),this._setZoomTransforms(u,p)},_setZoomTransforms:function(u,p){for(var w in this._levels)this._setZoomTransform(this._levels[w],u,p)},_setZoomTransform:function(u,p,w){var T=this._map.getZoomScale(w,u.zoom),P=u.origin.multiplyBy(T).subtract(this._map._getNewPixelOrigin(p,w)).round();ze.any3d?Je(u.el,P,T):qe(u.el,P)},_resetGrid:function(){var u=this._map,p=u.options.crs,w=this._tileSize=this.getTileSize(),T=this._tileZoom,P=this._map.getPixelWorldBounds(this._tileZoom);P&&(this._globalTileRange=this._pxBoundsToTileRange(P)),this._wrapX=p.wrapLng&&!this.options.noWrap&&[Math.floor(u.project([0,p.wrapLng[0]],T).x/w.x),Math.ceil(u.project([0,p.wrapLng[1]],T).x/w.y)],this._wrapY=p.wrapLat&&!this.options.noWrap&&[Math.floor(u.project([p.wrapLat[0],0],T).y/w.x),Math.ceil(u.project([p.wrapLat[1],0],T).y/w.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(u){var p=this._map,w=p._animatingZoom?Math.max(p._animateToZoom,p.getZoom()):p.getZoom(),T=p.getZoomScale(w,this._tileZoom),P=p.project(u,this._tileZoom).floor(),B=p.getSize().divideBy(T*2);return new K(P.subtract(B),P.add(B))},_update:function(u){var p=this._map;if(p){var w=this._clampZoom(p.getZoom());if(u===void 0&&(u=p.getCenter()),this._tileZoom!==void 0){var T=this._getTiledPixelBounds(u),P=this._pxBoundsToTileRange(T),B=P.getCenter(),X=[],ue=this.options.keepBuffer,pe=new K(P.getBottomLeft().subtract([ue,-ue]),P.getTopRight().add([ue,-ue]));if(!(isFinite(P.min.x)&&isFinite(P.min.y)&&isFinite(P.max.x)&&isFinite(P.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ae in this._tiles){var Pe=this._tiles[Ae].coords;(Pe.z!==this._tileZoom||!pe.contains(new te(Pe.x,Pe.y)))&&(this._tiles[Ae].current=!1)}if(Math.abs(w-this._tileZoom)>1){this._setView(u,w);return}for(var Ge=P.min.y;Ge<=P.max.y;Ge++)for(var ct=P.min.x;ct<=P.max.x;ct++){var In=new te(ct,Ge);if(In.z=this._tileZoom,!!this._isValidTile(In)){var gn=this._tiles[this._tileCoordsToKey(In)];gn?gn.current=!0:X.push(In)}}if(X.sort(function(Tt,Rt){return Tt.distanceTo(B)-Rt.distanceTo(B)}),X.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ni=document.createDocumentFragment();for(ct=0;ct<X.length;ct++)this._addTile(X[ct],Ni);this._level.el.appendChild(Ni)}}}},_isValidTile:function(u){var p=this._map.options.crs;if(!p.infinite){var w=this._globalTileRange;if(!p.wrapLng&&(u.x<w.min.x||u.x>w.max.x)||!p.wrapLat&&(u.y<w.min.y||u.y>w.max.y))return!1}if(!this.options.bounds)return!0;var T=this._tileCoordsToBounds(u);return xe(this.options.bounds).overlaps(T)},_keyToBounds:function(u){return this._tileCoordsToBounds(this._keyToTileCoords(u))},_tileCoordsToNwSe:function(u){var p=this._map,w=this.getTileSize(),T=u.scaleBy(w),P=T.add(w),B=p.unproject(T,u.z),X=p.unproject(P,u.z);return[B,X]},_tileCoordsToBounds:function(u){var p=this._tileCoordsToNwSe(u),w=new be(p[0],p[1]);return this.options.noWrap||(w=this._map.wrapLatLngBounds(w)),w},_tileCoordsToKey:function(u){return u.x+":"+u.y+":"+u.z},_keyToTileCoords:function(u){var p=u.split(":"),w=new te(+p[0],+p[1]);return w.z=+p[2],w},_removeTile:function(u){var p=this._tiles[u];p&&(U(p.el),delete this._tiles[u],this.fire("tileunload",{tile:p.el,coords:this._keyToTileCoords(u)}))},_initTile:function(u){Q(u,"leaflet-tile");var p=this.getTileSize();u.style.width=p.x+"px",u.style.height=p.y+"px",u.onselectstart=v,u.onmousemove=v,ze.ielt9&&this.options.opacity<1&&Ee(u,this.options.opacity)},_addTile:function(u,p){var w=this._getTilePos(u),T=this._tileCoordsToKey(u),P=this.createTile(this._wrapCoords(u),l(this._tileReady,this,u));this._initTile(P),this.createTile.length<2&&q(l(this._tileReady,this,u,null,P)),qe(P,w),this._tiles[T]={el:P,coords:u,current:!0},p.appendChild(P),this.fire("tileloadstart",{tile:P,coords:u})},_tileReady:function(u,p,w){p&&this.fire("tileerror",{error:p,tile:w,coords:u});var T=this._tileCoordsToKey(u);w=this._tiles[T],w&&(w.loaded=+new Date,this._map._fadeAnimated?(Ee(w.el,0),W(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this)):(w.active=!0,this._pruneTiles()),p||(Q(w.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:w.el,coords:u})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ze.ielt9||!this._map._fadeAnimated?q(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(u){return u.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(u){var p=new te(this._wrapX?g(u.x,this._wrapX):u.x,this._wrapY?g(u.y,this._wrapY):u.y);return p.z=u.z,p},_pxBoundsToTileRange:function(u){var p=this.getTileSize();return new K(u.min.unscaleBy(p).floor(),u.max.unscaleBy(p).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var u in this._tiles)if(!this._tiles[u].loaded)return!1;return!0}});function Uh(u){return new Zo(u)}var Mr=Zo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(u,p){this._url=u,p=E(this,p),p.detectRetina&&ze.retina&&p.maxZoom>0?(p.tileSize=Math.floor(p.tileSize/2),p.zoomReverse?(p.zoomOffset--,p.minZoom=Math.min(p.maxZoom,p.minZoom+1)):(p.zoomOffset++,p.maxZoom=Math.max(p.minZoom,p.maxZoom-1)),p.minZoom=Math.max(0,p.minZoom)):p.zoomReverse?p.minZoom=Math.min(p.maxZoom,p.minZoom):p.maxZoom=Math.max(p.minZoom,p.maxZoom),typeof p.subdomains=="string"&&(p.subdomains=p.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(u,p){return this._url===u&&p===void 0&&(p=!0),this._url=u,p||this.redraw(),this},createTile:function(u,p){var w=document.createElement("img");return nt(w,"load",l(this._tileOnLoad,this,p,w)),nt(w,"error",l(this._tileOnError,this,p,w)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(w.referrerPolicy=this.options.referrerPolicy),w.alt="",w.src=this.getTileUrl(u),w},getTileUrl:function(u){var p={r:ze.retina?"@2x":"",s:this._getSubdomain(u),x:u.x,y:u.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var w=this._globalTileRange.max.y-u.y;this.options.tms&&(p.y=w),p["-y"]=w}return k(this._url,s(p,this.options))},_tileOnLoad:function(u,p){ze.ielt9?setTimeout(l(u,this,null,p),0):u(null,p)},_tileOnError:function(u,p,w){var T=this.options.errorTileUrl;T&&p.getAttribute("src")!==T&&(p.src=T),u(w,p)},_onTileRemove:function(u){u.tile.onload=null},_getZoomForUrl:function(){var u=this._tileZoom,p=this.options.maxZoom,w=this.options.zoomReverse,T=this.options.zoomOffset;return w&&(u=p-u),u+T},_getSubdomain:function(u){var p=Math.abs(u.x+u.y)%this.options.subdomains.length;return this.options.subdomains[p]},_abortLoading:function(){var u,p;for(u in this._tiles)if(this._tiles[u].coords.z!==this._tileZoom&&(p=this._tiles[u].el,p.onload=v,p.onerror=v,!p.complete)){p.src=D;var w=this._tiles[u].coords;U(p),delete this._tiles[u],this.fire("tileabort",{tile:p,coords:w})}},_removeTile:function(u){var p=this._tiles[u];if(p)return p.el.setAttribute("src",D),Zo.prototype._removeTile.call(this,u)},_tileReady:function(u,p,w){if(!(!this._map||w&&w.getAttribute("src")===D))return Zo.prototype._tileReady.call(this,u,p,w)}});function $i(u,p){return new Mr(u,p)}var al=Mr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(u,p){this._url=u;var w=s({},this.defaultWmsParams);for(var T in p)T in this.options||(w[T]=p[T]);p=E(this,p);var P=p.detectRetina&&ze.retina?2:1,B=this.getTileSize();w.width=B.x*P,w.height=B.y*P,this.wmsParams=w},onAdd:function(u){this._crs=this.options.crs||u.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var p=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[p]=this._crs.code,Mr.prototype.onAdd.call(this,u)},getTileUrl:function(u){var p=this._tileCoordsToNwSe(u),w=this._crs,T=ae(w.project(p[0]),w.project(p[1])),P=T.min,B=T.max,X=(this._wmsVersion>=1.3&&this._crs===nd?[P.y,P.x,B.y,B.x]:[P.x,P.y,B.x,B.y]).join(","),ue=Mr.prototype.getTileUrl.call(this,u);return ue+R(this.wmsParams,ue,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+X},setParams:function(u,p){return s(this.wmsParams,u),p||this.redraw(),this}});function Hi(u,p){return new al(u,p)}Mr.WMS=al,$i.wms=Hi;var _i=ls.extend({options:{padding:.1},initialize:function(u){E(this,u),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Q(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var u={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(u.zoomanim=this._onAnimZoom),u},_onAnimZoom:function(u){this._updateTransform(u.center,u.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(u,p){var w=this._map.getZoomScale(p,this._zoom),T=this._map.getSize().multiplyBy(.5+this.options.padding),P=this._map.project(this._center,p),B=T.multiplyBy(-w).add(P).subtract(this._map._getNewPixelOrigin(u,p));ze.any3d?Je(this._container,B,w):qe(this._container,B)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var u in this._layers)this._layers[u]._reset()},_onZoomEnd:function(){for(var u in this._layers)this._layers[u]._project()},_updatePaths:function(){for(var u in this._layers)this._layers[u]._update()},_update:function(){var u=this.options.padding,p=this._map.getSize(),w=this._map.containerPointToLayerPoint(p.multiplyBy(-u)).round();this._bounds=new K(w,w.add(p.multiplyBy(1+u*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),bc=_i.extend({options:{tolerance:0},getEvents:function(){var u=_i.prototype.getEvents.call(this);return u.viewprereset=this._onViewPreReset,u},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){_i.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var u=this._container=document.createElement("canvas");nt(u,"mousemove",this._onMouseMove,this),nt(u,"click dblclick mousedown mouseup contextmenu",this._onClick,this),nt(u,"mouseout",this._handleMouseOut,this),u._leaflet_disable_events=!0,this._ctx=u.getContext("2d")},_destroyContainer:function(){W(this._redrawRequest),delete this._ctx,U(this._container),jt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var u;this._redrawBounds=null;for(var p in this._layers)u=this._layers[p],u._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_i.prototype._update.call(this);var u=this._bounds,p=this._container,w=u.getSize(),T=ze.retina?2:1;qe(p,u.min),p.width=T*w.x,p.height=T*w.y,p.style.width=w.x+"px",p.style.height=w.y+"px",ze.retina&&this._ctx.scale(2,2),this._ctx.translate(-u.min.x,-u.min.y),this.fire("update")}},_reset:function(){_i.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(u){this._updateDashArray(u),this._layers[d(u)]=u;var p=u._order={layer:u,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=p),this._drawLast=p,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(u){this._requestRedraw(u)},_removePath:function(u){var p=u._order,w=p.next,T=p.prev;w?w.prev=T:this._drawLast=T,T?T.next=w:this._drawFirst=w,delete u._order,delete this._layers[d(u)],this._requestRedraw(u)},_updatePath:function(u){this._extendRedrawBounds(u),u._project(),u._update(),this._requestRedraw(u)},_updateStyle:function(u){this._updateDashArray(u),this._requestRedraw(u)},_updateDashArray:function(u){if(typeof u.options.dashArray=="string"){var p=u.options.dashArray.split(/[, ]+/),w=[],T,P;for(P=0;P<p.length;P++){if(T=Number(p[P]),isNaN(T))return;w.push(T)}u.options._dashArray=w}else u.options._dashArray=u.options.dashArray},_requestRedraw:function(u){this._map&&(this._extendRedrawBounds(u),this._redrawRequest=this._redrawRequest||q(this._redraw,this))},_extendRedrawBounds:function(u){if(u._pxBounds){var p=(u.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new K,this._redrawBounds.extend(u._pxBounds.min.subtract([p,p])),this._redrawBounds.extend(u._pxBounds.max.add([p,p]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var u=this._redrawBounds;if(u){var p=u.getSize();this._ctx.clearRect(u.min.x,u.min.y,p.x,p.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var u,p=this._redrawBounds;if(this._ctx.save(),p){var w=p.getSize();this._ctx.beginPath(),this._ctx.rect(p.min.x,p.min.y,w.x,w.y),this._ctx.clip()}this._drawing=!0;for(var T=this._drawFirst;T;T=T.next)u=T.layer,(!p||u._pxBounds&&u._pxBounds.intersects(p))&&u._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(u,p){if(this._drawing){var w,T,P,B,X=u._parts,ue=X.length,pe=this._ctx;if(ue){for(pe.beginPath(),w=0;w<ue;w++){for(T=0,P=X[w].length;T<P;T++)B=X[w][T],pe[T?"lineTo":"moveTo"](B.x,B.y);p&&pe.closePath()}this._fillStroke(pe,u)}}},_updateCircle:function(u){if(!(!this._drawing||u._empty())){var p=u._point,w=this._ctx,T=Math.max(Math.round(u._radius),1),P=(Math.max(Math.round(u._radiusY),1)||T)/T;P!==1&&(w.save(),w.scale(1,P)),w.beginPath(),w.arc(p.x,p.y/P,T,0,Math.PI*2,!1),P!==1&&w.restore(),this._fillStroke(w,u)}},_fillStroke:function(u,p){var w=p.options;w.fill&&(u.globalAlpha=w.fillOpacity,u.fillStyle=w.fillColor||w.color,u.fill(w.fillRule||"evenodd")),w.stroke&&w.weight!==0&&(u.setLineDash&&u.setLineDash(p.options&&p.options._dashArray||[]),u.globalAlpha=w.opacity,u.lineWidth=w.weight,u.strokeStyle=w.color,u.lineCap=w.lineCap,u.lineJoin=w.lineJoin,u.stroke())},_onClick:function(u){for(var p=this._map.mouseEventToLayerPoint(u),w,T,P=this._drawFirst;P;P=P.next)w=P.layer,w.options.interactive&&w._containsPoint(p)&&(!(u.type==="click"||u.type==="preclick")||!this._map._draggableMoved(w))&&(T=w);this._fireEvent(T?[T]:!1,u)},_onMouseMove:function(u){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var p=this._map.mouseEventToLayerPoint(u);this._handleMouseHover(u,p)}},_handleMouseOut:function(u){var p=this._hoveredLayer;p&&(ge(this._container,"leaflet-interactive"),this._fireEvent([p],u,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(u,p){if(!this._mouseHoverThrottled){for(var w,T,P=this._drawFirst;P;P=P.next)w=P.layer,w.options.interactive&&w._containsPoint(p)&&(T=w);T!==this._hoveredLayer&&(this._handleMouseOut(u),T&&(Q(this._container,"leaflet-interactive"),this._fireEvent([T],u,"mouseover"),this._hoveredLayer=T)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,u),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(u,p,w){this._map._fireDOMEvent(p,w||p.type,u)},_bringToFront:function(u){var p=u._order;if(p){var w=p.next,T=p.prev;if(w)w.prev=T;else return;T?T.next=w:w&&(this._drawFirst=w),p.prev=this._drawLast,this._drawLast.next=p,p.next=null,this._drawLast=p,this._requestRedraw(u)}},_bringToBack:function(u){var p=u._order;if(p){var w=p.next,T=p.prev;if(T)T.next=w;else return;w?w.prev=T:T&&(this._drawLast=T),p.prev=null,p.next=this._drawFirst,this._drawFirst.prev=p,this._drawFirst=p,this._requestRedraw(u)}}});function ll(u){return ze.canvas?new bc(u):null}var Dr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(u){return document.createElement("<lvml:"+u+' class="lvml">')}}catch{}return function(u){return document.createElement("<"+u+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),id={_initContainer:function(){this._container=ft("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(_i.prototype._update.call(this),this.fire("update"))},_initPath:function(u){var p=u._container=Dr("shape");Q(p,"leaflet-vml-shape "+(this.options.className||"")),p.coordsize="1 1",u._path=Dr("path"),p.appendChild(u._path),this._updateStyle(u),this._layers[d(u)]=u},_addPath:function(u){var p=u._container;this._container.appendChild(p),u.options.interactive&&u.addInteractiveTarget(p)},_removePath:function(u){var p=u._container;U(p),u.removeInteractiveTarget(p),delete this._layers[d(u)]},_updateStyle:function(u){var p=u._stroke,w=u._fill,T=u.options,P=u._container;P.stroked=!!T.stroke,P.filled=!!T.fill,T.stroke?(p||(p=u._stroke=Dr("stroke")),P.appendChild(p),p.weight=T.weight+"px",p.color=T.color,p.opacity=T.opacity,T.dashArray?p.dashStyle=O(T.dashArray)?T.dashArray.join(" "):T.dashArray.replace(/( *, *)/g," "):p.dashStyle="",p.endcap=T.lineCap.replace("butt","flat"),p.joinstyle=T.lineJoin):p&&(P.removeChild(p),u._stroke=null),T.fill?(w||(w=u._fill=Dr("fill")),P.appendChild(w),w.color=T.fillColor||T.color,w.opacity=T.fillOpacity):w&&(P.removeChild(w),u._fill=null)},_updateCircle:function(u){var p=u._point.round(),w=Math.round(u._radius),T=Math.round(u._radiusY||w);this._setPath(u,u._empty()?"M0 0":"AL "+p.x+","+p.y+" "+w+","+T+" 0,"+65535*360)},_setPath:function(u,p){u._path.v=p},_bringToFront:function(u){H(u._container)},_bringToBack:function(u){se(u._container)}},Ps=ze.vml?Dr:It,Xo=_i.extend({_initContainer:function(){this._container=Ps("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ps("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){U(this._container),jt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_i.prototype._update.call(this);var u=this._bounds,p=u.getSize(),w=this._container;(!this._svgSize||!this._svgSize.equals(p))&&(this._svgSize=p,w.setAttribute("width",p.x),w.setAttribute("height",p.y)),qe(w,u.min),w.setAttribute("viewBox",[u.min.x,u.min.y,p.x,p.y].join(" ")),this.fire("update")}},_initPath:function(u){var p=u._path=Ps("path");u.options.className&&Q(p,u.options.className),u.options.interactive&&Q(p,"leaflet-interactive"),this._updateStyle(u),this._layers[d(u)]=u},_addPath:function(u){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(u._path),u.addInteractiveTarget(u._path)},_removePath:function(u){U(u._path),u.removeInteractiveTarget(u._path),delete this._layers[d(u)]},_updatePath:function(u){u._project(),u._update()},_updateStyle:function(u){var p=u._path,w=u.options;p&&(w.stroke?(p.setAttribute("stroke",w.color),p.setAttribute("stroke-opacity",w.opacity),p.setAttribute("stroke-width",w.weight),p.setAttribute("stroke-linecap",w.lineCap),p.setAttribute("stroke-linejoin",w.lineJoin),w.dashArray?p.setAttribute("stroke-dasharray",w.dashArray):p.removeAttribute("stroke-dasharray"),w.dashOffset?p.setAttribute("stroke-dashoffset",w.dashOffset):p.removeAttribute("stroke-dashoffset")):p.setAttribute("stroke","none"),w.fill?(p.setAttribute("fill",w.fillColor||w.color),p.setAttribute("fill-opacity",w.fillOpacity),p.setAttribute("fill-rule",w.fillRule||"evenodd")):p.setAttribute("fill","none"))},_updatePoly:function(u,p){this._setPath(u,dn(u._parts,p))},_updateCircle:function(u){var p=u._point,w=Math.max(Math.round(u._radius),1),T=Math.max(Math.round(u._radiusY),1)||w,P="a"+w+","+T+" 0 1,0 ",B=u._empty()?"M0 0":"M"+(p.x-w)+","+p.y+P+w*2+",0 "+P+-w*2+",0 ";this._setPath(u,B)},_setPath:function(u,p){u._path.setAttribute("d",p)},_bringToFront:function(u){H(u._path)},_bringToBack:function(u){se(u._path)}});ze.vml&&Xo.include(id);function cl(u){return ze.svg||ze.vml?new Xo(u):null}xt.include({getRenderer:function(u){var p=u.options.renderer||this._getPaneRenderer(u.options.pane)||this.options.renderer||this._renderer;return p||(p=this._renderer=this._createRenderer()),this.hasLayer(p)||this.addLayer(p),p},_getPaneRenderer:function(u){if(u==="overlayPane"||u===void 0)return!1;var p=this._paneRenderers[u];return p===void 0&&(p=this._createRenderer({pane:u}),this._paneRenderers[u]=p),p},_createRenderer:function(u){return this.options.preferCanvas&&ll(u)||cl(u)}});var uo=Ko.extend({initialize:function(u,p){Ko.prototype.initialize.call(this,this._boundsToLatLngs(u),p)},setBounds:function(u){return this.setLatLngs(this._boundsToLatLngs(u))},_boundsToLatLngs:function(u){return u=xe(u),[u.getSouthWest(),u.getNorthWest(),u.getNorthEast(),u.getSouthEast()]}});function bv(u,p){return new uo(u,p)}Xo.create=Ps,Xo.pointsToPath=dn,nr.geometryToLayer=Jn,nr.coordsToLatLng=pc,nr.coordsToLatLngs=nl,nr.latLngToCoords=mc,nr.latLngsToCoords=il,nr.getFeature=Nr,nr.asFeature=gc,xt.mergeOptions({boxZoom:!0});var wi=Rs.extend({initialize:function(u){this._map=u,this._container=u._container,this._pane=u._panes.overlayPane,this._resetStateTimeout=0,u.on("unload",this._destroy,this)},addHooks:function(){nt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){jt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){U(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(u){if(!u.shiftKey||u.which!==1&&u.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Bt(),Er(),this._startPoint=this._map.mouseEventToContainerPoint(u),nt(document,{contextmenu:Rr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(u){this._moved||(this._moved=!0,this._box=ft("div","leaflet-zoom-box",this._container),Q(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(u);var p=new K(this._point,this._startPoint),w=p.getSize();qe(this._box,p.min),this._box.style.width=w.x+"px",this._box.style.height=w.y+"px"},_finish:function(){this._moved&&(U(this._box),ge(this._container,"leaflet-crosshair")),Et(),ro(),jt(document,{contextmenu:Rr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(u){if(!(u.which!==1&&u.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var p=new be(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(p).fire("boxzoomend",{boxZoomBounds:p})}},_onKeyDown:function(u){u.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});xt.addInitHook("addHandler","boxZoom",wi),xt.mergeOptions({doubleClickZoom:!0});var xc=Rs.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(u){var p=this._map,w=p.getZoom(),T=p.options.zoomDelta,P=u.originalEvent.shiftKey?w-T:w+T;p.options.doubleClickZoom==="center"?p.setZoom(P):p.setZoomAround(u.containerPoint,P)}});xt.addInitHook("addHandler","doubleClickZoom",xc),xt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ms=Rs.extend({addHooks:function(){if(!this._draggable){var u=this._map;this._draggable=new kr(u._mapPane,u._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),u.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),u.on("zoomend",this._onZoomEnd,this),u.whenReady(this._onZoomEnd,this))}Q(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ge(this._map._container,"leaflet-grab"),ge(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var u=this._map;if(u._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var p=xe(this._map.options.maxBounds);this._offsetLimit=ae(this._map.latLngToContainerPoint(p.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(p.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;u.fire("movestart").fire("dragstart"),u.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(u){if(this._map.options.inertia){var p=this._lastTime=+new Date,w=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(w),this._times.push(p),this._prunePositions(p)}this._map.fire("move",u).fire("drag",u)},_prunePositions:function(u){for(;this._positions.length>1&&u-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var u=this._map.getSize().divideBy(2),p=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=p.subtract(u).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(u,p){return u-(u-p)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var u=this._draggable._newPos.subtract(this._draggable._startPos),p=this._offsetLimit;u.x<p.min.x&&(u.x=this._viscousLimit(u.x,p.min.x)),u.y<p.min.y&&(u.y=this._viscousLimit(u.y,p.min.y)),u.x>p.max.x&&(u.x=this._viscousLimit(u.x,p.max.x)),u.y>p.max.y&&(u.y=this._viscousLimit(u.y,p.max.y)),this._draggable._newPos=this._draggable._startPos.add(u)}},_onPreDragWrap:function(){var u=this._worldWidth,p=Math.round(u/2),w=this._initialWorldOffset,T=this._draggable._newPos.x,P=(T-p+w)%u+p-w,B=(T+p+w)%u-p-w,X=Math.abs(P+w)<Math.abs(B+w)?P:B;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=X},_onDragEnd:function(u){var p=this._map,w=p.options,T=!w.inertia||u.noInertia||this._times.length<2;if(p.fire("dragend",u),T)p.fire("moveend");else{this._prunePositions(+new Date);var P=this._lastPos.subtract(this._positions[0]),B=(this._lastTime-this._times[0])/1e3,X=w.easeLinearity,ue=P.multiplyBy(X/B),pe=ue.distanceTo([0,0]),Ae=Math.min(w.inertiaMaxSpeed,pe),Pe=ue.multiplyBy(Ae/pe),Ge=Ae/(w.inertiaDeceleration*X),ct=Pe.multiplyBy(-Ge/2).round();!ct.x&&!ct.y?p.fire("moveend"):(ct=p._limitOffset(ct,p.options.maxBounds),q(function(){p.panBy(ct,{duration:Ge,easeLinearity:X,noMoveStart:!0,animate:!0})}))}}});xt.addInitHook("addHandler","dragging",Ms),xt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var sd=Rs.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(u){this._map=u,this._setPanDelta(u.options.keyboardPanDelta),this._setZoomDelta(u.options.zoomDelta)},addHooks:function(){var u=this._map._container;u.tabIndex<=0&&(u.tabIndex="0"),nt(u,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),jt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var u=document.body,p=document.documentElement,w=u.scrollTop||p.scrollTop,T=u.scrollLeft||p.scrollLeft;this._map._container.focus(),window.scrollTo(T,w)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(u){var p=this._panKeys={},w=this.keyCodes,T,P;for(T=0,P=w.left.length;T<P;T++)p[w.left[T]]=[-1*u,0];for(T=0,P=w.right.length;T<P;T++)p[w.right[T]]=[u,0];for(T=0,P=w.down.length;T<P;T++)p[w.down[T]]=[0,u];for(T=0,P=w.up.length;T<P;T++)p[w.up[T]]=[0,-1*u]},_setZoomDelta:function(u){var p=this._zoomKeys={},w=this.keyCodes,T,P;for(T=0,P=w.zoomIn.length;T<P;T++)p[w.zoomIn[T]]=u;for(T=0,P=w.zoomOut.length;T<P;T++)p[w.zoomOut[T]]=-u},_addHooks:function(){nt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){jt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(u){if(!(u.altKey||u.ctrlKey||u.metaKey)){var p=u.keyCode,w=this._map,T;if(p in this._panKeys){if(!w._panAnim||!w._panAnim._inProgress)if(T=this._panKeys[p],u.shiftKey&&(T=oe(T).multiplyBy(3)),w.options.maxBounds&&(T=w._limitOffset(oe(T),w.options.maxBounds)),w.options.worldCopyJump){var P=w.wrapLatLng(w.unproject(w.project(w.getCenter()).add(T)));w.panTo(P)}else w.panBy(T)}else if(p in this._zoomKeys)w.setZoom(w.getZoom()+(u.shiftKey?3:1)*this._zoomKeys[p]);else if(p===27&&w._popup&&w._popup.options.closeOnEscapeKey)w.closePopup();else return;Rr(u)}}});xt.addInitHook("addHandler","keyboard",sd),xt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ul=Rs.extend({addHooks:function(){nt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){jt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(u){var p=ai(u),w=this._map.options.wheelDebounceTime;this._delta+=p,this._lastMousePos=this._map.mouseEventToContainerPoint(u),this._startTime||(this._startTime=+new Date);var T=Math.max(w-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),T),Rr(u)},_performZoom:function(){var u=this._map,p=u.getZoom(),w=this._map.options.zoomSnap||0;u._stop();var T=this._delta/(this._map.options.wheelPxPerZoomLevel*4),P=4*Math.log(2/(1+Math.exp(-Math.abs(T))))/Math.LN2,B=w?Math.ceil(P/w)*w:P,X=u._limitZoom(p+(this._delta>0?B:-B))-p;this._delta=0,this._startTime=null,X&&(u.options.scrollWheelZoom==="center"?u.setZoom(p+X):u.setZoomAround(this._lastMousePos,p+X))}});xt.addInitHook("addHandler","scrollWheelZoom",ul);var fo=600;xt.mergeOptions({tapHold:ze.touchNative&&ze.safari&&ze.mobile,tapTolerance:15});var _c=Rs.extend({addHooks:function(){nt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){jt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(u){if(clearTimeout(this._holdTimeout),u.touches.length===1){var p=u.touches[0];this._startPos=this._newPos=new te(p.clientX,p.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(nt(document,"touchend",mn),nt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",p))},this),fo),nt(document,"touchend touchcancel contextmenu",this._cancel,this),nt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function u(){jt(document,"touchend",mn),jt(document,"touchend touchcancel",u)},_cancel:function(){clearTimeout(this._holdTimeout),jt(document,"touchend touchcancel contextmenu",this._cancel,this),jt(document,"touchmove",this._onMove,this)},_onMove:function(u){var p=u.touches[0];this._newPos=new te(p.clientX,p.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(u,p){var w=new MouseEvent(u,{bubbles:!0,cancelable:!0,view:window,screenX:p.screenX,screenY:p.screenY,clientX:p.clientX,clientY:p.clientY});w._simulated=!0,p.target.dispatchEvent(w)}});xt.addInitHook("addHandler","tapHold",_c),xt.mergeOptions({touchZoom:ze.touch,bounceAtZoomLimits:!0});var rd=Rs.extend({addHooks:function(){Q(this._map._container,"leaflet-touch-zoom"),nt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ge(this._map._container,"leaflet-touch-zoom"),jt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(u){var p=this._map;if(!(!u.touches||u.touches.length!==2||p._animatingZoom||this._zooming)){var w=p.mouseEventToContainerPoint(u.touches[0]),T=p.mouseEventToContainerPoint(u.touches[1]);this._centerPoint=p.getSize()._divideBy(2),this._startLatLng=p.containerPointToLatLng(this._centerPoint),p.options.touchZoom!=="center"&&(this._pinchStartLatLng=p.containerPointToLatLng(w.add(T)._divideBy(2))),this._startDist=w.distanceTo(T),this._startZoom=p.getZoom(),this._moved=!1,this._zooming=!0,p._stop(),nt(document,"touchmove",this._onTouchMove,this),nt(document,"touchend touchcancel",this._onTouchEnd,this),mn(u)}},_onTouchMove:function(u){if(!(!u.touches||u.touches.length!==2||!this._zooming)){var p=this._map,w=p.mouseEventToContainerPoint(u.touches[0]),T=p.mouseEventToContainerPoint(u.touches[1]),P=w.distanceTo(T)/this._startDist;if(this._zoom=p.getScaleZoom(P,this._startZoom),!p.options.bounceAtZoomLimits&&(this._zoom<p.getMinZoom()&&P<1||this._zoom>p.getMaxZoom()&&P>1)&&(this._zoom=p._limitZoom(this._zoom)),p.options.touchZoom==="center"){if(this._center=this._startLatLng,P===1)return}else{var B=w._add(T)._divideBy(2)._subtract(this._centerPoint);if(P===1&&B.x===0&&B.y===0)return;this._center=p.unproject(p.project(this._pinchStartLatLng,this._zoom).subtract(B),this._zoom)}this._moved||(p._moveStart(!0,!1),this._moved=!0),W(this._animRequest);var X=l(p._move,p,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=q(X,this,!0),mn(u)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,W(this._animRequest),jt(document,"touchmove",this._onTouchMove,this),jt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});xt.addInitHook("addHandler","touchZoom",rd),xt.BoxZoom=wi,xt.DoubleClickZoom=xc,xt.Drag=Ms,xt.Keyboard=sd,xt.ScrollWheelZoom=ul,xt.TapHold=_c,xt.TouchZoom=rd,n.Bounds=K,n.Browser=ze,n.CRS=Se,n.Canvas=bc,n.Circle=hc,n.CircleMarker=Go,n.Class=re,n.Control=ki,n.DivIcon=Bh,n.DivOverlay=ei,n.DomEvent=lc,n.DomUtil=Uo,n.Draggable=kr,n.Evented=Y,n.FeatureGroup=ks,n.GeoJSON=nr,n.GridLayer=Zo,n.Handler=Rs,n.Icon=Ns,n.ImageOverlay=Wo,n.LatLng=Re,n.LatLngBounds=be,n.Layer=ls,n.LayerGroup=Ho,n.LineUtil=hv,n.Map=xt,n.Marker=tl,n.Mixin=cv,n.Path=Os,n.Point=te,n.PolyUtil=ed,n.Polygon=Ko,n.Polyline=tr,n.Popup=rl,n.PosAnimation=Fo,n.Projection=Nh,n.Rectangle=uo,n.Renderer=_i,n.SVG=Xo,n.SVGOverlay=yc,n.TileLayer=Mr,n.Tooltip=ol,n.Transformation=Ye,n.Util=ne,n.VideoOverlay=Pr,n.bind=l,n.bounds=ae,n.canvas=ll,n.circle=Lh,n.circleMarker=Dh,n.control=er,n.divIcon=yv,n.extend=s,n.featureGroup=Ph,n.geoJSON=vc,n.geoJson=sl,n.gridLayer=Uh,n.icon=Qa,n.imageOverlay=jh,n.latLng=we,n.latLngBounds=xe,n.layerGroup=pv,n.map=Wu,n.marker=Mh,n.point=oe,n.polygon=gv,n.polyline=mv,n.popup=zh,n.rectangle=bv,n.setOptions=E,n.stamp=d,n.svg=cl,n.svgOverlay=Ih,n.tileLayer=$i,n.tooltip=vv,n.transformation=Ze,n.version=i,n.videoOverlay=Yo;var od=window.L;n.noConflict=function(){return window.L=od,this},window.L=n}))})(tf,tf.exports)),tf.exports}var Kg=wte();function kw(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Nw(e,t){return t==null?function(i,s){const o=x.useRef(void 0);return o.current||(o.current=e(i,s)),o}:function(i,s){const o=x.useRef(void 0);o.current||(o.current=e(i,s));const l=x.useRef(i),{instance:c}=o.current;return x.useEffect(function(){l.current!==i&&(t(c,i,l.current),l.current=i)},[c,i,t]),o}}function Ste(e,t){x.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function aj(e){return function(n){const i=Tw(),s=e(Rw(n,i),i);return rj(i.map,n.attribution),oj(s.current,n.eventHandlers),Ste(s.current,i),s}}function Cte(e,t){const n=Nw(e,t),i=aj(n);return vte(i)}function Ete(e,t){const n=Nw(e),i=xte(n,t);return yte(i)}function Ate(e,t){const n=Nw(e,t),i=aj(n);return bte(i)}function Tte(e,t,n){const{opacity:i,zIndex:s}=t;i!=null&&i!==n.opacity&&e.setOpacity(i),s!=null&&s!==n.zIndex&&e.setZIndex(s)}function Rte(){return Tw().map}function kte({bounds:e,boundsOptions:t,center:n,children:i,className:s,id:o,placeholder:l,style:c,whenReady:d,zoom:h,...g},v){const[b]=x.useState({className:s,id:o,style:c}),[_,C]=x.useState(null),E=x.useRef(void 0);x.useImperativeHandle(v,()=>_?.map??null,[_]);const R=x.useCallback(k=>{if(k!==null&&!E.current){const O=new Kg.Map(k,g);E.current=O,n!=null&&h!=null?O.setView(n,h):e!=null&&O.fitBounds(e,t),d!=null&&O.whenReady(d),C(mte(O))}},[]);x.useEffect(()=>()=>{_?.map.remove()},[_]);const N=_?Ot.createElement(Aw,{value:_},i):l??null;return Ot.createElement("div",{...b,ref:R},N)}const Nte=x.forwardRef(kte),Ote=Cte(function({position:t,...n},i){const s=new Kg.Marker(t,n);return kw(s,gte(i,{overlayContainer:s}))},function(t,n,i){n.position!==i.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),Pte=Ete(function(t,n){const i=new Kg.Popup(t,n.overlayContainer);return kw(i,n)},function(t,n,{position:i},s){x.useEffect(function(){const{instance:l}=t;function c(h){h.popup===l&&(l.update(),s(!0))}function d(h){h.popup===l&&s(!1)}return n.map.on({popupopen:c,popupclose:d}),n.overlayContainer==null?(i!=null&&l.setLatLng(i),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){n.map.off({popupopen:c,popupclose:d}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(l)}},[t,n,s,i])}),Mte=Ate(function({url:t,...n},i){const s=new Kg.TileLayer(t,Rw(n,i));return kw(s,i)},function(t,n,i){Tte(t,n,i);const{url:s}=n;s!=null&&s!==i.url&&t.setUrl(s)}),Dte=({bounds:e})=>{const t=Rte();return x.useEffect(()=>{e.length>=2?t.fitBounds(e,{padding:[30,30]}):e.length===1&&t.setView(e[0],6)},[e,t]),null},Lte=e=>wr({queryKey:["occurrences",e],queryFn:async()=>{const n=(await iZ(e)).results.filter(i=>i.decimalLatitude&&i.decimalLongitude).map(i=>({decimalLatitude:i.decimalLatitude,decimalLongitude:i.decimalLongitude,eventDate:i.eventDate,locality:i.locality,country:i.country,recordedBy:i.recordedBy,references:i.references}));return{hasResults:n.length>0,occurrences:n}},staleTime:1e3*60*15}),jte=x.memo(({specieKey:e})=>{const{t}=Mt(),{data:n,isFetching:i}=Lte(e),s=n?.occurrences??[],o=n?.hasResults;return i?y.jsx(nh,{className:"m-auto size-4 animate-spin"}):!i&&!o?null:y.jsxs("div",{className:"flex w-full flex-col gap-1 pb-4",children:[y.jsxs(Nte,{center:[s[0].decimalLatitude,s[0].decimalLongitude],zoom:4,style:{height:"250px",width:"100%",borderRadius:"12px",border:"none"},children:[y.jsx(Mte,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),y.jsx(Dte,{bounds:s.map(l=>[l.decimalLatitude,l.decimalLongitude])}),s.map((l,c)=>y.jsx(Ote,{position:[l.decimalLatitude,l.decimalLongitude],children:y.jsx(Pte,{children:y.jsxs("div",{className:"text-sm",children:[y.jsxs("p",{children:[y.jsxs("strong",{children:[t("occurrenceMap.locality"),":"]})," ",l.locality??t("occurrenceMap.notInformed")]}),y.jsxs("p",{children:[y.jsxs("strong",{children:[t("occurrenceMap.country"),":"]})," ",l.country??t("occurrenceMap.notInformed")]}),y.jsxs("p",{children:[y.jsxs("strong",{children:[t("occurrenceMap.date"),": "]}),l.eventDate?new Date(l.eventDate).toLocaleDateString():t("occurrenceMap.noDate")]}),y.jsxs("p",{className:"wrap-break-word",children:[y.jsxs("strong",{children:[t("occurrenceMap.recordedBy"),":"]})," ",l.recordedBy??t("occurrenceMap.unknown")]}),l.references&&y.jsx("p",{className:"mt-2",children:y.jsx("a",{href:l.references,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:t("occurrenceMap.viewReference")})})]})})},c))]},`map-${e}`),y.jsxs("div",{className:"bg-card text-muted-foreground rounded-xl p-2 text-xs",children:[t("occurrenceMap.dataProvidedBy"),y.jsx("a",{href:"https://www.gbif.org",target:"_blank",rel:"noopener noreferrer",className:"ml-1 text-blue-600 underline",children:"GBIF.org"}),t("occurrenceMap.dataNote")]})]})}),Fu=({embedded:e=!1,backLabel:t})=>{const{t:n}=Mt(),{isTablet:i}=ec(),s=Ii(),o=Le(Da),l=$t(Da),c=$t(tt.expandedNodes),d=Le(tt.expandedNodes),h=d.find(R=>R.rank==="SPECIES")?.key,g=o??h,v=o!==null,b=!v&&h!==null&&h!==void 0&&i,{data:_,isLoading:C}=Bo({specieKey:g}),E=x.useCallback(()=>{if(v)l(null);else{const R=d.filter(k=>k.rank!=="SPECIES"),N=R.length>0?`/tree/${R.map(k=>k.key).join("/")}`:"/";c(R),s({to:N})}},[v,l,d,s,c]);return C?y.jsxs("div",{className:"p-6",children:[y.jsx(vD,{}),y.jsx(cZ,{})]}):_?y.jsxs(Pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:e?void 0:"h-full overflow-auto",style:{containerType:"inline-size"},children:[(v||b)&&!e&&y.jsx("div",{className:"bg-card/95 sticky top-0 z-10 border-b px-4 py-3 shadow-sm backdrop-blur-sm",children:y.jsxs(Ht,{onClick:E,variant:"ghost",size:"sm",className:"gap-2",children:[y.jsx(w_,{className:"size-4"}),t??n(b?"specieDetail.backToTree":"specieDetail.backToGallery")]})}),y.jsx("div",{className:`p-4 ${v||b?"pt-6":e?"pt-2":"md:mt-4"}`,children:y.jsxs("div",{className:"mx-auto grid max-w-7xl grid-cols-1 gap-6 lg:grid-cols-2",children:[y.jsx(Pt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-card rounded-xl border p-6 shadow-lg",children:y.jsx(hte,{})}),y.jsxs("div",{className:"flex flex-col gap-6",children:[y.jsx(Pt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-card overflow-hidden rounded-xl border shadow-lg",children:y.jsx(pZ,{})}),g&&y.jsx(Pt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:y.jsx(jte,{specieKey:g})})]})]})})]}):y.jsx("div",{className:"flex h-full items-center justify-center",children:y.jsx("p",{className:"text-muted-foreground",children:n("specieDetail.notFound")})})},Ite=e=>{const t=new Set;return e.filter(n=>t.has(n.kingdom)||n.kingdom.toLowerCase()==="viruses"?!1:(t.add(n.kingdom),!0)).map(n=>({key:n.key,rank:n.rank,numDescendants:n.numDescendants,color:To[n.key]}))},zte=()=>{const{kingdoms_key:e}=Iu,t=W_();return wr({queryKey:[e],queryFn:async()=>{const n=await QY();return Ite(n)},staleTime:1/0,gcTime:1/0,enabled:!t})};function Ol({className:e,...t}){return y.jsx("div",{"data-slot":"skeleton",className:it("bg-accent animate-bounce cursor-wait rounded-md",e),...t})}const Bte=()=>y.jsxs("div",{className:"flex w-full min-w-1/5 flex-col gap-6 overflow-auto border-r-1 px-4 py-6",children:[y.jsx(Ol,{className:"h-12 w-full max-w-2xs"}),y.jsx("div",{className:"flex flex-col gap-1",children:Array.from({length:8}).map((e,t)=>y.jsxs("div",{className:"group flex min-w-2xs items-center gap-4 rounded-lg p-3",children:[y.jsx(Ol,{className:"size-11 rounded-lg"}),y.jsxs("div",{className:"flex w-full items-center justify-between gap-1",children:[y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx(Ol,{className:"h-4 w-32"}),y.jsx(Ol,{className:"h-3 w-16"})]}),y.jsxs("div",{className:"flex flex-col items-end gap-2",children:[y.jsx(Ol,{className:"h-4 w-8"}),y.jsx(Ol,{className:"h-3 w-10"})]})]})]},t))})]}),ix=({type:e})=>{const{t}=Mt();if(e==="loading")return y.jsx(Bte,{});const n={error:{icon:y.jsx(qO,{className:"h-6 w-6 text-red-500"}),title:t("tree.loadError"),text:t("tree.loadErrorMessage")},empty:{icon:y.jsx(J$,{className:"h-6 w-6"}),title:t("tree.noData"),text:t("tree.noDataMessage")}}[e];return y.jsxs("div",{className:"flex h-[60vh] flex-col items-center justify-center gap-3 text-center",children:[n.icon,y.jsx("h2",{className:"font-semibold",children:n.title}),y.jsx("p",{className:"text-muted-foreground max-w-xs text-sm",children:n.text})]})};function Ute(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,R=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:R,children:_})};h.displayName=o+"Provider";function g(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,g]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,Fte(s,...t)]}function Fte(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function Vte(e){const t=$te(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(Gte);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function $te(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=qte(s),c=Kte(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var lj=Symbol("radix.slottable");function Hte(e){const t=({children:n})=>y.jsx(y.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=lj,t}function Gte(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===lj}function Kte(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function qte(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Wte=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Yte=Wte.reduce((e,t)=>{const n=Vte(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function Zte(e){const t=Xte(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(Jte);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function Xte(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=tne(s),c=ene(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Qte=Symbol("radix.slottable");function Jte(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Qte}function ene(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function tne(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var nne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ine=nne.reduce((e,t)=>{const n=Zte(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),cj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),sne="VisuallyHidden",uj=x.forwardRef((e,t)=>y.jsx(ine.span,{...e,ref:t,style:{...cj,...e.style}}));uj.displayName=sne;var rne=uj,[qg]=Ute("Tooltip",[Pu]),Wg=Pu(),dj="TooltipProvider",one=700,A0="tooltip.open",[ane,Ow]=qg(dj),fj=e=>{const{__scopeTooltip:t,delayDuration:n=one,skipDelayDuration:i=300,disableHoverableContent:s=!1,children:o}=e,l=x.useRef(!0),c=x.useRef(!1),d=x.useRef(0);return x.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),y.jsx(ane,{scope:t,isOpenDelayedRef:l,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,i)},[i]),isPointerInTransitRef:c,onPointerInTransitChange:x.useCallback(h=>{c.current=h},[]),disableHoverableContent:s,children:o})};fj.displayName=dj;var Ff="Tooltip",[lne,ph]=qg(Ff),hj=e=>{const{__scopeTooltip:t,children:n,open:i,defaultOpen:s,onOpenChange:o,disableHoverableContent:l,delayDuration:c}=e,d=Ow(Ff,e.__scopeTooltip),h=Wg(t),[g,v]=x.useState(null),b=_s(),_=x.useRef(0),C=l??d.disableHoverableContent,E=c??d.delayDuration,R=x.useRef(!1),[N,k]=Do({prop:i,defaultProp:s??!1,onChange:z=>{z?(d.onOpen(),document.dispatchEvent(new CustomEvent(A0))):d.onClose(),o?.(z)},caller:Ff}),O=x.useMemo(()=>N?R.current?"delayed-open":"instant-open":"closed",[N]),M=x.useCallback(()=>{window.clearTimeout(_.current),_.current=0,R.current=!1,k(!0)},[k]),D=x.useCallback(()=>{window.clearTimeout(_.current),_.current=0,k(!1)},[k]),V=x.useCallback(()=>{window.clearTimeout(_.current),_.current=window.setTimeout(()=>{R.current=!0,k(!0),_.current=0},E)},[E,k]);return x.useEffect(()=>()=>{_.current&&(window.clearTimeout(_.current),_.current=0)},[]),y.jsx(kg,{...h,children:y.jsx(lne,{scope:t,contentId:b,open:N,stateAttribute:O,trigger:g,onTriggerChange:v,onTriggerEnter:x.useCallback(()=>{d.isOpenDelayedRef.current?V():M()},[d.isOpenDelayedRef,V,M]),onTriggerLeave:x.useCallback(()=>{C?D():(window.clearTimeout(_.current),_.current=0)},[D,C]),onOpen:M,onClose:D,disableHoverableContent:C,children:n})})};hj.displayName=Ff;var T0="TooltipTrigger",pj=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,s=ph(T0,n),o=Ow(T0,n),l=Wg(n),c=x.useRef(null),d=St(t,c,s.onTriggerChange),h=x.useRef(!1),g=x.useRef(!1),v=x.useCallback(()=>h.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),y.jsx(u_,{asChild:!0,...l,children:y.jsx(Yte.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...i,ref:d,onPointerMove:Ie(e.onPointerMove,b=>{b.pointerType!=="touch"&&!g.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),g.current=!0)}),onPointerLeave:Ie(e.onPointerLeave,()=>{s.onTriggerLeave(),g.current=!1}),onPointerDown:Ie(e.onPointerDown,()=>{s.open&&s.onClose(),h.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:Ie(e.onFocus,()=>{h.current||s.onOpen()}),onBlur:Ie(e.onBlur,s.onClose),onClick:Ie(e.onClick,s.onClose)})})});pj.displayName=T0;var Pw="TooltipPortal",[cne,une]=qg(Pw,{forceMount:void 0}),mj=e=>{const{__scopeTooltip:t,forceMount:n,children:i,container:s}=e,o=ph(Pw,t);return y.jsx(cne,{scope:t,forceMount:n,children:y.jsx(xr,{present:n||o.open,children:y.jsx(Zf,{asChild:!0,container:s,children:i})})})};mj.displayName=Pw;var Ru="TooltipContent",gj=x.forwardRef((e,t)=>{const n=une(Ru,e.__scopeTooltip),{forceMount:i=n.forceMount,side:s="top",...o}=e,l=ph(Ru,e.__scopeTooltip);return y.jsx(xr,{present:i||l.open,children:l.disableHoverableContent?y.jsx(vj,{side:s,...o,ref:t}):y.jsx(dne,{side:s,...o,ref:t})})}),dne=x.forwardRef((e,t)=>{const n=ph(Ru,e.__scopeTooltip),i=Ow(Ru,e.__scopeTooltip),s=x.useRef(null),o=St(t,s),[l,c]=x.useState(null),{trigger:d,onClose:h}=n,g=s.current,{onPointerInTransitChange:v}=i,b=x.useCallback(()=>{c(null),v(!1)},[v]),_=x.useCallback((C,E)=>{const R=C.currentTarget,N={x:C.clientX,y:C.clientY},k=mne(N,R.getBoundingClientRect()),O=gne(N,k),M=vne(E.getBoundingClientRect()),D=bne([...O,...M]);c(D),v(!0)},[v]);return x.useEffect(()=>()=>b(),[b]),x.useEffect(()=>{if(d&&g){const C=R=>_(R,g),E=R=>_(R,d);return d.addEventListener("pointerleave",C),g.addEventListener("pointerleave",E),()=>{d.removeEventListener("pointerleave",C),g.removeEventListener("pointerleave",E)}}},[d,g,_,b]),x.useEffect(()=>{if(l){const C=E=>{const R=E.target,N={x:E.clientX,y:E.clientY},k=d?.contains(R)||g?.contains(R),O=!yne(N,l);k?b():O&&(b(),h())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[d,g,l,h,b]),y.jsx(vj,{...e,ref:o})}),[fne,hne]=qg(Ff,{isInside:!1}),pne=Hte("TooltipContent"),vj=x.forwardRef((e,t)=>{const{__scopeTooltip:n,children:i,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:l,...c}=e,d=ph(Ru,n),h=Wg(n),{onClose:g}=d;return x.useEffect(()=>(document.addEventListener(A0,g),()=>document.removeEventListener(A0,g)),[g]),x.useEffect(()=>{if(d.trigger){const v=b=>{b.target?.contains(d.trigger)&&g()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[d.trigger,g]),y.jsx(Wf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:v=>v.preventDefault(),onDismiss:g,children:y.jsxs(d_,{"data-state":d.stateAttribute,...h,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[y.jsx(pne,{children:i}),y.jsx(fne,{scope:n,isInside:!0,children:y.jsx(rne,{id:d.contentId,role:"tooltip",children:s||i})})]})})});gj.displayName=Ru;var yj="TooltipArrow",bj=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,s=Wg(n);return hne(yj,n).isInside?null:y.jsx(f_,{...s,...i,ref:t})});bj.displayName=yj;function mne(e,t){const n=Math.abs(t.top-e.y),i=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,i,s,o)){case o:return"left";case s:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function gne(e,t,n=5){const i=[];switch(t){case"top":i.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":i.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":i.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":i.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return i}function vne(e){const{top:t,right:n,bottom:i,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:i},{x:s,y:i}]}function yne(e,t){const{x:n,y:i}=e;let s=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const c=t[o],d=t[l],h=c.x,g=c.y,v=d.x,b=d.y;g>i!=b>i&&n<(v-h)*(i-g)/(b-g)+h&&(s=!s)}return s}function bne(e){const t=e.slice();return t.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),xne(t)}function xne(e){if(e.length<=1)return e.slice();const t=[];for(let i=0;i<e.length;i++){const s=e[i];for(;t.length>=2;){const o=t[t.length-1],l=t[t.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let i=e.length-1;i>=0;i--){const s=e[i];for(;n.length>=2;){const o=n[n.length-1],l=n[n.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var _ne=fj,wne=hj,Sne=pj,Cne=mj,Ene=gj,Ane=bj;function Tne({delayDuration:e=0,...t}){return y.jsx(_ne,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function xj({...e}){return y.jsx(Tne,{children:y.jsx(wne,{"data-slot":"tooltip",...e})})}function _j({...e}){return y.jsx(Sne,{"data-slot":"tooltip-trigger",...e})}function wj({className:e,sideOffset:t=0,children:n,...i}){return y.jsx(Cne,{children:y.jsxs(Ene,{"data-slot":"tooltip-content",sideOffset:t,className:it("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-2 text-xs text-balance",e),...i,children:[n,y.jsx(Ane,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const R0=async(e,t)=>{try{const n=e.game_info.shortcuts??{},i=t(n),{data:s,error:o}=await Dn.from("users").update({game_info:{...e.game_info,shortcuts:i}}).eq("id",e.id).select().single();return o?(console.error("Error updating shortcuts:",o),null):s}catch(n){return console.error("Unexpected error updating shortcuts:",n),null}},Yg=(e,t)=>wr({queryKey:[Iu.parents_key,e],queryFn:()=>mD(e),enabled:t&&!!e,staleTime:1e3*60*60*24,gcTime:1e3*60*60*24*7}),Rne=new Set(["SUBSPECIES","VARIETY","SUBVARIETY","FORM","SUBFORM","UNRANKED","CULTIVAR_GROUP","CULTIVAR","STRAIN"]),Zg=(e,t,n)=>{const i=e.filter(s=>!Rne.has(s.rank)).map(s=>({rank:s.rank,name:s.canonicalName??s.scientificName??"",key:s.key}));return i.push({rank:"SPECIES",name:t,key:n}),i},kne=x.memo(({node:e})=>{const[t,n]=Gs(st.userDb),[i,s]=x.useState(!1),o=e.expanded,l=e?.kingdom?.toLowerCase(),c=Le(tt.challenge),d=c.status,h=d==="IN_PROGRESS",g=h||d==="COMPLETED",v=c.speciesKey??0,b=Le(tt.highlightedKeys),_=b.size>0&&b.has(e.key)&&h,C=Le(tt.expandedNodes),{data:E}=Bo({specieKey:v}),{data:R}=Yg(v,g),N=x.useMemo(()=>!R||!E?[]:Zg(R,E.canonicalName??E.species??"",v),[R,E,v]),k=x.useMemo(()=>{if(!g)return null;const z=C.findIndex($=>$.key===e.key);if(z===-1)return null;const I=N[z];return I?e.canonicalName===I.name||e.scientificName===I.name?"success":"error":null},[g,C,e.key,e.canonicalName,e.scientificName,N]),O=x.useMemo(()=>{const z=t?.game_info?.shortcuts;return z?(z[l]?.length??0)>=3:!1},[l,t?.game_info?.shortcuts]),M=x.useCallback(async()=>{!t||h||R0(t,z=>{const I=z[l]??[];if(I.length>=3||I.some(q=>q.nodes.length===C.length&&q.nodes.every((W,ne)=>W.key===C[ne].key&&W.rank===C[ne].rank)))return z;const Z=C.slice(0,C.findIndex(q=>q.key===e.key)+1);return{...z,[l]:[...I,{name:(e.canonicalName||e.scientificName)??" - ",nodes:Z}]}}).then(z=>{z&&n(z)})},[t,h,l,C,e,n]),D=e.canonicalName||e.scientificName,V=e.scientificName&&e.canonicalName&&e.scientificName!==e.canonicalName;return y.jsx(Pt.div,{className:"item group flex h-full w-full flex-row items-center gap-2",animate:_?{scale:[1,1.03,1]}:k==="success"?{scale:[1,1.05,1]}:k==="error"?{x:[-4,4,-2,2,0]}:{},transition:{duration:.5},children:y.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[y.jsxs("div",{className:"mr-auto flex items-center gap-2",children:[y.jsx("div",{className:"flex flex-col items-start justify-center",children:y.jsx("span",{className:it("relative transition-all duration-200 ease-in-out",o&&"font-bold",k==="success"&&"text-emerald-600",k==="error"&&"text-red-500",_&&["z-10","text-emerald-600","after:absolute after:-inset-y-0.5","after:-right-1.5 after:-left-1.5","after:-z-10 after:rounded-md after:bg-emerald-400/15"]),children:D})}),V&&y.jsxs(xj,{open:i,onOpenChange:s,children:[y.jsx(_j,{asChild:!0,children:y.jsx("button",{onClick:z=>{z.stopPropagation(),s(I=>!I)},className:"text-muted-foreground inline-flex items-center",children:y.jsx(E_,{className:"size-3"})})}),y.jsx(wj,{children:e.scientificName})]}),k==="success"&&y.jsx(UO,{className:"h-4 w-4 text-emerald-500"}),k==="error"&&y.jsx(BO,{className:"h-4 w-4 text-red-500"}),y.jsx(Lf,{className:it("bg-primary-foreground text-primary flex items-center gap-1 rounded-xl px-1 py-0 text-[11px] opacity-0 outline-1 group-hover:opacity-100",o&&"opacity-100"),children:Qi(e.rank)}),t&&o&&!h&&y.jsx("div",{className:"opacity-0 transition-all duration-300 group-hover:opacity-100",children:y.jsx(Rx,{onClick:z=>{z.stopPropagation(),M()},className:it("size-4 scale-x-[-1]",O&&"opacity-50")})})]}),y.jsx("span",{className:"text-[11px]",children:e.numDescendants&&e.numDescendants.toLocaleString("pt-BR")})]})},`${e.key}-${k}`)}),Nne=e=>{if(e>=1e6){const t=Math.floor(e/1e5)/10;return`${Number.isInteger(t)?t.toFixed(0):t}M`}return e>=1e3?`${Math.floor(e/1e3)}K`:e.toString()},One=x.memo(({node:e,isLoading:t})=>{const{isShaking:n,shakeDirection:i}=Le(tt.animate),s=e.expanded,o=t&&s;return y.jsxs("div",{className:it("group flex h-full w-full min-w-2xs cursor-pointer items-center gap-4 rounded-lg px-2",s&&`rounded-bl-none border-2 ${YK[e.key]}`,!s&&"hover:bg-accent"),children:[y.jsx("div",{className:it("flex items-center justify-center rounded-xl",!s&&"group-hover:bg-accent bg-accent"),children:y.jsx("div",{className:"flex size-11 items-center justify-center overflow-hidden rounded-lg p-3",children:y.jsx(Hn,{src:gs(e.key),alt:Au[e.key],className:it("h-full w-full transition-transform duration-150 group-hover:scale-150",o?"animate-wiggle":n?i?"rotate-6":"-rotate-6":"rotate-0",n?"":"group-hover:rotate-6",s&&"scale-150")})})}),y.jsx("div",{className:"flex w-full items-center justify-between gap-1",children:y.jsxs("div",{className:"flex flex-col",children:[y.jsx("h1",{className:it("text-md font-medium",s&&"font-bold"),children:Qi(Au[e.key])}),y.jsxs("span",{className:"text-xs",children:[Nne(e.numDescendants)," ",y.jsx("span",{children:"descendentes"})]})]})})]})}),Pne=x.memo(({node:e})=>{const[t,n]=Gs(st.userDb),[i,s]=x.useState(!1),o=Le(tt.expandedNodes),l=Le(tt.challenge),d=l.status==="IN_PROGRESS"||l.status==="COMPLETED",h=l.speciesKey,g=x.useMemo(()=>o.some(E=>E.key===e.key),[o,e.key]),v=x.useMemo(()=>!d||!g?null:e.key===h?"success":"error",[d,g,e.key,h]),b=x.useCallback(async()=>{t&&sj(t,E=>{if(E.some(k=>k.key===e.key))return E;const N={key:e.key,date:new Date().toISOString(),fav:!1};return[...E,N]}).then(E=>{E&&n(E)})},[t,e.key,n]),_=e.canonicalName||e.scientificName,C=e.scientificName&&e.canonicalName&&e.scientificName!==e.canonicalName;return y.jsxs(Pt.div,{className:"item flex w-full items-center justify-between",animate:v==="success"?{scale:[1,1.08,1]}:v==="error"?{x:[-4,4,-2,2,0]}:{},transition:{duration:.3},onClick:b,children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("i",{className:it("w-max transition-all duration-200 ease-in-out",g&&"font-bold",v==="success"&&"text-emerald-600",v==="error"&&"text-red-500"),children:_}),C&&y.jsxs(xj,{open:i,onOpenChange:s,children:[y.jsx(_j,{asChild:!0,children:y.jsx("button",{onClick:E=>{E.stopPropagation(),s(R=>!R)},className:"text-muted-foreground inline-flex items-center",children:y.jsx(E_,{className:"size-3"})})}),y.jsx(wj,{children:e.scientificName})]}),v==="success"&&y.jsx(UO,{className:"h-4 w-4 text-emerald-500"}),v==="error"&&y.jsx(BO,{className:"h-4 w-4 text-red-500"}),y.jsx(Lf,{className:it("bg-primary-foreground text-primary rounded-xl px-1 py-0 text-[11px] opacity-0 group-hover:opacity-100",v&&"opacity-100"),children:Qi(e.rank)})]}),y.jsx(y.Fragment,{children:""})]},`${e.key}-${v}`)}),Mne=new Set(["SUBSPECIES","VARIETY","SUBVARIETY","FORM","SUBFORM","CULTIVAR_GROUP","CULTIVAR","STRAIN","UNRANKED"]),Dne=e=>e?e.filter(t=>!Mne.has(t.rank)):[],Lne=e=>!(e.taxonomicStatus&&e.taxonomicStatus!=="ACCEPTED"||e.nubKey!==void 0&&e.nubKey!==e.key||!e.canonicalName),jne=e=>{const t={key:e.key,scientificName:e.scientificName,canonicalName:e.canonicalName,rank:e.rank,kingdom:e.kingdom,numDescendants:e.numDescendants,phylum:e.phylum};return e.class&&(t.class=e.class),e.order&&(t.order=e.order),e.family&&(t.family=e.family),e.genus&&(t.genus=e.genus),t},Ine=({parentKey:e,expanded:t,numDescendants:n})=>{const{children_key:i}=Iu,s=Le(OM);return wr({queryKey:[i,e,s],queryFn:async()=>{const l=(await JY(e)).filter(Lne),c=s?l:l.filter(d=>d.numDescendants>0||d.rank==="SPECIES");return Dne(c).map(jne)},enabled:!!e&&t&&n!==0,staleTime:1e3*60*60*24,gcTime:1e3*60*60*24*7})};function mh(){const e=Ii(),t=Le(tt.nodes),n=Le(tt.expandedNodes),i=$t(UP),s=x.useCallback(c=>c.length===0?"/":`/tree/${c.map(d=>d.key).join("/")}`,[]),o=x.useCallback((c,d=!1)=>{i(d?[...c]:null);const h=s(c);e({to:h})},[e,s,i]),l=x.useCallback(c=>{const d=t[c];if(!d)return;const h=n.findIndex(b=>b.key===c);if(h!==-1){o(n.slice(0,h));return}const g=[];let v=d;for(;v;)g.unshift({key:v.key,rank:v.rank,name:v.rank==="KINGDOM"?Qi(Au[v.key]):v.canonicalName||v.scientificName||""}),v=v.parentKey?t[v.parentKey]:void 0;o(g)},[t,n,o]);return{navigateToNodes:o,toggleNode:l,nodesToPath:s}}const zne=x.memo(({nodeKey:e,level:t})=>{const[n]=Gs(FP(e)),i=$t(m9),{toggleNode:s}=mh(),o=n?.expanded,{data:l,isLoading:c}=Ine({parentKey:n?.key,expanded:!!o,numDescendants:n?.numDescendants});x.useEffect(()=>{o&&l&&i({key:n.key,children:l})},[o,l,n?.key,i]);const d=x.useCallback(()=>{c||s(e)},[c,s,e]);if(!n)return null;const h=n.rank==="KINGDOM",g=n.rank==="SPECIES",v=jP[n?.kingdom?.toLocaleLowerCase()],b=t*P_;return y.jsxs("div",{className:it("flex",c&&"node-loading"),style:{marginLeft:b,height:h?"4.25rem":"2.125rem",zIndex:1,"--tree-color":v},onClick:d,children:[!h&&y.jsx("div",{className:"z-50 mt-1.5 flex cursor-pointer items-center justify-center rounded-full p-px text-white",style:{backgroundColor:v,width:Lx,height:Lx,marginLeft:IP,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"700"},children:c?y.jsx(nh,{className:"animate-spin"}):g?y.jsx("span",{className:"size-5"}):y.jsx("span",{className:"flex size-5 items-center justify-center pb-0.5 font-bold",children:o?"":"+"})}),h?y.jsx(One,{node:n,isLoading:c}):g?y.jsx(Pne,{node:n}):y.jsx(kne,{node:n})]})}),Bne=({parentNodeKey:e,level:t})=>{const n=Le(FP(e));if(!n)return null;const i=n.canonicalName||n.scientificName||String(e),s=`https://www.gbif.org/species/${e}`;return y.jsx("div",{className:"-ml-4 flex h-full w-full min-w-0 items-start",style:{paddingLeft:t*P_},children:y.jsxs("div",{className:"bg-muted/40 flex w-full min-w-0 flex-col divide-y overflow-hidden rounded-lg border text-xs",children:[y.jsxs("p",{className:"px-3 py-2 leading-relaxed",children:[y.jsx("span",{className:"font-medium italic",children:i})," est registrado como uma classificao aceita no"," ",y.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",onClick:o=>o.stopPropagation(),className:"text-blue-600 hover:underline",children:"GBIF"}),", mas no possui descendentes registrados."]}),y.jsxs("p",{className:"text-muted-foreground px-3 py-2 leading-relaxed",children:["Caso no queira ver ns sem descendentes, desative em"," ",y.jsx("span",{className:"font-medium",children:"Menu > Configuraes > Exibir ns sem descendentes"}),"."]})]})})},Une=()=>{const e=Le(tt.expandedNodes),t=$t(g9);x.useEffect(()=>{t()},[e,t])};function tu(e,t,n){let i=n.initialDeps??[],s,o=!0;function l(){var c,d,h;let g;n.key&&((c=n.debug)!=null&&c.call(n))&&(g=Date.now());const v=e();if(!(v.length!==i.length||v.some((C,E)=>i[E]!==C)))return s;i=v;let _;if(n.key&&((d=n.debug)!=null&&d.call(n))&&(_=Date.now()),s=t(...v),n.key&&((h=n.debug)!=null&&h.call(n))){const C=Math.round((Date.now()-g)*100)/100,E=Math.round((Date.now()-_)*100)/100,R=E/16,N=(k,O)=>{for(k=String(k);k.length<O;)k=" "+k;return k};console.info(`%c ${N(E,5)} /${N(C,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*R,120))}deg 100% 31%);`,n?.key)}return n?.onChange&&!(o&&n.skipInitialOnChange)&&n.onChange(s),o=!1,s}return l.updateDeps=c=>{i=c},l}function VR(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const Fne=(e,t)=>Math.abs(e-t)<1.01,Vne=(e,t,n)=>{let i;return function(...s){e.clearTimeout(i),i=e.setTimeout(()=>t.apply(this,s),n)}},$R=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},$ne=e=>e,Hne=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),i=[];for(let s=t;s<=n;s++)i.push(s);return i},Gne=(e,t)=>{const n=e.scrollElement;if(!n)return;const i=e.targetWindow;if(!i)return;const s=l=>{const{width:c,height:d}=l;t({width:Math.round(c),height:Math.round(d)})};if(s($R(n)),!i.ResizeObserver)return()=>{};const o=new i.ResizeObserver(l=>{const c=()=>{const d=l[0];if(d?.borderBoxSize){const h=d.borderBoxSize[0];if(h){s({width:h.inlineSize,height:h.blockSize});return}}s($R(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(c):c()});return o.observe(n,{box:"border-box"}),()=>{o.unobserve(n)}},HR={passive:!0},GR=typeof window>"u"?!0:"onscrollend"in window,Kne=(e,t)=>{const n=e.scrollElement;if(!n)return;const i=e.targetWindow;if(!i)return;let s=0;const o=e.options.useScrollendEvent&&GR?()=>{}:Vne(i,()=>{t(s,!1)},e.options.isScrollingResetDelay),l=g=>()=>{const{horizontal:v,isRtl:b}=e.options;s=v?n.scrollLeft*(b&&-1||1):n.scrollTop,o(),t(s,g)},c=l(!0),d=l(!1);n.addEventListener("scroll",c,HR);const h=e.options.useScrollendEvent&&GR;return h&&n.addEventListener("scrollend",d,HR),()=>{n.removeEventListener("scroll",c),h&&n.removeEventListener("scrollend",d)}},qne=(e,t,n)=>{if(t?.borderBoxSize){const i=t.borderBoxSize[0];if(i)return Math.round(i[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},Wne=(e,{adjustments:t=0,behavior:n},i)=>{var s,o;const l=e+t;(o=(s=i.scrollElement)==null?void 0:s.scrollTo)==null||o.call(s,{[i.options.horizontal?"left":"top"]:l,behavior:n})};class Yne{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.currentScrollToIndex=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const i=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(s=>{s.forEach(o=>{const l=()=>{this._measureElement(o.target,o)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()})}));return{disconnect:()=>{var s;(s=i())==null||s.disconnect(),n=null},observe:s=>{var o;return(o=i())==null?void 0:o.observe(s,{box:"border-box"})},unobserve:s=>{var o;return(o=i())==null?void 0:o.unobserve(s)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([i,s])=>{typeof s>"u"&&delete n[i]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:$ne,rangeExtractor:Hne,onChange:()=>{},measureElement:qne,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var i,s;(s=(i=this.options).onChange)==null||s.call(i,this,n)},this.maybeNotify=tu(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const i=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==i){if(this.cleanup(),!i){this.maybeNotify();return}this.scrollElement=i,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(s=>{this.observer.observe(s)}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(s,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<s?"forward":"backward":null,this.scrollOffset=s,this.isScrolling=o,this.maybeNotify()})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0})}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,i)=>{const s=new Map,o=new Map;for(let l=i-1;l>=0;l--){const c=n[l];if(s.has(c.lane))continue;const d=o.get(c.lane);if(d==null||c.end>d.end?o.set(c.lane,c):c.end<d.end&&s.set(c.lane,!0),s.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((l,c)=>l.end===c.end?l.index-c.index:l.end-c.end)[0]:void 0},this.getMeasurementOptions=tu(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,i,s,o,l,c)=>(this.prevLanes!==void 0&&this.prevLanes!==c&&(this.lanesChangedFlag=!0),this.prevLanes=c,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:i,scrollMargin:s,getItemKey:o,enabled:l,lanes:c}),{key:!1}),this.getMeasurements=tu(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:i,scrollMargin:s,getItemKey:o,enabled:l,lanes:c},d)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const b of this.laneAssignments.keys())b>=n&&this.laneAssignments.delete(b);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&!this.lanesSettling&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(b=>{this.itemSizeCache.set(b.key,b.size)}));const h=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const g=this.measurementsCache.slice(0,h),v=new Array(c).fill(void 0);for(let b=0;b<h;b++){const _=g[b];_&&(v[_.lane]=b)}for(let b=h;b<n;b++){const _=o(b),C=this.laneAssignments.get(b);let E,R;if(C!==void 0&&this.options.lanes>1){E=C;const M=v[E],D=M!==void 0?g[M]:void 0;R=D?D.end+this.options.gap:i+s}else{const M=this.options.lanes===1?g[b-1]:this.getFurthestMeasurement(g,b);R=M?M.end+this.options.gap:i+s,E=M?M.lane:b%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(b,E)}const N=d.get(_),k=typeof N=="number"?N:this.options.estimateSize(b),O=R+k;g[b]={index:b,start:R,size:k,end:O,key:_,lane:E},v[E]=b}return this.measurementsCache=g,g},{key:!1,debug:()=>this.options.debug}),this.calculateRange=tu(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,i,s,o)=>this.range=n.length>0&&i>0?Zne({measurements:n,outerSize:i,scrollOffset:s,lanes:o}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=tu(()=>{let n=null,i=null;const s=this.calculateRange();return s&&(n=s.startIndex,i=s.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,i]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,i]},(n,i,s,o,l)=>o===null||l===null?[]:n({startIndex:o,endIndex:l,overscan:i,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const i=this.options.indexAttribute,s=n.getAttribute(i);return s?parseInt(s,10):(console.warn(`Missing attribute name '${i}={index}' on measured element.`),-1)},this._measureElement=(n,i)=>{const s=this.indexFromElement(n),o=this.measurementsCache[s];if(!o)return;const l=o.key,c=this.elementsCache.get(l);c!==n&&(c&&this.observer.unobserve(c),this.observer.observe(n),this.elementsCache.set(l,n)),n.isConnected&&this.resizeItem(s,this.options.measureElement(n,i,this))},this.resizeItem=(n,i)=>{const s=this.measurementsCache[n];if(!s)return;const o=this.itemSizeCache.get(s.key)??s.size,l=i-o;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,l,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,i)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((i,s)=>{i.isConnected||(this.observer.unobserve(i),this.elementsCache.delete(s))});return}this._measureElement(n,void 0)},this.getVirtualItems=tu(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,i)=>{const s=[];for(let o=0,l=n.length;o<l;o++){const c=n[o],d=i[c];s.push(d)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const i=this.getMeasurements();if(i.length!==0)return VR(i[Sj(0,i.length-1,s=>VR(i[s]).start,n)])},this.getMaxScrollOffset=()=>{if(!this.scrollElement)return 0;if("scrollHeight"in this.scrollElement)return this.options.horizontal?this.scrollElement.scrollWidth-this.scrollElement.clientWidth:this.scrollElement.scrollHeight-this.scrollElement.clientHeight;{const n=this.scrollElement.document.documentElement;return this.options.horizontal?n.scrollWidth-this.scrollElement.innerWidth:n.scrollHeight-this.scrollElement.innerHeight}},this.getOffsetForAlignment=(n,i,s=0)=>{if(!this.scrollElement)return 0;const o=this.getSize(),l=this.getScrollOffset();i==="auto"&&(i=n>=l+o?"end":"start"),i==="center"?n+=(s-o)/2:i==="end"&&(n-=o);const c=this.getMaxScrollOffset();return Math.max(Math.min(c,n),0)},this.getOffsetForIndex=(n,i="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const s=this.measurementsCache[n];if(!s)return;const o=this.getSize(),l=this.getScrollOffset();if(i==="auto")if(s.end>=l+o-this.options.scrollPaddingEnd)i="end";else if(s.start<=l+this.options.scrollPaddingStart)i="start";else return[l,i];if(i==="end"&&n===this.options.count-1)return[this.getMaxScrollOffset(),i];const c=i==="end"?s.end+this.options.scrollPaddingEnd:s.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(c,i,s.size),i]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:i="start",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,i),{adjustments:void 0,behavior:s})},this.scrollToIndex=(n,{align:i="auto",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1)),this.currentScrollToIndex=n;let o=0;const l=10,c=h=>{if(!this.targetWindow)return;const g=this.getOffsetForIndex(n,h);if(!g){console.warn("Failed to get offset for index:",n);return}const[v,b]=g;this._scrollToOffset(v,{adjustments:void 0,behavior:s}),this.targetWindow.requestAnimationFrame(()=>{const _=()=>{if(this.currentScrollToIndex!==n)return;const C=this.getScrollOffset(),E=this.getOffsetForIndex(n,b);if(!E){console.warn("Failed to get offset for index:",n);return}Fne(E[0],C)||d(b)};this.isDynamicMode()?this.targetWindow.requestAnimationFrame(_):_()})},d=h=>{this.targetWindow&&this.currentScrollToIndex===n&&(o++,o<l?this.targetWindow.requestAnimationFrame(()=>c(h)):console.warn(`Failed to scroll to index ${n} after ${l} attempts.`))};c(i)},this.scrollBy=(n,{behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:i})},this.getTotalSize=()=>{var n;const i=this.getMeasurements();let s;if(i.length===0)s=this.options.paddingStart;else if(this.options.lanes===1)s=((n=i[i.length-1])==null?void 0:n.end)??0;else{const o=Array(this.options.lanes).fill(null);let l=i.length-1;for(;l>=0&&o.some(c=>c===null);){const c=i[l];o[c.lane]===null&&(o[c.lane]=c.end),l--}s=Math.max(...o.filter(c=>c!==null))}return Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:i,behavior:s})=>{this.options.scrollToFn(n,{behavior:s,adjustments:i},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(t)}}const Sj=(e,t,n,i)=>{for(;e<=t;){const s=(e+t)/2|0,o=n(s);if(o<i)e=s+1;else if(o>i)t=s-1;else return s}return e>0?e-1:0};function Zne({measurements:e,outerSize:t,scrollOffset:n,lanes:i}){const s=e.length-1,o=d=>e[d].start;if(e.length<=i)return{startIndex:0,endIndex:s};let l=Sj(0,s,o,n),c=l;if(i===1)for(;c<s&&e[c].end<n+t;)c++;else if(i>1){const d=Array(i).fill(0);for(;c<s&&d.some(g=>g<n+t);){const g=e[c];d[g.lane]=g.end,c++}const h=Array(i).fill(n+t);for(;l>=0&&h.some(g=>g>=n);){const g=e[l];h[g.lane]=g.start,l--}l=Math.max(0,l-l%i),c=Math.min(s,c+(i-1-c%i))}return{startIndex:l,endIndex:c}}const KR=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Xne({useFlushSync:e=!0,...t}){const n=x.useReducer(()=>({}),{})[1],i={...t,onChange:(o,l)=>{var c;e&&l?Ji.flushSync(n):n(),(c=t.onChange)==null||c.call(t,o,l)}},[s]=x.useState(()=>new Yne(i));return s.setOptions(i),KR(()=>s._didMount(),[]),KR(()=>s._willUpdate()),s}function Qne(e){return Xne({observeElementRect:Gne,observeElementOffset:Kne,scrollToFn:Wne,...e})}const Jne=(e,t,n)=>{const i=x.useCallback((g,v,b=0)=>{const _=[];for(const C of v){const E=g[C];if(E)if(_.push({key:C,level:b}),E.expanded&&E.childrenKeys?.length){const R=i(g,E.childrenKeys,b+1);for(let N=0;N<R.length;N++)_.push(R[N])}else E.expanded&&E.rank!=="KINGDOM"&&E.rank!=="SPECIES"&&E.numDescendants===0&&_.push({key:-C,level:b+1,isEmptyInfo:!0,parentNodeKey:C})}return _},[]),s=x.useMemo(()=>i(e,t),[i,e,t]),o=x.useCallback(g=>{const v=s[g];return v.isEmptyInfo?192:e[v.key]?.rank==="KINGDOM"?72:34},[s,e]),l=x.useMemo(()=>{const g=[];let v=0;for(let b=0;b<s.length;b++)g[b]=v,v+=o(b);return g},[s,o]),c=x.useCallback(g=>s[g]?.key??g,[s]),d=Qne({count:s.length,getScrollElement:()=>n.current,estimateSize:g=>o(g),getItemKey:c,overscan:10}),h=x.useMemo(()=>{const g=new Map;s.forEach((_,C)=>g.set(_.key,C));const v=[],b=Math.floor(Dx/2);for(let _=0;_<s.length;_++){const{key:C}=s[_],E=e[C];if(!E||!E.childrenKeys?.length||!E.expanded)continue;const R=E.childrenKeys.map(W=>g.get(W)).filter(W=>typeof W=="number");if(!R.length)continue;const N=Math.min(...R),k=Math.max(...R),O=l[N]-Math.round(o(N)/2),M=l[k]+Math.round(o(k)/2),D=Math.max(0,Math.round(M-O)),V=s[N].level,I=Math.round(V*P_+IP+Lx/2)-j1,$=Math.round(I),Z=Math.round(O),q=E?.color??jP[E.kingdom?.toLocaleLowerCase()];v.push({type:"vertical",left:$-b,top:Z,height:D,color:q});for(const W of E.childrenKeys){const ne=g.get(W);if(ne==null)continue;const re=Math.round(l[ne]+o(ne)/2);v.push({type:"horizontal",left:$-b,top:re-b,width:j1+b,color:q})}}return v},[s,e,l,o]);return{flattened:s,rowVirtualizer:d,connectors:h}},eie=({connectors:e,totalHeight:t})=>y.jsx("div",{"aria-hidden":!0,style:{position:"absolute",top:0,left:0,width:"100%",height:t,pointerEvents:"none",zIndex:0},children:e.map((n,i)=>n.type==="vertical"?y.jsx("div",{style:{position:"absolute",left:n.left,top:n.top,width:Dx,height:n.height,backgroundColor:n.color,boxSizing:"border-box"}},i):y.jsx("div",{style:{position:"absolute",left:n.left,top:n.top,width:n.width,height:Dx,backgroundColor:n.color,boxSizing:"border-box"}},i))});function tie(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,R=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:R,children:_})};h.displayName=o+"Provider";function g(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,g]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,nie(s,...t)]}function nie(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function Cj(e){const t=iie(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(rie);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function iie(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=aie(s),c=oie(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var sie=Symbol("radix.slottable");function rie(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===sie}function oie(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function aie(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var lie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Cs=lie.reduce((e,t)=>{const n=Cj(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),cie=[" ","Enter","ArrowUp","ArrowDown"],uie=[" ","Enter"],Zl="Select",[Xg,Qg,die]=wg(Zl),[Vu]=tie(Zl,[die,Pu]),Jg=Pu(),[fie,Fa]=Vu(Zl),[hie,pie]=Vu(Zl),Ej=e=>{const{__scopeSelect:t,children:n,open:i,defaultOpen:s,onOpenChange:o,value:l,defaultValue:c,onValueChange:d,dir:h,name:g,autoComplete:v,disabled:b,required:_,form:C}=e,E=Jg(t),[R,N]=x.useState(null),[k,O]=x.useState(null),[M,D]=x.useState(!1),V=Sg(h),[z,I]=Do({prop:i,defaultProp:s??!1,onChange:o,caller:Zl}),[$,Z]=Do({prop:l,defaultProp:c,onChange:d,caller:Zl}),q=x.useRef(null),W=R?C||!!R.closest("form"):!0,[ne,re]=x.useState(new Set),ye=Array.from(ne).map(G=>G.props.value).join(";");return y.jsx(kg,{...E,children:y.jsxs(fie,{required:_,scope:t,trigger:R,onTriggerChange:N,valueNode:k,onValueNodeChange:O,valueNodeHasChildren:M,onValueNodeHasChildrenChange:D,contentId:_s(),value:$,onValueChange:Z,open:z,onOpenChange:I,dir:V,triggerPointerDownPosRef:q,disabled:b,children:[y.jsx(Xg.Provider,{scope:t,children:y.jsx(hie,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(G=>{re(Y=>new Set(Y).add(G))},[]),onNativeOptionRemove:x.useCallback(G=>{re(Y=>{const te=new Set(Y);return te.delete(G),te})},[]),children:n})}),W?y.jsxs(qj,{"aria-hidden":!0,required:_,tabIndex:-1,name:g,autoComplete:v,value:$,onChange:G=>Z(G.target.value),disabled:b,form:C,children:[$===void 0?y.jsx("option",{value:""}):null,Array.from(ne)]},ye):null]})})};Ej.displayName=Zl;var Aj="SelectTrigger",Tj=x.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:i=!1,...s}=e,o=Jg(n),l=Fa(Aj,n),c=l.disabled||i,d=St(t,l.onTriggerChange),h=Qg(n),g=x.useRef("touch"),[v,b,_]=Yj(E=>{const R=h().filter(O=>!O.disabled),N=R.find(O=>O.value===l.value),k=Zj(R,E,N);k!==void 0&&l.onValueChange(k.value)}),C=E=>{c||(l.onOpenChange(!0),_()),E&&(l.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)})};return y.jsx(u_,{asChild:!0,...o,children:y.jsx(Cs.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Wj(l.value)?"":void 0,...s,ref:d,onClick:Ie(s.onClick,E=>{E.currentTarget.focus(),g.current!=="mouse"&&C(E)}),onPointerDown:Ie(s.onPointerDown,E=>{g.current=E.pointerType;const R=E.target;R.hasPointerCapture(E.pointerId)&&R.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&E.pointerType==="mouse"&&(C(E),E.preventDefault())}),onKeyDown:Ie(s.onKeyDown,E=>{const R=v.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&b(E.key),!(R&&E.key===" ")&&cie.includes(E.key)&&(C(),E.preventDefault())})})})});Tj.displayName=Aj;var Rj="SelectValue",kj=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:i,style:s,children:o,placeholder:l="",...c}=e,d=Fa(Rj,n),{onValueNodeHasChildrenChange:h}=d,g=o!==void 0,v=St(t,d.onValueNodeChange);return Ln(()=>{h(g)},[h,g]),y.jsx(Cs.span,{...c,ref:v,style:{pointerEvents:"none"},children:Wj(d.value)?y.jsx(y.Fragment,{children:l}):o})});kj.displayName=Rj;var mie="SelectIcon",Nj=x.forwardRef((e,t)=>{const{__scopeSelect:n,children:i,...s}=e;return y.jsx(Cs.span,{"aria-hidden":!0,...s,ref:t,children:i||""})});Nj.displayName=mie;var gie="SelectPortal",Oj=e=>y.jsx(Zf,{asChild:!0,...e});Oj.displayName=gie;var Xl="SelectContent",Pj=x.forwardRef((e,t)=>{const n=Fa(Xl,e.__scopeSelect),[i,s]=x.useState();if(Ln(()=>{s(new DocumentFragment)},[]),!n.open){const o=i;return o?Ji.createPortal(y.jsx(Mj,{scope:e.__scopeSelect,children:y.jsx(Xg.Slot,{scope:e.__scopeSelect,children:y.jsx("div",{children:e.children})})}),o):null}return y.jsx(Dj,{...e,ref:t})});Pj.displayName=Xl;var ur=10,[Mj,Va]=Vu(Xl),vie="SelectContentImpl",yie=Cj("SelectContent.RemoveScroll"),Dj=x.forwardRef((e,t)=>{const{__scopeSelect:n,position:i="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:l,side:c,sideOffset:d,align:h,alignOffset:g,arrowPadding:v,collisionBoundary:b,collisionPadding:_,sticky:C,hideWhenDetached:E,avoidCollisions:R,...N}=e,k=Fa(Xl,n),[O,M]=x.useState(null),[D,V]=x.useState(null),z=St(t,Se=>M(Se)),[I,$]=x.useState(null),[Z,q]=x.useState(null),W=Qg(n),[ne,re]=x.useState(!1),ye=x.useRef(!1);x.useEffect(()=>{if(O)return h_(O)},[O]),t_();const G=x.useCallback(Se=>{const[je,...Me]=W().map(Ze=>Ze.ref.current),[De]=Me.slice(-1),Ye=document.activeElement;for(const Ze of Se)if(Ze===Ye||(Ze?.scrollIntoView({block:"nearest"}),Ze===je&&D&&(D.scrollTop=0),Ze===De&&D&&(D.scrollTop=D.scrollHeight),Ze?.focus(),document.activeElement!==Ye))return},[W,D]),Y=x.useCallback(()=>G([I,O]),[G,I,O]);x.useEffect(()=>{ne&&Y()},[ne,Y]);const{onOpenChange:te,triggerPointerDownPosRef:de}=k;x.useEffect(()=>{if(O){let Se={x:0,y:0};const je=De=>{Se={x:Math.abs(Math.round(De.pageX)-(de.current?.x??0)),y:Math.abs(Math.round(De.pageY)-(de.current?.y??0))}},Me=De=>{Se.x<=10&&Se.y<=10?De.preventDefault():O.contains(De.target)||te(!1),document.removeEventListener("pointermove",je),de.current=null};return de.current!==null&&(document.addEventListener("pointermove",je),document.addEventListener("pointerup",Me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",Me,{capture:!0})}}},[O,te,de]),x.useEffect(()=>{const Se=()=>te(!1);return window.addEventListener("blur",Se),window.addEventListener("resize",Se),()=>{window.removeEventListener("blur",Se),window.removeEventListener("resize",Se)}},[te]);const[oe,K]=Yj(Se=>{const je=W().filter(Ye=>!Ye.disabled),Me=je.find(Ye=>Ye.ref.current===document.activeElement),De=Zj(je,Se,Me);De&&setTimeout(()=>De.ref.current.focus())}),ae=x.useCallback((Se,je,Me)=>{const De=!ye.current&&!Me;(k.value!==void 0&&k.value===je||De)&&($(Se),De&&(ye.current=!0))},[k.value]),be=x.useCallback(()=>O?.focus(),[O]),xe=x.useCallback((Se,je,Me)=>{const De=!ye.current&&!Me;(k.value!==void 0&&k.value===je||De)&&q(Se)},[k.value]),Re=i==="popper"?k0:Lj,we=Re===k0?{side:c,sideOffset:d,align:h,alignOffset:g,arrowPadding:v,collisionBoundary:b,collisionPadding:_,sticky:C,hideWhenDetached:E,avoidCollisions:R}:{};return y.jsx(Mj,{scope:n,content:O,viewport:D,onViewportChange:V,itemRefCallback:ae,selectedItem:I,onItemLeave:be,itemTextRefCallback:xe,focusSelectedItem:Y,selectedItemText:Z,position:i,isPositioned:ne,searchRef:oe,children:y.jsx(Og,{as:yie,allowPinchZoom:!0,children:y.jsx(Cg,{asChild:!0,trapped:k.open,onMountAutoFocus:Se=>{Se.preventDefault()},onUnmountAutoFocus:Ie(s,Se=>{k.trigger?.focus({preventScroll:!0}),Se.preventDefault()}),children:y.jsx(Wf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:Se=>Se.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:y.jsx(Re,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:Se=>Se.preventDefault(),...N,...we,onPlaced:()=>re(!0),ref:z,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Ie(N.onKeyDown,Se=>{const je=Se.ctrlKey||Se.altKey||Se.metaKey;if(Se.key==="Tab"&&Se.preventDefault(),!je&&Se.key.length===1&&K(Se.key),["ArrowUp","ArrowDown","Home","End"].includes(Se.key)){let De=W().filter(Ye=>!Ye.disabled).map(Ye=>Ye.ref.current);if(["ArrowUp","End"].includes(Se.key)&&(De=De.slice().reverse()),["ArrowUp","ArrowDown"].includes(Se.key)){const Ye=Se.target,Ze=De.indexOf(Ye);De=De.slice(Ze+1)}setTimeout(()=>G(De)),Se.preventDefault()}})})})})})})});Dj.displayName=vie;var bie="SelectItemAlignedPosition",Lj=x.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:i,...s}=e,o=Fa(Xl,n),l=Va(Xl,n),[c,d]=x.useState(null),[h,g]=x.useState(null),v=St(t,z=>g(z)),b=Qg(n),_=x.useRef(!1),C=x.useRef(!0),{viewport:E,selectedItem:R,selectedItemText:N,focusSelectedItem:k}=l,O=x.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&h&&E&&R&&N){const z=o.trigger.getBoundingClientRect(),I=h.getBoundingClientRect(),$=o.valueNode.getBoundingClientRect(),Z=N.getBoundingClientRect();if(o.dir!=="rtl"){const Ye=Z.left-I.left,Ze=$.left-Ye,Ct=z.left-Ze,yt=z.width+Ct,It=Math.max(yt,I.width),dn=window.innerWidth-ur,fn=tg(Ze,[ur,Math.max(ur,dn-It)]);c.style.minWidth=yt+"px",c.style.left=fn+"px"}else{const Ye=I.right-Z.right,Ze=window.innerWidth-$.right-Ye,Ct=window.innerWidth-z.right-Ze,yt=z.width+Ct,It=Math.max(yt,I.width),dn=window.innerWidth-ur,fn=tg(Ze,[ur,Math.max(ur,dn-It)]);c.style.minWidth=yt+"px",c.style.right=fn+"px"}const q=b(),W=window.innerHeight-ur*2,ne=E.scrollHeight,re=window.getComputedStyle(h),ye=parseInt(re.borderTopWidth,10),G=parseInt(re.paddingTop,10),Y=parseInt(re.borderBottomWidth,10),te=parseInt(re.paddingBottom,10),de=ye+G+ne+te+Y,oe=Math.min(R.offsetHeight*5,de),K=window.getComputedStyle(E),ae=parseInt(K.paddingTop,10),be=parseInt(K.paddingBottom,10),xe=z.top+z.height/2-ur,Re=W-xe,we=R.offsetHeight/2,Se=R.offsetTop+we,je=ye+G+Se,Me=de-je;if(je<=xe){const Ye=q.length>0&&R===q[q.length-1].ref.current;c.style.bottom="0px";const Ze=h.clientHeight-E.offsetTop-E.offsetHeight,Ct=Math.max(Re,we+(Ye?be:0)+Ze+Y),yt=je+Ct;c.style.height=yt+"px"}else{const Ye=q.length>0&&R===q[0].ref.current;c.style.top="0px";const Ct=Math.max(xe,ye+E.offsetTop+(Ye?ae:0)+we)+Me;c.style.height=Ct+"px",E.scrollTop=je-xe+E.offsetTop}c.style.margin=`${ur}px 0`,c.style.minHeight=oe+"px",c.style.maxHeight=W+"px",i?.(),requestAnimationFrame(()=>_.current=!0)}},[b,o.trigger,o.valueNode,c,h,E,R,N,o.dir,i]);Ln(()=>O(),[O]);const[M,D]=x.useState();Ln(()=>{h&&D(window.getComputedStyle(h).zIndex)},[h]);const V=x.useCallback(z=>{z&&C.current===!0&&(O(),k?.(),C.current=!1)},[O,k]);return y.jsx(_ie,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:_,onScrollButtonChange:V,children:y.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:y.jsx(Cs.div,{...s,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Lj.displayName=bie;var xie="SelectPopperPosition",k0=x.forwardRef((e,t)=>{const{__scopeSelect:n,align:i="start",collisionPadding:s=ur,...o}=e,l=Jg(n);return y.jsx(d_,{...l,...o,ref:t,align:i,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});k0.displayName=xie;var[_ie,Mw]=Vu(Xl,{}),N0="SelectViewport",jj=x.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:i,...s}=e,o=Va(N0,n),l=Mw(N0,n),c=St(t,o.onViewportChange),d=x.useRef(0);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),y.jsx(Xg.Slot,{scope:n,children:y.jsx(Cs.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ie(s.onScroll,h=>{const g=h.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:b}=l;if(b?.current&&v){const _=Math.abs(d.current-g.scrollTop);if(_>0){const C=window.innerHeight-ur*2,E=parseFloat(v.style.minHeight),R=parseFloat(v.style.height),N=Math.max(E,R);if(N<C){const k=N+_,O=Math.min(C,k),M=k-O;v.style.height=O+"px",v.style.bottom==="0px"&&(g.scrollTop=M>0?M:0,v.style.justifyContent="flex-end")}}}d.current=g.scrollTop})})})]})});jj.displayName=N0;var Ij="SelectGroup",[wie,Sie]=Vu(Ij),Cie=x.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,s=_s();return y.jsx(wie,{scope:n,id:s,children:y.jsx(Cs.div,{role:"group","aria-labelledby":s,...i,ref:t})})});Cie.displayName=Ij;var zj="SelectLabel",Eie=x.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,s=Sie(zj,n);return y.jsx(Cs.div,{id:s.id,...i,ref:t})});Eie.displayName=zj;var fg="SelectItem",[Aie,Bj]=Vu(fg),Uj=x.forwardRef((e,t)=>{const{__scopeSelect:n,value:i,disabled:s=!1,textValue:o,...l}=e,c=Fa(fg,n),d=Va(fg,n),h=c.value===i,[g,v]=x.useState(o??""),[b,_]=x.useState(!1),C=St(t,k=>d.itemRefCallback?.(k,i,s)),E=_s(),R=x.useRef("touch"),N=()=>{s||(c.onValueChange(i),c.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return y.jsx(Aie,{scope:n,value:i,disabled:s,textId:E,isSelected:h,onItemTextChange:x.useCallback(k=>{v(O=>O||(k?.textContent??"").trim())},[]),children:y.jsx(Xg.ItemSlot,{scope:n,value:i,disabled:s,textValue:g,children:y.jsx(Cs.div,{role:"option","aria-labelledby":E,"data-highlighted":b?"":void 0,"aria-selected":h&&b,"data-state":h?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:C,onFocus:Ie(l.onFocus,()=>_(!0)),onBlur:Ie(l.onBlur,()=>_(!1)),onClick:Ie(l.onClick,()=>{R.current!=="mouse"&&N()}),onPointerUp:Ie(l.onPointerUp,()=>{R.current==="mouse"&&N()}),onPointerDown:Ie(l.onPointerDown,k=>{R.current=k.pointerType}),onPointerMove:Ie(l.onPointerMove,k=>{R.current=k.pointerType,s?d.onItemLeave?.():R.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ie(l.onPointerLeave,k=>{k.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:Ie(l.onKeyDown,k=>{d.searchRef?.current!==""&&k.key===" "||(uie.includes(k.key)&&N(),k.key===" "&&k.preventDefault())})})})})});Uj.displayName=fg;var nf="SelectItemText",Fj=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:i,style:s,...o}=e,l=Fa(nf,n),c=Va(nf,n),d=Bj(nf,n),h=pie(nf,n),[g,v]=x.useState(null),b=St(t,N=>v(N),d.onItemTextChange,N=>c.itemTextRefCallback?.(N,d.value,d.disabled)),_=g?.textContent,C=x.useMemo(()=>y.jsx("option",{value:d.value,disabled:d.disabled,children:_},d.value),[d.disabled,d.value,_]),{onNativeOptionAdd:E,onNativeOptionRemove:R}=h;return Ln(()=>(E(C),()=>R(C)),[E,R,C]),y.jsxs(y.Fragment,{children:[y.jsx(Cs.span,{id:d.textId,...o,ref:b}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Ji.createPortal(o.children,l.valueNode):null]})});Fj.displayName=nf;var Vj="SelectItemIndicator",$j=x.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e;return Bj(Vj,n).isSelected?y.jsx(Cs.span,{"aria-hidden":!0,...i,ref:t}):null});$j.displayName=Vj;var O0="SelectScrollUpButton",Hj=x.forwardRef((e,t)=>{const n=Va(O0,e.__scopeSelect),i=Mw(O0,e.__scopeSelect),[s,o]=x.useState(!1),l=St(t,i.onScrollButtonChange);return Ln(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollTop>0;o(h)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?y.jsx(Kj,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});Hj.displayName=O0;var P0="SelectScrollDownButton",Gj=x.forwardRef((e,t)=>{const n=Va(P0,e.__scopeSelect),i=Mw(P0,e.__scopeSelect),[s,o]=x.useState(!1),l=St(t,i.onScrollButtonChange);return Ln(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollHeight-d.clientHeight,g=Math.ceil(d.scrollTop)<h;o(g)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?y.jsx(Kj,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});Gj.displayName=P0;var Kj=x.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:i,...s}=e,o=Va("SelectScrollButton",n),l=x.useRef(null),c=Qg(n),d=x.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return x.useEffect(()=>()=>d(),[d]),Ln(()=>{c().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),y.jsx(Cs.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Ie(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(i,50))}),onPointerMove:Ie(s.onPointerMove,()=>{o.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(i,50))}),onPointerLeave:Ie(s.onPointerLeave,()=>{d()})})}),Tie="SelectSeparator",Rie=x.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e;return y.jsx(Cs.div,{"aria-hidden":!0,...i,ref:t})});Rie.displayName=Tie;var M0="SelectArrow",kie=x.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,s=Jg(n),o=Fa(M0,n),l=Va(M0,n);return o.open&&l.position==="popper"?y.jsx(f_,{...s,...i,ref:t}):null});kie.displayName=M0;var Nie="SelectBubbleInput",qj=x.forwardRef(({__scopeSelect:e,value:t,...n},i)=>{const s=x.useRef(null),o=St(i,s),l=pM(t);return x.useEffect(()=>{const c=s.current;if(!c)return;const d=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&g){const v=new Event("change",{bubbles:!0});g.call(c,t),c.dispatchEvent(v)}},[l,t]),y.jsx(Cs.select,{...n,style:{...cj,...n.style},ref:o,defaultValue:t})});qj.displayName=Nie;function Wj(e){return e===""||e===void 0}function Yj(e){const t=Ks(e),n=x.useRef(""),i=x.useRef(0),s=x.useCallback(l=>{const c=n.current+l;t(c),(function d(h){n.current=h,window.clearTimeout(i.current),h!==""&&(i.current=window.setTimeout(()=>d(""),1e3))})(c)},[t]),o=x.useCallback(()=>{n.current="",window.clearTimeout(i.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(i.current),[]),[n,s,o]}function Zj(e,t,n){const s=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let l=Oie(e,Math.max(o,0));s.length===1&&(l=l.filter(h=>h!==n));const d=l.find(h=>h.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function Oie(e,t){return e.map((n,i)=>e[(t+i)%e.length])}var Pie=Ej,Mie=Tj,Die=kj,Lie=Nj,jie=Oj,Iie=Pj,zie=jj,Bie=Uj,Uie=Fj,Fie=$j,Vie=Hj,$ie=Gj;function Hie({...e}){return y.jsx(Pie,{"data-slot":"select",...e})}function Gie({...e}){return y.jsx(Die,{"data-slot":"select-value",...e})}function Kie({className:e,size:t="default",children:n,...i}){return y.jsxs(Mie,{"data-slot":"select-trigger","data-size":t,className:it("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...i,children:[n,y.jsx(Lie,{asChild:!0,children:y.jsx(Cf,{className:"size-4 opacity-50"})})]})}function qie({className:e,children:t,position:n="popper",...i}){return y.jsx(jie,{children:y.jsxs(Iie,{"data-slot":"select-content",className:it("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...i,children:[y.jsx(Yie,{}),y.jsx(zie,{className:it("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),y.jsx(Zie,{})]})})}function Wie({className:e,children:t,...n}){return y.jsxs(Bie,{"data-slot":"select-item",className:it("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[y.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:y.jsx(Fie,{children:y.jsx(jO,{className:"size-4"})})}),y.jsx(Uie,{children:t})]})}function Yie({className:e,...t}){return y.jsx(Vie,{"data-slot":"select-scroll-up-button",className:it("flex cursor-default items-center justify-center py-1",e),...t,children:y.jsx(IO,{className:"size-4"})})}function Zie({className:e,...t}){return y.jsx($ie,{"data-slot":"select-scroll-down-button",className:it("flex cursor-default items-center justify-center py-1",e),...t,children:y.jsx(Cf,{className:"size-4"})})}const Xie=()=>{const{t:e}=Mt(),[t,n]=x.useState(""),[i,s]=x.useState(""),[o,l]=x.useState(!1),[c,d]=x.useState(null),[h,g]=x.useState(null),[v,b]=x.useState(null),[_,C]=x.useState(!1),{navigateToNodes:E}=mh(),R=x.useMemo(()=>Object.entries(Au).map(([D,V])=>({key:Number(D),name:V})),[]),N={animalia:"gorilla gorilla",plantae:"zea mays",fungi:"amanita muscaria",bacteria:"escherichia coli",archaea:"halobacterium salinarum",chromista:"navicula radiosa",protozoa:"amoeba proteus"},k=i?`${e("search.example")}: ${N[String(i).toLowerCase()]??"sapiens"}`:e("search.selectKingdom"),O=async D=>{if(D?.preventDefault(),g(null),!i){g(e("search.selectKingdomFirst"));return}if(!(!t||!t.trim())){l(!0);try{const I=(await tZ(t.trim(),i)??[]).filter(W=>{const re=W.nubKey,ye=typeof re=="number"&&re>0,G=String(W.kingdom??"").toLowerCase(),Y=G===String(i??"").toLowerCase()||G==="metazoa"&&String(i??"").toLowerCase()==="animalia";return!!(ye&&Y)}),$=t.trim().toLowerCase(),Z=$.split(/\s+/).filter(Boolean),q=W=>{const ne=new Map,re=new Map;W.forEach(Y=>{const te=((Y.canonicalName||Y.scientificName)??"").trim();if(!te)return;const de=te.toLowerCase().split(/\s+/).filter(Boolean);if(de.length>=2){const oe=`${de[0]} ${de[1]}`,K=ne.get(oe);(!K||K.rank!=="SPECIES")&&ne.set(oe,Y)}else if(de.length===1){const oe=de[0],K=re.get(oe);(!K||K.rank!=="GENUS")&&re.set(oe,Y)}});const ye=Z[0],G=[];if(Z.length===1&&ye){for(const[Y,te]of ne.entries())Y.split(" ")[1]===ye&&G.push(te);if(re.has(ye))G.unshift(re.get(ye));else for(const Y of re.values())if(String(Y.genus??"").toLowerCase()===ye){G.unshift(Y);break}if(G.length>0)return G.slice(0,10)}if(ye&&re.has(ye))G.push(re.get(ye));else if(ye){for(const Y of re.values())if(String(Y.genus??"").toLowerCase()===ye){G.push(Y);break}}for(const[Y,te]of ne.entries())if(Y.startsWith(ye+" ")){G.push(te);break}if(G.length===0){if(re.size>0){const Y=re.values().next().value;Y&&G.push(Y)}if(ne.size>0){const Y=ne.values().next().value;Y&&G.push(Y)}}return G};if(Z.length>=2){const W=I.filter(re=>((re.canonicalName||re.scientificName)??"").toLowerCase()===$),ne=W.length?W:I.filter(re=>{const ye=((re.canonicalName||re.scientificName)??"").toLowerCase();return Z.every(G=>ye.includes(G))});d(q(ne))}else{const W=I.filter(re=>((re.canonicalName||re.scientificName)??"").toLowerCase()===$&&re.rank==="SPECIES"),ne=W.length?[...W,...I.filter(re=>!W.includes(re))]:I;d(q(ne))}}catch(V){console.error(V),g(e("search.gbifError")),d(null)}finally{l(!1)}}},M=async D=>{l(!0);try{let V,z=null;try{const Y=await pD(D.key);z=Y,V=Y.nubKey??Y.key}catch{}const I=V??D.key,$=await mD(I);if(!$||$.length===0){g(e("search.lineageError")),l(!1);return}const Z=D.rank==="SPECIES",q=$.findIndex(G=>G.rank==="GENUS");let W=$.length;if(Z&&q!==-1)W=q+1;else if(D.rank==="GENUS"){const G=$.findIndex(Y=>{const te=Y,de=te.nubKey??te.key;return Y.key===D.key||de===D.key});G!==-1&&(W=G+1)}const re=$.slice(0,W).map(G=>{const Y=G,te=Y.nubKey??Y.key??0,de=Y.canonicalName||Y.scientificName||Y.name||Y.rank||"";return{key:te,rank:Y.rank?.toUpperCase()??"KINGDOM",name:de}});if(D.rank==="SPECIES"||!!(z&&(z.species||z.species===""))){const G=V??D.key,Y=z?.species||D.canonicalName||D.scientificName||"",te=re[re.length-1]?.key;G&&G!==te&&re.push({key:G,rank:"SPECIES",name:Y})}E(re,!0),b(D)}catch(V){console.error(V),g(e("search.pathError"))}finally{l(!1)}};return y.jsxs("div",{children:[y.jsxs("form",{onSubmit:O,className:"flex h-9.5 flex-nowrap items-center gap-2",children:[y.jsxs(Hie,{value:i,onValueChange:D=>s(D),children:[y.jsx(Kie,{className:"rounded-lg border px-2 text-sm font-medium",children:y.jsx(Gie,{placeholder:e("search.kingdom"),children:i?y.jsx(Hn,{src:gs(R.find(D=>D.name===i)?.key??0),alt:"Reino",className:"size-5"}):y.jsx("span",{children:e("search.kingdom")})})}),y.jsx(qie,{className:"rounded-lg text-sm font-medium",children:R.map(D=>y.jsxs(Wie,{value:D.name,children:[y.jsx(Hn,{src:gs(D.key),alt:`${i} icon`,className:"size-5"}),Qi(D.name)]},D.key))})]}),y.jsx("input",{value:t,onChange:D=>n(D.target.value),placeholder:k,className:"h-full min-w-0 flex-1 rounded-md border px-3 py-2 text-sm","aria-label":e("search.searchTaxa")}),y.jsx("button",{type:"submit",disabled:o,className:"h-full cursor-pointer rounded-md border px-3 py-2 text-sm disabled:opacity-60",children:o?y.jsx(nh,{className:"size-4 animate-spin"}):y.jsx(KO,{className:"size-4"})})]}),h&&y.jsx("div",{className:"mt-2 text-sm text-red-600",children:h}),c&&y.jsxs("div",{className:"bg-card mt-3 w-full rounded-lg border p-2 shadow-sm",children:[y.jsxs("button",{onClick:()=>C(D=>!D),className:"flex w-full cursor-pointer items-center justify-between px-2","aria-label":e(_?"search.expandResults":"search.minimizeResults"),children:[y.jsxs("strong",{className:"text-sm",children:[c.length," ",e("search.results")]}),y.jsx("span",{className:"text-muted-foreground",children:_?"":""})]}),!_&&y.jsx("ul",{className:"max-h-60 space-y-1 overflow-auto",children:c.map(D=>y.jsx("li",{children:y.jsx("button",{onClick:()=>M(D),className:`hover:bg-accent w-full cursor-pointer rounded-lg px-3 py-2 text-left ${v?.key===D.key?"bg-muted font-medium":""}`,children:y.jsx("div",{className:"flex items-center justify-between",children:y.jsxs("div",{children:[y.jsx("div",{className:"font-medium",children:D.canonicalName||D.scientificName}),y.jsx("div",{className:"text-muted-foreground text-xs",children:[D.kingdom&&Qi(String(D.kingdom)),D.phylum&&Qi(String(D.phylum)),D.class&&Qi(String(D.class)),D.order&&Qi(String(D.order)),D.family&&Qi(String(D.family)),D.genus&&Qi(String(D.genus))].filter(Boolean).join("  ")})]})})})},D.key))})]})]})},Qie="/treevera/assets/click-success-CCSz7ZCu.wav",Jie="/treevera/assets/click-error-e1JTzZ7m.wav",ese="/treevera/assets/winning-CUspfwTE.wav",tse={success:Qie,error:Jie,win:ese};class nse{play(t){const n=qf(),{muted:i,volume:s}=n.get(kM);if(i)return;const o=new Audio(tse[t]);o.volume=s,o.play().catch(()=>{})}}const sx=new nse,ise=()=>{const e=Le(tt.expandedNodes),t=Le(tt.challenge),n=t.status,i=t.speciesKey??0,s=n==="IN_PROGRESS"||n==="COMPLETED",o=x.useRef(!1),l=x.useRef(new Set),{data:c}=Bo({specieKey:i}),{data:d}=Yg(i,s),h=x.useMemo(()=>!d||!c?[]:Zg(d,c.canonicalName??c.species??"",i),[d,c,i]);x.useEffect(()=>{n==="COMPLETED"&&(o.current||(sx.play("win"),o.current=!0))},[n]),x.useEffect(()=>{if(n!=="IN_PROGRESS")return;if(e.length===0){l.current=new Set;return}const g=e[e.length-1];if(!g)return;const v=!l.current.has(g.key);if(l.current=new Set(e.map(E=>E.key)),!v)return;const b=e.length-1,_=h[b];if(!_)return;g.name.toLowerCase()===_.name.toLowerCase()?sx.play("success"):sx.play("error")},[e,n,h]),x.useEffect(()=>{o.current=!1,l.current=new Set},[i])};function sse(e,t){const n=Le(tt.expandedNodes),i=Le(tt.shortcutScrollTarget),s=$t(UP),{isMobile:o}=ec(),l=x.useRef({targetPath:null,scrolledKey:null});x.useEffect(()=>{if(!i||i.length===0){l.current={targetPath:null,scrolledKey:null};return}l.current.targetPath!==i&&(l.current={targetPath:i,scrolledKey:null},o&&window.scrollTo({top:0,behavior:"smooth"}));let c=null;for(let h=i.length-1;h>=0;h--){const g=i[h].key;if(n.some(v=>v.key===g)&&e.some(v=>v.key===g)){c=g;break}}if(c===null||c===l.current.scrolledKey)return;l.current.scrolledKey=c;const d=e.findIndex(h=>h.key===c);d!==-1&&(t.scrollToIndex(d,{align:"start",behavior:"smooth"}),c===i[i.length-1]?.key&&s(null))},[i,n,e,t,s,o])}function ja({className:e,...t}){return y.jsx("div",{"data-slot":"card",className:it("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function Xj({className:e,...t}){return y.jsx("div",{"data-slot":"card-header",className:it("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Qj({className:e,...t}){return y.jsx("div",{"data-slot":"card-title",className:it("leading-none font-semibold",e),...t})}function rse({className:e,...t}){return y.jsx("div",{"data-slot":"card-description",className:it("text-muted-foreground text-sm",e),...t})}function Ia({className:e,...t}){return y.jsx("div",{"data-slot":"card-content",className:it("px-6",e),...t})}const gh="/treevera/assets/alvo-DNWwIacs.gif",ev="/treevera/assets/alvo-white-D_dDYQFf.gif",Jj=()=>{const[e,t]=x.useState("24:00:00");return x.useEffect(()=>{const n=()=>{const s=new Date,o=new Date;o.setHours(24,0,0,0);const l=o.getTime()-s.getTime(),c=String(Math.floor(l/36e5)).padStart(2,"0"),d=String(Math.floor(l%36e5/6e4)).padStart(2,"0"),h=String(Math.floor(l%6e4/1e3)).padStart(2,"0");t(`${c}:${d}:${h}`)};n();const i=setInterval(n,1e3);return()=>clearInterval(i)},[]),y.jsxs("div",{className:"flex items-center gap-1 text-right",children:[y.jsx(Y$,{className:"text-muted-foreground size-3 shrink-0"}),y.jsx("span",{className:"text-muted-foreground font-mono text-xs tabular-nums",children:e})]})},ose=async e=>{const{data:t,error:n}=await Dn.rpc("get_or_create_daily_challenge",{p_date:e});if(n||!t||t.length===0)return console.error("Error fetching daily challenge:",n),null;const i=t[0];return{gbifKey:i.gbif_key,scientificName:i.scientific_name}},ase=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${i}`},qR=()=>{const e=new Date;return e.setHours(24,0,0,0),e.getTime()-Date.now()},e2=e=>{const{daily_challenge_key:t}=Iu,n=ase(),i=e??n,s=i===n;return wr({queryKey:[t,i],queryFn:()=>ose(i),staleTime:s?qR():1/0,gcTime:s?qR()+1e3*60*5:1e3*60*60*24})},lse=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${i}`},cse=async e=>{const t=lse(),{data:n,error:i}=await Dn.from("daily_challenges").select("date, gbif_key").lte("date",t).order("date",{ascending:!1}).limit(60);if(i||!n)return[];if(!e||n.length===0)return n.map(c=>({date:c.date,gbifKey:c.gbif_key,completed:!1}));const s=n.map(c=>c.gbif_key),{data:o}=await Dn.from("user_challenge_history").select("gbif_key").eq("user_id",e).eq("mode","DAILY").in("gbif_key",s),l=new Set((o??[]).map(c=>c.gbif_key));return n.map(c=>({date:c.date,gbifKey:c.gbif_key,completed:l.has(c.gbif_key)}))},t2=()=>{const t=Le(st.session)?.user?.id;return wr({queryKey:["challenge_dates",t??"anonymous"],queryFn:()=>cse(t),staleTime:1e3*60*5})},use=(e,t)=>new Date(e,t+1,0).getDate(),dse=(e,t)=>{const n=new Date(e,t,1).getDay();return n===0?6:n-1},fse=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${i}`},hse=({selectedDate:e,challengeDates:t,onSelectDate:n,formattedLabel:i})=>{const{i18n:s,t:o}=Mt(),l=fse(),[c,d]=x.useState(!1),[h,g]=x.useState(()=>parseInt(e.slice(0,4))),[v,b]=x.useState(()=>parseInt(e.slice(5,7))-1),_=new Map(t.map(ne=>[ne.date,ne])),C=l.split("-"),E=parseInt(C[0]),R=parseInt(C[1])-1,N=t.length>0?t[t.length-1].date:l,k=parseInt(N.slice(0,4)),O=parseInt(N.slice(5,7))-1,M=h===E&&v===R,D=h===k&&v===O,V=()=>{D||(v===0?(g(ne=>ne-1),b(11)):b(ne=>ne-1))},z=()=>{M||(v===11?(g(ne=>ne+1),b(0)):b(ne=>ne+1))},I=ne=>{!_.get(ne)||ne>l||(n(ne),d(!1))},$=use(h,v),Z=dse(h,v),q=new Intl.DateTimeFormat(s.language,{month:"long",year:"numeric"}).format(new Date(h,v,1)),W=Array.from({length:7},(ne,re)=>{const ye=new Date(2025,0,6+re);return new Intl.DateTimeFormat(s.language,{weekday:"short"}).format(ye).slice(0,2)});return y.jsxs(U_,{open:c,onOpenChange:d,children:[y.jsx(nY,{asChild:!0,children:y.jsx("button",{className:"bg-muted/80 rounded-md px-2 py-1 text-sm font-medium transition-colors",children:i})}),y.jsxs(F_,{className:"max-w-[320px] p-0",children:[y.jsx(V_,{className:"px-5 pt-5 pb-3",children:y.jsx($_,{className:"text-base",children:o("challenge.dailyChallenges")})}),y.jsxs("div",{className:"px-4 pb-5 select-none",children:[y.jsxs("div",{className:"mb-3 flex items-center justify-between gap-2",children:[y.jsx(Ht,{variant:"ghost",size:"icon",className:"size-7",onClick:V,disabled:D,children:y.jsx(S_,{className:"size-4"})}),y.jsx("span",{className:"text-sm font-semibold capitalize",children:q}),y.jsx(Ht,{variant:"ghost",size:"icon",className:"size-7",onClick:z,disabled:M,children:y.jsx(Du,{className:"size-4"})})]}),y.jsx("div",{className:"mb-1 grid grid-cols-7",children:W.map(ne=>y.jsx("div",{className:"text-muted-foreground py-1 text-center text-[10px] font-medium uppercase",children:ne},ne))}),y.jsxs("div",{className:"grid grid-cols-7 gap-y-1",children:[Array.from({length:Z},(ne,re)=>y.jsx("div",{},`gap-${re}`)),Array.from({length:$},(ne,re)=>{const ye=re+1,G=`${h}-${String(v+1).padStart(2,"0")}-${String(ye).padStart(2,"0")}`,Y=G>l,te=_.get(G),de=!!te,oe=te?.completed??!1,K=G===e,ae=Y||!de;return y.jsxs("button",{onClick:()=>!ae&&I(G),disabled:ae,className:["relative mx-auto flex size-8 items-center justify-center rounded-full text-sm transition-all",ae?"text-muted-foreground/35 cursor-not-allowed":"cursor-pointer",K?"ring-primary ring-1":ae?"":"hover:bg-muted",oe&&!K?"font-semibold text-emerald-600 dark:text-emerald-400":""].filter(Boolean).join(" "),children:[ye,oe&&y.jsx("span",{className:"absolute bottom-0.5 left-1/2 size-1 -translate-x-1/2 rounded-full bg-emerald-500"})]},ye)})]}),y.jsx("div",{className:"text-muted-foreground mt-3 flex items-center gap-3 border-t pt-3 text-xs",children:y.jsxs("span",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:"inline-block size-1.5 rounded-full bg-emerald-500"}),o("challenge.completedLabel")]})})]})]})]})},n2=({selectedDate:e,onSelectDate:t})=>{const{i18n:n,t:i}=Mt(),{data:s=[]}=t2(),o=[...s].sort((g,v)=>g.date.localeCompare(v.date)),l=o.findIndex(g=>g.date===e),c=l>0?o[l-1]:null,d=l<o.length-1?o[l+1]:null,h=new Intl.DateTimeFormat(n.language,{day:"numeric",month:"short",year:"numeric"}).format(new Date(e+"T00:00:00"));return y.jsxs("div",{className:"flex items-center gap-0.5",children:[y.jsx(Ht,{variant:"ghost",size:"icon",className:"bg-muted/80 size-7 shrink-0",disabled:!c,onClick:()=>c&&t(c.date),title:i("challenge.prevDay"),children:y.jsx(S_,{className:"size-4"})}),y.jsx(hse,{selectedDate:e,challengeDates:s,onSelectDate:t,formattedLabel:h}),y.jsx(Ht,{variant:"ghost",size:"icon",className:"bg-muted/80 size-7 shrink-0",disabled:!d,onClick:()=>d&&t(d.date),title:i("challenge.nextDay"),children:y.jsx(Du,{className:"size-4"})})]})},pse=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${i}`},WR=()=>{const{t:e}=Mt(),t=Ii(),{theme:n}=ih(),i=Le(st.isAuthenticated),s=Le(tt.challenge),o=$t(tt.challenge),l=pse(),[c,d]=x.useState(()=>s.challengeDate??l),{data:h=[]}=t2(),{data:g,isLoading:v,isError:b}=e2(c),C=h.find(O=>O.date===c)?.completed??!1,E=c===l,R=O=>{d(O)},N=()=>{if(!i){t({to:"/login"});return}g&&o({mode:"DAILY",status:"IN_PROGRESS",targetSpecies:g.scientificName,speciesKey:g.gbifKey,challengeDate:c})},k=g?.scientificName;return y.jsx("div",{className:"md:px-4 md:py-6",children:y.jsxs(ja,{className:"relative mx-auto rounded-3xl",children:[E&&y.jsx("div",{className:"absolute top-3 right-4",children:y.jsx(Jj,{})}),y.jsxs(Ia,{className:"flex flex-col gap-3",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Hn,{src:n==="dark"?ev:gh,className:"size-12",alt:"Alvo gif"}),y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("h2",{className:"text-xl font-bold",children:e("challenge.title")}),y.jsxs("p",{className:"text-sm",children:[e("challenge.find"),":"," ",v?y.jsx("span",{className:"text-muted-foreground animate-pulse font-semibold",children:"..."}):b||!k?y.jsx("span",{className:"text-muted-foreground font-semibold",children:""}):y.jsx("span",{className:"font-semibold text-emerald-600",children:k})]})]})]}),y.jsxs("div",{className:"flex flex-col items-center gap-2 sm:flex-row",children:[y.jsx(n2,{selectedDate:c,onSelectDate:R}),C&&y.jsx("span",{className:"text-muted-foreground text-xs",children:e("challenge.alreadyCompleted")})]}),E&&y.jsx("p",{className:"text-muted-foreground text-sm",children:e("challenge.missionDescription")}),y.jsx(Ht,{size:"lg",className:"bg-emerald-600",onClick:N,disabled:v||b||!g,children:e("challenge.start")})]})]})})},Dw=async e=>{const{data:t,error:n}=await Dn.rpc("get_random_challenge_for_user",{p_user_id:e});if(n)return console.error("Error fetching random challenge:",n),null;if(!t||t.length===0)return null;const i=t[0];return{gbifKey:i.gbif_key,scientificName:i.scientific_name}},mse=()=>{const{t:e}=Mt(),t=Ii(),{theme:n}=ih(),i=Le(st.isAuthenticated),s=Le(st.session),o=$t(tt.challenge),[l,c]=x.useState(!1),[d,h]=x.useState(!1),g=async()=>{if(!i){t({to:"/login"});return}const v=s?.user?.id;if(!v)return;c(!0),h(!1);const b=await Dw(v);if(c(!1),!b){h(!0);return}o({mode:"RANDOM",status:"IN_PROGRESS",targetSpecies:b.scientificName,speciesKey:b.gbifKey})};return y.jsx("div",{className:"md:px-4 md:py-6",children:y.jsx(ja,{className:"mx-auto rounded-3xl",children:y.jsxs(Ia,{className:"flex flex-col gap-3",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Hn,{src:n==="dark"?ev:gh,className:"size-12",alt:"Alvo gif"}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-bold",children:e("challenge.randomTitle")}),y.jsxs("p",{className:"text-sm",children:[e("challenge.find"),":"," ",y.jsx("span",{className:"font-semibold text-violet-600",children:"????"})]})]})]}),y.jsx("p",{className:"text-muted-foreground text-sm",children:e("challenge.randomMissionDescription")}),d&&y.jsx("p",{className:"text-sm font-semibold text-violet-600",children:"No foi possivel obter um desafio aleatrio. Tente novamente mais tarde."}),y.jsx(Ht,{size:"lg",className:"bg-violet-600",onClick:g,disabled:l,children:e("challenge.start")})]})})})},i2=({correctPath:e,activeIndex:t,currentStep:n})=>{const{t:i}=Mt(),s=Le(tt.expandedNodes),o=l=>{const c=s[l],d=e[l];return c?d&&c.name===d.name?"success":"error":"locked"};return e.length===0?null:y.jsxs("div",{className:"bg-accent/40 rounded-2xl p-4",children:[y.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[y.jsx("h3",{className:"text-sm font-semibold",children:i("challenge.taxonomicPath")}),y.jsxs("div",{children:[y.jsx("span",{className:"text-xl font-bold text-emerald-600 tabular-nums dark:text-emerald-400",children:n}),y.jsxs("span",{className:"text-muted-foreground text-sm font-medium",children:["/",e.length]})]})]}),y.jsx("div",{className:"grid grid-cols-2 gap-2 lg:grid-cols-3 xl:grid-cols-4",children:e.map((l,c)=>{const d=o(c),h=t===c;return y.jsxs(Pt.div,{layout:!0,animate:h?{scale:1.03}:d==="error"?{x:[-4,4,-3,3,0]}:{scale:1},transition:d==="error"?{duration:.3}:{type:"spring",stiffness:300,damping:20},className:it("flex items-center justify-between rounded-xl border p-3 transition-all",d==="success"&&"border-green-500/60 bg-green-500/10",d==="error"&&"border-red-400/60 bg-red-500/10",d==="locked"&&"border-dashed opacity-50",h&&"ring-2 ring-emerald-400"),children:[y.jsxs("div",{className:"flex min-w-0 flex-col",children:[y.jsx("span",{className:"text-muted-foreground text-[10px] font-semibold tracking-wide uppercase",children:l.rank}),y.jsx("span",{className:it("mt-0.5 truncate text-xs font-medium",d==="success"&&"text-green-600 dark:text-green-400",d==="error"&&"text-red-500",d==="locked"&&"text-muted-foreground"),children:d==="locked"?"":s[c]?.name})]}),y.jsxs("div",{className:"ml-2 shrink-0",children:[d==="success"&&y.jsx(q$,{className:"size-4 text-green-500"}),d==="error"&&y.jsx(qO,{className:"size-4 text-red-500"}),d==="locked"&&y.jsx(y6,{className:"text-muted-foreground/40 size-3"})]})]},`${l.rank}-${c}`)})})]})},gse=({correctSteps:e,errorIndex:t,totalSteps:n})=>y.jsx("div",{className:"mt-2 flex items-center gap-1",children:Array.from({length:n}).map((i,s)=>{const o=s<e,l=s===t;return y.jsx(Pt.div,{className:it("h-1.5 flex-1 rounded-full",o?"bg-emerald-500":l?"bg-red-500":"bg-muted"),animate:l?{x:[-3,3,-2,2,0]}:{},transition:{duration:.3}},s)})});function vse(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,R=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:R,children:_})};h.displayName=o+"Provider";function g(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,g]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,yse(s,...t)]}function yse(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function bse(e){const t=xse(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(wse);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function xse(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=Cse(s),c=Sse(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _se=Symbol("radix.slottable");function wse(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_se}function Sse(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Cse(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ese=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Lw=Ese.reduce((e,t)=>{const n=bse(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),tv="Collapsible",[Ase]=vse(tv),[Tse,jw]=Ase(tv),s2=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:i,defaultOpen:s,disabled:o,onOpenChange:l,...c}=e,[d,h]=Do({prop:i,defaultProp:s??!1,onChange:l,caller:tv});return y.jsx(Tse,{scope:n,disabled:o,contentId:_s(),open:d,onOpenToggle:x.useCallback(()=>h(g=>!g),[h]),children:y.jsx(Lw.div,{"data-state":zw(d),"data-disabled":o?"":void 0,...c,ref:t})})});s2.displayName=tv;var r2="CollapsibleTrigger",o2=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,...i}=e,s=jw(r2,n);return y.jsx(Lw.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":zw(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...i,ref:t,onClick:Ie(e.onClick,s.onOpenToggle)})});o2.displayName=r2;var Iw="CollapsibleContent",a2=x.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=jw(Iw,e.__scopeCollapsible);return y.jsx(xr,{present:n||s.open,children:({present:o})=>y.jsx(Rse,{...i,ref:t,present:o})})});a2.displayName=Iw;var Rse=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:i,children:s,...o}=e,l=jw(Iw,n),[c,d]=x.useState(i),h=x.useRef(null),g=St(t,h),v=x.useRef(0),b=v.current,_=x.useRef(0),C=_.current,E=l.open||c,R=x.useRef(E),N=x.useRef(void 0);return x.useEffect(()=>{const k=requestAnimationFrame(()=>R.current=!1);return()=>cancelAnimationFrame(k)},[]),Ln(()=>{const k=h.current;if(k){N.current=N.current||{transitionDuration:k.style.transitionDuration,animationName:k.style.animationName},k.style.transitionDuration="0s",k.style.animationName="none";const O=k.getBoundingClientRect();v.current=O.height,_.current=O.width,R.current||(k.style.transitionDuration=N.current.transitionDuration,k.style.animationName=N.current.animationName),d(i)}},[l.open,i]),y.jsx(Lw.div,{"data-state":zw(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!E,...o,ref:g,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":C?`${C}px`:void 0,...e.style},children:E&&s})});function zw(e){return e?"open":"closed"}var YR=s2,ZR=o2,XR=a2;const kse=async e=>{if(e.length===0)return{};const{data:t,error:n}=await Dn.from("challenge_tips").select("canonical_name, hints").in("canonical_name",e);return n||!t?(console.error("Error fetching challenge tips:",n),{}):Object.fromEntries(t.map(i=>[i.canonical_name,i.hints]))},Nse=e=>{const t=e.map(n=>n.name);return wr({queryKey:[Iu.challenge_tips_key,...t],queryFn:async()=>await kse(t),enabled:t.length>0,staleTime:1/0,gcTime:1e3*60*60*24})},Ose={KINGDOM:"reino",SUBKINGDOM:"subreino",PHYLUM:"filo",SUBPHYLUM:"subfilo",SUPERCLASS:"superclasse",CLASS:"classe",SUBCLASS:"subclasse",SUPERORDER:"superordem",ORDER:"ordem",SUBORDER:"subordem",SUPERFAMILY:"superfamlia",FAMILY:"famlia",SUBFAMILY:"subfamlia",GENUS:"gnero",SUBGENUS:"subgnero",SPECIES:"espcie",SUBSPECIES:"subespcie"},Pse=e=>Ose[e]??e.toLowerCase().replace(/_/g," "),Bw=({speciesName:e,speciesKey:t,currentStep:n,errorIndex:i,correctPath:s})=>{const{t:o}=Mt(),[l,c]=x.useState({}),[d,h]=x.useState(!1),[g,v]=x.useState(n),b=Le(tt.nodes),_=$t(b9),C=$t(x9),E=$t(y9),{data:R={}}=Nse(s),{data:N}=Bo({specieKey:t}),{data:k,isLoading:O}=ch(t,N?.canonicalName),M=s[g],D=M?R[M.name]??[]:[],V=l[g]===!0,z=()=>{c(W=>({...W,[g]:!0}))},I=7,$=x.useRef(!1),Z=x.useCallback((W,ne)=>{const re=s[W];if(!re)return!1;const ye=W>0?s[W-1].key:null,G=ye?ne[ye]?.childrenKeys??[]:[];let Y;if(G.length===0)Y=[re.key];else{const te=G.indexOf(re.key);if(te===-1)Y=[re.key,...G.slice(0,I-1)];else{const de=Math.max(0,te+I-G.length),oe=Math.min(I-1,te);if(oe<de)Y=[...G];else{const K=Math.floor(Math.random()*(oe-de+1))+de,ae=te-K;Y=G.slice(ae,ae+I)}}}return _(Y),C(re.key),E(re.rank),G.length>0},[s,_,C,E]),q=W=>{v(W),$.current=!1;const ne=Z(W,b);$.current=ne};return x.useEffect(()=>{if(!d)return;v(n),$.current=!1;const W=Z(n,b);$.current=W},[n]),x.useEffect(()=>{if(!d||$.current||!s[g])return;const ne=g>0?s[g-1]?.key:null;!ne||!b[ne]?.childrenKeys?.length||($.current=!0,Z(g,b))},[b]),y.jsxs(WM,{modal:!1,open:d,onOpenChange:W=>{h(W),W?(v(n),q(n)):(_([]),E(null),C(null))},children:[y.jsx(YM,{asChild:!0,children:y.jsxs("button",{className:it("bg-muted/50 flex w-full items-center justify-between rounded-xl border border-dashed px-3 py-2 text-xs transition-colors"),children:[y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx(p6,{className:it("size-3.5 text-amber-500",i!==null&&"fill-amber-300")}),y.jsx("span",{className:it(i!==null?"font-medium text-amber-700 dark:text-amber-400":"text-muted-foreground"),children:o(i!==null?"challenge.needHelp":"challenge.tips")})]}),y.jsx("span",{className:"text-muted-foreground/50 text-[10px]",children:""})]})}),y.jsx(ZM,{children:y.jsx(XM,{asChild:!0,onInteractOutside:W=>W.preventDefault(),onPointerDownOutside:W=>W.preventDefault(),children:y.jsxs(Pt.div,{initial:{opacity:0,y:-16},animate:{opacity:1,y:0},exit:{opacity:0,y:-16},transition:{duration:.25,ease:"easeOut"},className:"bg-background fixed top-2 left-1/2 z-50 w-[calc(100%-1rem)] max-w-md -translate-x-1/2 rounded-xl border p-4 shadow-lg",children:[y.jsxs("header",{className:"mb-2 flex items-center justify-between",children:[y.jsxs("div",{className:"flex max-h-[45dvh] items-center gap-2 overflow-y-auto",children:[y.jsx("button",{onClick:()=>q(g-1),disabled:g===0,className:"hover:bg-muted rounded p-1 disabled:opacity-30","aria-label":o("challenge.prevStep"),children:y.jsx(S_,{className:"size-4"})}),y.jsxs(QM,{className:"flex items-center gap-2 text-sm font-semibold",children:[o("challenge.step")," ",g+1," ",o("challenge.of")," ",s.length]}),y.jsx("button",{onClick:()=>q(g+1),disabled:g===n,className:"hover:bg-muted rounded p-1 disabled:opacity-30","aria-label":o("challenge.nextStep"),children:y.jsx(Du,{className:"size-4"})})]}),y.jsx(JM,{className:"hover:bg-muted rounded p-1",children:y.jsx(Gl,{className:"size-3.5"})})]}),D.length>0?y.jsx("div",{className:"bg-muted/40 mt-3 rounded-lg border p-3 text-sm",children:D.map((W,ne)=>y.jsxs("div",{className:"flex items-start gap-2",children:[y.jsx("span",{children:""}),y.jsx("span",{className:"flex-1",children:W})]},ne))}):y.jsx("div",{className:"bg-muted/40 text-muted-foreground mt-3 rounded-lg border p-3 text-sm",children:"Sem dicas disponveis para esta etapa."}),M&&y.jsx("div",{className:"mt-4 rounded-lg border border-dashed p-3 text-sm",children:y.jsx(Hg,{mode:"wait",children:y.jsx(Pt.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"easeOut"},children:V?y.jsxs("p",{className:"text-foreground font-medium",children:[e," ",o("challenge.belongsTo")," ",Pse(M.rank)," ",y.jsx("span",{className:"font-bold text-green-600",children:M.name}),"."]}):y.jsxs("button",{onClick:z,className:"flex items-center gap-2 text-amber-600 hover:underline",children:[y.jsx(i6,{className:"size-4"}),o("challenge.revealAnswer")]})},g)})}),y.jsxs(YR,{className:"mt-4",children:[y.jsx(ZR,{asChild:!0,children:y.jsxs("button",{className:"text-muted-foreground hover:bg-muted/50 flex w-full items-center justify-between rounded-md px-2 py-1 text-xs",children:[y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx(d6,{className:"size-3.5"}),"Imagem da espcie"]}),y.jsx(Cf,{className:"size-3.5 opacity-60"})]})}),y.jsx(XR,{className:"mt-2 overflow-hidden rounded-md border",children:O?y.jsx(Ol,{className:"h-32 w-full"}):k?.imgUrl?y.jsx(Hn,{src:k.imgUrl,alt:e,className:"h-32 w-full object-cover"}):y.jsx("div",{className:"text-muted-foreground flex h-32 items-center justify-center text-xs",children:"Imagem no disponvel"})})]}),y.jsxs(YR,{className:"mt-2",children:[y.jsx(ZR,{asChild:!0,children:y.jsxs("button",{className:"text-muted-foreground hover:bg-muted/50 flex w-full items-center justify-between rounded-md px-2 py-1 text-xs",children:[y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx(E_,{className:"size-3.5"}),o("challenge.howItWorks")]}),y.jsx(Cf,{className:"size-3.5 opacity-60"})]})}),y.jsx(XR,{className:"text-muted-foreground bg-muted/40 mt-2 rounded-md p-3 text-sm",children:"Expanda os grupos da rvore taxonmica seguindo o caminho correto at chegar  espcie alvo."})]})]})})})]})},l2=({speciesName:e,speciesKey:t,correctSteps:n,isCompleted:i,onCancel:s,onNext:o,nextLoading:l,errorIndex:c,correctPath:d})=>{const{t:h}=Mt();return y.jsx("div",{className:"px-2",children:y.jsxs(Pt.div,{className:"rounded-2xl border px-3 py-2.5 shadow-sm",children:[y.jsxs("div",{className:"flex items-center gap-2.5",children:[y.jsx(Hn,{src:gh,className:"size-7 shrink-0",alt:"Alvo gif"}),y.jsx("p",{className:"truncate text-sm",children:y.jsx("span",{className:"font-bold text-emerald-600 dark:text-green-400",children:e})}),y.jsxs("span",{className:"text-muted-foreground text-xs font-semibold tabular-nums",children:[n,"/",d.length]}),o&&y.jsx("button",{onClick:o,disabled:l,className:"text-muted-foreground/60 ml-auto rounded-full p-1 hover:bg-violet-100 hover:text-violet-600 disabled:opacity-50 dark:hover:bg-violet-950","aria-label":h("challenge.nextChallenge"),children:y.jsx(A_,{className:"size-3.5"})}),y.jsx("button",{onClick:s,className:`rounded-full p-1 hover:bg-red-100 hover:text-red-500 dark:hover:bg-red-950 ${o?"":"ml-auto"} text-muted-foreground/60`,"aria-label":h("challenge.cancel"),children:y.jsx(Gl,{className:"size-3.5"})})]}),!i&&d.length>0&&y.jsxs("div",{className:"space-y-2",children:[y.jsx(gse,{correctSteps:n,errorIndex:c,totalSteps:d.length}),y.jsx(Bw,{speciesName:e,speciesKey:t,currentStep:n,errorIndex:c,correctPath:d})]})]})})},c2=async({userId:e,gbifKey:t,mode:n})=>{const{data:i,error:s}=await Dn.from("user_challenge_history").upsert({user_id:e,gbif_key:t,mode:n},{onConflict:"user_id,gbif_key,mode",ignoreDuplicates:!0}).select();return s?(console.error("Error saving challenge result:",s),{wasNew:!1}):{wasNew:i!=null&&i.length>0}},u2=async({user:e,speciesName:t,mode:n})=>{const i=n==="DAILY"?"Desafio Dirio":"Desafio Aleatrio",s=`Encontrou a espcie ${t}`,l=[{title:i,description:s,date:new Date().toISOString()},...e.game_info.activities??[]],{data:c,error:d}=await Dn.from("users").update({game_info:{...e.game_info,activities:l}}).eq("id",e.id).select().single();return d?(console.error("Error saving challenge activity:",d),null):c},Mse=()=>new Date().toISOString().slice(0,10),Dse=()=>{const{t:e}=Mt(),t=$t(tt.challenge),n=Ii(),i=Le(tt.expandedNodes),s=$t(tt.expandedNodes),{isTablet:o}=ec(),{theme:l}=ih(),c=Le(tt.challenge),d=Le(st.session),[h,g]=Gs(st.userDb),v=Mse(),b=c.targetSpecies??"",_=c.speciesKey??0,C=c.challengeDate??v,[E,R]=x.useState(C),{data:N,isLoading:k}=e2(E),[O,M]=x.useState(!1),{data:D}=Bo({specieKey:_}),{data:V}=Yg(_,!!_),z=x.useMemo(()=>!V||!D?[]:Zg(V,D.canonicalName??D.species??"",_),[V,D,_]),I=x.useMemo(()=>i.filter((Y,te)=>{const de=z[te];return de&&Y.name===de.name}).length,[i,z]),$=z.length>0&&I===z.length;x.useEffect(()=>{if(!$)return;t(te=>te.status==="COMPLETED"?te:{...te,status:"COMPLETED"});const Y=d?.user?.id;!Y||!_||!h||(async()=>{const{wasNew:te}=await c2({userId:Y,gbifKey:_,mode:"DAILY"});if(te){const de=await u2({user:h,speciesName:b,mode:"DAILY"});de&&g(de)}})()},[$,t,d,_,h,b,g]);const Z=()=>{s([]),n({to:"/",replace:!0})},q=()=>{t({status:"NOT_STARTED",mode:"UNSET"}),Z()},W=()=>{Z(),t(Y=>({...Y,status:"IN_PROGRESS"}))},ne=async()=>{const Y=d?.user?.id;if(!Y)return;M(!0);const te=await Dw(Y);M(!1),te&&(Z(),t({mode:"RANDOM",status:"IN_PROGRESS",targetSpecies:te.scientificName,speciesKey:te.gbifKey}))},re=()=>{N&&(Z(),t({mode:"DAILY",status:"IN_PROGRESS",targetSpecies:N.scientificName,speciesKey:N.gbifKey,challengeDate:E}))},G=x.useMemo(()=>{const Y=i.length-1,te=i[Y],de=z[Y];return Y>=0&&de&&te?.name!==de.name},[i,z])?i.length-1:null;if($){const Y=E===C;return y.jsxs("div",{className:"flex flex-col gap-4 pb-10",children:[y.jsxs(Pt.div,{initial:{opacity:0,scale:.97},animate:{opacity:1,scale:1},transition:{duration:.35,ease:"easeOut"},className:"mx-4 overflow-hidden rounded-2xl border shadow-sm md:mt-5",children:[y.jsx("div",{className:"bg-emerald-50/60 px-5 py-4 dark:bg-emerald-950/30",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Pt.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.12,type:"spring",stiffness:220},className:"flex size-10 shrink-0 items-center justify-center rounded-full bg-emerald-500",children:y.jsx(T_,{className:"size-5 text-white"})}),y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("p",{className:"text-sm font-semibold text-emerald-700 dark:text-emerald-400",children:e("challenge.completed")}),y.jsx("p",{className:"truncate text-base font-bold",children:b}),y.jsxs(Pt.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-muted-foreground mt-0.5 flex items-center gap-1 text-xs",children:[y.jsx(zO,{className:"size-3 shrink-0 text-emerald-500"}),e("challenge.path")]})]})]})}),y.jsxs(Pt.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{delay:.25},className:"divide-y",children:[y.jsxs("button",{onClick:W,className:"hover:bg-muted/50 flex w-full items-center gap-3 px-5 py-3.5 transition-colors",children:[y.jsx(GO,{className:"text-muted-foreground size-4 shrink-0"}),y.jsx("span",{className:"text-sm font-medium",children:e("challenge.replay")})]}),y.jsxs("div",{className:"flex items-center justify-between gap-3 px-5 py-3.5",children:[y.jsxs("div",{className:"flex min-w-0 items-center gap-3",children:[y.jsx(B$,{className:"text-muted-foreground size-4 shrink-0"}),y.jsx(n2,{selectedDate:E,onSelectDate:R})]}),!Y&&y.jsx(Ht,{size:"sm",className:"shrink-0 bg-emerald-600 hover:bg-emerald-700",onClick:re,disabled:k||!N,children:e("challenge.play")})]}),y.jsxs("button",{onClick:ne,disabled:O,className:"hover:bg-muted/50 flex w-full items-center gap-3 px-5 py-3.5 transition-colors disabled:opacity-50",children:[y.jsx(A_,{className:`text-muted-foreground size-4 shrink-0 ${O?"animate-spin":""}`}),y.jsx("span",{className:"text-sm font-medium",children:e("challenge.nextRandom")})]})]})]}),y.jsx(Fu,{embedded:!0})]})}return o?y.jsx(l2,{speciesName:b,speciesKey:_,correctSteps:I,isCompleted:$,onCancel:q,errorIndex:G,correctPath:z}):y.jsx("div",{className:"mt-22 md:mt-0 md:px-4 md:py-6",children:y.jsxs(ja,{className:"relative mx-auto rounded-3xl",children:[C===v&&y.jsx("div",{className:"absolute top-3 right-4",children:y.jsx(Jj,{})}),y.jsxs(Ia,{className:"flex flex-col gap-4 pt-5",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"flex size-12 shrink-0 items-center justify-center rounded-2xl bg-emerald-100 dark:bg-emerald-900/40",children:y.jsx(Hn,{src:l==="dark"?ev:gh,className:"size-8",alt:"Alvo gif"})}),y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("p",{className:"text-muted-foreground text-[10px] font-semibold tracking-widest uppercase",children:e("challenge.title")}),y.jsx("h2",{className:"truncate text-base leading-tight font-bold",children:b})]})]}),!$&&z.length>0&&y.jsx(Bw,{speciesName:b,speciesKey:_,currentStep:I,errorIndex:G,correctPath:z}),y.jsx(i2,{currentStep:I,correctPath:z,activeIndex:i.length}),!$&&y.jsx("div",{className:"flex justify-end",children:y.jsx(Ht,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-destructive text-xs",onClick:q,children:e("challenge.cancel")})})]})]})})},Lse=({speciesName:e,onReplay:t,onNext:n,nextLabel:i,nextLoading:s=!1})=>{const{t:o}=Mt();return y.jsxs(Pt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.4,ease:"easeOut"},className:"mx-4 rounded-2xl border bg-emerald-50/50 p-5 text-center shadow-sm md:mt-5 dark:bg-emerald-950/30",children:[y.jsx(Pt.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.15,type:"spring",stiffness:200},className:"mx-auto mb-3 flex size-12 items-center justify-center rounded-full bg-emerald-500 md:size-16",children:y.jsx(T_,{className:"size-6 text-white md:size-8"})}),y.jsx("p",{className:"text-sm font-semibold text-emerald-700 md:text-lg dark:text-emerald-400",children:o("challenge.completed")}),y.jsx("p",{className:"mt-1 text-sm md:text-lg",children:y.jsx("strong",{children:e})}),y.jsxs(Pt.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{delay:.25},className:"text-muted-foreground mt-2 flex items-center justify-center gap-1 text-xs md:text-sm",children:[y.jsx(zO,{className:"size-3.5 text-emerald-500"}),o("challenge.path")]}),y.jsxs(Pt.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-5 flex flex-col gap-2 sm:flex-row sm:justify-center",children:[y.jsxs(Ht,{variant:"outline",onClick:t,className:"gap-2",children:[y.jsx(GO,{className:"size-4"}),o("challenge.replay")]}),y.jsxs(Ht,{onClick:n,disabled:s,className:"gap-2 bg-emerald-600 hover:bg-emerald-700",children:[i,y.jsx(Du,{className:"size-4"})]})]})]})},jse=()=>{const{t:e}=Mt(),t=Ii(),n=$t(tt.challenge),i=Le(tt.expandedNodes),s=$t(tt.expandedNodes),{isTablet:o}=ec(),{theme:l}=ih(),c=Le(tt.challenge),d=Le(st.session),[h,g]=Gs(st.userDb),v=c.targetSpecies??"",b=c.speciesKey??0,{data:_}=Bo({specieKey:b}),{data:C}=Yg(b,!!b),E=x.useMemo(()=>!C||!_?[]:Zg(C,_.canonicalName??_.species??"",b),[C,_,b]),R=x.useMemo(()=>i.filter((Z,q)=>{const W=E[q];return W&&Z.name===W.name}).length,[i,E]),N=E.length>0&&R===E.length;x.useEffect(()=>{if(!N)return;n(q=>q.status==="COMPLETED"?q:{...q,status:"COMPLETED"});const Z=d?.user?.id;!Z||!b||!h||(async()=>{const{wasNew:q}=await c2({userId:Z,gbifKey:b,mode:"RANDOM"});if(q){const W=await u2({user:h,speciesName:v,mode:"RANDOM"});W&&g(W)}})()},[N,n,d,b,h,v,g]);const[k,O]=x.useState(!1),M=()=>{s([]),t({to:"/",replace:!0})},D=()=>{n({status:"NOT_STARTED",mode:"UNSET"}),M()},V=()=>{M(),n(Z=>({...Z,status:"IN_PROGRESS"}))},z=async()=>{const Z=d?.user?.id;if(!Z)return;O(!0);const q=await Dw(Z);O(!1),q&&(M(),n({mode:"RANDOM",status:"IN_PROGRESS",targetSpecies:q.scientificName,speciesKey:q.gbifKey}))},$=x.useMemo(()=>{const Z=i.length-1,q=i[Z],W=E[Z];return Z>=0&&W&&q?.name!==W.name},[i,E])?i.length-1:null;return N?y.jsxs("div",{className:"flex flex-col gap-4 pb-10",children:[y.jsx(Lse,{speciesName:v,onReplay:V,onNext:z,nextLabel:e("challenge.nextChallenge"),nextLoading:k}),y.jsx(Fu,{embedded:!0})]}):o?y.jsx(l2,{speciesName:v,speciesKey:b,correctSteps:R,isCompleted:N,onCancel:D,onNext:z,nextLoading:k,errorIndex:$,correctPath:E}):y.jsx("div",{className:"mt-22 md:mt-0 md:px-4 md:py-6",children:y.jsx(Hg,{mode:"wait",initial:!1,children:y.jsx(Pt.div,{initial:{opacity:0,x:28},animate:{opacity:1,x:0},exit:{opacity:0,x:-28},transition:{duration:.22,ease:"easeOut"},children:y.jsx(ja,{className:"mx-auto rounded-3xl",children:y.jsxs(Ia,{className:"flex flex-col gap-4 pt-5",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"flex size-12 shrink-0 items-center justify-center rounded-2xl bg-violet-100 dark:bg-violet-900/40",children:y.jsx(Hn,{src:l==="dark"?ev:gh,className:"size-8",alt:"Alvo gif"})}),y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("p",{className:"text-muted-foreground text-[10px] font-semibold tracking-widest uppercase",children:e("challenge.randomTitle")}),y.jsx("h2",{className:"truncate text-base leading-tight font-bold",children:v})]})]}),!N&&E.length>0&&y.jsx(Bw,{speciesName:v,speciesKey:b,currentStep:R,errorIndex:$,correctPath:E}),y.jsx(i2,{correctPath:E,activeIndex:i.length,currentStep:R}),!N&&y.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[y.jsx(Ht,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-destructive text-xs",onClick:D,children:e("challenge.cancel")}),y.jsxs(Ht,{className:"gap-2 bg-violet-600 text-white hover:bg-violet-700",onClick:z,disabled:k,children:[y.jsx(A_,{className:"size-4"}),e("challenge.nextChallenge")]})]})]})})},b||"loading")})})},d2=()=>{const e=Le(tt.challenge);return e.mode==="DAILY"&&e.status!=="NOT_STARTED"?y.jsx(Dse,{}):e.mode==="DAILY"?y.jsx(WR,{}):e.mode==="RANDOM"?y.jsx(jse,{}):y.jsxs("div",{className:"mx-auto flex max-w-7xl flex-col gap-4",children:[y.jsx(WR,{}),y.jsx(mse,{})]})},Ise=()=>{Une(),ise();const e=x.useRef(null),t=Le(tt.nodes),n=Le(tt.rootKeys),i=Le(tt.challenge).mode,s=Le(tt.scrollToRank),o=x.useRef(null),l=Le(tt.scrollToNodeKey),c=x.useRef(null),{isTablet:d}=ec(),{flattened:h,rowVirtualizer:g,connectors:v}=Jne(t,n,e);return x.useEffect(()=>{if(!s||s===o.current)return;o.current=s;const b=h.findIndex(_=>t[_.key]?.rank===s);b!==-1&&g.scrollToIndex(b,{align:"center",behavior:"smooth"})},[s,h,t,g]),x.useEffect(()=>{if(!l||l===c.current)return;c.current=l;const b=h.findIndex(_=>_.key===l);b!==-1&&g.scrollToIndex(b,{align:"center",behavior:"smooth"})},[l,h,g]),sse(h,g),y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"mb-4 px-4",children:[i&&d&&y.jsx(d2,{}),!i&&y.jsx(Xie,{})]}),y.jsx("div",{ref:e,className:it("h-[calc(100dvh-144px)] w-full overflow-auto px-4 pb-28",i&&!d&&"h-[calc(100dvh-130px)]",i==="UNSET"&&"pointer-events-none opacity-40"),style:{WebkitOverflowScrolling:"touch"},children:y.jsxs("ul",{style:{height:g.getTotalSize()},className:"relative w-full",children:[y.jsx(eie,{connectors:v,totalHeight:g.getTotalSize()}),g.getVirtualItems().map(b=>{const _=h[b.index];return y.jsx("li",{className:"absolute top-0 left-0 w-full",style:{transform:`translateY(${b.start}px)`},children:_.isEmptyInfo?y.jsx(Bne,{parentNodeKey:_.parentNodeKey,level:_.level}):y.jsx(zne,{nodeKey:_.key,level:_.level})},_.key)})]})})]})};function zse(){const e=Ii(),t=_3(),n=$t(p9),i=Le(tt.nodes),s=x.useRef(i),o=x.useRef([]),l=x.useRef([]),c=x.useRef(""),d=x.useRef(!0);x.useEffect(()=>{s.current=i},[i]);const h=()=>{if(d.current||o.current.length===0)return;const g=o.current[0],v=s.current[g];if(!v)return;const b={key:v.key,rank:v.rank,name:v.rank==="KINGDOM"?Qi(Au[v.key]):v.canonicalName||v.scientificName||""},_=[...l.current,b],C=o.current.slice(1);l.current=_,o.current=C,C.length===0&&(d.current=!0),n(_),C.length>0&&h()};x.useEffect(()=>{d.current||h()},[i]),x.useEffect(()=>{const g=t.pathname;if(g===c.current)return;c.current=g;const b=g.replace("/treevera","").split("/").filter(Boolean);if(b[0]!=="tree"){o.current=[],l.current=[],d.current=!0,n([]);return}const _=b.slice(1);if(_.length===0){o.current=[],l.current=[],d.current=!0,n([]);return}const C=_.map(Number);if(C.some(isNaN)){console.warn(" URL com keys invalidas:",_),e({to:"/",replace:!0});return}o.current=C,l.current=[],d.current=!1,h()},[t.pathname])}const f2=()=>{const{data:e,isLoading:t,isError:n}=zte(),i=$t(tt.mergeNodes),s=$t(tt.rootKeys);return zse(),x.useEffect(()=>{e&&e.length>0&&(i(e.map(o=>({...o}))),s(e.map(o=>o.key)))},[e,i,s]),t?y.jsx(ix,{type:"loading"}):n?y.jsx(ix,{type:"error"}):!e||e.length===0?y.jsx(ix,{type:"empty"}):y.jsx(Ise,{})},Bse=()=>{const{t:e}=Mt(),t=Le(tt.exploreInfos),n=Le(st.userDb),i=Le(tt.expandedNodes),{navigateToNodes:s}=mh(),o=t.find(d=>d.kingdomKey===i[0].key),l=x.useMemo(()=>{const d=i[i.length-1].rank;return o?d!=="KINGDOM"?`a classificao ${Qi(d)}`:`o Reino ${o.kingdomName}`:""},[i,o]),c=x.useMemo(()=>{if(!n||!n.game_info?.shortcuts)return null;const d=o?.kingdomName.toLocaleLowerCase();return n.game_info.shortcuts[d]},[o?.kingdomName,n]);if(o)return y.jsxs("main",{className:"mx-auto min-h-screen w-full max-w-6xl p-10",style:{containerType:"inline-size"},children:[y.jsxs("header",{className:"bg-card flex rounded-xl border p-6 pr-10 shadow-sm",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(Lf,{variant:"secondary",children:e("explore.kingdom")}),y.jsx("h1",{className:"[@container(min-width:350px)]text-4xl text-3xl font-bold tracking-tight [@container(min-width:450px)]:text-5xl",style:{color:To[o.kingdomKey]},children:o.kingdomName}),y.jsx("p",{className:"text-muted-foreground w-full",children:o.description}),y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("div",{className:"flex flex-wrap items-center gap-1",children:o.mainGroups.map((d,h)=>y.jsxs(Ht,{variant:"outline",onClick:()=>s(d.pathNode),children:[y.jsx(Rx,{className:"size-4 scale-x-[-1]"}),d.groupName]},h))}),c&&y.jsx("div",{className:"flex flex-wrap items-center gap-1",children:c.map(({name:d,nodes:h},g)=>{if(h[0].key===o.kingdomKey)return y.jsxs(Ht,{variant:"outline",onClick:()=>s(h,!0),children:[y.jsx(Rx,{className:"size-4 scale-x-[-1]"}),d]},d+g)})})]})]}),y.jsx(Hn,{src:gs(o.kingdomKey),className:"mt-8 size-8 [@container(min-width:350px)]:size-12 [@container(min-width:450px)]:my-auto [@container(min-width:450px)]:ml-auto [@container(min-width:450px)]:size-20"})]}),i.length>0&&i[i.length-1].rank!=="SPECIES"&&y.jsxs("section",{className:"py-8 sm:py-10",children:[y.jsxs("h2",{className:"mb-6 text-center text-2xl font-semibold tracking-tight",children:["Fatos e curiosidades sobre ",l]}),y.jsx("div",{className:"grid gap-4 [@container(min-width:350px)]:grid-cols-2",children:i.length===1?z1.KINGDOM[i[0].key].map((d,h)=>y.jsx(ja,{className:"transition-shadow duration-200 hover:shadow-lg",children:y.jsx(Ia,{children:y.jsx("p",{className:"text-foreground/90",children:d})})},h)):z1[i[i.length-1].rank].map((d,h)=>y.jsx(ja,{className:"transition-shadow duration-200 hover:shadow-lg",children:y.jsx(Ia,{children:y.jsx("p",{className:"text-foreground/90",children:d})})},h))})]})]})},h2=()=>{const{t:e}=Mt(),t=Le(tt.challenge).mode,n=Le(tt.exploreInfos),i=Le(tt.expandedNodes),{toggleNode:s}=mh();return!t&&i.length?y.jsx(Bse,{}):y.jsx("div",{className:"p-8",children:y.jsxs("div",{className:"mx-auto max-w-7xl space-y-12",style:{containerType:"inline-size"},children:[y.jsx("div",{className:"text-center",children:y.jsx("h1",{className:"mb-4 text-3xl font-semibold",children:e("explore.selectKingdom")})}),y.jsx("div",{className:"grid grid-cols-1 gap-6 [@container(min-width:620px)]:grid-cols-2 [@container(min-width:820px)]:grid-cols-3",children:n.map(o=>y.jsxs(ja,{className:"cursor-pointer overflow-hidden border-0 shadow-sm transition-all duration-300 hover:-translate-y-1 hover:shadow-md",onClick:()=>s(o.kingdomKey),children:[y.jsxs(Xj,{className:"",children:[y.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[y.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl text-xl shadow-sm",style:{backgroundColor:o.lightColor},children:y.jsx(Hn,{src:o.icon,className:"size-6",alt:o.kingdomName+"icon"})}),y.jsx(Qj,{className:"mb-2 text-xl font-bold",children:o.kingdomName})]}),y.jsx("p",{className:"line-clamp-2 text-sm leading-relaxed",children:o.description})]}),y.jsxs(Ia,{children:[y.jsxs("p",{className:"mb-2 text-xs font-medium",children:[e("explore.mainGroups"),":"]}),y.jsxs("div",{className:"flex flex-wrap gap-1",children:[o.mainGroups.slice(0,3).map((l,c)=>y.jsx("span",{className:"bg-accent rounded border px-2 py-1 text-xs",children:l.groupName},c)),o.mainGroups.length>3&&y.jsxs("span",{className:"bg-accent rounded border px-2 py-1 text-xs",children:["+",o.mainGroups.length-3]})]})]})]},o.kingdomKey))})]})})},Use=()=>{const e=Le(tt.expandedNodes),t=Le(tt.challenge),n=e.find(i=>i.rank==="SPECIES");return y.jsxs("div",{className:"flex flex-col",children:[y.jsx(tD,{}),!t.mode&&n?y.jsx(Fu,{}):y.jsxs(y.Fragment,{children:[y.jsx(f2,{}),!t.mode&&y.jsx(h2,{})]})]})};function Fse(e,t){const n=getComputedStyle(e),i=parseFloat(n.fontSize);return t*i}function Vse(e,t){const n=getComputedStyle(e.ownerDocument.body),i=parseFloat(n.fontSize);return t*i}function $se(e){return e/100*window.innerHeight}function Hse(e){return e/100*window.innerWidth}function Gse(e){switch(typeof e){case"number":return[e,"px"];case"string":{const t=parseFloat(e);return e.endsWith("%")?[t,"%"]:e.endsWith("px")?[t,"px"]:e.endsWith("rem")?[t,"rem"]:e.endsWith("em")?[t,"em"]:e.endsWith("vh")?[t,"vh"]:e.endsWith("vw")?[t,"vw"]:[t,"%"]}}}function lm({groupSize:e,panelElement:t,styleProp:n}){let i;const[s,o]=Gse(n);switch(o){case"%":{i=s/100*e;break}case"px":{i=s;break}case"rem":{i=Vse(t,s);break}case"em":{i=Fse(t,s);break}case"vh":{i=$se(s);break}case"vw":{i=Hse(s);break}}return i}function hr(e){return parseFloat(e.toFixed(3))}function ku({group:e}){const{orientation:t,panels:n}=e;return n.reduce((i,s)=>(i+=t==="horizontal"?s.element.offsetWidth:s.element.offsetHeight,i),0)}function D0(e){const{panels:t}=e,n=ku({group:e});return n===0?t.map(i=>({collapsedSize:0,collapsible:i.panelConstraints.collapsible===!0,defaultSize:void 0,disabled:i.panelConstraints.disabled,minSize:0,maxSize:100,panelId:i.id})):t.map(i=>{const{element:s,panelConstraints:o}=i;let l=0;if(o.collapsedSize!==void 0){const g=lm({groupSize:n,panelElement:s,styleProp:o.collapsedSize});l=hr(g/n*100)}let c;if(o.defaultSize!==void 0){const g=lm({groupSize:n,panelElement:s,styleProp:o.defaultSize});c=hr(g/n*100)}let d=0;if(o.minSize!==void 0){const g=lm({groupSize:n,panelElement:s,styleProp:o.minSize});d=hr(g/n*100)}let h=100;if(o.maxSize!==void 0){const g=lm({groupSize:n,panelElement:s,styleProp:o.maxSize});h=hr(g/n*100)}return{collapsedSize:l,collapsible:o.collapsible===!0,defaultSize:c,disabled:o.disabled,minSize:d,maxSize:h,panelId:i.id}})}function Vt(e,t="Assertion error"){if(!e)throw Error(t)}function L0(e,t){return Array.from(t).sort(e==="horizontal"?Kse:qse)}function Kse(e,t){const n=e.element.offsetLeft-t.element.offsetLeft;return n!==0?n:e.element.offsetWidth-t.element.offsetWidth}function qse(e,t){const n=e.element.offsetTop-t.element.offsetTop;return n!==0?n:e.element.offsetHeight-t.element.offsetHeight}function p2(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}function m2(e,t){return{x:e.x>=t.left&&e.x<=t.right?0:Math.min(Math.abs(e.x-t.left),Math.abs(e.x-t.right)),y:e.y>=t.top&&e.y<=t.bottom?0:Math.min(Math.abs(e.y-t.top),Math.abs(e.y-t.bottom))}}function Wse({orientation:e,rects:t,targetRect:n}){const i={x:n.x+n.width/2,y:n.y+n.height/2};let s,o=Number.MAX_VALUE;for(const l of t){const{x:c,y:d}=m2(i,l),h=e==="horizontal"?c:d;h<o&&(o=h,s=l)}return Vt(s,"No rect found"),s}let cm;function Yse(){return cm===void 0&&(typeof matchMedia=="function"?cm=!!matchMedia("(pointer:coarse)").matches:cm=!1),cm}function g2(e){const{element:t,orientation:n,panels:i,separators:s}=e,o=L0(n,Array.from(t.children).filter(p2).map(C=>({element:C}))).map(({element:C})=>C),l=[];let c=!1,d=!1,h=-1,g=-1,v=0,b,_=[];{let C=-1;for(const E of o)E.hasAttribute("data-panel")&&(C++,E.ariaDisabled===null&&(v++,h===-1&&(h=C),g=C))}if(v>1){let C=-1;for(const E of o)if(E.hasAttribute("data-panel")){C++;const R=i.find(N=>N.element===E);if(R){if(b){const N=b.element.getBoundingClientRect(),k=E.getBoundingClientRect();let O;if(d){const M=n==="horizontal"?new DOMRect(N.right,N.top,0,N.height):new DOMRect(N.left,N.bottom,N.width,0),D=n==="horizontal"?new DOMRect(k.left,k.top,0,k.height):new DOMRect(k.left,k.top,k.width,0);switch(_.length){case 0:{O=[M,D];break}case 1:{const V=_[0],z=Wse({orientation:n,rects:[N,k],targetRect:V.element.getBoundingClientRect()});O=[V,z===N?D:M];break}default:{O=_;break}}}else _.length?O=_:O=[n==="horizontal"?new DOMRect(N.right,k.top,k.left-N.right,k.height):new DOMRect(k.left,N.bottom,k.width,k.top-N.bottom)];for(const M of O){let D="width"in M?M:M.element.getBoundingClientRect();const V=Yse()?e.resizeTargetMinimumSize.coarse:e.resizeTargetMinimumSize.fine;if(D.width<V){const I=V-D.width;D=new DOMRect(D.x-I/2,D.y,D.width+I,D.height)}if(D.height<V){const I=V-D.height;D=new DOMRect(D.x,D.y-I/2,D.width,D.height+I)}const z=C<=h||C>g;!c&&!z&&l.push({group:e,groupSize:ku({group:e}),panels:[b,R],separator:"width"in M?void 0:M,rect:D}),c=!1}}d=!1,b=R,_=[]}}else if(E.hasAttribute("data-separator")){E.ariaDisabled!==null&&(c=!0);const R=s.find(N=>N.element===E);R?_.push(R):(b=void 0,_=[])}else d=!0}return l}class Zse{#e={};addListener(t,n){const i=this.#e[t];return i===void 0?this.#e[t]=[n]:i.includes(n)||i.push(n),()=>{this.removeListener(t,n)}}emit(t,n){const i=this.#e[t];if(i!==void 0)if(i.length===1)i[0].call(null,n);else{let s=!1,o=null;const l=Array.from(i);for(let c=0;c<l.length;c++){const d=l[c];try{d.call(null,n)}catch(h){o===null&&(s=!0,o=h)}}if(s)throw o}}removeAllListeners(){this.#e={}}removeListener(t,n){const i=this.#e[t];if(i!==void 0){const s=i.indexOf(n);s>=0&&i.splice(s,1)}}}function Pi(e,t,n=0){return Math.abs(hr(e)-hr(t))<=n}let Is={cursorFlags:0,interactionState:{state:"inactive"},mountedGroups:new Map};const Po=new Zse;function Li(){return Is}function ji(e){const t=typeof e=="function"?e(Is):e;if(Is===t)return Is;const n=Is;return Is={...Is,...t},t.cursorFlags!==void 0&&Po.emit("cursorFlagsChange",Is.cursorFlags),t.interactionState!==void 0&&Po.emit("interactionStateChange",Is.interactionState),t.mountedGroups!==void 0&&(Is.mountedGroups.forEach((i,s)=>{i.derivedPanelConstraints.forEach(o=>{if(o.collapsible){const{layout:l}=n.mountedGroups.get(s)??{};if(l){const c=Pi(o.collapsedSize,i.layout[o.panelId]),d=Pi(o.collapsedSize,l[o.panelId]);c&&!d&&(s.inMemoryLastExpandedPanelSizes[o.panelId]=l[o.panelId])}}})}),Po.emit("mountedGroupsChange",Is.mountedGroups)),Is}function Xse(e,t,n){let i,s={x:1/0,y:1/0};for(const o of t){const l=m2(n,o.rect);switch(e){case"horizontal":{l.x<=s.x&&(i=o,s=l);break}case"vertical":{l.y<=s.y&&(i=o,s=l);break}}}return i?{distance:s,hitRegion:i}:void 0}function Qse(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}function Jse(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:ek(e),b:ek(t)};let i;for(;n.a.at(-1)===n.b.at(-1);)i=n.a.pop(),n.b.pop();Vt(i,"Stacking order can only be calculated for elements with a common ancestor");const s={a:JR(QR(n.a)),b:JR(QR(n.b))};if(s.a===s.b){const o=i.childNodes,l={a:n.a.at(-1),b:n.b.at(-1)};let c=o.length;for(;c--;){const d=o[c];if(d===l.a)return 1;if(d===l.b)return-1}}return Math.sign(s.a-s.b)}const ere=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function tre(e){const t=getComputedStyle(v2(e)??e).display;return t==="flex"||t==="inline-flex"}function nre(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||tre(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||ere.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function QR(e){let t=e.length;for(;t--;){const n=e[t];if(Vt(n,"Missing node"),nre(n))return n}return null}function JR(e){return e&&Number(getComputedStyle(e).zIndex)||0}function ek(e){const t=[];for(;e;)t.push(e),e=v2(e);return t}function v2(e){const{parentNode:t}=e;return Qse(t)?t.host:t}function ire(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function sre({groupElement:e,hitRegion:t,pointerEventTarget:n}){if(!p2(n)||n.contains(e)||e.contains(n))return!0;if(Jse(n,e)>0){let i=n;for(;i;){if(i.contains(e))return!0;if(ire(i.getBoundingClientRect(),t))return!1;i=i.parentElement}}return!0}function Uw(e,t){const n=[];return t.forEach((i,s)=>{if(s.disabled)return;const o=g2(s),l=Xse(s.orientation,o,{x:e.clientX,y:e.clientY});l&&l.distance.x<=0&&l.distance.y<=0&&sre({groupElement:s.element,hitRegion:l.hitRegion.rect,pointerEventTarget:e.target})&&n.push(l.hitRegion)}),n}function rre(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function Vr(e,t){return Pi(e,t)?0:e>t?1:-1}function pu({overrideDisabledPanels:e,panelConstraints:t,prevSize:n,size:i}){const{collapsedSize:s=0,collapsible:o,disabled:l,maxSize:c=100,minSize:d=0}=t;if(l&&!e)return n;if(Vr(i,d)<0)if(o){const h=(s+d)/2;Vr(i,h)<0?i=s:i=d}else i=d;return i=Math.min(c,i),i=hr(i),i}function Vf({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:i,prevLayout:s,trigger:o}){if(Pi(e,0))return t;const l=o==="imperative-api",c=Object.values(t),d=Object.values(s),h=[...c],[g,v]=i;Vt(g!=null,"Invalid first pivot index"),Vt(v!=null,"Invalid second pivot index");let b=0;switch(o){case"keyboard":{{const E=e<0?v:g,R=n[E];Vt(R,`Panel constraints not found for index ${E}`);const{collapsedSize:N=0,collapsible:k,minSize:O=0}=R;if(k){const M=c[E];if(Vt(M!=null,`Previous layout not found for panel index ${E}`),Pi(M,N)){const D=O-M;Vr(D,Math.abs(e))>0&&(e=e<0?0-D:D)}}}{const E=e<0?g:v,R=n[E];Vt(R,`No panel constraints found for index ${E}`);const{collapsedSize:N=0,collapsible:k,minSize:O=0}=R;if(k){const M=c[E];if(Vt(M!=null,`Previous layout not found for panel index ${E}`),Pi(M,O)){const D=M-N;Vr(D,Math.abs(e))>0&&(e=e<0?0-D:D)}}}break}default:{const E=e<0?v:g,R=n[E];Vt(R,`Panel constraints not found for index ${E}`);const N=c[E],{collapsible:k,collapsedSize:O,minSize:M}=R;if(k&&Vr(N,M)<0)if(e>0){const D=M-O,V=D/2,z=N+e;Vr(z,M)<0&&(e=Vr(e,V)<=0?0:D)}else{const D=M-O,V=100-D/2,z=N-e;Vr(z,M)<0&&(e=Vr(100+e,V)>0?0:-D)}break}}{const E=e<0?1:-1;let R=e<0?v:g,N=0;for(;;){const O=c[R];Vt(O!=null,`Previous layout not found for panel index ${R}`);const M=pu({overrideDisabledPanels:l,panelConstraints:n[R],prevSize:O,size:100})-O;if(N+=M,R+=E,R<0||R>=n.length)break}const k=Math.min(Math.abs(e),Math.abs(N));e=e<0?0-k:k}{let E=e<0?g:v;for(;E>=0&&E<n.length;){const R=Math.abs(e)-Math.abs(b),N=c[E];Vt(N!=null,`Previous layout not found for panel index ${E}`);const k=N-R,O=pu({overrideDisabledPanels:l,panelConstraints:n[E],prevSize:N,size:k});if(!Pi(N,O)&&(b+=N-O,h[E]=O,b.toFixed(3).localeCompare(Math.abs(e).toFixed(3),void 0,{numeric:!0})>=0))break;e<0?E--:E++}}if(rre(d,h))return s;{const E=e<0?v:g,R=c[E];Vt(R!=null,`Previous layout not found for panel index ${E}`);const N=R+b,k=pu({overrideDisabledPanels:l,panelConstraints:n[E],prevSize:R,size:N});if(h[E]=k,!Pi(k,N)){let O=N-k,M=e<0?v:g;for(;M>=0&&M<n.length;){const D=h[M];Vt(D!=null,`Previous layout not found for panel index ${M}`);const V=D+O,z=pu({overrideDisabledPanels:l,panelConstraints:n[M],prevSize:D,size:V});if(Pi(D,z)||(O-=z-D,h[M]=z),Pi(O,0))break;e>0?M--:M++}}}const _=Object.values(h).reduce((E,R)=>R+E,0);if(!Pi(_,100,.1))return s;const C=Object.keys(s);return h.reduce((E,R,N)=>(E[C[N]]=R,E),{})}function Ql(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(t[n]===void 0||Vr(e[n],t[n])!==0)return!1;return!0}function Jl({layout:e,panelConstraints:t}){const n=Object.values(e),i=[...n],s=i.reduce((c,d)=>c+d,0);if(i.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${i.map(c=>`${c}%`).join(", ")}`);if(!Pi(s,100)&&i.length>0)for(let c=0;c<t.length;c++){const d=i[c];Vt(d!=null,`No layout data found for index ${c}`);const h=100/s*d;i[c]=h}let o=0;for(let c=0;c<t.length;c++){const d=n[c];Vt(d!=null,`No layout data found for index ${c}`);const h=i[c];Vt(h!=null,`No layout data found for index ${c}`);const g=pu({overrideDisabledPanels:!0,panelConstraints:t[c],prevSize:d,size:h});h!=g&&(o+=h-g,i[c]=g)}if(!Pi(o,0))for(let c=0;c<t.length;c++){const d=i[c];Vt(d!=null,`No layout data found for index ${c}`);const h=d+o,g=pu({overrideDisabledPanels:!0,panelConstraints:t[c],prevSize:d,size:h});if(d!==g&&(o-=g-d,i[c]=g,Pi(o,0)))break}const l=Object.keys(e);return i.reduce((c,d,h)=>(c[l[h]]=d,c),{})}function y2({groupId:e,panelId:t}){const n=()=>{const{mountedGroups:c}=Li();for(const[d,{defaultLayoutDeferred:h,derivedPanelConstraints:g,layout:v,separatorToPanels:b}]of c)if(d.id===e)return{defaultLayoutDeferred:h,derivedPanelConstraints:g,group:d,layout:v,separatorToPanels:b};throw Error(`Group ${e} not found`)},i=()=>{const c=n().derivedPanelConstraints.find(d=>d.panelId===t);if(c!==void 0)return c;throw Error(`Panel constraints not found for Panel ${t}`)},s=()=>{const c=n().group.panels.find(d=>d.id===t);if(c!==void 0)return c;throw Error(`Layout not found for Panel ${t}`)},o=()=>{const c=n().layout[t];if(c!==void 0)return c;throw Error(`Layout not found for Panel ${t}`)},l=c=>{const d=o();if(c===d)return;const{defaultLayoutDeferred:h,derivedPanelConstraints:g,group:v,layout:b,separatorToPanels:_}=n(),C=v.panels.findIndex(k=>k.id===t),E=C===v.panels.length-1,R=Vf({delta:E?d-c:c-d,initialLayout:b,panelConstraints:g,pivotIndices:E?[C-1,C]:[C,C+1],prevLayout:b,trigger:"imperative-api"}),N=Jl({layout:R,panelConstraints:g});Ql(b,N)||ji(k=>({mountedGroups:new Map(k.mountedGroups).set(v,{defaultLayoutDeferred:h,derivedPanelConstraints:g,layout:N,separatorToPanels:_})}))};return{collapse:()=>{const{collapsible:c,collapsedSize:d}=i(),{mutableValues:h}=s(),g=o();c&&g!==d&&(h.expandToSize=g,l(d))},expand:()=>{const{collapsible:c,collapsedSize:d,minSize:h}=i(),{mutableValues:g}=s(),v=o();if(c&&v===d){let b=g.expandToSize??h;b===0&&(b=1),l(b)}},getSize:()=>{const{group:c}=n(),d=o(),{element:h}=s(),g=c.orientation==="horizontal"?h.offsetWidth:h.offsetHeight;return{asPercentage:d,inPixels:g}},isCollapsed:()=>{const{collapsible:c,collapsedSize:d}=i(),h=o();return c&&Pi(d,h)},resize:c=>{if(o()!==c){let d;switch(typeof c){case"number":{const{group:h}=n(),g=ku({group:h});d=hr(c/g*100);break}case"string":{d=parseFloat(c);break}}l(d)}}}}function tk(e){if(e.defaultPrevented)return;const{mountedGroups:t}=Li();Uw(e,t).forEach(n=>{if(n.separator){const i=n.panels.find(s=>s.panelConstraints.defaultSize!==void 0);if(i){const s=i.panelConstraints.defaultSize,o=y2({groupId:n.group.id,panelId:i.id});o&&s!==void 0&&(o.resize(s),e.preventDefault())}}})}function Tm(e){const{mountedGroups:t}=Li();for(const[n]of t)if(n.separators.some(i=>i.element===e))return n;throw Error("Could not find parent Group for separator element")}function b2({groupId:e}){const t=()=>{const{mountedGroups:n}=Li();for(const[i,s]of n)if(i.id===e)return{group:i,...s};throw Error(`Could not find Group with id "${e}"`)};return{getLayout(){const{defaultLayoutDeferred:n,layout:i}=t();return n?{}:i},setLayout(n){const{defaultLayoutDeferred:i,derivedPanelConstraints:s,group:o,layout:l,separatorToPanels:c}=t(),d=Jl({layout:n,panelConstraints:s});return i?l:(Ql(l,d)||ji(h=>({mountedGroups:new Map(h.mountedGroups).set(o,{defaultLayoutDeferred:i,derivedPanelConstraints:s,layout:d,separatorToPanels:c})})),d)}}}function x2(e){const{mountedGroups:t}=Li(),n=t.get(e);return Vt(n,`Mounted Group ${e.id} not found`),n}function Rl(e,t){const n=Tm(e),i=x2(n),s=n.separators.find(g=>g.element===e);Vt(s,"Matching separator not found");const o=i.separatorToPanels.get(s);Vt(o,"Matching panels not found");const l=o.map(g=>n.panels.indexOf(g)),c=b2({groupId:n.id}).getLayout(),d=Vf({delta:t,initialLayout:c,panelConstraints:i.derivedPanelConstraints,pivotIndices:l,prevLayout:c,trigger:"keyboard"}),h=Jl({layout:d,panelConstraints:i.derivedPanelConstraints});Ql(c,h)||ji(g=>({mountedGroups:new Map(g.mountedGroups).set(n,{defaultLayoutDeferred:i.defaultLayoutDeferred,derivedPanelConstraints:i.derivedPanelConstraints,layout:h,separatorToPanels:i.separatorToPanels})}))}function nk(e){if(e.defaultPrevented)return;const t=e.currentTarget,n=Tm(t);if(!n.disabled)switch(e.key){case"ArrowDown":{e.preventDefault(),n.orientation==="vertical"&&Rl(t,5);break}case"ArrowLeft":{e.preventDefault(),n.orientation==="horizontal"&&Rl(t,-5);break}case"ArrowRight":{e.preventDefault(),n.orientation==="horizontal"&&Rl(t,5);break}case"ArrowUp":{e.preventDefault(),n.orientation==="vertical"&&Rl(t,-5);break}case"End":{e.preventDefault(),Rl(t,100);break}case"Enter":{e.preventDefault();const i=Tm(t),{derivedPanelConstraints:s,layout:o,separatorToPanels:l}=x2(i),c=i.separators.find(v=>v.element===t);Vt(c,"Matching separator not found");const d=l.get(c);Vt(d,"Matching panels not found");const h=d[0],g=s.find(v=>v.panelId===h.id);if(Vt(g,"Panel metadata not found"),g.collapsible){const v=o[h.id],b=g.collapsedSize===v?i.inMemoryLastExpandedPanelSizes[h.id]??g.minSize:g.collapsedSize;Rl(t,b-v)}break}case"F6":{e.preventDefault();const i=Tm(t).separators.map(l=>l.element),s=Array.from(i).findIndex(l=>l===e.currentTarget);Vt(s!==null,"Index not found");const o=e.shiftKey?s>0?s-1:i.length-1:s+1<i.length?s+1:0;i[o].focus();break}case"Home":{e.preventDefault(),Rl(t,-100);break}}}function ik(e){if(e.defaultPrevented||e.pointerType==="mouse"&&e.button>0)return;const{mountedGroups:t}=Li(),n=Uw(e,t),i=new Map;let s=!1;n.forEach(o=>{o.separator&&(s||(s=!0,o.separator.element.focus()));const l=t.get(o.group);l&&i.set(o.group,l.layout)}),ji({interactionState:{hitRegions:n,initialLayoutMap:i,pointerDownAtPoint:{x:e.clientX,y:e.clientY},state:"active"}}),n.length&&e.preventDefault()}const ore=e=>e,rx=()=>{},_2=1,w2=2,S2=4,C2=8,sk=3,rk=12;let um;function ok(){return um===void 0&&(um=!1,typeof window<"u"&&(window.navigator.userAgent.includes("Chrome")||window.navigator.userAgent.includes("Firefox"))&&(um=!0)),um}function are({cursorFlags:e,groups:t,state:n}){let i=0,s=0;switch(n){case"active":case"hover":t.forEach(o=>{if(!o.disableCursor)switch(o.orientation){case"horizontal":{i++;break}case"vertical":{s++;break}}})}if(!(i===0&&s===0)){switch(n){case"active":{if(e&&ok()){const o=(e&_2)!==0,l=(e&w2)!==0,c=(e&S2)!==0,d=(e&C2)!==0;if(o)return c?"se-resize":d?"ne-resize":"e-resize";if(l)return c?"sw-resize":d?"nw-resize":"w-resize";if(c)return"s-resize";if(d)return"n-resize"}break}}return ok()?i>0&&s>0?"move":i>0?"ew-resize":"ns-resize":i>0&&s>0?"grab":i>0?"col-resize":"row-resize"}}const ak=new WeakMap;function Fw(e){if(e.defaultView===null||e.defaultView===void 0)return;let{prevStyle:t,styleSheet:n}=ak.get(e)??{};n===void 0&&(n=new e.defaultView.CSSStyleSheet,e.adoptedStyleSheets&&e.adoptedStyleSheets.push(n));const{cursorFlags:i,interactionState:s}=Li();switch(s.state){case"active":case"hover":{const o=are({cursorFlags:i,groups:s.hitRegions.map(c=>c.group),state:s.state}),l=`*, *:hover {cursor: ${o} !important; }`;if(t===l)return;t=l,o?n.cssRules.length===0?n.insertRule(l):n.replaceSync(l):n.cssRules.length===1&&n.deleteRule(0);break}case"inactive":{t=void 0,n.cssRules.length===1&&n.deleteRule(0);break}}ak.set(e,{prevStyle:t,styleSheet:n})}function E2({document:e,event:t,hitRegions:n,initialLayoutMap:i,mountedGroups:s,pointerDownAtPoint:o,prevCursorFlags:l}){let c=0;const d=new Map(s);n.forEach(g=>{const{group:v,groupSize:b}=g,{disableCursor:_,orientation:C,panels:E}=v;let R=0;o?C==="horizontal"?R=(t.clientX-o.x)/b*100:R=(t.clientY-o.y)/b*100:C==="horizontal"?R=t.clientX<0?-100:100:R=t.clientY<0?-100:100;const N=i.get(v),{defaultLayoutDeferred:k,derivedPanelConstraints:O,layout:M,separatorToPanels:D}=s.get(v)??{defaultLayoutDeferred:!1};if(O&&N&&M&&D){const V=Vf({delta:R,initialLayout:N,panelConstraints:O,pivotIndices:g.panels.map(z=>E.indexOf(z)),prevLayout:M,trigger:"mouse-or-touch"});if(Ql(V,M)){if(R!==0&&!_)switch(C){case"horizontal":{c|=R<0?_2:w2;break}case"vertical":{c|=R<0?S2:C2;break}}}else d.set(g.group,{defaultLayoutDeferred:k,derivedPanelConstraints:O,layout:V,separatorToPanels:D})}});let h=0;t.movementX===0?h|=l&sk:h|=c&sk,t.movementY===0?h|=l&rk:h|=c&rk,ji({cursorFlags:h,mountedGroups:d}),Fw(e)}function lk(e){const{cursorFlags:t,interactionState:n,mountedGroups:i}=Li();n.state==="active"&&E2({document:e.currentTarget,event:e,hitRegions:n.hitRegions,initialLayoutMap:n.initialLayoutMap,mountedGroups:i,prevCursorFlags:t})}function ck(e){if(e.defaultPrevented)return;const{cursorFlags:t,interactionState:n,mountedGroups:i}=Li();switch(n.state){case"active":{if(e.buttons===0){ji(s=>s.interactionState.state==="inactive"?s:{cursorFlags:0,interactionState:{state:"inactive"}}),ji(s=>({mountedGroups:new Map(s.mountedGroups)}));return}E2({document:e.currentTarget,event:e,hitRegions:n.hitRegions,initialLayoutMap:n.initialLayoutMap,mountedGroups:i,pointerDownAtPoint:n.pointerDownAtPoint,prevCursorFlags:t});break}default:{const s=Uw(e,i);s.length===0?n.state!=="inactive"&&ji({interactionState:{state:"inactive"}}):ji({interactionState:{hitRegions:s,state:"hover"}}),Fw(e.currentTarget);break}}}function uk(e){if(e.relatedTarget instanceof HTMLIFrameElement){const{interactionState:t}=Li();t.state==="hover"&&ji({interactionState:{state:"inactive"}})}}function dk(e){if(e.defaultPrevented||e.pointerType==="mouse"&&e.button>0)return;const{interactionState:t}=Li();t.state==="active"&&(ji({cursorFlags:0,interactionState:{state:"inactive"}}),t.hitRegions.length>0&&(Fw(e.currentTarget),ji(n=>({mountedGroups:new Map(n.mountedGroups)})),e.preventDefault()))}function fk(e){let t=0,n=0;const i={};for(const o of e)if(o.defaultSize!==void 0){t++;const l=hr(o.defaultSize);n+=l,i[o.panelId]=l}else i[o.panelId]=void 0;const s=e.length-t;if(s!==0){const o=hr((100-n)/s);for(const l of e)l.defaultSize===void 0&&(i[l.panelId]=o)}return i}function lre(e,t,n){if(!n[0])return;const i=e.panels.find(d=>d.element===t);if(!i||!i.onResize)return;const s=ku({group:e}),o=e.orientation==="horizontal"?i.element.offsetWidth:i.element.offsetHeight,l=i.mutableValues.prevSize,c={asPercentage:hr(o/s*100),inPixels:o};i.mutableValues.prevSize=c,i.onResize(c,i.id,l)}function cre(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function ure(e,t){const n=e.map(s=>s.id),i=Object.keys(t);if(n.length!==i.length)return!1;for(const s of n)if(!i.includes(s))return!1;return!0}const nu=new Map;function dre(e){let t=!0;Vt(e.element.ownerDocument.defaultView,"Cannot register an unmounted Group");const n=e.element.ownerDocument.defaultView.ResizeObserver,i=new Set,s=new Set,o=new n(C=>{for(const E of C){const{borderBoxSize:R,target:N}=E;if(N===e.element){if(t){if(ku({group:e})===0)return;ji(k=>{const O=k.mountedGroups.get(e);if(O){const M=D0(e),D=O.defaultLayoutDeferred?fk(M):O.layout,V=Jl({layout:D,panelConstraints:M});return!O.defaultLayoutDeferred&&Ql(D,V)&&cre(O.derivedPanelConstraints,M)?k:{mountedGroups:new Map(k.mountedGroups).set(e,{defaultLayoutDeferred:!1,derivedPanelConstraints:M,layout:V,separatorToPanels:O.separatorToPanels})}}return k})}}else lre(e,N,R)}});o.observe(e.element),e.panels.forEach(C=>{Vt(!i.has(C.id),`Panel ids must be unique; id "${C.id}" was used more than once`),i.add(C.id),C.onResize&&o.observe(C.element)});const l=ku({group:e}),c=D0(e),d=e.panels.map(({id:C})=>C).join(",");let h=e.defaultLayout;h&&(ure(e.panels,h)||(h=void 0));const g=e.inMemoryLayouts[d]??h??fk(c),v=Jl({layout:g,panelConstraints:c}),b=g2(e),_=e.element.ownerDocument;return ji(C=>{const E=new Map;return nu.set(_,(nu.get(_)??0)+1),b.forEach(R=>{R.separator&&E.set(R.separator,R.panels)}),{mountedGroups:new Map(C.mountedGroups).set(e,{defaultLayoutDeferred:l===0,derivedPanelConstraints:c,layout:v,separatorToPanels:E})}}),e.separators.forEach(C=>{Vt(!s.has(C.id),`Separator ids must be unique; id "${C.id}" was used more than once`),s.add(C.id),C.element.addEventListener("keydown",nk)}),nu.get(_)===1&&(_.addEventListener("dblclick",tk,!0),_.addEventListener("pointerdown",ik,!0),_.addEventListener("pointerleave",lk),_.addEventListener("pointermove",ck),_.addEventListener("pointerout",uk),_.addEventListener("pointerup",dk,!0)),function(){t=!1,nu.set(_,Math.max(0,(nu.get(_)??0)-1)),ji(C=>{const E=new Map(C.mountedGroups);return E.delete(e),{mountedGroups:E}}),e.separators.forEach(C=>{C.element.removeEventListener("keydown",nk)}),nu.get(_)||(_.removeEventListener("dblclick",tk,!0),_.removeEventListener("pointerdown",ik,!0),_.removeEventListener("pointerleave",lk),_.removeEventListener("pointermove",ck),_.removeEventListener("pointerout",uk),_.removeEventListener("pointerup",dk,!0)),o.disconnect()}}function fre(){const[e,t]=x.useState({}),n=x.useCallback(()=>t({}),[]);return[e,n]}function Vw(e){const t=x.useId();return`${e??t}`}const ic=typeof window<"u"?x.useLayoutEffect:x.useEffect;function mf(e){const t=x.useRef(e);return ic(()=>{t.current=e},[e]),x.useCallback((...n)=>t.current?.(...n),[t])}function $w(...e){return mf(t=>{e.forEach(n=>{if(n)switch(typeof n){case"function":{n(t);break}case"object":{n.current=t;break}}})})}function Hw(e){const t=x.useRef({...e});return ic(()=>{for(const n in e)t.current[n]=e[n]},[e]),t.current}const A2=x.createContext(null);function hre(e,t){const n=x.useRef({getLayout:()=>({}),setLayout:ore});x.useImperativeHandle(t,()=>n.current,[]),ic(()=>{Object.assign(n.current,b2({groupId:e}))})}function T2({children:e,className:t,defaultLayout:n,disableCursor:i,disabled:s,elementRef:o,groupRef:l,id:c,onLayoutChange:d,onLayoutChanged:h,orientation:g="horizontal",resizeTargetMinimumSize:v={coarse:20,fine:10},style:b,..._}){const C=x.useRef({onLayoutChange:{},onLayoutChanged:{}}),E=mf(q=>{Ql(C.current.onLayoutChange,q)||(C.current.onLayoutChange=q,d?.(q))}),R=mf(q=>{Ql(C.current.onLayoutChanged,q)||(C.current.onLayoutChanged=q,h?.(q))}),N=Vw(c),k=x.useRef(null),[O,M]=fre(),D=x.useRef({lastExpandedPanelSizes:{},layouts:{},panels:[],resizeTargetMinimumSize:v,separators:[]}),V=$w(k,o);hre(N,l);const z=mf((q,W)=>{const{interactionState:ne,mountedGroups:re}=Li();for(const ye of re.keys())if(ye.id===q){const G=re.get(ye);if(G){let Y=!1;return ne.state==="active"&&(Y=ne.hitRegions.some(te=>te.group===ye)),{flexGrow:G.layout[W]??1,pointerEvents:Y?"none":void 0}}}return{flexGrow:n?.[W]??1}}),I=Hw({defaultLayout:n,disableCursor:i}),$=x.useMemo(()=>({get disableCursor(){return!!I.disableCursor},getPanelStyles:z,id:N,orientation:g,registerPanel:q=>{const W=D.current;return W.panels=L0(g,[...W.panels,q]),M(),()=>{W.panels=W.panels.filter(ne=>ne!==q),M()}},registerSeparator:q=>{const W=D.current;return W.separators=L0(g,[...W.separators,q]),M(),()=>{W.separators=W.separators.filter(ne=>ne!==q),M()}},togglePanelDisabled:(q,W)=>{const ne=D.current.panels.find(ye=>ye.id===q);ne&&(ne.panelConstraints.disabled=W);const{mountedGroups:re}=Li();for(const ye of re.keys())if(ye.id===N){const G=re.get(ye);G&&(G.derivedPanelConstraints=D0(ye))}},toggleSeparatorDisabled:(q,W)=>{const ne=D.current.separators.find(re=>re.id===q);ne&&(ne.disabled=W)}}),[z,N,M,g,I]),Z=x.useRef(null);return ic(()=>{const q=k.current;if(q===null)return;const W=D.current;let ne;if(I.defaultLayout!==void 0&&Object.keys(I.defaultLayout).length===W.panels.length){ne={};for(const de of W.panels){const oe=I.defaultLayout[de.id];oe!==void 0&&(ne[de.id]=oe)}}const re={defaultLayout:ne,disableCursor:!!I.disableCursor,disabled:!!s,element:q,id:N,inMemoryLastExpandedPanelSizes:D.current.lastExpandedPanelSizes,inMemoryLayouts:D.current.layouts,orientation:g,panels:W.panels,resizeTargetMinimumSize:W.resizeTargetMinimumSize,separators:W.separators};Z.current=re;const ye=dre(re),G=Li().mountedGroups.get(re);if(G){const{defaultLayoutDeferred:de,derivedPanelConstraints:oe,layout:K}=G;!de&&oe.length>0&&(E(K),R(K))}const Y=Po.addListener("interactionStateChange",de=>{de.state}),te=Po.addListener("mountedGroupsChange",de=>{const oe=de.get(re);if(oe){const{defaultLayoutDeferred:K,derivedPanelConstraints:ae,layout:be}=oe;if(K||ae.length===0)return;const xe=re.panels.map(({id:Se})=>Se).join(",");re.inMemoryLayouts[xe]=be;const{interactionState:Re}=Li(),we=Re.state!=="active";E(be),we&&R(be)}});return()=>{Z.current=null,ye(),Y(),te()}},[s,N,R,E,g,O,I]),x.useEffect(()=>{const q=Z.current;q&&(q.defaultLayout=n,q.disableCursor=!!i)}),y.jsx(A2.Provider,{value:$,children:y.jsx("div",{..._,className:t,"data-group":!0,"data-testid":N,id:N,ref:V,style:{height:"100%",width:"100%",overflow:"hidden",...b,display:"flex",flexDirection:g==="horizontal"?"row":"column",flexWrap:"nowrap",touchAction:g==="horizontal"?"pan-y":"pan-x"},children:e})})}T2.displayName="Group";function Gw(){const e=x.useContext(A2);return Vt(e,"Group Context not found; did you render a Panel or Separator outside of a Group?"),e}function pre(e,t){const{id:n}=Gw(),i=x.useRef({collapse:rx,expand:rx,getSize:()=>({asPercentage:0,inPixels:0}),isCollapsed:()=>!1,resize:rx});x.useImperativeHandle(t,()=>i.current,[]),ic(()=>{Object.assign(i.current,y2({groupId:n,panelId:e}))})}function R2({children:e,className:t,collapsedSize:n="0%",collapsible:i=!1,defaultSize:s,disabled:o,elementRef:l,id:c,maxSize:d="100%",minSize:h="0%",onResize:g,panelRef:v,style:b,..._}){const C=!!c,E=Vw(c),R=Hw({disabled:o}),N=x.useRef(null),k=$w(N,l),{getPanelStyles:O,id:M,orientation:D,registerPanel:V,togglePanelDisabled:z}=Gw(),I=g!==null,$=mf((q,W,ne)=>{g?.(q,c,ne)});ic(()=>{const q=N.current;if(q!==null){const W={element:q,id:E,idIsStable:C,mutableValues:{expandToSize:void 0,prevSize:void 0},onResize:I?$:void 0,panelConstraints:{collapsedSize:n,collapsible:i,defaultSize:s,disabled:R.disabled,maxSize:d,minSize:h}};return V(W)}},[n,i,s,I,E,C,d,h,$,V,R]),x.useEffect(()=>{z(E,!!o)},[o,E,z]),pre(E,v);const Z=x.useSyncExternalStore(q=>(Po.addListener("mountedGroupsChange",q),()=>{Po.removeListener("mountedGroupsChange",q)}),()=>JSON.stringify(O(M,E)),()=>JSON.stringify(O(M,E)));return y.jsx("div",{..._,"aria-disabled":o||void 0,"data-panel":!0,"data-testid":E,id:E,ref:k,style:{...mre,display:"flex",flexBasis:0,flexShrink:1,overflow:"hidden",...JSON.parse(Z)},children:y.jsx("div",{className:t,style:{maxHeight:"100%",maxWidth:"100%",flexGrow:1,...b,touchAction:D==="horizontal"?"pan-y":"pan-x"},children:e})})}R2.displayName="Panel";const mre={minHeight:0,maxHeight:"100%",height:"auto",minWidth:0,maxWidth:"100%",width:"auto",border:"none",borderWidth:0,padding:0,margin:0};function gre({layout:e,panelConstraints:t,panelId:n,panelIndex:i}){let s,o;const l=e[n],c=t.find(d=>d.panelId===n);if(c){const d=c.maxSize,h=c.collapsible?c.collapsedSize:c.minSize,g=[i,i+1];o=Jl({layout:Vf({delta:h-l,initialLayout:e,panelConstraints:t,pivotIndices:g,prevLayout:e}),panelConstraints:t})[n],s=Jl({layout:Vf({delta:d-l,initialLayout:e,panelConstraints:t,pivotIndices:g,prevLayout:e}),panelConstraints:t})[n]}return{valueControls:n,valueMax:s,valueMin:o,valueNow:l}}function k2({children:e,className:t,disabled:n,elementRef:i,id:s,style:o,...l}){const c=Vw(s),d=Hw({disabled:n}),[h,g]=x.useState({}),[v,b]=x.useState("inactive"),_=x.useRef(null),C=$w(_,i),{disableCursor:E,id:R,orientation:N,registerSeparator:k,toggleSeparatorDisabled:O}=Gw(),M=N==="horizontal"?"vertical":"horizontal";ic(()=>{const V=_.current;if(V!==null){const z={disabled:d.disabled,element:V,id:c},I=k(z),$=Po.addListener("interactionStateChange",q=>{b(q.state!=="inactive"&&q.hitRegions.some(W=>W.separator===z)?q.state:"inactive")}),Z=Po.addListener("mountedGroupsChange",q=>{q.forEach(({derivedPanelConstraints:W,layout:ne,separatorToPanels:re},ye)=>{if(ye.id===R){const G=re.get(z);if(G){const Y=G[0],te=ye.panels.indexOf(Y);g(gre({layout:ne,panelConstraints:W,panelId:Y.id,panelIndex:te}))}}})});return()=>{$(),Z(),I()}}},[R,c,k,d]),x.useEffect(()=>{O(c,!!n)},[n,c,O]);let D;return n&&!E&&(D="not-allowed"),y.jsx("div",{...l,"aria-controls":h.valueControls,"aria-disabled":n||void 0,"aria-orientation":M,"aria-valuemax":h.valueMax,"aria-valuemin":h.valueMin,"aria-valuenow":h.valueNow,children:e,className:t,"data-separator":n?"disabled":v,"data-testid":c,id:c,ref:C,role:"separator",style:{flexBasis:"auto",cursor:D,...o,flexGrow:0,flexShrink:0,touchAction:"none"},tabIndex:n?void 0:0})}k2.displayName="Separator";function vre({className:e,...t}){return y.jsx(T2,{"data-slot":"resizable-panel-group",className:it("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t})}function hk({...e}){return y.jsx(R2,{"data-slot":"resizable-panel",...e})}function yre({withHandle:e,className:t,...n}){return y.jsx(k2,{"data-slot":"resizable-handle",className:it("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...n,children:e&&y.jsx("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:y.jsx(FO,{className:"size-2.5"})})})}const bre=()=>{const e=Le(tt.expandedNodes),t=Le(tt.challenge),n=e.find(i=>i.rank==="SPECIES");return y.jsxs(vre,{orientation:"horizontal",children:[y.jsxs(hk,{className:"relative",defaultSize:480,minSize:452,maxSize:855,children:[y.jsx(tD,{}),y.jsx(f2,{})]}),y.jsx(yre,{}),y.jsx(hk,{className:"flex w-full flex-col gap-4",children:y.jsxs("div",{className:"h-screen w-full overflow-auto",children:[t.mode&&y.jsx(d2,{}),!t.mode&&(n?y.jsx(Fu,{}):y.jsx(h2,{}))]})})]})},qs=()=>{const{isTablet:e}=ec(),t=$t(tt.challenge),n=gr({from:"/challenges",shouldThrow:!1});return x.useEffect(()=>{n&&t({mode:"UNSET",status:"NOT_STARTED"})},[n,t]),e?y.jsx(Use,{}):y.jsx(bre,{})},xre=[{icon:C_,title:"Galeria de Espcies",description:"Organize e favorite suas espcies j descobertas",color:"text-green-600",bgColor:"bg-green-50"},{icon:T_,title:"Desafios Dirios",description:"Novos desafios todos os dias para testar seus conhecimentos",color:"text-orange-600",bgColor:"bg-orange-50"},{icon:I$,title:"Conquistas e Medalhas",description:"Desbloqueie conquistas especiais e mostre suas habilidades",color:"text-pink-600",bgColor:"bg-pink-50"},{icon:X$,title:"Ranking Global",description:"Compita com outros exploradores da taxonomia",color:"text-yellow-600",bgColor:"bg-yellow-50"},{icon:r6,title:"Salvar atalhos",description:"Defina ns mais visitados para agilizar sua navegao",color:"text-blue-600",bgColor:"bg-blue-50"},{icon:I6,title:"Acompanhe seu Progresso",description:"Veja suas estatsticas e evoluo ao longo do tempo",color:"text-purple-600",bgColor:"bg-purple-50"}],_re=y.jsxs("svg",{className:"mr-3 size-5",viewBox:"0 0 24 24",children:[y.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),y.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),y.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),y.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),wre=()=>{const{t:e}=Mt(),t=Ss(),{login:n}=L_(),i=Le(st.loginStatus)==="loading",s=Le(st.error),o=Le(st.isAuthenticated);x.useEffect(()=>{o&&t.navigate({to:"/profile"})},[o,t]);const l=async()=>{(await n("google")).success&&t.navigate({to:"/profile"})},c=()=>{window.history.length>1?window.history.back():t.navigate({to:"/"})};return y.jsx("main",{className:"flex min-h-screen items-center justify-center p-4",children:y.jsx("section",{className:"relative z-10 mx-auto w-full max-w-lg",children:y.jsxs(ja,{className:"border-0 shadow-xl",children:[y.jsxs(Xj,{className:"text-center",children:[y.jsx(Qj,{className:"text-2xl",children:e("welcome")}),y.jsx(rse,{className:"text-sm leading-relaxed",children:e("auth.descriptionGoogle")})]}),y.jsxs(Ia,{className:"space-y-6",children:[s&&y.jsxs("div",{className:"bg-accent rounded-lg p-3 text-sm text-red-600",children:[y.jsx("p",{className:"font-medium",children:e("auth.loginError")}),y.jsx("p",{className:"mt-1 text-xs",children:s?.message})]}),y.jsx(Ht,{onClick:l,disabled:i,className:"h-12 w-full border border-gray-300 text-base font-medium shadow-sm hover:bg-gray-50",variant:"outline",children:i?y.jsxs(y.Fragment,{children:[y.jsx($O,{className:"mr-2 size-5 animate-spin"})," ",e("auth.signingIn")]}):y.jsxs(y.Fragment,{children:[_re,e("auth.continueWithGoogle")]})}),y.jsxs("div",{className:"space-y-4 border-t pt-4",children:[y.jsx("div",{className:"text-center",children:y.jsx("p",{className:"text-sm text-gray-500",children:e("auth.exclusiveFeatures")})}),y.jsx("ul",{className:"grid h-48 grid-cols-1 overflow-auto 2xl:h-full",children:xre.map((d,h)=>{const g=d.icon;return y.jsxs("li",{className:"flex items-start space-x-3 rounded-lg px-2 py-3",children:[y.jsx("div",{className:`flex size-8 shrink-0 items-center justify-center rounded-full ${d.bgColor} ${d.color}`,children:y.jsx(g,{className:"size-4"})}),y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("h4",{className:`text-sm font-medium ${d.color}`,children:d.title}),y.jsx("p",{className:"text-xs text-gray-500",children:d.description})]})]},h)})})]})]}),y.jsxs("div",{className:"space-y-4 border-t border-border p-6 pb-1 text-muted-foreground",children:[y.jsx("p",{className:"text-center text-sm leading-relaxed",children:e("auth.continueWithoutLogin")}),y.jsxs(Ht,{className:"h-11 w-full border border-border font-medium transition-all duration-200",variant:"outline","aria-label":e("auth.backAriaLabel"),onClick:c,children:[y.jsx(w_,{className:"mr-2 size-4","aria-hidden":"true"}),e("auth.back")]})]})]})})})},pk="/treevera/assets/avif-new-logo-CsHr8CWA.avif",Sre=()=>{const{isMobile:e}=ec();return y.jsxs("div",{className:"relative",children:[y.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden","aria-hidden":"true",children:[!e&&y.jsx(Hn,{src:pk,alt:"Logo",className:"absolute -top-16 -left-16 -z-50 w-64 max-w-3xl rotate-12 transform-gpu opacity-10 sm:w-80 md:w-96 lg:w-md xl:w-lg 2xl:w-full"}),y.jsx(Hn,{src:pk,alt:"Logo",className:it("absolute -right-16 -bottom-16 -z-50 w-64 max-w-3xl scale-x-[-1] rotate-45 transform-gpu opacity-10 sm:w-80 md:w-96 lg:w-md xl:w-lg 2xl:w-full",e&&"fixed -right-6 bottom-50")})]}),y.jsx(tN,{})]})},ox=async(e,t)=>{try{const n=e.game_info.top_fav_species??[],i=t(n),{data:s,error:o}=await Dn.from("users").update({game_info:{...e.game_info,top_fav_species:i}}).eq("id",e.id).select().single();return o?(console.error("Error updating top_fav_species:",o),null):s}catch(n){return console.error("Unexpected error updating top_fav_species:",n),null}};function Cre(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return x.useMemo(()=>i=>{t.forEach(s=>s(i))},t)}const nv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function $u(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Kw(e){return"nodeType"in e}function es(e){var t,n;return e?$u(e)?e:Kw(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function qw(e){const{Document:t}=es(e);return e instanceof t}function vh(e){return $u(e)?!1:e instanceof es(e).HTMLElement}function N2(e){return e instanceof es(e).SVGElement}function Hu(e){return e?$u(e)?e.document:Kw(e)?qw(e)?e:vh(e)||N2(e)?e.ownerDocument:document:document:document}const Xr=nv?x.useLayoutEffect:x.useEffect;function Ww(e){const t=x.useRef(e);return Xr(()=>{t.current=e}),x.useCallback(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t.current==null?void 0:t.current(...i)},[])}function Ere(){const e=x.useRef(null),t=x.useCallback((i,s)=>{e.current=setInterval(i,s)},[]),n=x.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function $f(e,t){t===void 0&&(t=[e]);const n=x.useRef(e);return Xr(()=>{n.current!==e&&(n.current=e)},t),n}function yh(e,t){const n=x.useRef();return x.useMemo(()=>{const i=e(n.current);return n.current=i,i},[...t])}function hg(e){const t=Ww(e),n=x.useRef(null),i=x.useCallback(s=>{s!==n.current&&t?.(s,n.current),n.current=s},[]);return[n,i]}function j0(e){const t=x.useRef();return x.useEffect(()=>{t.current=e},[e]),t.current}let ax={};function bh(e,t){return x.useMemo(()=>{if(t)return t;const n=ax[e]==null?0:ax[e]+1;return ax[e]=n,e+"-"+n},[e,t])}function O2(e){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return i.reduce((o,l)=>{const c=Object.entries(l);for(const[d,h]of c){const g=o[d];g!=null&&(o[d]=g+e*h)}return o},{...t})}}const wu=O2(1),pg=O2(-1);function Are(e){return"clientX"in e&&"clientY"in e}function Yw(e){if(!e)return!1;const{KeyboardEvent:t}=es(e.target);return t&&e instanceof t}function Tre(e){if(!e)return!1;const{TouchEvent:t}=es(e.target);return t&&e instanceof t}function I0(e){if(Tre(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Are(e)?{x:e.clientX,y:e.clientY}:null}const Hf=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Hf.Translate.toString(e),Hf.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:i}=e;return t+" "+n+"ms "+i}}}),mk="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Rre(e){return e.matches(mk)?e:e.querySelector(mk)}const kre={display:"none"};function Nre(e){let{id:t,value:n}=e;return Ot.createElement("div",{id:t,style:kre},n)}function Ore(e){let{id:t,announcement:n,ariaLiveType:i="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ot.createElement("div",{id:t,style:s,role:"status","aria-live":i,"aria-atomic":!0},n)}function Pre(){const[e,t]=x.useState("");return{announce:x.useCallback(i=>{i!=null&&t(i)},[]),announcement:e}}const P2=x.createContext(null);function Mre(e){const t=x.useContext(P2);x.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Dre(){const[e]=x.useState(()=>new Set),t=x.useCallback(i=>(e.add(i),()=>e.delete(i)),[e]);return[x.useCallback(i=>{let{type:s,event:o}=i;e.forEach(l=>{var c;return(c=l[s])==null?void 0:c.call(l,o)})},[e]),t]}const Lre={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},jre={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Ire(e){let{announcements:t=jre,container:n,hiddenTextDescribedById:i,screenReaderInstructions:s=Lre}=e;const{announce:o,announcement:l}=Pre(),c=bh("DndLiveRegion"),[d,h]=x.useState(!1);if(x.useEffect(()=>{h(!0)},[]),Mre(x.useMemo(()=>({onDragStart(v){let{active:b}=v;o(t.onDragStart({active:b}))},onDragMove(v){let{active:b,over:_}=v;t.onDragMove&&o(t.onDragMove({active:b,over:_}))},onDragOver(v){let{active:b,over:_}=v;o(t.onDragOver({active:b,over:_}))},onDragEnd(v){let{active:b,over:_}=v;o(t.onDragEnd({active:b,over:_}))},onDragCancel(v){let{active:b,over:_}=v;o(t.onDragCancel({active:b,over:_}))}}),[o,t])),!d)return null;const g=Ot.createElement(Ot.Fragment,null,Ot.createElement(Nre,{id:i,value:s.draggable}),Ot.createElement(Ore,{id:c,announcement:l}));return n?Ji.createPortal(g,n):g}var Vn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Vn||(Vn={}));function mg(){}function gk(e,t){return x.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function zre(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return x.useMemo(()=>[...t].filter(i=>i!=null),[...t])}const br=Object.freeze({x:0,y:0});function Bre(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ure(e,t){let{data:{value:n}}=e,{data:{value:i}}=t;return n-i}function Fre(e,t){let{data:{value:n}}=e,{data:{value:i}}=t;return i-n}function Vre(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function vk(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const $re=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:i}=e;const s=vk(t,t.left,t.top),o=[];for(const l of i){const{id:c}=l,d=n.get(c);if(d){const h=Bre(vk(d),s);o.push({id:c,data:{droppableContainer:l,value:h}})}}return o.sort(Ure)};function Hre(e,t){const n=Math.max(t.top,e.top),i=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),l=s-i,c=o-n;if(i<s&&n<o){const d=t.width*t.height,h=e.width*e.height,g=l*c,v=g/(d+h-g);return Number(v.toFixed(4))}return 0}const Gre=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:i}=e;const s=[];for(const o of i){const{id:l}=o,c=n.get(l);if(c){const d=Hre(c,t);d>0&&s.push({id:l,data:{droppableContainer:o,value:d}})}}return s.sort(Fre)};function Kre(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function M2(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:br}function qre(e){return function(n){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return s.reduce((l,c)=>({...l,top:l.top+e*c.y,bottom:l.bottom+e*c.y,left:l.left+e*c.x,right:l.right+e*c.x}),{...n})}}const Wre=qre(1);function Yre(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Zre(e,t,n){const i=Yre(t);if(!i)return e;const{scaleX:s,scaleY:o,x:l,y:c}=i,d=e.left-l-(1-s)*parseFloat(n),h=e.top-c-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),g=s?e.width/s:e.width,v=o?e.height/o:e.height;return{width:g,height:v,top:h,right:d+g,bottom:h+v,left:d}}const Xre={ignoreTransform:!1};function Gu(e,t){t===void 0&&(t=Xre);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:h,transformOrigin:g}=es(e).getComputedStyle(e);h&&(n=Zre(n,h,g))}const{top:i,left:s,width:o,height:l,bottom:c,right:d}=n;return{top:i,left:s,width:o,height:l,bottom:c,right:d}}function yk(e){return Gu(e,{ignoreTransform:!0})}function Qre(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Jre(e,t){return t===void 0&&(t=es(e).getComputedStyle(e)),t.position==="fixed"}function eoe(e,t){t===void 0&&(t=es(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=t[s];return typeof o=="string"?n.test(o):!1})}function Zw(e,t){const n=[];function i(s){if(t!=null&&n.length>=t||!s)return n;if(qw(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!vh(s)||N2(s)||n.includes(s))return n;const o=es(e).getComputedStyle(s);return s!==e&&eoe(s,o)&&n.push(s),Jre(s,o)?n:i(s.parentNode)}return e?i(e):n}function D2(e){const[t]=Zw(e,1);return t??null}function lx(e){return!nv||!e?null:$u(e)?e:Kw(e)?qw(e)||e===Hu(e).scrollingElement?window:vh(e)?e:null:null}function L2(e){return $u(e)?e.scrollX:e.scrollLeft}function j2(e){return $u(e)?e.scrollY:e.scrollTop}function z0(e){return{x:L2(e),y:j2(e)}}var ii;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(ii||(ii={}));function I2(e){return!nv||!e?!1:e===document.scrollingElement}function z2(e){const t={x:0,y:0},n=I2(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,l=e.scrollTop>=i.y,c=e.scrollLeft>=i.x;return{isTop:s,isLeft:o,isBottom:l,isRight:c,maxScroll:i,minScroll:t}}const toe={x:.2,y:.2};function noe(e,t,n,i,s){let{top:o,left:l,right:c,bottom:d}=n;i===void 0&&(i=10),s===void 0&&(s=toe);const{isTop:h,isBottom:g,isLeft:v,isRight:b}=z2(e),_={x:0,y:0},C={x:0,y:0},E={height:t.height*s.y,width:t.width*s.x};return!h&&o<=t.top+E.height?(_.y=ii.Backward,C.y=i*Math.abs((t.top+E.height-o)/E.height)):!g&&d>=t.bottom-E.height&&(_.y=ii.Forward,C.y=i*Math.abs((t.bottom-E.height-d)/E.height)),!b&&c>=t.right-E.width?(_.x=ii.Forward,C.x=i*Math.abs((t.right-E.width-c)/E.width)):!v&&l<=t.left+E.width&&(_.x=ii.Backward,C.x=i*Math.abs((t.left+E.width-l)/E.width)),{direction:_,speed:C}}function ioe(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:l}=window;return{top:0,left:0,right:o,bottom:l,width:o,height:l}}const{top:t,left:n,right:i,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:i,bottom:s,width:e.clientWidth,height:e.clientHeight}}function B2(e){return e.reduce((t,n)=>wu(t,z0(n)),br)}function soe(e){return e.reduce((t,n)=>t+L2(n),0)}function roe(e){return e.reduce((t,n)=>t+j2(n),0)}function ooe(e,t){if(t===void 0&&(t=Gu),!e)return;const{top:n,left:i,bottom:s,right:o}=t(e);D2(e)&&(s<=0||o<=0||n>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const aoe=[["x",["left","right"],soe],["y",["top","bottom"],roe]];class Xw{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=Zw(n),s=B2(i);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,l,c]of aoe)for(const d of l)Object.defineProperty(this,d,{get:()=>{const h=c(i),g=s[o]-h;return this.rect[d]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class gf{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...n)})},this.target=t}add(t,n,i){var s;(s=this.target)==null||s.addEventListener(t,n,i),this.listeners.push([t,n,i])}}function loe(e){const{EventTarget:t}=es(e);return e instanceof t?e:Hu(e)}function cx(e,t){const n=Math.abs(e.x),i=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+i**2)>t:"x"in t&&"y"in t?n>t.x&&i>t.y:"x"in t?n>t.x:"y"in t?i>t.y:!1}var Us;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Us||(Us={}));function bk(e){e.preventDefault()}function coe(e){e.stopPropagation()}var Lt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Lt||(Lt={}));const U2={start:[Lt.Space,Lt.Enter],cancel:[Lt.Esc],end:[Lt.Space,Lt.Enter,Lt.Tab]},uoe=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Lt.Right:return{...n,x:n.x+25};case Lt.Left:return{...n,x:n.x-25};case Lt.Down:return{...n,y:n.y+25};case Lt.Up:return{...n,y:n.y-25}}};class F2{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new gf(Hu(n)),this.windowListeners=new gf(es(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Us.Resize,this.handleCancel),this.windowListeners.add(Us.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Us.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,i=t.node.current;i&&ooe(i),n(br)}handleKeyDown(t){if(Yw(t)){const{active:n,context:i,options:s}=this.props,{keyboardCodes:o=U2,coordinateGetter:l=uoe,scrollBehavior:c="smooth"}=s,{code:d}=t;if(o.end.includes(d)){this.handleEnd(t);return}if(o.cancel.includes(d)){this.handleCancel(t);return}const{collisionRect:h}=i.current,g=h?{x:h.left,y:h.top}:br;this.referenceCoordinates||(this.referenceCoordinates=g);const v=l(t,{active:n,context:i.current,currentCoordinates:g});if(v){const b=pg(v,g),_={x:0,y:0},{scrollableAncestors:C}=i.current;for(const E of C){const R=t.code,{isTop:N,isRight:k,isLeft:O,isBottom:M,maxScroll:D,minScroll:V}=z2(E),z=ioe(E),I={x:Math.min(R===Lt.Right?z.right-z.width/2:z.right,Math.max(R===Lt.Right?z.left:z.left+z.width/2,v.x)),y:Math.min(R===Lt.Down?z.bottom-z.height/2:z.bottom,Math.max(R===Lt.Down?z.top:z.top+z.height/2,v.y))},$=R===Lt.Right&&!k||R===Lt.Left&&!O,Z=R===Lt.Down&&!M||R===Lt.Up&&!N;if($&&I.x!==v.x){const q=E.scrollLeft+b.x,W=R===Lt.Right&&q<=D.x||R===Lt.Left&&q>=V.x;if(W&&!b.y){E.scrollTo({left:q,behavior:c});return}W?_.x=E.scrollLeft-q:_.x=R===Lt.Right?E.scrollLeft-D.x:E.scrollLeft-V.x,_.x&&E.scrollBy({left:-_.x,behavior:c});break}else if(Z&&I.y!==v.y){const q=E.scrollTop+b.y,W=R===Lt.Down&&q<=D.y||R===Lt.Up&&q>=V.y;if(W&&!b.x){E.scrollTo({top:q,behavior:c});return}W?_.y=E.scrollTop-q:_.y=R===Lt.Down?E.scrollTop-D.y:E.scrollTop-V.y,_.y&&E.scrollBy({top:-_.y,behavior:c});break}}this.handleMove(t,wu(pg(v,this.referenceCoordinates),_))}}}handleMove(t,n){const{onMove:i}=this.props;t.preventDefault(),i(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}F2.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:i=U2,onActivation:s}=t,{active:o}=n;const{code:l}=e.nativeEvent;if(i.start.includes(l)){const c=o.activatorNode.current;return c&&e.target!==c?!1:(e.preventDefault(),s?.({event:e.nativeEvent}),!0)}return!1}}];function xk(e){return!!(e&&"distance"in e)}function _k(e){return!!(e&&"delay"in e)}class Qw{constructor(t,n,i){var s;i===void 0&&(i=loe(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:l}=o;this.props=t,this.events=n,this.document=Hu(l),this.documentListeners=new gf(this.document),this.listeners=new gf(i),this.windowListeners=new gf(es(l)),this.initialCoordinates=(s=I0(o))!=null?s:br,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:i}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Us.Resize,this.handleCancel),this.windowListeners.add(Us.DragStart,bk),this.windowListeners.add(Us.VisibilityChange,this.handleCancel),this.windowListeners.add(Us.ContextMenu,bk),this.documentListeners.add(Us.Keydown,this.handleKeydown),n){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(_k(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(xk(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:i,onPending:s}=this.props;s(i,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Us.Click,coe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Us.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:i,initialCoordinates:s,props:o}=this,{onMove:l,options:{activationConstraint:c}}=o;if(!s)return;const d=(n=I0(t))!=null?n:br,h=pg(s,d);if(!i&&c){if(xk(c)){if(c.tolerance!=null&&cx(h,c.tolerance))return this.handleCancel();if(cx(h,c.distance))return this.handleStart()}if(_k(c)&&cx(h,c.tolerance))return this.handleCancel();this.handlePending(c,h);return}t.cancelable&&t.preventDefault(),l(d)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Lt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const doe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Jw extends Qw{constructor(t){const{event:n}=t,i=Hu(n.target);super(t,doe,i)}}Jw.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:i}=t;return!n.isPrimary||n.button!==0?!1:(i?.({event:n}),!0)}}];const foe={move:{name:"mousemove"},end:{name:"mouseup"}};var B0;(function(e){e[e.RightClick=2]="RightClick"})(B0||(B0={}));class hoe extends Qw{constructor(t){super(t,foe,Hu(t.event.target))}}hoe.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:i}=t;return n.button===B0.RightClick?!1:(i?.({event:n}),!0)}}];const ux={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class V2 extends Qw{constructor(t){super(t,ux)}static setup(){return window.addEventListener(ux.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(ux.move.name,t)};function t(){}}}V2.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:i}=t;const{touches:s}=n;return s.length>1?!1:(i?.({event:n}),!0)}}];var vf;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(vf||(vf={}));var gg;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(gg||(gg={}));function poe(e){let{acceleration:t,activator:n=vf.Pointer,canScroll:i,draggingRect:s,enabled:o,interval:l=5,order:c=gg.TreeOrder,pointerCoordinates:d,scrollableAncestors:h,scrollableAncestorRects:g,delta:v,threshold:b}=e;const _=goe({delta:v,disabled:!o}),[C,E]=Ere(),R=x.useRef({x:0,y:0}),N=x.useRef({x:0,y:0}),k=x.useMemo(()=>{switch(n){case vf.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case vf.DraggableRect:return s}},[n,s,d]),O=x.useRef(null),M=x.useCallback(()=>{const V=O.current;if(!V)return;const z=R.current.x*N.current.x,I=R.current.y*N.current.y;V.scrollBy(z,I)},[]),D=x.useMemo(()=>c===gg.TreeOrder?[...h].reverse():h,[c,h]);x.useEffect(()=>{if(!o||!h.length||!k){E();return}for(const V of D){if(i?.(V)===!1)continue;const z=h.indexOf(V),I=g[z];if(!I)continue;const{direction:$,speed:Z}=noe(V,I,k,t,b);for(const q of["x","y"])_[q][$[q]]||(Z[q]=0,$[q]=0);if(Z.x>0||Z.y>0){E(),O.current=V,C(M,l),R.current=Z,N.current=$;return}}R.current={x:0,y:0},N.current={x:0,y:0},E()},[t,M,i,E,o,l,JSON.stringify(k),JSON.stringify(_),C,h,D,g,JSON.stringify(b)])}const moe={x:{[ii.Backward]:!1,[ii.Forward]:!1},y:{[ii.Backward]:!1,[ii.Forward]:!1}};function goe(e){let{delta:t,disabled:n}=e;const i=j0(t);return yh(s=>{if(n||!i||!s)return moe;const o={x:Math.sign(t.x-i.x),y:Math.sign(t.y-i.y)};return{x:{[ii.Backward]:s.x[ii.Backward]||o.x===-1,[ii.Forward]:s.x[ii.Forward]||o.x===1},y:{[ii.Backward]:s.y[ii.Backward]||o.y===-1,[ii.Forward]:s.y[ii.Forward]||o.y===1}}},[n,t,i])}function voe(e,t){const n=t!=null?e.get(t):void 0,i=n?n.node.current:null;return yh(s=>{var o;return t==null?null:(o=i??s)!=null?o:null},[i,t])}function yoe(e,t){return x.useMemo(()=>e.reduce((n,i)=>{const{sensor:s}=i,o=s.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,i)}));return[...n,...o]},[]),[e,t])}var Gf;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Gf||(Gf={}));var U0;(function(e){e.Optimized="optimized"})(U0||(U0={}));const wk=new Map;function boe(e,t){let{dragging:n,dependencies:i,config:s}=t;const[o,l]=x.useState(null),{frequency:c,measure:d,strategy:h}=s,g=x.useRef(e),v=R(),b=$f(v),_=x.useCallback(function(N){N===void 0&&(N=[]),!b.current&&l(k=>k===null?N:k.concat(N.filter(O=>!k.includes(O))))},[b]),C=x.useRef(null),E=yh(N=>{if(v&&!n)return wk;if(!N||N===wk||g.current!==e||o!=null){const k=new Map;for(let O of e){if(!O)continue;if(o&&o.length>0&&!o.includes(O.id)&&O.rect.current){k.set(O.id,O.rect.current);continue}const M=O.node.current,D=M?new Xw(d(M),M):null;O.rect.current=D,D&&k.set(O.id,D)}return k}return N},[e,o,n,v,d]);return x.useEffect(()=>{g.current=e},[e]),x.useEffect(()=>{v||_()},[n,v]),x.useEffect(()=>{o&&o.length>0&&l(null)},[JSON.stringify(o)]),x.useEffect(()=>{v||typeof c!="number"||C.current!==null||(C.current=setTimeout(()=>{_(),C.current=null},c))},[c,v,_,...i]),{droppableRects:E,measureDroppableContainers:_,measuringScheduled:o!=null};function R(){switch(h){case Gf.Always:return!1;case Gf.BeforeDragging:return n;default:return!n}}}function $2(e,t){return yh(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function xoe(e,t){return $2(e,t)}function _oe(e){let{callback:t,disabled:n}=e;const i=Ww(t),s=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(i)},[i,n]);return x.useEffect(()=>()=>s?.disconnect(),[s]),s}function iv(e){let{callback:t,disabled:n}=e;const i=Ww(t),s=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(i)},[n]);return x.useEffect(()=>()=>s?.disconnect(),[s]),s}function woe(e){return new Xw(Gu(e),e)}function Sk(e,t,n){t===void 0&&(t=woe);const[i,s]=x.useState(null);function o(){s(d=>{if(!e)return null;if(e.isConnected===!1){var h;return(h=d??n)!=null?h:null}const g=t(e);return JSON.stringify(d)===JSON.stringify(g)?d:g})}const l=_oe({callback(d){if(e)for(const h of d){const{type:g,target:v}=h;if(g==="childList"&&v instanceof HTMLElement&&v.contains(e)){o();break}}}}),c=iv({callback:o});return Xr(()=>{o(),e?(c?.observe(e),l?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),l?.disconnect())},[e]),i}function Soe(e){const t=$2(e);return M2(e,t)}const Ck=[];function Coe(e){const t=x.useRef(e),n=yh(i=>e?i&&i!==Ck&&e&&t.current&&e.parentNode===t.current.parentNode?i:Zw(e):Ck,[e]);return x.useEffect(()=>{t.current=e},[e]),n}function Eoe(e){const[t,n]=x.useState(null),i=x.useRef(e),s=x.useCallback(o=>{const l=lx(o.target);l&&n(c=>c?(c.set(l,z0(l)),new Map(c)):null)},[]);return x.useEffect(()=>{const o=i.current;if(e!==o){l(o);const c=e.map(d=>{const h=lx(d);return h?(h.addEventListener("scroll",s,{passive:!0}),[h,z0(h)]):null}).filter(d=>d!=null);n(c.length?new Map(c):null),i.current=e}return()=>{l(e),l(o)};function l(c){c.forEach(d=>{const h=lx(d);h?.removeEventListener("scroll",s)})}},[s,e]),x.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,l)=>wu(o,l),br):B2(e):br,[e,t])}function Ek(e,t){t===void 0&&(t=[]);const n=x.useRef(null);return x.useEffect(()=>{n.current=null},t),x.useEffect(()=>{const i=e!==br;i&&!n.current&&(n.current=e),!i&&n.current&&(n.current=null)},[e]),n.current?pg(e,n.current):br}function Aoe(e){x.useEffect(()=>{if(!nv)return;const t=e.map(n=>{let{sensor:i}=n;return i.setup==null?void 0:i.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function Toe(e,t){return x.useMemo(()=>e.reduce((n,i)=>{let{eventName:s,handler:o}=i;return n[s]=l=>{o(l,t)},n},{}),[e,t])}function H2(e){return x.useMemo(()=>e?Qre(e):null,[e])}const Ak=[];function Roe(e,t){t===void 0&&(t=Gu);const[n]=e,i=H2(n?es(n):null),[s,o]=x.useState(Ak);function l(){o(()=>e.length?e.map(d=>I2(d)?i:new Xw(t(d),d)):Ak)}const c=iv({callback:l});return Xr(()=>{c?.disconnect(),l(),e.forEach(d=>c?.observe(d))},[e]),s}function koe(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return vh(t)?t:e}function Noe(e){let{measure:t}=e;const[n,i]=x.useState(null),s=x.useCallback(h=>{for(const{target:g}of h)if(vh(g)){i(v=>{const b=t(g);return v?{...v,width:b.width,height:b.height}:b});break}},[t]),o=iv({callback:s}),l=x.useCallback(h=>{const g=koe(h);o?.disconnect(),g&&o?.observe(g),i(g?t(g):null)},[t,o]),[c,d]=hg(l);return x.useMemo(()=>({nodeRef:c,rect:n,setRef:d}),[n,c,d])}const Ooe=[{sensor:Jw,options:{}},{sensor:F2,options:{}}],Poe={current:{}},Rm={draggable:{measure:yk},droppable:{measure:yk,strategy:Gf.WhileDragging,frequency:U0.Optimized},dragOverlay:{measure:Gu}};class yf extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,i;return(n=(i=this.get(t))==null?void 0:i.node.current)!=null?n:void 0}}const Moe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new yf,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:mg},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Rm,measureDroppableContainers:mg,windowRect:null,measuringScheduled:!1},Doe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:mg,draggableNodes:new Map,over:null,measureDroppableContainers:mg},sv=x.createContext(Doe),G2=x.createContext(Moe);function Loe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new yf}}}function joe(e,t){switch(t.type){case Vn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Vn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Vn.DragEnd:case Vn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Vn.RegisterDroppable:{const{element:n}=t,{id:i}=n,s=new yf(e.droppable.containers);return s.set(i,n),{...e,droppable:{...e.droppable,containers:s}}}case Vn.SetDroppableDisabled:{const{id:n,key:i,disabled:s}=t,o=e.droppable.containers.get(n);if(!o||i!==o.key)return e;const l=new yf(e.droppable.containers);return l.set(n,{...o,disabled:s}),{...e,droppable:{...e.droppable,containers:l}}}case Vn.UnregisterDroppable:{const{id:n,key:i}=t,s=e.droppable.containers.get(n);if(!s||i!==s.key)return e;const o=new yf(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function Ioe(e){let{disabled:t}=e;const{active:n,activatorEvent:i,draggableNodes:s}=x.useContext(sv),o=j0(i),l=j0(n?.id);return x.useEffect(()=>{if(!t&&!i&&o&&l!=null){if(!Yw(o)||document.activeElement===o.target)return;const c=s.get(l);if(!c)return;const{activatorNode:d,node:h}=c;if(!d.current&&!h.current)return;requestAnimationFrame(()=>{for(const g of[d.current,h.current]){if(!g)continue;const v=Rre(g);if(v){v.focus();break}}})}},[i,t,s,l,o]),null}function zoe(e,t){let{transform:n,...i}=t;return e!=null&&e.length?e.reduce((s,o)=>o({transform:s,...i}),n):n}function Boe(e){return x.useMemo(()=>({draggable:{...Rm.draggable,...e?.draggable},droppable:{...Rm.droppable,...e?.droppable},dragOverlay:{...Rm.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function Uoe(e){let{activeNode:t,measure:n,initialRect:i,config:s=!0}=e;const o=x.useRef(!1),{x:l,y:c}=typeof s=="boolean"?{x:s,y:s}:s;Xr(()=>{if(!l&&!c||!t){o.current=!1;return}if(o.current||!i)return;const h=t?.node.current;if(!h||h.isConnected===!1)return;const g=n(h),v=M2(g,i);if(l||(v.x=0),c||(v.y=0),o.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const b=D2(h);b&&b.scrollBy({top:v.y,left:v.x})}},[t,l,c,i,n])}const K2=x.createContext({...br,scaleX:1,scaleY:1});var Ca;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ca||(Ca={}));const Foe=x.memo(function(t){var n,i,s,o;let{id:l,accessibility:c,autoScroll:d=!0,children:h,sensors:g=Ooe,collisionDetection:v=Gre,measuring:b,modifiers:_,...C}=t;const E=x.useReducer(joe,void 0,Loe),[R,N]=E,[k,O]=Dre(),[M,D]=x.useState(Ca.Uninitialized),V=M===Ca.Initialized,{draggable:{active:z,nodes:I,translate:$},droppable:{containers:Z}}=R,q=z!=null?I.get(z):null,W=x.useRef({initial:null,translated:null}),ne=x.useMemo(()=>{var Yt;return z!=null?{id:z,data:(Yt=q?.data)!=null?Yt:Poe,rect:W}:null},[z,q]),re=x.useRef(null),[ye,G]=x.useState(null),[Y,te]=x.useState(null),de=$f(C,Object.values(C)),oe=bh("DndDescribedBy",l),K=x.useMemo(()=>Z.getEnabled(),[Z]),ae=Boe(b),{droppableRects:be,measureDroppableContainers:xe,measuringScheduled:Re}=boe(K,{dragging:V,dependencies:[$.x,$.y],config:ae.droppable}),we=voe(I,z),Se=x.useMemo(()=>Y?I0(Y):null,[Y]),je=Ys(),Me=xoe(we,ae.draggable.measure);Uoe({activeNode:z!=null?I.get(z):null,config:je.layoutShiftCompensation,initialRect:Me,measure:ae.draggable.measure});const De=Sk(we,ae.draggable.measure,Me),Ye=Sk(we?we.parentElement:null),Ze=x.useRef({activatorEvent:null,active:null,activeNode:we,collisionRect:null,collisions:null,droppableRects:be,draggableNodes:I,draggingNode:null,draggingNodeRect:null,droppableContainers:Z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ct=Z.getNodeFor((n=Ze.current.over)==null?void 0:n.id),yt=Noe({measure:ae.dragOverlay.measure}),It=(i=yt.nodeRef.current)!=null?i:we,dn=V?(s=yt.rect)!=null?s:De:null,fn=!!(yt.nodeRef.current&&yt.rect),jn=Soe(fn?null:De),_n=H2(It?es(It):null),wn=Coe(V?Ct??we:null),Kn=Roe(wn),Ai=zoe(_,{transform:{x:$.x-jn.x,y:$.y-jn.y,scaleX:1,scaleY:1},activatorEvent:Y,active:ne,activeNodeRect:De,containerNodeRect:Ye,draggingNodeRect:dn,over:Ze.current.over,overlayNodeRect:yt.rect,scrollableAncestors:wn,scrollableAncestorRects:Kn,windowRect:_n}),Es=Se?wu(Se,$):null,sn=Eoe(wn),Sr=Ek(sn),bt=Ek(sn,[De]),At=wu(Ai,Sr),zt=dn?Wre(dn,Ai):null,Ti=ne&&zt?v({active:ne,collisionRect:zt,droppableRects:be,droppableContainers:K,pointerCoordinates:Es}):null,Ws=Vre(Ti,"id"),[vi,Jr]=x.useState(null),ts=fn?Ai:wu(Ai,bt),rn=Kre(ts,(o=vi?.rect)!=null?o:null,De),si=x.useRef(null),En=x.useCallback((Yt,Zt)=>{let{sensor:hn,options:Wn}=Zt;if(re.current==null)return;const Yn=I.get(re.current);if(!Yn)return;const An=Yt.nativeEvent,Zn=new hn({active:re.current,activeNode:Yn,event:An,options:Wn,context:Ze,onAbort(on){if(!I.get(on))return;const{onDragAbort:ri}=de.current,yi={id:on};ri?.(yi),k({type:"onDragAbort",event:yi})},onPending(on,Ri,ri,yi){if(!I.get(on))return;const{onDragPending:ze}=de.current,bi={id:on,constraint:Ri,initialCoordinates:ri,offset:yi};ze?.(bi),k({type:"onDragPending",event:bi})},onStart(on){const Ri=re.current;if(Ri==null)return;const ri=I.get(Ri);if(!ri)return;const{onDragStart:yi}=de.current,an={activatorEvent:An,active:{id:Ri,data:ri.data,rect:W}};Ji.unstable_batchedUpdates(()=>{yi?.(an),D(Ca.Initializing),N({type:Vn.DragStart,initialCoordinates:on,active:Ri}),k({type:"onDragStart",event:an}),G(si.current),te(An)})},onMove(on){N({type:Vn.DragMove,coordinates:on})},onEnd:Xn(Vn.DragEnd),onCancel:Xn(Vn.DragCancel)});si.current=Zn;function Xn(on){return async function(){const{active:ri,collisions:yi,over:an,scrollAdjustedTranslate:ze}=Ze.current;let bi=null;if(ri&&ze){const{cancelDrop:is}=de.current;bi={activatorEvent:An,active:ri,collisions:yi,delta:ze,over:an},on===Vn.DragEnd&&typeof is=="function"&&await Promise.resolve(is(bi))&&(on=Vn.DragCancel)}re.current=null,Ji.unstable_batchedUpdates(()=>{N({type:on}),D(Ca.Uninitialized),Jr(null),G(null),te(null),si.current=null;const is=on===Vn.DragEnd?"onDragEnd":"onDragCancel";if(bi){const oi=de.current[is];oi?.(bi),k({type:is,event:bi})}})}}},[I]),ns=x.useCallback((Yt,Zt)=>(hn,Wn)=>{const Yn=hn.nativeEvent,An=I.get(Wn);if(re.current!==null||!An||Yn.dndKit||Yn.defaultPrevented)return;const Zn={active:An};Yt(hn,Zt.options,Zn)===!0&&(Yn.dndKit={capturedBy:Zt.sensor},re.current=Wn,En(hn,Zt))},[I,En]),eo=yoe(g,ns);Aoe(g),Xr(()=>{De&&M===Ca.Initializing&&D(Ca.Initialized)},[De,M]),x.useEffect(()=>{const{onDragMove:Yt}=de.current,{active:Zt,activatorEvent:hn,collisions:Wn,over:Yn}=Ze.current;if(!Zt||!hn)return;const An={active:Zt,activatorEvent:hn,collisions:Wn,delta:{x:At.x,y:At.y},over:Yn};Ji.unstable_batchedUpdates(()=>{Yt?.(An),k({type:"onDragMove",event:An})})},[At.x,At.y]),x.useEffect(()=>{const{active:Yt,activatorEvent:Zt,collisions:hn,droppableContainers:Wn,scrollAdjustedTranslate:Yn}=Ze.current;if(!Yt||re.current==null||!Zt||!Yn)return;const{onDragOver:An}=de.current,Zn=Wn.get(Ws),Xn=Zn&&Zn.rect.current?{id:Zn.id,rect:Zn.rect.current,data:Zn.data,disabled:Zn.disabled}:null,on={active:Yt,activatorEvent:Zt,collisions:hn,delta:{x:Yn.x,y:Yn.y},over:Xn};Ji.unstable_batchedUpdates(()=>{Jr(Xn),An?.(on),k({type:"onDragOver",event:on})})},[Ws]),Xr(()=>{Ze.current={activatorEvent:Y,active:ne,activeNode:we,collisionRect:zt,collisions:Ti,droppableRects:be,draggableNodes:I,draggingNode:It,draggingNodeRect:dn,droppableContainers:Z,over:vi,scrollableAncestors:wn,scrollAdjustedTranslate:At},W.current={initial:dn,translated:zt}},[ne,we,Ti,zt,I,It,dn,be,Z,vi,wn,At]),poe({...je,delta:$,draggingRect:zt,pointerCoordinates:Es,scrollableAncestors:wn,scrollableAncestorRects:Kn});const $a=x.useMemo(()=>({active:ne,activeNode:we,activeNodeRect:De,activatorEvent:Y,collisions:Ti,containerNodeRect:Ye,dragOverlay:yt,draggableNodes:I,droppableContainers:Z,droppableRects:be,over:vi,measureDroppableContainers:xe,scrollableAncestors:wn,scrollableAncestorRects:Kn,measuringConfiguration:ae,measuringScheduled:Re,windowRect:_n}),[ne,we,De,Y,Ti,Ye,yt,I,Z,be,vi,xe,wn,Kn,ae,Re,_n]),qn=x.useMemo(()=>({activatorEvent:Y,activators:eo,active:ne,activeNodeRect:De,ariaDescribedById:{draggable:oe},dispatch:N,draggableNodes:I,over:vi,measureDroppableContainers:xe}),[Y,eo,ne,De,N,oe,I,vi,xe]);return Ot.createElement(P2.Provider,{value:O},Ot.createElement(sv.Provider,{value:qn},Ot.createElement(G2.Provider,{value:$a},Ot.createElement(K2.Provider,{value:rn},h)),Ot.createElement(Ioe,{disabled:c?.restoreFocus===!1})),Ot.createElement(Ire,{...c,hiddenTextDescribedById:oe}));function Ys(){const Yt=ye?.autoScrollEnabled===!1,Zt=typeof d=="object"?d.enabled===!1:d===!1,hn=V&&!Yt&&!Zt;return typeof d=="object"?{...d,enabled:hn}:{enabled:hn}}}),Voe=x.createContext(null),Tk="button",$oe="Draggable";function Hoe(e){let{id:t,data:n,disabled:i=!1,attributes:s}=e;const o=bh($oe),{activators:l,activatorEvent:c,active:d,activeNodeRect:h,ariaDescribedById:g,draggableNodes:v,over:b}=x.useContext(sv),{role:_=Tk,roleDescription:C="draggable",tabIndex:E=0}=s??{},R=d?.id===t,N=x.useContext(R?K2:Voe),[k,O]=hg(),[M,D]=hg(),V=Toe(l,t),z=$f(n);Xr(()=>(v.set(t,{id:t,key:o,node:k,activatorNode:M,data:z}),()=>{const $=v.get(t);$&&$.key===o&&v.delete(t)}),[v,t]);const I=x.useMemo(()=>({role:_,tabIndex:E,"aria-disabled":i,"aria-pressed":R&&_===Tk?!0:void 0,"aria-roledescription":C,"aria-describedby":g.draggable}),[i,_,E,R,C,g.draggable]);return{active:d,activatorEvent:c,activeNodeRect:h,attributes:I,isDragging:R,listeners:i?void 0:V,node:k,over:b,setNodeRef:O,setActivatorNodeRef:D,transform:N}}function Goe(){return x.useContext(G2)}const Koe="Droppable",qoe={timeout:25};function Woe(e){let{data:t,disabled:n=!1,id:i,resizeObserverConfig:s}=e;const o=bh(Koe),{active:l,dispatch:c,over:d,measureDroppableContainers:h}=x.useContext(sv),g=x.useRef({disabled:n}),v=x.useRef(!1),b=x.useRef(null),_=x.useRef(null),{disabled:C,updateMeasurementsFor:E,timeout:R}={...qoe,...s},N=$f(E??i),k=x.useCallback(()=>{if(!v.current){v.current=!0;return}_.current!=null&&clearTimeout(_.current),_.current=setTimeout(()=>{h(Array.isArray(N.current)?N.current:[N.current]),_.current=null},R)},[R]),O=iv({callback:k,disabled:C||!l}),M=x.useCallback((I,$)=>{O&&($&&(O.unobserve($),v.current=!1),I&&O.observe(I))},[O]),[D,V]=hg(M),z=$f(t);return x.useEffect(()=>{!O||!D.current||(O.disconnect(),v.current=!1,O.observe(D.current))},[D,O]),x.useEffect(()=>(c({type:Vn.RegisterDroppable,element:{id:i,key:o,disabled:n,node:D,rect:b,data:z}}),()=>c({type:Vn.UnregisterDroppable,key:o,id:i})),[i]),x.useEffect(()=>{n!==g.current.disabled&&(c({type:Vn.SetDroppableDisabled,id:i,key:o,disabled:n}),g.current.disabled=n)},[i,o,n,c]),{active:l,rect:b,isOver:d?.id===i,node:D,over:d,setNodeRef:V}}function eS(e,t,n){const i=e.slice();return i.splice(n<0?i.length+n:n,0,i.splice(t,1)[0]),i}function Yoe(e,t){return e.reduce((n,i,s)=>{const o=t.get(i);return o&&(n[s]=o),n},Array(e.length))}function dm(e){return e!==null&&e>=0}function Zoe(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Xoe(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const tS=e=>{let{rects:t,activeIndex:n,overIndex:i,index:s}=e;const o=eS(t,i,n),l=t[s],c=o[s];return!c||!l?null:{x:c.left-l.left,y:c.top-l.top,scaleX:c.width/l.width,scaleY:c.height/l.height}},q2="Sortable",W2=Ot.createContext({activeIndex:-1,containerId:q2,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:tS,disabled:{draggable:!1,droppable:!1}});function Qoe(e){let{children:t,id:n,items:i,strategy:s=tS,disabled:o=!1}=e;const{active:l,dragOverlay:c,droppableRects:d,over:h,measureDroppableContainers:g}=Goe(),v=bh(q2,n),b=c.rect!==null,_=x.useMemo(()=>i.map(V=>typeof V=="object"&&"id"in V?V.id:V),[i]),C=l!=null,E=l?_.indexOf(l.id):-1,R=h?_.indexOf(h.id):-1,N=x.useRef(_),k=!Zoe(_,N.current),O=R!==-1&&E===-1||k,M=Xoe(o);Xr(()=>{k&&C&&g(_)},[k,_,C,g]),x.useEffect(()=>{N.current=_},[_]);const D=x.useMemo(()=>({activeIndex:E,containerId:v,disabled:M,disableTransforms:O,items:_,overIndex:R,useDragOverlay:b,sortedRects:Yoe(_,d),strategy:s}),[E,v,M.draggable,M.droppable,O,_,R,d,b,s]);return Ot.createElement(W2.Provider,{value:D},t)}const Joe=e=>{let{id:t,items:n,activeIndex:i,overIndex:s}=e;return eS(n,i,s).indexOf(t)},eae=e=>{let{containerId:t,isSorting:n,wasDragging:i,index:s,items:o,newIndex:l,previousItems:c,previousContainerId:d,transition:h}=e;return!h||!i||c!==o&&s===l?!1:n?!0:l!==s&&t===d},tae={duration:200,easing:"ease"},Y2="transform",nae=Hf.Transition.toString({property:Y2,duration:0,easing:"linear"}),iae={roleDescription:"sortable"};function sae(e){let{disabled:t,index:n,node:i,rect:s}=e;const[o,l]=x.useState(null),c=x.useRef(n);return Xr(()=>{if(!t&&n!==c.current&&i.current){const d=s.current;if(d){const h=Gu(i.current,{ignoreTransform:!0}),g={x:d.left-h.left,y:d.top-h.top,scaleX:d.width/h.width,scaleY:d.height/h.height};(g.x||g.y)&&l(g)}}n!==c.current&&(c.current=n)},[t,n,i,s]),x.useEffect(()=>{o&&l(null)},[o]),o}function rae(e){let{animateLayoutChanges:t=eae,attributes:n,disabled:i,data:s,getNewIndex:o=Joe,id:l,strategy:c,resizeObserverConfig:d,transition:h=tae}=e;const{items:g,containerId:v,activeIndex:b,disabled:_,disableTransforms:C,sortedRects:E,overIndex:R,useDragOverlay:N,strategy:k}=x.useContext(W2),O=oae(i,_),M=g.indexOf(l),D=x.useMemo(()=>({sortable:{containerId:v,index:M,items:g},...s}),[v,s,M,g]),V=x.useMemo(()=>g.slice(g.indexOf(l)),[g,l]),{rect:z,node:I,isOver:$,setNodeRef:Z}=Woe({id:l,data:D,disabled:O.droppable,resizeObserverConfig:{updateMeasurementsFor:V,...d}}),{active:q,activatorEvent:W,activeNodeRect:ne,attributes:re,setNodeRef:ye,listeners:G,isDragging:Y,over:te,setActivatorNodeRef:de,transform:oe}=Hoe({id:l,data:D,attributes:{...iae,...n},disabled:O.draggable}),K=Cre(Z,ye),ae=!!q,be=ae&&!C&&dm(b)&&dm(R),xe=!N&&Y,Re=xe&&be?oe:null,Se=be?Re??(c??k)({rects:E,activeNodeRect:ne,activeIndex:b,overIndex:R,index:M}):null,je=dm(b)&&dm(R)?o({id:l,items:g,activeIndex:b,overIndex:R}):M,Me=q?.id,De=x.useRef({activeId:Me,items:g,newIndex:je,containerId:v}),Ye=g!==De.current.items,Ze=t({active:q,containerId:v,isDragging:Y,isSorting:ae,id:l,index:M,items:g,newIndex:De.current.newIndex,previousItems:De.current.items,previousContainerId:De.current.containerId,transition:h,wasDragging:De.current.activeId!=null}),Ct=sae({disabled:!Ze,index:M,node:I,rect:z});return x.useEffect(()=>{ae&&De.current.newIndex!==je&&(De.current.newIndex=je),v!==De.current.containerId&&(De.current.containerId=v),g!==De.current.items&&(De.current.items=g)},[ae,je,v,g]),x.useEffect(()=>{if(Me===De.current.activeId)return;if(Me!=null&&De.current.activeId==null){De.current.activeId=Me;return}const It=setTimeout(()=>{De.current.activeId=Me},50);return()=>clearTimeout(It)},[Me]),{active:q,activeIndex:b,attributes:re,data:D,rect:z,index:M,newIndex:je,items:g,isOver:$,isSorting:ae,isDragging:Y,listeners:G,node:I,overIndex:R,over:te,setNodeRef:K,setActivatorNodeRef:de,setDroppableNodeRef:Z,setDraggableNodeRef:ye,transform:Ct??Se,transition:yt()};function yt(){if(Ct||Ye&&De.current.newIndex===M)return nae;if(!(xe&&!Yw(W)||!h)&&(ae||Ze))return Hf.Transition.toString({...h,property:Y2})}}function oae(e,t){var n,i;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(i=e?.droppable)!=null?i:t.droppable}}Lt.Down,Lt.Right,Lt.Up,Lt.Left;const Z2=({editMode:e,onAdd:t})=>{const{t:n}=Mt();return y.jsx("div",{onClick:e?t:void 0,className:`border-border bg-muted flex aspect-3/4 w-full items-center justify-center overflow-hidden rounded-xl border-2 border-dashed transition-all duration-300 ${e?"hover:border-primary/60 hover:bg-primary/5 cursor-pointer":""}`,children:y.jsxs("div",{className:"text-center",children:[y.jsx(Km,{className:`mx-auto mb-2 h-8 w-8 transition-colors ${e?"text-primary/60":"text-muted-foreground/40"}`}),y.jsx("div",{className:`text-xs transition-colors ${e?"text-primary/70 font-medium":"text-muted-foreground/70"}`,children:n("favSpecies.addFavorite")})]})})},rv=e=>{const{data:t,isLoading:n}=Bo({specieKey:e});return{specieName:t?.canonicalName||t?.scientificName||"",familyName:t?.family||"",isLoading:n}},aae=({specieKey:e,editMode:t,onClick:n,onRemove:i,dragHandleProps:s})=>{const{specieName:o,familyName:l,isLoading:c}=rv(e),{t:d}=Mt(),h=!c&&o!==""?o:void 0,{data:g,isLoading:v}=ch(e,h),b=c||v;return y.jsx("div",{className:"group relative",children:b?y.jsx("div",{className:"bg-accent flex aspect-3/4 w-full animate-pulse items-center justify-center overflow-hidden rounded-xl",children:y.jsx(nh,{className:"size-5 animate-spin"})}):g?.imgUrl?y.jsxs(y.Fragment,{children:[y.jsxs("figure",{onClick:n,className:`relative aspect-3/4 w-full cursor-pointer overflow-hidden rounded-xl shadow-sm transition-all duration-300 ease-out ${t?"ring-primary/40 ring-2 brightness-75 hover:brightness-90":"group-hover:shadow-lg"}`,children:[y.jsx(Hn,{src:g.imgUrl,alt:o,loading:"lazy",className:`size-full object-cover transition-transform duration-500 ease-out ${t?"":"group-hover:scale-110"}`}),y.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-linear-to-t from-black/75 via-black/30 to-transparent px-3 pt-8 pb-3",children:[y.jsx("p",{className:"truncate text-xs leading-tight font-semibold text-white",children:o}),y.jsx("p",{className:"truncate text-xs text-white/70 italic",children:l})]}),t&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:y.jsx("span",{className:"rounded-full bg-white/20 px-3 py-1 text-xs font-medium text-white backdrop-blur-sm",children:d("favSpecies.replace")})})]}),t&&y.jsx("button",{onPointerDown:_=>_.stopPropagation(),onClick:_=>{_.stopPropagation(),i()},className:"bg-destructive hover:bg-destructive/80 absolute -top-2 -right-2 z-10 flex size-6 items-center justify-center rounded-full text-white shadow-md transition-colors",children:y.jsx(Gl,{className:"size-3.5"})}),t&&s&&y.jsx("div",{...s,onPointerDown:_=>{_.stopPropagation(),s.onPointerDown?.(_)},className:"absolute right-1 bottom-2 z-10 flex -translate-x-1/2 cursor-grab touch-none items-center justify-center rounded-full bg-black/40 px-2 py-0.5 text-white transition-colors hover:bg-black/60 active:cursor-grabbing",children:y.jsx(FO,{className:"size-3.5"})}),!t&&y.jsxs("div",{className:"pointer-events-none absolute bottom-[calc(100%+10px)] left-1/2 z-50 -translate-x-1/2 translate-y-2 opacity-0 transition-all duration-300 ease-out group-hover:translate-y-0 group-hover:opacity-100",children:[y.jsx("div",{className:"bg-popover ring-border overflow-hidden rounded-xl shadow-2xl ring-1",children:y.jsx("img",{src:g.imgUrl,alt:o,className:"block max-h-56 max-w-56 object-contain"})}),y.jsx("div",{className:"border-t-popover mx-auto h-0 w-0 border-x-[7px] border-t-[7px] border-x-transparent"})]})]}):y.jsx(Z2,{editMode:t,onAdd:t?n:void 0})})},lae=e=>{const{attributes:t,listeners:n,setNodeRef:i,transform:s,transition:o,isDragging:l}=rae({id:String(e.specieKey),disabled:!e.editMode}),c={transform:Hf.Transform.toString(s),transition:o,zIndex:l?50:void 0,opacity:l?.5:1};return y.jsx("div",{ref:i,style:c,children:y.jsx(aae,{...e,dragHandleProps:e.editMode?{...t,...n}:void 0})})},cae=({specieKey:e,onSelect:t})=>{const{specieName:n,familyName:i,isLoading:s}=rv(e),o=!s&&n!==""?n:void 0,{data:l,isLoading:c}=ch(e,o),d=s||c,h=()=>{d||t({key:e,name:n,img:l?.imgUrl??"",family:i})};return y.jsxs("button",{onClick:h,disabled:d,className:"hover:bg-accent flex w-full items-center gap-3 rounded-xl px-3 py-2 text-left transition-colors disabled:opacity-50",children:[y.jsx("div",{className:"bg-muted size-12 shrink-0 overflow-hidden rounded-lg",children:d?y.jsx("div",{className:"size-full animate-pulse"}):l?.imgUrl?y.jsx("img",{src:l.imgUrl,alt:n,className:"size-full object-cover"}):y.jsx("div",{className:"flex size-full items-center justify-center",children:y.jsx(Km,{className:"text-muted-foreground size-4"})})}),y.jsx("div",{className:"min-w-0 flex-1",children:d?y.jsx("div",{className:"bg-muted h-4 w-3/4 animate-pulse rounded"}):y.jsxs(y.Fragment,{children:[y.jsx("p",{className:"truncate text-sm font-medium",children:n}),y.jsx("p",{className:"text-muted-foreground truncate text-xs italic",children:i})]})}),y.jsx(Km,{className:"text-muted-foreground size-4 shrink-0"})]})},dx=(e,t)=>{const n=new Map(t.map(i=>[i.key,i]));return e.map(i=>n.get(i)??{key:i,name:"",img:"",family:""})},uae=()=>{const{t:e}=Mt(),[t,n]=Gs(st.userDb),i=$t(Da),[s,o]=x.useState(!1),[l,c]=x.useState(!1),[d,h]=x.useState(null),g=zre(gk(Jw,{activationConstraint:{distance:8}}),gk(V2,{activationConstraint:{delay:200,tolerance:5}})),v=x.useMemo(()=>{const k=t?.game_info.top_fav_species;return k!=null?k.map(M=>M.key):(t?.game_info.seen_species??[]).filter(M=>M.fav).sort((M,D)=>new Date(D.date).getTime()-new Date(M.date).getTime()).map(M=>M.key).slice(0,4)},[t]),b=x.useMemo(()=>{const k=t?.game_info.seen_species??[],O=new Set(v);return d!==null&&v[d]!==void 0&&O.delete(v[d]),k.filter(M=>M.fav&&!O.has(M.key)).sort((M,D)=>new Date(D.date).getTime()-new Date(M.date).getTime()).map(M=>M.key)},[t,v,d]),_=Math.max(0,4-v.length),C=k=>{h(k),c(!0)},E=async k=>{if(!t)return;const O=dx(v,t.game_info.top_fav_species??[]),M=await ox(t,()=>O.filter((D,V)=>V!==k));M&&n(M)},R=async k=>{if(!t)return;c(!1);const O=dx(v,t.game_info.top_fav_species??[]),M=await ox(t,()=>{const D=[...O];return d!==null&&d<D.length?D[d]=k:D.push(k),D.slice(0,4)});M&&n(M),h(null)},N=async k=>{const{active:O,over:M}=k;if(!M||O.id===M.id||!t)return;const D=v.indexOf(Number(O.id)),V=v.indexOf(Number(M.id));if(D===-1||V===-1)return;const z=eS([...v],D,V),I=dx(z,t.game_info.top_fav_species??[]),$=await ox(t,()=>I);$&&n($)};return y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex items-center justify-between border-b pb-1",children:[y.jsx("h2",{children:e("favSpecies.title")}),y.jsx(Ht,{variant:"ghost",size:"sm",className:"gap-1.5",onClick:()=>o(k=>!k),children:s?e("favSpecies.done"):y.jsxs(y.Fragment,{children:[y.jsx(HO,{className:"size-3.5"}),e("favSpecies.edit")]})})]}),y.jsx(Foe,{sensors:g,collisionDetection:$re,onDragEnd:N,children:y.jsx(Qoe,{items:v.map(String),strategy:tS,children:y.jsxs("div",{className:"grid grid-cols-2 gap-3 overflow-visible sm:gap-4 lg:grid-cols-4",children:[v.map((k,O)=>y.jsx(lae,{specieKey:k,editMode:s,onClick:()=>s?C(O):i(k),onRemove:()=>E(O)},k)),Array.from({length:_}).map((k,O)=>y.jsx(Z2,{editMode:s,onAdd:s?()=>C(v.length+O):void 0},`empty-${O}`))]})})}),y.jsx(U_,{open:l,onOpenChange:k=>{c(k),k||h(null)},children:y.jsxs(F_,{className:"flex flex-col",children:[y.jsx(V_,{children:y.jsx($_,{children:e("favSpecies.pickerTitle")})}),b.length===0?y.jsxs("div",{className:"flex flex-col items-center gap-2 px-6 py-10 text-center",children:[y.jsx(Km,{className:"text-muted-foreground/40 size-10"}),y.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:e("favSpecies.pickerEmpty")}),y.jsx("p",{className:"text-muted-foreground text-xs",children:e("favSpecies.pickerEmptyHint")})]}):y.jsx("div",{className:"max-h-[60dvh] overflow-y-auto px-3 pb-4",children:y.jsx("div",{className:"flex flex-col gap-1",children:b.map(k=>y.jsx(cae,{specieKey:k,onSelect:R},k))})})]})})]})},dae=e=>{if(!e)return"";const t=typeof e=="string"?new Date(e):e,n=new Intl.DateTimeFormat(Qt.language,{month:"long",year:"numeric"}).format(t);return n.charAt(0).toUpperCase()+n.slice(1)},X2=e=>{if(!e)return"";const t=typeof e=="string"?new Date(e):e,i=new Date().getTime()-t.getTime(),s=Math.floor(i/1e3),o=Math.floor(s/60),l=Math.floor(o/60),c=Math.floor(l/24);if(s<60)return Qt.t("time.now","Agora mesmo");if(o<60){const d=Math.floor(o/5)*5||1;return Qt.t("time.minutesAgo",{count:d,defaultValue:"{{count}}m atrs"})}return l<24?Qt.t("time.hoursAgo",{count:l,defaultValue:"{{count}}h atrs"}):c===1?Qt.t("time.yesterday","Ontem"):c<=3?Qt.t("time.daysAgo",{count:c,defaultValue:"{{count}} dias atrs"}):new Intl.DateTimeFormat(Qt.language,{day:"2-digit",month:"2-digit",year:"numeric"}).format(t)},fae=()=>{const{t:e}=Mt(),t=Le(st.userDb);return y.jsx("header",{className:"flex flex-col gap-4 rounded-2xl",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(eD,{isProfilePage:!0}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h1",{className:"text-xl font-bold",children:t?.name}),y.jsxs("span",{className:"mt-0.5 flex items-center gap-1 text-xs",children:[e("profilePage.memberSince"),y.jsx("strong",{children:dae(t?.created_at)})]})]})]})})},hae=()=>{const{t:e}=Mt(),n=Le(st.userDb)?.game_info?.activities??[],[i,s]=x.useState(!1),o=4,l=i?n:n.slice(0,4),c=n.length>o;return y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex justify-between border-b",children:[y.jsx("h2",{children:e("activity.title")}),c&&y.jsxs(Ht,{variant:"ghost",size:"sm",className:"text-muted-foreground h-7 px-2 text-xs",onClick:()=>s(d=>!d),children:[i?"Recolher":"Expandir",i?y.jsx(IO,{className:"ml-1 size-3"}):y.jsx(Cf,{className:"ml-1 size-3"})]})]}),y.jsx("div",{className:`space-y-2 ${i&&n.length>4?"max-h-100 overflow-y-auto pr-1":""}`,children:l.map((d,h)=>y.jsxs("div",{className:"flex items-center gap-2 border-b py-2 last:border-0",children:[y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("div",{className:"truncate text-xs font-medium",children:d.title}),y.jsx("div",{className:"text-muted-foreground text-xs",children:d.description})]}),y.jsx("div",{className:"text-muted-foreground shrink-0 text-xs",children:X2(d.date)})]},h))})]})},pae=({specieKey:e,date:t})=>{const{specieName:n,familyName:i,isLoading:s}=rv(e);return s?y.jsxs("div",{className:"-mx-2 border-b px-2 py-2 last:border-0",children:[y.jsx("div",{className:"bg-muted mb-1 h-4 w-32 animate-pulse rounded"}),y.jsx("div",{className:"bg-muted h-3 w-24 animate-pulse rounded"})]}):y.jsxs("div",{className:"-mx-2 flex items-center justify-between border-b px-2 py-2 last:border-0",children:[y.jsx("div",{className:"flex items-center gap-2",children:y.jsxs("div",{children:[y.jsx("div",{className:"text-xs font-medium italic",children:n}),y.jsx("div",{className:"text-muted-foreground text-xs",children:i})]})}),y.jsx("div",{className:"text-muted-foreground shrink-0 text-xs",children:X2(t)})]})},mae=()=>{const{t:e}=Mt(),t=Le(st.userDb),n=Ii(),i=t?.game_info?.seen_species??[];if(!t||!t.game_info)return null;const s=()=>{n({to:"/profile/species-gallery"})};return y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex justify-between border-b",children:[y.jsx("h2",{children:e("seenSpecies.title")}),y.jsxs(Ht,{variant:"ghost",size:"sm",className:"text-muted-foreground h-7 px-2 text-xs",disabled:!i.length,onClick:s,children:[e("seenSpecies.openGallery")," ",y.jsx(Du,{className:"ml-1 size-3"})]})]}),i.length?i.slice().reverse().slice(0,4).map(o=>y.jsx(pae,{specieKey:o.key,date:o.date},o.key)):y.jsxs("div",{className:"text-muted-foreground py-8 text-center",children:[y.jsx(C_,{className:"text-muted-foreground/50 mx-auto mb-3 h-12 w-12"}),y.jsx("div",{className:"mb-1 text-sm font-medium",children:e("seenSpecies.emptyTitle")}),y.jsx("div",{className:"text-xs",children:e("seenSpecies.emptyHint")})]})]})},gae=()=>{const{t:e}=Mt(),[t,n]=Gs(st.userDb),{navigateToNodes:i}=mh(),[s,o]=x.useState({isEdit:!1,newName:""}),l=x.useRef(null);if(x.useEffect(()=>{s.isEdit&&l.current&&l.current.focus()},[s.isEdit]),!t)return null;const c=t.game_info?.shortcuts;if(!c)return null;const d=_=>{i(_,!0)},h=async(_,C)=>{if(!t)return;if(!c)return null;const R=(c[_]??[]).filter((N,k)=>k!==C);(async()=>{const N=await R0(t,k=>({...k,[_]:R}));N&&n(N)})()},g=async()=>{if(!s.isEdit||!t||!s.kingdom)return;const{kingdom:_,index:C,newName:E}=s;if(!E.trim())return;const R=c[_]??[];if(!R[C])return;const N=[...R];N[C]={...N[C],name:E.trim()},(async()=>{const k=await R0(t,O=>({...O,[_]:N}));k&&n(k)})(),v()},v=()=>o({isEdit:!1,newName:""}),b=Object.keys(c);return y.jsxs("div",{className:"space-y-3",children:[y.jsx("h2",{className:"border-b",children:e("shortcuts.title")}),b.map(_=>{const C=c[_];return C?.length?y.jsx("div",{className:"space-y-3",children:C.map((E,R)=>{if(!E?.nodes)return null;const N=s.isEdit&&s.kingdom===_&&s.index===R;return y.jsxs("div",{className:"hover:bg-muted/50 flex items-center justify-between rounded-md border py-1 pl-2.5",children:[y.jsxs("div",{className:"flex min-w-0 flex-1 cursor-pointer items-center gap-2",onClick:()=>!N&&d(E.nodes),children:[y.jsx("figure",{className:"flex size-6 shrink-0 items-center",children:y.jsx(Hn,{src:gs(LP[_]),alt:`${_} icon`,className:"size-5"})}),y.jsxs("div",{className:"min-w-0 flex-1",children:[N?y.jsx("input",{ref:l,type:"text",value:s.newName,maxLength:52,onChange:k=>o(O=>({...O,newName:k.target.value})),className:"rounded border px-1 text-sm"}):y.jsx("p",{className:"truncate text-sm font-medium",children:E.name}),y.jsx("span",{className:"text-muted-foreground block truncate text-xs leading-tight",children:E.nodes.map((k,O)=>y.jsxs(x.Fragment,{children:[k.name??k.rank,O<E.nodes.length-1&&" > "]},k.key))})]})]}),y.jsx("div",{className:"flex flex-col gap-px border-l px-1",children:N?y.jsxs(y.Fragment,{children:[y.jsx(Ht,{variant:"ghost",size:"icon",className:"size-6 text-green-600 hover:text-green-800",title:e("shortcuts.saveEdit"),onClick:g,children:y.jsx(jO,{className:"size-4"})}),y.jsx(Ht,{variant:"ghost",size:"icon",className:"size-6 text-blue-500 hover:text-blue-800",title:e("shortcuts.cancelEdit"),onClick:v,children:y.jsx(Gl,{className:"size-4"})})]}):y.jsxs(y.Fragment,{children:[y.jsx(Ht,{variant:"ghost",size:"icon",className:"text-muted-foreground size-6 hover:text-blue-700",title:e("shortcuts.editName"),onClick:()=>o({isEdit:!0,kingdom:_,index:R,newName:E.name}),children:y.jsx(HO,{className:"size-4"})}),y.jsx(Ht,{variant:"ghost",size:"icon",className:"text-muted-foreground size-6 hover:text-red-700",onClick:()=>h(_,R),title:e("shortcuts.remove"),children:y.jsx(Gl,{className:"size-4"})})]})})]},R)})},_):null}),b.every(_=>!c[_]?.length)&&y.jsxs("div",{className:"text-muted-foreground py-6 text-center",children:[y.jsx(K6,{className:"text-muted-foreground/50 mx-auto mb-3 h-10 w-10"}),y.jsx("div",{className:"mb-1 text-sm font-medium",children:e("shortcuts.empty")}),y.jsx("div",{className:"text-xs",children:e("shortcuts.emptyHint")})]}),y.jsx("div",{className:"bg-muted text-muted-foreground rounded-lg p-2 text-center text-xs italic",children:e("shortcuts.tip")})]})},vae=()=>{const{t:e}=Mt(),t=Le(st.isAuthenticated),n=Le(Da),i=Ii();return x.useEffect(()=>{if(!t){i({to:"/login"});return}},[t,i]),y.jsx(Hg,{mode:"wait",children:n!==null?y.jsx(Pt.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.2},className:"h-screen",children:y.jsx(Fu,{backLabel:e("specieDetail.backToProfile")})},"detail"):y.jsx(Pt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"h-screen overflow-auto",children:y.jsx("div",{className:"mx-auto max-w-7xl space-y-12 p-4",children:y.jsxs("div",{className:"grid grid-cols-1 gap-20 lg:grid-cols-3",children:[y.jsxs("div",{className:"space-y-10 md:space-y-16 lg:col-span-2",children:[y.jsx(fae,{}),y.jsx(uae,{})]}),y.jsxs("div",{className:"space-y-10 md:space-y-16",children:[y.jsx(hae,{}),y.jsx(mae,{}),y.jsx(gae,{})]})]})})},"profile")})},yae=()=>(x.useEffect(()=>{(async()=>{try{await new Promise(t=>setTimeout(t,2e3));try{const t=new BroadcastChannel("supabase-auth");t.postMessage("oauth_complete"),t.close()}catch(t){console.warn(" [Popup] BroadcastChannel falhou:",t)}if(window.opener&&!window.opener.closed)try{window.opener.postMessage({type:"OAUTH_COMPLETE"},window.location.origin)}catch(t){console.warn(" [Popup] postMessage falhou:",t)}await new Promise(t=>setTimeout(t,500)),window.close()}catch(t){console.error(" [Popup] Erro:",t),setTimeout(()=>{window.close()},1e3)}})()},[]),y.jsx("div",{className:"flex min-h-screen items-center justify-center",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"mb-4 inline-flex h-16 w-16 items-center justify-center rounded-full bg-green-100",children:y.jsx("svg",{className:"h-8 w-8 animate-spin text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),y.jsx("h1",{className:"mb-2 text-xl font-semibold",children:"Finalizando autenticao..."}),y.jsx("p",{className:"text-muted-foreground text-sm",children:"Aguarde alguns segundos."})]})})),bae=({species:e,onClick:t,searchQuery:n,onImageResolved:i})=>{const{t:s}=Mt(),{specieName:o,familyName:l,isLoading:c}=rv(e.key),d=!c&&o!==""?o:void 0,{data:h,isLoading:g}=ch(e.key,d),v=c||g;if(x.useEffect(()=>{v||i?.(e.key,!!h?.imgUrl)},[v]),!v&&n?.trim()){const b=n.toLowerCase();if(!o.toLowerCase().includes(b)&&!l.toLowerCase().includes(b))return null}return y.jsxs("div",{onClick:t,className:"group bg-card relative cursor-pointer overflow-hidden rounded-xl border shadow-md transition-all duration-300 hover:shadow-2xl",children:[y.jsxs("div",{className:"bg-muted relative w-full overflow-hidden",children:[v?y.jsx("div",{className:"flex aspect-4/3 items-center justify-center",children:y.jsx($O,{className:"text-muted-foreground size-8 animate-spin"})}):h?.imgUrl?y.jsxs(y.Fragment,{children:[y.jsx("img",{src:h.imgUrl,alt:o,className:"h-auto w-full object-cover transition-transform duration-500 group-hover:scale-105",loading:"lazy"}),y.jsx("div",{className:"absolute inset-0 bg-linear-to-t from-black/60 via-black/10 to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"})]}):y.jsxs("div",{className:"text-muted-foreground flex aspect-4/3 flex-col items-center justify-center",children:[y.jsx(VO,{className:"mb-2 size-12"}),y.jsx("p",{className:"text-xs",children:s("gallery.noImage")})]}),e.fav&&y.jsx("div",{className:"bg-card/95 absolute top-2 right-2 rounded-full p-1.5 shadow-lg backdrop-blur-sm",children:y.jsx(Gm,{className:"size-4 fill-red-500 text-red-500"})})]}),y.jsxs("div",{className:"p-3",children:[y.jsx("h3",{className:"text-foreground group-hover:text-primary mb-1 line-clamp-2 text-sm font-semibold italic transition-colors",children:o}),y.jsx("p",{className:"text-muted-foreground line-clamp-1 text-xs",children:l})]}),y.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-xl border-2 border-transparent transition-colors group-hover:border-blue-500"})]})},xae=()=>{const[e,t]=x.useState(1);return x.useEffect(()=>{const n=()=>{const i=window.innerWidth;i>=1280?t(5):i>=1024?t(4):i>=768?t(3):i>=640?t(2):t(1)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e},_ae=()=>{const{t:e}=Mt(),t=Ii(),n=Le(st.userDb),i=$t(Da),s=xae(),o=x.useMemo(()=>n?.game_info?.seen_species??[],[n]),[l,c]=x.useState(""),[d,h]=x.useState(!1),[g,v]=x.useState("newest"),[b,_]=x.useState(!0),[C,E]=x.useState({}),R=x.useCallback((z,I)=>{E($=>$[z]===I?$:{...$,[z]:I})},[]),N=x.useMemo(()=>{let z=[...o];return d&&(z=z.filter(I=>I.fav)),z.sort((I,$)=>{if(b){const W=C[I.key]===!1,ne=C[$.key]===!1;if(W!==ne)return W?1:-1}const Z=new Date(I.date).getTime(),q=new Date($.date).getTime();return g==="newest"?q-Z:Z-q}),z},[o,d,g,b,C]),k=x.useMemo(()=>{const z=Array.from({length:s},()=>[]);return N.forEach((I,$)=>{z[$%s].push({species:I,globalIndex:$})}),z},[N,s]),O=x.useCallback(()=>{i(null),t({to:"/profile"})},[t,i]),M=x.useCallback(z=>{i(z.key)},[i]),D=x.useCallback(()=>{h(z=>!z)},[]),V=o.filter(z=>z.fav).length;return n?y.jsxs("div",{className:"bg-background fixed inset-0 z-50 flex flex-col",children:[y.jsxs(Pt.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"bg-background/95 relative z-10 border-b backdrop-blur-sm",children:[y.jsxs("div",{className:"mx-auto flex max-w-7xl items-center gap-3 px-4 pt-3 pb-2",children:[y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("h1",{className:"text-base leading-tight font-bold",children:e("gallery.title")}),y.jsxs("span",{className:"text-muted-foreground text-xs",children:[N.length===o.length?`${o.length} ${e("gallery.species")}`:`${N.length} ${e("gallery.of")} ${o.length}`,V>0&&y.jsxs("span",{className:"ml-1.5",children:[" ",V," ",y.jsx(Gm,{className:"inline size-3 fill-current text-red-500"})]})]})]}),y.jsx(Ht,{onClick:O,variant:"ghost",size:"icon",className:"size-8 shrink-0",children:y.jsx(Gl,{className:"size-4"})})]}),y.jsxs("div",{className:"mx-auto flex max-w-7xl items-center gap-2 px-4 pb-3",children:[y.jsxs("div",{className:"relative min-w-0 flex-1",children:[y.jsx(KO,{className:"text-muted-foreground absolute top-1/2 left-3 size-3.5 -translate-y-1/2"}),y.jsx("input",{type:"text",placeholder:e("gallery.searchPlaceholder"),value:l,onChange:z=>c(z.target.value),className:"bg-muted/50 focus:bg-background focus:border-border h-8 w-full rounded-lg border border-transparent pl-8 text-sm transition-colors outline-none"})]}),y.jsxs("div",{className:"flex shrink-0 items-center gap-1.5",children:[y.jsxs(uP,{children:[y.jsx(dP,{asChild:!0,children:y.jsxs(Ht,{variant:"outline",size:"sm",className:"h-8 gap-1.5 px-2.5",children:[y.jsx(L$,{className:"size-3.5"}),y.jsx("span",{className:"hidden text-xs sm:inline",children:e(g==="newest"?"gallery.newest":"gallery.oldest")})]})}),y.jsxs(fP,{align:"end",children:[y.jsx(Xi,{onClick:()=>v("newest"),children:e("gallery.newestFirst")}),y.jsx(Xi,{onClick:()=>v("oldest"),children:e("gallery.oldestFirst")})]})]}),y.jsxs(Ht,{onClick:()=>_(z=>!z),variant:b?"secondary":"ghost",size:"sm",className:"h-8 gap-1.5 px-2.5",title:e("gallery.photosFirst"),children:[y.jsx(VO,{className:"size-3.5"}),y.jsx("span",{className:"hidden text-xs sm:inline",children:e("gallery.photosFirst")})]}),y.jsxs(Ht,{onClick:D,variant:d?"secondary":"ghost",size:"sm",className:"h-8 gap-1.5 px-2.5",children:[y.jsx(Gm,{className:`size-3.5 ${d?"fill-current text-red-500":""}`}),y.jsx("span",{className:"hidden text-xs sm:inline",children:e("gallery.favorites")})]})]})]})]}),y.jsx("div",{className:"flex-1 overflow-y-auto",children:N.length===0?y.jsx("div",{className:"flex h-full items-center justify-center",children:y.jsxs("div",{className:"text-muted-foreground text-center",children:[y.jsx(C_,{className:"mx-auto mb-3 size-16 opacity-30"}),y.jsx("p",{className:"mb-1 text-lg font-medium",children:e("gallery.noSpeciesFound")}),y.jsx("p",{className:"text-sm",children:e(d?"gallery.noFavorites":"gallery.adjustFilters")})]})}):y.jsx("div",{className:"p-4 md:p-6 lg:p-8",children:y.jsx("div",{className:"mx-auto max-w-7xl",children:y.jsx("div",{className:"flex gap-4",children:k.map((z,I)=>y.jsx("div",{className:"flex min-w-0 flex-1 flex-col gap-4",children:z.map(({species:$,globalIndex:Z})=>y.jsx(Pt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:Z*.02,duration:.25},children:y.jsx(bae,{species:$,onClick:()=>M($),searchQuery:l,onImageResolved:R})},$.key))},I))})})})})]}):null},wae=()=>{const e=Le(Da);return y.jsx(Hg,{mode:"wait",children:e===null?y.jsx(Pt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:y.jsx(_ae,{})},"gallery"):y.jsx(Pt.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.2},children:y.jsx(Fu,{})},"detail")})},gi=c3({component:Sre}),Sae=mi({getParentRoute:()=>gi,path:"/",component:qs}),Cae=mi({getParentRoute:()=>gi,path:"/tree",component:qs}),Eae=mi({getParentRoute:()=>gi,path:"/tree/$level1",component:qs}),Aae=mi({getParentRoute:()=>gi,path:"/tree/$level1/$level2",component:qs}),Tae=mi({getParentRoute:()=>gi,path:"/tree/$level1/$level2/$level3",component:qs}),Rae=mi({getParentRoute:()=>gi,path:"/tree/$level1/$level2/$level3/$level4",component:qs}),kae=mi({getParentRoute:()=>gi,path:"/tree/$level1/$level2/$level3/$level4/$level5",component:qs}),Nae=mi({getParentRoute:()=>gi,path:"/tree/$level1/$level2/$level3/$level4/$level5/$level6",component:qs}),Oae=mi({getParentRoute:()=>gi,path:"/tree/$level1/$level2/$level3/$level4/$level5/$level6/$level7",component:qs}),Pae=mi({getParentRoute:()=>gi,path:"/auth-callback",component:yae}),Mae=mi({getParentRoute:()=>gi,path:"/login",component:wre,beforeLoad:()=>{const e=qf(),t=e.get(st.initialized),n=e.get(st.isAuthenticated);if(t&&n)throw bg({to:"/profile"})}}),Dae=mi({getParentRoute:()=>gi,path:"/profile",component:vae,beforeLoad:()=>{const e=qf(),t=e.get(st.initialized),n=e.get(st.isAuthenticated);if(t&&!n)throw bg({to:"/login"})}}),Lae=mi({getParentRoute:()=>gi,path:"/profile/species-gallery",component:wae,beforeLoad:()=>{const e=qf(),t=e.get(st.initialized),n=e.get(st.isAuthenticated);if(t&&!n)throw bg({to:"/login"})}}),jae=mi({getParentRoute:()=>gi,path:"/challenges",component:qs}),Iae=mi({getParentRoute:()=>gi,path:"/challenges/daily/in-progress",component:qs}),zae=mi({getParentRoute:()=>gi,path:"/challenges/random/in-progress",component:qs}),Bae=gi.addChildren([Mae,Sae,Cae,Eae,Aae,Tae,Rae,kae,Nae,Oae,Pae,Dae,Lae,jae,Iae,zae]),Uae=v3({routeTree:Bae,basepath:"/treevera"}),Fae=()=>{const e=W_(),{t}=Mt(),{isInitializing:n}=L_();return e?y.jsx("div",{children:t("loading.restoringCache")}):n?y.jsx("div",{children:t("loading.initializing")}):y.jsx(x3,{router:Uae})};var Vae=["added","removed","updated"];function Rk(e){return Vae.includes(e)}async function $ae({queryClient:e,persister:t,maxAge:n=1e3*60*60*24,buster:i="",hydrateOptions:s}){try{const o=await t.restoreClient();if(o)if(o.timestamp){const l=Date.now()-o.timestamp>n,c=o.buster!==i;if(l||c)return t.removeClient();SY(e,o.clientState,s)}else return t.removeClient()}catch(o){throw await t.removeClient(),o}}async function kk({queryClient:e,persister:t,buster:n="",dehydrateOptions:i}){const s={buster:n,timestamp:Date.now(),clientState:wY(e,i)};await t.persistClient(s)}function Hae(e){const t=e.queryClient.getQueryCache().subscribe(i=>{Rk(i.type)&&kk(e)}),n=e.queryClient.getMutationCache().subscribe(i=>{Rk(i.type)&&kk(e)});return()=>{t(),n()}}var Gae=({children:e,persistOptions:t,onSuccess:n,onError:i,...s})=>{const[o,l]=x.useState(!0),c=x.useRef({persistOptions:t,onSuccess:n,onError:i}),d=x.useRef(!1);return x.useEffect(()=>{c.current={persistOptions:t,onSuccess:n,onError:i}}),x.useEffect(()=>{const h={...c.current.persistOptions,queryClient:s.client};return d.current||(d.current=!0,$ae(h).then(()=>c.current.onSuccess?.()).catch(()=>c.current.onError?.()).finally(()=>{l(!1)})),o?void 0:Hae(h)},[s.client,o]),y.jsx(BY,{...s,children:y.jsx(UY,{value:o,children:e})})};function F0(){}function Kae(e,{interval:t=1e3,onError:n=F0}={}){if(typeof e!="function")throw new Error("argument is not function.");let i=0,s=null,o=!1,l=!1;return async(...c)=>{if(s=c,!l){for(l=!0;o;)await new Promise(d=>No.setTimeout(d,t));for(;Date.now()<i;)await new Promise(d=>No.setTimeout(d,i-Date.now()));l=!1,o=!0;try{await e(...s)}catch(d){try{n(d)}catch{}}i=Date.now()+t,o=!1}}}var qae=({storage:e,key:t="REACT_QUERY_OFFLINE_CACHE",throttleTime:n=1e3,serialize:i=JSON.stringify,deserialize:s=JSON.parse,retry:o})=>{if(e){const l=async c=>{try{const d=await i(c);await e.setItem(t,d);return}catch(d){return d}};return{persistClient:Kae(async c=>{let d=c,h=await l(d),g=0;for(;h&&d;)g++,d=await o?.({persistedClient:d,error:h,errorCount:g}),d&&(h=await l(d))},{interval:n}),restoreClient:async()=>{const c=await e.getItem(t);if(c)return await s(c)},removeClient:()=>e.removeItem(t)}}return{persistClient:F0,restoreClient:()=>Promise.resolve(void 0),removeClient:F0}};function fm(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var fx={exports:{}};var Nk;function Wae(){return Nk||(Nk=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(i,s,o){function l(h,g){if(!s[h]){if(!i[h]){var v=typeof fm=="function"&&fm;if(!g&&v)return v(h,!0);if(c)return c(h,!0);var b=new Error("Cannot find module '"+h+"'");throw b.code="MODULE_NOT_FOUND",b}var _=s[h]={exports:{}};i[h][0].call(_.exports,function(C){var E=i[h][1][C];return l(E||C)},_,_.exports,n,i,s,o)}return s[h].exports}for(var c=typeof fm=="function"&&fm,d=0;d<o.length;d++)l(o[d]);return l})({1:[function(n,i,s){(function(o){var l=o.MutationObserver||o.WebKitMutationObserver,c;if(l){var d=0,h=new l(C),g=o.document.createTextNode("");h.observe(g,{characterData:!0}),c=function(){g.data=d=++d%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var v=new o.MessageChannel;v.port1.onmessage=C,c=function(){v.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?c=function(){var R=o.document.createElement("script");R.onreadystatechange=function(){C(),R.onreadystatechange=null,R.parentNode.removeChild(R),R=null},o.document.documentElement.appendChild(R)}:c=function(){setTimeout(C,0)};var b,_=[];function C(){b=!0;for(var R,N,k=_.length;k;){for(N=_,_=[],R=-1;++R<k;)N[R]();k=_.length}b=!1}i.exports=E;function E(R){_.push(R)===1&&!b&&c()}}).call(this,typeof Ip<"u"?Ip:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,i,s){var o=n(1);function l(){}var c={},d=["REJECTED"],h=["FULFILLED"],g=["PENDING"];i.exports=v;function v(D){if(typeof D!="function")throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,D!==l&&E(this,D)}v.prototype.catch=function(D){return this.then(null,D)},v.prototype.then=function(D,V){if(typeof D!="function"&&this.state===h||typeof V!="function"&&this.state===d)return this;var z=new this.constructor(l);if(this.state!==g){var I=this.state===h?D:V;_(z,I,this.outcome)}else this.queue.push(new b(z,D,V));return z};function b(D,V,z){this.promise=D,typeof V=="function"&&(this.onFulfilled=V,this.callFulfilled=this.otherCallFulfilled),typeof z=="function"&&(this.onRejected=z,this.callRejected=this.otherCallRejected)}b.prototype.callFulfilled=function(D){c.resolve(this.promise,D)},b.prototype.otherCallFulfilled=function(D){_(this.promise,this.onFulfilled,D)},b.prototype.callRejected=function(D){c.reject(this.promise,D)},b.prototype.otherCallRejected=function(D){_(this.promise,this.onRejected,D)};function _(D,V,z){o(function(){var I;try{I=V(z)}catch($){return c.reject(D,$)}I===D?c.reject(D,new TypeError("Cannot resolve promise with itself")):c.resolve(D,I)})}c.resolve=function(D,V){var z=R(C,V);if(z.status==="error")return c.reject(D,z.value);var I=z.value;if(I)E(D,I);else{D.state=h,D.outcome=V;for(var $=-1,Z=D.queue.length;++$<Z;)D.queue[$].callFulfilled(V)}return D},c.reject=function(D,V){D.state=d,D.outcome=V;for(var z=-1,I=D.queue.length;++z<I;)D.queue[z].callRejected(V);return D};function C(D){var V=D&&D.then;if(D&&(typeof D=="object"||typeof D=="function")&&typeof V=="function")return function(){V.apply(D,arguments)}}function E(D,V){var z=!1;function I(W){z||(z=!0,c.reject(D,W))}function $(W){z||(z=!0,c.resolve(D,W))}function Z(){V($,I)}var q=R(Z);q.status==="error"&&I(q.value)}function R(D,V){var z={};try{z.value=D(V),z.status="success"}catch(I){z.status="error",z.value=I}return z}v.resolve=N;function N(D){return D instanceof this?D:c.resolve(new this(l),D)}v.reject=k;function k(D){var V=new this(l);return c.reject(V,D)}v.all=O;function O(D){var V=this;if(Object.prototype.toString.call(D)!=="[object Array]")return this.reject(new TypeError("must be an array"));var z=D.length,I=!1;if(!z)return this.resolve([]);for(var $=new Array(z),Z=0,q=-1,W=new this(l);++q<z;)ne(D[q],q);return W;function ne(re,ye){V.resolve(re).then(G,function(Y){I||(I=!0,c.reject(W,Y))});function G(Y){$[ye]=Y,++Z===z&&!I&&(I=!0,c.resolve(W,$))}}}v.race=M;function M(D){var V=this;if(Object.prototype.toString.call(D)!=="[object Array]")return this.reject(new TypeError("must be an array"));var z=D.length,I=!1;if(!z)return this.resolve([]);for(var $=-1,Z=new this(l);++$<z;)q(D[$]);return Z;function q(W){V.resolve(W).then(function(ne){I||(I=!0,c.resolve(Z,ne))},function(ne){I||(I=!0,c.reject(Z,ne))})}}},{1:1}],3:[function(n,i,s){(function(o){typeof o.Promise!="function"&&(o.Promise=n(2))}).call(this,typeof Ip<"u"?Ip:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,i,s){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U};function l(U,J){if(!(U instanceof J))throw new TypeError("Cannot call a class as a function")}function c(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var d=c();function h(){try{if(!d||!d.open)return!1;var U=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),J=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!U||J)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function g(U,J){U=U||[],J=J||{};try{return new Blob(U,J)}catch(Q){if(Q.name!=="TypeError")throw Q;for(var H=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,se=new H,le=0;le<U.length;le+=1)se.append(U[le]);return se.getBlob(J.type)}}typeof Promise>"u"&&n(3);var v=Promise;function b(U,J){J&&U.then(function(H){J(null,H)},function(H){J(H)})}function _(U,J,H){typeof J=="function"&&U.then(J),typeof H=="function"&&U.catch(H)}function C(U){return typeof U!="string"&&(console.warn(U+" used as a key, but it is not a string."),U=String(U)),U}function E(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var R="local-forage-detect-blob-support",N=void 0,k={},O=Object.prototype.toString,M="readonly",D="readwrite";function V(U){for(var J=U.length,H=new ArrayBuffer(J),se=new Uint8Array(H),le=0;le<J;le++)se[le]=U.charCodeAt(le);return H}function z(U){return new v(function(J){var H=U.transaction(R,D),se=g([""]);H.objectStore(R).put(se,"key"),H.onabort=function(le){le.preventDefault(),le.stopPropagation(),J(!1)},H.oncomplete=function(){var le=navigator.userAgent.match(/Chrome\/(\d+)/),Q=navigator.userAgent.match(/Edge\//);J(Q||!le||parseInt(le[1],10)>=43)}}).catch(function(){return!1})}function I(U){return typeof N=="boolean"?v.resolve(N):z(U).then(function(J){return N=J,N})}function $(U){var J=k[U.name],H={};H.promise=new v(function(se,le){H.resolve=se,H.reject=le}),J.deferredOperations.push(H),J.dbReady?J.dbReady=J.dbReady.then(function(){return H.promise}):J.dbReady=H.promise}function Z(U){var J=k[U.name],H=J.deferredOperations.pop();if(H)return H.resolve(),H.promise}function q(U,J){var H=k[U.name],se=H.deferredOperations.pop();if(se)return se.reject(J),se.promise}function W(U,J){return new v(function(H,se){if(k[U.name]=k[U.name]||ae(),U.db)if(J)$(U),U.db.close();else return H(U.db);var le=[U.name];J&&le.push(U.version);var Q=d.open.apply(d,le);J&&(Q.onupgradeneeded=function(ge){var ke=Q.result;try{ke.createObjectStore(U.storeName),ge.oldVersion<=1&&ke.createObjectStore(R)}catch(Ne){if(Ne.name==="ConstraintError")console.warn('The database "'+U.name+'" has been upgraded from version '+ge.oldVersion+" to version "+ge.newVersion+', but the storage "'+U.storeName+'" already exists.');else throw Ne}}),Q.onerror=function(ge){ge.preventDefault(),se(Q.error)},Q.onsuccess=function(){var ge=Q.result;ge.onversionchange=function(ke){ke.target.close()},H(ge),Z(U)}})}function ne(U){return W(U,!1)}function re(U){return W(U,!0)}function ye(U,J){if(!U.db)return!0;var H=!U.db.objectStoreNames.contains(U.storeName),se=U.version<U.db.version,le=U.version>U.db.version;if(se&&(U.version!==J&&console.warn('The database "'+U.name+`" can't be downgraded from version `+U.db.version+" to version "+U.version+"."),U.version=U.db.version),le||H){if(H){var Q=U.db.version+1;Q>U.version&&(U.version=Q)}return!0}return!1}function G(U){return new v(function(J,H){var se=new FileReader;se.onerror=H,se.onloadend=function(le){var Q=btoa(le.target.result||"");J({__local_forage_encoded_blob:!0,data:Q,type:U.type})},se.readAsBinaryString(U)})}function Y(U){var J=V(atob(U.data));return g([J],{type:U.type})}function te(U){return U&&U.__local_forage_encoded_blob}function de(U){var J=this,H=J._initReady().then(function(){var se=k[J._dbInfo.name];if(se&&se.dbReady)return se.dbReady});return _(H,U,U),H}function oe(U){$(U);for(var J=k[U.name],H=J.forages,se=0;se<H.length;se++){var le=H[se];le._dbInfo.db&&(le._dbInfo.db.close(),le._dbInfo.db=null)}return U.db=null,ne(U).then(function(Q){return U.db=Q,ye(U)?re(U):Q}).then(function(Q){U.db=J.db=Q;for(var ge=0;ge<H.length;ge++)H[ge]._dbInfo.db=Q}).catch(function(Q){throw q(U,Q),Q})}function K(U,J,H,se){se===void 0&&(se=1);try{var le=U.db.transaction(U.storeName,J);H(null,le)}catch(Q){if(se>0&&(!U.db||Q.name==="InvalidStateError"||Q.name==="NotFoundError"))return v.resolve().then(function(){if(!U.db||Q.name==="NotFoundError"&&!U.db.objectStoreNames.contains(U.storeName)&&U.version<=U.db.version)return U.db&&(U.version=U.db.version+1),re(U)}).then(function(){return oe(U).then(function(){K(U,J,H,se-1)})}).catch(H);H(Q)}}function ae(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function be(U){var J=this,H={db:null};if(U)for(var se in U)H[se]=U[se];var le=k[H.name];le||(le=ae(),k[H.name]=le),le.forages.push(J),J._initReady||(J._initReady=J.ready,J.ready=de);var Q=[];function ge(){return v.resolve()}for(var ke=0;ke<le.forages.length;ke++){var Ne=le.forages[ke];Ne!==J&&Q.push(Ne._initReady().catch(ge))}var Ee=le.forages.slice(0);return v.all(Q).then(function(){return H.db=le.db,ne(H)}).then(function(Oe){return H.db=Oe,ye(H,J._defaultConfig.version)?re(H):Oe}).then(function(Oe){H.db=le.db=Oe,J._dbInfo=H;for(var Be=0;Be<Ee.length;Be++){var Je=Ee[Be];Je!==J&&(Je._dbInfo.db=H.db,Je._dbInfo.version=H.version)}})}function xe(U,J){var H=this;U=C(U);var se=new v(function(le,Q){H.ready().then(function(){K(H._dbInfo,M,function(ge,ke){if(ge)return Q(ge);try{var Ne=ke.objectStore(H._dbInfo.storeName),Ee=Ne.get(U);Ee.onsuccess=function(){var Oe=Ee.result;Oe===void 0&&(Oe=null),te(Oe)&&(Oe=Y(Oe)),le(Oe)},Ee.onerror=function(){Q(Ee.error)}}catch(Oe){Q(Oe)}})}).catch(Q)});return b(se,J),se}function Re(U,J){var H=this,se=new v(function(le,Q){H.ready().then(function(){K(H._dbInfo,M,function(ge,ke){if(ge)return Q(ge);try{var Ne=ke.objectStore(H._dbInfo.storeName),Ee=Ne.openCursor(),Oe=1;Ee.onsuccess=function(){var Be=Ee.result;if(Be){var Je=Be.value;te(Je)&&(Je=Y(Je));var qe=U(Je,Be.key,Oe++);qe!==void 0?le(qe):Be.continue()}else le()},Ee.onerror=function(){Q(Ee.error)}}catch(Be){Q(Be)}})}).catch(Q)});return b(se,J),se}function we(U,J,H){var se=this;U=C(U);var le=new v(function(Q,ge){var ke;se.ready().then(function(){return ke=se._dbInfo,O.call(J)==="[object Blob]"?I(ke.db).then(function(Ne){return Ne?J:G(J)}):J}).then(function(Ne){K(se._dbInfo,D,function(Ee,Oe){if(Ee)return ge(Ee);try{var Be=Oe.objectStore(se._dbInfo.storeName);Ne===null&&(Ne=void 0);var Je=Be.put(Ne,U);Oe.oncomplete=function(){Ne===void 0&&(Ne=null),Q(Ne)},Oe.onabort=Oe.onerror=function(){var qe=Je.error?Je.error:Je.transaction.error;ge(qe)}}catch(qe){ge(qe)}})}).catch(ge)});return b(le,H),le}function Se(U,J){var H=this;U=C(U);var se=new v(function(le,Q){H.ready().then(function(){K(H._dbInfo,D,function(ge,ke){if(ge)return Q(ge);try{var Ne=ke.objectStore(H._dbInfo.storeName),Ee=Ne.delete(U);ke.oncomplete=function(){le()},ke.onerror=function(){Q(Ee.error)},ke.onabort=function(){var Oe=Ee.error?Ee.error:Ee.transaction.error;Q(Oe)}}catch(Oe){Q(Oe)}})}).catch(Q)});return b(se,J),se}function je(U){var J=this,H=new v(function(se,le){J.ready().then(function(){K(J._dbInfo,D,function(Q,ge){if(Q)return le(Q);try{var ke=ge.objectStore(J._dbInfo.storeName),Ne=ke.clear();ge.oncomplete=function(){se()},ge.onabort=ge.onerror=function(){var Ee=Ne.error?Ne.error:Ne.transaction.error;le(Ee)}}catch(Ee){le(Ee)}})}).catch(le)});return b(H,U),H}function Me(U){var J=this,H=new v(function(se,le){J.ready().then(function(){K(J._dbInfo,M,function(Q,ge){if(Q)return le(Q);try{var ke=ge.objectStore(J._dbInfo.storeName),Ne=ke.count();Ne.onsuccess=function(){se(Ne.result)},Ne.onerror=function(){le(Ne.error)}}catch(Ee){le(Ee)}})}).catch(le)});return b(H,U),H}function De(U,J){var H=this,se=new v(function(le,Q){if(U<0){le(null);return}H.ready().then(function(){K(H._dbInfo,M,function(ge,ke){if(ge)return Q(ge);try{var Ne=ke.objectStore(H._dbInfo.storeName),Ee=!1,Oe=Ne.openKeyCursor();Oe.onsuccess=function(){var Be=Oe.result;if(!Be){le(null);return}U===0||Ee?le(Be.key):(Ee=!0,Be.advance(U))},Oe.onerror=function(){Q(Oe.error)}}catch(Be){Q(Be)}})}).catch(Q)});return b(se,J),se}function Ye(U){var J=this,H=new v(function(se,le){J.ready().then(function(){K(J._dbInfo,M,function(Q,ge){if(Q)return le(Q);try{var ke=ge.objectStore(J._dbInfo.storeName),Ne=ke.openKeyCursor(),Ee=[];Ne.onsuccess=function(){var Oe=Ne.result;if(!Oe){se(Ee);return}Ee.push(Oe.key),Oe.continue()},Ne.onerror=function(){le(Ne.error)}}catch(Oe){le(Oe)}})}).catch(le)});return b(H,U),H}function Ze(U,J){J=E.apply(this,arguments);var H=this.config();U=typeof U!="function"&&U||{},U.name||(U.name=U.name||H.name,U.storeName=U.storeName||H.storeName);var se=this,le;if(!U.name)le=v.reject("Invalid arguments");else{var Q=U.name===H.name&&se._dbInfo.db,ge=Q?v.resolve(se._dbInfo.db):ne(U).then(function(ke){var Ne=k[U.name],Ee=Ne.forages;Ne.db=ke;for(var Oe=0;Oe<Ee.length;Oe++)Ee[Oe]._dbInfo.db=ke;return ke});U.storeName?le=ge.then(function(ke){if(ke.objectStoreNames.contains(U.storeName)){var Ne=ke.version+1;$(U);var Ee=k[U.name],Oe=Ee.forages;ke.close();for(var Be=0;Be<Oe.length;Be++){var Je=Oe[Be];Je._dbInfo.db=null,Je._dbInfo.version=Ne}var qe=new v(function(dt,Bt){var Et=d.open(U.name,Ne);Et.onerror=function(Qn){var Fi=Et.result;Fi.close(),Bt(Qn)},Et.onupgradeneeded=function(){var Qn=Et.result;Qn.deleteObjectStore(U.storeName)},Et.onsuccess=function(){var Qn=Et.result;Qn.close(),dt(Qn)}});return qe.then(function(dt){Ee.db=dt;for(var Bt=0;Bt<Oe.length;Bt++){var Et=Oe[Bt];Et._dbInfo.db=dt,Z(Et._dbInfo)}}).catch(function(dt){throw(q(U,dt)||v.resolve()).catch(function(){}),dt})}}):le=ge.then(function(ke){$(U);var Ne=k[U.name],Ee=Ne.forages;ke.close();for(var Oe=0;Oe<Ee.length;Oe++){var Be=Ee[Oe];Be._dbInfo.db=null}var Je=new v(function(qe,dt){var Bt=d.deleteDatabase(U.name);Bt.onerror=function(){var Et=Bt.result;Et&&Et.close(),dt(Bt.error)},Bt.onblocked=function(){console.warn('dropInstance blocked for database "'+U.name+'" until all open connections are closed')},Bt.onsuccess=function(){var Et=Bt.result;Et&&Et.close(),qe(Et)}});return Je.then(function(qe){Ne.db=qe;for(var dt=0;dt<Ee.length;dt++){var Bt=Ee[dt];Z(Bt._dbInfo)}}).catch(function(qe){throw(q(U,qe)||v.resolve()).catch(function(){}),qe})})}return b(le,J),le}var Ct={_driver:"asyncStorage",_initStorage:be,_support:h(),iterate:Re,getItem:xe,setItem:we,removeItem:Se,clear:je,length:Me,key:De,keys:Ye,dropInstance:Ze};function yt(){return typeof openDatabase=="function"}var It="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dn="~~local_forage_type~",fn=/^~~local_forage_type~([^~]+)~/,jn="__lfsc__:",_n=jn.length,wn="arbf",Kn="blob",Ai="si08",Es="ui08",sn="uic8",Sr="si16",bt="si32",At="ur16",zt="ui32",Ti="fl32",Ws="fl64",vi=_n+wn.length,Jr=Object.prototype.toString;function ts(U){var J=U.length*.75,H=U.length,se,le=0,Q,ge,ke,Ne;U[U.length-1]==="="&&(J--,U[U.length-2]==="="&&J--);var Ee=new ArrayBuffer(J),Oe=new Uint8Array(Ee);for(se=0;se<H;se+=4)Q=It.indexOf(U[se]),ge=It.indexOf(U[se+1]),ke=It.indexOf(U[se+2]),Ne=It.indexOf(U[se+3]),Oe[le++]=Q<<2|ge>>4,Oe[le++]=(ge&15)<<4|ke>>2,Oe[le++]=(ke&3)<<6|Ne&63;return Ee}function rn(U){var J=new Uint8Array(U),H="",se;for(se=0;se<J.length;se+=3)H+=It[J[se]>>2],H+=It[(J[se]&3)<<4|J[se+1]>>4],H+=It[(J[se+1]&15)<<2|J[se+2]>>6],H+=It[J[se+2]&63];return J.length%3===2?H=H.substring(0,H.length-1)+"=":J.length%3===1&&(H=H.substring(0,H.length-2)+"=="),H}function si(U,J){var H="";if(U&&(H=Jr.call(U)),U&&(H==="[object ArrayBuffer]"||U.buffer&&Jr.call(U.buffer)==="[object ArrayBuffer]")){var se,le=jn;U instanceof ArrayBuffer?(se=U,le+=wn):(se=U.buffer,H==="[object Int8Array]"?le+=Ai:H==="[object Uint8Array]"?le+=Es:H==="[object Uint8ClampedArray]"?le+=sn:H==="[object Int16Array]"?le+=Sr:H==="[object Uint16Array]"?le+=At:H==="[object Int32Array]"?le+=bt:H==="[object Uint32Array]"?le+=zt:H==="[object Float32Array]"?le+=Ti:H==="[object Float64Array]"?le+=Ws:J(new Error("Failed to get type for BinaryArray"))),J(le+rn(se))}else if(H==="[object Blob]"){var Q=new FileReader;Q.onload=function(){var ge=dn+U.type+"~"+rn(this.result);J(jn+Kn+ge)},Q.readAsArrayBuffer(U)}else try{J(JSON.stringify(U))}catch(ge){console.error("Couldn't convert value into a JSON string: ",U),J(null,ge)}}function En(U){if(U.substring(0,_n)!==jn)return JSON.parse(U);var J=U.substring(vi),H=U.substring(_n,vi),se;if(H===Kn&&fn.test(J)){var le=J.match(fn);se=le[1],J=J.substring(le[0].length)}var Q=ts(J);switch(H){case wn:return Q;case Kn:return g([Q],{type:se});case Ai:return new Int8Array(Q);case Es:return new Uint8Array(Q);case sn:return new Uint8ClampedArray(Q);case Sr:return new Int16Array(Q);case At:return new Uint16Array(Q);case bt:return new Int32Array(Q);case zt:return new Uint32Array(Q);case Ti:return new Float32Array(Q);case Ws:return new Float64Array(Q);default:throw new Error("Unkown type: "+H)}}var ns={serialize:si,deserialize:En,stringToBuffer:ts,bufferToString:rn};function eo(U,J,H,se){U.executeSql("CREATE TABLE IF NOT EXISTS "+J.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],H,se)}function $a(U){var J=this,H={db:null};if(U)for(var se in U)H[se]=typeof U[se]!="string"?U[se].toString():U[se];var le=new v(function(Q,ge){try{H.db=openDatabase(H.name,String(H.version),H.description,H.size)}catch(ke){return ge(ke)}H.db.transaction(function(ke){eo(ke,H,function(){J._dbInfo=H,Q()},function(Ne,Ee){ge(Ee)})},ge)});return H.serializer=ns,le}function qn(U,J,H,se,le,Q){U.executeSql(H,se,le,function(ge,ke){ke.code===ke.SYNTAX_ERR?ge.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[J.storeName],function(Ne,Ee){Ee.rows.length?Q(Ne,ke):eo(Ne,J,function(){Ne.executeSql(H,se,le,Q)},Q)},Q):Q(ge,ke)},Q)}function Ys(U,J){var H=this;U=C(U);var se=new v(function(le,Q){H.ready().then(function(){var ge=H._dbInfo;ge.db.transaction(function(ke){qn(ke,ge,"SELECT * FROM "+ge.storeName+" WHERE key = ? LIMIT 1",[U],function(Ne,Ee){var Oe=Ee.rows.length?Ee.rows.item(0).value:null;Oe&&(Oe=ge.serializer.deserialize(Oe)),le(Oe)},function(Ne,Ee){Q(Ee)})})}).catch(Q)});return b(se,J),se}function Yt(U,J){var H=this,se=new v(function(le,Q){H.ready().then(function(){var ge=H._dbInfo;ge.db.transaction(function(ke){qn(ke,ge,"SELECT * FROM "+ge.storeName,[],function(Ne,Ee){for(var Oe=Ee.rows,Be=Oe.length,Je=0;Je<Be;Je++){var qe=Oe.item(Je),dt=qe.value;if(dt&&(dt=ge.serializer.deserialize(dt)),dt=U(dt,qe.key,Je+1),dt!==void 0){le(dt);return}}le()},function(Ne,Ee){Q(Ee)})})}).catch(Q)});return b(se,J),se}function Zt(U,J,H,se){var le=this;U=C(U);var Q=new v(function(ge,ke){le.ready().then(function(){J===void 0&&(J=null);var Ne=J,Ee=le._dbInfo;Ee.serializer.serialize(J,function(Oe,Be){Be?ke(Be):Ee.db.transaction(function(Je){qn(Je,Ee,"INSERT OR REPLACE INTO "+Ee.storeName+" (key, value) VALUES (?, ?)",[U,Oe],function(){ge(Ne)},function(qe,dt){ke(dt)})},function(Je){if(Je.code===Je.QUOTA_ERR){if(se>0){ge(Zt.apply(le,[U,Ne,H,se-1]));return}ke(Je)}})})}).catch(ke)});return b(Q,H),Q}function hn(U,J,H){return Zt.apply(this,[U,J,H,1])}function Wn(U,J){var H=this;U=C(U);var se=new v(function(le,Q){H.ready().then(function(){var ge=H._dbInfo;ge.db.transaction(function(ke){qn(ke,ge,"DELETE FROM "+ge.storeName+" WHERE key = ?",[U],function(){le()},function(Ne,Ee){Q(Ee)})})}).catch(Q)});return b(se,J),se}function Yn(U){var J=this,H=new v(function(se,le){J.ready().then(function(){var Q=J._dbInfo;Q.db.transaction(function(ge){qn(ge,Q,"DELETE FROM "+Q.storeName,[],function(){se()},function(ke,Ne){le(Ne)})})}).catch(le)});return b(H,U),H}function An(U){var J=this,H=new v(function(se,le){J.ready().then(function(){var Q=J._dbInfo;Q.db.transaction(function(ge){qn(ge,Q,"SELECT COUNT(key) as c FROM "+Q.storeName,[],function(ke,Ne){var Ee=Ne.rows.item(0).c;se(Ee)},function(ke,Ne){le(Ne)})})}).catch(le)});return b(H,U),H}function Zn(U,J){var H=this,se=new v(function(le,Q){H.ready().then(function(){var ge=H._dbInfo;ge.db.transaction(function(ke){qn(ke,ge,"SELECT key FROM "+ge.storeName+" WHERE id = ? LIMIT 1",[U+1],function(Ne,Ee){var Oe=Ee.rows.length?Ee.rows.item(0).key:null;le(Oe)},function(Ne,Ee){Q(Ee)})})}).catch(Q)});return b(se,J),se}function Xn(U){var J=this,H=new v(function(se,le){J.ready().then(function(){var Q=J._dbInfo;Q.db.transaction(function(ge){qn(ge,Q,"SELECT key FROM "+Q.storeName,[],function(ke,Ne){for(var Ee=[],Oe=0;Oe<Ne.rows.length;Oe++)Ee.push(Ne.rows.item(Oe).key);se(Ee)},function(ke,Ne){le(Ne)})})}).catch(le)});return b(H,U),H}function on(U){return new v(function(J,H){U.transaction(function(se){se.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(le,Q){for(var ge=[],ke=0;ke<Q.rows.length;ke++)ge.push(Q.rows.item(ke).name);J({db:U,storeNames:ge})},function(le,Q){H(Q)})},function(se){H(se)})})}function Ri(U,J){J=E.apply(this,arguments);var H=this.config();U=typeof U!="function"&&U||{},U.name||(U.name=U.name||H.name,U.storeName=U.storeName||H.storeName);var se=this,le;return U.name?le=new v(function(Q){var ge;U.name===H.name?ge=se._dbInfo.db:ge=openDatabase(U.name,"","",0),U.storeName?Q({db:ge,storeNames:[U.storeName]}):Q(on(ge))}).then(function(Q){return new v(function(ge,ke){Q.db.transaction(function(Ne){function Ee(qe){return new v(function(dt,Bt){Ne.executeSql("DROP TABLE IF EXISTS "+qe,[],function(){dt()},function(Et,Qn){Bt(Qn)})})}for(var Oe=[],Be=0,Je=Q.storeNames.length;Be<Je;Be++)Oe.push(Ee(Q.storeNames[Be]));v.all(Oe).then(function(){ge()}).catch(function(qe){ke(qe)})},function(Ne){ke(Ne)})})}):le=v.reject("Invalid arguments"),b(le,J),le}var ri={_driver:"webSQLStorage",_initStorage:$a,_support:yt(),iterate:Yt,getItem:Ys,setItem:hn,removeItem:Wn,clear:Yn,length:An,key:Zn,keys:Xn,dropInstance:Ri};function yi(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function an(U,J){var H=U.name+"/";return U.storeName!==J.storeName&&(H+=U.storeName+"/"),H}function ze(){var U="_localforage_support_test";try{return localStorage.setItem(U,!0),localStorage.removeItem(U),!1}catch{return!0}}function bi(){return!ze()||localStorage.length>0}function is(U){var J=this,H={};if(U)for(var se in U)H[se]=U[se];return H.keyPrefix=an(U,J._defaultConfig),bi()?(J._dbInfo=H,H.serializer=ns,v.resolve()):v.reject()}function oi(U){var J=this,H=J.ready().then(function(){for(var se=J._dbInfo.keyPrefix,le=localStorage.length-1;le>=0;le--){var Q=localStorage.key(le);Q.indexOf(se)===0&&localStorage.removeItem(Q)}});return b(H,U),H}function pn(U,J){var H=this;U=C(U);var se=H.ready().then(function(){var le=H._dbInfo,Q=localStorage.getItem(le.keyPrefix+U);return Q&&(Q=le.serializer.deserialize(Q)),Q});return b(se,J),se}function Tn(U,J){var H=this,se=H.ready().then(function(){for(var le=H._dbInfo,Q=le.keyPrefix,ge=Q.length,ke=localStorage.length,Ne=1,Ee=0;Ee<ke;Ee++){var Oe=localStorage.key(Ee);if(Oe.indexOf(Q)===0){var Be=localStorage.getItem(Oe);if(Be&&(Be=le.serializer.deserialize(Be)),Be=U(Be,Oe.substring(ge),Ne++),Be!==void 0)return Be}}});return b(se,J),se}function Zs(U,J){var H=this,se=H.ready().then(function(){var le=H._dbInfo,Q;try{Q=localStorage.key(U)}catch{Q=null}return Q&&(Q=Q.substring(le.keyPrefix.length)),Q});return b(se,J),se}function As(U){var J=this,H=J.ready().then(function(){for(var se=J._dbInfo,le=localStorage.length,Q=[],ge=0;ge<le;ge++){var ke=localStorage.key(ge);ke.indexOf(se.keyPrefix)===0&&Q.push(ke.substring(se.keyPrefix.length))}return Q});return b(H,U),H}function sc(U){var J=this,H=J.keys().then(function(se){return se.length});return b(H,U),H}function Ku(U,J){var H=this;U=C(U);var se=H.ready().then(function(){var le=H._dbInfo;localStorage.removeItem(le.keyPrefix+U)});return b(se,J),se}function rc(U,J,H){var se=this;U=C(U);var le=se.ready().then(function(){J===void 0&&(J=null);var Q=J;return new v(function(ge,ke){var Ne=se._dbInfo;Ne.serializer.serialize(J,function(Ee,Oe){if(Oe)ke(Oe);else try{localStorage.setItem(Ne.keyPrefix+U,Ee),ge(Q)}catch(Be){(Be.name==="QuotaExceededError"||Be.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ke(Be),ke(Be)}})})});return b(le,H),le}function to(U,J){if(J=E.apply(this,arguments),U=typeof U!="function"&&U||{},!U.name){var H=this.config();U.name=U.name||H.name,U.storeName=U.storeName||H.storeName}var se=this,le;return U.name?le=new v(function(Q){U.storeName?Q(an(U,se._defaultConfig)):Q(U.name+"/")}).then(function(Q){for(var ge=localStorage.length-1;ge>=0;ge--){var ke=localStorage.key(ge);ke.indexOf(Q)===0&&localStorage.removeItem(ke)}}):le=v.reject("Invalid arguments"),b(le,J),le}var Ha={_driver:"localStorageWrapper",_initStorage:is,_support:yi(),iterate:Tn,getItem:pn,setItem:rc,removeItem:Ku,clear:oi,length:sc,key:Zs,keys:As,dropInstance:to},Xs=function(J,H){return J===H||typeof J=="number"&&typeof H=="number"&&isNaN(J)&&isNaN(H)},Cr=function(J,H){for(var se=J.length,le=0;le<se;){if(Xs(J[le],H))return!0;le++}return!1},ss=Array.isArray||function(U){return Object.prototype.toString.call(U)==="[object Array]"},zi={},ln={},Qs={INDEXEDDB:Ct,WEBSQL:ri,LOCALSTORAGE:Ha},oc=[Qs.INDEXEDDB._driver,Qs.WEBSQL._driver,Qs.LOCALSTORAGE._driver],Bi=["dropInstance"],Ui=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Bi),no={description:"",driver:oc.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Ga(U,J){U[J]=function(){var H=arguments;return U.ready().then(function(){return U[J].apply(U,H)})}}function io(){for(var U=1;U<arguments.length;U++){var J=arguments[U];if(J)for(var H in J)J.hasOwnProperty(H)&&(ss(J[H])?arguments[0][H]=J[H].slice():arguments[0][H]=J[H])}return arguments[0]}var so=(function(){function U(J){l(this,U);for(var H in Qs)if(Qs.hasOwnProperty(H)){var se=Qs[H],le=se._driver;this[H]=le,zi[le]||this.defineDriver(se)}this._defaultConfig=io({},no),this._config=io({},this._defaultConfig,J),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return U.prototype.config=function(H){if((typeof H>"u"?"undefined":o(H))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var se in H){if(se==="storeName"&&(H[se]=H[se].replace(/\W/g,"_")),se==="version"&&typeof H[se]!="number")return new Error("Database version must be a number.");this._config[se]=H[se]}return"driver"in H&&H.driver?this.setDriver(this._config.driver):!0}else return typeof H=="string"?this._config[H]:this._config},U.prototype.defineDriver=function(H,se,le){var Q=new v(function(ge,ke){try{var Ne=H._driver,Ee=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!H._driver){ke(Ee);return}for(var Oe=Ui.concat("_initStorage"),Be=0,Je=Oe.length;Be<Je;Be++){var qe=Oe[Be],dt=!Cr(Bi,qe);if((dt||H[qe])&&typeof H[qe]!="function"){ke(Ee);return}}var Bt=function(){for(var Fi=function(Tr){return function(){var xi=new Error("Method "+Tr+" is not implemented by the current driver"),oo=v.reject(xi);return b(oo,arguments[arguments.length-1]),oo}},Er=0,ro=Bi.length;Er<ro;Er++){var Ar=Bi[Er];H[Ar]||(H[Ar]=Fi(Ar))}};Bt();var Et=function(Fi){zi[Ne]&&console.info("Redefining LocalForage driver: "+Ne),zi[Ne]=H,ln[Ne]=Fi,ge()};"_support"in H?H._support&&typeof H._support=="function"?H._support().then(Et,ke):Et(!!H._support):Et(!0)}catch(Qn){ke(Qn)}});return _(Q,se,le),Q},U.prototype.driver=function(){return this._driver||null},U.prototype.getDriver=function(H,se,le){var Q=zi[H]?v.resolve(zi[H]):v.reject(new Error("Driver not found."));return _(Q,se,le),Q},U.prototype.getSerializer=function(H){var se=v.resolve(ns);return _(se,H),se},U.prototype.ready=function(H){var se=this,le=se._driverSet.then(function(){return se._ready===null&&(se._ready=se._initDriver()),se._ready});return _(le,H,H),le},U.prototype.setDriver=function(H,se,le){var Q=this;ss(H)||(H=[H]);var ge=this._getSupportedDrivers(H);function ke(){Q._config.driver=Q.driver()}function Ne(Be){return Q._extend(Be),ke(),Q._ready=Q._initStorage(Q._config),Q._ready}function Ee(Be){return function(){var Je=0;function qe(){for(;Je<Be.length;){var dt=Be[Je];return Je++,Q._dbInfo=null,Q._ready=null,Q.getDriver(dt).then(Ne).catch(qe)}ke();var Bt=new Error("No available storage method found.");return Q._driverSet=v.reject(Bt),Q._driverSet}return qe()}}var Oe=this._driverSet!==null?this._driverSet.catch(function(){return v.resolve()}):v.resolve();return this._driverSet=Oe.then(function(){var Be=ge[0];return Q._dbInfo=null,Q._ready=null,Q.getDriver(Be).then(function(Je){Q._driver=Je._driver,ke(),Q._wrapLibraryMethodsWithReady(),Q._initDriver=Ee(ge)})}).catch(function(){ke();var Be=new Error("No available storage method found.");return Q._driverSet=v.reject(Be),Q._driverSet}),_(this._driverSet,se,le),this._driverSet},U.prototype.supports=function(H){return!!ln[H]},U.prototype._extend=function(H){io(this,H)},U.prototype._getSupportedDrivers=function(H){for(var se=[],le=0,Q=H.length;le<Q;le++){var ge=H[le];this.supports(ge)&&se.push(ge)}return se},U.prototype._wrapLibraryMethodsWithReady=function(){for(var H=0,se=Ui.length;H<se;H++)Ga(this,Ui[H])},U.prototype.createInstance=function(H){return new U(H)},U})(),ft=new so;i.exports=ft},{3:3}]},{},[4])(4)})})(fx)),fx.exports}var Yae=Wae();const Zae=V0(Yae),Xae=new IY({defaultOptions:{queries:{gcTime:1e3*60*60*24,staleTime:1e3*60*5,retry:1,refetchOnWindowFocus:!1}}}),Qae=Zae.createInstance({name:"treevera-db",storeName:"react-query-cache"}),Jae=qae({storage:Qae,key:"treevera-react-query-cache",throttleTime:1e3});Sz.createRoot(document.getElementById("root")).render(y.jsx(x.StrictMode,{children:y.jsx(Gae,{client:Xae,persistOptions:{persister:Jae},children:y.jsx(S8,{children:y.jsx(Fae,{})})})}));
