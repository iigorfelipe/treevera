function dz(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(i,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var eb={exports:{}},zd={};var KE;function fz(){if(KE)return zd;KE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:e,type:i,key:l,ref:s!==void 0?s:null,props:o}}return zd.Fragment=t,zd.jsx=n,zd.jsxs=n,zd}var qE;function hz(){return qE||(qE=1,eb.exports=fz()),eb.exports}var y=hz(),tb={exports:{}},ot={};var WE;function pz(){if(WE)return ot;WE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function _(K){return K===null||typeof K!="object"?null:(K=b&&K[b]||K["@@iterator"],typeof K=="function"?K:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,R={};function N(K,ce,be){this.props=K,this.context=ce,this.refs=R,this.updater=be||C}N.prototype.isReactComponent={},N.prototype.setState=function(K,ce){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,ce,"setState")},N.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function k(){}k.prototype=N.prototype;function O(K,ce,be){this.props=K,this.context=ce,this.refs=R,this.updater=be||C}var M=O.prototype=new k;M.constructor=O,E(M,N.prototype),M.isPureReactComponent=!0;var j=Array.isArray;function U(){}var z={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function $(K,ce,be){var xe=be.ref;return{$$typeof:e,type:K,key:ce,ref:xe!==void 0?xe:null,props:be}}function Z(K,ce){return $(K.type,ce,K.props)}function q(K){return typeof K=="object"&&K!==null&&K.$$typeof===e}function X(K){var ce={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(be){return ce[be]})}var ne=/\/+/g;function re(K,ce){return typeof K=="object"&&K!==null&&K.key!=null?X(""+K.key):ce.toString(36)}function ye(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(U,U):(K.status="pending",K.then(function(ce){K.status==="pending"&&(K.status="fulfilled",K.value=ce)},function(ce){K.status==="pending"&&(K.status="rejected",K.reason=ce)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function G(K,ce,be,xe,Re){var we=typeof K;(we==="undefined"||we==="boolean")&&(K=null);var Se=!1;if(K===null)Se=!0;else switch(we){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(K.$$typeof){case e:case t:Se=!0;break;case g:return Se=K._init,G(Se(K._payload),ce,be,xe,Re)}}if(Se)return Re=Re(K),Se=xe===""?"."+re(K,0):xe,j(Re)?(be="",Se!=null&&(be=Se.replace(ne,"$&/")+"/"),G(Re,ce,be,"",function(De){return De})):Re!=null&&(q(Re)&&(Re=Z(Re,be+(Re.key==null||K&&K.key===Re.key?"":(""+Re.key).replace(ne,"$&/")+"/")+Se)),ce.push(Re)),1;Se=0;var Le=xe===""?".":xe+":";if(j(K))for(var Me=0;Me<K.length;Me++)xe=K[Me],we=Le+re(xe,Me),Se+=G(xe,ce,be,we,Re);else if(Me=_(K),typeof Me=="function")for(K=Me.call(K),Me=0;!(xe=K.next()).done;)xe=xe.value,we=Le+re(xe,Me++),Se+=G(xe,ce,be,we,Re);else if(we==="object"){if(typeof K.then=="function")return G(ye(K),ce,be,xe,Re);throw ce=String(K),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return Se}function W(K,ce,be){if(K==null)return K;var xe=[],Re=0;return G(K,xe,"","",function(we){return ce.call(be,we,Re++)}),xe}function te(K){if(K._status===-1){var ce=K._result;ce=ce(),ce.then(function(be){(K._status===0||K._status===-1)&&(K._status=1,K._result=be)},function(be){(K._status===0||K._status===-1)&&(K._status=2,K._result=be)}),K._status===-1&&(K._status=0,K._result=ce)}if(K._status===1)return K._result.default;throw K._result}var he=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)},oe={map:W,forEach:function(K,ce,be){W(K,function(){ce.apply(this,arguments)},be)},count:function(K){var ce=0;return W(K,function(){ce++}),ce},toArray:function(K){return W(K,function(ce){return ce})||[]},only:function(K){if(!q(K))throw Error("React.Children.only expected to receive a single React element child.");return K}};return ot.Activity=v,ot.Children=oe,ot.Component=N,ot.Fragment=n,ot.Profiler=s,ot.PureComponent=O,ot.StrictMode=i,ot.Suspense=d,ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,ot.__COMPILER_RUNTIME={__proto__:null,c:function(K){return z.H.useMemoCache(K)}},ot.cache=function(K){return function(){return K.apply(null,arguments)}},ot.cacheSignal=function(){return null},ot.cloneElement=function(K,ce,be){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var xe=E({},K.props),Re=K.key;if(ce!=null)for(we in ce.key!==void 0&&(Re=""+ce.key),ce)!I.call(ce,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ce.ref===void 0||(xe[we]=ce[we]);var we=arguments.length-2;if(we===1)xe.children=be;else if(1<we){for(var Se=Array(we),Le=0;Le<we;Le++)Se[Le]=arguments[Le+2];xe.children=Se}return $(K.type,Re,xe)},ot.createContext=function(K){return K={$$typeof:l,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:o,_context:K},K},ot.createElement=function(K,ce,be){var xe,Re={},we=null;if(ce!=null)for(xe in ce.key!==void 0&&(we=""+ce.key),ce)I.call(ce,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(Re[xe]=ce[xe]);var Se=arguments.length-2;if(Se===1)Re.children=be;else if(1<Se){for(var Le=Array(Se),Me=0;Me<Se;Me++)Le[Me]=arguments[Me+2];Re.children=Le}if(K&&K.defaultProps)for(xe in Se=K.defaultProps,Se)Re[xe]===void 0&&(Re[xe]=Se[xe]);return $(K,we,Re)},ot.createRef=function(){return{current:null}},ot.forwardRef=function(K){return{$$typeof:c,render:K}},ot.isValidElement=q,ot.lazy=function(K){return{$$typeof:g,_payload:{_status:-1,_result:K},_init:te}},ot.memo=function(K,ce){return{$$typeof:h,type:K,compare:ce===void 0?null:ce}},ot.startTransition=function(K){var ce=z.T,be={};z.T=be;try{var xe=K(),Re=z.S;Re!==null&&Re(be,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(U,he)}catch(we){he(we)}finally{ce!==null&&be.types!==null&&(ce.types=be.types),z.T=ce}},ot.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},ot.use=function(K){return z.H.use(K)},ot.useActionState=function(K,ce,be){return z.H.useActionState(K,ce,be)},ot.useCallback=function(K,ce){return z.H.useCallback(K,ce)},ot.useContext=function(K){return z.H.useContext(K)},ot.useDebugValue=function(){},ot.useDeferredValue=function(K,ce){return z.H.useDeferredValue(K,ce)},ot.useEffect=function(K,ce){return z.H.useEffect(K,ce)},ot.useEffectEvent=function(K){return z.H.useEffectEvent(K)},ot.useId=function(){return z.H.useId()},ot.useImperativeHandle=function(K,ce,be){return z.H.useImperativeHandle(K,ce,be)},ot.useInsertionEffect=function(K,ce){return z.H.useInsertionEffect(K,ce)},ot.useLayoutEffect=function(K,ce){return z.H.useLayoutEffect(K,ce)},ot.useMemo=function(K,ce){return z.H.useMemo(K,ce)},ot.useOptimistic=function(K,ce){return z.H.useOptimistic(K,ce)},ot.useReducer=function(K,ce,be){return z.H.useReducer(K,ce,be)},ot.useRef=function(K){return z.H.useRef(K)},ot.useState=function(K){return z.H.useState(K)},ot.useSyncExternalStore=function(K,ce,be){return z.H.useSyncExternalStore(K,ce,be)},ot.useTransition=function(){return z.H.useTransition()},ot.version="19.2.4",ot}var YE;function Gf(){return YE||(YE=1,tb.exports=pz()),tb.exports}var x=Gf();const Nt=$0(x),H0=dz({__proto__:null,default:Nt},[x]);var nb={exports:{}},Bd={},ib={exports:{}},sb={};var ZE;function mz(){return ZE||(ZE=1,(function(e){function t(G,W){var te=G.length;G.push(W);e:for(;0<te;){var he=te-1>>>1,oe=G[he];if(0<s(oe,W))G[he]=W,G[te]=oe,te=he;else break e}}function n(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var W=G[0],te=G.pop();if(te!==W){G[0]=te;e:for(var he=0,oe=G.length,K=oe>>>1;he<K;){var ce=2*(he+1)-1,be=G[ce],xe=ce+1,Re=G[xe];if(0>s(be,te))xe<oe&&0>s(Re,be)?(G[he]=Re,G[xe]=te,he=xe):(G[he]=be,G[ce]=te,he=ce);else if(xe<oe&&0>s(Re,te))G[he]=Re,G[xe]=te,he=xe;else break e}}return W}function s(G,W){var te=G.sortIndex-W.sortIndex;return te!==0?te:G.id-W.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],h=[],g=1,v=null,b=3,_=!1,C=!1,E=!1,R=!1,N=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function M(G){for(var W=n(h);W!==null;){if(W.callback===null)i(h);else if(W.startTime<=G)i(h),W.sortIndex=W.expirationTime,t(d,W);else break;W=n(h)}}function j(G){if(E=!1,M(G),!C)if(n(d)!==null)C=!0,U||(U=!0,X());else{var W=n(h);W!==null&&ye(j,W.startTime-G)}}var U=!1,z=-1,I=5,$=-1;function Z(){return R?!0:!(e.unstable_now()-$<I)}function q(){if(R=!1,U){var G=e.unstable_now();$=G;var W=!0;try{e:{C=!1,E&&(E=!1,k(z),z=-1),_=!0;var te=b;try{t:{for(M(G),v=n(d);v!==null&&!(v.expirationTime>G&&Z());){var he=v.callback;if(typeof he=="function"){v.callback=null,b=v.priorityLevel;var oe=he(v.expirationTime<=G);if(G=e.unstable_now(),typeof oe=="function"){v.callback=oe,M(G),W=!0;break t}v===n(d)&&i(d),M(G)}else i(d);v=n(d)}if(v!==null)W=!0;else{var K=n(h);K!==null&&ye(j,K.startTime-G),W=!1}}break e}finally{v=null,b=te,_=!1}W=void 0}}finally{W?X():U=!1}}}var X;if(typeof O=="function")X=function(){O(q)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,re=ne.port2;ne.port1.onmessage=q,X=function(){re.postMessage(null)}}else X=function(){N(q,0)};function ye(G,W){z=N(function(){G(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(G){switch(b){case 1:case 2:case 3:var W=3;break;default:W=b}var te=b;b=W;try{return G()}finally{b=te}},e.unstable_requestPaint=function(){R=!0},e.unstable_runWithPriority=function(G,W){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var te=b;b=G;try{return W()}finally{b=te}},e.unstable_scheduleCallback=function(G,W,te){var he=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?he+te:he):te=he,G){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=te+oe,G={id:g++,callback:W,priorityLevel:G,startTime:te,expirationTime:oe,sortIndex:-1},te>he?(G.sortIndex=te,t(h,G),n(d)===null&&G===n(h)&&(E?(k(z),z=-1):E=!0,ye(j,te-he))):(G.sortIndex=oe,t(d,G),C||_||(C=!0,U||(U=!0,X()))),G},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(G){var W=b;return function(){var te=b;b=W;try{return G.apply(this,arguments)}finally{b=te}}}})(sb)),sb}var XE;function gz(){return XE||(XE=1,ib.exports=mz()),ib.exports}var rb={exports:{}},Si={};var QE;function vz(){if(QE)return Si;QE=1;var e=Gf();function t(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,h,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:d,containerInfo:h,implementation:g}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Si.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Si.createPortal=function(d,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return o(d,h,null,g)},Si.flushSync=function(d){var h=l.T,g=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=h,i.p=g,i.d.f()}},Si.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(d,h))},Si.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Si.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var g=h.as,v=c(g,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?i.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:_}):g==="script"&&i.d.X(d,{crossOrigin:v,integrity:b,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Si.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=c(h.as,h.crossOrigin);i.d.M(d,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(d)},Si.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,v=c(g,h.crossOrigin);i.d.L(d,g,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Si.preloadModule=function(d,h){if(typeof d=="string")if(h){var g=c(h.as,h.crossOrigin);i.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(d)},Si.requestFormReset=function(d){i.d.r(d)},Si.unstable_batchedUpdates=function(d,h){return d(h)},Si.useFormState=function(d,h,g){return l.H.useFormState(d,h,g)},Si.useFormStatus=function(){return l.H.useHostTransitionStatus()},Si.version="19.2.4",Si}var JE;function Rk(){if(JE)return rb.exports;JE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),rb.exports=vz(),rb.exports}var eA;function yz(){if(eA)return Bd;eA=1;var e=gz(),t=Gf(),n=Rk();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)a+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,f=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(f=a.return),r=a.return;while(r)}return a.tag===3?f:null}function l(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function c(r){if(r.tag===31){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(i(188))}function h(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var f=r,m=a;;){var S=f.return;if(S===null)break;var A=S.alternate;if(A===null){if(m=S.return,m!==null){f=m;continue}break}if(S.child===A.child){for(A=S.child;A;){if(A===f)return d(S),r;if(A===m)return d(S),a;A=A.sibling}throw Error(i(188))}if(f.return!==m.return)f=S,m=A;else{for(var D=!1,V=S.child;V;){if(V===f){D=!0,f=S,m=A;break}if(V===m){D=!0,m=S,f=A;break}V=V.sibling}if(!D){for(V=A.child;V;){if(V===f){D=!0,f=A,m=S;break}if(V===m){D=!0,m=A,f=S;break}V=V.sibling}if(!D)throw Error(i(189))}}if(f.alternate!==m)throw Error(i(190))}if(f.tag!==3)throw Error(i(188));return f.stateNode.current===f?r:a}function g(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=g(r),a!==null)return a;r=r.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),O=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function X(r){return r===null||typeof r!="object"?null:(r=q&&r[q]||r["@@iterator"],typeof r=="function"?r:null)}var ne=Symbol.for("react.client.reference");function re(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===ne?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case N:return"Profiler";case R:return"StrictMode";case j:return"Suspense";case U:return"SuspenseList";case $:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case O:return r.displayName||"Context";case k:return(r._context.displayName||"Context")+".Consumer";case M:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case z:return a=r.displayName||null,a!==null?a:re(r.type)||"Memo";case I:a=r._payload,r=r._init;try{return re(r(a))}catch{}}return null}var ye=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},he=[],oe=-1;function K(r){return{current:r}}function ce(r){0>oe||(r.current=he[oe],he[oe]=null,oe--)}function be(r,a){oe++,he[oe]=r.current,r.current=a}var xe=K(null),Re=K(null),we=K(null),Se=K(null);function Le(r,a){switch(be(we,a),be(Re,r),be(xe,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?mE(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=mE(a),r=gE(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ce(xe),be(xe,r)}function Me(){ce(xe),ce(Re),ce(we)}function De(r){r.memoizedState!==null&&be(Se,r);var a=xe.current,f=gE(a,r.type);a!==f&&(be(Re,r),be(xe,f))}function Ye(r){Re.current===r&&(ce(xe),ce(Re)),Se.current===r&&(ce(Se),Dd._currentValue=te)}var Ze,St;function vt(r){if(Ze===void 0)try{throw Error()}catch(f){var a=f.stack.trim().match(/\n( *(at )?)/);Ze=a&&a[1]||"",St=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ze+r+St}var It=!1;function dn(r,a){if(!r||It)return"";It=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(a){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(ve){var me=ve}Reflect.construct(r,[],Te)}else{try{Te.call()}catch(ve){me=ve}r.call(Te.prototype)}}else{try{throw Error()}catch(ve){me=ve}(Te=r())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(ve){if(ve&&me&&typeof ve.stack=="string")return[ve.stack,me.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=m.DetermineComponentFrameRoot(),D=A[0],V=A[1];if(D&&V){var ee=D.split(`
`),fe=V.split(`
`);for(S=m=0;m<ee.length&&!ee[m].includes("DetermineComponentFrameRoot");)m++;for(;S<fe.length&&!fe[S].includes("DetermineComponentFrameRoot");)S++;if(m===ee.length||S===fe.length)for(m=ee.length-1,S=fe.length-1;1<=m&&0<=S&&ee[m]!==fe[S];)S--;for(;1<=m&&0<=S;m--,S--)if(ee[m]!==fe[S]){if(m!==1||S!==1)do if(m--,S--,0>S||ee[m]!==fe[S]){var _e=`
`+ee[m].replace(" at new "," at ");return r.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",r.displayName)),_e}while(1<=m&&0<=S);break}}}finally{It=!1,Error.prepareStackTrace=f}return(f=r?r.displayName||r.name:"")?vt(f):""}function fn(r,a){switch(r.tag){case 26:case 27:case 5:return vt(r.type);case 16:return vt("Lazy");case 13:return r.child!==a&&a!==null?vt("Suspense Fallback"):vt("Suspense");case 19:return vt("SuspenseList");case 0:case 15:return dn(r.type,!1);case 11:return dn(r.type.render,!1);case 1:return dn(r.type,!0);case 31:return vt("Activity");default:return""}}function Ln(r){try{var a="",f=null;do a+=fn(r,f),f=r,r=r.return;while(r);return a}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var _n=Object.prototype.hasOwnProperty,wn=e.unstable_scheduleCallback,Kn=e.unstable_cancelCallback,Ai=e.unstable_shouldYield,Es=e.unstable_requestPaint,sn=e.unstable_now,_r=e.unstable_getCurrentPriorityLevel,yt=e.unstable_ImmediatePriority,Et=e.unstable_UserBlockingPriority,zt=e.unstable_NormalPriority,Ti=e.unstable_LowPriority,qs=e.unstable_IdlePriority,vi=e.log,Jr=e.unstable_setDisableYieldValue,es=null,rn=null;function si(r){if(typeof vi=="function"&&Jr(r),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(es,r)}catch{}}var En=Math.clz32?Math.clz32:$a,ts=Math.log,eo=Math.LN2;function $a(r){return r>>>=0,r===0?32:31-(ts(r)/eo|0)|0}var qn=256,Ws=262144,Yt=4194304;function Zt(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function hn(r,a,f){var m=r.pendingLanes;if(m===0)return 0;var S=0,A=r.suspendedLanes,D=r.pingedLanes;r=r.warmLanes;var V=m&134217727;return V!==0?(m=V&~A,m!==0?S=Zt(m):(D&=V,D!==0?S=Zt(D):f||(f=V&~r,f!==0&&(S=Zt(f))))):(V=m&~A,V!==0?S=Zt(V):D!==0?S=Zt(D):f||(f=m&~r,f!==0&&(S=Zt(f)))),S===0?0:a!==0&&a!==S&&(a&A)===0&&(A=S&-S,f=a&-a,A>=f||A===32&&(f&4194048)!==0)?a:S}function Wn(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Yn(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function An(){var r=Yt;return Yt<<=1,(Yt&62914560)===0&&(Yt=4194304),r}function Zn(r){for(var a=[],f=0;31>f;f++)a.push(r);return a}function Xn(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function on(r,a,f,m,S,A){var D=r.pendingLanes;r.pendingLanes=f,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=f,r.entangledLanes&=f,r.errorRecoveryDisabledLanes&=f,r.shellSuspendCounter=0;var V=r.entanglements,ee=r.expirationTimes,fe=r.hiddenUpdates;for(f=D&~f;0<f;){var _e=31-En(f),Te=1<<_e;V[_e]=0,ee[_e]=-1;var me=fe[_e];if(me!==null)for(fe[_e]=null,_e=0;_e<me.length;_e++){var ve=me[_e];ve!==null&&(ve.lane&=-536870913)}f&=~Te}m!==0&&Ri(r,m,0),A!==0&&S===0&&r.tag!==0&&(r.suspendedLanes|=A&~(D&~a))}function Ri(r,a,f){r.pendingLanes|=a,r.suspendedLanes&=~a;var m=31-En(a);r.entangledLanes|=a,r.entanglements[m]=r.entanglements[m]|1073741824|f&261930}function ri(r,a){var f=r.entangledLanes|=a;for(r=r.entanglements;f;){var m=31-En(f),S=1<<m;S&a|r[m]&a&&(r[m]|=a),f&=~S}}function yi(r,a){var f=a&-a;return f=(f&42)!==0?1:an(f),(f&(r.suspendedLanes|a))!==0?0:f}function an(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ie(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function bi(){var r=W.p;return r!==0?r:(r=window.event,r===void 0?32:BE(r.type))}function ns(r,a){var f=W.p;try{return W.p=r,a()}finally{W.p=f}}var oi=Math.random().toString(36).slice(2),pn="__reactFiber$"+oi,Tn="__reactProps$"+oi,Ys="__reactContainer$"+oi,As="__reactEvents$"+oi,sc="__reactListeners$"+oi,Gu="__reactHandles$"+oi,rc="__reactResources$"+oi,to="__reactMarker$"+oi;function Ha(r){delete r[pn],delete r[Tn],delete r[As],delete r[sc],delete r[Gu]}function Zs(r){var a=r[pn];if(a)return a;for(var f=r.parentNode;f;){if(a=f[Ys]||f[pn]){if(f=a.alternate,a.child!==null||f!==null&&f.child!==null)for(r=SE(r);r!==null;){if(f=r[pn])return f;r=SE(r)}return a}r=f,f=r.parentNode}return null}function wr(r){if(r=r[pn]||r[Ys]){var a=r.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return r}return null}function is(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function zi(r){var a=r[rc];return a||(a=r[rc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ln(r){r[to]=!0}var Xs=new Set,oc={};function Bi(r,a){Ui(r,a),Ui(r+"Capture",a)}function Ui(r,a){for(oc[r]=a,r=0;r<a.length;r++)Xs.add(a[r])}var no=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ga={},io={};function so(r){return _n.call(io,r)?!0:_n.call(Ga,r)?!1:no.test(r)?io[r]=!0:(Ga[r]=!0,!1)}function ft(r,a,f){if(so(a))if(f===null)r.removeAttribute(a);else{switch(typeof f){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var m=a.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+f)}}function F(r,a,f){if(f===null)r.removeAttribute(a);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+f)}}function J(r,a,f,m){if(m===null)r.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(f);return}r.setAttributeNS(a,f,""+m)}}function H(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function se(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ae(r,a,f){var m=Object.getOwnPropertyDescriptor(r.constructor.prototype,a);if(!r.hasOwnProperty(a)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var S=m.get,A=m.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return S.call(this)},set:function(D){f=""+D,A.call(this,D)}}),Object.defineProperty(r,a,{enumerable:m.enumerable}),{getValue:function(){return f},setValue:function(D){f=""+D},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Q(r){if(!r._valueTracker){var a=se(r)?"checked":"value";r._valueTracker=ae(r,a,""+r[a])}}function ge(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var f=a.getValue(),m="";return r&&(m=se(r)?r.checked?"true":"false":r.value),r=m,r!==f?(a.setValue(r),!0):!1}function ke(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Ne=/[\n"\\]/g;function Ee(r){return r.replace(Ne,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Oe(r,a,f,m,S,A,D,V){r.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.type=D:r.removeAttribute("type"),a!=null?D==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+H(a)):r.value!==""+H(a)&&(r.value=""+H(a)):D!=="submit"&&D!=="reset"||r.removeAttribute("value"),a!=null?Je(r,D,H(a)):f!=null?Je(r,D,H(f)):m!=null&&r.removeAttribute("value"),S==null&&A!=null&&(r.defaultChecked=!!A),S!=null&&(r.checked=S&&typeof S!="function"&&typeof S!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?r.name=""+H(V):r.removeAttribute("name")}function ze(r,a,f,m,S,A,D,V){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(r.type=A),a!=null||f!=null){if(!(A!=="submit"&&A!=="reset"||a!=null)){Q(r);return}f=f!=null?""+H(f):"",a=a!=null?""+H(a):f,V||a===r.value||(r.value=a),r.defaultValue=a}m=m??S,m=typeof m!="function"&&typeof m!="symbol"&&!!m,r.checked=V?r.checked:!!m,r.defaultChecked=!!m,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(r.name=D),Q(r)}function Je(r,a,f){a==="number"&&ke(r.ownerDocument)===r||r.defaultValue===""+f||(r.defaultValue=""+f)}function qe(r,a,f,m){if(r=r.options,a){a={};for(var S=0;S<f.length;S++)a["$"+f[S]]=!0;for(f=0;f<r.length;f++)S=a.hasOwnProperty("$"+r[f].value),r[f].selected!==S&&(r[f].selected=S),S&&m&&(r[f].defaultSelected=!0)}else{for(f=""+H(f),a=null,S=0;S<r.length;S++){if(r[S].value===f){r[S].selected=!0,m&&(r[S].defaultSelected=!0);return}a!==null||r[S].disabled||(a=r[S])}a!==null&&(a.selected=!0)}}function dt(r,a,f){if(a!=null&&(a=""+H(a),a!==r.value&&(r.value=a),f==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=f!=null?""+H(f):""}function Bt(r,a,f,m){if(a==null){if(m!=null){if(f!=null)throw Error(i(92));if(ye(m)){if(1<m.length)throw Error(i(93));m=m[0]}f=m}f==null&&(f=""),a=f}f=H(a),r.defaultValue=f,m=r.textContent,m===f&&m!==""&&m!==null&&(r.value=m),Q(r)}function Ct(r,a){if(a){var f=r.firstChild;if(f&&f===r.lastChild&&f.nodeType===3){f.nodeValue=a;return}}r.textContent=a}var Qn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fi(r,a,f){var m=a.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":m?r.setProperty(a,f):typeof f!="number"||f===0||Qn.has(a)?a==="float"?r.cssFloat=f:r[a]=(""+f).trim():r[a]=f+"px"}function Sr(r,a,f){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||a!=null&&a.hasOwnProperty(m)||(m.indexOf("--")===0?r.setProperty(m,""):m==="float"?r.cssFloat="":r[m]="");for(var S in a)m=a[S],a.hasOwnProperty(S)&&f[S]!==m&&Fi(r,S,m)}else for(var A in a)a.hasOwnProperty(A)&&Fi(r,A,a[A])}function ro(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ac=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Er(r){return ac.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function xi(){}var oo=null;function Ka(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Uo=null,tt=null;function ss(r){var a=wr(r);if(a&&(r=a.stateNode)){var f=r[Tn]||null;e:switch(r=a.stateNode,a.type){case"input":if(Oe(r,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),a=f.name,f.type==="radio"&&a!=null){for(f=r;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Ee(""+a)+'"][type="radio"]'),a=0;a<f.length;a++){var m=f[a];if(m!==r&&m.form===r.form){var S=m[Tn]||null;if(!S)throw Error(i(90));Oe(m,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(a=0;a<f.length;a++)m=f[a],m.form===r.form&&ge(m)}break e;case"textarea":dt(r,f.value,f.defaultValue);break e;case"select":a=f.value,a!=null&&qe(r,!!f.multiple,a,!1)}}}var jt=!1;function Ku(r,a,f){if(jt)return r(a,f);jt=!0;try{var m=r(a);return m}finally{if(jt=!1,(Uo!==null||tt!==null)&&(gp(),Uo&&(a=Uo,r=tt,tt=Uo=null,ss(a),r)))for(a=0;a<r.length;a++)ss(r[a])}}function ao(r,a){var f=r.stateNode;if(f===null)return null;var m=f[Tn]||null;if(m===null)return null;f=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break e;default:r=!1}if(r)return null;if(f&&typeof f!="function")throw Error(i(231,a,typeof f));return f}var rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qa=!1;if(rs)try{var os={};Object.defineProperty(os,"passive",{get:function(){qa=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{qa=!1}var Ts=null,lo=null,mn=null;function Ar(){if(mn)return mn;var r,a=lo,f=a.length,m,S="value"in Ts?Ts.value:Ts.textContent,A=S.length;for(r=0;r<f&&a[r]===S[r];r++);var D=f-r;for(m=1;m<=D&&a[f-m]===S[A-m];m++);return mn=S.slice(r,1<m?1-m:void 0)}function Wa(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Ya(){return!0}function _h(){return!1}function ai(r){function a(f,m,S,A,D){this._reactName=f,this._targetInst=S,this.type=m,this.nativeEvent=A,this.target=D,this.currentTarget=null;for(var V in r)r.hasOwnProperty(V)&&(f=r[V],this[V]=f?f(A):A[V]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Ya:_h,this.isPropagationStopped=_h,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Ya)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Ya)},persist:function(){},isPersistent:Ya}),a}var Qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lc=ai(Qs),Fo=v({},Qs,{view:0,detail:0}),bt=ai(Fo),qu,ki,Js,Za=v({},Fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ju,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Js&&(Js&&r.type==="mousemove"?(qu=r.screenX-Js.screenX,ki=r.screenY-Js.screenY):ki=qu=0,Js=r),qu)},movementY:function(r){return"movementY"in r?r.movementY:ki}}),wh=ai(Za),Wu=v({},Za,{dataTransfer:0}),uv=ai(Wu),Sh=v({},Fo,{relatedTarget:0}),Yu=ai(Sh),dv=v({},Qs,{animationName:0,elapsedTime:0,pseudoElement:0}),Zu=ai(dv),fv=v({},Qs,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Rs=ai(fv),hv=v({},Qs,{data:0}),Xu=ai(hv),Tr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qu(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Eh[r])?!!a[r]:!1}function Ju(){return Qu}var Ah=v({},Fo,{key:function(r){if(r.key){var a=Tr[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Wa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ch[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ju,charCode:function(r){return r.type==="keypress"?Wa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Wa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Th=ai(Ah),pv=v({},Za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rh=ai(pv),ed=v({},Fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ju}),mv=ai(ed),kh=v({},Qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nh=ai(kh),cc=v({},Za,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),co=ai(cc),gv=v({},Qs,{newState:0,oldState:0}),Xa=ai(gv),Vi=[9,13,27,32],uc=rs&&"CompositionEvent"in window,Vo=null;rs&&"documentMode"in document&&(Vo=document.documentMode);var vv=rs&&"TextEvent"in window&&!Vo,dc=rs&&(!uc||Vo&&8<Vo&&11>=Vo),fc=" ",Oh=!1;function Ph(r,a){switch(r){case"keyup":return Vi.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function td(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var $o=!1;function as(r,a){switch(r){case"compositionend":return td(a);case"keypress":return a.which!==32?null:(Oh=!0,fc);case"textInput":return r=a.data,r===fc&&Oh?null:r;default:return null}}function Ho(r,a){if($o)return r==="compositionend"||!uc&&Ph(r,a)?(r=Ar(),mn=lo=Ts=null,$o=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return dc&&a.locale!=="ko"?null:a.data;default:return null}}var yv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ks(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!yv[r.type]:a==="textarea"}function Mh(r,a,f,m){Uo?tt?tt.push(m):tt=[m]:Uo=m,a=Sp(a,"onChange"),0<a.length&&(f=new lc("onChange","change",null,f,m),r.push({event:f,listeners:a}))}var Ns=null,Qa=null;function Ja(r){cE(r,0)}function el(r){var a=is(r);if(ge(a))return r}function tl(r,a){if(r==="change")return a}var Dh=!1;if(rs){var Os;if(rs){var Go="oninput"in document;if(!Go){var Lh=document.createElement("div");Lh.setAttribute("oninput","return;"),Go=typeof Lh.oninput=="function"}Os=Go}else Os=!1;Dh=Os&&(!document.documentMode||9<document.documentMode)}function hc(){Ns&&(Ns.detachEvent("onpropertychange",jh),Qa=Ns=null)}function jh(r){if(r.propertyName==="value"&&el(Qa)){var a=[];Mh(a,Qa,r,Ka(r)),Ku(Ja,a)}}function er(r,a,f){r==="focusin"?(hc(),Ns=a,Qa=f,Ns.attachEvent("onpropertychange",jh)):r==="focusout"&&hc()}function bv(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return el(Qa)}function Ko(r,a){if(r==="click")return el(a)}function xv(r,a){if(r==="input"||r==="change")return el(a)}function tr(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Jn=typeof Object.is=="function"?Object.is:tr;function qo(r,a){if(Jn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var f=Object.keys(r),m=Object.keys(a);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var S=f[m];if(!_n.call(a,S)||!Jn(r[S],a[S]))return!1}return!0}function pc(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function nl(r,a){var f=pc(r);r=0;for(var m;f;){if(f.nodeType===3){if(m=r+f.textContent.length,r<=a&&m>=a)return{node:f,offset:a-r};r=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=pc(f)}}function mc(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?mc(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function il(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=ke(r.document);a instanceof r.HTMLIFrameElement;){try{var f=typeof a.contentWindow.location.href=="string"}catch{f=!1}if(f)r=a.contentWindow;else break;a=ke(r.document)}return a}function Rr(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var gc=rs&&"documentMode"in document&&11>=document.documentMode,kr=null,vc=null,sl=null,Wo=!1;function Ih(r,a,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Wo||kr==null||kr!==ke(m)||(m=kr,"selectionStart"in m&&Rr(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),sl&&qo(sl,m)||(sl=m,m=Sp(vc,"onSelect"),0<m.length&&(a=new lc("onSelect","select",null,a,f),r.push({event:a,listeners:m}),a.target=kr)))}function Nr(r,a){var f={};return f[r.toLowerCase()]=a.toLowerCase(),f["Webkit"+r]="webkit"+a,f["Moz"+r]="moz"+a,f}var Yo={animationend:Nr("Animation","AnimationEnd"),animationiteration:Nr("Animation","AnimationIteration"),animationstart:Nr("Animation","AnimationStart"),transitionrun:Nr("Transition","TransitionRun"),transitionstart:Nr("Transition","TransitionStart"),transitioncancel:Nr("Transition","TransitionCancel"),transitionend:Nr("Transition","TransitionEnd")},yc={},zh={};rs&&(zh=document.createElement("div").style,"AnimationEvent"in window||(delete Yo.animationend.animation,delete Yo.animationiteration.animation,delete Yo.animationstart.animation),"TransitionEvent"in window||delete Yo.transitionend.transition);function ei(r){if(yc[r])return yc[r];if(!Yo[r])return r;var a=Yo[r],f;for(f in a)if(a.hasOwnProperty(f)&&f in zh)return yc[r]=a[f];return r}var rl=ei("animationend"),Bh=ei("animationiteration"),ol=ei("animationstart"),_v=ei("transitionrun"),Uh=ei("transitionstart"),wv=ei("transitioncancel"),Zo=ei("transitionend"),Fh=new Map,Or="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Or.push("scrollEnd");function $i(r,a){Fh.set(r,a),Bi(a,[r])}var al=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Hi=[],_i=0,bc=0;function ll(){for(var r=_i,a=bc=_i=0;a<r;){var f=Hi[a];Hi[a++]=null;var m=Hi[a];Hi[a++]=null;var S=Hi[a];Hi[a++]=null;var A=Hi[a];if(Hi[a++]=null,m!==null&&S!==null){var D=m.pending;D===null?S.next=S:(S.next=D.next,D.next=S),m.pending=S}A!==0&&Xo(f,S,A)}}function Pr(r,a,f,m){Hi[_i++]=r,Hi[_i++]=a,Hi[_i++]=f,Hi[_i++]=m,bc|=m,r.lanes|=m,r=r.alternate,r!==null&&(r.lanes|=m)}function nd(r,a,f,m){return Pr(r,a,f,m),cl(r)}function Ps(r,a){return Pr(r,null,null,a),cl(r)}function Xo(r,a,f){r.lanes|=f;var m=r.alternate;m!==null&&(m.lanes|=f);for(var S=!1,A=r.return;A!==null;)A.childLanes|=f,m=A.alternate,m!==null&&(m.childLanes|=f),A.tag===22&&(r=A.stateNode,r===null||r._visibility&1||(S=!0)),r=A,A=A.return;return r.tag===3?(A=r.stateNode,S&&a!==null&&(S=31-En(f),r=A.hiddenUpdates,m=r[S],m===null?r[S]=[a]:m.push(a),a.lane=f|536870912),A):null}function cl(r){if(50<Td)throw Td=0,Cy=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var uo={};function Sv(r,a,f,m){this.tag=r,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wi(r,a,f,m){return new Sv(r,a,f,m)}function xc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ms(r,a){var f=r.alternate;return f===null?(f=wi(r.tag,a,r.key,r.mode),f.elementType=r.elementType,f.type=r.type,f.stateNode=r.stateNode,f.alternate=r,r.alternate=f):(f.pendingProps=a,f.type=r.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=r.flags&65011712,f.childLanes=r.childLanes,f.lanes=r.lanes,f.child=r.child,f.memoizedProps=r.memoizedProps,f.memoizedState=r.memoizedState,f.updateQueue=r.updateQueue,a=r.dependencies,f.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},f.sibling=r.sibling,f.index=r.index,f.ref=r.ref,f.refCleanup=r.refCleanup,f}function id(r,a){r.flags&=65011714;var f=r.alternate;return f===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=f.childLanes,r.lanes=f.lanes,r.child=f.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=f.memoizedProps,r.memoizedState=f.memoizedState,r.updateQueue=f.updateQueue,r.type=f.type,a=f.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function ul(r,a,f,m,S,A){var D=0;if(m=r,typeof r=="function")xc(r)&&(D=1);else if(typeof r=="string")D=J2(r,f,xe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case $:return r=wi(31,f,a,S),r.elementType=$,r.lanes=A,r;case E:return fo(f.children,S,A,a);case R:D=8,S|=24;break;case N:return r=wi(12,f,a,S|2),r.elementType=N,r.lanes=A,r;case j:return r=wi(13,f,a,S),r.elementType=j,r.lanes=A,r;case U:return r=wi(19,f,a,S),r.elementType=U,r.lanes=A,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case O:D=10;break e;case k:D=9;break e;case M:D=11;break e;case z:D=14;break e;case I:D=16,m=null;break e}D=29,f=Error(i(130,r===null?"null":typeof r,"")),m=null}return a=wi(D,f,a,S),a.elementType=r,a.type=m,a.lanes=A,a}function fo(r,a,f,m){return r=wi(7,r,m,a),r.lanes=f,r}function _c(r,a,f){return r=wi(6,r,null,a),r.lanes=f,r}function sd(r){var a=wi(18,null,null,0);return a.stateNode=r,a}function rd(r,a,f){return a=wi(4,r.children!==null?r.children:[],r.key,a),a.lanes=f,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var u=new WeakMap;function p(r,a){if(typeof r=="object"&&r!==null){var f=u.get(r);return f!==void 0?f:(a={value:r,source:a,stack:Ln(a)},u.set(r,a),a)}return{value:r,source:a,stack:Ln(a)}}var w=[],T=0,P=null,B=0,Y=[],ue=0,pe=null,Ae=1,Pe="";function Ge(r,a){w[T++]=B,w[T++]=P,P=r,B=a}function ct(r,a,f){Y[ue++]=Ae,Y[ue++]=Pe,Y[ue++]=pe,pe=r;var m=Ae;r=Pe;var S=32-En(m)-1;m&=~(1<<S),f+=1;var A=32-En(a)+S;if(30<A){var D=S-S%5;A=(m&(1<<D)-1).toString(32),m>>=D,S-=D,Ae=1<<32-En(a)+S|f<<S|m,Pe=A+r}else Ae=1<<A|f<<S|m,Pe=r}function jn(r){r.return!==null&&(Ge(r,1),ct(r,1,0))}function gn(r){for(;r===P;)P=w[--T],w[T]=null,B=w[--T],w[T]=null;for(;r===pe;)pe=Y[--ue],Y[ue]=null,Pe=Y[--ue],Y[ue]=null,Ae=Y[--ue],Y[ue]=null}function Ni(r,a){Y[ue++]=Ae,Y[ue++]=Pe,Y[ue++]=pe,Ae=a.id,Pe=a.overflow,pe=r}var At=null,Tt=null,pt=!1,Mr=null,Gi=!1,wc=Error(i(519));function Dr(r){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dl(p(a,r)),wc}function od(r){var a=r.stateNode,f=r.type,m=r.memoizedProps;switch(a[pn]=r,a[Tn]=m,f){case"dialog":gt("cancel",a),gt("close",a);break;case"iframe":case"object":case"embed":gt("load",a);break;case"video":case"audio":for(f=0;f<kd.length;f++)gt(kd[f],a);break;case"source":gt("error",a);break;case"img":case"image":case"link":gt("error",a),gt("load",a);break;case"details":gt("toggle",a);break;case"input":gt("invalid",a),ze(a,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":gt("invalid",a);break;case"textarea":gt("invalid",a),Bt(a,m.value,m.defaultValue,m.children)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||a.textContent===""+f||m.suppressHydrationWarning===!0||hE(a.textContent,f)?(m.popover!=null&&(gt("beforetoggle",a),gt("toggle",a)),m.onScroll!=null&&gt("scroll",a),m.onScrollEnd!=null&&gt("scrollend",a),m.onClick!=null&&(a.onclick=xi),a=!0):a=!1,a||Dr(r,!0)}function cn(r){for(At=r.return;At;)switch(At.tag){case 5:case 31:case 13:Gi=!1;return;case 27:case 3:Gi=!0;return;default:At=At.return}}function nr(r){if(r!==At)return!1;if(!pt)return cn(r),pt=!0,!1;var a=r.tag,f;if((f=a!==3&&a!==27)&&((f=a===5)&&(f=r.type,f=!(f!=="form"&&f!=="button")||By(r.type,r.memoizedProps)),f=!f),f&&Tt&&Dr(r),cn(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Tt=wE(r)}else if(a===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Tt=wE(r)}else a===27?(a=Tt,da(r.type)?(r=Hy,Hy=null,Tt=r):Tt=a):Tt=At?Ls(r.stateNode.nextSibling):null;return!0}function ho(){Tt=At=null,pt=!1}function ad(){var r=Mr;return r!==null&&(Yi===null?Yi=r:Yi.push.apply(Yi,r),Mr=null),r}function dl(r){Mr===null?Mr=[r]:Mr.push(r)}var fl=K(null),Lr=null,ir=null;function Qo(r,a,f){be(fl,a._currentValue),a._currentValue=f}function po(r){r._currentValue=fl.current,ce(fl)}function Cv(r,a,f){for(;r!==null;){var m=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),r===f)break;r=r.return}}function Ev(r,a,f,m){var S=r.child;for(S!==null&&(S.return=r);S!==null;){var A=S.dependencies;if(A!==null){var D=S.child;A=A.firstContext;e:for(;A!==null;){var V=A;A=S;for(var ee=0;ee<a.length;ee++)if(V.context===a[ee]){A.lanes|=f,V=A.alternate,V!==null&&(V.lanes|=f),Cv(A.return,f,r),m||(D=null);break e}A=V.next}}else if(S.tag===18){if(D=S.return,D===null)throw Error(i(341));D.lanes|=f,A=D.alternate,A!==null&&(A.lanes|=f),Cv(D,f,r),D=null}else D=S.child;if(D!==null)D.return=S;else for(D=S;D!==null;){if(D===r){D=null;break}if(S=D.sibling,S!==null){S.return=D.return,D=S;break}D=D.return}S=D}}function Sc(r,a,f,m){r=null;for(var S=a,A=!1;S!==null;){if(!A){if((S.flags&524288)!==0)A=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var D=S.alternate;if(D===null)throw Error(i(387));if(D=D.memoizedProps,D!==null){var V=S.type;Jn(S.pendingProps.value,D.value)||(r!==null?r.push(V):r=[V])}}else if(S===Se.current){if(D=S.alternate,D===null)throw Error(i(387));D.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(r!==null?r.push(Dd):r=[Dd])}S=S.return}r!==null&&Ev(a,r,f,m),a.flags|=262144}function Vh(r){for(r=r.firstContext;r!==null;){if(!Jn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function hl(r){Lr=r,ir=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function li(r){return Qw(Lr,r)}function $h(r,a){return Lr===null&&hl(r),Qw(r,a)}function Qw(r,a){var f=a._currentValue;if(a={context:a,memoizedValue:f,next:null},ir===null){if(r===null)throw Error(i(308));ir=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else ir=ir.next=a;return f}var YI=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(f,m){r.push(m)}};this.abort=function(){a.aborted=!0,r.forEach(function(f){return f()})}},ZI=e.unstable_scheduleCallback,XI=e.unstable_NormalPriority,Rn={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Av(){return{controller:new YI,data:new Map,refCount:0}}function ld(r){r.refCount--,r.refCount===0&&ZI(XI,function(){r.controller.abort()})}var cd=null,Tv=0,Cc=0,Ec=null;function QI(r,a){if(cd===null){var f=cd=[];Tv=0,Cc=Ny(),Ec={status:"pending",value:void 0,then:function(m){f.push(m)}}}return Tv++,a.then(Jw,Jw),a}function Jw(){if(--Tv===0&&cd!==null){Ec!==null&&(Ec.status="fulfilled");var r=cd;cd=null,Cc=0,Ec=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function JI(r,a){var f=[],m={status:"pending",value:null,reason:null,then:function(S){f.push(S)}};return r.then(function(){m.status="fulfilled",m.value=a;for(var S=0;S<f.length;S++)(0,f[S])(a)},function(S){for(m.status="rejected",m.reason=S,S=0;S<f.length;S++)(0,f[S])(void 0)}),m}var eS=G.S;G.S=function(r,a){IC=sn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&QI(r,a),eS!==null&&eS(r,a)};var pl=K(null);function Rv(){var r=pl.current;return r!==null?r:Wt.pooledCache}function Hh(r,a){a===null?be(pl,pl.current):be(pl,a.pool)}function tS(){var r=Rv();return r===null?null:{parent:Rn._currentValue,pool:r}}var Ac=Error(i(460)),kv=Error(i(474)),Gh=Error(i(542)),Kh={then:function(){}};function nS(r){return r=r.status,r==="fulfilled"||r==="rejected"}function iS(r,a,f){switch(f=r[f],f===void 0?r.push(a):f!==a&&(a.then(xi,xi),a=f),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,rS(r),r;default:if(typeof a.status=="string")a.then(xi,xi);else{if(r=Wt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(m){if(a.status==="pending"){var S=a;S.status="fulfilled",S.value=m}},function(m){if(a.status==="pending"){var S=a;S.status="rejected",S.reason=m}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,rS(r),r}throw gl=a,Ac}}function ml(r){try{var a=r._init;return a(r._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(gl=f,Ac):f}}var gl=null;function sS(){if(gl===null)throw Error(i(459));var r=gl;return gl=null,r}function rS(r){if(r===Ac||r===Gh)throw Error(i(483))}var Tc=null,ud=0;function qh(r){var a=ud;return ud+=1,Tc===null&&(Tc=[]),iS(Tc,r,a)}function dd(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Wh(r,a){throw a.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function oS(r){function a(le,ie){if(r){var de=le.deletions;de===null?(le.deletions=[ie],le.flags|=16):de.push(ie)}}function f(le,ie){if(!r)return null;for(;ie!==null;)a(le,ie),ie=ie.sibling;return null}function m(le){for(var ie=new Map;le!==null;)le.key!==null?ie.set(le.key,le):ie.set(le.index,le),le=le.sibling;return ie}function S(le,ie){return le=Ms(le,ie),le.index=0,le.sibling=null,le}function A(le,ie,de){return le.index=de,r?(de=le.alternate,de!==null?(de=de.index,de<ie?(le.flags|=67108866,ie):de):(le.flags|=67108866,ie)):(le.flags|=1048576,ie)}function D(le){return r&&le.alternate===null&&(le.flags|=67108866),le}function V(le,ie,de,Ce){return ie===null||ie.tag!==6?(ie=_c(de,le.mode,Ce),ie.return=le,ie):(ie=S(ie,de),ie.return=le,ie)}function ee(le,ie,de,Ce){var We=de.type;return We===E?_e(le,ie,de.props.children,Ce,de.key):ie!==null&&(ie.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===I&&ml(We)===ie.type)?(ie=S(ie,de.props),dd(ie,de),ie.return=le,ie):(ie=ul(de.type,de.key,de.props,null,le.mode,Ce),dd(ie,de),ie.return=le,ie)}function fe(le,ie,de,Ce){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==de.containerInfo||ie.stateNode.implementation!==de.implementation?(ie=rd(de,le.mode,Ce),ie.return=le,ie):(ie=S(ie,de.children||[]),ie.return=le,ie)}function _e(le,ie,de,Ce,We){return ie===null||ie.tag!==7?(ie=fo(de,le.mode,Ce,We),ie.return=le,ie):(ie=S(ie,de),ie.return=le,ie)}function Te(le,ie,de){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=_c(""+ie,le.mode,de),ie.return=le,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case _:return de=ul(ie.type,ie.key,ie.props,null,le.mode,de),dd(de,ie),de.return=le,de;case C:return ie=rd(ie,le.mode,de),ie.return=le,ie;case I:return ie=ml(ie),Te(le,ie,de)}if(ye(ie)||X(ie))return ie=fo(ie,le.mode,de,null),ie.return=le,ie;if(typeof ie.then=="function")return Te(le,qh(ie),de);if(ie.$$typeof===O)return Te(le,$h(le,ie),de);Wh(le,ie)}return null}function me(le,ie,de,Ce){var We=ie!==null?ie.key:null;if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return We!==null?null:V(le,ie,""+de,Ce);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case _:return de.key===We?ee(le,ie,de,Ce):null;case C:return de.key===We?fe(le,ie,de,Ce):null;case I:return de=ml(de),me(le,ie,de,Ce)}if(ye(de)||X(de))return We!==null?null:_e(le,ie,de,Ce,null);if(typeof de.then=="function")return me(le,ie,qh(de),Ce);if(de.$$typeof===O)return me(le,ie,$h(le,de),Ce);Wh(le,de)}return null}function ve(le,ie,de,Ce,We){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return le=le.get(de)||null,V(ie,le,""+Ce,We);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case _:return le=le.get(Ce.key===null?de:Ce.key)||null,ee(ie,le,Ce,We);case C:return le=le.get(Ce.key===null?de:Ce.key)||null,fe(ie,le,Ce,We);case I:return Ce=ml(Ce),ve(le,ie,de,Ce,We)}if(ye(Ce)||X(Ce))return le=le.get(de)||null,_e(ie,le,Ce,We,null);if(typeof Ce.then=="function")return ve(le,ie,de,qh(Ce),We);if(Ce.$$typeof===O)return ve(le,ie,de,$h(ie,Ce),We);Wh(ie,Ce)}return null}function Ue(le,ie,de,Ce){for(var We=null,Rt=null,He=ie,ut=ie=0,_t=null;He!==null&&ut<de.length;ut++){He.index>ut?(_t=He,He=null):_t=He.sibling;var kt=me(le,He,de[ut],Ce);if(kt===null){He===null&&(He=_t);break}r&&He&&kt.alternate===null&&a(le,He),ie=A(kt,ie,ut),Rt===null?We=kt:Rt.sibling=kt,Rt=kt,He=_t}if(ut===de.length)return f(le,He),pt&&Ge(le,ut),We;if(He===null){for(;ut<de.length;ut++)He=Te(le,de[ut],Ce),He!==null&&(ie=A(He,ie,ut),Rt===null?We=He:Rt.sibling=He,Rt=He);return pt&&Ge(le,ut),We}for(He=m(He);ut<de.length;ut++)_t=ve(He,le,ut,de[ut],Ce),_t!==null&&(r&&_t.alternate!==null&&He.delete(_t.key===null?ut:_t.key),ie=A(_t,ie,ut),Rt===null?We=_t:Rt.sibling=_t,Rt=_t);return r&&He.forEach(function(ga){return a(le,ga)}),pt&&Ge(le,ut),We}function Xe(le,ie,de,Ce){if(de==null)throw Error(i(151));for(var We=null,Rt=null,He=ie,ut=ie=0,_t=null,kt=de.next();He!==null&&!kt.done;ut++,kt=de.next()){He.index>ut?(_t=He,He=null):_t=He.sibling;var ga=me(le,He,kt.value,Ce);if(ga===null){He===null&&(He=_t);break}r&&He&&ga.alternate===null&&a(le,He),ie=A(ga,ie,ut),Rt===null?We=ga:Rt.sibling=ga,Rt=ga,He=_t}if(kt.done)return f(le,He),pt&&Ge(le,ut),We;if(He===null){for(;!kt.done;ut++,kt=de.next())kt=Te(le,kt.value,Ce),kt!==null&&(ie=A(kt,ie,ut),Rt===null?We=kt:Rt.sibling=kt,Rt=kt);return pt&&Ge(le,ut),We}for(He=m(He);!kt.done;ut++,kt=de.next())kt=ve(He,le,ut,kt.value,Ce),kt!==null&&(r&&kt.alternate!==null&&He.delete(kt.key===null?ut:kt.key),ie=A(kt,ie,ut),Rt===null?We=kt:Rt.sibling=kt,Rt=kt);return r&&He.forEach(function(uz){return a(le,uz)}),pt&&Ge(le,ut),We}function Kt(le,ie,de,Ce){if(typeof de=="object"&&de!==null&&de.type===E&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case _:e:{for(var We=de.key;ie!==null;){if(ie.key===We){if(We=de.type,We===E){if(ie.tag===7){f(le,ie.sibling),Ce=S(ie,de.props.children),Ce.return=le,le=Ce;break e}}else if(ie.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===I&&ml(We)===ie.type){f(le,ie.sibling),Ce=S(ie,de.props),dd(Ce,de),Ce.return=le,le=Ce;break e}f(le,ie);break}else a(le,ie);ie=ie.sibling}de.type===E?(Ce=fo(de.props.children,le.mode,Ce,de.key),Ce.return=le,le=Ce):(Ce=ul(de.type,de.key,de.props,null,le.mode,Ce),dd(Ce,de),Ce.return=le,le=Ce)}return D(le);case C:e:{for(We=de.key;ie!==null;){if(ie.key===We)if(ie.tag===4&&ie.stateNode.containerInfo===de.containerInfo&&ie.stateNode.implementation===de.implementation){f(le,ie.sibling),Ce=S(ie,de.children||[]),Ce.return=le,le=Ce;break e}else{f(le,ie);break}else a(le,ie);ie=ie.sibling}Ce=rd(de,le.mode,Ce),Ce.return=le,le=Ce}return D(le);case I:return de=ml(de),Kt(le,ie,de,Ce)}if(ye(de))return Ue(le,ie,de,Ce);if(X(de)){if(We=X(de),typeof We!="function")throw Error(i(150));return de=We.call(de),Xe(le,ie,de,Ce)}if(typeof de.then=="function")return Kt(le,ie,qh(de),Ce);if(de.$$typeof===O)return Kt(le,ie,$h(le,de),Ce);Wh(le,de)}return typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint"?(de=""+de,ie!==null&&ie.tag===6?(f(le,ie.sibling),Ce=S(ie,de),Ce.return=le,le=Ce):(f(le,ie),Ce=_c(de,le.mode,Ce),Ce.return=le,le=Ce),D(le)):f(le,ie)}return function(le,ie,de,Ce){try{ud=0;var We=Kt(le,ie,de,Ce);return Tc=null,We}catch(He){if(He===Ac||He===Gh)throw He;var Rt=wi(29,He,null,le.mode);return Rt.lanes=Ce,Rt.return=le,Rt}}}var vl=oS(!0),aS=oS(!1),Jo=!1;function Nv(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ov(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ea(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ta(r,a,f){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,(Dt&2)!==0){var S=m.pending;return S===null?a.next=a:(a.next=S.next,S.next=a),m.pending=a,a=cl(r),Xo(r,null,f),a}return Pr(r,m,a,f),cl(r)}function fd(r,a,f){if(a=a.updateQueue,a!==null&&(a=a.shared,(f&4194048)!==0)){var m=a.lanes;m&=r.pendingLanes,f|=m,a.lanes=f,ri(r,f)}}function Pv(r,a){var f=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var S=null,A=null;if(f=f.firstBaseUpdate,f!==null){do{var D={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};A===null?S=A=D:A=A.next=D,f=f.next}while(f!==null);A===null?S=A=a:A=A.next=a}else S=A=a;f={baseState:m.baseState,firstBaseUpdate:S,lastBaseUpdate:A,shared:m.shared,callbacks:m.callbacks},r.updateQueue=f;return}r=f.lastBaseUpdate,r===null?f.firstBaseUpdate=a:r.next=a,f.lastBaseUpdate=a}var Mv=!1;function hd(){if(Mv){var r=Ec;if(r!==null)throw r}}function pd(r,a,f,m){Mv=!1;var S=r.updateQueue;Jo=!1;var A=S.firstBaseUpdate,D=S.lastBaseUpdate,V=S.shared.pending;if(V!==null){S.shared.pending=null;var ee=V,fe=ee.next;ee.next=null,D===null?A=fe:D.next=fe,D=ee;var _e=r.alternate;_e!==null&&(_e=_e.updateQueue,V=_e.lastBaseUpdate,V!==D&&(V===null?_e.firstBaseUpdate=fe:V.next=fe,_e.lastBaseUpdate=ee))}if(A!==null){var Te=S.baseState;D=0,_e=fe=ee=null,V=A;do{var me=V.lane&-536870913,ve=me!==V.lane;if(ve?(xt&me)===me:(m&me)===me){me!==0&&me===Cc&&(Mv=!0),_e!==null&&(_e=_e.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var Ue=r,Xe=V;me=a;var Kt=f;switch(Xe.tag){case 1:if(Ue=Xe.payload,typeof Ue=="function"){Te=Ue.call(Kt,Te,me);break e}Te=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Xe.payload,me=typeof Ue=="function"?Ue.call(Kt,Te,me):Ue,me==null)break e;Te=v({},Te,me);break e;case 2:Jo=!0}}me=V.callback,me!==null&&(r.flags|=64,ve&&(r.flags|=8192),ve=S.callbacks,ve===null?S.callbacks=[me]:ve.push(me))}else ve={lane:me,tag:V.tag,payload:V.payload,callback:V.callback,next:null},_e===null?(fe=_e=ve,ee=Te):_e=_e.next=ve,D|=me;if(V=V.next,V===null){if(V=S.shared.pending,V===null)break;ve=V,V=ve.next,ve.next=null,S.lastBaseUpdate=ve,S.shared.pending=null}}while(!0);_e===null&&(ee=Te),S.baseState=ee,S.firstBaseUpdate=fe,S.lastBaseUpdate=_e,A===null&&(S.shared.lanes=0),oa|=D,r.lanes=D,r.memoizedState=Te}}function lS(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function cS(r,a){var f=r.callbacks;if(f!==null)for(r.callbacks=null,r=0;r<f.length;r++)lS(f[r],a)}var Rc=K(null),Yh=K(0);function uS(r,a){r=So,be(Yh,r),be(Rc,a),So=r|a.baseLanes}function Dv(){be(Yh,So),be(Rc,Rc.current)}function Lv(){So=Yh.current,ce(Rc),ce(Yh)}var ls=K(null),Ds=null;function na(r){var a=r.alternate;be(Sn,Sn.current&1),be(ls,r),Ds===null&&(a===null||Rc.current!==null||a.memoizedState!==null)&&(Ds=r)}function jv(r){be(Sn,Sn.current),be(ls,r),Ds===null&&(Ds=r)}function dS(r){r.tag===22?(be(Sn,Sn.current),be(ls,r),Ds===null&&(Ds=r)):ia()}function ia(){be(Sn,Sn.current),be(ls,ls.current)}function cs(r){ce(ls),Ds===r&&(Ds=null),ce(Sn)}var Sn=K(0);function Zh(r){for(var a=r;a!==null;){if(a.tag===13){var f=a.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||Vy(f)||$y(f)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var mo=0,lt=null,Ht=null,kn=null,Xh=!1,kc=!1,yl=!1,Qh=0,md=0,Nc=null,e2=0;function vn(){throw Error(i(321))}function Iv(r,a){if(a===null)return!1;for(var f=0;f<a.length&&f<r.length;f++)if(!Jn(r[f],a[f]))return!1;return!0}function zv(r,a,f,m,S,A){return mo=A,lt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,G.H=r===null||r.memoizedState===null?WS:Jv,yl=!1,A=f(m,S),yl=!1,kc&&(A=hS(a,f,m,S)),fS(r),A}function fS(r){G.H=yd;var a=Ht!==null&&Ht.next!==null;if(mo=0,kn=Ht=lt=null,Xh=!1,md=0,Nc=null,a)throw Error(i(300));r===null||Nn||(r=r.dependencies,r!==null&&Vh(r)&&(Nn=!0))}function hS(r,a,f,m){lt=r;var S=0;do{if(kc&&(Nc=null),md=0,kc=!1,25<=S)throw Error(i(301));if(S+=1,kn=Ht=null,r.updateQueue!=null){var A=r.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}G.H=YS,A=a(f,m)}while(kc);return A}function t2(){var r=G.H,a=r.useState()[0];return a=typeof a.then=="function"?gd(a):a,r=r.useState()[0],(Ht!==null?Ht.memoizedState:null)!==r&&(lt.flags|=1024),a}function Bv(){var r=Qh!==0;return Qh=0,r}function Uv(r,a,f){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~f}function Fv(r){if(Xh){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Xh=!1}mo=0,kn=Ht=lt=null,kc=!1,md=Qh=0,Nc=null}function Oi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?lt.memoizedState=kn=r:kn=kn.next=r,kn}function Cn(){if(Ht===null){var r=lt.alternate;r=r!==null?r.memoizedState:null}else r=Ht.next;var a=kn===null?lt.memoizedState:kn.next;if(a!==null)kn=a,Ht=r;else{if(r===null)throw lt.alternate===null?Error(i(467)):Error(i(310));Ht=r,r={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},kn===null?lt.memoizedState=kn=r:kn=kn.next=r}return kn}function Jh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gd(r){var a=md;return md+=1,Nc===null&&(Nc=[]),r=iS(Nc,r,a),a=lt,(kn===null?a.memoizedState:kn.next)===null&&(a=a.alternate,G.H=a===null||a.memoizedState===null?WS:Jv),r}function ep(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return gd(r);if(r.$$typeof===O)return li(r)}throw Error(i(438,String(r)))}function Vv(r){var a=null,f=lt.updateQueue;if(f!==null&&(a=f.memoCache),a==null){var m=lt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(a={data:m.data.map(function(S){return S.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),f===null&&(f=Jh(),lt.updateQueue=f),f.memoCache=a,f=a.data[a.index],f===void 0)for(f=a.data[a.index]=Array(r),m=0;m<r;m++)f[m]=Z;return a.index++,f}function go(r,a){return typeof a=="function"?a(r):a}function tp(r){var a=Cn();return $v(a,Ht,r)}function $v(r,a,f){var m=r.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=f;var S=r.baseQueue,A=m.pending;if(A!==null){if(S!==null){var D=S.next;S.next=A.next,A.next=D}a.baseQueue=S=A,m.pending=null}if(A=r.baseState,S===null)r.memoizedState=A;else{a=S.next;var V=D=null,ee=null,fe=a,_e=!1;do{var Te=fe.lane&-536870913;if(Te!==fe.lane?(xt&Te)===Te:(mo&Te)===Te){var me=fe.revertLane;if(me===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,gesture:null,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),Te===Cc&&(_e=!0);else if((mo&me)===me){fe=fe.next,me===Cc&&(_e=!0);continue}else Te={lane:0,revertLane:fe.revertLane,gesture:null,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},ee===null?(V=ee=Te,D=A):ee=ee.next=Te,lt.lanes|=me,oa|=me;Te=fe.action,yl&&f(A,Te),A=fe.hasEagerState?fe.eagerState:f(A,Te)}else me={lane:Te,revertLane:fe.revertLane,gesture:fe.gesture,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},ee===null?(V=ee=me,D=A):ee=ee.next=me,lt.lanes|=Te,oa|=Te;fe=fe.next}while(fe!==null&&fe!==a);if(ee===null?D=A:ee.next=V,!Jn(A,r.memoizedState)&&(Nn=!0,_e&&(f=Ec,f!==null)))throw f;r.memoizedState=A,r.baseState=D,r.baseQueue=ee,m.lastRenderedState=A}return S===null&&(m.lanes=0),[r.memoizedState,m.dispatch]}function Hv(r){var a=Cn(),f=a.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=r;var m=f.dispatch,S=f.pending,A=a.memoizedState;if(S!==null){f.pending=null;var D=S=S.next;do A=r(A,D.action),D=D.next;while(D!==S);Jn(A,a.memoizedState)||(Nn=!0),a.memoizedState=A,a.baseQueue===null&&(a.baseState=A),f.lastRenderedState=A}return[A,m]}function pS(r,a,f){var m=lt,S=Cn(),A=pt;if(A){if(f===void 0)throw Error(i(407));f=f()}else f=a();var D=!Jn((Ht||S).memoizedState,f);if(D&&(S.memoizedState=f,Nn=!0),S=S.queue,qv(vS.bind(null,m,S,r),[r]),S.getSnapshot!==a||D||kn!==null&&kn.memoizedState.tag&1){if(m.flags|=2048,Oc(9,{destroy:void 0},gS.bind(null,m,S,f,a),null),Wt===null)throw Error(i(349));A||(mo&127)!==0||mS(m,a,f)}return f}function mS(r,a,f){r.flags|=16384,r={getSnapshot:a,value:f},a=lt.updateQueue,a===null?(a=Jh(),lt.updateQueue=a,a.stores=[r]):(f=a.stores,f===null?a.stores=[r]:f.push(r))}function gS(r,a,f,m){a.value=f,a.getSnapshot=m,yS(a)&&bS(r)}function vS(r,a,f){return f(function(){yS(a)&&bS(r)})}function yS(r){var a=r.getSnapshot;r=r.value;try{var f=a();return!Jn(r,f)}catch{return!0}}function bS(r){var a=Ps(r,2);a!==null&&Zi(a,r,2)}function Gv(r){var a=Oi();if(typeof r=="function"){var f=r;if(r=f(),yl){si(!0);try{f()}finally{si(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:r},a}function xS(r,a,f,m){return r.baseState=f,$v(r,Ht,typeof m=="function"?m:go)}function n2(r,a,f,m,S){if(sp(r))throw Error(i(485));if(r=a.action,r!==null){var A={payload:S,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){A.listeners.push(D)}};G.T!==null?f(!0):A.isTransition=!1,m(A),f=a.pending,f===null?(A.next=a.pending=A,_S(a,A)):(A.next=f.next,a.pending=f.next=A)}}function _S(r,a){var f=a.action,m=a.payload,S=r.state;if(a.isTransition){var A=G.T,D={};G.T=D;try{var V=f(S,m),ee=G.S;ee!==null&&ee(D,V),wS(r,a,V)}catch(fe){Kv(r,a,fe)}finally{A!==null&&D.types!==null&&(A.types=D.types),G.T=A}}else try{A=f(S,m),wS(r,a,A)}catch(fe){Kv(r,a,fe)}}function wS(r,a,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){SS(r,a,m)},function(m){return Kv(r,a,m)}):SS(r,a,f)}function SS(r,a,f){a.status="fulfilled",a.value=f,CS(a),r.state=f,a=r.pending,a!==null&&(f=a.next,f===a?r.pending=null:(f=f.next,a.next=f,_S(r,f)))}function Kv(r,a,f){var m=r.pending;if(r.pending=null,m!==null){m=m.next;do a.status="rejected",a.reason=f,CS(a),a=a.next;while(a!==m)}r.action=null}function CS(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function ES(r,a){return a}function AS(r,a){if(pt){var f=Wt.formState;if(f!==null){e:{var m=lt;if(pt){if(Tt){t:{for(var S=Tt,A=Gi;S.nodeType!==8;){if(!A){S=null;break t}if(S=Ls(S.nextSibling),S===null){S=null;break t}}A=S.data,S=A==="F!"||A==="F"?S:null}if(S){Tt=Ls(S.nextSibling),m=S.data==="F!";break e}}Dr(m)}m=!1}m&&(a=f[0])}}return f=Oi(),f.memoizedState=f.baseState=a,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ES,lastRenderedState:a},f.queue=m,f=GS.bind(null,lt,m),m.dispatch=f,m=Gv(!1),A=Qv.bind(null,lt,!1,m.queue),m=Oi(),S={state:a,dispatch:null,action:r,pending:null},m.queue=S,f=n2.bind(null,lt,S,A,f),S.dispatch=f,m.memoizedState=r,[a,f,!1]}function TS(r){var a=Cn();return RS(a,Ht,r)}function RS(r,a,f){if(a=$v(r,a,ES)[0],r=tp(go)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var m=gd(a)}catch(D){throw D===Ac?Gh:D}else m=a;a=Cn();var S=a.queue,A=S.dispatch;return f!==a.memoizedState&&(lt.flags|=2048,Oc(9,{destroy:void 0},i2.bind(null,S,f),null)),[m,A,r]}function i2(r,a){r.action=a}function kS(r){var a=Cn(),f=Ht;if(f!==null)return RS(a,f,r);Cn(),a=a.memoizedState,f=Cn();var m=f.queue.dispatch;return f.memoizedState=r,[a,m,!1]}function Oc(r,a,f,m){return r={tag:r,create:f,deps:m,inst:a,next:null},a=lt.updateQueue,a===null&&(a=Jh(),lt.updateQueue=a),f=a.lastEffect,f===null?a.lastEffect=r.next=r:(m=f.next,f.next=r,r.next=m,a.lastEffect=r),r}function NS(){return Cn().memoizedState}function np(r,a,f,m){var S=Oi();lt.flags|=r,S.memoizedState=Oc(1|a,{destroy:void 0},f,m===void 0?null:m)}function ip(r,a,f,m){var S=Cn();m=m===void 0?null:m;var A=S.memoizedState.inst;Ht!==null&&m!==null&&Iv(m,Ht.memoizedState.deps)?S.memoizedState=Oc(a,A,f,m):(lt.flags|=r,S.memoizedState=Oc(1|a,A,f,m))}function OS(r,a){np(8390656,8,r,a)}function qv(r,a){ip(2048,8,r,a)}function s2(r){lt.flags|=4;var a=lt.updateQueue;if(a===null)a=Jh(),lt.updateQueue=a,a.events=[r];else{var f=a.events;f===null?a.events=[r]:f.push(r)}}function PS(r){var a=Cn().memoizedState;return s2({ref:a,nextImpl:r}),function(){if((Dt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function MS(r,a){return ip(4,2,r,a)}function DS(r,a){return ip(4,4,r,a)}function LS(r,a){if(typeof a=="function"){r=r();var f=a(r);return function(){typeof f=="function"?f():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function jS(r,a,f){f=f!=null?f.concat([r]):null,ip(4,4,LS.bind(null,a,r),f)}function Wv(){}function IS(r,a){var f=Cn();a=a===void 0?null:a;var m=f.memoizedState;return a!==null&&Iv(a,m[1])?m[0]:(f.memoizedState=[r,a],r)}function zS(r,a){var f=Cn();a=a===void 0?null:a;var m=f.memoizedState;if(a!==null&&Iv(a,m[1]))return m[0];if(m=r(),yl){si(!0);try{r()}finally{si(!1)}}return f.memoizedState=[m,a],m}function Yv(r,a,f){return f===void 0||(mo&1073741824)!==0&&(xt&261930)===0?r.memoizedState=a:(r.memoizedState=f,r=BC(),lt.lanes|=r,oa|=r,f)}function BS(r,a,f,m){return Jn(f,a)?f:Rc.current!==null?(r=Yv(r,f,m),Jn(r,a)||(Nn=!0),r):(mo&42)===0||(mo&1073741824)!==0&&(xt&261930)===0?(Nn=!0,r.memoizedState=f):(r=BC(),lt.lanes|=r,oa|=r,a)}function US(r,a,f,m,S){var A=W.p;W.p=A!==0&&8>A?A:8;var D=G.T,V={};G.T=V,Qv(r,!1,a,f);try{var ee=S(),fe=G.S;if(fe!==null&&fe(V,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var _e=JI(ee,m);vd(r,a,_e,fs(r))}else vd(r,a,m,fs(r))}catch(Te){vd(r,a,{then:function(){},status:"rejected",reason:Te},fs())}finally{W.p=A,D!==null&&V.types!==null&&(D.types=V.types),G.T=D}}function r2(){}function Zv(r,a,f,m){if(r.tag!==5)throw Error(i(476));var S=FS(r).queue;US(r,S,a,te,f===null?r2:function(){return VS(r),f(m)})}function FS(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:te},next:null};var f={};return a.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:f},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function VS(r){var a=FS(r);a.next===null&&(a=r.alternate.memoizedState),vd(r,a.next.queue,{},fs())}function Xv(){return li(Dd)}function $S(){return Cn().memoizedState}function HS(){return Cn().memoizedState}function o2(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var f=fs();r=ea(f);var m=ta(a,r,f);m!==null&&(Zi(m,a,f),fd(m,a,f)),a={cache:Av()},r.payload=a;return}a=a.return}}function a2(r,a,f){var m=fs();f={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},sp(r)?KS(a,f):(f=nd(r,a,f,m),f!==null&&(Zi(f,r,m),qS(f,a,m)))}function GS(r,a,f){var m=fs();vd(r,a,f,m)}function vd(r,a,f,m){var S={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(sp(r))KS(a,S);else{var A=r.alternate;if(r.lanes===0&&(A===null||A.lanes===0)&&(A=a.lastRenderedReducer,A!==null))try{var D=a.lastRenderedState,V=A(D,f);if(S.hasEagerState=!0,S.eagerState=V,Jn(V,D))return Pr(r,a,S,0),Wt===null&&ll(),!1}catch{}if(f=nd(r,a,S,m),f!==null)return Zi(f,r,m),qS(f,a,m),!0}return!1}function Qv(r,a,f,m){if(m={lane:2,revertLane:Ny(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},sp(r)){if(a)throw Error(i(479))}else a=nd(r,f,m,2),a!==null&&Zi(a,r,2)}function sp(r){var a=r.alternate;return r===lt||a!==null&&a===lt}function KS(r,a){kc=Xh=!0;var f=r.pending;f===null?a.next=a:(a.next=f.next,f.next=a),r.pending=a}function qS(r,a,f){if((f&4194048)!==0){var m=a.lanes;m&=r.pendingLanes,f|=m,a.lanes=f,ri(r,f)}}var yd={readContext:li,use:ep,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useLayoutEffect:vn,useInsertionEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useSyncExternalStore:vn,useId:vn,useHostTransitionStatus:vn,useFormState:vn,useActionState:vn,useOptimistic:vn,useMemoCache:vn,useCacheRefresh:vn};yd.useEffectEvent=vn;var WS={readContext:li,use:ep,useCallback:function(r,a){return Oi().memoizedState=[r,a===void 0?null:a],r},useContext:li,useEffect:OS,useImperativeHandle:function(r,a,f){f=f!=null?f.concat([r]):null,np(4194308,4,LS.bind(null,a,r),f)},useLayoutEffect:function(r,a){return np(4194308,4,r,a)},useInsertionEffect:function(r,a){np(4,2,r,a)},useMemo:function(r,a){var f=Oi();a=a===void 0?null:a;var m=r();if(yl){si(!0);try{r()}finally{si(!1)}}return f.memoizedState=[m,a],m},useReducer:function(r,a,f){var m=Oi();if(f!==void 0){var S=f(a);if(yl){si(!0);try{f(a)}finally{si(!1)}}}else S=a;return m.memoizedState=m.baseState=S,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:S},m.queue=r,r=r.dispatch=a2.bind(null,lt,r),[m.memoizedState,r]},useRef:function(r){var a=Oi();return r={current:r},a.memoizedState=r},useState:function(r){r=Gv(r);var a=r.queue,f=GS.bind(null,lt,a);return a.dispatch=f,[r.memoizedState,f]},useDebugValue:Wv,useDeferredValue:function(r,a){var f=Oi();return Yv(f,r,a)},useTransition:function(){var r=Gv(!1);return r=US.bind(null,lt,r.queue,!0,!1),Oi().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,f){var m=lt,S=Oi();if(pt){if(f===void 0)throw Error(i(407));f=f()}else{if(f=a(),Wt===null)throw Error(i(349));(xt&127)!==0||mS(m,a,f)}S.memoizedState=f;var A={value:f,getSnapshot:a};return S.queue=A,OS(vS.bind(null,m,A,r),[r]),m.flags|=2048,Oc(9,{destroy:void 0},gS.bind(null,m,A,f,a),null),f},useId:function(){var r=Oi(),a=Wt.identifierPrefix;if(pt){var f=Pe,m=Ae;f=(m&~(1<<32-En(m)-1)).toString(32)+f,a="_"+a+"R_"+f,f=Qh++,0<f&&(a+="H"+f.toString(32)),a+="_"}else f=e2++,a="_"+a+"r_"+f.toString(32)+"_";return r.memoizedState=a},useHostTransitionStatus:Xv,useFormState:AS,useActionState:AS,useOptimistic:function(r){var a=Oi();a.memoizedState=a.baseState=r;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=f,a=Qv.bind(null,lt,!0,f),f.dispatch=a,[r,a]},useMemoCache:Vv,useCacheRefresh:function(){return Oi().memoizedState=o2.bind(null,lt)},useEffectEvent:function(r){var a=Oi(),f={impl:r};return a.memoizedState=f,function(){if((Dt&2)!==0)throw Error(i(440));return f.impl.apply(void 0,arguments)}}},Jv={readContext:li,use:ep,useCallback:IS,useContext:li,useEffect:qv,useImperativeHandle:jS,useInsertionEffect:MS,useLayoutEffect:DS,useMemo:zS,useReducer:tp,useRef:NS,useState:function(){return tp(go)},useDebugValue:Wv,useDeferredValue:function(r,a){var f=Cn();return BS(f,Ht.memoizedState,r,a)},useTransition:function(){var r=tp(go)[0],a=Cn().memoizedState;return[typeof r=="boolean"?r:gd(r),a]},useSyncExternalStore:pS,useId:$S,useHostTransitionStatus:Xv,useFormState:TS,useActionState:TS,useOptimistic:function(r,a){var f=Cn();return xS(f,Ht,r,a)},useMemoCache:Vv,useCacheRefresh:HS};Jv.useEffectEvent=PS;var YS={readContext:li,use:ep,useCallback:IS,useContext:li,useEffect:qv,useImperativeHandle:jS,useInsertionEffect:MS,useLayoutEffect:DS,useMemo:zS,useReducer:Hv,useRef:NS,useState:function(){return Hv(go)},useDebugValue:Wv,useDeferredValue:function(r,a){var f=Cn();return Ht===null?Yv(f,r,a):BS(f,Ht.memoizedState,r,a)},useTransition:function(){var r=Hv(go)[0],a=Cn().memoizedState;return[typeof r=="boolean"?r:gd(r),a]},useSyncExternalStore:pS,useId:$S,useHostTransitionStatus:Xv,useFormState:kS,useActionState:kS,useOptimistic:function(r,a){var f=Cn();return Ht!==null?xS(f,Ht,r,a):(f.baseState=r,[r,f.queue.dispatch])},useMemoCache:Vv,useCacheRefresh:HS};YS.useEffectEvent=PS;function ey(r,a,f,m){a=r.memoizedState,f=f(m,a),f=f==null?a:v({},a,f),r.memoizedState=f,r.lanes===0&&(r.updateQueue.baseState=f)}var ty={enqueueSetState:function(r,a,f){r=r._reactInternals;var m=fs(),S=ea(m);S.payload=a,f!=null&&(S.callback=f),a=ta(r,S,m),a!==null&&(Zi(a,r,m),fd(a,r,m))},enqueueReplaceState:function(r,a,f){r=r._reactInternals;var m=fs(),S=ea(m);S.tag=1,S.payload=a,f!=null&&(S.callback=f),a=ta(r,S,m),a!==null&&(Zi(a,r,m),fd(a,r,m))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var f=fs(),m=ea(f);m.tag=2,a!=null&&(m.callback=a),a=ta(r,m,f),a!==null&&(Zi(a,r,f),fd(a,r,f))}};function ZS(r,a,f,m,S,A,D){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,A,D):a.prototype&&a.prototype.isPureReactComponent?!qo(f,m)||!qo(S,A):!0}function XS(r,a,f,m){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(f,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(f,m),a.state!==r&&ty.enqueueReplaceState(a,a.state,null)}function bl(r,a){var f=a;if("ref"in a){f={};for(var m in a)m!=="ref"&&(f[m]=a[m])}if(r=r.defaultProps){f===a&&(f=v({},f));for(var S in r)f[S]===void 0&&(f[S]=r[S])}return f}function QS(r){al(r)}function JS(r){console.error(r)}function eC(r){al(r)}function rp(r,a){try{var f=r.onUncaughtError;f(a.value,{componentStack:a.stack})}catch(m){setTimeout(function(){throw m})}}function tC(r,a,f){try{var m=r.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function ny(r,a,f){return f=ea(f),f.tag=3,f.payload={element:null},f.callback=function(){rp(r,a)},f}function nC(r){return r=ea(r),r.tag=3,r}function iC(r,a,f,m){var S=f.type.getDerivedStateFromError;if(typeof S=="function"){var A=m.value;r.payload=function(){return S(A)},r.callback=function(){tC(a,f,m)}}var D=f.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(r.callback=function(){tC(a,f,m),typeof S!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var V=m.stack;this.componentDidCatch(m.value,{componentStack:V!==null?V:""})})}function l2(r,a,f,m,S){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(a=f.alternate,a!==null&&Sc(a,f,S,!0),f=ls.current,f!==null){switch(f.tag){case 31:case 13:return Ds===null?vp():f.alternate===null&&yn===0&&(yn=3),f.flags&=-257,f.flags|=65536,f.lanes=S,m===Kh?f.flags|=16384:(a=f.updateQueue,a===null?f.updateQueue=new Set([m]):a.add(m),Ty(r,m,S)),!1;case 22:return f.flags|=65536,m===Kh?f.flags|=16384:(a=f.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=a):(f=a.retryQueue,f===null?a.retryQueue=new Set([m]):f.add(m)),Ty(r,m,S)),!1}throw Error(i(435,f.tag))}return Ty(r,m,S),vp(),!1}if(pt)return a=ls.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=S,m!==wc&&(r=Error(i(422),{cause:m}),dl(p(r,f)))):(m!==wc&&(a=Error(i(423),{cause:m}),dl(p(a,f))),r=r.current.alternate,r.flags|=65536,S&=-S,r.lanes|=S,m=p(m,f),S=ny(r.stateNode,m,S),Pv(r,S),yn!==4&&(yn=2)),!1;var A=Error(i(520),{cause:m});if(A=p(A,f),Ad===null?Ad=[A]:Ad.push(A),yn!==4&&(yn=2),a===null)return!0;m=p(m,f),f=a;do{switch(f.tag){case 3:return f.flags|=65536,r=S&-S,f.lanes|=r,r=ny(f.stateNode,m,r),Pv(f,r),!1;case 1:if(a=f.type,A=f.stateNode,(f.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(aa===null||!aa.has(A))))return f.flags|=65536,S&=-S,f.lanes|=S,S=nC(S),iC(S,r,f,m),Pv(f,S),!1}f=f.return}while(f!==null);return!1}var iy=Error(i(461)),Nn=!1;function ci(r,a,f,m){a.child=r===null?aS(a,null,f,m):vl(a,r.child,f,m)}function sC(r,a,f,m,S){f=f.render;var A=a.ref;if("ref"in m){var D={};for(var V in m)V!=="ref"&&(D[V]=m[V])}else D=m;return hl(a),m=zv(r,a,f,D,A,S),V=Bv(),r!==null&&!Nn?(Uv(r,a,S),vo(r,a,S)):(pt&&V&&jn(a),a.flags|=1,ci(r,a,m,S),a.child)}function rC(r,a,f,m,S){if(r===null){var A=f.type;return typeof A=="function"&&!xc(A)&&A.defaultProps===void 0&&f.compare===null?(a.tag=15,a.type=A,oC(r,a,A,m,S)):(r=ul(f.type,null,m,a,a.mode,S),r.ref=a.ref,r.return=a,a.child=r)}if(A=r.child,!dy(r,S)){var D=A.memoizedProps;if(f=f.compare,f=f!==null?f:qo,f(D,m)&&r.ref===a.ref)return vo(r,a,S)}return a.flags|=1,r=Ms(A,m),r.ref=a.ref,r.return=a,a.child=r}function oC(r,a,f,m,S){if(r!==null){var A=r.memoizedProps;if(qo(A,m)&&r.ref===a.ref)if(Nn=!1,a.pendingProps=m=A,dy(r,S))(r.flags&131072)!==0&&(Nn=!0);else return a.lanes=r.lanes,vo(r,a,S)}return sy(r,a,f,m,S)}function aC(r,a,f,m){var S=m.children,A=r!==null?r.memoizedState:null;if(r===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((a.flags&128)!==0){if(A=A!==null?A.baseLanes|f:f,r!==null){for(m=a.child=r.child,S=0;m!==null;)S=S|m.lanes|m.childLanes,m=m.sibling;m=S&~A}else m=0,a.child=null;return lC(r,a,A,f,m)}if((f&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Hh(a,A!==null?A.cachePool:null),A!==null?uS(a,A):Dv(),dS(a);else return m=a.lanes=536870912,lC(r,a,A!==null?A.baseLanes|f:f,f,m)}else A!==null?(Hh(a,A.cachePool),uS(a,A),ia(),a.memoizedState=null):(r!==null&&Hh(a,null),Dv(),ia());return ci(r,a,S,f),a.child}function bd(r,a){return r!==null&&r.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function lC(r,a,f,m,S){var A=Rv();return A=A===null?null:{parent:Rn._currentValue,pool:A},a.memoizedState={baseLanes:f,cachePool:A},r!==null&&Hh(a,null),Dv(),dS(a),r!==null&&Sc(r,a,m,!0),a.childLanes=S,null}function op(r,a){return a=lp({mode:a.mode,children:a.children},r.mode),a.ref=r.ref,r.child=a,a.return=r,a}function cC(r,a,f){return vl(a,r.child,null,f),r=op(a,a.pendingProps),r.flags|=2,cs(a),a.memoizedState=null,r}function c2(r,a,f){var m=a.pendingProps,S=(a.flags&128)!==0;if(a.flags&=-129,r===null){if(pt){if(m.mode==="hidden")return r=op(a,m),a.lanes=536870912,bd(null,r);if(jv(a),(r=Tt)?(r=_E(r,Gi),r=r!==null&&r.data==="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:pe!==null?{id:Ae,overflow:Pe}:null,retryLane:536870912,hydrationErrors:null},f=sd(r),f.return=a,a.child=f,At=a,Tt=null)):r=null,r===null)throw Dr(a);return a.lanes=536870912,null}return op(a,m)}var A=r.memoizedState;if(A!==null){var D=A.dehydrated;if(jv(a),S)if(a.flags&256)a.flags&=-257,a=cC(r,a,f);else if(a.memoizedState!==null)a.child=r.child,a.flags|=128,a=null;else throw Error(i(558));else if(Nn||Sc(r,a,f,!1),S=(f&r.childLanes)!==0,Nn||S){if(m=Wt,m!==null&&(D=yi(m,f),D!==0&&D!==A.retryLane))throw A.retryLane=D,Ps(r,D),Zi(m,r,D),iy;vp(),a=cC(r,a,f)}else r=A.treeContext,Tt=Ls(D.nextSibling),At=a,pt=!0,Mr=null,Gi=!1,r!==null&&Ni(a,r),a=op(a,m),a.flags|=4096;return a}return r=Ms(r.child,{mode:m.mode,children:m.children}),r.ref=a.ref,a.child=r,r.return=a,r}function ap(r,a){var f=a.ref;if(f===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(i(284));(r===null||r.ref!==f)&&(a.flags|=4194816)}}function sy(r,a,f,m,S){return hl(a),f=zv(r,a,f,m,void 0,S),m=Bv(),r!==null&&!Nn?(Uv(r,a,S),vo(r,a,S)):(pt&&m&&jn(a),a.flags|=1,ci(r,a,f,S),a.child)}function uC(r,a,f,m,S,A){return hl(a),a.updateQueue=null,f=hS(a,m,f,S),fS(r),m=Bv(),r!==null&&!Nn?(Uv(r,a,A),vo(r,a,A)):(pt&&m&&jn(a),a.flags|=1,ci(r,a,f,A),a.child)}function dC(r,a,f,m,S){if(hl(a),a.stateNode===null){var A=uo,D=f.contextType;typeof D=="object"&&D!==null&&(A=li(D)),A=new f(m,A),a.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=ty,a.stateNode=A,A._reactInternals=a,A=a.stateNode,A.props=m,A.state=a.memoizedState,A.refs={},Nv(a),D=f.contextType,A.context=typeof D=="object"&&D!==null?li(D):uo,A.state=a.memoizedState,D=f.getDerivedStateFromProps,typeof D=="function"&&(ey(a,f,D,m),A.state=a.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(D=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),D!==A.state&&ty.enqueueReplaceState(A,A.state,null),pd(a,m,A,S),hd(),A.state=a.memoizedState),typeof A.componentDidMount=="function"&&(a.flags|=4194308),m=!0}else if(r===null){A=a.stateNode;var V=a.memoizedProps,ee=bl(f,V);A.props=ee;var fe=A.context,_e=f.contextType;D=uo,typeof _e=="object"&&_e!==null&&(D=li(_e));var Te=f.getDerivedStateFromProps;_e=typeof Te=="function"||typeof A.getSnapshotBeforeUpdate=="function",V=a.pendingProps!==V,_e||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(V||fe!==D)&&XS(a,A,m,D),Jo=!1;var me=a.memoizedState;A.state=me,pd(a,m,A,S),hd(),fe=a.memoizedState,V||me!==fe||Jo?(typeof Te=="function"&&(ey(a,f,Te,m),fe=a.memoizedState),(ee=Jo||ZS(a,f,ee,m,me,fe,D))?(_e||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(a.flags|=4194308)):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=fe),A.props=m,A.state=fe,A.context=D,m=ee):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{A=a.stateNode,Ov(r,a),D=a.memoizedProps,_e=bl(f,D),A.props=_e,Te=a.pendingProps,me=A.context,fe=f.contextType,ee=uo,typeof fe=="object"&&fe!==null&&(ee=li(fe)),V=f.getDerivedStateFromProps,(fe=typeof V=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(D!==Te||me!==ee)&&XS(a,A,m,ee),Jo=!1,me=a.memoizedState,A.state=me,pd(a,m,A,S),hd();var ve=a.memoizedState;D!==Te||me!==ve||Jo||r!==null&&r.dependencies!==null&&Vh(r.dependencies)?(typeof V=="function"&&(ey(a,f,V,m),ve=a.memoizedState),(_e=Jo||ZS(a,f,_e,m,me,ve,ee)||r!==null&&r.dependencies!==null&&Vh(r.dependencies))?(fe||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(m,ve,ee),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(m,ve,ee)),typeof A.componentDidUpdate=="function"&&(a.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof A.componentDidUpdate!="function"||D===r.memoizedProps&&me===r.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&me===r.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=ve),A.props=m,A.state=ve,A.context=ee,m=_e):(typeof A.componentDidUpdate!="function"||D===r.memoizedProps&&me===r.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&me===r.memoizedState||(a.flags|=1024),m=!1)}return A=m,ap(r,a),m=(a.flags&128)!==0,A||m?(A=a.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:A.render(),a.flags|=1,r!==null&&m?(a.child=vl(a,r.child,null,S),a.child=vl(a,null,f,S)):ci(r,a,f,S),a.memoizedState=A.state,r=a.child):r=vo(r,a,S),r}function fC(r,a,f,m){return ho(),a.flags|=256,ci(r,a,f,m),a.child}var ry={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function oy(r){return{baseLanes:r,cachePool:tS()}}function ay(r,a,f){return r=r!==null?r.childLanes&~f:0,a&&(r|=ds),r}function hC(r,a,f){var m=a.pendingProps,S=!1,A=(a.flags&128)!==0,D;if((D=A)||(D=r!==null&&r.memoizedState===null?!1:(Sn.current&2)!==0),D&&(S=!0,a.flags&=-129),D=(a.flags&32)!==0,a.flags&=-33,r===null){if(pt){if(S?na(a):ia(),(r=Tt)?(r=_E(r,Gi),r=r!==null&&r.data!=="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:pe!==null?{id:Ae,overflow:Pe}:null,retryLane:536870912,hydrationErrors:null},f=sd(r),f.return=a,a.child=f,At=a,Tt=null)):r=null,r===null)throw Dr(a);return $y(r)?a.lanes=32:a.lanes=536870912,null}var V=m.children;return m=m.fallback,S?(ia(),S=a.mode,V=lp({mode:"hidden",children:V},S),m=fo(m,S,f,null),V.return=a,m.return=a,V.sibling=m,a.child=V,m=a.child,m.memoizedState=oy(f),m.childLanes=ay(r,D,f),a.memoizedState=ry,bd(null,m)):(na(a),ly(a,V))}var ee=r.memoizedState;if(ee!==null&&(V=ee.dehydrated,V!==null)){if(A)a.flags&256?(na(a),a.flags&=-257,a=cy(r,a,f)):a.memoizedState!==null?(ia(),a.child=r.child,a.flags|=128,a=null):(ia(),V=m.fallback,S=a.mode,m=lp({mode:"visible",children:m.children},S),V=fo(V,S,f,null),V.flags|=2,m.return=a,V.return=a,m.sibling=V,a.child=m,vl(a,r.child,null,f),m=a.child,m.memoizedState=oy(f),m.childLanes=ay(r,D,f),a.memoizedState=ry,a=bd(null,m));else if(na(a),$y(V)){if(D=V.nextSibling&&V.nextSibling.dataset,D)var fe=D.dgst;D=fe,m=Error(i(419)),m.stack="",m.digest=D,dl({value:m,source:null,stack:null}),a=cy(r,a,f)}else if(Nn||Sc(r,a,f,!1),D=(f&r.childLanes)!==0,Nn||D){if(D=Wt,D!==null&&(m=yi(D,f),m!==0&&m!==ee.retryLane))throw ee.retryLane=m,Ps(r,m),Zi(D,r,m),iy;Vy(V)||vp(),a=cy(r,a,f)}else Vy(V)?(a.flags|=192,a.child=r.child,a=null):(r=ee.treeContext,Tt=Ls(V.nextSibling),At=a,pt=!0,Mr=null,Gi=!1,r!==null&&Ni(a,r),a=ly(a,m.children),a.flags|=4096);return a}return S?(ia(),V=m.fallback,S=a.mode,ee=r.child,fe=ee.sibling,m=Ms(ee,{mode:"hidden",children:m.children}),m.subtreeFlags=ee.subtreeFlags&65011712,fe!==null?V=Ms(fe,V):(V=fo(V,S,f,null),V.flags|=2),V.return=a,m.return=a,m.sibling=V,a.child=m,bd(null,m),m=a.child,V=r.child.memoizedState,V===null?V=oy(f):(S=V.cachePool,S!==null?(ee=Rn._currentValue,S=S.parent!==ee?{parent:ee,pool:ee}:S):S=tS(),V={baseLanes:V.baseLanes|f,cachePool:S}),m.memoizedState=V,m.childLanes=ay(r,D,f),a.memoizedState=ry,bd(r.child,m)):(na(a),f=r.child,r=f.sibling,f=Ms(f,{mode:"visible",children:m.children}),f.return=a,f.sibling=null,r!==null&&(D=a.deletions,D===null?(a.deletions=[r],a.flags|=16):D.push(r)),a.child=f,a.memoizedState=null,f)}function ly(r,a){return a=lp({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function lp(r,a){return r=wi(22,r,null,a),r.lanes=0,r}function cy(r,a,f){return vl(a,r.child,null,f),r=ly(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function pC(r,a,f){r.lanes|=a;var m=r.alternate;m!==null&&(m.lanes|=a),Cv(r.return,a,f)}function uy(r,a,f,m,S,A){var D=r.memoizedState;D===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:S,treeForkCount:A}:(D.isBackwards=a,D.rendering=null,D.renderingStartTime=0,D.last=m,D.tail=f,D.tailMode=S,D.treeForkCount=A)}function mC(r,a,f){var m=a.pendingProps,S=m.revealOrder,A=m.tail;m=m.children;var D=Sn.current,V=(D&2)!==0;if(V?(D=D&1|2,a.flags|=128):D&=1,be(Sn,D),ci(r,a,m,f),m=pt?B:0,!V&&r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&pC(r,f,a);else if(r.tag===19)pC(r,f,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(S){case"forwards":for(f=a.child,S=null;f!==null;)r=f.alternate,r!==null&&Zh(r)===null&&(S=f),f=f.sibling;f=S,f===null?(S=a.child,a.child=null):(S=f.sibling,f.sibling=null),uy(a,!1,S,f,A,m);break;case"backwards":case"unstable_legacy-backwards":for(f=null,S=a.child,a.child=null;S!==null;){if(r=S.alternate,r!==null&&Zh(r)===null){a.child=S;break}r=S.sibling,S.sibling=f,f=S,S=r}uy(a,!0,f,null,A,m);break;case"together":uy(a,!1,null,null,void 0,m);break;default:a.memoizedState=null}return a.child}function vo(r,a,f){if(r!==null&&(a.dependencies=r.dependencies),oa|=a.lanes,(f&a.childLanes)===0)if(r!==null){if(Sc(r,a,f,!1),(f&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,f=Ms(r,r.pendingProps),a.child=f,f.return=a;r.sibling!==null;)r=r.sibling,f=f.sibling=Ms(r,r.pendingProps),f.return=a;f.sibling=null}return a.child}function dy(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Vh(r)))}function u2(r,a,f){switch(a.tag){case 3:Le(a,a.stateNode.containerInfo),Qo(a,Rn,r.memoizedState.cache),ho();break;case 27:case 5:De(a);break;case 4:Le(a,a.stateNode.containerInfo);break;case 10:Qo(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,jv(a),null;break;case 13:var m=a.memoizedState;if(m!==null)return m.dehydrated!==null?(na(a),a.flags|=128,null):(f&a.child.childLanes)!==0?hC(r,a,f):(na(a),r=vo(r,a,f),r!==null?r.sibling:null);na(a);break;case 19:var S=(r.flags&128)!==0;if(m=(f&a.childLanes)!==0,m||(Sc(r,a,f,!1),m=(f&a.childLanes)!==0),S){if(m)return mC(r,a,f);a.flags|=128}if(S=a.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),be(Sn,Sn.current),m)break;return null;case 22:return a.lanes=0,aC(r,a,f,a.pendingProps);case 24:Qo(a,Rn,r.memoizedState.cache)}return vo(r,a,f)}function gC(r,a,f){if(r!==null)if(r.memoizedProps!==a.pendingProps)Nn=!0;else{if(!dy(r,f)&&(a.flags&128)===0)return Nn=!1,u2(r,a,f);Nn=(r.flags&131072)!==0}else Nn=!1,pt&&(a.flags&1048576)!==0&&ct(a,B,a.index);switch(a.lanes=0,a.tag){case 16:e:{var m=a.pendingProps;if(r=ml(a.elementType),a.type=r,typeof r=="function")xc(r)?(m=bl(r,m),a.tag=1,a=dC(null,a,r,m,f)):(a.tag=0,a=sy(null,a,r,m,f));else{if(r!=null){var S=r.$$typeof;if(S===M){a.tag=11,a=sC(null,a,r,m,f);break e}else if(S===z){a.tag=14,a=rC(null,a,r,m,f);break e}}throw a=re(r)||r,Error(i(306,a,""))}}return a;case 0:return sy(r,a,a.type,a.pendingProps,f);case 1:return m=a.type,S=bl(m,a.pendingProps),dC(r,a,m,S,f);case 3:e:{if(Le(a,a.stateNode.containerInfo),r===null)throw Error(i(387));m=a.pendingProps;var A=a.memoizedState;S=A.element,Ov(r,a),pd(a,m,null,f);var D=a.memoizedState;if(m=D.cache,Qo(a,Rn,m),m!==A.cache&&Ev(a,[Rn],f,!0),hd(),m=D.element,A.isDehydrated)if(A={element:m,isDehydrated:!1,cache:D.cache},a.updateQueue.baseState=A,a.memoizedState=A,a.flags&256){a=fC(r,a,m,f);break e}else if(m!==S){S=p(Error(i(424)),a),dl(S),a=fC(r,a,m,f);break e}else for(r=a.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,Tt=Ls(r.firstChild),At=a,pt=!0,Mr=null,Gi=!0,f=aS(a,null,m,f),a.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(ho(),m===S){a=vo(r,a,f);break e}ci(r,a,m,f)}a=a.child}return a;case 26:return ap(r,a),r===null?(f=TE(a.type,null,a.pendingProps,null))?a.memoizedState=f:pt||(f=a.type,r=a.pendingProps,m=Cp(we.current).createElement(f),m[pn]=a,m[Tn]=r,ui(m,f,r),ln(m),a.stateNode=m):a.memoizedState=TE(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return De(a),r===null&&pt&&(m=a.stateNode=CE(a.type,a.pendingProps,we.current),At=a,Gi=!0,S=Tt,da(a.type)?(Hy=S,Tt=Ls(m.firstChild)):Tt=S),ci(r,a,a.pendingProps.children,f),ap(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&pt&&((S=m=Tt)&&(m=U2(m,a.type,a.pendingProps,Gi),m!==null?(a.stateNode=m,At=a,Tt=Ls(m.firstChild),Gi=!1,S=!0):S=!1),S||Dr(a)),De(a),S=a.type,A=a.pendingProps,D=r!==null?r.memoizedProps:null,m=A.children,By(S,A)?m=null:D!==null&&By(S,D)&&(a.flags|=32),a.memoizedState!==null&&(S=zv(r,a,t2,null,null,f),Dd._currentValue=S),ap(r,a),ci(r,a,m,f),a.child;case 6:return r===null&&pt&&((r=f=Tt)&&(f=F2(f,a.pendingProps,Gi),f!==null?(a.stateNode=f,At=a,Tt=null,r=!0):r=!1),r||Dr(a)),null;case 13:return hC(r,a,f);case 4:return Le(a,a.stateNode.containerInfo),m=a.pendingProps,r===null?a.child=vl(a,null,m,f):ci(r,a,m,f),a.child;case 11:return sC(r,a,a.type,a.pendingProps,f);case 7:return ci(r,a,a.pendingProps,f),a.child;case 8:return ci(r,a,a.pendingProps.children,f),a.child;case 12:return ci(r,a,a.pendingProps.children,f),a.child;case 10:return m=a.pendingProps,Qo(a,a.type,m.value),ci(r,a,m.children,f),a.child;case 9:return S=a.type._context,m=a.pendingProps.children,hl(a),S=li(S),m=m(S),a.flags|=1,ci(r,a,m,f),a.child;case 14:return rC(r,a,a.type,a.pendingProps,f);case 15:return oC(r,a,a.type,a.pendingProps,f);case 19:return mC(r,a,f);case 31:return c2(r,a,f);case 22:return aC(r,a,f,a.pendingProps);case 24:return hl(a),m=li(Rn),r===null?(S=Rv(),S===null&&(S=Wt,A=Av(),S.pooledCache=A,A.refCount++,A!==null&&(S.pooledCacheLanes|=f),S=A),a.memoizedState={parent:m,cache:S},Nv(a),Qo(a,Rn,S)):((r.lanes&f)!==0&&(Ov(r,a),pd(a,null,null,f),hd()),S=r.memoizedState,A=a.memoizedState,S.parent!==m?(S={parent:m,cache:m},a.memoizedState=S,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=S),Qo(a,Rn,m)):(m=A.cache,Qo(a,Rn,m),m!==S.cache&&Ev(a,[Rn],f,!0))),ci(r,a,a.pendingProps.children,f),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function yo(r){r.flags|=4}function fy(r,a,f,m,S){if((a=(r.mode&32)!==0)&&(a=!1),a){if(r.flags|=16777216,(S&335544128)===S)if(r.stateNode.complete)r.flags|=8192;else if($C())r.flags|=8192;else throw gl=Kh,kv}else r.flags&=-16777217}function vC(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!PE(a))if($C())r.flags|=8192;else throw gl=Kh,kv}function cp(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?An():536870912,r.lanes|=a,Lc|=a)}function xd(r,a){if(!pt)switch(r.tailMode){case"hidden":a=r.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?r.tail=null:f.sibling=null;break;case"collapsed":f=r.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function en(r){var a=r.alternate!==null&&r.alternate.child===r.child,f=0,m=0;if(a)for(var S=r.child;S!==null;)f|=S.lanes|S.childLanes,m|=S.subtreeFlags&65011712,m|=S.flags&65011712,S.return=r,S=S.sibling;else for(S=r.child;S!==null;)f|=S.lanes|S.childLanes,m|=S.subtreeFlags,m|=S.flags,S.return=r,S=S.sibling;return r.subtreeFlags|=m,r.childLanes=f,a}function d2(r,a,f){var m=a.pendingProps;switch(gn(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(a),null;case 1:return en(a),null;case 3:return f=a.stateNode,m=null,r!==null&&(m=r.memoizedState.cache),a.memoizedState.cache!==m&&(a.flags|=2048),po(Rn),Me(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(nr(a)?yo(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ad())),en(a),null;case 26:var S=a.type,A=a.memoizedState;return r===null?(yo(a),A!==null?(en(a),vC(a,A)):(en(a),fy(a,S,null,m,f))):A?A!==r.memoizedState?(yo(a),en(a),vC(a,A)):(en(a),a.flags&=-16777217):(r=r.memoizedProps,r!==m&&yo(a),en(a),fy(a,S,r,m,f)),null;case 27:if(Ye(a),f=we.current,S=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==m&&yo(a);else{if(!m){if(a.stateNode===null)throw Error(i(166));return en(a),null}r=xe.current,nr(a)?od(a):(r=CE(S,m,f),a.stateNode=r,yo(a))}return en(a),null;case 5:if(Ye(a),S=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==m&&yo(a);else{if(!m){if(a.stateNode===null)throw Error(i(166));return en(a),null}if(A=xe.current,nr(a))od(a);else{var D=Cp(we.current);switch(A){case 1:A=D.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:A=D.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":A=D.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":A=D.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":A=D.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof m.is=="string"?D.createElement("select",{is:m.is}):D.createElement("select"),m.multiple?A.multiple=!0:m.size&&(A.size=m.size);break;default:A=typeof m.is=="string"?D.createElement(S,{is:m.is}):D.createElement(S)}}A[pn]=a,A[Tn]=m;e:for(D=a.child;D!==null;){if(D.tag===5||D.tag===6)A.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===a)break e;for(;D.sibling===null;){if(D.return===null||D.return===a)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}a.stateNode=A;e:switch(ui(A,S,m),S){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&yo(a)}}return en(a),fy(a,a.type,r===null?null:r.memoizedProps,a.pendingProps,f),null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==m&&yo(a);else{if(typeof m!="string"&&a.stateNode===null)throw Error(i(166));if(r=we.current,nr(a)){if(r=a.stateNode,f=a.memoizedProps,m=null,S=At,S!==null)switch(S.tag){case 27:case 5:m=S.memoizedProps}r[pn]=a,r=!!(r.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||hE(r.nodeValue,f)),r||Dr(a,!0)}else r=Cp(r).createTextNode(m),r[pn]=a,a.stateNode=r}return en(a),null;case 31:if(f=a.memoizedState,r===null||r.memoizedState!==null){if(m=nr(a),f!==null){if(r===null){if(!m)throw Error(i(318));if(r=a.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[pn]=a}else ho(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;en(a),r=!1}else f=ad(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),r=!0;if(!r)return a.flags&256?(cs(a),a):(cs(a),null);if((a.flags&128)!==0)throw Error(i(558))}return en(a),null;case 13:if(m=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(S=nr(a),m!==null&&m.dehydrated!==null){if(r===null){if(!S)throw Error(i(318));if(S=a.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(i(317));S[pn]=a}else ho(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;en(a),S=!1}else S=ad(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=S),S=!0;if(!S)return a.flags&256?(cs(a),a):(cs(a),null)}return cs(a),(a.flags&128)!==0?(a.lanes=f,a):(f=m!==null,r=r!==null&&r.memoizedState!==null,f&&(m=a.child,S=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(S=m.alternate.memoizedState.cachePool.pool),A=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(A=m.memoizedState.cachePool.pool),A!==S&&(m.flags|=2048)),f!==r&&f&&(a.child.flags|=8192),cp(a,a.updateQueue),en(a),null);case 4:return Me(),r===null&&Dy(a.stateNode.containerInfo),en(a),null;case 10:return po(a.type),en(a),null;case 19:if(ce(Sn),m=a.memoizedState,m===null)return en(a),null;if(S=(a.flags&128)!==0,A=m.rendering,A===null)if(S)xd(m,!1);else{if(yn!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(A=Zh(r),A!==null){for(a.flags|=128,xd(m,!1),r=A.updateQueue,a.updateQueue=r,cp(a,r),a.subtreeFlags=0,r=f,f=a.child;f!==null;)id(f,r),f=f.sibling;return be(Sn,Sn.current&1|2),pt&&Ge(a,m.treeForkCount),a.child}r=r.sibling}m.tail!==null&&sn()>pp&&(a.flags|=128,S=!0,xd(m,!1),a.lanes=4194304)}else{if(!S)if(r=Zh(A),r!==null){if(a.flags|=128,S=!0,r=r.updateQueue,a.updateQueue=r,cp(a,r),xd(m,!0),m.tail===null&&m.tailMode==="hidden"&&!A.alternate&&!pt)return en(a),null}else 2*sn()-m.renderingStartTime>pp&&f!==536870912&&(a.flags|=128,S=!0,xd(m,!1),a.lanes=4194304);m.isBackwards?(A.sibling=a.child,a.child=A):(r=m.last,r!==null?r.sibling=A:a.child=A,m.last=A)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=sn(),r.sibling=null,f=Sn.current,be(Sn,S?f&1|2:f&1),pt&&Ge(a,m.treeForkCount),r):(en(a),null);case 22:case 23:return cs(a),Lv(),m=a.memoizedState!==null,r!==null?r.memoizedState!==null!==m&&(a.flags|=8192):m&&(a.flags|=8192),m?(f&536870912)!==0&&(a.flags&128)===0&&(en(a),a.subtreeFlags&6&&(a.flags|=8192)):en(a),f=a.updateQueue,f!==null&&cp(a,f.retryQueue),f=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),m=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(m=a.memoizedState.cachePool.pool),m!==f&&(a.flags|=2048),r!==null&&ce(pl),null;case 24:return f=null,r!==null&&(f=r.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),po(Rn),en(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function f2(r,a){switch(gn(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return po(Rn),Me(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Ye(a),null;case 31:if(a.memoizedState!==null){if(cs(a),a.alternate===null)throw Error(i(340));ho()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 13:if(cs(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));ho()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return ce(Sn),null;case 4:return Me(),null;case 10:return po(a.type),null;case 22:case 23:return cs(a),Lv(),r!==null&&ce(pl),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return po(Rn),null;case 25:return null;default:return null}}function yC(r,a){switch(gn(a),a.tag){case 3:po(Rn),Me();break;case 26:case 27:case 5:Ye(a);break;case 4:Me();break;case 31:a.memoizedState!==null&&cs(a);break;case 13:cs(a);break;case 19:ce(Sn);break;case 10:po(a.type);break;case 22:case 23:cs(a),Lv(),r!==null&&ce(pl);break;case 24:po(Rn)}}function _d(r,a){try{var f=a.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var S=m.next;f=S;do{if((f.tag&r)===r){m=void 0;var A=f.create,D=f.inst;m=A(),D.destroy=m}f=f.next}while(f!==S)}}catch(V){Ft(a,a.return,V)}}function sa(r,a,f){try{var m=a.updateQueue,S=m!==null?m.lastEffect:null;if(S!==null){var A=S.next;m=A;do{if((m.tag&r)===r){var D=m.inst,V=D.destroy;if(V!==void 0){D.destroy=void 0,S=a;var ee=f,fe=V;try{fe()}catch(_e){Ft(S,ee,_e)}}}m=m.next}while(m!==A)}}catch(_e){Ft(a,a.return,_e)}}function bC(r){var a=r.updateQueue;if(a!==null){var f=r.stateNode;try{cS(a,f)}catch(m){Ft(r,r.return,m)}}}function xC(r,a,f){f.props=bl(r.type,r.memoizedProps),f.state=r.memoizedState;try{f.componentWillUnmount()}catch(m){Ft(r,a,m)}}function wd(r,a){try{var f=r.ref;if(f!==null){switch(r.tag){case 26:case 27:case 5:var m=r.stateNode;break;case 30:m=r.stateNode;break;default:m=r.stateNode}typeof f=="function"?r.refCleanup=f(m):f.current=m}}catch(S){Ft(r,a,S)}}function jr(r,a){var f=r.ref,m=r.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(S){Ft(r,a,S)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(S){Ft(r,a,S)}else f.current=null}function _C(r){var a=r.type,f=r.memoizedProps,m=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break e;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(S){Ft(r,r.return,S)}}function hy(r,a,f){try{var m=r.stateNode;D2(m,r.type,f,a),m[Tn]=a}catch(S){Ft(r,r.return,S)}}function wC(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&da(r.type)||r.tag===4}function py(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||wC(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&da(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function my(r,a,f){var m=r.tag;if(m===5||m===6)r=r.stateNode,a?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(r,a):(a=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,a.appendChild(r),f=f._reactRootContainer,f!=null||a.onclick!==null||(a.onclick=xi));else if(m!==4&&(m===27&&da(r.type)&&(f=r.stateNode,a=null),r=r.child,r!==null))for(my(r,a,f),r=r.sibling;r!==null;)my(r,a,f),r=r.sibling}function up(r,a,f){var m=r.tag;if(m===5||m===6)r=r.stateNode,a?f.insertBefore(r,a):f.appendChild(r);else if(m!==4&&(m===27&&da(r.type)&&(f=r.stateNode),r=r.child,r!==null))for(up(r,a,f),r=r.sibling;r!==null;)up(r,a,f),r=r.sibling}function SC(r){var a=r.stateNode,f=r.memoizedProps;try{for(var m=r.type,S=a.attributes;S.length;)a.removeAttributeNode(S[0]);ui(a,m,f),a[pn]=r,a[Tn]=f}catch(A){Ft(r,r.return,A)}}var bo=!1,On=!1,gy=!1,CC=typeof WeakSet=="function"?WeakSet:Set,ti=null;function h2(r,a){if(r=r.containerInfo,Iy=Op,r=il(r),Rr(r)){if("selectionStart"in r)var f={start:r.selectionStart,end:r.selectionEnd};else e:{f=(f=r.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var S=m.anchorOffset,A=m.focusNode;m=m.focusOffset;try{f.nodeType,A.nodeType}catch{f=null;break e}var D=0,V=-1,ee=-1,fe=0,_e=0,Te=r,me=null;t:for(;;){for(var ve;Te!==f||S!==0&&Te.nodeType!==3||(V=D+S),Te!==A||m!==0&&Te.nodeType!==3||(ee=D+m),Te.nodeType===3&&(D+=Te.nodeValue.length),(ve=Te.firstChild)!==null;)me=Te,Te=ve;for(;;){if(Te===r)break t;if(me===f&&++fe===S&&(V=D),me===A&&++_e===m&&(ee=D),(ve=Te.nextSibling)!==null)break;Te=me,me=Te.parentNode}Te=ve}f=V===-1||ee===-1?null:{start:V,end:ee}}else f=null}f=f||{start:0,end:0}}else f=null;for(zy={focusedElem:r,selectionRange:f},Op=!1,ti=a;ti!==null;)if(a=ti,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,ti=r;else for(;ti!==null;){switch(a=ti,A=a.alternate,r=a.flags,a.tag){case 0:if((r&4)!==0&&(r=a.updateQueue,r=r!==null?r.events:null,r!==null))for(f=0;f<r.length;f++)S=r[f],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&A!==null){r=void 0,f=a,S=A.memoizedProps,A=A.memoizedState,m=f.stateNode;try{var Ue=bl(f.type,S);r=m.getSnapshotBeforeUpdate(Ue,A),m.__reactInternalSnapshotBeforeUpdate=r}catch(Xe){Ft(f,f.return,Xe)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,f=r.nodeType,f===9)Fy(r);else if(f===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Fy(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,ti=r;break}ti=a.return}}function EC(r,a,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:_o(r,f),m&4&&_d(5,f);break;case 1:if(_o(r,f),m&4)if(r=f.stateNode,a===null)try{r.componentDidMount()}catch(D){Ft(f,f.return,D)}else{var S=bl(f.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(S,a,r.__reactInternalSnapshotBeforeUpdate)}catch(D){Ft(f,f.return,D)}}m&64&&bC(f),m&512&&wd(f,f.return);break;case 3:if(_o(r,f),m&64&&(r=f.updateQueue,r!==null)){if(a=null,f.child!==null)switch(f.child.tag){case 27:case 5:a=f.child.stateNode;break;case 1:a=f.child.stateNode}try{cS(r,a)}catch(D){Ft(f,f.return,D)}}break;case 27:a===null&&m&4&&SC(f);case 26:case 5:_o(r,f),a===null&&m&4&&_C(f),m&512&&wd(f,f.return);break;case 12:_o(r,f);break;case 31:_o(r,f),m&4&&RC(r,f);break;case 13:_o(r,f),m&4&&kC(r,f),m&64&&(r=f.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(f=w2.bind(null,f),V2(r,f))));break;case 22:if(m=f.memoizedState!==null||bo,!m){a=a!==null&&a.memoizedState!==null||On,S=bo;var A=On;bo=m,(On=a)&&!A?wo(r,f,(f.subtreeFlags&8772)!==0):_o(r,f),bo=S,On=A}break;case 30:break;default:_o(r,f)}}function AC(r){var a=r.alternate;a!==null&&(r.alternate=null,AC(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Ha(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var tn=null,Ki=!1;function xo(r,a,f){for(f=f.child;f!==null;)TC(r,a,f),f=f.sibling}function TC(r,a,f){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(es,f)}catch{}switch(f.tag){case 26:On||jr(f,a),xo(r,a,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:On||jr(f,a);var m=tn,S=Ki;da(f.type)&&(tn=f.stateNode,Ki=!1),xo(r,a,f),Od(f.stateNode),tn=m,Ki=S;break;case 5:On||jr(f,a);case 6:if(m=tn,S=Ki,tn=null,xo(r,a,f),tn=m,Ki=S,tn!==null)if(Ki)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(f.stateNode)}catch(A){Ft(f,a,A)}else try{tn.removeChild(f.stateNode)}catch(A){Ft(f,a,A)}break;case 18:tn!==null&&(Ki?(r=tn,bE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,f.stateNode),$c(r)):bE(tn,f.stateNode));break;case 4:m=tn,S=Ki,tn=f.stateNode.containerInfo,Ki=!0,xo(r,a,f),tn=m,Ki=S;break;case 0:case 11:case 14:case 15:sa(2,f,a),On||sa(4,f,a),xo(r,a,f);break;case 1:On||(jr(f,a),m=f.stateNode,typeof m.componentWillUnmount=="function"&&xC(f,a,m)),xo(r,a,f);break;case 21:xo(r,a,f);break;case 22:On=(m=On)||f.memoizedState!==null,xo(r,a,f),On=m;break;default:xo(r,a,f)}}function RC(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{$c(r)}catch(f){Ft(a,a.return,f)}}}function kC(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{$c(r)}catch(f){Ft(a,a.return,f)}}function p2(r){switch(r.tag){case 31:case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new CC),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new CC),a;default:throw Error(i(435,r.tag))}}function dp(r,a){var f=p2(r);a.forEach(function(m){if(!f.has(m)){f.add(m);var S=S2.bind(null,r,m);m.then(S,S)}})}function qi(r,a){var f=a.deletions;if(f!==null)for(var m=0;m<f.length;m++){var S=f[m],A=r,D=a,V=D;e:for(;V!==null;){switch(V.tag){case 27:if(da(V.type)){tn=V.stateNode,Ki=!1;break e}break;case 5:tn=V.stateNode,Ki=!1;break e;case 3:case 4:tn=V.stateNode.containerInfo,Ki=!0;break e}V=V.return}if(tn===null)throw Error(i(160));TC(A,D,S),tn=null,Ki=!1,A=S.alternate,A!==null&&(A.return=null),S.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)NC(a,r),a=a.sibling}var sr=null;function NC(r,a){var f=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:qi(a,r),Wi(r),m&4&&(sa(3,r,r.return),_d(3,r),sa(5,r,r.return));break;case 1:qi(a,r),Wi(r),m&512&&(On||f===null||jr(f,f.return)),m&64&&bo&&(r=r.updateQueue,r!==null&&(m=r.callbacks,m!==null&&(f=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var S=sr;if(qi(a,r),Wi(r),m&512&&(On||f===null||jr(f,f.return)),m&4){var A=f!==null?f.memoizedState:null;if(m=r.memoizedState,f===null)if(m===null)if(r.stateNode===null){e:{m=r.type,f=r.memoizedProps,S=S.ownerDocument||S;t:switch(m){case"title":A=S.getElementsByTagName("title")[0],(!A||A[to]||A[pn]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=S.createElement(m),S.head.insertBefore(A,S.querySelector("head > title"))),ui(A,m,f),A[pn]=r,ln(A),m=A;break e;case"link":var D=NE("link","href",S).get(m+(f.href||""));if(D){for(var V=0;V<D.length;V++)if(A=D[V],A.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&A.getAttribute("rel")===(f.rel==null?null:f.rel)&&A.getAttribute("title")===(f.title==null?null:f.title)&&A.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){D.splice(V,1);break t}}A=S.createElement(m),ui(A,m,f),S.head.appendChild(A);break;case"meta":if(D=NE("meta","content",S).get(m+(f.content||""))){for(V=0;V<D.length;V++)if(A=D[V],A.getAttribute("content")===(f.content==null?null:""+f.content)&&A.getAttribute("name")===(f.name==null?null:f.name)&&A.getAttribute("property")===(f.property==null?null:f.property)&&A.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&A.getAttribute("charset")===(f.charSet==null?null:f.charSet)){D.splice(V,1);break t}}A=S.createElement(m),ui(A,m,f),S.head.appendChild(A);break;default:throw Error(i(468,m))}A[pn]=r,ln(A),m=A}r.stateNode=m}else OE(S,r.type,r.stateNode);else r.stateNode=kE(S,m,r.memoizedProps);else A!==m?(A===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):A.count--,m===null?OE(S,r.type,r.stateNode):kE(S,m,r.memoizedProps)):m===null&&r.stateNode!==null&&hy(r,r.memoizedProps,f.memoizedProps)}break;case 27:qi(a,r),Wi(r),m&512&&(On||f===null||jr(f,f.return)),f!==null&&m&4&&hy(r,r.memoizedProps,f.memoizedProps);break;case 5:if(qi(a,r),Wi(r),m&512&&(On||f===null||jr(f,f.return)),r.flags&32){S=r.stateNode;try{Ct(S,"")}catch(Ue){Ft(r,r.return,Ue)}}m&4&&r.stateNode!=null&&(S=r.memoizedProps,hy(r,S,f!==null?f.memoizedProps:S)),m&1024&&(gy=!0);break;case 6:if(qi(a,r),Wi(r),m&4){if(r.stateNode===null)throw Error(i(162));m=r.memoizedProps,f=r.stateNode;try{f.nodeValue=m}catch(Ue){Ft(r,r.return,Ue)}}break;case 3:if(Tp=null,S=sr,sr=Ep(a.containerInfo),qi(a,r),sr=S,Wi(r),m&4&&f!==null&&f.memoizedState.isDehydrated)try{$c(a.containerInfo)}catch(Ue){Ft(r,r.return,Ue)}gy&&(gy=!1,OC(r));break;case 4:m=sr,sr=Ep(r.stateNode.containerInfo),qi(a,r),Wi(r),sr=m;break;case 12:qi(a,r),Wi(r);break;case 31:qi(a,r),Wi(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,dp(r,m)));break;case 13:qi(a,r),Wi(r),r.child.flags&8192&&r.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(hp=sn()),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,dp(r,m)));break;case 22:S=r.memoizedState!==null;var ee=f!==null&&f.memoizedState!==null,fe=bo,_e=On;if(bo=fe||S,On=_e||ee,qi(a,r),On=_e,bo=fe,Wi(r),m&8192)e:for(a=r.stateNode,a._visibility=S?a._visibility&-2:a._visibility|1,S&&(f===null||ee||bo||On||xl(r)),f=null,a=r;;){if(a.tag===5||a.tag===26){if(f===null){ee=f=a;try{if(A=ee.stateNode,S)D=A.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{V=ee.stateNode;var Te=ee.memoizedProps.style,me=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;V.style.display=me==null||typeof me=="boolean"?"":(""+me).trim()}}catch(Ue){Ft(ee,ee.return,Ue)}}}else if(a.tag===6){if(f===null){ee=a;try{ee.stateNode.nodeValue=S?"":ee.memoizedProps}catch(Ue){Ft(ee,ee.return,Ue)}}}else if(a.tag===18){if(f===null){ee=a;try{var ve=ee.stateNode;S?xE(ve,!0):xE(ee.stateNode,!1)}catch(Ue){Ft(ee,ee.return,Ue)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;f===a&&(f=null),a=a.return}f===a&&(f=null),a.sibling.return=a.return,a=a.sibling}m&4&&(m=r.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,dp(r,f))));break;case 19:qi(a,r),Wi(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,dp(r,m)));break;case 30:break;case 21:break;default:qi(a,r),Wi(r)}}function Wi(r){var a=r.flags;if(a&2){try{for(var f,m=r.return;m!==null;){if(wC(m)){f=m;break}m=m.return}if(f==null)throw Error(i(160));switch(f.tag){case 27:var S=f.stateNode,A=py(r);up(r,A,S);break;case 5:var D=f.stateNode;f.flags&32&&(Ct(D,""),f.flags&=-33);var V=py(r);up(r,V,D);break;case 3:case 4:var ee=f.stateNode.containerInfo,fe=py(r);my(r,fe,ee);break;default:throw Error(i(161))}}catch(_e){Ft(r,r.return,_e)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function OC(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;OC(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function _o(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)EC(r,a.alternate,a),a=a.sibling}function xl(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:sa(4,a,a.return),xl(a);break;case 1:jr(a,a.return);var f=a.stateNode;typeof f.componentWillUnmount=="function"&&xC(a,a.return,f),xl(a);break;case 27:Od(a.stateNode);case 26:case 5:jr(a,a.return),xl(a);break;case 22:a.memoizedState===null&&xl(a);break;case 30:xl(a);break;default:xl(a)}r=r.sibling}}function wo(r,a,f){for(f=f&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var m=a.alternate,S=r,A=a,D=A.flags;switch(A.tag){case 0:case 11:case 15:wo(S,A,f),_d(4,A);break;case 1:if(wo(S,A,f),m=A,S=m.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(fe){Ft(m,m.return,fe)}if(m=A,S=m.updateQueue,S!==null){var V=m.stateNode;try{var ee=S.shared.hiddenCallbacks;if(ee!==null)for(S.shared.hiddenCallbacks=null,S=0;S<ee.length;S++)lS(ee[S],V)}catch(fe){Ft(m,m.return,fe)}}f&&D&64&&bC(A),wd(A,A.return);break;case 27:SC(A);case 26:case 5:wo(S,A,f),f&&m===null&&D&4&&_C(A),wd(A,A.return);break;case 12:wo(S,A,f);break;case 31:wo(S,A,f),f&&D&4&&RC(S,A);break;case 13:wo(S,A,f),f&&D&4&&kC(S,A);break;case 22:A.memoizedState===null&&wo(S,A,f),wd(A,A.return);break;case 30:break;default:wo(S,A,f)}a=a.sibling}}function vy(r,a){var f=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==f&&(r!=null&&r.refCount++,f!=null&&ld(f))}function yy(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&ld(r))}function rr(r,a,f,m){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)PC(r,a,f,m),a=a.sibling}function PC(r,a,f,m){var S=a.flags;switch(a.tag){case 0:case 11:case 15:rr(r,a,f,m),S&2048&&_d(9,a);break;case 1:rr(r,a,f,m);break;case 3:rr(r,a,f,m),S&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&ld(r)));break;case 12:if(S&2048){rr(r,a,f,m),r=a.stateNode;try{var A=a.memoizedProps,D=A.id,V=A.onPostCommit;typeof V=="function"&&V(D,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(ee){Ft(a,a.return,ee)}}else rr(r,a,f,m);break;case 31:rr(r,a,f,m);break;case 13:rr(r,a,f,m);break;case 23:break;case 22:A=a.stateNode,D=a.alternate,a.memoizedState!==null?A._visibility&2?rr(r,a,f,m):Sd(r,a):A._visibility&2?rr(r,a,f,m):(A._visibility|=2,Pc(r,a,f,m,(a.subtreeFlags&10256)!==0||!1)),S&2048&&vy(D,a);break;case 24:rr(r,a,f,m),S&2048&&yy(a.alternate,a);break;default:rr(r,a,f,m)}}function Pc(r,a,f,m,S){for(S=S&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var A=r,D=a,V=f,ee=m,fe=D.flags;switch(D.tag){case 0:case 11:case 15:Pc(A,D,V,ee,S),_d(8,D);break;case 23:break;case 22:var _e=D.stateNode;D.memoizedState!==null?_e._visibility&2?Pc(A,D,V,ee,S):Sd(A,D):(_e._visibility|=2,Pc(A,D,V,ee,S)),S&&fe&2048&&vy(D.alternate,D);break;case 24:Pc(A,D,V,ee,S),S&&fe&2048&&yy(D.alternate,D);break;default:Pc(A,D,V,ee,S)}a=a.sibling}}function Sd(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var f=r,m=a,S=m.flags;switch(m.tag){case 22:Sd(f,m),S&2048&&vy(m.alternate,m);break;case 24:Sd(f,m),S&2048&&yy(m.alternate,m);break;default:Sd(f,m)}a=a.sibling}}var Cd=8192;function Mc(r,a,f){if(r.subtreeFlags&Cd)for(r=r.child;r!==null;)MC(r,a,f),r=r.sibling}function MC(r,a,f){switch(r.tag){case 26:Mc(r,a,f),r.flags&Cd&&r.memoizedState!==null&&ez(f,sr,r.memoizedState,r.memoizedProps);break;case 5:Mc(r,a,f);break;case 3:case 4:var m=sr;sr=Ep(r.stateNode.containerInfo),Mc(r,a,f),sr=m;break;case 22:r.memoizedState===null&&(m=r.alternate,m!==null&&m.memoizedState!==null?(m=Cd,Cd=16777216,Mc(r,a,f),Cd=m):Mc(r,a,f));break;default:Mc(r,a,f)}}function DC(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Ed(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var f=0;f<a.length;f++){var m=a[f];ti=m,jC(m,r)}DC(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)LC(r),r=r.sibling}function LC(r){switch(r.tag){case 0:case 11:case 15:Ed(r),r.flags&2048&&sa(9,r,r.return);break;case 3:Ed(r);break;case 12:Ed(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,fp(r)):Ed(r);break;default:Ed(r)}}function fp(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var f=0;f<a.length;f++){var m=a[f];ti=m,jC(m,r)}DC(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:sa(8,a,a.return),fp(a);break;case 22:f=a.stateNode,f._visibility&2&&(f._visibility&=-3,fp(a));break;default:fp(a)}r=r.sibling}}function jC(r,a){for(;ti!==null;){var f=ti;switch(f.tag){case 0:case 11:case 15:sa(8,f,a);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:ld(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,ti=m;else e:for(f=r;ti!==null;){m=ti;var S=m.sibling,A=m.return;if(AC(m),m===f){ti=null;break e}if(S!==null){S.return=A,ti=S;break e}ti=A}}}var m2={getCacheForType:function(r){var a=li(Rn),f=a.data.get(r);return f===void 0&&(f=r(),a.data.set(r,f)),f},cacheSignal:function(){return li(Rn).controller.signal}},g2=typeof WeakMap=="function"?WeakMap:Map,Dt=0,Wt=null,mt=null,xt=0,Ut=0,us=null,ra=!1,Dc=!1,by=!1,So=0,yn=0,oa=0,_l=0,xy=0,ds=0,Lc=0,Ad=null,Yi=null,_y=!1,hp=0,IC=0,pp=1/0,mp=null,aa=null,In=0,la=null,jc=null,Co=0,wy=0,Sy=null,zC=null,Td=0,Cy=null;function fs(){return(Dt&2)!==0&&xt!==0?xt&-xt:G.T!==null?Ny():bi()}function BC(){if(ds===0)if((xt&536870912)===0||pt){var r=Ws;Ws<<=1,(Ws&3932160)===0&&(Ws=262144),ds=r}else ds=536870912;return r=ls.current,r!==null&&(r.flags|=32),ds}function Zi(r,a,f){(r===Wt&&(Ut===2||Ut===9)||r.cancelPendingCommit!==null)&&(Ic(r,0),ca(r,xt,ds,!1)),Xn(r,f),((Dt&2)===0||r!==Wt)&&(r===Wt&&((Dt&2)===0&&(_l|=f),yn===4&&ca(r,xt,ds,!1)),Ir(r))}function UC(r,a,f){if((Dt&6)!==0)throw Error(i(327));var m=!f&&(a&127)===0&&(a&r.expiredLanes)===0||Wn(r,a),S=m?b2(r,a):Ay(r,a,!0),A=m;do{if(S===0){Dc&&!m&&ca(r,a,0,!1);break}else{if(f=r.current.alternate,A&&!v2(f)){S=Ay(r,a,!1),A=!1;continue}if(S===2){if(A=a,r.errorRecoveryDisabledLanes&A)var D=0;else D=r.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){a=D;e:{var V=r;S=Ad;var ee=V.current.memoizedState.isDehydrated;if(ee&&(Ic(V,D).flags|=256),D=Ay(V,D,!1),D!==2){if(by&&!ee){V.errorRecoveryDisabledLanes|=A,_l|=A,S=4;break e}A=Yi,Yi=S,A!==null&&(Yi===null?Yi=A:Yi.push.apply(Yi,A))}S=D}if(A=!1,S!==2)continue}}if(S===1){Ic(r,0),ca(r,a,0,!0);break}e:{switch(m=r,A=S,A){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ca(m,a,ds,!ra);break e;case 2:Yi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(S=hp+300-sn(),10<S)){if(ca(m,a,ds,!ra),hn(m,0,!0)!==0)break e;Co=a,m.timeoutHandle=vE(FC.bind(null,m,f,Yi,mp,_y,a,ds,_l,Lc,ra,A,"Throttled",-0,0),S);break e}FC(m,f,Yi,mp,_y,a,ds,_l,Lc,ra,A,null,-0,0)}}break}while(!0);Ir(r)}function FC(r,a,f,m,S,A,D,V,ee,fe,_e,Te,me,ve){if(r.timeoutHandle=-1,Te=a.subtreeFlags,Te&8192||(Te&16785408)===16785408){Te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xi},MC(a,A,Te);var Ue=(A&62914560)===A?hp-sn():(A&4194048)===A?IC-sn():0;if(Ue=tz(Te,Ue),Ue!==null){Co=A,r.cancelPendingCommit=Ue(YC.bind(null,r,a,A,f,m,S,D,V,ee,_e,Te,null,me,ve)),ca(r,A,D,!fe);return}}YC(r,a,A,f,m,S,D,V,ee)}function v2(r){for(var a=r;;){var f=a.tag;if((f===0||f===11||f===15)&&a.flags&16384&&(f=a.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var S=f[m],A=S.getSnapshot;S=S.value;try{if(!Jn(A(),S))return!1}catch{return!1}}if(f=a.child,a.subtreeFlags&16384&&f!==null)f.return=a,a=f;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ca(r,a,f,m){a&=~xy,a&=~_l,r.suspendedLanes|=a,r.pingedLanes&=~a,m&&(r.warmLanes|=a),m=r.expirationTimes;for(var S=a;0<S;){var A=31-En(S),D=1<<A;m[A]=-1,S&=~D}f!==0&&Ri(r,f,a)}function gp(){return(Dt&6)===0?(Rd(0),!1):!0}function Ey(){if(mt!==null){if(Ut===0)var r=mt.return;else r=mt,ir=Lr=null,Fv(r),Tc=null,ud=0,r=mt;for(;r!==null;)yC(r.alternate,r),r=r.return;mt=null}}function Ic(r,a){var f=r.timeoutHandle;f!==-1&&(r.timeoutHandle=-1,I2(f)),f=r.cancelPendingCommit,f!==null&&(r.cancelPendingCommit=null,f()),Co=0,Ey(),Wt=r,mt=f=Ms(r.current,null),xt=a,Ut=0,us=null,ra=!1,Dc=Wn(r,a),by=!1,Lc=ds=xy=_l=oa=yn=0,Yi=Ad=null,_y=!1,(a&8)!==0&&(a|=a&32);var m=r.entangledLanes;if(m!==0)for(r=r.entanglements,m&=a;0<m;){var S=31-En(m),A=1<<S;a|=r[S],m&=~A}return So=a,ll(),f}function VC(r,a){lt=null,G.H=yd,a===Ac||a===Gh?(a=sS(),Ut=3):a===kv?(a=sS(),Ut=4):Ut=a===iy?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,us=a,mt===null&&(yn=1,rp(r,p(a,r.current)))}function $C(){var r=ls.current;return r===null?!0:(xt&4194048)===xt?Ds===null:(xt&62914560)===xt||(xt&536870912)!==0?r===Ds:!1}function HC(){var r=G.H;return G.H=yd,r===null?yd:r}function GC(){var r=G.A;return G.A=m2,r}function vp(){yn=4,ra||(xt&4194048)!==xt&&ls.current!==null||(Dc=!0),(oa&134217727)===0&&(_l&134217727)===0||Wt===null||ca(Wt,xt,ds,!1)}function Ay(r,a,f){var m=Dt;Dt|=2;var S=HC(),A=GC();(Wt!==r||xt!==a)&&(mp=null,Ic(r,a)),a=!1;var D=yn;e:do try{if(Ut!==0&&mt!==null){var V=mt,ee=us;switch(Ut){case 8:Ey(),D=6;break e;case 3:case 2:case 9:case 6:ls.current===null&&(a=!0);var fe=Ut;if(Ut=0,us=null,zc(r,V,ee,fe),f&&Dc){D=0;break e}break;default:fe=Ut,Ut=0,us=null,zc(r,V,ee,fe)}}y2(),D=yn;break}catch(_e){VC(r,_e)}while(!0);return a&&r.shellSuspendCounter++,ir=Lr=null,Dt=m,G.H=S,G.A=A,mt===null&&(Wt=null,xt=0,ll()),D}function y2(){for(;mt!==null;)KC(mt)}function b2(r,a){var f=Dt;Dt|=2;var m=HC(),S=GC();Wt!==r||xt!==a?(mp=null,pp=sn()+500,Ic(r,a)):Dc=Wn(r,a);e:do try{if(Ut!==0&&mt!==null){a=mt;var A=us;t:switch(Ut){case 1:Ut=0,us=null,zc(r,a,A,1);break;case 2:case 9:if(nS(A)){Ut=0,us=null,qC(a);break}a=function(){Ut!==2&&Ut!==9||Wt!==r||(Ut=7),Ir(r)},A.then(a,a);break e;case 3:Ut=7;break e;case 4:Ut=5;break e;case 7:nS(A)?(Ut=0,us=null,qC(a)):(Ut=0,us=null,zc(r,a,A,7));break;case 5:var D=null;switch(mt.tag){case 26:D=mt.memoizedState;case 5:case 27:var V=mt;if(D?PE(D):V.stateNode.complete){Ut=0,us=null;var ee=V.sibling;if(ee!==null)mt=ee;else{var fe=V.return;fe!==null?(mt=fe,yp(fe)):mt=null}break t}}Ut=0,us=null,zc(r,a,A,5);break;case 6:Ut=0,us=null,zc(r,a,A,6);break;case 8:Ey(),yn=6;break e;default:throw Error(i(462))}}x2();break}catch(_e){VC(r,_e)}while(!0);return ir=Lr=null,G.H=m,G.A=S,Dt=f,mt!==null?0:(Wt=null,xt=0,ll(),yn)}function x2(){for(;mt!==null&&!Ai();)KC(mt)}function KC(r){var a=gC(r.alternate,r,So);r.memoizedProps=r.pendingProps,a===null?yp(r):mt=a}function qC(r){var a=r,f=a.alternate;switch(a.tag){case 15:case 0:a=uC(f,a,a.pendingProps,a.type,void 0,xt);break;case 11:a=uC(f,a,a.pendingProps,a.type.render,a.ref,xt);break;case 5:Fv(a);default:yC(f,a),a=mt=id(a,So),a=gC(f,a,So)}r.memoizedProps=r.pendingProps,a===null?yp(r):mt=a}function zc(r,a,f,m){ir=Lr=null,Fv(a),Tc=null,ud=0;var S=a.return;try{if(l2(r,S,a,f,xt)){yn=1,rp(r,p(f,r.current)),mt=null;return}}catch(A){if(S!==null)throw mt=S,A;yn=1,rp(r,p(f,r.current)),mt=null;return}a.flags&32768?(pt||m===1?r=!0:Dc||(xt&536870912)!==0?r=!1:(ra=r=!0,(m===2||m===9||m===3||m===6)&&(m=ls.current,m!==null&&m.tag===13&&(m.flags|=16384))),WC(a,r)):yp(a)}function yp(r){var a=r;do{if((a.flags&32768)!==0){WC(a,ra);return}r=a.return;var f=d2(a.alternate,a,So);if(f!==null){mt=f;return}if(a=a.sibling,a!==null){mt=a;return}mt=a=r}while(a!==null);yn===0&&(yn=5)}function WC(r,a){do{var f=f2(r.alternate,r);if(f!==null){f.flags&=32767,mt=f;return}if(f=r.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!a&&(r=r.sibling,r!==null)){mt=r;return}mt=r=f}while(r!==null);yn=6,mt=null}function YC(r,a,f,m,S,A,D,V,ee){r.cancelPendingCommit=null;do bp();while(In!==0);if((Dt&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(A=a.lanes|a.childLanes,A|=bc,on(r,f,A,D,V,ee),r===Wt&&(mt=Wt=null,xt=0),jc=a,la=r,Co=f,wy=A,Sy=S,zC=m,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,C2(zt,function(){return eE(),null})):(r.callbackNode=null,r.callbackPriority=0),m=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||m){m=G.T,G.T=null,S=W.p,W.p=2,D=Dt,Dt|=4;try{h2(r,a,f)}finally{Dt=D,W.p=S,G.T=m}}In=1,ZC(),XC(),QC()}}function ZC(){if(In===1){In=0;var r=la,a=jc,f=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||f){f=G.T,G.T=null;var m=W.p;W.p=2;var S=Dt;Dt|=4;try{NC(a,r);var A=zy,D=il(r.containerInfo),V=A.focusedElem,ee=A.selectionRange;if(D!==V&&V&&V.ownerDocument&&mc(V.ownerDocument.documentElement,V)){if(ee!==null&&Rr(V)){var fe=ee.start,_e=ee.end;if(_e===void 0&&(_e=fe),"selectionStart"in V)V.selectionStart=fe,V.selectionEnd=Math.min(_e,V.value.length);else{var Te=V.ownerDocument||document,me=Te&&Te.defaultView||window;if(me.getSelection){var ve=me.getSelection(),Ue=V.textContent.length,Xe=Math.min(ee.start,Ue),Kt=ee.end===void 0?Xe:Math.min(ee.end,Ue);!ve.extend&&Xe>Kt&&(D=Kt,Kt=Xe,Xe=D);var le=nl(V,Xe),ie=nl(V,Kt);if(le&&ie&&(ve.rangeCount!==1||ve.anchorNode!==le.node||ve.anchorOffset!==le.offset||ve.focusNode!==ie.node||ve.focusOffset!==ie.offset)){var de=Te.createRange();de.setStart(le.node,le.offset),ve.removeAllRanges(),Xe>Kt?(ve.addRange(de),ve.extend(ie.node,ie.offset)):(de.setEnd(ie.node,ie.offset),ve.addRange(de))}}}}for(Te=[],ve=V;ve=ve.parentNode;)ve.nodeType===1&&Te.push({element:ve,left:ve.scrollLeft,top:ve.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<Te.length;V++){var Ce=Te[V];Ce.element.scrollLeft=Ce.left,Ce.element.scrollTop=Ce.top}}Op=!!Iy,zy=Iy=null}finally{Dt=S,W.p=m,G.T=f}}r.current=a,In=2}}function XC(){if(In===2){In=0;var r=la,a=jc,f=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||f){f=G.T,G.T=null;var m=W.p;W.p=2;var S=Dt;Dt|=4;try{EC(r,a.alternate,a)}finally{Dt=S,W.p=m,G.T=f}}In=3}}function QC(){if(In===4||In===3){In=0,Es();var r=la,a=jc,f=Co,m=zC;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?In=5:(In=0,jc=la=null,JC(r,r.pendingLanes));var S=r.pendingLanes;if(S===0&&(aa=null),Ie(f),a=a.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(es,a,void 0,(a.current.flags&128)===128)}catch{}if(m!==null){a=G.T,S=W.p,W.p=2,G.T=null;try{for(var A=r.onRecoverableError,D=0;D<m.length;D++){var V=m[D];A(V.value,{componentStack:V.stack})}}finally{G.T=a,W.p=S}}(Co&3)!==0&&bp(),Ir(r),S=r.pendingLanes,(f&261930)!==0&&(S&42)!==0?r===Cy?Td++:(Td=0,Cy=r):Td=0,Rd(0)}}function JC(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,ld(a)))}function bp(){return ZC(),XC(),QC(),eE()}function eE(){if(In!==5)return!1;var r=la,a=wy;wy=0;var f=Ie(Co),m=G.T,S=W.p;try{W.p=32>f?32:f,G.T=null,f=Sy,Sy=null;var A=la,D=Co;if(In=0,jc=la=null,Co=0,(Dt&6)!==0)throw Error(i(331));var V=Dt;if(Dt|=4,LC(A.current),PC(A,A.current,D,f),Dt=V,Rd(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(es,A)}catch{}return!0}finally{W.p=S,G.T=m,JC(r,a)}}function tE(r,a,f){a=p(f,a),a=ny(r.stateNode,a,2),r=ta(r,a,2),r!==null&&(Xn(r,2),Ir(r))}function Ft(r,a,f){if(r.tag===3)tE(r,r,f);else for(;a!==null;){if(a.tag===3){tE(a,r,f);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(aa===null||!aa.has(m))){r=p(f,r),f=nC(2),m=ta(a,f,2),m!==null&&(iC(f,m,a,r),Xn(m,2),Ir(m));break}}a=a.return}}function Ty(r,a,f){var m=r.pingCache;if(m===null){m=r.pingCache=new g2;var S=new Set;m.set(a,S)}else S=m.get(a),S===void 0&&(S=new Set,m.set(a,S));S.has(f)||(by=!0,S.add(f),r=_2.bind(null,r,a,f),a.then(r,r))}function _2(r,a,f){var m=r.pingCache;m!==null&&m.delete(a),r.pingedLanes|=r.suspendedLanes&f,r.warmLanes&=~f,Wt===r&&(xt&f)===f&&(yn===4||yn===3&&(xt&62914560)===xt&&300>sn()-hp?(Dt&2)===0&&Ic(r,0):xy|=f,Lc===xt&&(Lc=0)),Ir(r)}function nE(r,a){a===0&&(a=An()),r=Ps(r,a),r!==null&&(Xn(r,a),Ir(r))}function w2(r){var a=r.memoizedState,f=0;a!==null&&(f=a.retryLane),nE(r,f)}function S2(r,a){var f=0;switch(r.tag){case 31:case 13:var m=r.stateNode,S=r.memoizedState;S!==null&&(f=S.retryLane);break;case 19:m=r.stateNode;break;case 22:m=r.stateNode._retryCache;break;default:throw Error(i(314))}m!==null&&m.delete(a),nE(r,f)}function C2(r,a){return wn(r,a)}var xp=null,Bc=null,Ry=!1,_p=!1,ky=!1,ua=0;function Ir(r){r!==Bc&&r.next===null&&(Bc===null?xp=Bc=r:Bc=Bc.next=r),_p=!0,Ry||(Ry=!0,A2())}function Rd(r,a){if(!ky&&_p){ky=!0;do for(var f=!1,m=xp;m!==null;){if(r!==0){var S=m.pendingLanes;if(S===0)var A=0;else{var D=m.suspendedLanes,V=m.pingedLanes;A=(1<<31-En(42|r)+1)-1,A&=S&~(D&~V),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(f=!0,oE(m,A))}else A=xt,A=hn(m,m===Wt?A:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(A&3)===0||Wn(m,A)||(f=!0,oE(m,A));m=m.next}while(f);ky=!1}}function E2(){iE()}function iE(){_p=Ry=!1;var r=0;ua!==0&&j2()&&(r=ua);for(var a=sn(),f=null,m=xp;m!==null;){var S=m.next,A=sE(m,a);A===0?(m.next=null,f===null?xp=S:f.next=S,S===null&&(Bc=f)):(f=m,(r!==0||(A&3)!==0)&&(_p=!0)),m=S}In!==0&&In!==5||Rd(r),ua!==0&&(ua=0)}function sE(r,a){for(var f=r.suspendedLanes,m=r.pingedLanes,S=r.expirationTimes,A=r.pendingLanes&-62914561;0<A;){var D=31-En(A),V=1<<D,ee=S[D];ee===-1?((V&f)===0||(V&m)!==0)&&(S[D]=Yn(V,a)):ee<=a&&(r.expiredLanes|=V),A&=~V}if(a=Wt,f=xt,f=hn(r,r===a?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m=r.callbackNode,f===0||r===a&&(Ut===2||Ut===9)||r.cancelPendingCommit!==null)return m!==null&&m!==null&&Kn(m),r.callbackNode=null,r.callbackPriority=0;if((f&3)===0||Wn(r,f)){if(a=f&-f,a===r.callbackPriority)return a;switch(m!==null&&Kn(m),Ie(f)){case 2:case 8:f=Et;break;case 32:f=zt;break;case 268435456:f=qs;break;default:f=zt}return m=rE.bind(null,r),f=wn(f,m),r.callbackPriority=a,r.callbackNode=f,a}return m!==null&&m!==null&&Kn(m),r.callbackPriority=2,r.callbackNode=null,2}function rE(r,a){if(In!==0&&In!==5)return r.callbackNode=null,r.callbackPriority=0,null;var f=r.callbackNode;if(bp()&&r.callbackNode!==f)return null;var m=xt;return m=hn(r,r===Wt?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m===0?null:(UC(r,m,a),sE(r,sn()),r.callbackNode!=null&&r.callbackNode===f?rE.bind(null,r):null)}function oE(r,a){if(bp())return null;UC(r,a,!0)}function A2(){z2(function(){(Dt&6)!==0?wn(yt,E2):iE()})}function Ny(){if(ua===0){var r=Cc;r===0&&(r=qn,qn<<=1,(qn&261888)===0&&(qn=256)),ua=r}return ua}function aE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Er(""+r)}function lE(r,a){var f=a.ownerDocument.createElement("input");return f.name=a.name,f.value=a.value,r.id&&f.setAttribute("form",r.id),a.parentNode.insertBefore(f,a),r=new FormData(r),f.parentNode.removeChild(f),r}function T2(r,a,f,m,S){if(a==="submit"&&f&&f.stateNode===S){var A=aE((S[Tn]||null).action),D=m.submitter;D&&(a=(a=D[Tn]||null)?aE(a.formAction):D.getAttribute("formAction"),a!==null&&(A=a,D=null));var V=new lc("action","action",null,m,S);r.push({event:V,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(ua!==0){var ee=D?lE(S,D):new FormData(S);Zv(f,{pending:!0,data:ee,method:S.method,action:A},null,ee)}}else typeof A=="function"&&(V.preventDefault(),ee=D?lE(S,D):new FormData(S),Zv(f,{pending:!0,data:ee,method:S.method,action:A},A,ee))},currentTarget:S}]})}}for(var Oy=0;Oy<Or.length;Oy++){var Py=Or[Oy],R2=Py.toLowerCase(),k2=Py[0].toUpperCase()+Py.slice(1);$i(R2,"on"+k2)}$i(rl,"onAnimationEnd"),$i(Bh,"onAnimationIteration"),$i(ol,"onAnimationStart"),$i("dblclick","onDoubleClick"),$i("focusin","onFocus"),$i("focusout","onBlur"),$i(_v,"onTransitionRun"),$i(Uh,"onTransitionStart"),$i(wv,"onTransitionCancel"),$i(Zo,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kd));function cE(r,a){a=(a&4)!==0;for(var f=0;f<r.length;f++){var m=r[f],S=m.event;m=m.listeners;e:{var A=void 0;if(a)for(var D=m.length-1;0<=D;D--){var V=m[D],ee=V.instance,fe=V.currentTarget;if(V=V.listener,ee!==A&&S.isPropagationStopped())break e;A=V,S.currentTarget=fe;try{A(S)}catch(_e){al(_e)}S.currentTarget=null,A=ee}else for(D=0;D<m.length;D++){if(V=m[D],ee=V.instance,fe=V.currentTarget,V=V.listener,ee!==A&&S.isPropagationStopped())break e;A=V,S.currentTarget=fe;try{A(S)}catch(_e){al(_e)}S.currentTarget=null,A=ee}}}}function gt(r,a){var f=a[As];f===void 0&&(f=a[As]=new Set);var m=r+"__bubble";f.has(m)||(uE(a,r,2,!1),f.add(m))}function My(r,a,f){var m=0;a&&(m|=4),uE(f,r,m,a)}var wp="_reactListening"+Math.random().toString(36).slice(2);function Dy(r){if(!r[wp]){r[wp]=!0,Xs.forEach(function(f){f!=="selectionchange"&&(N2.has(f)||My(f,!1,r),My(f,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[wp]||(a[wp]=!0,My("selectionchange",!1,a))}}function uE(r,a,f,m){switch(BE(a)){case 2:var S=sz;break;case 8:S=rz;break;default:S=Yy}f=S.bind(null,a,f,r),S=void 0,!qa||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(S=!0),m?S!==void 0?r.addEventListener(a,f,{capture:!0,passive:S}):r.addEventListener(a,f,!0):S!==void 0?r.addEventListener(a,f,{passive:S}):r.addEventListener(a,f,!1)}function Ly(r,a,f,m,S){var A=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var D=m.tag;if(D===3||D===4){var V=m.stateNode.containerInfo;if(V===S)break;if(D===4)for(D=m.return;D!==null;){var ee=D.tag;if((ee===3||ee===4)&&D.stateNode.containerInfo===S)return;D=D.return}for(;V!==null;){if(D=Zs(V),D===null)return;if(ee=D.tag,ee===5||ee===6||ee===26||ee===27){m=A=D;continue e}V=V.parentNode}}m=m.return}Ku(function(){var fe=A,_e=Ka(f),Te=[];e:{var me=Fh.get(r);if(me!==void 0){var ve=lc,Ue=r;switch(r){case"keypress":if(Wa(f)===0)break e;case"keydown":case"keyup":ve=Th;break;case"focusin":Ue="focus",ve=Yu;break;case"focusout":Ue="blur",ve=Yu;break;case"beforeblur":case"afterblur":ve=Yu;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=wh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=uv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=mv;break;case rl:case Bh:case ol:ve=Zu;break;case Zo:ve=Nh;break;case"scroll":case"scrollend":ve=bt;break;case"wheel":ve=co;break;case"copy":case"cut":case"paste":ve=Rs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=Rh;break;case"toggle":case"beforetoggle":ve=Xa}var Xe=(a&4)!==0,Kt=!Xe&&(r==="scroll"||r==="scrollend"),le=Xe?me!==null?me+"Capture":null:me;Xe=[];for(var ie=fe,de;ie!==null;){var Ce=ie;if(de=Ce.stateNode,Ce=Ce.tag,Ce!==5&&Ce!==26&&Ce!==27||de===null||le===null||(Ce=ao(ie,le),Ce!=null&&Xe.push(Nd(ie,Ce,de))),Kt)break;ie=ie.return}0<Xe.length&&(me=new ve(me,Ue,null,f,_e),Te.push({event:me,listeners:Xe}))}}if((a&7)===0){e:{if(me=r==="mouseover"||r==="pointerover",ve=r==="mouseout"||r==="pointerout",me&&f!==oo&&(Ue=f.relatedTarget||f.fromElement)&&(Zs(Ue)||Ue[Ys]))break e;if((ve||me)&&(me=_e.window===_e?_e:(me=_e.ownerDocument)?me.defaultView||me.parentWindow:window,ve?(Ue=f.relatedTarget||f.toElement,ve=fe,Ue=Ue?Zs(Ue):null,Ue!==null&&(Kt=o(Ue),Xe=Ue.tag,Ue!==Kt||Xe!==5&&Xe!==27&&Xe!==6)&&(Ue=null)):(ve=null,Ue=fe),ve!==Ue)){if(Xe=wh,Ce="onMouseLeave",le="onMouseEnter",ie="mouse",(r==="pointerout"||r==="pointerover")&&(Xe=Rh,Ce="onPointerLeave",le="onPointerEnter",ie="pointer"),Kt=ve==null?me:is(ve),de=Ue==null?me:is(Ue),me=new Xe(Ce,ie+"leave",ve,f,_e),me.target=Kt,me.relatedTarget=de,Ce=null,Zs(_e)===fe&&(Xe=new Xe(le,ie+"enter",Ue,f,_e),Xe.target=de,Xe.relatedTarget=Kt,Ce=Xe),Kt=Ce,ve&&Ue)t:{for(Xe=O2,le=ve,ie=Ue,de=0,Ce=le;Ce;Ce=Xe(Ce))de++;Ce=0;for(var We=ie;We;We=Xe(We))Ce++;for(;0<de-Ce;)le=Xe(le),de--;for(;0<Ce-de;)ie=Xe(ie),Ce--;for(;de--;){if(le===ie||ie!==null&&le===ie.alternate){Xe=le;break t}le=Xe(le),ie=Xe(ie)}Xe=null}else Xe=null;ve!==null&&dE(Te,me,ve,Xe,!1),Ue!==null&&Kt!==null&&dE(Te,Kt,Ue,Xe,!0)}}e:{if(me=fe?is(fe):window,ve=me.nodeName&&me.nodeName.toLowerCase(),ve==="select"||ve==="input"&&me.type==="file")var Rt=tl;else if(ks(me))if(Dh)Rt=xv;else{Rt=bv;var He=er}else ve=me.nodeName,!ve||ve.toLowerCase()!=="input"||me.type!=="checkbox"&&me.type!=="radio"?fe&&ro(fe.elementType)&&(Rt=tl):Rt=Ko;if(Rt&&(Rt=Rt(r,fe))){Mh(Te,Rt,f,_e);break e}He&&He(r,me,fe),r==="focusout"&&fe&&me.type==="number"&&fe.memoizedProps.value!=null&&Je(me,"number",me.value)}switch(He=fe?is(fe):window,r){case"focusin":(ks(He)||He.contentEditable==="true")&&(kr=He,vc=fe,sl=null);break;case"focusout":sl=vc=kr=null;break;case"mousedown":Wo=!0;break;case"contextmenu":case"mouseup":case"dragend":Wo=!1,Ih(Te,f,_e);break;case"selectionchange":if(gc)break;case"keydown":case"keyup":Ih(Te,f,_e)}var ut;if(uc)e:{switch(r){case"compositionstart":var _t="onCompositionStart";break e;case"compositionend":_t="onCompositionEnd";break e;case"compositionupdate":_t="onCompositionUpdate";break e}_t=void 0}else $o?Ph(r,f)&&(_t="onCompositionEnd"):r==="keydown"&&f.keyCode===229&&(_t="onCompositionStart");_t&&(dc&&f.locale!=="ko"&&($o||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&$o&&(ut=Ar()):(Ts=_e,lo="value"in Ts?Ts.value:Ts.textContent,$o=!0)),He=Sp(fe,_t),0<He.length&&(_t=new Xu(_t,r,null,f,_e),Te.push({event:_t,listeners:He}),ut?_t.data=ut:(ut=td(f),ut!==null&&(_t.data=ut)))),(ut=vv?as(r,f):Ho(r,f))&&(_t=Sp(fe,"onBeforeInput"),0<_t.length&&(He=new Xu("onBeforeInput","beforeinput",null,f,_e),Te.push({event:He,listeners:_t}),He.data=ut)),T2(Te,r,fe,f,_e)}cE(Te,a)})}function Nd(r,a,f){return{instance:r,listener:a,currentTarget:f}}function Sp(r,a){for(var f=a+"Capture",m=[];r!==null;){var S=r,A=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||A===null||(S=ao(r,f),S!=null&&m.unshift(Nd(r,S,A)),S=ao(r,a),S!=null&&m.push(Nd(r,S,A))),r.tag===3)return m;r=r.return}return[]}function O2(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function dE(r,a,f,m,S){for(var A=a._reactName,D=[];f!==null&&f!==m;){var V=f,ee=V.alternate,fe=V.stateNode;if(V=V.tag,ee!==null&&ee===m)break;V!==5&&V!==26&&V!==27||fe===null||(ee=fe,S?(fe=ao(f,A),fe!=null&&D.unshift(Nd(f,fe,ee))):S||(fe=ao(f,A),fe!=null&&D.push(Nd(f,fe,ee)))),f=f.return}D.length!==0&&r.push({event:a,listeners:D})}var P2=/\r\n?/g,M2=/\u0000|\uFFFD/g;function fE(r){return(typeof r=="string"?r:""+r).replace(P2,`
`).replace(M2,"")}function hE(r,a){return a=fE(a),fE(r)===a}function Gt(r,a,f,m,S,A){switch(f){case"children":typeof m=="string"?a==="body"||a==="textarea"&&m===""||Ct(r,m):(typeof m=="number"||typeof m=="bigint")&&a!=="body"&&Ct(r,""+m);break;case"className":F(r,"class",m);break;case"tabIndex":F(r,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":F(r,f,m);break;case"style":Sr(r,m,A);break;case"data":if(a!=="object"){F(r,"data",m);break}case"src":case"href":if(m===""&&(a!=="a"||f!=="href")){r.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(f);break}m=Er(""+m),r.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){r.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(f==="formAction"?(a!=="input"&&Gt(r,a,"name",S.name,S,null),Gt(r,a,"formEncType",S.formEncType,S,null),Gt(r,a,"formMethod",S.formMethod,S,null),Gt(r,a,"formTarget",S.formTarget,S,null)):(Gt(r,a,"encType",S.encType,S,null),Gt(r,a,"method",S.method,S,null),Gt(r,a,"target",S.target,S,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(f);break}m=Er(""+m),r.setAttribute(f,m);break;case"onClick":m!=null&&(r.onclick=xi);break;case"onScroll":m!=null&&gt("scroll",r);break;case"onScrollEnd":m!=null&&gt("scrollend",r);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(f=m.__html,f!=null){if(S.children!=null)throw Error(i(60));r.innerHTML=f}}break;case"multiple":r.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":r.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){r.removeAttribute("xlink:href");break}f=Er(""+m),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(f,""+m):r.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(f,""):r.removeAttribute(f);break;case"capture":case"download":m===!0?r.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(f,m):r.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?r.setAttribute(f,m):r.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?r.removeAttribute(f):r.setAttribute(f,m);break;case"popover":gt("beforetoggle",r),gt("toggle",r),ft(r,"popover",m);break;case"xlinkActuate":J(r,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":J(r,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":J(r,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":J(r,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":J(r,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":J(r,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":J(r,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":J(r,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":J(r,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":ft(r,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=Cr.get(f)||f,ft(r,f,m))}}function jy(r,a,f,m,S,A){switch(f){case"style":Sr(r,m,A);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(f=m.__html,f!=null){if(S.children!=null)throw Error(i(60));r.innerHTML=f}}break;case"children":typeof m=="string"?Ct(r,m):(typeof m=="number"||typeof m=="bigint")&&Ct(r,""+m);break;case"onScroll":m!=null&&gt("scroll",r);break;case"onScrollEnd":m!=null&&gt("scrollend",r);break;case"onClick":m!=null&&(r.onclick=xi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oc.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(S=f.endsWith("Capture"),a=f.slice(2,S?f.length-7:void 0),A=r[Tn]||null,A=A!=null?A[f]:null,typeof A=="function"&&r.removeEventListener(a,A,S),typeof m=="function")){typeof A!="function"&&A!==null&&(f in r?r[f]=null:r.hasAttribute(f)&&r.removeAttribute(f)),r.addEventListener(a,m,S);break e}f in r?r[f]=m:m===!0?r.setAttribute(f,""):ft(r,f,m)}}}function ui(r,a,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gt("error",r),gt("load",r);var m=!1,S=!1,A;for(A in f)if(f.hasOwnProperty(A)){var D=f[A];if(D!=null)switch(A){case"src":m=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Gt(r,a,A,D,f,null)}}S&&Gt(r,a,"srcSet",f.srcSet,f,null),m&&Gt(r,a,"src",f.src,f,null);return;case"input":gt("invalid",r);var V=A=D=S=null,ee=null,fe=null;for(m in f)if(f.hasOwnProperty(m)){var _e=f[m];if(_e!=null)switch(m){case"name":S=_e;break;case"type":D=_e;break;case"checked":ee=_e;break;case"defaultChecked":fe=_e;break;case"value":A=_e;break;case"defaultValue":V=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(i(137,a));break;default:Gt(r,a,m,_e,f,null)}}ze(r,A,V,ee,fe,D,S,!1);return;case"select":gt("invalid",r),m=D=A=null;for(S in f)if(f.hasOwnProperty(S)&&(V=f[S],V!=null))switch(S){case"value":A=V;break;case"defaultValue":D=V;break;case"multiple":m=V;default:Gt(r,a,S,V,f,null)}a=A,f=D,r.multiple=!!m,a!=null?qe(r,!!m,a,!1):f!=null&&qe(r,!!m,f,!0);return;case"textarea":gt("invalid",r),A=S=m=null;for(D in f)if(f.hasOwnProperty(D)&&(V=f[D],V!=null))switch(D){case"value":m=V;break;case"defaultValue":S=V;break;case"children":A=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(91));break;default:Gt(r,a,D,V,f,null)}Bt(r,m,S,A);return;case"option":for(ee in f)f.hasOwnProperty(ee)&&(m=f[ee],m!=null)&&(ee==="selected"?r.selected=m&&typeof m!="function"&&typeof m!="symbol":Gt(r,a,ee,m,f,null));return;case"dialog":gt("beforetoggle",r),gt("toggle",r),gt("cancel",r),gt("close",r);break;case"iframe":case"object":gt("load",r);break;case"video":case"audio":for(m=0;m<kd.length;m++)gt(kd[m],r);break;case"image":gt("error",r),gt("load",r);break;case"details":gt("toggle",r);break;case"embed":case"source":case"link":gt("error",r),gt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in f)if(f.hasOwnProperty(fe)&&(m=f[fe],m!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Gt(r,a,fe,m,f,null)}return;default:if(ro(a)){for(_e in f)f.hasOwnProperty(_e)&&(m=f[_e],m!==void 0&&jy(r,a,_e,m,f,void 0));return}}for(V in f)f.hasOwnProperty(V)&&(m=f[V],m!=null&&Gt(r,a,V,m,f,null))}function D2(r,a,f,m){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,A=null,D=null,V=null,ee=null,fe=null,_e=null;for(ve in f){var Te=f[ve];if(f.hasOwnProperty(ve)&&Te!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":ee=Te;default:m.hasOwnProperty(ve)||Gt(r,a,ve,null,m,Te)}}for(var me in m){var ve=m[me];if(Te=f[me],m.hasOwnProperty(me)&&(ve!=null||Te!=null))switch(me){case"type":A=ve;break;case"name":S=ve;break;case"checked":fe=ve;break;case"defaultChecked":_e=ve;break;case"value":D=ve;break;case"defaultValue":V=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(i(137,a));break;default:ve!==Te&&Gt(r,a,me,ve,m,Te)}}Oe(r,D,V,ee,fe,_e,A,S);return;case"select":ve=D=V=me=null;for(A in f)if(ee=f[A],f.hasOwnProperty(A)&&ee!=null)switch(A){case"value":break;case"multiple":ve=ee;default:m.hasOwnProperty(A)||Gt(r,a,A,null,m,ee)}for(S in m)if(A=m[S],ee=f[S],m.hasOwnProperty(S)&&(A!=null||ee!=null))switch(S){case"value":me=A;break;case"defaultValue":V=A;break;case"multiple":D=A;default:A!==ee&&Gt(r,a,S,A,m,ee)}a=V,f=D,m=ve,me!=null?qe(r,!!f,me,!1):!!m!=!!f&&(a!=null?qe(r,!!f,a,!0):qe(r,!!f,f?[]:"",!1));return;case"textarea":ve=me=null;for(V in f)if(S=f[V],f.hasOwnProperty(V)&&S!=null&&!m.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:Gt(r,a,V,null,m,S)}for(D in m)if(S=m[D],A=f[D],m.hasOwnProperty(D)&&(S!=null||A!=null))switch(D){case"value":me=S;break;case"defaultValue":ve=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:S!==A&&Gt(r,a,D,S,m,A)}dt(r,me,ve);return;case"option":for(var Ue in f)me=f[Ue],f.hasOwnProperty(Ue)&&me!=null&&!m.hasOwnProperty(Ue)&&(Ue==="selected"?r.selected=!1:Gt(r,a,Ue,null,m,me));for(ee in m)me=m[ee],ve=f[ee],m.hasOwnProperty(ee)&&me!==ve&&(me!=null||ve!=null)&&(ee==="selected"?r.selected=me&&typeof me!="function"&&typeof me!="symbol":Gt(r,a,ee,me,m,ve));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xe in f)me=f[Xe],f.hasOwnProperty(Xe)&&me!=null&&!m.hasOwnProperty(Xe)&&Gt(r,a,Xe,null,m,me);for(fe in m)if(me=m[fe],ve=f[fe],m.hasOwnProperty(fe)&&me!==ve&&(me!=null||ve!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(i(137,a));break;default:Gt(r,a,fe,me,m,ve)}return;default:if(ro(a)){for(var Kt in f)me=f[Kt],f.hasOwnProperty(Kt)&&me!==void 0&&!m.hasOwnProperty(Kt)&&jy(r,a,Kt,void 0,m,me);for(_e in m)me=m[_e],ve=f[_e],!m.hasOwnProperty(_e)||me===ve||me===void 0&&ve===void 0||jy(r,a,_e,me,m,ve);return}}for(var le in f)me=f[le],f.hasOwnProperty(le)&&me!=null&&!m.hasOwnProperty(le)&&Gt(r,a,le,null,m,me);for(Te in m)me=m[Te],ve=f[Te],!m.hasOwnProperty(Te)||me===ve||me==null&&ve==null||Gt(r,a,Te,me,m,ve)}function pE(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function L2(){if(typeof performance.getEntriesByType=="function"){for(var r=0,a=0,f=performance.getEntriesByType("resource"),m=0;m<f.length;m++){var S=f[m],A=S.transferSize,D=S.initiatorType,V=S.duration;if(A&&V&&pE(D)){for(D=0,V=S.responseEnd,m+=1;m<f.length;m++){var ee=f[m],fe=ee.startTime;if(fe>V)break;var _e=ee.transferSize,Te=ee.initiatorType;_e&&pE(Te)&&(ee=ee.responseEnd,D+=_e*(ee<V?1:(V-fe)/(ee-fe)))}if(--m,a+=8*(A+D)/(S.duration/1e3),r++,10<r)break}}if(0<r)return a/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Iy=null,zy=null;function Cp(r){return r.nodeType===9?r:r.ownerDocument}function mE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gE(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function By(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Uy=null;function j2(){var r=window.event;return r&&r.type==="popstate"?r===Uy?!1:(Uy=r,!0):(Uy=null,!1)}var vE=typeof setTimeout=="function"?setTimeout:void 0,I2=typeof clearTimeout=="function"?clearTimeout:void 0,yE=typeof Promise=="function"?Promise:void 0,z2=typeof queueMicrotask=="function"?queueMicrotask:typeof yE<"u"?function(r){return yE.resolve(null).then(r).catch(B2)}:vE;function B2(r){setTimeout(function(){throw r})}function da(r){return r==="head"}function bE(r,a){var f=a,m=0;do{var S=f.nextSibling;if(r.removeChild(f),S&&S.nodeType===8)if(f=S.data,f==="/$"||f==="/&"){if(m===0){r.removeChild(S),$c(a);return}m--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")m++;else if(f==="html")Od(r.ownerDocument.documentElement);else if(f==="head"){f=r.ownerDocument.head,Od(f);for(var A=f.firstChild;A;){var D=A.nextSibling,V=A.nodeName;A[to]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&A.rel.toLowerCase()==="stylesheet"||f.removeChild(A),A=D}}else f==="body"&&Od(r.ownerDocument.body);f=S}while(f);$c(a)}function xE(r,a){var f=r;r=0;do{var m=f.nextSibling;if(f.nodeType===1?a?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(a?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),m&&m.nodeType===8)if(f=m.data,f==="/$"){if(r===0)break;r--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||r++;f=m}while(f)}function Fy(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var f=a;switch(a=a.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Fy(f),Ha(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}r.removeChild(f)}}function U2(r,a,f,m){for(;r.nodeType===1;){var S=f;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!m&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(m){if(!r[to])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(A=r.getAttribute("rel"),A==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(A!==S.rel||r.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||r.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||r.getAttribute("title")!==(S.title==null?null:S.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(A=r.getAttribute("src"),(A!==(S.src==null?null:S.src)||r.getAttribute("type")!==(S.type==null?null:S.type)||r.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&A&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var A=S.name==null?null:""+S.name;if(S.type==="hidden"&&r.getAttribute("name")===A)return r}else return r;if(r=Ls(r.nextSibling),r===null)break}return null}function F2(r,a,f){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!f||(r=Ls(r.nextSibling),r===null))return null;return r}function _E(r,a){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=Ls(r.nextSibling),r===null))return null;return r}function Vy(r){return r.data==="$?"||r.data==="$~"}function $y(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function V2(r,a){var f=r.ownerDocument;if(r.data==="$~")r._reactRetry=a;else if(r.data!=="$?"||f.readyState!=="loading")a();else{var m=function(){a(),f.removeEventListener("DOMContentLoaded",m)};f.addEventListener("DOMContentLoaded",m),r._reactRetry=m}}function Ls(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return r}var Hy=null;function wE(r){r=r.nextSibling;for(var a=0;r;){if(r.nodeType===8){var f=r.data;if(f==="/$"||f==="/&"){if(a===0)return Ls(r.nextSibling);a--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||a++}r=r.nextSibling}return null}function SE(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var f=r.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(a===0)return r;a--}else f!=="/$"&&f!=="/&"||a++}r=r.previousSibling}return null}function CE(r,a,f){switch(a=Cp(f),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Od(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Ha(r)}var js=new Map,EE=new Set;function Ep(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Eo=W.d;W.d={f:$2,r:H2,D:G2,C:K2,L:q2,m:W2,X:Z2,S:Y2,M:X2};function $2(){var r=Eo.f(),a=gp();return r||a}function H2(r){var a=wr(r);a!==null&&a.tag===5&&a.type==="form"?VS(a):Eo.r(r)}var Uc=typeof document>"u"?null:document;function AE(r,a,f){var m=Uc;if(m&&typeof a=="string"&&a){var S=Ee(a);S='link[rel="'+r+'"][href="'+S+'"]',typeof f=="string"&&(S+='[crossorigin="'+f+'"]'),EE.has(S)||(EE.add(S),r={rel:r,crossOrigin:f,href:a},m.querySelector(S)===null&&(a=m.createElement("link"),ui(a,"link",r),ln(a),m.head.appendChild(a)))}}function G2(r){Eo.D(r),AE("dns-prefetch",r,null)}function K2(r,a){Eo.C(r,a),AE("preconnect",r,a)}function q2(r,a,f){Eo.L(r,a,f);var m=Uc;if(m&&r&&a){var S='link[rel="preload"][as="'+Ee(a)+'"]';a==="image"&&f&&f.imageSrcSet?(S+='[imagesrcset="'+Ee(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(S+='[imagesizes="'+Ee(f.imageSizes)+'"]')):S+='[href="'+Ee(r)+'"]';var A=S;switch(a){case"style":A=Fc(r);break;case"script":A=Vc(r)}js.has(A)||(r=v({rel:"preload",href:a==="image"&&f&&f.imageSrcSet?void 0:r,as:a},f),js.set(A,r),m.querySelector(S)!==null||a==="style"&&m.querySelector(Pd(A))||a==="script"&&m.querySelector(Md(A))||(a=m.createElement("link"),ui(a,"link",r),ln(a),m.head.appendChild(a)))}}function W2(r,a){Eo.m(r,a);var f=Uc;if(f&&r){var m=a&&typeof a.as=="string"?a.as:"script",S='link[rel="modulepreload"][as="'+Ee(m)+'"][href="'+Ee(r)+'"]',A=S;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=Vc(r)}if(!js.has(A)&&(r=v({rel:"modulepreload",href:r},a),js.set(A,r),f.querySelector(S)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Md(A)))return}m=f.createElement("link"),ui(m,"link",r),ln(m),f.head.appendChild(m)}}}function Y2(r,a,f){Eo.S(r,a,f);var m=Uc;if(m&&r){var S=zi(m).hoistableStyles,A=Fc(r);a=a||"default";var D=S.get(A);if(!D){var V={loading:0,preload:null};if(D=m.querySelector(Pd(A)))V.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":a},f),(f=js.get(A))&&Gy(r,f);var ee=D=m.createElement("link");ln(ee),ui(ee,"link",r),ee._p=new Promise(function(fe,_e){ee.onload=fe,ee.onerror=_e}),ee.addEventListener("load",function(){V.loading|=1}),ee.addEventListener("error",function(){V.loading|=2}),V.loading|=4,Ap(D,a,m)}D={type:"stylesheet",instance:D,count:1,state:V},S.set(A,D)}}}function Z2(r,a){Eo.X(r,a);var f=Uc;if(f&&r){var m=zi(f).hoistableScripts,S=Vc(r),A=m.get(S);A||(A=f.querySelector(Md(S)),A||(r=v({src:r,async:!0},a),(a=js.get(S))&&Ky(r,a),A=f.createElement("script"),ln(A),ui(A,"link",r),f.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},m.set(S,A))}}function X2(r,a){Eo.M(r,a);var f=Uc;if(f&&r){var m=zi(f).hoistableScripts,S=Vc(r),A=m.get(S);A||(A=f.querySelector(Md(S)),A||(r=v({src:r,async:!0,type:"module"},a),(a=js.get(S))&&Ky(r,a),A=f.createElement("script"),ln(A),ui(A,"link",r),f.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},m.set(S,A))}}function TE(r,a,f,m){var S=(S=we.current)?Ep(S):null;if(!S)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(a=Fc(f.href),f=zi(S).hoistableStyles,m=f.get(a),m||(m={type:"style",instance:null,count:0,state:null},f.set(a,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){r=Fc(f.href);var A=zi(S).hoistableStyles,D=A.get(r);if(D||(S=S.ownerDocument||S,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(r,D),(A=S.querySelector(Pd(r)))&&!A._p&&(D.instance=A,D.state.loading=5),js.has(r)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},js.set(r,f),A||Q2(S,r,f,D.state))),a&&m===null)throw Error(i(528,""));return D}if(a&&m!==null)throw Error(i(529,""));return null;case"script":return a=f.async,f=f.src,typeof f=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Vc(f),f=zi(S).hoistableScripts,m=f.get(a),m||(m={type:"script",instance:null,count:0,state:null},f.set(a,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Fc(r){return'href="'+Ee(r)+'"'}function Pd(r){return'link[rel="stylesheet"]['+r+"]"}function RE(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function Q2(r,a,f,m){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?m.loading=1:(a=r.createElement("link"),m.preload=a,a.addEventListener("load",function(){return m.loading|=1}),a.addEventListener("error",function(){return m.loading|=2}),ui(a,"link",f),ln(a),r.head.appendChild(a))}function Vc(r){return'[src="'+Ee(r)+'"]'}function Md(r){return"script[async]"+r}function kE(r,a,f){if(a.count++,a.instance===null)switch(a.type){case"style":var m=r.querySelector('style[data-href~="'+Ee(f.href)+'"]');if(m)return a.instance=m,ln(m),m;var S=v({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(r.ownerDocument||r).createElement("style"),ln(m),ui(m,"style",S),Ap(m,f.precedence,r),a.instance=m;case"stylesheet":S=Fc(f.href);var A=r.querySelector(Pd(S));if(A)return a.state.loading|=4,a.instance=A,ln(A),A;m=RE(f),(S=js.get(S))&&Gy(m,S),A=(r.ownerDocument||r).createElement("link"),ln(A);var D=A;return D._p=new Promise(function(V,ee){D.onload=V,D.onerror=ee}),ui(A,"link",m),a.state.loading|=4,Ap(A,f.precedence,r),a.instance=A;case"script":return A=Vc(f.src),(S=r.querySelector(Md(A)))?(a.instance=S,ln(S),S):(m=f,(S=js.get(A))&&(m=v({},f),Ky(m,S)),r=r.ownerDocument||r,S=r.createElement("script"),ln(S),ui(S,"link",m),r.head.appendChild(S),a.instance=S);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(m=a.instance,a.state.loading|=4,Ap(m,f.precedence,r));return a.instance}function Ap(r,a,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=m.length?m[m.length-1]:null,A=S,D=0;D<m.length;D++){var V=m[D];if(V.dataset.precedence===a)A=V;else if(A!==S)break}A?A.parentNode.insertBefore(r,A.nextSibling):(a=f.nodeType===9?f.head:f,a.insertBefore(r,a.firstChild))}function Gy(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Ky(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Tp=null;function NE(r,a,f){if(Tp===null){var m=new Map,S=Tp=new Map;S.set(f,m)}else S=Tp,m=S.get(f),m||(m=new Map,S.set(f,m));if(m.has(r))return m;for(m.set(r,null),f=f.getElementsByTagName(r),S=0;S<f.length;S++){var A=f[S];if(!(A[to]||A[pn]||r==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var D=A.getAttribute(a)||"";D=r+D;var V=m.get(D);V?V.push(A):m.set(D,[A])}}return m}function OE(r,a,f){r=r.ownerDocument||r,r.head.insertBefore(f,a==="title"?r.querySelector("head > title"):null)}function J2(r,a,f){if(f===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(r=a.disabled,typeof a.precedence=="string"&&r==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function PE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function ez(r,a,f,m){if(f.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var S=Fc(m.href),A=a.querySelector(Pd(S));if(A){a=A._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(r.count++,r=Rp.bind(r),a.then(r,r)),f.state.loading|=4,f.instance=A,ln(A);return}A=a.ownerDocument||a,m=RE(m),(S=js.get(S))&&Gy(m,S),A=A.createElement("link"),ln(A);var D=A;D._p=new Promise(function(V,ee){D.onload=V,D.onerror=ee}),ui(A,"link",m),f.instance=A}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(f,a),(a=f.state.preload)&&(f.state.loading&3)===0&&(r.count++,f=Rp.bind(r),a.addEventListener("load",f),a.addEventListener("error",f))}}var qy=0;function tz(r,a){return r.stylesheets&&r.count===0&&Np(r,r.stylesheets),0<r.count||0<r.imgCount?function(f){var m=setTimeout(function(){if(r.stylesheets&&Np(r,r.stylesheets),r.unsuspend){var A=r.unsuspend;r.unsuspend=null,A()}},6e4+a);0<r.imgBytes&&qy===0&&(qy=62500*L2());var S=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Np(r,r.stylesheets),r.unsuspend)){var A=r.unsuspend;r.unsuspend=null,A()}},(r.imgBytes>qy?50:800)+a);return r.unsuspend=f,function(){r.unsuspend=null,clearTimeout(m),clearTimeout(S)}}:null}function Rp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Np(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var kp=null;function Np(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,kp=new Map,a.forEach(nz,r),kp=null,Rp.call(r))}function nz(r,a){if(!(a.state.loading&4)){var f=kp.get(r);if(f)var m=f.get(null);else{f=new Map,kp.set(r,f);for(var S=r.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<S.length;A++){var D=S[A];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(f.set(D.dataset.precedence,D),m=D)}m&&f.set(null,m)}S=a.instance,D=S.getAttribute("data-precedence"),A=f.get(D)||m,A===m&&f.set(null,S),f.set(D,S),this.count++,m=Rp.bind(this),S.addEventListener("load",m),S.addEventListener("error",m),A?A.parentNode.insertBefore(S,A.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(S,r.firstChild)),a.state.loading|=4}}var Dd={$$typeof:O,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function iz(r,a,f,m,S,A,D,V,ee){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zn(0),this.hiddenUpdates=Zn(null),this.identifierPrefix=m,this.onUncaughtError=S,this.onCaughtError=A,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ee,this.incompleteTransitions=new Map}function ME(r,a,f,m,S,A,D,V,ee,fe,_e,Te){return r=new iz(r,a,f,D,ee,fe,_e,Te,V),a=1,A===!0&&(a|=24),A=wi(3,null,null,a),r.current=A,A.stateNode=r,a=Av(),a.refCount++,r.pooledCache=a,a.refCount++,A.memoizedState={element:m,isDehydrated:f,cache:a},Nv(A),r}function DE(r){return r?(r=uo,r):uo}function LE(r,a,f,m,S,A){S=DE(S),m.context===null?m.context=S:m.pendingContext=S,m=ea(a),m.payload={element:f},A=A===void 0?null:A,A!==null&&(m.callback=A),f=ta(r,m,a),f!==null&&(Zi(f,r,a),fd(f,r,a))}function jE(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var f=r.retryLane;r.retryLane=f!==0&&f<a?f:a}}function Wy(r,a){jE(r,a),(r=r.alternate)&&jE(r,a)}function IE(r){if(r.tag===13||r.tag===31){var a=Ps(r,67108864);a!==null&&Zi(a,r,67108864),Wy(r,67108864)}}function zE(r){if(r.tag===13||r.tag===31){var a=fs();a=an(a);var f=Ps(r,a);f!==null&&Zi(f,r,a),Wy(r,a)}}var Op=!0;function sz(r,a,f,m){var S=G.T;G.T=null;var A=W.p;try{W.p=2,Yy(r,a,f,m)}finally{W.p=A,G.T=S}}function rz(r,a,f,m){var S=G.T;G.T=null;var A=W.p;try{W.p=8,Yy(r,a,f,m)}finally{W.p=A,G.T=S}}function Yy(r,a,f,m){if(Op){var S=Zy(m);if(S===null)Ly(r,a,m,Pp,f),UE(r,m);else if(az(S,r,a,f,m))m.stopPropagation();else if(UE(r,m),a&4&&-1<oz.indexOf(r)){for(;S!==null;){var A=wr(S);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var D=Zt(A.pendingLanes);if(D!==0){var V=A;for(V.pendingLanes|=2,V.entangledLanes|=2;D;){var ee=1<<31-En(D);V.entanglements[1]|=ee,D&=~ee}Ir(A),(Dt&6)===0&&(pp=sn()+500,Rd(0))}}break;case 31:case 13:V=Ps(A,2),V!==null&&Zi(V,A,2),gp(),Wy(A,2)}if(A=Zy(m),A===null&&Ly(r,a,m,Pp,f),A===S)break;S=A}S!==null&&m.stopPropagation()}else Ly(r,a,m,null,f)}}function Zy(r){return r=Ka(r),Xy(r)}var Pp=null;function Xy(r){if(Pp=null,r=Zs(r),r!==null){var a=o(r);if(a===null)r=null;else{var f=a.tag;if(f===13){if(r=l(a),r!==null)return r;r=null}else if(f===31){if(r=c(a),r!==null)return r;r=null}else if(f===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Pp=r,null}function BE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_r()){case yt:return 2;case Et:return 8;case zt:case Ti:return 32;case qs:return 268435456;default:return 32}default:return 32}}var Qy=!1,fa=null,ha=null,pa=null,Ld=new Map,jd=new Map,ma=[],oz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function UE(r,a){switch(r){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":Ld.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":jd.delete(a.pointerId)}}function Id(r,a,f,m,S,A){return r===null||r.nativeEvent!==A?(r={blockedOn:a,domEventName:f,eventSystemFlags:m,nativeEvent:A,targetContainers:[S]},a!==null&&(a=wr(a),a!==null&&IE(a)),r):(r.eventSystemFlags|=m,a=r.targetContainers,S!==null&&a.indexOf(S)===-1&&a.push(S),r)}function az(r,a,f,m,S){switch(a){case"focusin":return fa=Id(fa,r,a,f,m,S),!0;case"dragenter":return ha=Id(ha,r,a,f,m,S),!0;case"mouseover":return pa=Id(pa,r,a,f,m,S),!0;case"pointerover":var A=S.pointerId;return Ld.set(A,Id(Ld.get(A)||null,r,a,f,m,S)),!0;case"gotpointercapture":return A=S.pointerId,jd.set(A,Id(jd.get(A)||null,r,a,f,m,S)),!0}return!1}function FE(r){var a=Zs(r.target);if(a!==null){var f=o(a);if(f!==null){if(a=f.tag,a===13){if(a=l(f),a!==null){r.blockedOn=a,ns(r.priority,function(){zE(f)});return}}else if(a===31){if(a=c(f),a!==null){r.blockedOn=a,ns(r.priority,function(){zE(f)});return}}else if(a===3&&f.stateNode.current.memoizedState.isDehydrated){r.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Mp(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var f=Zy(r.nativeEvent);if(f===null){f=r.nativeEvent;var m=new f.constructor(f.type,f);oo=m,f.target.dispatchEvent(m),oo=null}else return a=wr(f),a!==null&&IE(a),r.blockedOn=f,!1;a.shift()}return!0}function VE(r,a,f){Mp(r)&&f.delete(a)}function lz(){Qy=!1,fa!==null&&Mp(fa)&&(fa=null),ha!==null&&Mp(ha)&&(ha=null),pa!==null&&Mp(pa)&&(pa=null),Ld.forEach(VE),jd.forEach(VE)}function Dp(r,a){r.blockedOn===a&&(r.blockedOn=null,Qy||(Qy=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,lz)))}var Lp=null;function $E(r){Lp!==r&&(Lp=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Lp===r&&(Lp=null);for(var a=0;a<r.length;a+=3){var f=r[a],m=r[a+1],S=r[a+2];if(typeof m!="function"){if(Xy(m||f)===null)continue;break}var A=wr(f);A!==null&&(r.splice(a,3),a-=3,Zv(A,{pending:!0,data:S,method:f.method,action:m},m,S))}}))}function $c(r){function a(ee){return Dp(ee,r)}fa!==null&&Dp(fa,r),ha!==null&&Dp(ha,r),pa!==null&&Dp(pa,r),Ld.forEach(a),jd.forEach(a);for(var f=0;f<ma.length;f++){var m=ma[f];m.blockedOn===r&&(m.blockedOn=null)}for(;0<ma.length&&(f=ma[0],f.blockedOn===null);)FE(f),f.blockedOn===null&&ma.shift();if(f=(r.ownerDocument||r).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var S=f[m],A=f[m+1],D=S[Tn]||null;if(typeof A=="function")D||$E(f);else if(D){var V=null;if(A&&A.hasAttribute("formAction")){if(S=A,D=A[Tn]||null)V=D.formAction;else if(Xy(S)!==null)continue}else V=D.action;typeof V=="function"?f[m+1]=V:(f.splice(m,3),m-=3),$E(f)}}}function HE(){function r(A){A.canIntercept&&A.info==="react-transition"&&A.intercept({handler:function(){return new Promise(function(D){return S=D})},focusReset:"manual",scroll:"manual"})}function a(){S!==null&&(S(),S=null),m||setTimeout(f,20)}function f(){if(!m&&!navigation.transition){var A=navigation.currentEntry;A&&A.url!=null&&navigation.navigate(A.url,{state:A.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,S=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(f,100),function(){m=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),S!==null&&(S(),S=null)}}}function Jy(r){this._internalRoot=r}jp.prototype.render=Jy.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var f=a.current,m=fs();LE(f,m,r,a,null,null)},jp.prototype.unmount=Jy.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;LE(r.current,2,null,r,null,null),gp(),a[Ys]=null}};function jp(r){this._internalRoot=r}jp.prototype.unstable_scheduleHydration=function(r){if(r){var a=bi();r={blockedOn:null,target:r,priority:a};for(var f=0;f<ma.length&&a!==0&&a<ma[f].priority;f++);ma.splice(f,0,r),f===0&&FE(r)}};var GE=t.version;if(GE!=="19.2.4")throw Error(i(527,GE,"19.2.4"));W.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(a),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var cz={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ip=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ip.isDisabled&&Ip.supportsFiber)try{es=Ip.inject(cz),rn=Ip}catch{}}return Bd.createRoot=function(r,a){if(!s(r))throw Error(i(299));var f=!1,m="",S=QS,A=JS,D=eC;return a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(S=a.onUncaughtError),a.onCaughtError!==void 0&&(A=a.onCaughtError),a.onRecoverableError!==void 0&&(D=a.onRecoverableError)),a=ME(r,1,!1,null,null,f,m,null,S,A,D,HE),r[Ys]=a.current,Dy(r),new Jy(a)},Bd.hydrateRoot=function(r,a,f){if(!s(r))throw Error(i(299));var m=!1,S="",A=QS,D=JS,V=eC,ee=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onUncaughtError!==void 0&&(A=f.onUncaughtError),f.onCaughtError!==void 0&&(D=f.onCaughtError),f.onRecoverableError!==void 0&&(V=f.onRecoverableError),f.formState!==void 0&&(ee=f.formState)),a=ME(r,1,!0,a,f??null,m,S,ee,A,D,V,HE),a.context=DE(null),f=a.current,m=fs(),m=an(m),S=ea(m),S.callback=null,ta(f,S,m),f=m,a.current.lanes=f,Xn(a,f),Ir(a),r[Ys]=a.current,Dy(r),new jp(a)},Bd.version="19.2.4",Bd}var tA;function bz(){if(tA)return nb.exports;tA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),nb.exports=yz(),nb.exports}var xz=bz(),nn=(e=>(e[e.None=0]="None",e[e.Mutable=1]="Mutable",e[e.Watching=2]="Watching",e[e.RecursedCheck=4]="RecursedCheck",e[e.Recursed=8]="Recursed",e[e.Dirty=16]="Dirty",e[e.Pending=32]="Pending",e))(nn||{});function kk({update:e,notify:t,unwatched:n}){return{link:i,unlink:s,propagate:o,checkDirty:l,shallowPropagate:c};function i(h,g,v){const b=g.depsTail;if(b!==void 0&&b.dep===h)return;const _=b!==void 0?b.nextDep:g.deps;if(_!==void 0&&_.dep===h){_.version=v,g.depsTail=_;return}const C=h.subsTail;if(C!==void 0&&C.version===v&&C.sub===g)return;const E=g.depsTail=h.subsTail={version:v,dep:h,sub:g,prevDep:b,nextDep:_,prevSub:C,nextSub:void 0};_!==void 0&&(_.prevDep=E),b!==void 0?b.nextDep=E:g.deps=E,C!==void 0?C.nextSub=E:h.subs=E}function s(h,g=h.sub){const v=h.dep,b=h.prevDep,_=h.nextDep,C=h.nextSub,E=h.prevSub;return _!==void 0?_.prevDep=b:g.depsTail=b,b!==void 0?b.nextDep=_:g.deps=_,C!==void 0?C.prevSub=E:v.subsTail=E,E!==void 0?E.nextSub=C:(v.subs=C)===void 0&&n(v),_}function o(h){let g=h.nextSub,v;e:do{const b=h.sub;let _=b.flags;if(_&60?_&12?_&4?!(_&48)&&d(h,b)?(b.flags=_|40,_&=1):_=0:b.flags=_&-9|32:_=0:b.flags=_|32,_&2&&t(b),_&1){const C=b.subs;if(C!==void 0){const E=(h=C).nextSub;E!==void 0&&(v={value:g,prev:v},g=E);continue}}if((h=g)!==void 0){g=h.nextSub;continue}for(;v!==void 0;)if(h=v.value,v=v.prev,h!==void 0){g=h.nextSub;continue e}break}while(!0)}function l(h,g){let v,b=0,_=!1;e:do{const C=h.dep,E=C.flags;if(g.flags&16)_=!0;else if((E&17)===17){if(e(C)){const R=C.subs;R.nextSub!==void 0&&c(R),_=!0}}else if((E&33)===33){(h.nextSub!==void 0||h.prevSub!==void 0)&&(v={value:h,prev:v}),h=C.deps,g=C,++b;continue}if(!_){const R=h.nextDep;if(R!==void 0){h=R;continue}}for(;b--;){const R=g.subs,N=R.nextSub!==void 0;if(N?(h=v.value,v=v.prev):h=R,_){if(e(g)){N&&c(R),g=h.sub;continue}_=!1}else g.flags&=-33;g=h.sub;const k=h.nextDep;if(k!==void 0){h=k;continue e}}return _}while(!0)}function c(h){do{const g=h.sub,v=g.flags;(v&48)===32&&(g.flags=v|16,(v&6)===2&&t(g))}while((h=h.nextSub)!==void 0)}function d(h,g){let v=g.depsTail;for(;v!==void 0;){if(v===h)return!0;v=v.prevDep}return!1}}let G0=0,wl=0,nf=0;const ko=[],{link:Uae,unlink:Nk,propagate:Fae,checkDirty:_z,shallowPropagate:Vae}=kk({update(e){return e.depsTail!==void 0?Ez(e):Az(e)},notify(e){let t=nf,n=t;do if(ko[t++]=e,e.flags&=-3,e=e.subs?.sub,e===void 0||!(e.flags&2))break;while(!0);for(nf=t;n<--t;){const i=ko[n];ko[n++]=ko[t],ko[t]=i}},unwatched(e){e.flags&1?e.depsTail!==void 0&&(e.depsTail=void 0,e.flags=17,wg(e)):kz.call(e)}});function wz(){return G0}function Sz(){++G0}function Cz(){--G0||Rz()}function Ez(e){e.depsTail=void 0,e.flags=5;try{const t=e.value;return t!==(e.value=e.getter(t))}finally{e.flags&=-5,wg(e)}}function Az(e){return e.flags=1,e.currentValue!==(e.currentValue=e.pendingValue)}function Tz(e){const t=e.flags;if(t&16||t&32&&_z(e.deps,e)){e.depsTail=void 0,e.flags=6;try{e.fn()}finally{e.flags&=-5,wg(e)}}else e.flags=2}function Rz(){try{for(;wl<nf;){const e=ko[wl];ko[wl++]=void 0,Tz(e)}}finally{for(;wl<nf;){const e=ko[wl];ko[wl++]=void 0,e.flags|=10}wl=0,nf=0}}function kz(){this.depsTail=void 0,this.flags=0,wg(this);const e=this.subs;e!==void 0&&Nk(e)}function wg(e){const t=e.depsTail;let n=t!==void 0?t.nextDep:e.deps;for(;n!==void 0;)n=Nk(n,e)}function Ok(e,t,n){const i=typeof e=="object",s=i?e:void 0;return{next:(i?e.next:e)?.bind(s),error:(i?e.error:t)?.bind(s),complete:(i?e.complete:n)?.bind(s)}}const px=[];let ym=0;const{link:nA,unlink:Nz,propagate:Oz,checkDirty:Pk,shallowPropagate:iA}=kk({update(e){return e._update()},notify(e){px[mx++]=e,e.flags&=~nn.Watching},unwatched(e){e.depsTail!==void 0&&(e.depsTail=void 0,e.flags=nn.Mutable|nn.Dirty,Dm(e))}});let Bp=0,mx=0,Br;function Dm(e){const t=e.depsTail;let n=t!==void 0?t.nextDep:e.deps;for(;n!==void 0;)n=Nz(n,e)}function Mk(){if(!(wz()>0)){for(;Bp<mx;){const e=px[Bp];px[Bp++]=void 0,e.notify()}Bp=0,mx=0}}function Pz(e,t){const n=typeof e=="function",i=e,s={_snapshot:n?void 0:e,subs:void 0,subsTail:void 0,deps:void 0,depsTail:void 0,flags:n?nn.None:nn.Mutable,get(){return Br!==void 0&&nA(s,Br,ym),s._snapshot},subscribe(o){const l=Ok(o),c={current:!1},d=Mz(()=>{s.get(),c.current?l.next?.(s._snapshot):c.current=!0});return{unsubscribe:()=>{d.stop()}}},_update(o){const l=Br,c=Object.is;Br=s,++ym,s.depsTail=void 0,n&&(s.flags=nn.Mutable|nn.RecursedCheck);try{const d=s._snapshot,h=typeof o=="function"?o(d):o===void 0&&n?i(d):o;return d===void 0||!c(d,h)?(s._snapshot=h,!0):!1}finally{Br=l,n&&(s.flags&=~nn.RecursedCheck),Dm(s)}}};return n?(s.flags=nn.Mutable|nn.Dirty,s.get=function(){const o=s.flags;if(o&nn.Dirty||o&nn.Pending&&Pk(s.deps,s)){if(s._update()){const l=s.subs;l!==void 0&&iA(l)}}else o&nn.Pending&&(s.flags=o&~nn.Pending);return Br!==void 0&&nA(s,Br,ym),s._snapshot}):s.set=function(o){if(s._update(o)){const l=s.subs;l!==void 0&&(Oz(l),iA(l),Mk())}},s}function Mz(e){const t=()=>{const i=Br;Br=n,++ym,n.depsTail=void 0,n.flags=nn.Watching|nn.RecursedCheck;try{return e()}finally{Br=i,n.flags&=~nn.RecursedCheck,Dm(n)}},n={deps:void 0,depsTail:void 0,subs:void 0,subsTail:void 0,flags:nn.Watching|nn.RecursedCheck,notify(){const i=this.flags;i&nn.Dirty||i&nn.Pending&&Pk(this.deps,this)?t():this.flags=nn.Watching},stop(){this.flags=nn.None,this.depsTail=void 0,Dm(this)}};return t(),n}class Dz{constructor(t){this.atom=Pz(t)}setState(t){this.atom.set(t)}get state(){return this.atom.get()}get(){return this.state}subscribe(t){return this.atom.subscribe(Ok(t))}}function Lz(e){try{Sz(),e()}finally{Cz(),Mk()}}const ka="__TSR_index",sA="popstate",rA="beforeunload";function jz(e){let t=e.getLocation();const n=new Set,i=l=>{t=e.getLocation(),n.forEach(c=>c({location:t,action:l}))},s=l=>{e.notifyOnIndexChange??!0?i(l):t=e.getLocation()},o=async({task:l,navigateOpts:c,...d})=>{if(c?.ignoreBlocker??!1){l();return}const g=e.getBlockers?.()??[],v=d.type==="PUSH"||d.type==="REPLACE";if(typeof document<"u"&&g.length&&v)for(const b of g){const _=Lm(d.path,d.state);if(await b.blockerFn({currentLocation:t,nextLocation:_,action:d.type})){e.onBlocked?.();return}}l()};return{get location(){return t},get length(){return e.getLength()},subscribers:n,subscribe:l=>(n.add(l),()=>{n.delete(l)}),push:(l,c,d)=>{const h=t.state[ka];c=oA(h+1,c),o({task:()=>{e.pushState(l,c),i({type:"PUSH"})},navigateOpts:d,type:"PUSH",path:l,state:c})},replace:(l,c,d)=>{const h=t.state[ka];c=oA(h,c),o({task:()=>{e.replaceState(l,c),i({type:"REPLACE"})},navigateOpts:d,type:"REPLACE",path:l,state:c})},go:(l,c)=>{o({task:()=>{e.go(l),s({type:"GO",index:l})},navigateOpts:c,type:"GO"})},back:l=>{o({task:()=>{e.back(l?.ignoreBlocker??!1),s({type:"BACK"})},navigateOpts:l,type:"BACK"})},forward:l=>{o({task:()=>{e.forward(l?.ignoreBlocker??!1),s({type:"FORWARD"})},navigateOpts:l,type:"FORWARD"})},canGoBack:()=>t.state[ka]!==0,createHref:l=>e.createHref(l),block:l=>{if(!e.setBlockers)return()=>{};const c=e.getBlockers?.()??[];return e.setBlockers([...c,l]),()=>{const d=e.getBlockers?.()??[];e.setBlockers?.(d.filter(h=>h!==l))}},flush:()=>e.flush?.(),destroy:()=>e.destroy?.(),notify:i}}function oA(e,t){t||(t={});const n=K0();return{...t,key:n,__TSR_key:n,[ka]:e}}function Iz(e){const t=typeof document<"u"?window:void 0,n=t.history.pushState,i=t.history.replaceState;let s=[];const o=()=>s,l=I=>s=I,c=(I=>I),d=(()=>Lm(`${t.location.pathname}${t.location.search}${t.location.hash}`,t.history.state));if(!t.history.state?.__TSR_key&&!t.history.state?.key){const I=K0();t.history.replaceState({[ka]:0,key:I,__TSR_key:I},"")}let h=d(),g,v=!1,b=!1,_=!1,C=!1;const E=()=>h;let R,N;const k=()=>{R&&(z._ignoreSubscribers=!0,(R.isPush?t.history.pushState:t.history.replaceState)(R.state,"",R.href),z._ignoreSubscribers=!1,R=void 0,N=void 0,g=void 0)},O=(I,$,Z)=>{const q=c($);N||(g=h),h=Lm($,Z),R={href:q,state:Z,isPush:R?.isPush||I==="push"},N||(N=Promise.resolve().then(()=>k()))},M=I=>{h=d(),z.notify({type:I})},j=async()=>{if(b){b=!1;return}const I=d(),$=I.state[ka]-h.state[ka],Z=$===1,q=$===-1,X=!Z&&!q||v;v=!1;const ne=X?"GO":q?"BACK":"FORWARD",re=X?{type:"GO",index:$}:{type:q?"BACK":"FORWARD"};if(_)_=!1;else{const ye=o();if(typeof document<"u"&&ye.length){for(const G of ye)if(await G.blockerFn({currentLocation:h,nextLocation:I,action:ne})){b=!0,t.history.go(1),z.notify(re);return}}}h=d(),z.notify(re)},U=I=>{if(C){C=!1;return}let $=!1;const Z=o();if(typeof document<"u"&&Z.length)for(const q of Z){const X=q.enableBeforeUnload??!0;if(X===!0){$=!0;break}if(typeof X=="function"&&X()===!0){$=!0;break}}if($)return I.preventDefault(),I.returnValue=""},z=jz({getLocation:E,getLength:()=>t.history.length,pushState:(I,$)=>O("push",I,$),replaceState:(I,$)=>O("replace",I,$),back:I=>(I&&(_=!0),C=!0,t.history.back()),forward:I=>{I&&(_=!0),C=!0,t.history.forward()},go:I=>{v=!0,t.history.go(I)},createHref:I=>c(I),flush:k,destroy:()=>{t.history.pushState=n,t.history.replaceState=i,t.removeEventListener(rA,U,{capture:!0}),t.removeEventListener(sA,j)},onBlocked:()=>{g&&h!==g&&(h=g)},getBlockers:o,setBlockers:l,notifyOnIndexChange:!1});return t.addEventListener(rA,U,{capture:!0}),t.addEventListener(sA,j),t.history.pushState=function(...I){const $=n.apply(t.history,I);return z._ignoreSubscribers||M("PUSH"),$},t.history.replaceState=function(...I){const $=i.apply(t.history,I);return z._ignoreSubscribers||M("REPLACE"),$},z}function zz(e){let t=e.replace(/[\x00-\x1f\x7f]/g,"");return t.startsWith("//")&&(t="/"+t.replace(/^\/+/,"")),t}function Lm(e,t){const n=zz(e),i=n.indexOf("#"),s=n.indexOf("?"),o=K0();return{href:n,pathname:n.substring(0,i>0?s>0?Math.min(i,s):i:s>0?s:n.length),hash:i>-1?n.substring(i):"",search:s>-1?n.slice(s,i===-1?void 0:i):"",state:t||{[ka]:0,key:o,__TSR_key:o}}}function K0(){return(Math.random()+1).toString(36).substring(7)}const Bz=!1;function sf(e){let t;return Lz(()=>{t=e()}),t}function yf(e){return e[e.length-1]}function Uz(e){return typeof e=="function"}function Aa(e,t){return Uz(e)?e(t):e}const Fz=Object.prototype.hasOwnProperty,aA=Object.prototype.propertyIsEnumerable;function ps(e,t,n=0){if(e===t)return e;if(n>500)return t;const i=t,s=uA(e)&&uA(i);if(!s&&!(jm(e)&&jm(i)))return i;const o=s?e:lA(e);if(!o)return i;const l=s?i:lA(i);if(!l)return i;const c=o.length,d=l.length,h=s?new Array(d):{};let g=0;for(let v=0;v<d;v++){const b=s?v:l[v],_=e[b],C=i[b];if(_===C){h[b]=_,(s?v<c:Fz.call(e,b))&&g++;continue}if(_===null||C===null||typeof _!="object"||typeof C!="object"){h[b]=C;continue}const E=ps(_,C,n+1);h[b]=E,E===_&&g++}return c===d&&g===c?e:h}function lA(e){const t=Object.getOwnPropertyNames(e);for(const s of t)if(!aA.call(e,s))return!1;const n=Object.getOwnPropertySymbols(e);if(n.length===0)return t;const i=t;for(const s of n){if(!aA.call(e,s))return!1;i.push(s)}return i}function jm(e){if(!cA(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!cA(n)||!n.hasOwnProperty("isPrototypeOf"))}function cA(e){return Object.prototype.toString.call(e)==="[object Object]"}function uA(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Bl(e,t,n){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let i=0,s=e.length;i<s;i++)if(!Bl(e[i],t[i],n))return!1;return!0}if(jm(e)&&jm(t)){const i=n?.ignoreUndefined??!0;if(n?.partial){for(const l in t)if((!i||t[l]!==void 0)&&!Bl(e[l],t[l],n))return!1;return!0}let s=0;if(!i)s=Object.keys(e).length;else for(const l in e)e[l]!==void 0&&s++;let o=0;for(const l in t)if((!i||t[l]!==void 0)&&(o++,o>s||!Bl(e[l],t[l],n)))return!1;return s===o}return!1}function Su(e){let t,n;const i=new Promise((s,o)=>{t=s,n=o});return i.status="pending",i.resolve=s=>{i.status="resolved",i.value=s,t(s),e?.(s)},i.reject=s=>{i.status="rejected",n(s)},i}function mu(e){return!!(e&&typeof e=="object"&&typeof e.then=="function")}function Vz(e){return e.replace(/[\x00-\x1f\x7f]/g,"")}function dA(e){let t;try{t=decodeURI(e)}catch{t=e.replaceAll(/%[0-9A-F]{2}/gi,n=>{try{return decodeURI(n)}catch{return n}})}return Vz(t)}const $z=["http:","https:","mailto:","tel:"];function Im(e,t){if(!e)return!1;try{const n=new URL(e);return!t.has(n.protocol)}catch{return!1}}function Ud(e){if(!e)return{path:e,handledProtocolRelativeURL:!1};if(!/[%\\\x00-\x1f\x7f]/.test(e)&&!e.startsWith("//"))return{path:e,handledProtocolRelativeURL:!1};const t=/%25|%5C/gi;let n=0,i="",s;for(;(s=t.exec(e))!==null;)i+=dA(e.slice(n,s.index))+s[0],n=t.lastIndex;i=i+dA(n?e.slice(n):e);let o=!1;return i.startsWith("//")&&(o=!0,i="/"+i.replace(/^\/+/,"")),{path:i,handledProtocolRelativeURL:o}}function Hz(e){return/\s|[^\u0000-\u007F]/.test(e)?e.replace(/\s|[^\u0000-\u007F]/gu,encodeURIComponent):e}var Gz="Invariant failed";function Mo(e,t){if(!e)throw new Error(Gz)}function zm(e){const t=new Map;let n,i;const s=o=>{o.next&&(o.prev?(o.prev.next=o.next,o.next.prev=o.prev,o.next=void 0,i&&(i.next=o,o.prev=i)):(o.next.prev=void 0,n=o.next,o.next=void 0,i&&(o.prev=i,i.next=o)),i=o)};return{get(o){const l=t.get(o);if(l)return s(l),l.value},set(o,l){if(t.size>=e&&n){const d=n;t.delete(d.key),d.next&&(n=d.next,d.next.prev=void 0),d===i&&(i=void 0)}const c=t.get(o);if(c)c.value=l,s(c);else{const d={key:o,value:l,prev:i};i&&(i.next=d),i=d,n||(n=d),t.set(o,d)}},clear(){t.clear(),n=void 0,i=void 0}}}const Cu=0,Vl=1,$l=2,bf=3,Dl=4,Dk=5;function Kz(e){const t=e.indexOf("{");if(t===-1)return null;const n=e.indexOf("}",t);return n===-1||t+1>=e.length?null:[t,n]}function q0(e,t,n=new Uint16Array(6)){const i=e.indexOf("/",t),s=i===-1?e.length:i,o=e.substring(t,s);if(!o||!o.includes("$"))return n[0]=Cu,n[1]=t,n[2]=t,n[3]=s,n[4]=s,n[5]=s,n;if(o==="$"){const c=e.length;return n[0]=$l,n[1]=t,n[2]=t,n[3]=c,n[4]=c,n[5]=c,n}if(o.charCodeAt(0)===36)return n[0]=Vl,n[1]=t,n[2]=t+1,n[3]=s,n[4]=s,n[5]=s,n;const l=Kz(o);if(l){const[c,d]=l,h=o.charCodeAt(c+1);if(h===45){if(c+2<o.length&&o.charCodeAt(c+2)===36){const g=c+3,v=d;if(g<v)return n[0]=bf,n[1]=t+c,n[2]=t+g,n[3]=t+v,n[4]=t+d+1,n[5]=s,n}}else if(h===36){const g=c+1,v=c+2;return v===d?(n[0]=$l,n[1]=t+c,n[2]=t+g,n[3]=t+v,n[4]=t+d+1,n[5]=e.length,n):(n[0]=Vl,n[1]=t+c,n[2]=t+v,n[3]=t+d,n[4]=t+d+1,n[5]=s,n)}}return n[0]=Cu,n[1]=t,n[2]=t,n[3]=s,n[4]=s,n[5]=s,n}function Sg(e,t,n,i,s,o,l){l?.(n);let c=i;{const d=n.fullPath??n.from,h=d.length,g=n.options?.caseSensitive??e,v=!!(n.options?.params?.parse&&n.options?.skipRouteOnParseError?.params);for(;c<h;){const _=q0(d,c,t);let C;const E=c,R=_[5];switch(c=R+1,o++,_[0]){case Cu:{const k=d.substring(_[2],_[3]);if(g){const O=s.static?.get(k);if(O)C=O;else{s.static??=new Map;const M=Ll(n.fullPath??n.from);M.parent=s,M.depth=o,C=M,s.static.set(k,M)}}else{const O=k.toLowerCase(),M=s.staticInsensitive?.get(O);if(M)C=M;else{s.staticInsensitive??=new Map;const j=Ll(n.fullPath??n.from);j.parent=s,j.depth=o,C=j,s.staticInsensitive.set(O,j)}}break}case Vl:{const k=d.substring(E,_[1]),O=d.substring(_[4],R),M=g&&!!(k||O),j=k?M?k:k.toLowerCase():void 0,U=O?M?O:O.toLowerCase():void 0,z=!v&&s.dynamic?.find(I=>!I.skipOnParamError&&I.caseSensitive===M&&I.prefix===j&&I.suffix===U);if(z)C=z;else{const I=ab(Vl,n.fullPath??n.from,M,j,U);C=I,I.depth=o,I.parent=s,s.dynamic??=[],s.dynamic.push(I)}break}case bf:{const k=d.substring(E,_[1]),O=d.substring(_[4],R),M=g&&!!(k||O),j=k?M?k:k.toLowerCase():void 0,U=O?M?O:O.toLowerCase():void 0,z=!v&&s.optional?.find(I=>!I.skipOnParamError&&I.caseSensitive===M&&I.prefix===j&&I.suffix===U);if(z)C=z;else{const I=ab(bf,n.fullPath??n.from,M,j,U);C=I,I.parent=s,I.depth=o,s.optional??=[],s.optional.push(I)}break}case $l:{const k=d.substring(E,_[1]),O=d.substring(_[4],R),M=g&&!!(k||O),j=k?M?k:k.toLowerCase():void 0,U=O?M?O:O.toLowerCase():void 0,z=ab($l,n.fullPath??n.from,M,j,U);C=z,z.parent=s,z.depth=o,s.wildcard??=[],s.wildcard.push(z)}}s=C}if(v&&n.children&&!n.isRoot&&n.id&&n.id.charCodeAt(n.id.lastIndexOf("/")+1)===95){const _=Ll(n.fullPath??n.from);_.kind=Dk,_.parent=s,o++,_.depth=o,s.pathless??=[],s.pathless.push(_),s=_}const b=(n.path||!n.children)&&!n.isRoot;if(b&&d.endsWith("/")){const _=Ll(n.fullPath??n.from);_.kind=Dl,_.parent=s,o++,_.depth=o,s.index=_,s=_}s.parse=n.options?.params?.parse??null,s.skipOnParamError=v,s.parsingPriority=n.options?.skipRouteOnParseError?.priority??0,b&&!s.route&&(s.route=n,s.fullPath=n.fullPath??n.from)}if(n.children)for(const d of n.children)Sg(e,t,d,c,s,o,l)}function ob(e,t){if(e.skipOnParamError&&!t.skipOnParamError)return-1;if(!e.skipOnParamError&&t.skipOnParamError)return 1;if(e.skipOnParamError&&t.skipOnParamError&&(e.parsingPriority||t.parsingPriority))return t.parsingPriority-e.parsingPriority;if(e.prefix&&t.prefix&&e.prefix!==t.prefix){if(e.prefix.startsWith(t.prefix))return-1;if(t.prefix.startsWith(e.prefix))return 1}if(e.suffix&&t.suffix&&e.suffix!==t.suffix){if(e.suffix.endsWith(t.suffix))return-1;if(t.suffix.endsWith(e.suffix))return 1}return e.prefix&&!t.prefix?-1:!e.prefix&&t.prefix?1:e.suffix&&!t.suffix?-1:!e.suffix&&t.suffix?1:e.caseSensitive&&!t.caseSensitive?-1:!e.caseSensitive&&t.caseSensitive?1:0}function wa(e){if(e.pathless)for(const t of e.pathless)wa(t);if(e.static)for(const t of e.static.values())wa(t);if(e.staticInsensitive)for(const t of e.staticInsensitive.values())wa(t);if(e.dynamic?.length){e.dynamic.sort(ob);for(const t of e.dynamic)wa(t)}if(e.optional?.length){e.optional.sort(ob);for(const t of e.optional)wa(t)}if(e.wildcard?.length){e.wildcard.sort(ob);for(const t of e.wildcard)wa(t)}}function Ll(e){return{kind:Cu,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:e,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0}}function ab(e,t,n,i,s){return{kind:e,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:t,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0,caseSensitive:n,prefix:i,suffix:s}}function qz(e,t){const n=Ll("/"),i=new Uint16Array(6);for(const s of e)Sg(!1,i,s,1,n,0);wa(n),t.masksTree=n,t.flatCache=zm(1e3)}function Wz(e,t){e||="/";const n=t.flatCache.get(e);if(n)return n;const i=W0(e,t.masksTree);return t.flatCache.set(e,i),i}function Yz(e,t,n,i,s){e||="/",i||="/";const o=t?`case\0${e}`:e;let l=s.singleCache.get(o);if(!l){l=Ll("/");const c=new Uint16Array(6);Sg(t,c,{from:e},1,l,0),s.singleCache.set(o,l)}return W0(i,l,n)}function Zz(e,t,n=!1){const i=n?e:`nofuzz\0${e}`,s=t.matchCache.get(i);if(s!==void 0)return s;e||="/";let o;try{o=W0(e,t.segmentTree,n)}catch(l){if(l instanceof URIError)o=null;else throw l}return o&&(o.branch=Jz(o.route)),t.matchCache.set(i,o),o}function Xz(e){return e==="/"?e:e.replace(/\/{1,}$/,"")}function Qz(e,t=!1,n){const i=Ll(e.fullPath),s=new Uint16Array(6),o={},l={};let c=0;return Sg(t,s,e,1,i,0,h=>{if(n?.(h,c),Mo(!(h.id in o),`Duplicate routes found with id: ${String(h.id)}`),o[h.id]=h,c!==0&&h.path){const g=Xz(h.fullPath);(!l[g]||h.fullPath.endsWith("/"))&&(l[g]=h)}c++}),wa(i),{processedTree:{segmentTree:i,singleCache:zm(1e3),matchCache:zm(1e3),flatCache:null,masksTree:null},routesById:o,routesByPath:l}}function W0(e,t,n=!1){const i=e.split("/"),s=tB(e,i,t,n);if(!s)return null;const[o]=Lk(e,i,s);return{route:s.node.route,rawParams:o,parsedParams:s.parsedParams}}function Lk(e,t,n){const i=eB(n.node);let s=null;const o={};let l=n.extract?.part??0,c=n.extract?.node??0,d=n.extract?.path??0,h=n.extract?.segment??0;for(;c<i.length;l++,c++,d++,h++){const g=i[c];if(g.kind===Dl)break;if(g.kind===Dk){h--,l--,d--;continue}const v=t[l],b=d;if(v&&(d+=v.length),g.kind===Vl){s??=n.node.fullPath.split("/");const _=s[h],C=g.prefix?.length??0;if(_.charCodeAt(C)===123){const R=g.suffix?.length??0,N=_.substring(C+2,_.length-R-1),k=v.substring(C,v.length-R);o[N]=decodeURIComponent(k)}else{const R=_.substring(1);o[R]=decodeURIComponent(v)}}else if(g.kind===bf){if(n.skipped&1<<c){l--,d=b-1;continue}s??=n.node.fullPath.split("/");const _=s[h],C=g.prefix?.length??0,E=g.suffix?.length??0,R=_.substring(C+3,_.length-E-1),N=g.suffix||g.prefix?v.substring(C,v.length-E):v;N&&(o[R]=decodeURIComponent(N))}else if(g.kind===$l){const _=g,C=e.substring(b+(_.prefix?.length??0),e.length-(_.suffix?.length??0)),E=decodeURIComponent(C);o["*"]=E,o._splat=E;break}}return n.rawParams&&Object.assign(o,n.rawParams),[o,{part:l,node:c,path:d,segment:h}]}function Jz(e){const t=[e];for(;e.parentRoute;)e=e.parentRoute,t.push(e);return t.reverse(),t}function eB(e){const t=Array(e.depth+1);do t[e.depth]=e,e=e.parent;while(e);return t}function tB(e,t,n,i){if(e==="/"&&n.index)return{node:n.index,skipped:0};const s=!yf(t),o=s&&e!=="/",l=t.length-(s?1:0),c=[{node:n,index:1,skipped:0,depth:1,statics:1,dynamics:0,optionals:0}];let d=null,h=null,g=null;for(;c.length;){const v=c.pop(),{node:b,index:_,skipped:C,depth:E,statics:R,dynamics:N,optionals:k}=v;let{extract:O,rawParams:M,parsedParams:j}=v;if(b.skipOnParamError){if(!lb(e,t,v))continue;M=v.rawParams,O=v.extract,j=v.parsedParams}i&&b.route&&b.kind!==Dl&&Fd(h,v)&&(h=v);const U=_===l;if(U&&(b.route&&!o&&Fd(g,v)&&(g=v),!b.optional&&!b.wildcard&&!b.index&&!b.pathless))continue;const z=U?void 0:t[_];let I;if(U&&b.index){const $={node:b.index,index:_,skipped:C,depth:E+1,statics:R,dynamics:N,optionals:k,extract:O,rawParams:M,parsedParams:j};let Z=!0;if(b.index.skipOnParamError&&(lb(e,t,$)||(Z=!1)),Z){if(R===l&&!N&&!k&&!C)return $;Fd(g,$)&&(g=$)}}if(b.wildcard&&Fd(d,v))for(const $ of b.wildcard){const{prefix:Z,suffix:q}=$;if(Z&&(U||!($.caseSensitive?z:I??=z.toLowerCase()).startsWith(Z)))continue;if(q){if(U)continue;const ne=t.slice(_).join("/").slice(-q.length);if(($.caseSensitive?ne:ne.toLowerCase())!==q)continue}const X={node:$,index:l,skipped:C,depth:E,statics:R,dynamics:N,optionals:k,extract:O,rawParams:M,parsedParams:j};if(!($.skipOnParamError&&!lb(e,t,X))){d=X;break}}if(b.optional){const $=C|1<<E,Z=E+1;for(let q=b.optional.length-1;q>=0;q--){const X=b.optional[q];c.push({node:X,index:_,skipped:$,depth:Z,statics:R,dynamics:N,optionals:k,extract:O,rawParams:M,parsedParams:j})}if(!U)for(let q=b.optional.length-1;q>=0;q--){const X=b.optional[q],{prefix:ne,suffix:re}=X;if(ne||re){const ye=X.caseSensitive?z:I??=z.toLowerCase();if(ne&&!ye.startsWith(ne)||re&&!ye.endsWith(re))continue}c.push({node:X,index:_+1,skipped:C,depth:Z,statics:R,dynamics:N,optionals:k+1,extract:O,rawParams:M,parsedParams:j})}}if(!U&&b.dynamic&&z)for(let $=b.dynamic.length-1;$>=0;$--){const Z=b.dynamic[$],{prefix:q,suffix:X}=Z;if(q||X){const ne=Z.caseSensitive?z:I??=z.toLowerCase();if(q&&!ne.startsWith(q)||X&&!ne.endsWith(X))continue}c.push({node:Z,index:_+1,skipped:C,depth:E+1,statics:R,dynamics:N+1,optionals:k,extract:O,rawParams:M,parsedParams:j})}if(!U&&b.staticInsensitive){const $=b.staticInsensitive.get(I??=z.toLowerCase());$&&c.push({node:$,index:_+1,skipped:C,depth:E+1,statics:R+1,dynamics:N,optionals:k,extract:O,rawParams:M,parsedParams:j})}if(!U&&b.static){const $=b.static.get(z);$&&c.push({node:$,index:_+1,skipped:C,depth:E+1,statics:R+1,dynamics:N,optionals:k,extract:O,rawParams:M,parsedParams:j})}if(b.pathless){const $=E+1;for(let Z=b.pathless.length-1;Z>=0;Z--){const q=b.pathless[Z];c.push({node:q,index:_,skipped:C,depth:$,statics:R,dynamics:N,optionals:k,extract:O,rawParams:M,parsedParams:j})}}}if(g&&d)return Fd(d,g)?g:d;if(g)return g;if(d)return d;if(i&&h){let v=h.index;for(let _=0;_<h.index;_++)v+=t[_].length;const b=v===e.length?"/":e.slice(v);return h.rawParams??={},h.rawParams["**"]=decodeURIComponent(b),h}return null}function lb(e,t,n){try{const[i,s]=Lk(e,t,n);n.rawParams=i,n.extract=s;const o=n.node.parse(i);return n.parsedParams=Object.assign({},n.parsedParams,o),!0}catch{return null}}function Fd(e,t){return e?t.statics>e.statics||t.statics===e.statics&&(t.dynamics>e.dynamics||t.dynamics===e.dynamics&&(t.optionals>e.optionals||t.optionals===e.optionals&&((t.node.kind===Dl)>(e.node.kind===Dl)||t.node.kind===Dl==(e.node.kind===Dl)&&t.depth>e.depth))):!0}function bm(e){return Y0(e.filter(t=>t!==void 0).join("/"))}function Y0(e){return e.replace(/\/{2,}/g,"/")}function jk(e){return e==="/"?e:e.replace(/^\/{1,}/,"")}function Na(e){const t=e.length;return t>1&&e[t-1]==="/"?e.replace(/\/{1,}$/,""):e}function Ik(e){return Na(jk(e))}function Bm(e,t){return e?.endsWith("/")&&e!=="/"&&e!==`${t}/`?e.slice(0,-1):e}function nB(e,t,n){return Bm(e,n)===Bm(t,n)}function iB({base:e,to:t,trailingSlash:n="never",cache:i}){const s=t.startsWith("/"),o=!s&&t===".";let l;if(i){l=s?t:o?e:e+"\0"+t;const v=i.get(l);if(v)return v}let c;if(o)c=e.split("/");else if(s)c=t.split("/");else{for(c=e.split("/");c.length>1&&yf(c)==="";)c.pop();const v=t.split("/");for(let b=0,_=v.length;b<_;b++){const C=v[b];C===""?b?b===_-1&&c.push(C):c=[C]:C===".."?c.pop():C==="."||c.push(C)}}c.length>1&&(yf(c)===""?n==="never"&&c.pop():n==="always"&&c.push(""));let d,h="";for(let v=0;v<c.length;v++){v>0&&(h+="/");const b=c[v];if(!b)continue;d=q0(b,0,d);const _=d[0];if(_===Cu){h+=b;continue}const C=d[5],E=b.substring(0,d[1]),R=b.substring(d[4],C),N=b.substring(d[2],d[3]);_===Vl?h+=E||R?`${E}{$${N}}${R}`:`$${N}`:_===$l?h+=E||R?`${E}{$}${R}`:"$":h+=`${E}{-$${N}}${R}`}h=Y0(h);const g=h||"/";return l&&i&&i.set(l,g),g}function sB(e){const t=new Map(e.map(s=>[encodeURIComponent(s),s])),n=Array.from(t.keys()).map(s=>s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),i=new RegExp(n,"g");return s=>s.replace(i,o=>t.get(o)??o)}function cb(e,t,n){const i=t[e];return typeof i!="string"?i:e==="_splat"?/^[a-zA-Z0-9\-._~!/]*$/.test(i)?i:i.split("/").map(s=>hA(s,n)).join("/"):hA(i,n)}function fA({path:e,params:t,decoder:n,...i}){let s=!1;const o={};if(!e||e==="/")return{interpolatedPath:"/",usedParams:o,isMissingParams:s};if(!e.includes("$"))return{interpolatedPath:e,usedParams:o,isMissingParams:s};const l=e.length;let c=0,d,h="";for(;c<l;){const v=c;d=q0(e,v,d);const b=d[5];if(c=b+1,v===b)continue;const _=d[0];if(_===Cu){h+="/"+e.substring(v,b);continue}if(_===$l){const C=t._splat;o._splat=C,o["*"]=C;const E=e.substring(v,d[1]),R=e.substring(d[4],b);if(!C){s=!0,(E||R)&&(h+="/"+E+R);continue}const N=cb("_splat",t,n);h+="/"+E+N+R;continue}if(_===Vl){const C=e.substring(d[2],d[3]);!s&&!(C in t)&&(s=!0),o[C]=t[C];const E=e.substring(v,d[1]),R=e.substring(d[4],b),N=cb(C,t,n)??"undefined";h+="/"+E+N+R;continue}if(_===bf){const C=e.substring(d[2],d[3]),E=t[C];if(E==null)continue;o[C]=E;const R=e.substring(v,d[1]),N=e.substring(d[4],b),k=cb(C,t,n)??"";h+="/"+R+k+N;continue}}return e.endsWith("/")&&(h+="/"),{usedParams:o,interpolatedPath:h||"/",isMissingParams:s}}function hA(e,t){const n=encodeURIComponent(e);return t?.(n)??n}function bs(e){return!!e?.isNotFound}function rB(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const gx="tsr-scroll-restoration-v1_3",oB=(e,t)=>{let n;return(...i)=>{n||(n=setTimeout(()=>{e(...i),n=null},t))}};function aB(){const e=rB();if(!e)return null;const t=e.getItem(gx);let n=t?JSON.parse(t):{};return{state:n,set:i=>{n=Aa(i,n)||n;try{e.setItem(gx,JSON.stringify(n))}catch{console.warn("[ts-router] Could not persist scroll restoration state to sessionStorage.")}}}}const Up=aB(),lB=e=>e.state.__TSR_key||e.href;function cB(e){const t=[];let n;for(;n=e.parentNode;)t.push(`${e.tagName}:nth-child(${Array.prototype.indexOf.call(n.children,e)+1})`),e=n;return`${t.reverse().join(" > ")}`.toLowerCase()}let Um=!1;function uB({storageKey:e,key:t,behavior:n,shouldScrollRestoration:i,scrollToTopSelectors:s,location:o}){let l;try{l=JSON.parse(sessionStorage.getItem(e)||"{}")}catch(h){console.error(h);return}const c=t||window.history.state?.__TSR_key,d=l[c];Um=!0;e:{if(i&&d&&Object.keys(d).length>0){for(const v in d){const b=d[v];if(v==="window")window.scrollTo({top:b.scrollY,left:b.scrollX,behavior:n});else if(v){const _=document.querySelector(v);_&&(_.scrollLeft=b.scrollX,_.scrollTop=b.scrollY)}}break e}const h=(o??window.location).hash.split("#",2)[1];if(h){const v=window.history.state?.__hashScrollIntoViewOptions??!0;if(v){const b=document.getElementById(h);b&&b.scrollIntoView(v)}break e}const g={top:0,left:0,behavior:n};if(window.scrollTo(g),s)for(const v of s){if(v==="window")continue;const b=typeof v=="function"?v():document.querySelector(v);b&&b.scrollTo(g)}}Um=!1}function dB(e,t){if(!Up||((e.options.scrollRestoration??!1)&&(e.isScrollRestoring=!0),e.isScrollRestorationSetup||!Up))return;e.isScrollRestorationSetup=!0,Um=!1;const i=e.options.getScrollRestorationKey||lB;window.history.scrollRestoration="manual";const s=o=>{if(Um||!e.isScrollRestoring)return;let l="";if(o.target===document||o.target===window)l="window";else{const d=o.target.getAttribute("data-scroll-restoration-id");d?l=`[data-scroll-restoration-id="${d}"]`:l=cB(o.target)}const c=i(e.state.location);Up.set(d=>{const h=d[c]||={},g=h[l]||={};if(l==="window")g.scrollX=window.scrollX||0,g.scrollY=window.scrollY||0;else if(l){const v=document.querySelector(l);v&&(g.scrollX=v.scrollLeft||0,g.scrollY=v.scrollTop||0)}return d})};typeof document<"u"&&document.addEventListener("scroll",oB(s,100),!0),e.subscribe("onRendered",o=>{const l=i(o.toLocation);if(!e.resetNextScroll){e.resetNextScroll=!0;return}typeof e.options.scrollRestoration=="function"&&!e.options.scrollRestoration({location:e.latestLocation})||(uB({storageKey:gx,key:l,behavior:e.options.scrollRestorationBehavior,shouldScrollRestoration:e.isScrollRestoring,scrollToTopSelectors:e.options.scrollToTopSelectors,location:e.history.location}),e.isScrollRestoring&&Up.set(c=>(c[l]||={},c)))})}function fB(e){if(typeof document<"u"&&document.querySelector){const t=e.state.location.state.__hashScrollIntoViewOptions??!0;if(t&&e.state.location.hash!==""){const n=document.getElementById(e.state.location.hash);n&&n.scrollIntoView(t)}}}function hB(e,t=String){const n=new URLSearchParams;for(const i in e){const s=e[i];s!==void 0&&n.set(i,t(s))}return n.toString()}function ub(e){return e?e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e:""}function pB(e){const t=new URLSearchParams(e),n={};for(const[i,s]of t.entries()){const o=n[i];o==null?n[i]=ub(s):Array.isArray(o)?o.push(ub(s)):n[i]=[o,ub(s)]}return n}const mB=vB(JSON.parse),gB=yB(JSON.stringify,JSON.parse);function vB(e){return t=>{t[0]==="?"&&(t=t.substring(1));const n=pB(t);for(const i in n){const s=n[i];if(typeof s=="string")try{n[i]=e(s)}catch{}}return n}}function yB(e,t){const n=typeof t=="function";function i(s){if(typeof s=="object"&&s!==null)try{return e(s)}catch{}else if(n&&typeof s=="string")try{return t(s),e(s)}catch{}return s}return s=>{const o=hB(s,i);return o?`?${o}`:""}}const zs="__root__";function Cg(e){if(e.statusCode=e.statusCode||e.code||307,!e._builtLocation&&!e.reloadDocument&&typeof e.href=="string")try{new URL(e.href),e.reloadDocument=!0}catch{}const t=new Headers(e.headers);e.href&&t.get("Location")===null&&t.set("Location",e.href);const n=new Response(null,{status:e.statusCode,headers:t});if(n.options=e,e.throw)throw n;return n}function Fs(e){return e instanceof Response&&!!e.options}const xm=e=>{if(!e.rendered)return e.rendered=!0,e.onReady?.()},Eg=(e,t)=>!!(e.preload&&!e.router.state.matches.some(n=>n.id===t)),gu=(e,t,n=!0)=>{const i={...e.router.options.context??{}},s=n?t:t-1;for(let o=0;o<=s;o++){const l=e.matches[o];if(!l)continue;const c=e.router.getMatch(l.id);c&&Object.assign(i,c.__routeContext,c.__beforeLoadContext)}return i},zk=(e,t,n)=>{const i=e.router.routesById[t.routeId??""]??e.router.routeTree;!i.options.notFoundComponent&&e.router.options?.defaultNotFoundComponent&&(i.options.notFoundComponent=e.router.options.defaultNotFoundComponent);const s=n==="BEFORE_LOAD"&&i.parentRoute;s||Mo(i.options.notFoundComponent);const o=e.matches.find(l=>l.routeId===i.id);Mo(o,"Could not find match for route: "+i.id),e.updateMatch(o.id,l=>({...l,status:"notFound",error:t,isFetching:!1})),s&&(t.routeId=i.parentRoute.id,zk(e,t,n))},Ta=(e,t,n,i)=>{if(!(!Fs(n)&&!bs(n))){if(Fs(n)&&n.redirectHandled&&!n.options.reloadDocument)throw n;if(t){t._nonReactive.beforeLoadPromise?.resolve(),t._nonReactive.loaderPromise?.resolve(),t._nonReactive.beforeLoadPromise=void 0,t._nonReactive.loaderPromise=void 0;const s=Fs(n)?"redirected":"notFound";t._nonReactive.error=n,e.updateMatch(t.id,o=>({...o,status:s,context:gu(e,t.index),isFetching:!1,error:n})),bs(n)&&!n.routeId&&(n.routeId=t.routeId),t._nonReactive.loadPromise?.resolve()}throw Fs(n)?(e.rendered=!0,n.options._fromLocation=e.location,n.redirectHandled=!0,n=e.router.resolveRedirect(n),n):(zk(e,n,i),n)}},Bk=(e,t)=>!!e.router.getMatch(t)._nonReactive.dehydrated,Vd=(e,t,n,i)=>{const{id:s,routeId:o}=e.matches[t],l=e.router.looseRoutesById[o];if(n instanceof Promise)throw n;n.routerCode=i,e.firstBadMatchIndex??=t,Ta(e,e.router.getMatch(s),n,i);try{l.options.onError?.(n)}catch(c){n=c,Ta(e,e.router.getMatch(s),n,i)}e.updateMatch(s,c=>(c._nonReactive.beforeLoadPromise?.resolve(),c._nonReactive.beforeLoadPromise=void 0,c._nonReactive.loadPromise?.resolve(),{...c,error:n,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}))},Uk=(e,t,n,i)=>{if(i._nonReactive.pendingTimeout!==void 0)return;const s=n.options.pendingMs??e.router.options.defaultPendingMs;if(!!(e.onReady&&!Eg(e,t)&&(n.options.loader||n.options.beforeLoad||$k(n))&&typeof s=="number"&&s!==1/0&&(n.options.pendingComponent??e.router.options?.defaultPendingComponent))){const l=setTimeout(()=>{xm(e)},s);i._nonReactive.pendingTimeout=l}},bB=(e,t,n)=>{const i=e.router.getMatch(t);if(!i._nonReactive.beforeLoadPromise&&!i._nonReactive.loaderPromise)return;Uk(e,t,n,i);const s=()=>{const o=e.router.getMatch(t);o.preload&&(o.status==="redirected"||o.status==="notFound")&&Ta(e,o,o.error)};return i._nonReactive.beforeLoadPromise?i._nonReactive.beforeLoadPromise.then(s):s()},xB=(e,t,n,i)=>{const s=e.router.getMatch(t),o=s._nonReactive.loadPromise;s._nonReactive.loadPromise=Su(()=>{o?.resolve()});const{paramsError:l,searchError:c}=s;l&&Vd(e,n,l,"PARSE_PARAMS"),c&&Vd(e,n,c,"VALIDATE_SEARCH"),Uk(e,t,i,s);const d=new AbortController;let h=!1;const g=()=>{h||(h=!0,e.updateMatch(t,M=>({...M,isFetching:"beforeLoad",fetchCount:M.fetchCount+1,abortController:d})))},v=()=>{s._nonReactive.beforeLoadPromise?.resolve(),s._nonReactive.beforeLoadPromise=void 0,e.updateMatch(t,M=>({...M,isFetching:!1}))};if(!i.options.beforeLoad){sf(()=>{g(),v()});return}s._nonReactive.beforeLoadPromise=Su();const b={...gu(e,n,!1),...s.__routeContext},{search:_,params:C,cause:E}=s,R=Eg(e,t),N={search:_,abortController:d,params:C,preload:R,context:b,location:e.location,navigate:M=>e.router.navigate({...M,_fromLocation:e.location}),buildLocation:e.router.buildLocation,cause:R?"preload":E,matches:e.matches,routeId:i.id,...e.router.options.additionalContext},k=M=>{if(M===void 0){sf(()=>{g(),v()});return}(Fs(M)||bs(M))&&(g(),Vd(e,n,M,"BEFORE_LOAD")),sf(()=>{g(),e.updateMatch(t,j=>({...j,__beforeLoadContext:M})),v()})};let O;try{if(O=i.options.beforeLoad(N),mu(O))return g(),O.catch(M=>{Vd(e,n,M,"BEFORE_LOAD")}).then(k)}catch(M){g(),Vd(e,n,M,"BEFORE_LOAD")}k(O)},_B=(e,t)=>{const{id:n,routeId:i}=e.matches[t],s=e.router.looseRoutesById[i],o=()=>c(),l=()=>xB(e,n,t,s),c=()=>{if(Bk(e,n))return;const d=bB(e,n,s);return mu(d)?d.then(l):l()};return o()},wB=(e,t,n)=>{const i=e.router.getMatch(t);if(!i||!n.options.head&&!n.options.scripts&&!n.options.headers)return;const s={ssr:e.router.options.ssr,matches:e.matches,match:i,params:i.params,loaderData:i.loaderData};return Promise.all([n.options.head?.(s),n.options.scripts?.(s),n.options.headers?.(s)]).then(([o,l,c])=>{const d=o?.meta,h=o?.links,g=o?.scripts,v=o?.styles;return{meta:d,links:h,headScripts:g,headers:c,scripts:l,styles:v}})},Fk=(e,t,n,i)=>{const s=e.matchPromises[n-1],{params:o,loaderDeps:l,abortController:c,cause:d}=e.router.getMatch(t),h=gu(e,n),g=Eg(e,t);return{params:o,deps:l,preload:!!g,parentMatchPromise:s,abortController:c,context:h,location:e.location,navigate:v=>e.router.navigate({...v,_fromLocation:e.location}),cause:g?"preload":d,route:i,...e.router.options.additionalContext}},pA=async(e,t,n,i)=>{try{const s=e.router.getMatch(t);try{(!(Bz??e.router.isServer)||s.ssr===!0)&&Vk(i);const o=i.options.loader?.(Fk(e,t,n,i)),l=i.options.loader&&mu(o);if((l||i._lazyPromise||i._componentsPromise||i.options.head||i.options.scripts||i.options.headers||s._nonReactive.minPendingPromise)&&e.updateMatch(t,h=>({...h,isFetching:"loader"})),i.options.loader){const h=l?await o:o;Ta(e,e.router.getMatch(t),h),h!==void 0&&e.updateMatch(t,g=>({...g,loaderData:h}))}i._lazyPromise&&await i._lazyPromise;const d=s._nonReactive.minPendingPromise;d&&await d,i._componentsPromise&&await i._componentsPromise,e.updateMatch(t,h=>({...h,error:void 0,context:gu(e,n),status:"success",isFetching:!1,updatedAt:Date.now()}))}catch(o){let l=o;if(l?.name==="AbortError"){if(s.abortController.signal.aborted){s._nonReactive.loaderPromise?.resolve(),s._nonReactive.loaderPromise=void 0;return}e.updateMatch(t,d=>({...d,status:d.status==="pending"?"success":d.status,isFetching:!1,context:gu(e,n)}));return}const c=s._nonReactive.minPendingPromise;c&&await c,bs(o)&&await i.options.notFoundComponent?.preload?.(),Ta(e,e.router.getMatch(t),o);try{i.options.onError?.(o)}catch(d){l=d,Ta(e,e.router.getMatch(t),d)}e.updateMatch(t,d=>({...d,error:l,context:gu(e,n),status:"error",isFetching:!1}))}}catch(s){const o=e.router.getMatch(t);o&&(o._nonReactive.loaderPromise=void 0),Ta(e,o,s)}},SB=async(e,t)=>{async function n(g,v,b,_){const C=Date.now()-v.updatedAt,E=g?_.options.preloadStaleTime??e.router.options.defaultPreloadStaleTime??3e4:_.options.staleTime??e.router.options.defaultStaleTime??0,R=_.options.shouldReload,N=typeof R=="function"?R(Fk(e,i,t,_)):R,{status:k,invalid:O}=b;o=k==="success"&&(O||(N??C>E)),g&&_.options.preload===!1||(o&&!e.sync?(l=!0,(async()=>{try{await pA(e,i,t,_);const M=e.router.getMatch(i);M._nonReactive.loaderPromise?.resolve(),M._nonReactive.loadPromise?.resolve(),M._nonReactive.loaderPromise=void 0}catch(M){Fs(M)&&await e.router.navigate(M.options)}})()):(k!=="success"||o&&e.sync)&&await pA(e,i,t,_))}const{id:i,routeId:s}=e.matches[t];let o=!1,l=!1;const c=e.router.looseRoutesById[s];if(!Bk(e,i)){const g=e.router.getMatch(i),v=Eg(e,i);if(g._nonReactive.loaderPromise){if(g.status==="success"&&!e.sync&&!g.preload)return g;await g._nonReactive.loaderPromise;const b=e.router.getMatch(i),_=b._nonReactive.error||b.error;_&&Ta(e,b,_),b.status==="pending"&&await n(v,g,b,c)}else{const b=v&&!e.router.state.matches.some(C=>C.id===i),_=e.router.getMatch(i);_._nonReactive.loaderPromise=Su(),b!==_.preload&&e.updateMatch(i,C=>({...C,preload:b})),await n(v,g,_,c)}}const d=e.router.getMatch(i);l||(d._nonReactive.loaderPromise?.resolve(),d._nonReactive.loadPromise?.resolve()),clearTimeout(d._nonReactive.pendingTimeout),d._nonReactive.pendingTimeout=void 0,l||(d._nonReactive.loaderPromise=void 0),d._nonReactive.dehydrated=void 0;const h=l?d.isFetching:!1;return h!==d.isFetching||d.invalid!==!1?(e.updateMatch(i,g=>({...g,isFetching:h,invalid:!1})),e.router.getMatch(i)):d};async function mA(e){const t=Object.assign(e,{matchPromises:[]});t.router.state.matches.some(n=>n._forcePending)&&xm(t);try{for(let c=0;c<t.matches.length;c++){const d=_B(t,c);mu(d)&&await d}const n=t.firstBadMatchIndex??t.matches.length;for(let c=0;c<n;c++)t.matchPromises.push(SB(t,c));const s=(await Promise.allSettled(t.matchPromises)).filter(c=>c.status==="rejected").map(c=>c.reason);let o;for(const c of s){if(Fs(c))throw c;!o&&bs(c)&&(o=c)}for(const c of t.matches){const{id:d,routeId:h}=c,g=t.router.looseRoutesById[h];try{const v=wB(t,d,g);if(v){const b=await v;t.updateMatch(d,_=>({..._,...b}))}}catch(v){console.error(`Error executing head for route ${h}:`,v)}}if(o)throw o;const l=xm(t);mu(l)&&await l}catch(n){if(bs(n)&&!t.preload){const i=xm(t);throw mu(i)&&await i,n}if(Fs(n))throw n}return t.matches}async function Vk(e){if(!e._lazyLoaded&&e._lazyPromise===void 0&&(e.lazyFn?e._lazyPromise=e.lazyFn().then(t=>{const{id:n,...i}=t.options;Object.assign(e.options,i),e._lazyLoaded=!0,e._lazyPromise=void 0}):e._lazyLoaded=!0),!e._componentsLoaded&&e._componentsPromise===void 0){const t=()=>{const n=[];for(const i of Hk){const s=e.options[i]?.preload;s&&n.push(s())}if(n.length)return Promise.all(n).then(()=>{e._componentsLoaded=!0,e._componentsPromise=void 0});e._componentsLoaded=!0,e._componentsPromise=void 0};e._componentsPromise=e._lazyPromise?e._lazyPromise.then(t):t()}return e._componentsPromise}function $k(e){for(const t of Hk)if(e.options[t]?.preload)return!0;return!1}const Hk=["component","errorComponent","pendingComponent","notFoundComponent"];function CB(e){return{input:({url:t})=>{for(const n of e)t=vx(n,t);return t},output:({url:t})=>{for(let n=e.length-1;n>=0;n--)t=Gk(e[n],t);return t}}}function EB(e){const t=Ik(e.basepath),n=`/${t}`,i=`${n}/`,s=e.caseSensitive?n:n.toLowerCase(),o=e.caseSensitive?i:i.toLowerCase();return{input:({url:l})=>{const c=e.caseSensitive?l.pathname:l.pathname.toLowerCase();return c===s?l.pathname="/":c.startsWith(o)&&(l.pathname=l.pathname.slice(n.length)),l},output:({url:l})=>(l.pathname=bm(["/",t,l.pathname]),l)}}function vx(e,t){const n=e?.input?.({url:t});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return t}function Gk(e,t){const n=e?.output?.({url:t});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return t}function Ul(e){const t=e.resolvedLocation,n=e.location,i=t?.pathname!==n.pathname,s=t?.href!==n.href,o=t?.hash!==n.hash;return{fromLocation:t,toLocation:n,pathChanged:i,hrefChanged:s,hashChanged:o}}function AB(e){const t=e.filter(n=>n.status!=="redirected");return t.length===e.length?e:t}class TB{constructor(t){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=n=>n(),this.update=n=>{n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const i=this.options,s=this.basepath??i?.basepath??"/",o=this.basepath===void 0,l=i?.rewrite;if(this.options={...i,...n},this.isServer=this.options.isServer??typeof document>"u",this.protocolAllowlist=new Set(this.options.protocolAllowlist),this.options.pathParamsAllowedCharacters&&(this.pathParamsDecoder=sB(this.options.pathParamsAllowedCharacters)),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.history=Iz()),this.origin=this.options.origin,this.origin||(window?.origin&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree){this.routeTree=this.options.routeTree;let b;this.resolvePathCache=zm(1e3),b=this.buildRouteTree(),this.setRoutes(b)}!this.__store&&this.latestLocation&&(this.__store=new Dz(kB(this.latestLocation)),dB(this));let c=!1;const d=this.options.basepath??"/",h=this.options.rewrite;if(o||s!==d||l!==h){this.basepath=d;const b=[],_=Ik(d);_&&_!=="/"&&b.push(EB({basepath:d})),h&&b.push(h),this.rewrite=b.length===0?void 0:b.length===1?b[0]:CB(b),this.history&&this.updateLatestLocation(),c=!0}c&&this.__store&&this.__store.setState(b=>({...b,location:this.latestLocation})),typeof window<"u"&&"CSS"in window&&typeof window.CSS?.supports=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const n=Qz(this.routeTree,this.options.caseSensitive,(i,s)=>{i.init({originalIndex:s})});return this.options.routeMasks&&qz(this.options.routeMasks,n.processedTree),n},this.subscribe=(n,i)=>{const s={eventType:n,fn:i};return this.subscribers.add(s),()=>{this.subscribers.delete(s)}},this.emit=n=>{this.subscribers.forEach(i=>{i.eventType===n.type&&i.fn(n)})},this.parseLocation=(n,i)=>{const s=({pathname:d,search:h,hash:g,href:v,state:b})=>{if(!this.rewrite&&!/[ \x00-\x1f\x7f\u0080-\uffff]/.test(d)){const k=this.options.parseSearch(h),O=this.options.stringifySearch(k);return{href:d+O+g,publicHref:v,pathname:Ud(d).path,external:!1,searchStr:O,search:ps(i?.search,k),hash:Ud(g.slice(1)).path,state:ps(i?.state,b)}}const _=new URL(v,this.origin),C=vx(this.rewrite,_),E=this.options.parseSearch(C.search),R=this.options.stringifySearch(E);return C.search=R,{href:C.href.replace(C.origin,""),publicHref:v,pathname:Ud(C.pathname).path,external:!!this.rewrite&&C.origin!==this.origin,searchStr:R,search:ps(i?.search,E),hash:Ud(C.hash.slice(1)).path,state:ps(i?.state,b)}},o=s(n),{__tempLocation:l,__tempKey:c}=o.state;if(l&&(!c||c===this.tempLocationKey)){const d=s(l);return d.state.key=o.state.key,d.state.__TSR_key=o.state.__TSR_key,delete d.state.__tempLocation,{...d,maskedLocation:o}}return o},this.resolvePathWithBase=(n,i)=>iB({base:n,to:Y0(i),trailingSlash:this.options.trailingSlash,cache:this.resolvePathCache}),this.matchRoutes=(n,i,s)=>typeof n=="string"?this.matchRoutesInternal({pathname:n,search:i},s):this.matchRoutesInternal(n,i),this.getMatchedRoutes=n=>NB({pathname:n,routesById:this.routesById,processedTree:this.processedTree}),this.cancelMatch=n=>{const i=this.getMatch(n);i&&(i.abortController.abort(),clearTimeout(i._nonReactive.pendingTimeout),i._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{const n=this.state.matches.filter(o=>o.status==="pending"),i=this.state.matches.filter(o=>o.isFetching==="loader");new Set([...this.state.pendingMatches??[],...n,...i]).forEach(o=>{this.cancelMatch(o.id)})},this.buildLocation=n=>{const i=(o={})=>{const l=o._fromLocation||this.pendingBuiltLocation||this.latestLocation,c=this.matchRoutesLightweight(l);o.from;const d=o.unsafeRelative==="path"?l.pathname:o.from??c.fullPath,h=this.resolvePathWithBase(d,"."),g=c.search,v={...c.params},b=o.to?this.resolvePathWithBase(h,`${o.to}`):this.resolvePathWithBase(h,"."),_=o.params===!1||o.params===null?{}:(o.params??!0)===!0?v:Object.assign(v,Aa(o.params,v)),C=this.getMatchedRoutes(b);let E=C.matchedRoutes;if((!C.foundRoute||C.foundRoute.path!=="/"&&C.routeParams["**"])&&this.options.notFoundRoute&&(E=[...E,this.options.notFoundRoute]),Object.keys(_).length>0)for(const q of E){const X=q.options.params?.stringify??q.options.stringifyParams;if(X)try{Object.assign(_,X(_))}catch{}}const N=n.leaveParams?b:Ud(fA({path:b,params:_,decoder:this.pathParamsDecoder,server:this.isServer}).interpolatedPath).path;let k=g;if(n._includeValidateSearch&&this.options.search?.strict){const q={};E.forEach(X=>{if(X.options.validateSearch)try{Object.assign(q,_m(X.options.validateSearch,{...q,...k}))}catch{}}),k=q}k=OB({search:k,dest:o,destRoutes:E,_includeValidateSearch:n._includeValidateSearch}),k=ps(g,k);const O=this.options.stringifySearch(k),M=o.hash===!0?l.hash:o.hash?Aa(o.hash,l.hash):void 0,j=M?`#${M}`:"";let U=o.state===!0?l.state:o.state?Aa(o.state,l.state):{};U=ps(l.state,U);const z=`${N}${O}${j}`;let I,$,Z=!1;if(this.rewrite){const q=new URL(z,this.origin),X=Gk(this.rewrite,q);I=q.href.replace(q.origin,""),X.origin!==this.origin?($=X.href,Z=!0):$=X.pathname+X.search+X.hash}else I=Hz(z),$=I;return{publicHref:$,href:I,pathname:N,search:k,searchStr:O,state:U,hash:M??"",external:Z,unmaskOnReload:o.unmaskOnReload}},s=(o={},l)=>{const c=i(o);let d=l?i(l):void 0;if(!d){const h={};if(this.options.routeMasks){const g=Wz(c.pathname,this.processedTree);if(g){Object.assign(h,g.rawParams);const{from:v,params:b,..._}=g.route,C=b===!1||b===null?{}:(b??!0)===!0?h:Object.assign(h,Aa(b,h));l={from:n.from,..._,params:C},d=i(l)}}}return d&&(c.maskedLocation=d),c};return n.mask?s(n,{from:n.from,...n.mask}):s(n)},this.commitLocation=async({viewTransition:n,ignoreBlocker:i,...s})=>{const o=()=>{const d=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];d.forEach(g=>{s.state[g]=this.latestLocation.state[g]});const h=Bl(s.state,this.latestLocation.state);return d.forEach(g=>{delete s.state[g]}),h},l=Na(this.latestLocation.href)===Na(s.href),c=this.commitLocationPromise;if(this.commitLocationPromise=Su(()=>{c?.resolve()}),l&&o())this.load();else{let{maskedLocation:d,hashScrollIntoView:h,...g}=s;d&&(g={...d,state:{...d.state,__tempKey:void 0,__tempLocation:{...g,search:g.searchStr,state:{...g.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(g.unmaskOnReload??this.options.unmaskOnReload??!1)&&(g.state.__tempKey=this.tempLocationKey)),g.state.__hashScrollIntoViewOptions=h??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[s.replace?"replace":"push"](g.publicHref,g.state,{ignoreBlocker:i})}return this.resetNextScroll=s.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:i,hashScrollIntoView:s,viewTransition:o,ignoreBlocker:l,href:c,...d}={})=>{if(c){const v=this.history.location.state.__TSR_index,b=Lm(c,{__TSR_index:n?v:v+1}),_=new URL(b.pathname,this.origin),C=vx(this.rewrite,_);d.to=C.pathname,d.search=this.options.parseSearch(b.search),d.hash=b.hash.slice(1)}const h=this.buildLocation({...d,_includeValidateSearch:!0});this.pendingBuiltLocation=h;const g=this.commitLocation({...h,viewTransition:o,replace:n,resetScroll:i,hashScrollIntoView:s,ignoreBlocker:l});return Promise.resolve().then(()=>{this.pendingBuiltLocation===h&&(this.pendingBuiltLocation=void 0)}),g},this.navigate=async({to:n,reloadDocument:i,href:s,publicHref:o,...l})=>{let c=!1;if(s)try{new URL(`${s}`),c=!0}catch{}if(c&&!i&&(i=!0),i){if(n!==void 0||!s){const h=this.buildLocation({to:n,...l});s=s??h.publicHref,o=o??h.publicHref}const d=!c&&o?o:s;if(Im(d,this.protocolAllowlist))return Promise.resolve();if(!l.ignoreBlocker){const g=this.history.getBlockers?.()??[];for(const v of g)if(v?.blockerFn&&await v.blockerFn({currentLocation:this.latestLocation,nextLocation:this.latestLocation,action:"PUSH"}))return Promise.resolve()}return l.replace?window.location.replace(d):window.location.href=d,Promise.resolve()}return this.buildAndCommitLocation({...l,href:s,to:n,_isNavigate:!0})},this.beforeLoad=()=>{this.cancelMatches(),this.updateLatestLocation();const n=this.matchRoutes(this.latestLocation);this.__store.setState(i=>({...i,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:n,cachedMatches:i.cachedMatches.filter(s=>!n.some(o=>o.id===s.id))}))},this.load=async n=>{let i,s,o;for(o=new Promise(c=>{this.startTransition(async()=>{try{this.beforeLoad();const d=this.latestLocation,h=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...Ul({resolvedLocation:h,location:d})}),this.emit({type:"onBeforeLoad",...Ul({resolvedLocation:h,location:d})}),await mA({router:this,sync:n?.sync,matches:this.state.pendingMatches,location:d,updateMatch:this.updateMatch,onReady:async()=>{this.startTransition(()=>{this.startViewTransition(async()=>{let g=[],v=[],b=[];sf(()=>{this.__store.setState(_=>{const C=_.matches,E=_.pendingMatches||_.matches;return g=C.filter(R=>!E.some(N=>N.id===R.id)),v=E.filter(R=>!C.some(N=>N.id===R.id)),b=E.filter(R=>C.some(N=>N.id===R.id)),{..._,isLoading:!1,loadedAt:Date.now(),matches:E,pendingMatches:void 0,cachedMatches:[..._.cachedMatches,...g.filter(R=>R.status!=="error"&&R.status!=="notFound"&&R.status!=="redirected")]}}),this.clearExpiredCache()}),[[g,"onLeave"],[v,"onEnter"],[b,"onStay"]].forEach(([_,C])=>{_.forEach(E=>{this.looseRoutesById[E.routeId].options[C]?.(E)})})})})}})}catch(d){Fs(d)?(i=d,this.navigate({...i.options,replace:!0,ignoreBlocker:!0})):bs(d)&&(s=d),this.__store.setState(h=>({...h,statusCode:i?i.status:s?404:h.matches.some(g=>g.status==="error")?500:200,redirect:i}))}this.latestLoadPromise===o&&(this.commitLocationPromise?.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),c()})}),this.latestLoadPromise=o,await o;this.latestLoadPromise&&o!==this.latestLoadPromise;)await this.latestLoadPromise;let l;this.hasNotFoundMatch()?l=404:this.__store.state.matches.some(c=>c.status==="error")&&(l=500),l!==void 0&&this.__store.setState(c=>({...c,statusCode:l}))},this.startViewTransition=n=>{const i=this.shouldViewTransition??this.options.defaultViewTransition;if(this.shouldViewTransition=void 0,i&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let s;if(typeof i=="object"&&this.isViewTransitionTypesSupported){const o=this.latestLocation,l=this.state.resolvedLocation,c=typeof i.types=="function"?i.types(Ul({resolvedLocation:l,location:o})):i.types;if(c===!1){n();return}s={update:n,types:c}}else s=n;document.startViewTransition(s)}else n()},this.updateMatch=(n,i)=>{this.startTransition(()=>{const s=this.state.pendingMatches?.some(o=>o.id===n)?"pendingMatches":this.state.matches.some(o=>o.id===n)?"matches":this.state.cachedMatches.some(o=>o.id===n)?"cachedMatches":"";s&&(s==="cachedMatches"?this.__store.setState(o=>({...o,cachedMatches:AB(o.cachedMatches.map(l=>l.id===n?i(l):l))})):this.__store.setState(o=>({...o,[s]:o[s]?.map(l=>l.id===n?i(l):l)})))})},this.getMatch=n=>{const i=s=>s.id===n;return this.state.cachedMatches.find(i)??this.state.pendingMatches?.find(i)??this.state.matches.find(i)},this.invalidate=n=>{const i=s=>n?.filter?.(s)??!0?{...s,invalid:!0,...n?.forcePending||s.status==="error"||s.status==="notFound"?{status:"pending",error:void 0}:void 0}:s;return this.__store.setState(s=>({...s,matches:s.matches.map(i),cachedMatches:s.cachedMatches.map(i),pendingMatches:s.pendingMatches?.map(i)})),this.shouldViewTransition=!1,this.load({sync:n?.sync})},this.getParsedLocationHref=n=>n.publicHref||"/",this.resolveRedirect=n=>{const i=n.headers.get("Location");if(!n.options.href||n.options._builtLocation){const s=n.options._builtLocation??this.buildLocation(n.options),o=this.getParsedLocationHref(s);n.options.href=o,n.headers.set("Location",o)}else if(i)try{const s=new URL(i);if(this.origin&&s.origin===this.origin){const o=s.pathname+s.search+s.hash;n.options.href=o,n.headers.set("Location",o)}}catch{}if(n.options.href&&!n.options._builtLocation&&Im(n.options.href,this.protocolAllowlist))throw new Error(`Redirect blocked: unsafe protocol in href "${n.options.href}". Allowed protocols: ${Array.from(this.protocolAllowlist).join(", ")}.`);return n.headers.get("Location")||n.headers.set("Location",n.options.href),n},this.clearCache=n=>{const i=n?.filter;i!==void 0?this.__store.setState(s=>({...s,cachedMatches:s.cachedMatches.filter(o=>!i(o))})):this.__store.setState(s=>({...s,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=i=>{const s=this.looseRoutesById[i.routeId];if(!s.options.loader)return!0;const o=(i.preload?s.options.preloadGcTime??this.options.defaultPreloadGcTime:s.options.gcTime??this.options.defaultGcTime)??300*1e3;return i.status==="error"?!0:Date.now()-i.updatedAt>=o};this.clearCache({filter:n})},this.loadRouteChunk=Vk,this.preloadRoute=async n=>{const i=n._builtLocation??this.buildLocation(n);let s=this.matchRoutes(i,{throwOnError:!0,preload:!0,dest:n});const o=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(c=>c.id)),l=new Set([...o,...this.state.cachedMatches.map(c=>c.id)]);sf(()=>{s.forEach(c=>{l.has(c.id)||this.__store.setState(d=>({...d,cachedMatches:[...d.cachedMatches,c]}))})});try{return s=await mA({router:this,matches:s,location:i,preload:!0,updateMatch:(c,d)=>{o.has(c)?s=s.map(h=>h.id===c?d(h):h):this.updateMatch(c,d)}}),s}catch(c){if(Fs(c))return c.options.reloadDocument?void 0:await this.preloadRoute({...c.options,_fromLocation:i});bs(c)||console.error(c);return}},this.matchRoute=(n,i)=>{const s={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},o=this.buildLocation(s);if(i?.pending&&this.state.status!=="pending")return!1;const c=(i?.pending===void 0?!this.state.isLoading:i.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,d=Yz(o.pathname,i?.caseSensitive??!1,i?.fuzzy??!1,c.pathname,this.processedTree);return!d||n.params&&!Bl(d.rawParams,n.params,{partial:!0})?!1:i?.includeSearch??!0?Bl(c.search,o.search,{partial:!0})?d.rawParams:!1:d.rawParams},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...t,caseSensitive:t.caseSensitive??!1,notFoundMode:t.notFoundMode??"fuzzy",stringifySearch:t.stringifySearch??gB,parseSearch:t.parseSearch??mB,protocolAllowlist:t.protocolAllowlist??$z}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}setRoutes({routesById:t,routesByPath:n,processedTree:i}){this.routesById=t,this.routesByPath=n,this.processedTree=i;const s=this.options.notFoundRoute;s&&(s.init({originalIndex:99999999999}),this.routesById[s.id]=s)}get looseRoutesById(){return this.routesById}getParentContext(t){return t?.id?t.context??this.options.context??void 0:this.options.context??void 0}matchRoutesInternal(t,n){const i=this.getMatchedRoutes(t.pathname),{foundRoute:s,routeParams:o,parsedParams:l}=i;let{matchedRoutes:c}=i,d=!1;(s?s.path!=="/"&&o["**"]:Na(t.pathname))&&(this.options.notFoundRoute?c=[...c,this.options.notFoundRoute]:d=!0);const h=d?MB(this.options.notFoundMode,c):void 0,g=new Array(c.length),v=new Map(this.state.matches.map(b=>[b.routeId,b]));for(let b=0;b<c.length;b++){const _=c[b],C=g[b-1];let E,R,N;{const re=C?.search??t.search,ye=C?._strictSearch??void 0;try{const G=_m(_.options.validateSearch,{...re})??void 0;E={...re,...G},R={...ye,...G},N=void 0}catch(G){let W=G;if(G instanceof Fm||(W=new Fm(G.message,{cause:G})),n?.throwOnError)throw W;E=re,R={},N=W}}const k=_.options.loaderDeps?.({search:E})??"",O=k?JSON.stringify(k):"",{interpolatedPath:M,usedParams:j}=fA({path:_.fullPath,params:o,decoder:this.pathParamsDecoder,server:this.isServer}),U=_.id+M+O,z=this.getMatch(U),I=v.get(_.id),$=z?._strictParams??j;let Z;if(!z)try{gA(_,j,l,$)}catch(re){if(bs(re)||Fs(re)?Z=re:Z=new RB(re.message,{cause:re}),n?.throwOnError)throw Z}Object.assign(o,$);const q=I?"stay":"enter";let X;if(z)X={...z,cause:q,params:I?.params??o,_strictParams:$,search:ps(I?I.search:z.search,E),_strictSearch:R};else{const re=_.options.loader||_.options.beforeLoad||_.lazyFn||$k(_)?"pending":"success";X={id:U,ssr:_.options.ssr,index:b,routeId:_.id,params:I?.params??o,_strictParams:$,pathname:M,updatedAt:Date.now(),search:I?ps(I.search,E):E,_strictSearch:R,searchError:void 0,status:re,isFetching:!1,error:void 0,paramsError:Z,__routeContext:void 0,_nonReactive:{loadPromise:Su()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:q,loaderDeps:I?ps(I.loaderDeps,k):k,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:_.options.staticData||{},fullPath:_.fullPath}}n?.preload||(X.globalNotFound=h===_.id),X.searchError=N;const ne=this.getParentContext(C);X.context={...ne,...X.__routeContext,...X.__beforeLoadContext},g[b]=X}for(let b=0;b<g.length;b++){const _=g[b],C=this.looseRoutesById[_.routeId],E=this.getMatch(_.id),R=v.get(_.routeId);if(_.params=R?ps(R.params,o):o,!E){const N=g[b-1],k=this.getParentContext(N);if(C.options.context){const O={deps:_.loaderDeps,params:_.params,context:k??{},location:t,navigate:M=>this.navigate({...M,_fromLocation:t}),buildLocation:this.buildLocation,cause:_.cause,abortController:_.abortController,preload:!!_.preload,matches:g,routeId:C.id};_.__routeContext=C.options.context(O)??void 0}_.context={...k,..._.__routeContext,..._.__beforeLoadContext}}}return g}matchRoutesLightweight(t){const{matchedRoutes:n,routeParams:i,parsedParams:s}=this.getMatchedRoutes(t.pathname),o=yf(n),l={...t.search};for(const g of n)try{Object.assign(l,_m(g.options.validateSearch,l))}catch{}const c=yf(this.state.matches),d=c&&c.routeId===o.id&&t.pathname===this.state.location.pathname;let h;if(d)h=c.params;else{const g={...i};for(const v of n)try{gA(v,i,s??{},g)}catch{}h=g}return{matchedRoutes:n,fullPath:o.fullPath,search:l,params:h}}}class Fm extends Error{}class RB extends Error{}function kB(e){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:e,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function _m(e,t){if(e==null)return{};if("~standard"in e){const n=e["~standard"].validate(t);if(n instanceof Promise)throw new Fm("Async validation not supported");if(n.issues)throw new Fm(JSON.stringify(n.issues,void 0,2),{cause:n});return n.value}return"parse"in e?e.parse(t):typeof e=="function"?e(t):{}}function NB({pathname:e,routesById:t,processedTree:n}){const i={},s=Na(e);let o,l;const c=Zz(s,n,!0);return c&&(o=c.route,Object.assign(i,c.rawParams),l=Object.assign({},c.parsedParams)),{matchedRoutes:c?.branch||[t[zs]],routeParams:i,foundRoute:o,parsedParams:l}}function OB({search:e,dest:t,destRoutes:n,_includeValidateSearch:i}){return PB(n)(e,t,i??!1)}function PB(e){const t={dest:null,_includeValidateSearch:!1,middlewares:[]};for(const s of e){if("search"in s.options)s.options.search?.middlewares&&t.middlewares.push(...s.options.search.middlewares);else if(s.options.preSearchFilters||s.options.postSearchFilters){const o=({search:l,next:c})=>{let d=l;"preSearchFilters"in s.options&&s.options.preSearchFilters&&(d=s.options.preSearchFilters.reduce((g,v)=>v(g),l));const h=c(d);return"postSearchFilters"in s.options&&s.options.postSearchFilters?s.options.postSearchFilters.reduce((g,v)=>v(g),h):h};t.middlewares.push(o)}if(s.options.validateSearch){const o=({search:l,next:c})=>{const d=c(l);if(!t._includeValidateSearch)return d;try{return{...d,..._m(s.options.validateSearch,d)??void 0}}catch{return d}};t.middlewares.push(o)}}const n=({search:s})=>{const o=t.dest;return o.search?o.search===!0?s:Aa(o.search,s):{}};t.middlewares.push(n);const i=(s,o,l)=>{if(s>=l.length)return o;const c=l[s];return c({search:o,next:h=>i(s+1,h,l)})};return function(o,l,c){return t.dest=l,t._includeValidateSearch=c,i(0,o,t.middlewares)}}function MB(e,t){if(e!=="root")for(let n=t.length-1;n>=0;n--){const i=t[n];if(i.children)return i.id}return zs}function gA(e,t,n,i){const s=e.options.params?.parse??e.options.parseParams;if(s)if(e.options.skipRouteOnParseError)for(const o in t)o in n&&(i[o]=n[o]);else{const o=s(i);Object.assign(i,o)}}const DB="Error preloading route! ";class Kk{constructor(t){if(this.init=n=>{this.originalIndex=n.originalIndex;const i=this.options,s=!i?.path&&!i?.id;this.parentRoute=this.options.getParentRoute?.(),s?this._path=zs:this.parentRoute||Mo(!1);let o=s?zs:i?.path;o&&o!=="/"&&(o=jk(o));const l=i?.id||o;let c=s?zs:bm([this.parentRoute.id===zs?"":this.parentRoute.id,l]);o===zs&&(o="/"),c!==zs&&(c=bm(["/",c]));const d=c===zs?"/":bm([this.parentRoute.fullPath,o]);this._path=o,this._id=c,this._fullPath=d,this._to=Na(d)},this.addChildren=n=>this._addFileChildren(n),this._addFileChildren=n=>(Array.isArray(n)&&(this.children=n),typeof n=="object"&&n!==null&&(this.children=Object.values(n)),this),this._addFileTypes=()=>this,this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.redirect=n=>Cg({from:this.fullPath,...n}),this.options=t||{},this.isRoot=!t?.getParentRoute,t?.id&&t?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class LB extends Kk{constructor(t){super(t)}}const Fp=typeof window<"u"?x.useLayoutEffect:x.useEffect;function db(e){const t=x.useRef({value:e,prev:null}),n=t.current.value;return e!==n&&(t.current={value:e,prev:n}),t.current.prev}function jB(e,t,n={},i={}){x.useEffect(()=>{if(!e.current||i.disabled||typeof IntersectionObserver!="function")return;const s=new IntersectionObserver(([o])=>{t(o)},n);return s.observe(e.current),()=>{s.disconnect()}},[t,n,i.disabled,e])}function IB(e){const t=x.useRef(null);return x.useImperativeHandle(e,()=>t.current,[]),t}function Z0(e){const t=e.errorComponent??X0;return y.jsx(zB,{getResetKey:e.getResetKey,onCatch:e.onCatch,children:({error:n,reset:i})=>n?x.createElement(t,{error:n,reset:i}):e.children})}class zB extends x.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(t){return{resetKey:t.getResetKey()}}static getDerivedStateFromError(t){return{error:t}}reset(){this.setState({error:null})}componentDidUpdate(t,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(t,n){this.props.onCatch&&this.props.onCatch(t,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function X0({error:e}){const[t,n]=x.useState(!1);return y.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[y.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),y.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(i=>!i),children:t?"Hide Error":"Show Error"})]}),y.jsx("div",{style:{height:".25rem"}}),t?y.jsx("div",{children:y.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:e.message?y.jsx("code",{children:e.message}):null})}):null]})}function BB({children:e,fallback:t=null}){return qk()?y.jsx(Nt.Fragment,{children:e}):y.jsx(Nt.Fragment,{children:t})}function qk(){return Nt.useSyncExternalStore(UB,()=>!0,()=>!1)}function UB(){return()=>{}}var fb={exports:{}},hb={},pb={exports:{}},mb={};var vA;function FB(){if(vA)return mb;vA=1;var e=Gf();function t(v,b){return v===b&&(v!==0||1/v===1/b)||v!==v&&b!==b}var n=typeof Object.is=="function"?Object.is:t,i=e.useState,s=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function c(v,b){var _=b(),C=i({inst:{value:_,getSnapshot:b}}),E=C[0].inst,R=C[1];return o(function(){E.value=_,E.getSnapshot=b,d(E)&&R({inst:E})},[v,_,b]),s(function(){return d(E)&&R({inst:E}),v(function(){d(E)&&R({inst:E})})},[v]),l(_),_}function d(v){var b=v.getSnapshot;v=v.value;try{var _=b();return!n(v,_)}catch{return!0}}function h(v,b){return b()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return mb.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,mb}var yA;function Wk(){return yA||(yA=1,pb.exports=FB()),pb.exports}var bA;function VB(){if(bA)return hb;bA=1;var e=Gf(),t=Wk();function n(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var i=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,o=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return hb.useSyncExternalStoreWithSelector=function(h,g,v,b,_){var C=o(null);if(C.current===null){var E={hasValue:!1,value:null};C.current=E}else E=C.current;C=c(function(){function N(U){if(!k){if(k=!0,O=U,U=b(U),_!==void 0&&E.hasValue){var z=E.value;if(_(z,U))return M=z}return M=U}if(z=M,i(O,U))return z;var I=b(U);return _!==void 0&&_(z,I)?(O=U,z):(O=U,M=I)}var k=!1,O,M,j=v===void 0?null:v;return[function(){return N(g())},j===null?void 0:function(){return N(j())}]},[g,v,b,_]);var R=s(h,C[0],C[1]);return l(function(){E.hasValue=!0,E.value=R},[R]),d(R),R},hb}var xA;function $B(){return xA||(xA=1,fb.exports=VB()),fb.exports}var HB=$B();function GB(e,t){return e===t}function KB(e,t,n=GB){const i=x.useCallback(l=>{if(!e)return()=>{};const{unsubscribe:c}=e.subscribe(l);return c},[e]),s=x.useCallback(()=>e?.get(),[e]);return HB.useSyncExternalStoreWithSelector(i,s,s,t,n)}const gb=x.createContext(null);function Yk(){return typeof document>"u"?gb:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=gb,gb)}function Ss(e){const t=x.useContext(Yk());return e?.warn,t}function xs(e){const t=Ss({warn:e?.router===void 0}),n=e?.router||t,i=x.useRef(void 0);return KB(n.__store,s=>{if(e?.select){if(e.structuralSharing??n.options.defaultStructuralSharing){const o=ps(i.current,e.select(s));return i.current=o,o}return e.select(s)}return s})}const Ag=x.createContext(void 0),qB=x.createContext(void 0);function mr(e){const t=x.useContext(e.from?qB:Ag);return xs({select:i=>{const s=i.matches.find(o=>e.from?e.from===o.routeId:o.id===t);if(Mo(!((e.shouldThrow??!0)&&!s),`Could not find ${e.from?`an active match from "${e.from}"`:"a nearest match!"}`),s!==void 0)return e.select?e.select(s):s},structuralSharing:e.structuralSharing})}function Q0(e){return mr({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.loaderData):t.loaderData})}function J0(e){const{select:t,...n}=e;return mr({...n,select:i=>t?t(i.loaderDeps):i.loaderDeps})}function e_(e){return mr({from:e.from,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,strict:e.strict,select:t=>{const n=e.strict===!1?t.params:t._strictParams;return e.select?e.select(n):n}})}function t_(e){return mr({from:e.from,strict:e.strict,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.search):t.search})}function Qi(e){const t=Ss();return x.useCallback(n=>t.navigate({...n,from:n.from??e?.from}),[e?.from,t])}var Xi=Rk();const WB=$0(Xi);function YB(e,t){const n=Ss(),i=IB(t),{activeProps:s,inactiveProps:o,activeOptions:l,to:c,preload:d,preloadDelay:h,hashScrollIntoView:g,replace:v,startTransition:b,resetScroll:_,viewTransition:C,children:E,target:R,disabled:N,style:k,className:O,onClick:M,onFocus:j,onMouseEnter:U,onMouseLeave:z,onTouchStart:I,ignoreBlocker:$,params:Z,search:q,hash:X,state:ne,mask:re,reloadDocument:ye,unsafeRelative:G,from:W,_fromLocation:te,...he}=e,oe=qk(),K=xs({select:yt=>{const Et=yt.matches[yt.matches.length-1];return{search:Et?.search,hash:yt.location.hash,path:Et?.pathname}},structuralSharing:!0}),ce=e.from,be=x.useMemo(()=>({...e,from:ce}),[n,K,ce,e._fromLocation,e.hash,e.to,e.search,e.params,e.state,e.mask,e.unsafeRelative]),xe=x.useMemo(()=>n.buildLocation({...be}),[n,be]),Re=xe.maskedLocation?xe.maskedLocation.publicHref:xe.publicHref,we=xe.maskedLocation?xe.maskedLocation.external:xe.external,Se=x.useMemo(()=>t3(Re,we,n.history,N),[N,we,Re,n.history]),Le=x.useMemo(()=>{if(Se?.external)return Im(Se.href,n.protocolAllowlist)?void 0:Se.href;if(!n3(c)&&!(typeof c!="string"||c.indexOf(":")===-1))try{return new URL(c),Im(c,n.protocolAllowlist)?void 0:c}catch{}},[c,Se,n.protocolAllowlist]),Me=xs({select:yt=>{if(Le)return!1;if(l?.exact){if(!nB(yt.location.pathname,xe.pathname,n.basepath))return!1}else{const Et=Bm(yt.location.pathname,n.basepath),zt=Bm(xe.pathname,n.basepath);if(!(Et.startsWith(zt)&&(Et.length===zt.length||Et[zt.length]==="/")))return!1}return(l?.includeSearch??!0)&&!Bl(yt.location.search,xe.search,{partial:!l?.exact,ignoreUndefined:!l?.explicitUndefined})?!1:l?.includeHash?oe&&yt.location.hash===xe.hash:!0}}),De=Me?Aa(s,{})??ZB:vb,Ye=Me?vb:Aa(o,{})??vb,Ze=[O,De.className,Ye.className].filter(Boolean).join(" "),St=(k||De.style||Ye.style)&&{...k,...De.style,...Ye.style},[vt,It]=x.useState(!1),dn=x.useRef(!1),fn=e.reloadDocument||Le?!1:d??n.options.defaultPreload,Ln=h??n.options.defaultPreloadDelay??0,_n=x.useCallback(()=>{n.preloadRoute({...be,_builtLocation:xe}).catch(yt=>{console.warn(yt),console.warn(DB)})},[n,be,xe]),wn=x.useCallback(yt=>{yt?.isIntersecting&&_n()},[_n]);jB(i,wn,e3,{disabled:!!N||fn!=="viewport"}),x.useEffect(()=>{dn.current||!N&&fn==="render"&&(_n(),dn.current=!0)},[N,_n,fn]);const Kn=yt=>{const Et=yt.currentTarget.getAttribute("target"),zt=R!==void 0?R:Et;if(!N&&!i3(yt)&&!yt.defaultPrevented&&(!zt||zt==="_self")&&yt.button===0){yt.preventDefault(),Xi.flushSync(()=>{It(!0)});const Ti=n.subscribe("onResolved",()=>{Ti(),It(!1)});n.navigate({...be,replace:v,resetScroll:_,hashScrollIntoView:g,startTransition:b,viewTransition:C,ignoreBlocker:$})}};if(Le)return{...he,ref:i,href:Le,...E&&{children:E},...R&&{target:R},...N&&{disabled:N},...k&&{style:k},...O&&{className:O},...M&&{onClick:M},...j&&{onFocus:j},...U&&{onMouseEnter:U},...z&&{onMouseLeave:z},...I&&{onTouchStart:I}};const Ai=yt=>{N||fn&&_n()},Es=Ai,sn=yt=>{if(!(N||!fn))if(!Ln)_n();else{const Et=yt.target;if($d.has(Et))return;const zt=setTimeout(()=>{$d.delete(Et),_n()},Ln);$d.set(Et,zt)}},_r=yt=>{if(N||!fn||!Ln)return;const Et=yt.target,zt=$d.get(Et);zt&&(clearTimeout(zt),$d.delete(Et))};return{...he,...De,...Ye,href:Se?.href,ref:i,onClick:Hd([M,Kn]),onFocus:Hd([j,Ai]),onMouseEnter:Hd([U,sn]),onMouseLeave:Hd([z,_r]),onTouchStart:Hd([I,Es]),disabled:!!N,target:R,...St&&{style:St},...Ze&&{className:Ze},...N&&XB,...Me&&QB,...oe&&vt&&JB}}const vb={},ZB={className:"active"},XB={role:"link","aria-disabled":!0},QB={"data-status":"active","aria-current":"page"},JB={"data-transitioning":"transitioning"},$d=new WeakMap,e3={rootMargin:"100px"},Hd=e=>t=>{for(const n of e)if(n){if(t.defaultPrevented)return;n(t)}};function t3(e,t,n,i){if(!i)return t?{href:e,external:!0}:{href:n.createHref(e)||"/",external:!1}}function n3(e){if(typeof e!="string")return!1;const t=e.charCodeAt(0);return t===47?e.charCodeAt(1)!==47:t===46}const rf=x.forwardRef((e,t)=>{const{_asChild:n,...i}=e,{type:s,...o}=YB(i,t),l=typeof i.children=="function"?i.children({isActive:o["data-status"]==="active"}):i.children;if(!n){const{disabled:c,...d}=o;return x.createElement("a",d,l)}return x.createElement(n,o,l)});function i3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}let s3=class extends Kk{constructor(t){super(t),this.useMatch=n=>mr({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>mr({...n,from:this.id,select:i=>n?.select?n.select(i.context):i.context}),this.useSearch=n=>t_({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>e_({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>J0({...n,from:this.id}),this.useLoaderData=n=>Q0({...n,from:this.id}),this.useNavigate=()=>Qi({from:this.fullPath}),this.Link=Nt.forwardRef((n,i)=>y.jsx(rf,{ref:i,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}};function mi(e){return new s3(e)}class r3 extends LB{constructor(t){super(t),this.useMatch=n=>mr({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>mr({...n,from:this.id,select:i=>n?.select?n.select(i.context):i.context}),this.useSearch=n=>t_({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>e_({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>J0({...n,from:this.id}),this.useLoaderData=n=>Q0({...n,from:this.id}),this.useNavigate=()=>Qi({from:this.fullPath}),this.Link=Nt.forwardRef((n,i)=>y.jsx(rf,{ref:i,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function o3(e){return new r3(e)}function _A(e){return typeof e=="object"?new wA(e,{silent:!0}).createRoute(e):new wA(e,{silent:!0}).createRoute}class wA{constructor(t,n){this.path=t,this.createRoute=i=>{this.silent;const s=mi(i);return s.isRoot=!1,s},this.silent=n?.silent}}class SA{constructor(t){this.useMatch=n=>mr({select:n?.select,from:this.options.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>mr({from:this.options.id,select:i=>n?.select?n.select(i.context):i.context}),this.useSearch=n=>t_({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useParams=n=>e_({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useLoaderDeps=n=>J0({...n,from:this.options.id}),this.useLoaderData=n=>Q0({...n,from:this.options.id}),this.useNavigate=()=>{const n=Ss();return Qi({from:n.routesById[this.options.id].fullPath})},this.options=t,this.$$typeof=Symbol.for("react.memo")}}function CA(e){return typeof e=="object"?new SA(e):t=>new SA({id:e,...t})}function a3(){const e=Ss(),t=x.useRef({router:e,mounted:!1}),[n,i]=x.useState(!1),{hasPendingMatches:s,isLoading:o}=xs({select:v=>({isLoading:v.isLoading,hasPendingMatches:v.matches.some(b=>b.status==="pending")}),structuralSharing:!0}),l=db(o),c=o||n||s,d=db(c),h=o||s,g=db(h);return e.startTransition=v=>{i(!0),x.startTransition(()=>{v(),i(!1)})},x.useEffect(()=>{const v=e.history.subscribe(e.load),b=e.buildLocation({to:e.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Na(e.latestLocation.publicHref)!==Na(b.publicHref)&&e.commitLocation({...b,replace:!0}),()=>{v()}},[e,e.history]),Fp(()=>{if(typeof window<"u"&&e.ssr||t.current.router===e&&t.current.mounted)return;t.current={router:e,mounted:!0},(async()=>{try{await e.load()}catch(b){console.error(b)}})()},[e]),Fp(()=>{l&&!o&&e.emit({type:"onLoad",...Ul(e.state)})},[l,e,o]),Fp(()=>{g&&!h&&e.emit({type:"onBeforeRouteMount",...Ul(e.state)})},[h,g,e]),Fp(()=>{if(d&&!c){const v=Ul(e.state);e.emit({type:"onResolved",...v}),e.__store.setState(b=>({...b,status:"idle",resolvedLocation:b.location})),v.hrefChanged&&fB(e)}},[c,d,e]),null}function l3(e){const t=xs({select:n=>`not-found-${n.location.pathname}-${n.status}`});return y.jsx(Z0,{getResetKey:()=>t,onCatch:(n,i)=>{if(bs(n))e.onCatch?.(n,i);else throw n},errorComponent:({error:n})=>{if(bs(n))return e.fallback?.(n);throw n},children:e.children})}function c3(){return y.jsx("p",{children:"Not Found"})}function iu(e){return y.jsx(y.Fragment,{children:e.children})}function Zk(e,t,n){return t.options.notFoundComponent?y.jsx(t.options.notFoundComponent,{...n}):e.options.defaultNotFoundComponent?y.jsx(e.options.defaultNotFoundComponent,{...n}):y.jsx(c3,{})}function u3(){return Ss().isScrollRestoring,null}const Xk=x.memo(function({matchId:t}){const n=Ss(),i=xs({select:E=>{const R=E.matches.findIndex(k=>k.id===t),N=E.matches[R];return Mo(N),{routeId:N.routeId,ssr:N.ssr,_displayPending:N._displayPending,resetKey:E.loadedAt,parentRouteId:E.matches[R-1]?.routeId}},structuralSharing:!0}),s=n.routesById[i.routeId],o=s.options.pendingComponent??n.options.defaultPendingComponent,l=o?y.jsx(o,{}):null,c=s.options.errorComponent??n.options.defaultErrorComponent,d=s.options.onCatch??n.options.defaultOnCatch,h=s.isRoot?s.options.notFoundComponent??n.options.notFoundRoute?.options.component:s.options.notFoundComponent,g=i.ssr===!1||i.ssr==="data-only",v=(!s.isRoot||s.options.wrapInSuspense||g)&&(s.options.wrapInSuspense??o??(s.options.errorComponent?.preload||g))?x.Suspense:iu,b=c?Z0:iu,_=h?l3:iu,C=s.isRoot?s.options.shellComponent??iu:iu;return y.jsxs(C,{children:[y.jsx(Ag.Provider,{value:t,children:y.jsx(v,{fallback:l,children:y.jsx(b,{getResetKey:()=>i.resetKey,errorComponent:c||X0,onCatch:(E,R)=>{if(bs(E))throw E;d?.(E,R)},children:y.jsx(_,{fallback:E=>{if(!h||E.routeId&&E.routeId!==i.routeId||!E.routeId&&!s.isRoot)throw E;return x.createElement(h,E)},children:g||i._displayPending?y.jsx(BB,{fallback:l,children:y.jsx(EA,{matchId:t})}):y.jsx(EA,{matchId:t})})})})}),i.parentRouteId===zs&&n.options.scrollRestoration?y.jsxs(y.Fragment,{children:[y.jsx(d3,{}),y.jsx(u3,{})]}):null]})});function d3(){const e=Ss(),t=x.useRef(void 0);return y.jsx("script",{suppressHydrationWarning:!0,ref:n=>{n&&(t.current===void 0||t.current.href!==e.latestLocation.href)&&(e.emit({type:"onRendered",...Ul(e.state)}),t.current=e.latestLocation)}},e.latestLocation.state.__TSR_key)}const EA=x.memo(function({matchId:t}){const n=Ss(),{match:i,key:s,routeId:o}=xs({select:d=>{const h=d.matches.find(C=>C.id===t),g=h.routeId,b=(n.routesById[g].options.remountDeps??n.options.defaultRemountDeps)?.({routeId:g,loaderDeps:h.loaderDeps,params:h._strictParams,search:h._strictSearch});return{key:b?JSON.stringify(b):void 0,routeId:g,match:{id:h.id,status:h.status,error:h.error,invalid:h.invalid,_forcePending:h._forcePending,_displayPending:h._displayPending}}},structuralSharing:!0}),l=n.routesById[o],c=x.useMemo(()=>{const d=l.options.component??n.options.defaultComponent;return d?y.jsx(d,{},s):y.jsx(Qk,{})},[s,l.options.component,n.options.defaultComponent]);if(i._displayPending)throw n.getMatch(i.id)?._nonReactive.displayPendingPromise;if(i._forcePending)throw n.getMatch(i.id)?._nonReactive.minPendingPromise;if(i.status==="pending"){const d=l.options.pendingMinMs??n.options.defaultPendingMinMs;if(d){const h=n.getMatch(i.id);if(h&&!h._nonReactive.minPendingPromise){const g=Su();h._nonReactive.minPendingPromise=g,setTimeout(()=>{g.resolve(),h._nonReactive.minPendingPromise=void 0},d)}}throw n.getMatch(i.id)?._nonReactive.loadPromise}if(i.status==="notFound")return Mo(bs(i.error)),Zk(n,l,i.error);if(i.status==="redirected")throw Mo(Fs(i.error)),n.getMatch(i.id)?._nonReactive.loadPromise;if(i.status==="error")throw i.error;return c}),Qk=x.memo(function(){const t=Ss(),n=x.useContext(Ag),i=xs({select:h=>h.matches.find(g=>g.id===n)?.routeId}),s=t.routesById[i],o=xs({select:h=>{const v=h.matches.find(b=>b.id===n);return Mo(v),v.globalNotFound}}),l=xs({select:h=>{const g=h.matches,v=g.findIndex(b=>b.id===n);return g[v+1]?.id}}),c=t.options.defaultPendingComponent?y.jsx(t.options.defaultPendingComponent,{}):null;if(o)return Zk(t,s,void 0);if(!l)return null;const d=y.jsx(Xk,{matchId:l});return i===zs?y.jsx(x.Suspense,{fallback:c,children:d}):d});function f3(){const e=Ss(),n=e.routesById[zs].options.pendingComponent??e.options.defaultPendingComponent,i=n?y.jsx(n,{}):null,s=typeof document<"u"&&e.ssr?iu:x.Suspense,o=y.jsxs(s,{fallback:i,children:[y.jsx(a3,{}),y.jsx(h3,{})]});return e.options.InnerWrap?y.jsx(e.options.InnerWrap,{children:o}):o}function h3(){const e=Ss(),t=xs({select:s=>s.matches[0]?.id}),n=xs({select:s=>s.loadedAt}),i=t?y.jsx(Xk,{matchId:t}):null;return y.jsx(Ag.Provider,{value:t,children:e.options.disableGlobalCatchBoundary?i:y.jsx(Z0,{getResetKey:()=>n,errorComponent:X0,onCatch:s=>{s.message||s.toString()},children:i})})}const p3=e=>new m3(e);class m3 extends TB{constructor(t){super(t)}}typeof globalThis<"u"?(globalThis.createFileRoute=_A,globalThis.createLazyFileRoute=CA):typeof window<"u"&&(window.createFileRoute=_A,window.createLazyFileRoute=CA);function g3({router:e,children:t,...n}){Object.keys(n).length>0&&e.update({...e.options,...n,context:{...e.options.context,...n.context}});const i=Yk(),s=y.jsx(i.Provider,{value:e,children:t});return e.options.Wrap?y.jsx(e.options.Wrap,{children:s}):s}function v3({router:e,...t}){return y.jsx(g3,{router:e,...t,children:y.jsx(f3,{})})}function y3(e){return xs({select:t=>t.location})}const Jk={sm:"480px",md:"768px"},b3=Number(Jk.sm.replace("px","")),x3=Number(Jk.md.replace("px","")),ec=()=>{const[e,t]=x.useState(!1),[n,i]=x.useState(!1);return x.useEffect(()=>{const s=()=>{t(window.innerWidth<=b3),i(window.innerWidth<=x3)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),{isMobile:e,isTablet:n}},Fr={BASE_URL:"/treevera/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyBzinELXu5WO8e3uiZgBalJSQh5F_XAi28",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp2amlyb2Nuc3Vjc2Fwd25qZnBlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUxOTQwODksImV4cCI6MjA3MDc3MDA4OX0.eQESQzBSt0_gciw0LN5zByYGBGugi-NuCChs-1mMVoA",VITE_SUPABASE_URL:"https://jvjirocnsucsapwnjfpe.supabase.co"};function eN(e){return"init"in e}function yx(e){return!!e.write}function AA(e){return"v"in e||"e"in e}function Vm(e){if("e"in e)throw e.e;if((Fr?"production":void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v}function $m(e){return typeof e?.then=="function"}function tN(e,t,n){if(!n.p.has(e)){n.p.add(e);const i=()=>n.p.delete(e);t.then(i,i)}}function nN(e,t,n){var i;const s=new Set;for(const o of((i=n.get(e))==null?void 0:i.t)||[])s.add(o);for(const o of t.p)s.add(o);return s}const _3=(e,t,...n)=>t.read(...n),w3=(e,t,...n)=>t.write(...n),S3=(e,t)=>{var n;return(n=t.INTERNAL_onInit)==null?void 0:n.call(t,e)},C3=(e,t,n)=>{var i;return(i=t.onMount)==null?void 0:i.call(t,n)},E3=(e,t)=>{var n;const i=Vn(e),s=i[0],o=i[6],l=i[9];if((Fr?"production":void 0)!=="production"&&!t)throw new Error("Atom is undefined or null");let c=s.get(t);return c||(c={d:new Map,p:new Set,n:0},s.set(t,c),(n=o.i)==null||n.call(o,t),l?.(e,t)),c},A3=e=>{const t=Vn(e),n=t[1],i=t[3],s=t[4],o=t[5],l=t[6],c=t[13],d=[],h=g=>{try{g()}catch(v){d.push(v)}};do{l.f&&h(l.f);const g=new Set,v=g.add.bind(g);i.forEach(b=>{var _;return(_=n.get(b))==null?void 0:_.l.forEach(v)}),i.clear(),o.forEach(v),o.clear(),s.forEach(v),s.clear(),g.forEach(h),i.size&&c(e)}while(i.size||o.size||s.size);if(d.length)throw new AggregateError(d)},T3=e=>{const t=Vn(e),n=t[1],i=t[2],s=t[3],o=t[11],l=t[14],c=t[17],d=[],h=new WeakSet,g=new WeakSet,v=Array.from(s);for(;v.length;){const b=v[v.length-1],_=o(e,b);if(g.has(b)){v.pop();continue}if(h.has(b)){if(i.get(b)===_.n)d.push([b,_]);else if((Fr?"production":void 0)!=="production"&&i.has(b))throw new Error("[Bug] invalidated atom exists");g.add(b),v.pop();continue}h.add(b);for(const C of nN(b,_,n))h.has(C)||v.push(C)}for(let b=d.length-1;b>=0;--b){const[_,C]=d[b];let E=!1;for(const R of C.d.keys())if(R!==_&&s.has(R)){E=!0;break}E&&(l(e,_),c(e,_)),i.delete(_)}},bx=new WeakSet,R3=(e,t)=>{var n,i;const s=Vn(e),o=s[1],l=s[2],c=s[3],d=s[6],h=s[7],g=s[11],v=s[12],b=s[13],_=s[14],C=s[16],E=s[17],R=s[20],N=s[26],k=g(e,t);if(AA(k)){if(o.has(t)&&l.get(t)!==k.n)return k;let ne=!1;for(const[re,ye]of k.d)if(_(e,re).n!==ye){ne=!0;break}if(!ne)return k}let O=!0;const M=new Set(k.d.keys()),j=new Map,U=()=>{for(const ne of M)j.has(ne)||k.d.delete(ne)},z=()=>{if(o.has(t)){const ne=!c.size;E(e,t),ne&&(b(e),v(e))}},I=ne=>{var re;if(ne===t){const G=g(e,ne);if(!AA(G))if(eN(ne))R(e,ne,ne.init);else throw new Error("no atom init");return Vm(G)}const ye=_(e,ne);try{return Vm(ye)}finally{j.set(ne,ye.n),k.d.set(ne,ye.n),$m(k.v)&&tN(t,k.v,ye),o.has(t)&&((re=o.get(ne))==null||re.t.add(t)),O||z()}};let $,Z;const q={get signal(){return $||($=new AbortController),$.signal},get setSelf(){return(Fr?"production":void 0)!=="production"&&console.warn("[DEPRECATED] setSelf is deprecated and will be removed in v3."),(Fr?"production":void 0)!=="production"&&!yx(t)&&console.warn("setSelf function cannot be used with read-only atom"),!Z&&yx(t)&&(Z=(...ne)=>{if((Fr?"production":void 0)!=="production"&&O&&console.warn("setSelf function cannot be called in sync"),!O)try{return C(e,t,...ne)}finally{b(e),v(e)}}),Z}},X=k.n;try{(Fr?"production":void 0)!=="production"&&bx.delete(e);const ne=h(e,t,I,q);if((Fr?"production":void 0)!=="production"&&bx.has(e)&&console.warn("Detected store mutation during atom read. This is not supported."),R(e,t,ne),$m(ne)){N(e,ne,()=>$?.abort());const re=()=>{U(),z()};ne.then(re,re)}else U();return(n=d.r)==null||n.call(d,t),k}catch(ne){return delete k.v,k.e=ne,++k.n,k}finally{O=!1,X!==k.n&&l.get(t)===X&&(l.set(t,k.n),c.add(t),(i=d.c)==null||i.call(d,t))}},k3=(e,t)=>{const n=Vn(e),i=n[1],s=n[2],o=n[11],l=[t];for(;l.length;){const c=l.pop(),d=o(e,c);for(const h of nN(c,d,i)){const g=o(e,h);s.get(h)!==g.n&&(s.set(h,g.n),l.push(h))}}},N3=(e,t,...n)=>{const i=Vn(e),s=i[3],o=i[6],l=i[8],c=i[11],d=i[12],h=i[13],g=i[14],v=i[15],b=i[16],_=i[17],C=i[20];let E=!0;const R=k=>Vm(g(e,k)),N=(k,...O)=>{var M;const j=c(e,k);try{if(k===t){if(!eN(k))throw new Error("atom not writable");(Fr?"production":void 0)!=="production"&&bx.add(e);const U=j.n,z=O[0];C(e,k,z),_(e,k),U!==j.n&&(s.add(k),v(e,k),(M=o.c)==null||M.call(o,k));return}else return b(e,k,...O)}finally{E||(h(e),d(e))}};try{return l(e,t,R,N,...n)}finally{E=!1}},O3=(e,t)=>{var n;const i=Vn(e),s=i[1],o=i[3],l=i[6],c=i[11],d=i[15],h=i[18],g=i[19],v=c(e,t),b=s.get(t);if(b){for(const[_,C]of v.d)if(!b.d.has(_)){const E=c(e,_);h(e,_).t.add(t),b.d.add(_),C!==E.n&&(o.add(_),d(e,_),(n=l.c)==null||n.call(l,_))}for(const _ of b.d)if(!v.d.has(_)){b.d.delete(_);const C=g(e,_);C?.t.delete(t)}}},P3=(e,t)=>{var n;const i=Vn(e),s=i[1],o=i[4],l=i[6],c=i[10],d=i[11],h=i[12],g=i[13],v=i[14],b=i[16],_=i[18],C=d(e,t);let E=s.get(t);if(!E){v(e,t);for(const R of C.d.keys())_(e,R).t.add(t);if(E={l:new Set,d:new Set(C.d.keys()),t:new Set},s.set(t,E),yx(t)){const R=()=>{let N=!0;const k=(...O)=>{try{return b(e,t,...O)}finally{N||(g(e),h(e))}};try{const O=c(e,t,k);O&&(E.u=()=>{N=!0;try{O()}finally{N=!1}})}finally{N=!1}};o.add(R)}(n=l.m)==null||n.call(l,t)}return E},M3=(e,t)=>{var n,i;const s=Vn(e),o=s[1],l=s[5],c=s[6],d=s[11],h=s[19],g=d(e,t);let v=o.get(t);if(!v||v.l.size)return v;let b=!1;for(const _ of v.t)if((n=o.get(_))!=null&&n.d.has(t)){b=!0;break}if(!b){v.u&&l.add(v.u),v=void 0,o.delete(t);for(const _ of g.d.keys()){const C=h(e,_);C?.t.delete(t)}(i=c.u)==null||i.call(c,t);return}return v},D3=(e,t,n)=>{const i=Vn(e),s=i[11],o=i[27],l=s(e,t),c="v"in l,d=l.v;if($m(n))for(const h of l.d.keys())tN(t,n,s(e,h));l.v=n,delete l.e,(!c||!Object.is(d,l.v))&&(++l.n,$m(d)&&o(e,d))},L3=(e,t)=>{const n=Vn(e)[14];return Vm(n(e,t))},j3=(e,t,...n)=>{const i=Vn(e),s=i[12],o=i[13],l=i[16];try{return l(e,t,...n)}finally{o(e),s(e)}},I3=(e,t,n)=>{const i=Vn(e),s=i[12],o=i[18],l=i[19],d=o(e,t).l;return d.add(n),s(e),()=>{d.delete(n),l(e,t),s(e)}},z3=(e,t,n)=>{const s=Vn(e)[25];let o=s.get(t);if(!o){o=new Set,s.set(t,o);const l=()=>s.delete(t);t.then(l,l)}o.add(n)},B3=(e,t)=>{const s=Vn(e)[25].get(t);s?.forEach(o=>o())},iN=new WeakMap,Vn=e=>{const t=iN.get(e);if((Fr?"production":void 0)!=="production"&&!t)throw new Error("Store must be created by buildStore to read its building blocks");return t};function U3(e){const t=Vn(e),n=t[24];return n?n(t):t}function F3(...e){const t={get(i){const s=Vn(t)[21];return s(t,i)},set(i,...s){const o=Vn(t)[22];return o(t,i,...s)},sub(i,s){const o=Vn(t)[23];return o(t,i,s)}},n=[new WeakMap,new WeakMap,new WeakMap,new Set,new Set,new Set,{},_3,w3,S3,C3,E3,A3,T3,R3,k3,N3,O3,P3,M3,D3,L3,j3,I3,void 0,new WeakMap,z3,B3].map((i,s)=>e[s]||i);return iN.set(t,Object.freeze(n)),t}const sN={};let V3=0;function Pt(e,t){const n=`atom${++V3}`,i={toString(){return(sN?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof e=="function"?i.read=e:(i.init=e,i.read=$3,i.write=H3),t&&(i.write=t),i}function $3(e){return e(this)}function H3(e,t,n){return t(this,typeof n=="function"?n(e(this)):n)}function G3(){return F3()}let Gd;function Kf(){return Gd||(Gd=G3(),(sN?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=Gd),globalThis.__JOTAI_DEFAULT_STORE__!==Gd&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),Gd}const K3={},q3=x.createContext(void 0);function rN(e){return x.useContext(q3)||Kf()}const xx=e=>typeof e?.then=="function",_x=e=>{e.status||(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}))},W3=Nt.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(_x(e),e)}),yb=new WeakMap,TA=(e,t,n)=>{const s=U3(e)[26];let o=yb.get(t);return o||(o=new Promise((l,c)=>{let d=t;const h=b=>_=>{d===b&&l(_)},g=b=>_=>{d===b&&c(_)},v=()=>{try{const b=n();xx(b)?(yb.set(b,o),d=b,b.then(h(b),g(b)),s(e,b,v)):l(b)}catch(b){c(b)}};t.then(h(t),g(t)),s(e,t,v)}),yb.set(t,o)),o};function Be(e,t){const{delay:n,unstable_promiseStatus:i=!Nt.use}={},s=rN(),[[o,l,c],d]=x.useReducer(g=>{const v=s.get(e);return Object.is(g[0],v)&&g[1]===s&&g[2]===e?g:[v,s,e]},void 0,()=>[s.get(e),s,e]);let h=o;if((l!==s||c!==e)&&(d(),h=s.get(e)),x.useEffect(()=>{const g=s.sub(e,()=>{if(i)try{const v=s.get(e);xx(v)&&_x(TA(s,v,()=>s.get(e)))}catch{}if(typeof n=="number"){setTimeout(d,n);return}d()});return d(),g},[s,e,n,i]),x.useDebugValue(h),xx(h)){const g=TA(s,h,()=>s.get(e));return i&&_x(g),W3(g)}return h}function qt(e,t){const n=rN();return x.useCallback((...s)=>{if((K3?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return n.set(e,...s)},[n,e])}function qr(e,t){return[Be(e),qt(e)]}const Hn=({src:e,alt:t,fallbackSrc:n="",loading:i="lazy",decoding:s="async",onFallbackChange:o,...l})=>{const[c,d]=x.useState(e);x.useEffect(()=>{d(e)},[e]);const h=c===n;return x.useEffect(()=>{o?.(h)},[h,o]),y.jsx("img",{src:c,alt:t,loading:i,decoding:s,onError:()=>{n&&!h&&d(n)},...l})},Y3="/treevera/assets/avif-new-logo-CsHr8CWA.avif";function je(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e?.(s),n===!1||!s.defaultPrevented)return t?.(s)}}function RA(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Gn(...e){return t=>{let n=!1;const i=e.map(s=>{const o=RA(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<i.length;s++){const o=i[s];typeof o=="function"?o():RA(e[s],null)}}}}function wt(...e){return x.useCallback(Gn(...e),e)}function Z3(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,R=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:R,children:_})};h.displayName=o+"Provider";function g(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,g]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,X3(s,...t)]}function X3(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var Dn=globalThis?.document?x.useLayoutEffect:()=>{},Q3=H0[" useInsertionEffect ".trim().toString()]||Dn;function Do({prop:e,defaultProp:t,onChange:n=()=>{},caller:i}){const[s,o,l]=J3({defaultProp:t,onChange:n}),c=e!==void 0,d=c?e:s;{const g=x.useRef(e!==void 0);x.useEffect(()=>{const v=g.current;v!==c&&console.warn(`${i} is changing from ${v?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=c},[c,i])}const h=x.useCallback(g=>{if(c){const v=eU(g)?g(e):g;v!==e&&l.current?.(v)}else o(g)},[c,e,o,l]);return[d,h]}function J3({defaultProp:e,onChange:t}){const[n,i]=x.useState(e),s=x.useRef(n),o=x.useRef(t);return Q3(()=>{o.current=t},[t]),x.useEffect(()=>{s.current!==n&&(o.current?.(n),s.current=n)},[n,s]),[n,i,o]}function eU(e){return typeof e=="function"}function tU(e){const t=nU(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(sU);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function nU(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=oU(s),c=rU(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var iU=Symbol("radix.slottable");function sU(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===iU}function rU(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function oU(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var aU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lU=aU.reduce((e,t)=>{const n=tU(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function cU(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,R=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:R,children:_})};h.displayName=o+"Provider";function g(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,g]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,uU(s,...t)]}function uU(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function kA(e){const t=dU(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(hU);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function dU(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=mU(s),c=pU(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var fU=Symbol("radix.slottable");function hU(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===fU}function pU(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function mU(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Tg(e){const t=e+"CollectionProvider",[n,i]=cU(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=E=>{const{scope:R,children:N}=E,k=Nt.useRef(null),O=Nt.useRef(new Map).current;return y.jsx(s,{scope:R,itemMap:O,collectionRef:k,children:N})};l.displayName=t;const c=e+"CollectionSlot",d=kA(c),h=Nt.forwardRef((E,R)=>{const{scope:N,children:k}=E,O=o(c,N),M=wt(R,O.collectionRef);return y.jsx(d,{ref:M,children:k})});h.displayName=c;const g=e+"CollectionItemSlot",v="data-radix-collection-item",b=kA(g),_=Nt.forwardRef((E,R)=>{const{scope:N,children:k,...O}=E,M=Nt.useRef(null),j=wt(R,M),U=o(g,N);return Nt.useEffect(()=>(U.itemMap.set(M,{ref:M,...O}),()=>{U.itemMap.delete(M)})),y.jsx(b,{[v]:"",ref:j,children:k})});_.displayName=g;function C(E){const R=o(e+"CollectionConsumer",E);return Nt.useCallback(()=>{const k=R.collectionRef.current;if(!k)return[];const O=Array.from(k.querySelectorAll(`[${v}]`));return Array.from(R.itemMap.values()).sort((U,z)=>O.indexOf(U.ref.current)-O.indexOf(z.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:l,Slot:h,ItemSlot:_},C,i]}function gU(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,R=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:R,children:_})};h.displayName=o+"Provider";function g(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,g]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,vU(s,...t)]}function vU(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var yU=x.createContext(void 0);function Rg(e){const t=x.useContext(yU);return e||t||"ltr"}function bU(e){const t=xU(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(wU);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function xU(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=CU(s),c=SU(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _U=Symbol("radix.slottable");function wU(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_U}function SU(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function CU(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var EU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],oN=EU.reduce((e,t)=>{const n=bU(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function AU(e,t){e&&Xi.flushSync(()=>e.dispatchEvent(t))}function Gs(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...n)=>t.current?.(...n),[])}function TU(e,t=globalThis?.document){const n=Gs(e);x.useEffect(()=>{const i=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[n,t])}var RU="DismissableLayer",wx="dismissableLayer.update",kU="dismissableLayer.pointerDownOutside",NU="dismissableLayer.focusOutside",NA,aN=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qf=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...d}=e,h=x.useContext(aN),[g,v]=x.useState(null),b=g?.ownerDocument??globalThis?.document,[,_]=x.useState({}),C=wt(t,z=>v(z)),E=Array.from(h.layers),[R]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=E.indexOf(R),k=g?E.indexOf(g):-1,O=h.layersWithOutsidePointerEventsDisabled.size>0,M=k>=N,j=MU(z=>{const I=z.target,$=[...h.branches].some(Z=>Z.contains(I));!M||$||(s?.(z),l?.(z),z.defaultPrevented||c?.())},b),U=DU(z=>{const I=z.target;[...h.branches].some(Z=>Z.contains(I))||(o?.(z),l?.(z),z.defaultPrevented||c?.())},b);return TU(z=>{k===h.layers.size-1&&(i?.(z),!z.defaultPrevented&&c&&(z.preventDefault(),c()))},b),x.useEffect(()=>{if(g)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(NA=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(g)),h.layers.add(g),OA(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=NA)}},[g,b,n,h]),x.useEffect(()=>()=>{g&&(h.layers.delete(g),h.layersWithOutsidePointerEventsDisabled.delete(g),OA())},[g,h]),x.useEffect(()=>{const z=()=>_({});return document.addEventListener(wx,z),()=>document.removeEventListener(wx,z)},[]),y.jsx(oN.div,{...d,ref:C,style:{pointerEvents:O?M?"auto":"none":void 0,...e.style},onFocusCapture:je(e.onFocusCapture,U.onFocusCapture),onBlurCapture:je(e.onBlurCapture,U.onBlurCapture),onPointerDownCapture:je(e.onPointerDownCapture,j.onPointerDownCapture)})});qf.displayName=RU;var OU="DismissableLayerBranch",PU=x.forwardRef((e,t)=>{const n=x.useContext(aN),i=x.useRef(null),s=wt(t,i);return x.useEffect(()=>{const o=i.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),y.jsx(oN.div,{...e,ref:s})});PU.displayName=OU;function MU(e,t=globalThis?.document){const n=Gs(e),i=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const o=c=>{if(c.target&&!i.current){let d=function(){lN(kU,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);i.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>i.current=!0}}function DU(e,t=globalThis?.document){const n=Gs(e),i=x.useRef(!1);return x.useEffect(()=>{const s=o=>{o.target&&!i.current&&lN(NU,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function OA(){const e=new CustomEvent(wx);document.dispatchEvent(e)}function lN(e,t,n,{discrete:i}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),i?AU(s,o):s.dispatchEvent(o)}var bb=0;function n_(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??PA()),document.body.insertAdjacentElement("beforeend",e[1]??PA()),bb++,()=>{bb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),bb--}},[])}function PA(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}function LU(e){const t=jU(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(zU);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function jU(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=UU(s),c=BU(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var IU=Symbol("radix.slottable");function zU(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===IU}function BU(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function UU(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var FU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],VU=FU.reduce((e,t)=>{const n=LU(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),xb="focusScope.autoFocusOnMount",_b="focusScope.autoFocusOnUnmount",MA={bubbles:!1,cancelable:!0},$U="FocusScope",kg=x.forwardRef((e,t)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...l}=e,[c,d]=x.useState(null),h=Gs(s),g=Gs(o),v=x.useRef(null),b=wt(t,E=>d(E)),_=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(i){let E=function(O){if(_.paused||!c)return;const M=O.target;c.contains(M)?v.current=M:xa(v.current,{select:!0})},R=function(O){if(_.paused||!c)return;const M=O.relatedTarget;M!==null&&(c.contains(M)||xa(v.current,{select:!0}))},N=function(O){if(document.activeElement===document.body)for(const j of O)j.removedNodes.length>0&&xa(c)};document.addEventListener("focusin",E),document.addEventListener("focusout",R);const k=new MutationObserver(N);return c&&k.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",R),k.disconnect()}}},[i,c,_.paused]),x.useEffect(()=>{if(c){LA.add(_);const E=document.activeElement;if(!c.contains(E)){const N=new CustomEvent(xb,MA);c.addEventListener(xb,h),c.dispatchEvent(N),N.defaultPrevented||(HU(YU(cN(c)),{select:!0}),document.activeElement===E&&xa(c))}return()=>{c.removeEventListener(xb,h),setTimeout(()=>{const N=new CustomEvent(_b,MA);c.addEventListener(_b,g),c.dispatchEvent(N),N.defaultPrevented||xa(E??document.body,{select:!0}),c.removeEventListener(_b,g),LA.remove(_)},0)}}},[c,h,g,_]);const C=x.useCallback(E=>{if(!n&&!i||_.paused)return;const R=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,N=document.activeElement;if(R&&N){const k=E.currentTarget,[O,M]=GU(k);O&&M?!E.shiftKey&&N===M?(E.preventDefault(),n&&xa(O,{select:!0})):E.shiftKey&&N===O&&(E.preventDefault(),n&&xa(M,{select:!0})):N===k&&E.preventDefault()}},[n,i,_.paused]);return y.jsx(VU.div,{tabIndex:-1,...l,ref:b,onKeyDown:C})});kg.displayName=$U;function HU(e,{select:t=!1}={}){const n=document.activeElement;for(const i of e)if(xa(i,{select:t}),document.activeElement!==n)return}function GU(e){const t=cN(e),n=DA(t,e),i=DA(t.reverse(),e);return[n,i]}function cN(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function DA(e,t){for(const n of e)if(!KU(n,{upTo:t}))return n}function KU(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function qU(e){return e instanceof HTMLInputElement&&"select"in e}function xa(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&qU(e)&&t&&e.select()}}var LA=WU();function WU(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=jA(e,t),e.unshift(t)},remove(t){e=jA(e,t),e[0]?.resume()}}}function jA(e,t){const n=[...e],i=n.indexOf(t);return i!==-1&&n.splice(i,1),n}function YU(e){return e.filter(t=>t.tagName!=="A")}var ZU=H0[" useId ".trim().toString()]||(()=>{}),XU=0;function _s(e){const[t,n]=x.useState(ZU());return Dn(()=>{n(i=>i??String(XU++))},[e]),t?`radix-${t}`:""}const QU=["top","right","bottom","left"],Pa=Math.min,vs=Math.max,Hm=Math.round,Vp=Math.floor,Gr=e=>({x:e,y:e}),JU={left:"right",right:"left",bottom:"top",top:"bottom"},e5={start:"end",end:"start"};function Sx(e,t,n){return vs(e,Pa(t,n))}function Lo(e,t){return typeof e=="function"?e(t):e}function jo(e){return e.split("-")[0]}function Nu(e){return e.split("-")[1]}function i_(e){return e==="x"?"y":"x"}function s_(e){return e==="y"?"height":"width"}const t5=new Set(["top","bottom"]);function $r(e){return t5.has(jo(e))?"y":"x"}function r_(e){return i_($r(e))}function n5(e,t,n){n===void 0&&(n=!1);const i=Nu(e),s=r_(e),o=s_(s);let l=s==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=Gm(l)),[l,Gm(l)]}function i5(e){const t=Gm(e);return[Cx(e),t,Cx(t)]}function Cx(e){return e.replace(/start|end/g,t=>e5[t])}const IA=["left","right"],zA=["right","left"],s5=["top","bottom"],r5=["bottom","top"];function o5(e,t,n){switch(e){case"top":case"bottom":return n?t?zA:IA:t?IA:zA;case"left":case"right":return t?s5:r5;default:return[]}}function a5(e,t,n,i){const s=Nu(e);let o=o5(jo(e),n==="start",i);return s&&(o=o.map(l=>l+"-"+s),t&&(o=o.concat(o.map(Cx)))),o}function Gm(e){return e.replace(/left|right|bottom|top/g,t=>JU[t])}function l5(e){return{top:0,right:0,bottom:0,left:0,...e}}function uN(e){return typeof e!="number"?l5(e):{top:e,right:e,bottom:e,left:e}}function Km(e){const{x:t,y:n,width:i,height:s}=e;return{width:i,height:s,top:n,left:t,right:t+i,bottom:n+s,x:t,y:n}}function BA(e,t,n){let{reference:i,floating:s}=e;const o=$r(t),l=r_(t),c=s_(l),d=jo(t),h=o==="y",g=i.x+i.width/2-s.width/2,v=i.y+i.height/2-s.height/2,b=i[c]/2-s[c]/2;let _;switch(d){case"top":_={x:g,y:i.y-s.height};break;case"bottom":_={x:g,y:i.y+i.height};break;case"right":_={x:i.x+i.width,y:v};break;case"left":_={x:i.x-s.width,y:v};break;default:_={x:i.x,y:i.y}}switch(Nu(t)){case"start":_[l]-=b*(n&&h?-1:1);break;case"end":_[l]+=b*(n&&h?-1:1);break}return _}async function c5(e,t){var n;t===void 0&&(t={});const{x:i,y:s,platform:o,rects:l,elements:c,strategy:d}=e,{boundary:h="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:b=!1,padding:_=0}=Lo(t,e),C=uN(_),R=c[b?v==="floating"?"reference":"floating":v],N=Km(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(R)))==null||n?R:R.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:h,rootBoundary:g,strategy:d})),k=v==="floating"?{x:i,y:s,width:l.floating.width,height:l.floating.height}:l.reference,O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),M=await(o.isElement==null?void 0:o.isElement(O))?await(o.getScale==null?void 0:o.getScale(O))||{x:1,y:1}:{x:1,y:1},j=Km(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:k,offsetParent:O,strategy:d}):k);return{top:(N.top-j.top+C.top)/M.y,bottom:(j.bottom-N.bottom+C.bottom)/M.y,left:(N.left-j.left+C.left)/M.x,right:(j.right-N.right+C.right)/M.x}}const u5=async(e,t,n)=>{const{placement:i="bottom",strategy:s="absolute",middleware:o=[],platform:l}=n,c=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let h=await l.getElementRects({reference:e,floating:t,strategy:s}),{x:g,y:v}=BA(h,i,d),b=i,_={},C=0;for(let R=0;R<c.length;R++){var E;const{name:N,fn:k}=c[R],{x:O,y:M,data:j,reset:U}=await k({x:g,y:v,initialPlacement:i,placement:b,strategy:s,middlewareData:_,rects:h,platform:{...l,detectOverflow:(E=l.detectOverflow)!=null?E:c5},elements:{reference:e,floating:t}});g=O??g,v=M??v,_={..._,[N]:{..._[N],...j}},U&&C<=50&&(C++,typeof U=="object"&&(U.placement&&(b=U.placement),U.rects&&(h=U.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:s}):U.rects),{x:g,y:v}=BA(h,b,d)),R=-1)}return{x:g,y:v,placement:b,strategy:s,middlewareData:_}},d5=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:s,rects:o,platform:l,elements:c,middlewareData:d}=t,{element:h,padding:g=0}=Lo(e,t)||{};if(h==null)return{};const v=uN(g),b={x:n,y:i},_=r_(s),C=s_(_),E=await l.getDimensions(h),R=_==="y",N=R?"top":"left",k=R?"bottom":"right",O=R?"clientHeight":"clientWidth",M=o.reference[C]+o.reference[_]-b[_]-o.floating[C],j=b[_]-o.reference[_],U=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let z=U?U[O]:0;(!z||!await(l.isElement==null?void 0:l.isElement(U)))&&(z=c.floating[O]||o.floating[C]);const I=M/2-j/2,$=z/2-E[C]/2-1,Z=Pa(v[N],$),q=Pa(v[k],$),X=Z,ne=z-E[C]-q,re=z/2-E[C]/2+I,ye=Sx(X,re,ne),G=!d.arrow&&Nu(s)!=null&&re!==ye&&o.reference[C]/2-(re<X?Z:q)-E[C]/2<0,W=G?re<X?re-X:re-ne:0;return{[_]:b[_]+W,data:{[_]:ye,centerOffset:re-ye-W,...G&&{alignmentOffset:W}},reset:G}}}),f5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:s,middlewareData:o,rects:l,initialPlacement:c,platform:d,elements:h}=t,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:b,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:E=!0,...R}=Lo(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const N=jo(s),k=$r(c),O=jo(c)===c,M=await(d.isRTL==null?void 0:d.isRTL(h.floating)),j=b||(O||!E?[Gm(c)]:i5(c)),U=C!=="none";!b&&U&&j.push(...a5(c,E,C,M));const z=[c,...j],I=await d.detectOverflow(t,R),$=[];let Z=((i=o.flip)==null?void 0:i.overflows)||[];if(g&&$.push(I[N]),v){const re=n5(s,l,M);$.push(I[re[0]],I[re[1]])}if(Z=[...Z,{placement:s,overflows:$}],!$.every(re=>re<=0)){var q,X;const re=(((q=o.flip)==null?void 0:q.index)||0)+1,ye=z[re];if(ye&&(!(v==="alignment"?k!==$r(ye):!1)||Z.every(te=>$r(te.placement)===k?te.overflows[0]>0:!0)))return{data:{index:re,overflows:Z},reset:{placement:ye}};let G=(X=Z.filter(W=>W.overflows[0]<=0).sort((W,te)=>W.overflows[1]-te.overflows[1])[0])==null?void 0:X.placement;if(!G)switch(_){case"bestFit":{var ne;const W=(ne=Z.filter(te=>{if(U){const he=$r(te.placement);return he===k||he==="y"}return!0}).map(te=>[te.placement,te.overflows.filter(he=>he>0).reduce((he,oe)=>he+oe,0)]).sort((te,he)=>te[1]-he[1])[0])==null?void 0:ne[0];W&&(G=W);break}case"initialPlacement":G=c;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function UA(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function FA(e){return QU.some(t=>e[t]>=0)}const h5=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:i}=t,{strategy:s="referenceHidden",...o}=Lo(e,t);switch(s){case"referenceHidden":{const l=await i.detectOverflow(t,{...o,elementContext:"reference"}),c=UA(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:FA(c)}}}case"escaped":{const l=await i.detectOverflow(t,{...o,altBoundary:!0}),c=UA(l,n.floating);return{data:{escapedOffsets:c,escaped:FA(c)}}}default:return{}}}}},dN=new Set(["left","top"]);async function p5(e,t){const{placement:n,platform:i,elements:s}=e,o=await(i.isRTL==null?void 0:i.isRTL(s.floating)),l=jo(n),c=Nu(n),d=$r(n)==="y",h=dN.has(l)?-1:1,g=o&&d?-1:1,v=Lo(t,e);let{mainAxis:b,crossAxis:_,alignmentAxis:C}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return c&&typeof C=="number"&&(_=c==="end"?C*-1:C),d?{x:_*g,y:b*h}:{x:b*h,y:_*g}}const m5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:s,y:o,placement:l,middlewareData:c}=t,d=await p5(t,e);return l===((n=c.offset)==null?void 0:n.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:s+d.x,y:o+d.y,data:{...d,placement:l}}}}},g5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:s,platform:o}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:N=>{let{x:k,y:O}=N;return{x:k,y:O}}},...h}=Lo(e,t),g={x:n,y:i},v=await o.detectOverflow(t,h),b=$r(jo(s)),_=i_(b);let C=g[_],E=g[b];if(l){const N=_==="y"?"top":"left",k=_==="y"?"bottom":"right",O=C+v[N],M=C-v[k];C=Sx(O,C,M)}if(c){const N=b==="y"?"top":"left",k=b==="y"?"bottom":"right",O=E+v[N],M=E-v[k];E=Sx(O,E,M)}const R=d.fn({...t,[_]:C,[b]:E});return{...R,data:{x:R.x-n,y:R.y-i,enabled:{[_]:l,[b]:c}}}}}},v5=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:i,placement:s,rects:o,middlewareData:l}=t,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=Lo(e,t),g={x:n,y:i},v=$r(s),b=i_(v);let _=g[b],C=g[v];const E=Lo(c,t),R=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(d){const O=b==="y"?"height":"width",M=o.reference[b]-o.floating[O]+R.mainAxis,j=o.reference[b]+o.reference[O]-R.mainAxis;_<M?_=M:_>j&&(_=j)}if(h){var N,k;const O=b==="y"?"width":"height",M=dN.has(jo(s)),j=o.reference[v]-o.floating[O]+(M&&((N=l.offset)==null?void 0:N[v])||0)+(M?0:R.crossAxis),U=o.reference[v]+o.reference[O]+(M?0:((k=l.offset)==null?void 0:k[v])||0)-(M?R.crossAxis:0);C<j?C=j:C>U&&(C=U)}return{[b]:_,[v]:C}}}},y5=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,i;const{placement:s,rects:o,platform:l,elements:c}=t,{apply:d=()=>{},...h}=Lo(e,t),g=await l.detectOverflow(t,h),v=jo(s),b=Nu(s),_=$r(s)==="y",{width:C,height:E}=o.floating;let R,N;v==="top"||v==="bottom"?(R=v,N=b===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(N=v,R=b==="end"?"top":"bottom");const k=E-g.top-g.bottom,O=C-g.left-g.right,M=Pa(E-g[R],k),j=Pa(C-g[N],O),U=!t.middlewareData.shift;let z=M,I=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(I=O),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(z=k),U&&!b){const Z=vs(g.left,0),q=vs(g.right,0),X=vs(g.top,0),ne=vs(g.bottom,0);_?I=C-2*(Z!==0||q!==0?Z+q:vs(g.left,g.right)):z=E-2*(X!==0||ne!==0?X+ne:vs(g.top,g.bottom))}await d({...t,availableWidth:I,availableHeight:z});const $=await l.getDimensions(c.floating);return C!==$.width||E!==$.height?{reset:{rects:!0}}:{}}}};function Ng(){return typeof window<"u"}function Ou(e){return fN(e)?(e.nodeName||"").toLowerCase():"#document"}function ws(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Xr(e){var t;return(t=(fN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function fN(e){return Ng()?e instanceof Node||e instanceof ws(e).Node:!1}function gr(e){return Ng()?e instanceof Element||e instanceof ws(e).Element:!1}function Wr(e){return Ng()?e instanceof HTMLElement||e instanceof ws(e).HTMLElement:!1}function VA(e){return!Ng()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ws(e).ShadowRoot}const b5=new Set(["inline","contents"]);function Wf(e){const{overflow:t,overflowX:n,overflowY:i,display:s}=vr(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!b5.has(s)}const x5=new Set(["table","td","th"]);function _5(e){return x5.has(Ou(e))}const w5=[":popover-open",":modal"];function Og(e){return w5.some(t=>{try{return e.matches(t)}catch{return!1}})}const S5=["transform","translate","scale","rotate","perspective"],C5=["transform","translate","scale","rotate","perspective","filter"],E5=["paint","layout","strict","content"];function o_(e){const t=a_(),n=gr(e)?vr(e):e;return S5.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||C5.some(i=>(n.willChange||"").includes(i))||E5.some(i=>(n.contain||"").includes(i))}function A5(e){let t=Ma(e);for(;Wr(t)&&!Eu(t);){if(o_(t))return t;if(Og(t))return null;t=Ma(t)}return null}function a_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const T5=new Set(["html","body","#document"]);function Eu(e){return T5.has(Ou(e))}function vr(e){return ws(e).getComputedStyle(e)}function Pg(e){return gr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ma(e){if(Ou(e)==="html")return e;const t=e.assignedSlot||e.parentNode||VA(e)&&e.host||Xr(e);return VA(t)?t.host:t}function hN(e){const t=Ma(e);return Eu(t)?e.ownerDocument?e.ownerDocument.body:e.body:Wr(t)&&Wf(t)?t:hN(t)}function xf(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=hN(e),o=s===((i=e.ownerDocument)==null?void 0:i.body),l=ws(s);if(o){const c=Ex(l);return t.concat(l,l.visualViewport||[],Wf(s)?s:[],c&&n?xf(c):[])}return t.concat(s,xf(s,[],n))}function Ex(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function pN(e){const t=vr(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const s=Wr(e),o=s?e.offsetWidth:n,l=s?e.offsetHeight:i,c=Hm(n)!==o||Hm(i)!==l;return c&&(n=o,i=l),{width:n,height:i,$:c}}function l_(e){return gr(e)?e:e.contextElement}function vu(e){const t=l_(e);if(!Wr(t))return Gr(1);const n=t.getBoundingClientRect(),{width:i,height:s,$:o}=pN(t);let l=(o?Hm(n.width):n.width)/i,c=(o?Hm(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const R5=Gr(0);function mN(e){const t=ws(e);return!a_()||!t.visualViewport?R5:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function k5(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ws(e)?!1:t}function Hl(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=l_(e);let l=Gr(1);t&&(i?gr(i)&&(l=vu(i)):l=vu(e));const c=k5(o,n,i)?mN(o):Gr(0);let d=(s.left+c.x)/l.x,h=(s.top+c.y)/l.y,g=s.width/l.x,v=s.height/l.y;if(o){const b=ws(o),_=i&&gr(i)?ws(i):i;let C=b,E=Ex(C);for(;E&&i&&_!==C;){const R=vu(E),N=E.getBoundingClientRect(),k=vr(E),O=N.left+(E.clientLeft+parseFloat(k.paddingLeft))*R.x,M=N.top+(E.clientTop+parseFloat(k.paddingTop))*R.y;d*=R.x,h*=R.y,g*=R.x,v*=R.y,d+=O,h+=M,C=ws(E),E=Ex(C)}}return Km({width:g,height:v,x:d,y:h})}function Mg(e,t){const n=Pg(e).scrollLeft;return t?t.left+n:Hl(Xr(e)).left+n}function gN(e,t){const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-Mg(e,n),s=n.top+t.scrollTop;return{x:i,y:s}}function N5(e){let{elements:t,rect:n,offsetParent:i,strategy:s}=e;const o=s==="fixed",l=Xr(i),c=t?Og(t.floating):!1;if(i===l||c&&o)return n;let d={scrollLeft:0,scrollTop:0},h=Gr(1);const g=Gr(0),v=Wr(i);if((v||!v&&!o)&&((Ou(i)!=="body"||Wf(l))&&(d=Pg(i)),Wr(i))){const _=Hl(i);h=vu(i),g.x=_.x+i.clientLeft,g.y=_.y+i.clientTop}const b=l&&!v&&!o?gN(l,d):Gr(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+g.x+b.x,y:n.y*h.y-d.scrollTop*h.y+g.y+b.y}}function O5(e){return Array.from(e.getClientRects())}function P5(e){const t=Xr(e),n=Pg(e),i=e.ownerDocument.body,s=vs(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),o=vs(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let l=-n.scrollLeft+Mg(e);const c=-n.scrollTop;return vr(i).direction==="rtl"&&(l+=vs(t.clientWidth,i.clientWidth)-s),{width:s,height:o,x:l,y:c}}const $A=25;function M5(e,t){const n=ws(e),i=Xr(e),s=n.visualViewport;let o=i.clientWidth,l=i.clientHeight,c=0,d=0;if(s){o=s.width,l=s.height;const g=a_();(!g||g&&t==="fixed")&&(c=s.offsetLeft,d=s.offsetTop)}const h=Mg(i);if(h<=0){const g=i.ownerDocument,v=g.body,b=getComputedStyle(v),_=g.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,C=Math.abs(i.clientWidth-v.clientWidth-_);C<=$A&&(o-=C)}else h<=$A&&(o+=h);return{width:o,height:l,x:c,y:d}}const D5=new Set(["absolute","fixed"]);function L5(e,t){const n=Hl(e,!0,t==="fixed"),i=n.top+e.clientTop,s=n.left+e.clientLeft,o=Wr(e)?vu(e):Gr(1),l=e.clientWidth*o.x,c=e.clientHeight*o.y,d=s*o.x,h=i*o.y;return{width:l,height:c,x:d,y:h}}function HA(e,t,n){let i;if(t==="viewport")i=M5(e,n);else if(t==="document")i=P5(Xr(e));else if(gr(t))i=L5(t,n);else{const s=mN(e);i={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Km(i)}function vN(e,t){const n=Ma(e);return n===t||!gr(n)||Eu(n)?!1:vr(n).position==="fixed"||vN(n,t)}function j5(e,t){const n=t.get(e);if(n)return n;let i=xf(e,[],!1).filter(c=>gr(c)&&Ou(c)!=="body"),s=null;const o=vr(e).position==="fixed";let l=o?Ma(e):e;for(;gr(l)&&!Eu(l);){const c=vr(l),d=o_(l);!d&&c.position==="fixed"&&(s=null),(o?!d&&!s:!d&&c.position==="static"&&!!s&&D5.has(s.position)||Wf(l)&&!d&&vN(e,l))?i=i.filter(g=>g!==l):s=c,l=Ma(l)}return t.set(e,i),i}function I5(e){let{element:t,boundary:n,rootBoundary:i,strategy:s}=e;const l=[...n==="clippingAncestors"?Og(t)?[]:j5(t,this._c):[].concat(n),i],c=l[0],d=l.reduce((h,g)=>{const v=HA(t,g,s);return h.top=vs(v.top,h.top),h.right=Pa(v.right,h.right),h.bottom=Pa(v.bottom,h.bottom),h.left=vs(v.left,h.left),h},HA(t,c,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function z5(e){const{width:t,height:n}=pN(e);return{width:t,height:n}}function B5(e,t,n){const i=Wr(t),s=Xr(t),o=n==="fixed",l=Hl(e,!0,o,t);let c={scrollLeft:0,scrollTop:0};const d=Gr(0);function h(){d.x=Mg(s)}if(i||!i&&!o)if((Ou(t)!=="body"||Wf(s))&&(c=Pg(t)),i){const _=Hl(t,!0,o,t);d.x=_.x+t.clientLeft,d.y=_.y+t.clientTop}else s&&h();o&&!i&&s&&h();const g=s&&!i&&!o?gN(s,c):Gr(0),v=l.left+c.scrollLeft-d.x-g.x,b=l.top+c.scrollTop-d.y-g.y;return{x:v,y:b,width:l.width,height:l.height}}function wb(e){return vr(e).position==="static"}function GA(e,t){if(!Wr(e)||vr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Xr(e)===n&&(n=n.ownerDocument.body),n}function yN(e,t){const n=ws(e);if(Og(e))return n;if(!Wr(e)){let s=Ma(e);for(;s&&!Eu(s);){if(gr(s)&&!wb(s))return s;s=Ma(s)}return n}let i=GA(e,t);for(;i&&_5(i)&&wb(i);)i=GA(i,t);return i&&Eu(i)&&wb(i)&&!o_(i)?n:i||A5(e)||n}const U5=async function(e){const t=this.getOffsetParent||yN,n=this.getDimensions,i=await n(e.floating);return{reference:B5(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function F5(e){return vr(e).direction==="rtl"}const V5={convertOffsetParentRelativeRectToViewportRelativeRect:N5,getDocumentElement:Xr,getClippingRect:I5,getOffsetParent:yN,getElementRects:U5,getClientRects:O5,getDimensions:z5,getScale:vu,isElement:gr,isRTL:F5};function bN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function $5(e,t){let n=null,i;const s=Xr(e);function o(){var c;clearTimeout(i),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const h=e.getBoundingClientRect(),{left:g,top:v,width:b,height:_}=h;if(c||t(),!b||!_)return;const C=Vp(v),E=Vp(s.clientWidth-(g+b)),R=Vp(s.clientHeight-(v+_)),N=Vp(g),O={rootMargin:-C+"px "+-E+"px "+-R+"px "+-N+"px",threshold:vs(0,Pa(1,d))||1};let M=!0;function j(U){const z=U[0].intersectionRatio;if(z!==d){if(!M)return l();z?l(!1,z):i=setTimeout(()=>{l(!1,1e-7)},1e3)}z===1&&!bN(h,e.getBoundingClientRect())&&l(),M=!1}try{n=new IntersectionObserver(j,{...O,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,O)}n.observe(e)}return l(!0),o}function H5(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=i,h=l_(e),g=s||o?[...h?xf(h):[],...xf(t)]:[];g.forEach(N=>{s&&N.addEventListener("scroll",n,{passive:!0}),o&&N.addEventListener("resize",n)});const v=h&&c?$5(h,n):null;let b=-1,_=null;l&&(_=new ResizeObserver(N=>{let[k]=N;k&&k.target===h&&_&&(_.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var O;(O=_)==null||O.observe(t)})),n()}),h&&!d&&_.observe(h),_.observe(t));let C,E=d?Hl(e):null;d&&R();function R(){const N=Hl(e);E&&!bN(E,N)&&n(),E=N,C=requestAnimationFrame(R)}return n(),()=>{var N;g.forEach(k=>{s&&k.removeEventListener("scroll",n),o&&k.removeEventListener("resize",n)}),v?.(),(N=_)==null||N.disconnect(),_=null,d&&cancelAnimationFrame(C)}}const G5=m5,K5=g5,q5=f5,W5=y5,Y5=h5,KA=d5,Z5=v5,X5=(e,t,n)=>{const i=new Map,s={platform:V5,...n},o={...s.platform,_c:i};return u5(e,t,{...s,platform:o})};var Q5=typeof document<"u",J5=function(){},wm=Q5?x.useLayoutEffect:J5;function qm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(!qm(e[i],t[i]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(t,s[i]))return!1;for(i=n;i--!==0;){const o=s[i];if(!(o==="_owner"&&e.$$typeof)&&!qm(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function xN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function qA(e,t){const n=xN(e);return Math.round(t*n)/n}function Sb(e){const t=x.useRef(e);return wm(()=>{t.current=e}),t}function e4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:s,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:d,open:h}=e,[g,v]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,_]=x.useState(i);qm(b,i)||_(i);const[C,E]=x.useState(null),[R,N]=x.useState(null),k=x.useCallback(te=>{te!==U.current&&(U.current=te,E(te))},[]),O=x.useCallback(te=>{te!==z.current&&(z.current=te,N(te))},[]),M=o||C,j=l||R,U=x.useRef(null),z=x.useRef(null),I=x.useRef(g),$=d!=null,Z=Sb(d),q=Sb(s),X=Sb(h),ne=x.useCallback(()=>{if(!U.current||!z.current)return;const te={placement:t,strategy:n,middleware:b};q.current&&(te.platform=q.current),X5(U.current,z.current,te).then(he=>{const oe={...he,isPositioned:X.current!==!1};re.current&&!qm(I.current,oe)&&(I.current=oe,Xi.flushSync(()=>{v(oe)}))})},[b,t,n,q,X]);wm(()=>{h===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,v(te=>({...te,isPositioned:!1})))},[h]);const re=x.useRef(!1);wm(()=>(re.current=!0,()=>{re.current=!1}),[]),wm(()=>{if(M&&(U.current=M),j&&(z.current=j),M&&j){if(Z.current)return Z.current(M,j,ne);ne()}},[M,j,ne,Z,$]);const ye=x.useMemo(()=>({reference:U,floating:z,setReference:k,setFloating:O}),[k,O]),G=x.useMemo(()=>({reference:M,floating:j}),[M,j]),W=x.useMemo(()=>{const te={position:n,left:0,top:0};if(!G.floating)return te;const he=qA(G.floating,g.x),oe=qA(G.floating,g.y);return c?{...te,transform:"translate("+he+"px, "+oe+"px)",...xN(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:he,top:oe}},[n,c,G.floating,g.x,g.y]);return x.useMemo(()=>({...g,update:ne,refs:ye,elements:G,floatingStyles:W}),[g,ne,ye,G,W])}const t4=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:i,padding:s}=typeof e=="function"?e(n):e;return i&&t(i)?i.current!=null?KA({element:i.current,padding:s}).fn(n):{}:i?KA({element:i,padding:s}).fn(n):{}}}},n4=(e,t)=>({...G5(e),options:[e,t]}),i4=(e,t)=>({...K5(e),options:[e,t]}),s4=(e,t)=>({...Z5(e),options:[e,t]}),r4=(e,t)=>({...q5(e),options:[e,t]}),o4=(e,t)=>({...W5(e),options:[e,t]}),a4=(e,t)=>({...Y5(e),options:[e,t]}),l4=(e,t)=>({...t4(e),options:[e,t]});function c4(e){const t=u4(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(f4);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function u4(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=p4(s),c=h4(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var d4=Symbol("radix.slottable");function f4(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===d4}function h4(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function p4(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var m4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],g4=m4.reduce((e,t)=>{const n=c4(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),v4="Arrow",_N=x.forwardRef((e,t)=>{const{children:n,width:i=10,height:s=5,...o}=e;return y.jsx(g4.svg,{...o,ref:t,width:i,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});_N.displayName=v4;var y4=_N;function b4(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,R=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:R,children:_})};h.displayName=o+"Provider";function g(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,g]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,x4(s,...t)]}function x4(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function _4(e){const t=w4(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(C4);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function w4(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=A4(s),c=E4(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var S4=Symbol("radix.slottable");function C4(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===S4}function E4(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function A4(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var T4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wN=T4.reduce((e,t)=>{const n=_4(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function SN(e){const[t,n]=x.useState(void 0);return Dn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let l,c;if("borderBoxSize"in o){const d=o.borderBoxSize,h=Array.isArray(d)?d[0]:d;l=h.inlineSize,c=h.blockSize}else l=e.offsetWidth,c=e.offsetHeight;n({width:l,height:c})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else n(void 0)},[e]),t}var c_="Popper",[CN,Pu]=b4(c_),[R4,EN]=CN(c_),AN=e=>{const{__scopePopper:t,children:n}=e,[i,s]=x.useState(null);return y.jsx(R4,{scope:t,anchor:i,onAnchorChange:s,children:n})};AN.displayName=c_;var TN="PopperAnchor",RN=x.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:i,...s}=e,o=EN(TN,n),l=x.useRef(null),c=wt(t,l),d=x.useRef(null);return x.useEffect(()=>{const h=d.current;d.current=i?.current||l.current,h!==d.current&&o.onAnchorChange(d.current)}),i?null:y.jsx(wN.div,{...s,ref:c})});RN.displayName=TN;var u_="PopperContent",[k4,N4]=CN(u_),kN=x.forwardRef((e,t)=>{const{__scopePopper:n,side:i="bottom",sideOffset:s=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:g=0,sticky:v="partial",hideWhenDetached:b=!1,updatePositionStrategy:_="optimized",onPlaced:C,...E}=e,R=EN(u_,n),[N,k]=x.useState(null),O=wt(t,Se=>k(Se)),[M,j]=x.useState(null),U=SN(M),z=U?.width??0,I=U?.height??0,$=i+(o!=="center"?"-"+o:""),Z=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},q=Array.isArray(h)?h:[h],X=q.length>0,ne={padding:Z,boundary:q.filter(P4),altBoundary:X},{refs:re,floatingStyles:ye,placement:G,isPositioned:W,middlewareData:te}=e4({strategy:"fixed",placement:$,whileElementsMounted:(...Se)=>H5(...Se,{animationFrame:_==="always"}),elements:{reference:R.anchor},middleware:[n4({mainAxis:s+I,alignmentAxis:l}),d&&i4({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?s4():void 0,...ne}),d&&r4({...ne}),o4({...ne,apply:({elements:Se,rects:Le,availableWidth:Me,availableHeight:De})=>{const{width:Ye,height:Ze}=Le.reference,St=Se.floating.style;St.setProperty("--radix-popper-available-width",`${Me}px`),St.setProperty("--radix-popper-available-height",`${De}px`),St.setProperty("--radix-popper-anchor-width",`${Ye}px`),St.setProperty("--radix-popper-anchor-height",`${Ze}px`)}}),M&&l4({element:M,padding:c}),M4({arrowWidth:z,arrowHeight:I}),b&&a4({strategy:"referenceHidden",...ne})]}),[he,oe]=PN(G),K=Gs(C);Dn(()=>{W&&K?.()},[W,K]);const ce=te.arrow?.x,be=te.arrow?.y,xe=te.arrow?.centerOffset!==0,[Re,we]=x.useState();return Dn(()=>{N&&we(window.getComputedStyle(N).zIndex)},[N]),y.jsx("div",{ref:re.setFloating,"data-radix-popper-content-wrapper":"",style:{...ye,transform:W?ye.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[te.transformOrigin?.x,te.transformOrigin?.y].join(" "),...te.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:y.jsx(k4,{scope:n,placedSide:he,onArrowChange:j,arrowX:ce,arrowY:be,shouldHideArrow:xe,children:y.jsx(wN.div,{"data-side":he,"data-align":oe,...E,ref:O,style:{...E.style,animation:W?void 0:"none"}})})})});kN.displayName=u_;var NN="PopperArrow",O4={top:"bottom",right:"left",bottom:"top",left:"right"},ON=x.forwardRef(function(t,n){const{__scopePopper:i,...s}=t,o=N4(NN,i),l=O4[o.placedSide];return y.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:y.jsx(y4,{...s,ref:n,style:{...s.style,display:"block"}})})});ON.displayName=NN;function P4(e){return e!==null}var M4=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:i,middlewareData:s}=t,l=s.arrow?.centerOffset!==0,c=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[h,g]=PN(n),v={start:"0%",center:"50%",end:"100%"}[g],b=(s.arrow?.x??0)+c/2,_=(s.arrow?.y??0)+d/2;let C="",E="";return h==="bottom"?(C=l?v:`${b}px`,E=`${-d}px`):h==="top"?(C=l?v:`${b}px`,E=`${i.floating.height+d}px`):h==="right"?(C=`${-d}px`,E=l?v:`${_}px`):h==="left"&&(C=`${i.floating.width+d}px`,E=l?v:`${_}px`),{data:{x:C,y:E}}}});function PN(e){const[t,n="center"]=e.split("-");return[t,n]}var Dg=AN,d_=RN,f_=kN,h_=ON;function D4(e){const t=L4(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(I4);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function L4(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=B4(s),c=z4(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var j4=Symbol("radix.slottable");function I4(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===j4}function z4(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function B4(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var U4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],F4=U4.reduce((e,t)=>{const n=D4(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),V4="Portal",Yf=x.forwardRef((e,t)=>{const{container:n,...i}=e,[s,o]=x.useState(!1);Dn(()=>o(!0),[]);const l=n||s&&globalThis?.document?.body;return l?WB.createPortal(y.jsx(F4.div,{...i,ref:t}),l):null});Yf.displayName=V4;function $4(e,t){return x.useReducer((n,i)=>t[n][i]??n,e)}var br=e=>{const{present:t,children:n}=e,i=H4(t),s=typeof n=="function"?n({present:i.isPresent}):x.Children.only(n),o=wt(i.ref,G4(s));return typeof n=="function"||i.isPresent?x.cloneElement(s,{ref:o}):null};br.displayName="Presence";function H4(e){const[t,n]=x.useState(),i=x.useRef(null),s=x.useRef(e),o=x.useRef("none"),l=e?"mounted":"unmounted",[c,d]=$4(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const h=$p(i.current);o.current=c==="mounted"?h:"none"},[c]),Dn(()=>{const h=i.current,g=s.current;if(g!==e){const b=o.current,_=$p(h);e?d("MOUNT"):_==="none"||h?.display==="none"?d("UNMOUNT"):d(g&&b!==_?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),Dn(()=>{if(t){let h;const g=t.ownerDocument.defaultView??window,v=_=>{const E=$p(i.current).includes(CSS.escape(_.animationName));if(_.target===t&&E&&(d("ANIMATION_END"),!s.current)){const R=t.style.animationFillMode;t.style.animationFillMode="forwards",h=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=R)})}},b=_=>{_.target===t&&(o.current=$p(i.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{g.clearTimeout(h),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:x.useCallback(h=>{i.current=h?getComputedStyle(h):null,n(h)},[])}}function $p(e){return e?.animationName||"none"}function G4(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function MN(e){const t=K4(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(W4);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function K4(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=Z4(s),c=Y4(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var q4=Symbol("radix.slottable");function W4(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===q4}function Y4(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Z4(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var X4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Zf=X4.reduce((e,t)=>{const n=MN(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function Q4(e,t){e&&Xi.flushSync(()=>e.dispatchEvent(t))}function J4(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,R=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:R,children:_})};h.displayName=o+"Provider";function g(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,g]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,eF(s,...t)]}function eF(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function tF(e){const t=nF(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(sF);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function nF(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=oF(s),c=rF(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var iF=Symbol("radix.slottable");function sF(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===iF}function rF(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function oF(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var aF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],DN=aF.reduce((e,t)=>{const n=tF(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),Cb="rovingFocusGroup.onEntryFocus",lF={bubbles:!1,cancelable:!0},Xf="RovingFocusGroup",[Ax,LN,cF]=Tg(Xf),[uF,jN]=J4(Xf,[cF]),[dF,fF]=uF(Xf),IN=x.forwardRef((e,t)=>y.jsx(Ax.Provider,{scope:e.__scopeRovingFocusGroup,children:y.jsx(Ax.Slot,{scope:e.__scopeRovingFocusGroup,children:y.jsx(hF,{...e,ref:t})})}));IN.displayName=Xf;var hF=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:s=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:g=!1,...v}=e,b=x.useRef(null),_=wt(t,b),C=Rg(o),[E,R]=Do({prop:l,defaultProp:c??null,onChange:d,caller:Xf}),[N,k]=x.useState(!1),O=Gs(h),M=LN(n),j=x.useRef(!1),[U,z]=x.useState(0);return x.useEffect(()=>{const I=b.current;if(I)return I.addEventListener(Cb,O),()=>I.removeEventListener(Cb,O)},[O]),y.jsx(dF,{scope:n,orientation:i,dir:C,loop:s,currentTabStopId:E,onItemFocus:x.useCallback(I=>R(I),[R]),onItemShiftTab:x.useCallback(()=>k(!0),[]),onFocusableItemAdd:x.useCallback(()=>z(I=>I+1),[]),onFocusableItemRemove:x.useCallback(()=>z(I=>I-1),[]),children:y.jsx(DN.div,{tabIndex:N||U===0?-1:0,"data-orientation":i,...v,ref:_,style:{outline:"none",...e.style},onMouseDown:je(e.onMouseDown,()=>{j.current=!0}),onFocus:je(e.onFocus,I=>{const $=!j.current;if(I.target===I.currentTarget&&$&&!N){const Z=new CustomEvent(Cb,lF);if(I.currentTarget.dispatchEvent(Z),!Z.defaultPrevented){const q=M().filter(G=>G.focusable),X=q.find(G=>G.active),ne=q.find(G=>G.id===E),ye=[X,ne,...q].filter(Boolean).map(G=>G.ref.current);UN(ye,g)}}j.current=!1}),onBlur:je(e.onBlur,()=>k(!1))})})}),zN="RovingFocusGroupItem",BN=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:s=!1,tabStopId:o,children:l,...c}=e,d=_s(),h=o||d,g=fF(zN,n),v=g.currentTabStopId===h,b=LN(n),{onFocusableItemAdd:_,onFocusableItemRemove:C,currentTabStopId:E}=g;return x.useEffect(()=>{if(i)return _(),()=>C()},[i,_,C]),y.jsx(Ax.ItemSlot,{scope:n,id:h,focusable:i,active:s,children:y.jsx(DN.span,{tabIndex:v?0:-1,"data-orientation":g.orientation,...c,ref:t,onMouseDown:je(e.onMouseDown,R=>{i?g.onItemFocus(h):R.preventDefault()}),onFocus:je(e.onFocus,()=>g.onItemFocus(h)),onKeyDown:je(e.onKeyDown,R=>{if(R.key==="Tab"&&R.shiftKey){g.onItemShiftTab();return}if(R.target!==R.currentTarget)return;const N=gF(R,g.orientation,g.dir);if(N!==void 0){if(R.metaKey||R.ctrlKey||R.altKey||R.shiftKey)return;R.preventDefault();let O=b().filter(M=>M.focusable).map(M=>M.ref.current);if(N==="last")O.reverse();else if(N==="prev"||N==="next"){N==="prev"&&O.reverse();const M=O.indexOf(R.currentTarget);O=g.loop?vF(O,M+1):O.slice(M+1)}setTimeout(()=>UN(O))}}),children:typeof l=="function"?l({isCurrentTabStop:v,hasTabStop:E!=null}):l})})});BN.displayName=zN;var pF={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function mF(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function gF(e,t,n){const i=mF(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return pF[i]}function UN(e,t=!1){const n=document.activeElement;for(const i of e)if(i===n||(i.focus({preventScroll:t}),document.activeElement!==n))return}function vF(e,t){return e.map((n,i)=>e[(t+i)%e.length])}var yF=IN,bF=BN,xF=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Hc=new WeakMap,Hp=new WeakMap,Gp={},Eb=0,FN=function(e){return e&&(e.host||FN(e.parentNode))},_F=function(e,t){return t.map(function(n){if(e.contains(n))return n;var i=FN(n);return i&&e.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},wF=function(e,t,n,i){var s=_F(t,Array.isArray(e)?e:[e]);Gp[n]||(Gp[n]=new WeakMap);var o=Gp[n],l=[],c=new Set,d=new Set(s),h=function(v){!v||c.has(v)||(c.add(v),h(v.parentNode))};s.forEach(h);var g=function(v){!v||d.has(v)||Array.prototype.forEach.call(v.children,function(b){if(c.has(b))g(b);else try{var _=b.getAttribute(i),C=_!==null&&_!=="false",E=(Hc.get(b)||0)+1,R=(o.get(b)||0)+1;Hc.set(b,E),o.set(b,R),l.push(b),E===1&&C&&Hp.set(b,!0),R===1&&b.setAttribute(n,"true"),C||b.setAttribute(i,"true")}catch(N){console.error("aria-hidden: cannot operate on ",b,N)}})};return g(t),c.clear(),Eb++,function(){l.forEach(function(v){var b=Hc.get(v)-1,_=o.get(v)-1;Hc.set(v,b),o.set(v,_),b||(Hp.has(v)||v.removeAttribute(i),Hp.delete(v)),_||v.removeAttribute(n)}),Eb--,Eb||(Hc=new WeakMap,Hc=new WeakMap,Hp=new WeakMap,Gp={})}},p_=function(e,t,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),s=xF(e);return s?(i.push.apply(i,Array.from(s.querySelectorAll("[aria-live], script"))),wF(i,s,n,"aria-hidden")):function(){return null}},Vr=function(){return Vr=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Vr.apply(this,arguments)};function Mu(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function SF(e,t,n,i){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(g){try{h(i.next(g))}catch(v){l(v)}}function d(g){try{h(i.throw(g))}catch(v){l(v)}}function h(g){g.done?o(g.value):s(g.value).then(c,d)}h((i=i.apply(e,t||[])).next())})}function CF(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,o;i<s;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))}var Sm="right-scroll-bar-position",Cm="width-before-scroll-bar",EF="with-scroll-bars-hidden",AF="--removed-body-scroll-bar-size";function Ab(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function TF(e,t){var n=x.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(i){var s=n.value;s!==i&&(n.value=i,n.callback(i,s))}}}})[0];return n.callback=t,n.facade}var RF=typeof window<"u"?x.useLayoutEffect:x.useEffect,WA=new WeakMap;function kF(e,t){var n=TF(null,function(i){return e.forEach(function(s){return Ab(s,i)})});return RF(function(){var i=WA.get(n);if(i){var s=new Set(i),o=new Set(e),l=n.current;s.forEach(function(c){o.has(c)||Ab(c,null)}),o.forEach(function(c){s.has(c)||Ab(c,l)})}WA.set(n,e)},[e]),n}function NF(e){return e}function OF(e,t){t===void 0&&(t=NF);var n=[],i=!1,s={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var l=t(o,i);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(o){for(i=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){i=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(o),l=n}var d=function(){var g=l;l=[],g.forEach(o)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(g){l.push(g),h()},filter:function(g){return l=l.filter(g),n}}}};return s}function PF(e){e===void 0&&(e={});var t=OF(null);return t.options=Vr({async:!0,ssr:!1},e),t}var VN=function(e){var t=e.sideCar,n=Mu(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return x.createElement(i,Vr({},n))};VN.isSideCarExport=!0;function MF(e,t){return e.useMedium(t),VN}var $N=PF(),Tb=function(){},Lg=x.forwardRef(function(e,t){var n=x.useRef(null),i=x.useState({onScrollCapture:Tb,onWheelCapture:Tb,onTouchMoveCapture:Tb}),s=i[0],o=i[1],l=e.forwardProps,c=e.children,d=e.className,h=e.removeScrollBar,g=e.enabled,v=e.shards,b=e.sideCar,_=e.noRelative,C=e.noIsolation,E=e.inert,R=e.allowPinchZoom,N=e.as,k=N===void 0?"div":N,O=e.gapMode,M=Mu(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=b,U=kF([n,t]),z=Vr(Vr({},M),s);return x.createElement(x.Fragment,null,g&&x.createElement(j,{sideCar:$N,removeScrollBar:h,shards:v,noRelative:_,noIsolation:C,inert:E,setCallbacks:o,allowPinchZoom:!!R,lockRef:n,gapMode:O}),l?x.cloneElement(x.Children.only(c),Vr(Vr({},z),{ref:U})):x.createElement(k,Vr({},z,{className:d,ref:U}),c))});Lg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lg.classNames={fullWidth:Cm,zeroRight:Sm};var DF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function LF(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=DF();return t&&e.setAttribute("nonce",t),e}function jF(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function IF(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var zF=function(){var e=0,t=null;return{add:function(n){e==0&&(t=LF())&&(jF(t,n),IF(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},BF=function(){var e=zF();return function(t,n){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},HN=function(){var e=BF(),t=function(n){var i=n.styles,s=n.dynamic;return e(i,s),null};return t},UF={left:0,top:0,right:0,gap:0},Rb=function(e){return parseInt(e||"",10)||0},FF=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Rb(n),Rb(i),Rb(s)]},VF=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return UF;var t=FF(e),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-n+t[2]-t[0])}},$F=HN(),yu="data-scroll-locked",HF=function(e,t,n,i){var s=e.left,o=e.top,l=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(EF,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(c,"px ").concat(i,`;
  }
  body[`).concat(yu,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sm,` {
    right: `).concat(c,"px ").concat(i,`;
  }
  
  .`).concat(Cm,` {
    margin-right: `).concat(c,"px ").concat(i,`;
  }
  
  .`).concat(Sm," .").concat(Sm,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Cm," .").concat(Cm,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(yu,`] {
    `).concat(AF,": ").concat(c,`px;
  }
`)},YA=function(){var e=parseInt(document.body.getAttribute(yu)||"0",10);return isFinite(e)?e:0},GF=function(){x.useEffect(function(){return document.body.setAttribute(yu,(YA()+1).toString()),function(){var e=YA()-1;e<=0?document.body.removeAttribute(yu):document.body.setAttribute(yu,e.toString())}},[])},KF=function(e){var t=e.noRelative,n=e.noImportant,i=e.gapMode,s=i===void 0?"margin":i;GF();var o=x.useMemo(function(){return VF(s)},[s]);return x.createElement($F,{styles:HF(o,!t,s,n?"":"!important")})},Tx=!1;if(typeof window<"u")try{var Kp=Object.defineProperty({},"passive",{get:function(){return Tx=!0,!0}});window.addEventListener("test",Kp,Kp),window.removeEventListener("test",Kp,Kp)}catch{Tx=!1}var Gc=Tx?{passive:!1}:!1,qF=function(e){return e.tagName==="TEXTAREA"},GN=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!qF(e)&&n[t]==="visible")},WF=function(e){return GN(e,"overflowY")},YF=function(e){return GN(e,"overflowX")},ZA=function(e,t){var n=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var s=KN(e,i);if(s){var o=qN(e,i),l=o[1],c=o[2];if(l>c)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},ZF=function(e){var t=e.scrollTop,n=e.scrollHeight,i=e.clientHeight;return[t,n,i]},XF=function(e){var t=e.scrollLeft,n=e.scrollWidth,i=e.clientWidth;return[t,n,i]},KN=function(e,t){return e==="v"?WF(t):YF(t)},qN=function(e,t){return e==="v"?ZF(t):XF(t)},QF=function(e,t){return e==="h"&&t==="rtl"?-1:1},JF=function(e,t,n,i,s){var o=QF(e,window.getComputedStyle(t).direction),l=o*i,c=n.target,d=t.contains(c),h=!1,g=l>0,v=0,b=0;do{if(!c)break;var _=qN(e,c),C=_[0],E=_[1],R=_[2],N=E-R-o*C;(C||N)&&KN(e,c)&&(v+=N,b+=C);var k=c.parentNode;c=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(g&&Math.abs(v)<1||!g&&Math.abs(b)<1)&&(h=!0),h},qp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},XA=function(e){return[e.deltaX,e.deltaY]},QA=function(e){return e&&"current"in e?e.current:e},eV=function(e,t){return e[0]===t[0]&&e[1]===t[1]},tV=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},nV=0,Kc=[];function iV(e){var t=x.useRef([]),n=x.useRef([0,0]),i=x.useRef(),s=x.useState(nV++)[0],o=x.useState(HN)[0],l=x.useRef(e);x.useEffect(function(){l.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var E=CF([e.lockRef.current],(e.shards||[]).map(QA),!0).filter(Boolean);return E.forEach(function(R){return R.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),E.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var c=x.useCallback(function(E,R){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!l.current.allowPinchZoom;var N=qp(E),k=n.current,O="deltaX"in E?E.deltaX:k[0]-N[0],M="deltaY"in E?E.deltaY:k[1]-N[1],j,U=E.target,z=Math.abs(O)>Math.abs(M)?"h":"v";if("touches"in E&&z==="h"&&U.type==="range")return!1;var I=window.getSelection(),$=I&&I.anchorNode,Z=$?$===U||$.contains(U):!1;if(Z)return!1;var q=ZA(z,U);if(!q)return!0;if(q?j=z:(j=z==="v"?"h":"v",q=ZA(z,U)),!q)return!1;if(!i.current&&"changedTouches"in E&&(O||M)&&(i.current=j),!j)return!0;var X=i.current||j;return JF(X,R,E,X==="h"?O:M)},[]),d=x.useCallback(function(E){var R=E;if(!(!Kc.length||Kc[Kc.length-1]!==o)){var N="deltaY"in R?XA(R):qp(R),k=t.current.filter(function(j){return j.name===R.type&&(j.target===R.target||R.target===j.shadowParent)&&eV(j.delta,N)})[0];if(k&&k.should){R.cancelable&&R.preventDefault();return}if(!k){var O=(l.current.shards||[]).map(QA).filter(Boolean).filter(function(j){return j.contains(R.target)}),M=O.length>0?c(R,O[0]):!l.current.noIsolation;M&&R.cancelable&&R.preventDefault()}}},[]),h=x.useCallback(function(E,R,N,k){var O={name:E,delta:R,target:N,should:k,shadowParent:sV(N)};t.current.push(O),setTimeout(function(){t.current=t.current.filter(function(M){return M!==O})},1)},[]),g=x.useCallback(function(E){n.current=qp(E),i.current=void 0},[]),v=x.useCallback(function(E){h(E.type,XA(E),E.target,c(E,e.lockRef.current))},[]),b=x.useCallback(function(E){h(E.type,qp(E),E.target,c(E,e.lockRef.current))},[]);x.useEffect(function(){return Kc.push(o),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:b}),document.addEventListener("wheel",d,Gc),document.addEventListener("touchmove",d,Gc),document.addEventListener("touchstart",g,Gc),function(){Kc=Kc.filter(function(E){return E!==o}),document.removeEventListener("wheel",d,Gc),document.removeEventListener("touchmove",d,Gc),document.removeEventListener("touchstart",g,Gc)}},[]);var _=e.removeScrollBar,C=e.inert;return x.createElement(x.Fragment,null,C?x.createElement(o,{styles:tV(s)}):null,_?x.createElement(KF,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function sV(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const rV=MF($N,iV);var jg=x.forwardRef(function(e,t){return x.createElement(Lg,Vr({},e,{ref:t,sideCar:rV}))});jg.classNames=Lg.classNames;var Rx=["Enter"," "],oV=["ArrowDown","PageUp","Home"],WN=["ArrowUp","PageDown","End"],aV=[...oV,...WN],lV={ltr:[...Rx,"ArrowRight"],rtl:[...Rx,"ArrowLeft"]},cV={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Qf="Menu",[_f,uV,dV]=Tg(Qf),[tc,YN]=gU(Qf,[dV,Pu,jN]),Jf=Pu(),ZN=jN(),[XN,za]=tc(Qf),[fV,eh]=tc(Qf),QN=e=>{const{__scopeMenu:t,open:n=!1,children:i,dir:s,onOpenChange:o,modal:l=!0}=e,c=Jf(t),[d,h]=x.useState(null),g=x.useRef(!1),v=Gs(o),b=Rg(s);return x.useEffect(()=>{const _=()=>{g.current=!0,document.addEventListener("pointerdown",C,{capture:!0,once:!0}),document.addEventListener("pointermove",C,{capture:!0,once:!0})},C=()=>g.current=!1;return document.addEventListener("keydown",_,{capture:!0}),()=>{document.removeEventListener("keydown",_,{capture:!0}),document.removeEventListener("pointerdown",C,{capture:!0}),document.removeEventListener("pointermove",C,{capture:!0})}},[]),y.jsx(Dg,{...c,children:y.jsx(XN,{scope:t,open:n,onOpenChange:v,content:d,onContentChange:h,children:y.jsx(fV,{scope:t,onClose:x.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:g,dir:b,modal:l,children:i})})})};QN.displayName=Qf;var hV="MenuAnchor",m_=x.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e,s=Jf(n);return y.jsx(d_,{...s,...i,ref:t})});m_.displayName=hV;var g_="MenuPortal",[pV,JN]=tc(g_,{forceMount:void 0}),eO=e=>{const{__scopeMenu:t,forceMount:n,children:i,container:s}=e,o=za(g_,t);return y.jsx(pV,{scope:t,forceMount:n,children:y.jsx(br,{present:n||o.open,children:y.jsx(Yf,{asChild:!0,container:s,children:i})})})};eO.displayName=g_;var $s="MenuContent",[mV,v_]=tc($s),tO=x.forwardRef((e,t)=>{const n=JN($s,e.__scopeMenu),{forceMount:i=n.forceMount,...s}=e,o=za($s,e.__scopeMenu),l=eh($s,e.__scopeMenu);return y.jsx(_f.Provider,{scope:e.__scopeMenu,children:y.jsx(br,{present:i||o.open,children:y.jsx(_f.Slot,{scope:e.__scopeMenu,children:l.modal?y.jsx(gV,{...s,ref:t}):y.jsx(vV,{...s,ref:t})})})})}),gV=x.forwardRef((e,t)=>{const n=za($s,e.__scopeMenu),i=x.useRef(null),s=wt(t,i);return x.useEffect(()=>{const o=i.current;if(o)return p_(o)},[]),y.jsx(y_,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:je(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),vV=x.forwardRef((e,t)=>{const n=za($s,e.__scopeMenu);return y.jsx(y_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),yV=MN("MenuContent.ScrollLock"),y_=x.forwardRef((e,t)=>{const{__scopeMenu:n,loop:i=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:b,onDismiss:_,disableOutsideScroll:C,...E}=e,R=za($s,n),N=eh($s,n),k=Jf(n),O=ZN(n),M=uV(n),[j,U]=x.useState(null),z=x.useRef(null),I=wt(t,z,R.onContentChange),$=x.useRef(0),Z=x.useRef(""),q=x.useRef(0),X=x.useRef(null),ne=x.useRef("right"),re=x.useRef(0),ye=C?jg:x.Fragment,G=C?{as:yV,allowPinchZoom:!0}:void 0,W=he=>{const oe=Z.current+he,K=M().filter(Se=>!Se.disabled),ce=document.activeElement,be=K.find(Se=>Se.ref.current===ce)?.textValue,xe=K.map(Se=>Se.textValue),Re=NV(xe,oe,be),we=K.find(Se=>Se.textValue===Re)?.ref.current;(function Se(Le){Z.current=Le,window.clearTimeout($.current),Le!==""&&($.current=window.setTimeout(()=>Se(""),1e3))})(oe),we&&setTimeout(()=>we.focus())};x.useEffect(()=>()=>window.clearTimeout($.current),[]),n_();const te=x.useCallback(he=>ne.current===X.current?.side&&PV(he,X.current?.area),[]);return y.jsx(mV,{scope:n,searchRef:Z,onItemEnter:x.useCallback(he=>{te(he)&&he.preventDefault()},[te]),onItemLeave:x.useCallback(he=>{te(he)||(z.current?.focus(),U(null))},[te]),onTriggerLeave:x.useCallback(he=>{te(he)&&he.preventDefault()},[te]),pointerGraceTimerRef:q,onPointerGraceIntentChange:x.useCallback(he=>{X.current=he},[]),children:y.jsx(ye,{...G,children:y.jsx(kg,{asChild:!0,trapped:s,onMountAutoFocus:je(o,he=>{he.preventDefault(),z.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:y.jsx(qf,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:b,onDismiss:_,children:y.jsx(yF,{asChild:!0,...O,dir:N.dir,orientation:"vertical",loop:i,currentTabStopId:j,onCurrentTabStopIdChange:U,onEntryFocus:je(d,he=>{N.isUsingKeyboardRef.current||he.preventDefault()}),preventScrollOnEntryFocus:!0,children:y.jsx(f_,{role:"menu","aria-orientation":"vertical","data-state":yO(R.open),"data-radix-menu-content":"",dir:N.dir,...k,...E,ref:I,style:{outline:"none",...E.style},onKeyDown:je(E.onKeyDown,he=>{const K=he.target.closest("[data-radix-menu-content]")===he.currentTarget,ce=he.ctrlKey||he.altKey||he.metaKey,be=he.key.length===1;K&&(he.key==="Tab"&&he.preventDefault(),!ce&&be&&W(he.key));const xe=z.current;if(he.target!==xe||!aV.includes(he.key))return;he.preventDefault();const we=M().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);WN.includes(he.key)&&we.reverse(),RV(we)}),onBlur:je(e.onBlur,he=>{he.currentTarget.contains(he.target)||(window.clearTimeout($.current),Z.current="")}),onPointerMove:je(e.onPointerMove,wf(he=>{const oe=he.target,K=re.current!==he.clientX;if(he.currentTarget.contains(oe)&&K){const ce=he.clientX>re.current?"right":"left";ne.current=ce,re.current=he.clientX}}))})})})})})})});tO.displayName=$s;var bV="MenuGroup",b_=x.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e;return y.jsx(Zf.div,{role:"group",...i,ref:t})});b_.displayName=bV;var xV="MenuLabel",nO=x.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e;return y.jsx(Zf.div,{...i,ref:t})});nO.displayName=xV;var Wm="MenuItem",JA="menu.itemSelect",Ig=x.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:i,...s}=e,o=x.useRef(null),l=eh(Wm,e.__scopeMenu),c=v_(Wm,e.__scopeMenu),d=wt(t,o),h=x.useRef(!1),g=()=>{const v=o.current;if(!n&&v){const b=new CustomEvent(JA,{bubbles:!0,cancelable:!0});v.addEventListener(JA,_=>i?.(_),{once:!0}),Q4(v,b),b.defaultPrevented?h.current=!1:l.onClose()}};return y.jsx(iO,{...s,ref:d,disabled:n,onClick:je(e.onClick,g),onPointerDown:v=>{e.onPointerDown?.(v),h.current=!0},onPointerUp:je(e.onPointerUp,v=>{h.current||v.currentTarget?.click()}),onKeyDown:je(e.onKeyDown,v=>{const b=c.searchRef.current!=="";n||b&&v.key===" "||Rx.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});Ig.displayName=Wm;var iO=x.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:i=!1,textValue:s,...o}=e,l=v_(Wm,n),c=ZN(n),d=x.useRef(null),h=wt(t,d),[g,v]=x.useState(!1),[b,_]=x.useState("");return x.useEffect(()=>{const C=d.current;C&&_((C.textContent??"").trim())},[o.children]),y.jsx(_f.ItemSlot,{scope:n,disabled:i,textValue:s??b,children:y.jsx(bF,{asChild:!0,...c,focusable:!i,children:y.jsx(Zf.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...o,ref:h,onPointerMove:je(e.onPointerMove,wf(C=>{i?l.onItemLeave(C):(l.onItemEnter(C),C.defaultPrevented||C.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:je(e.onPointerLeave,wf(C=>l.onItemLeave(C))),onFocus:je(e.onFocus,()=>v(!0)),onBlur:je(e.onBlur,()=>v(!1))})})})}),_V="MenuCheckboxItem",sO=x.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:i,...s}=e;return y.jsx(cO,{scope:e.__scopeMenu,checked:n,children:y.jsx(Ig,{role:"menuitemcheckbox","aria-checked":Ym(n)?"mixed":n,...s,ref:t,"data-state":w_(n),onSelect:je(s.onSelect,()=>i?.(Ym(n)?!0:!n),{checkForDefaultPrevented:!1})})})});sO.displayName=_V;var rO="MenuRadioGroup",[wV,SV]=tc(rO,{value:void 0,onValueChange:()=>{}}),oO=x.forwardRef((e,t)=>{const{value:n,onValueChange:i,...s}=e,o=Gs(i);return y.jsx(wV,{scope:e.__scopeMenu,value:n,onValueChange:o,children:y.jsx(b_,{...s,ref:t})})});oO.displayName=rO;var aO="MenuRadioItem",lO=x.forwardRef((e,t)=>{const{value:n,...i}=e,s=SV(aO,e.__scopeMenu),o=n===s.value;return y.jsx(cO,{scope:e.__scopeMenu,checked:o,children:y.jsx(Ig,{role:"menuitemradio","aria-checked":o,...i,ref:t,"data-state":w_(o),onSelect:je(i.onSelect,()=>s.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});lO.displayName=aO;var x_="MenuItemIndicator",[cO,CV]=tc(x_,{checked:!1}),uO=x.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:i,...s}=e,o=CV(x_,n);return y.jsx(br,{present:i||Ym(o.checked)||o.checked===!0,children:y.jsx(Zf.span,{...s,ref:t,"data-state":w_(o.checked)})})});uO.displayName=x_;var EV="MenuSeparator",dO=x.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e;return y.jsx(Zf.div,{role:"separator","aria-orientation":"horizontal",...i,ref:t})});dO.displayName=EV;var AV="MenuArrow",fO=x.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e,s=Jf(n);return y.jsx(h_,{...s,...i,ref:t})});fO.displayName=AV;var __="MenuSub",[TV,hO]=tc(__),pO=e=>{const{__scopeMenu:t,children:n,open:i=!1,onOpenChange:s}=e,o=za(__,t),l=Jf(t),[c,d]=x.useState(null),[h,g]=x.useState(null),v=Gs(s);return x.useEffect(()=>(o.open===!1&&v(!1),()=>v(!1)),[o.open,v]),y.jsx(Dg,{...l,children:y.jsx(XN,{scope:t,open:i,onOpenChange:v,content:h,onContentChange:g,children:y.jsx(TV,{scope:t,contentId:_s(),triggerId:_s(),trigger:c,onTriggerChange:d,children:n})})})};pO.displayName=__;var Xd="MenuSubTrigger",mO=x.forwardRef((e,t)=>{const n=za(Xd,e.__scopeMenu),i=eh(Xd,e.__scopeMenu),s=hO(Xd,e.__scopeMenu),o=v_(Xd,e.__scopeMenu),l=x.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=o,h={__scopeMenu:e.__scopeMenu},g=x.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return x.useEffect(()=>g,[g]),x.useEffect(()=>{const v=c.current;return()=>{window.clearTimeout(v),d(null)}},[c,d]),y.jsx(m_,{asChild:!0,...h,children:y.jsx(iO,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":yO(n.open),...e,ref:Gn(t,s.onTriggerChange),onClick:v=>{e.onClick?.(v),!(e.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:je(e.onPointerMove,wf(v=>{o.onItemEnter(v),!v.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(o.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),g()},100))})),onPointerLeave:je(e.onPointerLeave,wf(v=>{g();const b=n.content?.getBoundingClientRect();if(b){const _=n.content?.dataset.side,C=_==="right",E=C?-5:5,R=b[C?"left":"right"],N=b[C?"right":"left"];o.onPointerGraceIntentChange({area:[{x:v.clientX+E,y:v.clientY},{x:R,y:b.top},{x:N,y:b.top},{x:N,y:b.bottom},{x:R,y:b.bottom}],side:_}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(v),v.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:je(e.onKeyDown,v=>{const b=o.searchRef.current!=="";e.disabled||b&&v.key===" "||lV[i.dir].includes(v.key)&&(n.onOpenChange(!0),n.content?.focus(),v.preventDefault())})})})});mO.displayName=Xd;var gO="MenuSubContent",vO=x.forwardRef((e,t)=>{const n=JN($s,e.__scopeMenu),{forceMount:i=n.forceMount,...s}=e,o=za($s,e.__scopeMenu),l=eh($s,e.__scopeMenu),c=hO(gO,e.__scopeMenu),d=x.useRef(null),h=wt(t,d);return y.jsx(_f.Provider,{scope:e.__scopeMenu,children:y.jsx(br,{present:i||o.open,children:y.jsx(_f.Slot,{scope:e.__scopeMenu,children:y.jsx(y_,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:h,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{l.isUsingKeyboardRef.current&&d.current?.focus(),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:je(e.onFocusOutside,g=>{g.target!==c.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:je(e.onEscapeKeyDown,g=>{l.onClose(),g.preventDefault()}),onKeyDown:je(e.onKeyDown,g=>{const v=g.currentTarget.contains(g.target),b=cV[l.dir].includes(g.key);v&&b&&(o.onOpenChange(!1),c.trigger?.focus(),g.preventDefault())})})})})})});vO.displayName=gO;function yO(e){return e?"open":"closed"}function Ym(e){return e==="indeterminate"}function w_(e){return Ym(e)?"indeterminate":e?"checked":"unchecked"}function RV(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function kV(e,t){return e.map((n,i)=>e[(t+i)%e.length])}function NV(e,t,n){const s=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let l=kV(e,Math.max(o,0));s.length===1&&(l=l.filter(h=>h!==n));const d=l.find(h=>h.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function OV(e,t){const{x:n,y:i}=e;let s=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const c=t[o],d=t[l],h=c.x,g=c.y,v=d.x,b=d.y;g>i!=b>i&&n<(v-h)*(i-g)/(b-g)+h&&(s=!s)}return s}function PV(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return OV(n,t)}function wf(e){return t=>t.pointerType==="mouse"?e(t):void 0}var MV=QN,DV=m_,LV=eO,jV=tO,IV=b_,zV=nO,BV=Ig,UV=sO,FV=oO,VV=lO,$V=uO,HV=dO,GV=fO,KV=pO,qV=mO,WV=vO,zg="DropdownMenu",[YV]=Z3(zg,[YN]),Ei=YN(),[ZV,bO]=YV(zg),xO=e=>{const{__scopeDropdownMenu:t,children:n,dir:i,open:s,defaultOpen:o,onOpenChange:l,modal:c=!0}=e,d=Ei(t),h=x.useRef(null),[g,v]=Do({prop:s,defaultProp:o??!1,onChange:l,caller:zg});return y.jsx(ZV,{scope:t,triggerId:_s(),triggerRef:h,contentId:_s(),open:g,onOpenChange:v,onOpenToggle:x.useCallback(()=>v(b=>!b),[v]),modal:c,children:y.jsx(MV,{...d,open:g,onOpenChange:v,dir:i,modal:c,children:n})})};xO.displayName=zg;var _O="DropdownMenuTrigger",wO=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:i=!1,...s}=e,o=bO(_O,n),l=Ei(n);return y.jsx(DV,{asChild:!0,...l,children:y.jsx(lU.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...s,ref:Gn(t,o.triggerRef),onPointerDown:je(e.onPointerDown,c=>{!i&&c.button===0&&c.ctrlKey===!1&&(o.onOpenToggle(),o.open||c.preventDefault())}),onKeyDown:je(e.onKeyDown,c=>{i||(["Enter"," "].includes(c.key)&&o.onOpenToggle(),c.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});wO.displayName=_O;var XV="DropdownMenuPortal",SO=e=>{const{__scopeDropdownMenu:t,...n}=e,i=Ei(t);return y.jsx(LV,{...i,...n})};SO.displayName=XV;var CO="DropdownMenuContent",EO=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=bO(CO,n),o=Ei(n),l=x.useRef(!1);return y.jsx(jV,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...i,ref:t,onCloseAutoFocus:je(e.onCloseAutoFocus,c=>{l.current||s.triggerRef.current?.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:je(e.onInteractOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,g=d.button===2||h;(!s.modal||g)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});EO.displayName=CO;var QV="DropdownMenuGroup",AO=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ei(n);return y.jsx(IV,{...s,...i,ref:t})});AO.displayName=QV;var JV="DropdownMenuLabel",e$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ei(n);return y.jsx(zV,{...s,...i,ref:t})});e$.displayName=JV;var t$="DropdownMenuItem",TO=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ei(n);return y.jsx(BV,{...s,...i,ref:t})});TO.displayName=t$;var n$="DropdownMenuCheckboxItem",i$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ei(n);return y.jsx(UV,{...s,...i,ref:t})});i$.displayName=n$;var s$="DropdownMenuRadioGroup",r$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ei(n);return y.jsx(FV,{...s,...i,ref:t})});r$.displayName=s$;var o$="DropdownMenuRadioItem",a$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ei(n);return y.jsx(VV,{...s,...i,ref:t})});a$.displayName=o$;var l$="DropdownMenuItemIndicator",c$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ei(n);return y.jsx($V,{...s,...i,ref:t})});c$.displayName=l$;var u$="DropdownMenuSeparator",RO=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ei(n);return y.jsx(HV,{...s,...i,ref:t})});RO.displayName=u$;var d$="DropdownMenuArrow",f$=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ei(n);return y.jsx(GV,{...s,...i,ref:t})});f$.displayName=d$;var h$=e=>{const{__scopeDropdownMenu:t,children:n,open:i,onOpenChange:s,defaultOpen:o}=e,l=Ei(t),[c,d]=Do({prop:i,defaultProp:o??!1,onChange:s,caller:"DropdownMenuSub"});return y.jsx(KV,{...l,open:c,onOpenChange:d,children:n})},p$="DropdownMenuSubTrigger",kO=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ei(n);return y.jsx(qV,{...s,...i,ref:t})});kO.displayName=p$;var m$="DropdownMenuSubContent",NO=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=Ei(n);return y.jsx(WV,{...s,...i,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});NO.displayName=m$;var g$=xO,v$=wO,OO=SO,y$=EO,b$=AO,x$=TO,_$=RO,w$=h$,S$=kO,C$=NO;const PO=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim();const E$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const A$=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase());const e1=e=>{const t=A$(e);return t.charAt(0).toUpperCase()+t.slice(1)};var T$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const R$=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const k$=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:o,iconNode:l,...c},d)=>x.createElement("svg",{ref:d,...T$,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:PO("lucide",s),...!o&&!R$(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,g])=>x.createElement(h,g)),...Array.isArray(o)?o:[o]]));const rt=(e,t)=>{const n=x.forwardRef(({className:i,...s},o)=>x.createElement(k$,{ref:o,iconNode:t,className:PO(`lucide-${E$(e1(e))}`,`lucide-${e}`,i),...s}));return n.displayName=e1(e),n};const N$=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],S_=rt("arrow-left",N$);const O$=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],P$=rt("arrow-up-down",O$);const M$=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],D$=rt("award",M$);const L$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],j$=rt("calendar-days",L$);const I$=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],MO=rt("check",I$);const z$=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Sf=rt("chevron-down",z$);const B$=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],C_=rt("chevron-left",B$);const U$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Du=rt("chevron-right",U$);const F$=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],DO=rt("chevron-up",F$);const V$=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],LO=rt("circle-check-big",V$);const $$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],H$=rt("circle-check",$$);const G$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],K$=rt("clock",G$);const q$=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],W$=rt("crown",q$);const Y$=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Z$=rt("database",Y$);const X$=[["path",{d:"M15 2c-1.35 1.5-2.092 3-2.5 4.5L14 8",key:"1bivrr"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c3.333-3 6.667-3 10-3",key:"nxix30"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M22 9c-1.5 1.35-3 2.092-4.5 2.5l-1-1",key:"18cutr"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.35-1.5 2.092-3 2.5-4.5L10 16",key:"rlvei3"}]],jO=rt("dna-off",X$);const Q$=[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]],IO=rt("dna",Q$);const J$=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],e6=rt("eye",J$);const t6=[["path",{d:"M6 3v12",key:"qpgusn"}],["path",{d:"M18 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",key:"1d02ji"}],["path",{d:"M6 21a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",key:"chk6ph"}],["path",{d:"M15 6a9 9 0 0 0-9 9",key:"or332x"}],["path",{d:"M18 15v6",key:"9wciyi"}],["path",{d:"M21 18h-6",key:"139f0c"}]],n6=rt("git-branch-plus",t6);const i6=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],zO=rt("grip-vertical",i6);const s6=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Zm=rt("heart",s6);const r6=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]],BO=rt("image-off",r6);const o6=[["path",{d:"m22 11-1.296-1.296a2.4 2.4 0 0 0-3.408 0L11 16",key:"9kzy35"}],["path",{d:"M4 8a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2",key:"1t0f0t"}],["circle",{cx:"13",cy:"7",r:"1",fill:"currentColor",key:"1obus6"}],["rect",{x:"8",y:"2",width:"14",height:"14",rx:"2",key:"1gvhby"}]],E_=rt("images",o6);const a6=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],l6=rt("image",a6);const c6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],A_=rt("info",c6);const u6=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],d6=rt("lightbulb",u6);const f6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],UO=rt("loader-circle",f6);const h6=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],th=rt("loader",h6);const p6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],m6=rt("lock",p6);const g6=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],v6=rt("log-in",g6);const y6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],t1=rt("log-out",y6);const b6=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],x6=rt("menu",b6);const _6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],FO=rt("pencil",_6);const w6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xm=rt("plus",w6);const S6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],VO=rt("rotate-ccw",S6);const C6=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],kx=rt("route",C6);const E6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$O=rt("search",E6);const A6=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],T_=rt("shuffle",A6);const T6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],R6=rt("target",T6);const k6=[["path",{d:"m10.065 12.493-6.18 1.318a.934.934 0 0 1-1.108-.702l-.537-2.15a1.07 1.07 0 0 1 .691-1.265l13.504-4.44",key:"k4qptu"}],["path",{d:"m13.56 11.747 4.332-.924",key:"19l80z"}],["path",{d:"m16 21-3.105-6.21",key:"7oh9d"}],["path",{d:"M16.485 5.94a2 2 0 0 1 1.455-2.425l1.09-.272a1 1 0 0 1 1.212.727l1.515 6.06a1 1 0 0 1-.727 1.213l-1.09.272a2 2 0 0 1-2.425-1.455z",key:"m7xp4m"}],["path",{d:"m6.158 8.633 1.114 4.456",key:"74o979"}],["path",{d:"m8 21 3.105-6.21",key:"1fvxut"}],["circle",{cx:"12",cy:"13",r:"2",key:"1c1ljs"}]],N6=rt("telescope",k6);const O6=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],P6=rt("trending-up",O6);const M6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],HO=rt("triangle-alert",M6);const D6=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],R_=rt("trophy",D6);const L6=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],n1=rt("volume-2",L6);const j6=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],i1=rt("volume-x",j6);const I6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Gl=rt("x",I6);const z6=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],B6=rt("zap",z6);function GO(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=GO(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function KO(){for(var e,t,n=0,i="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=GO(e))&&(i&&(i+=" "),i+=t);return i}const U6=(e,t)=>{const n=new Array(e.length+t.length);for(let i=0;i<e.length;i++)n[i]=e[i];for(let i=0;i<t.length;i++)n[e.length+i]=t[i];return n},F6=(e,t)=>({classGroupId:e,validator:t}),qO=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Qm="-",s1=[],V6="arbitrary..",$6=e=>{const t=G6(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return H6(l);const c=l.split(Qm),d=c[0]===""&&c.length>1?1:0;return WO(c,d,t)},getConflictingClassGroupIds:(l,c)=>{if(c){const d=i[l],h=n[l];return d?h?U6(h,d):d:h||s1}return n[l]||s1}}},WO=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const s=e[t],o=n.nextPart.get(s);if(o){const h=WO(e,t+1,o);if(h)return h}const l=n.validators;if(l===null)return;const c=t===0?e.join(Qm):e.slice(t).join(Qm),d=l.length;for(let h=0;h<d;h++){const g=l[h];if(g.validator(c))return g.classGroupId}},H6=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),i=t.slice(0,n);return i?V6+i:void 0})(),G6=e=>{const{theme:t,classGroups:n}=e;return K6(n,t)},K6=(e,t)=>{const n=qO();for(const i in e){const s=e[i];k_(s,n,i,t)}return n},k_=(e,t,n,i)=>{const s=e.length;for(let o=0;o<s;o++){const l=e[o];q6(l,t,n,i)}},q6=(e,t,n,i)=>{if(typeof e=="string"){W6(e,t,n);return}if(typeof e=="function"){Y6(e,t,n,i);return}Z6(e,t,n,i)},W6=(e,t,n)=>{const i=e===""?t:YO(t,e);i.classGroupId=n},Y6=(e,t,n,i)=>{if(X6(e)){k_(e(i),t,n,i);return}t.validators===null&&(t.validators=[]),t.validators.push(F6(n,e))},Z6=(e,t,n,i)=>{const s=Object.entries(e),o=s.length;for(let l=0;l<o;l++){const[c,d]=s[l];k_(d,YO(t,c),n,i)}},YO=(e,t)=>{let n=e;const i=t.split(Qm),s=i.length;for(let o=0;o<s;o++){const l=i[o];let c=n.nextPart.get(l);c||(c=qO(),n.nextPart.set(l,c)),n=c}return n},X6=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,Q6=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),i=Object.create(null);const s=(o,l)=>{n[o]=l,t++,t>e&&(t=0,i=n,n=Object.create(null))};return{get(o){let l=n[o];if(l!==void 0)return l;if((l=i[o])!==void 0)return s(o,l),l},set(o,l){o in n?n[o]=l:s(o,l)}}},Nx="!",r1=":",J6=[],o1=(e,t,n,i,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:i,isExternal:s}),eH=e=>{const{prefix:t,experimentalParseClassName:n}=e;let i=s=>{const o=[];let l=0,c=0,d=0,h;const g=s.length;for(let E=0;E<g;E++){const R=s[E];if(l===0&&c===0){if(R===r1){o.push(s.slice(d,E)),d=E+1;continue}if(R==="/"){h=E;continue}}R==="["?l++:R==="]"?l--:R==="("?c++:R===")"&&c--}const v=o.length===0?s:s.slice(d);let b=v,_=!1;v.endsWith(Nx)?(b=v.slice(0,-1),_=!0):v.startsWith(Nx)&&(b=v.slice(1),_=!0);const C=h&&h>d?h-d:void 0;return o1(o,_,b,C)};if(t){const s=t+r1,o=i;i=l=>l.startsWith(s)?o(l.slice(s.length)):o1(J6,!1,l,void 0,!0)}if(n){const s=i;i=o=>n({className:o,parseClassName:s})}return i},tH=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,i)=>{t.set(n,1e6+i)}),n=>{const i=[];let s=[];for(let o=0;o<n.length;o++){const l=n[o],c=l[0]==="[",d=t.has(l);c||d?(s.length>0&&(s.sort(),i.push(...s),s=[]),i.push(l)):s.push(l)}return s.length>0&&(s.sort(),i.push(...s)),i}},nH=e=>({cache:Q6(e.cacheSize),parseClassName:eH(e),sortModifiers:tH(e),...$6(e)}),iH=/\s+/,sH=(e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:s,sortModifiers:o}=t,l=[],c=e.trim().split(iH);let d="";for(let h=c.length-1;h>=0;h-=1){const g=c[h],{isExternal:v,modifiers:b,hasImportantModifier:_,baseClassName:C,maybePostfixModifierPosition:E}=n(g);if(v){d=g+(d.length>0?" "+d:d);continue}let R=!!E,N=i(R?C.substring(0,E):C);if(!N){if(!R){d=g+(d.length>0?" "+d:d);continue}if(N=i(C),!N){d=g+(d.length>0?" "+d:d);continue}R=!1}const k=b.length===0?"":b.length===1?b[0]:o(b).join(":"),O=_?k+Nx:k,M=O+N;if(l.indexOf(M)>-1)continue;l.push(M);const j=s(N,R);for(let U=0;U<j.length;++U){const z=j[U];l.push(O+z)}d=g+(d.length>0?" "+d:d)}return d},rH=(...e)=>{let t=0,n,i,s="";for(;t<e.length;)(n=e[t++])&&(i=ZO(n))&&(s&&(s+=" "),s+=i);return s},ZO=e=>{if(typeof e=="string")return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=ZO(e[i]))&&(n&&(n+=" "),n+=t);return n},oH=(e,...t)=>{let n,i,s,o;const l=d=>{const h=t.reduce((g,v)=>v(g),e());return n=nH(h),i=n.cache.get,s=n.cache.set,o=c,c(d)},c=d=>{const h=i(d);if(h)return h;const g=sH(d,n);return s(d,g),g};return o=l,(...d)=>o(rH(...d))},aH=[],zn=e=>{const t=n=>n[e]||aH;return t.isThemeGetter=!0,t},XO=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,QO=/^\((?:(\w[\w-]*):)?(.+)\)$/i,lH=/^\d+(?:\.\d+)?\/\d+(?:\.\d+)?$/,cH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,uH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,fH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,va=e=>lH.test(e),ht=e=>!!e&&!Number.isNaN(Number(e)),ya=e=>!!e&&Number.isInteger(Number(e)),kb=e=>e.endsWith("%")&&ht(e.slice(0,-1)),Ao=e=>cH.test(e),JO=()=>!0,pH=e=>uH.test(e)&&!dH.test(e),N_=()=>!1,mH=e=>fH.test(e),gH=e=>hH.test(e),vH=e=>!Fe(e)&&!$e(e),yH=e=>Ba(e,nP,N_),Fe=e=>XO.test(e),Sl=e=>Ba(e,iP,pH),a1=e=>Ba(e,AH,ht),bH=e=>Ba(e,rP,JO),xH=e=>Ba(e,sP,N_),l1=e=>Ba(e,eP,N_),_H=e=>Ba(e,tP,gH),Wp=e=>Ba(e,oP,mH),$e=e=>QO.test(e),Kd=e=>nc(e,iP),wH=e=>nc(e,sP),c1=e=>nc(e,eP),SH=e=>nc(e,nP),CH=e=>nc(e,tP),Yp=e=>nc(e,oP,!0),EH=e=>nc(e,rP,!0),Ba=(e,t,n)=>{const i=XO.exec(e);return i?i[1]?t(i[1]):n(i[2]):!1},nc=(e,t,n=!1)=>{const i=QO.exec(e);return i?i[1]?t(i[1]):n:!1},eP=e=>e==="position"||e==="percentage",tP=e=>e==="image"||e==="url",nP=e=>e==="length"||e==="size"||e==="bg-size",iP=e=>e==="length",AH=e=>e==="number",sP=e=>e==="family-name",rP=e=>e==="number"||e==="weight",oP=e=>e==="shadow",TH=()=>{const e=zn("color"),t=zn("font"),n=zn("text"),i=zn("font-weight"),s=zn("tracking"),o=zn("leading"),l=zn("breakpoint"),c=zn("container"),d=zn("spacing"),h=zn("radius"),g=zn("shadow"),v=zn("inset-shadow"),b=zn("text-shadow"),_=zn("drop-shadow"),C=zn("blur"),E=zn("perspective"),R=zn("aspect"),N=zn("ease"),k=zn("animate"),O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],j=()=>[...M(),$e,Fe],U=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],I=()=>[$e,Fe,d],$=()=>[va,"full","auto",...I()],Z=()=>[ya,"none","subgrid",$e,Fe],q=()=>["auto",{span:["full",ya,$e,Fe]},ya,$e,Fe],X=()=>[ya,"auto",$e,Fe],ne=()=>["auto","min","max","fr",$e,Fe],re=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ye=()=>["start","end","center","stretch","center-safe","end-safe"],G=()=>["auto",...I()],W=()=>[va,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],te=()=>[va,"screen","full","dvw","lvw","svw","min","max","fit",...I()],he=()=>[va,"screen","full","lh","dvh","lvh","svh","min","max","fit",...I()],oe=()=>[e,$e,Fe],K=()=>[...M(),c1,l1,{position:[$e,Fe]}],ce=()=>["no-repeat",{repeat:["","x","y","space","round"]}],be=()=>["auto","cover","contain",SH,yH,{size:[$e,Fe]}],xe=()=>[kb,Kd,Sl],Re=()=>["","none","full",h,$e,Fe],we=()=>["",ht,Kd,Sl],Se=()=>["solid","dashed","dotted","double"],Le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Me=()=>[ht,kb,c1,l1],De=()=>["","none",C,$e,Fe],Ye=()=>["none",ht,$e,Fe],Ze=()=>["none",ht,$e,Fe],St=()=>[ht,$e,Fe],vt=()=>[va,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ao],breakpoint:[Ao],color:[JO],container:[Ao],"drop-shadow":[Ao],ease:["in","out","in-out"],font:[vH],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ao],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ao],shadow:[Ao],spacing:["px",ht],text:[Ao],"text-shadow":[Ao],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",va,Fe,$e,R]}],container:["container"],columns:[{columns:[ht,Fe,$e,c]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:j()}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:$()}],"inset-x":[{"inset-x":$()}],"inset-y":[{"inset-y":$()}],start:[{"inset-s":$(),start:$()}],end:[{"inset-e":$(),end:$()}],"inset-bs":[{"inset-bs":$()}],"inset-be":[{"inset-be":$()}],top:[{top:$()}],right:[{right:$()}],bottom:[{bottom:$()}],left:[{left:$()}],visibility:["visible","invisible","collapse"],z:[{z:[ya,"auto",$e,Fe]}],basis:[{basis:[va,"full","auto",c,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ht,va,"auto","initial","none",Fe]}],grow:[{grow:["",ht,$e,Fe]}],shrink:[{shrink:["",ht,$e,Fe]}],order:[{order:[ya,"first","last","none",$e,Fe]}],"grid-cols":[{"grid-cols":Z()}],"col-start-end":[{col:q()}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":Z()}],"row-start-end":[{row:q()}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ne()}],"auto-rows":[{"auto-rows":ne()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...re(),"normal"]}],"justify-items":[{"justify-items":[...ye(),"normal"]}],"justify-self":[{"justify-self":["auto",...ye()]}],"align-content":[{content:["normal",...re()]}],"align-items":[{items:[...ye(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ye(),{baseline:["","last"]}]}],"place-content":[{"place-content":re()}],"place-items":[{"place-items":[...ye(),"baseline"]}],"place-self":[{"place-self":["auto",...ye()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pbs:[{pbs:I()}],pbe:[{pbe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:G()}],mx:[{mx:G()}],my:[{my:G()}],ms:[{ms:G()}],me:[{me:G()}],mbs:[{mbs:G()}],mbe:[{mbe:G()}],mt:[{mt:G()}],mr:[{mr:G()}],mb:[{mb:G()}],ml:[{ml:G()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],"inline-size":[{inline:["auto",...te()]}],"min-inline-size":[{"min-inline":["auto",...te()]}],"max-inline-size":[{"max-inline":["none",...te()]}],"block-size":[{block:["auto",...he()]}],"min-block-size":[{"min-block":["auto",...he()]}],"max-block-size":[{"max-block":["none",...he()]}],w:[{w:[c,"screen",...W()]}],"min-w":[{"min-w":[c,"screen","none",...W()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...W()]}],h:[{h:["screen","lh",...W()]}],"min-h":[{"min-h":["screen","lh","none",...W()]}],"max-h":[{"max-h":["screen","lh",...W()]}],"font-size":[{text:["base",n,Kd,Sl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,EH,bH]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",kb,Fe]}],"font-family":[{font:[wH,xH,t]}],"font-features":[{"font-features":[Fe]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,$e,Fe]}],"line-clamp":[{"line-clamp":[ht,"none",$e,a1]}],leading:[{leading:[o,...I()]}],"list-image":[{"list-image":["none",$e,Fe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",$e,Fe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:oe()}],"text-color":[{text:oe()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Se(),"wavy"]}],"text-decoration-thickness":[{decoration:[ht,"from-font","auto",$e,Sl]}],"text-decoration-color":[{decoration:oe()}],"underline-offset":[{"underline-offset":[ht,"auto",$e,Fe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e,Fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e,Fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:ce()}],"bg-size":[{bg:be()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ya,$e,Fe],radial:["",$e,Fe],conic:[ya,$e,Fe]},CH,_H]}],"bg-color":[{bg:oe()}],"gradient-from-pos":[{from:xe()}],"gradient-via-pos":[{via:xe()}],"gradient-to-pos":[{to:xe()}],"gradient-from":[{from:oe()}],"gradient-via":[{via:oe()}],"gradient-to":[{to:oe()}],rounded:[{rounded:Re()}],"rounded-s":[{"rounded-s":Re()}],"rounded-e":[{"rounded-e":Re()}],"rounded-t":[{"rounded-t":Re()}],"rounded-r":[{"rounded-r":Re()}],"rounded-b":[{"rounded-b":Re()}],"rounded-l":[{"rounded-l":Re()}],"rounded-ss":[{"rounded-ss":Re()}],"rounded-se":[{"rounded-se":Re()}],"rounded-ee":[{"rounded-ee":Re()}],"rounded-es":[{"rounded-es":Re()}],"rounded-tl":[{"rounded-tl":Re()}],"rounded-tr":[{"rounded-tr":Re()}],"rounded-br":[{"rounded-br":Re()}],"rounded-bl":[{"rounded-bl":Re()}],"border-w":[{border:we()}],"border-w-x":[{"border-x":we()}],"border-w-y":[{"border-y":we()}],"border-w-s":[{"border-s":we()}],"border-w-e":[{"border-e":we()}],"border-w-bs":[{"border-bs":we()}],"border-w-be":[{"border-be":we()}],"border-w-t":[{"border-t":we()}],"border-w-r":[{"border-r":we()}],"border-w-b":[{"border-b":we()}],"border-w-l":[{"border-l":we()}],"divide-x":[{"divide-x":we()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":we()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Se(),"hidden","none"]}],"divide-style":[{divide:[...Se(),"hidden","none"]}],"border-color":[{border:oe()}],"border-color-x":[{"border-x":oe()}],"border-color-y":[{"border-y":oe()}],"border-color-s":[{"border-s":oe()}],"border-color-e":[{"border-e":oe()}],"border-color-bs":[{"border-bs":oe()}],"border-color-be":[{"border-be":oe()}],"border-color-t":[{"border-t":oe()}],"border-color-r":[{"border-r":oe()}],"border-color-b":[{"border-b":oe()}],"border-color-l":[{"border-l":oe()}],"divide-color":[{divide:oe()}],"outline-style":[{outline:[...Se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ht,$e,Fe]}],"outline-w":[{outline:["",ht,Kd,Sl]}],"outline-color":[{outline:oe()}],shadow:[{shadow:["","none",g,Yp,Wp]}],"shadow-color":[{shadow:oe()}],"inset-shadow":[{"inset-shadow":["none",v,Yp,Wp]}],"inset-shadow-color":[{"inset-shadow":oe()}],"ring-w":[{ring:we()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:oe()}],"ring-offset-w":[{"ring-offset":[ht,Sl]}],"ring-offset-color":[{"ring-offset":oe()}],"inset-ring-w":[{"inset-ring":we()}],"inset-ring-color":[{"inset-ring":oe()}],"text-shadow":[{"text-shadow":["none",b,Yp,Wp]}],"text-shadow-color":[{"text-shadow":oe()}],opacity:[{opacity:[ht,$e,Fe]}],"mix-blend":[{"mix-blend":[...Le(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Le()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ht]}],"mask-image-linear-from-pos":[{"mask-linear-from":Me()}],"mask-image-linear-to-pos":[{"mask-linear-to":Me()}],"mask-image-linear-from-color":[{"mask-linear-from":oe()}],"mask-image-linear-to-color":[{"mask-linear-to":oe()}],"mask-image-t-from-pos":[{"mask-t-from":Me()}],"mask-image-t-to-pos":[{"mask-t-to":Me()}],"mask-image-t-from-color":[{"mask-t-from":oe()}],"mask-image-t-to-color":[{"mask-t-to":oe()}],"mask-image-r-from-pos":[{"mask-r-from":Me()}],"mask-image-r-to-pos":[{"mask-r-to":Me()}],"mask-image-r-from-color":[{"mask-r-from":oe()}],"mask-image-r-to-color":[{"mask-r-to":oe()}],"mask-image-b-from-pos":[{"mask-b-from":Me()}],"mask-image-b-to-pos":[{"mask-b-to":Me()}],"mask-image-b-from-color":[{"mask-b-from":oe()}],"mask-image-b-to-color":[{"mask-b-to":oe()}],"mask-image-l-from-pos":[{"mask-l-from":Me()}],"mask-image-l-to-pos":[{"mask-l-to":Me()}],"mask-image-l-from-color":[{"mask-l-from":oe()}],"mask-image-l-to-color":[{"mask-l-to":oe()}],"mask-image-x-from-pos":[{"mask-x-from":Me()}],"mask-image-x-to-pos":[{"mask-x-to":Me()}],"mask-image-x-from-color":[{"mask-x-from":oe()}],"mask-image-x-to-color":[{"mask-x-to":oe()}],"mask-image-y-from-pos":[{"mask-y-from":Me()}],"mask-image-y-to-pos":[{"mask-y-to":Me()}],"mask-image-y-from-color":[{"mask-y-from":oe()}],"mask-image-y-to-color":[{"mask-y-to":oe()}],"mask-image-radial":[{"mask-radial":[$e,Fe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Me()}],"mask-image-radial-to-pos":[{"mask-radial-to":Me()}],"mask-image-radial-from-color":[{"mask-radial-from":oe()}],"mask-image-radial-to-color":[{"mask-radial-to":oe()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":M()}],"mask-image-conic-pos":[{"mask-conic":[ht]}],"mask-image-conic-from-pos":[{"mask-conic-from":Me()}],"mask-image-conic-to-pos":[{"mask-conic-to":Me()}],"mask-image-conic-from-color":[{"mask-conic-from":oe()}],"mask-image-conic-to-color":[{"mask-conic-to":oe()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:ce()}],"mask-size":[{mask:be()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",$e,Fe]}],filter:[{filter:["","none",$e,Fe]}],blur:[{blur:De()}],brightness:[{brightness:[ht,$e,Fe]}],contrast:[{contrast:[ht,$e,Fe]}],"drop-shadow":[{"drop-shadow":["","none",_,Yp,Wp]}],"drop-shadow-color":[{"drop-shadow":oe()}],grayscale:[{grayscale:["",ht,$e,Fe]}],"hue-rotate":[{"hue-rotate":[ht,$e,Fe]}],invert:[{invert:["",ht,$e,Fe]}],saturate:[{saturate:[ht,$e,Fe]}],sepia:[{sepia:["",ht,$e,Fe]}],"backdrop-filter":[{"backdrop-filter":["","none",$e,Fe]}],"backdrop-blur":[{"backdrop-blur":De()}],"backdrop-brightness":[{"backdrop-brightness":[ht,$e,Fe]}],"backdrop-contrast":[{"backdrop-contrast":[ht,$e,Fe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ht,$e,Fe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ht,$e,Fe]}],"backdrop-invert":[{"backdrop-invert":["",ht,$e,Fe]}],"backdrop-opacity":[{"backdrop-opacity":[ht,$e,Fe]}],"backdrop-saturate":[{"backdrop-saturate":[ht,$e,Fe]}],"backdrop-sepia":[{"backdrop-sepia":["",ht,$e,Fe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",$e,Fe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ht,"initial",$e,Fe]}],ease:[{ease:["linear","initial",N,$e,Fe]}],delay:[{delay:[ht,$e,Fe]}],animate:[{animate:["none",k,$e,Fe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,$e,Fe]}],"perspective-origin":[{"perspective-origin":j()}],rotate:[{rotate:Ye()}],"rotate-x":[{"rotate-x":Ye()}],"rotate-y":[{"rotate-y":Ye()}],"rotate-z":[{"rotate-z":Ye()}],scale:[{scale:Ze()}],"scale-x":[{"scale-x":Ze()}],"scale-y":[{"scale-y":Ze()}],"scale-z":[{"scale-z":Ze()}],"scale-3d":["scale-3d"],skew:[{skew:St()}],"skew-x":[{"skew-x":St()}],"skew-y":[{"skew-y":St()}],transform:[{transform:[$e,Fe,"","none","gpu","cpu"]}],"transform-origin":[{origin:j()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:vt()}],"translate-x":[{"translate-x":vt()}],"translate-y":[{"translate-y":vt()}],"translate-z":[{"translate-z":vt()}],"translate-none":["translate-none"],accent:[{accent:oe()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:oe()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e,Fe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mbs":[{"scroll-mbs":I()}],"scroll-mbe":[{"scroll-mbe":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pbs":[{"scroll-pbs":I()}],"scroll-pbe":[{"scroll-pbe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e,Fe]}],fill:[{fill:["none",...oe()]}],"stroke-w":[{stroke:[ht,Kd,Sl,a1]}],stroke:[{stroke:["none",...oe()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","inset-bs","inset-be","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pbs","pbe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mbs","mbe","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-bs","border-w-be","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-bs","border-color-be","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mbs","scroll-mbe","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pbs","scroll-pbe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},RH=oH(TH);function it(...e){return RH(KO(e))}function aP({...e}){return y.jsx(g$,{"data-slot":"dropdown-menu",...e})}function Zp({...e}){return y.jsx(OO,{"data-slot":"dropdown-menu-portal",...e})}function lP({...e}){return y.jsx(v$,{"data-slot":"dropdown-menu-trigger",...e})}function cP({className:e,sideOffset:t=4,...n}){return y.jsx(OO,{children:y.jsx(y$,{"data-slot":"dropdown-menu-content",sideOffset:t,className:it("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function kH({...e}){return y.jsx(b$,{"data-slot":"dropdown-menu-group",...e})}function ms({className:e,inset:t,variant:n="default",...i}){return y.jsx(x$,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:it("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default cursor-pointer items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...i})}function ba({className:e,...t}){return y.jsx(_$,{"data-slot":"dropdown-menu-separator",className:it("bg-border -mx-1 my-1 h-px",e),...t})}function Xp({...e}){return y.jsx(w$,{"data-slot":"dropdown-menu-sub",...e})}function Qp({className:e,inset:t,children:n,...i}){return y.jsxs(S$,{"data-slot":"dropdown-menu-sub-trigger","data-inset":t,className:it("focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8",e),...i,children:[n,y.jsx(Du,{className:"ml-auto size-4"})]})}function Jp({className:e,...t}){return y.jsx(C$,{"data-slot":"dropdown-menu-sub-content",className:it("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg",e),...t})}const st=e=>typeof e=="string",qd=()=>{let e,t;const n=new Promise((i,s)=>{e=i,t=s});return n.resolve=e,n.reject=t,n},u1=e=>e==null?"":""+e,NH=(e,t,n)=>{e.forEach(i=>{t[i]&&(n[i]=t[i])})},OH=/###/g,d1=e=>e&&e.indexOf("###")>-1?e.replace(OH,"."):e,f1=e=>!e||st(e),of=(e,t,n)=>{const i=st(t)?t.split("."):t;let s=0;for(;s<i.length-1;){if(f1(e))return{};const o=d1(i[s]);!e[o]&&n&&(e[o]=new n),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={},++s}return f1(e)?{}:{obj:e,k:d1(i[s])}},h1=(e,t,n)=>{const{obj:i,k:s}=of(e,t,Object);if(i!==void 0||t.length===1){i[s]=n;return}let o=t[t.length-1],l=t.slice(0,t.length-1),c=of(e,l,Object);for(;c.obj===void 0&&l.length;)o=`${l[l.length-1]}.${o}`,l=l.slice(0,l.length-1),c=of(e,l,Object),c?.obj&&typeof c.obj[`${c.k}.${o}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${o}`]=n},PH=(e,t,n,i)=>{const{obj:s,k:o}=of(e,t,Object);s[o]=s[o]||[],s[o].push(n)},Jm=(e,t)=>{const{obj:n,k:i}=of(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,i))return n[i]},MH=(e,t,n)=>{const i=Jm(e,n);return i!==void 0?i:Jm(t,n)},uP=(e,t,n)=>{for(const i in t)i!=="__proto__"&&i!=="constructor"&&(i in e?st(e[i])||e[i]instanceof String||st(t[i])||t[i]instanceof String?n&&(e[i]=t[i]):uP(e[i],t[i],n):e[i]=t[i]);return e},Cl=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var DH={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const LH=e=>st(e)?e.replace(/[&<>"'\/]/g,t=>DH[t]):e;class jH{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const i=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,i),this.regExpQueue.push(t),i}}const IH=[" ",",","?","!",";"],zH=new jH(20),BH=(e,t,n)=>{t=t||"",n=n||"";const i=IH.filter(l=>t.indexOf(l)<0&&n.indexOf(l)<0);if(i.length===0)return!0;const s=zH.getRegExp(`(${i.map(l=>l==="?"?"\\?":l).join("|")})`);let o=!s.test(e);if(!o){const l=e.indexOf(n);l>0&&!s.test(e.substring(0,l))&&(o=!0)}return o},Ox=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const i=t.split(n);let s=e;for(let o=0;o<i.length;){if(!s||typeof s!="object")return;let l,c="";for(let d=o;d<i.length;++d)if(d!==o&&(c+=n),c+=i[d],l=s[c],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&d<i.length-1)continue;o+=d-o+1;break}s=l}return s},Cf=e=>e?.replace("_","-"),UH={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class eg{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||UH,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,i,s){return s&&!this.debug?null:(st(t[0])&&(t[0]=`${i}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new eg(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new eg(this.logger,t)}}var Hr=new eg;class Bg{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const s=this.observers[i].get(n)||0;this.observers[i].set(n,s+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([s,o])=>{for(let l=0;l<o;l++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,o])=>{for(let l=0;l<o;l++)s.apply(s,[t,...n])})}}class p1 extends Bg{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,i,s={}){const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;t.indexOf(".")>-1?c=t.split("."):(c=[t,n],i&&(Array.isArray(i)?c.push(...i):st(i)&&o?c.push(...i.split(o)):c.push(i)));const d=Jm(this.data,c);return!d&&!n&&!i&&t.indexOf(".")>-1&&(t=c[0],n=c[1],i=c.slice(2).join(".")),d||!l||!st(i)?d:Ox(this.data?.[t]?.[n],i,o)}addResource(t,n,i,s,o={silent:!1}){const l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let c=[t,n];i&&(c=c.concat(l?i.split(l):i)),t.indexOf(".")>-1&&(c=t.split("."),s=n,n=c[1]),this.addNamespaces(n),h1(this.data,c,s),o.silent||this.emit("added",t,n,i,s)}addResources(t,n,i,s={silent:!1}){for(const o in i)(st(i[o])||Array.isArray(i[o]))&&this.addResource(t,n,o,i[o],{silent:!0});s.silent||this.emit("added",t,n,i)}addResourceBundle(t,n,i,s,o,l={silent:!1,skipCopy:!1}){let c=[t,n];t.indexOf(".")>-1&&(c=t.split("."),s=i,i=n,n=c[1]),this.addNamespaces(n);let d=Jm(this.data,c)||{};l.skipCopy||(i=JSON.parse(JSON.stringify(i))),s?uP(d,i,o):d={...d,...i},h1(this.data,c,d),l.silent||this.emit("added",t,n,i)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var dP={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,i,s){return e.forEach(o=>{t=this.processors[o]?.process(t,n,i,s)??t}),t}};const fP=Symbol("i18next/PATH_KEY");function FH(){const e=[],t=Object.create(null);let n;return t.get=(i,s)=>(n?.revoke?.(),s===fP?e:(e.push(s),n=Proxy.revocable(i,t),n.proxy)),Proxy.revocable(Object.create(null),t).proxy}function Px(e,t){const{[fP]:n}=e(FH());return n.join(t?.keySeparator??".")}const m1={},Nb=e=>!st(e)&&typeof e!="boolean"&&typeof e!="number";class tg extends Bg{constructor(t,n={}){super(),NH(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Hr.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const i={...n};if(t==null)return!1;const s=this.resolve(t,i);if(s?.res===void 0)return!1;const o=Nb(s.res);return!(i.returnObjects===!1&&o)}extractFromKey(t,n){let i=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const l=i&&t.indexOf(i)>-1,c=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!BH(t,i,s);if(l&&!c){const d=t.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:t,namespaces:st(o)?[o]:o};const h=t.split(i);(i!==s||i===s&&this.options.ns.indexOf(h[0])>-1)&&(o=h.shift()),t=h.join(s)}return{key:t,namespaces:st(o)?[o]:o}}translate(t,n,i){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),t==null)return"";typeof t=="function"&&(t=Px(t,{...this.options,...s})),Array.isArray(t)||(t=[String(t)]);const o=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:c,namespaces:d}=this.extractFromKey(t[t.length-1],s),h=d[d.length-1];let g=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;g===void 0&&(g=":");const v=s.lng||this.language,b=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v?.toLowerCase()==="cimode")return b?o?{res:`${h}${g}${c}`,usedKey:c,exactUsedKey:c,usedLng:v,usedNS:h,usedParams:this.getUsedParamsDetails(s)}:`${h}${g}${c}`:o?{res:c,usedKey:c,exactUsedKey:c,usedLng:v,usedNS:h,usedParams:this.getUsedParamsDetails(s)}:c;const _=this.resolve(t,s);let C=_?.res;const E=_?.usedKey||c,R=_?.exactUsedKey||c,N=["[object Number]","[object Function]","[object RegExp]"],k=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,O=!this.i18nFormat||this.i18nFormat.handleAsObject,M=s.count!==void 0&&!st(s.count),j=tg.hasDefaultValue(s),U=M?this.pluralResolver.getSuffix(v,s.count,s):"",z=s.ordinal&&M?this.pluralResolver.getSuffix(v,s.count,{ordinal:!1}):"",I=M&&!s.ordinal&&s.count===0,$=I&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${U}`]||s[`defaultValue${z}`]||s.defaultValue;let Z=C;O&&!C&&j&&(Z=$);const q=Nb(Z),X=Object.prototype.toString.apply(Z);if(O&&Z&&q&&N.indexOf(X)<0&&!(st(k)&&Array.isArray(Z))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ne=this.options.returnedObjectHandler?this.options.returnedObjectHandler(E,Z,{...s,ns:d}):`key '${c} (${this.language})' returned an object instead of string.`;return o?(_.res=ne,_.usedParams=this.getUsedParamsDetails(s),_):ne}if(l){const ne=Array.isArray(Z),re=ne?[]:{},ye=ne?R:E;for(const G in Z)if(Object.prototype.hasOwnProperty.call(Z,G)){const W=`${ye}${l}${G}`;j&&!C?re[G]=this.translate(W,{...s,defaultValue:Nb($)?$[G]:void 0,joinArrays:!1,ns:d}):re[G]=this.translate(W,{...s,joinArrays:!1,ns:d}),re[G]===W&&(re[G]=Z[G])}C=re}}else if(O&&st(k)&&Array.isArray(C))C=C.join(k),C&&(C=this.extendTranslation(C,t,s,i));else{let ne=!1,re=!1;!this.isValidLookup(C)&&j&&(ne=!0,C=$),this.isValidLookup(C)||(re=!0,C=c);const G=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&re?void 0:C,W=j&&$!==C&&this.options.updateMissing;if(re||ne||W){if(this.logger.log(W?"updateKey":"missingKey",v,h,c,W?$:C),l){const K=this.resolve(c,{...s,keySeparator:!1});K&&K.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let te=[];const he=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&he&&he[0])for(let K=0;K<he.length;K++)te.push(he[K]);else this.options.saveMissingTo==="all"?te=this.languageUtils.toResolveHierarchy(s.lng||this.language):te.push(s.lng||this.language);const oe=(K,ce,be)=>{const xe=j&&be!==C?be:G;this.options.missingKeyHandler?this.options.missingKeyHandler(K,h,ce,xe,W,s):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(K,h,ce,xe,W,s),this.emit("missingKey",K,h,ce,C)};this.options.saveMissing&&(this.options.saveMissingPlurals&&M?te.forEach(K=>{const ce=this.pluralResolver.getSuffixes(K,s);I&&s[`defaultValue${this.options.pluralSeparator}zero`]&&ce.indexOf(`${this.options.pluralSeparator}zero`)<0&&ce.push(`${this.options.pluralSeparator}zero`),ce.forEach(be=>{oe([K],c+be,s[`defaultValue${be}`]||$)})}):oe(te,c,$))}C=this.extendTranslation(C,t,s,_,i),re&&C===c&&this.options.appendNamespaceToMissingKey&&(C=`${h}${g}${c}`),(re||ne)&&this.options.parseMissingKeyHandler&&(C=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${g}${c}`:c,ne?C:void 0,s))}return o?(_.res=C,_.usedParams=this.getUsedParamsDetails(s),_):C}extendTranslation(t,n,i,s,o){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const d=st(t)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(d){const v=t.match(this.interpolator.nestingRegexp);h=v&&v.length}let g=i.replace&&!st(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(g={...this.options.interpolation.defaultVariables,...g}),t=this.interpolator.interpolate(t,g,i.lng||this.language||s.usedLng,i),d){const v=t.match(this.interpolator.nestingRegexp),b=v&&v.length;h<b&&(i.nest=!1)}!i.lng&&s&&s.res&&(i.lng=this.language||s.usedLng),i.nest!==!1&&(t=this.interpolator.nest(t,(...v)=>o?.[0]===v[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${n[0]}`),null):this.translate(...v,n),i)),i.interpolation&&this.interpolator.reset()}const l=i.postProcess||this.options.postProcess,c=st(l)?[l]:l;return t!=null&&c?.length&&i.applyPostProcessor!==!1&&(t=dP.handle(c,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),t}resolve(t,n={}){let i,s,o,l,c;return st(t)&&(t=[t]),t.forEach(d=>{if(this.isValidLookup(i))return;const h=this.extractFromKey(d,n),g=h.key;s=g;let v=h.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const b=n.count!==void 0&&!st(n.count),_=b&&!n.ordinal&&n.count===0,C=n.context!==void 0&&(st(n.context)||typeof n.context=="number")&&n.context!=="",E=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);v.forEach(R=>{this.isValidLookup(i)||(c=R,!m1[`${E[0]}-${R}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(c)&&(m1[`${E[0]}-${R}`]=!0,this.logger.warn(`key "${s}" for languages "${E.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),E.forEach(N=>{if(this.isValidLookup(i))return;l=N;const k=[g];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(k,g,N,R,n);else{let M;b&&(M=this.pluralResolver.getSuffix(N,n.count,n));const j=`${this.options.pluralSeparator}zero`,U=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(b&&(n.ordinal&&M.indexOf(U)===0&&k.push(g+M.replace(U,this.options.pluralSeparator)),k.push(g+M),_&&k.push(g+j)),C){const z=`${g}${this.options.contextSeparator||"_"}${n.context}`;k.push(z),b&&(n.ordinal&&M.indexOf(U)===0&&k.push(z+M.replace(U,this.options.pluralSeparator)),k.push(z+M),_&&k.push(z+j))}}let O;for(;O=k.pop();)this.isValidLookup(i)||(o=O,i=this.getResource(N,R,O,n))}))})}),{res:i,usedKey:s,exactUsedKey:o,usedLng:l,usedNS:c}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,i,s={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,n,i,s):this.resourceStore.getResource(t,n,i,s)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=t.replace&&!st(t.replace);let s=i?t.replace:t;if(i&&typeof t.count<"u"&&(s.count=t.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!i){s={...s};for(const o of n)delete s[o]}return s}static hasDefaultValue(t){const n="defaultValue";for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&n===i.substring(0,n.length)&&t[i]!==void 0)return!0;return!1}}class g1{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Hr.create("languageUtils")}getScriptPartFromCode(t){if(t=Cf(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=Cf(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(st(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(i=>{if(n)return;const s=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&t.forEach(i=>{if(n)return;const s=this.getScriptPartFromCode(i);if(this.isSupportedCode(s))return n=s;const o=this.getLanguagePartFromCode(i);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(l=>{if(l===o)return l;if(!(l.indexOf("-")<0&&o.indexOf("-")<0)&&(l.indexOf("-")>0&&o.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===o||l.indexOf(o)===0&&o.length>1))return l})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),st(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let i=t[n];return i||(i=t[this.getScriptPartFromCode(n)]),i||(i=t[this.formatLanguageCode(n)]),i||(i=t[this.getLanguagePartFromCode(n)]),i||(i=t.default),i||[]}toResolveHierarchy(t,n){const i=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),s=[],o=l=>{l&&(this.isSupportedCode(l)?s.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return st(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):st(t)&&o(this.formatLanguageCode(t)),i.forEach(l=>{s.indexOf(l)<0&&o(this.formatLanguageCode(l))}),s}}const v1={zero:0,one:1,two:2,few:3,many:4,other:5},y1={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class VH{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=Hr.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const i=Cf(t==="dev"?"en":t),s=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:i,type:s});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let l;try{l=new Intl.PluralRules(i,{type:s})}catch{if(typeof Intl>"u")return this.logger.error("No Intl support, please use an Intl polyfill!"),y1;if(!t.match(/-|_/))return y1;const d=this.languageUtils.getLanguagePartFromCode(t);l=this.getRule(d,n)}return this.pluralRulesCache[o]=l,l}needsPlural(t,n={}){let i=this.getRule(t,n);return i||(i=this.getRule("dev",n)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,n,i={}){return this.getSuffixes(t,i).map(s=>`${n}${s}`)}getSuffixes(t,n={}){let i=this.getRule(t,n);return i||(i=this.getRule("dev",n)),i?i.resolvedOptions().pluralCategories.sort((s,o)=>v1[s]-v1[o]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(t,n,i={}){const s=this.getRule(t,i);return s?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,i))}}const b1=(e,t,n,i=".",s=!0)=>{let o=MH(e,t,n);return!o&&s&&st(n)&&(o=Ox(e,n,i),o===void 0&&(o=Ox(t,n,i))),o},Ob=e=>e.replace(/\$/g,"$$$$");class x1{constructor(t={}){this.logger=Hr.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:i,useRawValueToEscape:s,prefix:o,prefixEscaped:l,suffix:c,suffixEscaped:d,formatSeparator:h,unescapeSuffix:g,unescapePrefix:v,nestingPrefix:b,nestingPrefixEscaped:_,nestingSuffix:C,nestingSuffixEscaped:E,nestingOptionsSeparator:R,maxReplaces:N,alwaysFormat:k}=t.interpolation;this.escape=n!==void 0?n:LH,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=o?Cl(o):l||"{{",this.suffix=c?Cl(c):d||"}}",this.formatSeparator=h||",",this.unescapePrefix=g?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":g||"",this.nestingPrefix=b?Cl(b):_||Cl("$t("),this.nestingSuffix=C?Cl(C):E||Cl(")"),this.nestingOptionsSeparator=R||",",this.maxReplaces=N||1e3,this.alwaysFormat=k!==void 0?k:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,i)=>n?.source===i?(n.lastIndex=0,n):new RegExp(i,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,i,s){let o,l,c;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=_=>{if(_.indexOf(this.formatSeparator)<0){const N=b1(n,d,_,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(N,void 0,i,{...s,...n,interpolationkey:_}):N}const C=_.split(this.formatSeparator),E=C.shift().trim(),R=C.join(this.formatSeparator).trim();return this.format(b1(n,d,E,this.options.keySeparator,this.options.ignoreJSONStructure),R,i,{...s,...n,interpolationkey:E})};this.resetRegExp();const g=s?.missingInterpolationHandler||this.options.missingInterpolationHandler,v=s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:_=>Ob(_)},{regex:this.regexp,safeValue:_=>this.escapeValue?Ob(this.escape(_)):Ob(_)}].forEach(_=>{for(c=0;o=_.regex.exec(t);){const C=o[1].trim();if(l=h(C),l===void 0)if(typeof g=="function"){const R=g(t,o,s);l=st(R)?R:""}else if(s&&Object.prototype.hasOwnProperty.call(s,C))l="";else if(v){l=o[0];continue}else this.logger.warn(`missed to pass in variable ${C} for interpolating ${t}`),l="";else!st(l)&&!this.useRawValueToEscape&&(l=u1(l));const E=_.safeValue(l);if(t=t.replace(o[0],E),v?(_.regex.lastIndex+=l.length,_.regex.lastIndex-=o[0].length):_.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),t}nest(t,n,i={}){let s,o,l;const c=(d,h)=>{const g=this.nestingOptionsSeparator;if(d.indexOf(g)<0)return d;const v=d.split(new RegExp(`${Cl(g)}[ ]*{`));let b=`{${v[1]}`;d=v[0],b=this.interpolate(b,l);const _=b.match(/'/g),C=b.match(/"/g);((_?.length??0)%2===0&&!C||(C?.length??0)%2!==0)&&(b=b.replace(/'/g,'"'));try{l=JSON.parse(b),h&&(l={...h,...l})}catch(E){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,E),`${d}${g}${b}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,d};for(;s=this.nestingRegexp.exec(t);){let d=[];l={...i},l=l.replace&&!st(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const h=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(h!==-1&&(d=s[1].slice(h).split(this.formatSeparator).map(g=>g.trim()).filter(Boolean),s[1]=s[1].slice(0,h)),o=n(c.call(this,s[1].trim(),l),l),o&&s[0]===t&&!st(o))return o;st(o)||(o=u1(o)),o||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${t}`),o=""),d.length&&(o=d.reduce((g,v)=>this.format(g,v,i.lng,{...i,interpolationkey:s[1].trim()}),o.trim())),t=t.replace(s[0],o),this.regexp.lastIndex=0}return t}}const $H=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const i=e.split("(");t=i[0].toLowerCase().trim();const s=i[1].substring(0,i[1].length-1);t==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):t==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(l=>{if(l){const[c,...d]=l.split(":"),h=d.join(":").trim().replace(/^'+|'+$/g,""),g=c.trim();n[g]||(n[g]=h),h==="false"&&(n[g]=!1),h==="true"&&(n[g]=!0),isNaN(h)||(n[g]=parseInt(h,10))}})}return{formatName:t,formatOptions:n}},_1=e=>{const t={};return(n,i,s)=>{let o=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(o={...o,[s.interpolationkey]:void 0});const l=i+JSON.stringify(o);let c=t[l];return c||(c=e(Cf(i),s),t[l]=c),c(n)}},HH=e=>(t,n,i)=>e(Cf(n),i)(t);class GH{constructor(t={}){this.logger=Hr.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const i=n.cacheInBuiltFormats?_1:HH;this.formats={number:i((s,o)=>{const l=new Intl.NumberFormat(s,{...o});return c=>l.format(c)}),currency:i((s,o)=>{const l=new Intl.NumberFormat(s,{...o,style:"currency"});return c=>l.format(c)}),datetime:i((s,o)=>{const l=new Intl.DateTimeFormat(s,{...o});return c=>l.format(c)}),relativetime:i((s,o)=>{const l=new Intl.RelativeTimeFormat(s,{...o});return c=>l.format(c,o.range||"day")}),list:i((s,o)=>{const l=new Intl.ListFormat(s,{...o});return c=>l.format(c)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=_1(n)}format(t,n,i,s={}){const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(c=>c.indexOf(")")>-1)){const c=o.findIndex(d=>d.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,c)].join(this.formatSeparator)}return o.reduce((c,d)=>{const{formatName:h,formatOptions:g}=$H(d);if(this.formats[h]){let v=c;try{const b=s?.formatParams?.[s.interpolationkey]||{},_=b.locale||b.lng||s.locale||s.lng||i;v=this.formats[h](c,_,{...g,...s,...b})}catch(b){this.logger.warn(b)}return v}else this.logger.warn(`there was no format function for ${h}`);return c},t)}}const KH=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class qH extends Bg{constructor(t,n,i,s={}){super(),this.backend=t,this.store=n,this.services=i,this.languageUtils=i.languageUtils,this.options=s,this.logger=Hr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,s.backend,s)}queueLoad(t,n,i,s){const o={},l={},c={},d={};return t.forEach(h=>{let g=!0;n.forEach(v=>{const b=`${h}|${v}`;!i.reload&&this.store.hasResourceBundle(h,v)?this.state[b]=2:this.state[b]<0||(this.state[b]===1?l[b]===void 0&&(l[b]=!0):(this.state[b]=1,g=!1,l[b]===void 0&&(l[b]=!0),o[b]===void 0&&(o[b]=!0),d[v]===void 0&&(d[v]=!0)))}),g||(c[h]=!0)}),(Object.keys(o).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(o),pending:Object.keys(l),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(d)}}loaded(t,n,i){const s=t.split("|"),o=s[0],l=s[1];n&&this.emit("failedLoading",o,l,n),!n&&i&&this.store.addResourceBundle(o,l,i,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&i&&(this.state[t]=0);const c={};this.queue.forEach(d=>{PH(d.loaded,[o],l),KH(d,t),n&&d.errors.push(n),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(h=>{c[h]||(c[h]={});const g=d.loaded[h];g.length&&g.forEach(v=>{c[h][v]===void 0&&(c[h][v]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(d=>!d.done)}read(t,n,i,s=0,o=this.retryTimeout,l){if(!t.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:i,tried:s,wait:o,callback:l});return}this.readingCalls++;const c=(h,g)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(h&&g&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,i,s+1,o*2,l)},o);return}l(h,g)},d=this.backend[i].bind(this.backend);if(d.length===2){try{const h=d(t,n);h&&typeof h.then=="function"?h.then(g=>c(null,g)).catch(c):c(null,h)}catch(h){c(h)}return}return d(t,n,c)}prepareLoading(t,n,i={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();st(t)&&(t=this.languageUtils.toResolveHierarchy(t)),st(n)&&(n=[n]);const o=this.queueLoad(t,n,i,s);if(!o.toLoad.length)return o.pending.length||s(),null;o.toLoad.forEach(l=>{this.loadOne(l)})}load(t,n,i){this.prepareLoading(t,n,{},i)}reload(t,n,i){this.prepareLoading(t,n,{reload:!0},i)}loadOne(t,n=""){const i=t.split("|"),s=i[0],o=i[1];this.read(s,o,"read",void 0,void 0,(l,c)=>{l&&this.logger.warn(`${n}loading namespace ${o} for language ${s} failed`,l),!l&&c&&this.logger.log(`${n}loaded namespace ${o} for language ${s}`,c),this.loaded(t,l,c)})}saveMissing(t,n,i,s,o,l={},c=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${i}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){const d={...l,isUpdate:o},h=this.backend.create.bind(this.backend);if(h.length<6)try{let g;h.length===5?g=h(t,n,i,s,d):g=h(t,n,i,s),g&&typeof g.then=="function"?g.then(v=>c(null,v)).catch(c):c(null,g)}catch(g){c(g)}else h(t,n,i,s,c,d)}!t||!t[0]||this.store.addResource(t[0],n,i,s)}}}const Pb=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),st(e[1])&&(t.defaultValue=e[1]),st(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(i=>{t[i]=n[i]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),w1=e=>(st(e.ns)&&(e.ns=[e.ns]),st(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),st(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),em=()=>{},WH=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})},hP="__i18next_supportNoticeShown",YH=()=>typeof globalThis<"u"&&!!globalThis[hP],ZH=()=>{typeof globalThis<"u"&&(globalThis[hP]=!0)},XH=e=>!!(e?.modules?.backend?.name?.indexOf("Locize")>0||e?.modules?.backend?.constructor?.name?.indexOf("Locize")>0||e?.options?.backend?.backends&&e.options.backend.backends.some(t=>t?.name?.indexOf("Locize")>0||t?.constructor?.name?.indexOf("Locize")>0)||e?.options?.backend?.projectId||e?.options?.backend?.backendOptions&&e.options.backend.backendOptions.some(t=>t?.projectId));class af extends Bg{constructor(t={},n){if(super(),this.options=w1(t),this.services={},this.logger=Hr,this.modules={external:[]},WH(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(st(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const i=Pb();this.options={...i,...this.options,...w1(t)},this.options.interpolation={...i.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=i.overloadTranslationOptionHandler),this.options.showSupportNotice!==!1&&!XH(this)&&!YH()&&(typeof console<"u"&&typeof console.info<"u"&&console.info(" i18next is maintained with support from Locize  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com "),ZH());const s=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?Hr.init(s(this.modules.logger),this.options):Hr.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=GH;const g=new g1(this.options);this.store=new p1(this.options.resources,this.options);const v=this.services;v.logger=Hr,v.resourceStore=this.store,v.languageUtils=g,v.pluralResolver=new VH(g,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(v.formatter=s(h),v.formatter.init&&v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new x1(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new qH(s(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(_,...C)=>{this.emit(_,...C)}),this.modules.languageDetector&&(v.languageDetector=s(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=s(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new tg(this.services,this.options),this.translator.on("*",(_,...C)=>{this.emit(_,...C)}),this.modules.external.forEach(_=>{_.init&&_.init(this)})}if(this.format=this.options.interpolation.format,n||(n=em),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...g)=>this.store[h](...g)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...g)=>(this.store[h](...g),this)});const c=qd(),d=()=>{const h=(g,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(v),n(g,v)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),c}loadResources(t,n=em){let i=n;const s=st(t)?t:this.language;if(typeof t=="function"&&(i=t),!this.options.resources||this.options.partialBundledLanguages){if(s?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const o=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(h=>{h!=="cimode"&&o.indexOf(h)<0&&o.push(h)})};s?l(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),this.options.preload?.forEach?.(c=>l(c)),this.services.backendConnector.load(o,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(c)})}else i(null)}reloadResources(t,n,i){const s=qd();return typeof t=="function"&&(i=t,t=void 0),typeof n=="function"&&(i=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),i||(i=em),this.services.backendConnector.reload(t,n,o=>{s.resolve(),i(o)}),s}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&dP.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const i=this.languages[n];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const i=qd();this.emit("languageChanging",t);const s=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,d)=>{d?this.isLanguageChangingTo===t&&(s(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,i.resolve((...h)=>this.t(...h)),n&&n(c,(...h)=>this.t(...h))},l=c=>{!t&&!c&&this.services.languageDetector&&(c=[]);const d=st(c)?c:c&&c[0],h=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(st(c)?[c]:c);h&&(this.language||s(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector?.cacheUserLanguage?.(h)),this.loadResources(h,g=>{o(g,h)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(t),i}getFixedT(t,n,i){const s=(o,l,...c)=>{let d;typeof l!="object"?d=this.options.overloadTranslationOptionHandler([o,l].concat(c)):d={...l},d.lng=d.lng||s.lng,d.lngs=d.lngs||s.lngs,d.ns=d.ns||s.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||i||s.keyPrefix);const h=this.options.keySeparator||".";let g;return d.keyPrefix&&Array.isArray(o)?g=o.map(v=>(typeof v=="function"&&(v=Px(v,{...this.options,...l})),`${d.keyPrefix}${h}${v}`)):(typeof o=="function"&&(o=Px(o,{...this.options,...l})),g=d.keyPrefix?`${d.keyPrefix}${h}${o}`:o),this.t(g,d)};return st(t)?s.lng=t:s.lngs=t,s.ns=n,s.keyPrefix=i,s}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const l=(c,d)=>{const h=this.services.backendConnector.state[`${c}|${d}`];return h===-1||h===0||h===2};if(n.precheck){const c=n.precheck(this,l);if(c!==void 0)return c}return!!(this.hasResourceBundle(i,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(i,t)&&(!s||l(o,t)))}loadNamespaces(t,n){const i=qd();return this.options.ns?(st(t)&&(t=[t]),t.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{i.resolve(),n&&n(s)}),i):(n&&n(),Promise.resolve())}loadLanguages(t,n){const i=qd();st(t)&&(t=[t]);const s=this.options.preload||[],o=t.filter(l=>s.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return o.length?(this.options.preload=s.concat(o),this.loadResources(l=>{i.resolve(),n&&n(l)}),i):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const s=new Intl.Locale(t);if(s&&s.getTextInfo){const o=s.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new g1(Pb());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(i.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){const i=new af(t,n);return i.createInstance=af.createInstance,i}cloneInstance(t={},n=em){const i=t.forkResourceStore;i&&delete t.forkResourceStore;const s={...this.options,...t,isClone:!0},o=new af(s);if((t.debug!==void 0||t.prefix!==void 0)&&(o.logger=o.logger.clone(t)),["store","services","language"].forEach(c=>{o[c]=this[c]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},i){const c=Object.keys(this.store.data).reduce((d,h)=>(d[h]={...this.store.data[h]},d[h]=Object.keys(d[h]).reduce((g,v)=>(g[v]={...d[h][v]},g),d[h]),d),{});o.store=new p1(c,s),o.services.resourceStore=o.store}if(t.interpolation){const d={...Pb().interpolation,...this.options.interpolation,...t.interpolation},h={...s,interpolation:d};o.services.interpolator=new x1(h)}return o.translator=new tg(o.services,s),o.translator.on("*",(c,...d)=>{o.emit(c,...d)}),o.init(s,n),o.translator.options=s,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Qt=af.createInstance();Qt.createInstance;Qt.dir;Qt.init;Qt.loadResources;Qt.reloadResources;Qt.use;Qt.changeLanguage;Qt.getFixedT;Qt.t;Qt.exists;Qt.setDefaultNamespace;Qt.hasLoadedNamespace;Qt.loadNamespaces;Qt.loadLanguages;const QH=(e,t,n,i)=>{const s=[n,{code:t,...i||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(s,"warn","react-i18next::",!0);Kl(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...s):console?.warn&&console.warn(...s)},S1={},pP=(e,t,n,i)=>{Kl(n)&&S1[n]||(Kl(n)&&(S1[n]=new Date),QH(e,t,n,i))},mP=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},Mx=(e,t,n)=>{e.loadNamespaces(t,mP(e,n))},C1=(e,t,n,i)=>{if(Kl(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return Mx(e,n,i);n.forEach(s=>{e.options.ns.indexOf(s)<0&&e.options.ns.push(s)}),e.loadLanguages(t,mP(e,i))},JH=(e,t,n={})=>!t.languages||!t.languages.length?(pP(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(i,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!s(i.isLanguageChangingTo,e))return!1}}),Kl=e=>typeof e=="string",e8=e=>typeof e=="object"&&e!==null,t8=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,n8={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},i8=e=>n8[e],s8=e=>e.replace(t8,i8);let Dx={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:s8,transDefaultProps:void 0};const r8=(e={})=>{Dx={...Dx,...e}},o8=()=>Dx;let gP;const a8=e=>{gP=e},l8=()=>gP,c8={type:"3rdParty",init(e){r8(e.options.react),a8(e)}},u8=x.createContext();class d8{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var vP=Wk();const f8=(e,t)=>Kl(t)?t:e8(t)&&Kl(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,h8={t:f8,ready:!1},p8=()=>()=>{},Mt=(e,t={})=>{const{i18n:n}=t,{i18n:i,defaultNS:s}=x.useContext(u8)||{},o=n||i||l8();o&&!o.reportNamespaces&&(o.reportNamespaces=new d8),o||pP(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const l=x.useMemo(()=>({...o8(),...o?.options?.react,...t}),[o,t]),{useSuspense:c,keyPrefix:d}=l,h=s||o?.options?.defaultNS,g=Kl(h)?[h]:h||["translation"],v=x.useMemo(()=>g,g);o?.reportNamespaces?.addUsedNamespaces?.(v);const b=x.useRef(0),_=x.useCallback($=>{if(!o)return p8;const{bindI18n:Z,bindI18nStore:q}=l,X=()=>{b.current+=1,$()};return Z&&o.on(Z,X),q&&o.store.on(q,X),()=>{Z&&Z.split(" ").forEach(ne=>o.off(ne,X)),q&&q.split(" ").forEach(ne=>o.store.off(ne,X))}},[o,l]),C=x.useRef(),E=x.useCallback(()=>{if(!o)return h8;const $=!!(o.isInitialized||o.initializedStoreOnce)&&v.every(ye=>JH(ye,o,l)),Z=t.lng||o.language,q=b.current,X=C.current;if(X&&X.ready===$&&X.lng===Z&&X.keyPrefix===d&&X.revision===q)return X;const re={t:o.getFixedT(Z,l.nsMode==="fallback"?v:v[0],d),ready:$,lng:Z,keyPrefix:d,revision:q};return C.current=re,re},[o,v,d,l,t.lng]),[R,N]=x.useState(0),{t:k,ready:O}=vP.useSyncExternalStore(_,E,E);x.useEffect(()=>{if(o&&!O&&!c){const $=()=>N(Z=>Z+1);t.lng?C1(o,t.lng,v,$):Mx(o,v,$)}},[o,t.lng,v,O,c,R]);const M=o||{},j=x.useRef(null),U=x.useRef(),z=$=>{const Z=Object.getOwnPropertyDescriptors($);Z.__original&&delete Z.__original;const q=Object.create(Object.getPrototypeOf($),Z);if(!Object.prototype.hasOwnProperty.call(q,"__original"))try{Object.defineProperty(q,"__original",{value:$,writable:!1,enumerable:!1,configurable:!1})}catch{}return q},I=x.useMemo(()=>{const $=M,Z=$?.language;let q=$;$&&(j.current&&j.current.__original===$?U.current!==Z?(q=z($),j.current=q,U.current=Z):q=j.current:(q=z($),j.current=q,U.current=Z));const X=[k,q,O];return X.t=k,X.i18n=q,X.ready=O,X},[k,M,O,M.resolvedLanguage,M.language,M.languages]);if(o&&c&&!O)throw new Promise($=>{const Z=()=>$();t.lng?C1(o,t.lng,v,Z):Mx(o,v,Z)});return I},yP=x.createContext(null),E1="theme-preference",m8=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",A1=e=>{const t=document.documentElement,n=e==="system"?m8():e;t.classList.remove("light","dark"),t.classList.add(n)},g8=({children:e})=>{const[t,n]=x.useState(()=>localStorage.getItem(E1)||"system");x.useEffect(()=>{if(A1(t),t==="system"){const s=window.matchMedia("(prefers-color-scheme: dark)"),o=()=>A1("system");return s.addEventListener("change",o),()=>s.removeEventListener("change",o)}},[t]);const i=s=>{n(s),localStorage.setItem(E1,s)};return y.jsx(yP.Provider,{value:{theme:t,changeTheme:i},children:e})},nh=()=>{const e=x.useContext(yP);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},{slice:v8,forEach:y8}=[];function b8(e){return y8.call(v8.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}function x8(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(e))}const T1=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,_8=function(e,t){const i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(t);let o=`${e}=${s}`;if(i.maxAge>0){const l=i.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(l)}`}if(i.domain){if(!T1.test(i.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${i.domain}`}if(i.path){if(!T1.test(i.path))throw new TypeError("option path is invalid");o+=`; Path=${i.path}`}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${i.expires.toUTCString()}`}if(i.httpOnly&&(o+="; HttpOnly"),i.secure&&(o+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i.partitioned&&(o+="; Partitioned"),o},R1={create(e,t,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+n*60*1e3)),i&&(s.domain=i),document.cookie=_8(e,t,s)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let i=0;i<n.length;i++){let s=n[i];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(t)===0)return s.substring(t.length,s.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var w8={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return R1.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:i,cookieDomain:s,cookieOptions:o}=t;n&&typeof document<"u"&&R1.create(n,e,i,s,o)}},S8={name:"querystring",lookup(e){let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const o=i.substring(1).split("&");for(let l=0;l<o.length;l++){const c=o[l].indexOf("=");c>0&&o[l].substring(0,c)===t&&(n=o[l].substring(c+1))}}return n}},C8={name:"hash",lookup(e){let{lookupHash:t,lookupFromHashIndex:n}=e,i;if(typeof window<"u"){const{hash:s}=window.location;if(s&&s.length>2){const o=s.substring(1);if(t){const l=o.split("&");for(let c=0;c<l.length;c++){const d=l[c].indexOf("=");d>0&&l[c].substring(0,d)===t&&(i=l[c].substring(d+1))}}if(i)return i;if(!i&&n>-1){const l=s.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?l[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return i}};let qc=null;const k1=()=>{if(qc!==null)return qc;try{if(qc=typeof window<"u"&&window.localStorage!==null,!qc)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{qc=!1}return qc};var E8={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&k1())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&k1()&&window.localStorage.setItem(n,e)}};let Wc=null;const N1=()=>{if(Wc!==null)return Wc;try{if(Wc=typeof window<"u"&&window.sessionStorage!==null,!Wc)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Wc=!1}return Wc};var A8={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&N1())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&N1()&&window.sessionStorage.setItem(n,e)}},T8={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:i,language:s}=navigator;if(n)for(let o=0;o<n.length;o++)t.push(n[o]);i&&t.push(i),s&&t.push(s)}return t.length>0?t:void 0}},R8={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const i=t||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(n=i.getAttribute("lang")),n}},k8={name:"path",lookup(e){let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof t=="number"?t:0]?.replace("/",""):void 0}},N8={name:"subdomain",lookup(e){let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,i=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(i)return i[n]}};let bP=!1;try{document.cookie,bP=!0}catch{}const xP=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];bP||xP.splice(1,1);const O8=()=>({order:xP,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class _P{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=b8(n,this.options||{},O8()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(w8),this.addDetector(S8),this.addDetector(E8),this.addDetector(A8),this.addDetector(T8),this.addDetector(R8),this.addDetector(k8),this.addDetector(N8),this.addDetector(C8)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return t.forEach(i=>{if(this.detectors[i]){let s=this.detectors[i].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(n=n.concat(s))}}),n=n.filter(i=>i!=null&&!x8(i)).map(i=>this.options.convertDetectedLanguage(i)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(i=>{this.detectors[i]&&this.detectors[i].cacheUserLanguage(t,this.options)}))}}_P.type="languageDetector";const P8="Welcome!",M8="Language",D8="Light",L8="Dark",j8="System",I8="English",z8="Spanish",B8="Portuguese",U8="Profile",F8="Logout",V8="Theme",$8="Login with Google",H8={now:"Just now",minutesAgo:"{{count}}m ago",hoursAgo:"{{count}}h ago",yesterday:"Yesterday",daysAgo:"{{count}} days ago"},G8={restoringCache:"Restoring cache...",initializing:"Initializing..."},K8={finalizingAuth:"Finalizing authentication...",waitSeconds:"Please wait a few seconds.",descriptionGoogle:"Sign in with your Google account to unlock all features and save your progress",loginError:"Login error",signingIn:"Signing in...",continueWithGoogle:"Continue with Google",exclusiveFeatures:"Exclusive features when signed in",continueWithoutLogin:"You can continue without signing in, but you won't have access to the features listed above.",back:"Back",backAriaLabel:"Go back to previous page"},q8={back:"Back",challenges:"Challenges",explore:"Explore",audio:"Audio",soundOff:"Sound off",soundOn:"Sound on",logoutWarning:"When you sign out, your features and progress will only be available when you sign in again.",logoutAnyway:"Sign out anyway"},W8={memberSince:"Member since",globalRanking:"Global Ranking",rankingHint:"Score on explored species, hit accuracy and speed to keep climbing."},Y8={title:"PROGRESS",speciesExplored:"Species explored",challengesCompleted:"Challenges completed",hitAccuracy:"Hit accuracy",medalsEarned:"Medals earned",dayStreak:"Day streak",globalRanking:"Global ranking"},Z8={title:"ACTIVITY"},X8={title:"ACHIEVEMENTS",locked:"Locked"},Q8={title:"SHORTCUTS",saveEdit:"Save edit",cancelEdit:"Cancel edit",editName:"Edit shortcut name",remove:"Remove shortcut",empty:"No shortcuts created",emptyHint:"Create shortcuts by browsing the tree",tip:"Browse the taxonomic tree and save selected nodes as shortcuts for quick access."},J8={title:"SEEN SPECIES",openGallery:"Open gallery",emptyTitle:"Your gallery is empty",emptyHint:"Explore species to fill it!"},eG={title:"FAVORITE SPECIES",addFavorite:"Add favorite",edit:"Edit",done:"Done",replace:"Replace",pickerTitle:"Choose a favorite species",pickerEmpty:"No species available",pickerEmptyHint:"Favorite species in the gallery to add them here"},tG={title:"Species Gallery",species:"species",of:"of",searchPlaceholder:"Search by name or family...",newest:"Newest",oldest:"Oldest",newestFirst:"Newest first",oldestFirst:"Oldest first",favorites:"Favorites",noSpeciesFound:"No species found",noFavorites:"You have no favorites yet",adjustFilters:"Try adjusting the filters",noImage:"No image",photosFirst:"Photos first"},nG={notFound:"No data found",backToGallery:"Back to gallery",backToProfile:"Back to profile",backToTree:"Back to tree",dataUnavailable:"Data unavailable.",taxonomyTitle:"Taxonomic Classification",kingdomLabel:"Kingdom",phylumLabel:"Phylum",orderLabel:"Order",classLabel:"Class",familyLabel:"Family",genusLabel:"Genus",descriptionTitle:"Description",nomenclatureTitle:"Nomenclature Details",author:"Author",publishedIn:"Published in",sources:"Sources",imageNotFound:"Image not found.",imageNote:"Images are sourced from Wikipedia, iNaturalist and GBIF, and may be missing for species with limited visual documentation.",viewOnGoogle:"View on Google Images",imageSource:"Source",imageBy:"by @",imageLicense:", licensed under "},iG={locality:"Locality",country:"Country",date:"Date",recordedBy:"Recorded by",unknown:"Unknown",noDate:"No date",notInformed:"Not provided",viewReference:"View reference",dataProvidedBy:"Occurrence data provided by",dataNote:". The points represent global records from various databases, which may differ from the image source above."},sG={loadError:"Failed to load",loadErrorMessage:"Could not load the tree. Please try again.",noData:"No data available",noDataMessage:"No taxonomic data to display yet."},rG={selectKingdom:"Select a kingdom",example:"Example",selectKingdomFirst:"Select a kingdom to search",gbifError:"Error querying GBIF",lineageError:"Could not retrieve lineage for the selected item",pathError:"Error building the selected path",kingdom:"Kingdom",searchTaxa:"Search taxa",expandResults:"Expand results",minimizeResults:"Minimize results",results:"results"},oG={selectKingdom:"Choose a Kingdom to start exploring!",mainGroups:"Main Groups",kingdom:"Kingdom"},aG={title:"Daily Challenge",find:"Find",missionDescription:"Complete the taxonomic path before time runs out.",cancel:"Cancel Challenge",start:"Start Challenge",completed:"Classification complete!",path:"Kingdom  Species",timeRemaining:"Time remaining",taxonomicPath:"Taxonomic Path",interactions:"interactions",tips:"Tips to advance",needHelp:"Need help?",prevStep:"Previous step",step:"Step",of:"of",nextStep:"Next step",revealAnswer:"Reveal answer for this step",belongsTo:"belongs to",howItWorks:"How does the challenge work?",randomTitle:"Random Challenge",randomMissionDescription:"Complete the taxonomic path of a randomly chosen species.",allSpeciesCompleted:"You've completed all available species!",replay:"Try again",nextChallenge:"Next challenge",nextRandom:"Random Challenge",pastChallenges:"Past Challenges",today:"Today",completedLabel:"Completed",alreadyCompleted:"Already completed",prevDay:"Previous day",nextDay:"Next day",play:"Play",otherDailyChallenges:"Other daily challenges",dailyChallenges:"Daily Challenges"},lG={unknown:"Unknown status",EX:"Extinct",EW:"Extinct in the Wild",CR:"Critically Endangered",EN:"Endangered",VU:"Vulnerable",NT:"Near Threatened",LC:"Least Concern",DD:"Data Deficient",NE:"Not Evaluated"},cG={welcome:P8,language:M8,light:D8,dark:L8,system:j8,en:I8,es:z8,pt:B8,profile:U8,logout:F8,theme:V8,loginWithGoogle:$8,time:H8,loading:G8,auth:K8,nav:q8,profilePage:W8,progress:Y8,activity:Z8,achievements:X8,shortcuts:Q8,seenSpecies:J8,favSpecies:eG,gallery:tG,specieDetail:nG,occurrenceMap:iG,tree:sG,search:rG,explore:oG,challenge:aG,vulnerability:lG},uG="Bem-vindo!",dG="Idioma",fG="Claro",hG="Escuro",pG="Sistema",mG="Ingls",gG="Espanhol",vG="Portugus",yG="Perfil",bG="Sair",xG="Tema",_G="Login com Google",wG={now:"Agora mesmo",minutesAgo:"{{count}}m atrs",hoursAgo:"{{count}}h atrs",yesterday:"Ontem",daysAgo:"{{count}} dias atrs"},SG={restoringCache:"Restaurando cache...",initializing:"Inicializando..."},CG={finalizingAuth:"Finalizando autenticao...",waitSeconds:"Aguarde alguns segundos.",descriptionGoogle:"Entre com sua conta Google para desbloquear todos os recursos e salvar seu progresso",loginError:"Erro ao fazer login",signingIn:"Entrando...",continueWithGoogle:"Continuar com Google",exclusiveFeatures:"Recursos exclusivos ao entrar",continueWithoutLogin:"Voc pode continuar sem fazer login, mas no ter acesso aos recursos listados acima.",back:"Voltar",backAriaLabel:"Voltar para pgina anterior"},EG={back:"Voltar",challenges:"Desafios",explore:"Explorar",audio:"udio",soundOff:"Som desligado",soundOn:"Som ligado",logoutWarning:"Ao sair, seus recursos e progresso s ficaro disponveis quando entrar novamente.",logoutAnyway:"Sair mesmo assim"},AG={memberSince:"Usurio desde",globalRanking:"Ranking Global",rankingHint:"Pontue em espcies exploradas, preciso de acerto e velocidade para continuar subindo."},TG={title:"PROGRESSO",speciesExplored:"Espcies exploradas",challengesCompleted:"Desafios completados",hitAccuracy:"Preciso de acerto",medalsEarned:"Medalhas conquistadas",dayStreak:"Sequncia de dias",globalRanking:"Ranking global"},RG={title:"ATIVIDADE"},kG={title:"CONQUISTAS",locked:"Bloqueadas"},NG={title:"ATALHOS",saveEdit:"Salvar edio",cancelEdit:"Cancelar edio",editName:"Editar nome do atalho",remove:"Remover atalho",empty:"Nenhum atalho criado",emptyHint:"Crie atalhos navegando pela rvore",tip:"Navegue pela rvore taxonmica e salve os ns selecionados como atalhos para acesso rpido."},OG={title:"ESPCIES VISTAS",openGallery:"Abrir galeria",emptyTitle:"Sua galeria est vazia",emptyHint:"Explore espcies para preench-la!"},PG={title:"ESPCIES FAVORITAS",addFavorite:"Adicionar favorita",edit:"Editar",done:"Concludo",replace:"Substituir",pickerTitle:"Escolher espcie favorita",pickerEmpty:"Nenhuma espcie disponvel",pickerEmptyHint:"Favorite espcies na galeria para adicion-las aqui"},MG={title:"Galeria de Espcies",species:"espcies",of:"de",searchPlaceholder:"Buscar por nome ou famlia...",newest:"Mais recentes",oldest:"Mais antigas",newestFirst:"Mais recentes primeiro",oldestFirst:"Mais antigas primeiro",favorites:"Favoritas",noSpeciesFound:"Nenhuma espcie encontrada",noFavorites:"Voc ainda no tem favoritas",adjustFilters:"Tente ajustar os filtros",noImage:"Sem imagem",photosFirst:"Fotos primeiro"},DG={notFound:"Nenhum dado foi encontrado",backToGallery:"Voltar para galeria",backToProfile:"Voltar para o perfil",backToTree:"Voltar para a rvore",dataUnavailable:"Dados indisponveis.",taxonomyTitle:"Classificao Taxonmica",kingdomLabel:"Reino",phylumLabel:"Filo",orderLabel:"Ordem",classLabel:"Classe",familyLabel:"Famlia",genusLabel:"Gnero",descriptionTitle:"Descrio",nomenclatureTitle:"Detalhes da Nomenclatura",author:"Autor",publishedIn:"Publicado em",sources:"Fontes",imageNotFound:"Imagem no encontrada.",imageNote:"As imagens so obtidas atravs da Wikipedia, iNaturalist e GBIF, e podem estar ausentes para espcies com pouca documentao visual.",viewOnGoogle:"Ver no Google Imagens",imageSource:"Fonte",imageBy:"por @",imageLicense:", licenciada sob "},LG={locality:"Local",country:"Pas",date:"Data",recordedBy:"Registrado por",unknown:"Desconhecido",noDate:"Sem data",notInformed:"No informado",viewReference:"Ver referncia",dataProvidedBy:"Dados de ocorrncia fornecidos por",dataNote:". Os pontos representam registros globais de diversas bases de dados, que podem ser diferentes da fonte da imagem acima."},jG={loadError:"Erro ao carregar",loadErrorMessage:"No foi possvel carregar a rvore. Tente novamente.",noData:"Nenhum dado disponvel",noDataMessage:"Ainda no h dados taxonmicos para exibir."},IG={selectKingdom:"Selecione um reino",example:"Exemplo",selectKingdomFirst:"Selecione um reino para buscar",gbifError:"Erro ao consultar GBIF",lineageError:"No foi possvel obter linhagem para o item selecionado",pathError:"Erro ao montar o caminho selecionado",kingdom:"Reino",searchTaxa:"Pesquisar taxa",expandResults:"Expandir resultados",minimizeResults:"Minimizar resultados",results:"resultados"},zG={selectKingdom:"Escolha um Reino para iniciar sua explorao!",mainGroups:"Principais Grupos",kingdom:"Reino"},BG={title:"Desafio Dirio",find:"Encontre",missionDescription:"Complete o caminho taxonmico antes do tempo acabar.",cancel:"Cancelar Desafio",start:"Iniciar Desafio",completed:"Classificao completa!",path:"Reino  Espcie",timeRemaining:"Tempo restante",taxonomicPath:"Caminho Taxonmico",interactions:"interaes",tips:"Dicas para avanar",needHelp:"Precisa de ajuda?",prevStep:"Etapa anterior",step:"Etapa",of:"de",nextStep:"Prxima etapa",revealAnswer:"Revelar resposta desta etapa",belongsTo:"pertence ao",howItWorks:"Como funciona o desafio?",randomTitle:"Desafio Aleatrio",randomMissionDescription:"Complete o caminho taxonmico de uma espcie escolhida aleatoriamente.",allSpeciesCompleted:"Voc completou todas as espcies disponveis!",replay:"Tentar novamente",nextChallenge:"Prximo desafio",nextRandom:"Desafio Aleatrio",pastChallenges:"Desafios Anteriores",today:"Hoje",completedLabel:"Concludo",alreadyCompleted:"J concludo",prevDay:"Dia anterior",nextDay:"Prximo dia",play:"Jogar",otherDailyChallenges:"Outros desafios dirios",dailyChallenges:"Desafios Dirios"},UG={unknown:"Status desconhecido",EX:"Extinto",EW:"Extinto na natureza",CR:"Criticamente em perigo",EN:"Em perigo",VU:"Vulnervel",NT:"Quase ameaado",LC:"Pouco preocupante",DD:"Dados insuficientes",NE:"No avaliado"},FG={welcome:uG,language:dG,light:fG,dark:hG,system:pG,en:mG,es:gG,pt:vG,profile:yG,logout:bG,theme:xG,loginWithGoogle:_G,time:wG,loading:SG,auth:CG,nav:EG,profilePage:AG,progress:TG,activity:RG,achievements:kG,shortcuts:NG,seenSpecies:OG,favSpecies:PG,gallery:MG,specieDetail:DG,occurrenceMap:LG,tree:jG,search:IG,explore:zG,challenge:BG,vulnerability:UG},VG="Bienvenido!",$G="Idioma",HG="Claro",GG="Oscuro",KG="Sistema",qG="Ingls",WG="Espaol",YG="Portugus",ZG="Perfil",XG="Salir",QG="Tema",JG="Iniciar sesin con Google",eK={now:"Justo ahora",minutesAgo:"hace {{count}}m",hoursAgo:"hace {{count}}h",yesterday:"Ayer",daysAgo:"hace {{count}} das"},tK={restoringCache:"Restaurando cach...",initializing:"Inicializando..."},nK={finalizingAuth:"Finalizando autenticacin...",waitSeconds:"Por favor espere unos segundos.",descriptionGoogle:"Inicia sesin con tu cuenta de Google para desbloquear todas las funciones y guardar tu progreso",loginError:"Error al iniciar sesin",signingIn:"Iniciando sesin...",continueWithGoogle:"Continuar con Google",exclusiveFeatures:"Funciones exclusivas al iniciar sesin",continueWithoutLogin:"Puedes continuar sin iniciar sesin, pero no tendrs acceso a las funciones enumeradas arriba.",back:"Volver",backAriaLabel:"Volver a la pgina anterior"},iK={back:"Volver",challenges:"Desafos",explore:"Explorar",audio:"Audio",soundOff:"Sonido desactivado",soundOn:"Sonido activado",logoutWarning:"Al salir, tus funciones y progreso solo estarn disponibles cuando vuelvas a iniciar sesin.",logoutAnyway:"Salir de todas formas"},sK={memberSince:"Usuario desde",globalRanking:"Clasificacin Global",rankingHint:"Punta en especies exploradas, precisin y velocidad para seguir subiendo."},rK={title:"PROGRESO",speciesExplored:"Especies exploradas",challengesCompleted:"Desafos completados",hitAccuracy:"Precisin de acierto",medalsEarned:"Medallas ganadas",dayStreak:"Racha de das",globalRanking:"Clasificacin global"},oK={title:"ACTIVIDAD"},aK={title:"LOGROS",locked:"Bloqueados"},lK={title:"ATAJOS",saveEdit:"Guardar edicin",cancelEdit:"Cancelar edicin",editName:"Editar nombre del atajo",remove:"Eliminar atajo",empty:"Ningn atajo creado",emptyHint:"Crea atajos navegando por el rbol",tip:"Navega por el rbol taxonmico y guarda los nodos seleccionados como atajos para acceso rpido."},cK={title:"ESPECIES VISTAS",openGallery:"Abrir galera",emptyTitle:"Tu galera est vaca",emptyHint:"Explora especies para llenarla!"},uK={title:"ESPECIES FAVORITAS",addFavorite:"Aadir favorita",edit:"Editar",done:"Listo",replace:"Reemplazar",pickerTitle:"Elegir especie favorita",pickerEmpty:"Ninguna especie disponible",pickerEmptyHint:"Marca especies como favoritas en la galera para aadirlas aqu"},dK={title:"Galera de Especies",species:"especies",of:"de",searchPlaceholder:"Buscar por nombre o familia...",newest:"Ms recientes",oldest:"Ms antiguas",newestFirst:"Ms recientes primero",oldestFirst:"Ms antiguas primero",favorites:"Favoritas",noSpeciesFound:"Ninguna especie encontrada",noFavorites:"An no tienes favoritas",adjustFilters:"Intenta ajustar los filtros",noImage:"Sin imagen",photosFirst:"Fotos primero"},fK={notFound:"No se encontraron datos",backToGallery:"Volver a la galera",backToProfile:"Volver al perfil",backToTree:"Volver al rbol",dataUnavailable:"Datos no disponibles.",taxonomyTitle:"Clasificacin Taxonmica",kingdomLabel:"Reino",phylumLabel:"Filo",orderLabel:"Orden",classLabel:"Clase",familyLabel:"Familia",genusLabel:"Gnero",descriptionTitle:"Descripcin",nomenclatureTitle:"Detalles de Nomenclatura",author:"Autor",publishedIn:"Publicado en",sources:"Fuentes",imageNotFound:"Imagen no encontrada.",imageNote:"Las imgenes se obtienen de Wikipedia, iNaturalist y GBIF, y pueden faltar para especies con poca documentacin visual.",viewOnGoogle:"Ver en Google Imgenes",imageSource:"Fuente",imageBy:"por @",imageLicense:", con licencia "},hK={locality:"Localidad",country:"Pas",date:"Fecha",recordedBy:"Registrado por",unknown:"Desconocido",noDate:"Sin fecha",notInformed:"No informado",viewReference:"Ver referencia",dataProvidedBy:"Datos de ocurrencia proporcionados por",dataNote:". Los puntos representan registros globales de diversas bases de datos, que pueden ser diferentes a la fuente de la imagen de arriba."},pK={loadError:"Error al cargar",loadErrorMessage:"No se pudo cargar el rbol. Intntalo de nuevo.",noData:"Sin datos disponibles",noDataMessage:"Todava no hay datos taxonmicos para mostrar."},mK={selectKingdom:"Selecciona un reino",example:"Ejemplo",selectKingdomFirst:"Selecciona un reino para buscar",gbifError:"Error al consultar GBIF",lineageError:"No se pudo obtener el linaje del elemento seleccionado",pathError:"Error al construir el camino seleccionado",kingdom:"Reino",searchTaxa:"Buscar taxa",expandResults:"Expandir resultados",minimizeResults:"Minimizar resultados",results:"resultados"},gK={selectKingdom:"Elige un Reino para comenzar tu exploracin!",mainGroups:"Grupos Principales",kingdom:"Reino"},vK={title:"Desafo Diario",find:"Encuentra",missionDescription:"Completa el camino taxonmico antes de que se acabe el tiempo.",cancel:"Cancelar Desafo",start:"Iniciar Desafo",completed:"Clasificacin completa!",path:"Reino  Especie",timeRemaining:"Tiempo restante",taxonomicPath:"Camino Taxonmico",interactions:"interacciones",tips:"Consejos para avanzar",needHelp:"Necesitas ayuda?",prevStep:"Paso anterior",step:"Paso",of:"de",nextStep:"Siguiente paso",revealAnswer:"Revelar respuesta de este paso",belongsTo:"pertenece al",howItWorks:"Cmo funciona el desafo?",randomTitle:"Desafo Aleatorio",randomMissionDescription:"Completa el camino taxonmico de una especie elegida al azar.",allSpeciesCompleted:"Has completado todas las especies disponibles!",replay:"Intentar de nuevo",nextChallenge:"Siguiente desafo",nextRandom:"Desafo Aleatorio",pastChallenges:"Desafos Anteriores",today:"Hoy",completedLabel:"Completado",alreadyCompleted:"Ya completado",prevDay:"Da anterior",nextDay:"Da siguiente",play:"Jugar",otherDailyChallenges:"Otros desafos diarios",dailyChallenges:"Desafos Diarios"},yK={unknown:"Estado desconocido",EX:"Extinto",EW:"Extinto en estado silvestre",CR:"En peligro crtico",EN:"En peligro",VU:"Vulnerable",NT:"Casi amenazado",LC:"Preocupacin menor",DD:"Datos insuficientes",NE:"No evaluado"},bK={welcome:VG,language:$G,light:HG,dark:GG,system:KG,en:qG,es:WG,pt:YG,profile:ZG,logout:XG,theme:QG,loginWithGoogle:JG,time:eK,loading:tK,auth:nK,nav:iK,profilePage:sK,progress:rK,activity:oK,achievements:aK,shortcuts:lK,seenSpecies:cK,favSpecies:uK,gallery:dK,specieDetail:fK,occurrenceMap:hK,tree:pK,search:mK,explore:gK,challenge:vK,vulnerability:yK};Qt.use(_P).use(c8).init({fallbackLng:"pt",debug:!1,interpolation:{escapeValue:!1},resources:{en:{translation:cG},pt:{translation:FG},es:{translation:bK}}});function xK(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l);c.displayName=o+"Context";const d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,R=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:R,children:_})};h.displayName=o+"Provider";function g(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,g]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,_K(s,...t)]}function _K(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var wK=Symbol.for("react.lazy"),ng=H0[" use ".trim().toString()];function SK(e){return typeof e=="object"&&e!==null&&"then"in e}function wP(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===wK&&"_payload"in e&&SK(e._payload)}function SP(e){const t=CK(e),n=x.forwardRef((i,s)=>{let{children:o,...l}=i;wP(o)&&typeof ng=="function"&&(o=ng(o._payload));const c=x.Children.toArray(o),d=c.find(AK);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var CP=SP("Slot");function CK(e){const t=x.forwardRef((n,i)=>{let{children:s,...o}=n;if(wP(s)&&typeof ng=="function"&&(s=ng(s._payload)),x.isValidElement(s)){const l=RK(s),c=TK(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var EK=Symbol("radix.slottable");function AK(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===EK}function TK(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function RK(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var kK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],O_=kK.reduce((e,t)=>{const n=SP(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function NK(){return vP.useSyncExternalStore(OK,()=>!0,()=>!1)}function OK(){return()=>{}}var P_="Avatar",[PK]=xK(P_),[MK,EP]=PK(P_),AP=x.forwardRef((e,t)=>{const{__scopeAvatar:n,...i}=e,[s,o]=x.useState("idle");return y.jsx(MK,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:y.jsx(O_.span,{...i,ref:t})})});AP.displayName=P_;var TP="AvatarImage",RP=x.forwardRef((e,t)=>{const{__scopeAvatar:n,src:i,onLoadingStatusChange:s=()=>{},...o}=e,l=EP(TP,n),c=DK(i,o),d=Gs(h=>{s(h),l.onImageLoadingStatusChange(h)});return Dn(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?y.jsx(O_.img,{...o,ref:t,src:i}):null});RP.displayName=TP;var kP="AvatarFallback",NP=x.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:i,...s}=e,o=EP(kP,n),[l,c]=x.useState(i===void 0);return x.useEffect(()=>{if(i!==void 0){const d=window.setTimeout(()=>c(!0),i);return()=>window.clearTimeout(d)}},[i]),l&&o.imageLoadingStatus!=="loaded"?y.jsx(O_.span,{...s,ref:t}):null});NP.displayName=kP;function O1(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function DK(e,{referrerPolicy:t,crossOrigin:n}){const i=NK(),s=x.useRef(null),o=i?(s.current||(s.current=new window.Image),s.current):null,[l,c]=x.useState(()=>O1(o,e));return Dn(()=>{c(O1(o,e))},[o,e]),Dn(()=>{const d=v=>()=>{c(v)};if(!o)return;const h=d("loaded"),g=d("error");return o.addEventListener("load",h),o.addEventListener("error",g),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",h),o.removeEventListener("error",g)}},[o,n,t]),l}var LK=AP,jK=RP,IK=NP;function zK({className:e,...t}){return y.jsx(LK,{"data-slot":"avatar",className:it("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function BK({className:e,...t}){return y.jsx(jK,{"data-slot":"avatar-image",className:it("aspect-square size-full",e),...t})}function UK({className:e,...t}){return y.jsx(IK,{"data-slot":"avatar-fallback",className:it("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}const P1=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,M1=KO,OP=(e,t)=>n=>{var i;if(t?.variants==null)return M1(e,n?.class,n?.className);const{variants:s,defaultVariants:o}=t,l=Object.keys(s).map(h=>{const g=n?.[h],v=o?.[h];if(g===null)return null;const b=P1(g)||P1(v);return s[h][b]}),c=n&&Object.entries(n).reduce((h,g)=>{let[v,b]=g;return b===void 0||(h[v]=b),h},{}),d=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((h,g)=>{let{class:v,className:b,..._}=g;return Object.entries(_).every(C=>{let[E,R]=C;return Array.isArray(R)?R.includes({...o,...c}[E]):{...o,...c}[E]===R})?[...h,v,b]:h},[]);return M1(e,l,d,n?.class,n?.className)},FK=OP("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive cursor-pointer",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function $t({className:e,variant:t,size:n,asChild:i=!1,...s}){const o=i?CP:"button";return y.jsx(o,{"data-slot":"button",className:it(FK({variant:t,size:n,className:e})),...s})}const Au={1:"animalia",2:"archaea",3:"bacteria",4:"chromista",5:"fungi",6:"plantae",7:"protozoa"},PP={animalia:1,archaea:2,bacteria:3,chromista:4,fungi:5,plantae:6,protozoa:7},To={1:"#ff6b4d",2:"#b561ff",3:"#2fb5a0",4:"#ffb700",5:"#c84726",6:"#5bbd38",7:"#2196f3"},MP={animalia:"#ff6b4d",archaea:"#b561ff",bacteria:"#2fb5a0",chromista:"#ffb700",fungi:"#c84726",plantae:"#5bbd38",protozoa:"#2196f3"},VK={1:"border-[#ff6b4d]",2:"border-[#b561ff]",3:"border-[#2fb5a0]",4:"border-[#ffb700]",5:"border-[#c84726]",6:"border-[#5bbd38]",7:"border-[#2196f3]"},DP=20,Lx=2,D1=20,jx=20,LP=-9,$K="/treevera/assets/avif-animalia-B-f7tRK9.avif",HK="/treevera/assets/avif-archaea-9EsGaDQG.avif",GK="/treevera/assets/avif-bacteria-DowZWJad.avif",KK="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAGNbWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAsaWxvYwAAAABEAAACAAEAAAABAAAGJQAACSwAAgAAAAEAAAG1AAAEcAAAAEJpaW5mAAAAAAACAAAAGmluZmUCAAAAAAEAAGF2MDFDb2xvcgAAAAAaaW5mZQIAAAAAAgAAYXYwMUFscGhhAAAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAAw2lwcnAAAACdaXBjbwAAABRpc3BlAAAAAAAAAGwAAABvAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQBBYYHAAANpG1kYXQSAAoGGBm17mFQMuMIEgAKKFDYAsLyjFo3dLA9gFsleEO1sDsKbGus3GXbF8epprVeuAz/W4qkshsFIvEAUItGfQPrZ92zwBMs8RztQBsf0vV/rHO/QPgwhmlSuyaki7uMPY/TisltPIQNjxopDuExE5Hs6N7ATevqJ+cAF2f1NRefv4QF/dt4FnBqjgvtTjwwenfOzj65bgelDbdWE20tA4Qom6YijB4pVwt9vw8D4fItTFoyAAEeZBWU8hohAjaDMUcMa+j3Qmsm2s8JrILwkO8/lsfccCWw0IzlP+T50oxEkA+Vx1yMx68312dGcpTgFQaU98D+TzWMekHuhxY4mo6THEinOC063dFzdb6syJxTbTf1e/X17EPl4c/FJI2coDIDDKBgqRrR1M9o/KMA6WpqwGPEq+eR8CcWH/EgroQVMk100U/vdxmbMCzkX1JIdGmcdI+Y5YaarpHHTG5W7pCISuUuvhIvT/S6j49IwGVcMzpj+dV1eju/GUMZnycN+v76jj5KRcv3F2rsLrMOD5EUsOS2AyQjpSD5EbkDwlVdnfI/eojI/QHVm+pIdGJeDCYN3DPetVpzb+r1q2gA1iveuUGV7C/I4UFs864WmFshyKQUvl6lw+y8nB/Yxek3V1rNnym8vMHR4b0wHO/2KWKo1BWuPx5CcOxn7ELfjzzvorSxZwWmz/+BKD9izo6PiMNh+rJYyN30zjH3M8qZS8nZyh3CkT13gFrroZsp6NSNpq2+EIAoG4WJdf4+rFIIi/Ac/v+e06w9To4Ggr2R5V0+p/G+DPWf5MiY2jCXtguNLwosHAHmuj6KAX9RM7splnnW/trJLvPh7N0UMteps/9kSspdcZaam02qym3V4+zYIxqfFaD39Qtg/61oPuwoboUhk5CvqWpLSwL8hmdaqloryMad594PjesgMbVJJrtp2M4qjCSRc1j3SHDdhEowwcOR91rPCG4EI1+hEnFT2SPblY1CAg0t/iziZZduLb95pH04mrSvU4UgNG8a059Z02kYbht43p4X17v3/lPSZnmp8K2hC6/gwT/WGhd5cGpvsCMZeZxikvcvFJPFJEwiPJkC1K3hDM/gopPjyfdsQmLIOJOGVuK1TSYxwmwb7IJLZ51IlB8+zBqMdfNW3ombH/zbc8CS6dcAEPbmpXUDYWcrtnV6Ru6bGAtq0KAGKX1nflRQ4r7ccW8HEPsiRrFomJUIS+iun6yIqlAdFIXBSw6NPiaQJIN8eStr0kKnB63qXsPk377OKM3hLgQq0Lzk5oy5kzMFPwk7SyScD+B8zCjk2FiOT0cS9gvWKHcbY5AhV/Jub302lnRTxhkfFm2/tZFRF5qBE853vDuafs03gNgsMaFpEWCCRcP2JTT6u3BmGaECfovbWb9JEm0v6sEej+cUnhecfimdjtylV6gaDDr83cqyCJJmnfujFsEWlnzpEGCvNNRz59th42fAruG0PKfCzAS45AXTTMK0+H3mj1MsiVnpscY20+vKXbTqLxIACgkYGbXuYIEBA0IynBJEgACiiihQ1/8mS+0ZHqhaPuYuFtDXyEXMhvC1LFbrnQhf4LGpkza7zu1DS8vAFLD5urBX5K2LYLt/VQM0Pyps0aHsvZloiNVAyzkpp7r3m0IIZjI97mhhLNdJqLMjAYdNaC1SVYzT9iVc8yQGizaVMoH3uM20vAerHeMo5ZQNEUafvZcRKaxf/lqliuV49bVpaubcETXt7HmOwKpz07M0FeUh6dQhQLkG6+YBNccpT7V1krYBk7dV1bLdYxMXRmbZQgbBOkZfSr+tt+tqvYvrHWJmcGEECJmeEjvhcR0t0LtnVzvOhSdtfLqrsDQY2W1Ee4PDIUOoYX9+aW2PPLfAjN4unBzpc+JKqP3//TOyYCvb6cnZyZJ5/Lv2WK8ftLoi4PzMFYhNM+glDVjYOcGZ5Myq+1xLUB9sEq0y/obMrfy2plXXkf6D27bF4C837Jj6Hwwq38kxf83HBxUUqmvyQOtKYTvDPptGS1n+hqTutaY/8RLIeA7boEJAzc7jKkxyHWz31I84xTToQNWvXVXkYaEVsNyw6atPOkRcXH+2cvIWjCzbtzOWkHqyr4IVUPGL4w1Fm5iendMQUGsfVtM/qnhmZdhtMcwLK8wJXBlRy+1/vggQm5kFriq7MQbYycq+SjsGbmFbDfMWT3ajA4w8l2f0P/CmW3/NwX4anmYHK50l/7qQ7URhanrGu9aAyZ24sAWXch7UOc38M4lf9ekXbevCKgbooxHalkxCuDBamvY0rNkNlo72pkvugS8ZzCB5QsqDZSGpFzFZBVECz7rtBWsOe+kjmvNMiCItlYocgEl0JunBdHCisz5TeL8MlkK/pUMEUc3os86qnlky2+/dR1N4oDHsJY4t7VWdw6hYF0nRyUWbljlGQn2wQ1JWFCW8XPFgQrQTBnhK6qyediFfDtFYcyIVNjf0EAd5kLhk850UB6NCBSCRVWNjz+tKk1WXz4YV5Z1V8TAfo0Rmpx6yJlHq7CFnTy0YNxx0GZT9IxULt2md2O+S08vCiMOwricx9goNmcvzaaCi8Lehurd6y/nhbq383eozGUhe3t8vqF3ObuHLdxrjSiFXNAvxRdtqitLT88vZ/o4mOXftv+u64YPtFGwr2jvgyYXV55ilSeR4HSN/YabafECaeNanam2knUhC4JQUEXekLFpXQEOo4CtvXEko5es/IiP2W3SxvSFWYBqycKJYqCtbvJiONlOLMTNa76s9G+9Z0eGugMML8b34wS+GG1a0CB1sM657Qox5bfTeqnAaanXxxCkVsm3KXyhUTQCPVTYxeGFcJ8EalMAhpC3hsg/zk1KRTjxA7H2SY5l3SP+Kav5vSf0e9G8+VR58gbl121l2IrzbgJzStCsNPgYwB//5LYuNxqKbRmGWefHWnzAWgXb/EUQctM4KWglLpfRUSa7nO7cjfDUotPPXSWhxRTYzPLxMqG68sHmxIxu6W7GhY0ZR+sc9JjlPP4ojQevzZ8j3Fh32LtjCRTx4HDrcDm9iyloM+PBdDX8gKmxsk+MvM0M7AtXp16qS1XWjNLfZKY1VZVwyVRALAKD+UsJwl11p1yqKK7A43w8t+yHEemTos+lemT9uKFQH3EdCf7udvDFYuBTNQLrDL9cpwfiZOUS1ioy8JGG2vM9VUSd0moeHvbhvOyFI5ukw3Ek9vtG2Wk56Jlb543NX5HHyyJ6ayvzLJ6qKUAaF9zuKQ1yPFP0tV+npwf7enNrReLrmAtLkYx1qA+ee4aHO700Kli7RygiMM9Si2hIT6cMI3PeihZEp8/uFiaZEOIXRLrkh+jqMdPq9NcC69u6EDopbj/sh3xOJa3Ip6wtnvR2wBJMKV4kSn6zaHvVfUYKeMpGP/+Jq3vHZK0P5S1TRLF0Trt5O0J+2VtpvFuREuyPCLdj6IXBwKZPXphABEqgFYk7eXBfKtsRFDjPJT/ebTDJcXAJTTqLjVC7FIi+KbxJPJ44nIlf/KJ7114UWQIFZLCpO3oq04LvK+9Xp5lTlmabo6IKcBDErD+15rNuMMn9cK2KlYza/kwbN2pq5V4eAvVMjNSAGRDMhFN7DvxY4AeD/+HbGMddkoBQPVIMhatZw0TniuM0BXavTrK4E7C9tkpnA0brcPKt/L7ya1Vzk/4bumauyOmgL08WZBUAM0Pj8hZfFr0xwp30qX0ur4dvvspaM3RQaniPPdKlj8PTleR804UyDllzSvEVvkYnfsK1kj96ZzQfw+B6X6uXxDFXjg9V3rvz2Ky+MURrTsbQXetVEicb/JPACBxw+SL2ZSdT1eEJPEYOThYEVyevmZgP4CfRN4T2i/g7ouekkT2El+Ki678Bou9hJT2uK+iBVAqzvyS/lSMQFgtVPbRycXYRL0xmpVqa6HqzfBw7x9TjYSbjqoOBnD/R/6wSYsp6UkCYd0Fd7KBqoMyLxnKNNY/jjvPngpHH+SmDfHY4c8JZsgbzk0A/kIJAoC8OmfgDV20xILJ8ujCdFVuOOP52rN8biish7YWu4pS9d7Ga4cUXcvevpJB70peN45NBEqr8xjpa//EbYSCycyxQ9woR2Q4+oFqFFjia49aMUxYixWResp7UxXjVFP7Yho8TO2GkccjG667/Q8+U/Bf/2SIhPPyUlwNN7WWjmYQ6qdmzSjp2iyZmI8PUhyl1NY8PuASe2MKc6rWo2DxRmqTtmMq4qKg3EYUAnI0unriMr7QJ5P9ch11MJO4JsdSjJQgpPbSgsLdtB9zQOoiDr9H+FK2UhZC0a/oBWN8pAaBQpEjs8CDc1IEsKK6QN6QiMXaMW76ayfdap95ETzrVBmvJW7oAJvIAHHLqJZvoI2fzWrXBeu7VtIsuApMY8lc/SiCOc+UnC15ym0XJlfbuR2ESZl9jaYN+U1KgBgQGgMo85gHwOqdwDlU5mZNchmGb52pJtZa+4pJ2rfqJZq0z/643WP81PmwDRgciiItmC8fESYLw1OfojDJ4PXgr5BQL0ebZrO2JvjzWsfz990hj6NjfhMxBa5NRnEsJHaC+jaixRB/2P+EZihZeJWxJ4mI/hB6P1QN7eKClBZ+Zy1aUKJGyMR/EpI8uyYy680g1OrdUpIY05oWY+Y6oQbqQXIUchIo/A",qK="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAGNbWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAsaWxvYwAAAABEAAACAAEAAAABAAADrQAABRQAAgAAAAEAAAG1AAAB+AAAAEJpaW5mAAAAAAACAAAAGmluZmUCAAAAAAEAAGF2MDFDb2xvcgAAAAAaaW5mZQIAAAAAAgAAYXYwMUFscGhhAAAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAAw2lwcnAAAACdaXBjbwAAABRpc3BlAAAAAAAAAHcAAACBAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQBBYYHAAAHFG1kYXQSAAoGGBn7QDCoMusDEgAKKFDYAsLyjFo3yjEA9G9zx8r56yTZIgvnVCrfhhL0JlUUXbNXspXqu/0SkF+qCbvzwXswX1AJkHF0hgCZoDxY6YFxyIi9g7vB7C6qawEafmG63TTCXUZe5p/kJydJUg6DzlB/dkEuci+j7MQLA/9LvhRPoCXafFq+HnelQrDlQByrd2Spf0mjbYtagK3gTD8bAICt8pBdLcapp4Y4w76HtSAONq+QOWPk0Ym+wQgc1YBBJqnR0i6amL5iU+ijtckupUsWP/K5MME1u/Or79uNQihpYIxAoskRh0yZexa9wyKaAjCZTFbKHPgW6kI9RfuDj/W341XONFYxNfIVOw+s7FFU3bAZSQl6XLvPcf2LnAnJg7hGm+C/xYfDaa6TtznuaxAj+JYqy+CJHztEP/7MLrYbq/5uedhvDpBnEB2w4x2S9KUKEMjNwV91zyWfig1DbxACu1jeNWjt6X0wj61zCYk3mDnuppySa2pMht7jq9awfwFSBBLepWj7TfrULy19fbXoJR/iBeTW//H3TTsaElyku3PKQ8GddVAFoqJXqZmF6DX6v0j9mlZAiPs3u9fMaDqTYdu8WbyaCZuUNu7UAJJQTn0EIuj/0vAiVxVAi7DDFCtuvzY2DlXFGGlw0V0M9XhHeA6crSoSAAoJGBn7QDBAgIGhMoQKRIAAooooUNf/JkvtGR6oV8dtYj1WBBGv1iQlFx//RbT/tA8xKpuYZIqTv7rRj97uzDG9Sw4ewGvvegI+KVvFcbOmrdfgLNT+2vuCmi69od9wbEbAas/jZIHo8xkmvvn5h29h2QlXvMOuDkI4gMtxZnovlP+pSo8/+265ysscKZkGfXxXNxk2SA4DrqSuQkwW5g0ftc9FAIWkwXUh1V2j3gLbvURWQ652sbP8to5I0lnGrghTXkaD2Gv87p+Hv9xAy+trqwJMfHxtvnl9x9oJN+JR96oaU+2NT1cpWtY8BwgzR5mfixkEX+a4WIaOi5NfZMkA58e81+TOh1LXfuZkBlZoWCF162y1U05LmqbJGmXMAutII8ZnXFJ5XWEKFjoHPL+mFf/9nY2RASmjjPtn4yFY4LNpnRvx2LOvNsslIGMWm8ITxumI+aphIONsnW+6A71P9PWMHhoK/VhqhSP3zDsvDVndkCkLTjyJ8nOVC+8NbJEaBxBhOmagpI5KJC80ejy73dRe6I0+tK0FBi29wS5f9YLymlF8HrOCQ+VIUaxq3MAia/bx3JaiIZ3GBa0K0HnQaE1Fvqltk1WGWziOeeXVfAI9nmp3Fh4w6teeJssyZdOoshU/N05iHomBc9metXKDfMJTthTQ67ZJOqjpMFhRzUIaOT/zXf7PWiLi1fBLhRSjsBs9za4lVyIDTxjLgXutblodGetVkeBg6/GOB1rMHiSK1bksnDBHJ0EGG1Y70m0a6SueEzfjZhJFLMTIuhpwjAZ6Pr8Ro8sh6OltmZc2D+2pjsc3HnewXnbsMxb5aHwUKiIh0CFXdDyeu9p0unC8KTc7MrnfF1yDnWOV2HTX3HJdRQkPA1bGuG9vvaByHfurqVKa8W/P0unk5bMBYXm2DoDtI8/LkYN6T7o/LpilF4XmiCKnFENW50J9tsf88umr6+RWKMOym7iprrQKVya95FRU1WLAuTB/C1zwq0ZRdinCTJ4/iPuP85trKA9Gtk5vFPVU0jekR3aUHp03STpHeykqnbB5RVWUeYAYk3GdhsXO4ewVDY8hxwH7i/sft3dCR3wBgdHs/0CnQJekwSqSGs5fZL6xHnPwOzo/d28nb4rz+Pip8USLtV4ERrAa+lZH53GDYzqz/H4KOWieFJQjFED+/G3FpioFGZDkXJB86LwawLTuDYd4+qWrpfwHPeQhdEHnVNmp8PNXF11dY9gBuDQ6W0dOtvWxaQ59ViELMeWGG4xO3hYnRY/LQUHJIvUmi8GUzYYk6FjfGJi6aUWE4CpJNfTkhRJAhAReHR/EYOqSRtQt4Nq3Yhn9VgovKyxlF6cgLABEKMeOIVRwsu3SXruUQr2qWVCylYhp+9HGAHGGun/xG2N5nBNYqTLku9A9tr7n/ZPQdklz/unNZbLGbP07IGwzeA/uaf8/+S4dDOI8qEvw73aHArq4mbObv1qZXJ2A9oqNichHjFwK/wAyEB7NLr7BFfiln5mOj2DxW8aP5wn/4kyD/2CvAN2Wnt0F8wxzLYR04r9qAr2SUZqYsOvDiR7FCC2sIyQO0cZxGJ2mmLm5lFJcZdvkrptMvji05X6MLFYAHUG1H7o8RFi2iU/9Ur3fFauJtcwx30Yh7sPuKDJLQVB9tZtcBIkBnXAlncpcrkefx6A4H2gnae9+GZFZ22BRx8qge13ZiJd3gz6cwniGpZtJ84bpQkSSmYFY",L1="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAGNbWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAsaWxvYwAAAABEAAACAAEAAAABAAAEVAAABXwAAgAAAAEAAAG1AAACnwAAAEJpaW5mAAAAAAACAAAAGmluZmUCAAAAAAEAAGF2MDFDb2xvcgAAAAAaaW5mZQIAAAAAAgAAYXYwMUFscGhhAAAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAAw2lwcnAAAACdaXBjbwAAABRpc3BlAAAAAAAAAG8AAAB6AAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQBBYYHAAAII21kYXQSAAoGGBm3eWFQMpIFEgAKKFDdK7YhY9FDgo7+mdWsfVkURfvprIG/cOJBkxUD49AD/MzZCP1c2ADPY73n8mfNApWMwOYKVUD/bHJgXBNMtSJ9++5QHxctjqe131Cl2x9Buye16AlUaS4DCaTSfTqyJlPT2lCkMJ7YJ79/CBRhKLG4zwKOHeVZZ4CRWCSgjy9KdT6eQCV3m0C3vuFn0Qm4BiAE+gvv//NsDhrMwj2qHReJLK2YvZ1DbmXNAs/avxk3giFCLqX4nACziQscV1sD+7WTf4ggUBPnU2qbgju2Q1YxKZgE561lHA9W3nx1cr8QLi5b8+pYnIowyabz7xxtCqpmMz/tqRdXIylhDPV9ZSAg0pIPG9oVMkftjV2PqTmefMGw9eHSlm1h6KzsaIDpvmvK1FsvxLcteYDS/wUYjMuac5EKolRQ2QgmyQ5PUqi89hiWpuxCk+kAIlSgxX8pSaRvgwjoKzTRG7KhXi0SEz18JRb8zkm3fQI1hc4HdAQTpApiCnyIaNyNIUnoo3HzE/BlbXa+0VTpB1M02fZcU5qgC3hfde3l2FimtVjqMo3JO/br+5k5RgjRWA3RZg4t/W4v9Ql442U+VczkJbc7+1xfljQTY6rbCtrmpCA0EWcoA0wtJjbWWE1ZkSmgFWghqbo9lu2LSiz+2OfGSyVSk5uRGj/ezjYmlb4e0NadORck49tpU/4n5eqfGlevunn7gFgGrIZb+dXJQzI38CdQ6SF5LG1gSR04x0m7sTcA6Y9vuj77HbWV+kqem6ADB+cmgvKu5dLHmXYESTw+O3//vzUxpQOQLs56j5wS/qCTeE6ImdNt8bwxsqQL368N2FFdnaFJS1V541LwDWt/E4Ye6bBlsVih/J834R0aVWZp4BIACgkYGbd5YIEBA0Iy7ApEgACiiihQ3GoDuV6oJ1tQulM9kmZu+DezSPd9HEBXhwInIn2iHF8xYI8xiy89UMOvIg6dR7H71dlvqqVDKnaUGwhgbfdIxQofuuCrh6CHtTLVZ+TsFHSQnOOTbXJQDbMAMIZadkQNKxPfZwvxAJjdRjXcEJJ/lGu/RZ/i+YnBwuvEhe6GT7p70qf9bLLUL1v5xaCWt0PWh+R3IaFmdnHW9bRCIW+FLjWJJpFrJ/QZoFUbFIWPllNx38Yfpl2pAvCdpg3DXq9RAPyPS1Lo2kcpvXQQE44QpwhdpnRhdrIq+wq/p4N5E+DE4EsiHHcVBOIxB0GaezT2AY3h+8acr17iHqlr/cAUT/WEK1yXTuQKXb2HQC3rwFMGEcpSXElvFLixVMdvpoIAuokXc7GXkZl6VNNSyX5NbdT6y5A0hS3REp8uTGf6pDbr7Bpwx4omX4SV6PjGoslNXeASq41ED+C9ijdb88OGDfpn30Z2YY59ewI9kDwXmOuAwXwool2GH9kjpDnWURjiGSvo3fVJ9OIoGRmkKDrQ5kSsf1LiyG0sMNr1Tu6xFZayQLpunPeNDjzRWNvzNeCFID/LQpif0z+vplcFYSwC04cVCpWZOVtjqyq40JL3PqAiRPmyk35KOP+dsk4Jh4KVyDfGIlqh/QTnCD63Lrpfc8i1+ymgKfsNZB4gfrnMcYUoBLx7q34ZlNyMT627fSKfcBa7jWJGSnUfrs4p3aJwGAmOlx/oMIcyrFjA5zg4uUWl4j5f6wRqkIMrx/Uf2a+xD051ctLAFa+4lAntw0Mfye6bY4etFuQ0qTekDRkmBxaRpmLeWDx0zDW9mgHsPovaQIxKkFepWAw6Wwby3BLD2b27rhjVCNi4Qq29ZEi9R0CGtZvWRfnif/nI9dkyup9PBranmyhxKS6lS/Lw89S2oU+l92Szpn4fQIkLe5XPSzmJUWvZWLvgn9s833lX5XWn4ptCHCorjCv7WHo1JIpbBJS6qGbdp3S/KT7JD121T8vFHCB6J7y9vJxdkB4PV1sdx3b/Zbh1oaWB8X19MWR+qaFOTEklhd2bC7extbnZ4+4DbgR4Qbz9BKPjTjZB0nuhgI0b+///dC5+1qwr2F8zePhEZRdmTeFW+yk4JsSQ/HVvCiSFTSJ0rtxHD75Xy5zTcDQXQWRULK62xy0Ujfl/wSSsneg1AtC4Dl2gO9+tHSldL3OZXGTbXkrvTLzgJvZlTo0DI5cAJGYeE93bL19hlI1aRtTTqUOJJLXs8OJYFd/8OxEZzhbAyLBW/OpJ22B9SozPcV++dDfFyiI36Vnq6t8vOLdD7ZBB4mFAXMS8GT1/BCaDo81SXO/AXTG+ucyermTZsqGZG7jbdkZu3/9uUKFJewulKhRIfWc3FKyjszcQQPT+VnjZeD4AigIlYPpmuApVtp4VL9sxB2FxymGtnKNh95k18aNz/yb0y+QMk0dlZWKUUOPhsSnoKTnEwHhB6BQ9sTK5bNVZw6/pBSb30yNfVC9n+VRV0ZbBkLVjx4kZHCgehVhV/P9+3l/SOFQ0lbYq7BKuDcxiGexdNtpSci7palVxm+WBLgY9l90X5XOyT5Imn1Nd5EEmy7+A24eRpYzrQYWrQwJwxMPh9piNy397M52MghUGboxDdjtBNzEkaG4t+cmu6roABlDqg0Zn8eDw8M6wKKgK75tfFT7n5wTSWOElW83rLzz7XFrp2Tmf4ePRqEx3Ap2Lp4ufiiqEjAGnGZi8d6bmCk2csIktyKyR6vzNIJ6Rwu4JAckzKUF3RocyNgv6NEsf5d5E6s679jB7nkV6B2l3Gs73+FX6eFTkR5S+vxGu6J+1TtzAFRzAD1GwwA==",WK="/treevera/assets/avif-protozoa-RsH4rUqA.avif",Mi=e=>e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():"",Mb=["KINGDOM","PHYLUM","CLASS","ORDER","FAMILY","GENUS","SPECIES"],YK=e=>{const t=Mb.indexOf(e.toUpperCase());return t>=0&&t<Mb.length-1?Mb[t+1]:null},ZK={Crocodylia:"Order",Squamata:"Order",Testudines:"Order",Sphenodontia:"Order"},gs=e=>{switch(e){case 1:return $K;case 2:return HK;case 3:return GK;case 4:return KK;case 5:return qK;case 6:return L1;case 7:return WK;default:return L1}},XK=[{kingdomKey:1,kingdomName:"Animalia",numDescendants:0,explored:0,icon:gs(1),primaryColor:To[1],lightColor:"#fff3f0",description:"Organismos multicelulares hetertrofos que se alimentam de outros seres vivos.",mainGroups:[{groupName:"Mamferos",pathNode:[{key:1,rank:"KINGDOM",name:"Animalia"},{rank:"PHYLUM",key:44},{rank:"CLASS",key:359}]},{groupName:"Aves",pathNode:[{key:1,rank:"KINGDOM",name:"Animalia"},{rank:"PHYLUM",key:44},{rank:"CLASS",key:212}]},{groupName:"Insetos",pathNode:[{key:1,rank:"KINGDOM",name:"Animalia"},{rank:"PHYLUM",key:54},{rank:"CLASS",key:216}]}]},{kingdomKey:2,kingdomName:"Archaea",numDescendants:0,explored:0,icon:gs(2),primaryColor:To[2],lightColor:"#f8f3ff",description:"Micro-organismos unicelulares procariontes que vivem em ambientes extremos.",mainGroups:[{groupName:"Thermoproteota",pathNode:[{rank:"KINGDOM",key:2,name:"Archaea"},{rank:"PHYLUM",key:10807497}]},{groupName:"Nanoarchaeia",pathNode:[{rank:"KINGDOM",key:2,name:"Archaea"},{rank:"PHYLUM",key:10706191},{rank:"CLASS",key:10809188}]}]},{kingdomKey:3,kingdomName:"Bacteria",numDescendants:0,explored:0,icon:gs(3),primaryColor:To[3],lightColor:"#f0fbf9",description:"Organismos unicelulares procariontes, encontrados em praticamente todos os ambientes.",mainGroups:[{groupName:"Cyanobacteria",pathNode:[{rank:"KINGDOM",key:3,name:"Bacteria"},{rank:"PHYLUM",key:68}]},{groupName:"Flavobacteriales",pathNode:[{rank:"KINGDOM",key:3,name:"Bacteria"},{rank:"PHYLUM",key:10707955},{rank:"CLASS",key:7498440},{rank:"ORDER",key:569}]}]},{kingdomKey:4,kingdomName:"Chromista",numDescendants:0,explored:0,icon:gs(4),primaryColor:To[4],lightColor:"#fff9ed",description:"Grupo diverso de organismos, incluindo algas marrons e diatomceas, geralmente fotossintticos.",mainGroups:[{groupName:"Heterotrichea",pathNode:[{rank:"KINGDOM",key:4,name:"Chromista"},{rank:"PHYLUM",key:7765738},{rank:"CLASS",key:8235041,name:"Chromista"}]},{groupName:"Bacillariophyceae",pathNode:[{rank:"KINGDOM",key:4,name:"Chromista"},{rank:"PHYLUM",key:98},{rank:"CLASS",key:7947184}]}]},{kingdomKey:5,kingdomName:"Fungi",numDescendants:0,explored:0,icon:gs(5),primaryColor:To[5],lightColor:"#fff3ef",description:"Organismos hetertrofos com parede celular quitinosa, decompositores na natureza.",mainGroups:[{groupName:"Cogumelos",pathNode:[{rank:"KINGDOM",key:5},{rank:"PHYLUM",key:34}]},{groupName:"Leveduras",pathNode:[{rank:"KINGDOM",key:5,name:"Fungi"},{rank:"PHYLUM",key:95},{rank:"CLASS",key:182},{rank:"ORDER",key:1281}]}]},{kingdomKey:6,kingdomName:"Plantae",numDescendants:0,explored:0,icon:gs(6),primaryColor:To[6],lightColor:"#f3fbf0",description:"Organismos fotossintticos multicelulares, produtores de oxignio e base das cadeias alimentares.",mainGroups:[{groupName:"Angiospermas",pathNode:[{rank:"KINGDOM",key:6,name:"Plantae"},{rank:"PHYLUM",key:7707728},{rank:"CLASS",key:220}]},{groupName:"Jungermanniopsida",pathNode:[{rank:"KINGDOM",key:6,name:"Plantae"},{rank:"PHYLUM",key:9},{rank:"CLASS",key:126}]},{groupName:"Brifitas",pathNode:[{rank:"KINGDOM",key:6,name:"Plantae"},{rank:"PHYLUM",key:35}]}]},{kingdomKey:7,kingdomName:"Protozoa",numDescendants:0,explored:0,icon:gs(7),primaryColor:To[7],lightColor:"#f0f7ff",description:"Organismos unicelulares eucariontes, geralmente mveis e hetertrofos.",mainGroups:[{groupName:"Amebas",pathNode:[{rank:"KINGDOM",key:7,name:"Protozoa"},{rank:"PHYLUM",key:7509337}]},{groupName:"Euglenoidea",pathNode:[{rank:"KINGDOM",key:7,name:"Protozoa"},{rank:"PHYLUM",key:41}]}]}],j1={KINGDOM:{1:["O reino Animalia foi descrito pela primeira vez por Carl Linnaeus em seu livro Systema Naturae, publicado em 1758.","O termo 'Animalia' tem origem no latim.  o plural de 'animalis', que significa 'ser vivo' ou 'ser que respira'.","Inclui todos os animais multicelulares, heterotrficos e geralmente com mobilidade em alguma fase da vida.","Estima-se que existam mais de 7 milhes de espcies animais, sendo que apenas cerca de 1,5 milho foram descritas pela cincia.","A maioria dos animais se reproduz sexualmente e passa por um desenvolvimento embrionrio complexo.","Os membros do reino Animalia possuem tecidos diferenciados, com exceo de algumas formas muito simples como esponjas.","Representantes do reino Animalia vivem em praticamente todos os ambientes da Terra, incluindo ambientes extremos.","Animalia  um dos cinco (ou seis) reinos na classificao biolgica tradicional, ao lado de Plantae, Fungi, Protista, Bacteria e Archaea."],2:["O reino Archaea inclui organismos procariontes que se distinguem das bactrias por sua bioqumica e gentica.","Archaea foram reconhecidos como um grupo separado das bactrias apenas na dcada de 1970, por Carl Woese.","Esses microrganismos vivem em ambientes extremos, como fontes termais, lagos salgados e regies com pH extremo  por isso so chamados de extremfilos.","Apesar de serem procariontes, os arqueanos possuem algumas semelhanas moleculares com os eucariontes.","Seu DNA  organizado de forma mais complexa que o das bactrias, e suas membranas celulares so compostas por lipdios nicos.","Archaea no causam doenas conhecidas em humanos, ao contrrio de muitas bactrias.","So importantes para processos ecolgicos, como a produo de metano em ambientes anaerbicos.","Atualmente, Archaea  considerado um domnio separado de Bacteria e Eukarya, na rvore da vida moderna."],3:["O reino Bacteria inclui organismos unicelulares procariontes, presentes em praticamente todos os ambientes da Terra.","So extremamente diversos e numerosos  uma colher de solo pode conter bilhes de bactrias.","Bactrias tm papel fundamental na decomposio, ciclos biogeoqumicos e simbioses com outros organismos.","Podem ser patognicas (causadoras de doenas), mas muitas so benficas ou essenciais  vida, como as que vivem no intestino humano.","As bactrias se reproduzem principalmente por fisso binria, uma forma rpida de reproduo assexuada.","Elas foram os primeiros seres vivos da Terra, com fsseis datando de mais de 3,5 bilhes de anos.","Muitas bactrias podem formar esporos resistentes, sobrevivendo a condies extremas por longos perodos.","So amplamente usadas na biotecnologia, agricultura, medicina e indstria alimentar (como na produo de iogurte e queijos)."],4:["Chromista  um reino proposto para agrupar organismos como algas marrons, diatomceas e oomicetos.","Foi introduzido por Thomas Cavalier-Smith em 1981 como uma alternativa ao reino Protista.","A maioria dos organismos do reino Chromista  fotossintetizante, possuindo cloroplastos com origem secundria.","O grupo inclui organismos unicelulares e multicelulares, a maioria vivendo em ambientes aquticos.","Diatomceas, que pertencem a este reino, so importantes produtores primrios em ecossistemas marinhos.","Os membros do reino Chromista possuem parede celular geralmente composta por celulose ou slica.","Alguns membros so patgenos de plantas, como os oomicetos que causam a requeima em batatas.","Ainda h debates sobre a validade do reino Chromista, e sua classificao pode variar entre sistemas taxonmicos."],5:["O reino Fungi inclui organismos eucariontes como cogumelos, leveduras e bolores.","Todos os fungos so heterotrficos e obtm nutrientes por absoro, aps secretar enzimas digestivas no ambiente.","Sua parede celular  composta por quitina, um polissacardeo tambm encontrado no exoesqueleto de artrpodes.","Fungos desempenham papel crucial na decomposio e reciclagem de matria orgnica nos ecossistemas.","Algumas espcies formam micorrizas, associaes simbiticas com razes de plantas, beneficiando ambas.","Outros fungos so usados na produo de alimentos e bebidas, como po, cerveja e vinho, atravs da fermentao.","Vrios fungos so fontes de medicamentos importantes, como a penicilina.","Apesar de parecerem plantas, fungos so mais prximos dos animais na rvore evolutiva."],6:["Protozorios so organismos eucariontes unicelulares tradicionalmente agrupados no reino Protista (ou Protozoa, em classificaes alternativas).","Vivem principalmente em ambientes aquticos ou midos e podem ser de vida livre ou parasitas.","O termo 'protozorio' vem do grego e significa 'primeiro animal', embora eles no sejam animais de fato.","Movimentam-se por flagelos, clios ou pseudpodes, dependendo do grupo.","Alguns protozorios causam doenas em humanos, como a malria (Plasmodium) e a doena de Chagas (Trypanosoma).","So importantes na cadeia alimentar aqutica, atuando como consumidores primrios de bactrias e algas.","A classificao de protozorios tem sido revista, e muitos so hoje redistribudos em supergrupos e domnios modernos.","Apesar de sua simplicidade estrutural, podem ter ciclos de vida complexos com vrias fases e hospedeiros."],7:["O reino Plantae inclui organismos eucariontes multicelulares, autotrficos e com parede celular de celulose.","Realizam fotossntese utilizando clorofila, sendo a base da maioria das cadeias alimentares terrestres.","O termo 'Plantae' vem do latim e significa literalmente 'plantas'.","Inclui desde musgos e samambaias at rvores, gramneas e flores.","As plantas so fundamentais para a produo de oxignio e o sequestro de dixido de carbono na atmosfera.","Existem mais de 390 mil espcies de plantas descritas, das quais cerca de 90% so plantas com flores (angiospermas).","Possuem ciclo de vida com alternncia de geraes (esporfito e gametfito).","Plantas so utilizadas pela humanidade desde a antiguidade para alimentao, medicina, construo, rituais e decorao."]},PHYLUM:["O termo 'Filo' (ou 'Phylum' em ingls)  o segundo maior nvel na hierarquia taxonmica tradicional, logo abaixo do Reino.","Um filo agrupa organismos que compartilham caractersticas estruturais ou funcionais fundamentais.","Filos so usados para representar divergncias evolutivas profundas entre grandes grupos de organismos.","O nmero de filos em um reino pode variar dependendo do grupo de seres vivos e do sistema de classificao adotado.","Em botnica, o termo equivalente a 'filo'  frequentemente 'diviso', embora os dois sejam conceitualmente semelhantes.","A definio de um filo  baseada em critrios anatmicos, genticos e embriolgicos, conforme o grupo de organismos.","Os filos ajudam os cientistas a organizar e compreender a diversidade biolgica em uma escala ampla.","Muitos filos foram estabelecidos com base em fsseis e caractersticas morfolgicas, mas estudos moleculares vm refinando essas classificaes."],CLASS:["Classe  o terceiro nvel na hierarquia taxonmica tradicional, abaixo do filo e acima da ordem.","Uma classe agrupa organismos dentro de um mesmo filo que compartilham caractersticas mais especficas.","O conceito de classe foi introduzido por Carl Linnaeus e permanece amplamente utilizado na classificao moderna.","A quantidade de classes em um reino pode variar bastante dependendo do grupo e do nvel de estudo taxonmico.","A classificao em classes pode ser revista com base em estudos genticos, moleculares e filogenticos modernos.","Algumas classes renem organismos com grande diversidade morfolgica, ecolgica ou gentica.","Classes so importantes para representar agrupamentos intermedirios amplos na hierarquia taxonmica.","Novas classes so ocasionalmente propostas  medida que novas descobertas so feitas, especialmente entre microrganismos e organismos marinhos."],ORDER:["Ordem  um nvel taxonmico que fica abaixo da classe e acima da famlia.","Organismos de uma mesma ordem compartilham caractersticas estruturais e funcionais mais especficas do que os de uma mesma classe.","O conceito de ordem foi formalizado por Carl Linnaeus e continua sendo relevante na taxonomia moderna.","O nmero de ordens em um reino pode variar amplamente, refletindo a diversidade dos organismos agrupados.","Os nomes das ordens seguem convenes especficas em cada ramo da biologia, variando entre zoologia, botnica e microbiologia.","As ordens ajudam a organizar e agrupar famlias que compartilham um ancestral comum relativamente recente.","Algumas ordens contm apenas uma ou poucas espcies, enquanto outras so extremamente diversas.","Estudos moleculares modernos tm levado  criao, fuso ou diviso de ordens, aprimorando a classificao filogentica."],FAMILY:["Famlia  um nvel taxonmico situado abaixo da ordem e acima do gnero.","Rene organismos que compartilham caractersticas morfolgicas, genticas ou comportamentais muito semelhantes.","Os nomes das famlias seguem convenes taxonmicas especficas, como o sufixo '-idae' na zoologia e '-aceae' na botnica.","Uma famlia pode conter um ou vrios gneros e dezenas ou at centenas de espcies.","A delimitao de famlias  feita com base em estudos comparativos, incluindo gentica, morfologia e filogenia.","Novas famlias podem ser criadas conforme o avano da taxonomia molecular e a descoberta de novos organismos.","Famlias facilitam a comunicao cientfica ao agrupar organismos com alto grau de parentesco evolutivo.","O nmero de famlias reconhecidas em cada reino varia conforme o grupo e o nvel de detalhamento taxonmico."],GENUS:["Gnero  uma categoria taxonmica situada abaixo da famlia e acima da espcie.","Agrupa uma ou mais espcies que compartilham caractersticas morfolgicas e genticas muito prximas.","A nomenclatura cientfica binomial utiliza o nome do gnero como a primeira parte do nome de uma espcie.","O conceito de gnero foi introduzido por Carl Linnaeus no sculo XVIII como parte de seu sistema de classificao binomial.","Gneros podem conter uma nica espcie (gneros monoespecficos) ou muitas espcies diferentes.","A delimitao de um gnero  baseada em critrios morfolgicos, anatmicos, comportamentais e moleculares.","Com o avano da gentica, a classificao de muitos gneros tem sido revisada e atualizada.","Existem dezenas de milhares de gneros descritos na natureza, e esse nmero continua crescendo com novas descobertas."]},Ug={},QK=Symbol((Ug?"production":void 0)!=="production"?"RESET":"");let I1=!1;function JK(e,t){(Ug?"production":void 0)!=="production"&&!I1&&(console.warn("[DEPRECATED] atomFamily is deprecated and will be removed in v3. Please use the `jotai-family` package instead: https://github.com/jotaijs/jotai-family"),I1=!0);let n=null;const i=new Map,s=new Set,o=c=>{let d;if(d=i.get(c),d!==void 0)if(n?.(d[1],c))o.remove(c);else return d[0];const h=e(c);return i.set(c,[h,Date.now()]),l("CREATE",c,h),h},l=(c,d,h)=>{for(const g of s)g({type:c,param:d,atom:h})};return o.unstable_listen=c=>(s.add(c),()=>{s.delete(c)}),o.getParams=()=>i.keys(),o.remove=c=>{{if(!i.has(c))return;const[d]=i.get(c);i.delete(c),l("REMOVE",c,d)}},o.setShouldRemove=c=>{if(n=c,!!n)for(const[d,[h,g]]of i)n(g,d)&&(i.delete(d),l("REMOVE",d,h))},o}const jP=e=>typeof e?.then=="function";function eq(e=()=>{try{return window.localStorage}catch(n){(Ug?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(n);return}},t){var n;let i,s;const o={getItem:(d,h)=>{var g,v;const b=C=>{if(C=C||"",i!==C){try{s=JSON.parse(C,t?.reviver)}catch{return h}i=C}return s},_=(v=(g=e())==null?void 0:g.getItem(d))!=null?v:null;return jP(_)?_.then(b):b(_)},setItem:(d,h)=>{var g;return(g=e())==null?void 0:g.setItem(d,JSON.stringify(h,void 0))},removeItem:d=>{var h;return(h=e())==null?void 0:h.removeItem(d)}},l=d=>(h,g,v)=>d(h,b=>{let _;try{_=JSON.parse(b||"")}catch{_=v}g(_)});let c;try{c=(n=e())==null?void 0:n.subscribe}catch{}return!c&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(c=(d,h)=>{if(!(e()instanceof window.Storage))return()=>{};const g=v=>{v.storageArea===e()&&v.key===d&&h(v.newValue)};return window.addEventListener("storage",g),()=>{window.removeEventListener("storage",g)}}),c&&(o.subscribe=l(c)),o}const tq=eq();function nq(e,t,n=tq,i){const s=Pt(t);return(Ug?"production":void 0)!=="production"&&(s.debugPrivate=!0),s.onMount=l=>{l(n.getItem(e,t));let c;return n.subscribe&&(c=n.subscribe(e,l,t)),c},Pt(l=>l(s),(l,c,d)=>{const h=typeof d=="function"?d(l(s)):d;return h===QK?(c(s,t),n.removeItem(e)):jP(h)?h.then(g=>(c(s,g),n.setItem(e,g))):(c(s,h),n.setItem(e,h))})}const iq=Pt({mode:null,status:"NOT_STARTED"}),sq=Pt(XK),rq=Pt({isShaking:!1,shakeDirection:!0}),ql=Pt({}),oq=Pt([]),bu=Pt([]),IP=Pt(null),zP=Pt(null,(e,t,n)=>{t(IP,n)}),aq=Pt(null,(e,t,n)=>{t(ql,i=>{const s={...i};return n.forEach(o=>{s[o.key]={...s[o.key],...o}}),s})}),lq=Pt(null,(e,t,n)=>{t(bu,n)}),cq=JK(e=>Pt(t=>t(ql)[e],(t,n,i)=>{n(ql,s=>{const o=s[e],l=typeof i=="function"?i(o):{...o,...i};return{...s,[e]:l}})})),uq=Pt(null,(e,t,n)=>{const{key:i,children:s}=n;t(ql,o=>{const l={...o};return s.forEach(c=>{l[c.key]={...l[c.key]??{},...c,parentKey:i}}),l[i]={...l[i]??{},childrenKeys:s.map(c=>c.key)},l})});Pt(null,(e,t,n)=>{const i=e(ql),s=i[n];if(!s)return;const o=e(bu),l=o.findIndex(g=>g.key===n);if(l!==-1){t(bu,o.slice(0,l));return}const c=[];let d=s;for(;d;)c.unshift(d),d=d.parentKey?i[d.parentKey]:void 0;const h=c.map(g=>({key:g.key,rank:g.rank,name:g.rank==="KINGDOM"?Mi(Au[g.key]):g.canonicalName||g.scientificName||""}));t(bu,h)});let Wd=new Set;const dq=Pt(null,(e,t)=>{const n=e(bu),i=new Set(n.filter(l=>l.rank!=="SPECIES").map(l=>l.key));if(i.size===Wd.size&&[...i].every(l=>Wd.has(l)))return;const s=[...Wd].filter(l=>!i.has(l)),o=[...i].filter(l=>!Wd.has(l));Wd=i,t(ql,l=>{if(s.length===0&&o.length===0)return l;const c={...l};for(const d of s)c[d]&&(c[d]={...c[d],expanded:!1});for(const d of o){const h=n.find(g=>g.key===d);c[d]?c[d]={...c[d],expanded:!0}:h&&(c[d]={...h,numDescendants:0,expanded:!0})}return c})}),BP=Pt(null);Pt(null,(e,t,n)=>{t(BP,n)});const UP=Pt(null),fq=Pt(null,(e,t,n)=>{t(UP,n)});Pt({});const Da=Pt(null),nt={challenge:iq,exploreInfos:sq,animate:rq,expandedNodes:bu,highlightedRank:BP,scrollToRank:UP,shortcutScrollTarget:IP,nodes:ql,rootKeys:oq,mergeNodes:aq},FP=nq("audio.settings",{muted:!1,volume:.7});function ig(e,[t,n]){return Math.min(n,Math.max(t,e))}function hq(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,R=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:R,children:_})};h.displayName=o+"Provider";function g(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,g]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,pq(s,...t)]}function pq(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function VP(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function mq(e){const t=gq(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(yq);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function gq(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=xq(s),c=bq(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var vq=Symbol("radix.slottable");function yq(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===vq}function bq(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function xq(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var _q=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ih=_q.reduce((e,t)=>{const n=mq(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),$P=["PageUp","PageDown"],HP=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],GP={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Lu="Slider",[Ix,wq,Sq]=Tg(Lu),[KP]=hq(Lu,[Sq]),[Cq,Fg]=KP(Lu),qP=x.forwardRef((e,t)=>{const{name:n,min:i=0,max:s=100,step:o=1,orientation:l="horizontal",disabled:c=!1,minStepsBetweenThumbs:d=0,defaultValue:h=[i],value:g,onValueChange:v=()=>{},onValueCommit:b=()=>{},inverted:_=!1,form:C,...E}=e,R=x.useRef(new Set),N=x.useRef(0),O=l==="horizontal"?Eq:Aq,[M=[],j]=Do({prop:g,defaultProp:h,onChange:q=>{[...R.current][N.current]?.focus(),v(q)}}),U=x.useRef(M);function z(q){const X=Oq(M,q);Z(q,X)}function I(q){Z(q,N.current)}function $(){const q=U.current[N.current];M[N.current]!==q&&b(M)}function Z(q,X,{commit:ne}={commit:!1}){const re=Lq(o),ye=jq(Math.round((q-i)/o)*o+i,re),G=ig(ye,[i,s]);j((W=[])=>{const te=kq(W,G,X);if(Dq(te,d*o)){N.current=te.indexOf(G);const he=String(te)!==String(W);return he&&ne&&b(te),he?te:W}else return W})}return y.jsx(Cq,{scope:e.__scopeSlider,name:n,disabled:c,min:i,max:s,valueIndexToChangeRef:N,thumbs:R.current,values:M,orientation:l,form:C,children:y.jsx(Ix.Provider,{scope:e.__scopeSlider,children:y.jsx(Ix.Slot,{scope:e.__scopeSlider,children:y.jsx(O,{"aria-disabled":c,"data-disabled":c?"":void 0,...E,ref:t,onPointerDown:je(E.onPointerDown,()=>{c||(U.current=M)}),min:i,max:s,inverted:_,onSlideStart:c?void 0:z,onSlideMove:c?void 0:I,onSlideEnd:c?void 0:$,onHomeKeyDown:()=>!c&&Z(i,0,{commit:!0}),onEndKeyDown:()=>!c&&Z(s,M.length-1,{commit:!0}),onStepKeyDown:({event:q,direction:X})=>{if(!c){const ye=$P.includes(q.key)||q.shiftKey&&HP.includes(q.key)?10:1,G=N.current,W=M[G],te=o*ye*X;Z(W+te,G,{commit:!0})}}})})})})});qP.displayName=Lu;var[WP,YP]=KP(Lu,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Eq=x.forwardRef((e,t)=>{const{min:n,max:i,dir:s,inverted:o,onSlideStart:l,onSlideMove:c,onSlideEnd:d,onStepKeyDown:h,...g}=e,[v,b]=x.useState(null),_=wt(t,O=>b(O)),C=x.useRef(void 0),E=Rg(s),R=E==="ltr",N=R&&!o||!R&&o;function k(O){const M=C.current||v.getBoundingClientRect(),j=[0,M.width],z=M_(j,N?[n,i]:[i,n]);return C.current=M,z(O-M.left)}return y.jsx(WP,{scope:e.__scopeSlider,startEdge:N?"left":"right",endEdge:N?"right":"left",direction:N?1:-1,size:"width",children:y.jsx(ZP,{dir:E,"data-orientation":"horizontal",...g,ref:_,style:{...g.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:O=>{const M=k(O.clientX);l?.(M)},onSlideMove:O=>{const M=k(O.clientX);c?.(M)},onSlideEnd:()=>{C.current=void 0,d?.()},onStepKeyDown:O=>{const j=GP[N?"from-left":"from-right"].includes(O.key);h?.({event:O,direction:j?-1:1})}})})}),Aq=x.forwardRef((e,t)=>{const{min:n,max:i,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...h}=e,g=x.useRef(null),v=wt(t,g),b=x.useRef(void 0),_=!s;function C(E){const R=b.current||g.current.getBoundingClientRect(),N=[0,R.height],O=M_(N,_?[i,n]:[n,i]);return b.current=R,O(E-R.top)}return y.jsx(WP,{scope:e.__scopeSlider,startEdge:_?"bottom":"top",endEdge:_?"top":"bottom",size:"height",direction:_?1:-1,children:y.jsx(ZP,{"data-orientation":"vertical",...h,ref:v,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:E=>{const R=C(E.clientY);o?.(R)},onSlideMove:E=>{const R=C(E.clientY);l?.(R)},onSlideEnd:()=>{b.current=void 0,c?.()},onStepKeyDown:E=>{const N=GP[_?"from-bottom":"from-top"].includes(E.key);d?.({event:E,direction:N?-1:1})}})})}),ZP=x.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:i,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:l,onEndKeyDown:c,onStepKeyDown:d,...h}=e,g=Fg(Lu,n);return y.jsx(ih.span,{...h,ref:t,onKeyDown:je(e.onKeyDown,v=>{v.key==="Home"?(l(v),v.preventDefault()):v.key==="End"?(c(v),v.preventDefault()):$P.concat(HP).includes(v.key)&&(d(v),v.preventDefault())}),onPointerDown:je(e.onPointerDown,v=>{const b=v.target;b.setPointerCapture(v.pointerId),v.preventDefault(),g.thumbs.has(b)?b.focus():i(v)}),onPointerMove:je(e.onPointerMove,v=>{v.target.hasPointerCapture(v.pointerId)&&s(v)}),onPointerUp:je(e.onPointerUp,v=>{const b=v.target;b.hasPointerCapture(v.pointerId)&&(b.releasePointerCapture(v.pointerId),o(v))})})}),XP="SliderTrack",QP=x.forwardRef((e,t)=>{const{__scopeSlider:n,...i}=e,s=Fg(XP,n);return y.jsx(ih.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...i,ref:t})});QP.displayName=XP;var zx="SliderRange",JP=x.forwardRef((e,t)=>{const{__scopeSlider:n,...i}=e,s=Fg(zx,n),o=YP(zx,n),l=x.useRef(null),c=wt(t,l),d=s.values.length,h=s.values.map(b=>nM(b,s.min,s.max)),g=d>1?Math.min(...h):0,v=100-Math.max(...h);return y.jsx(ih.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...i,ref:c,style:{...e.style,[o.startEdge]:g+"%",[o.endEdge]:v+"%"}})});JP.displayName=zx;var Bx="SliderThumb",eM=x.forwardRef((e,t)=>{const n=wq(e.__scopeSlider),[i,s]=x.useState(null),o=wt(t,c=>s(c)),l=x.useMemo(()=>i?n().findIndex(c=>c.ref.current===i):-1,[n,i]);return y.jsx(Tq,{...e,ref:o,index:l})}),Tq=x.forwardRef((e,t)=>{const{__scopeSlider:n,index:i,name:s,...o}=e,l=Fg(Bx,n),c=YP(Bx,n),[d,h]=x.useState(null),g=wt(t,k=>h(k)),v=d?l.form||!!d.closest("form"):!0,b=SN(d),_=l.values[i],C=_===void 0?0:nM(_,l.min,l.max),E=Nq(i,l.values.length),R=b?.[c.size],N=R?Pq(R,C,c.direction):0;return x.useEffect(()=>{if(d)return l.thumbs.add(d),()=>{l.thumbs.delete(d)}},[d,l.thumbs]),y.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${C}% + ${N}px)`},children:[y.jsx(Ix.ItemSlot,{scope:e.__scopeSlider,children:y.jsx(ih.span,{role:"slider","aria-label":e["aria-label"]||E,"aria-valuemin":l.min,"aria-valuenow":_,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...o,ref:g,style:_===void 0?{display:"none"}:e.style,onFocus:je(e.onFocus,()=>{l.valueIndexToChangeRef.current=i})})}),v&&y.jsx(tM,{name:s??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:_},i)]})});eM.displayName=Bx;var Rq="RadioBubbleInput",tM=x.forwardRef(({__scopeSlider:e,value:t,...n},i)=>{const s=x.useRef(null),o=wt(s,i),l=VP(t);return x.useEffect(()=>{const c=s.current;if(!c)return;const d=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&g){const v=new Event("input",{bubbles:!0});g.call(c,t),c.dispatchEvent(v)}},[l,t]),y.jsx(ih.input,{style:{display:"none"},...n,ref:o,defaultValue:t})});tM.displayName=Rq;function kq(e=[],t,n){const i=[...e];return i[n]=t,i.sort((s,o)=>s-o)}function nM(e,t,n){const o=100/(n-t)*(e-t);return ig(o,[0,100])}function Nq(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Oq(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),i=Math.min(...n);return n.indexOf(i)}function Pq(e,t,n){const i=e/2,o=M_([0,50],[0,i]);return(i-o(t)*n)*n}function Mq(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function Dq(e,t){if(t>0){const n=Mq(e);return Math.min(...n)>=t}return!0}function M_(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(n-e[0])}}function Lq(e){return(String(e).split(".")[1]||"").length}function jq(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}const iM=Pt(null),sM=Pt(null),rM=Pt("idle"),oM=Pt("idle"),aM=Pt(!1),Iq=Pt(null),zq=Pt(e=>{const t=e(iM),n=e(sM);return e(aM)&&!!t?.user&&!!n});Pt(e=>e(rM)==="loading"||e(oM)==="loading");const Bq=Pt(null);Pt(!1);const at={session:iM,userDb:sM,loginStatus:rM,logoutStatus:oM,error:Iq,initialized:aM,isAuthenticated:zq,lastAuthCheck:Bq},Uq=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class D_ extends Error{constructor(t,n="FunctionsError",i){super(t),this.name=n,this.context=i}}class Fq extends D_{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class z1 extends D_{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class B1 extends D_{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ux;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ux||(Ux={}));class Vq{constructor(t,{headers:n={},customFetch:i,region:s=Ux.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Uq(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return SF(this,arguments,void 0,function*(n,i={}){var s;let o,l;try{const{headers:c,method:d,body:h,signal:g,timeout:v}=i;let b={},{region:_}=i;_||(_=this.region);const C=new URL(`${this.url}/${n}`);_&&_!=="any"&&(b["x-region"]=_,C.searchParams.set("forceFunctionRegion",_));let E;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",E=h):typeof h=="string"?(b["Content-Type"]="text/plain",E=h):typeof FormData<"u"&&h instanceof FormData?E=h:(b["Content-Type"]="application/json",E=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?E=JSON.stringify(h):E=h;let R=g;v&&(l=new AbortController,o=setTimeout(()=>l.abort(),v),g?(R=l.signal,g.addEventListener("abort",()=>l.abort())):R=l.signal);const N=yield this.fetch(C.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),c),body:E,signal:R}).catch(j=>{throw new Fq(j)}),k=N.headers.get("x-relay-error");if(k&&k==="true")throw new z1(N);if(!N.ok)throw new B1(N);let O=((s=N.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),M;return O==="application/json"?M=yield N.json():O==="application/octet-stream"||O==="application/pdf"?M=yield N.blob():O==="text/event-stream"?M=N:O==="multipart/form-data"?M=yield N.formData():M=yield N.text(),{data:M,error:null,response:N}}catch(c){return{data:null,error:c,response:c instanceof B1||c instanceof z1?c.context:void 0}}finally{o&&clearTimeout(o)}})}}var $q=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Hq=class{constructor(e){var t,n,i;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(i=e.urlLengthLimit)!==null&&i!==void 0?i:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let s=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let l=null,c=null,d=null,h=o.status,g=o.statusText;if(o.ok){var v,b;if(n.method!=="HEAD"){var _;const N=await o.text();N===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((_=n.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?c=N:c=JSON.parse(N))}const E=(v=n.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),R=(b=o.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");E&&R&&R.length>1&&(d=parseInt(R[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(c)&&(c.length>1?(l={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,h=406,g="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var C;const E=await o.text();try{l=JSON.parse(E),Array.isArray(l)&&o.status===404&&(c=[],l=null,h=200,g="OK")}catch{o.status===404&&E===""?(h=204,g="No Content"):l={message:E}}if(l&&n.isMaybeSingle&&(!(l==null||(C=l.details)===null||C===void 0)&&C.includes("0 rows"))&&(l=null,h=200,g="OK"),l&&n.shouldThrowOnError)throw new $q(l)}return{error:l,data:c,count:d,status:h,statusText:g}});return this.shouldThrowOnError||(s=s.catch(o=>{var l;let c="",d="",h="";const g=o?.cause;if(g){var v,b,_,C;const N=(v=g?.message)!==null&&v!==void 0?v:"",k=(b=g?.code)!==null&&b!==void 0?b:"";c=`${(_=o?.name)!==null&&_!==void 0?_:"FetchError"}: ${o?.message}`,c+=`

Caused by: ${(C=g?.name)!==null&&C!==void 0?C:"Error"}: ${N}`,k&&(c+=` (${k})`),g?.stack&&(c+=`
${g.stack}`)}else{var E;c=(E=o?.stack)!==null&&E!==void 0?E:""}const R=this.url.toString().length;return o?.name==="AbortError"||o?.code==="ABORT_ERR"?(h="",d="Request was aborted (timeout or manual cancellation)",R>this.urlLengthLimit&&(d+=`. Note: Your request URL is ${R} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(g?.name==="HeadersOverflowError"||g?.code==="UND_ERR_HEADERS_OVERFLOW")&&(h="",d="HTTP headers exceeded server limits (typically 16KB)",R>this.urlLengthLimit&&(d+=`. Your request URL is ${R} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(l=o?.name)!==null&&l!==void 0?l:"FetchError"}: ${o?.message}`,details:c,hint:d,code:h},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},Gq=class extends Hq{select(e){let t=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,t?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const U1=new RegExp("[,()]");var su=class extends Gq{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(i=>typeof i=="string"&&U1.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(i=>typeof i=="string"&&U1.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},Kq=class{constructor(e,{headers:t={},schema:n,fetch:i,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=i,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:i}=t??{},s=n?"HEAD":"GET";let o=!1;const l=(e??"*").split("").map(h=>/\s/.test(h)&&!o?"":(h==='"'&&(o=!o),h)).join(""),{url:c,headers:d}=this.cloneRequestState();return c.searchParams.set("select",l),i&&d.append("Prefer",`count=${i}`),new su({method:s,url:c,headers:d,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var i;const s="POST",{url:o,headers:l}=this.cloneRequestState();if(t&&l.append("Prefer",`count=${t}`),n||l.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(c.length>0){const d=[...new Set(c)].map(h=>`"${h}"`);o.searchParams.set("columns",d.join(","))}}return new su({method:s,url:o,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){var o;const l="POST",{url:c,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&c.searchParams.set("on_conflict",t),i&&d.append("Prefer",`count=${i}`),s||d.append("Prefer","missing=default"),Array.isArray(e)){const h=e.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(h.length>0){const g=[...new Set(h)].map(v=>`"${v}"`);c.searchParams.set("columns",g.join(","))}}return new su({method:l,url:c,headers:d,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const i="PATCH",{url:s,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new su({method:i,url:s,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:i,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new su({method:n,url:i,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function qq(e,t){if(Ef(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Ef(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wq(e){var t=qq(e,"string");return Ef(t)=="symbol"?t:t+""}function Yq(e,t,n){return(t=Wq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function tm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F1(Object(n),!0).forEach(function(i){Yq(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F1(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}var Zq=class lM{constructor(t,{headers:n={},schema:i,fetch:s,timeout:o,urlLengthLimit:l=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=i,this.urlLengthLimit=l;const c=s??globalThis.fetch;o!==void 0&&o>0?this.fetch=(d,h)=>{const g=new AbortController,v=setTimeout(()=>g.abort(),o),b=h?.signal;if(b){if(b.aborted)return clearTimeout(v),c(d,h);const _=()=>{clearTimeout(v),g.abort()};return b.addEventListener("abort",_,{once:!0}),c(d,tm(tm({},h),{},{signal:g.signal})).finally(()=>{clearTimeout(v),b.removeEventListener("abort",_)})}return c(d,tm(tm({},h),{},{signal:g.signal})).finally(()=>clearTimeout(v))}:this.fetch=c}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Kq(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new lM(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:i=!1,get:s=!1,count:o}={}){var l;let c;const d=new URL(`${this.url}/rpc/${t}`);let h;const g=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(g)),v=i&&Object.values(n).some(g);v?(c="POST",h=n):i||s?(c=i?"HEAD":"GET",Object.entries(n).filter(([_,C])=>C!==void 0).map(([_,C])=>[_,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([_,C])=>{d.searchParams.append(_,C)})):(c="POST",h=n);const b=new Headers(this.headers);return v?b.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&b.set("Prefer",`count=${o}`),new su({method:c,url:d,headers:b,schema:this.schemaName,body:h,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}};class Xq{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const i=n.versions;if(i&&i.node){const s=i.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const i=this.getWebSocketConstructor();return new i(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Qq="2.97.0",Jq=`realtime-js/${Qq}`,e9="1.0.0",cM="2.0.0",V1=cM,Fx=1e4,t9=1e3,n9=100;var Sa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Sa||(Sa={}));var Bn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Bn||(Bn={}));var dr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(dr||(dr={}));var Vx;(function(e){e.websocket="websocket"})(Vx||(Vx={}));var Pl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Pl||(Pl={}));class i9{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let i=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,i;const s=(i=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,i;const s=(i=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:{},l=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,n,i){var s,o;const l=t.topic,c=(s=t.ref)!==null&&s!==void 0?s:"",d=(o=t.join_ref)!==null&&o!==void 0?o:"",h=t.payload.event,g=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},v=Object.keys(g).length===0?"":JSON.stringify(g);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+c.length+l.length+h.length+v.length,_=new ArrayBuffer(this.HEADER_LENGTH+b);let C=new DataView(_),E=0;C.setUint8(E++,this.KINDS.userBroadcastPush),C.setUint8(E++,d.length),C.setUint8(E++,c.length),C.setUint8(E++,l.length),C.setUint8(E++,h.length),C.setUint8(E++,v.length),C.setUint8(E++,n),Array.from(d,N=>C.setUint8(E++,N.charCodeAt(0))),Array.from(c,N=>C.setUint8(E++,N.charCodeAt(0))),Array.from(l,N=>C.setUint8(E++,N.charCodeAt(0))),Array.from(h,N=>C.setUint8(E++,N.charCodeAt(0))),Array.from(v,N=>C.setUint8(E++,N.charCodeAt(0)));var R=new Uint8Array(_.byteLength+i.byteLength);return R.set(new Uint8Array(_),0),R.set(new Uint8Array(i),_.byteLength),R.buffer}decode(t,n){if(this._isArrayBuffer(t)){let i=this._binaryDecode(t);return n(i)}if(typeof t=="string"){const i=JSON.parse(t),[s,o,l,c,d]=i;return n({join_ref:s,ref:o,topic:l,event:c,payload:d})}return n({})}_binaryDecode(t){const n=new DataView(t),i=n.getUint8(0),s=new TextDecoder;if(i===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,n,s)}_decodeUserBroadcast(t,n,i){const s=n.getUint8(1),o=n.getUint8(2),l=n.getUint8(3),c=n.getUint8(4);let d=this.HEADER_LENGTH+4;const h=i.decode(t.slice(d,d+s));d=d+s;const g=i.decode(t.slice(d,d+o));d=d+o;const v=i.decode(t.slice(d,d+l));d=d+l;const b=t.slice(d,t.byteLength),_=c===this.JSON_ENCODING?JSON.parse(i.decode(b)):b,C={type:this.BROADCAST_EVENT,event:g,payload:_};return l>0&&(C.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([i])=>n.includes(i)))}}let uM=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Xt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Xt||(Xt={}));const $1=(e,t,n={})=>{var i;const s=(i=n.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((o,l)=>(o[l]=s9(l,e,t,s),o),{}):{}},s9=(e,t,n,i)=>{const s=t.find(c=>c.name===e),o=s?.type,l=n[e];return o&&!i.includes(o)?dM(o,l):$x(l)},dM=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return l9(t,n)}switch(e){case Xt.bool:return r9(t);case Xt.float4:case Xt.float8:case Xt.int2:case Xt.int4:case Xt.int8:case Xt.numeric:case Xt.oid:return o9(t);case Xt.json:case Xt.jsonb:return a9(t);case Xt.timestamp:return c9(t);case Xt.abstime:case Xt.date:case Xt.daterange:case Xt.int4range:case Xt.int8range:case Xt.money:case Xt.reltime:case Xt.text:case Xt.time:case Xt.timestamptz:case Xt.timetz:case Xt.tsrange:case Xt.tstzrange:return $x(t);default:return $x(t)}},$x=e=>e,r9=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},o9=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},a9=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},l9=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,i=e[n];if(e[0]==="{"&&i==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(c=>dM(t,c))}return e},c9=e=>typeof e=="string"?e.replace(" ","T"):e,fM=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Db{constructor(t,n,i={},s=Fx){this.channel=t,this.event=n,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var i;return this._hasReceived(t)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var H1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(H1||(H1={}));class lf{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lf.syncState(this.state,s,o,l),this.pendingDiffs.forEach(d=>{this.state=lf.syncDiff(this.state,d,o,l)}),this.pendingDiffs=[],c()}),this.channel._on(i.diff,{},s=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=lf.syncDiff(this.state,s,o,l),c())}),this.onJoin((s,o,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:l})}),this.onLeave((s,o,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,i,s){const o=this.cloneDeep(t),l=this.transformState(n),c={},d={};return this.map(o,(h,g)=>{l[h]||(d[h]=g)}),this.map(l,(h,g)=>{const v=o[h];if(v){const b=g.map(R=>R.presence_ref),_=v.map(R=>R.presence_ref),C=g.filter(R=>_.indexOf(R.presence_ref)<0),E=v.filter(R=>b.indexOf(R.presence_ref)<0);C.length>0&&(c[h]=C),E.length>0&&(d[h]=E)}else c[h]=g}),this.syncDiff(o,{joins:c,leaves:d},i,s)}static syncDiff(t,n,i,s){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(o,(c,d)=>{var h;const g=(h=t[c])!==null&&h!==void 0?h:[];if(t[c]=this.cloneDeep(d),g.length>0){const v=t[c].map(_=>_.presence_ref),b=g.filter(_=>v.indexOf(_.presence_ref)<0);t[c].unshift(...b)}i(c,g,d)}),this.map(l,(c,d)=>{let h=t[c];if(!h)return;const g=d.map(v=>v.presence_ref);h=h.filter(v=>g.indexOf(v.presence_ref)<0),t[c]=h,s(c,h,d),h.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(i=>n(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,i)=>{const s=t[i];return"metas"in s?n[i]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[i]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var G1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(G1||(G1={}));var cf;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(cf||(cf={}));var Ro;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ro||(Ro={}));class lu{constructor(t,n={config:{}},i){var s,o;if(this.topic=t,this.params=n,this.socket=i,this.bindings={},this.state=Bn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Db(this,dr.join,this.params,this.timeout),this.rejoinTimer=new uM(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Bn.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Bn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Bn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Bn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(dr.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new lf(this),this.broadcastEndpointURL=fM(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var i,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Bn.closed){const{config:{broadcast:l,presence:c,private:d}}=this.params,h=(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&s!==void 0?s:[],g=!!this.bindings[cf.PRESENCE]&&this.bindings[cf.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,v={},b={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:g}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(_=>t?.(Ro.CHANNEL_ERROR,_)),this._onClose(()=>t?.(Ro.CLOSED)),this.updateJoinPayload(Object.assign({config:b},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){t?.(Ro.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,R=(C=E?.length)!==null&&C!==void 0?C:0,N=[];for(let k=0;k<R;k++){const O=E[k],{filter:{event:M,schema:j,table:U,filter:z}}=O,I=_&&_[k];if(I&&I.event===M&&lu.isFilterValueEqual(I.schema,j)&&lu.isFilterValueEqual(I.table,U)&&lu.isFilterValueEqual(I.filter,z))N.push(Object.assign(Object.assign({},O),{id:I.id}));else{this.unsubscribe(),this.state=Bn.errored,t?.(Ro.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(Ro.SUBSCRIBED);return}}).receive("error",_=>{this.state=Bn.errored,t?.(Ro.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t?.(Ro.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,i){return this.state===Bn.joined&&t===cf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,i)}async httpSend(t,n,i={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const h=await c.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}async send(t,n={}){var i,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=t,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,c,d;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Bn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(dr.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(s=>{i=new Db(this,dr.leave,{},t),i.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Bn.closed,this.bindings={}}async _fetchWithTimeout(t,n,i){const s=new AbortController,o=setTimeout(()=>s.abort(),i),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),l}_push(t,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Db(this,t,n,i);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>n9){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,i){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,i){var s,o;const l=t.toLocaleLowerCase(),{close:c,error:d,leave:h,join:g}=dr;if(i&&[c,d,h,g].indexOf(l)>=0&&i!==this._joinRef())return;let b=this._onMessage(l,n,i);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(_=>{var C,E,R;return((C=_.filter)===null||C===void 0?void 0:C.event)==="*"||((R=(E=_.filter)===null||E===void 0?void 0:E.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===l}).map(_=>_.callback(b,i)):(o=this.bindings[l])===null||o===void 0||o.filter(_=>{var C,E,R,N,k,O;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in _){const M=_.id,j=(C=_.filter)===null||C===void 0?void 0:C.event;return M&&((E=n.ids)===null||E===void 0?void 0:E.includes(M))&&(j==="*"||j?.toLocaleLowerCase()===((R=n.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const M=(k=(N=_?.filter)===null||N===void 0?void 0:N.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return M==="*"||M===((O=n?.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===l}).map(_=>{if(typeof b=="object"&&"ids"in b){const C=b.data,{schema:E,table:R,commit_timestamp:N,type:k,errors:O}=C;b=Object.assign(Object.assign({},{schema:E,table:R,commit_timestamp:N,eventType:k,new:{},old:{},errors:O}),this._getPayloadRecords(C))}_.callback(b,i)})}_isClosed(){return this.state===Bn.closed}_isJoined(){return this.state===Bn.joined}_isJoining(){return this.state===Bn.joining}_isLeaving(){return this.state===Bn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,i){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:i};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&lu.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const i in t)if(t[i]!==n[i])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(dr.close,{},t)}_onError(t){this._on(dr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=$1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=$1(t.columns,t.old_record)),n}}const Lb=()=>{},nm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},u9=[1e3,2e3,5e3,1e4],d9=1e4,f9=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class h9{constructor(t,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fx,this.transport=null,this.heartbeatIntervalMs=nm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Lb,this.ref=0,this.reconnectTimer=null,this.vsn=V1,this.logger=Lb,this.conn=null,this.sendBuffer=[],this.serializer=new i9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((i=n?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Vx.websocket}`,this.httpEndpoint=fM(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Xq.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,i){this.logger(t,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Sa.connecting:return Pl.Connecting;case Sa.open:return Pl.Open;case Sa.closing:return Pl.Closing;default:return Pl.Closed}}isConnected(){return this.connectionState()===Pl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const i=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===i);if(s)return s;{const o=new lu(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:i,payload:s,ref:o}=t,l=()=>{this.encode(t,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${n} ${i} (${o})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(t9,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},nm.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",h)}catch(g){this.log("error","error in heartbeat callback",g)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:s,payload:o,ref:l}=n,c=l?`(${l})`:"",d=o.status||"";this.log("receive",`${d} ${i} ${s} ${c}`.trim(),o),this.channels.filter(h=>h._isMember(i)).forEach(h=>h._trigger(s,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Sa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Sa.open||this.conn.readyState===Sa.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(dr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const i=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${i}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const i=new Blob([f9],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,i=!1;if(t)n=t,i=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const o={access_token:n,version:Jq};n&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(dr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new uM(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},nm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,i,s,o,l,c,d,h,g,v,b,_;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(i=t?.timeout)!==null&&i!==void 0?i:Fx,this.heartbeatIntervalMs=(s=t?.heartbeatIntervalMs)!==null&&s!==void 0?s:nm.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=t?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=t?.heartbeatCallback)!==null&&c!==void 0?c:Lb,this.vsn=(d=t?.vsn)!==null&&d!==void 0?d:V1,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t?.reconnectAfterMs)!==null&&h!==void 0?h:(C=>u9[C-1]||d9),this.vsn){case e9:this.encode=(g=t?.encode)!==null&&g!==void 0?g:((C,E)=>E(JSON.stringify(C))),this.decode=(v=t?.decode)!==null&&v!==void 0?v:((C,E)=>E(JSON.parse(C)));break;case cM:this.encode=(b=t?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(_=t?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var Af=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function p9(e,t,n){const i=new URL(t,e);if(n)for(const[s,o]of Object.entries(n))o!==void 0&&i.searchParams.set(s,o);return i.toString()}async function m9(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function g9(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:i,query:s,body:o,headers:l}){const c=p9(e.baseUrl,i,s),d=await m9(e.auth),h=await t(c,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...d,...l},body:o?JSON.stringify(o):void 0}),g=await h.text(),v=(h.headers.get("content-type")||"").includes("application/json"),b=v&&g?JSON.parse(g):g;if(!h.ok){const _=v?b:void 0,C=_?.error;throw new Af(C?.message??`Request failed with status ${h.status}`,{status:h.status,icebergType:C?.type,icebergCode:C?.code,details:_})}return{status:h.status,headers:h.headers,data:b}}}}function im(e){return e.join("")}var v9=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:im(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${im(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${im(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${im(e.namespace)}`}),!0}catch(t){if(t instanceof Af&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Af&&n.status===409)return;throw n}}};function Yc(e){return e.join("")}var y9=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yc(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Yc(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Yc(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Yc(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yc(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Yc(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Af&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Af&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},b9=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=g9({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new v9(this.client,t),this.tableOps=new y9(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Vg=class extends Error{constructor(e,t="storage",n,i){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=i}};function $g(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var sm=class extends Vg{constructor(e,t,n,i="storage"){super(e,i,t,n),this.name=i==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},hM=class extends Vg{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const x9=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),_9=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Hx=e=>{if(Array.isArray(e))return e.map(n=>Hx(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,i])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Hx(i)}),t},w9=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}function S9(e,t){if(Tf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Tf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C9(e){var t=S9(e,"string");return Tf(t)=="symbol"?t:t+""}function E9(e,t,n){return(t=C9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K1(Object(n),!0).forEach(function(i){E9(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K1(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}const q1=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},A9=async(e,t,n,i)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const s=e,o=s.status||500;if(typeof s.json=="function")s.json().then(l=>{const c=l?.statusCode||l?.code||o+"";t(new sm(q1(l),o,c,i))}).catch(()=>{if(i==="vectors"){const l=o+"";t(new sm(s.statusText||`HTTP ${o} error`,o,l,i))}else{const l=o+"";t(new sm(s.statusText||`HTTP ${o} error`,o,l,i))}});else{const l=o+"";t(new sm(s.statusText||`HTTP ${o} error`,o,l,i))}}else t(new hM(q1(e),e,i))},T9=(e,t,n,i)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"||e==="HEAD"||!i?Qe(Qe({},s),n):(_9(i)?(s.headers=Qe({"Content-Type":"application/json"},t?.headers),s.body=JSON.stringify(i)):s.body=i,t?.duplex&&(s.duplex=t.duplex),Qe(Qe({},s),n))};async function Yd(e,t,n,i,s,o,l){return new Promise((c,d)=>{e(n,T9(t,i,s,o)).then(h=>{if(!h.ok)throw h;if(i?.noResolveJson)return h;if(l==="vectors"){const g=h.headers.get("content-type");if(h.headers.get("content-length")==="0"||h.status===204)return{};if(!g||!g.includes("application/json"))return{}}return h.json()}).then(h=>c(h)).catch(h=>A9(h,d,i,l))})}function pM(e="storage"){return{get:async(t,n,i,s)=>Yd(t,"GET",n,i,s,void 0,e),post:async(t,n,i,s,o)=>Yd(t,"POST",n,s,o,i,e),put:async(t,n,i,s,o)=>Yd(t,"PUT",n,s,o,i,e),head:async(t,n,i,s)=>Yd(t,"HEAD",n,Qe(Qe({},i),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,n,i,s,o)=>Yd(t,"DELETE",n,s,o,i,e)}}const R9=pM("storage"),{get:Rf,post:ur,put:Gx,head:k9,remove:L_}=R9,ys=pM("vectors");var ju=class{constructor(e,t={},n,i="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=x9(n),this.namespace=i}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Qe(Qe({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if($g(n))return{data:null,error:n};throw n}}},N9=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if($g(t))return{data:null,error:t};throw t}}};let mM;mM=Symbol.toStringTag;var O9=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[mM]="BlobDownloadBuilder",this.promise=null}asStream(){return new N9(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if($g(t))return{data:null,error:t};throw t}}};const P9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},W1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var M9=class extends ju{constructor(e,t={},n,i){super(e,t,i,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,i){var s=this;return s.handleOperation(async()=>{let o;const l=Qe(Qe({},W1),i);let c=Qe(Qe({},s.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",s.encodeMetadata(d)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",l.cacheControl),d&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(d))):(o=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,d&&(c["x-metadata"]=s.toBase64(s.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!l.duplex&&(l.duplex="half")),i?.headers&&(c=Qe(Qe({},c),i.headers));const h=s._removeEmptyFolders(t),g=s._getFinalPath(h),v=await(e=="PUT"?Gx:ur)(s.fetch,`${s.url}/object/${g}`,o,Qe({headers:c},l?.duplex?{duplex:l.duplex}:{}));return{path:h,id:v.Id,fullPath:v.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,i){var s=this;const o=s._removeEmptyFolders(e),l=s._getFinalPath(o),c=new URL(s.url+`/object/upload/sign/${l}`);return c.searchParams.set("token",t),s.handleOperation(async()=>{let d;const h=Qe({upsert:W1.upsert},i),g=Qe(Qe({},s.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",h.cacheControl)):(d=n,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType),{path:o,fullPath:(await Gx(s.fetch,c.toString(),d,{headers:g})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(e);const s=Qe({},n.headers);t?.upsert&&(s["x-upsert"]="true");const o=await ur(n.fetch,`${n.url}/object/upload/sign/${i}`,{},{headers:s}),l=new URL(n.url+o.url),c=l.searchParams.get("token");if(!c)throw new Vg("No token returned by API");return{signedUrl:l.toString(),path:e,token:c}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var i=this;return i.handleOperation(async()=>await ur(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:i.headers}))}async copy(e,t,n){var i=this;return i.handleOperation(async()=>({path:(await ur(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:i.headers})).Key}))}async createSignedUrl(e,t,n){var i=this;return i.handleOperation(async()=>{let s=i._getFinalPath(e),o=await ur(i.fetch,`${i.url}/object/sign/${s}`,Qe({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:i.headers});const l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${i.url}${o.signedURL}${l}`)}})}async createSignedUrls(e,t,n){var i=this;return i.handleOperation(async()=>{const s=await ur(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:t,paths:e},{headers:i.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s.map(l=>Qe(Qe({},l),{},{signedUrl:l.signedURL?encodeURI(`${i.url}${l.signedURL}${o}`):null}))})}download(e,t,n){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(t?.transform||{}),o=s?`?${s}`:"",l=this._getFinalPath(e),c=()=>Rf(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0},n);return new O9(c,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>Hx(await Rf(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await k9(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(i){if(t.shouldThrowOnError)throw i;if($g(i)&&i instanceof hM){const s=i.originalError;if([400,404].includes(s?.status))return{data:!1,error:i}}throw i}}getPublicUrl(e,t){const n=this._getFinalPath(e),i=[],s=t?.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&i.push(s);const o=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await L_(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var i=this;return i.handleOperation(async()=>{const s=Qe(Qe(Qe({},P9),t),{},{prefix:e||""});return await ur(i.fetch,`${i.url}/object/list/${i.bucketId}`,s,{headers:i.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const i=Qe({},e);return await ur(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,i,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const D9="2.97.0",sh={"X-Client-Info":`storage-js/${D9}`};var L9=class extends ju{constructor(e,t={},n,i){const s=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const o=s.href.replace(/\/$/,""),l=Qe(Qe({},sh),t);super(o,l,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await Rf(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Rf(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await ur(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await Gx(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await ur(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await L_(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},j9=class extends ju{constructor(e,t={},n){const i=e.replace(/\/$/,""),s=Qe(Qe({},sh),t);super(i,s,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ur(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const i=n.toString(),s=i?`${t.url}/bucket?${i}`:`${t.url}/bucket`;return await Rf(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await L_(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!w9(e))throw new Vg("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new b9({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(n,{get(s,o){const l=s[o];return typeof l!="function"?l:async(...c)=>{try{return{data:await l.apply(s,c),error:null}}catch(d){if(i)throw d;return{data:null,error:d}}}}})}},I9=class extends ju{constructor(e,t={},n){const i=e.replace(/\/$/,""),s=Qe(Qe({},sh),{},{"Content-Type":"application/json"},t);super(i,s,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await ys.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await ys.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},z9=class extends ju{constructor(e,t={},n){const i=e.replace(/\/$/,""),s=Qe(Qe({},sh),{},{"Content-Type":"application/json"},t);super(i,s,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},B9=class extends ju{constructor(e,t={},n){const i=e.replace(/\/$/,""),s=Qe(Qe({},sh),{},{"Content-Type":"application/json"},t);super(i,s,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ys.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},U9=class extends B9{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new F9(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},F9=class extends I9{constructor(e,t,n,i){super(e,t,i),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,Qe(Qe({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,Qe(Qe({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new V9(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},V9=class extends z9{constructor(e,t,n,i,s){super(e,t,s),this.vectorBucketName=n,this.indexName=i}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,Qe(Qe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,Qe(Qe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,Qe(Qe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,Qe(Qe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,Qe(Qe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},$9=class extends L9{constructor(e,t={},n,i){super(e,t,n,i)}from(e){return new M9(this.url,this.headers,e,this.fetch)}get vectors(){return new U9(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new j9(this.url+"/iceberg",this.headers,this.fetch)}};const gM="2.97.0",ru=30*1e3,Kx=3,jb=Kx*ru,H9="http://localhost:9999",G9="supabase.auth.token",K9={"X-Client-Info":`gotrue-js/${gM}`},qx="X-Supabase-Api-Version",vM={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},q9=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,W9=600*1e3;class kf extends Error{constructor(t,n,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Ke(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Y9 extends kf{constructor(t,n,i){super(t,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function Z9(e){return Ke(e)&&e.name==="AuthApiError"}class Ml extends kf{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class zo extends kf{constructor(t,n,i,s){super(t,i,s),this.name=n,this.status=i}}class hs extends zo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ib(e){return Ke(e)&&e.name==="AuthSessionMissingError"}class Zc extends zo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class rm extends zo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class om extends zo{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function X9(e){return Ke(e)&&e.name==="AuthImplicitGrantRedirectError"}class Y1 extends zo{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Q9 extends zo{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Wx extends zo{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function zb(e){return Ke(e)&&e.name==="AuthRetryableFetchError"}class Z1 extends zo{constructor(t,n,i){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Yx extends zo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const sg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),X1=` 	
\r=`.split(""),J9=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<X1.length;t+=1)e[X1[t].charCodeAt(0)]=-2;for(let t=0;t<sg.length;t+=1)e[sg[t].charCodeAt(0)]=t;return e})();function Q1(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(sg[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(sg[i]),t.queuedBits-=6}}function yM(e,t,n){const i=J9[e];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function J1(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=l=>{nW(l,i,n)};for(let l=0;l<e.length;l+=1)yM(e.charCodeAt(l),s,o);return t.join("")}function eW(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function tW(e,t){for(let n=0;n<e.length;n+=1){let i=e.charCodeAt(n);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}eW(i,t)}}function nW(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function xu(e){const t=[],n={queue:0,queuedBits:0},i=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)yM(e.charCodeAt(s),n,i);return new Uint8Array(t)}function iW(e){const t=[];return tW(e,n=>t.push(n)),new Uint8Array(t)}function jl(e){const t=[],n={queue:0,queuedBits:0},i=s=>{t.push(s)};return e.forEach(s=>Q1(s,n,i)),Q1(null,n,i),t.join("")}function sW(e){return Math.round(Date.now()/1e3)+e}function rW(){return Symbol("auth-callback")}const fi=()=>typeof window<"u"&&typeof document<"u",El={tested:!1,writable:!1},bM=()=>{if(!fi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(El.tested)return El.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),El.tested=!0,El.writable=!0}catch{El.tested=!0,El.writable=!1}return El.writable};function oW(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((i,s)=>{t[s]=i}),t}const xM=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),aW=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ou=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Al=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},di=async(e,t)=>{await e.removeItem(t)};class Hg{constructor(){this.promise=new Hg.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Hg.promiseConstructor=Promise;function am(e){const t=e.split(".");if(t.length!==3)throw new Yx("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!q9.test(t[i]))throw new Yx("JWT not in base64url format");return{header:JSON.parse(J1(t[0])),payload:JSON.parse(J1(t[1])),signature:xu(t[2]),raw:{header:t[0],payload:t[1]}}}async function lW(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function cW(e,t){return new Promise((i,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){i(l);return}}catch(l){if(!t(o,l)){s(l);return}}})()})}function uW(e){return("0"+e.toString(16)).substr(-2)}function dW(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(t),Array.from(t,uW).join("")}async function fW(e){const n=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(i);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function hW(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await fW(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xc(e,t,n=!1){const i=dW();let s=i;n&&(s+="/PASSWORD_RECOVERY"),await ou(e,`${t}-code-verifier`,s);const o=await hW(i);return[o,i===o?"plain":"s256"]}const pW=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mW(e){const t=e.headers.get(qx);if(!t||!t.match(pW))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function gW(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function vW(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yW=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qc(e){if(!yW.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bb(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bW(e,t){return new Proxy(e,{get:(n,i,s)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,s)}return!t.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,i,s)}})}function eT(e){return JSON.parse(JSON.stringify(e))}const kl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xW=[502,503,504];async function tT(e){var t;if(!aW(e))throw new Wx(kl(e),0);if(xW.includes(e.status))throw new Wx(kl(e),e.status);let n;try{n=await e.json()}catch(o){throw new Ml(kl(o),o)}let i;const s=mW(e);if(s&&s.getTime()>=vM["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new Z1(kl(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new hs}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new Z1(kl(n),e.status,n.weak_password.reasons);throw new Y9(kl(n),e.status||500,i)}const _W=(e,t,n,i)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),n))};async function et(e,t,n,i){var s;const o=Object.assign({},i?.headers);o[qx]||(o[qx]=vM["2024-01-01"].name),i?.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const l=(s=i?.query)!==null&&s!==void 0?s:{};i?.redirectTo&&(l.redirect_to=i.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await wW(e,t,n+c,{headers:o,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(d):{data:Object.assign({},d),error:null}}async function wW(e,t,n,i,s,o){const l=_W(t,i,s,o);let c;try{c=await e(n,Object.assign({},l))}catch(d){throw console.error(d),new Wx(kl(d),0)}if(c.ok||await tT(c),i?.noResolveJson)return c;try{return await c.json()}catch(d){await tT(d)}}function ar(e){var t;let n=null;EW(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=sW(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:i},error:null}}function nT(e){const t=ar(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ea(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function SW(e){return{data:e,error:null}}function CW(e){const{action_link:t,email_otp:n,hashed_token:i,redirect_to:s,verification_type:o}=e,l=Mu(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:i,redirect_to:s,verification_type:o},d=Object.assign({},l);return{data:{properties:c,user:d},error:null}}function iT(e){return e}function EW(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ub=["global","local","others"];class AW{constructor({url:t="",headers:n={},fetch:i}){this.url=t,this.headers=n,this.fetch=xM(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Ub[0]){if(Ub.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ub.join(", ")}`);try{return await et(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Ke(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,n={}){try{return await et(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ea})}catch(i){if(Ke(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:n}=t,i=Mu(t,["options"]),s=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(s.new_email=i?.newEmail,delete s.newEmail),await et(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:CW,redirectTo:n?.redirectTo})}catch(n){if(Ke(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await et(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ea})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,i,s,o,l,c,d;try{const h={nextPage:null,lastPage:0,total:0},g=await et(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(o=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:iT});if(g.error)throw g.error;const v=await g.json(),b=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(d=(c=g.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(C=>{const E=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(C.split(";")[1].split("=")[1]);h[`${R}Page`]=E}),h.total=parseInt(b)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if(Ke(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){Qc(t);try{return await et(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ea})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Qc(t);try{return await et(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ea})}catch(i){if(Ke(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,n=!1){Qc(t);try{return await et(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ea})}catch(i){if(Ke(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){Qc(t.userId);try{const{data:n,error:i}=await et(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:i}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Qc(t.userId),Qc(t.id);try{return{data:await et(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,i,s,o,l,c,d;try{const h={nextPage:null,lastPage:0,total:0},g=await et(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(o=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:iT});if(g.error)throw g.error;const v=await g.json(),b=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(d=(c=g.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(C=>{const E=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(C.split(";")[1].split("=")[1]);h[`${R}Page`]=E}),h.total=parseInt(b)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if(Ke(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await et(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await et(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await et(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Ke(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(t){try{return await et(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await et(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}}function sT(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Jc={debug:!!(globalThis&&bM()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _M extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class rT extends _M{}async function TW(e,t,n){Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;t>0&&setTimeout(()=>{i.abort(),Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new rT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Jc.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}catch(s){throw s?.name==="AbortError"?new rT(`Acquiring an exclusive Navigator LockManager lock "${e}" timed out waiting ${t}ms`):s}}function RW(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function wM(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function kW(e){return parseInt(e,16)}function NW(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function OW(e){var t;const{chainId:n,domain:i,expirationTime:s,issuedAt:o=new Date,nonce:l,notBefore:c,requestId:d,resources:h,scheme:g,uri:v,version:b}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const _=wM(e.address),C=g?`${g}://${i}`:i,E=e.statement?`${e.statement}
`:"",R=`${C} wants you to sign in with your Ethereum account:
${_}

${E}`;let N=`URI: ${v}
Version: ${b}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(s&&(N+=`
Expiration Time: ${s.toISOString()}`),c&&(N+=`
Not Before: ${c.toISOString()}`),d&&(N+=`
Request ID: ${d}`),h){let k=`
Resources:`;for(const O of h){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);k+=`
- ${O}`}N+=k}return`${R}
${N}`}class Pn extends Error{constructor({message:t,code:n,cause:i,name:s}){var o;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(o=s??(i instanceof Error?i.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class rg extends Pn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function PW({error:e,options:t}){var n,i,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Pn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Pn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Pn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Pn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Pn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Pn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Pn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(SM(l)){if(o.rp.id!==l)return new Pn({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Pn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Pn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function MW({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Pn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(SM(i)){if(n.rpId!==i)return new Pn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Pn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class DW{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const LW=new DW;function jW(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:i}=e,s=Mu(e,["challenge","user","excludeCredentials"]),o=xu(t).buffer,l=Object.assign(Object.assign({},n),{id:xu(n.id).buffer}),c=Object.assign(Object.assign({},s),{challenge:o,user:l});if(i&&i.length>0){c.excludeCredentials=new Array(i.length);for(let d=0;d<i.length;d++){const h=i[d];c.excludeCredentials[d]=Object.assign(Object.assign({},h),{id:xu(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function IW(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,i=Mu(e,["challenge","allowCredentials"]),s=xu(t).buffer,o=Object.assign(Object.assign({},i),{challenge:s});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},c),{id:xu(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function zW(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:jl(new Uint8Array(e.response.attestationObject)),clientDataJSON:jl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function BW(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,i=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:jl(new Uint8Array(s.authenticatorData)),clientDataJSON:jl(new Uint8Array(s.clientDataJSON)),signature:jl(new Uint8Array(s.signature)),userHandle:s.userHandle?jl(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function SM(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function oT(){var e,t;return!!(fi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function UW(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new rg("Browser returned unexpected credential type",t)}:{data:null,error:new rg("Empty credential response",t)}}catch(t){return{data:null,error:PW({error:t,options:e})}}}async function FW(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new rg("Browser returned unexpected credential type",t)}:{data:null,error:new rg("Empty credential response",t)}}catch(t){return{data:null,error:MW({error:t,options:e})}}}const VW={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},$W={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function og(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),i={};for(const s of e)if(s)for(const o in s){const l=s[o];if(l!==void 0)if(Array.isArray(l))i[o]=l;else if(n(l))i[o]=l;else if(t(l)){const c=i[o];t(c)?i[o]=og(c,l):i[o]=og(l)}else i[o]=l}return i}function HW(e,t){return og(VW,e,t||{})}function GW(e,t){return og($W,e,t||{})}class KW{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:i,signal:s},o){var l;try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!c)return{data:null,error:d};const h=s??LW.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:g}=c.webauthn.credential_options.publicKey;if(!g.name){const v=i;if(v)g.name=`${g.id}:${v}`;else{const _=(await this.client.getUser()).data.user,C=((l=_?.user_metadata)===null||l===void 0?void 0:l.name)||_?.email||_?.id||"User";g.name=`${g.id}:${C}`}}g.displayName||(g.displayName=g.name)}switch(c.webauthn.type){case"create":{const g=HW(c.webauthn.credential_options.publicKey,o?.create),{data:v,error:b}=await UW({publicKey:g,signal:h});return v?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:b}}case"request":{const g=GW(c.webauthn.credential_options.publicKey,o?.request),{data:v,error:b}=await FW(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:g,signal:h}));return v?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:b}}}}catch(c){return Ke(c)?{data:null,error:c}:{data:null,error:new Ml("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new kf("rpId is required for WebAuthn authentication")};try{if(!oT())return{data:null,error:new Ml("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:i},signal:s},{request:o});if(!l)return{data:null,error:c};const{webauthn:d}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:i,credential_response:d.credential_response}})}catch(l){return Ke(l)?{data:null,error:l}:{data:null,error:new Ml("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new kf("rpId is required for WebAuthn registration")};try{if(!oT())return{data:null,error:new Ml("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(g=>{var v;return(v=g.data)===null||v===void 0?void 0:v.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:c};const{data:d,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:s},{create:o});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:i,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(l){return Ke(l)?{data:null,error:l}:{data:null,error:new Ml("Unexpected error in register",l)}}}}RW();const qW={url:H9,storageKey:G9,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:K9,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function aT(e,t,n){return await n()}const eu={};class Nf{get jwks(){var t,n;return(n=(t=eu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){eu[this.storageKey]=Object.assign(Object.assign({},eu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=eu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){eu[this.storageKey]=Object.assign(Object.assign({},eu[this.storageKey]),{cachedAt:t})}constructor(t){var n,i,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},qW),t);if(this.storageKey=o.storageKey,this.instanceID=(n=Nf.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Nf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&fi()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new AW({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=xM(o.fetch),this.lock=o.lock||aT,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&fi()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=TW:this.lock=aT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new KW(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:bM()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sT(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=sT(this.memoryStorage)),fi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(c){this._debug("#broadcastChannel","error",c)}})}o.skipAutoInitialize||this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${gM}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},i="none";if(fi()&&(n=oW(window.location.href),this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce")),fi()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),X9(o)){const d=(t=o.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:l,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ke(n)?this._returnResult({error:n}):this._returnResult({error:new Ml("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,i,s;try{const o=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=t?.options)===null||s===void 0?void 0:s.captchaToken}},xform:ar}),{data:l,error:c}=o;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(o){if(Ke(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var n,i,s;try{let o;if("email"in t){const{email:g,password:v,options:b}=t;let _=null,C=null;this.flowType==="pkce"&&([_,C]=await Xc(this.storage,this.storageKey)),o=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:g,password:v,data:(n=b?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:_,code_challenge_method:C},xform:ar})}else if("phone"in t){const{phone:g,password:v,options:b}=t;o=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(i=b?.data)!==null&&i!==void 0?i:{},channel:(s=b?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:ar})}else throw new rm("You must provide either an email or phone number and a password");const{data:l,error:c}=o;if(c||!l)return await di(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(o){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ke(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:c}=t;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:nT})}else if("phone"in t){const{phone:o,password:l,options:c}=t;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:nT})}else throw new rm("You must provide either an email or phone number and a password");const{data:i,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!i||!i.session||!i.user){const o=new Zc;return this._returnResult({data:{user:null,session:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(n){if(Ke(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,i,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,i,s,o,l,c,d,h,g,v,b;let _,C;if("message"in t)_=t.message,C=t.signature;else{const{chain:E,wallet:R,statement:N,options:k}=t;let O;if(fi())if(typeof R=="object")O=R;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")O=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=R}const M=new URL((n=k?.url)!==null&&n!==void 0?n:window.location.href),j=await O.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const U=wM(j[0]);let z=(i=k?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!z){const $=await O.request({method:"eth_chainId"});z=kW($)}const I={domain:M.host,address:U,statement:N,uri:M.href,version:"1",chainId:z,nonce:(s=k?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(l=(o=k?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=k?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=k?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(h=k?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(g=k?.signInWithEthereum)===null||g===void 0?void 0:g.resources};_=OW(I),C=await O.request({method:"personal_sign",params:[NW(_),U]})}try{const{data:E,error:R}=await et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:C},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:ar});if(R)throw R;if(!E||!E.session||!E.user){const N=new Zc;return this._returnResult({data:{user:null,session:null},error:N})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:R})}catch(E){if(Ke(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(t){var n,i,s,o,l,c,d,h,g,v,b,_;let C,E;if("message"in t)C=t.message,E=t.signature;else{const{chain:R,wallet:N,statement:k,options:O}=t;let M;if(fi())if(typeof N=="object")M=N;else{const U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))M=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=N}const j=new URL((n=O?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in M&&M.signIn){const U=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O?.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),k?{statement:k}:null));let z;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")z=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)z=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)C=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),E=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${j.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(i=O?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=O?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((l=O?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((c=O?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((d=O?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((h=O?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((v=(g=O?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...O.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const U=await M.signMessage(new TextEncoder().encode(C),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=U}}try{const{data:R,error:N}=await et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:jl(E)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:ar});if(N)throw N;if(!R||!R.session||!R.user){const k=new Zc;return this._returnResult({data:{user:null,session:null},error:k})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:N})}catch(R){if(Ke(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async _exchangeCodeForSession(t){const n=await Al(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(n??"").split("/");try{if(!i&&this.flowType==="pkce")throw new Q9;const{data:o,error:l}=await et(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:ar});if(await di(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!o||!o.session||!o.user){const c=new Zc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:l})}catch(o){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ke(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:n,provider:i,token:s,access_token:o,nonce:l}=t,c=await et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:ar}),{data:d,error:h}=c;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d||!d.session||!d.user){const g=new Zc;return this._returnResult({data:{user:null,session:null},error:g})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:h})}catch(n){if(Ke(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,i,s,o,l;try{if("email"in t){const{email:c,options:d}=t;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await Xc(this.storage,this.storageKey));const{error:v}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=d?.data)!==null&&n!==void 0?n:{},create_user:(i=d?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:h,code_challenge_method:g},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in t){const{phone:c,options:d}=t,{data:h,error:g}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=d?.data)!==null&&s!==void 0?s:{},create_user:(o=d?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(l=d?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:g})}throw new rm("You must provide either an email or phone number.")}catch(c){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ke(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var n,i;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:l,error:c}=await et(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:ar});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,h=l.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(s){if(Ke(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,i,s,o,l;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Xc(this.storage,this.storageKey));const h=await et(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=t?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:SW});return!((o=h.data)===null||o===void 0)&&o.url&&fi()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(c){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ke(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;if(i)throw i;if(!n)throw new hs;const{error:s}=await et(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Ke(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:i,type:s,options:o}=t,{error:l}=await et(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:i,type:s,options:o}=t,{data:l,error:c}=await et(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:c})}throw new rm("You must provide either an email or phone number and a type")}catch(n){if(Ke(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Al(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<jb:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const l=await Al(this.userStorage,this.storageKey+"-user");l?.user?t.user=l.user:t.user=Bb()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=bW(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ea}):await this._useSession(async n=>{var i,s,o;const{data:l,error:c}=n;if(c)throw c;return!(!((i=l.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new hs}:await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Ea})})}catch(n){if(Ke(n))return Ib(n)&&(await this._removeSession(),await di(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async i=>{const{data:s,error:o}=i;if(o)throw o;if(!s.session)throw new hs;const l=s.session;let c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=await Xc(this.storage,this.storageKey));const{data:h,error:g}=await et(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:Ea});if(g)throw g;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(i){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ke(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new hs;const n=Date.now()/1e3;let i=n,s=!0,o=null;const{payload:l}=am(t.access_token);if(l.exp&&(i=l.exp,s=i<=n),s){const{data:c,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:d}=await this._getUser(t.access_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});o={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(Ke(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var i;if(!t){const{data:l,error:c}=n;if(c)throw c;t=(i=l.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new hs;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ke(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!fi())throw new om("No browser detected.");if(t.error||t.error_description||t.error_code)throw new om(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Y1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new om("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Y1("No code detected.");const{data:k,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:o,refresh_token:l,expires_in:c,expires_at:d,token_type:h}=t;if(!o||!c||!l||!h)throw new om("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(c);let b=g+v;d&&(b=parseInt(d));const _=b-g;_*1e3<=ru&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);const C=b-v;g-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,b,g):g-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,b,g);const{data:E,error:R}=await this._getUser(o);if(R)throw R;const N={provider_token:i,provider_refresh_token:s,access_token:o,expires_in:v,expires_at:b,refresh_token:l,token_type:h,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:t.type},error:null})}catch(i){if(Ke(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Al(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o&&!Ib(o))return this._returnResult({error:o});const l=(i=s.session)===null||i===void 0?void 0:i.access_token;if(l){const{error:c}=await this.admin.signOut(l,t);if(c&&!(Z9(c)&&(c.status===404||c.status===401||c.status===403)||Ib(c)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await di(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=rW(),i={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async n=>{var i,s;try{const{data:{session:o},error:l}=n;if(l)throw l;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await Xc(this.storage,this.storageKey,!0));try{return await et(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ke(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:i,error:s}=await this._useSession(async o=>{var l,c,d,h,g;const{data:v,error:b}=o;if(b)throw b;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await et(this.fetch,"GET",_,{headers:this.headers,jwt:(g=(h=v.session)===null||h===void 0?void 0:h.access_token)!==null&&g!==void 0?g:void 0})});if(s)throw s;return fi()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:t.provider,url:i?.url},error:null})}catch(i){if(Ke(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var i;try{const{error:s,data:{session:o}}=n;if(s)throw s;const{options:l,provider:c,token:d,access_token:h,nonce:g}=t,v=await et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=o?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:d,access_token:h,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:ar}),{data:b,error:_}=v;return _?this._returnResult({data:{user:null,session:null},error:_}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Zc}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:_}))}catch(s){if(await di(this.storage,`${this.storageKey}-code-verifier`),Ke(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var i,s;const{data:o,error:l}=n;if(l)throw l;return await et(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await cW(async s=>(s>0&&await lW(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await et(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ar})),(s,o)=>{const l=200*Math.pow(2,s);return o&&zb(o)&&Date.now()+l-i<ru})}catch(i){if(this._debug(n,"error",i),Ke(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",i),fi()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const s=await Al(this.storage,this.storageKey);if(s&&this.userStorage){let l=await Al(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await ou(this.userStorage,this.storageKey+"-user",l)),s.user=(t=l?.user)!==null&&t!==void 0?t:Bb()}else if(s&&!s.user&&!s.user){const l=await Al(this.storage,this.storageKey+"-user");l&&l?.user?(s.user=l.user,await di(this.storage,this.storageKey+"-user"),await ou(this.storage,this.storageKey,s)):s.user=Bb()}if(this._debug(i,"session from storage",s),!this._isValidSession(s)){this._debug(i,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<jb;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${jb}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),zb(l)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(s.access_token);!c&&l?.user?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(i,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(i,"error",s),console.error(s);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var n,i;if(!t)throw new hs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Hg;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new hs;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={data:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(s,"error",o),Ke(o)){const l={data:null,error:o};return zb(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,i=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(d){o.push(d)}});if(await Promise.all(l),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await di(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await ou(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=eT(s);await ou(this.storage,this.storageKey,o)}else{const s=eT(n);await ou(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await di(this.storage,this.storageKey),await di(this.storage,this.storageKey+"-code-verifier"),await di(this.storage,this.storageKey+"-user"),this.userStorage&&await di(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&fi()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ru);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-t)/ru);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ru}ms, refresh threshold is ${Kx} ticks`),s<=Kx&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof _M)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fi()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,i){const s=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,l]=await Xc(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(c.toString())}if(i?.queryParams){const o=new URLSearchParams(i.queryParams);s.push(o.toString())}return i?.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;return o?this._returnResult({data:null,error:o}):await et(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var i,s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:h}=await et(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&d.type==="totp"&&(!((s=d?.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?zW(t.webauthn.credential_response):BW(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:d}=await et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=await et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:jW(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:IW(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n?.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,i,s,o;if(t)try{const{payload:_}=am(t);let C=null;_.aal&&(C=_.aal);let E=C;const{data:{user:R},error:N}=await this.getUser(t);if(N)return this._returnResult({data:null,error:N});((i=(n=R?.factors)===null||n===void 0?void 0:n.filter(M=>M.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(E="aal2");const O=_.amr||[];return{data:{currentLevel:C,nextLevel:E,currentAuthenticationMethods:O},error:null}}catch(_){if(Ke(_))return this._returnResult({data:null,error:_});throw _}const{data:{session:l},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=am(l.access_token);let h=null;d.aal&&(h=d.aal);let g=h;((o=(s=l.user.factors)===null||s===void 0?void 0:s.filter(_=>_.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(g="aal2");const b=d.amr||[];return{data:{currentLevel:h,nextLevel:g,currentAuthenticationMethods:b},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?await et(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new hs})})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async i=>{const{data:{session:s},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new hs});const l=await et(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&fi()&&!n?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(i){if(Ke(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,n){try{return await this._useSession(async i=>{const{data:{session:s},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new hs});const l=await et(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&fi()&&!n?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(i){if(Ke(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;return i?this._returnResult({data:null,error:i}):n?await et(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new hs})})}catch(t){if(Ke(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?(await et(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new hs})})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let i=n.keys.find(c=>c.kid===t);if(i)return i;const s=Date.now();if(i=this.jwks.keys.find(c=>c.kid===t),i&&this.jwks_cached_at+W9>s)return i;const{data:o,error:l}=await et(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,i=o.keys.find(c=>c.kid===t),!i)?null:i}async getClaims(t,n={}){try{let i=t;if(!i){const{data:_,error:C}=await this.getSession();if(C||!_.session)return this._returnResult({data:null,error:C});i=_.session.access_token}const{header:s,payload:o,signature:l,raw:{header:c,payload:d}}=am(i);n?.allowExpired||gW(o.exp);const h=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!h){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:o,header:s,signature:l},error:null}}const g=vW(s.alg),v=await crypto.subtle.importKey("jwk",h,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,l,iW(`${c}.${d}`)))throw new Yx("Invalid JWT signature");return{data:{claims:o,header:s,signature:l},error:null}}catch(i){if(Ke(i))return this._returnResult({data:null,error:i});throw i}}}Nf.nextInstanceID={};const WW=Nf,YW="2.97.0";let Qd="";typeof Deno<"u"?Qd="deno":typeof document<"u"?Qd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Qd="react-native":Qd="node";const ZW={"X-Client-Info":`supabase-js-${Qd}/${YW}`},XW={headers:ZW},QW={schema:"public"},JW={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e7={};function Of(e){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}function t7(e,t){if(Of(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Of(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n7(e){var t=t7(e,"string");return Of(t)=="symbol"?t:t+""}function i7(e,t,n){return(t=n7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(n),!0).forEach(function(i){i7(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lT(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}const s7=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),r7=()=>Headers,o7=(e,t,n)=>{const i=s7(n),s=r7();return async(o,l)=>{var c;const d=(c=await t())!==null&&c!==void 0?c:e;let h=new s(l?.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),i(o,bn(bn({},l),{},{headers:h}))}};function a7(e){return e.endsWith("/")?e:e+"/"}function l7(e,t){var n,i;const{db:s,auth:o,realtime:l,global:c}=e,{db:d,auth:h,realtime:g,global:v}=t,b={db:bn(bn({},d),s),auth:bn(bn({},h),o),realtime:bn(bn({},g),l),storage:{},global:bn(bn(bn({},v),c),{},{headers:bn(bn({},(n=v?.headers)!==null&&n!==void 0?n:{}),(i=c?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return e.accessToken?b.accessToken=e.accessToken:delete b.accessToken,b}function c7(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(a7(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var u7=class extends WW{constructor(e){super(e)}},d7=class{constructor(e,t,n){var i,s;this.supabaseUrl=e,this.supabaseKey=t;const o=c7(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:QW,realtime:e7,auth:bn(bn({},JW),{},{storageKey:l}),global:XW},d=l7(n??{},c);if(this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=d.auth)!==null&&h!==void 0?h:{},this.headers,d.global.fetch)}this.fetch=o7(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(bn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new Zq(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch,timeout:d.db.timeout,urlLengthLimit:d.db.urlLengthLimit}),this.storage=new $9(this.storageUrl.href,this.headers,this.fetch,n?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Vq(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:i}=await e.auth.getSession();return(t=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:o,flowType:l,lock:c,debug:d,throwOnError:h},g,v){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u7({url:this.authUrl.href,headers:bn(bn({},b),g),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,userStorage:s,flowType:l,lock:c,debug:d,throwOnError:h,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new h9(this.realtimeUrl.href,bn(bn({},e),{},{params:bn(bn({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const f7=(e,t,n)=>new d7(e,t,n);function h7(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}h7()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const p7="https://jvjirocnsucsapwnjfpe.supabase.co",m7="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp2amlyb2Nuc3Vjc2Fwd25qZnBlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUxOTQwODksImV4cCI6MjA3MDc3MDA4OX0.eQESQzBSt0_gciw0LN5zByYGBGugi-NuCChs-1mMVoA",$n=f7(p7,m7,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:window.localStorage,flowType:"pkce"}}),CM=500,EM=700,g7=9e4,v7=4e3;function y7(){const e=window.screenX+(window.outerWidth-CM)/2,t=window.screenY+(window.outerHeight-EM)/2;return{left:e,top:t}}function b7(){return new Promise(e=>{let t=null;const n=setTimeout(()=>{t&&t.close(),console.warn(" Timeout aguardando OAuth (90s)"),e({success:!1,error:"Tempo limite de autenticao excedido"})},g7);try{t=new BroadcastChannel("supabase-auth"),t.onmessage=i=>{i.data==="oauth_complete"&&(clearTimeout(n),t&&t.close(),e({success:!0}))}}catch(i){clearTimeout(n),console.warn(" BroadcastChannel no disponvel, usando timeout fixo",i),setTimeout(()=>{e({success:!0})},5e3)}})}function x7(e){const{left:t,top:n}=y7();return window.open(e,"oauth-popup",`width=${CM},height=${EM},left=${t},top=${n},toolbar=no,menubar=no,scrollbars=yes,resizable=yes`)}async function _7(e="google"){try{const{data:t,error:n}=await $n.auth.signInWithOAuth({provider:e,options:{redirectTo:`${window.location.origin}/treevera/auth-callback`,skipBrowserRedirect:!0,queryParams:{access_type:"offline",prompt:"consent"}}});if(n)throw n;if(!t?.url)throw new Error("URL de autenticao no foi gerada");if(!x7(t.url))throw new Error("No foi possvel abrir a janela. Verifique o bloqueador de pop-ups.");const s=await b7();if(!s.success)throw new Error(s.error||"Falha na autenticao");await new Promise(c=>setTimeout(c,v7));let o=null;const l=10;for(let c=1;c<=l;c++){const{data:d,error:h}=await $n.auth.getSession();if(h&&(console.error(" Erro ao buscar sesso:",h),c===l))throw h;if(d.session){o=d;break}c<l&&await new Promise(g=>setTimeout(g,1e3))}if(!o?.session)throw new Error("Sesso no foi estabelecida aps autenticao");return{user:o.session.user,session:o.session}}catch(t){throw console.error(" Erro no login OAuth:",t),t}}async function w7(){try{const{error:e}=await $n.auth.signOut();if(e)throw e;return{success:!0}}catch(e){throw console.error(" Erro no logout:",e),e}}async function S7(){try{const{data:e,error:t}=await $n.auth.getSession();if(t)throw t;return e.session}catch(e){return console.error(" Erro ao obter sesso:",e),null}}const C7=async e=>{const t=e.app_metadata?.provider||e.identities?.[0]?.provider||(e.email?.includes("@")?"email":"unknown"),n={id:e.id,email:e.email,name:e.user_metadata.full_name||e.email?.split("@")[0]||"Usurio",avatar_url:e.user_metadata.avatar_url||null,created_at:e.created_at,provider:t,game_info:{activities:[{title:"Conta criada com sucesso!",description:"Bem-vindo ao mundo da taxonomia",date:e.created_at}],seen_species:[]}},{data:i,error:s}=await $n.from("users").upsert(n,{onConflict:"id"}).select().single();if(s)throw console.error("Error creating user:",s),s;if(!i)throw new Error("createUser: upsert retornou vazio");return JSON.parse(JSON.stringify(i))},E7=1e4;function j_(){const e=qt(at.session),t=qt(at.userDb),n=qt(at.loginStatus),i=qt(at.logoutStatus),s=qt(at.error),o=qt(at.initialized),l=qt(at.lastAuthCheck),c=Be(at.session),d=Be(at.userDb),h=Be(at.isAuthenticated),g=Be(at.loginStatus),v=Be(at.logoutStatus),b=Be(at.initialized),_=x.useCallback(async k=>{try{const{data:O,error:M}=await $n.from("users").select("*").eq("id",k).single();if(M){if(M.code==="PGRST116"){const{data:j}=await $n.auth.getUser();if(j.user)try{return await C7(j.user)}catch(U){return console.error(" Erro ao criar usurio no banco:",U),null}}return console.error(" Erro ao buscar userDb:",M),null}return O}catch(O){return console.error(" Erro ao buscar userDb:",O),null}},[]),C=x.useCallback(async()=>{const k=new Promise(M=>{setTimeout(()=>{console.warn(" Timeout na inicializao"),M(null)},E7)}),O=(async()=>{try{const M=await S7();if(M?.user){e(M);const j=await _(M.user.id);j?t(j):(console.warn(" UserDb no encontrado"),t(null))}else e(null),t(null);return M}catch(M){return console.error(" Erro ao inicializar:",M),e(null),t(null),null}})();await Promise.race([O,k]),l(Date.now()),o(!0)},[e,t,l,o,_]),E=x.useCallback(async(k="google")=>{try{n("loading"),s(null);const{user:O,session:M}=await _7(k);e(M);const j=await _(O.id);if(j)return t(j),n("success"),{success:!0,user:j};throw new Error("No foi possvel carregar os dados do usurio")}catch(O){const M=O instanceof Error?O.message:"Erro desconhecido ao fazer login";return s({message:M}),n("error"),console.error(" Erro no login:",O),{success:!1,error:M}}finally{setTimeout(()=>n("idle"),2e3)}},[n,s,e,t,_]),R=x.useCallback(async()=>{try{return i("loading"),s(null),await w7(),e(null),t(null),i("success"),{success:!0}}catch(k){const O=k instanceof Error?k.message:"Erro desconhecido ao fazer logout";return s({message:O}),i("error"),console.error(" Erro no logout:",k),{success:!1,error:O}}finally{setTimeout(()=>i("idle"),2e3)}},[i,s,e,t]),N=x.useCallback(async()=>{if(!c?.user?.id)return null;const k=await _(c.user.id);return k&&t(k),k},[c,_,t]);return x.useEffect(()=>{b||C();const{data:{subscription:k}}=$n.auth.onAuthStateChange(async(O,M)=>{switch(O){case"SIGNED_IN":case"TOKEN_REFRESHED":M?.user&&e(M);break;case"SIGNED_OUT":e(null),t(null);break}});return()=>{k.unsubscribe()}},[b,C,e,t]),{session:c,userDb:d,isAuthenticated:h,initialized:b,loginStatus:g,logoutStatus:v,authError:Be(at.error),isLoggingIn:g==="loading",isLoggingOut:v==="loading",isInitializing:!b,login:E,logout:R,refreshUserDb:N,refreshSession:C}}const AM=({isProfilePage:e})=>{const{changeTheme:t,theme:n}=nh(),{t:i}=Mt(),s=Be(at.isAuthenticated),o=Be(at.userDb),{logout:l,isLoggingOut:c}=j_(),[d,h]=qr(nt.challenge),[g,v]=qr(FP),b=async()=>{d.status==="IN_PROGRESS"&&!window.confirm(`Voc tem um desafio em andamento. Ao Sair, o desafio ser cancelado.

Deseja continuar?`)||(await l(),h({mode:null,status:"NOT_STARTED"}))},_=Qi();return e&&!s&&_({to:"/login"}),y.jsxs(aP,{children:[y.jsx(lP,{asChild:!0,className:"group cursor-pointer",children:y.jsx("div",{className:"rounded-full",children:s&&o?y.jsxs(zK,{className:e?"size-12":"size-8",children:[y.jsx(BK,{src:o.avatar_url,alt:"User"}),y.jsx(UK,{className:"bg-green-600 text-xs text-white",children:o.name[0]})]}):y.jsx(x6,{className:"size-6"})})}),y.jsx(cP,{className:"m-1 w-full",align:"start",children:y.jsxs(kH,{children:[!s&&y.jsxs(y.Fragment,{children:[y.jsx(ms,{children:y.jsxs(rf,{to:"/login",className:"flex w-full items-center",children:[y.jsx(v6,{className:"mr-2 size-4"}),y.jsx("span",{children:i("loginWithGoogle")})]})}),y.jsx(ba,{})]}),!e&&s&&o&&y.jsxs(ms,{onClick:()=>{d.status==="IN_PROGRESS"&&!window.confirm(`Voc tem um desafio em andamento. Acessar seu perfil, o desafio ser cancelado.

Deseja continuar?`)||(h({mode:null,status:"NOT_STARTED"}),_({to:"/profile"}))},children:[y.jsxs("div",{className:"px-2 py-1.5 text-sm",children:[y.jsx("div",{className:"font-medium",children:o.name}),y.jsx("div",{className:"text-muted-foreground text-xs",children:o.email})]}),y.jsx(ba,{})]}),e&&y.jsxs(y.Fragment,{children:[y.jsx(ms,{children:y.jsxs(rf,{to:"/",className:"flex w-full items-center",children:[y.jsx(S_,{className:"mr-2 size-4"}),y.jsx("span",{children:i("nav.back")})]})}),y.jsx(ba,{})]}),y.jsx(ms,{disabled:d.status==="IN_PROGRESS",onClick:()=>h({mode:"UNSET",status:"NOT_STARTED"}),children:y.jsxs(rf,{to:"/challenges",className:"flex w-full items-center",children:[y.jsx(R6,{className:"mr-2 size-4"})," ",i("nav.challenges")]})}),y.jsx(ba,{}),y.jsx(ms,{onClick:()=>{d.status==="IN_PROGRESS"&&!window.confirm(`Voc tem um desafio em andamento. Ao acessar Explorar, o desafio ser cancelado.

Deseja continuar?`)||(h({mode:null,status:"NOT_STARTED"}),_({to:"/"}))},children:y.jsxs("div",{className:"flex w-full items-center",children:[y.jsx(N6,{className:"mr-2 size-4"})," ",i("nav.explore")]})}),y.jsx(ba,{}),y.jsxs(Xp,{children:[y.jsxs(Qp,{children:[i("theme"),": ",i(n)]}),y.jsx(Zp,{children:y.jsxs(Jp,{className:"m-1",children:[y.jsx(ms,{onClick:()=>t("light"),children:i("light")}),y.jsx(ms,{onClick:()=>t("dark"),children:i("dark")}),y.jsx(ms,{onClick:()=>t("system"),children:i("system")})]})})]}),y.jsx(ba,{}),y.jsxs(Xp,{children:[y.jsxs(Qp,{children:[i("language"),": ",i(Qt.language)]}),y.jsx(Zp,{children:y.jsxs(Jp,{className:"m-1",children:[y.jsx(ms,{onClick:()=>Qt.changeLanguage("pt"),children:i("pt")}),y.jsx(ms,{onClick:()=>Qt.changeLanguage("en"),children:i("en")}),y.jsx(ms,{onClick:()=>Qt.changeLanguage("es"),children:i("es")})]})})]}),d.status==="IN_PROGRESS"&&y.jsxs(Xp,{children:[y.jsx(ba,{}),y.jsxs(Qp,{children:[g.muted?y.jsx(i1,{className:"mr-2 size-4"}):y.jsx(n1,{className:"mr-2 size-4"}),i("nav.audio")]}),y.jsx(Zp,{children:y.jsxs(Jp,{className:"m-1 w-64 space-y-4 p-4",sideOffset:-90,alignOffset:90,children:[y.jsxs("button",{onClick:()=>v(C=>({...C,muted:!C.muted})),className:"flex w-full items-center justify-between rounded-lg border px-3 py-2 text-sm",children:[y.jsx("span",{children:g.muted?i("nav.soundOff"):i("nav.soundOn")}),g.muted?y.jsx(i1,{}):y.jsx(n1,{})]}),!g.muted&&y.jsxs(qP,{value:[g.volume*100],onValueChange:([C])=>v(E=>({...E,volume:C/100})),min:0,max:100,step:1,className:"relative flex h-5 w-full touch-none items-center select-none",children:[y.jsx(QP,{className:"relative h-1 w-full grow rounded-full bg-gray-200",children:y.jsx(JP,{className:"absolute h-full rounded-full bg-blue-500"})}),y.jsx(eM,{className:"block h-5 w-5 rounded-full bg-blue-500 shadow"})]})]})})]}),!e&&s&&y.jsxs(Xp,{children:[y.jsx(ba,{}),y.jsxs(Qp,{disabled:c,children:[y.jsx(t1,{className:"mr-2 size-4"}),y.jsx("span",{children:i("logout")})]}),y.jsx(Zp,{children:y.jsxs(Jp,{className:"w-72 max-w-[90vw] p-4",sideOffset:-90,alignOffset:90,children:[y.jsx("p",{className:"mb-3 text-center text-sm leading-relaxed",children:i("nav.logoutWarning")}),y.jsxs($t,{onClick:b,variant:"destructive",className:"w-full",children:[c?y.jsx(th,{className:"mr-2 h-4 w-4 animate-spin"}):y.jsx(t1,{className:"mr-2 h-4 w-4"}),i("nav.logoutAnyway")]})]})})]})]})})]})},TM=()=>y.jsxs("header",{className:"flex w-[calc(100%-8px)] items-center justify-between gap-3 rounded-br-2xl pt-4 pb-6",children:[y.jsx(Hn,{alt:"Logo",src:Y3,className:"h-12"}),y.jsxs("div",{className:"flex w-full flex-col",children:[y.jsx("h1",{className:"text-2xl font-bold",children:"Treevera"}),y.jsx("p",{className:"line-clamp-1 text-base/4",children:"Taxonomia interativa"})]}),y.jsx(AM,{})]});var rh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},A7={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},T7=class{#e=A7;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},No=new T7;function R7(e){setTimeout(e,0)}var Wl=typeof window>"u"||"Deno"in globalThis;function ni(){}function k7(e,t){return typeof e=="function"?e(t):e}function Zx(e){return typeof e=="number"&&e>=0&&e!==1/0}function RM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Oa(e,t){return typeof e=="function"?e(t):e}function Bs(e,t){return typeof e=="function"?e(t):e}function cT(e,t){const{type:n="all",exact:i,fetchStatus:s,predicate:o,queryKey:l,stale:c}=e;if(l){if(i){if(t.queryHash!==I_(l,t.options))return!1}else if(!Mf(t.queryKey,l))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||s&&s!==t.state.fetchStatus||o&&!o(t))}function uT(e,t){const{exact:n,status:i,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Pf(t.options.mutationKey)!==Pf(o))return!1}else if(!Mf(t.options.mutationKey,o))return!1}return!(i&&t.state.status!==i||s&&!s(t))}function I_(e,t){return(t?.queryKeyHashFn||Pf)(e)}function Pf(e){return JSON.stringify(e,(t,n)=>Qx(n)?Object.keys(n).sort().reduce((i,s)=>(i[s]=n[s],i),{}):n)}function Mf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Mf(e[n],t[n])):!1}var N7=Object.prototype.hasOwnProperty;function kM(e,t,n=0){if(e===t)return e;if(n>500)return t;const i=dT(e)&&dT(t);if(!i&&!(Qx(e)&&Qx(t)))return t;const o=(i?e:Object.keys(e)).length,l=i?t:Object.keys(t),c=l.length,d=i?new Array(c):{};let h=0;for(let g=0;g<c;g++){const v=i?g:l[g],b=e[v],_=t[v];if(b===_){d[v]=b,(i?g<o:N7.call(e,v))&&h++;continue}if(b===null||_===null||typeof b!="object"||typeof _!="object"){d[v]=_;continue}const C=kM(b,_,n+1);d[v]=C,C===b&&h++}return o===c&&h===o?e:d}function Xx(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function dT(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Qx(e){if(!fT(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!fT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function fT(e){return Object.prototype.toString.call(e)==="[object Object]"}function O7(e){return new Promise(t=>{No.setTimeout(t,e)})}function Jx(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?kM(e,t):t}function P7(e,t,n=0){const i=[...e,t];return n&&i.length>n?i.slice(1):i}function M7(e,t,n=0){const i=[t,...e];return n&&i.length>n?i.slice(0,-1):i}var z_=Symbol();function NM(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===z_?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function OM(e,t){return typeof e=="function"?e(...t):!!e}function D7(e,t,n){let i=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??=t(),i||(i=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var L7=class extends rh{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Wl&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},B_=new L7;function e0(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function i(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{i({status:"fulfilled",value:s}),e(s)},n.reject=s=>{i({status:"rejected",reason:s}),t(s)},n}function j7(e){let t;if(e.then(n=>(t=n,n),ni)?.catch(ni),t!==void 0)return{data:t}}function PM(e){return e}function I7(e){return{mutationKey:e.options.mutationKey,state:e.state,...e.options.scope&&{scope:e.options.scope},...e.meta&&{meta:e.meta}}}function z7(e,t,n){const i=()=>{const s=e.promise?.then(t).catch(o=>n(o)?Promise.reject(new Error("redacted")):Promise.reject(o));return s?.catch(ni),s};return{dehydratedAt:Date.now(),state:{...e.state,...e.state.data!==void 0&&{data:t(e.state.data)}},queryKey:e.queryKey,queryHash:e.queryHash,...e.state.status==="pending"&&{promise:i()},...e.meta&&{meta:e.meta}}}function B7(e){return e.state.isPaused}function U7(e){return e.state.status==="success"}function F7(e){return!0}function V7(e,t={}){const n=t.shouldDehydrateMutation??e.getDefaultOptions().dehydrate?.shouldDehydrateMutation??B7,i=e.getMutationCache().getAll().flatMap(d=>n(d)?[I7(d)]:[]),s=t.shouldDehydrateQuery??e.getDefaultOptions().dehydrate?.shouldDehydrateQuery??U7,o=t.shouldRedactErrors??e.getDefaultOptions().dehydrate?.shouldRedactErrors??F7,l=t.serializeData??e.getDefaultOptions().dehydrate?.serializeData??PM,c=e.getQueryCache().getAll().flatMap(d=>s(d)?[z7(d,l,o)]:[]);return{mutations:i,queries:c}}function $7(e,t,n){if(typeof t!="object"||t===null)return;const i=e.getMutationCache(),s=e.getQueryCache(),o=n?.defaultOptions?.deserializeData??e.getDefaultOptions().hydrate?.deserializeData??PM,l=t.mutations||[],c=t.queries||[];l.forEach(({state:d,...h})=>{i.build(e,{...e.getDefaultOptions().hydrate?.mutations,...n?.defaultOptions?.mutations,...h},d)}),c.forEach(({queryKey:d,state:h,queryHash:g,meta:v,promise:b,dehydratedAt:_})=>{const C=b?j7(b):void 0,E=h.data===void 0?C?.data:h.data,R=E===void 0?E:o(E);let N=s.get(g);const k=N?.state.status==="pending",O=N?.state.fetchStatus==="fetching";if(N){const M=C&&_!==void 0&&_>N.state.dataUpdatedAt;if(h.dataUpdatedAt>N.state.dataUpdatedAt||M){const{fetchStatus:j,...U}=h;N.setState({...U,data:R})}}else N=s.build(e,{...e.getDefaultOptions().hydrate?.queries,...n?.defaultOptions?.queries,queryKey:d,queryHash:g,meta:v},{...h,data:R,fetchStatus:"idle",status:R!==void 0?"success":h.status});b&&!k&&!O&&(_===void 0||_>N.state.dataUpdatedAt)&&N.fetch(void 0,{initialPromise:Promise.resolve(b).then(o)}).catch(ni)})}var H7=R7;function G7(){let e=[],t=0,n=c=>{c()},i=c=>{c()},s=H7;const o=c=>{t?e.push(c):s(()=>{n(c)})},l=()=>{const c=e;e=[],c.length&&s(()=>{i(()=>{c.forEach(d=>{n(d)})})})};return{batch:c=>{let d;t++;try{d=c()}finally{t--,t||l()}return d},batchCalls:c=>(...d)=>{o(()=>{c(...d)})},schedule:o,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{i=c},setScheduler:c=>{s=c}}}var pi=G7(),K7=class extends rh{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Wl&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},ag=new K7;function q7(e){return Math.min(1e3*2**e,3e4)}function MM(e){return(e??"online")==="online"?ag.isOnline():!0}var t0=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function DM(e){let t=!1,n=0,i;const s=e0(),o=()=>s.status!=="pending",l=E=>{if(!o()){const R=new t0(E);b(R),e.onCancel?.(R)}},c=()=>{t=!0},d=()=>{t=!1},h=()=>B_.isFocused()&&(e.networkMode==="always"||ag.isOnline())&&e.canRun(),g=()=>MM(e.networkMode)&&e.canRun(),v=E=>{o()||(i?.(),s.resolve(E))},b=E=>{o()||(i?.(),s.reject(E))},_=()=>new Promise(E=>{i=R=>{(o()||h())&&E(R)},e.onPause?.()}).then(()=>{i=void 0,o()||e.onContinue?.()}),C=()=>{if(o())return;let E;const R=n===0?e.initialPromise:void 0;try{E=R??e.fn()}catch(N){E=Promise.reject(N)}Promise.resolve(E).then(v).catch(N=>{if(o())return;const k=e.retry??(Wl?0:3),O=e.retryDelay??q7,M=typeof O=="function"?O(n,N):O,j=k===!0||typeof k=="number"&&n<k||typeof k=="function"&&k(n,N);if(t||!j){b(N);return}n++,e.onFail?.(n,N),O7(M).then(()=>h()?void 0:_()).then(()=>{t?b(N):C()})})};return{promise:s,status:()=>s.status,cancel:l,continue:()=>(i?.(),s),cancelRetry:c,continueRetry:d,canStart:g,start:()=>(g()?C():_().then(C),s)}}var LM=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Zx(this.gcTime)&&(this.#e=No.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Wl?1/0:300*1e3))}clearGcTimeout(){this.#e&&(No.clearTimeout(this.#e),this.#e=void 0)}},W7=class extends LM{#e;#t;#n;#s;#i;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=pT(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=pT(this.options);t.data!==void 0&&(this.setState(hT(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=Jx(this.state.data,e,this.options);return this.#r({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#r({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(ni).catch(ni):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Bs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===z_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Oa(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!RM(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(d=>d.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,i=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},s=()=>{const c=NM(this.options,t),h=(()=>{const g={client:this.#s,queryKey:this.queryKey,meta:this.meta};return i(g),g})();return this.#o=!1,this.options.persister?this.options.persister(c,h,this):c(h)},l=(()=>{const c={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:s};return i(c),c})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#r({type:"fetch",meta:l.fetchOptions?.meta}),this.#i=DM({initialPromise:t?.initialPromise,fn:l.fetchFn,onCancel:c=>{c instanceof t0&&c.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(c,d)=>{this.#r({type:"failed",failureCount:c,error:d})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const c=await this.#i.start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof t0){if(c.silent)return this.#i.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#r({type:"error",error:c}),this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...jM(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,...hT(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),pi.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function jM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:MM(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function hT(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function pT(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,i=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Y7=class extends rh{constructor(e,t){super(),this.options=t,this.#e=e,this.#r=null,this.#o=e0(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#s=void 0;#i;#a;#o;#r;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),mT(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return n0(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return n0(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#_(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Bs(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),t._defaulted&&!Xx(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&gT(this.#t,n,this.options,t)&&this.#d(),this.updateResult(),i&&(this.#t!==n||Bs(this.options.enabled,this.#t)!==Bs(t.enabled,this.#t)||Oa(this.options.staleTime,this.#t)!==Oa(t.staleTime,this.#t))&&this.#g();const s=this.#v();i&&(this.#t!==n||Bs(this.options.enabled,this.#t)!==Bs(t.enabled,this.#t)||s!==this.#l)&&this.#y(s)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return X7(this,n)&&(this.#s=n,this.#a=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(e,t){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),t?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(e){this.#w();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(ni)),t}#g(){this.#x();const e=Oa(this.options.staleTime,this.#t);if(Wl||this.#s.isStale||!Zx(e))return;const n=RM(this.#s.dataUpdatedAt,e)+1;this.#c=No.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(e){this.#_(),this.#l=e,!(Wl||Bs(this.options.enabled,this.#t)===!1||!Zx(this.#l)||this.#l===0)&&(this.#u=No.setInterval(()=>{(this.options.refetchIntervalInBackground||B_.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#y(this.#v())}#x(){this.#c&&(No.clearTimeout(this.#c),this.#c=void 0)}#_(){this.#u&&(No.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const n=this.#t,i=this.options,s=this.#s,o=this.#i,l=this.#a,d=e!==n?e.state:this.#n,{state:h}=e;let g={...h},v=!1,b;if(t._optimisticResults){const I=this.hasListeners(),$=!I&&mT(e,t),Z=I&&gT(e,n,t,i);($||Z)&&(g={...g,...jM(h.data,e.options)}),t._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:_,errorUpdatedAt:C,status:E}=g;b=g.data;let R=!1;if(t.placeholderData!==void 0&&b===void 0&&E==="pending"){let I;s?.isPlaceholderData&&t.placeholderData===l?.placeholderData?(I=s.data,R=!0):I=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,I!==void 0&&(E="success",b=Jx(s?.data,I,t),v=!0)}if(t.select&&b!==void 0&&!R)if(s&&b===o?.data&&t.select===this.#m)b=this.#f;else try{this.#m=t.select,b=t.select(b),b=Jx(s?.data,b,t),this.#f=b,this.#r=null}catch(I){this.#r=I}this.#r&&(_=this.#r,b=this.#f,C=Date.now(),E="error");const N=g.fetchStatus==="fetching",k=E==="pending",O=E==="error",M=k&&N,j=b!==void 0,z={status:E,fetchStatus:g.fetchStatus,isPending:k,isSuccess:E==="success",isError:O,isInitialLoading:M,isLoading:M,data:b,dataUpdatedAt:g.dataUpdatedAt,error:_,errorUpdatedAt:C,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>d.dataUpdateCount||g.errorUpdateCount>d.errorUpdateCount,isFetching:N,isRefetching:N&&!k,isLoadingError:O&&!j,isPaused:g.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:O&&j,isStale:U_(e,t),refetch:this.refetch,promise:this.#o,isEnabled:Bs(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const I=z.data!==void 0,$=z.status==="error"&&!I,Z=ne=>{$?ne.reject(z.error):I&&ne.resolve(z.data)},q=()=>{const ne=this.#o=z.promise=e0();Z(ne)},X=this.#o;switch(X.status){case"pending":e.queryHash===n.queryHash&&Z(X);break;case"fulfilled":($||z.data!==X.value)&&q();break;case"rejected":(!$||z.error!==X.reason)&&q();break}}return z}updateResult(){const e=this.#s,t=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#a=this.options,this.#i.data!==void 0&&(this.#h=this.#t),Xx(t,e))return;this.#s=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!this.#p.size)return!0;const o=new Set(s??this.#p);return this.options.throwOnError&&o.add("error"),Object.keys(this.#s).some(l=>{const c=l;return this.#s[c]!==e[c]&&o.has(c)})};this.#S({listeners:n()})}#w(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(e){pi.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Z7(e,t){return Bs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function mT(e,t){return Z7(e,t)||e.state.data!==void 0&&n0(e,t,t.refetchOnMount)}function n0(e,t,n){if(Bs(t.enabled,e)!==!1&&Oa(t.staleTime,e)!=="static"){const i=typeof n=="function"?n(e):n;return i==="always"||i!==!1&&U_(e,t)}return!1}function gT(e,t,n,i){return(e!==t||Bs(i.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&U_(e,n)}function U_(e,t){return Bs(t.enabled,e)!==!1&&e.isStaleByTime(Oa(t.staleTime,e))}function X7(e,t){return!Xx(e.getCurrentResult(),t)}function vT(e){return{onFetch:(t,n)=>{const i=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],l=t.state.data?.pageParams||[];let c={pages:[],pageParams:[]},d=0;const h=async()=>{let g=!1;const v=C=>{D7(C,()=>t.signal,()=>g=!0)},b=NM(t.options,t.fetchOptions),_=async(C,E,R)=>{if(g)return Promise.reject();if(E==null&&C.pages.length)return Promise.resolve(C);const k=(()=>{const U={client:t.client,queryKey:t.queryKey,pageParam:E,direction:R?"backward":"forward",meta:t.options.meta};return v(U),U})(),O=await b(k),{maxPages:M}=t.options,j=R?M7:P7;return{pages:j(C.pages,O,M),pageParams:j(C.pageParams,E,M)}};if(s&&o.length){const C=s==="backward",E=C?Q7:yT,R={pages:o,pageParams:l},N=E(i,R);c=await _(R,N,C)}else{const C=e??o.length;do{const E=d===0?l[0]??i.initialPageParam:yT(i,c);if(d>0&&E==null)break;c=await _(c,E),d++}while(d<C)}return c};t.options.persister?t.fetchFn=()=>t.options.persister?.(h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=h}}}function yT(e,{pages:t,pageParams:n}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,n[i],n):void 0}function Q7(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var J7=class extends LM{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||eY(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#i({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=DM({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(o,l)=>{this.#i({type:"failed",failureCount:o,error:l})},onPause:()=>{this.#i({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",s=!this.#s.canStart();try{if(i)t();else{this.#i({type:"pending",variables:e,isPaused:s}),this.#n.config.onMutate&&await this.#n.config.onMutate(e,this,n);const l=await this.options.onMutate?.(e,n);l!==this.state.context&&this.#i({type:"pending",context:l,variables:e,isPaused:s})}const o=await this.#s.start();return await this.#n.config.onSuccess?.(o,e,this.state.context,this,n),await this.options.onSuccess?.(o,e,this.state.context,n),await this.#n.config.onSettled?.(o,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(o,null,e,this.state.context,n),this.#i({type:"success",data:o}),o}catch(o){try{await this.#n.config.onError?.(o,e,this.state.context,this,n)}catch(l){Promise.reject(l)}try{await this.options.onError?.(o,e,this.state.context,n)}catch(l){Promise.reject(l)}try{await this.#n.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this,n)}catch(l){Promise.reject(l)}try{await this.options.onSettled?.(void 0,o,e,this.state.context,n)}catch(l){Promise.reject(l)}throw this.#i({type:"error",error:o}),o}finally{this.#n.runNext(this)}}#i(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),pi.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function eY(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var tY=class extends rh{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const i=new J7({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(i),i}add(e){this.#e.add(e);const t=lm(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=lm(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=lm(e);if(typeof t=="string"){const i=this.#t.get(t)?.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){const t=lm(e);return typeof t=="string"?this.#t.get(t)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){pi.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>uT(t,n))}findAll(e={}){return this.getAll().filter(t=>uT(e,t))}notify(e){pi.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return pi.batch(()=>Promise.all(e.map(t=>t.continue().catch(ni))))}};function lm(e){return e.options.scope?.id}var nY=class extends rh{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const i=t.queryKey,s=t.queryHash??I_(i,t);let o=this.get(s);return o||(o=new W7({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){pi.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>cT(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>cT(e,n)):t}notify(e){pi.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){pi.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){pi.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},iY=class{#e;#t;#n;#s;#i;#a;#o;#r;constructor(e={}){this.#e=e.queryCache||new nY,this.#t=e.mutationCache||new tY,this.#n=e.defaultOptions||{},this.#s=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=B_.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=ag.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),i=n.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Oa(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const i=n.data;return[t,i]})}setQueryData(e,t,n){const i=this.defaultQueryOptions({queryKey:e}),o=this.#e.get(i.queryHash)?.state.data,l=k7(t,o);if(l!==void 0)return this.#e.build(this,i).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return pi.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;pi.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return pi.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},i=pi.batch(()=>this.#e.findAll(e).map(s=>s.cancel(n)));return Promise.all(i).then(ni).catch(ni)}invalidateQueries(e,t={}){return pi.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},i=pi.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(ni)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(i).then(ni)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(Oa(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ni).catch(ni)}fetchInfiniteQuery(e){return e.behavior=vT(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ni).catch(ni)}ensureInfiniteQueryData(e){return e.behavior=vT(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ag.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#s.set(Pf(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#s.values()],n={};return t.forEach(i=>{Mf(e,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(e,t){this.#i.set(Pf(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(i=>{Mf(e,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=I_(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===z_&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},IM=x.createContext(void 0),sY=e=>{const t=x.useContext(IM);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},rY=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),y.jsx(IM.Provider,{value:e,children:t})),zM=x.createContext(!1),F_=()=>x.useContext(zM),oY=zM.Provider;function aY(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var lY=x.createContext(aY()),cY=()=>x.useContext(lY),uY=(e,t,n)=>{const i=n?.state.error&&typeof e.throwOnError=="function"?OM(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||i)&&(t.isReset()||(e.retryOnMount=!1))},dY=e=>{x.useEffect(()=>{e.clearReset()},[e])},fY=({result:e,errorResetBoundary:t,throwOnError:n,query:i,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&(s&&e.data===void 0||OM(n,[e.error,i])),hY=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...s)=>n(i(...s)):n(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},pY=(e,t)=>e.isLoading&&e.isFetching&&!t,mY=(e,t)=>e?.suspense&&t.isPending,bT=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function gY(e,t,n){const i=F_(),s=cY(),o=sY(),l=o.defaultQueryOptions(e);o.getDefaultOptions().queries?._experimental_beforeQuery?.(l);const c=o.getQueryCache().get(l.queryHash);l._optimisticResults=i?"isRestoring":"optimistic",hY(l),uY(l,s,c),dY(s);const d=!o.getQueryCache().get(l.queryHash),[h]=x.useState(()=>new t(o,l)),g=h.getOptimisticResult(l),v=!i&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(b=>{const _=v?h.subscribe(pi.batchCalls(b)):ni;return h.updateResult(),_},[h,v]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),x.useEffect(()=>{h.setOptions(l)},[l,h]),mY(l,g))throw bT(l,h,s);if(fY({result:g,errorResetBoundary:s,throwOnError:l.throwOnError,query:c,suspense:l.suspense}))throw g.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(l,g),l.experimental_prefetchInRender&&!Wl&&pY(g,i)&&(d?bT(l,h,s):c?.promise)?.catch(ni).finally(()=>{h.updateResult()}),l.notifyOnChangeProps?g:h.trackResult(g)}function Qr(e,t){return gY(e,Y7)}const BM="https://api.gbif.org/v1",oh=`${BM}/species`,vY=`${oh}/search?rank=KINGDOM&status=ACCEPTED&limit=100&datasetKey=d7dddbf4-2cf0-4f39-9b2a-bb099caae36c`,yY=async()=>(await(await fetch(vY)).json()).results,bY=async e=>{const t=`${oh}/${e}/children?limit=1000&status=ACCEPTED`;return(await fetch(t).then(i=>i.json())).results},UM=async e=>{const t=`${oh}/${e}`;return await fetch(t).then(i=>i.json())},xY=async({specieKey:e})=>{const t=`https://api.gbif.org/v1/occurrence/search?mediaType=StillImage&taxon_key=${e}&limit=1`,i=(await fetch(t).then(s=>s.json())).results?.[0]?.media?.[0]?.identifier;return i?{source:"GBIF",imgUrl:i,licenseCode:"",author:""}:null},_Y=async(e,t)=>{let n=`${oh}/search?q=${encodeURIComponent(e)}&status=ACCEPTED&limit=50`;return t&&(n+=`&kingdom=${encodeURIComponent(t)}`),(await fetch(n).then(o=>o.json())).results??[]},wY=async e=>{const t=`${oh}/${e}/parents`;return await fetch(t).then(i=>i.json())??[]},SY=`${BM}/occurrence`,CY=async e=>{const t=`${SY}/search?taxonKey=${e}`;return await fetch(t).then(i=>i.json())},ah={kingdoms_key:"kingdoms",children_key:"children",specie_key:"specie",daily_challenge_key:"daily_challenge",challenge_tips_key:"challenge_tips"},Bo=({specieKey:e})=>{const{specie_key:t}=ah;return Qr({queryKey:[t,e],queryFn:async()=>{const n=await UM(e);return{canonicalName:n.canonicalName,scientificName:n.scientificName,kingdom:n.kingdom,phylum:n.phylum,class:n.class,order:n.order,family:n.family,genus:n.genus,species:n.species,authorship:n.authorship,publishedIn:n.publishedIn,title:n.title}},staleTime:1e3*60*15,gcTime:1e3*60*60})},EY="https://api.inaturalist.org/v1",AY=async({canonicalName:e})=>{const t=`${EY}/search?q=${encodeURIComponent(e)}&sources=taxa`,n=await fetch(t).then(s=>s.json());if(!n||!n.results?.[0]?.record?.id)return null;const i=n.results[0].record.taxon_photos?.[0]?.photo;if(i)return{source:"iNaturalist",imgUrl:i.original_url,licenseCode:i.license_code,author:i.attribution_name}},FM="https://pt.wikipedia.org/api/rest_v1/page/summary",TY=async e=>await(await fetch(`${FM}/${e}`)).json();async function RY(e){const t=`
    SELECT ?item ?itemLabel ?iucnStatus ?iucnStatusLabel WHERE {
      ?item wdt:P225 "${e}".
      OPTIONAL { ?item wdt:P141 ?iucnStatus. }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
    } LIMIT 1
  `,i="https://query.wikidata.org/sparql"+"?format=json&query="+encodeURIComponent(t);try{const s=await fetch(i,{headers:{Accept:"application/sparql-results+json"}});if(!s.ok)throw new Error("Erro na requisio SPARQL");const l=(await s.json())?.results?.bindings?.[0]?.iucnStatusLabel?.value;return{Extinct:"EX","Extinct in the Wild":"EW","Critically Endangered":"CR",Endangered:"EN",Vulnerable:"VU","Near Threatened":"NT","Least Concern":"LC","Data Deficient":"DD","Not Evaluated":"NE"}[l]??null}catch(s){return console.error("Erro ao buscar status na Wikidata:",s),null}}const kY=async({canonicalName:e})=>{const t=`${FM}/${encodeURIComponent(e)}`,n=await fetch(t).then(i=>i.json());return n?.thumbnail?.source?{source:"Wikipedia",imgUrl:n.thumbnail.source,licenseCode:"",author:""}:null},lh=(e,t)=>Qr({queryKey:["specie-image",e,t],queryFn:async()=>{if(!e||!t)return null;const n=await AY({canonicalName:t});if(n)return n;const i=await kY({canonicalName:t});return i||await xY({specieKey:e})},enabled:!!e&&!!t,staleTime:1e3*60*60*24}),Oo=({className:e,children:t})=>y.jsx("div",{className:`bg-skeleton bg-skeleton-size animate-skeleton rounded ${e}`,children:t}),VM=()=>y.jsxs("div",{className:"space-y-2",children:[y.jsx(Oo,{className:"h-8 w-1/2"}),y.jsx(Oo,{className:"h-4 w-1/3"})]}),NY=()=>y.jsx("div",{className:"grid grid-cols-2 gap-4",children:Array.from({length:6}).map((e,t)=>y.jsxs("div",{children:[y.jsx(Oo,{className:"h-4 w-3/4"}),y.jsx(Oo,{className:"mt-1 h-4 w-1/2"})]},t))}),OY=()=>y.jsx(Oo,{className:"h-6 w-32 rounded-full"}),PY=()=>y.jsxs("div",{className:"space-y-2",children:[y.jsx(Oo,{className:"h-4 w-full"}),y.jsx(Oo,{className:"h-4 w-5/6"}),y.jsx(Oo,{className:"h-4 w-2/3"})]}),MY=()=>y.jsx(Oo,{className:"aspect-square w-full rounded-xl"}),DY=({zoom:e=3,...t})=>{const n=x.useRef(null),[i,s]=x.useState(!1),[o,l]=x.useState({xPercent:50,yPercent:50}),[c,d]=x.useState(!1),h=g=>{const v=n.current?.getBoundingClientRect();if(!v)return;const b=(g.clientX-v.left)/v.width*100,_=(g.clientY-v.top)/v.height*100;l({xPercent:b,yPercent:_})};return x.useEffect(()=>{if(!c)return;const g=v=>{v.key==="Escape"&&d(!1)};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[c]),y.jsxs(y.Fragment,{children:[y.jsx("div",{ref:n,className:`relative size-full cursor-zoom-in overflow-hidden ${t.className}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onMouseMove:h,onClick:()=>d(!0),style:{backgroundImage:`url(${t.src})`,backgroundSize:i?`${e*100}%`:"cover",backgroundPosition:`${o.xPercent}% ${o.yPercent}%`,backgroundRepeat:"no-repeat",transition:"background-size 0.15s ease-out"},children:y.jsx(Hn,{src:t.src,alt:t.alt,className:`h-full w-full object-cover transition-opacity duration-150 ${i?"opacity-0":"opacity-100"}`,draggable:!1,fallbackSrc:t.fallbackSrc})}),c&&y.jsx("div",{className:"fixed inset-0 z-[9999] flex cursor-zoom-out items-center justify-center bg-black/90",onClick:()=>d(!1),children:y.jsx(Hn,{src:t.src,alt:t.alt,className:"max-h-[95vh] max-w-[95vw] rounded-lg object-contain",draggable:!1})})]})},LY=()=>{const{t:e}=Mt(),t=Be(Da),n=Be(nt.expandedNodes).find(g=>g.rank==="SPECIES")?.key,i=t??n,{data:s}=Bo({specieKey:i}),{data:o,isLoading:l}=lh(i,s?.canonicalName),[c,d]=x.useState(!1);if(!s)return;if(l)return y.jsx(MY,{});const h=gs(PP[s.kingdom.toLowerCase()]);return!o||c?y.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2 rounded-xl border border-dashed p-4 text-center text-sm",children:[y.jsx(Hn,{src:h,alt:s.scientificName,className:"max-h-48 opacity-30"}),y.jsx("span",{children:e("specieDetail.imageNotFound")}),y.jsx("div",{className:"rounded-md border p-3 text-xs",children:y.jsx("p",{children:e("specieDetail.imageNote")})}),y.jsx("a",{href:`https://www.google.com/search?tbm=isch&q=${encodeURIComponent(s.canonicalName)}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:e("specieDetail.viewOnGoogle")})]}):y.jsxs("div",{className:"relative mx-auto h-fit w-full",children:[y.jsx("figure",{children:y.jsx(DY,{src:o.imgUrl||h,fallbackSrc:h,alt:`Imagem da espcie "${s.scientificName}"`,onFallbackChange:d,zoom:3,className:"h-auto w-full rounded-lg"})}),o.source&&y.jsxs("p",{className:"absolute right-0 -bottom-4 px-1 text-[11px]",children:[e("specieDetail.imageSource"),": ",o.source,o.author&&`${e("specieDetail.imageBy")}${o.author}`,o.licenseCode&&`${e("specieDetail.imageLicense")}${o.licenseCode}`]})]})},jY=OP("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Df({className:e,variant:t,asChild:n=!1,...i}){const s=n?CP:"span";return y.jsx(s,{"data-slot":"badge",className:it(jY({variant:t}),e),...i})}const xT={EX:{bg:"bg-gray-800"},EW:{bg:"bg-gray-600"},CR:{bg:"bg-red-700"},EN:{bg:"bg-orange-600"},VU:{bg:"bg-yellow-500",text:"text-black"},NT:{bg:"bg-lime-500",text:"text-black"},LC:{bg:"bg-green-500"},DD:{bg:"bg-blue-400"},NE:{bg:"bg-neutral-400"}},IY=({statusCode:e})=>{const{t}=Mt();if(!e||!(e in xT))return y.jsx(Df,{className:"w-full bg-neutral-500 py-3 text-sm text-white",children:t("vulnerability.unknown")});const{bg:n,text:i}=xT[e];return y.jsx(Df,{className:it("w-full py-3 text-sm text-white",n,i),children:t(`vulnerability.${e}`)})},zY=({specieName:e})=>Qr({queryKey:["iucn-status",e],queryFn:async()=>await RY(e),enabled:!!e,staleTime:1e3*60*60*24}),BY=e=>Qr({queryKey:["wiki-details",e],queryFn:()=>TY(e),enabled:!!e,staleTime:1e3*60*60*24}),V_=x.createContext({});function $_(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const $M=typeof window<"u",HM=$M?x.useLayoutEffect:x.useEffect,Gg=x.createContext(null);function H_(e,t){e.indexOf(t)===-1&&e.push(t)}function lg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Yr=(e,t,n)=>n>t?t:n<e?e:n;let G_=()=>{};const Io={},GM=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function KM(e){return typeof e=="object"&&e!==null}const qM=e=>/^0[^.\s]+$/u.test(e);function WM(e){let t;return()=>(t===void 0&&(t=e()),t)}const Hs=e=>e,UY=(e,t)=>n=>t(e(n)),ch=(...e)=>e.reduce(UY),Lf=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class K_{constructor(){this.subscriptions=[]}add(t){return H_(this.subscriptions,t),()=>lg(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const hr=e=>e*1e3,Vs=e=>e/1e3;function YM(e,t){return t?e*(1e3/t):0}const ZM=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,FY=1e-7,VY=12;function $Y(e,t,n,i,s){let o,l,c=0;do l=t+(n-t)/2,o=ZM(l,i,s)-e,o>0?n=l:t=l;while(Math.abs(o)>FY&&++c<VY);return l}function uh(e,t,n,i){if(e===t&&n===i)return Hs;const s=o=>$Y(o,0,1,e,n);return o=>o===0||o===1?o:ZM(s(o),t,i)}const XM=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,QM=e=>t=>1-e(1-t),JM=uh(.33,1.53,.69,.99),q_=QM(JM),eD=XM(q_),tD=e=>(e*=2)<1?.5*q_(e):.5*(2-Math.pow(2,-10*(e-1))),W_=e=>1-Math.sin(Math.acos(e)),nD=QM(W_),iD=XM(W_),HY=uh(.42,0,1,1),GY=uh(0,0,.58,1),sD=uh(.42,0,.58,1),KY=e=>Array.isArray(e)&&typeof e[0]!="number",rD=e=>Array.isArray(e)&&typeof e[0]=="number",qY={linear:Hs,easeIn:HY,easeInOut:sD,easeOut:GY,circIn:W_,circInOut:iD,circOut:nD,backIn:q_,backInOut:eD,backOut:JM,anticipate:tD},WY=e=>typeof e=="string",_T=e=>{if(rD(e)){G_(e.length===4);const[t,n,i,s]=e;return uh(t,n,i,s)}else if(WY(e))return qY[e];return e},cm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function YY(e,t){let n=new Set,i=new Set,s=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(g){l.has(g)&&(h.schedule(g),e()),g(c)}const h={schedule:(g,v=!1,b=!1)=>{const C=b&&s?n:i;return v&&l.add(g),C.has(g)||C.add(g),g},cancel:g=>{i.delete(g),l.delete(g)},process:g=>{if(c=g,s){o=!0;return}s=!0,[n,i]=[i,n],n.forEach(d),n.clear(),s=!1,o&&(o=!1,h.process(g))}};return h}const ZY=40;function oD(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=cm.reduce((O,M)=>(O[M]=YY(o),O),{}),{setup:c,read:d,resolveKeyframes:h,preUpdate:g,update:v,preRender:b,render:_,postRender:C}=l,E=()=>{const O=Io.useManualTiming?s.timestamp:performance.now();n=!1,Io.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(O-s.timestamp,ZY),1)),s.timestamp=O,s.isProcessing=!0,c.process(s),d.process(s),h.process(s),g.process(s),v.process(s),b.process(s),_.process(s),C.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(E))},R=()=>{n=!0,i=!0,s.isProcessing||e(E)};return{schedule:cm.reduce((O,M)=>{const j=l[M];return O[M]=(U,z=!1,I=!1)=>(n||R(),j.schedule(U,z,I)),O},{}),cancel:O=>{for(let M=0;M<cm.length;M++)l[cm[M]].cancel(O)},state:s,steps:l}}const{schedule:Jt,cancel:La,state:hi,steps:Fb}=oD(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hs,!0);let Em;function XY(){Em=void 0}const Di={now:()=>(Em===void 0&&Di.set(hi.isProcessing||Io.useManualTiming?hi.timestamp:performance.now()),Em),set:e=>{Em=e,queueMicrotask(XY)}},aD=e=>t=>typeof t=="string"&&t.startsWith(e),lD=aD("--"),QY=aD("var(--"),Y_=e=>QY(e)?JY.test(e.split("/*")[0].trim()):!1,JY=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function wT(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Iu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},jf={...Iu,transform:e=>Yr(0,1,e)},um={...Iu,default:1},uf=e=>Math.round(e*1e5)/1e5,Z_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function eZ(e){return e==null}const tZ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,X_=(e,t)=>n=>!!(typeof n=="string"&&tZ.test(n)&&n.startsWith(e)||t&&!eZ(n)&&Object.prototype.hasOwnProperty.call(n,t)),cD=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,o,l,c]=i.match(Z_);return{[e]:parseFloat(s),[t]:parseFloat(o),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},nZ=e=>Yr(0,255,e),Vb={...Iu,transform:e=>Math.round(nZ(e))},Il={test:X_("rgb","red"),parse:cD("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+Vb.transform(e)+", "+Vb.transform(t)+", "+Vb.transform(n)+", "+uf(jf.transform(i))+")"};function iZ(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const i0={test:X_("#"),parse:iZ,transform:Il.transform},dh=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),_a=dh("deg"),Kr=dh("%"),Ve=dh("px"),sZ=dh("vh"),rZ=dh("vw"),ST={...Kr,parse:e=>Kr.parse(e)/100,transform:e=>Kr.transform(e*100)},cu={test:X_("hsl","hue"),parse:cD("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+Kr.transform(uf(t))+", "+Kr.transform(uf(n))+", "+uf(jf.transform(i))+")"},Mn={test:e=>Il.test(e)||i0.test(e)||cu.test(e),parse:e=>Il.test(e)?Il.parse(e):cu.test(e)?cu.parse(e):i0.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Il.transform(e):cu.transform(e),getAnimatableNone:e=>{const t=Mn.parse(e);return t.alpha=0,Mn.transform(t)}},oZ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function aZ(e){return isNaN(e)&&typeof e=="string"&&(e.match(Z_)?.length||0)+(e.match(oZ)?.length||0)>0}const uD="number",dD="color",lZ="var",cZ="var(",CT="${}",uZ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function If(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let o=0;const c=t.replace(uZ,d=>(Mn.test(d)?(i.color.push(o),s.push(dD),n.push(Mn.parse(d))):d.startsWith(cZ)?(i.var.push(o),s.push(lZ),n.push(d)):(i.number.push(o),s.push(uD),n.push(parseFloat(d))),++o,CT)).split(CT);return{values:n,split:c,indexes:i,types:s}}function fD(e){return If(e).values}function hD(e){const{split:t,types:n}=If(e),i=t.length;return s=>{let o="";for(let l=0;l<i;l++)if(o+=t[l],s[l]!==void 0){const c=n[l];c===uD?o+=uf(s[l]):c===dD?o+=Mn.transform(s[l]):o+=s[l]}return o}}const dZ=e=>typeof e=="number"?0:Mn.test(e)?Mn.getAnimatableNone(e):e;function fZ(e){const t=fD(e);return hD(e)(t.map(dZ))}const pr={test:aZ,parse:fD,createTransformer:hD,getAnimatableNone:fZ};function $b(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function hZ({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,o=0,l=0;if(!t)s=o=l=n;else{const c=n<.5?n*(1+t):n+t-n*t,d=2*n-c;s=$b(d,c,e+1/3),o=$b(d,c,e),l=$b(d,c,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:i}}function cg(e,t){return n=>n>0?t:e}const un=(e,t,n)=>e+(t-e)*n,Hb=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},pZ=[i0,Il,cu],mZ=e=>pZ.find(t=>t.test(e));function ET(e){const t=mZ(e);if(!t)return!1;let n=t.parse(e);return t===cu&&(n=hZ(n)),n}const AT=(e,t)=>{const n=ET(e),i=ET(t);if(!n||!i)return cg(e,t);const s={...n};return o=>(s.red=Hb(n.red,i.red,o),s.green=Hb(n.green,i.green,o),s.blue=Hb(n.blue,i.blue,o),s.alpha=un(n.alpha,i.alpha,o),Il.transform(s))},s0=new Set(["none","hidden"]);function gZ(e,t){return s0.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function vZ(e,t){return n=>un(e,t,n)}function Q_(e){return typeof e=="number"?vZ:typeof e=="string"?Y_(e)?cg:Mn.test(e)?AT:xZ:Array.isArray(e)?pD:typeof e=="object"?Mn.test(e)?AT:yZ:cg}function pD(e,t){const n=[...e],i=n.length,s=e.map((o,l)=>Q_(o)(o,t[l]));return o=>{for(let l=0;l<i;l++)n[l]=s[l](o);return n}}function yZ(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=Q_(e[s])(e[s],t[s]));return s=>{for(const o in i)n[o]=i[o](s);return n}}function bZ(e,t){const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],l=e.indexes[o][i[o]],c=e.values[l]??0;n[s]=c,i[o]++}return n}const xZ=(e,t)=>{const n=pr.createTransformer(t),i=If(e),s=If(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?s0.has(e)&&!s.values.length||s0.has(t)&&!i.values.length?gZ(e,t):ch(pD(bZ(i,s),s.values),n):cg(e,t)};function mD(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?un(e,t,n):Q_(e)(e,t)}const _Z=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Jt.update(t,n),stop:()=>La(t),now:()=>hi.isProcessing?hi.timestamp:Di.now()}},gD=(e,t,n=10)=>{let i="";const s=Math.max(Math.round(t/n),2);for(let o=0;o<s;o++)i+=Math.round(e(o/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},ug=2e4;function J_(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<ug;)t+=n,i=e.next(t);return t>=ug?1/0:t}function wZ(e,t=100,n){const i=n({...e,keyframes:[0,t]}),s=Math.min(J_(i),ug);return{type:"keyframes",ease:o=>i.next(s*o).value/t,duration:Vs(s)}}const SZ=5;function vD(e,t,n){const i=Math.max(t-SZ,0);return YM(n-e(i),t-i)}const xn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Gb=.001;function CZ({duration:e=xn.duration,bounce:t=xn.bounce,velocity:n=xn.velocity,mass:i=xn.mass}){let s,o,l=1-t;l=Yr(xn.minDamping,xn.maxDamping,l),e=Yr(xn.minDuration,xn.maxDuration,Vs(e)),l<1?(s=h=>{const g=h*l,v=g*e,b=g-n,_=r0(h,l),C=Math.exp(-v);return Gb-b/_*C},o=h=>{const v=h*l*e,b=v*n+n,_=Math.pow(l,2)*Math.pow(h,2)*e,C=Math.exp(-v),E=r0(Math.pow(h,2),l);return(-s(h)+Gb>0?-1:1)*((b-_)*C)/E}):(s=h=>{const g=Math.exp(-h*e),v=(h-n)*e+1;return-Gb+g*v},o=h=>{const g=Math.exp(-h*e),v=(n-h)*(e*e);return g*v});const c=5/e,d=AZ(s,o,c);if(e=hr(e),isNaN(d))return{stiffness:xn.stiffness,damping:xn.damping,duration:e};{const h=Math.pow(d,2)*i;return{stiffness:h,damping:l*2*Math.sqrt(i*h),duration:e}}}const EZ=12;function AZ(e,t,n){let i=n;for(let s=1;s<EZ;s++)i=i-e(i)/t(i);return i}function r0(e,t){return e*Math.sqrt(1-t*t)}const TZ=["duration","bounce"],RZ=["stiffness","damping","mass"];function TT(e,t){return t.some(n=>e[n]!==void 0)}function kZ(e){let t={velocity:xn.velocity,stiffness:xn.stiffness,damping:xn.damping,mass:xn.mass,isResolvedFromDuration:!1,...e};if(!TT(e,RZ)&&TT(e,TZ))if(t.velocity=0,e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,o=2*Yr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:xn.mass,stiffness:s,damping:o}}else{const n=CZ({...e,velocity:0});t={...t,...n,mass:xn.mass},t.isResolvedFromDuration=!0}return t}function dg(e=xn.visualDuration,t=xn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:d,damping:h,mass:g,duration:v,velocity:b,isResolvedFromDuration:_}=kZ({...n,velocity:-Vs(n.velocity||0)}),C=b||0,E=h/(2*Math.sqrt(d*g)),R=l-o,N=Vs(Math.sqrt(d/g)),k=Math.abs(R)<5;i||(i=k?xn.restSpeed.granular:xn.restSpeed.default),s||(s=k?xn.restDelta.granular:xn.restDelta.default);let O;if(E<1){const j=r0(N,E);O=U=>{const z=Math.exp(-E*N*U);return l-z*((C+E*N*R)/j*Math.sin(j*U)+R*Math.cos(j*U))}}else if(E===1)O=j=>l-Math.exp(-N*j)*(R+(C+N*R)*j);else{const j=N*Math.sqrt(E*E-1);O=U=>{const z=Math.exp(-E*N*U),I=Math.min(j*U,300);return l-z*((C+E*N*R)*Math.sinh(I)+j*R*Math.cosh(I))/j}}const M={calculatedDuration:_&&v||null,next:j=>{const U=O(j);if(_)c.done=j>=v;else{let z=j===0?C:0;E<1&&(z=j===0?hr(C):vD(O,j,U));const I=Math.abs(z)<=i,$=Math.abs(l-U)<=s;c.done=I&&$}return c.value=c.done?l:U,c},toString:()=>{const j=Math.min(J_(M),ug),U=gD(z=>M.next(j*z).value,j,30);return j+"ms "+U},toTransition:()=>{}};return M}dg.applyToOptions=e=>{const t=wZ(e,100,dg);return e.ease=t.ease,e.duration=hr(t.duration),e.type="keyframes",e};function o0({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:d,restDelta:h=.5,restSpeed:g}){const v=e[0],b={done:!1,value:v},_=I=>c!==void 0&&I<c||d!==void 0&&I>d,C=I=>c===void 0?d:d===void 0||Math.abs(c-I)<Math.abs(d-I)?c:d;let E=n*t;const R=v+E,N=l===void 0?R:l(R);N!==R&&(E=N-v);const k=I=>-E*Math.exp(-I/i),O=I=>N+k(I),M=I=>{const $=k(I),Z=O(I);b.done=Math.abs($)<=h,b.value=b.done?N:Z};let j,U;const z=I=>{_(b.value)&&(j=I,U=dg({keyframes:[b.value,C(b.value)],velocity:vD(O,I,b.value),damping:s,stiffness:o,restDelta:h,restSpeed:g}))};return z(0),{calculatedDuration:null,next:I=>{let $=!1;return!U&&j===void 0&&($=!0,M(I),z(I)),j!==void 0&&I>=j?U.next(I-j):(!$&&M(I),b)}}}function NZ(e,t,n){const i=[],s=n||Io.mix||mD,o=e.length-1;for(let l=0;l<o;l++){let c=s(e[l],e[l+1]);if(t){const d=Array.isArray(t)?t[l]||Hs:t;c=ch(d,c)}i.push(c)}return i}function OZ(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const o=e.length;if(G_(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=NZ(t,i,s),d=c.length,h=g=>{if(l&&g<e[0])return t[0];let v=0;if(d>1)for(;v<e.length-2&&!(g<e[v+1]);v++);const b=Lf(e[v],e[v+1],g);return c[v](b)};return n?g=>h(Yr(e[0],e[o-1],g)):h}function PZ(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=Lf(0,t,i);e.push(un(n,1,s))}}function MZ(e){const t=[0];return PZ(t,e.length-1),t}function DZ(e,t){return e.map(n=>n*t)}function LZ(e,t){return e.map(()=>t||sD).splice(0,e.length-1)}function df({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=KY(i)?i.map(_T):_T(i),o={done:!1,value:t[0]},l=DZ(n&&n.length===t.length?n:MZ(t),e),c=OZ(l,t,{ease:Array.isArray(s)?s:LZ(t,s)});return{calculatedDuration:e,next:d=>(o.value=c(d),o.done=d>=e,o)}}const jZ=e=>e!==null;function ew(e,{repeat:t,repeatType:n="loop"},i,s=1){const o=e.filter(jZ),c=s<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!c||i===void 0?o[c]:i}const IZ={decay:o0,inertia:o0,tween:df,keyframes:df,spring:dg};function yD(e){typeof e.type=="string"&&(e.type=IZ[e.type])}class tw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const zZ=e=>e/100;class nw extends tw{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Di.now()&&this.tick(Di.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;yD(t);const{type:n=df,repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=t;let{keyframes:c}=t;const d=n||df;d!==df&&typeof c[0]!="number"&&(this.mixKeyframes=ch(zZ,mD(c[0],c[1])),c=[0,100]);const h=d({...t,keyframes:c});o==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...c].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=J_(h));const{calculatedDuration:g}=h;this.calculatedDuration=g,this.resolvedDuration=g+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=h}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:s,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:h=0,keyframes:g,repeat:v,repeatType:b,repeatDelay:_,type:C,onUpdate:E,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const N=this.currentTime-h*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?N<0:N>s;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let O=this.currentTime,M=i;if(v){const I=Math.min(this.currentTime,s)/c;let $=Math.floor(I),Z=I%1;!Z&&I>=1&&(Z=1),Z===1&&$--,$=Math.min($,v+1),$%2&&(b==="reverse"?(Z=1-Z,_&&(Z-=_/c)):b==="mirror"&&(M=l)),O=Yr(0,1,Z)*c}const j=k?{done:!1,value:g[0]}:M.next(O);o&&(j.value=o(j.value));let{done:U}=j;!k&&d!==null&&(U=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return z&&C!==o0&&(j.value=ew(g,this.options,R,this.speed)),E&&E(j.value),z&&this.finish(),j}then(t,n){return this.finished.then(t,n)}get duration(){return Vs(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Vs(t)}get time(){return Vs(this.currentTime)}set time(t){t=hr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Di.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Vs(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=_Z,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Di.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function BZ(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const zl=e=>e*180/Math.PI,a0=e=>{const t=zl(Math.atan2(e[1],e[0]));return l0(t)},UZ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:a0,rotateZ:a0,skewX:e=>zl(Math.atan(e[1])),skewY:e=>zl(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},l0=e=>(e=e%360,e<0&&(e+=360),e),RT=a0,kT=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),NT=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),FZ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:kT,scaleY:NT,scale:e=>(kT(e)+NT(e))/2,rotateX:e=>l0(zl(Math.atan2(e[6],e[5]))),rotateY:e=>l0(zl(Math.atan2(-e[2],e[0]))),rotateZ:RT,rotate:RT,skewX:e=>zl(Math.atan(e[4])),skewY:e=>zl(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function c0(e){return e.includes("scale")?1:0}function u0(e,t){if(!e||e==="none")return c0(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=FZ,s=n;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=UZ,s=c}if(!s)return c0(t);const o=i[t],l=s[1].split(",").map($Z);return typeof o=="function"?o(l):l[o]}const VZ=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return u0(n,t)};function $Z(e){return parseFloat(e.trim())}const zu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bu=new Set(zu),OT=e=>e===Iu||e===Ve,HZ=new Set(["x","y","z"]),GZ=zu.filter(e=>!HZ.has(e));function KZ(e){const t=[];return GZ.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Ra={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>u0(t,"x"),y:(e,{transform:t})=>u0(t,"y")};Ra.translateX=Ra.x;Ra.translateY=Ra.y;const Fl=new Set;let d0=!1,f0=!1,h0=!1;function bD(){if(f0){const e=Array.from(Fl).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=KZ(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([o,l])=>{i.getValue(o)?.set(l)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}f0=!1,d0=!1,Fl.forEach(e=>e.complete(h0)),Fl.clear()}function xD(){Fl.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(f0=!0)})}function qZ(){h0=!0,xD(),bD(),h0=!1}class iw{constructor(t,n,i,s,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Fl.add(this),d0||(d0=!0,Jt.read(xD),Jt.resolveKeyframes(bD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;if(t[0]===null){const o=s?.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&n){const c=i.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}BZ(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Fl.delete(this)}cancel(){this.state==="scheduled"&&(Fl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const WZ=e=>e.startsWith("--");function YZ(e,t,n){WZ(t)?e.style.setProperty(t,n):e.style[t]=n}const ZZ={};function _D(e,t){const n=WM(e);return()=>ZZ[t]??n()}const XZ=_D(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),wD=_D(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Jd=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,PT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Jd([0,.65,.55,1]),circOut:Jd([.55,0,1,.45]),backIn:Jd([.31,.01,.66,-.59]),backOut:Jd([.33,1.53,.69,.99])};function SD(e,t){if(e)return typeof e=="function"?wD()?gD(e,t):"ease-out":rD(e)?Jd(e):Array.isArray(e)?e.map(n=>SD(n,t)||PT.easeOut):PT[e]}function QZ(e,t,n,{delay:i=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:c="easeOut",times:d}={},h=void 0){const g={[t]:n};d&&(g.offset=d);const v=SD(c,s);Array.isArray(v)&&(g.easing=v);const b={delay:i,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return h&&(b.pseudoElement=h),e.animate(g,b)}function CD(e){return typeof e=="function"&&"applyToOptions"in e}function JZ({type:e,...t}){return CD(e)&&wD()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class ED extends tw{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:i,keyframes:s,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:c,onComplete:d}=t;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=t,G_(typeof t.type!="string");const h=JZ(t);this.animation=QZ(n,i,s,h,o),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const g=ew(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(g):YZ(n,i,g),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Vs(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Vs(t)}get time(){return Vs(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=hr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&XZ()?(this.animation.timeline=t,Hs):n(this)}}const AD={anticipate:tD,backInOut:eD,circInOut:iD};function eX(e){return e in AD}function tX(e){typeof e.ease=="string"&&eX(e.ease)&&(e.ease=AD[e.ease])}const Kb=10;class nX extends ED{constructor(t){tX(t),yD(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:s,element:o,...l}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const c=new nw({...l,autoplay:!1}),d=Math.max(Kb,Di.now()-this.startTime),h=Yr(0,Kb,d-Kb);n.setWithVelocity(c.sample(Math.max(0,d-h)).value,c.sample(d).value,h),c.stop()}}const MT=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(pr.test(e)||e==="0")&&!e.startsWith("url("));function iX(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function sX(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],l=MT(s,t),c=MT(o,t);return!l||!c?!1:iX(e)||(n==="spring"||CD(n))&&i}function p0(e){e.duration=0,e.type="keyframes"}const rX=new Set(["opacity","clipPath","filter","transform"]),oX=WM(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function aX(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:s,damping:o,type:l}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=t.owner.getProps();return oX()&&n&&rX.has(n)&&(n!=="transform"||!h)&&!d&&!i&&s!=="mirror"&&o!==0&&l!=="inertia"}const lX=40;class cX extends tw{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",keyframes:c,name:d,motionValue:h,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Di.now();const b={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:o,repeatType:l,name:d,motionValue:h,element:g,...v},_=g?.KeyframeResolver||iw;this.keyframeResolver=new _(c,(C,E,R)=>this.onKeyframesResolved(C,E,b,!R),d,h,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,i,s){this.keyframeResolver=void 0;const{name:o,type:l,velocity:c,delay:d,isHandoff:h,onUpdate:g}=i;this.resolvedAt=Di.now(),sX(t,o,l,c)||((Io.instantAnimations||!d)&&g?.(ew(t,i,n)),t[0]=t[t.length-1],p0(i),i.repeat=0);const b={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>lX?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},_=!h&&aX(b),C=b.motionValue?.owner?.current,E=_?new nX({...b,element:C}):new nw(b);E.finished.then(()=>{this.notifyFinished()}).catch(Hs),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),qZ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function TD(e,t,n,i=0,s=1){const o=Array.from(e).sort((h,g)=>h.sortNodePosition(g)).indexOf(t),l=e.size,c=(l-1)*i;return typeof n=="function"?n(o,l):s===1?o*i:c-o*i}const uX=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dX(e){const t=uX.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function RD(e,t,n=1){const[i,s]=dX(e);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const l=o.trim();return GM(l)?parseFloat(l):l}return Y_(s)?RD(s,t,n+1):s}const fX={type:"spring",stiffness:500,damping:25,restSpeed:10},hX=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),pX={type:"keyframes",duration:.8},mX={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gX=(e,{keyframes:t})=>t.length>2?pX:Bu.has(e)?e.startsWith("scale")?hX(t[1]):fX:mX,vX=e=>e!==null;function yX(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(vX),o=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[o]}function kD(e,t){if(e?.inherit&&t){const{inherit:n,...i}=e;return{...t,...i}}return e}function sw(e,t){const n=e?.[t]??e?.default??e;return n!==e?kD(n,e):n}function bX({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:c,from:d,elapsed:h,...g}){return!!Object.keys(g).length}const rw=(e,t,n,i={},s,o)=>l=>{const c=sw(i,e)||{},d=c.delay||i.delay||0;let{elapsed:h=0}=i;h=h-hr(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-h,onUpdate:b=>{t.set(b),c.onUpdate&&c.onUpdate(b)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:o?void 0:s};bX(c)||Object.assign(g,gX(e,g)),g.duration&&(g.duration=hr(g.duration)),g.repeatDelay&&(g.repeatDelay=hr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(p0(g),g.delay===0&&(v=!0)),(Io.instantAnimations||Io.skipAnimations||s?.shouldSkipAnimations)&&(v=!0,p0(g),g.delay=0),g.allowFlatten=!c.type&&!c.ease,v&&!o&&t.get()!==void 0){const b=yX(g.keyframes,c);if(b!==void 0){Jt.update(()=>{g.onUpdate(b),g.onComplete()});return}}return c.isSync?new nw(g):new cX(g)};function DT(e){const t=[{},{}];return e?.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function ow(e,t,n,i){if(typeof t=="function"){const[s,o]=DT(i);t=t(n!==void 0?n:e.custom,s,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,o]=DT(i);t=t(n!==void 0?n:e.custom,s,o)}return t}function _u(e,t,n){const i=e.getProps();return ow(i,t,n!==void 0?n:i.custom,e)}const ND=new Set(["width","height","top","left","right","bottom",...zu]),LT=30,xX=e=>!isNaN(parseFloat(e));class _X{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const s=Di.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Di.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=xX(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new K_);const i=this.events[t].add(n);return t==="change"?()=>{i(),Jt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Di.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>LT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,LT);return YM(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tu(e,t){return new _X(e,t)}const m0=e=>Array.isArray(e);function wX(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Tu(n))}function SX(e){return m0(e)?e[e.length-1]||0:e}function CX(e,t){const n=_u(e,t);let{transitionEnd:i={},transition:s={},...o}=n||{};o={...o,...i};for(const l in o){const c=SX(o[l]);wX(e,l,c)}}const Ci=e=>!!(e&&e.getVelocity);function EX(e){return!!(Ci(e)&&e.add)}function g0(e,t){const n=e.getValue("willChange");if(EX(n))return n.add(t);if(!n&&Io.WillChange){const i=new Io.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function aw(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const AX="framerAppearId",OD="data-"+aw(AX);function PD(e){return e.props[OD]}function TX({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function MD(e,t,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:o,transitionEnd:l,...c}=t;const d=e.getDefaultTransition();o=o?kD(o,d):d;const h=o?.reduceMotion;i&&(o=i);const g=[],v=s&&e.animationState&&e.animationState.getState()[s];for(const b in c){const _=e.getValue(b,e.latestValues[b]??null),C=c[b];if(C===void 0||v&&TX(v,b))continue;const E={delay:n,...sw(o||{},b)},R=_.get();if(R!==void 0&&!_.isAnimating&&!Array.isArray(C)&&C===R&&!E.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const M=PD(e);if(M){const j=window.MotionHandoffAnimation(M,b,Jt);j!==null&&(E.startTime=j,N=!0)}}g0(e,b);const k=h??e.shouldReduceMotion;_.start(rw(b,_,C,k&&ND.has(b)?{type:!1}:E,e,N));const O=_.animation;O&&g.push(O)}if(l){const b=()=>Jt.update(()=>{l&&CX(e,l)});g.length?Promise.all(g).then(b):b()}return g}function v0(e,t,n={}){const i=_u(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(MD(e,i,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:g,staggerDirection:v}=s;return RX(e,t,d,h,g,v,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[d,h]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>h())}else return Promise.all([o(),l(n.delay)])}function RX(e,t,n=0,i=0,s=0,o=1,l){const c=[];for(const d of e.variantChildren)d.notify("AnimationStart",t),c.push(v0(d,t,{...l,delay:n+(typeof i=="function"?0:i)+TD(e.variantChildren,d,i,s,o)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(c)}function kX(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(o=>v0(e,o,n));i=Promise.all(s)}else if(typeof t=="string")i=v0(e,t,n);else{const s=typeof t=="function"?_u(e,t,n.custom):t;i=Promise.all(MD(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}const NX={test:e=>e==="auto",parse:e=>e},DD=e=>t=>t.test(e),LD=[Iu,Ve,Kr,_a,rZ,sZ,NX],jT=e=>LD.find(DD(e));function OX(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||qM(e):!0}const PX=new Set(["brightness","contrast","saturate","opacity"]);function MX(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(Z_)||[];if(!i)return e;const s=n.replace(i,"");let o=PX.has(t)?1:0;return i!==n&&(o*=100),t+"("+o+s+")"}const DX=/\b([a-z-]*)\(.*?\)/gu,y0={...pr,getAnimatableNone:e=>{const t=e.match(DX);return t?t.map(MX).join(" "):e}},b0={...pr,getAnimatableNone:e=>{const t=pr.parse(e);return pr.createTransformer(e)(t.map(i=>typeof i=="number"?0:typeof i=="object"?{...i,alpha:1}:i))}},IT={...Iu,transform:Math.round},LX={rotate:_a,rotateX:_a,rotateY:_a,rotateZ:_a,scale:um,scaleX:um,scaleY:um,scaleZ:um,skew:_a,skewX:_a,skewY:_a,distance:Ve,translateX:Ve,translateY:Ve,translateZ:Ve,x:Ve,y:Ve,z:Ve,perspective:Ve,transformPerspective:Ve,opacity:jf,originX:ST,originY:ST,originZ:Ve},lw={borderWidth:Ve,borderTopWidth:Ve,borderRightWidth:Ve,borderBottomWidth:Ve,borderLeftWidth:Ve,borderRadius:Ve,borderTopLeftRadius:Ve,borderTopRightRadius:Ve,borderBottomRightRadius:Ve,borderBottomLeftRadius:Ve,width:Ve,maxWidth:Ve,height:Ve,maxHeight:Ve,top:Ve,right:Ve,bottom:Ve,left:Ve,inset:Ve,insetBlock:Ve,insetBlockStart:Ve,insetBlockEnd:Ve,insetInline:Ve,insetInlineStart:Ve,insetInlineEnd:Ve,padding:Ve,paddingTop:Ve,paddingRight:Ve,paddingBottom:Ve,paddingLeft:Ve,paddingBlock:Ve,paddingBlockStart:Ve,paddingBlockEnd:Ve,paddingInline:Ve,paddingInlineStart:Ve,paddingInlineEnd:Ve,margin:Ve,marginTop:Ve,marginRight:Ve,marginBottom:Ve,marginLeft:Ve,marginBlock:Ve,marginBlockStart:Ve,marginBlockEnd:Ve,marginInline:Ve,marginInlineStart:Ve,marginInlineEnd:Ve,fontSize:Ve,backgroundPositionX:Ve,backgroundPositionY:Ve,...LX,zIndex:IT,fillOpacity:jf,strokeOpacity:jf,numOctaves:IT},jX={...lw,color:Mn,backgroundColor:Mn,outlineColor:Mn,fill:Mn,stroke:Mn,borderColor:Mn,borderTopColor:Mn,borderRightColor:Mn,borderBottomColor:Mn,borderLeftColor:Mn,filter:y0,WebkitFilter:y0,mask:b0,WebkitMask:b0},jD=e=>jX[e],IX=new Set([y0,b0]);function ID(e,t){let n=jD(e);return IX.has(n)||(n=pr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const zX=new Set(["auto","none","0"]);function BX(e,t,n){let i=0,s;for(;i<e.length&&!s;){const o=e[i];typeof o=="string"&&!zX.has(o)&&If(o).values.length&&(s=e[i]),i++}if(s&&n)for(const o of t)e[o]=ID(n,s)}class UX extends iw{constructor(t,n,i,s,o){super(t,n,i,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let g=0;g<t.length;g++){let v=t[g];if(typeof v=="string"&&(v=v.trim(),Y_(v))){const b=RD(v,n.current);b!==void 0&&(t[g]=b),g===t.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!ND.has(i)||t.length!==2)return;const[s,o]=t,l=jT(s),c=jT(o),d=wT(s),h=wT(o);if(d!==h&&Ra[i]){this.needsMeasurement=!0;return}if(l!==c)if(OT(l)&&OT(c))for(let g=0;g<t.length;g++){const v=t[g];typeof v=="string"&&(t[g]=parseFloat(v))}else Ra[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||OX(t[s]))&&i.push(s);i.length&&BX(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ra[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=Ra[n](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const FX=new Set(["opacity","clipPath","filter","transform"]);function zD(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const s=n?.[e]??i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e).filter(i=>i!=null)}const BD=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function x0(e){return KM(e)&&"offsetHeight"in e}const{schedule:cw}=oD(queueMicrotask,!1),lr={x:!1,y:!1};function UD(){return lr.x||lr.y}function VX(e){return e==="x"||e==="y"?lr[e]?null:(lr[e]=!0,()=>{lr[e]=!1}):lr.x||lr.y?null:(lr.x=lr.y=!0,()=>{lr.x=lr.y=!1})}function FD(e,t){const n=zD(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[n,s,()=>i.abort()]}function $X(e){return!(e.pointerType==="touch"||UD())}function HX(e,t,n={}){const[i,s,o]=FD(e,n);return i.forEach(l=>{let c=!1,d=!1,h;const g=()=>{l.removeEventListener("pointerleave",C)},v=R=>{h&&(h(R),h=void 0),g()},b=R=>{c=!1,window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",b),d&&(d=!1,v(R))},_=()=>{c=!0,window.addEventListener("pointerup",b,s),window.addEventListener("pointercancel",b,s)},C=R=>{if(R.pointerType!=="touch"){if(c){d=!0;return}v(R)}},E=R=>{if(!$X(R))return;d=!1;const N=t(l,R);typeof N=="function"&&(h=N,l.addEventListener("pointerleave",C,s))};l.addEventListener("pointerenter",E,s),l.addEventListener("pointerdown",_,s)}),o}const VD=(e,t)=>t?e===t?!0:VD(e,t.parentElement):!1,uw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,GX=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function KX(e){return GX.has(e.tagName)||e.isContentEditable===!0}const qX=new Set(["INPUT","SELECT","TEXTAREA"]);function WX(e){return qX.has(e.tagName)||e.isContentEditable===!0}const Am=new WeakSet;function zT(e){return t=>{t.key==="Enter"&&e(t)}}function qb(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const YX=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=zT(()=>{if(Am.has(n))return;qb(n,"down");const s=zT(()=>{qb(n,"up")}),o=()=>qb(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function BT(e){return uw(e)&&!UD()}const UT=new WeakSet;function ZX(e,t,n={}){const[i,s,o]=FD(e,n),l=c=>{const d=c.currentTarget;if(!BT(c)||UT.has(c))return;Am.add(d),n.stopPropagation&&UT.add(c);const h=t(d,c),g=(_,C)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),Am.has(d)&&Am.delete(d),BT(_)&&typeof h=="function"&&h(_,{success:C})},v=_=>{g(_,d===window||d===document||n.useGlobalTarget||VD(d,_.target))},b=_=>{g(_,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",b,s)};return i.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),x0(c)&&(c.addEventListener("focus",h=>YX(h,s)),!KX(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function dw(e){return KM(e)&&"ownerSVGElement"in e}const Tm=new WeakMap;let Rm;const $D=(e,t,n)=>(i,s)=>s&&s[0]?s[0][e+"Size"]:dw(i)&&"getBBox"in i?i.getBBox()[t]:i[n],XX=$D("inline","width","offsetWidth"),QX=$D("block","height","offsetHeight");function JX({target:e,borderBoxSize:t}){Tm.get(e)?.forEach(n=>{n(e,{get width(){return XX(e,t)},get height(){return QX(e,t)}})})}function eQ(e){e.forEach(JX)}function tQ(){typeof ResizeObserver>"u"||(Rm=new ResizeObserver(eQ))}function nQ(e,t){Rm||tQ();const n=zD(e);return n.forEach(i=>{let s=Tm.get(i);s||(s=new Set,Tm.set(i,s)),s.add(t),Rm?.observe(i)}),()=>{n.forEach(i=>{const s=Tm.get(i);s?.delete(t),s?.size||Rm?.unobserve(i)})}}const km=new Set;let uu;function iQ(){uu=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};km.forEach(t=>t(e))},window.addEventListener("resize",uu)}function sQ(e){return km.add(e),uu||iQ(),()=>{km.delete(e),!km.size&&typeof uu=="function"&&(window.removeEventListener("resize",uu),uu=void 0)}}function FT(e,t){return typeof e=="function"?sQ(e):nQ(e,t)}function rQ(e){return dw(e)&&e.tagName==="svg"}const oQ=[...LD,Mn,pr],aQ=e=>oQ.find(DD(e)),VT=()=>({translate:0,scale:1,origin:0,originPoint:0}),du=()=>({x:VT(),y:VT()}),$T=()=>({min:0,max:0}),Un=()=>({x:$T(),y:$T()}),lQ=new WeakMap;function Kg(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function zf(e){return typeof e=="string"||Array.isArray(e)}const fw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hw=["initial",...fw];function qg(e){return Kg(e.animate)||hw.some(t=>zf(e[t]))}function HD(e){return!!(qg(e)||e.variants)}function cQ(e,t,n){for(const i in t){const s=t[i],o=n[i];if(Ci(s))e.addValue(i,s);else if(Ci(o))e.addValue(i,Tu(s,{owner:e}));else if(o!==s)if(e.hasValue(i)){const l=e.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=e.getStaticValue(i);e.addValue(i,Tu(l!==void 0?l:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const _0={current:null},GD={current:!1},uQ=typeof window<"u";function dQ(){if(GD.current=!0,!!uQ)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>_0.current=e.matches;e.addEventListener("change",t),t()}else _0.current=!1}const HT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let fg={};function KD(e){fg=e}function fQ(){return fg}class hQ{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,skipAnimations:o,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=iw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Di.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Jt.render(this.render,!1,!0))};const{latestValues:h,renderState:g}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=g,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.skipAnimationsConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=qg(n),this.isVariantNode=HD(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in b){const C=b[_];h[_]!==void 0&&Ci(C)&&C.set(h[_])}}mount(t){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=t,lQ.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(GD.current||dQ(),this.shouldReduceMotion=_0.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),La(this.notifyUpdate),La(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),n.accelerate&&FX.has(t)&&this.current instanceof HTMLElement){const{factory:l,keyframes:c,times:d,ease:h,duration:g}=n.accelerate,v=new ED({element:this.current,name:t,keyframes:c,times:d,ease:h,duration:hr(g)}),b=l(v);this.valueSubscriptions.set(t,()=>{b(),v.cancel()});return}const i=Bu.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Jt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in fg){const n=fg[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Un()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<HT.length;i++){const s=HT[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=t[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=cQ(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=Tu(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(GM(i)||qM(i))?i=parseFloat(i):!aQ(i)&&pr.test(n)&&(i=ID(t,n)),this.setBaseTarget(t,Ci(i)?i.get():i)),Ci(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=ow(this.props,n,this.presenceContext?.custom);o&&(i=o[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Ci(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new K_),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){cw.render(this.render)}}class qD extends hQ{constructor(){super(...arguments),this.KeyframeResolver=UX}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const i=t.style;return i?i[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ci(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Ua{constructor(t){this.isMounted=!1,this.node=t}update(){}}function WD({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function pQ({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function mQ(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Wb(e){return e===void 0||e===1}function w0({scale:e,scaleX:t,scaleY:n}){return!Wb(e)||!Wb(t)||!Wb(n)}function Nl(e){return w0(e)||YD(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function YD(e){return GT(e.x)||GT(e.y)}function GT(e){return e&&e!=="0%"}function hg(e,t,n){const i=e-n,s=t*i;return n+s}function KT(e,t,n,i,s){return s!==void 0&&(e=hg(e,s,i)),hg(e,n,i)+t}function S0(e,t=0,n=1,i,s){e.min=KT(e.min,t,n,i,s),e.max=KT(e.max,t,n,i,s)}function ZD(e,{x:t,y:n}){S0(e.x,t.translate,t.scale,t.originPoint),S0(e.y,n.translate,n.scale,n.originPoint)}const qT=.999999999999,WT=1.0000000000001;function gQ(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let o,l;for(let c=0;c<s;c++){o=n[c],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&hu(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,ZD(e,l)),i&&Nl(o.latestValues)&&hu(e,o.latestValues))}t.x<WT&&t.x>qT&&(t.x=1),t.y<WT&&t.y>qT&&(t.y=1)}function fu(e,t){e.min=e.min+t,e.max=e.max+t}function YT(e,t,n,i,s=.5){const o=un(e.min,e.max,s);S0(e,t,n,o,i)}function hu(e,t){YT(e.x,t.x,t.scaleX,t.scale,t.originX),YT(e.y,t.y,t.scaleY,t.scale,t.originY)}function XD(e,t){return WD(mQ(e.getBoundingClientRect(),t))}function vQ(e,t,n){const i=XD(e,n),{scroll:s}=t;return s&&(fu(i.x,s.offset.x),fu(i.y,s.offset.y)),i}const yQ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bQ=zu.length;function xQ(e,t,n){let i="",s=!0;for(let o=0;o<bQ;o++){const l=zu[o],c=e[l];if(c===void 0)continue;let d=!0;if(typeof c=="number")d=c===(l.startsWith("scale")?1:0);else{const h=parseFloat(c);d=l.startsWith("scale")?h===1:h===0}if(!d||n){const h=BD(c,lw[l]);if(!d){s=!1;const g=yQ[l]||l;i+=`${g}(${h}) `}n&&(t[l]=h)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function pw(e,t,n){const{style:i,vars:s,transformOrigin:o}=e;let l=!1,c=!1;for(const d in t){const h=t[d];if(Bu.has(d)){l=!0;continue}else if(lD(d)){s[d]=h;continue}else{const g=BD(h,lw[d]);d.startsWith("origin")?(c=!0,o[d]=g):i[d]=g}}if(t.transform||(l||n?i.transform=xQ(t,e.transform,n):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:g=0}=o;i.transformOrigin=`${d} ${h} ${g}`}}function QD(e,{style:t,vars:n},i,s){const o=e.style;let l;for(l in t)o[l]=t[l];s?.applyProjectionStyles(o,i);for(l in n)o.setProperty(l,n[l])}function ZT(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Zd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ve.test(e))e=parseFloat(e);else return e;const n=ZT(e,t.target.x),i=ZT(e,t.target.y);return`${n}% ${i}%`}},_Q={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=pr.parse(e);if(s.length>5)return i;const o=pr.createTransformer(e),l=typeof s[0]!="number"?1:0,c=n.x.scale*t.x,d=n.y.scale*t.y;s[0+l]/=c,s[1+l]/=d;const h=un(c,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=h),typeof s[3+l]=="number"&&(s[3+l]/=h),o(s)}},C0={borderRadius:{...Zd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zd,borderTopRightRadius:Zd,borderBottomLeftRadius:Zd,borderBottomRightRadius:Zd,boxShadow:_Q};function JD(e,{layout:t,layoutId:n}){return Bu.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!C0[e]||e==="opacity")}function mw(e,t,n){const i=e.style,s=t?.style,o={};if(!i)return o;for(const l in i)(Ci(i[l])||s&&Ci(s[l])||JD(l,e)||n?.getValue(l)?.liveStyle!==void 0)&&(o[l]=i[l]);return o}function wQ(e){return window.getComputedStyle(e)}class SQ extends qD{constructor(){super(...arguments),this.type="html",this.renderInstance=QD}readValueFromInstance(t,n){if(Bu.has(n))return this.projection?.isProjecting?c0(n):VZ(t,n);{const i=wQ(t),s=(lD(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return XD(t,n)}build(t,n,i){pw(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return mw(t,n,i)}}const CQ={offset:"stroke-dashoffset",array:"stroke-dasharray"},EQ={offset:"strokeDashoffset",array:"strokeDasharray"};function AQ(e,t,n=1,i=0,s=!0){e.pathLength=1;const o=s?CQ:EQ;e[o.offset]=`${-i}`,e[o.array]=`${t} ${n}`}const TQ=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function eL(e,{attrX:t,attrY:n,attrScale:i,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...c},d,h,g){if(pw(e,c,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:b}=e;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=g?.transformBox??"fill-box",delete v.transformBox);for(const _ of TQ)v[_]!==void 0&&(b[_]=v[_],delete v[_]);t!==void 0&&(v.x=t),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),s!==void 0&&AQ(v,s,o,l,!1)}const tL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),nL=e=>typeof e=="string"&&e.toLowerCase()==="svg";function RQ(e,t,n,i){QD(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(tL.has(s)?s:aw(s),t.attrs[s])}function iL(e,t,n){const i=mw(e,t,n);for(const s in e)if(Ci(e[s])||Ci(t[s])){const o=zu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[o]=e[s]}return i}class kQ extends qD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Un}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Bu.has(n)){const i=jD(n);return i&&i.default||0}return n=tL.has(n)?n:aw(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return iL(t,n,i)}build(t,n,i){eL(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,s){RQ(t,n,i,s)}mount(t){this.isSVGTag=nL(t.tagName),super.mount(t)}}const NQ=hw.length;function sL(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?sL(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<NQ;n++){const i=hw[n],s=e.props[i];(zf(s)||s===!1)&&(t[i]=s)}return t}function rL(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const OQ=[...fw].reverse(),PQ=fw.length;function MQ(e){return t=>Promise.all(t.map(({animation:n,options:i})=>kX(e,n,i)))}function DQ(e){let t=MQ(e),n=XT(),i=!0;const s=d=>(h,g)=>{const v=_u(e,g,d==="exit"?e.presenceContext?.custom:void 0);if(v){const{transition:b,transitionEnd:_,...C}=v;h={...h,...C,..._}}return h};function o(d){t=d(e)}function l(d){const{props:h}=e,g=sL(e.parent)||{},v=[],b=new Set;let _={},C=1/0;for(let R=0;R<PQ;R++){const N=OQ[R],k=n[N],O=h[N]!==void 0?h[N]:g[N],M=zf(O),j=N===d?k.isActive:null;j===!1&&(C=R);let U=O===g[N]&&O!==h[N]&&M;if(U&&i&&e.manuallyAnimateOnMount&&(U=!1),k.protectedKeys={..._},!k.isActive&&j===null||!O&&!k.prevProp||Kg(O)||typeof O=="boolean")continue;if(N==="exit"&&k.isActive&&j!==!0){k.prevResolvedValues&&(_={..._,...k.prevResolvedValues});continue}const z=LQ(k.prevProp,O);let I=z||N===d&&k.isActive&&!U&&M||R>C&&M,$=!1;const Z=Array.isArray(O)?O:[O];let q=Z.reduce(s(N),{});j===!1&&(q={});const{prevResolvedValues:X={}}=k,ne={...X,...q},re=W=>{I=!0,b.has(W)&&($=!0,b.delete(W)),k.needsAnimating[W]=!0;const te=e.getValue(W);te&&(te.liveStyle=!1)};for(const W in ne){const te=q[W],he=X[W];if(_.hasOwnProperty(W))continue;let oe=!1;m0(te)&&m0(he)?oe=!rL(te,he):oe=te!==he,oe?te!=null?re(W):b.add(W):te!==void 0&&b.has(W)?re(W):k.protectedKeys[W]=!0}k.prevProp=O,k.prevResolvedValues=q,k.isActive&&(_={..._,...q}),i&&e.blockInitialAnimation&&(I=!1);const ye=U&&z;I&&(!ye||$)&&v.push(...Z.map(W=>{const te={type:N};if(typeof W=="string"&&i&&!ye&&e.manuallyAnimateOnMount&&e.parent){const{parent:he}=e,oe=_u(he,W);if(he.enteringChildren&&oe){const{delayChildren:K}=oe.transition||{};te.delay=TD(he.enteringChildren,e,K)}}return{animation:W,options:te}}))}if(b.size){const R={};if(typeof h.initial!="boolean"){const N=_u(e,Array.isArray(h.initial)?h.initial[0]:h.initial);N&&N.transition&&(R.transition=N.transition)}b.forEach(N=>{const k=e.getBaseTarget(N),O=e.getValue(N);O&&(O.liveStyle=!0),R[N]=k??null}),v.push({animation:R})}let E=!!v.length;return i&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(E=!1),i=!1,E?t(v):Promise.resolve()}function c(d,h){if(n[d].isActive===h)return Promise.resolve();e.variantChildren?.forEach(v=>v.animationState?.setActive(d,h)),n[d].isActive=h;const g=l(d);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=XT()}}}function LQ(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!rL(t,e):!1}function Tl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function XT(){return{animate:Tl(!0),whileInView:Tl(),whileHover:Tl(),whileTap:Tl(),whileDrag:Tl(),whileFocus:Tl(),exit:Tl()}}function QT(e,t){e.min=t.min,e.max=t.max}function or(e,t){QT(e.x,t.x),QT(e.y,t.y)}function JT(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const oL=1e-4,jQ=1-oL,IQ=1+oL,aL=.01,zQ=0-aL,BQ=0+aL;function Li(e){return e.max-e.min}function UQ(e,t,n){return Math.abs(e-t)<=n}function eR(e,t,n,i=.5){e.origin=i,e.originPoint=un(t.min,t.max,e.origin),e.scale=Li(n)/Li(t),e.translate=un(n.min,n.max,e.origin)-e.originPoint,(e.scale>=jQ&&e.scale<=IQ||isNaN(e.scale))&&(e.scale=1),(e.translate>=zQ&&e.translate<=BQ||isNaN(e.translate))&&(e.translate=0)}function ff(e,t,n,i){eR(e.x,t.x,n.x,i?i.originX:void 0),eR(e.y,t.y,n.y,i?i.originY:void 0)}function tR(e,t,n){e.min=n.min+t.min,e.max=e.min+Li(t)}function FQ(e,t,n){tR(e.x,t.x,n.x),tR(e.y,t.y,n.y)}function nR(e,t,n){e.min=t.min-n.min,e.max=e.min+Li(t)}function pg(e,t,n){nR(e.x,t.x,n.x),nR(e.y,t.y,n.y)}function iR(e,t,n,i,s){return e-=t,e=hg(e,1/n,i),s!==void 0&&(e=hg(e,1/s,i)),e}function VQ(e,t=0,n=1,i=.5,s,o=e,l=e){if(Kr.test(t)&&(t=parseFloat(t),t=un(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=un(o.min,o.max,i);e===o&&(c-=t),e.min=iR(e.min,t,n,c,s),e.max=iR(e.max,t,n,c,s)}function sR(e,t,[n,i,s],o,l){VQ(e,t[n],t[i],t[s],t.scale,o,l)}const $Q=["x","scaleX","originX"],HQ=["y","scaleY","originY"];function rR(e,t,n,i){sR(e.x,t,$Q,n?n.x:void 0,i?i.x:void 0),sR(e.y,t,HQ,n?n.y:void 0,i?i.y:void 0)}function oR(e){return e.translate===0&&e.scale===1}function lL(e){return oR(e.x)&&oR(e.y)}function aR(e,t){return e.min===t.min&&e.max===t.max}function GQ(e,t){return aR(e.x,t.x)&&aR(e.y,t.y)}function lR(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function cL(e,t){return lR(e.x,t.x)&&lR(e.y,t.y)}function cR(e){return Li(e.x)/Li(e.y)}function uR(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function zr(e){return[e("x"),e("y")]}function KQ(e,t,n){let i="";const s=e.x.translate/t.x,o=e.y.translate/t.y,l=n?.z||0;if((s||o||l)&&(i=`translate3d(${s}px, ${o}px, ${l}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:h,rotate:g,rotateX:v,rotateY:b,skewX:_,skewY:C}=n;h&&(i=`perspective(${h}px) ${i}`),g&&(i+=`rotate(${g}deg) `),v&&(i+=`rotateX(${v}deg) `),b&&(i+=`rotateY(${b}deg) `),_&&(i+=`skewX(${_}deg) `),C&&(i+=`skewY(${C}deg) `)}const c=e.x.scale*t.x,d=e.y.scale*t.y;return(c!==1||d!==1)&&(i+=`scale(${c}, ${d})`),i||"none"}const uL=["TopLeft","TopRight","BottomLeft","BottomRight"],qQ=uL.length,dR=e=>typeof e=="string"?parseFloat(e):e,fR=e=>typeof e=="number"||Ve.test(e);function WQ(e,t,n,i,s,o){s?(e.opacity=un(0,n.opacity??1,YQ(i)),e.opacityExit=un(t.opacity??1,0,ZQ(i))):o&&(e.opacity=un(t.opacity??1,n.opacity??1,i));for(let l=0;l<qQ;l++){const c=`border${uL[l]}Radius`;let d=hR(t,c),h=hR(n,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||fR(d)===fR(h)?(e[c]=Math.max(un(dR(d),dR(h),i),0),(Kr.test(h)||Kr.test(d))&&(e[c]+="%")):e[c]=h}(t.rotate||n.rotate)&&(e.rotate=un(t.rotate||0,n.rotate||0,i))}function hR(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const YQ=dL(0,.5,nD),ZQ=dL(.5,.95,Hs);function dL(e,t,n){return i=>i<e?0:i>t?1:n(Lf(e,t,i))}function XQ(e,t,n){const i=Ci(e)?e:Tu(e);return i.start(rw("",i,t,n)),i.animation}function Bf(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}const QQ=(e,t)=>e.depth-t.depth;class JQ{constructor(){this.children=[],this.isDirty=!1}add(t){H_(this.children,t),this.isDirty=!0}remove(t){lg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(QQ),this.isDirty=!1,this.children.forEach(t)}}function eJ(e,t){const n=Di.now(),i=({timestamp:s})=>{const o=s-n;o>=t&&(La(i),e(o-t))};return Jt.setup(i,!0),()=>La(i)}function Nm(e){return Ci(e)?e.get():e}class tJ{constructor(){this.members=[]}add(t){H_(this.members,t);for(let n=this.members.length-1;n>=0;n--){const i=this.members[n];if(i===t||i===this.lead||i===this.prevLead)continue;const s=i.instance;s&&s.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&lg(this.members,i)}t.scheduleRender()}remove(t){if(lg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const o=this.members[s],l=o.instance;if(o.isPresent!==!1&&(!l||l.isConnected!==!1)){i=o;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender();const s=i.options.layoutDependency,o=t.options.layoutDependency;if(!(s!==void 0&&o!==void 0&&s===o)){const d=i.instance;d&&d.isConnected===!1&&!i.snapshot||(t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:c}=t.options;c===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Om={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Yb=["","X","Y","Z"],nJ=1e3;let iJ=0;function Zb(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function fL(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=PD(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Jt,!(s||o))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&fL(i)}function hL({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},c=t?.()){this.id=iJ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(oJ),this.nodes.forEach(uJ),this.nodes.forEach(dJ),this.nodes.forEach(aJ)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new JQ)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new K_),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=dw(l)&&!rQ(l),this.instance=l;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),e){let g,v=0;const b=()=>this.root.updateBlockedByResize=!1;Jt.read(()=>{v=window.innerWidth}),e(l,()=>{const _=window.innerWidth;_!==v&&(v=_,this.root.updateBlockedByResize=!0,g&&g(),g=eJ(b,250),Om.hasAnimatedSinceResize&&(Om.hasAnimatedSinceResize=!1,this.nodes.forEach(gR)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||h.getDefaultTransition()||gJ,{onLayoutAnimationStart:E,onLayoutAnimationComplete:R}=h.getProps(),N=!this.targetLayout||!cL(this.targetLayout,_),k=!v&&b;if(this.options.layoutRoot||this.resumeFrom||k||v&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const O={...sw(C,"layout"),onPlay:E,onComplete:R};(h.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O),this.setAnimationOrigin(g,k)}else v||gR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),La(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fJ),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&fL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(mR);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(cJ),this.nodes.forEach(sJ),this.nodes.forEach(rJ)):this.nodes.forEach(mR),this.clearAllSnapshots();const c=Di.now();hi.delta=Yr(0,1e3/60,c-hi.timestamp),hi.timestamp=c,hi.isProcessing=!0,Fb.update.process(hi),Fb.preRender.process(hi),Fb.render.process(hi),hi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(lJ),this.sharedNodes.forEach(hJ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Jt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Jt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Li(this.snapshot.measuredBox.x)&&!Li(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Un(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!lL(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,g=h!==this.prevTransformTemplateValue;l&&this.instance&&(c||Nl(this.latestValues)||g)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),vJ(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Un();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(yJ))){const{scroll:h}=this.root;h&&(fu(c.x,h.offset.x),fu(c.y,h.offset.y))}return c}removeElementScroll(l){const c=Un();if(or(c,l),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:g,options:v}=h;h!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&or(c,l),fu(c.x,g.offset.x),fu(c.y,g.offset.y))}return c}applyTransform(l,c=!1){const d=Un();or(d,l);for(let h=0;h<this.path.length;h++){const g=this.path[h];!c&&g.options.layoutScroll&&g.scroll&&g!==g.root&&hu(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Nl(g.latestValues)&&hu(d,g.latestValues)}return Nl(this.latestValues)&&hu(d,this.latestValues),d}removeTransform(l){const c=Un();or(c,l);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!Nl(h.latestValues))continue;w0(h.latestValues)&&h.updateSnapshot();const g=Un(),v=h.measurePageBox();or(g,v),rR(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,g)}return Nl(this.latestValues)&&rR(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==hi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!this.layout||!(g||v))return;this.resolvedRelativeTargetAt=hi.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Un(),this.targetWithTransforms=Un()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),FQ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):or(this.target,this.layout.layoutBox),ZD(this.target,this.targetDelta)):or(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||w0(this.parent.latestValues)||YD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,c,d){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Un(),this.relativeTargetOrigin=Un(),pg(this.relativeTargetOrigin,c,d),or(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===hi.timestamp&&(d=!1),d)return;const{layout:h,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||g))return;or(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;gQ(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Un());const{target:_}=l;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(JT(this.prevProjectionDelta.x,this.projectionDelta.x),JT(this.prevProjectionDelta.y,this.projectionDelta.y)),ff(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!uR(this.projectionDelta.x,this.prevProjectionDelta.x)||!uR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=du(),this.projectionDelta=du(),this.projectionDeltaWithTransform=du()}setAnimationOrigin(l,c=!1){const d=this.snapshot,h=d?d.latestValues:{},g={...this.latestValues},v=du();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const b=Un(),_=d?d.source:void 0,C=this.layout?this.layout.source:void 0,E=_!==C,R=this.getStack(),N=!R||R.members.length<=1,k=!!(E&&!N&&this.options.crossfade===!0&&!this.path.some(mJ));this.animationProgress=0;let O;this.mixTargetDelta=M=>{const j=M/1e3;vR(v.x,l.x,j),vR(v.y,l.y,j),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pg(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pJ(this.relativeTarget,this.relativeTargetOrigin,b,j),O&&GQ(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=Un()),or(O,this.relativeTarget)),E&&(this.animationValues=g,WQ(g,h,this.latestValues,j,k,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(La(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Jt.update(()=>{Om.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Tu(0)),this.motionValue.jump(0,!1),this.currentAnimation=XQ(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nJ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:g}=l;if(!(!c||!d||!h)){if(this!==l&&this.layout&&h&&pL(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||Un();const v=Li(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+v;const b=Li(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+b}or(c,d),hu(c,g),ff(this.projectionDeltaWithTransform,this.layoutCorrected,c,g)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new tJ),this.sharedNodes.get(l).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&Zb("z",l,h,this.animationValues);for(let g=0;g<Yb.length;g++)Zb(`rotate${Yb[g]}`,l,h,this.animationValues),Zb(`skew${Yb[g]}`,l,h,this.animationValues);l.render();for(const g in h)l.setStaticValue(g,h[g]),this.animationValues&&(this.animationValues[g]=h[g]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Nm(c?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Nm(c?.pointerEvents)||""),this.hasProjected&&!Nl(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const g=h.animationValues||h.latestValues;this.applyTransformsToTarget();let v=KQ(this.projectionDeltaWithTransform,this.treeScale,g);d&&(v=d(g,v)),l.transform=v;const{x:b,y:_}=this.projectionDelta;l.transformOrigin=`${b.origin*100}% ${_.origin*100}% 0`,h.animationValues?l.opacity=h===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:l.opacity=h===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const C in C0){if(g[C]===void 0)continue;const{correct:E,applyTo:R,isCSSVariable:N}=C0[C],k=v==="none"?g[C]:E(g[C],h);if(R){const O=R.length;for(let M=0;M<O;M++)l[R[M]]=k}else N?this.options.visualElement.renderState.vars[C]=k:l[C]=k}this.options.layoutId&&(l.pointerEvents=h===this?Nm(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(pR),this.root.sharedNodes.clear()}}}function sJ(e){e.updateLayout()}function rJ(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,o=t.source!==e.layout.source;s==="size"?zr(g=>{const v=o?t.measuredBox[g]:t.layoutBox[g],b=Li(v);v.min=n[g].min,v.max=v.min+b}):pL(s,t.layoutBox,n)&&zr(g=>{const v=o?t.measuredBox[g]:t.layoutBox[g],b=Li(n[g]);v.max=v.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+b)});const l=du();ff(l,n,t.layoutBox);const c=du();o?ff(c,e.applyTransform(i,!0),t.measuredBox):ff(c,n,t.layoutBox);const d=!lL(l);let h=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:b}=g;if(v&&b){const _=Un();pg(_,t.layoutBox,v.layoutBox);const C=Un();pg(C,n,b.layoutBox),cL(_,C)||(h=!0),g.options.layoutRoot&&(e.relativeTarget=C,e.relativeTargetOrigin=_,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function oJ(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function aJ(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function lJ(e){e.clearSnapshot()}function pR(e){e.clearMeasurements()}function mR(e){e.isLayoutDirty=!1}function cJ(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function gR(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function uJ(e){e.resolveTargetDelta()}function dJ(e){e.calcProjection()}function fJ(e){e.resetSkewAndRotation()}function hJ(e){e.removeLeadSnapshot()}function vR(e,t,n){e.translate=un(t.translate,0,n),e.scale=un(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function yR(e,t,n,i){e.min=un(t.min,n.min,i),e.max=un(t.max,n.max,i)}function pJ(e,t,n,i){yR(e.x,t.x,n.x,i),yR(e.y,t.y,n.y,i)}function mJ(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const gJ={duration:.45,ease:[.4,0,.1,1]},bR=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),xR=bR("applewebkit/")&&!bR("chrome/")?Math.round:Hs;function _R(e){e.min=xR(e.min),e.max=xR(e.max)}function vJ(e){_R(e.x),_R(e.y)}function pL(e,t,n){return e==="position"||e==="preserve-aspect"&&!UQ(cR(t),cR(n),.2)}function yJ(e){return e!==e.root&&e.scroll?.wasRoot}const bJ=hL({attachResizeListener:(e,t)=>Bf(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Xb={current:void 0},mL=hL({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Xb.current){const e=new bJ({});e.mount(window),e.setOptions({layoutScroll:!0}),Xb.current=e}return Xb.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),gw=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function wR(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function xJ(...e){return t=>{let n=!1;const i=e.map(s=>{const o=wR(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<i.length;s++){const o=i[s];typeof o=="function"?o():wR(e[s],null)}}}}function _J(...e){return x.useCallback(xJ(...e),e)}class wJ extends x.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=n.offsetParent,s=x0(i)&&i.offsetWidth||0,o=x0(i)&&i.offsetHeight||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=s-l.width-l.left,l.bottom=o-l.height-l.top}return null}componentDidUpdate(){}render(){return this.props.children}}function SJ({children:e,isPresent:t,anchorX:n,anchorY:i,root:s,pop:o}){const l=x.useId(),c=x.useRef(null),d=x.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:h}=x.useContext(gw),g=e.props?.ref??e?.ref,v=_J(c,g);return x.useInsertionEffect(()=>{const{width:b,height:_,top:C,left:E,right:R,bottom:N}=d.current;if(t||o===!1||!c.current||!b||!_)return;const k=n==="left"?`left: ${E}`:`right: ${R}`,O=i==="bottom"?`bottom: ${N}`:`top: ${C}`;c.current.dataset.motionPopId=l;const M=document.createElement("style");h&&(M.nonce=h);const j=s??document.head;return j.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${b}px !important;
            height: ${_}px !important;
            ${k}px !important;
            ${O}px !important;
          }
        `),()=>{j.contains(M)&&j.removeChild(M)}},[t]),y.jsx(wJ,{isPresent:t,childRef:c,sizeRef:d,pop:o,children:o===!1?e:x.cloneElement(e,{ref:v})})}const CJ=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:o,mode:l,anchorX:c,anchorY:d,root:h})=>{const g=$_(EJ),v=x.useId();let b=!0,_=x.useMemo(()=>(b=!1,{id:v,initial:t,isPresent:n,custom:s,onExitComplete:C=>{g.set(C,!0);for(const E of g.values())if(!E)return;i&&i()},register:C=>(g.set(C,!1),()=>g.delete(C))}),[n,g,i]);return o&&b&&(_={..._}),x.useMemo(()=>{g.forEach((C,E)=>g.set(E,!1))},[n]),x.useEffect(()=>{!n&&!g.size&&i&&i()},[n]),e=y.jsx(SJ,{pop:l==="popLayout",isPresent:n,anchorX:c,anchorY:d,root:h,children:e}),y.jsx(Gg.Provider,{value:_,children:e})};function EJ(){return new Map}function gL(e=!0){const t=x.useContext(Gg);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,o=x.useId();x.useEffect(()=>{if(e)return s(o)},[e]);const l=x.useCallback(()=>e&&i&&i(o),[o,i,e]);return!n&&i?[!1,l]:[!0]}const dm=e=>e.key||"";function SR(e){const t=[];return x.Children.forEach(e,n=>{x.isValidElement(n)&&t.push(n)}),t}const Wg=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync",propagate:l=!1,anchorX:c="left",anchorY:d="top",root:h})=>{const[g,v]=gL(l),b=x.useMemo(()=>SR(e),[e]),_=l&&!g?[]:b.map(dm),C=x.useRef(!0),E=x.useRef(b),R=$_(()=>new Map),N=x.useRef(new Set),[k,O]=x.useState(b),[M,j]=x.useState(b);HM(()=>{C.current=!1,E.current=b;for(let I=0;I<M.length;I++){const $=dm(M[I]);_.includes($)?(R.delete($),N.current.delete($)):R.get($)!==!0&&R.set($,!1)}},[M,_.length,_.join("-")]);const U=[];if(b!==k){let I=[...b];for(let $=0;$<M.length;$++){const Z=M[$],q=dm(Z);_.includes(q)||(I.splice($,0,Z),U.push(Z))}return o==="wait"&&U.length&&(I=U),j(SR(I)),O(b),null}const{forceRender:z}=x.useContext(V_);return y.jsx(y.Fragment,{children:M.map(I=>{const $=dm(I),Z=l&&!g?!1:b===M||_.includes($),q=()=>{if(N.current.has($))return;if(N.current.add($),R.has($))R.set($,!0);else return;let X=!0;R.forEach(ne=>{ne||(X=!1)}),X&&(z?.(),j(E.current),l&&v?.(),i&&i())};return y.jsx(CJ,{isPresent:Z,initial:!C.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:o,root:h,onExitComplete:Z?void 0:q,anchorX:c,anchorY:d,children:I},$)})})},vL=x.createContext({strict:!1}),CR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let ER=!1;function AJ(){if(ER)return;const e={};for(const t in CR)e[t]={isEnabled:n=>CR[t].some(i=>!!n[i])};KD(e),ER=!0}function yL(){return AJ(),fQ()}function TJ(e){const t=yL();for(const n in e)t[n]={...t[n],...e[n]};KD(t)}const RJ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function mg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||RJ.has(e)}let bL=e=>!mg(e);function kJ(e){typeof e=="function"&&(bL=t=>t.startsWith("on")?!mg(t):e(t))}try{kJ(require("@emotion/is-prop-valid").default)}catch{}function NJ(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(bL(s)||n===!0&&mg(s)||!t&&!mg(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}const Yg=x.createContext({});function OJ(e,t){if(qg(e)){const{initial:n,animate:i}=e;return{initial:n===!1||zf(n)?n:void 0,animate:zf(i)?i:void 0}}return e.inherit!==!1?t:{}}function PJ(e){const{initial:t,animate:n}=OJ(e,x.useContext(Yg));return x.useMemo(()=>({initial:t,animate:n}),[AR(t),AR(n)])}function AR(e){return Array.isArray(e)?e.join(" "):e}const vw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xL(e,t,n){for(const i in t)!Ci(t[i])&&!JD(i,n)&&(e[i]=t[i])}function MJ({transformTemplate:e},t){return x.useMemo(()=>{const n=vw();return pw(n,t,e),Object.assign({},n.vars,n.style)},[t])}function DJ(e,t){const n=e.style||{},i={};return xL(i,n,e),Object.assign(i,MJ(e,t)),i}function LJ(e,t){const n={},i=DJ(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const _L=()=>({...vw(),attrs:{}});function jJ(e,t,n,i){const s=x.useMemo(()=>{const o=_L();return eL(o,t,nL(i),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};xL(o,e.style,e),s.style={...o,...s.style}}return s}const IJ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yw(e){return typeof e!="string"||e.includes("-")?!1:!!(IJ.indexOf(e)>-1||/[A-Z]/u.test(e))}function zJ(e,t,n,{latestValues:i},s,o=!1,l){const d=(l??yw(e)?jJ:LJ)(t,i,s,e),h=NJ(t,typeof e=="string",o),g=e!==x.Fragment?{...h,...d,ref:n}:{},{children:v}=t,b=x.useMemo(()=>Ci(v)?v.get():v,[v]);return x.createElement(e,{...g,children:b})}function BJ({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,s){return{latestValues:UJ(n,i,s,e),renderState:t()}}function UJ(e,t,n,i){const s={},o=i(e,{});for(const b in o)s[b]=Nm(o[b]);let{initial:l,animate:c}=e;const d=qg(e),h=HD(e);t&&h&&!d&&e.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const v=g?c:l;if(v&&typeof v!="boolean"&&!Kg(v)){const b=Array.isArray(v)?v:[v];for(let _=0;_<b.length;_++){const C=ow(e,b[_]);if(C){const{transitionEnd:E,transition:R,...N}=C;for(const k in N){let O=N[k];if(Array.isArray(O)){const M=g?O.length-1:0;O=O[M]}O!==null&&(s[k]=O)}for(const k in E)s[k]=E[k]}}}return s}const wL=e=>(t,n)=>{const i=x.useContext(Yg),s=x.useContext(Gg),o=()=>BJ(e,t,i,s);return n?o():$_(o)},FJ=wL({scrapeMotionValuesFromProps:mw,createRenderState:vw}),VJ=wL({scrapeMotionValuesFromProps:iL,createRenderState:_L}),$J=Symbol.for("motionComponentSymbol");function HJ(e,t,n){const i=x.useRef(n);x.useInsertionEffect(()=>{i.current=n});const s=x.useRef(null);return x.useCallback(o=>{o&&e.onMount?.(o),t&&(o?t.mount(o):t.unmount());const l=i.current;if(typeof l=="function")if(o){const c=l(o);typeof c=="function"&&(s.current=c)}else s.current?(s.current(),s.current=null):l(o);else l&&(l.current=o)},[t])}const SL=x.createContext({});function au(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function GJ(e,t,n,i,s,o){const{visualElement:l}=x.useContext(Yg),c=x.useContext(vL),d=x.useContext(Gg),h=x.useContext(gw),g=h.reducedMotion,v=h.skipAnimations,b=x.useRef(null),_=x.useRef(!1);i=i||c.renderer,!b.current&&i&&(b.current=i(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:g,skipAnimations:v,isSVG:o}),_.current&&b.current&&(b.current.manuallyAnimateOnMount=!0));const C=b.current,E=x.useContext(SL);C&&!C.projection&&s&&(C.type==="html"||C.type==="svg")&&KJ(b.current,n,s,E);const R=x.useRef(!1);x.useInsertionEffect(()=>{C&&R.current&&C.update(n,d)});const N=n[OD],k=x.useRef(!!N&&!window.MotionHandoffIsComplete?.(N)&&window.MotionHasOptimisedAnimation?.(N));return HM(()=>{_.current=!0,C&&(R.current=!0,window.MotionIsMounted=!0,C.updateFeatures(),C.scheduleRenderMicrotask(),k.current&&C.animationState&&C.animationState.animateChanges())}),x.useEffect(()=>{C&&(!k.current&&C.animationState&&C.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(N)}),k.current=!1),C.enteringChildren=void 0)}),C}function KJ(e,t,n,i){const{layoutId:s,layout:o,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:h,layoutCrossfade:g}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:CL(e.parent)),e.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||c&&au(c),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:d,layoutRoot:h})}function CL(e){if(e)return e.options.allowProjection!==!1?e.projection:CL(e.parent)}function Qb(e,{forwardMotionProps:t=!1,type:n}={},i,s){i&&TJ(i);const o=n?n==="svg":yw(e),l=o?VJ:FJ;function c(h,g){let v;const b={...x.useContext(gw),...h,layoutId:qJ(h)},{isStatic:_}=b,C=PJ(h),E=l(h,_);if(!_&&$M){WJ();const R=YJ(b);v=R.MeasureLayout,C.visualElement=GJ(e,E,b,s,R.ProjectionNode,o)}return y.jsxs(Yg.Provider,{value:C,children:[v&&C.visualElement?y.jsx(v,{visualElement:C.visualElement,...b}):null,zJ(e,h,HJ(E,C.visualElement,g),E,_,t,o)]})}c.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const d=x.forwardRef(c);return d[$J]=e,d}function qJ({layoutId:e}){const t=x.useContext(V_).id;return t&&e!==void 0?t+"-"+e:e}function WJ(e,t){x.useContext(vL).strict}function YJ(e){const t=yL(),{drag:n,layout:i}=t;if(!n&&!i)return{};const s={...n,...i};return{MeasureLayout:n?.isEnabled(e)||i?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function ZJ(e,t){if(typeof Proxy>"u")return Qb;const n=new Map,i=(o,l)=>Qb(o,l,e,t),s=(o,l)=>i(o,l);return new Proxy(s,{get:(o,l)=>l==="create"?i:(n.has(l)||n.set(l,Qb(l,void 0,e,t)),n.get(l))})}const XJ=(e,t)=>t.isSVG??yw(e)?new kQ(t):new SQ(t,{allowProjection:e!==x.Fragment});class QJ extends Ua{constructor(t){super(t),t.animationState||(t.animationState=DQ(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Kg(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let JJ=0;class eee extends Ua{constructor(){super(...arguments),this.id=JJ++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const tee={animation:{Feature:QJ},exit:{Feature:eee}};function fh(e){return{point:{x:e.pageX,y:e.pageY}}}const nee=e=>t=>uw(t)&&e(t,fh(t));function hf(e,t,n,i){return Bf(e,t,nee(n),i)}const EL=({current:e})=>e?e.ownerDocument.defaultView:null,TR=(e,t)=>Math.abs(e-t);function iee(e,t){const n=TR(e.x,t.x),i=TR(e.y,t.y);return Math.sqrt(n**2+i**2)}const RR=new Set(["auto","scroll"]);class AL{constructor(t,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3,element:c}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=_=>{this.handleScroll(_.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=ex(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,E=iee(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!E)return;const{point:R}=_,{timestamp:N}=hi;this.history.push({...R,timestamp:N});const{onStart:k,onMove:O}=this.handlers;C||(k&&k(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,_)},this.handlePointerMove=(_,C)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Jb(C,this.transformPagePoint),Jt.update(this.updatePoint,!0)},this.handlePointerUp=(_,C)=>{this.end();const{onEnd:E,onSessionEnd:R,resumeAnimation:N}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=ex(_.type==="pointercancel"?this.lastMoveEventInfo:Jb(C,this.transformPagePoint),this.history);this.startEvent&&E&&E(_,k),R&&R(_,k)},!uw(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=l,this.contextWindow=s||window;const d=fh(t),h=Jb(d,this.transformPagePoint),{point:g}=h,{timestamp:v}=hi;this.history=[{...g,timestamp:v}];const{onSessionStart:b}=n;b&&b(t,ex(h,this.history)),this.removeListeners=ch(hf(this.contextWindow,"pointermove",this.handlePointerMove),hf(this.contextWindow,"pointerup",this.handlePointerUp),hf(this.contextWindow,"pointercancel",this.handlePointerUp)),c&&this.startScrollTracking(c)}startScrollTracking(t){let n=t.parentElement;for(;n;){const i=getComputedStyle(n);(RR.has(i.overflowX)||RR.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0}),window.addEventListener("scroll",this.onWindowScroll),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const i=t===window,s=i?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},o={x:s.x-n.x,y:s.y-n.y};o.x===0&&o.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(t,s),Jt.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),La(this.updatePoint)}}function Jb(e,t){return t?{point:t(e.point)}:e}function kR(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ex({point:e},t){return{point:e,delta:kR(e,TL(t)),offset:kR(e,see(t)),velocity:ree(t,.1)}}function see(e){return e[0]}function TL(e){return e[e.length-1]}function ree(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=TL(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>hr(t)));)n--;if(!i)return{x:0,y:0};i===e[0]&&e.length>2&&s.timestamp-i.timestamp>hr(t)*2&&(i=e[1]);const o=Vs(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function oee(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?un(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?un(n,e,i.max):Math.min(e,n)),e}function NR(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function aee(e,{top:t,left:n,bottom:i,right:s}){return{x:NR(e.x,n,s),y:NR(e.y,t,i)}}function OR(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function lee(e,t){return{x:OR(e.x,t.x),y:OR(e.y,t.y)}}function cee(e,t){let n=.5;const i=Li(e),s=Li(t);return s>i?n=Lf(t.min,t.max-i,e.min):i>s&&(n=Lf(e.min,e.max-s,t.min)),Yr(0,1,n)}function uee(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const E0=.35;function dee(e=E0){return e===!1?e=0:e===!0&&(e=E0),{x:PR(e,"left","right"),y:PR(e,"top","bottom")}}function PR(e,t,n){return{min:MR(e,t),max:MR(e,n)}}function MR(e,t){return typeof e=="number"?e:e[t]||0}const fee=new WeakMap;class hee{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Un(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=v=>{n&&this.snapToCursor(fh(v).point),this.stopAnimation()},l=(v,b)=>{const{drag:_,dragPropagation:C,onDragStart:E}=this.getProps();if(_&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=VX(_),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zr(N=>{let k=this.getAxisMotionValue(N).get()||0;if(Kr.test(k)){const{projection:O}=this.visualElement;if(O&&O.layout){const M=O.layout.layoutBox[N];M&&(k=Li(M)*(parseFloat(k)/100))}}this.originPoint[N]=k}),E&&Jt.update(()=>E(v,b),!1,!0),g0(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},c=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:_,dragDirectionLock:C,onDirectionLock:E,onDrag:R}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:N}=b;if(C&&this.currentDirection===null){this.currentDirection=mee(N),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",b.point,N),this.updateAxis("y",b.point,N),this.visualElement.render(),R&&Jt.update(()=>R(v,b),!1,!0)},d=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>{const{dragSnapToOrigin:v}=this.getProps();(v||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:g}=this.getProps();this.panSession=new AL(t,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:EL(this.visualElement),element:this.visualElement.current})}stop(t,n){const i=t||this.latestPointerEvent,s=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!i)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&Jt.postRender(()=>c(i,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!fm(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let l=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(l=oee(l,this.constraints[t],this.elastic[t])),o.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&au(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=aee(i.layoutBox,t):this.constraints=!1,this.elastic=dee(n),s!==this.constraints&&!au(t)&&i&&this.constraints&&!this.hasMutatedConstraints&&zr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=uee(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!au(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=vQ(i,s.root,this.visualElement.getTransformPagePoint());let l=lee(s.layout.layoutBox,o);if(n){const c=n(pQ(l));this.hasMutatedConstraints=!!c,c&&(l=WD(c))}return l}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=zr(g=>{if(!fm(g,n,this.currentDirection))return;let v=d&&d[g]||{};l&&(v={min:0,max:0});const b=s?200:1e6,_=s?40:1e7,C={type:"inertia",velocity:i?t[g]:0,bounceStiffness:b,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(g,C)});return Promise.all(h).then(c)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return g0(this.visualElement,t),i.start(rw(t,i,0,n,this.visualElement,!1))}stopAnimation(){zr(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){zr(n=>{const{drag:i}=this.getProps();if(!fm(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n],d=o.get()||0;o.set(t[n]-un(l,c,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!au(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};zr(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();s[l]=cee({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),zr(l=>{if(!fm(l,t,null))return;const c=this.getAxisMotionValue(l),{min:d,max:h}=this.constraints[l];c.set(un(d,h,s[l]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;fee.set(this.visualElement,this);const t=this.visualElement.current,n=hf(t,"pointerdown",h=>{const{drag:g,dragListener:v=!0}=this.getProps(),b=h.target,_=b!==t&&WX(b);g&&v&&!_&&this.start(h)});let i;const s=()=>{const{dragConstraints:h}=this.getProps();au(h)&&h.current&&(this.constraints=this.resolveRefConstraints(),i||(i=pee(t,h.current,()=>this.scalePositionWithinConstraints())))},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Jt.read(s);const c=Bf(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:g})=>{this.isDragging&&g&&(zr(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=h[v].translate,b.set(b.get()+h[v].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d(),i&&i()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=E0,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function DR(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function pee(e,t,n){const i=FT(e,DR(n)),s=FT(t,DR(n));return()=>{i(),s()}}function fm(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function mee(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class gee extends Ua{constructor(t){super(t),this.removeGroupControls=Hs,this.removeListeners=Hs,this.controls=new hee(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hs}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const tx=e=>(t,n)=>{e&&Jt.update(()=>e(t,n),!1,!0)};class vee extends Ua{constructor(){super(...arguments),this.removePointerDownListener=Hs}onPointerDown(t){this.session=new AL(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:EL(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:tx(t),onStart:tx(n),onMove:tx(i),onEnd:(o,l)=>{delete this.session,s&&Jt.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=hf(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let nx=!1;class yee extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=t;o&&(n.group&&n.group.add(o),i&&i.register&&s&&i.register(o),nx&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Om.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:o}=this.props,{projection:l}=i;return l&&(l.isPresent=o,t.layoutDependency!==n&&l.setOptions({...l.options,layoutDependency:n}),nx=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==o?l.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?l.promote():l.relegate()||Jt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),cw.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;nx=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function RL(e){const[t,n]=gL(),i=x.useContext(V_);return y.jsx(yee,{...e,layoutGroup:i,switchLayoutGroup:x.useContext(SL),isPresent:t,safeToRemove:n})}const bee={pan:{Feature:vee},drag:{Feature:gee,ProjectionNode:mL,MeasureLayout:RL}};function LR(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=i[s];o&&Jt.postRender(()=>o(t,fh(t)))}class xee extends Ua{mount(){const{current:t}=this.node;t&&(this.unmount=HX(t,(n,i)=>(LR(this.node,i,"Start"),s=>LR(this.node,s,"End"))))}unmount(){}}class _ee extends Ua{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ch(Bf(this.node.current,"focus",()=>this.onFocus()),Bf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jR(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=i[s];o&&Jt.postRender(()=>o(t,fh(t)))}class wee extends Ua{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:n,propagate:i}=this.node.props;this.unmount=ZX(t,(s,o)=>(jR(this.node,o,"Start"),(l,{success:c})=>jR(this.node,l,c?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:i?.tap===!1})}unmount(){}}const A0=new WeakMap,ix=new WeakMap,See=e=>{const t=A0.get(e.target);t&&t(e)},Cee=e=>{e.forEach(See)};function Eee({root:e,...t}){const n=e||document;ix.has(n)||ix.set(n,{});const i=ix.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(Cee,{root:e,...t})),i[s]}function Aee(e,t,n){const i=Eee(t);return A0.set(e,n),i.observe(e),()=>{A0.delete(e),i.unobserve(e)}}const Tee={some:0,all:1};class Ree extends Ua{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:o}=t,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:Tee[s]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),b=h?g:v;b&&b(d)};return Aee(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(kee(t,n))&&this.startObserver()}unmount(){}}function kee({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Nee={inView:{Feature:Ree},tap:{Feature:wee},focus:{Feature:_ee},hover:{Feature:xee}},Oee={layout:{ProjectionNode:mL,MeasureLayout:RL}},Pee={...tee,...Nee,...bee,...Oee},Ot=ZJ(Pee,XJ),kL=async(e,t)=>{try{const n=e.game_info?.seen_species??[],i=t(n),{data:s,error:o}=await $n.from("users").update({game_info:{...e.game_info,seen_species:i}}).eq("id",e.id).select().single();return o?(console.error("Error updating seen_species:",o),null):s}catch(n){return console.error("Unexpected error updating seen_species:",n),null}},IR="Nova espcie favorita!",Mee=async({user:e,speciesName:t,isFav:n})=>{const i=`Favoritou a espcie ${t}`,s=e.game_info.activities??[];let o;if(n)o=[{title:IR,description:i,date:new Date().toISOString()},...s];else{let d=!1;o=s.slice().reverse().filter(h=>!d&&h.title===IR&&h.description===i?(d=!0,!1):!0).reverse()}const{data:l,error:c}=await $n.from("users").update({game_info:{...e.game_info,activities:o}}).eq("id",e.id).select().single();return c?(console.error("Error updating fav activity:",c),null):l},Dee=()=>{const{t:e}=Mt(),t=Be(Da),n=Be(nt.expandedNodes).find(O=>O.rank==="SPECIES")?.key,i=t??n,{data:s,isLoading:o}=Bo({specieKey:i}),[l,c]=qr(at.userDb),h=(l?.game_info?.seen_species??[]).find(O=>O.key===i),[g,v]=x.useState(h?.fav??!1),{data:b,isLoading:_}=zY({specieName:(s?.canonicalName||s?.scientificName)??""}),{data:C,isLoading:E}=BY(s?.canonicalName);x.useEffect(()=>{v(h?.fav??!1)},[h?.fav]);const R=async()=>{if(!l||i==null)return;const O=!g;v(O);const M=await kL(l,z=>{const I=[...z],$=I.findIndex(Z=>Z.key===i);return $!==-1?I[$]={...I[$],fav:O}:s&&I.push({key:i,date:new Date().toISOString(),fav:O}),I});if(!M)return;const j=s?.canonicalName??"",U=await Mee({user:M,speciesName:j,isFav:O});c(U??M)};if(!s)return y.jsx("p",{className:"text-muted-foreground text-center",children:e("specieDetail.dataUnavailable")});if(o)return y.jsx(VM,{});const N=ZK[s.class],k=[[e("specieDetail.kingdomLabel"),s.kingdom],[e("specieDetail.phylumLabel"),s.phylum],[e(N?"specieDetail.orderLabel":"specieDetail.classLabel"),s.class],[e("specieDetail.orderLabel"),N?void 0:s.order],[e("specieDetail.familyLabel"),s.family],[e("specieDetail.genusLabel"),s.genus]].filter(([,O])=>!!O);return y.jsxs("div",{className:"space-y-6",children:[y.jsx(Ot.header,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"border-b pb-4",children:y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("h1",{className:"mb-1 text-3xl font-bold",children:s.canonicalName}),s.scientificName&&y.jsx("p",{className:"text-muted-foreground text-lg italic",children:s.scientificName})]}),l&&y.jsx(Ot.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:R,className:"mt-1",children:y.jsx(Zm,{className:`size-7 transition-all ${g?"fill-red-500 text-red-500":"text-muted-foreground hover:text-red-500"}`})})]})}),k.length>0&&y.jsxs(Ot.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-muted rounded-lg border p-4",children:[y.jsx("div",{className:"mb-3 flex items-center gap-2"}),y.jsx("dl",{className:"grid grid-cols-2 gap-3 text-sm [@container(min-width:1280px)]:grid-cols-3",children:k.map(([O,M])=>y.jsxs("div",{children:[y.jsxs("dt",{className:"font-semibold",children:[O,":"]}),y.jsx("dd",{className:"text-primary/87",children:M})]},O))})]}),y.jsx(Ot.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:_?y.jsx(OY,{}):y.jsx(IY,{statusCode:b})}),E?y.jsx(PY,{}):C?.extract||C?.description?y.jsxs(Ot.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-3",children:[y.jsx("h3",{className:"flex items-center gap-2 text-xl font-semibold",children:e("specieDetail.descriptionTitle")}),y.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:C.extract||C.description})]}):null,(s.authorship||s.publishedIn)&&y.jsxs(Ot.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-3 border-t pt-4",children:[y.jsx("h3",{className:"text-lg font-semibold",children:e("specieDetail.nomenclatureTitle")}),y.jsxs("div",{className:"space-y-2 text-sm",children:[s.authorship&&y.jsxs("p",{className:"text-muted-foreground",children:[y.jsxs("strong",{className:"text-foreground",children:[e("specieDetail.author"),": "]}),s.authorship]}),s.publishedIn&&y.jsxs("p",{className:"text-muted-foreground",children:[y.jsxs("strong",{className:"text-foreground",children:[e("specieDetail.publishedIn"),": "]}),s.publishedIn]}),y.jsxs("p",{className:"text-muted-foreground",children:[y.jsxs("strong",{className:"text-foreground",children:[e("specieDetail.sources"),": "]}),"GBIF, Wikipedia"]})]})]})]})};function NL(e,t){const n=x.useRef(t);x.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const Lee=1;function jee(e){return Object.freeze({__version:Lee,map:e})}function Iee(e,t){return Object.freeze({...e,...t})}const bw=x.createContext(null);function xw(){const e=x.use(bw);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function zee(e){function t(n,i){const{instance:s,context:o}=e(n).current;x.useImperativeHandle(i,()=>s);const{children:l}=n;return l==null?null:Nt.createElement(bw,{value:o},l)}return x.forwardRef(t)}function Bee(e){function t(n,i){const[s,o]=x.useState(!1),{instance:l}=e(n,o).current;x.useImperativeHandle(i,()=>l),x.useEffect(function(){s&&l.update()},[l,s,n.children]);const c=l._contentNode;return c?Xi.createPortal(n.children,c):null}return x.forwardRef(t)}function Uee(e){function t(n,i){const{instance:s}=e(n).current;return x.useImperativeHandle(i,()=>s),null}return x.forwardRef(t)}function OL(e,t){const n=x.useRef(void 0);x.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function _w(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function Fee(e,t){return function(i,s){const o=xw(),l=e(_w(i,o),o);return NL(o.map,i.attribution),OL(l.current,i.eventHandlers),t(l.current,o,i,s),l}}var ef={exports:{}};var Vee=ef.exports,zR;function $ee(){return zR||(zR=1,(function(e,t){(function(n,i){i(t)})(Vee,(function(n){var i="1.9.4";function s(u){var p,w,T,P;for(w=1,T=arguments.length;w<T;w++){P=arguments[w];for(p in P)u[p]=P[p]}return u}var o=Object.create||(function(){function u(){}return function(p){return u.prototype=p,new u}})();function l(u,p){var w=Array.prototype.slice;if(u.bind)return u.bind.apply(u,w.call(arguments,1));var T=w.call(arguments,2);return function(){return u.apply(p,T.length?T.concat(w.call(arguments)):arguments)}}var c=0;function d(u){return"_leaflet_id"in u||(u._leaflet_id=++c),u._leaflet_id}function h(u,p,w){var T,P,B,Y;return Y=function(){T=!1,P&&(B.apply(w,P),P=!1)},B=function(){T?P=arguments:(u.apply(w,arguments),setTimeout(Y,p),T=!0)},B}function g(u,p,w){var T=p[1],P=p[0],B=T-P;return u===T&&w?u:((u-P)%B+B)%B+P}function v(){return!1}function b(u,p){if(p===!1)return u;var w=Math.pow(10,p===void 0?6:p);return Math.round(u*w)/w}function _(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function C(u){return _(u).split(/\s+/)}function E(u,p){Object.prototype.hasOwnProperty.call(u,"options")||(u.options=u.options?o(u.options):{});for(var w in p)u.options[w]=p[w];return u.options}function R(u,p,w){var T=[];for(var P in u)T.push(encodeURIComponent(w?P.toUpperCase():P)+"="+encodeURIComponent(u[P]));return(!p||p.indexOf("?")===-1?"?":"&")+T.join("&")}var N=/\{ *([\w_ -]+) *\}/g;function k(u,p){return u.replace(N,function(w,T){var P=p[T];if(P===void 0)throw new Error("No value provided for variable "+w);return typeof P=="function"&&(P=P(p)),P})}var O=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"};function M(u,p){for(var w=0;w<u.length;w++)if(u[w]===p)return w;return-1}var j="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function U(u){return window["webkit"+u]||window["moz"+u]||window["ms"+u]}var z=0;function I(u){var p=+new Date,w=Math.max(0,16-(p-z));return z=p+w,window.setTimeout(u,w)}var $=window.requestAnimationFrame||U("RequestAnimationFrame")||I,Z=window.cancelAnimationFrame||U("CancelAnimationFrame")||U("CancelRequestAnimationFrame")||function(u){window.clearTimeout(u)};function q(u,p,w){if(w&&$===I)u.call(p);else return $.call(window,l(u,p))}function X(u){u&&Z.call(window,u)}var ne={__proto__:null,extend:s,create:o,bind:l,get lastId(){return c},stamp:d,throttle:h,wrapNum:g,falseFn:v,formatNum:b,trim:_,splitWords:C,setOptions:E,getParamString:R,template:k,isArray:O,indexOf:M,emptyImageUrl:j,requestFn:$,cancelFn:Z,requestAnimFrame:q,cancelAnimFrame:X};function re(){}re.extend=function(u){var p=function(){E(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},w=p.__super__=this.prototype,T=o(w);T.constructor=p,p.prototype=T;for(var P in this)Object.prototype.hasOwnProperty.call(this,P)&&P!=="prototype"&&P!=="__super__"&&(p[P]=this[P]);return u.statics&&s(p,u.statics),u.includes&&(ye(u.includes),s.apply(null,[T].concat(u.includes))),s(T,u),delete T.statics,delete T.includes,T.options&&(T.options=w.options?o(w.options):{},s(T.options,u.options)),T._initHooks=[],T.callInitHooks=function(){if(!this._initHooksCalled){w.callInitHooks&&w.callInitHooks.call(this),this._initHooksCalled=!0;for(var B=0,Y=T._initHooks.length;B<Y;B++)T._initHooks[B].call(this)}},p},re.include=function(u){var p=this.prototype.options;return s(this.prototype,u),u.options&&(this.prototype.options=p,this.mergeOptions(u.options)),this},re.mergeOptions=function(u){return s(this.prototype.options,u),this},re.addInitHook=function(u){var p=Array.prototype.slice.call(arguments,1),w=typeof u=="function"?u:function(){this[u].apply(this,p)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(w),this};function ye(u){if(!(typeof L>"u"||!L||!L.Mixin)){u=O(u)?u:[u];for(var p=0;p<u.length;p++)u[p]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var G={on:function(u,p,w){if(typeof u=="object")for(var T in u)this._on(T,u[T],p);else{u=C(u);for(var P=0,B=u.length;P<B;P++)this._on(u[P],p,w)}return this},off:function(u,p,w){if(!arguments.length)delete this._events;else if(typeof u=="object")for(var T in u)this._off(T,u[T],p);else{u=C(u);for(var P=arguments.length===1,B=0,Y=u.length;B<Y;B++)P?this._off(u[B]):this._off(u[B],p,w)}return this},_on:function(u,p,w,T){if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}if(this._listens(u,p,w)===!1){w===this&&(w=void 0);var P={fn:p,ctx:w};T&&(P.once=!0),this._events=this._events||{},this._events[u]=this._events[u]||[],this._events[u].push(P)}},_off:function(u,p,w){var T,P,B;if(this._events&&(T=this._events[u],!!T)){if(arguments.length===1){if(this._firingCount)for(P=0,B=T.length;P<B;P++)T[P].fn=v;delete this._events[u];return}if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}var Y=this._listens(u,p,w);if(Y!==!1){var ue=T[Y];this._firingCount&&(ue.fn=v,this._events[u]=T=T.slice()),T.splice(Y,1)}}},fire:function(u,p,w){if(!this.listens(u,w))return this;var T=s({},p,{type:u,target:this,sourceTarget:p&&p.sourceTarget||this});if(this._events){var P=this._events[u];if(P){this._firingCount=this._firingCount+1||1;for(var B=0,Y=P.length;B<Y;B++){var ue=P[B],pe=ue.fn;ue.once&&this.off(u,pe,ue.ctx),pe.call(ue.ctx||this,T)}this._firingCount--}}return w&&this._propagateEvent(T),this},listens:function(u,p,w,T){typeof u!="string"&&console.warn('"string" type argument expected');var P=p;typeof p!="function"&&(T=!!p,P=void 0,w=void 0);var B=this._events&&this._events[u];if(B&&B.length&&this._listens(u,P,w)!==!1)return!0;if(T){for(var Y in this._eventParents)if(this._eventParents[Y].listens(u,p,w,T))return!0}return!1},_listens:function(u,p,w){if(!this._events)return!1;var T=this._events[u]||[];if(!p)return!!T.length;w===this&&(w=void 0);for(var P=0,B=T.length;P<B;P++)if(T[P].fn===p&&T[P].ctx===w)return P;return!1},once:function(u,p,w){if(typeof u=="object")for(var T in u)this._on(T,u[T],p,!0);else{u=C(u);for(var P=0,B=u.length;P<B;P++)this._on(u[P],p,w,!0)}return this},addEventParent:function(u){return this._eventParents=this._eventParents||{},this._eventParents[d(u)]=u,this},removeEventParent:function(u){return this._eventParents&&delete this._eventParents[d(u)],this},_propagateEvent:function(u){for(var p in this._eventParents)this._eventParents[p].fire(u.type,s({layer:u.target,propagatedFrom:u.target},u),!0)}};G.addEventListener=G.on,G.removeEventListener=G.clearAllEventListeners=G.off,G.addOneTimeEventListener=G.once,G.fireEvent=G.fire,G.hasEventListeners=G.listens;var W=re.extend(G);function te(u,p,w){this.x=w?Math.round(u):u,this.y=w?Math.round(p):p}var he=Math.trunc||function(u){return u>0?Math.floor(u):Math.ceil(u)};te.prototype={clone:function(){return new te(this.x,this.y)},add:function(u){return this.clone()._add(oe(u))},_add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.clone()._subtract(oe(u))},_subtract:function(u){return this.x-=u.x,this.y-=u.y,this},divideBy:function(u){return this.clone()._divideBy(u)},_divideBy:function(u){return this.x/=u,this.y/=u,this},multiplyBy:function(u){return this.clone()._multiplyBy(u)},_multiplyBy:function(u){return this.x*=u,this.y*=u,this},scaleBy:function(u){return new te(this.x*u.x,this.y*u.y)},unscaleBy:function(u){return new te(this.x/u.x,this.y/u.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=he(this.x),this.y=he(this.y),this},distanceTo:function(u){u=oe(u);var p=u.x-this.x,w=u.y-this.y;return Math.sqrt(p*p+w*w)},equals:function(u){return u=oe(u),u.x===this.x&&u.y===this.y},contains:function(u){return u=oe(u),Math.abs(u.x)<=Math.abs(this.x)&&Math.abs(u.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function oe(u,p,w){return u instanceof te?u:O(u)?new te(u[0],u[1]):u==null?u:typeof u=="object"&&"x"in u&&"y"in u?new te(u.x,u.y):new te(u,p,w)}function K(u,p){if(u)for(var w=p?[u,p]:u,T=0,P=w.length;T<P;T++)this.extend(w[T])}K.prototype={extend:function(u){var p,w;if(!u)return this;if(u instanceof te||typeof u[0]=="number"||"x"in u)p=w=oe(u);else if(u=ce(u),p=u.min,w=u.max,!p||!w)return this;return!this.min&&!this.max?(this.min=p.clone(),this.max=w.clone()):(this.min.x=Math.min(p.x,this.min.x),this.max.x=Math.max(w.x,this.max.x),this.min.y=Math.min(p.y,this.min.y),this.max.y=Math.max(w.y,this.max.y)),this},getCenter:function(u){return oe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,u)},getBottomLeft:function(){return oe(this.min.x,this.max.y)},getTopRight:function(){return oe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(u){var p,w;return typeof u[0]=="number"||u instanceof te?u=oe(u):u=ce(u),u instanceof K?(p=u.min,w=u.max):p=w=u,p.x>=this.min.x&&w.x<=this.max.x&&p.y>=this.min.y&&w.y<=this.max.y},intersects:function(u){u=ce(u);var p=this.min,w=this.max,T=u.min,P=u.max,B=P.x>=p.x&&T.x<=w.x,Y=P.y>=p.y&&T.y<=w.y;return B&&Y},overlaps:function(u){u=ce(u);var p=this.min,w=this.max,T=u.min,P=u.max,B=P.x>p.x&&T.x<w.x,Y=P.y>p.y&&T.y<w.y;return B&&Y},isValid:function(){return!!(this.min&&this.max)},pad:function(u){var p=this.min,w=this.max,T=Math.abs(p.x-w.x)*u,P=Math.abs(p.y-w.y)*u;return ce(oe(p.x-T,p.y-P),oe(w.x+T,w.y+P))},equals:function(u){return u?(u=ce(u),this.min.equals(u.getTopLeft())&&this.max.equals(u.getBottomRight())):!1}};function ce(u,p){return!u||u instanceof K?u:new K(u,p)}function be(u,p){if(u)for(var w=p?[u,p]:u,T=0,P=w.length;T<P;T++)this.extend(w[T])}be.prototype={extend:function(u){var p=this._southWest,w=this._northEast,T,P;if(u instanceof Re)T=u,P=u;else if(u instanceof be){if(T=u._southWest,P=u._northEast,!T||!P)return this}else return u?this.extend(we(u)||xe(u)):this;return!p&&!w?(this._southWest=new Re(T.lat,T.lng),this._northEast=new Re(P.lat,P.lng)):(p.lat=Math.min(T.lat,p.lat),p.lng=Math.min(T.lng,p.lng),w.lat=Math.max(P.lat,w.lat),w.lng=Math.max(P.lng,w.lng)),this},pad:function(u){var p=this._southWest,w=this._northEast,T=Math.abs(p.lat-w.lat)*u,P=Math.abs(p.lng-w.lng)*u;return new be(new Re(p.lat-T,p.lng-P),new Re(w.lat+T,w.lng+P))},getCenter:function(){return new Re((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Re(this.getNorth(),this.getWest())},getSouthEast:function(){return new Re(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(u){typeof u[0]=="number"||u instanceof Re||"lat"in u?u=we(u):u=xe(u);var p=this._southWest,w=this._northEast,T,P;return u instanceof be?(T=u.getSouthWest(),P=u.getNorthEast()):T=P=u,T.lat>=p.lat&&P.lat<=w.lat&&T.lng>=p.lng&&P.lng<=w.lng},intersects:function(u){u=xe(u);var p=this._southWest,w=this._northEast,T=u.getSouthWest(),P=u.getNorthEast(),B=P.lat>=p.lat&&T.lat<=w.lat,Y=P.lng>=p.lng&&T.lng<=w.lng;return B&&Y},overlaps:function(u){u=xe(u);var p=this._southWest,w=this._northEast,T=u.getSouthWest(),P=u.getNorthEast(),B=P.lat>p.lat&&T.lat<w.lat,Y=P.lng>p.lng&&T.lng<w.lng;return B&&Y},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(u,p){return u?(u=xe(u),this._southWest.equals(u.getSouthWest(),p)&&this._northEast.equals(u.getNorthEast(),p)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function xe(u,p){return u instanceof be?u:new be(u,p)}function Re(u,p,w){if(isNaN(u)||isNaN(p))throw new Error("Invalid LatLng object: ("+u+", "+p+")");this.lat=+u,this.lng=+p,w!==void 0&&(this.alt=+w)}Re.prototype={equals:function(u,p){if(!u)return!1;u=we(u);var w=Math.max(Math.abs(this.lat-u.lat),Math.abs(this.lng-u.lng));return w<=(p===void 0?1e-9:p)},toString:function(u){return"LatLng("+b(this.lat,u)+", "+b(this.lng,u)+")"},distanceTo:function(u){return Le.distance(this,we(u))},wrap:function(){return Le.wrapLatLng(this)},toBounds:function(u){var p=180*u/40075017,w=p/Math.cos(Math.PI/180*this.lat);return xe([this.lat-p,this.lng-w],[this.lat+p,this.lng+w])},clone:function(){return new Re(this.lat,this.lng,this.alt)}};function we(u,p,w){return u instanceof Re?u:O(u)&&typeof u[0]!="object"?u.length===3?new Re(u[0],u[1],u[2]):u.length===2?new Re(u[0],u[1]):null:u==null?u:typeof u=="object"&&"lat"in u?new Re(u.lat,"lng"in u?u.lng:u.lon,u.alt):p===void 0?null:new Re(u,p,w)}var Se={latLngToPoint:function(u,p){var w=this.projection.project(u),T=this.scale(p);return this.transformation._transform(w,T)},pointToLatLng:function(u,p){var w=this.scale(p),T=this.transformation.untransform(u,w);return this.projection.unproject(T)},project:function(u){return this.projection.project(u)},unproject:function(u){return this.projection.unproject(u)},scale:function(u){return 256*Math.pow(2,u)},zoom:function(u){return Math.log(u/256)/Math.LN2},getProjectedBounds:function(u){if(this.infinite)return null;var p=this.projection.bounds,w=this.scale(u),T=this.transformation.transform(p.min,w),P=this.transformation.transform(p.max,w);return new K(T,P)},infinite:!1,wrapLatLng:function(u){var p=this.wrapLng?g(u.lng,this.wrapLng,!0):u.lng,w=this.wrapLat?g(u.lat,this.wrapLat,!0):u.lat,T=u.alt;return new Re(w,p,T)},wrapLatLngBounds:function(u){var p=u.getCenter(),w=this.wrapLatLng(p),T=p.lat-w.lat,P=p.lng-w.lng;if(T===0&&P===0)return u;var B=u.getSouthWest(),Y=u.getNorthEast(),ue=new Re(B.lat-T,B.lng-P),pe=new Re(Y.lat-T,Y.lng-P);return new be(ue,pe)}},Le=s({},Se,{wrapLng:[-180,180],R:6371e3,distance:function(u,p){var w=Math.PI/180,T=u.lat*w,P=p.lat*w,B=Math.sin((p.lat-u.lat)*w/2),Y=Math.sin((p.lng-u.lng)*w/2),ue=B*B+Math.cos(T)*Math.cos(P)*Y*Y,pe=2*Math.atan2(Math.sqrt(ue),Math.sqrt(1-ue));return this.R*pe}}),Me=6378137,De={R:Me,MAX_LATITUDE:85.0511287798,project:function(u){var p=Math.PI/180,w=this.MAX_LATITUDE,T=Math.max(Math.min(w,u.lat),-w),P=Math.sin(T*p);return new te(this.R*u.lng*p,this.R*Math.log((1+P)/(1-P))/2)},unproject:function(u){var p=180/Math.PI;return new Re((2*Math.atan(Math.exp(u.y/this.R))-Math.PI/2)*p,u.x*p/this.R)},bounds:(function(){var u=Me*Math.PI;return new K([-u,-u],[u,u])})()};function Ye(u,p,w,T){if(O(u)){this._a=u[0],this._b=u[1],this._c=u[2],this._d=u[3];return}this._a=u,this._b=p,this._c=w,this._d=T}Ye.prototype={transform:function(u,p){return this._transform(u.clone(),p)},_transform:function(u,p){return p=p||1,u.x=p*(this._a*u.x+this._b),u.y=p*(this._c*u.y+this._d),u},untransform:function(u,p){return p=p||1,new te((u.x/p-this._b)/this._a,(u.y/p-this._d)/this._c)}};function Ze(u,p,w,T){return new Ye(u,p,w,T)}var St=s({},Le,{code:"EPSG:3857",projection:De,transformation:(function(){var u=.5/(Math.PI*De.R);return Ze(u,.5,-u,.5)})()}),vt=s({},St,{code:"EPSG:900913"});function It(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}function dn(u,p){var w="",T,P,B,Y,ue,pe;for(T=0,B=u.length;T<B;T++){for(ue=u[T],P=0,Y=ue.length;P<Y;P++)pe=ue[P],w+=(P?"L":"M")+pe.x+" "+pe.y;w+=p?Ie.svg?"z":"x":""}return w||"M0 0"}var fn=document.documentElement.style,Ln="ActiveXObject"in window,_n=Ln&&!document.addEventListener,wn="msLaunchUri"in navigator&&!("documentMode"in document),Kn=an("webkit"),Ai=an("android"),Es=an("android 2")||an("android 3"),sn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),_r=Ai&&an("Google")&&sn<537&&!("AudioNode"in window),yt=!!window.opera,Et=!wn&&an("chrome"),zt=an("gecko")&&!Kn&&!yt&&!Ln,Ti=!Et&&an("safari"),qs=an("phantom"),vi="OTransition"in fn,Jr=navigator.platform.indexOf("Win")===0,es=Ln&&"transition"in fn,rn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Es,si="MozPerspective"in fn,En=!window.L_DISABLE_3D&&(es||rn||si)&&!vi&&!qs,ts=typeof orientation<"u"||an("mobile"),eo=ts&&Kn,$a=ts&&rn,qn=!window.PointerEvent&&window.MSPointerEvent,Ws=!!(window.PointerEvent||qn),Yt="ontouchstart"in window||!!window.TouchEvent,Zt=!window.L_NO_TOUCH&&(Yt||Ws),hn=ts&&yt,Wn=ts&&zt,Yn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,An=(function(){var u=!1;try{var p=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassiveEventSupport",v,p),window.removeEventListener("testPassiveEventSupport",v,p)}catch{}return u})(),Zn=(function(){return!!document.createElement("canvas").getContext})(),Xn=!!(document.createElementNS&&It("svg").createSVGRect),on=!!Xn&&(function(){var u=document.createElement("div");return u.innerHTML="<svg/>",(u.firstChild&&u.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Ri=!Xn&&(function(){try{var u=document.createElement("div");u.innerHTML='<v:shape adj="1"/>';var p=u.firstChild;return p.style.behavior="url(#default#VML)",p&&typeof p.adj=="object"}catch{return!1}})(),ri=navigator.platform.indexOf("Mac")===0,yi=navigator.platform.indexOf("Linux")===0;function an(u){return navigator.userAgent.toLowerCase().indexOf(u)>=0}var Ie={ie:Ln,ielt9:_n,edge:wn,webkit:Kn,android:Ai,android23:Es,androidStock:_r,opera:yt,chrome:Et,gecko:zt,safari:Ti,phantom:qs,opera12:vi,win:Jr,ie3d:es,webkit3d:rn,gecko3d:si,any3d:En,mobile:ts,mobileWebkit:eo,mobileWebkit3d:$a,msPointer:qn,pointer:Ws,touch:Zt,touchNative:Yt,mobileOpera:hn,mobileGecko:Wn,retina:Yn,passiveEvents:An,canvas:Zn,svg:Xn,vml:Ri,inlineSvg:on,mac:ri,linux:yi},bi=Ie.msPointer?"MSPointerDown":"pointerdown",ns=Ie.msPointer?"MSPointerMove":"pointermove",oi=Ie.msPointer?"MSPointerUp":"pointerup",pn=Ie.msPointer?"MSPointerCancel":"pointercancel",Tn={touchstart:bi,touchmove:ns,touchend:oi,touchcancel:pn},Ys={touchstart:zi,touchmove:is,touchend:is,touchcancel:is},As={},sc=!1;function Gu(u,p,w){return p==="touchstart"&&wr(),Ys[p]?(w=Ys[p].bind(this,w),u.addEventListener(Tn[p],w,!1),w):(console.warn("wrong event specified:",p),v)}function rc(u,p,w){if(!Tn[p]){console.warn("wrong event specified:",p);return}u.removeEventListener(Tn[p],w,!1)}function to(u){As[u.pointerId]=u}function Ha(u){As[u.pointerId]&&(As[u.pointerId]=u)}function Zs(u){delete As[u.pointerId]}function wr(){sc||(document.addEventListener(bi,to,!0),document.addEventListener(ns,Ha,!0),document.addEventListener(oi,Zs,!0),document.addEventListener(pn,Zs,!0),sc=!0)}function is(u,p){if(p.pointerType!==(p.MSPOINTER_TYPE_MOUSE||"mouse")){p.touches=[];for(var w in As)p.touches.push(As[w]);p.changedTouches=[p],u(p)}}function zi(u,p){p.MSPOINTER_TYPE_TOUCH&&p.pointerType===p.MSPOINTER_TYPE_TOUCH&&mn(p),is(u,p)}function ln(u){var p={},w,T;for(T in u)w=u[T],p[T]=w&&w.bind?w.bind(u):w;return u=p,p.type="dblclick",p.detail=2,p.isTrusted=!1,p._simulated=!0,p}var Xs=200;function oc(u,p){u.addEventListener("dblclick",p);var w=0,T;function P(B){if(B.detail!==1){T=B.detail;return}if(!(B.pointerType==="mouse"||B.sourceCapabilities&&!B.sourceCapabilities.firesTouchEvents)){var Y=Wa(B);if(!(Y.some(function(pe){return pe instanceof HTMLLabelElement&&pe.attributes.for})&&!Y.some(function(pe){return pe instanceof HTMLInputElement||pe instanceof HTMLSelectElement}))){var ue=Date.now();ue-w<=Xs?(T++,T===2&&p(ln(B))):T=1,w=ue}}}return u.addEventListener("click",P),{dblclick:p,simDblclick:P}}function Bi(u,p){u.removeEventListener("dblclick",p.dblclick),u.removeEventListener("click",p.simDblclick)}var Ui=ze(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),no=ze(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ga=no==="webkitTransition"||no==="OTransition"?no+"End":"transitionend";function io(u){return typeof u=="string"?document.getElementById(u):u}function so(u,p){var w=u.style[p]||u.currentStyle&&u.currentStyle[p];if((!w||w==="auto")&&document.defaultView){var T=document.defaultView.getComputedStyle(u,null);w=T?T[p]:null}return w==="auto"?null:w}function ft(u,p,w){var T=document.createElement(u);return T.className=p||"",w&&w.appendChild(T),T}function F(u){var p=u.parentNode;p&&p.removeChild(u)}function J(u){for(;u.firstChild;)u.removeChild(u.firstChild)}function H(u){var p=u.parentNode;p&&p.lastChild!==u&&p.appendChild(u)}function se(u){var p=u.parentNode;p&&p.firstChild!==u&&p.insertBefore(u,p.firstChild)}function ae(u,p){if(u.classList!==void 0)return u.classList.contains(p);var w=Ne(u);return w.length>0&&new RegExp("(^|\\s)"+p+"(\\s|$)").test(w)}function Q(u,p){if(u.classList!==void 0)for(var w=C(p),T=0,P=w.length;T<P;T++)u.classList.add(w[T]);else if(!ae(u,p)){var B=Ne(u);ke(u,(B?B+" ":"")+p)}}function ge(u,p){u.classList!==void 0?u.classList.remove(p):ke(u,_((" "+Ne(u)+" ").replace(" "+p+" "," ")))}function ke(u,p){u.className.baseVal===void 0?u.className=p:u.className.baseVal=p}function Ne(u){return u.correspondingElement&&(u=u.correspondingElement),u.className.baseVal===void 0?u.className:u.className.baseVal}function Ee(u,p){"opacity"in u.style?u.style.opacity=p:"filter"in u.style&&Oe(u,p)}function Oe(u,p){var w=!1,T="DXImageTransform.Microsoft.Alpha";try{w=u.filters.item(T)}catch{if(p===1)return}p=Math.round(p*100),w?(w.Enabled=p!==100,w.Opacity=p):u.style.filter+=" progid:"+T+"(opacity="+p+")"}function ze(u){for(var p=document.documentElement.style,w=0;w<u.length;w++)if(u[w]in p)return u[w];return!1}function Je(u,p,w){var T=p||new te(0,0);u.style[Ui]=(Ie.ie3d?"translate("+T.x+"px,"+T.y+"px)":"translate3d("+T.x+"px,"+T.y+"px,0)")+(w?" scale("+w+")":"")}function qe(u,p){u._leaflet_pos=p,Ie.any3d?Je(u,p):(u.style.left=p.x+"px",u.style.top=p.y+"px")}function dt(u){return u._leaflet_pos||new te(0,0)}var Bt,Ct,Qn;if("onselectstart"in document)Bt=function(){tt(window,"selectstart",mn)},Ct=function(){jt(window,"selectstart",mn)};else{var Fi=ze(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Bt=function(){if(Fi){var u=document.documentElement.style;Qn=u[Fi],u[Fi]="none"}},Ct=function(){Fi&&(document.documentElement.style[Fi]=Qn,Qn=void 0)}}function Sr(){tt(window,"dragstart",mn)}function ro(){jt(window,"dragstart",mn)}var Cr,ac;function Er(u){for(;u.tabIndex===-1;)u=u.parentNode;u.style&&(xi(),Cr=u,ac=u.style.outlineStyle,u.style.outlineStyle="none",tt(window,"keydown",xi))}function xi(){Cr&&(Cr.style.outlineStyle=ac,Cr=void 0,ac=void 0,jt(window,"keydown",xi))}function oo(u){do u=u.parentNode;while((!u.offsetWidth||!u.offsetHeight)&&u!==document.body);return u}function Ka(u){var p=u.getBoundingClientRect();return{x:p.width/u.offsetWidth||1,y:p.height/u.offsetHeight||1,boundingClientRect:p}}var Uo={__proto__:null,TRANSFORM:Ui,TRANSITION:no,TRANSITION_END:Ga,get:io,getStyle:so,create:ft,remove:F,empty:J,toFront:H,toBack:se,hasClass:ae,addClass:Q,removeClass:ge,setClass:ke,getClass:Ne,setOpacity:Ee,testProp:ze,setTransform:Je,setPosition:qe,getPosition:dt,get disableTextSelection(){return Bt},get enableTextSelection(){return Ct},disableImageDrag:Sr,enableImageDrag:ro,preventOutline:Er,restoreOutline:xi,getSizedParentNode:oo,getScale:Ka};function tt(u,p,w,T){if(p&&typeof p=="object")for(var P in p)rs(u,P,p[P],w);else{p=C(p);for(var B=0,Y=p.length;B<Y;B++)rs(u,p[B],w,T)}return this}var ss="_leaflet_events";function jt(u,p,w,T){if(arguments.length===1)Ku(u),delete u[ss];else if(p&&typeof p=="object")for(var P in p)qa(u,P,p[P],w);else if(p=C(p),arguments.length===2)Ku(u,function(ue){return M(p,ue)!==-1});else for(var B=0,Y=p.length;B<Y;B++)qa(u,p[B],w,T);return this}function Ku(u,p){for(var w in u[ss]){var T=w.split(/\d/)[0];(!p||p(T))&&qa(u,T,null,null,w)}}var ao={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function rs(u,p,w,T){var P=p+d(w)+(T?"_"+d(T):"");if(u[ss]&&u[ss][P])return this;var B=function(ue){return w.call(T||u,ue||window.event)},Y=B;!Ie.touchNative&&Ie.pointer&&p.indexOf("touch")===0?B=Gu(u,p,B):Ie.touch&&p==="dblclick"?B=oc(u,B):"addEventListener"in u?p==="touchstart"||p==="touchmove"||p==="wheel"||p==="mousewheel"?u.addEventListener(ao[p]||p,B,Ie.passiveEvents?{passive:!1}:!1):p==="mouseenter"||p==="mouseleave"?(B=function(ue){ue=ue||window.event,Qs(u,ue)&&Y(ue)},u.addEventListener(ao[p],B,!1)):u.addEventListener(p,Y,!1):u.attachEvent("on"+p,B),u[ss]=u[ss]||{},u[ss][P]=B}function qa(u,p,w,T,P){P=P||p+d(w)+(T?"_"+d(T):"");var B=u[ss]&&u[ss][P];if(!B)return this;!Ie.touchNative&&Ie.pointer&&p.indexOf("touch")===0?rc(u,p,B):Ie.touch&&p==="dblclick"?Bi(u,B):"removeEventListener"in u?u.removeEventListener(ao[p]||p,B,!1):u.detachEvent("on"+p,B),u[ss][P]=null}function os(u){return u.stopPropagation?u.stopPropagation():u.originalEvent?u.originalEvent._stopped=!0:u.cancelBubble=!0,this}function Ts(u){return rs(u,"wheel",os),this}function lo(u){return tt(u,"mousedown touchstart dblclick contextmenu",os),u._leaflet_disable_click=!0,this}function mn(u){return u.preventDefault?u.preventDefault():u.returnValue=!1,this}function Ar(u){return mn(u),os(u),this}function Wa(u){if(u.composedPath)return u.composedPath();for(var p=[],w=u.target;w;)p.push(w),w=w.parentNode;return p}function Ya(u,p){if(!p)return new te(u.clientX,u.clientY);var w=Ka(p),T=w.boundingClientRect;return new te((u.clientX-T.left)/w.x-p.clientLeft,(u.clientY-T.top)/w.y-p.clientTop)}var _h=Ie.linux&&Ie.chrome?window.devicePixelRatio:Ie.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ai(u){return Ie.edge?u.wheelDeltaY/2:u.deltaY&&u.deltaMode===0?-u.deltaY/_h:u.deltaY&&u.deltaMode===1?-u.deltaY*20:u.deltaY&&u.deltaMode===2?-u.deltaY*60:u.deltaX||u.deltaZ?0:u.wheelDelta?(u.wheelDeltaY||u.wheelDelta)/2:u.detail&&Math.abs(u.detail)<32765?-u.detail*20:u.detail?u.detail/-32765*60:0}function Qs(u,p){var w=p.relatedTarget;if(!w)return!0;try{for(;w&&w!==u;)w=w.parentNode}catch{return!1}return w!==u}var lc={__proto__:null,on:tt,off:jt,stopPropagation:os,disableScrollPropagation:Ts,disableClickPropagation:lo,preventDefault:mn,stop:Ar,getPropagationPath:Wa,getMousePosition:Ya,getWheelDelta:ai,isExternalTarget:Qs,addListener:tt,removeListener:jt},Fo=W.extend({run:function(u,p,w,T){this.stop(),this._el=u,this._inProgress=!0,this._duration=w||.25,this._easeOutPower=1/Math.max(T||.5,.2),this._startPos=dt(u),this._offset=p.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=q(this._animate,this),this._step()},_step:function(u){var p=+new Date-this._startTime,w=this._duration*1e3;p<w?this._runFrame(this._easeOut(p/w),u):(this._runFrame(1),this._complete())},_runFrame:function(u,p){var w=this._startPos.add(this._offset.multiplyBy(u));p&&w._round(),qe(this._el,w),this.fire("step")},_complete:function(){X(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(u){return 1-Math.pow(1-u,this._easeOutPower)}}),bt=W.extend({options:{crs:St,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(u,p){p=E(this,p),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(u),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),p.maxBounds&&this.setMaxBounds(p.maxBounds),p.zoom!==void 0&&(this._zoom=this._limitZoom(p.zoom)),p.center&&p.zoom!==void 0&&this.setView(we(p.center),p.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=no&&Ie.any3d&&!Ie.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),tt(this._proxy,Ga,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(u,p,w){if(p=p===void 0?this._zoom:this._limitZoom(p),u=this._limitCenter(we(u),p,this.options.maxBounds),w=w||{},this._stop(),this._loaded&&!w.reset&&w!==!0){w.animate!==void 0&&(w.zoom=s({animate:w.animate},w.zoom),w.pan=s({animate:w.animate,duration:w.duration},w.pan));var T=this._zoom!==p?this._tryAnimatedZoom&&this._tryAnimatedZoom(u,p,w.zoom):this._tryAnimatedPan(u,w.pan);if(T)return clearTimeout(this._sizeTimer),this}return this._resetView(u,p,w.pan&&w.pan.noMoveStart),this},setZoom:function(u,p){return this._loaded?this.setView(this.getCenter(),u,{zoom:p}):(this._zoom=u,this)},zoomIn:function(u,p){return u=u||(Ie.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+u,p)},zoomOut:function(u,p){return u=u||(Ie.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-u,p)},setZoomAround:function(u,p,w){var T=this.getZoomScale(p),P=this.getSize().divideBy(2),B=u instanceof te?u:this.latLngToContainerPoint(u),Y=B.subtract(P).multiplyBy(1-1/T),ue=this.containerPointToLatLng(P.add(Y));return this.setView(ue,p,{zoom:w})},_getBoundsCenterZoom:function(u,p){p=p||{},u=u.getBounds?u.getBounds():xe(u);var w=oe(p.paddingTopLeft||p.padding||[0,0]),T=oe(p.paddingBottomRight||p.padding||[0,0]),P=this.getBoundsZoom(u,!1,w.add(T));if(P=typeof p.maxZoom=="number"?Math.min(p.maxZoom,P):P,P===1/0)return{center:u.getCenter(),zoom:P};var B=T.subtract(w).divideBy(2),Y=this.project(u.getSouthWest(),P),ue=this.project(u.getNorthEast(),P),pe=this.unproject(Y.add(ue).divideBy(2).add(B),P);return{center:pe,zoom:P}},fitBounds:function(u,p){if(u=xe(u),!u.isValid())throw new Error("Bounds are not valid.");var w=this._getBoundsCenterZoom(u,p);return this.setView(w.center,w.zoom,p)},fitWorld:function(u){return this.fitBounds([[-90,-180],[90,180]],u)},panTo:function(u,p){return this.setView(u,this._zoom,{pan:p})},panBy:function(u,p){if(u=oe(u).round(),p=p||{},!u.x&&!u.y)return this.fire("moveend");if(p.animate!==!0&&!this.getSize().contains(u))return this._resetView(this.unproject(this.project(this.getCenter()).add(u)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Fo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),p.noMoveStart||this.fire("movestart"),p.animate!==!1){Q(this._mapPane,"leaflet-pan-anim");var w=this._getMapPanePos().subtract(u).round();this._panAnim.run(this._mapPane,w,p.duration||.25,p.easeLinearity)}else this._rawPanBy(u),this.fire("move").fire("moveend");return this},flyTo:function(u,p,w){if(w=w||{},w.animate===!1||!Ie.any3d)return this.setView(u,p,w);this._stop();var T=this.project(this.getCenter()),P=this.project(u),B=this.getSize(),Y=this._zoom;u=we(u),p=p===void 0?Y:p;var ue=Math.max(B.x,B.y),pe=ue*this.getZoomScale(Y,p),Ae=P.distanceTo(T)||1,Pe=1.42,Ge=Pe*Pe;function ct(cn){var nr=cn?-1:1,ho=cn?pe:ue,ad=pe*pe-ue*ue+nr*Ge*Ge*Ae*Ae,dl=2*ho*Ge*Ae,fl=ad/dl,Lr=Math.sqrt(fl*fl+1)-fl,ir=Lr<1e-9?-18:Math.log(Lr);return ir}function jn(cn){return(Math.exp(cn)-Math.exp(-cn))/2}function gn(cn){return(Math.exp(cn)+Math.exp(-cn))/2}function Ni(cn){return jn(cn)/gn(cn)}var At=ct(0);function Tt(cn){return ue*(gn(At)/gn(At+Pe*cn))}function pt(cn){return ue*(gn(At)*Ni(At+Pe*cn)-jn(At))/Ge}function Mr(cn){return 1-Math.pow(1-cn,1.5)}var Gi=Date.now(),wc=(ct(1)-At)/Pe,Dr=w.duration?1e3*w.duration:1e3*wc*.8;function od(){var cn=(Date.now()-Gi)/Dr,nr=Mr(cn)*wc;cn<=1?(this._flyToFrame=q(od,this),this._move(this.unproject(T.add(P.subtract(T).multiplyBy(pt(nr)/Ae)),Y),this.getScaleZoom(ue/Tt(nr),Y),{flyTo:!0})):this._move(u,p)._moveEnd(!0)}return this._moveStart(!0,w.noMoveStart),od.call(this),this},flyToBounds:function(u,p){var w=this._getBoundsCenterZoom(u,p);return this.flyTo(w.center,w.zoom,p)},setMaxBounds:function(u){return u=xe(u),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),u.isValid()?(this.options.maxBounds=u,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(u){var p=this.options.minZoom;return this.options.minZoom=u,this._loaded&&p!==u&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(u):this},setMaxZoom:function(u){var p=this.options.maxZoom;return this.options.maxZoom=u,this._loaded&&p!==u&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(u):this},panInsideBounds:function(u,p){this._enforcingBounds=!0;var w=this.getCenter(),T=this._limitCenter(w,this._zoom,xe(u));return w.equals(T)||this.panTo(T,p),this._enforcingBounds=!1,this},panInside:function(u,p){p=p||{};var w=oe(p.paddingTopLeft||p.padding||[0,0]),T=oe(p.paddingBottomRight||p.padding||[0,0]),P=this.project(this.getCenter()),B=this.project(u),Y=this.getPixelBounds(),ue=ce([Y.min.add(w),Y.max.subtract(T)]),pe=ue.getSize();if(!ue.contains(B)){this._enforcingBounds=!0;var Ae=B.subtract(ue.getCenter()),Pe=ue.extend(B).getSize().subtract(pe);P.x+=Ae.x<0?-Pe.x:Pe.x,P.y+=Ae.y<0?-Pe.y:Pe.y,this.panTo(this.unproject(P),p),this._enforcingBounds=!1}return this},invalidateSize:function(u){if(!this._loaded)return this;u=s({animate:!1,pan:!0},u===!0?{animate:!0}:u);var p=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var w=this.getSize(),T=p.divideBy(2).round(),P=w.divideBy(2).round(),B=T.subtract(P);return!B.x&&!B.y?this:(u.animate&&u.pan?this.panBy(B):(u.pan&&this._rawPanBy(B),this.fire("move"),u.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:p,newSize:w}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(u){if(u=this._locateOptions=s({timeout:1e4,watch:!1},u),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var p=l(this._handleGeolocationResponse,this),w=l(this._handleGeolocationError,this);return u.watch?this._locationWatchId=navigator.geolocation.watchPosition(p,w,u):navigator.geolocation.getCurrentPosition(p,w,u),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(u){if(this._container._leaflet_id){var p=u.code,w=u.message||(p===1?"permission denied":p===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:p,message:"Geolocation error: "+w+"."})}},_handleGeolocationResponse:function(u){if(this._container._leaflet_id){var p=u.coords.latitude,w=u.coords.longitude,T=new Re(p,w),P=T.toBounds(u.coords.accuracy*2),B=this._locateOptions;if(B.setView){var Y=this.getBoundsZoom(P);this.setView(T,B.maxZoom?Math.min(Y,B.maxZoom):Y)}var ue={latlng:T,bounds:P,timestamp:u.timestamp};for(var pe in u.coords)typeof u.coords[pe]=="number"&&(ue[pe]=u.coords[pe]);this.fire("locationfound",ue)}},addHandler:function(u,p){if(!p)return this;var w=this[u]=new p(this);return this._handlers.push(w),this.options[u]&&w.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),F(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(X(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var u;for(u in this._layers)this._layers[u].remove();for(u in this._panes)F(this._panes[u]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(u,p){var w="leaflet-pane"+(u?" leaflet-"+u.replace("Pane","")+"-pane":""),T=ft("div",w,p||this._mapPane);return u&&(this._panes[u]=T),T},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var u=this.getPixelBounds(),p=this.unproject(u.getBottomLeft()),w=this.unproject(u.getTopRight());return new be(p,w)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(u,p,w){u=xe(u),w=oe(w||[0,0]);var T=this.getZoom()||0,P=this.getMinZoom(),B=this.getMaxZoom(),Y=u.getNorthWest(),ue=u.getSouthEast(),pe=this.getSize().subtract(w),Ae=ce(this.project(ue,T),this.project(Y,T)).getSize(),Pe=Ie.any3d?this.options.zoomSnap:1,Ge=pe.x/Ae.x,ct=pe.y/Ae.y,jn=p?Math.max(Ge,ct):Math.min(Ge,ct);return T=this.getScaleZoom(jn,T),Pe&&(T=Math.round(T/(Pe/100))*(Pe/100),T=p?Math.ceil(T/Pe)*Pe:Math.floor(T/Pe)*Pe),Math.max(P,Math.min(B,T))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new te(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(u,p){var w=this._getTopLeftPoint(u,p);return new K(w,w.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(u){return this.options.crs.getProjectedBounds(u===void 0?this.getZoom():u)},getPane:function(u){return typeof u=="string"?this._panes[u]:u},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(u,p){var w=this.options.crs;return p=p===void 0?this._zoom:p,w.scale(u)/w.scale(p)},getScaleZoom:function(u,p){var w=this.options.crs;p=p===void 0?this._zoom:p;var T=w.zoom(u*w.scale(p));return isNaN(T)?1/0:T},project:function(u,p){return p=p===void 0?this._zoom:p,this.options.crs.latLngToPoint(we(u),p)},unproject:function(u,p){return p=p===void 0?this._zoom:p,this.options.crs.pointToLatLng(oe(u),p)},layerPointToLatLng:function(u){var p=oe(u).add(this.getPixelOrigin());return this.unproject(p)},latLngToLayerPoint:function(u){var p=this.project(we(u))._round();return p._subtract(this.getPixelOrigin())},wrapLatLng:function(u){return this.options.crs.wrapLatLng(we(u))},wrapLatLngBounds:function(u){return this.options.crs.wrapLatLngBounds(xe(u))},distance:function(u,p){return this.options.crs.distance(we(u),we(p))},containerPointToLayerPoint:function(u){return oe(u).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(u){return oe(u).add(this._getMapPanePos())},containerPointToLatLng:function(u){var p=this.containerPointToLayerPoint(oe(u));return this.layerPointToLatLng(p)},latLngToContainerPoint:function(u){return this.layerPointToContainerPoint(this.latLngToLayerPoint(we(u)))},mouseEventToContainerPoint:function(u){return Ya(u,this._container)},mouseEventToLayerPoint:function(u){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(u))},mouseEventToLatLng:function(u){return this.layerPointToLatLng(this.mouseEventToLayerPoint(u))},_initContainer:function(u){var p=this._container=io(u);if(p){if(p._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");tt(p,"scroll",this._onScroll,this),this._containerId=d(p)},_initLayout:function(){var u=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ie.any3d,Q(u,"leaflet-container"+(Ie.touch?" leaflet-touch":"")+(Ie.retina?" leaflet-retina":"")+(Ie.ielt9?" leaflet-oldie":"")+(Ie.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var p=so(u,"position");p!=="absolute"&&p!=="relative"&&p!=="fixed"&&p!=="sticky"&&(u.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var u=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),qe(this._mapPane,new te(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Q(u.markerPane,"leaflet-zoom-hide"),Q(u.shadowPane,"leaflet-zoom-hide"))},_resetView:function(u,p,w){qe(this._mapPane,new te(0,0));var T=!this._loaded;this._loaded=!0,p=this._limitZoom(p),this.fire("viewprereset");var P=this._zoom!==p;this._moveStart(P,w)._move(u,p)._moveEnd(P),this.fire("viewreset"),T&&this.fire("load")},_moveStart:function(u,p){return u&&this.fire("zoomstart"),p||this.fire("movestart"),this},_move:function(u,p,w,T){p===void 0&&(p=this._zoom);var P=this._zoom!==p;return this._zoom=p,this._lastCenter=u,this._pixelOrigin=this._getNewPixelOrigin(u),T?w&&w.pinch&&this.fire("zoom",w):((P||w&&w.pinch)&&this.fire("zoom",w),this.fire("move",w)),this},_moveEnd:function(u){return u&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return X(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(u){qe(this._mapPane,this._getMapPanePos().subtract(u))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(u){this._targets={},this._targets[d(this._container)]=this;var p=u?jt:tt;p(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&p(window,"resize",this._onResize,this),Ie.any3d&&this.options.transform3DLimit&&(u?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){X(this._resizeRequest),this._resizeRequest=q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var u=this._getMapPanePos();Math.max(Math.abs(u.x),Math.abs(u.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(u,p){for(var w=[],T,P=p==="mouseout"||p==="mouseover",B=u.target||u.srcElement,Y=!1;B;){if(T=this._targets[d(B)],T&&(p==="click"||p==="preclick")&&this._draggableMoved(T)){Y=!0;break}if(T&&T.listens(p,!0)&&(P&&!Qs(B,u)||(w.push(T),P))||B===this._container)break;B=B.parentNode}return!w.length&&!Y&&!P&&this.listens(p,!0)&&(w=[this]),w},_isClickDisabled:function(u){for(;u&&u!==this._container;){if(u._leaflet_disable_click)return!0;u=u.parentNode}},_handleDOMEvent:function(u){var p=u.target||u.srcElement;if(!(!this._loaded||p._leaflet_disable_events||u.type==="click"&&this._isClickDisabled(p))){var w=u.type;w==="mousedown"&&Er(p),this._fireDOMEvent(u,w)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(u,p,w){if(u.type==="click"){var T=s({},u);T.type="preclick",this._fireDOMEvent(T,T.type,w)}var P=this._findEventTargets(u,p);if(w){for(var B=[],Y=0;Y<w.length;Y++)w[Y].listens(p,!0)&&B.push(w[Y]);P=B.concat(P)}if(P.length){p==="contextmenu"&&mn(u);var ue=P[0],pe={originalEvent:u};if(u.type!=="keypress"&&u.type!=="keydown"&&u.type!=="keyup"){var Ae=ue.getLatLng&&(!ue._radius||ue._radius<=10);pe.containerPoint=Ae?this.latLngToContainerPoint(ue.getLatLng()):this.mouseEventToContainerPoint(u),pe.layerPoint=this.containerPointToLayerPoint(pe.containerPoint),pe.latlng=Ae?ue.getLatLng():this.layerPointToLatLng(pe.layerPoint)}for(Y=0;Y<P.length;Y++)if(P[Y].fire(p,pe,!0),pe.originalEvent._stopped||P[Y].options.bubblingMouseEvents===!1&&M(this._mouseEvents,p)!==-1)return}},_draggableMoved:function(u){return u=u.dragging&&u.dragging.enabled()?u:this,u.dragging&&u.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var u=0,p=this._handlers.length;u<p;u++)this._handlers[u].disable()},whenReady:function(u,p){return this._loaded?u.call(p||this,{target:this}):this.on("load",u,p),this},_getMapPanePos:function(){return dt(this._mapPane)||new te(0,0)},_moved:function(){var u=this._getMapPanePos();return u&&!u.equals([0,0])},_getTopLeftPoint:function(u,p){var w=u&&p!==void 0?this._getNewPixelOrigin(u,p):this.getPixelOrigin();return w.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(u,p){var w=this.getSize()._divideBy(2);return this.project(u,p)._subtract(w)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(u,p,w){var T=this._getNewPixelOrigin(w,p);return this.project(u,p)._subtract(T)},_latLngBoundsToNewLayerBounds:function(u,p,w){var T=this._getNewPixelOrigin(w,p);return ce([this.project(u.getSouthWest(),p)._subtract(T),this.project(u.getNorthWest(),p)._subtract(T),this.project(u.getSouthEast(),p)._subtract(T),this.project(u.getNorthEast(),p)._subtract(T)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(u){return this.latLngToLayerPoint(u).subtract(this._getCenterLayerPoint())},_limitCenter:function(u,p,w){if(!w)return u;var T=this.project(u,p),P=this.getSize().divideBy(2),B=new K(T.subtract(P),T.add(P)),Y=this._getBoundsOffset(B,w,p);return Math.abs(Y.x)<=1&&Math.abs(Y.y)<=1?u:this.unproject(T.add(Y),p)},_limitOffset:function(u,p){if(!p)return u;var w=this.getPixelBounds(),T=new K(w.min.add(u),w.max.add(u));return u.add(this._getBoundsOffset(T,p))},_getBoundsOffset:function(u,p,w){var T=ce(this.project(p.getNorthEast(),w),this.project(p.getSouthWest(),w)),P=T.min.subtract(u.min),B=T.max.subtract(u.max),Y=this._rebound(P.x,-B.x),ue=this._rebound(P.y,-B.y);return new te(Y,ue)},_rebound:function(u,p){return u+p>0?Math.round(u-p)/2:Math.max(0,Math.ceil(u))-Math.max(0,Math.floor(p))},_limitZoom:function(u){var p=this.getMinZoom(),w=this.getMaxZoom(),T=Ie.any3d?this.options.zoomSnap:1;return T&&(u=Math.round(u/T)*T),Math.max(p,Math.min(w,u))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ge(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(u,p){var w=this._getCenterOffset(u)._trunc();return(p&&p.animate)!==!0&&!this.getSize().contains(w)?!1:(this.panBy(w,p),!0)},_createAnimProxy:function(){var u=this._proxy=ft("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(u),this.on("zoomanim",function(p){var w=Ui,T=this._proxy.style[w];Je(this._proxy,this.project(p.center,p.zoom),this.getZoomScale(p.zoom,1)),T===this._proxy.style[w]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){F(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var u=this.getCenter(),p=this.getZoom();Je(this._proxy,this.project(u,p),this.getZoomScale(p,1))},_catchTransitionEnd:function(u){this._animatingZoom&&u.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(u,p,w){if(this._animatingZoom)return!0;if(w=w||{},!this._zoomAnimated||w.animate===!1||this._nothingToAnimate()||Math.abs(p-this._zoom)>this.options.zoomAnimationThreshold)return!1;var T=this.getZoomScale(p),P=this._getCenterOffset(u)._divideBy(1-1/T);return w.animate!==!0&&!this.getSize().contains(P)?!1:(q(function(){this._moveStart(!0,w.noMoveStart||!1)._animateZoom(u,p,!0)},this),!0)},_animateZoom:function(u,p,w,T){this._mapPane&&(w&&(this._animatingZoom=!0,this._animateToCenter=u,this._animateToZoom=p,Q(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:u,zoom:p,noUpdate:T}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ge(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function qu(u,p){return new bt(u,p)}var ki=re.extend({options:{position:"topright"},initialize:function(u){E(this,u)},getPosition:function(){return this.options.position},setPosition:function(u){var p=this._map;return p&&p.removeControl(this),this.options.position=u,p&&p.addControl(this),this},getContainer:function(){return this._container},addTo:function(u){this.remove(),this._map=u;var p=this._container=this.onAdd(u),w=this.getPosition(),T=u._controlCorners[w];return Q(p,"leaflet-control"),w.indexOf("bottom")!==-1?T.insertBefore(p,T.firstChild):T.appendChild(p),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(F(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(u){this._map&&u&&u.screenX>0&&u.screenY>0&&this._map.getContainer().focus()}}),Js=function(u){return new ki(u)};bt.include({addControl:function(u){return u.addTo(this),this},removeControl:function(u){return u.remove(),this},_initControlPos:function(){var u=this._controlCorners={},p="leaflet-",w=this._controlContainer=ft("div",p+"control-container",this._container);function T(P,B){var Y=p+P+" "+p+B;u[P+B]=ft("div",Y,w)}T("top","left"),T("top","right"),T("bottom","left"),T("bottom","right")},_clearControlPos:function(){for(var u in this._controlCorners)F(this._controlCorners[u]);F(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Za=ki.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(u,p,w,T){return w<T?-1:T<w?1:0}},initialize:function(u,p,w){E(this,w),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var T in u)this._addLayer(u[T],T);for(T in p)this._addLayer(p[T],T,!0)},onAdd:function(u){this._initLayout(),this._update(),this._map=u,u.on("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(u){return ki.prototype.addTo.call(this,u),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(u,p){return this._addLayer(u,p),this._map?this._update():this},addOverlay:function(u,p){return this._addLayer(u,p,!0),this._map?this._update():this},removeLayer:function(u){u.off("add remove",this._onLayerChange,this);var p=this._getLayer(d(u));return p&&this._layers.splice(this._layers.indexOf(p),1),this._map?this._update():this},expand:function(){Q(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var u=this._map.getSize().y-(this._container.offsetTop+50);return u<this._section.clientHeight?(Q(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=u+"px"):ge(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ge(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var u="leaflet-control-layers",p=this._container=ft("div",u),w=this.options.collapsed;p.setAttribute("aria-haspopup",!0),lo(p),Ts(p);var T=this._section=ft("section",u+"-list");w&&(this._map.on("click",this.collapse,this),tt(p,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var P=this._layersLink=ft("a",u+"-toggle",p);P.href="#",P.title="Layers",P.setAttribute("role","button"),tt(P,{keydown:function(B){B.keyCode===13&&this._expandSafely()},click:function(B){mn(B),this._expandSafely()}},this),w||this.expand(),this._baseLayersList=ft("div",u+"-base",T),this._separator=ft("div",u+"-separator",T),this._overlaysList=ft("div",u+"-overlays",T),p.appendChild(T)},_getLayer:function(u){for(var p=0;p<this._layers.length;p++)if(this._layers[p]&&d(this._layers[p].layer)===u)return this._layers[p]},_addLayer:function(u,p,w){this._map&&u.on("add remove",this._onLayerChange,this),this._layers.push({layer:u,name:p,overlay:w}),this.options.sortLayers&&this._layers.sort(l(function(T,P){return this.options.sortFunction(T.layer,P.layer,T.name,P.name)},this)),this.options.autoZIndex&&u.setZIndex&&(this._lastZIndex++,u.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;J(this._baseLayersList),J(this._overlaysList),this._layerControlInputs=[];var u,p,w,T,P=0;for(w=0;w<this._layers.length;w++)T=this._layers[w],this._addItem(T),p=p||T.overlay,u=u||!T.overlay,P+=T.overlay?0:1;return this.options.hideSingleBase&&(u=u&&P>1,this._baseLayersList.style.display=u?"":"none"),this._separator.style.display=p&&u?"":"none",this},_onLayerChange:function(u){this._handlingClick||this._update();var p=this._getLayer(d(u.target)),w=p.overlay?u.type==="add"?"overlayadd":"overlayremove":u.type==="add"?"baselayerchange":null;w&&this._map.fire(w,p)},_createRadioElement:function(u,p){var w='<input type="radio" class="leaflet-control-layers-selector" name="'+u+'"'+(p?' checked="checked"':"")+"/>",T=document.createElement("div");return T.innerHTML=w,T.firstChild},_addItem:function(u){var p=document.createElement("label"),w=this._map.hasLayer(u.layer),T;u.overlay?(T=document.createElement("input"),T.type="checkbox",T.className="leaflet-control-layers-selector",T.defaultChecked=w):T=this._createRadioElement("leaflet-base-layers_"+d(this),w),this._layerControlInputs.push(T),T.layerId=d(u.layer),tt(T,"click",this._onInputClick,this);var P=document.createElement("span");P.innerHTML=" "+u.name;var B=document.createElement("span");p.appendChild(B),B.appendChild(T),B.appendChild(P);var Y=u.overlay?this._overlaysList:this._baseLayersList;return Y.appendChild(p),this._checkDisabledLayers(),p},_onInputClick:function(){if(!this._preventClick){var u=this._layerControlInputs,p,w,T=[],P=[];this._handlingClick=!0;for(var B=u.length-1;B>=0;B--)p=u[B],w=this._getLayer(p.layerId).layer,p.checked?T.push(w):p.checked||P.push(w);for(B=0;B<P.length;B++)this._map.hasLayer(P[B])&&this._map.removeLayer(P[B]);for(B=0;B<T.length;B++)this._map.hasLayer(T[B])||this._map.addLayer(T[B]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var u=this._layerControlInputs,p,w,T=this._map.getZoom(),P=u.length-1;P>=0;P--)p=u[P],w=this._getLayer(p.layerId).layer,p.disabled=w.options.minZoom!==void 0&&T<w.options.minZoom||w.options.maxZoom!==void 0&&T>w.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var u=this._section;this._preventClick=!0,tt(u,"click",mn),this.expand();var p=this;setTimeout(function(){jt(u,"click",mn),p._preventClick=!1})}}),wh=function(u,p,w){return new Za(u,p,w)},Wu=ki.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(u){var p="leaflet-control-zoom",w=ft("div",p+" leaflet-bar"),T=this.options;return this._zoomInButton=this._createButton(T.zoomInText,T.zoomInTitle,p+"-in",w,this._zoomIn),this._zoomOutButton=this._createButton(T.zoomOutText,T.zoomOutTitle,p+"-out",w,this._zoomOut),this._updateDisabled(),u.on("zoomend zoomlevelschange",this._updateDisabled,this),w},onRemove:function(u){u.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(u){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(u.shiftKey?3:1))},_zoomOut:function(u){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(u.shiftKey?3:1))},_createButton:function(u,p,w,T,P){var B=ft("a",w,T);return B.innerHTML=u,B.href="#",B.title=p,B.setAttribute("role","button"),B.setAttribute("aria-label",p),lo(B),tt(B,"click",Ar),tt(B,"click",P,this),tt(B,"click",this._refocusOnMap,this),B},_updateDisabled:function(){var u=this._map,p="leaflet-disabled";ge(this._zoomInButton,p),ge(this._zoomOutButton,p),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||u._zoom===u.getMinZoom())&&(Q(this._zoomOutButton,p),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||u._zoom===u.getMaxZoom())&&(Q(this._zoomInButton,p),this._zoomInButton.setAttribute("aria-disabled","true"))}});bt.mergeOptions({zoomControl:!0}),bt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Wu,this.addControl(this.zoomControl))});var uv=function(u){return new Wu(u)},Sh=ki.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(u){var p="leaflet-control-scale",w=ft("div",p),T=this.options;return this._addScales(T,p+"-line",w),u.on(T.updateWhenIdle?"moveend":"move",this._update,this),u.whenReady(this._update,this),w},onRemove:function(u){u.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(u,p,w){u.metric&&(this._mScale=ft("div",p,w)),u.imperial&&(this._iScale=ft("div",p,w))},_update:function(){var u=this._map,p=u.getSize().y/2,w=u.distance(u.containerPointToLatLng([0,p]),u.containerPointToLatLng([this.options.maxWidth,p]));this._updateScales(w)},_updateScales:function(u){this.options.metric&&u&&this._updateMetric(u),this.options.imperial&&u&&this._updateImperial(u)},_updateMetric:function(u){var p=this._getRoundNum(u),w=p<1e3?p+" m":p/1e3+" km";this._updateScale(this._mScale,w,p/u)},_updateImperial:function(u){var p=u*3.2808399,w,T,P;p>5280?(w=p/5280,T=this._getRoundNum(w),this._updateScale(this._iScale,T+" mi",T/w)):(P=this._getRoundNum(p),this._updateScale(this._iScale,P+" ft",P/p))},_updateScale:function(u,p,w){u.style.width=Math.round(this.options.maxWidth*w)+"px",u.innerHTML=p},_getRoundNum:function(u){var p=Math.pow(10,(Math.floor(u)+"").length-1),w=u/p;return w=w>=10?10:w>=5?5:w>=3?3:w>=2?2:1,p*w}}),Yu=function(u){return new Sh(u)},dv='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Zu=ki.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ie.inlineSvg?dv+" ":"")+"Leaflet</a>"},initialize:function(u){E(this,u),this._attributions={}},onAdd:function(u){u.attributionControl=this,this._container=ft("div","leaflet-control-attribution"),lo(this._container);for(var p in u._layers)u._layers[p].getAttribution&&this.addAttribution(u._layers[p].getAttribution());return this._update(),u.on("layeradd",this._addAttribution,this),this._container},onRemove:function(u){u.off("layeradd",this._addAttribution,this)},_addAttribution:function(u){u.layer.getAttribution&&(this.addAttribution(u.layer.getAttribution()),u.layer.once("remove",function(){this.removeAttribution(u.layer.getAttribution())},this))},setPrefix:function(u){return this.options.prefix=u,this._update(),this},addAttribution:function(u){return u?(this._attributions[u]||(this._attributions[u]=0),this._attributions[u]++,this._update(),this):this},removeAttribution:function(u){return u?(this._attributions[u]&&(this._attributions[u]--,this._update()),this):this},_update:function(){if(this._map){var u=[];for(var p in this._attributions)this._attributions[p]&&u.push(p);var w=[];this.options.prefix&&w.push(this.options.prefix),u.length&&w.push(u.join(", ")),this._container.innerHTML=w.join(' <span aria-hidden="true">|</span> ')}}});bt.mergeOptions({attributionControl:!0}),bt.addInitHook(function(){this.options.attributionControl&&new Zu().addTo(this)});var fv=function(u){return new Zu(u)};ki.Layers=Za,ki.Zoom=Wu,ki.Scale=Sh,ki.Attribution=Zu,Js.layers=wh,Js.zoom=uv,Js.scale=Yu,Js.attribution=fv;var Rs=re.extend({initialize:function(u){this._map=u},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Rs.addTo=function(u,p){return u.addHandler(p,this),this};var hv={Events:G},Xu=Ie.touch?"touchstart mousedown":"mousedown",Tr=W.extend({options:{clickTolerance:3},initialize:function(u,p,w,T){E(this,T),this._element=u,this._dragStartTarget=p||u,this._preventOutline=w},enable:function(){this._enabled||(tt(this._dragStartTarget,Xu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Tr._dragging===this&&this.finishDrag(!0),jt(this._dragStartTarget,Xu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(u){if(this._enabled&&(this._moved=!1,!ae(this._element,"leaflet-zoom-anim"))){if(u.touches&&u.touches.length!==1){Tr._dragging===this&&this.finishDrag();return}if(!(Tr._dragging||u.shiftKey||u.which!==1&&u.button!==1&&!u.touches)&&(Tr._dragging=this,this._preventOutline&&Er(this._element),Sr(),Bt(),!this._moving)){this.fire("down");var p=u.touches?u.touches[0]:u,w=oo(this._element);this._startPoint=new te(p.clientX,p.clientY),this._startPos=dt(this._element),this._parentScale=Ka(w);var T=u.type==="mousedown";tt(document,T?"mousemove":"touchmove",this._onMove,this),tt(document,T?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(u){if(this._enabled){if(u.touches&&u.touches.length>1){this._moved=!0;return}var p=u.touches&&u.touches.length===1?u.touches[0]:u,w=new te(p.clientX,p.clientY)._subtract(this._startPoint);!w.x&&!w.y||Math.abs(w.x)+Math.abs(w.y)<this.options.clickTolerance||(w.x/=this._parentScale.x,w.y/=this._parentScale.y,mn(u),this._moved||(this.fire("dragstart"),this._moved=!0,Q(document.body,"leaflet-dragging"),this._lastTarget=u.target||u.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Q(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(w),this._moving=!0,this._lastEvent=u,this._updatePosition())}},_updatePosition:function(){var u={originalEvent:this._lastEvent};this.fire("predrag",u),qe(this._element,this._newPos),this.fire("drag",u)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(u){ge(document.body,"leaflet-dragging"),this._lastTarget&&(ge(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),jt(document,"mousemove touchmove",this._onMove,this),jt(document,"mouseup touchend touchcancel",this._onUp,this),ro(),Ct();var p=this._moved&&this._moving;this._moving=!1,Tr._dragging=!1,p&&this.fire("dragend",{noInertia:u,distance:this._newPos.distanceTo(this._startPos)})}});function Ch(u,p,w){var T,P=[1,4,2,8],B,Y,ue,pe,Ae,Pe,Ge,ct;for(B=0,Pe=u.length;B<Pe;B++)u[B]._code=co(u[B],p);for(ue=0;ue<4;ue++){for(Ge=P[ue],T=[],B=0,Pe=u.length,Y=Pe-1;B<Pe;Y=B++)pe=u[B],Ae=u[Y],pe._code&Ge?Ae._code&Ge||(ct=cc(Ae,pe,Ge,p,w),ct._code=co(ct,p),T.push(ct)):(Ae._code&Ge&&(ct=cc(Ae,pe,Ge,p,w),ct._code=co(ct,p),T.push(ct)),T.push(pe));u=T}return u}function Eh(u,p){var w,T,P,B,Y,ue,pe,Ae,Pe;if(!u||u.length===0)throw new Error("latlngs not passed");Vi(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Ge=we([0,0]),ct=xe(u),jn=ct.getNorthWest().distanceTo(ct.getSouthWest())*ct.getNorthEast().distanceTo(ct.getNorthWest());jn<1700&&(Ge=Qu(u));var gn=u.length,Ni=[];for(w=0;w<gn;w++){var At=we(u[w]);Ni.push(p.project(we([At.lat-Ge.lat,At.lng-Ge.lng])))}for(ue=pe=Ae=0,w=0,T=gn-1;w<gn;T=w++)P=Ni[w],B=Ni[T],Y=P.y*B.x-B.y*P.x,pe+=(P.x+B.x)*Y,Ae+=(P.y+B.y)*Y,ue+=Y*3;ue===0?Pe=Ni[0]:Pe=[pe/ue,Ae/ue];var Tt=p.unproject(oe(Pe));return we([Tt.lat+Ge.lat,Tt.lng+Ge.lng])}function Qu(u){for(var p=0,w=0,T=0,P=0;P<u.length;P++){var B=we(u[P]);p+=B.lat,w+=B.lng,T++}return we([p/T,w/T])}var Ju={__proto__:null,clipPolygon:Ch,polygonCenter:Eh,centroid:Qu};function Ah(u,p){if(!p||!u.length)return u.slice();var w=p*p;return u=mv(u,w),u=Rh(u,w),u}function Th(u,p,w){return Math.sqrt(Xa(u,p,w,!0))}function pv(u,p,w){return Xa(u,p,w)}function Rh(u,p){var w=u.length,T=typeof Uint8Array<"u"?Uint8Array:Array,P=new T(w);P[0]=P[w-1]=1,ed(u,P,p,0,w-1);var B,Y=[];for(B=0;B<w;B++)P[B]&&Y.push(u[B]);return Y}function ed(u,p,w,T,P){var B=0,Y,ue,pe;for(ue=T+1;ue<=P-1;ue++)pe=Xa(u[ue],u[T],u[P],!0),pe>B&&(Y=ue,B=pe);B>w&&(p[Y]=1,ed(u,p,w,T,Y),ed(u,p,w,Y,P))}function mv(u,p){for(var w=[u[0]],T=1,P=0,B=u.length;T<B;T++)gv(u[T],u[P])>p&&(w.push(u[T]),P=T);return P<B-1&&w.push(u[B-1]),w}var kh;function Nh(u,p,w,T,P){var B=T?kh:co(u,w),Y=co(p,w),ue,pe,Ae;for(kh=Y;;){if(!(B|Y))return[u,p];if(B&Y)return!1;ue=B||Y,pe=cc(u,p,ue,w,P),Ae=co(pe,w),ue===B?(u=pe,B=Ae):(p=pe,Y=Ae)}}function cc(u,p,w,T,P){var B=p.x-u.x,Y=p.y-u.y,ue=T.min,pe=T.max,Ae,Pe;return w&8?(Ae=u.x+B*(pe.y-u.y)/Y,Pe=pe.y):w&4?(Ae=u.x+B*(ue.y-u.y)/Y,Pe=ue.y):w&2?(Ae=pe.x,Pe=u.y+Y*(pe.x-u.x)/B):w&1&&(Ae=ue.x,Pe=u.y+Y*(ue.x-u.x)/B),new te(Ae,Pe,P)}function co(u,p){var w=0;return u.x<p.min.x?w|=1:u.x>p.max.x&&(w|=2),u.y<p.min.y?w|=4:u.y>p.max.y&&(w|=8),w}function gv(u,p){var w=p.x-u.x,T=p.y-u.y;return w*w+T*T}function Xa(u,p,w,T){var P=p.x,B=p.y,Y=w.x-P,ue=w.y-B,pe=Y*Y+ue*ue,Ae;return pe>0&&(Ae=((u.x-P)*Y+(u.y-B)*ue)/pe,Ae>1?(P=w.x,B=w.y):Ae>0&&(P+=Y*Ae,B+=ue*Ae)),Y=u.x-P,ue=u.y-B,T?Y*Y+ue*ue:new te(P,B)}function Vi(u){return!O(u[0])||typeof u[0][0]!="object"&&typeof u[0][0]<"u"}function uc(u){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Vi(u)}function Vo(u,p){var w,T,P,B,Y,ue,pe,Ae;if(!u||u.length===0)throw new Error("latlngs not passed");Vi(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Pe=we([0,0]),Ge=xe(u),ct=Ge.getNorthWest().distanceTo(Ge.getSouthWest())*Ge.getNorthEast().distanceTo(Ge.getNorthWest());ct<1700&&(Pe=Qu(u));var jn=u.length,gn=[];for(w=0;w<jn;w++){var Ni=we(u[w]);gn.push(p.project(we([Ni.lat-Pe.lat,Ni.lng-Pe.lng])))}for(w=0,T=0;w<jn-1;w++)T+=gn[w].distanceTo(gn[w+1])/2;if(T===0)Ae=gn[0];else for(w=0,B=0;w<jn-1;w++)if(Y=gn[w],ue=gn[w+1],P=Y.distanceTo(ue),B+=P,B>T){pe=(B-T)/P,Ae=[ue.x-pe*(ue.x-Y.x),ue.y-pe*(ue.y-Y.y)];break}var At=p.unproject(oe(Ae));return we([At.lat+Pe.lat,At.lng+Pe.lng])}var vv={__proto__:null,simplify:Ah,pointToSegmentDistance:Th,closestPointOnSegment:pv,clipSegment:Nh,_getEdgeIntersection:cc,_getBitCode:co,_sqClosestPointOnSegment:Xa,isFlat:Vi,_flat:uc,polylineCenter:Vo},dc={project:function(u){return new te(u.lng,u.lat)},unproject:function(u){return new Re(u.y,u.x)},bounds:new K([-180,-90],[180,90])},fc={R:6378137,R_MINOR:6356752314245179e-9,bounds:new K([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(u){var p=Math.PI/180,w=this.R,T=u.lat*p,P=this.R_MINOR/w,B=Math.sqrt(1-P*P),Y=B*Math.sin(T),ue=Math.tan(Math.PI/4-T/2)/Math.pow((1-Y)/(1+Y),B/2);return T=-w*Math.log(Math.max(ue,1e-10)),new te(u.lng*p*w,T)},unproject:function(u){for(var p=180/Math.PI,w=this.R,T=this.R_MINOR/w,P=Math.sqrt(1-T*T),B=Math.exp(-u.y/w),Y=Math.PI/2-2*Math.atan(B),ue=0,pe=.1,Ae;ue<15&&Math.abs(pe)>1e-7;ue++)Ae=P*Math.sin(Y),Ae=Math.pow((1-Ae)/(1+Ae),P/2),pe=Math.PI/2-2*Math.atan(B*Ae)-Y,Y+=pe;return new Re(Y*p,u.x*p/w)}},Oh={__proto__:null,LonLat:dc,Mercator:fc,SphericalMercator:De},Ph=s({},Le,{code:"EPSG:3395",projection:fc,transformation:(function(){var u=.5/(Math.PI*fc.R);return Ze(u,.5,-u,.5)})()}),td=s({},Le,{code:"EPSG:4326",projection:dc,transformation:Ze(1/180,1,-1/180,.5)}),$o=s({},Se,{projection:dc,transformation:Ze(1,0,-1,0),scale:function(u){return Math.pow(2,u)},zoom:function(u){return Math.log(u)/Math.LN2},distance:function(u,p){var w=p.lng-u.lng,T=p.lat-u.lat;return Math.sqrt(w*w+T*T)},infinite:!0});Se.Earth=Le,Se.EPSG3395=Ph,Se.EPSG3857=St,Se.EPSG900913=vt,Se.EPSG4326=td,Se.Simple=$o;var as=W.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(u){return u.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(u){return u&&u.removeLayer(this),this},getPane:function(u){return this._map.getPane(u?this.options[u]||u:this.options.pane)},addInteractiveTarget:function(u){return this._map._targets[d(u)]=this,this},removeInteractiveTarget:function(u){return delete this._map._targets[d(u)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(u){var p=u.target;if(p.hasLayer(this)){if(this._map=p,this._zoomAnimated=p._zoomAnimated,this.getEvents){var w=this.getEvents();p.on(w,this),this.once("remove",function(){p.off(w,this)},this)}this.onAdd(p),this.fire("add"),p.fire("layeradd",{layer:this})}}});bt.include({addLayer:function(u){if(!u._layerAdd)throw new Error("The provided object is not a Layer.");var p=d(u);return this._layers[p]?this:(this._layers[p]=u,u._mapToAdd=this,u.beforeAdd&&u.beforeAdd(this),this.whenReady(u._layerAdd,u),this)},removeLayer:function(u){var p=d(u);return this._layers[p]?(this._loaded&&u.onRemove(this),delete this._layers[p],this._loaded&&(this.fire("layerremove",{layer:u}),u.fire("remove")),u._map=u._mapToAdd=null,this):this},hasLayer:function(u){return d(u)in this._layers},eachLayer:function(u,p){for(var w in this._layers)u.call(p,this._layers[w]);return this},_addLayers:function(u){u=u?O(u)?u:[u]:[];for(var p=0,w=u.length;p<w;p++)this.addLayer(u[p])},_addZoomLimit:function(u){(!isNaN(u.options.maxZoom)||!isNaN(u.options.minZoom))&&(this._zoomBoundLayers[d(u)]=u,this._updateZoomLevels())},_removeZoomLimit:function(u){var p=d(u);this._zoomBoundLayers[p]&&(delete this._zoomBoundLayers[p],this._updateZoomLevels())},_updateZoomLevels:function(){var u=1/0,p=-1/0,w=this._getZoomSpan();for(var T in this._zoomBoundLayers){var P=this._zoomBoundLayers[T].options;u=P.minZoom===void 0?u:Math.min(u,P.minZoom),p=P.maxZoom===void 0?p:Math.max(p,P.maxZoom)}this._layersMaxZoom=p===-1/0?void 0:p,this._layersMinZoom=u===1/0?void 0:u,w!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ho=as.extend({initialize:function(u,p){E(this,p),this._layers={};var w,T;if(u)for(w=0,T=u.length;w<T;w++)this.addLayer(u[w])},addLayer:function(u){var p=this.getLayerId(u);return this._layers[p]=u,this._map&&this._map.addLayer(u),this},removeLayer:function(u){var p=u in this._layers?u:this.getLayerId(u);return this._map&&this._layers[p]&&this._map.removeLayer(this._layers[p]),delete this._layers[p],this},hasLayer:function(u){var p=typeof u=="number"?u:this.getLayerId(u);return p in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(u){var p=Array.prototype.slice.call(arguments,1),w,T;for(w in this._layers)T=this._layers[w],T[u]&&T[u].apply(T,p);return this},onAdd:function(u){this.eachLayer(u.addLayer,u)},onRemove:function(u){this.eachLayer(u.removeLayer,u)},eachLayer:function(u,p){for(var w in this._layers)u.call(p,this._layers[w]);return this},getLayer:function(u){return this._layers[u]},getLayers:function(){var u=[];return this.eachLayer(u.push,u),u},setZIndex:function(u){return this.invoke("setZIndex",u)},getLayerId:function(u){return d(u)}}),yv=function(u,p){return new Ho(u,p)},ks=Ho.extend({addLayer:function(u){return this.hasLayer(u)?this:(u.addEventParent(this),Ho.prototype.addLayer.call(this,u),this.fire("layeradd",{layer:u}))},removeLayer:function(u){return this.hasLayer(u)?(u in this._layers&&(u=this._layers[u]),u.removeEventParent(this),Ho.prototype.removeLayer.call(this,u),this.fire("layerremove",{layer:u})):this},setStyle:function(u){return this.invoke("setStyle",u)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var u=new be;for(var p in this._layers){var w=this._layers[p];u.extend(w.getBounds?w.getBounds():w.getLatLng())}return u}}),Mh=function(u,p){return new ks(u,p)},Ns=re.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(u){E(this,u)},createIcon:function(u){return this._createIcon("icon",u)},createShadow:function(u){return this._createIcon("shadow",u)},_createIcon:function(u,p){var w=this._getIconUrl(u);if(!w){if(u==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var T=this._createImg(w,p&&p.tagName==="IMG"?p:null);return this._setIconStyles(T,u),(this.options.crossOrigin||this.options.crossOrigin==="")&&(T.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),T},_setIconStyles:function(u,p){var w=this.options,T=w[p+"Size"];typeof T=="number"&&(T=[T,T]);var P=oe(T),B=oe(p==="shadow"&&w.shadowAnchor||w.iconAnchor||P&&P.divideBy(2,!0));u.className="leaflet-marker-"+p+" "+(w.className||""),B&&(u.style.marginLeft=-B.x+"px",u.style.marginTop=-B.y+"px"),P&&(u.style.width=P.x+"px",u.style.height=P.y+"px")},_createImg:function(u,p){return p=p||document.createElement("img"),p.src=u,p},_getIconUrl:function(u){return Ie.retina&&this.options[u+"RetinaUrl"]||this.options[u+"Url"]}});function Qa(u){return new Ns(u)}var Ja=Ns.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(u){return typeof Ja.imagePath!="string"&&(Ja.imagePath=this._detectIconPath()),(this.options.imagePath||Ja.imagePath)+Ns.prototype._getIconUrl.call(this,u)},_stripUrl:function(u){var p=function(w,T,P){var B=T.exec(w);return B&&B[P]};return u=p(u,/^url\((['"])?(.+)\1\)$/,2),u&&p(u,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var u=ft("div","leaflet-default-icon-path",document.body),p=so(u,"background-image")||so(u,"backgroundImage");if(document.body.removeChild(u),p=this._stripUrl(p),p)return p;var w=document.querySelector('link[href$="leaflet.css"]');return w?w.href.substring(0,w.href.length-11-1):""}}),el=Rs.extend({initialize:function(u){this._marker=u},addHooks:function(){var u=this._marker._icon;this._draggable||(this._draggable=new Tr(u,u,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Q(u,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ge(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(u){var p=this._marker,w=p._map,T=this._marker.options.autoPanSpeed,P=this._marker.options.autoPanPadding,B=dt(p._icon),Y=w.getPixelBounds(),ue=w.getPixelOrigin(),pe=ce(Y.min._subtract(ue).add(P),Y.max._subtract(ue).subtract(P));if(!pe.contains(B)){var Ae=oe((Math.max(pe.max.x,B.x)-pe.max.x)/(Y.max.x-pe.max.x)-(Math.min(pe.min.x,B.x)-pe.min.x)/(Y.min.x-pe.min.x),(Math.max(pe.max.y,B.y)-pe.max.y)/(Y.max.y-pe.max.y)-(Math.min(pe.min.y,B.y)-pe.min.y)/(Y.min.y-pe.min.y)).multiplyBy(T);w.panBy(Ae,{animate:!1}),this._draggable._newPos._add(Ae),this._draggable._startPos._add(Ae),qe(p._icon,this._draggable._newPos),this._onDrag(u),this._panRequest=q(this._adjustPan.bind(this,u))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(u){this._marker.options.autoPan&&(X(this._panRequest),this._panRequest=q(this._adjustPan.bind(this,u)))},_onDrag:function(u){var p=this._marker,w=p._shadow,T=dt(p._icon),P=p._map.layerPointToLatLng(T);w&&qe(w,T),p._latlng=P,u.latlng=P,u.oldLatLng=this._oldLatLng,p.fire("move",u).fire("drag",u)},_onDragEnd:function(u){X(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",u)}}),tl=as.extend({options:{icon:new Ja,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(u,p){E(this,p),this._latlng=we(u)},onAdd:function(u){this._zoomAnimated=this._zoomAnimated&&u.options.markerZoomAnimation,this._zoomAnimated&&u.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(u){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&u.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(u){var p=this._latlng;return this._latlng=we(u),this.update(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},setZIndexOffset:function(u){return this.options.zIndexOffset=u,this.update()},getIcon:function(){return this.options.icon},setIcon:function(u){return this.options.icon=u,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var u=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(u)}return this},_initIcon:function(){var u=this.options,p="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),w=u.icon.createIcon(this._icon),T=!1;w!==this._icon&&(this._icon&&this._removeIcon(),T=!0,u.title&&(w.title=u.title),w.tagName==="IMG"&&(w.alt=u.alt||"")),Q(w,p),u.keyboard&&(w.tabIndex="0",w.setAttribute("role","button")),this._icon=w,u.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&tt(w,"focus",this._panOnFocus,this);var P=u.icon.createShadow(this._shadow),B=!1;P!==this._shadow&&(this._removeShadow(),B=!0),P&&(Q(P,p),P.alt=""),this._shadow=P,u.opacity<1&&this._updateOpacity(),T&&this.getPane().appendChild(this._icon),this._initInteraction(),P&&B&&this.getPane(u.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&jt(this._icon,"focus",this._panOnFocus,this),F(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&F(this._shadow),this._shadow=null},_setPos:function(u){this._icon&&qe(this._icon,u),this._shadow&&qe(this._shadow,u),this._zIndex=u.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(u){this._icon&&(this._icon.style.zIndex=this._zIndex+u)},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center).round();this._setPos(p)},_initInteraction:function(){if(this.options.interactive&&(Q(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),el)){var u=this.options.draggable;this.dragging&&(u=this.dragging.enabled(),this.dragging.disable()),this.dragging=new el(this),u&&this.dragging.enable()}},setOpacity:function(u){return this.options.opacity=u,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var u=this.options.opacity;this._icon&&Ee(this._icon,u),this._shadow&&Ee(this._shadow,u)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var u=this._map;if(u){var p=this.options.icon.options,w=p.iconSize?oe(p.iconSize):oe(0,0),T=p.iconAnchor?oe(p.iconAnchor):oe(0,0);u.panInside(this._latlng,{paddingTopLeft:T,paddingBottomRight:w.subtract(T)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Dh(u,p){return new tl(u,p)}var Os=as.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(u){this._renderer=u.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(u){return E(this,u),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&u&&Object.prototype.hasOwnProperty.call(u,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Go=Os.extend({options:{fill:!0,radius:10},initialize:function(u,p){E(this,p),this._latlng=we(u),this._radius=this.options.radius},setLatLng:function(u){var p=this._latlng;return this._latlng=we(u),this.redraw(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(u){return this.options.radius=this._radius=u,this.redraw()},getRadius:function(){return this._radius},setStyle:function(u){var p=u&&u.radius||this._radius;return Os.prototype.setStyle.call(this,u),this.setRadius(p),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var u=this._radius,p=this._radiusY||u,w=this._clickTolerance(),T=[u+w,p+w];this._pxBounds=new K(this._point.subtract(T),this._point.add(T))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(u){return u.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Lh(u,p){return new Go(u,p)}var hc=Go.extend({initialize:function(u,p,w){if(typeof p=="number"&&(p=s({},w,{radius:p})),E(this,p),this._latlng=we(u),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(u){return this._mRadius=u,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var u=[this._radius,this._radiusY||this._radius];return new be(this._map.layerPointToLatLng(this._point.subtract(u)),this._map.layerPointToLatLng(this._point.add(u)))},setStyle:Os.prototype.setStyle,_project:function(){var u=this._latlng.lng,p=this._latlng.lat,w=this._map,T=w.options.crs;if(T.distance===Le.distance){var P=Math.PI/180,B=this._mRadius/Le.R/P,Y=w.project([p+B,u]),ue=w.project([p-B,u]),pe=Y.add(ue).divideBy(2),Ae=w.unproject(pe).lat,Pe=Math.acos((Math.cos(B*P)-Math.sin(p*P)*Math.sin(Ae*P))/(Math.cos(p*P)*Math.cos(Ae*P)))/P;(isNaN(Pe)||Pe===0)&&(Pe=B/Math.cos(Math.PI/180*p)),this._point=pe.subtract(w.getPixelOrigin()),this._radius=isNaN(Pe)?0:pe.x-w.project([Ae,u-Pe]).x,this._radiusY=pe.y-Y.y}else{var Ge=T.unproject(T.project(this._latlng).subtract([this._mRadius,0]));this._point=w.latLngToLayerPoint(this._latlng),this._radius=this._point.x-w.latLngToLayerPoint(Ge).x}this._updateBounds()}});function jh(u,p,w){return new hc(u,p,w)}var er=Os.extend({options:{smoothFactor:1,noClip:!1},initialize:function(u,p){E(this,p),this._setLatLngs(u)},getLatLngs:function(){return this._latlngs},setLatLngs:function(u){return this._setLatLngs(u),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(u){for(var p=1/0,w=null,T=Xa,P,B,Y=0,ue=this._parts.length;Y<ue;Y++)for(var pe=this._parts[Y],Ae=1,Pe=pe.length;Ae<Pe;Ae++){P=pe[Ae-1],B=pe[Ae];var Ge=T(u,P,B,!0);Ge<p&&(p=Ge,w=T(u,P,B))}return w&&(w.distance=Math.sqrt(p)),w},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Vo(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(u,p){return p=p||this._defaultShape(),u=we(u),p.push(u),this._bounds.extend(u),this.redraw()},_setLatLngs:function(u){this._bounds=new be,this._latlngs=this._convertLatLngs(u)},_defaultShape:function(){return Vi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(u){for(var p=[],w=Vi(u),T=0,P=u.length;T<P;T++)w?(p[T]=we(u[T]),this._bounds.extend(p[T])):p[T]=this._convertLatLngs(u[T]);return p},_project:function(){var u=new K;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,u),this._bounds.isValid()&&u.isValid()&&(this._rawPxBounds=u,this._updateBounds())},_updateBounds:function(){var u=this._clickTolerance(),p=new te(u,u);this._rawPxBounds&&(this._pxBounds=new K([this._rawPxBounds.min.subtract(p),this._rawPxBounds.max.add(p)]))},_projectLatlngs:function(u,p,w){var T=u[0]instanceof Re,P=u.length,B,Y;if(T){for(Y=[],B=0;B<P;B++)Y[B]=this._map.latLngToLayerPoint(u[B]),w.extend(Y[B]);p.push(Y)}else for(B=0;B<P;B++)this._projectLatlngs(u[B],p,w)},_clipPoints:function(){var u=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}var p=this._parts,w,T,P,B,Y,ue,pe;for(w=0,P=0,B=this._rings.length;w<B;w++)for(pe=this._rings[w],T=0,Y=pe.length;T<Y-1;T++)ue=Nh(pe[T],pe[T+1],u,T,!0),ue&&(p[P]=p[P]||[],p[P].push(ue[0]),(ue[1]!==pe[T+1]||T===Y-2)&&(p[P].push(ue[1]),P++))}},_simplifyPoints:function(){for(var u=this._parts,p=this.options.smoothFactor,w=0,T=u.length;w<T;w++)u[w]=Ah(u[w],p)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(u,p){var w,T,P,B,Y,ue,pe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(w=0,B=this._parts.length;w<B;w++)for(ue=this._parts[w],T=0,Y=ue.length,P=Y-1;T<Y;P=T++)if(!(!p&&T===0)&&Th(u,ue[P],ue[T])<=pe)return!0;return!1}});function bv(u,p){return new er(u,p)}er._flat=uc;var Ko=er.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Eh(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(u){var p=er.prototype._convertLatLngs.call(this,u),w=p.length;return w>=2&&p[0]instanceof Re&&p[0].equals(p[w-1])&&p.pop(),p},_setLatLngs:function(u){er.prototype._setLatLngs.call(this,u),Vi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Vi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var u=this._renderer._bounds,p=this.options.weight,w=new te(p,p);if(u=new K(u.min.subtract(w),u.max.add(w)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}for(var T=0,P=this._rings.length,B;T<P;T++)B=Ch(this._rings[T],u,!0),B.length&&this._parts.push(B)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(u){var p=!1,w,T,P,B,Y,ue,pe,Ae;if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(B=0,pe=this._parts.length;B<pe;B++)for(w=this._parts[B],Y=0,Ae=w.length,ue=Ae-1;Y<Ae;ue=Y++)T=w[Y],P=w[ue],T.y>u.y!=P.y>u.y&&u.x<(P.x-T.x)*(u.y-T.y)/(P.y-T.y)+T.x&&(p=!p);return p||er.prototype._containsPoint.call(this,u,!0)}});function xv(u,p){return new Ko(u,p)}var tr=ks.extend({initialize:function(u,p){E(this,p),this._layers={},u&&this.addData(u)},addData:function(u){var p=O(u)?u:u.features,w,T,P;if(p){for(w=0,T=p.length;w<T;w++)P=p[w],(P.geometries||P.geometry||P.features||P.coordinates)&&this.addData(P);return this}var B=this.options;if(B.filter&&!B.filter(u))return this;var Y=Jn(u,B);return Y?(Y.feature=gc(u),Y.defaultOptions=Y.options,this.resetStyle(Y),B.onEachFeature&&B.onEachFeature(u,Y),this.addLayer(Y)):this},resetStyle:function(u){return u===void 0?this.eachLayer(this.resetStyle,this):(u.options=s({},u.defaultOptions),this._setLayerStyle(u,this.options.style),this)},setStyle:function(u){return this.eachLayer(function(p){this._setLayerStyle(p,u)},this)},_setLayerStyle:function(u,p){u.setStyle&&(typeof p=="function"&&(p=p(u.feature)),u.setStyle(p))}});function Jn(u,p){var w=u.type==="Feature"?u.geometry:u,T=w?w.coordinates:null,P=[],B=p&&p.pointToLayer,Y=p&&p.coordsToLatLng||pc,ue,pe,Ae,Pe;if(!T&&!w)return null;switch(w.type){case"Point":return ue=Y(T),qo(B,u,ue,p);case"MultiPoint":for(Ae=0,Pe=T.length;Ae<Pe;Ae++)ue=Y(T[Ae]),P.push(qo(B,u,ue,p));return new ks(P);case"LineString":case"MultiLineString":return pe=nl(T,w.type==="LineString"?0:1,Y),new er(pe,p);case"Polygon":case"MultiPolygon":return pe=nl(T,w.type==="Polygon"?1:2,Y),new Ko(pe,p);case"GeometryCollection":for(Ae=0,Pe=w.geometries.length;Ae<Pe;Ae++){var Ge=Jn({geometry:w.geometries[Ae],type:"Feature",properties:u.properties},p);Ge&&P.push(Ge)}return new ks(P);case"FeatureCollection":for(Ae=0,Pe=w.features.length;Ae<Pe;Ae++){var ct=Jn(w.features[Ae],p);ct&&P.push(ct)}return new ks(P);default:throw new Error("Invalid GeoJSON object.")}}function qo(u,p,w,T){return u?u(p,w):new tl(w,T&&T.markersInheritOptions&&T)}function pc(u){return new Re(u[1],u[0],u[2])}function nl(u,p,w){for(var T=[],P=0,B=u.length,Y;P<B;P++)Y=p?nl(u[P],p-1,w):(w||pc)(u[P]),T.push(Y);return T}function mc(u,p){return u=we(u),u.alt!==void 0?[b(u.lng,p),b(u.lat,p),b(u.alt,p)]:[b(u.lng,p),b(u.lat,p)]}function il(u,p,w,T){for(var P=[],B=0,Y=u.length;B<Y;B++)P.push(p?il(u[B],Vi(u[B])?0:p-1,w,T):mc(u[B],T));return!p&&w&&P.length>0&&P.push(P[0].slice()),P}function Rr(u,p){return u.feature?s({},u.feature,{geometry:p}):gc(p)}function gc(u){return u.type==="Feature"||u.type==="FeatureCollection"?u:{type:"Feature",properties:{},geometry:u}}var kr={toGeoJSON:function(u){return Rr(this,{type:"Point",coordinates:mc(this.getLatLng(),u)})}};tl.include(kr),hc.include(kr),Go.include(kr),er.include({toGeoJSON:function(u){var p=!Vi(this._latlngs),w=il(this._latlngs,p?1:0,!1,u);return Rr(this,{type:(p?"Multi":"")+"LineString",coordinates:w})}}),Ko.include({toGeoJSON:function(u){var p=!Vi(this._latlngs),w=p&&!Vi(this._latlngs[0]),T=il(this._latlngs,w?2:p?1:0,!0,u);return p||(T=[T]),Rr(this,{type:(w?"Multi":"")+"Polygon",coordinates:T})}}),Ho.include({toMultiPoint:function(u){var p=[];return this.eachLayer(function(w){p.push(w.toGeoJSON(u).geometry.coordinates)}),Rr(this,{type:"MultiPoint",coordinates:p})},toGeoJSON:function(u){var p=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(p==="MultiPoint")return this.toMultiPoint(u);var w=p==="GeometryCollection",T=[];return this.eachLayer(function(P){if(P.toGeoJSON){var B=P.toGeoJSON(u);if(w)T.push(B.geometry);else{var Y=gc(B);Y.type==="FeatureCollection"?T.push.apply(T,Y.features):T.push(Y)}}}),w?Rr(this,{geometries:T,type:"GeometryCollection"}):{type:"FeatureCollection",features:T}}});function vc(u,p){return new tr(u,p)}var sl=vc,Wo=as.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(u,p,w){this._url=u,this._bounds=xe(p),E(this,w)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Q(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){F(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(u){return this.options.opacity=u,this._image&&this._updateOpacity(),this},setStyle:function(u){return u.opacity&&this.setOpacity(u.opacity),this},bringToFront:function(){return this._map&&H(this._image),this},bringToBack:function(){return this._map&&se(this._image),this},setUrl:function(u){return this._url=u,this._image&&(this._image.src=u),this},setBounds:function(u){return this._bounds=xe(u),this._map&&this._reset(),this},getEvents:function(){var u={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var u=this._url.tagName==="IMG",p=this._image=u?this._url:ft("img");if(Q(p,"leaflet-image-layer"),this._zoomAnimated&&Q(p,"leaflet-zoom-animated"),this.options.className&&Q(p,this.options.className),p.onselectstart=v,p.onmousemove=v,p.onload=l(this.fire,this,"load"),p.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),u){this._url=p.src;return}p.src=this._url,p.alt=this.options.alt},_animateZoom:function(u){var p=this._map.getZoomScale(u.zoom),w=this._map._latLngBoundsToNewLayerBounds(this._bounds,u.zoom,u.center).min;Je(this._image,w,p)},_reset:function(){var u=this._image,p=new K(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),w=p.getSize();qe(u,p.min),u.style.width=w.x+"px",u.style.height=w.y+"px"},_updateOpacity:function(){Ee(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var u=this.options.errorOverlayUrl;u&&this._url!==u&&(this._url=u,this._image.src=u)},getCenter:function(){return this._bounds.getCenter()}}),Ih=function(u,p,w){return new Wo(u,p,w)},Nr=Wo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var u=this._url.tagName==="VIDEO",p=this._image=u?this._url:ft("video");if(Q(p,"leaflet-image-layer"),this._zoomAnimated&&Q(p,"leaflet-zoom-animated"),this.options.className&&Q(p,this.options.className),p.onselectstart=v,p.onmousemove=v,p.onloadeddata=l(this.fire,this,"load"),u){for(var w=p.getElementsByTagName("source"),T=[],P=0;P<w.length;P++)T.push(w[P].src);this._url=w.length>0?T:[p.src];return}O(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(p.style,"objectFit")&&(p.style.objectFit="fill"),p.autoplay=!!this.options.autoplay,p.loop=!!this.options.loop,p.muted=!!this.options.muted,p.playsInline=!!this.options.playsInline;for(var B=0;B<this._url.length;B++){var Y=ft("source");Y.src=this._url[B],p.appendChild(Y)}}});function Yo(u,p,w){return new Nr(u,p,w)}var yc=Wo.extend({_initImage:function(){var u=this._image=this._url;Q(u,"leaflet-image-layer"),this._zoomAnimated&&Q(u,"leaflet-zoom-animated"),this.options.className&&Q(u,this.options.className),u.onselectstart=v,u.onmousemove=v}});function zh(u,p,w){return new yc(u,p,w)}var ei=as.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(u,p){u&&(u instanceof Re||O(u))?(this._latlng=we(u),E(this,p)):(E(this,u),this._source=p),this.options.content&&(this._content=this.options.content)},openOn:function(u){return u=arguments.length?u:this._source._map,u.hasLayer(this)||u.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(u){return this._map?this.close():(arguments.length?this._source=u:u=this._source,this._prepareOpen(),this.openOn(u._map)),this},onAdd:function(u){this._zoomAnimated=u._zoomAnimated,this._container||this._initLayout(),u._fadeAnimated&&Ee(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),u._fadeAnimated&&Ee(this._container,1),this.bringToFront(),this.options.interactive&&(Q(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(u){u._fadeAnimated?(Ee(this._container,0),this._removeTimeout=setTimeout(l(F,void 0,this._container),200)):F(this._container),this.options.interactive&&(ge(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(u){return this._latlng=we(u),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(u){return this._content=u,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var u={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&H(this._container),this},bringToBack:function(){return this._map&&se(this._container),this},_prepareOpen:function(u){var p=this._source;if(!p._map)return!1;if(p instanceof ks){p=null;var w=this._source._layers;for(var T in w)if(w[T]._map){p=w[T];break}if(!p)return!1;this._source=p}if(!u)if(p.getCenter)u=p.getCenter();else if(p.getLatLng)u=p.getLatLng();else if(p.getBounds)u=p.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(u),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var u=this._contentNode,p=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof p=="string")u.innerHTML=p;else{for(;u.hasChildNodes();)u.removeChild(u.firstChild);u.appendChild(p)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var u=this._map.latLngToLayerPoint(this._latlng),p=oe(this.options.offset),w=this._getAnchor();this._zoomAnimated?qe(this._container,u.add(w)):p=p.add(u).add(w);var T=this._containerBottom=-p.y,P=this._containerLeft=-Math.round(this._containerWidth/2)+p.x;this._container.style.bottom=T+"px",this._container.style.left=P+"px"}},_getAnchor:function(){return[0,0]}});bt.include({_initOverlay:function(u,p,w,T){var P=p;return P instanceof u||(P=new u(T).setContent(p)),w&&P.setLatLng(w),P}}),as.include({_initOverlay:function(u,p,w,T){var P=w;return P instanceof u?(E(P,T),P._source=this):(P=p&&!T?p:new u(T,this),P.setContent(w)),P}});var rl=ei.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(u){return u=arguments.length?u:this._source._map,!u.hasLayer(this)&&u._popup&&u._popup.options.autoClose&&u.removeLayer(u._popup),u._popup=this,ei.prototype.openOn.call(this,u)},onAdd:function(u){ei.prototype.onAdd.call(this,u),u.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Os||this._source.on("preclick",os))},onRemove:function(u){ei.prototype.onRemove.call(this,u),u.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Os||this._source.off("preclick",os))},getEvents:function(){var u=ei.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(u.preclick=this.close),this.options.keepInView&&(u.moveend=this._adjustPan),u},_initLayout:function(){var u="leaflet-popup",p=this._container=ft("div",u+" "+(this.options.className||"")+" leaflet-zoom-animated"),w=this._wrapper=ft("div",u+"-content-wrapper",p);if(this._contentNode=ft("div",u+"-content",w),lo(p),Ts(this._contentNode),tt(p,"contextmenu",os),this._tipContainer=ft("div",u+"-tip-container",p),this._tip=ft("div",u+"-tip",this._tipContainer),this.options.closeButton){var T=this._closeButton=ft("a",u+"-close-button",p);T.setAttribute("role","button"),T.setAttribute("aria-label","Close popup"),T.href="#close",T.innerHTML='<span aria-hidden="true">&#215;</span>',tt(T,"click",function(P){mn(P),this.close()},this)}},_updateLayout:function(){var u=this._contentNode,p=u.style;p.width="",p.whiteSpace="nowrap";var w=u.offsetWidth;w=Math.min(w,this.options.maxWidth),w=Math.max(w,this.options.minWidth),p.width=w+1+"px",p.whiteSpace="",p.height="";var T=u.offsetHeight,P=this.options.maxHeight,B="leaflet-popup-scrolled";P&&T>P?(p.height=P+"px",Q(u,B)):ge(u,B),this._containerWidth=this._container.offsetWidth},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center),w=this._getAnchor();qe(this._container,p.add(w))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var u=this._map,p=parseInt(so(this._container,"marginBottom"),10)||0,w=this._container.offsetHeight+p,T=this._containerWidth,P=new te(this._containerLeft,-w-this._containerBottom);P._add(dt(this._container));var B=u.layerPointToContainerPoint(P),Y=oe(this.options.autoPanPadding),ue=oe(this.options.autoPanPaddingTopLeft||Y),pe=oe(this.options.autoPanPaddingBottomRight||Y),Ae=u.getSize(),Pe=0,Ge=0;B.x+T+pe.x>Ae.x&&(Pe=B.x+T-Ae.x+pe.x),B.x-Pe-ue.x<0&&(Pe=B.x-ue.x),B.y+w+pe.y>Ae.y&&(Ge=B.y+w-Ae.y+pe.y),B.y-Ge-ue.y<0&&(Ge=B.y-ue.y),(Pe||Ge)&&(this.options.keepInView&&(this._autopanning=!0),u.fire("autopanstart").panBy([Pe,Ge]))}},_getAnchor:function(){return oe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Bh=function(u,p){return new rl(u,p)};bt.mergeOptions({closePopupOnClick:!0}),bt.include({openPopup:function(u,p,w){return this._initOverlay(rl,u,p,w).openOn(this),this},closePopup:function(u){return u=arguments.length?u:this._popup,u&&u.close(),this}}),as.include({bindPopup:function(u,p){return this._popup=this._initOverlay(rl,this._popup,u,p),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(u){return this._popup&&(this instanceof ks||(this._popup._source=this),this._popup._prepareOpen(u||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(u){return this._popup&&this._popup.setContent(u),this},getPopup:function(){return this._popup},_openPopup:function(u){if(!(!this._popup||!this._map)){Ar(u);var p=u.layer||u.target;if(this._popup._source===p&&!(p instanceof Os)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(u.latlng);return}this._popup._source=p,this.openPopup(u.latlng)}},_movePopup:function(u){this._popup.setLatLng(u.latlng)},_onKeyPress:function(u){u.originalEvent.keyCode===13&&this._openPopup(u)}});var ol=ei.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(u){ei.prototype.onAdd.call(this,u),this.setOpacity(this.options.opacity),u.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(u){ei.prototype.onRemove.call(this,u),u.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var u=ei.prototype.getEvents.call(this);return this.options.permanent||(u.preclick=this.close),u},_initLayout:function(){var u="leaflet-tooltip",p=u+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ft("div",p),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(u){var p,w,T=this._map,P=this._container,B=T.latLngToContainerPoint(T.getCenter()),Y=T.layerPointToContainerPoint(u),ue=this.options.direction,pe=P.offsetWidth,Ae=P.offsetHeight,Pe=oe(this.options.offset),Ge=this._getAnchor();ue==="top"?(p=pe/2,w=Ae):ue==="bottom"?(p=pe/2,w=0):ue==="center"?(p=pe/2,w=Ae/2):ue==="right"?(p=0,w=Ae/2):ue==="left"?(p=pe,w=Ae/2):Y.x<B.x?(ue="right",p=0,w=Ae/2):(ue="left",p=pe+(Pe.x+Ge.x)*2,w=Ae/2),u=u.subtract(oe(p,w,!0)).add(Pe).add(Ge),ge(P,"leaflet-tooltip-right"),ge(P,"leaflet-tooltip-left"),ge(P,"leaflet-tooltip-top"),ge(P,"leaflet-tooltip-bottom"),Q(P,"leaflet-tooltip-"+ue),qe(P,u)},_updatePosition:function(){var u=this._map.latLngToLayerPoint(this._latlng);this._setPosition(u)},setOpacity:function(u){this.options.opacity=u,this._container&&Ee(this._container,u)},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center);this._setPosition(p)},_getAnchor:function(){return oe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),_v=function(u,p){return new ol(u,p)};bt.include({openTooltip:function(u,p,w){return this._initOverlay(ol,u,p,w).openOn(this),this},closeTooltip:function(u){return u.close(),this}}),as.include({bindTooltip:function(u,p){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ol,this._tooltip,u,p),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(u){if(!(!u&&this._tooltipHandlersAdded)){var p=u?"off":"on",w={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?w.add=this._openTooltip:(w.mouseover=this._openTooltip,w.mouseout=this.closeTooltip,w.click=this._openTooltip,this._map?this._addFocusListeners():w.add=this._addFocusListeners),this._tooltip.options.sticky&&(w.mousemove=this._moveTooltip),this[p](w),this._tooltipHandlersAdded=!u}},openTooltip:function(u){return this._tooltip&&(this instanceof ks||(this._tooltip._source=this),this._tooltip._prepareOpen(u)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(u){return this._tooltip&&this._tooltip.setContent(u),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(u){var p=typeof u.getElement=="function"&&u.getElement();p&&(tt(p,"focus",function(){this._tooltip._source=u,this.openTooltip()},this),tt(p,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(u){var p=typeof u.getElement=="function"&&u.getElement();p&&p.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(u){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var p=this;this._map.once("moveend",function(){p._openOnceFlag=!1,p._openTooltip(u)});return}this._tooltip._source=u.layer||u.target,this.openTooltip(this._tooltip.options.sticky?u.latlng:void 0)}},_moveTooltip:function(u){var p=u.latlng,w,T;this._tooltip.options.sticky&&u.originalEvent&&(w=this._map.mouseEventToContainerPoint(u.originalEvent),T=this._map.containerPointToLayerPoint(w),p=this._map.layerPointToLatLng(T)),this._tooltip.setLatLng(p)}});var Uh=Ns.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(u){var p=u&&u.tagName==="DIV"?u:document.createElement("div"),w=this.options;if(w.html instanceof Element?(J(p),p.appendChild(w.html)):p.innerHTML=w.html!==!1?w.html:"",w.bgPos){var T=oe(w.bgPos);p.style.backgroundPosition=-T.x+"px "+-T.y+"px"}return this._setIconStyles(p,"icon"),p},createShadow:function(){return null}});function wv(u){return new Uh(u)}Ns.Default=Ja;var Zo=as.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ie.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(u){E(this,u)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(u){u._addZoomLimit(this)},onRemove:function(u){this._removeAllTiles(),F(this._container),u._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(H(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(se(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(u){return this.options.opacity=u,this._updateOpacity(),this},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var u=this._clampZoom(this._map.getZoom());u!==this._tileZoom&&(this._tileZoom=u,this._updateLevels()),this._update()}return this},getEvents:function(){var u={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),u.move=this._onMove),this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},createTile:function(){return document.createElement("div")},getTileSize:function(){var u=this.options.tileSize;return u instanceof te?u:new te(u,u)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(u){for(var p=this.getPane().children,w=-u(-1/0,1/0),T=0,P=p.length,B;T<P;T++)B=p[T].style.zIndex,p[T]!==this._container&&B&&(w=u(w,+B));isFinite(w)&&(this.options.zIndex=w+u(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ie.ielt9){Ee(this._container,this.options.opacity);var u=+new Date,p=!1,w=!1;for(var T in this._tiles){var P=this._tiles[T];if(!(!P.current||!P.loaded)){var B=Math.min(1,(u-P.loaded)/200);Ee(P.el,B),B<1?p=!0:(P.active?w=!0:this._onOpaqueTile(P),P.active=!0)}}w&&!this._noPrune&&this._pruneTiles(),p&&(X(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=ft("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var u=this._tileZoom,p=this.options.maxZoom;if(u!==void 0){for(var w in this._levels)w=Number(w),this._levels[w].el.children.length||w===u?(this._levels[w].el.style.zIndex=p-Math.abs(u-w),this._onUpdateLevel(w)):(F(this._levels[w].el),this._removeTilesAtZoom(w),this._onRemoveLevel(w),delete this._levels[w]);var T=this._levels[u],P=this._map;return T||(T=this._levels[u]={},T.el=ft("div","leaflet-tile-container leaflet-zoom-animated",this._container),T.el.style.zIndex=p,T.origin=P.project(P.unproject(P.getPixelOrigin()),u).round(),T.zoom=u,this._setZoomTransform(T,P.getCenter(),P.getZoom()),v(T.el.offsetWidth),this._onCreateLevel(T)),this._level=T,T}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var u,p,w=this._map.getZoom();if(w>this.options.maxZoom||w<this.options.minZoom){this._removeAllTiles();return}for(u in this._tiles)p=this._tiles[u],p.retain=p.current;for(u in this._tiles)if(p=this._tiles[u],p.current&&!p.active){var T=p.coords;this._retainParent(T.x,T.y,T.z,T.z-5)||this._retainChildren(T.x,T.y,T.z,T.z+2)}for(u in this._tiles)this._tiles[u].retain||this._removeTile(u)}},_removeTilesAtZoom:function(u){for(var p in this._tiles)this._tiles[p].coords.z===u&&this._removeTile(p)},_removeAllTiles:function(){for(var u in this._tiles)this._removeTile(u)},_invalidateAll:function(){for(var u in this._levels)F(this._levels[u].el),this._onRemoveLevel(Number(u)),delete this._levels[u];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(u,p,w,T){var P=Math.floor(u/2),B=Math.floor(p/2),Y=w-1,ue=new te(+P,+B);ue.z=+Y;var pe=this._tileCoordsToKey(ue),Ae=this._tiles[pe];return Ae&&Ae.active?(Ae.retain=!0,!0):(Ae&&Ae.loaded&&(Ae.retain=!0),Y>T?this._retainParent(P,B,Y,T):!1)},_retainChildren:function(u,p,w,T){for(var P=2*u;P<2*u+2;P++)for(var B=2*p;B<2*p+2;B++){var Y=new te(P,B);Y.z=w+1;var ue=this._tileCoordsToKey(Y),pe=this._tiles[ue];if(pe&&pe.active){pe.retain=!0;continue}else pe&&pe.loaded&&(pe.retain=!0);w+1<T&&this._retainChildren(P,B,w+1,T)}},_resetView:function(u){var p=u&&(u.pinch||u.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),p,p)},_animateZoom:function(u){this._setView(u.center,u.zoom,!0,u.noUpdate)},_clampZoom:function(u){var p=this.options;return p.minNativeZoom!==void 0&&u<p.minNativeZoom?p.minNativeZoom:p.maxNativeZoom!==void 0&&p.maxNativeZoom<u?p.maxNativeZoom:u},_setView:function(u,p,w,T){var P=Math.round(p);this.options.maxZoom!==void 0&&P>this.options.maxZoom||this.options.minZoom!==void 0&&P<this.options.minZoom?P=void 0:P=this._clampZoom(P);var B=this.options.updateWhenZooming&&P!==this._tileZoom;(!T||B)&&(this._tileZoom=P,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),P!==void 0&&this._update(u),w||this._pruneTiles(),this._noPrune=!!w),this._setZoomTransforms(u,p)},_setZoomTransforms:function(u,p){for(var w in this._levels)this._setZoomTransform(this._levels[w],u,p)},_setZoomTransform:function(u,p,w){var T=this._map.getZoomScale(w,u.zoom),P=u.origin.multiplyBy(T).subtract(this._map._getNewPixelOrigin(p,w)).round();Ie.any3d?Je(u.el,P,T):qe(u.el,P)},_resetGrid:function(){var u=this._map,p=u.options.crs,w=this._tileSize=this.getTileSize(),T=this._tileZoom,P=this._map.getPixelWorldBounds(this._tileZoom);P&&(this._globalTileRange=this._pxBoundsToTileRange(P)),this._wrapX=p.wrapLng&&!this.options.noWrap&&[Math.floor(u.project([0,p.wrapLng[0]],T).x/w.x),Math.ceil(u.project([0,p.wrapLng[1]],T).x/w.y)],this._wrapY=p.wrapLat&&!this.options.noWrap&&[Math.floor(u.project([p.wrapLat[0],0],T).y/w.x),Math.ceil(u.project([p.wrapLat[1],0],T).y/w.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(u){var p=this._map,w=p._animatingZoom?Math.max(p._animateToZoom,p.getZoom()):p.getZoom(),T=p.getZoomScale(w,this._tileZoom),P=p.project(u,this._tileZoom).floor(),B=p.getSize().divideBy(T*2);return new K(P.subtract(B),P.add(B))},_update:function(u){var p=this._map;if(p){var w=this._clampZoom(p.getZoom());if(u===void 0&&(u=p.getCenter()),this._tileZoom!==void 0){var T=this._getTiledPixelBounds(u),P=this._pxBoundsToTileRange(T),B=P.getCenter(),Y=[],ue=this.options.keepBuffer,pe=new K(P.getBottomLeft().subtract([ue,-ue]),P.getTopRight().add([ue,-ue]));if(!(isFinite(P.min.x)&&isFinite(P.min.y)&&isFinite(P.max.x)&&isFinite(P.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ae in this._tiles){var Pe=this._tiles[Ae].coords;(Pe.z!==this._tileZoom||!pe.contains(new te(Pe.x,Pe.y)))&&(this._tiles[Ae].current=!1)}if(Math.abs(w-this._tileZoom)>1){this._setView(u,w);return}for(var Ge=P.min.y;Ge<=P.max.y;Ge++)for(var ct=P.min.x;ct<=P.max.x;ct++){var jn=new te(ct,Ge);if(jn.z=this._tileZoom,!!this._isValidTile(jn)){var gn=this._tiles[this._tileCoordsToKey(jn)];gn?gn.current=!0:Y.push(jn)}}if(Y.sort(function(At,Tt){return At.distanceTo(B)-Tt.distanceTo(B)}),Y.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ni=document.createDocumentFragment();for(ct=0;ct<Y.length;ct++)this._addTile(Y[ct],Ni);this._level.el.appendChild(Ni)}}}},_isValidTile:function(u){var p=this._map.options.crs;if(!p.infinite){var w=this._globalTileRange;if(!p.wrapLng&&(u.x<w.min.x||u.x>w.max.x)||!p.wrapLat&&(u.y<w.min.y||u.y>w.max.y))return!1}if(!this.options.bounds)return!0;var T=this._tileCoordsToBounds(u);return xe(this.options.bounds).overlaps(T)},_keyToBounds:function(u){return this._tileCoordsToBounds(this._keyToTileCoords(u))},_tileCoordsToNwSe:function(u){var p=this._map,w=this.getTileSize(),T=u.scaleBy(w),P=T.add(w),B=p.unproject(T,u.z),Y=p.unproject(P,u.z);return[B,Y]},_tileCoordsToBounds:function(u){var p=this._tileCoordsToNwSe(u),w=new be(p[0],p[1]);return this.options.noWrap||(w=this._map.wrapLatLngBounds(w)),w},_tileCoordsToKey:function(u){return u.x+":"+u.y+":"+u.z},_keyToTileCoords:function(u){var p=u.split(":"),w=new te(+p[0],+p[1]);return w.z=+p[2],w},_removeTile:function(u){var p=this._tiles[u];p&&(F(p.el),delete this._tiles[u],this.fire("tileunload",{tile:p.el,coords:this._keyToTileCoords(u)}))},_initTile:function(u){Q(u,"leaflet-tile");var p=this.getTileSize();u.style.width=p.x+"px",u.style.height=p.y+"px",u.onselectstart=v,u.onmousemove=v,Ie.ielt9&&this.options.opacity<1&&Ee(u,this.options.opacity)},_addTile:function(u,p){var w=this._getTilePos(u),T=this._tileCoordsToKey(u),P=this.createTile(this._wrapCoords(u),l(this._tileReady,this,u));this._initTile(P),this.createTile.length<2&&q(l(this._tileReady,this,u,null,P)),qe(P,w),this._tiles[T]={el:P,coords:u,current:!0},p.appendChild(P),this.fire("tileloadstart",{tile:P,coords:u})},_tileReady:function(u,p,w){p&&this.fire("tileerror",{error:p,tile:w,coords:u});var T=this._tileCoordsToKey(u);w=this._tiles[T],w&&(w.loaded=+new Date,this._map._fadeAnimated?(Ee(w.el,0),X(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this)):(w.active=!0,this._pruneTiles()),p||(Q(w.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:w.el,coords:u})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ie.ielt9||!this._map._fadeAnimated?q(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(u){return u.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(u){var p=new te(this._wrapX?g(u.x,this._wrapX):u.x,this._wrapY?g(u.y,this._wrapY):u.y);return p.z=u.z,p},_pxBoundsToTileRange:function(u){var p=this.getTileSize();return new K(u.min.unscaleBy(p).floor(),u.max.unscaleBy(p).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var u in this._tiles)if(!this._tiles[u].loaded)return!1;return!0}});function Fh(u){return new Zo(u)}var Or=Zo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(u,p){this._url=u,p=E(this,p),p.detectRetina&&Ie.retina&&p.maxZoom>0?(p.tileSize=Math.floor(p.tileSize/2),p.zoomReverse?(p.zoomOffset--,p.minZoom=Math.min(p.maxZoom,p.minZoom+1)):(p.zoomOffset++,p.maxZoom=Math.max(p.minZoom,p.maxZoom-1)),p.minZoom=Math.max(0,p.minZoom)):p.zoomReverse?p.minZoom=Math.min(p.maxZoom,p.minZoom):p.maxZoom=Math.max(p.minZoom,p.maxZoom),typeof p.subdomains=="string"&&(p.subdomains=p.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(u,p){return this._url===u&&p===void 0&&(p=!0),this._url=u,p||this.redraw(),this},createTile:function(u,p){var w=document.createElement("img");return tt(w,"load",l(this._tileOnLoad,this,p,w)),tt(w,"error",l(this._tileOnError,this,p,w)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(w.referrerPolicy=this.options.referrerPolicy),w.alt="",w.src=this.getTileUrl(u),w},getTileUrl:function(u){var p={r:Ie.retina?"@2x":"",s:this._getSubdomain(u),x:u.x,y:u.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var w=this._globalTileRange.max.y-u.y;this.options.tms&&(p.y=w),p["-y"]=w}return k(this._url,s(p,this.options))},_tileOnLoad:function(u,p){Ie.ielt9?setTimeout(l(u,this,null,p),0):u(null,p)},_tileOnError:function(u,p,w){var T=this.options.errorTileUrl;T&&p.getAttribute("src")!==T&&(p.src=T),u(w,p)},_onTileRemove:function(u){u.tile.onload=null},_getZoomForUrl:function(){var u=this._tileZoom,p=this.options.maxZoom,w=this.options.zoomReverse,T=this.options.zoomOffset;return w&&(u=p-u),u+T},_getSubdomain:function(u){var p=Math.abs(u.x+u.y)%this.options.subdomains.length;return this.options.subdomains[p]},_abortLoading:function(){var u,p;for(u in this._tiles)if(this._tiles[u].coords.z!==this._tileZoom&&(p=this._tiles[u].el,p.onload=v,p.onerror=v,!p.complete)){p.src=j;var w=this._tiles[u].coords;F(p),delete this._tiles[u],this.fire("tileabort",{tile:p,coords:w})}},_removeTile:function(u){var p=this._tiles[u];if(p)return p.el.setAttribute("src",j),Zo.prototype._removeTile.call(this,u)},_tileReady:function(u,p,w){if(!(!this._map||w&&w.getAttribute("src")===j))return Zo.prototype._tileReady.call(this,u,p,w)}});function $i(u,p){return new Or(u,p)}var al=Or.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(u,p){this._url=u;var w=s({},this.defaultWmsParams);for(var T in p)T in this.options||(w[T]=p[T]);p=E(this,p);var P=p.detectRetina&&Ie.retina?2:1,B=this.getTileSize();w.width=B.x*P,w.height=B.y*P,this.wmsParams=w},onAdd:function(u){this._crs=this.options.crs||u.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var p=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[p]=this._crs.code,Or.prototype.onAdd.call(this,u)},getTileUrl:function(u){var p=this._tileCoordsToNwSe(u),w=this._crs,T=ce(w.project(p[0]),w.project(p[1])),P=T.min,B=T.max,Y=(this._wmsVersion>=1.3&&this._crs===td?[P.y,P.x,B.y,B.x]:[P.x,P.y,B.x,B.y]).join(","),ue=Or.prototype.getTileUrl.call(this,u);return ue+R(this.wmsParams,ue,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Y},setParams:function(u,p){return s(this.wmsParams,u),p||this.redraw(),this}});function Hi(u,p){return new al(u,p)}Or.WMS=al,$i.wms=Hi;var _i=as.extend({options:{padding:.1},initialize:function(u){E(this,u),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Q(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var u={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(u.zoomanim=this._onAnimZoom),u},_onAnimZoom:function(u){this._updateTransform(u.center,u.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(u,p){var w=this._map.getZoomScale(p,this._zoom),T=this._map.getSize().multiplyBy(.5+this.options.padding),P=this._map.project(this._center,p),B=T.multiplyBy(-w).add(P).subtract(this._map._getNewPixelOrigin(u,p));Ie.any3d?Je(this._container,B,w):qe(this._container,B)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var u in this._layers)this._layers[u]._reset()},_onZoomEnd:function(){for(var u in this._layers)this._layers[u]._project()},_updatePaths:function(){for(var u in this._layers)this._layers[u]._update()},_update:function(){var u=this.options.padding,p=this._map.getSize(),w=this._map.containerPointToLayerPoint(p.multiplyBy(-u)).round();this._bounds=new K(w,w.add(p.multiplyBy(1+u*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),bc=_i.extend({options:{tolerance:0},getEvents:function(){var u=_i.prototype.getEvents.call(this);return u.viewprereset=this._onViewPreReset,u},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){_i.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var u=this._container=document.createElement("canvas");tt(u,"mousemove",this._onMouseMove,this),tt(u,"click dblclick mousedown mouseup contextmenu",this._onClick,this),tt(u,"mouseout",this._handleMouseOut,this),u._leaflet_disable_events=!0,this._ctx=u.getContext("2d")},_destroyContainer:function(){X(this._redrawRequest),delete this._ctx,F(this._container),jt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var u;this._redrawBounds=null;for(var p in this._layers)u=this._layers[p],u._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_i.prototype._update.call(this);var u=this._bounds,p=this._container,w=u.getSize(),T=Ie.retina?2:1;qe(p,u.min),p.width=T*w.x,p.height=T*w.y,p.style.width=w.x+"px",p.style.height=w.y+"px",Ie.retina&&this._ctx.scale(2,2),this._ctx.translate(-u.min.x,-u.min.y),this.fire("update")}},_reset:function(){_i.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(u){this._updateDashArray(u),this._layers[d(u)]=u;var p=u._order={layer:u,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=p),this._drawLast=p,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(u){this._requestRedraw(u)},_removePath:function(u){var p=u._order,w=p.next,T=p.prev;w?w.prev=T:this._drawLast=T,T?T.next=w:this._drawFirst=w,delete u._order,delete this._layers[d(u)],this._requestRedraw(u)},_updatePath:function(u){this._extendRedrawBounds(u),u._project(),u._update(),this._requestRedraw(u)},_updateStyle:function(u){this._updateDashArray(u),this._requestRedraw(u)},_updateDashArray:function(u){if(typeof u.options.dashArray=="string"){var p=u.options.dashArray.split(/[, ]+/),w=[],T,P;for(P=0;P<p.length;P++){if(T=Number(p[P]),isNaN(T))return;w.push(T)}u.options._dashArray=w}else u.options._dashArray=u.options.dashArray},_requestRedraw:function(u){this._map&&(this._extendRedrawBounds(u),this._redrawRequest=this._redrawRequest||q(this._redraw,this))},_extendRedrawBounds:function(u){if(u._pxBounds){var p=(u.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new K,this._redrawBounds.extend(u._pxBounds.min.subtract([p,p])),this._redrawBounds.extend(u._pxBounds.max.add([p,p]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var u=this._redrawBounds;if(u){var p=u.getSize();this._ctx.clearRect(u.min.x,u.min.y,p.x,p.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var u,p=this._redrawBounds;if(this._ctx.save(),p){var w=p.getSize();this._ctx.beginPath(),this._ctx.rect(p.min.x,p.min.y,w.x,w.y),this._ctx.clip()}this._drawing=!0;for(var T=this._drawFirst;T;T=T.next)u=T.layer,(!p||u._pxBounds&&u._pxBounds.intersects(p))&&u._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(u,p){if(this._drawing){var w,T,P,B,Y=u._parts,ue=Y.length,pe=this._ctx;if(ue){for(pe.beginPath(),w=0;w<ue;w++){for(T=0,P=Y[w].length;T<P;T++)B=Y[w][T],pe[T?"lineTo":"moveTo"](B.x,B.y);p&&pe.closePath()}this._fillStroke(pe,u)}}},_updateCircle:function(u){if(!(!this._drawing||u._empty())){var p=u._point,w=this._ctx,T=Math.max(Math.round(u._radius),1),P=(Math.max(Math.round(u._radiusY),1)||T)/T;P!==1&&(w.save(),w.scale(1,P)),w.beginPath(),w.arc(p.x,p.y/P,T,0,Math.PI*2,!1),P!==1&&w.restore(),this._fillStroke(w,u)}},_fillStroke:function(u,p){var w=p.options;w.fill&&(u.globalAlpha=w.fillOpacity,u.fillStyle=w.fillColor||w.color,u.fill(w.fillRule||"evenodd")),w.stroke&&w.weight!==0&&(u.setLineDash&&u.setLineDash(p.options&&p.options._dashArray||[]),u.globalAlpha=w.opacity,u.lineWidth=w.weight,u.strokeStyle=w.color,u.lineCap=w.lineCap,u.lineJoin=w.lineJoin,u.stroke())},_onClick:function(u){for(var p=this._map.mouseEventToLayerPoint(u),w,T,P=this._drawFirst;P;P=P.next)w=P.layer,w.options.interactive&&w._containsPoint(p)&&(!(u.type==="click"||u.type==="preclick")||!this._map._draggableMoved(w))&&(T=w);this._fireEvent(T?[T]:!1,u)},_onMouseMove:function(u){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var p=this._map.mouseEventToLayerPoint(u);this._handleMouseHover(u,p)}},_handleMouseOut:function(u){var p=this._hoveredLayer;p&&(ge(this._container,"leaflet-interactive"),this._fireEvent([p],u,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(u,p){if(!this._mouseHoverThrottled){for(var w,T,P=this._drawFirst;P;P=P.next)w=P.layer,w.options.interactive&&w._containsPoint(p)&&(T=w);T!==this._hoveredLayer&&(this._handleMouseOut(u),T&&(Q(this._container,"leaflet-interactive"),this._fireEvent([T],u,"mouseover"),this._hoveredLayer=T)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,u),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(u,p,w){this._map._fireDOMEvent(p,w||p.type,u)},_bringToFront:function(u){var p=u._order;if(p){var w=p.next,T=p.prev;if(w)w.prev=T;else return;T?T.next=w:w&&(this._drawFirst=w),p.prev=this._drawLast,this._drawLast.next=p,p.next=null,this._drawLast=p,this._requestRedraw(u)}},_bringToBack:function(u){var p=u._order;if(p){var w=p.next,T=p.prev;if(T)T.next=w;else return;w?w.prev=T:T&&(this._drawLast=T),p.prev=null,p.next=this._drawFirst,this._drawFirst.prev=p,this._drawFirst=p,this._requestRedraw(u)}}});function ll(u){return Ie.canvas?new bc(u):null}var Pr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(u){return document.createElement("<lvml:"+u+' class="lvml">')}}catch{}return function(u){return document.createElement("<"+u+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),nd={_initContainer:function(){this._container=ft("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(_i.prototype._update.call(this),this.fire("update"))},_initPath:function(u){var p=u._container=Pr("shape");Q(p,"leaflet-vml-shape "+(this.options.className||"")),p.coordsize="1 1",u._path=Pr("path"),p.appendChild(u._path),this._updateStyle(u),this._layers[d(u)]=u},_addPath:function(u){var p=u._container;this._container.appendChild(p),u.options.interactive&&u.addInteractiveTarget(p)},_removePath:function(u){var p=u._container;F(p),u.removeInteractiveTarget(p),delete this._layers[d(u)]},_updateStyle:function(u){var p=u._stroke,w=u._fill,T=u.options,P=u._container;P.stroked=!!T.stroke,P.filled=!!T.fill,T.stroke?(p||(p=u._stroke=Pr("stroke")),P.appendChild(p),p.weight=T.weight+"px",p.color=T.color,p.opacity=T.opacity,T.dashArray?p.dashStyle=O(T.dashArray)?T.dashArray.join(" "):T.dashArray.replace(/( *, *)/g," "):p.dashStyle="",p.endcap=T.lineCap.replace("butt","flat"),p.joinstyle=T.lineJoin):p&&(P.removeChild(p),u._stroke=null),T.fill?(w||(w=u._fill=Pr("fill")),P.appendChild(w),w.color=T.fillColor||T.color,w.opacity=T.fillOpacity):w&&(P.removeChild(w),u._fill=null)},_updateCircle:function(u){var p=u._point.round(),w=Math.round(u._radius),T=Math.round(u._radiusY||w);this._setPath(u,u._empty()?"M0 0":"AL "+p.x+","+p.y+" "+w+","+T+" 0,"+65535*360)},_setPath:function(u,p){u._path.v=p},_bringToFront:function(u){H(u._container)},_bringToBack:function(u){se(u._container)}},Ps=Ie.vml?Pr:It,Xo=_i.extend({_initContainer:function(){this._container=Ps("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ps("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){F(this._container),jt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_i.prototype._update.call(this);var u=this._bounds,p=u.getSize(),w=this._container;(!this._svgSize||!this._svgSize.equals(p))&&(this._svgSize=p,w.setAttribute("width",p.x),w.setAttribute("height",p.y)),qe(w,u.min),w.setAttribute("viewBox",[u.min.x,u.min.y,p.x,p.y].join(" ")),this.fire("update")}},_initPath:function(u){var p=u._path=Ps("path");u.options.className&&Q(p,u.options.className),u.options.interactive&&Q(p,"leaflet-interactive"),this._updateStyle(u),this._layers[d(u)]=u},_addPath:function(u){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(u._path),u.addInteractiveTarget(u._path)},_removePath:function(u){F(u._path),u.removeInteractiveTarget(u._path),delete this._layers[d(u)]},_updatePath:function(u){u._project(),u._update()},_updateStyle:function(u){var p=u._path,w=u.options;p&&(w.stroke?(p.setAttribute("stroke",w.color),p.setAttribute("stroke-opacity",w.opacity),p.setAttribute("stroke-width",w.weight),p.setAttribute("stroke-linecap",w.lineCap),p.setAttribute("stroke-linejoin",w.lineJoin),w.dashArray?p.setAttribute("stroke-dasharray",w.dashArray):p.removeAttribute("stroke-dasharray"),w.dashOffset?p.setAttribute("stroke-dashoffset",w.dashOffset):p.removeAttribute("stroke-dashoffset")):p.setAttribute("stroke","none"),w.fill?(p.setAttribute("fill",w.fillColor||w.color),p.setAttribute("fill-opacity",w.fillOpacity),p.setAttribute("fill-rule",w.fillRule||"evenodd")):p.setAttribute("fill","none"))},_updatePoly:function(u,p){this._setPath(u,dn(u._parts,p))},_updateCircle:function(u){var p=u._point,w=Math.max(Math.round(u._radius),1),T=Math.max(Math.round(u._radiusY),1)||w,P="a"+w+","+T+" 0 1,0 ",B=u._empty()?"M0 0":"M"+(p.x-w)+","+p.y+P+w*2+",0 "+P+-w*2+",0 ";this._setPath(u,B)},_setPath:function(u,p){u._path.setAttribute("d",p)},_bringToFront:function(u){H(u._path)},_bringToBack:function(u){se(u._path)}});Ie.vml&&Xo.include(nd);function cl(u){return Ie.svg||Ie.vml?new Xo(u):null}bt.include({getRenderer:function(u){var p=u.options.renderer||this._getPaneRenderer(u.options.pane)||this.options.renderer||this._renderer;return p||(p=this._renderer=this._createRenderer()),this.hasLayer(p)||this.addLayer(p),p},_getPaneRenderer:function(u){if(u==="overlayPane"||u===void 0)return!1;var p=this._paneRenderers[u];return p===void 0&&(p=this._createRenderer({pane:u}),this._paneRenderers[u]=p),p},_createRenderer:function(u){return this.options.preferCanvas&&ll(u)||cl(u)}});var uo=Ko.extend({initialize:function(u,p){Ko.prototype.initialize.call(this,this._boundsToLatLngs(u),p)},setBounds:function(u){return this.setLatLngs(this._boundsToLatLngs(u))},_boundsToLatLngs:function(u){return u=xe(u),[u.getSouthWest(),u.getNorthWest(),u.getNorthEast(),u.getSouthEast()]}});function Sv(u,p){return new uo(u,p)}Xo.create=Ps,Xo.pointsToPath=dn,tr.geometryToLayer=Jn,tr.coordsToLatLng=pc,tr.coordsToLatLngs=nl,tr.latLngToCoords=mc,tr.latLngsToCoords=il,tr.getFeature=Rr,tr.asFeature=gc,bt.mergeOptions({boxZoom:!0});var wi=Rs.extend({initialize:function(u){this._map=u,this._container=u._container,this._pane=u._panes.overlayPane,this._resetStateTimeout=0,u.on("unload",this._destroy,this)},addHooks:function(){tt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){jt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){F(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(u){if(!u.shiftKey||u.which!==1&&u.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Bt(),Sr(),this._startPoint=this._map.mouseEventToContainerPoint(u),tt(document,{contextmenu:Ar,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(u){this._moved||(this._moved=!0,this._box=ft("div","leaflet-zoom-box",this._container),Q(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(u);var p=new K(this._point,this._startPoint),w=p.getSize();qe(this._box,p.min),this._box.style.width=w.x+"px",this._box.style.height=w.y+"px"},_finish:function(){this._moved&&(F(this._box),ge(this._container,"leaflet-crosshair")),Ct(),ro(),jt(document,{contextmenu:Ar,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(u){if(!(u.which!==1&&u.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var p=new be(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(p).fire("boxzoomend",{boxZoomBounds:p})}},_onKeyDown:function(u){u.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});bt.addInitHook("addHandler","boxZoom",wi),bt.mergeOptions({doubleClickZoom:!0});var xc=Rs.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(u){var p=this._map,w=p.getZoom(),T=p.options.zoomDelta,P=u.originalEvent.shiftKey?w-T:w+T;p.options.doubleClickZoom==="center"?p.setZoom(P):p.setZoomAround(u.containerPoint,P)}});bt.addInitHook("addHandler","doubleClickZoom",xc),bt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ms=Rs.extend({addHooks:function(){if(!this._draggable){var u=this._map;this._draggable=new Tr(u._mapPane,u._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),u.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),u.on("zoomend",this._onZoomEnd,this),u.whenReady(this._onZoomEnd,this))}Q(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ge(this._map._container,"leaflet-grab"),ge(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var u=this._map;if(u._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var p=xe(this._map.options.maxBounds);this._offsetLimit=ce(this._map.latLngToContainerPoint(p.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(p.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;u.fire("movestart").fire("dragstart"),u.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(u){if(this._map.options.inertia){var p=this._lastTime=+new Date,w=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(w),this._times.push(p),this._prunePositions(p)}this._map.fire("move",u).fire("drag",u)},_prunePositions:function(u){for(;this._positions.length>1&&u-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var u=this._map.getSize().divideBy(2),p=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=p.subtract(u).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(u,p){return u-(u-p)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var u=this._draggable._newPos.subtract(this._draggable._startPos),p=this._offsetLimit;u.x<p.min.x&&(u.x=this._viscousLimit(u.x,p.min.x)),u.y<p.min.y&&(u.y=this._viscousLimit(u.y,p.min.y)),u.x>p.max.x&&(u.x=this._viscousLimit(u.x,p.max.x)),u.y>p.max.y&&(u.y=this._viscousLimit(u.y,p.max.y)),this._draggable._newPos=this._draggable._startPos.add(u)}},_onPreDragWrap:function(){var u=this._worldWidth,p=Math.round(u/2),w=this._initialWorldOffset,T=this._draggable._newPos.x,P=(T-p+w)%u+p-w,B=(T+p+w)%u-p-w,Y=Math.abs(P+w)<Math.abs(B+w)?P:B;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Y},_onDragEnd:function(u){var p=this._map,w=p.options,T=!w.inertia||u.noInertia||this._times.length<2;if(p.fire("dragend",u),T)p.fire("moveend");else{this._prunePositions(+new Date);var P=this._lastPos.subtract(this._positions[0]),B=(this._lastTime-this._times[0])/1e3,Y=w.easeLinearity,ue=P.multiplyBy(Y/B),pe=ue.distanceTo([0,0]),Ae=Math.min(w.inertiaMaxSpeed,pe),Pe=ue.multiplyBy(Ae/pe),Ge=Ae/(w.inertiaDeceleration*Y),ct=Pe.multiplyBy(-Ge/2).round();!ct.x&&!ct.y?p.fire("moveend"):(ct=p._limitOffset(ct,p.options.maxBounds),q(function(){p.panBy(ct,{duration:Ge,easeLinearity:Y,noMoveStart:!0,animate:!0})}))}}});bt.addInitHook("addHandler","dragging",Ms),bt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var id=Rs.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(u){this._map=u,this._setPanDelta(u.options.keyboardPanDelta),this._setZoomDelta(u.options.zoomDelta)},addHooks:function(){var u=this._map._container;u.tabIndex<=0&&(u.tabIndex="0"),tt(u,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),jt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var u=document.body,p=document.documentElement,w=u.scrollTop||p.scrollTop,T=u.scrollLeft||p.scrollLeft;this._map._container.focus(),window.scrollTo(T,w)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(u){var p=this._panKeys={},w=this.keyCodes,T,P;for(T=0,P=w.left.length;T<P;T++)p[w.left[T]]=[-1*u,0];for(T=0,P=w.right.length;T<P;T++)p[w.right[T]]=[u,0];for(T=0,P=w.down.length;T<P;T++)p[w.down[T]]=[0,u];for(T=0,P=w.up.length;T<P;T++)p[w.up[T]]=[0,-1*u]},_setZoomDelta:function(u){var p=this._zoomKeys={},w=this.keyCodes,T,P;for(T=0,P=w.zoomIn.length;T<P;T++)p[w.zoomIn[T]]=u;for(T=0,P=w.zoomOut.length;T<P;T++)p[w.zoomOut[T]]=-u},_addHooks:function(){tt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){jt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(u){if(!(u.altKey||u.ctrlKey||u.metaKey)){var p=u.keyCode,w=this._map,T;if(p in this._panKeys){if(!w._panAnim||!w._panAnim._inProgress)if(T=this._panKeys[p],u.shiftKey&&(T=oe(T).multiplyBy(3)),w.options.maxBounds&&(T=w._limitOffset(oe(T),w.options.maxBounds)),w.options.worldCopyJump){var P=w.wrapLatLng(w.unproject(w.project(w.getCenter()).add(T)));w.panTo(P)}else w.panBy(T)}else if(p in this._zoomKeys)w.setZoom(w.getZoom()+(u.shiftKey?3:1)*this._zoomKeys[p]);else if(p===27&&w._popup&&w._popup.options.closeOnEscapeKey)w.closePopup();else return;Ar(u)}}});bt.addInitHook("addHandler","keyboard",id),bt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ul=Rs.extend({addHooks:function(){tt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){jt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(u){var p=ai(u),w=this._map.options.wheelDebounceTime;this._delta+=p,this._lastMousePos=this._map.mouseEventToContainerPoint(u),this._startTime||(this._startTime=+new Date);var T=Math.max(w-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),T),Ar(u)},_performZoom:function(){var u=this._map,p=u.getZoom(),w=this._map.options.zoomSnap||0;u._stop();var T=this._delta/(this._map.options.wheelPxPerZoomLevel*4),P=4*Math.log(2/(1+Math.exp(-Math.abs(T))))/Math.LN2,B=w?Math.ceil(P/w)*w:P,Y=u._limitZoom(p+(this._delta>0?B:-B))-p;this._delta=0,this._startTime=null,Y&&(u.options.scrollWheelZoom==="center"?u.setZoom(p+Y):u.setZoomAround(this._lastMousePos,p+Y))}});bt.addInitHook("addHandler","scrollWheelZoom",ul);var fo=600;bt.mergeOptions({tapHold:Ie.touchNative&&Ie.safari&&Ie.mobile,tapTolerance:15});var _c=Rs.extend({addHooks:function(){tt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){jt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(u){if(clearTimeout(this._holdTimeout),u.touches.length===1){var p=u.touches[0];this._startPos=this._newPos=new te(p.clientX,p.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(tt(document,"touchend",mn),tt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",p))},this),fo),tt(document,"touchend touchcancel contextmenu",this._cancel,this),tt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function u(){jt(document,"touchend",mn),jt(document,"touchend touchcancel",u)},_cancel:function(){clearTimeout(this._holdTimeout),jt(document,"touchend touchcancel contextmenu",this._cancel,this),jt(document,"touchmove",this._onMove,this)},_onMove:function(u){var p=u.touches[0];this._newPos=new te(p.clientX,p.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(u,p){var w=new MouseEvent(u,{bubbles:!0,cancelable:!0,view:window,screenX:p.screenX,screenY:p.screenY,clientX:p.clientX,clientY:p.clientY});w._simulated=!0,p.target.dispatchEvent(w)}});bt.addInitHook("addHandler","tapHold",_c),bt.mergeOptions({touchZoom:Ie.touch,bounceAtZoomLimits:!0});var sd=Rs.extend({addHooks:function(){Q(this._map._container,"leaflet-touch-zoom"),tt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ge(this._map._container,"leaflet-touch-zoom"),jt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(u){var p=this._map;if(!(!u.touches||u.touches.length!==2||p._animatingZoom||this._zooming)){var w=p.mouseEventToContainerPoint(u.touches[0]),T=p.mouseEventToContainerPoint(u.touches[1]);this._centerPoint=p.getSize()._divideBy(2),this._startLatLng=p.containerPointToLatLng(this._centerPoint),p.options.touchZoom!=="center"&&(this._pinchStartLatLng=p.containerPointToLatLng(w.add(T)._divideBy(2))),this._startDist=w.distanceTo(T),this._startZoom=p.getZoom(),this._moved=!1,this._zooming=!0,p._stop(),tt(document,"touchmove",this._onTouchMove,this),tt(document,"touchend touchcancel",this._onTouchEnd,this),mn(u)}},_onTouchMove:function(u){if(!(!u.touches||u.touches.length!==2||!this._zooming)){var p=this._map,w=p.mouseEventToContainerPoint(u.touches[0]),T=p.mouseEventToContainerPoint(u.touches[1]),P=w.distanceTo(T)/this._startDist;if(this._zoom=p.getScaleZoom(P,this._startZoom),!p.options.bounceAtZoomLimits&&(this._zoom<p.getMinZoom()&&P<1||this._zoom>p.getMaxZoom()&&P>1)&&(this._zoom=p._limitZoom(this._zoom)),p.options.touchZoom==="center"){if(this._center=this._startLatLng,P===1)return}else{var B=w._add(T)._divideBy(2)._subtract(this._centerPoint);if(P===1&&B.x===0&&B.y===0)return;this._center=p.unproject(p.project(this._pinchStartLatLng,this._zoom).subtract(B),this._zoom)}this._moved||(p._moveStart(!0,!1),this._moved=!0),X(this._animRequest);var Y=l(p._move,p,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=q(Y,this,!0),mn(u)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,X(this._animRequest),jt(document,"touchmove",this._onTouchMove,this),jt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});bt.addInitHook("addHandler","touchZoom",sd),bt.BoxZoom=wi,bt.DoubleClickZoom=xc,bt.Drag=Ms,bt.Keyboard=id,bt.ScrollWheelZoom=ul,bt.TapHold=_c,bt.TouchZoom=sd,n.Bounds=K,n.Browser=Ie,n.CRS=Se,n.Canvas=bc,n.Circle=hc,n.CircleMarker=Go,n.Class=re,n.Control=ki,n.DivIcon=Uh,n.DivOverlay=ei,n.DomEvent=lc,n.DomUtil=Uo,n.Draggable=Tr,n.Evented=W,n.FeatureGroup=ks,n.GeoJSON=tr,n.GridLayer=Zo,n.Handler=Rs,n.Icon=Ns,n.ImageOverlay=Wo,n.LatLng=Re,n.LatLngBounds=be,n.Layer=as,n.LayerGroup=Ho,n.LineUtil=vv,n.Map=bt,n.Marker=tl,n.Mixin=hv,n.Path=Os,n.Point=te,n.PolyUtil=Ju,n.Polygon=Ko,n.Polyline=er,n.Popup=rl,n.PosAnimation=Fo,n.Projection=Oh,n.Rectangle=uo,n.Renderer=_i,n.SVG=Xo,n.SVGOverlay=yc,n.TileLayer=Or,n.Tooltip=ol,n.Transformation=Ye,n.Util=ne,n.VideoOverlay=Nr,n.bind=l,n.bounds=ce,n.canvas=ll,n.circle=jh,n.circleMarker=Lh,n.control=Js,n.divIcon=wv,n.extend=s,n.featureGroup=Mh,n.geoJSON=vc,n.geoJson=sl,n.gridLayer=Fh,n.icon=Qa,n.imageOverlay=Ih,n.latLng=we,n.latLngBounds=xe,n.layerGroup=yv,n.map=qu,n.marker=Dh,n.point=oe,n.polygon=xv,n.polyline=bv,n.popup=Bh,n.rectangle=Sv,n.setOptions=E,n.stamp=d,n.svg=cl,n.svgOverlay=zh,n.tileLayer=$i,n.tooltip=_v,n.transformation=Ze,n.version=i,n.videoOverlay=Yo;var rd=window.L;n.noConflict=function(){return window.L=rd,this},window.L=n}))})(ef,ef.exports)),ef.exports}var Zg=$ee();function ww(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Sw(e,t){return t==null?function(i,s){const o=x.useRef(void 0);return o.current||(o.current=e(i,s)),o}:function(i,s){const o=x.useRef(void 0);o.current||(o.current=e(i,s));const l=x.useRef(i),{instance:c}=o.current;return x.useEffect(function(){l.current!==i&&(t(c,i,l.current),l.current=i)},[c,i,t]),o}}function Hee(e,t){x.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function PL(e){return function(n){const i=xw(),s=e(_w(n,i),i);return NL(i.map,n.attribution),OL(s.current,n.eventHandlers),Hee(s.current,i),s}}function Gee(e,t){const n=Sw(e,t),i=PL(n);return zee(i)}function Kee(e,t){const n=Sw(e),i=Fee(n,t);return Bee(i)}function qee(e,t){const n=Sw(e,t),i=PL(n);return Uee(i)}function Wee(e,t,n){const{opacity:i,zIndex:s}=t;i!=null&&i!==n.opacity&&e.setOpacity(i),s!=null&&s!==n.zIndex&&e.setZIndex(s)}function Yee(){return xw().map}function Zee({bounds:e,boundsOptions:t,center:n,children:i,className:s,id:o,placeholder:l,style:c,whenReady:d,zoom:h,...g},v){const[b]=x.useState({className:s,id:o,style:c}),[_,C]=x.useState(null),E=x.useRef(void 0);x.useImperativeHandle(v,()=>_?.map??null,[_]);const R=x.useCallback(k=>{if(k!==null&&!E.current){const O=new Zg.Map(k,g);E.current=O,n!=null&&h!=null?O.setView(n,h):e!=null&&O.fitBounds(e,t),d!=null&&O.whenReady(d),C(jee(O))}},[]);x.useEffect(()=>()=>{_?.map.remove()},[_]);const N=_?Nt.createElement(bw,{value:_},i):l??null;return Nt.createElement("div",{...b,ref:R},N)}const Xee=x.forwardRef(Zee),Qee=Gee(function({position:t,...n},i){const s=new Zg.Marker(t,n);return ww(s,Iee(i,{overlayContainer:s}))},function(t,n,i){n.position!==i.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),Jee=Kee(function(t,n){const i=new Zg.Popup(t,n.overlayContainer);return ww(i,n)},function(t,n,{position:i},s){x.useEffect(function(){const{instance:l}=t;function c(h){h.popup===l&&(l.update(),s(!0))}function d(h){h.popup===l&&s(!1)}return n.map.on({popupopen:c,popupclose:d}),n.overlayContainer==null?(i!=null&&l.setLatLng(i),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){n.map.off({popupopen:c,popupclose:d}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(l)}},[t,n,s,i])}),ete=qee(function({url:t,...n},i){const s=new Zg.TileLayer(t,_w(n,i));return ww(s,i)},function(t,n,i){Wee(t,n,i);const{url:s}=n;s!=null&&s!==i.url&&t.setUrl(s)}),tte=({bounds:e})=>{const t=Yee();return x.useEffect(()=>{e.length>=2?t.fitBounds(e,{padding:[30,30]}):e.length===1&&t.setView(e[0],6)},[e,t]),null},nte=e=>Qr({queryKey:["occurrences",e],queryFn:async()=>{const n=(await CY(e)).results.filter(i=>i.decimalLatitude&&i.decimalLongitude).map(i=>({decimalLatitude:i.decimalLatitude,decimalLongitude:i.decimalLongitude,eventDate:i.eventDate,locality:i.locality,country:i.country,recordedBy:i.recordedBy,references:i.references}));return{hasResults:n.length>0,occurrences:n}},staleTime:1e3*60*15}),ite=x.memo(({specieKey:e})=>{const{t}=Mt(),{data:n,isFetching:i}=nte(e),s=n?.occurrences??[],o=n?.hasResults;return i?y.jsx(th,{className:"m-auto size-4 animate-spin"}):!i&&!o?null:y.jsxs("div",{className:"flex w-full flex-col gap-1 pb-4",children:[y.jsxs(Xee,{center:[s[0].decimalLatitude,s[0].decimalLongitude],zoom:4,style:{height:"250px",width:"100%",borderRadius:"12px",border:"none"},children:[y.jsx(ete,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),y.jsx(tte,{bounds:s.map(l=>[l.decimalLatitude,l.decimalLongitude])}),s.map((l,c)=>y.jsx(Qee,{position:[l.decimalLatitude,l.decimalLongitude],children:y.jsx(Jee,{children:y.jsxs("div",{className:"text-sm",children:[y.jsxs("p",{children:[y.jsxs("strong",{children:[t("occurrenceMap.locality"),":"]})," ",l.locality??t("occurrenceMap.notInformed")]}),y.jsxs("p",{children:[y.jsxs("strong",{children:[t("occurrenceMap.country"),":"]})," ",l.country??t("occurrenceMap.notInformed")]}),y.jsxs("p",{children:[y.jsxs("strong",{children:[t("occurrenceMap.date"),": "]}),l.eventDate?new Date(l.eventDate).toLocaleDateString():t("occurrenceMap.noDate")]}),y.jsxs("p",{className:"wrap-break-word",children:[y.jsxs("strong",{children:[t("occurrenceMap.recordedBy"),":"]})," ",l.recordedBy??t("occurrenceMap.unknown")]}),l.references&&y.jsx("p",{className:"mt-2",children:y.jsx("a",{href:l.references,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:t("occurrenceMap.viewReference")})})]})})},c))]},`map-${e}`),y.jsxs("div",{className:"bg-card text-muted-foreground rounded-xl p-2 text-xs",children:[t("occurrenceMap.dataProvidedBy"),y.jsx("a",{href:"https://www.gbif.org",target:"_blank",rel:"noopener noreferrer",className:"ml-1 text-blue-600 underline",children:"GBIF.org"}),t("occurrenceMap.dataNote")]})]})}),Uu=({embedded:e=!1,backLabel:t})=>{const{t:n}=Mt(),{isTablet:i}=ec(),s=Qi(),o=Be(Da),l=qt(Da),c=qt(nt.expandedNodes),d=Be(nt.expandedNodes),h=d.find(R=>R.rank==="SPECIES")?.key,g=o??h,v=o!==null,b=!v&&h!==null&&h!==void 0&&i,{data:_,isLoading:C}=Bo({specieKey:g}),E=x.useCallback(()=>{if(v)l(null);else{const R=d.filter(k=>k.rank!=="SPECIES"),N=R.length>0?`/tree/${R.map(k=>k.key).join("/")}`:"/";c(R),s({to:N})}},[v,l,d,s,c]);return C?y.jsxs("div",{className:"p-6",children:[y.jsx(VM,{}),y.jsx(NY,{})]}):_?y.jsxs(Ot.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:e?void 0:"h-full overflow-auto",style:{containerType:"inline-size"},children:[(v||b)&&!e&&y.jsx("div",{className:"bg-card/95 sticky top-0 z-10 border-b px-4 py-3 shadow-sm backdrop-blur-sm",children:y.jsxs($t,{onClick:E,variant:"ghost",size:"sm",className:"gap-2",children:[y.jsx(S_,{className:"size-4"}),t??n(b?"specieDetail.backToTree":"specieDetail.backToGallery")]})}),y.jsx("div",{className:`p-4 ${v||b?"pt-6":e?"pt-2":"md:mt-4"}`,children:y.jsxs("div",{className:"mx-auto grid max-w-7xl grid-cols-1 gap-6 lg:grid-cols-2",children:[y.jsx(Ot.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-card rounded-xl border p-6 shadow-lg",children:y.jsx(Dee,{})}),y.jsxs("div",{className:"flex flex-col gap-6",children:[y.jsx(Ot.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-card overflow-hidden rounded-xl border shadow-lg",children:y.jsx(LY,{})}),g&&y.jsx(Ot.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:y.jsx(ite,{specieKey:g})})]})]})})]}):y.jsx("div",{className:"flex h-full items-center justify-center",children:y.jsx("p",{className:"text-muted-foreground",children:n("specieDetail.notFound")})})},ste=e=>{const t=new Set;return e.filter(n=>t.has(n.kingdom)||n.kingdom.toLowerCase()==="viruses"?!1:(t.add(n.kingdom),!0)).map(n=>({key:n.key,rank:n.rank,numDescendants:n.numDescendants,color:To[n.key]}))},rte=()=>{const{kingdoms_key:e}=ah,t=F_();return Qr({queryKey:[e],queryFn:async()=>{const n=await yY();return ste(n)},staleTime:1/0,gcTime:1/0,enabled:!t})};function Ol({className:e,...t}){return y.jsx("div",{"data-slot":"skeleton",className:it("bg-accent animate-bounce cursor-wait rounded-md",e),...t})}const ote=()=>y.jsxs("div",{className:"flex w-full min-w-1/5 flex-col gap-6 overflow-auto border-r-1 px-4 py-6",children:[y.jsx(Ol,{className:"h-12 w-full max-w-2xs"}),y.jsx("div",{className:"flex flex-col gap-1",children:Array.from({length:8}).map((e,t)=>y.jsxs("div",{className:"group flex min-w-2xs items-center gap-4 rounded-lg p-3",children:[y.jsx(Ol,{className:"size-11 rounded-lg"}),y.jsxs("div",{className:"flex w-full items-center justify-between gap-1",children:[y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx(Ol,{className:"h-4 w-32"}),y.jsx(Ol,{className:"h-3 w-16"})]}),y.jsxs("div",{className:"flex flex-col items-end gap-2",children:[y.jsx(Ol,{className:"h-4 w-8"}),y.jsx(Ol,{className:"h-3 w-10"})]})]})]},t))})]}),sx=({type:e})=>{const{t}=Mt();if(e==="loading")return y.jsx(ote,{});const n={error:{icon:y.jsx(HO,{className:"h-6 w-6 text-red-500"}),title:t("tree.loadError"),text:t("tree.loadErrorMessage")},empty:{icon:y.jsx(Z$,{className:"h-6 w-6"}),title:t("tree.noData"),text:t("tree.noDataMessage")}}[e];return y.jsxs("div",{className:"flex h-[60vh] flex-col items-center justify-center gap-3 text-center",children:[n.icon,y.jsx("h2",{className:"font-semibold",children:n.title}),y.jsx("p",{className:"text-muted-foreground max-w-xs text-sm",children:n.text})]})};function ate(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,R=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:R,children:_})};h.displayName=o+"Provider";function g(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,g]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,lte(s,...t)]}function lte(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function cte(e){const t=ute(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(fte);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function ute(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=pte(s),c=hte(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ML=Symbol("radix.slottable");function dte(e){const t=({children:n})=>y.jsx(y.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=ML,t}function fte(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ML}function hte(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function pte(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var mte=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gte=mte.reduce((e,t)=>{const n=cte(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function vte(e){const t=yte(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(xte);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function yte(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=wte(s),c=_te(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var bte=Symbol("radix.slottable");function xte(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===bte}function _te(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function wte(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ste=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Cte=Ste.reduce((e,t)=>{const n=vte(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),DL=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ete="VisuallyHidden",LL=x.forwardRef((e,t)=>y.jsx(Cte.span,{...e,ref:t,style:{...DL,...e.style}}));LL.displayName=Ete;var Ate=LL,[Xg]=ate("Tooltip",[Pu]),Qg=Pu(),jL="TooltipProvider",Tte=700,T0="tooltip.open",[Rte,Cw]=Xg(jL),IL=e=>{const{__scopeTooltip:t,delayDuration:n=Tte,skipDelayDuration:i=300,disableHoverableContent:s=!1,children:o}=e,l=x.useRef(!0),c=x.useRef(!1),d=x.useRef(0);return x.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),y.jsx(Rte,{scope:t,isOpenDelayedRef:l,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,i)},[i]),isPointerInTransitRef:c,onPointerInTransitChange:x.useCallback(h=>{c.current=h},[]),disableHoverableContent:s,children:o})};IL.displayName=jL;var Uf="Tooltip",[kte,hh]=Xg(Uf),zL=e=>{const{__scopeTooltip:t,children:n,open:i,defaultOpen:s,onOpenChange:o,disableHoverableContent:l,delayDuration:c}=e,d=Cw(Uf,e.__scopeTooltip),h=Qg(t),[g,v]=x.useState(null),b=_s(),_=x.useRef(0),C=l??d.disableHoverableContent,E=c??d.delayDuration,R=x.useRef(!1),[N,k]=Do({prop:i,defaultProp:s??!1,onChange:z=>{z?(d.onOpen(),document.dispatchEvent(new CustomEvent(T0))):d.onClose(),o?.(z)},caller:Uf}),O=x.useMemo(()=>N?R.current?"delayed-open":"instant-open":"closed",[N]),M=x.useCallback(()=>{window.clearTimeout(_.current),_.current=0,R.current=!1,k(!0)},[k]),j=x.useCallback(()=>{window.clearTimeout(_.current),_.current=0,k(!1)},[k]),U=x.useCallback(()=>{window.clearTimeout(_.current),_.current=window.setTimeout(()=>{R.current=!0,k(!0),_.current=0},E)},[E,k]);return x.useEffect(()=>()=>{_.current&&(window.clearTimeout(_.current),_.current=0)},[]),y.jsx(Dg,{...h,children:y.jsx(kte,{scope:t,contentId:b,open:N,stateAttribute:O,trigger:g,onTriggerChange:v,onTriggerEnter:x.useCallback(()=>{d.isOpenDelayedRef.current?U():M()},[d.isOpenDelayedRef,U,M]),onTriggerLeave:x.useCallback(()=>{C?j():(window.clearTimeout(_.current),_.current=0)},[j,C]),onOpen:M,onClose:j,disableHoverableContent:C,children:n})})};zL.displayName=Uf;var R0="TooltipTrigger",BL=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,s=hh(R0,n),o=Cw(R0,n),l=Qg(n),c=x.useRef(null),d=wt(t,c,s.onTriggerChange),h=x.useRef(!1),g=x.useRef(!1),v=x.useCallback(()=>h.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),y.jsx(d_,{asChild:!0,...l,children:y.jsx(gte.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...i,ref:d,onPointerMove:je(e.onPointerMove,b=>{b.pointerType!=="touch"&&!g.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),g.current=!0)}),onPointerLeave:je(e.onPointerLeave,()=>{s.onTriggerLeave(),g.current=!1}),onPointerDown:je(e.onPointerDown,()=>{s.open&&s.onClose(),h.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:je(e.onFocus,()=>{h.current||s.onOpen()}),onBlur:je(e.onBlur,s.onClose),onClick:je(e.onClick,s.onClose)})})});BL.displayName=R0;var Ew="TooltipPortal",[Nte,Ote]=Xg(Ew,{forceMount:void 0}),UL=e=>{const{__scopeTooltip:t,forceMount:n,children:i,container:s}=e,o=hh(Ew,t);return y.jsx(Nte,{scope:t,forceMount:n,children:y.jsx(br,{present:n||o.open,children:y.jsx(Yf,{asChild:!0,container:s,children:i})})})};UL.displayName=Ew;var Ru="TooltipContent",FL=x.forwardRef((e,t)=>{const n=Ote(Ru,e.__scopeTooltip),{forceMount:i=n.forceMount,side:s="top",...o}=e,l=hh(Ru,e.__scopeTooltip);return y.jsx(br,{present:i||l.open,children:l.disableHoverableContent?y.jsx(VL,{side:s,...o,ref:t}):y.jsx(Pte,{side:s,...o,ref:t})})}),Pte=x.forwardRef((e,t)=>{const n=hh(Ru,e.__scopeTooltip),i=Cw(Ru,e.__scopeTooltip),s=x.useRef(null),o=wt(t,s),[l,c]=x.useState(null),{trigger:d,onClose:h}=n,g=s.current,{onPointerInTransitChange:v}=i,b=x.useCallback(()=>{c(null),v(!1)},[v]),_=x.useCallback((C,E)=>{const R=C.currentTarget,N={x:C.clientX,y:C.clientY},k=jte(N,R.getBoundingClientRect()),O=Ite(N,k),M=zte(E.getBoundingClientRect()),j=Ute([...O,...M]);c(j),v(!0)},[v]);return x.useEffect(()=>()=>b(),[b]),x.useEffect(()=>{if(d&&g){const C=R=>_(R,g),E=R=>_(R,d);return d.addEventListener("pointerleave",C),g.addEventListener("pointerleave",E),()=>{d.removeEventListener("pointerleave",C),g.removeEventListener("pointerleave",E)}}},[d,g,_,b]),x.useEffect(()=>{if(l){const C=E=>{const R=E.target,N={x:E.clientX,y:E.clientY},k=d?.contains(R)||g?.contains(R),O=!Bte(N,l);k?b():O&&(b(),h())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[d,g,l,h,b]),y.jsx(VL,{...e,ref:o})}),[Mte,Dte]=Xg(Uf,{isInside:!1}),Lte=dte("TooltipContent"),VL=x.forwardRef((e,t)=>{const{__scopeTooltip:n,children:i,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:l,...c}=e,d=hh(Ru,n),h=Qg(n),{onClose:g}=d;return x.useEffect(()=>(document.addEventListener(T0,g),()=>document.removeEventListener(T0,g)),[g]),x.useEffect(()=>{if(d.trigger){const v=b=>{b.target?.contains(d.trigger)&&g()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[d.trigger,g]),y.jsx(qf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:v=>v.preventDefault(),onDismiss:g,children:y.jsxs(f_,{"data-state":d.stateAttribute,...h,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[y.jsx(Lte,{children:i}),y.jsx(Mte,{scope:n,isInside:!0,children:y.jsx(Ate,{id:d.contentId,role:"tooltip",children:s||i})})]})})});FL.displayName=Ru;var $L="TooltipArrow",HL=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,s=Qg(n);return Dte($L,n).isInside?null:y.jsx(h_,{...s,...i,ref:t})});HL.displayName=$L;function jte(e,t){const n=Math.abs(t.top-e.y),i=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,i,s,o)){case o:return"left";case s:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function Ite(e,t,n=5){const i=[];switch(t){case"top":i.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":i.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":i.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":i.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return i}function zte(e){const{top:t,right:n,bottom:i,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:i},{x:s,y:i}]}function Bte(e,t){const{x:n,y:i}=e;let s=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const c=t[o],d=t[l],h=c.x,g=c.y,v=d.x,b=d.y;g>i!=b>i&&n<(v-h)*(i-g)/(b-g)+h&&(s=!s)}return s}function Ute(e){const t=e.slice();return t.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),Fte(t)}function Fte(e){if(e.length<=1)return e.slice();const t=[];for(let i=0;i<e.length;i++){const s=e[i];for(;t.length>=2;){const o=t[t.length-1],l=t[t.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let i=e.length-1;i>=0;i--){const s=e[i];for(;n.length>=2;){const o=n[n.length-1],l=n[n.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Vte=IL,$te=zL,Hte=BL,Gte=UL,Kte=FL,qte=HL;function Wte({delayDuration:e=0,...t}){return y.jsx(Vte,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function GL({...e}){return y.jsx(Wte,{children:y.jsx($te,{"data-slot":"tooltip",...e})})}function KL({...e}){return y.jsx(Hte,{"data-slot":"tooltip-trigger",...e})}function qL({className:e,sideOffset:t=0,children:n,...i}){return y.jsx(Gte,{children:y.jsxs(Kte,{"data-slot":"tooltip-content",sideOffset:t,className:it("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-2 text-xs text-balance",e),...i,children:[n,y.jsx(qte,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const k0=async(e,t)=>{try{const n=e.game_info.shortcuts??{},i=t(n),{data:s,error:o}=await $n.from("users").update({game_info:{...e.game_info,shortcuts:i}}).eq("id",e.id).select().single();return o?(console.error("Error updating shortcuts:",o),null):s}catch(n){return console.error("Unexpected error updating shortcuts:",n),null}},Jg=e=>[{rank:"KINGDOM",name:Mi(e.kingdom)},{rank:"PHYLUM",name:e.phylum},{rank:"CLASS",name:e.class},{rank:"ORDER",name:e.order},{rank:"FAMILY",name:e.family},{rank:"GENUS",name:e.genus},{rank:"SPECIES",name:e.species}],Yte=x.memo(({node:e})=>{const[t,n]=qr(at.userDb),[i,s]=x.useState(!1),o=e.expanded,l=e?.kingdom?.toLowerCase(),c=Be(nt.challenge),d=c.status,h=d==="IN_PROGRESS",g=h||d==="COMPLETED",v=c.speciesKey??0,_=Be(nt.highlightedRank)===e.rank&&h,C=Be(nt.expandedNodes),{data:E}=Bo({specieKey:v}),R=x.useMemo(()=>E?Jg(E):[],[E]),N=x.useMemo(()=>{if(!g)return null;const U=C.findIndex(I=>I.key===e.key);if(U===-1)return null;const z=R[U];return z?e.canonicalName===z.name||e.scientificName===z.name?"success":"error":null},[g,C,e.key,e.canonicalName,e.scientificName,R]),k=x.useMemo(()=>{const U=t?.game_info?.shortcuts;return U?(U[l]?.length??0)>=3:!1},[l,t?.game_info?.shortcuts]),O=x.useCallback(async()=>{!t||h||k0(t,U=>{const z=U[l]??[];if(z.length>=3||z.some(Z=>Z.nodes.length===C.length&&Z.nodes.every((q,X)=>q.key===C[X].key&&q.rank===C[X].rank)))return U;const $=C.slice(0,C.findIndex(Z=>Z.key===e.key)+1);return{...U,[l]:[...z,{name:(e.canonicalName||e.scientificName)??" - ",nodes:$}]}}).then(U=>{U&&n(U)})},[t,h,l,C,e,n]),M=e.canonicalName||e.scientificName,j=e.scientificName&&e.canonicalName&&e.scientificName!==e.canonicalName;return y.jsx(Ot.div,{className:"item group flex h-full w-full flex-row items-center gap-2",animate:_?{scale:[1,1.03,1]}:N==="success"?{scale:[1,1.05,1]}:N==="error"?{x:[-4,4,-2,2,0]}:{},transition:{duration:.5},children:y.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[y.jsxs("div",{className:"mr-auto flex items-center gap-2",children:[y.jsx("div",{className:"flex flex-col items-start justify-center",children:y.jsx("span",{className:it("relative transition-all duration-200 ease-in-out",o&&"font-bold",N==="success"&&"text-emerald-600",N==="error"&&"text-red-500",_&&["z-10","text-emerald-600","after:absolute after:-inset-y-0.5","after:-right-1.5 after:-left-1.5","after:-z-10 after:rounded-md after:bg-emerald-400/15"]),children:M})}),j&&y.jsxs(GL,{open:i,onOpenChange:s,children:[y.jsx(KL,{asChild:!0,children:y.jsx("button",{onClick:U=>{U.stopPropagation(),s(z=>!z)},className:"text-muted-foreground inline-flex items-center",children:y.jsx(A_,{className:"size-3"})})}),y.jsx(qL,{children:e.scientificName})]}),N==="success"&&y.jsx(IO,{className:"h-4 w-4 text-emerald-500"}),N==="error"&&y.jsx(jO,{className:"h-4 w-4 text-red-500"}),y.jsx(Df,{className:it("bg-primary-foreground text-primary flex items-center gap-1 rounded-xl px-1 py-0 text-[11px] opacity-0 outline-1 group-hover:opacity-100",o&&"opacity-100"),children:Mi(e.rank)}),t&&o&&!h&&y.jsx("div",{className:"opacity-0 transition-all duration-300 group-hover:opacity-100",children:y.jsx(kx,{onClick:U=>{U.stopPropagation(),O()},className:it("size-4 scale-x-[-1]",k&&"opacity-50")})})]}),y.jsx("span",{className:"text-[11px]",children:e.numDescendants&&e.numDescendants.toLocaleString("pt-BR")})]})},`${e.key}-${N}`)}),Zte=e=>{if(e>=1e6){const t=Math.floor(e/1e5)/10;return`${Number.isInteger(t)?t.toFixed(0):t}M`}return e>=1e3?`${Math.floor(e/1e3)}K`:e.toString()},Xte=x.memo(({node:e,isLoading:t})=>{const{isShaking:n,shakeDirection:i}=Be(nt.animate),s=e.expanded,o=t&&s;return y.jsxs("div",{className:it("group flex h-full w-full min-w-2xs cursor-pointer items-center gap-4 rounded-lg px-2",s&&`rounded-bl-none border-2 ${VK[e.key]}`,!s&&"hover:bg-accent"),children:[y.jsx("div",{className:it("flex items-center justify-center rounded-xl",!s&&"group-hover:bg-accent bg-accent"),children:y.jsx("div",{className:"flex size-11 items-center justify-center overflow-hidden rounded-lg p-3",children:y.jsx(Hn,{src:gs(e.key),alt:Au[e.key],className:it("h-full w-full transition-transform duration-150 group-hover:scale-150",o?"animate-wiggle":n?i?"rotate-6":"-rotate-6":"rotate-0",n?"":"group-hover:rotate-6",s&&"scale-150")})})}),y.jsx("div",{className:"flex w-full items-center justify-between gap-1",children:y.jsxs("div",{className:"flex flex-col",children:[y.jsx("h1",{className:it("text-md font-medium",s&&"font-bold"),children:Mi(Au[e.key])}),y.jsxs("span",{className:"text-xs",children:[Zte(e.numDescendants)," ",y.jsx("span",{children:"descendentes"})]})]})})]})}),Qte=x.memo(({node:e})=>{const[t,n]=qr(at.userDb),[i,s]=x.useState(!1),o=Be(nt.expandedNodes),l=Be(nt.challenge),d=l.status==="IN_PROGRESS"||l.status==="COMPLETED",h=l.speciesKey,g=x.useMemo(()=>o.some(E=>E.key===e.key),[o,e.key]),v=x.useMemo(()=>!d||!g?null:e.key===h?"success":"error",[d,g,e.key,h]),b=x.useCallback(async()=>{t&&kL(t,E=>{if(E.some(k=>k.key===e.key))return E;const N={key:e.key,date:new Date().toISOString(),fav:!1};return[...E,N]}).then(E=>{E&&n(E)})},[t,e.key,n]),_=e.canonicalName||e.scientificName,C=e.scientificName&&e.canonicalName&&e.scientificName!==e.canonicalName;return y.jsxs(Ot.div,{className:"item flex w-full items-center justify-between",animate:v==="success"?{scale:[1,1.08,1]}:v==="error"?{x:[-4,4,-2,2,0]}:{},transition:{duration:.3},onClick:b,children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("i",{className:it("w-max transition-all duration-200 ease-in-out",g&&"font-bold",v==="success"&&"text-emerald-600",v==="error"&&"text-red-500"),children:_}),C&&y.jsxs(GL,{open:i,onOpenChange:s,children:[y.jsx(KL,{asChild:!0,children:y.jsx("button",{onClick:E=>{E.stopPropagation(),s(R=>!R)},className:"text-muted-foreground inline-flex items-center",children:y.jsx(A_,{className:"size-3"})})}),y.jsx(qL,{children:e.scientificName})]}),v==="success"&&y.jsx(IO,{className:"h-4 w-4 text-emerald-500"}),v==="error"&&y.jsx(jO,{className:"h-4 w-4 text-red-500"}),y.jsx(Df,{className:it("bg-primary-foreground text-primary rounded-xl px-1 py-0 text-[11px] opacity-0 group-hover:opacity-100",v&&"opacity-100"),children:Mi(e.rank.slice(0,-1))})]}),y.jsx(y.Fragment,{children:""})]},`${e.key}-${v}`)}),Jte=(e,t)=>{if(!t)return[];const n=YK(e),i=t.filter(s=>s.rank.toLowerCase()===n?.toLowerCase());return i.length===0&&t.length>0?(console.warn(`Rank inconsistente detectado para '${e}' (esperado: ${n}, encontrados: ${[...new Set(t.map(s=>s.rank))].join(", ")})`),t):i},ene=e=>{const t={key:e.key,scientificName:e.scientificName,canonicalName:e.canonicalName,rank:e.rank,kingdom:e.kingdom,numDescendants:e.numDescendants,phylum:e.phylum};return e.class&&(t.class=e.class),e.order&&(t.order=e.order),e.family&&(t.family=e.family),e.genus&&(t.genus=e.genus),t},tne=({parentKey:e,expanded:t,numDescendants:n,rank:i})=>{const{children_key:s}=ah;return Qr({queryKey:[s,e],queryFn:async()=>{const o=await bY(e);return Jte(i,o).map(ene)},enabled:!!e&&t&&n!==0,staleTime:1e3*60*60*24,gcTime:1e3*60*60*24*7})};function ph(){const e=Qi(),t=Be(nt.nodes),n=Be(nt.expandedNodes),i=qt(zP),s=x.useCallback(c=>c.length===0?"/":`/tree/${c.map(d=>d.key).join("/")}`,[]),o=x.useCallback((c,d=!1)=>{i(d?[...c]:null);const h=s(c);e({to:h})},[e,s,i]),l=x.useCallback(c=>{const d=t[c];if(!d)return;const h=n.findIndex(b=>b.key===c);if(h!==-1){o(n.slice(0,h));return}const g=[];let v=d;for(;v;)g.unshift({key:v.key,rank:v.rank,name:v.rank==="KINGDOM"?Mi(Au[v.key]):v.canonicalName||v.scientificName||""}),v=v.parentKey?t[v.parentKey]:void 0;o(g)},[t,n,o]);return{navigateToNodes:o,toggleNode:l,nodesToPath:s}}const nne=x.memo(({nodeKey:e,level:t})=>{const[n]=qr(cq(e)),i=qt(uq),{toggleNode:s}=ph(),o=n?.expanded,{data:l,isLoading:c}=tne({parentKey:n?.key,expanded:!!o,numDescendants:n?.numDescendants,rank:n?.rank});x.useEffect(()=>{o&&l&&i({key:n.key,children:l})},[o,l,n?.key,i]);const d=x.useCallback(()=>{c||s(e)},[c,s,e]);if(!n)return null;const h=n.rank==="KINGDOM",g=n.rank==="SPECIES",v=MP[n?.kingdom?.toLocaleLowerCase()],b=t*DP;return y.jsxs("div",{className:it("flex",c&&"node-loading"),style:{marginLeft:b,height:h?"4.25rem":"2.125rem",zIndex:1,"--tree-color":v},onClick:d,children:[!h&&y.jsx("div",{className:"z-50 mt-1.5 flex cursor-pointer items-center justify-center rounded-full p-px text-white",style:{backgroundColor:v,width:jx,height:jx,marginLeft:LP,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"700"},children:c?y.jsx(th,{className:"animate-spin"}):g?y.jsx("span",{className:"size-5"}):y.jsx("span",{className:"flex size-5 items-center justify-center pb-0.5 font-bold",children:o?"":"+"})}),h?y.jsx(Xte,{node:n,isLoading:c}):g?y.jsx(Qte,{node:n}):y.jsx(Yte,{node:n})]})}),ine=()=>{const e=Be(nt.expandedNodes),t=qt(dq);x.useEffect(()=>{t()},[e,t])};function tu(e,t,n){let i=n.initialDeps??[],s,o=!0;function l(){var c,d,h;let g;n.key&&((c=n.debug)!=null&&c.call(n))&&(g=Date.now());const v=e();if(!(v.length!==i.length||v.some((C,E)=>i[E]!==C)))return s;i=v;let _;if(n.key&&((d=n.debug)!=null&&d.call(n))&&(_=Date.now()),s=t(...v),n.key&&((h=n.debug)!=null&&h.call(n))){const C=Math.round((Date.now()-g)*100)/100,E=Math.round((Date.now()-_)*100)/100,R=E/16,N=(k,O)=>{for(k=String(k);k.length<O;)k=" "+k;return k};console.info(`%c ${N(E,5)} /${N(C,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*R,120))}deg 100% 31%);`,n?.key)}return n?.onChange&&!(o&&n.skipInitialOnChange)&&n.onChange(s),o=!1,s}return l.updateDeps=c=>{i=c},l}function BR(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const sne=(e,t)=>Math.abs(e-t)<1.01,rne=(e,t,n)=>{let i;return function(...s){e.clearTimeout(i),i=e.setTimeout(()=>t.apply(this,s),n)}},UR=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},one=e=>e,ane=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),i=[];for(let s=t;s<=n;s++)i.push(s);return i},lne=(e,t)=>{const n=e.scrollElement;if(!n)return;const i=e.targetWindow;if(!i)return;const s=l=>{const{width:c,height:d}=l;t({width:Math.round(c),height:Math.round(d)})};if(s(UR(n)),!i.ResizeObserver)return()=>{};const o=new i.ResizeObserver(l=>{const c=()=>{const d=l[0];if(d?.borderBoxSize){const h=d.borderBoxSize[0];if(h){s({width:h.inlineSize,height:h.blockSize});return}}s(UR(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(c):c()});return o.observe(n,{box:"border-box"}),()=>{o.unobserve(n)}},FR={passive:!0},VR=typeof window>"u"?!0:"onscrollend"in window,cne=(e,t)=>{const n=e.scrollElement;if(!n)return;const i=e.targetWindow;if(!i)return;let s=0;const o=e.options.useScrollendEvent&&VR?()=>{}:rne(i,()=>{t(s,!1)},e.options.isScrollingResetDelay),l=g=>()=>{const{horizontal:v,isRtl:b}=e.options;s=v?n.scrollLeft*(b&&-1||1):n.scrollTop,o(),t(s,g)},c=l(!0),d=l(!1);n.addEventListener("scroll",c,FR);const h=e.options.useScrollendEvent&&VR;return h&&n.addEventListener("scrollend",d,FR),()=>{n.removeEventListener("scroll",c),h&&n.removeEventListener("scrollend",d)}},une=(e,t,n)=>{if(t?.borderBoxSize){const i=t.borderBoxSize[0];if(i)return Math.round(i[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},dne=(e,{adjustments:t=0,behavior:n},i)=>{var s,o;const l=e+t;(o=(s=i.scrollElement)==null?void 0:s.scrollTo)==null||o.call(s,{[i.options.horizontal?"left":"top"]:l,behavior:n})};class fne{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.currentScrollToIndex=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const i=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(s=>{s.forEach(o=>{const l=()=>{this._measureElement(o.target,o)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()})}));return{disconnect:()=>{var s;(s=i())==null||s.disconnect(),n=null},observe:s=>{var o;return(o=i())==null?void 0:o.observe(s,{box:"border-box"})},unobserve:s=>{var o;return(o=i())==null?void 0:o.unobserve(s)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([i,s])=>{typeof s>"u"&&delete n[i]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:one,rangeExtractor:ane,onChange:()=>{},measureElement:une,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var i,s;(s=(i=this.options).onChange)==null||s.call(i,this,n)},this.maybeNotify=tu(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const i=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==i){if(this.cleanup(),!i){this.maybeNotify();return}this.scrollElement=i,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(s=>{this.observer.observe(s)}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(s,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<s?"forward":"backward":null,this.scrollOffset=s,this.isScrolling=o,this.maybeNotify()})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0})}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,i)=>{const s=new Map,o=new Map;for(let l=i-1;l>=0;l--){const c=n[l];if(s.has(c.lane))continue;const d=o.get(c.lane);if(d==null||c.end>d.end?o.set(c.lane,c):c.end<d.end&&s.set(c.lane,!0),s.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((l,c)=>l.end===c.end?l.index-c.index:l.end-c.end)[0]:void 0},this.getMeasurementOptions=tu(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,i,s,o,l,c)=>(this.prevLanes!==void 0&&this.prevLanes!==c&&(this.lanesChangedFlag=!0),this.prevLanes=c,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:i,scrollMargin:s,getItemKey:o,enabled:l,lanes:c}),{key:!1}),this.getMeasurements=tu(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:i,scrollMargin:s,getItemKey:o,enabled:l,lanes:c},d)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const b of this.laneAssignments.keys())b>=n&&this.laneAssignments.delete(b);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&!this.lanesSettling&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(b=>{this.itemSizeCache.set(b.key,b.size)}));const h=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const g=this.measurementsCache.slice(0,h),v=new Array(c).fill(void 0);for(let b=0;b<h;b++){const _=g[b];_&&(v[_.lane]=b)}for(let b=h;b<n;b++){const _=o(b),C=this.laneAssignments.get(b);let E,R;if(C!==void 0&&this.options.lanes>1){E=C;const M=v[E],j=M!==void 0?g[M]:void 0;R=j?j.end+this.options.gap:i+s}else{const M=this.options.lanes===1?g[b-1]:this.getFurthestMeasurement(g,b);R=M?M.end+this.options.gap:i+s,E=M?M.lane:b%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(b,E)}const N=d.get(_),k=typeof N=="number"?N:this.options.estimateSize(b),O=R+k;g[b]={index:b,start:R,size:k,end:O,key:_,lane:E},v[E]=b}return this.measurementsCache=g,g},{key:!1,debug:()=>this.options.debug}),this.calculateRange=tu(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,i,s,o)=>this.range=n.length>0&&i>0?hne({measurements:n,outerSize:i,scrollOffset:s,lanes:o}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=tu(()=>{let n=null,i=null;const s=this.calculateRange();return s&&(n=s.startIndex,i=s.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,i]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,i]},(n,i,s,o,l)=>o===null||l===null?[]:n({startIndex:o,endIndex:l,overscan:i,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const i=this.options.indexAttribute,s=n.getAttribute(i);return s?parseInt(s,10):(console.warn(`Missing attribute name '${i}={index}' on measured element.`),-1)},this._measureElement=(n,i)=>{const s=this.indexFromElement(n),o=this.measurementsCache[s];if(!o)return;const l=o.key,c=this.elementsCache.get(l);c!==n&&(c&&this.observer.unobserve(c),this.observer.observe(n),this.elementsCache.set(l,n)),n.isConnected&&this.resizeItem(s,this.options.measureElement(n,i,this))},this.resizeItem=(n,i)=>{const s=this.measurementsCache[n];if(!s)return;const o=this.itemSizeCache.get(s.key)??s.size,l=i-o;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,l,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,i)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((i,s)=>{i.isConnected||(this.observer.unobserve(i),this.elementsCache.delete(s))});return}this._measureElement(n,void 0)},this.getVirtualItems=tu(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,i)=>{const s=[];for(let o=0,l=n.length;o<l;o++){const c=n[o],d=i[c];s.push(d)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const i=this.getMeasurements();if(i.length!==0)return BR(i[WL(0,i.length-1,s=>BR(i[s]).start,n)])},this.getMaxScrollOffset=()=>{if(!this.scrollElement)return 0;if("scrollHeight"in this.scrollElement)return this.options.horizontal?this.scrollElement.scrollWidth-this.scrollElement.clientWidth:this.scrollElement.scrollHeight-this.scrollElement.clientHeight;{const n=this.scrollElement.document.documentElement;return this.options.horizontal?n.scrollWidth-this.scrollElement.innerWidth:n.scrollHeight-this.scrollElement.innerHeight}},this.getOffsetForAlignment=(n,i,s=0)=>{if(!this.scrollElement)return 0;const o=this.getSize(),l=this.getScrollOffset();i==="auto"&&(i=n>=l+o?"end":"start"),i==="center"?n+=(s-o)/2:i==="end"&&(n-=o);const c=this.getMaxScrollOffset();return Math.max(Math.min(c,n),0)},this.getOffsetForIndex=(n,i="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const s=this.measurementsCache[n];if(!s)return;const o=this.getSize(),l=this.getScrollOffset();if(i==="auto")if(s.end>=l+o-this.options.scrollPaddingEnd)i="end";else if(s.start<=l+this.options.scrollPaddingStart)i="start";else return[l,i];if(i==="end"&&n===this.options.count-1)return[this.getMaxScrollOffset(),i];const c=i==="end"?s.end+this.options.scrollPaddingEnd:s.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(c,i,s.size),i]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:i="start",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,i),{adjustments:void 0,behavior:s})},this.scrollToIndex=(n,{align:i="auto",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1)),this.currentScrollToIndex=n;let o=0;const l=10,c=h=>{if(!this.targetWindow)return;const g=this.getOffsetForIndex(n,h);if(!g){console.warn("Failed to get offset for index:",n);return}const[v,b]=g;this._scrollToOffset(v,{adjustments:void 0,behavior:s}),this.targetWindow.requestAnimationFrame(()=>{const _=()=>{if(this.currentScrollToIndex!==n)return;const C=this.getScrollOffset(),E=this.getOffsetForIndex(n,b);if(!E){console.warn("Failed to get offset for index:",n);return}sne(E[0],C)||d(b)};this.isDynamicMode()?this.targetWindow.requestAnimationFrame(_):_()})},d=h=>{this.targetWindow&&this.currentScrollToIndex===n&&(o++,o<l?this.targetWindow.requestAnimationFrame(()=>c(h)):console.warn(`Failed to scroll to index ${n} after ${l} attempts.`))};c(i)},this.scrollBy=(n,{behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:i})},this.getTotalSize=()=>{var n;const i=this.getMeasurements();let s;if(i.length===0)s=this.options.paddingStart;else if(this.options.lanes===1)s=((n=i[i.length-1])==null?void 0:n.end)??0;else{const o=Array(this.options.lanes).fill(null);let l=i.length-1;for(;l>=0&&o.some(c=>c===null);){const c=i[l];o[c.lane]===null&&(o[c.lane]=c.end),l--}s=Math.max(...o.filter(c=>c!==null))}return Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:i,behavior:s})=>{this.options.scrollToFn(n,{behavior:s,adjustments:i},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(t)}}const WL=(e,t,n,i)=>{for(;e<=t;){const s=(e+t)/2|0,o=n(s);if(o<i)e=s+1;else if(o>i)t=s-1;else return s}return e>0?e-1:0};function hne({measurements:e,outerSize:t,scrollOffset:n,lanes:i}){const s=e.length-1,o=d=>e[d].start;if(e.length<=i)return{startIndex:0,endIndex:s};let l=WL(0,s,o,n),c=l;if(i===1)for(;c<s&&e[c].end<n+t;)c++;else if(i>1){const d=Array(i).fill(0);for(;c<s&&d.some(g=>g<n+t);){const g=e[c];d[g.lane]=g.end,c++}const h=Array(i).fill(n+t);for(;l>=0&&h.some(g=>g>=n);){const g=e[l];h[g.lane]=g.start,l--}l=Math.max(0,l-l%i),c=Math.min(s,c+(i-1-c%i))}return{startIndex:l,endIndex:c}}const $R=typeof document<"u"?x.useLayoutEffect:x.useEffect;function pne({useFlushSync:e=!0,...t}){const n=x.useReducer(()=>({}),{})[1],i={...t,onChange:(o,l)=>{var c;e&&l?Xi.flushSync(n):n(),(c=t.onChange)==null||c.call(t,o,l)}},[s]=x.useState(()=>new fne(i));return s.setOptions(i),$R(()=>s._didMount(),[]),$R(()=>s._willUpdate()),s}function mne(e){return pne({observeElementRect:lne,observeElementOffset:cne,scrollToFn:dne,...e})}const gne=(e,t,n)=>{const i=x.useCallback((h,g,v=0)=>{const b=[];for(const _ of g){const C=h[_];if(C&&(b.push({key:_,level:v}),C.expanded&&C.childrenKeys?.length)){const E=i(h,C.childrenKeys,v+1);for(let R=0;R<E.length;R++)b.push(E[R])}}return b},[]),s=x.useMemo(()=>i(e,t),[i,e,t]),o=x.useCallback(h=>e[s[h].key]?.rank==="KINGDOM"?72:34,[s,e]),l=x.useMemo(()=>{const h=[];let g=0;for(let v=0;v<s.length;v++)h[v]=g,g+=o(v);return h},[s,o]),c=mne({count:s.length,getScrollElement:()=>n.current,estimateSize:h=>o(h),overscan:10}),d=x.useMemo(()=>{const h=new Map;s.forEach((b,_)=>h.set(b.key,_));const g=[],v=Math.floor(Lx/2);for(let b=0;b<s.length;b++){const{key:_}=s[b],C=e[_];if(!C||!C.childrenKeys?.length||!C.expanded)continue;const E=C.childrenKeys.map(q=>h.get(q)).filter(q=>typeof q=="number");if(!E.length)continue;const R=Math.min(...E),N=Math.max(...E),k=l[R]-Math.round(o(R)/2),O=l[N]+Math.round(o(N)/2),M=Math.max(0,Math.round(O-k)),j=s[R].level,z=Math.round(j*DP+LP+jx/2)-D1,I=Math.round(z),$=Math.round(k),Z=C?.color??MP[C.kingdom?.toLocaleLowerCase()];g.push({type:"vertical",left:I-v,top:$,height:M,color:Z});for(const q of C.childrenKeys){const X=h.get(q);if(X==null)continue;const ne=Math.round(l[X]+o(X)/2);g.push({type:"horizontal",left:I-v,top:ne-v,width:D1+v,color:Z})}}return g},[s,e,l,o]);return{flattened:s,rowVirtualizer:c,connectors:d}},vne=({connectors:e,totalHeight:t})=>y.jsx("div",{"aria-hidden":!0,style:{position:"absolute",top:0,left:0,width:"100%",height:t,pointerEvents:"none",zIndex:0},children:e.map((n,i)=>n.type==="vertical"?y.jsx("div",{style:{position:"absolute",left:n.left,top:n.top,width:Lx,height:n.height,backgroundColor:n.color,boxSizing:"border-box"}},i):y.jsx("div",{style:{position:"absolute",left:n.left,top:n.top,width:n.width,height:Lx,backgroundColor:n.color,boxSizing:"border-box"}},i))});function yne(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,R=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:R,children:_})};h.displayName=o+"Provider";function g(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,g]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,bne(s,...t)]}function bne(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function YL(e){const t=xne(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(wne);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function xne(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=Cne(s),c=Sne(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _ne=Symbol("radix.slottable");function wne(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_ne}function Sne(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Cne(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ene=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Cs=Ene.reduce((e,t)=>{const n=YL(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),Ane=[" ","Enter","ArrowUp","ArrowDown"],Tne=[" ","Enter"],Yl="Select",[ev,tv,Rne]=Tg(Yl),[Fu]=yne(Yl,[Rne,Pu]),nv=Pu(),[kne,Fa]=Fu(Yl),[Nne,One]=Fu(Yl),ZL=e=>{const{__scopeSelect:t,children:n,open:i,defaultOpen:s,onOpenChange:o,value:l,defaultValue:c,onValueChange:d,dir:h,name:g,autoComplete:v,disabled:b,required:_,form:C}=e,E=nv(t),[R,N]=x.useState(null),[k,O]=x.useState(null),[M,j]=x.useState(!1),U=Rg(h),[z,I]=Do({prop:i,defaultProp:s??!1,onChange:o,caller:Yl}),[$,Z]=Do({prop:l,defaultProp:c,onChange:d,caller:Yl}),q=x.useRef(null),X=R?C||!!R.closest("form"):!0,[ne,re]=x.useState(new Set),ye=Array.from(ne).map(G=>G.props.value).join(";");return y.jsx(Dg,{...E,children:y.jsxs(kne,{required:_,scope:t,trigger:R,onTriggerChange:N,valueNode:k,onValueNodeChange:O,valueNodeHasChildren:M,onValueNodeHasChildrenChange:j,contentId:_s(),value:$,onValueChange:Z,open:z,onOpenChange:I,dir:U,triggerPointerDownPosRef:q,disabled:b,children:[y.jsx(ev.Provider,{scope:t,children:y.jsx(Nne,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(G=>{re(W=>new Set(W).add(G))},[]),onNativeOptionRemove:x.useCallback(G=>{re(W=>{const te=new Set(W);return te.delete(G),te})},[]),children:n})}),X?y.jsxs(yj,{"aria-hidden":!0,required:_,tabIndex:-1,name:g,autoComplete:v,value:$,onChange:G=>Z(G.target.value),disabled:b,form:C,children:[$===void 0?y.jsx("option",{value:""}):null,Array.from(ne)]},ye):null]})})};ZL.displayName=Yl;var XL="SelectTrigger",QL=x.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:i=!1,...s}=e,o=nv(n),l=Fa(XL,n),c=l.disabled||i,d=wt(t,l.onTriggerChange),h=tv(n),g=x.useRef("touch"),[v,b,_]=xj(E=>{const R=h().filter(O=>!O.disabled),N=R.find(O=>O.value===l.value),k=_j(R,E,N);k!==void 0&&l.onValueChange(k.value)}),C=E=>{c||(l.onOpenChange(!0),_()),E&&(l.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)})};return y.jsx(d_,{asChild:!0,...o,children:y.jsx(Cs.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":bj(l.value)?"":void 0,...s,ref:d,onClick:je(s.onClick,E=>{E.currentTarget.focus(),g.current!=="mouse"&&C(E)}),onPointerDown:je(s.onPointerDown,E=>{g.current=E.pointerType;const R=E.target;R.hasPointerCapture(E.pointerId)&&R.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&E.pointerType==="mouse"&&(C(E),E.preventDefault())}),onKeyDown:je(s.onKeyDown,E=>{const R=v.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&b(E.key),!(R&&E.key===" ")&&Ane.includes(E.key)&&(C(),E.preventDefault())})})})});QL.displayName=XL;var JL="SelectValue",ej=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:i,style:s,children:o,placeholder:l="",...c}=e,d=Fa(JL,n),{onValueNodeHasChildrenChange:h}=d,g=o!==void 0,v=wt(t,d.onValueNodeChange);return Dn(()=>{h(g)},[h,g]),y.jsx(Cs.span,{...c,ref:v,style:{pointerEvents:"none"},children:bj(d.value)?y.jsx(y.Fragment,{children:l}):o})});ej.displayName=JL;var Pne="SelectIcon",tj=x.forwardRef((e,t)=>{const{__scopeSelect:n,children:i,...s}=e;return y.jsx(Cs.span,{"aria-hidden":!0,...s,ref:t,children:i||""})});tj.displayName=Pne;var Mne="SelectPortal",nj=e=>y.jsx(Yf,{asChild:!0,...e});nj.displayName=Mne;var Zl="SelectContent",ij=x.forwardRef((e,t)=>{const n=Fa(Zl,e.__scopeSelect),[i,s]=x.useState();if(Dn(()=>{s(new DocumentFragment)},[]),!n.open){const o=i;return o?Xi.createPortal(y.jsx(sj,{scope:e.__scopeSelect,children:y.jsx(ev.Slot,{scope:e.__scopeSelect,children:y.jsx("div",{children:e.children})})}),o):null}return y.jsx(rj,{...e,ref:t})});ij.displayName=Zl;var cr=10,[sj,Va]=Fu(Zl),Dne="SelectContentImpl",Lne=YL("SelectContent.RemoveScroll"),rj=x.forwardRef((e,t)=>{const{__scopeSelect:n,position:i="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:l,side:c,sideOffset:d,align:h,alignOffset:g,arrowPadding:v,collisionBoundary:b,collisionPadding:_,sticky:C,hideWhenDetached:E,avoidCollisions:R,...N}=e,k=Fa(Zl,n),[O,M]=x.useState(null),[j,U]=x.useState(null),z=wt(t,Se=>M(Se)),[I,$]=x.useState(null),[Z,q]=x.useState(null),X=tv(n),[ne,re]=x.useState(!1),ye=x.useRef(!1);x.useEffect(()=>{if(O)return p_(O)},[O]),n_();const G=x.useCallback(Se=>{const[Le,...Me]=X().map(Ze=>Ze.ref.current),[De]=Me.slice(-1),Ye=document.activeElement;for(const Ze of Se)if(Ze===Ye||(Ze?.scrollIntoView({block:"nearest"}),Ze===Le&&j&&(j.scrollTop=0),Ze===De&&j&&(j.scrollTop=j.scrollHeight),Ze?.focus(),document.activeElement!==Ye))return},[X,j]),W=x.useCallback(()=>G([I,O]),[G,I,O]);x.useEffect(()=>{ne&&W()},[ne,W]);const{onOpenChange:te,triggerPointerDownPosRef:he}=k;x.useEffect(()=>{if(O){let Se={x:0,y:0};const Le=De=>{Se={x:Math.abs(Math.round(De.pageX)-(he.current?.x??0)),y:Math.abs(Math.round(De.pageY)-(he.current?.y??0))}},Me=De=>{Se.x<=10&&Se.y<=10?De.preventDefault():O.contains(De.target)||te(!1),document.removeEventListener("pointermove",Le),he.current=null};return he.current!==null&&(document.addEventListener("pointermove",Le),document.addEventListener("pointerup",Me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Le),document.removeEventListener("pointerup",Me,{capture:!0})}}},[O,te,he]),x.useEffect(()=>{const Se=()=>te(!1);return window.addEventListener("blur",Se),window.addEventListener("resize",Se),()=>{window.removeEventListener("blur",Se),window.removeEventListener("resize",Se)}},[te]);const[oe,K]=xj(Se=>{const Le=X().filter(Ye=>!Ye.disabled),Me=Le.find(Ye=>Ye.ref.current===document.activeElement),De=_j(Le,Se,Me);De&&setTimeout(()=>De.ref.current.focus())}),ce=x.useCallback((Se,Le,Me)=>{const De=!ye.current&&!Me;(k.value!==void 0&&k.value===Le||De)&&($(Se),De&&(ye.current=!0))},[k.value]),be=x.useCallback(()=>O?.focus(),[O]),xe=x.useCallback((Se,Le,Me)=>{const De=!ye.current&&!Me;(k.value!==void 0&&k.value===Le||De)&&q(Se)},[k.value]),Re=i==="popper"?N0:oj,we=Re===N0?{side:c,sideOffset:d,align:h,alignOffset:g,arrowPadding:v,collisionBoundary:b,collisionPadding:_,sticky:C,hideWhenDetached:E,avoidCollisions:R}:{};return y.jsx(sj,{scope:n,content:O,viewport:j,onViewportChange:U,itemRefCallback:ce,selectedItem:I,onItemLeave:be,itemTextRefCallback:xe,focusSelectedItem:W,selectedItemText:Z,position:i,isPositioned:ne,searchRef:oe,children:y.jsx(jg,{as:Lne,allowPinchZoom:!0,children:y.jsx(kg,{asChild:!0,trapped:k.open,onMountAutoFocus:Se=>{Se.preventDefault()},onUnmountAutoFocus:je(s,Se=>{k.trigger?.focus({preventScroll:!0}),Se.preventDefault()}),children:y.jsx(qf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:Se=>Se.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:y.jsx(Re,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:Se=>Se.preventDefault(),...N,...we,onPlaced:()=>re(!0),ref:z,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:je(N.onKeyDown,Se=>{const Le=Se.ctrlKey||Se.altKey||Se.metaKey;if(Se.key==="Tab"&&Se.preventDefault(),!Le&&Se.key.length===1&&K(Se.key),["ArrowUp","ArrowDown","Home","End"].includes(Se.key)){let De=X().filter(Ye=>!Ye.disabled).map(Ye=>Ye.ref.current);if(["ArrowUp","End"].includes(Se.key)&&(De=De.slice().reverse()),["ArrowUp","ArrowDown"].includes(Se.key)){const Ye=Se.target,Ze=De.indexOf(Ye);De=De.slice(Ze+1)}setTimeout(()=>G(De)),Se.preventDefault()}})})})})})})});rj.displayName=Dne;var jne="SelectItemAlignedPosition",oj=x.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:i,...s}=e,o=Fa(Zl,n),l=Va(Zl,n),[c,d]=x.useState(null),[h,g]=x.useState(null),v=wt(t,z=>g(z)),b=tv(n),_=x.useRef(!1),C=x.useRef(!0),{viewport:E,selectedItem:R,selectedItemText:N,focusSelectedItem:k}=l,O=x.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&h&&E&&R&&N){const z=o.trigger.getBoundingClientRect(),I=h.getBoundingClientRect(),$=o.valueNode.getBoundingClientRect(),Z=N.getBoundingClientRect();if(o.dir!=="rtl"){const Ye=Z.left-I.left,Ze=$.left-Ye,St=z.left-Ze,vt=z.width+St,It=Math.max(vt,I.width),dn=window.innerWidth-cr,fn=ig(Ze,[cr,Math.max(cr,dn-It)]);c.style.minWidth=vt+"px",c.style.left=fn+"px"}else{const Ye=I.right-Z.right,Ze=window.innerWidth-$.right-Ye,St=window.innerWidth-z.right-Ze,vt=z.width+St,It=Math.max(vt,I.width),dn=window.innerWidth-cr,fn=ig(Ze,[cr,Math.max(cr,dn-It)]);c.style.minWidth=vt+"px",c.style.right=fn+"px"}const q=b(),X=window.innerHeight-cr*2,ne=E.scrollHeight,re=window.getComputedStyle(h),ye=parseInt(re.borderTopWidth,10),G=parseInt(re.paddingTop,10),W=parseInt(re.borderBottomWidth,10),te=parseInt(re.paddingBottom,10),he=ye+G+ne+te+W,oe=Math.min(R.offsetHeight*5,he),K=window.getComputedStyle(E),ce=parseInt(K.paddingTop,10),be=parseInt(K.paddingBottom,10),xe=z.top+z.height/2-cr,Re=X-xe,we=R.offsetHeight/2,Se=R.offsetTop+we,Le=ye+G+Se,Me=he-Le;if(Le<=xe){const Ye=q.length>0&&R===q[q.length-1].ref.current;c.style.bottom="0px";const Ze=h.clientHeight-E.offsetTop-E.offsetHeight,St=Math.max(Re,we+(Ye?be:0)+Ze+W),vt=Le+St;c.style.height=vt+"px"}else{const Ye=q.length>0&&R===q[0].ref.current;c.style.top="0px";const St=Math.max(xe,ye+E.offsetTop+(Ye?ce:0)+we)+Me;c.style.height=St+"px",E.scrollTop=Le-xe+E.offsetTop}c.style.margin=`${cr}px 0`,c.style.minHeight=oe+"px",c.style.maxHeight=X+"px",i?.(),requestAnimationFrame(()=>_.current=!0)}},[b,o.trigger,o.valueNode,c,h,E,R,N,o.dir,i]);Dn(()=>O(),[O]);const[M,j]=x.useState();Dn(()=>{h&&j(window.getComputedStyle(h).zIndex)},[h]);const U=x.useCallback(z=>{z&&C.current===!0&&(O(),k?.(),C.current=!1)},[O,k]);return y.jsx(zne,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:_,onScrollButtonChange:U,children:y.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:y.jsx(Cs.div,{...s,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});oj.displayName=jne;var Ine="SelectPopperPosition",N0=x.forwardRef((e,t)=>{const{__scopeSelect:n,align:i="start",collisionPadding:s=cr,...o}=e,l=nv(n);return y.jsx(f_,{...l,...o,ref:t,align:i,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});N0.displayName=Ine;var[zne,Aw]=Fu(Zl,{}),O0="SelectViewport",aj=x.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:i,...s}=e,o=Va(O0,n),l=Aw(O0,n),c=wt(t,o.onViewportChange),d=x.useRef(0);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),y.jsx(ev.Slot,{scope:n,children:y.jsx(Cs.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:je(s.onScroll,h=>{const g=h.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:b}=l;if(b?.current&&v){const _=Math.abs(d.current-g.scrollTop);if(_>0){const C=window.innerHeight-cr*2,E=parseFloat(v.style.minHeight),R=parseFloat(v.style.height),N=Math.max(E,R);if(N<C){const k=N+_,O=Math.min(C,k),M=k-O;v.style.height=O+"px",v.style.bottom==="0px"&&(g.scrollTop=M>0?M:0,v.style.justifyContent="flex-end")}}}d.current=g.scrollTop})})})]})});aj.displayName=O0;var lj="SelectGroup",[Bne,Une]=Fu(lj),Fne=x.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,s=_s();return y.jsx(Bne,{scope:n,id:s,children:y.jsx(Cs.div,{role:"group","aria-labelledby":s,...i,ref:t})})});Fne.displayName=lj;var cj="SelectLabel",Vne=x.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,s=Une(cj,n);return y.jsx(Cs.div,{id:s.id,...i,ref:t})});Vne.displayName=cj;var gg="SelectItem",[$ne,uj]=Fu(gg),dj=x.forwardRef((e,t)=>{const{__scopeSelect:n,value:i,disabled:s=!1,textValue:o,...l}=e,c=Fa(gg,n),d=Va(gg,n),h=c.value===i,[g,v]=x.useState(o??""),[b,_]=x.useState(!1),C=wt(t,k=>d.itemRefCallback?.(k,i,s)),E=_s(),R=x.useRef("touch"),N=()=>{s||(c.onValueChange(i),c.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return y.jsx($ne,{scope:n,value:i,disabled:s,textId:E,isSelected:h,onItemTextChange:x.useCallback(k=>{v(O=>O||(k?.textContent??"").trim())},[]),children:y.jsx(ev.ItemSlot,{scope:n,value:i,disabled:s,textValue:g,children:y.jsx(Cs.div,{role:"option","aria-labelledby":E,"data-highlighted":b?"":void 0,"aria-selected":h&&b,"data-state":h?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:C,onFocus:je(l.onFocus,()=>_(!0)),onBlur:je(l.onBlur,()=>_(!1)),onClick:je(l.onClick,()=>{R.current!=="mouse"&&N()}),onPointerUp:je(l.onPointerUp,()=>{R.current==="mouse"&&N()}),onPointerDown:je(l.onPointerDown,k=>{R.current=k.pointerType}),onPointerMove:je(l.onPointerMove,k=>{R.current=k.pointerType,s?d.onItemLeave?.():R.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:je(l.onPointerLeave,k=>{k.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:je(l.onKeyDown,k=>{d.searchRef?.current!==""&&k.key===" "||(Tne.includes(k.key)&&N(),k.key===" "&&k.preventDefault())})})})})});dj.displayName=gg;var tf="SelectItemText",fj=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:i,style:s,...o}=e,l=Fa(tf,n),c=Va(tf,n),d=uj(tf,n),h=One(tf,n),[g,v]=x.useState(null),b=wt(t,N=>v(N),d.onItemTextChange,N=>c.itemTextRefCallback?.(N,d.value,d.disabled)),_=g?.textContent,C=x.useMemo(()=>y.jsx("option",{value:d.value,disabled:d.disabled,children:_},d.value),[d.disabled,d.value,_]),{onNativeOptionAdd:E,onNativeOptionRemove:R}=h;return Dn(()=>(E(C),()=>R(C)),[E,R,C]),y.jsxs(y.Fragment,{children:[y.jsx(Cs.span,{id:d.textId,...o,ref:b}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Xi.createPortal(o.children,l.valueNode):null]})});fj.displayName=tf;var hj="SelectItemIndicator",pj=x.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e;return uj(hj,n).isSelected?y.jsx(Cs.span,{"aria-hidden":!0,...i,ref:t}):null});pj.displayName=hj;var P0="SelectScrollUpButton",mj=x.forwardRef((e,t)=>{const n=Va(P0,e.__scopeSelect),i=Aw(P0,e.__scopeSelect),[s,o]=x.useState(!1),l=wt(t,i.onScrollButtonChange);return Dn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollTop>0;o(h)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?y.jsx(vj,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});mj.displayName=P0;var M0="SelectScrollDownButton",gj=x.forwardRef((e,t)=>{const n=Va(M0,e.__scopeSelect),i=Aw(M0,e.__scopeSelect),[s,o]=x.useState(!1),l=wt(t,i.onScrollButtonChange);return Dn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollHeight-d.clientHeight,g=Math.ceil(d.scrollTop)<h;o(g)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?y.jsx(vj,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});gj.displayName=M0;var vj=x.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:i,...s}=e,o=Va("SelectScrollButton",n),l=x.useRef(null),c=tv(n),d=x.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return x.useEffect(()=>()=>d(),[d]),Dn(()=>{c().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),y.jsx(Cs.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:je(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(i,50))}),onPointerMove:je(s.onPointerMove,()=>{o.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(i,50))}),onPointerLeave:je(s.onPointerLeave,()=>{d()})})}),Hne="SelectSeparator",Gne=x.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e;return y.jsx(Cs.div,{"aria-hidden":!0,...i,ref:t})});Gne.displayName=Hne;var D0="SelectArrow",Kne=x.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,s=nv(n),o=Fa(D0,n),l=Va(D0,n);return o.open&&l.position==="popper"?y.jsx(h_,{...s,...i,ref:t}):null});Kne.displayName=D0;var qne="SelectBubbleInput",yj=x.forwardRef(({__scopeSelect:e,value:t,...n},i)=>{const s=x.useRef(null),o=wt(i,s),l=VP(t);return x.useEffect(()=>{const c=s.current;if(!c)return;const d=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&g){const v=new Event("change",{bubbles:!0});g.call(c,t),c.dispatchEvent(v)}},[l,t]),y.jsx(Cs.select,{...n,style:{...DL,...n.style},ref:o,defaultValue:t})});yj.displayName=qne;function bj(e){return e===""||e===void 0}function xj(e){const t=Gs(e),n=x.useRef(""),i=x.useRef(0),s=x.useCallback(l=>{const c=n.current+l;t(c),(function d(h){n.current=h,window.clearTimeout(i.current),h!==""&&(i.current=window.setTimeout(()=>d(""),1e3))})(c)},[t]),o=x.useCallback(()=>{n.current="",window.clearTimeout(i.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(i.current),[]),[n,s,o]}function _j(e,t,n){const s=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let l=Wne(e,Math.max(o,0));s.length===1&&(l=l.filter(h=>h!==n));const d=l.find(h=>h.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function Wne(e,t){return e.map((n,i)=>e[(t+i)%e.length])}var Yne=ZL,Zne=QL,Xne=ej,Qne=tj,Jne=nj,eie=ij,tie=aj,nie=dj,iie=fj,sie=pj,rie=mj,oie=gj;function aie({...e}){return y.jsx(Yne,{"data-slot":"select",...e})}function lie({...e}){return y.jsx(Xne,{"data-slot":"select-value",...e})}function cie({className:e,size:t="default",children:n,...i}){return y.jsxs(Zne,{"data-slot":"select-trigger","data-size":t,className:it("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...i,children:[n,y.jsx(Qne,{asChild:!0,children:y.jsx(Sf,{className:"size-4 opacity-50"})})]})}function uie({className:e,children:t,position:n="popper",...i}){return y.jsx(Jne,{children:y.jsxs(eie,{"data-slot":"select-content",className:it("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...i,children:[y.jsx(fie,{}),y.jsx(tie,{className:it("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),y.jsx(hie,{})]})})}function die({className:e,children:t,...n}){return y.jsxs(nie,{"data-slot":"select-item",className:it("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[y.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:y.jsx(sie,{children:y.jsx(MO,{className:"size-4"})})}),y.jsx(iie,{children:t})]})}function fie({className:e,...t}){return y.jsx(rie,{"data-slot":"select-scroll-up-button",className:it("flex cursor-default items-center justify-center py-1",e),...t,children:y.jsx(DO,{className:"size-4"})})}function hie({className:e,...t}){return y.jsx(oie,{"data-slot":"select-scroll-down-button",className:it("flex cursor-default items-center justify-center py-1",e),...t,children:y.jsx(Sf,{className:"size-4"})})}const pie=()=>{const{t:e}=Mt(),[t,n]=x.useState(""),[i,s]=x.useState(""),[o,l]=x.useState(!1),[c,d]=x.useState(null),[h,g]=x.useState(null),[v,b]=x.useState(null),[_,C]=x.useState(!1),{navigateToNodes:E}=ph(),R=x.useMemo(()=>Object.entries(Au).map(([j,U])=>({key:Number(j),name:U})),[]),N={animalia:"gorilla gorilla",plantae:"zea mays",fungi:"amanita muscaria",bacteria:"escherichia coli",archaea:"halobacterium salinarum",chromista:"navicula radiosa",protozoa:"amoeba proteus"},k=i?`${e("search.example")}: ${N[String(i).toLowerCase()]??"sapiens"}`:e("search.selectKingdom"),O=async j=>{if(j?.preventDefault(),g(null),!i){g(e("search.selectKingdomFirst"));return}if(!(!t||!t.trim())){l(!0);try{const I=(await _Y(t.trim(),i)??[]).filter(X=>{const re=X.nubKey,ye=typeof re=="number"&&re>0,G=String(X.rank??"").toLowerCase().includes("sub"),W=String(X.kingdom??"").toLowerCase(),te=W===String(i??"").toLowerCase()||W==="metazoa"&&String(i??"").toLowerCase()==="animalia";return!!(ye&&!G&&te)}),$=t.trim().toLowerCase(),Z=$.split(/\s+/).filter(Boolean),q=X=>{const ne=new Map,re=new Map;X.forEach(W=>{const te=((W.canonicalName||W.scientificName)??"").trim();if(!te)return;const he=te.toLowerCase().split(/\s+/).filter(Boolean);if(he.length>=2){const oe=`${he[0]} ${he[1]}`,K=ne.get(oe);(!K||K.rank!=="SPECIES")&&ne.set(oe,W)}else if(he.length===1){const oe=he[0],K=re.get(oe);(!K||K.rank!=="GENUS")&&re.set(oe,W)}});const ye=Z[0],G=[];if(Z.length===1&&ye){for(const[W,te]of ne.entries())W.split(" ")[1]===ye&&G.push(te);if(re.has(ye))G.unshift(re.get(ye));else for(const W of re.values())if(String(W.genus??"").toLowerCase()===ye){G.unshift(W);break}if(G.length>0)return G.slice(0,10)}if(ye&&re.has(ye))G.push(re.get(ye));else if(ye){for(const W of re.values())if(String(W.genus??"").toLowerCase()===ye){G.push(W);break}}for(const[W,te]of ne.entries())if(W.startsWith(ye+" ")){G.push(te);break}if(G.length===0){if(re.size>0){const W=re.values().next().value;W&&G.push(W)}if(ne.size>0){const W=ne.values().next().value;W&&G.push(W)}}return G};if(Z.length>=2){const X=I.filter(re=>((re.canonicalName||re.scientificName)??"").toLowerCase()===$),ne=X.length?X:I.filter(re=>{const ye=((re.canonicalName||re.scientificName)??"").toLowerCase();return Z.every(G=>ye.includes(G))});d(q(ne))}else{const X=I.filter(re=>((re.canonicalName||re.scientificName)??"").toLowerCase()===$&&re.rank==="SPECIES"),ne=X.length?[...X,...I.filter(re=>!X.includes(re))]:I;d(q(ne))}}catch(U){console.error(U),g(e("search.gbifError")),d(null)}finally{l(!1)}}},M=async j=>{l(!0);try{let U,z=null;try{const W=await UM(j.key);z=W,U=W.nubKey??W.key}catch{}const I=U??j.key,$=await wY(I);if(!$||$.length===0){g(e("search.lineageError")),l(!1);return}const Z=j.rank==="SPECIES",q=$.findIndex(G=>G.rank==="GENUS");let X=$.length;if(Z&&q!==-1)X=q+1;else if(j.rank==="GENUS"){const G=$.findIndex(W=>{const te=W,he=te.nubKey??te.key;return W.key===j.key||he===j.key});G!==-1&&(X=G+1)}const re=$.slice(0,X).map(G=>{const W=G,te=W.nubKey??W.key??0,he=W.canonicalName||W.scientificName||W.name||W.rank||"";return{key:te,rank:W.rank??"KINGDOM",name:he}});if(j.rank==="SPECIES"||!!(z&&(z.species||z.species===""))){const G=U??j.key,W=z?.species||j.canonicalName||j.scientificName||"",te=re[re.length-1]?.key;G&&G!==te&&re.push({key:G,rank:"SPECIES",name:W})}E(re,!0),b(j)}catch(U){console.error(U),g(e("search.pathError"))}finally{l(!1)}};return y.jsxs("div",{children:[y.jsxs("form",{onSubmit:O,className:"flex h-9.5 flex-nowrap items-center gap-2",children:[y.jsxs(aie,{value:i,onValueChange:j=>s(j),children:[y.jsx(cie,{className:"rounded-lg border px-2 text-sm font-medium",children:y.jsx(lie,{placeholder:e("search.kingdom"),children:i?y.jsx(Hn,{src:gs(R.find(j=>j.name===i)?.key??0),alt:"Reino",className:"size-5"}):y.jsx("span",{children:e("search.kingdom")})})}),y.jsx(uie,{className:"rounded-lg text-sm font-medium",children:R.map(j=>y.jsxs(die,{value:j.name,children:[y.jsx(Hn,{src:gs(j.key),alt:`${i} icon`,className:"size-5"}),Mi(j.name)]},j.key))})]}),y.jsx("input",{value:t,onChange:j=>n(j.target.value),placeholder:k,className:"h-full min-w-0 flex-1 rounded-md border px-3 py-2 text-sm","aria-label":e("search.searchTaxa")}),y.jsx("button",{type:"submit",disabled:o,className:"h-full cursor-pointer rounded-md border px-3 py-2 text-sm disabled:opacity-60",children:o?y.jsx(th,{className:"size-4 animate-spin"}):y.jsx($O,{className:"size-4"})})]}),h&&y.jsx("div",{className:"mt-2 text-sm text-red-600",children:h}),c&&y.jsxs("div",{className:"bg-card mt-3 w-full rounded-lg border p-2 shadow-sm",children:[y.jsxs("button",{onClick:()=>C(j=>!j),className:"flex w-full cursor-pointer items-center justify-between px-2","aria-label":e(_?"search.expandResults":"search.minimizeResults"),children:[y.jsxs("strong",{className:"text-sm",children:[c.length," ",e("search.results")]}),y.jsx("span",{className:"text-muted-foreground",children:_?"":""})]}),!_&&y.jsx("ul",{className:"max-h-60 space-y-1 overflow-auto",children:c.map(j=>y.jsx("li",{children:y.jsx("button",{onClick:()=>M(j),className:`hover:bg-accent w-full cursor-pointer rounded-lg px-3 py-2 text-left ${v?.key===j.key?"bg-muted font-medium":""}`,children:y.jsx("div",{className:"flex items-center justify-between",children:y.jsxs("div",{children:[y.jsx("div",{className:"font-medium",children:j.canonicalName||j.scientificName}),y.jsx("div",{className:"text-muted-foreground text-xs",children:[j.kingdom&&Mi(String(j.kingdom)),j.phylum&&Mi(String(j.phylum)),j.class&&Mi(String(j.class)),j.order&&Mi(String(j.order)),j.family&&Mi(String(j.family)),j.genus&&Mi(String(j.genus))].filter(Boolean).join("  ")})]})})})},j.key))})]})]})},mie="/treevera/assets/click-success-CCSz7ZCu.wav",gie="/treevera/assets/click-error-e1JTzZ7m.wav",vie="/treevera/assets/winning-CUspfwTE.wav",yie={success:mie,error:gie,win:vie};class bie{play(t){const n=Kf(),{muted:i,volume:s}=n.get(FP);if(i)return;const o=new Audio(yie[t]);o.volume=s,o.play().catch(()=>{})}}const rx=new bie,xie=()=>{const e=Be(nt.expandedNodes),t=Be(nt.challenge),n=t.status,i=t.speciesKey??0,s=x.useRef(!1),o=x.useRef(new Set),{data:l}=Bo({specieKey:i}),c=x.useMemo(()=>l?Jg(l):[],[l]);x.useEffect(()=>{n==="COMPLETED"&&(s.current||(rx.play("win"),s.current=!0))},[n]),x.useEffect(()=>{if(n!=="IN_PROGRESS")return;if(e.length===0){o.current=new Set;return}const d=e[e.length-1];if(!d)return;const h=!o.current.has(d.key);if(o.current=new Set(e.map(_=>_.key)),!h)return;const g=e.length-1,v=c[g];if(!v)return;d.name.toLowerCase()===v.name.toLowerCase()?rx.play("success"):rx.play("error")},[e,n,c]),x.useEffect(()=>{s.current=!1,o.current=new Set},[i])};function _ie(e,t){const n=Be(nt.expandedNodes),i=Be(nt.shortcutScrollTarget),s=qt(zP),{isMobile:o}=ec(),l=x.useRef({targetPath:null,scrolledKey:null});x.useEffect(()=>{if(!i||i.length===0){l.current={targetPath:null,scrolledKey:null};return}l.current.targetPath!==i&&(l.current={targetPath:i,scrolledKey:null},o&&window.scrollTo({top:0,behavior:"smooth"}));let c=null;for(let h=i.length-1;h>=0;h--){const g=i[h].key;if(n.some(v=>v.key===g)&&e.some(v=>v.key===g)){c=g;break}}if(c===null||c===l.current.scrolledKey)return;l.current.scrolledKey=c;const d=e.findIndex(h=>h.key===c);d!==-1&&(t.scrollToIndex(d,{align:"start",behavior:"smooth"}),c===i[i.length-1]?.key&&s(null))},[i,n,e,t,s,o])}function ja({className:e,...t}){return y.jsx("div",{"data-slot":"card",className:it("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function wj({className:e,...t}){return y.jsx("div",{"data-slot":"card-header",className:it("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Sj({className:e,...t}){return y.jsx("div",{"data-slot":"card-title",className:it("leading-none font-semibold",e),...t})}function wie({className:e,...t}){return y.jsx("div",{"data-slot":"card-description",className:it("text-muted-foreground text-sm",e),...t})}function Ia({className:e,...t}){return y.jsx("div",{"data-slot":"card-content",className:it("px-6",e),...t})}const mh="/treevera/assets/alvo-DNWwIacs.gif",iv="/treevera/assets/alvo-white-D_dDYQFf.gif",Cj=()=>{const[e,t]=x.useState("24:00:00");return x.useEffect(()=>{const n=()=>{const s=new Date,o=new Date;o.setHours(24,0,0,0);const l=o.getTime()-s.getTime(),c=String(Math.floor(l/36e5)).padStart(2,"0"),d=String(Math.floor(l%36e5/6e4)).padStart(2,"0"),h=String(Math.floor(l%6e4/1e3)).padStart(2,"0");t(`${c}:${d}:${h}`)};n();const i=setInterval(n,1e3);return()=>clearInterval(i)},[]),y.jsxs("div",{className:"flex items-center gap-1 text-right",children:[y.jsx(K$,{className:"text-muted-foreground size-3 shrink-0"}),y.jsx("span",{className:"text-muted-foreground font-mono text-xs tabular-nums",children:e})]})},Sie=async e=>{const{data:t,error:n}=await $n.rpc("get_or_create_daily_challenge",{p_date:e});if(n||!t||t.length===0)return console.error("Error fetching daily challenge:",n),null;const i=t[0];return{gbifKey:i.gbif_key,scientificName:i.scientific_name}},Cie=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${i}`},HR=()=>{const e=new Date;return e.setHours(24,0,0,0),e.getTime()-Date.now()},Ej=e=>{const{daily_challenge_key:t}=ah,n=Cie(),i=e??n,s=i===n;return Qr({queryKey:[t,i],queryFn:()=>Sie(i),staleTime:s?HR():1/0,gcTime:s?HR()+1e3*60*5:1e3*60*60*24})},Eie=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${i}`},Aie=async e=>{const t=Eie(),{data:n,error:i}=await $n.from("daily_challenges").select("date, gbif_key").lte("date",t).order("date",{ascending:!1}).limit(60);if(i||!n)return[];if(!e||n.length===0)return n.map(c=>({date:c.date,gbifKey:c.gbif_key,completed:!1}));const s=n.map(c=>c.gbif_key),{data:o}=await $n.from("user_challenge_history").select("gbif_key").eq("user_id",e).eq("mode","DAILY").in("gbif_key",s),l=new Set((o??[]).map(c=>c.gbif_key));return n.map(c=>({date:c.date,gbifKey:c.gbif_key,completed:l.has(c.gbif_key)}))},Aj=()=>{const t=Be(at.session)?.user?.id;return Qr({queryKey:["challenge_dates",t??"anonymous"],queryFn:()=>Aie(t),staleTime:1e3*60*5})};function Tie(e,t){const n=x.createContext(t),i=o=>{const{children:l,...c}=o,d=x.useMemo(()=>c,Object.values(c));return y.jsx(n.Provider,{value:d,children:l})};i.displayName=e+"Provider";function s(o){const l=x.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[i,s]}function Rie(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,R=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:R,children:_})};h.displayName=o+"Provider";function g(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,g]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,kie(s,...t)]}function kie(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function Tj(e){const t=Nie(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(Pie);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function Nie(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=Die(s),c=Mie(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Oie=Symbol("radix.slottable");function Pie(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Oie}function Mie(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Die(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Lie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gh=Lie.reduce((e,t)=>{const n=Tj(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),sv="Dialog",[Rj]=Rie(sv),[jie,xr]=Rj(sv),kj=e=>{const{__scopeDialog:t,children:n,open:i,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,c=x.useRef(null),d=x.useRef(null),[h,g]=Do({prop:i,defaultProp:s??!1,onChange:o,caller:sv});return y.jsx(jie,{scope:t,triggerRef:c,contentRef:d,contentId:_s(),titleId:_s(),descriptionId:_s(),open:h,onOpenChange:g,onOpenToggle:x.useCallback(()=>g(v=>!v),[g]),modal:l,children:n})};kj.displayName=sv;var Nj="DialogTrigger",Oj=x.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=xr(Nj,n),o=wt(t,s.triggerRef);return y.jsx(gh.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":kw(s.open),...i,ref:o,onClick:je(e.onClick,s.onOpenToggle)})});Oj.displayName=Nj;var Tw="DialogPortal",[Iie,Pj]=Rj(Tw,{forceMount:void 0}),Mj=e=>{const{__scopeDialog:t,forceMount:n,children:i,container:s}=e,o=xr(Tw,t);return y.jsx(Iie,{scope:t,forceMount:n,children:x.Children.map(i,l=>y.jsx(br,{present:n||o.open,children:y.jsx(Yf,{asChild:!0,container:s,children:l})}))})};Mj.displayName=Tw;var vg="DialogOverlay",Dj=x.forwardRef((e,t)=>{const n=Pj(vg,e.__scopeDialog),{forceMount:i=n.forceMount,...s}=e,o=xr(vg,e.__scopeDialog);return o.modal?y.jsx(br,{present:i||o.open,children:y.jsx(Bie,{...s,ref:t})}):null});Dj.displayName=vg;var zie=Tj("DialogOverlay.RemoveScroll"),Bie=x.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=xr(vg,n);return y.jsx(jg,{as:zie,allowPinchZoom:!0,shards:[s.contentRef],children:y.jsx(gh.div,{"data-state":kw(s.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),Xl="DialogContent",Lj=x.forwardRef((e,t)=>{const n=Pj(Xl,e.__scopeDialog),{forceMount:i=n.forceMount,...s}=e,o=xr(Xl,e.__scopeDialog);return y.jsx(br,{present:i||o.open,children:o.modal?y.jsx(Uie,{...s,ref:t}):y.jsx(Fie,{...s,ref:t})})});Lj.displayName=Xl;var Uie=x.forwardRef((e,t)=>{const n=xr(Xl,e.__scopeDialog),i=x.useRef(null),s=wt(t,n.contentRef,i);return x.useEffect(()=>{const o=i.current;if(o)return p_(o)},[]),y.jsx(jj,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:je(e.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:je(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&o.preventDefault()}),onFocusOutside:je(e.onFocusOutside,o=>o.preventDefault())})}),Fie=x.forwardRef((e,t)=>{const n=xr(Xl,e.__scopeDialog),i=x.useRef(!1),s=x.useRef(!1);return y.jsx(jj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(i.current||n.triggerRef.current?.focus(),o.preventDefault()),i.current=!1,s.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(i.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;n.triggerRef.current?.contains(l)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),jj=x.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,...l}=e,c=xr(Xl,n),d=x.useRef(null),h=wt(t,d);return n_(),y.jsxs(y.Fragment,{children:[y.jsx(kg,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:s,onUnmountAutoFocus:o,children:y.jsx(qf,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":kw(c.open),...l,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),y.jsxs(y.Fragment,{children:[y.jsx($ie,{titleId:c.titleId}),y.jsx(Gie,{contentRef:d,descriptionId:c.descriptionId})]})]})}),Rw="DialogTitle",Ij=x.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=xr(Rw,n);return y.jsx(gh.h2,{id:s.titleId,...i,ref:t})});Ij.displayName=Rw;var zj="DialogDescription",Vie=x.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=xr(zj,n);return y.jsx(gh.p,{id:s.descriptionId,...i,ref:t})});Vie.displayName=zj;var Bj="DialogClose",Uj=x.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=xr(Bj,n);return y.jsx(gh.button,{type:"button",...i,ref:t,onClick:je(e.onClick,()=>s.onOpenChange(!1))})});Uj.displayName=Bj;function kw(e){return e?"open":"closed"}var Fj="DialogTitleWarning",[Kae,Vj]=Tie(Fj,{contentName:Xl,titleName:Rw,docsSlug:"dialog"}),$ie=({titleId:e})=>{const t=Vj(Fj),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Hie="DialogDescriptionWarning",Gie=({contentRef:e,descriptionId:t})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Vj(Hie).contentName}}.`;return x.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(i))},[i,e,t]),null},$j=kj,Hj=Oj,Gj=Mj,Kie=Dj,Kj=Lj,qj=Ij,Wj=Uj;const Yj=$j,qie=Hj,Wie=Gj,Yie=({className:e,...t})=>y.jsx(Kie,{className:it("fixed inset-0 z-50 bg-black/60 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}),Zj=({className:e,children:t,...n})=>y.jsxs(Wie,{children:[y.jsx(Yie,{}),y.jsxs(Kj,{className:it("bg-background fixed top-[50%] left-[50%] z-50 max-h-[90dvh] w-full max-w-lg -translate-x-1/2 -translate-y-1/2 overflow-hidden rounded-2xl border shadow-xl duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95",e),...n,children:[t,y.jsxs(Wj,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-none disabled:pointer-events-none",children:[y.jsx(Gl,{className:"size-4"}),y.jsx("span",{className:"sr-only",children:"Close"})]})]})]}),Xj=({className:e,...t})=>y.jsx("div",{className:it("flex flex-col gap-1.5 p-6 pb-4",e),...t}),Qj=({className:e,...t})=>y.jsx(qj,{className:it("text-lg leading-none font-semibold tracking-tight",e),...t}),Zie=(e,t)=>new Date(e,t+1,0).getDate(),Xie=(e,t)=>{const n=new Date(e,t,1).getDay();return n===0?6:n-1},Qie=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${i}`},Jie=({selectedDate:e,challengeDates:t,onSelectDate:n,formattedLabel:i})=>{const{i18n:s,t:o}=Mt(),l=Qie(),[c,d]=x.useState(!1),[h,g]=x.useState(()=>parseInt(e.slice(0,4))),[v,b]=x.useState(()=>parseInt(e.slice(5,7))-1),_=new Map(t.map(ne=>[ne.date,ne])),C=l.split("-"),E=parseInt(C[0]),R=parseInt(C[1])-1,N=t.length>0?t[t.length-1].date:l,k=parseInt(N.slice(0,4)),O=parseInt(N.slice(5,7))-1,M=h===E&&v===R,j=h===k&&v===O,U=()=>{j||(v===0?(g(ne=>ne-1),b(11)):b(ne=>ne-1))},z=()=>{M||(v===11?(g(ne=>ne+1),b(0)):b(ne=>ne+1))},I=ne=>{!_.get(ne)||ne>l||(n(ne),d(!1))},$=Zie(h,v),Z=Xie(h,v),q=new Intl.DateTimeFormat(s.language,{month:"long",year:"numeric"}).format(new Date(h,v,1)),X=Array.from({length:7},(ne,re)=>{const ye=new Date(2025,0,6+re);return new Intl.DateTimeFormat(s.language,{weekday:"short"}).format(ye).slice(0,2)});return y.jsxs(Yj,{open:c,onOpenChange:d,children:[y.jsx(qie,{asChild:!0,children:y.jsx("button",{className:"bg-muted/80 rounded-md px-2 py-1 text-sm font-medium transition-colors",children:i})}),y.jsxs(Zj,{className:"max-w-[320px] p-0",children:[y.jsx(Xj,{className:"px-5 pt-5 pb-3",children:y.jsx(Qj,{className:"text-base",children:o("challenge.dailyChallenges")})}),y.jsxs("div",{className:"px-4 pb-5 select-none",children:[y.jsxs("div",{className:"mb-3 flex items-center justify-between gap-2",children:[y.jsx($t,{variant:"ghost",size:"icon",className:"size-7",onClick:U,disabled:j,children:y.jsx(C_,{className:"size-4"})}),y.jsx("span",{className:"text-sm font-semibold capitalize",children:q}),y.jsx($t,{variant:"ghost",size:"icon",className:"size-7",onClick:z,disabled:M,children:y.jsx(Du,{className:"size-4"})})]}),y.jsx("div",{className:"mb-1 grid grid-cols-7",children:X.map(ne=>y.jsx("div",{className:"text-muted-foreground py-1 text-center text-[10px] font-medium uppercase",children:ne},ne))}),y.jsxs("div",{className:"grid grid-cols-7 gap-y-1",children:[Array.from({length:Z},(ne,re)=>y.jsx("div",{},`gap-${re}`)),Array.from({length:$},(ne,re)=>{const ye=re+1,G=`${h}-${String(v+1).padStart(2,"0")}-${String(ye).padStart(2,"0")}`,W=G>l,te=_.get(G),he=!!te,oe=te?.completed??!1,K=G===e,ce=W||!he;return y.jsxs("button",{onClick:()=>!ce&&I(G),disabled:ce,className:["relative mx-auto flex size-8 items-center justify-center rounded-full text-sm transition-all",ce?"text-muted-foreground/35 cursor-not-allowed":"cursor-pointer",K?"ring-primary ring-1":ce?"":"hover:bg-muted",oe&&!K?"font-semibold text-emerald-600 dark:text-emerald-400":""].filter(Boolean).join(" "),children:[ye,oe&&y.jsx("span",{className:"absolute bottom-0.5 left-1/2 size-1 -translate-x-1/2 rounded-full bg-emerald-500"})]},ye)})]}),y.jsx("div",{className:"text-muted-foreground mt-3 flex items-center gap-3 border-t pt-3 text-xs",children:y.jsxs("span",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:"inline-block size-1.5 rounded-full bg-emerald-500"}),o("challenge.completedLabel")]})})]})]})]})},Jj=({selectedDate:e,onSelectDate:t})=>{const{i18n:n,t:i}=Mt(),{data:s=[]}=Aj(),o=[...s].sort((g,v)=>g.date.localeCompare(v.date)),l=o.findIndex(g=>g.date===e),c=l>0?o[l-1]:null,d=l<o.length-1?o[l+1]:null,h=new Intl.DateTimeFormat(n.language,{day:"numeric",month:"short",year:"numeric"}).format(new Date(e+"T00:00:00"));return y.jsxs("div",{className:"flex items-center gap-0.5",children:[y.jsx($t,{variant:"ghost",size:"icon",className:"bg-muted/80 size-7 shrink-0",disabled:!c,onClick:()=>c&&t(c.date),title:i("challenge.prevDay"),children:y.jsx(C_,{className:"size-4"})}),y.jsx(Jie,{selectedDate:e,challengeDates:s,onSelectDate:t,formattedLabel:h}),y.jsx($t,{variant:"ghost",size:"icon",className:"bg-muted/80 size-7 shrink-0",disabled:!d,onClick:()=>d&&t(d.date),title:i("challenge.nextDay"),children:y.jsx(Du,{className:"size-4"})})]})},ese=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${i}`},GR=()=>{const{t:e}=Mt(),t=Qi(),{theme:n}=nh(),i=Be(at.isAuthenticated),s=Be(nt.challenge),o=qt(nt.challenge),l=ese(),[c,d]=x.useState(()=>s.challengeDate??l),{data:h=[]}=Aj(),{data:g,isLoading:v,isError:b}=Ej(c),C=h.find(O=>O.date===c)?.completed??!1,E=c===l,R=O=>{d(O)},N=()=>{if(!i){t({to:"/login"});return}g&&o({mode:"DAILY",status:"IN_PROGRESS",targetSpecies:g.scientificName,speciesKey:g.gbifKey,challengeDate:c})},k=g?.scientificName;return y.jsx("div",{className:"md:px-4 md:py-6",children:y.jsxs(ja,{className:"relative mx-auto rounded-3xl",children:[E&&y.jsx("div",{className:"absolute top-3 right-4",children:y.jsx(Cj,{})}),y.jsxs(Ia,{className:"flex flex-col gap-3",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Hn,{src:n==="dark"?iv:mh,className:"size-12",alt:"Alvo gif"}),y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("h2",{className:"text-xl font-bold",children:e("challenge.title")}),y.jsxs("p",{className:"text-sm",children:[e("challenge.find"),":"," ",v?y.jsx("span",{className:"text-muted-foreground animate-pulse font-semibold",children:"..."}):b||!k?y.jsx("span",{className:"text-muted-foreground font-semibold",children:""}):y.jsx("span",{className:"font-semibold text-emerald-600",children:k})]})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Jj,{selectedDate:c,onSelectDate:R}),C&&y.jsxs("span",{className:"text-muted-foreground text-xs",children:[" ",e("challenge.alreadyCompleted")]})]}),E&&y.jsx("p",{className:"text-muted-foreground text-sm",children:e("challenge.missionDescription")}),y.jsx($t,{size:"lg",className:"bg-emerald-600",onClick:N,disabled:v||b||!g,children:e("challenge.start")})]})]})})},Nw=async e=>{const{data:t,error:n}=await $n.rpc("get_random_challenge_for_user",{p_user_id:e});if(n)return console.error("Error fetching random challenge:",n),null;if(!t||t.length===0)return null;const i=t[0];return{gbifKey:i.gbif_key,scientificName:i.scientific_name}},tse=()=>{const{t:e}=Mt(),t=Qi(),{theme:n}=nh(),i=Be(at.isAuthenticated),s=Be(at.session),o=qt(nt.challenge),[l,c]=x.useState(!1),[d,h]=x.useState(!1),g=async()=>{if(!i){t({to:"/login"});return}const v=s?.user?.id;if(!v)return;c(!0),h(!1);const b=await Nw(v);if(c(!1),!b){h(!0);return}o({mode:"RANDOM",status:"IN_PROGRESS",targetSpecies:b.scientificName,speciesKey:b.gbifKey})};return y.jsx("div",{className:"md:px-4 md:py-6",children:y.jsx(ja,{className:"mx-auto rounded-3xl",children:y.jsxs(Ia,{className:"flex flex-col gap-3",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Hn,{src:n==="dark"?iv:mh,className:"size-12",alt:"Alvo gif"}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-bold",children:e("challenge.randomTitle")}),y.jsxs("p",{className:"text-sm",children:[e("challenge.find"),":"," ",y.jsx("span",{className:"font-semibold text-violet-600",children:"????"})]})]})]}),y.jsx("p",{className:"text-muted-foreground text-sm",children:e("challenge.randomMissionDescription")}),d&&y.jsx("p",{className:"text-sm font-semibold text-violet-600",children:"No foi possivel obter um desafio aleatrio. Tente novamente mais tarde."}),y.jsx($t,{size:"lg",className:"bg-violet-600",onClick:g,disabled:l,children:e("challenge.start")})]})})})},vh=7,nse=({correctSteps:e,errorIndex:t})=>y.jsx("div",{className:"mt-2 flex items-center gap-1",children:Array.from({length:vh}).map((n,i)=>{const s=i<e,o=i===t;return y.jsx(Ot.div,{className:it("h-1.5 flex-1 rounded-full",s?"bg-emerald-500":o?"bg-red-500":"bg-muted"),animate:o?{x:[-3,3,-2,2,0]}:{},transition:{duration:.3}},i)})}),ise=["KINGDOM","PHYLUM","CLASS","ORDER","FAMILY","GENUS","SPECIES"],eI=({correctPath:e,activeIndex:t,currentStep:n})=>{const{t:i}=Mt(),s=Be(nt.expandedNodes),o=(l,c)=>{const d=s[l],h=e[l];return!d||d.rank!==c?"locked":h&&d.name===h.name?"success":"error"};return y.jsxs("div",{className:"bg-accent/40 rounded-2xl p-4",children:[y.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[y.jsx("h3",{className:"text-sm font-semibold",children:i("challenge.taxonomicPath")}),y.jsxs("div",{children:[y.jsx("span",{className:"text-xl font-bold text-emerald-600 tabular-nums dark:text-emerald-400",children:n}),y.jsxs("span",{className:"text-muted-foreground text-sm font-medium",children:["/",vh]})]})]}),y.jsx("div",{className:"grid grid-cols-2 gap-2 lg:grid-cols-3 xl:grid-cols-4",children:ise.map((l,c)=>{const d=o(c,l),h=t===c;return y.jsxs(Ot.div,{layout:!0,animate:h?{scale:1.03}:d==="error"?{x:[-4,4,-3,3,0]}:{scale:1},transition:d==="error"?{duration:.3}:{type:"spring",stiffness:300,damping:20},className:it("flex items-center justify-between rounded-xl border p-3 transition-all",d==="success"&&"border-green-500/60 bg-green-500/10",d==="error"&&"border-red-400/60 bg-red-500/10",d==="locked"&&"border-dashed opacity-50",h&&"ring-2 ring-emerald-400"),children:[y.jsxs("div",{className:"flex min-w-0 flex-col",children:[y.jsx("span",{className:"text-muted-foreground text-[10px] font-semibold tracking-wide uppercase",children:l}),y.jsx("span",{className:it("mt-0.5 truncate text-xs font-medium",d==="success"&&"text-green-600 dark:text-green-400",d==="error"&&"text-red-500",d==="locked"&&"text-muted-foreground"),children:d==="locked"?"":s[c]?.name})]}),y.jsxs("div",{className:"ml-2 shrink-0",children:[d==="success"&&y.jsx(H$,{className:"size-4 text-green-500"}),d==="error"&&y.jsx(HO,{className:"size-4 text-red-500"}),d==="locked"&&y.jsx(m6,{className:"text-muted-foreground/40 size-3"})]})]},l)})})]})};function sse(e,t=[]){let n=[];function i(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=v=>{const{scope:b,children:_,...C}=v,E=b?.[e]?.[d]||c,R=x.useMemo(()=>C,Object.values(C));return y.jsx(E.Provider,{value:R,children:_})};h.displayName=o+"Provider";function g(v,b){const _=b?.[e]?.[d]||c,C=x.useContext(_);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,g]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[i,rse(s,...t)]}function rse(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=i.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function ose(e){const t=ase(e),n=x.forwardRef((i,s)=>{const{children:o,...l}=i,c=x.Children.toArray(o),d=c.find(cse);if(d){const h=d.props.children,g=c.map(v=>v===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return y.jsx(t,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return y.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function ase(e){const t=x.forwardRef((n,i)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=dse(s),c=use(o,s.props);return s.type!==x.Fragment&&(c.ref=i?Gn(i,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var lse=Symbol("radix.slottable");function cse(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===lse}function use(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function dse(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var fse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ow=fse.reduce((e,t)=>{const n=ose(`Primitive.${t}`),i=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),rv="Collapsible",[hse]=sse(rv),[pse,Pw]=hse(rv),tI=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:i,defaultOpen:s,disabled:o,onOpenChange:l,...c}=e,[d,h]=Do({prop:i,defaultProp:s??!1,onChange:l,caller:rv});return y.jsx(pse,{scope:n,disabled:o,contentId:_s(),open:d,onOpenToggle:x.useCallback(()=>h(g=>!g),[h]),children:y.jsx(Ow.div,{"data-state":Dw(d),"data-disabled":o?"":void 0,...c,ref:t})})});tI.displayName=rv;var nI="CollapsibleTrigger",iI=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,...i}=e,s=Pw(nI,n);return y.jsx(Ow.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Dw(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...i,ref:t,onClick:je(e.onClick,s.onOpenToggle)})});iI.displayName=nI;var Mw="CollapsibleContent",sI=x.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=Pw(Mw,e.__scopeCollapsible);return y.jsx(br,{present:n||s.open,children:({present:o})=>y.jsx(mse,{...i,ref:t,present:o})})});sI.displayName=Mw;var mse=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:i,children:s,...o}=e,l=Pw(Mw,n),[c,d]=x.useState(i),h=x.useRef(null),g=wt(t,h),v=x.useRef(0),b=v.current,_=x.useRef(0),C=_.current,E=l.open||c,R=x.useRef(E),N=x.useRef(void 0);return x.useEffect(()=>{const k=requestAnimationFrame(()=>R.current=!1);return()=>cancelAnimationFrame(k)},[]),Dn(()=>{const k=h.current;if(k){N.current=N.current||{transitionDuration:k.style.transitionDuration,animationName:k.style.animationName},k.style.transitionDuration="0s",k.style.animationName="none";const O=k.getBoundingClientRect();v.current=O.height,_.current=O.width,R.current||(k.style.transitionDuration=N.current.transitionDuration,k.style.animationName=N.current.animationName),d(i)}},[l.open,i]),y.jsx(Ow.div,{"data-state":Dw(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!E,...o,ref:g,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":C?`${C}px`:void 0,...e.style},children:E&&s})});function Dw(e){return e?"open":"closed"}var KR=tI,qR=iI,WR=sI;const gse=async e=>{if(e.length===0)return{};const{data:t,error:n}=await $n.from("challenge_tips").select("canonical_name, hints").in("canonical_name",e);return n||!t?(console.error("Error fetching challenge tips:",n),{}):Object.fromEntries(t.map(i=>[i.canonical_name,i.hints]))},vse=e=>{const t=e.map(n=>n.name);return Qr({queryKey:[ah.challenge_tips_key,...t],queryFn:async()=>await gse(t),enabled:t.length>0,staleTime:1/0,gcTime:1e3*60*60*24})},yse={KINGDOM:"reino",PHYLUM:"filo",CLASS:"classe",ORDER:"ordem",FAMILY:"famlia",GENUS:"gnero",SPECIES:"espcie"},Lw=({speciesName:e,speciesKey:t,currentStep:n,errorIndex:i,correctPath:s})=>{const{t:o}=Mt(),[l,c]=x.useState({}),[d,h]=x.useState(!1),g=qt(nt.highlightedRank),[v,b]=x.useState(n),_=qt(fq),{data:C={}}=vse(s),{data:E}=Bo({specieKey:t}),{data:R,isLoading:N}=lh(t,E?.canonicalName),k=s[v],O=k?C[k.name]??[]:[],M=l[v]===!0,j=()=>{c(z=>({...z,[v]:!0}))},U=z=>{b(z);const I=s[z]?.rank;I&&(g(I),_(I))};return y.jsxs($j,{open:d,onOpenChange:z=>{h(z),z?(b(n),U(n)):(g(null),_(null))},children:[y.jsx(Hj,{asChild:!0,children:y.jsxs("button",{className:it("bg-muted/50 flex w-full items-center justify-between rounded-xl border border-dashed px-3 py-2 text-xs transition-colors"),children:[y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx(d6,{className:it("size-3.5 text-amber-500",i!==null&&"fill-amber-300")}),y.jsx("span",{className:it(i!==null?"font-medium text-amber-700 dark:text-amber-400":"text-muted-foreground"),children:o(i!==null?"challenge.needHelp":"challenge.tips")})]}),y.jsx("span",{className:"text-muted-foreground/50 text-[10px]",children:""})]})}),y.jsx(Gj,{children:y.jsx(Kj,{asChild:!0,children:y.jsxs(Ot.div,{initial:{opacity:0,y:-16},animate:{opacity:1,y:0},exit:{opacity:0,y:-16},transition:{duration:.25,ease:"easeOut"},className:"bg-background fixed top-2 left-1/2 z-50 w-[calc(100%-1rem)] max-w-md -translate-x-1/2 rounded-xl border p-4 shadow-lg",children:[y.jsxs("header",{className:"mb-2 flex items-center justify-between",children:[y.jsxs("div",{className:"flex max-h-[45dvh] items-center gap-2 overflow-y-auto",children:[y.jsx("button",{onClick:()=>U(v-1),disabled:v===0,className:"hover:bg-muted rounded p-1 disabled:opacity-30","aria-label":o("challenge.prevStep"),children:y.jsx(C_,{className:"size-4"})}),y.jsxs(qj,{className:"flex items-center gap-2 text-sm font-semibold",children:[o("challenge.step")," ",v+1," ",o("challenge.of")," ",s.length]}),y.jsx("button",{onClick:()=>U(v+1),disabled:v===n,className:"hover:bg-muted rounded p-1 disabled:opacity-30","aria-label":o("challenge.nextStep"),children:y.jsx(Du,{className:"size-4"})})]}),y.jsx(Wj,{className:"hover:bg-muted rounded p-1",children:y.jsx(Gl,{className:"size-3.5"})})]}),O.length>0?y.jsx("div",{className:"bg-muted/40 mt-3 rounded-lg border p-3 text-sm",children:O.map((z,I)=>y.jsxs("div",{className:"flex items-start gap-2",children:[y.jsx("span",{children:""}),y.jsx("span",{className:"flex-1",children:z})]},I))}):y.jsx("div",{className:"bg-muted/40 text-muted-foreground mt-3 rounded-lg border p-3 text-sm",children:"Sem dicas disponveis para esta etapa."}),k&&y.jsx("div",{className:"mt-4 rounded-lg border border-dashed p-3 text-sm",children:y.jsx(Wg,{mode:"wait",children:y.jsx(Ot.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"easeOut"},children:M?y.jsxs("p",{className:"text-foreground font-medium",children:[e," ",o("challenge.belongsTo")," ",yse[k.rank]," ",y.jsx("span",{className:"font-bold text-green-600",children:k.name}),"."]}):y.jsxs("button",{onClick:j,className:"flex items-center gap-2 text-amber-600 hover:underline",children:[y.jsx(e6,{className:"size-4"}),o("challenge.revealAnswer")]})},v)})}),y.jsxs(KR,{className:"mt-4",children:[y.jsx(qR,{asChild:!0,children:y.jsxs("button",{className:"text-muted-foreground hover:bg-muted/50 flex w-full items-center justify-between rounded-md px-2 py-1 text-xs",children:[y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx(l6,{className:"size-3.5"}),"Imagem da espcie"]}),y.jsx(Sf,{className:"size-3.5 opacity-60"})]})}),y.jsx(WR,{className:"mt-2 overflow-hidden rounded-md border",children:N?y.jsx(Ol,{className:"h-32 w-full"}):R?.imgUrl?y.jsx(Hn,{src:R.imgUrl,alt:e,className:"h-32 w-full object-cover"}):y.jsx("div",{className:"text-muted-foreground flex h-32 items-center justify-center text-xs",children:"Imagem no disponvel"})})]}),y.jsxs(KR,{className:"mt-2",children:[y.jsx(qR,{asChild:!0,children:y.jsxs("button",{className:"text-muted-foreground hover:bg-muted/50 flex w-full items-center justify-between rounded-md px-2 py-1 text-xs",children:[y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx(A_,{className:"size-3.5"}),o("challenge.howItWorks")]}),y.jsx(Sf,{className:"size-3.5 opacity-60"})]})}),y.jsx(WR,{className:"text-muted-foreground bg-muted/40 mt-2 rounded-md p-3 text-sm",children:"Expanda os grupos da rvore taxonmica seguindo o caminho correto at chegar  espcie alvo."})]})]})})})]})},rI=({speciesName:e,speciesKey:t,correctSteps:n,isCompleted:i,onCancel:s,onNext:o,nextLoading:l,errorIndex:c,correctPath:d})=>{const{t:h}=Mt();return y.jsx("div",{className:"px-2",children:y.jsxs(Ot.div,{className:"rounded-2xl border px-3 py-2.5 shadow-sm",children:[y.jsxs("div",{className:"flex items-center gap-2.5",children:[y.jsx(Hn,{src:mh,className:"size-7 shrink-0",alt:"Alvo gif"}),y.jsx("p",{className:"truncate text-sm",children:y.jsx("span",{className:"font-bold text-emerald-600 dark:text-green-400",children:e})}),y.jsxs("span",{className:"text-muted-foreground text-xs font-semibold tabular-nums",children:[n,"/",vh]}),o&&y.jsx("button",{onClick:o,disabled:l,className:"text-muted-foreground/60 ml-auto rounded-full p-1 hover:bg-violet-100 hover:text-violet-600 disabled:opacity-50 dark:hover:bg-violet-950","aria-label":h("challenge.nextChallenge"),children:y.jsx(T_,{className:"size-3.5"})}),y.jsx("button",{onClick:s,className:`rounded-full p-1 hover:bg-red-100 hover:text-red-500 dark:hover:bg-red-950 ${o?"":"ml-auto"} text-muted-foreground/60`,"aria-label":h("challenge.cancel"),children:y.jsx(Gl,{className:"size-3.5"})})]}),!i&&d.length>0&&y.jsxs("div",{className:"space-y-2",children:[y.jsx(nse,{correctSteps:n,errorIndex:c}),y.jsx(Lw,{speciesName:e,speciesKey:t,currentStep:n,errorIndex:c,correctPath:d})]})]})})},oI=async({userId:e,gbifKey:t,mode:n})=>{const{data:i,error:s}=await $n.from("user_challenge_history").upsert({user_id:e,gbif_key:t,mode:n},{onConflict:"user_id,gbif_key,mode",ignoreDuplicates:!0}).select();return s?(console.error("Error saving challenge result:",s),{wasNew:!1}):{wasNew:i!=null&&i.length>0}},aI=async({user:e,speciesName:t,mode:n})=>{const i=n==="DAILY"?"Desafio Dirio":"Desafio Aleatrio",s=`Encontrou a espcie ${t}`,l=[{title:i,description:s,date:new Date().toISOString()},...e.game_info.activities??[]],{data:c,error:d}=await $n.from("users").update({game_info:{...e.game_info,activities:l}}).eq("id",e.id).select().single();return d?(console.error("Error saving challenge activity:",d),null):c},bse=()=>new Date().toISOString().slice(0,10),xse=()=>{const{t:e}=Mt(),t=qt(nt.challenge),n=Qi(),i=Be(nt.expandedNodes),s=qt(nt.expandedNodes),{isTablet:o}=ec(),{theme:l}=nh(),c=Be(nt.challenge),d=Be(at.session),[h,g]=qr(at.userDb),v=bse(),b=c.targetSpecies??"",_=c.speciesKey??0,C=c.challengeDate??v,[E,R]=x.useState(C),{data:N,isLoading:k}=Ej(E),[O,M]=x.useState(!1),{data:j}=Bo({specieKey:_}),U=x.useMemo(()=>j?Jg(j):[],[j]),z=x.useMemo(()=>i.filter((G,W)=>{const te=U[W];return te&&G.name===te.name}).length,[i,U]),I=z===vh;x.useEffect(()=>{if(!I)return;t(W=>W.status==="COMPLETED"?W:{...W,status:"COMPLETED"});const G=d?.user?.id;!G||!_||!h||(async()=>{const{wasNew:W}=await oI({userId:G,gbifKey:_,mode:"DAILY"});if(W){const te=await aI({user:h,speciesName:b,mode:"DAILY"});te&&g(te)}})()},[I,t,d,_,h,b,g]);const $=()=>{s([]),n({to:"/",replace:!0})},Z=()=>{t({status:"NOT_STARTED",mode:"UNSET"}),$()},q=()=>{$(),t(G=>({...G,status:"IN_PROGRESS"}))},X=async()=>{const G=d?.user?.id;if(!G)return;M(!0);const W=await Nw(G);M(!1),W&&($(),t({mode:"RANDOM",status:"IN_PROGRESS",targetSpecies:W.scientificName,speciesKey:W.gbifKey}))},ne=()=>{N&&($(),t({mode:"DAILY",status:"IN_PROGRESS",targetSpecies:N.scientificName,speciesKey:N.gbifKey,challengeDate:E}))},ye=x.useMemo(()=>{const G=i.length-1,W=i[G],te=U[G];return G>=0&&te&&W?.name!==te.name},[i,U])?i.length-1:null;if(I){const G=E===C;return y.jsxs("div",{className:"flex flex-col gap-4 pb-10",children:[y.jsxs(Ot.div,{initial:{opacity:0,scale:.97},animate:{opacity:1,scale:1},transition:{duration:.35,ease:"easeOut"},className:"mx-4 overflow-hidden rounded-2xl border shadow-sm md:mt-5",children:[y.jsx("div",{className:"bg-emerald-50/60 px-5 py-4 dark:bg-emerald-950/30",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Ot.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.12,type:"spring",stiffness:220},className:"flex size-10 shrink-0 items-center justify-center rounded-full bg-emerald-500",children:y.jsx(R_,{className:"size-5 text-white"})}),y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("p",{className:"text-sm font-semibold text-emerald-700 dark:text-emerald-400",children:e("challenge.completed")}),y.jsx("p",{className:"truncate text-base font-bold",children:b}),y.jsxs(Ot.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-muted-foreground mt-0.5 flex items-center gap-1 text-xs",children:[y.jsx(LO,{className:"size-3 shrink-0 text-emerald-500"}),e("challenge.path")]})]})]})}),y.jsxs(Ot.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{delay:.25},className:"divide-y",children:[y.jsxs("button",{onClick:q,className:"hover:bg-muted/50 flex w-full items-center gap-3 px-5 py-3.5 transition-colors",children:[y.jsx(VO,{className:"text-muted-foreground size-4 shrink-0"}),y.jsx("span",{className:"text-sm font-medium",children:e("challenge.replay")})]}),y.jsxs("div",{className:"flex items-center justify-between gap-3 px-5 py-3.5",children:[y.jsxs("div",{className:"flex min-w-0 items-center gap-3",children:[y.jsx(j$,{className:"text-muted-foreground size-4 shrink-0"}),y.jsx(Jj,{selectedDate:E,onSelectDate:R})]}),!G&&y.jsx($t,{size:"sm",className:"shrink-0 bg-emerald-600 hover:bg-emerald-700",onClick:ne,disabled:k||!N,children:e("challenge.play")})]}),y.jsxs("button",{onClick:X,disabled:O,className:"hover:bg-muted/50 flex w-full items-center gap-3 px-5 py-3.5 transition-colors disabled:opacity-50",children:[y.jsx(T_,{className:`text-muted-foreground size-4 shrink-0 ${O?"animate-spin":""}`}),y.jsx("span",{className:"text-sm font-medium",children:e("challenge.nextRandom")})]})]})]}),y.jsx(Uu,{embedded:!0})]})}return o?y.jsx(rI,{speciesName:b,speciesKey:_,correctSteps:z,isCompleted:I,onCancel:Z,errorIndex:ye,correctPath:U}):y.jsx("div",{className:"mt-22 md:mt-0 md:px-4 md:py-6",children:y.jsxs(ja,{className:"relative mx-auto rounded-3xl",children:[C===v&&y.jsx("div",{className:"absolute top-3 right-4",children:y.jsx(Cj,{})}),y.jsxs(Ia,{className:"flex flex-col gap-4 pt-5",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"flex size-12 shrink-0 items-center justify-center rounded-2xl bg-emerald-100 dark:bg-emerald-900/40",children:y.jsx(Hn,{src:l==="dark"?iv:mh,className:"size-8",alt:"Alvo gif"})}),y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("p",{className:"text-muted-foreground text-[10px] font-semibold tracking-widest uppercase",children:e("challenge.title")}),y.jsx("h2",{className:"truncate text-base leading-tight font-bold",children:b})]})]}),!I&&U.length>0&&y.jsx(Lw,{speciesName:b,speciesKey:_,currentStep:z,errorIndex:ye,correctPath:U}),y.jsx(eI,{currentStep:z,correctPath:U,activeIndex:i.length}),!I&&y.jsx("div",{className:"flex justify-end",children:y.jsx($t,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-destructive text-xs",onClick:Z,children:e("challenge.cancel")})})]})]})})},_se=({speciesName:e,onReplay:t,onNext:n,nextLabel:i,nextLoading:s=!1})=>{const{t:o}=Mt();return y.jsxs(Ot.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.4,ease:"easeOut"},className:"mx-4 rounded-2xl border bg-emerald-50/50 p-5 text-center shadow-sm md:mt-5 dark:bg-emerald-950/30",children:[y.jsx(Ot.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.15,type:"spring",stiffness:200},className:"mx-auto mb-3 flex size-12 items-center justify-center rounded-full bg-emerald-500 md:size-16",children:y.jsx(R_,{className:"size-6 text-white md:size-8"})}),y.jsx("p",{className:"text-sm font-semibold text-emerald-700 md:text-lg dark:text-emerald-400",children:o("challenge.completed")}),y.jsx("p",{className:"mt-1 text-sm md:text-lg",children:y.jsx("strong",{children:e})}),y.jsxs(Ot.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{delay:.25},className:"text-muted-foreground mt-2 flex items-center justify-center gap-1 text-xs md:text-sm",children:[y.jsx(LO,{className:"size-3.5 text-emerald-500"}),o("challenge.path")]}),y.jsxs(Ot.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-5 flex flex-col gap-2 sm:flex-row sm:justify-center",children:[y.jsxs($t,{variant:"outline",onClick:t,className:"gap-2",children:[y.jsx(VO,{className:"size-4"}),o("challenge.replay")]}),y.jsxs($t,{onClick:n,disabled:s,className:"gap-2 bg-emerald-600 hover:bg-emerald-700",children:[i,y.jsx(Du,{className:"size-4"})]})]})]})},wse=()=>{const{t:e}=Mt(),t=Qi(),n=qt(nt.challenge),i=Be(nt.expandedNodes),s=qt(nt.expandedNodes),{isTablet:o}=ec(),{theme:l}=nh(),c=Be(nt.challenge),d=Be(at.session),[h,g]=qr(at.userDb),v=c.targetSpecies??"",b=c.speciesKey??0,{data:_}=Bo({specieKey:b}),C=x.useMemo(()=>_?Jg(_):[],[_]),E=x.useMemo(()=>i.filter(($,Z)=>{const q=C[Z];return q&&$.name===q.name}).length,[i,C]),R=E===vh;x.useEffect(()=>{if(!R)return;n(Z=>Z.status==="COMPLETED"?Z:{...Z,status:"COMPLETED"});const $=d?.user?.id;!$||!b||!h||(async()=>{const{wasNew:Z}=await oI({userId:$,gbifKey:b,mode:"RANDOM"});if(Z){const q=await aI({user:h,speciesName:v,mode:"RANDOM"});q&&g(q)}})()},[R,n,d,b,h,v,g]);const[N,k]=x.useState(!1),O=()=>{s([]),t({to:"/",replace:!0})},M=()=>{n({status:"NOT_STARTED",mode:"UNSET"}),O()},j=()=>{O(),n($=>({...$,status:"IN_PROGRESS"}))},U=async()=>{const $=d?.user?.id;if(!$)return;k(!0);const Z=await Nw($);k(!1),Z&&(O(),n({mode:"RANDOM",status:"IN_PROGRESS",targetSpecies:Z.scientificName,speciesKey:Z.gbifKey}))},I=x.useMemo(()=>{const $=i.length-1,Z=i[$],q=C[$];return $>=0&&q&&Z?.name!==q.name},[i,C])?i.length-1:null;return R?y.jsxs("div",{className:"flex flex-col gap-4 pb-10",children:[y.jsx(_se,{speciesName:v,onReplay:j,onNext:U,nextLabel:e("challenge.nextChallenge"),nextLoading:N}),y.jsx(Uu,{embedded:!0})]}):o?y.jsx(rI,{speciesName:v,speciesKey:b,correctSteps:E,isCompleted:R,onCancel:M,onNext:U,nextLoading:N,errorIndex:I,correctPath:C}):y.jsx("div",{className:"mt-22 md:mt-0 md:px-4 md:py-6",children:y.jsx(Wg,{mode:"wait",initial:!1,children:y.jsx(Ot.div,{initial:{opacity:0,x:28},animate:{opacity:1,x:0},exit:{opacity:0,x:-28},transition:{duration:.22,ease:"easeOut"},children:y.jsx(ja,{className:"mx-auto rounded-3xl",children:y.jsxs(Ia,{className:"flex flex-col gap-4 pt-5",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"flex size-12 shrink-0 items-center justify-center rounded-2xl bg-violet-100 dark:bg-violet-900/40",children:y.jsx(Hn,{src:l==="dark"?iv:mh,className:"size-8",alt:"Alvo gif"})}),y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("p",{className:"text-muted-foreground text-[10px] font-semibold tracking-widest uppercase",children:e("challenge.randomTitle")}),y.jsx("h2",{className:"truncate text-base leading-tight font-bold",children:v})]})]}),!R&&C.length>0&&y.jsx(Lw,{speciesName:v,speciesKey:b,currentStep:E,errorIndex:I,correctPath:C}),y.jsx(eI,{correctPath:C,activeIndex:i.length,currentStep:E}),!R&&y.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[y.jsx($t,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-destructive text-xs",onClick:M,children:e("challenge.cancel")}),y.jsxs($t,{className:"gap-2 bg-violet-600 text-white hover:bg-violet-700",onClick:U,disabled:N,children:[y.jsx(T_,{className:"size-4"}),e("challenge.nextChallenge")]})]})]})})},b||"loading")})})},lI=()=>{const e=Be(nt.challenge);return e.mode==="DAILY"&&e.status!=="NOT_STARTED"?y.jsx(xse,{}):e.mode==="DAILY"?y.jsx(GR,{}):e.mode==="RANDOM"?y.jsx(wse,{}):y.jsxs("div",{className:"mx-auto flex max-w-7xl flex-col gap-4",children:[y.jsx(GR,{}),y.jsx(tse,{})]})},Sse=()=>{ine(),xie();const e=x.useRef(null),t=Be(nt.nodes),n=Be(nt.rootKeys),i=Be(nt.challenge).mode,s=Be(nt.scrollToRank),o=x.useRef(null),{isTablet:l}=ec(),{flattened:c,rowVirtualizer:d,connectors:h}=gne(t,n,e);return x.useEffect(()=>{if(!s||s===o.current)return;o.current=s;const g=c.findIndex(v=>t[v.key]?.rank===s);g!==-1&&d.scrollToIndex(g,{align:"center",behavior:"smooth"})},[s,c,t,d]),_ie(c,d),y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"mb-4 px-4",children:[i&&l&&y.jsx(lI,{}),!i&&y.jsx(pie,{})]}),y.jsx("div",{ref:e,className:it("h-[calc(100dvh-144px)] w-full overflow-auto px-4 pb-28",i&&!l&&"h-[calc(100dvh-130px)]",i==="UNSET"&&"pointer-events-none opacity-40"),style:{WebkitOverflowScrolling:"touch"},children:y.jsxs("ul",{style:{height:d.getTotalSize()},className:"relative w-full",children:[y.jsx(vne,{connectors:h,totalHeight:d.getTotalSize()}),d.getVirtualItems().map(g=>{const{key:v,level:b}=c[g.index];return y.jsx("li",{className:"absolute top-0 left-0 w-full",style:{transform:`translateY(${g.start}px)`},children:y.jsx(nne,{nodeKey:v,level:b})},v)})]})})]})};function Cse(){const e=Qi(),t=y3(),n=qt(lq),i=Be(nt.nodes),s=x.useRef(i),o=x.useRef([]),l=x.useRef([]),c=x.useRef(""),d=x.useRef(!0);x.useEffect(()=>{s.current=i},[i]);const h=()=>{if(d.current||o.current.length===0)return;const g=o.current[0],v=s.current[g];if(!v)return;const b={key:v.key,rank:v.rank,name:v.rank==="KINGDOM"?Mi(Au[v.key]):v.canonicalName||v.scientificName||""},_=[...l.current,b],C=o.current.slice(1);l.current=_,o.current=C,C.length===0&&(d.current=!0),n(_),C.length>0&&h()};x.useEffect(()=>{d.current||h()},[i]),x.useEffect(()=>{const g=t.pathname;if(g===c.current)return;c.current=g;const b=g.replace("/treevera","").split("/").filter(Boolean);if(b[0]!=="tree"){o.current=[],l.current=[],d.current=!0,n([]);return}const _=b.slice(1);if(_.length===0){o.current=[],l.current=[],d.current=!0,n([]);return}const C=_.map(Number);if(C.some(isNaN)){console.warn(" URL com keys invalidas:",_),e({to:"/",replace:!0});return}o.current=C,l.current=[],d.current=!1,h()},[t.pathname])}const cI=()=>{const{data:e,isLoading:t,isError:n}=rte(),i=qt(nt.mergeNodes),s=qt(nt.rootKeys);return Cse(),x.useEffect(()=>{e&&e.length>0&&(i(e.map(o=>({...o}))),s(e.map(o=>o.key)))},[e,i,s]),t?y.jsx(sx,{type:"loading"}):n?y.jsx(sx,{type:"error"}):!e||e.length===0?y.jsx(sx,{type:"empty"}):y.jsx(Sse,{})},Ese=()=>{const{t:e}=Mt(),t=Be(nt.exploreInfos),n=Be(at.userDb),i=Be(nt.expandedNodes),{navigateToNodes:s}=ph(),o=t.find(d=>d.kingdomKey===i[0].key),l=x.useMemo(()=>{const d=i[i.length-1].rank;return o?d!=="KINGDOM"?`a classificao ${Mi(d)}`:`o Reino ${o.kingdomName}`:""},[i,o]),c=x.useMemo(()=>{if(!n||!n.game_info?.shortcuts)return null;const d=o?.kingdomName.toLocaleLowerCase();return n.game_info.shortcuts[d]},[o?.kingdomName,n]);if(o)return y.jsxs("main",{className:"mx-auto min-h-screen w-full max-w-6xl p-10",style:{containerType:"inline-size"},children:[y.jsxs("header",{className:"bg-card flex rounded-xl border p-6 pr-10 shadow-sm",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(Df,{variant:"secondary",children:e("explore.kingdom")}),y.jsx("h1",{className:"[@container(min-width:350px)]text-4xl text-3xl font-bold tracking-tight [@container(min-width:450px)]:text-5xl",style:{color:To[o.kingdomKey]},children:o.kingdomName}),y.jsx("p",{className:"text-muted-foreground w-full",children:o.description}),y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("div",{className:"flex flex-wrap items-center gap-1",children:o.mainGroups.map((d,h)=>y.jsxs($t,{variant:"outline",onClick:()=>s(d.pathNode),children:[y.jsx(kx,{className:"size-4 scale-x-[-1]"}),d.groupName]},h))}),c&&y.jsx("div",{className:"flex flex-wrap items-center gap-1",children:c.map(({name:d,nodes:h},g)=>{if(h[0].key===o.kingdomKey)return y.jsxs($t,{variant:"outline",onClick:()=>s(h,!0),children:[y.jsx(kx,{className:"size-4 scale-x-[-1]"}),d]},d+g)})})]})]}),y.jsx(Hn,{src:gs(o.kingdomKey),className:"mt-8 size-8 [@container(min-width:350px)]:size-12 [@container(min-width:450px)]:my-auto [@container(min-width:450px)]:ml-auto [@container(min-width:450px)]:size-20"})]}),i.length>0&&i[i.length-1].rank!=="SPECIES"&&y.jsxs("section",{className:"py-8 sm:py-10",children:[y.jsxs("h2",{className:"mb-6 text-center text-2xl font-semibold tracking-tight",children:["Fatos e curiosidades sobre ",l]}),y.jsx("div",{className:"grid gap-4 [@container(min-width:350px)]:grid-cols-2",children:i.length===1?j1.KINGDOM[i[0].key].map((d,h)=>y.jsx(ja,{className:"transition-shadow duration-200 hover:shadow-lg",children:y.jsx(Ia,{children:y.jsx("p",{className:"text-foreground/90",children:d})})},h)):j1[i[i.length-1].rank].map((d,h)=>y.jsx(ja,{className:"transition-shadow duration-200 hover:shadow-lg",children:y.jsx(Ia,{children:y.jsx("p",{className:"text-foreground/90",children:d})})},h))})]})]})},uI=()=>{const{t:e}=Mt(),t=Be(nt.challenge).mode,n=Be(nt.exploreInfos),i=Be(nt.expandedNodes),{toggleNode:s}=ph();return!t&&i.length?y.jsx(Ese,{}):y.jsx("div",{className:"p-8",children:y.jsxs("div",{className:"mx-auto max-w-7xl space-y-12",style:{containerType:"inline-size"},children:[y.jsx("div",{className:"text-center",children:y.jsx("h1",{className:"mb-4 text-3xl font-semibold",children:e("explore.selectKingdom")})}),y.jsx("div",{className:"grid grid-cols-1 gap-6 [@container(min-width:620px)]:grid-cols-2 [@container(min-width:820px)]:grid-cols-3",children:n.map(o=>y.jsxs(ja,{className:"cursor-pointer overflow-hidden border-0 shadow-sm transition-all duration-300 hover:-translate-y-1 hover:shadow-md",onClick:()=>s(o.kingdomKey),children:[y.jsxs(wj,{className:"",children:[y.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[y.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl text-xl shadow-sm",style:{backgroundColor:o.lightColor},children:y.jsx(Hn,{src:o.icon,className:"size-6",alt:o.kingdomName+"icon"})}),y.jsx(Sj,{className:"mb-2 text-xl font-bold",children:o.kingdomName})]}),y.jsx("p",{className:"line-clamp-2 text-sm leading-relaxed",children:o.description})]}),y.jsxs(Ia,{children:[y.jsxs("p",{className:"mb-2 text-xs font-medium",children:[e("explore.mainGroups"),":"]}),y.jsxs("div",{className:"flex flex-wrap gap-1",children:[o.mainGroups.slice(0,3).map((l,c)=>y.jsx("span",{className:"bg-accent rounded border px-2 py-1 text-xs",children:l.groupName},c)),o.mainGroups.length>3&&y.jsxs("span",{className:"bg-accent rounded border px-2 py-1 text-xs",children:["+",o.mainGroups.length-3]})]})]})]},o.kingdomKey))})]})})},Ase=()=>{const e=Be(nt.expandedNodes),t=Be(nt.challenge),n=e.find(i=>i.rank==="SPECIES");return y.jsxs("div",{className:"flex flex-col",children:[y.jsx(TM,{}),!t.mode&&n?y.jsx(Uu,{}):y.jsxs(y.Fragment,{children:[y.jsx(cI,{}),!t.mode&&y.jsx(uI,{})]})]})};function Tse(e,t){const n=getComputedStyle(e),i=parseFloat(n.fontSize);return t*i}function Rse(e,t){const n=getComputedStyle(e.ownerDocument.body),i=parseFloat(n.fontSize);return t*i}function kse(e){return e/100*window.innerHeight}function Nse(e){return e/100*window.innerWidth}function Ose(e){switch(typeof e){case"number":return[e,"px"];case"string":{const t=parseFloat(e);return e.endsWith("%")?[t,"%"]:e.endsWith("px")?[t,"px"]:e.endsWith("rem")?[t,"rem"]:e.endsWith("em")?[t,"em"]:e.endsWith("vh")?[t,"vh"]:e.endsWith("vw")?[t,"vw"]:[t,"%"]}}}function hm({groupSize:e,panelElement:t,styleProp:n}){let i;const[s,o]=Ose(n);switch(o){case"%":{i=s/100*e;break}case"px":{i=s;break}case"rem":{i=Rse(t,s);break}case"em":{i=Tse(t,s);break}case"vh":{i=kse(s);break}case"vw":{i=Nse(s);break}}return i}function fr(e){return parseFloat(e.toFixed(3))}function ku({group:e}){const{orientation:t,panels:n}=e;return n.reduce((i,s)=>(i+=t==="horizontal"?s.element.offsetWidth:s.element.offsetHeight,i),0)}function L0(e){const{panels:t}=e,n=ku({group:e});return n===0?t.map(i=>({collapsedSize:0,collapsible:i.panelConstraints.collapsible===!0,defaultSize:void 0,disabled:i.panelConstraints.disabled,minSize:0,maxSize:100,panelId:i.id})):t.map(i=>{const{element:s,panelConstraints:o}=i;let l=0;if(o.collapsedSize!==void 0){const g=hm({groupSize:n,panelElement:s,styleProp:o.collapsedSize});l=fr(g/n*100)}let c;if(o.defaultSize!==void 0){const g=hm({groupSize:n,panelElement:s,styleProp:o.defaultSize});c=fr(g/n*100)}let d=0;if(o.minSize!==void 0){const g=hm({groupSize:n,panelElement:s,styleProp:o.minSize});d=fr(g/n*100)}let h=100;if(o.maxSize!==void 0){const g=hm({groupSize:n,panelElement:s,styleProp:o.maxSize});h=fr(g/n*100)}return{collapsedSize:l,collapsible:o.collapsible===!0,defaultSize:c,disabled:o.disabled,minSize:d,maxSize:h,panelId:i.id}})}function Vt(e,t="Assertion error"){if(!e)throw Error(t)}function j0(e,t){return Array.from(t).sort(e==="horizontal"?Pse:Mse)}function Pse(e,t){const n=e.element.offsetLeft-t.element.offsetLeft;return n!==0?n:e.element.offsetWidth-t.element.offsetWidth}function Mse(e,t){const n=e.element.offsetTop-t.element.offsetTop;return n!==0?n:e.element.offsetHeight-t.element.offsetHeight}function dI(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}function fI(e,t){return{x:e.x>=t.left&&e.x<=t.right?0:Math.min(Math.abs(e.x-t.left),Math.abs(e.x-t.right)),y:e.y>=t.top&&e.y<=t.bottom?0:Math.min(Math.abs(e.y-t.top),Math.abs(e.y-t.bottom))}}function Dse({orientation:e,rects:t,targetRect:n}){const i={x:n.x+n.width/2,y:n.y+n.height/2};let s,o=Number.MAX_VALUE;for(const l of t){const{x:c,y:d}=fI(i,l),h=e==="horizontal"?c:d;h<o&&(o=h,s=l)}return Vt(s,"No rect found"),s}let pm;function Lse(){return pm===void 0&&(typeof matchMedia=="function"?pm=!!matchMedia("(pointer:coarse)").matches:pm=!1),pm}function hI(e){const{element:t,orientation:n,panels:i,separators:s}=e,o=j0(n,Array.from(t.children).filter(dI).map(C=>({element:C}))).map(({element:C})=>C),l=[];let c=!1,d=!1,h=-1,g=-1,v=0,b,_=[];{let C=-1;for(const E of o)E.hasAttribute("data-panel")&&(C++,E.ariaDisabled===null&&(v++,h===-1&&(h=C),g=C))}if(v>1){let C=-1;for(const E of o)if(E.hasAttribute("data-panel")){C++;const R=i.find(N=>N.element===E);if(R){if(b){const N=b.element.getBoundingClientRect(),k=E.getBoundingClientRect();let O;if(d){const M=n==="horizontal"?new DOMRect(N.right,N.top,0,N.height):new DOMRect(N.left,N.bottom,N.width,0),j=n==="horizontal"?new DOMRect(k.left,k.top,0,k.height):new DOMRect(k.left,k.top,k.width,0);switch(_.length){case 0:{O=[M,j];break}case 1:{const U=_[0],z=Dse({orientation:n,rects:[N,k],targetRect:U.element.getBoundingClientRect()});O=[U,z===N?j:M];break}default:{O=_;break}}}else _.length?O=_:O=[n==="horizontal"?new DOMRect(N.right,k.top,k.left-N.right,k.height):new DOMRect(k.left,N.bottom,k.width,k.top-N.bottom)];for(const M of O){let j="width"in M?M:M.element.getBoundingClientRect();const U=Lse()?e.resizeTargetMinimumSize.coarse:e.resizeTargetMinimumSize.fine;if(j.width<U){const I=U-j.width;j=new DOMRect(j.x-I/2,j.y,j.width+I,j.height)}if(j.height<U){const I=U-j.height;j=new DOMRect(j.x,j.y-I/2,j.width,j.height+I)}const z=C<=h||C>g;!c&&!z&&l.push({group:e,groupSize:ku({group:e}),panels:[b,R],separator:"width"in M?void 0:M,rect:j}),c=!1}}d=!1,b=R,_=[]}}else if(E.hasAttribute("data-separator")){E.ariaDisabled!==null&&(c=!0);const R=s.find(N=>N.element===E);R?_.push(R):(b=void 0,_=[])}else d=!0}return l}class jse{#e={};addListener(t,n){const i=this.#e[t];return i===void 0?this.#e[t]=[n]:i.includes(n)||i.push(n),()=>{this.removeListener(t,n)}}emit(t,n){const i=this.#e[t];if(i!==void 0)if(i.length===1)i[0].call(null,n);else{let s=!1,o=null;const l=Array.from(i);for(let c=0;c<l.length;c++){const d=l[c];try{d.call(null,n)}catch(h){o===null&&(s=!0,o=h)}}if(s)throw o}}removeAllListeners(){this.#e={}}removeListener(t,n){const i=this.#e[t];if(i!==void 0){const s=i.indexOf(n);s>=0&&i.splice(s,1)}}}function Pi(e,t,n=0){return Math.abs(fr(e)-fr(t))<=n}let Is={cursorFlags:0,interactionState:{state:"inactive"},mountedGroups:new Map};const Po=new jse;function ji(){return Is}function Ii(e){const t=typeof e=="function"?e(Is):e;if(Is===t)return Is;const n=Is;return Is={...Is,...t},t.cursorFlags!==void 0&&Po.emit("cursorFlagsChange",Is.cursorFlags),t.interactionState!==void 0&&Po.emit("interactionStateChange",Is.interactionState),t.mountedGroups!==void 0&&(Is.mountedGroups.forEach((i,s)=>{i.derivedPanelConstraints.forEach(o=>{if(o.collapsible){const{layout:l}=n.mountedGroups.get(s)??{};if(l){const c=Pi(o.collapsedSize,i.layout[o.panelId]),d=Pi(o.collapsedSize,l[o.panelId]);c&&!d&&(s.inMemoryLastExpandedPanelSizes[o.panelId]=l[o.panelId])}}})}),Po.emit("mountedGroupsChange",Is.mountedGroups)),Is}function Ise(e,t,n){let i,s={x:1/0,y:1/0};for(const o of t){const l=fI(n,o.rect);switch(e){case"horizontal":{l.x<=s.x&&(i=o,s=l);break}case"vertical":{l.y<=s.y&&(i=o,s=l);break}}}return i?{distance:s,hitRegion:i}:void 0}function zse(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}function Bse(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:XR(e),b:XR(t)};let i;for(;n.a.at(-1)===n.b.at(-1);)i=n.a.pop(),n.b.pop();Vt(i,"Stacking order can only be calculated for elements with a common ancestor");const s={a:ZR(YR(n.a)),b:ZR(YR(n.b))};if(s.a===s.b){const o=i.childNodes,l={a:n.a.at(-1),b:n.b.at(-1)};let c=o.length;for(;c--;){const d=o[c];if(d===l.a)return 1;if(d===l.b)return-1}}return Math.sign(s.a-s.b)}const Use=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Fse(e){const t=getComputedStyle(pI(e)??e).display;return t==="flex"||t==="inline-flex"}function Vse(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||Fse(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||Use.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function YR(e){let t=e.length;for(;t--;){const n=e[t];if(Vt(n,"Missing node"),Vse(n))return n}return null}function ZR(e){return e&&Number(getComputedStyle(e).zIndex)||0}function XR(e){const t=[];for(;e;)t.push(e),e=pI(e);return t}function pI(e){const{parentNode:t}=e;return zse(t)?t.host:t}function $se(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function Hse({groupElement:e,hitRegion:t,pointerEventTarget:n}){if(!dI(n)||n.contains(e)||e.contains(n))return!0;if(Bse(n,e)>0){let i=n;for(;i;){if(i.contains(e))return!0;if($se(i.getBoundingClientRect(),t))return!1;i=i.parentElement}}return!0}function jw(e,t){const n=[];return t.forEach((i,s)=>{if(s.disabled)return;const o=hI(s),l=Ise(s.orientation,o,{x:e.clientX,y:e.clientY});l&&l.distance.x<=0&&l.distance.y<=0&&Hse({groupElement:s.element,hitRegion:l.hitRegion.rect,pointerEventTarget:e.target})&&n.push(l.hitRegion)}),n}function Gse(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function Ur(e,t){return Pi(e,t)?0:e>t?1:-1}function pu({overrideDisabledPanels:e,panelConstraints:t,prevSize:n,size:i}){const{collapsedSize:s=0,collapsible:o,disabled:l,maxSize:c=100,minSize:d=0}=t;if(l&&!e)return n;if(Ur(i,d)<0)if(o){const h=(s+d)/2;Ur(i,h)<0?i=s:i=d}else i=d;return i=Math.min(c,i),i=fr(i),i}function Ff({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:i,prevLayout:s,trigger:o}){if(Pi(e,0))return t;const l=o==="imperative-api",c=Object.values(t),d=Object.values(s),h=[...c],[g,v]=i;Vt(g!=null,"Invalid first pivot index"),Vt(v!=null,"Invalid second pivot index");let b=0;switch(o){case"keyboard":{{const E=e<0?v:g,R=n[E];Vt(R,`Panel constraints not found for index ${E}`);const{collapsedSize:N=0,collapsible:k,minSize:O=0}=R;if(k){const M=c[E];if(Vt(M!=null,`Previous layout not found for panel index ${E}`),Pi(M,N)){const j=O-M;Ur(j,Math.abs(e))>0&&(e=e<0?0-j:j)}}}{const E=e<0?g:v,R=n[E];Vt(R,`No panel constraints found for index ${E}`);const{collapsedSize:N=0,collapsible:k,minSize:O=0}=R;if(k){const M=c[E];if(Vt(M!=null,`Previous layout not found for panel index ${E}`),Pi(M,O)){const j=M-N;Ur(j,Math.abs(e))>0&&(e=e<0?0-j:j)}}}break}default:{const E=e<0?v:g,R=n[E];Vt(R,`Panel constraints not found for index ${E}`);const N=c[E],{collapsible:k,collapsedSize:O,minSize:M}=R;if(k&&Ur(N,M)<0)if(e>0){const j=M-O,U=j/2,z=N+e;Ur(z,M)<0&&(e=Ur(e,U)<=0?0:j)}else{const j=M-O,U=100-j/2,z=N-e;Ur(z,M)<0&&(e=Ur(100+e,U)>0?0:-j)}break}}{const E=e<0?1:-1;let R=e<0?v:g,N=0;for(;;){const O=c[R];Vt(O!=null,`Previous layout not found for panel index ${R}`);const M=pu({overrideDisabledPanels:l,panelConstraints:n[R],prevSize:O,size:100})-O;if(N+=M,R+=E,R<0||R>=n.length)break}const k=Math.min(Math.abs(e),Math.abs(N));e=e<0?0-k:k}{let E=e<0?g:v;for(;E>=0&&E<n.length;){const R=Math.abs(e)-Math.abs(b),N=c[E];Vt(N!=null,`Previous layout not found for panel index ${E}`);const k=N-R,O=pu({overrideDisabledPanels:l,panelConstraints:n[E],prevSize:N,size:k});if(!Pi(N,O)&&(b+=N-O,h[E]=O,b.toFixed(3).localeCompare(Math.abs(e).toFixed(3),void 0,{numeric:!0})>=0))break;e<0?E--:E++}}if(Gse(d,h))return s;{const E=e<0?v:g,R=c[E];Vt(R!=null,`Previous layout not found for panel index ${E}`);const N=R+b,k=pu({overrideDisabledPanels:l,panelConstraints:n[E],prevSize:R,size:N});if(h[E]=k,!Pi(k,N)){let O=N-k,M=e<0?v:g;for(;M>=0&&M<n.length;){const j=h[M];Vt(j!=null,`Previous layout not found for panel index ${M}`);const U=j+O,z=pu({overrideDisabledPanels:l,panelConstraints:n[M],prevSize:j,size:U});if(Pi(j,z)||(O-=z-j,h[M]=z),Pi(O,0))break;e>0?M--:M++}}}const _=Object.values(h).reduce((E,R)=>R+E,0);if(!Pi(_,100,.1))return s;const C=Object.keys(s);return h.reduce((E,R,N)=>(E[C[N]]=R,E),{})}function Ql(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(t[n]===void 0||Ur(e[n],t[n])!==0)return!1;return!0}function Jl({layout:e,panelConstraints:t}){const n=Object.values(e),i=[...n],s=i.reduce((c,d)=>c+d,0);if(i.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${i.map(c=>`${c}%`).join(", ")}`);if(!Pi(s,100)&&i.length>0)for(let c=0;c<t.length;c++){const d=i[c];Vt(d!=null,`No layout data found for index ${c}`);const h=100/s*d;i[c]=h}let o=0;for(let c=0;c<t.length;c++){const d=n[c];Vt(d!=null,`No layout data found for index ${c}`);const h=i[c];Vt(h!=null,`No layout data found for index ${c}`);const g=pu({overrideDisabledPanels:!0,panelConstraints:t[c],prevSize:d,size:h});h!=g&&(o+=h-g,i[c]=g)}if(!Pi(o,0))for(let c=0;c<t.length;c++){const d=i[c];Vt(d!=null,`No layout data found for index ${c}`);const h=d+o,g=pu({overrideDisabledPanels:!0,panelConstraints:t[c],prevSize:d,size:h});if(d!==g&&(o-=g-d,i[c]=g,Pi(o,0)))break}const l=Object.keys(e);return i.reduce((c,d,h)=>(c[l[h]]=d,c),{})}function mI({groupId:e,panelId:t}){const n=()=>{const{mountedGroups:c}=ji();for(const[d,{defaultLayoutDeferred:h,derivedPanelConstraints:g,layout:v,separatorToPanels:b}]of c)if(d.id===e)return{defaultLayoutDeferred:h,derivedPanelConstraints:g,group:d,layout:v,separatorToPanels:b};throw Error(`Group ${e} not found`)},i=()=>{const c=n().derivedPanelConstraints.find(d=>d.panelId===t);if(c!==void 0)return c;throw Error(`Panel constraints not found for Panel ${t}`)},s=()=>{const c=n().group.panels.find(d=>d.id===t);if(c!==void 0)return c;throw Error(`Layout not found for Panel ${t}`)},o=()=>{const c=n().layout[t];if(c!==void 0)return c;throw Error(`Layout not found for Panel ${t}`)},l=c=>{const d=o();if(c===d)return;const{defaultLayoutDeferred:h,derivedPanelConstraints:g,group:v,layout:b,separatorToPanels:_}=n(),C=v.panels.findIndex(k=>k.id===t),E=C===v.panels.length-1,R=Ff({delta:E?d-c:c-d,initialLayout:b,panelConstraints:g,pivotIndices:E?[C-1,C]:[C,C+1],prevLayout:b,trigger:"imperative-api"}),N=Jl({layout:R,panelConstraints:g});Ql(b,N)||Ii(k=>({mountedGroups:new Map(k.mountedGroups).set(v,{defaultLayoutDeferred:h,derivedPanelConstraints:g,layout:N,separatorToPanels:_})}))};return{collapse:()=>{const{collapsible:c,collapsedSize:d}=i(),{mutableValues:h}=s(),g=o();c&&g!==d&&(h.expandToSize=g,l(d))},expand:()=>{const{collapsible:c,collapsedSize:d,minSize:h}=i(),{mutableValues:g}=s(),v=o();if(c&&v===d){let b=g.expandToSize??h;b===0&&(b=1),l(b)}},getSize:()=>{const{group:c}=n(),d=o(),{element:h}=s(),g=c.orientation==="horizontal"?h.offsetWidth:h.offsetHeight;return{asPercentage:d,inPixels:g}},isCollapsed:()=>{const{collapsible:c,collapsedSize:d}=i(),h=o();return c&&Pi(d,h)},resize:c=>{if(o()!==c){let d;switch(typeof c){case"number":{const{group:h}=n(),g=ku({group:h});d=fr(c/g*100);break}case"string":{d=parseFloat(c);break}}l(d)}}}}function QR(e){if(e.defaultPrevented)return;const{mountedGroups:t}=ji();jw(e,t).forEach(n=>{if(n.separator){const i=n.panels.find(s=>s.panelConstraints.defaultSize!==void 0);if(i){const s=i.panelConstraints.defaultSize,o=mI({groupId:n.group.id,panelId:i.id});o&&s!==void 0&&(o.resize(s),e.preventDefault())}}})}function Pm(e){const{mountedGroups:t}=ji();for(const[n]of t)if(n.separators.some(i=>i.element===e))return n;throw Error("Could not find parent Group for separator element")}function gI({groupId:e}){const t=()=>{const{mountedGroups:n}=ji();for(const[i,s]of n)if(i.id===e)return{group:i,...s};throw Error(`Could not find Group with id "${e}"`)};return{getLayout(){const{defaultLayoutDeferred:n,layout:i}=t();return n?{}:i},setLayout(n){const{defaultLayoutDeferred:i,derivedPanelConstraints:s,group:o,layout:l,separatorToPanels:c}=t(),d=Jl({layout:n,panelConstraints:s});return i?l:(Ql(l,d)||Ii(h=>({mountedGroups:new Map(h.mountedGroups).set(o,{defaultLayoutDeferred:i,derivedPanelConstraints:s,layout:d,separatorToPanels:c})})),d)}}}function vI(e){const{mountedGroups:t}=ji(),n=t.get(e);return Vt(n,`Mounted Group ${e.id} not found`),n}function Rl(e,t){const n=Pm(e),i=vI(n),s=n.separators.find(g=>g.element===e);Vt(s,"Matching separator not found");const o=i.separatorToPanels.get(s);Vt(o,"Matching panels not found");const l=o.map(g=>n.panels.indexOf(g)),c=gI({groupId:n.id}).getLayout(),d=Ff({delta:t,initialLayout:c,panelConstraints:i.derivedPanelConstraints,pivotIndices:l,prevLayout:c,trigger:"keyboard"}),h=Jl({layout:d,panelConstraints:i.derivedPanelConstraints});Ql(c,h)||Ii(g=>({mountedGroups:new Map(g.mountedGroups).set(n,{defaultLayoutDeferred:i.defaultLayoutDeferred,derivedPanelConstraints:i.derivedPanelConstraints,layout:h,separatorToPanels:i.separatorToPanels})}))}function JR(e){if(e.defaultPrevented)return;const t=e.currentTarget,n=Pm(t);if(!n.disabled)switch(e.key){case"ArrowDown":{e.preventDefault(),n.orientation==="vertical"&&Rl(t,5);break}case"ArrowLeft":{e.preventDefault(),n.orientation==="horizontal"&&Rl(t,-5);break}case"ArrowRight":{e.preventDefault(),n.orientation==="horizontal"&&Rl(t,5);break}case"ArrowUp":{e.preventDefault(),n.orientation==="vertical"&&Rl(t,-5);break}case"End":{e.preventDefault(),Rl(t,100);break}case"Enter":{e.preventDefault();const i=Pm(t),{derivedPanelConstraints:s,layout:o,separatorToPanels:l}=vI(i),c=i.separators.find(v=>v.element===t);Vt(c,"Matching separator not found");const d=l.get(c);Vt(d,"Matching panels not found");const h=d[0],g=s.find(v=>v.panelId===h.id);if(Vt(g,"Panel metadata not found"),g.collapsible){const v=o[h.id],b=g.collapsedSize===v?i.inMemoryLastExpandedPanelSizes[h.id]??g.minSize:g.collapsedSize;Rl(t,b-v)}break}case"F6":{e.preventDefault();const i=Pm(t).separators.map(l=>l.element),s=Array.from(i).findIndex(l=>l===e.currentTarget);Vt(s!==null,"Index not found");const o=e.shiftKey?s>0?s-1:i.length-1:s+1<i.length?s+1:0;i[o].focus();break}case"Home":{e.preventDefault(),Rl(t,-100);break}}}function ek(e){if(e.defaultPrevented||e.pointerType==="mouse"&&e.button>0)return;const{mountedGroups:t}=ji(),n=jw(e,t),i=new Map;let s=!1;n.forEach(o=>{o.separator&&(s||(s=!0,o.separator.element.focus()));const l=t.get(o.group);l&&i.set(o.group,l.layout)}),Ii({interactionState:{hitRegions:n,initialLayoutMap:i,pointerDownAtPoint:{x:e.clientX,y:e.clientY},state:"active"}}),n.length&&e.preventDefault()}const Kse=e=>e,ox=()=>{},yI=1,bI=2,xI=4,_I=8,tk=3,nk=12;let mm;function ik(){return mm===void 0&&(mm=!1,typeof window<"u"&&(window.navigator.userAgent.includes("Chrome")||window.navigator.userAgent.includes("Firefox"))&&(mm=!0)),mm}function qse({cursorFlags:e,groups:t,state:n}){let i=0,s=0;switch(n){case"active":case"hover":t.forEach(o=>{if(!o.disableCursor)switch(o.orientation){case"horizontal":{i++;break}case"vertical":{s++;break}}})}if(!(i===0&&s===0)){switch(n){case"active":{if(e&&ik()){const o=(e&yI)!==0,l=(e&bI)!==0,c=(e&xI)!==0,d=(e&_I)!==0;if(o)return c?"se-resize":d?"ne-resize":"e-resize";if(l)return c?"sw-resize":d?"nw-resize":"w-resize";if(c)return"s-resize";if(d)return"n-resize"}break}}return ik()?i>0&&s>0?"move":i>0?"ew-resize":"ns-resize":i>0&&s>0?"grab":i>0?"col-resize":"row-resize"}}const sk=new WeakMap;function Iw(e){if(e.defaultView===null||e.defaultView===void 0)return;let{prevStyle:t,styleSheet:n}=sk.get(e)??{};n===void 0&&(n=new e.defaultView.CSSStyleSheet,e.adoptedStyleSheets&&e.adoptedStyleSheets.push(n));const{cursorFlags:i,interactionState:s}=ji();switch(s.state){case"active":case"hover":{const o=qse({cursorFlags:i,groups:s.hitRegions.map(c=>c.group),state:s.state}),l=`*, *:hover {cursor: ${o} !important; }`;if(t===l)return;t=l,o?n.cssRules.length===0?n.insertRule(l):n.replaceSync(l):n.cssRules.length===1&&n.deleteRule(0);break}case"inactive":{t=void 0,n.cssRules.length===1&&n.deleteRule(0);break}}sk.set(e,{prevStyle:t,styleSheet:n})}function wI({document:e,event:t,hitRegions:n,initialLayoutMap:i,mountedGroups:s,pointerDownAtPoint:o,prevCursorFlags:l}){let c=0;const d=new Map(s);n.forEach(g=>{const{group:v,groupSize:b}=g,{disableCursor:_,orientation:C,panels:E}=v;let R=0;o?C==="horizontal"?R=(t.clientX-o.x)/b*100:R=(t.clientY-o.y)/b*100:C==="horizontal"?R=t.clientX<0?-100:100:R=t.clientY<0?-100:100;const N=i.get(v),{defaultLayoutDeferred:k,derivedPanelConstraints:O,layout:M,separatorToPanels:j}=s.get(v)??{defaultLayoutDeferred:!1};if(O&&N&&M&&j){const U=Ff({delta:R,initialLayout:N,panelConstraints:O,pivotIndices:g.panels.map(z=>E.indexOf(z)),prevLayout:M,trigger:"mouse-or-touch"});if(Ql(U,M)){if(R!==0&&!_)switch(C){case"horizontal":{c|=R<0?yI:bI;break}case"vertical":{c|=R<0?xI:_I;break}}}else d.set(g.group,{defaultLayoutDeferred:k,derivedPanelConstraints:O,layout:U,separatorToPanels:j})}});let h=0;t.movementX===0?h|=l&tk:h|=c&tk,t.movementY===0?h|=l&nk:h|=c&nk,Ii({cursorFlags:h,mountedGroups:d}),Iw(e)}function rk(e){const{cursorFlags:t,interactionState:n,mountedGroups:i}=ji();n.state==="active"&&wI({document:e.currentTarget,event:e,hitRegions:n.hitRegions,initialLayoutMap:n.initialLayoutMap,mountedGroups:i,prevCursorFlags:t})}function ok(e){if(e.defaultPrevented)return;const{cursorFlags:t,interactionState:n,mountedGroups:i}=ji();switch(n.state){case"active":{if(e.buttons===0){Ii(s=>s.interactionState.state==="inactive"?s:{cursorFlags:0,interactionState:{state:"inactive"}}),Ii(s=>({mountedGroups:new Map(s.mountedGroups)}));return}wI({document:e.currentTarget,event:e,hitRegions:n.hitRegions,initialLayoutMap:n.initialLayoutMap,mountedGroups:i,pointerDownAtPoint:n.pointerDownAtPoint,prevCursorFlags:t});break}default:{const s=jw(e,i);s.length===0?n.state!=="inactive"&&Ii({interactionState:{state:"inactive"}}):Ii({interactionState:{hitRegions:s,state:"hover"}}),Iw(e.currentTarget);break}}}function ak(e){if(e.relatedTarget instanceof HTMLIFrameElement){const{interactionState:t}=ji();t.state==="hover"&&Ii({interactionState:{state:"inactive"}})}}function lk(e){if(e.defaultPrevented||e.pointerType==="mouse"&&e.button>0)return;const{interactionState:t}=ji();t.state==="active"&&(Ii({cursorFlags:0,interactionState:{state:"inactive"}}),t.hitRegions.length>0&&(Iw(e.currentTarget),Ii(n=>({mountedGroups:new Map(n.mountedGroups)})),e.preventDefault()))}function ck(e){let t=0,n=0;const i={};for(const o of e)if(o.defaultSize!==void 0){t++;const l=fr(o.defaultSize);n+=l,i[o.panelId]=l}else i[o.panelId]=void 0;const s=e.length-t;if(s!==0){const o=fr((100-n)/s);for(const l of e)l.defaultSize===void 0&&(i[l.panelId]=o)}return i}function Wse(e,t,n){if(!n[0])return;const i=e.panels.find(d=>d.element===t);if(!i||!i.onResize)return;const s=ku({group:e}),o=e.orientation==="horizontal"?i.element.offsetWidth:i.element.offsetHeight,l=i.mutableValues.prevSize,c={asPercentage:fr(o/s*100),inPixels:o};i.mutableValues.prevSize=c,i.onResize(c,i.id,l)}function Yse(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Zse(e,t){const n=e.map(s=>s.id),i=Object.keys(t);if(n.length!==i.length)return!1;for(const s of n)if(!i.includes(s))return!1;return!0}const nu=new Map;function Xse(e){let t=!0;Vt(e.element.ownerDocument.defaultView,"Cannot register an unmounted Group");const n=e.element.ownerDocument.defaultView.ResizeObserver,i=new Set,s=new Set,o=new n(C=>{for(const E of C){const{borderBoxSize:R,target:N}=E;if(N===e.element){if(t){if(ku({group:e})===0)return;Ii(k=>{const O=k.mountedGroups.get(e);if(O){const M=L0(e),j=O.defaultLayoutDeferred?ck(M):O.layout,U=Jl({layout:j,panelConstraints:M});return!O.defaultLayoutDeferred&&Ql(j,U)&&Yse(O.derivedPanelConstraints,M)?k:{mountedGroups:new Map(k.mountedGroups).set(e,{defaultLayoutDeferred:!1,derivedPanelConstraints:M,layout:U,separatorToPanels:O.separatorToPanels})}}return k})}}else Wse(e,N,R)}});o.observe(e.element),e.panels.forEach(C=>{Vt(!i.has(C.id),`Panel ids must be unique; id "${C.id}" was used more than once`),i.add(C.id),C.onResize&&o.observe(C.element)});const l=ku({group:e}),c=L0(e),d=e.panels.map(({id:C})=>C).join(",");let h=e.defaultLayout;h&&(Zse(e.panels,h)||(h=void 0));const g=e.inMemoryLayouts[d]??h??ck(c),v=Jl({layout:g,panelConstraints:c}),b=hI(e),_=e.element.ownerDocument;return Ii(C=>{const E=new Map;return nu.set(_,(nu.get(_)??0)+1),b.forEach(R=>{R.separator&&E.set(R.separator,R.panels)}),{mountedGroups:new Map(C.mountedGroups).set(e,{defaultLayoutDeferred:l===0,derivedPanelConstraints:c,layout:v,separatorToPanels:E})}}),e.separators.forEach(C=>{Vt(!s.has(C.id),`Separator ids must be unique; id "${C.id}" was used more than once`),s.add(C.id),C.element.addEventListener("keydown",JR)}),nu.get(_)===1&&(_.addEventListener("dblclick",QR,!0),_.addEventListener("pointerdown",ek,!0),_.addEventListener("pointerleave",rk),_.addEventListener("pointermove",ok),_.addEventListener("pointerout",ak),_.addEventListener("pointerup",lk,!0)),function(){t=!1,nu.set(_,Math.max(0,(nu.get(_)??0)-1)),Ii(C=>{const E=new Map(C.mountedGroups);return E.delete(e),{mountedGroups:E}}),e.separators.forEach(C=>{C.element.removeEventListener("keydown",JR)}),nu.get(_)||(_.removeEventListener("dblclick",QR,!0),_.removeEventListener("pointerdown",ek,!0),_.removeEventListener("pointerleave",rk),_.removeEventListener("pointermove",ok),_.removeEventListener("pointerout",ak),_.removeEventListener("pointerup",lk,!0)),o.disconnect()}}function Qse(){const[e,t]=x.useState({}),n=x.useCallback(()=>t({}),[]);return[e,n]}function zw(e){const t=x.useId();return`${e??t}`}const ic=typeof window<"u"?x.useLayoutEffect:x.useEffect;function pf(e){const t=x.useRef(e);return ic(()=>{t.current=e},[e]),x.useCallback((...n)=>t.current?.(...n),[t])}function Bw(...e){return pf(t=>{e.forEach(n=>{if(n)switch(typeof n){case"function":{n(t);break}case"object":{n.current=t;break}}})})}function Uw(e){const t=x.useRef({...e});return ic(()=>{for(const n in e)t.current[n]=e[n]},[e]),t.current}const SI=x.createContext(null);function Jse(e,t){const n=x.useRef({getLayout:()=>({}),setLayout:Kse});x.useImperativeHandle(t,()=>n.current,[]),ic(()=>{Object.assign(n.current,gI({groupId:e}))})}function CI({children:e,className:t,defaultLayout:n,disableCursor:i,disabled:s,elementRef:o,groupRef:l,id:c,onLayoutChange:d,onLayoutChanged:h,orientation:g="horizontal",resizeTargetMinimumSize:v={coarse:20,fine:10},style:b,..._}){const C=x.useRef({onLayoutChange:{},onLayoutChanged:{}}),E=pf(q=>{Ql(C.current.onLayoutChange,q)||(C.current.onLayoutChange=q,d?.(q))}),R=pf(q=>{Ql(C.current.onLayoutChanged,q)||(C.current.onLayoutChanged=q,h?.(q))}),N=zw(c),k=x.useRef(null),[O,M]=Qse(),j=x.useRef({lastExpandedPanelSizes:{},layouts:{},panels:[],resizeTargetMinimumSize:v,separators:[]}),U=Bw(k,o);Jse(N,l);const z=pf((q,X)=>{const{interactionState:ne,mountedGroups:re}=ji();for(const ye of re.keys())if(ye.id===q){const G=re.get(ye);if(G){let W=!1;return ne.state==="active"&&(W=ne.hitRegions.some(te=>te.group===ye)),{flexGrow:G.layout[X]??1,pointerEvents:W?"none":void 0}}}return{flexGrow:n?.[X]??1}}),I=Uw({defaultLayout:n,disableCursor:i}),$=x.useMemo(()=>({get disableCursor(){return!!I.disableCursor},getPanelStyles:z,id:N,orientation:g,registerPanel:q=>{const X=j.current;return X.panels=j0(g,[...X.panels,q]),M(),()=>{X.panels=X.panels.filter(ne=>ne!==q),M()}},registerSeparator:q=>{const X=j.current;return X.separators=j0(g,[...X.separators,q]),M(),()=>{X.separators=X.separators.filter(ne=>ne!==q),M()}},togglePanelDisabled:(q,X)=>{const ne=j.current.panels.find(ye=>ye.id===q);ne&&(ne.panelConstraints.disabled=X);const{mountedGroups:re}=ji();for(const ye of re.keys())if(ye.id===N){const G=re.get(ye);G&&(G.derivedPanelConstraints=L0(ye))}},toggleSeparatorDisabled:(q,X)=>{const ne=j.current.separators.find(re=>re.id===q);ne&&(ne.disabled=X)}}),[z,N,M,g,I]),Z=x.useRef(null);return ic(()=>{const q=k.current;if(q===null)return;const X=j.current;let ne;if(I.defaultLayout!==void 0&&Object.keys(I.defaultLayout).length===X.panels.length){ne={};for(const he of X.panels){const oe=I.defaultLayout[he.id];oe!==void 0&&(ne[he.id]=oe)}}const re={defaultLayout:ne,disableCursor:!!I.disableCursor,disabled:!!s,element:q,id:N,inMemoryLastExpandedPanelSizes:j.current.lastExpandedPanelSizes,inMemoryLayouts:j.current.layouts,orientation:g,panels:X.panels,resizeTargetMinimumSize:X.resizeTargetMinimumSize,separators:X.separators};Z.current=re;const ye=Xse(re),G=ji().mountedGroups.get(re);if(G){const{defaultLayoutDeferred:he,derivedPanelConstraints:oe,layout:K}=G;!he&&oe.length>0&&(E(K),R(K))}const W=Po.addListener("interactionStateChange",he=>{he.state}),te=Po.addListener("mountedGroupsChange",he=>{const oe=he.get(re);if(oe){const{defaultLayoutDeferred:K,derivedPanelConstraints:ce,layout:be}=oe;if(K||ce.length===0)return;const xe=re.panels.map(({id:Se})=>Se).join(",");re.inMemoryLayouts[xe]=be;const{interactionState:Re}=ji(),we=Re.state!=="active";E(be),we&&R(be)}});return()=>{Z.current=null,ye(),W(),te()}},[s,N,R,E,g,O,I]),x.useEffect(()=>{const q=Z.current;q&&(q.defaultLayout=n,q.disableCursor=!!i)}),y.jsx(SI.Provider,{value:$,children:y.jsx("div",{..._,className:t,"data-group":!0,"data-testid":N,id:N,ref:U,style:{height:"100%",width:"100%",overflow:"hidden",...b,display:"flex",flexDirection:g==="horizontal"?"row":"column",flexWrap:"nowrap",touchAction:g==="horizontal"?"pan-y":"pan-x"},children:e})})}CI.displayName="Group";function Fw(){const e=x.useContext(SI);return Vt(e,"Group Context not found; did you render a Panel or Separator outside of a Group?"),e}function ere(e,t){const{id:n}=Fw(),i=x.useRef({collapse:ox,expand:ox,getSize:()=>({asPercentage:0,inPixels:0}),isCollapsed:()=>!1,resize:ox});x.useImperativeHandle(t,()=>i.current,[]),ic(()=>{Object.assign(i.current,mI({groupId:n,panelId:e}))})}function EI({children:e,className:t,collapsedSize:n="0%",collapsible:i=!1,defaultSize:s,disabled:o,elementRef:l,id:c,maxSize:d="100%",minSize:h="0%",onResize:g,panelRef:v,style:b,..._}){const C=!!c,E=zw(c),R=Uw({disabled:o}),N=x.useRef(null),k=Bw(N,l),{getPanelStyles:O,id:M,orientation:j,registerPanel:U,togglePanelDisabled:z}=Fw(),I=g!==null,$=pf((q,X,ne)=>{g?.(q,c,ne)});ic(()=>{const q=N.current;if(q!==null){const X={element:q,id:E,idIsStable:C,mutableValues:{expandToSize:void 0,prevSize:void 0},onResize:I?$:void 0,panelConstraints:{collapsedSize:n,collapsible:i,defaultSize:s,disabled:R.disabled,maxSize:d,minSize:h}};return U(X)}},[n,i,s,I,E,C,d,h,$,U,R]),x.useEffect(()=>{z(E,!!o)},[o,E,z]),ere(E,v);const Z=x.useSyncExternalStore(q=>(Po.addListener("mountedGroupsChange",q),()=>{Po.removeListener("mountedGroupsChange",q)}),()=>JSON.stringify(O(M,E)),()=>JSON.stringify(O(M,E)));return y.jsx("div",{..._,"aria-disabled":o||void 0,"data-panel":!0,"data-testid":E,id:E,ref:k,style:{...tre,display:"flex",flexBasis:0,flexShrink:1,overflow:"hidden",...JSON.parse(Z)},children:y.jsx("div",{className:t,style:{maxHeight:"100%",maxWidth:"100%",flexGrow:1,...b,touchAction:j==="horizontal"?"pan-y":"pan-x"},children:e})})}EI.displayName="Panel";const tre={minHeight:0,maxHeight:"100%",height:"auto",minWidth:0,maxWidth:"100%",width:"auto",border:"none",borderWidth:0,padding:0,margin:0};function nre({layout:e,panelConstraints:t,panelId:n,panelIndex:i}){let s,o;const l=e[n],c=t.find(d=>d.panelId===n);if(c){const d=c.maxSize,h=c.collapsible?c.collapsedSize:c.minSize,g=[i,i+1];o=Jl({layout:Ff({delta:h-l,initialLayout:e,panelConstraints:t,pivotIndices:g,prevLayout:e}),panelConstraints:t})[n],s=Jl({layout:Ff({delta:d-l,initialLayout:e,panelConstraints:t,pivotIndices:g,prevLayout:e}),panelConstraints:t})[n]}return{valueControls:n,valueMax:s,valueMin:o,valueNow:l}}function AI({children:e,className:t,disabled:n,elementRef:i,id:s,style:o,...l}){const c=zw(s),d=Uw({disabled:n}),[h,g]=x.useState({}),[v,b]=x.useState("inactive"),_=x.useRef(null),C=Bw(_,i),{disableCursor:E,id:R,orientation:N,registerSeparator:k,toggleSeparatorDisabled:O}=Fw(),M=N==="horizontal"?"vertical":"horizontal";ic(()=>{const U=_.current;if(U!==null){const z={disabled:d.disabled,element:U,id:c},I=k(z),$=Po.addListener("interactionStateChange",q=>{b(q.state!=="inactive"&&q.hitRegions.some(X=>X.separator===z)?q.state:"inactive")}),Z=Po.addListener("mountedGroupsChange",q=>{q.forEach(({derivedPanelConstraints:X,layout:ne,separatorToPanels:re},ye)=>{if(ye.id===R){const G=re.get(z);if(G){const W=G[0],te=ye.panels.indexOf(W);g(nre({layout:ne,panelConstraints:X,panelId:W.id,panelIndex:te}))}}})});return()=>{$(),Z(),I()}}},[R,c,k,d]),x.useEffect(()=>{O(c,!!n)},[n,c,O]);let j;return n&&!E&&(j="not-allowed"),y.jsx("div",{...l,"aria-controls":h.valueControls,"aria-disabled":n||void 0,"aria-orientation":M,"aria-valuemax":h.valueMax,"aria-valuemin":h.valueMin,"aria-valuenow":h.valueNow,children:e,className:t,"data-separator":n?"disabled":v,"data-testid":c,id:c,ref:C,role:"separator",style:{flexBasis:"auto",cursor:j,...o,flexGrow:0,flexShrink:0,touchAction:"none"},tabIndex:n?void 0:0})}AI.displayName="Separator";function ire({className:e,...t}){return y.jsx(CI,{"data-slot":"resizable-panel-group",className:it("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t})}function uk({...e}){return y.jsx(EI,{"data-slot":"resizable-panel",...e})}function sre({withHandle:e,className:t,...n}){return y.jsx(AI,{"data-slot":"resizable-handle",className:it("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...n,children:e&&y.jsx("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:y.jsx(zO,{className:"size-2.5"})})})}const rre=()=>{const e=Be(nt.expandedNodes),t=Be(nt.challenge),n=e.find(i=>i.rank==="SPECIES");return y.jsxs(ire,{orientation:"horizontal",children:[y.jsxs(uk,{className:"relative",defaultSize:480,minSize:452,maxSize:855,children:[y.jsx(TM,{}),y.jsx(cI,{})]}),y.jsx(sre,{}),y.jsx(uk,{className:"flex w-full flex-col gap-4",children:y.jsxs("div",{className:"h-screen w-full overflow-auto",children:[t.mode&&y.jsx(lI,{}),!t.mode&&(n?y.jsx(Uu,{}):y.jsx(uI,{}))]})})]})},Ks=()=>{const{isTablet:e}=ec(),t=qt(nt.challenge),n=mr({from:"/challenges",shouldThrow:!1});return x.useEffect(()=>{n&&t({mode:"UNSET",status:"NOT_STARTED"})},[n,t]),e?y.jsx(Ase,{}):y.jsx(rre,{})},ore=[{icon:E_,title:"Galeria de Espcies",description:"Organize e favorite suas espcies j descobertas",color:"text-green-600",bgColor:"bg-green-50"},{icon:R_,title:"Desafios Dirios",description:"Novos desafios todos os dias para testar seus conhecimentos",color:"text-orange-600",bgColor:"bg-orange-50"},{icon:D$,title:"Conquistas e Medalhas",description:"Desbloqueie conquistas especiais e mostre suas habilidades",color:"text-pink-600",bgColor:"bg-pink-50"},{icon:W$,title:"Ranking Global",description:"Compita com outros exploradores da taxonomia",color:"text-yellow-600",bgColor:"bg-yellow-50"},{icon:n6,title:"Salvar atalhos",description:"Defina ns mais visitados para agilizar sua navegao",color:"text-blue-600",bgColor:"bg-blue-50"},{icon:P6,title:"Acompanhe seu Progresso",description:"Veja suas estatsticas e evoluo ao longo do tempo",color:"text-purple-600",bgColor:"bg-purple-50"}],are=y.jsxs("svg",{className:"mr-3 size-5",viewBox:"0 0 24 24",children:[y.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),y.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),y.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),y.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),lre=()=>{const{t:e}=Mt(),t=Ss(),{login:n}=j_(),i=Be(at.loginStatus)==="loading",s=Be(at.error),o=Be(at.isAuthenticated);x.useEffect(()=>{o&&t.navigate({to:"/profile"})},[o,t]);const l=async()=>{(await n("google")).success&&t.navigate({to:"/profile"})},c=()=>{window.history.length>1?window.history.back():t.navigate({to:"/"})};return y.jsx("main",{className:"flex min-h-screen items-center justify-center p-4",children:y.jsx("section",{className:"relative z-10 mx-auto w-full max-w-lg",children:y.jsxs(ja,{className:"border-0 shadow-xl",children:[y.jsxs(wj,{className:"text-center",children:[y.jsx(Sj,{className:"text-2xl",children:e("welcome")}),y.jsx(wie,{className:"text-sm leading-relaxed",children:e("auth.descriptionGoogle")})]}),y.jsxs(Ia,{className:"space-y-6",children:[s&&y.jsxs("div",{className:"bg-accent rounded-lg p-3 text-sm text-red-600",children:[y.jsx("p",{className:"font-medium",children:e("auth.loginError")}),y.jsx("p",{className:"mt-1 text-xs",children:s?.message})]}),y.jsx($t,{onClick:l,disabled:i,className:"h-12 w-full border border-gray-300 text-base font-medium shadow-sm hover:bg-gray-50",variant:"outline",children:i?y.jsxs(y.Fragment,{children:[y.jsx(UO,{className:"mr-2 size-5 animate-spin"})," ",e("auth.signingIn")]}):y.jsxs(y.Fragment,{children:[are,e("auth.continueWithGoogle")]})}),y.jsxs("div",{className:"space-y-4 border-t pt-4",children:[y.jsx("div",{className:"text-center",children:y.jsx("p",{className:"text-sm text-gray-500",children:e("auth.exclusiveFeatures")})}),y.jsx("ul",{className:"grid h-48 grid-cols-1 overflow-auto 2xl:h-full",children:ore.map((d,h)=>{const g=d.icon;return y.jsxs("li",{className:"flex items-start space-x-3 rounded-lg px-2 py-3",children:[y.jsx("div",{className:`flex size-8 shrink-0 items-center justify-center rounded-full ${d.bgColor} ${d.color}`,children:y.jsx(g,{className:"size-4"})}),y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("h4",{className:`text-sm font-medium ${d.color}`,children:d.title}),y.jsx("p",{className:"text-xs text-gray-500",children:d.description})]})]},h)})})]})]}),y.jsxs("div",{className:"space-y-4 border-t border-border p-6 pb-1 text-muted-foreground",children:[y.jsx("p",{className:"text-center text-sm leading-relaxed",children:e("auth.continueWithoutLogin")}),y.jsxs($t,{className:"h-11 w-full border border-border font-medium transition-all duration-200",variant:"outline","aria-label":e("auth.backAriaLabel"),onClick:c,children:[y.jsx(S_,{className:"mr-2 size-4","aria-hidden":"true"}),e("auth.back")]})]})]})})})},dk="/treevera/assets/avif-new-logo-CsHr8CWA.avif",cre=()=>{const{isMobile:e}=ec();return y.jsxs("div",{className:"relative",children:[y.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden","aria-hidden":"true",children:[!e&&y.jsx(Hn,{src:dk,alt:"Logo",className:"absolute -top-16 -left-16 -z-50 w-64 max-w-3xl rotate-12 transform-gpu opacity-10 sm:w-80 md:w-96 lg:w-md xl:w-lg 2xl:w-full"}),y.jsx(Hn,{src:dk,alt:"Logo",className:it("absolute -right-16 -bottom-16 -z-50 w-64 max-w-3xl scale-x-[-1] rotate-45 transform-gpu opacity-10 sm:w-80 md:w-96 lg:w-md xl:w-lg 2xl:w-full",e&&"fixed -right-6 bottom-50")})]}),y.jsx(Qk,{})]})},ax=async(e,t)=>{try{const n=e.game_info.top_fav_species??[],i=t(n),{data:s,error:o}=await $n.from("users").update({game_info:{...e.game_info,top_fav_species:i}}).eq("id",e.id).select().single();return o?(console.error("Error updating top_fav_species:",o),null):s}catch(n){return console.error("Unexpected error updating top_fav_species:",n),null}};function ure(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return x.useMemo(()=>i=>{t.forEach(s=>s(i))},t)}const ov=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Vu(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Vw(e){return"nodeType"in e}function Ji(e){var t,n;return e?Vu(e)?e:Vw(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function $w(e){const{Document:t}=Ji(e);return e instanceof t}function yh(e){return Vu(e)?!1:e instanceof Ji(e).HTMLElement}function TI(e){return e instanceof Ji(e).SVGElement}function $u(e){return e?Vu(e)?e.document:Vw(e)?$w(e)?e:yh(e)||TI(e)?e.ownerDocument:document:document:document}const Zr=ov?x.useLayoutEffect:x.useEffect;function Hw(e){const t=x.useRef(e);return Zr(()=>{t.current=e}),x.useCallback(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t.current==null?void 0:t.current(...i)},[])}function dre(){const e=x.useRef(null),t=x.useCallback((i,s)=>{e.current=setInterval(i,s)},[]),n=x.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Vf(e,t){t===void 0&&(t=[e]);const n=x.useRef(e);return Zr(()=>{n.current!==e&&(n.current=e)},t),n}function bh(e,t){const n=x.useRef();return x.useMemo(()=>{const i=e(n.current);return n.current=i,i},[...t])}function yg(e){const t=Hw(e),n=x.useRef(null),i=x.useCallback(s=>{s!==n.current&&t?.(s,n.current),n.current=s},[]);return[n,i]}function I0(e){const t=x.useRef();return x.useEffect(()=>{t.current=e},[e]),t.current}let lx={};function xh(e,t){return x.useMemo(()=>{if(t)return t;const n=lx[e]==null?0:lx[e]+1;return lx[e]=n,e+"-"+n},[e,t])}function RI(e){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return i.reduce((o,l)=>{const c=Object.entries(l);for(const[d,h]of c){const g=o[d];g!=null&&(o[d]=g+e*h)}return o},{...t})}}const wu=RI(1),bg=RI(-1);function fre(e){return"clientX"in e&&"clientY"in e}function Gw(e){if(!e)return!1;const{KeyboardEvent:t}=Ji(e.target);return t&&e instanceof t}function hre(e){if(!e)return!1;const{TouchEvent:t}=Ji(e.target);return t&&e instanceof t}function z0(e){if(hre(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return fre(e)?{x:e.clientX,y:e.clientY}:null}const $f=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[$f.Translate.toString(e),$f.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:i}=e;return t+" "+n+"ms "+i}}}),fk="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function pre(e){return e.matches(fk)?e:e.querySelector(fk)}const mre={display:"none"};function gre(e){let{id:t,value:n}=e;return Nt.createElement("div",{id:t,style:mre},n)}function vre(e){let{id:t,announcement:n,ariaLiveType:i="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Nt.createElement("div",{id:t,style:s,role:"status","aria-live":i,"aria-atomic":!0},n)}function yre(){const[e,t]=x.useState("");return{announce:x.useCallback(i=>{i!=null&&t(i)},[]),announcement:e}}const kI=x.createContext(null);function bre(e){const t=x.useContext(kI);x.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function xre(){const[e]=x.useState(()=>new Set),t=x.useCallback(i=>(e.add(i),()=>e.delete(i)),[e]);return[x.useCallback(i=>{let{type:s,event:o}=i;e.forEach(l=>{var c;return(c=l[s])==null?void 0:c.call(l,o)})},[e]),t]}const _re={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},wre={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Sre(e){let{announcements:t=wre,container:n,hiddenTextDescribedById:i,screenReaderInstructions:s=_re}=e;const{announce:o,announcement:l}=yre(),c=xh("DndLiveRegion"),[d,h]=x.useState(!1);if(x.useEffect(()=>{h(!0)},[]),bre(x.useMemo(()=>({onDragStart(v){let{active:b}=v;o(t.onDragStart({active:b}))},onDragMove(v){let{active:b,over:_}=v;t.onDragMove&&o(t.onDragMove({active:b,over:_}))},onDragOver(v){let{active:b,over:_}=v;o(t.onDragOver({active:b,over:_}))},onDragEnd(v){let{active:b,over:_}=v;o(t.onDragEnd({active:b,over:_}))},onDragCancel(v){let{active:b,over:_}=v;o(t.onDragCancel({active:b,over:_}))}}),[o,t])),!d)return null;const g=Nt.createElement(Nt.Fragment,null,Nt.createElement(gre,{id:i,value:s.draggable}),Nt.createElement(vre,{id:c,announcement:l}));return n?Xi.createPortal(g,n):g}var Fn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Fn||(Fn={}));function xg(){}function hk(e,t){return x.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Cre(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return x.useMemo(()=>[...t].filter(i=>i!=null),[...t])}const yr=Object.freeze({x:0,y:0});function Ere(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Are(e,t){let{data:{value:n}}=e,{data:{value:i}}=t;return n-i}function Tre(e,t){let{data:{value:n}}=e,{data:{value:i}}=t;return i-n}function Rre(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function pk(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const kre=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:i}=e;const s=pk(t,t.left,t.top),o=[];for(const l of i){const{id:c}=l,d=n.get(c);if(d){const h=Ere(pk(d),s);o.push({id:c,data:{droppableContainer:l,value:h}})}}return o.sort(Are)};function Nre(e,t){const n=Math.max(t.top,e.top),i=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),l=s-i,c=o-n;if(i<s&&n<o){const d=t.width*t.height,h=e.width*e.height,g=l*c,v=g/(d+h-g);return Number(v.toFixed(4))}return 0}const Ore=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:i}=e;const s=[];for(const o of i){const{id:l}=o,c=n.get(l);if(c){const d=Nre(c,t);d>0&&s.push({id:l,data:{droppableContainer:o,value:d}})}}return s.sort(Tre)};function Pre(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function NI(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:yr}function Mre(e){return function(n){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return s.reduce((l,c)=>({...l,top:l.top+e*c.y,bottom:l.bottom+e*c.y,left:l.left+e*c.x,right:l.right+e*c.x}),{...n})}}const Dre=Mre(1);function Lre(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function jre(e,t,n){const i=Lre(t);if(!i)return e;const{scaleX:s,scaleY:o,x:l,y:c}=i,d=e.left-l-(1-s)*parseFloat(n),h=e.top-c-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),g=s?e.width/s:e.width,v=o?e.height/o:e.height;return{width:g,height:v,top:h,right:d+g,bottom:h+v,left:d}}const Ire={ignoreTransform:!1};function Hu(e,t){t===void 0&&(t=Ire);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:h,transformOrigin:g}=Ji(e).getComputedStyle(e);h&&(n=jre(n,h,g))}const{top:i,left:s,width:o,height:l,bottom:c,right:d}=n;return{top:i,left:s,width:o,height:l,bottom:c,right:d}}function mk(e){return Hu(e,{ignoreTransform:!0})}function zre(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Bre(e,t){return t===void 0&&(t=Ji(e).getComputedStyle(e)),t.position==="fixed"}function Ure(e,t){t===void 0&&(t=Ji(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=t[s];return typeof o=="string"?n.test(o):!1})}function Kw(e,t){const n=[];function i(s){if(t!=null&&n.length>=t||!s)return n;if($w(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!yh(s)||TI(s)||n.includes(s))return n;const o=Ji(e).getComputedStyle(s);return s!==e&&Ure(s,o)&&n.push(s),Bre(s,o)?n:i(s.parentNode)}return e?i(e):n}function OI(e){const[t]=Kw(e,1);return t??null}function cx(e){return!ov||!e?null:Vu(e)?e:Vw(e)?$w(e)||e===$u(e).scrollingElement?window:yh(e)?e:null:null}function PI(e){return Vu(e)?e.scrollX:e.scrollLeft}function MI(e){return Vu(e)?e.scrollY:e.scrollTop}function B0(e){return{x:PI(e),y:MI(e)}}var ii;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(ii||(ii={}));function DI(e){return!ov||!e?!1:e===document.scrollingElement}function LI(e){const t={x:0,y:0},n=DI(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,l=e.scrollTop>=i.y,c=e.scrollLeft>=i.x;return{isTop:s,isLeft:o,isBottom:l,isRight:c,maxScroll:i,minScroll:t}}const Fre={x:.2,y:.2};function Vre(e,t,n,i,s){let{top:o,left:l,right:c,bottom:d}=n;i===void 0&&(i=10),s===void 0&&(s=Fre);const{isTop:h,isBottom:g,isLeft:v,isRight:b}=LI(e),_={x:0,y:0},C={x:0,y:0},E={height:t.height*s.y,width:t.width*s.x};return!h&&o<=t.top+E.height?(_.y=ii.Backward,C.y=i*Math.abs((t.top+E.height-o)/E.height)):!g&&d>=t.bottom-E.height&&(_.y=ii.Forward,C.y=i*Math.abs((t.bottom-E.height-d)/E.height)),!b&&c>=t.right-E.width?(_.x=ii.Forward,C.x=i*Math.abs((t.right-E.width-c)/E.width)):!v&&l<=t.left+E.width&&(_.x=ii.Backward,C.x=i*Math.abs((t.left+E.width-l)/E.width)),{direction:_,speed:C}}function $re(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:l}=window;return{top:0,left:0,right:o,bottom:l,width:o,height:l}}const{top:t,left:n,right:i,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:i,bottom:s,width:e.clientWidth,height:e.clientHeight}}function jI(e){return e.reduce((t,n)=>wu(t,B0(n)),yr)}function Hre(e){return e.reduce((t,n)=>t+PI(n),0)}function Gre(e){return e.reduce((t,n)=>t+MI(n),0)}function Kre(e,t){if(t===void 0&&(t=Hu),!e)return;const{top:n,left:i,bottom:s,right:o}=t(e);OI(e)&&(s<=0||o<=0||n>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const qre=[["x",["left","right"],Hre],["y",["top","bottom"],Gre]];class qw{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=Kw(n),s=jI(i);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,l,c]of qre)for(const d of l)Object.defineProperty(this,d,{get:()=>{const h=c(i),g=s[o]-h;return this.rect[d]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class mf{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...n)})},this.target=t}add(t,n,i){var s;(s=this.target)==null||s.addEventListener(t,n,i),this.listeners.push([t,n,i])}}function Wre(e){const{EventTarget:t}=Ji(e);return e instanceof t?e:$u(e)}function ux(e,t){const n=Math.abs(e.x),i=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+i**2)>t:"x"in t&&"y"in t?n>t.x&&i>t.y:"x"in t?n>t.x:"y"in t?i>t.y:!1}var Us;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Us||(Us={}));function gk(e){e.preventDefault()}function Yre(e){e.stopPropagation()}var Lt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Lt||(Lt={}));const II={start:[Lt.Space,Lt.Enter],cancel:[Lt.Esc],end:[Lt.Space,Lt.Enter,Lt.Tab]},Zre=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Lt.Right:return{...n,x:n.x+25};case Lt.Left:return{...n,x:n.x-25};case Lt.Down:return{...n,y:n.y+25};case Lt.Up:return{...n,y:n.y-25}}};class zI{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new mf($u(n)),this.windowListeners=new mf(Ji(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Us.Resize,this.handleCancel),this.windowListeners.add(Us.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Us.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,i=t.node.current;i&&Kre(i),n(yr)}handleKeyDown(t){if(Gw(t)){const{active:n,context:i,options:s}=this.props,{keyboardCodes:o=II,coordinateGetter:l=Zre,scrollBehavior:c="smooth"}=s,{code:d}=t;if(o.end.includes(d)){this.handleEnd(t);return}if(o.cancel.includes(d)){this.handleCancel(t);return}const{collisionRect:h}=i.current,g=h?{x:h.left,y:h.top}:yr;this.referenceCoordinates||(this.referenceCoordinates=g);const v=l(t,{active:n,context:i.current,currentCoordinates:g});if(v){const b=bg(v,g),_={x:0,y:0},{scrollableAncestors:C}=i.current;for(const E of C){const R=t.code,{isTop:N,isRight:k,isLeft:O,isBottom:M,maxScroll:j,minScroll:U}=LI(E),z=$re(E),I={x:Math.min(R===Lt.Right?z.right-z.width/2:z.right,Math.max(R===Lt.Right?z.left:z.left+z.width/2,v.x)),y:Math.min(R===Lt.Down?z.bottom-z.height/2:z.bottom,Math.max(R===Lt.Down?z.top:z.top+z.height/2,v.y))},$=R===Lt.Right&&!k||R===Lt.Left&&!O,Z=R===Lt.Down&&!M||R===Lt.Up&&!N;if($&&I.x!==v.x){const q=E.scrollLeft+b.x,X=R===Lt.Right&&q<=j.x||R===Lt.Left&&q>=U.x;if(X&&!b.y){E.scrollTo({left:q,behavior:c});return}X?_.x=E.scrollLeft-q:_.x=R===Lt.Right?E.scrollLeft-j.x:E.scrollLeft-U.x,_.x&&E.scrollBy({left:-_.x,behavior:c});break}else if(Z&&I.y!==v.y){const q=E.scrollTop+b.y,X=R===Lt.Down&&q<=j.y||R===Lt.Up&&q>=U.y;if(X&&!b.x){E.scrollTo({top:q,behavior:c});return}X?_.y=E.scrollTop-q:_.y=R===Lt.Down?E.scrollTop-j.y:E.scrollTop-U.y,_.y&&E.scrollBy({top:-_.y,behavior:c});break}}this.handleMove(t,wu(bg(v,this.referenceCoordinates),_))}}}handleMove(t,n){const{onMove:i}=this.props;t.preventDefault(),i(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}zI.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:i=II,onActivation:s}=t,{active:o}=n;const{code:l}=e.nativeEvent;if(i.start.includes(l)){const c=o.activatorNode.current;return c&&e.target!==c?!1:(e.preventDefault(),s?.({event:e.nativeEvent}),!0)}return!1}}];function vk(e){return!!(e&&"distance"in e)}function yk(e){return!!(e&&"delay"in e)}class Ww{constructor(t,n,i){var s;i===void 0&&(i=Wre(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:l}=o;this.props=t,this.events=n,this.document=$u(l),this.documentListeners=new mf(this.document),this.listeners=new mf(i),this.windowListeners=new mf(Ji(l)),this.initialCoordinates=(s=z0(o))!=null?s:yr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:i}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Us.Resize,this.handleCancel),this.windowListeners.add(Us.DragStart,gk),this.windowListeners.add(Us.VisibilityChange,this.handleCancel),this.windowListeners.add(Us.ContextMenu,gk),this.documentListeners.add(Us.Keydown,this.handleKeydown),n){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(yk(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(vk(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:i,onPending:s}=this.props;s(i,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Us.Click,Yre,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Us.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:i,initialCoordinates:s,props:o}=this,{onMove:l,options:{activationConstraint:c}}=o;if(!s)return;const d=(n=z0(t))!=null?n:yr,h=bg(s,d);if(!i&&c){if(vk(c)){if(c.tolerance!=null&&ux(h,c.tolerance))return this.handleCancel();if(ux(h,c.distance))return this.handleStart()}if(yk(c)&&ux(h,c.tolerance))return this.handleCancel();this.handlePending(c,h);return}t.cancelable&&t.preventDefault(),l(d)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Lt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Xre={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Yw extends Ww{constructor(t){const{event:n}=t,i=$u(n.target);super(t,Xre,i)}}Yw.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:i}=t;return!n.isPrimary||n.button!==0?!1:(i?.({event:n}),!0)}}];const Qre={move:{name:"mousemove"},end:{name:"mouseup"}};var U0;(function(e){e[e.RightClick=2]="RightClick"})(U0||(U0={}));class Jre extends Ww{constructor(t){super(t,Qre,$u(t.event.target))}}Jre.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:i}=t;return n.button===U0.RightClick?!1:(i?.({event:n}),!0)}}];const dx={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class BI extends Ww{constructor(t){super(t,dx)}static setup(){return window.addEventListener(dx.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(dx.move.name,t)};function t(){}}}BI.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:i}=t;const{touches:s}=n;return s.length>1?!1:(i?.({event:n}),!0)}}];var gf;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(gf||(gf={}));var _g;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(_g||(_g={}));function eoe(e){let{acceleration:t,activator:n=gf.Pointer,canScroll:i,draggingRect:s,enabled:o,interval:l=5,order:c=_g.TreeOrder,pointerCoordinates:d,scrollableAncestors:h,scrollableAncestorRects:g,delta:v,threshold:b}=e;const _=noe({delta:v,disabled:!o}),[C,E]=dre(),R=x.useRef({x:0,y:0}),N=x.useRef({x:0,y:0}),k=x.useMemo(()=>{switch(n){case gf.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case gf.DraggableRect:return s}},[n,s,d]),O=x.useRef(null),M=x.useCallback(()=>{const U=O.current;if(!U)return;const z=R.current.x*N.current.x,I=R.current.y*N.current.y;U.scrollBy(z,I)},[]),j=x.useMemo(()=>c===_g.TreeOrder?[...h].reverse():h,[c,h]);x.useEffect(()=>{if(!o||!h.length||!k){E();return}for(const U of j){if(i?.(U)===!1)continue;const z=h.indexOf(U),I=g[z];if(!I)continue;const{direction:$,speed:Z}=Vre(U,I,k,t,b);for(const q of["x","y"])_[q][$[q]]||(Z[q]=0,$[q]=0);if(Z.x>0||Z.y>0){E(),O.current=U,C(M,l),R.current=Z,N.current=$;return}}R.current={x:0,y:0},N.current={x:0,y:0},E()},[t,M,i,E,o,l,JSON.stringify(k),JSON.stringify(_),C,h,j,g,JSON.stringify(b)])}const toe={x:{[ii.Backward]:!1,[ii.Forward]:!1},y:{[ii.Backward]:!1,[ii.Forward]:!1}};function noe(e){let{delta:t,disabled:n}=e;const i=I0(t);return bh(s=>{if(n||!i||!s)return toe;const o={x:Math.sign(t.x-i.x),y:Math.sign(t.y-i.y)};return{x:{[ii.Backward]:s.x[ii.Backward]||o.x===-1,[ii.Forward]:s.x[ii.Forward]||o.x===1},y:{[ii.Backward]:s.y[ii.Backward]||o.y===-1,[ii.Forward]:s.y[ii.Forward]||o.y===1}}},[n,t,i])}function ioe(e,t){const n=t!=null?e.get(t):void 0,i=n?n.node.current:null;return bh(s=>{var o;return t==null?null:(o=i??s)!=null?o:null},[i,t])}function soe(e,t){return x.useMemo(()=>e.reduce((n,i)=>{const{sensor:s}=i,o=s.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,i)}));return[...n,...o]},[]),[e,t])}var Hf;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Hf||(Hf={}));var F0;(function(e){e.Optimized="optimized"})(F0||(F0={}));const bk=new Map;function roe(e,t){let{dragging:n,dependencies:i,config:s}=t;const[o,l]=x.useState(null),{frequency:c,measure:d,strategy:h}=s,g=x.useRef(e),v=R(),b=Vf(v),_=x.useCallback(function(N){N===void 0&&(N=[]),!b.current&&l(k=>k===null?N:k.concat(N.filter(O=>!k.includes(O))))},[b]),C=x.useRef(null),E=bh(N=>{if(v&&!n)return bk;if(!N||N===bk||g.current!==e||o!=null){const k=new Map;for(let O of e){if(!O)continue;if(o&&o.length>0&&!o.includes(O.id)&&O.rect.current){k.set(O.id,O.rect.current);continue}const M=O.node.current,j=M?new qw(d(M),M):null;O.rect.current=j,j&&k.set(O.id,j)}return k}return N},[e,o,n,v,d]);return x.useEffect(()=>{g.current=e},[e]),x.useEffect(()=>{v||_()},[n,v]),x.useEffect(()=>{o&&o.length>0&&l(null)},[JSON.stringify(o)]),x.useEffect(()=>{v||typeof c!="number"||C.current!==null||(C.current=setTimeout(()=>{_(),C.current=null},c))},[c,v,_,...i]),{droppableRects:E,measureDroppableContainers:_,measuringScheduled:o!=null};function R(){switch(h){case Hf.Always:return!1;case Hf.BeforeDragging:return n;default:return!n}}}function UI(e,t){return bh(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function ooe(e,t){return UI(e,t)}function aoe(e){let{callback:t,disabled:n}=e;const i=Hw(t),s=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(i)},[i,n]);return x.useEffect(()=>()=>s?.disconnect(),[s]),s}function av(e){let{callback:t,disabled:n}=e;const i=Hw(t),s=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(i)},[n]);return x.useEffect(()=>()=>s?.disconnect(),[s]),s}function loe(e){return new qw(Hu(e),e)}function xk(e,t,n){t===void 0&&(t=loe);const[i,s]=x.useState(null);function o(){s(d=>{if(!e)return null;if(e.isConnected===!1){var h;return(h=d??n)!=null?h:null}const g=t(e);return JSON.stringify(d)===JSON.stringify(g)?d:g})}const l=aoe({callback(d){if(e)for(const h of d){const{type:g,target:v}=h;if(g==="childList"&&v instanceof HTMLElement&&v.contains(e)){o();break}}}}),c=av({callback:o});return Zr(()=>{o(),e?(c?.observe(e),l?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),l?.disconnect())},[e]),i}function coe(e){const t=UI(e);return NI(e,t)}const _k=[];function uoe(e){const t=x.useRef(e),n=bh(i=>e?i&&i!==_k&&e&&t.current&&e.parentNode===t.current.parentNode?i:Kw(e):_k,[e]);return x.useEffect(()=>{t.current=e},[e]),n}function doe(e){const[t,n]=x.useState(null),i=x.useRef(e),s=x.useCallback(o=>{const l=cx(o.target);l&&n(c=>c?(c.set(l,B0(l)),new Map(c)):null)},[]);return x.useEffect(()=>{const o=i.current;if(e!==o){l(o);const c=e.map(d=>{const h=cx(d);return h?(h.addEventListener("scroll",s,{passive:!0}),[h,B0(h)]):null}).filter(d=>d!=null);n(c.length?new Map(c):null),i.current=e}return()=>{l(e),l(o)};function l(c){c.forEach(d=>{const h=cx(d);h?.removeEventListener("scroll",s)})}},[s,e]),x.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,l)=>wu(o,l),yr):jI(e):yr,[e,t])}function wk(e,t){t===void 0&&(t=[]);const n=x.useRef(null);return x.useEffect(()=>{n.current=null},t),x.useEffect(()=>{const i=e!==yr;i&&!n.current&&(n.current=e),!i&&n.current&&(n.current=null)},[e]),n.current?bg(e,n.current):yr}function foe(e){x.useEffect(()=>{if(!ov)return;const t=e.map(n=>{let{sensor:i}=n;return i.setup==null?void 0:i.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function hoe(e,t){return x.useMemo(()=>e.reduce((n,i)=>{let{eventName:s,handler:o}=i;return n[s]=l=>{o(l,t)},n},{}),[e,t])}function FI(e){return x.useMemo(()=>e?zre(e):null,[e])}const Sk=[];function poe(e,t){t===void 0&&(t=Hu);const[n]=e,i=FI(n?Ji(n):null),[s,o]=x.useState(Sk);function l(){o(()=>e.length?e.map(d=>DI(d)?i:new qw(t(d),d)):Sk)}const c=av({callback:l});return Zr(()=>{c?.disconnect(),l(),e.forEach(d=>c?.observe(d))},[e]),s}function moe(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return yh(t)?t:e}function goe(e){let{measure:t}=e;const[n,i]=x.useState(null),s=x.useCallback(h=>{for(const{target:g}of h)if(yh(g)){i(v=>{const b=t(g);return v?{...v,width:b.width,height:b.height}:b});break}},[t]),o=av({callback:s}),l=x.useCallback(h=>{const g=moe(h);o?.disconnect(),g&&o?.observe(g),i(g?t(g):null)},[t,o]),[c,d]=yg(l);return x.useMemo(()=>({nodeRef:c,rect:n,setRef:d}),[n,c,d])}const voe=[{sensor:Yw,options:{}},{sensor:zI,options:{}}],yoe={current:{}},Mm={draggable:{measure:mk},droppable:{measure:mk,strategy:Hf.WhileDragging,frequency:F0.Optimized},dragOverlay:{measure:Hu}};class vf extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,i;return(n=(i=this.get(t))==null?void 0:i.node.current)!=null?n:void 0}}const boe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new vf,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:xg},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Mm,measureDroppableContainers:xg,windowRect:null,measuringScheduled:!1},xoe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:xg,draggableNodes:new Map,over:null,measureDroppableContainers:xg},lv=x.createContext(xoe),VI=x.createContext(boe);function _oe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new vf}}}function woe(e,t){switch(t.type){case Fn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Fn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Fn.DragEnd:case Fn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Fn.RegisterDroppable:{const{element:n}=t,{id:i}=n,s=new vf(e.droppable.containers);return s.set(i,n),{...e,droppable:{...e.droppable,containers:s}}}case Fn.SetDroppableDisabled:{const{id:n,key:i,disabled:s}=t,o=e.droppable.containers.get(n);if(!o||i!==o.key)return e;const l=new vf(e.droppable.containers);return l.set(n,{...o,disabled:s}),{...e,droppable:{...e.droppable,containers:l}}}case Fn.UnregisterDroppable:{const{id:n,key:i}=t,s=e.droppable.containers.get(n);if(!s||i!==s.key)return e;const o=new vf(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function Soe(e){let{disabled:t}=e;const{active:n,activatorEvent:i,draggableNodes:s}=x.useContext(lv),o=I0(i),l=I0(n?.id);return x.useEffect(()=>{if(!t&&!i&&o&&l!=null){if(!Gw(o)||document.activeElement===o.target)return;const c=s.get(l);if(!c)return;const{activatorNode:d,node:h}=c;if(!d.current&&!h.current)return;requestAnimationFrame(()=>{for(const g of[d.current,h.current]){if(!g)continue;const v=pre(g);if(v){v.focus();break}}})}},[i,t,s,l,o]),null}function Coe(e,t){let{transform:n,...i}=t;return e!=null&&e.length?e.reduce((s,o)=>o({transform:s,...i}),n):n}function Eoe(e){return x.useMemo(()=>({draggable:{...Mm.draggable,...e?.draggable},droppable:{...Mm.droppable,...e?.droppable},dragOverlay:{...Mm.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function Aoe(e){let{activeNode:t,measure:n,initialRect:i,config:s=!0}=e;const o=x.useRef(!1),{x:l,y:c}=typeof s=="boolean"?{x:s,y:s}:s;Zr(()=>{if(!l&&!c||!t){o.current=!1;return}if(o.current||!i)return;const h=t?.node.current;if(!h||h.isConnected===!1)return;const g=n(h),v=NI(g,i);if(l||(v.x=0),c||(v.y=0),o.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const b=OI(h);b&&b.scrollBy({top:v.y,left:v.x})}},[t,l,c,i,n])}const $I=x.createContext({...yr,scaleX:1,scaleY:1});var Ca;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ca||(Ca={}));const Toe=x.memo(function(t){var n,i,s,o;let{id:l,accessibility:c,autoScroll:d=!0,children:h,sensors:g=voe,collisionDetection:v=Ore,measuring:b,modifiers:_,...C}=t;const E=x.useReducer(woe,void 0,_oe),[R,N]=E,[k,O]=xre(),[M,j]=x.useState(Ca.Uninitialized),U=M===Ca.Initialized,{draggable:{active:z,nodes:I,translate:$},droppable:{containers:Z}}=R,q=z!=null?I.get(z):null,X=x.useRef({initial:null,translated:null}),ne=x.useMemo(()=>{var Yt;return z!=null?{id:z,data:(Yt=q?.data)!=null?Yt:yoe,rect:X}:null},[z,q]),re=x.useRef(null),[ye,G]=x.useState(null),[W,te]=x.useState(null),he=Vf(C,Object.values(C)),oe=xh("DndDescribedBy",l),K=x.useMemo(()=>Z.getEnabled(),[Z]),ce=Eoe(b),{droppableRects:be,measureDroppableContainers:xe,measuringScheduled:Re}=roe(K,{dragging:U,dependencies:[$.x,$.y],config:ce.droppable}),we=ioe(I,z),Se=x.useMemo(()=>W?z0(W):null,[W]),Le=Ws(),Me=ooe(we,ce.draggable.measure);Aoe({activeNode:z!=null?I.get(z):null,config:Le.layoutShiftCompensation,initialRect:Me,measure:ce.draggable.measure});const De=xk(we,ce.draggable.measure,Me),Ye=xk(we?we.parentElement:null),Ze=x.useRef({activatorEvent:null,active:null,activeNode:we,collisionRect:null,collisions:null,droppableRects:be,draggableNodes:I,draggingNode:null,draggingNodeRect:null,droppableContainers:Z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),St=Z.getNodeFor((n=Ze.current.over)==null?void 0:n.id),vt=goe({measure:ce.dragOverlay.measure}),It=(i=vt.nodeRef.current)!=null?i:we,dn=U?(s=vt.rect)!=null?s:De:null,fn=!!(vt.nodeRef.current&&vt.rect),Ln=coe(fn?null:De),_n=FI(It?Ji(It):null),wn=uoe(U?St??we:null),Kn=poe(wn),Ai=Coe(_,{transform:{x:$.x-Ln.x,y:$.y-Ln.y,scaleX:1,scaleY:1},activatorEvent:W,active:ne,activeNodeRect:De,containerNodeRect:Ye,draggingNodeRect:dn,over:Ze.current.over,overlayNodeRect:vt.rect,scrollableAncestors:wn,scrollableAncestorRects:Kn,windowRect:_n}),Es=Se?wu(Se,$):null,sn=doe(wn),_r=wk(sn),yt=wk(sn,[De]),Et=wu(Ai,_r),zt=dn?Dre(dn,Ai):null,Ti=ne&&zt?v({active:ne,collisionRect:zt,droppableRects:be,droppableContainers:K,pointerCoordinates:Es}):null,qs=Rre(Ti,"id"),[vi,Jr]=x.useState(null),es=fn?Ai:wu(Ai,yt),rn=Pre(es,(o=vi?.rect)!=null?o:null,De),si=x.useRef(null),En=x.useCallback((Yt,Zt)=>{let{sensor:hn,options:Wn}=Zt;if(re.current==null)return;const Yn=I.get(re.current);if(!Yn)return;const An=Yt.nativeEvent,Zn=new hn({active:re.current,activeNode:Yn,event:An,options:Wn,context:Ze,onAbort(on){if(!I.get(on))return;const{onDragAbort:ri}=he.current,yi={id:on};ri?.(yi),k({type:"onDragAbort",event:yi})},onPending(on,Ri,ri,yi){if(!I.get(on))return;const{onDragPending:Ie}=he.current,bi={id:on,constraint:Ri,initialCoordinates:ri,offset:yi};Ie?.(bi),k({type:"onDragPending",event:bi})},onStart(on){const Ri=re.current;if(Ri==null)return;const ri=I.get(Ri);if(!ri)return;const{onDragStart:yi}=he.current,an={activatorEvent:An,active:{id:Ri,data:ri.data,rect:X}};Xi.unstable_batchedUpdates(()=>{yi?.(an),j(Ca.Initializing),N({type:Fn.DragStart,initialCoordinates:on,active:Ri}),k({type:"onDragStart",event:an}),G(si.current),te(An)})},onMove(on){N({type:Fn.DragMove,coordinates:on})},onEnd:Xn(Fn.DragEnd),onCancel:Xn(Fn.DragCancel)});si.current=Zn;function Xn(on){return async function(){const{active:ri,collisions:yi,over:an,scrollAdjustedTranslate:Ie}=Ze.current;let bi=null;if(ri&&Ie){const{cancelDrop:ns}=he.current;bi={activatorEvent:An,active:ri,collisions:yi,delta:Ie,over:an},on===Fn.DragEnd&&typeof ns=="function"&&await Promise.resolve(ns(bi))&&(on=Fn.DragCancel)}re.current=null,Xi.unstable_batchedUpdates(()=>{N({type:on}),j(Ca.Uninitialized),Jr(null),G(null),te(null),si.current=null;const ns=on===Fn.DragEnd?"onDragEnd":"onDragCancel";if(bi){const oi=he.current[ns];oi?.(bi),k({type:ns,event:bi})}})}}},[I]),ts=x.useCallback((Yt,Zt)=>(hn,Wn)=>{const Yn=hn.nativeEvent,An=I.get(Wn);if(re.current!==null||!An||Yn.dndKit||Yn.defaultPrevented)return;const Zn={active:An};Yt(hn,Zt.options,Zn)===!0&&(Yn.dndKit={capturedBy:Zt.sensor},re.current=Wn,En(hn,Zt))},[I,En]),eo=soe(g,ts);foe(g),Zr(()=>{De&&M===Ca.Initializing&&j(Ca.Initialized)},[De,M]),x.useEffect(()=>{const{onDragMove:Yt}=he.current,{active:Zt,activatorEvent:hn,collisions:Wn,over:Yn}=Ze.current;if(!Zt||!hn)return;const An={active:Zt,activatorEvent:hn,collisions:Wn,delta:{x:Et.x,y:Et.y},over:Yn};Xi.unstable_batchedUpdates(()=>{Yt?.(An),k({type:"onDragMove",event:An})})},[Et.x,Et.y]),x.useEffect(()=>{const{active:Yt,activatorEvent:Zt,collisions:hn,droppableContainers:Wn,scrollAdjustedTranslate:Yn}=Ze.current;if(!Yt||re.current==null||!Zt||!Yn)return;const{onDragOver:An}=he.current,Zn=Wn.get(qs),Xn=Zn&&Zn.rect.current?{id:Zn.id,rect:Zn.rect.current,data:Zn.data,disabled:Zn.disabled}:null,on={active:Yt,activatorEvent:Zt,collisions:hn,delta:{x:Yn.x,y:Yn.y},over:Xn};Xi.unstable_batchedUpdates(()=>{Jr(Xn),An?.(on),k({type:"onDragOver",event:on})})},[qs]),Zr(()=>{Ze.current={activatorEvent:W,active:ne,activeNode:we,collisionRect:zt,collisions:Ti,droppableRects:be,draggableNodes:I,draggingNode:It,draggingNodeRect:dn,droppableContainers:Z,over:vi,scrollableAncestors:wn,scrollAdjustedTranslate:Et},X.current={initial:dn,translated:zt}},[ne,we,Ti,zt,I,It,dn,be,Z,vi,wn,Et]),eoe({...Le,delta:$,draggingRect:zt,pointerCoordinates:Es,scrollableAncestors:wn,scrollableAncestorRects:Kn});const $a=x.useMemo(()=>({active:ne,activeNode:we,activeNodeRect:De,activatorEvent:W,collisions:Ti,containerNodeRect:Ye,dragOverlay:vt,draggableNodes:I,droppableContainers:Z,droppableRects:be,over:vi,measureDroppableContainers:xe,scrollableAncestors:wn,scrollableAncestorRects:Kn,measuringConfiguration:ce,measuringScheduled:Re,windowRect:_n}),[ne,we,De,W,Ti,Ye,vt,I,Z,be,vi,xe,wn,Kn,ce,Re,_n]),qn=x.useMemo(()=>({activatorEvent:W,activators:eo,active:ne,activeNodeRect:De,ariaDescribedById:{draggable:oe},dispatch:N,draggableNodes:I,over:vi,measureDroppableContainers:xe}),[W,eo,ne,De,N,oe,I,vi,xe]);return Nt.createElement(kI.Provider,{value:O},Nt.createElement(lv.Provider,{value:qn},Nt.createElement(VI.Provider,{value:$a},Nt.createElement($I.Provider,{value:rn},h)),Nt.createElement(Soe,{disabled:c?.restoreFocus===!1})),Nt.createElement(Sre,{...c,hiddenTextDescribedById:oe}));function Ws(){const Yt=ye?.autoScrollEnabled===!1,Zt=typeof d=="object"?d.enabled===!1:d===!1,hn=U&&!Yt&&!Zt;return typeof d=="object"?{...d,enabled:hn}:{enabled:hn}}}),Roe=x.createContext(null),Ck="button",koe="Draggable";function Noe(e){let{id:t,data:n,disabled:i=!1,attributes:s}=e;const o=xh(koe),{activators:l,activatorEvent:c,active:d,activeNodeRect:h,ariaDescribedById:g,draggableNodes:v,over:b}=x.useContext(lv),{role:_=Ck,roleDescription:C="draggable",tabIndex:E=0}=s??{},R=d?.id===t,N=x.useContext(R?$I:Roe),[k,O]=yg(),[M,j]=yg(),U=hoe(l,t),z=Vf(n);Zr(()=>(v.set(t,{id:t,key:o,node:k,activatorNode:M,data:z}),()=>{const $=v.get(t);$&&$.key===o&&v.delete(t)}),[v,t]);const I=x.useMemo(()=>({role:_,tabIndex:E,"aria-disabled":i,"aria-pressed":R&&_===Ck?!0:void 0,"aria-roledescription":C,"aria-describedby":g.draggable}),[i,_,E,R,C,g.draggable]);return{active:d,activatorEvent:c,activeNodeRect:h,attributes:I,isDragging:R,listeners:i?void 0:U,node:k,over:b,setNodeRef:O,setActivatorNodeRef:j,transform:N}}function Ooe(){return x.useContext(VI)}const Poe="Droppable",Moe={timeout:25};function Doe(e){let{data:t,disabled:n=!1,id:i,resizeObserverConfig:s}=e;const o=xh(Poe),{active:l,dispatch:c,over:d,measureDroppableContainers:h}=x.useContext(lv),g=x.useRef({disabled:n}),v=x.useRef(!1),b=x.useRef(null),_=x.useRef(null),{disabled:C,updateMeasurementsFor:E,timeout:R}={...Moe,...s},N=Vf(E??i),k=x.useCallback(()=>{if(!v.current){v.current=!0;return}_.current!=null&&clearTimeout(_.current),_.current=setTimeout(()=>{h(Array.isArray(N.current)?N.current:[N.current]),_.current=null},R)},[R]),O=av({callback:k,disabled:C||!l}),M=x.useCallback((I,$)=>{O&&($&&(O.unobserve($),v.current=!1),I&&O.observe(I))},[O]),[j,U]=yg(M),z=Vf(t);return x.useEffect(()=>{!O||!j.current||(O.disconnect(),v.current=!1,O.observe(j.current))},[j,O]),x.useEffect(()=>(c({type:Fn.RegisterDroppable,element:{id:i,key:o,disabled:n,node:j,rect:b,data:z}}),()=>c({type:Fn.UnregisterDroppable,key:o,id:i})),[i]),x.useEffect(()=>{n!==g.current.disabled&&(c({type:Fn.SetDroppableDisabled,id:i,key:o,disabled:n}),g.current.disabled=n)},[i,o,n,c]),{active:l,rect:b,isOver:d?.id===i,node:j,over:d,setNodeRef:U}}function Zw(e,t,n){const i=e.slice();return i.splice(n<0?i.length+n:n,0,i.splice(t,1)[0]),i}function Loe(e,t){return e.reduce((n,i,s)=>{const o=t.get(i);return o&&(n[s]=o),n},Array(e.length))}function gm(e){return e!==null&&e>=0}function joe(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Ioe(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Xw=e=>{let{rects:t,activeIndex:n,overIndex:i,index:s}=e;const o=Zw(t,i,n),l=t[s],c=o[s];return!c||!l?null:{x:c.left-l.left,y:c.top-l.top,scaleX:c.width/l.width,scaleY:c.height/l.height}},HI="Sortable",GI=Nt.createContext({activeIndex:-1,containerId:HI,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Xw,disabled:{draggable:!1,droppable:!1}});function zoe(e){let{children:t,id:n,items:i,strategy:s=Xw,disabled:o=!1}=e;const{active:l,dragOverlay:c,droppableRects:d,over:h,measureDroppableContainers:g}=Ooe(),v=xh(HI,n),b=c.rect!==null,_=x.useMemo(()=>i.map(U=>typeof U=="object"&&"id"in U?U.id:U),[i]),C=l!=null,E=l?_.indexOf(l.id):-1,R=h?_.indexOf(h.id):-1,N=x.useRef(_),k=!joe(_,N.current),O=R!==-1&&E===-1||k,M=Ioe(o);Zr(()=>{k&&C&&g(_)},[k,_,C,g]),x.useEffect(()=>{N.current=_},[_]);const j=x.useMemo(()=>({activeIndex:E,containerId:v,disabled:M,disableTransforms:O,items:_,overIndex:R,useDragOverlay:b,sortedRects:Loe(_,d),strategy:s}),[E,v,M.draggable,M.droppable,O,_,R,d,b,s]);return Nt.createElement(GI.Provider,{value:j},t)}const Boe=e=>{let{id:t,items:n,activeIndex:i,overIndex:s}=e;return Zw(n,i,s).indexOf(t)},Uoe=e=>{let{containerId:t,isSorting:n,wasDragging:i,index:s,items:o,newIndex:l,previousItems:c,previousContainerId:d,transition:h}=e;return!h||!i||c!==o&&s===l?!1:n?!0:l!==s&&t===d},Foe={duration:200,easing:"ease"},KI="transform",Voe=$f.Transition.toString({property:KI,duration:0,easing:"linear"}),$oe={roleDescription:"sortable"};function Hoe(e){let{disabled:t,index:n,node:i,rect:s}=e;const[o,l]=x.useState(null),c=x.useRef(n);return Zr(()=>{if(!t&&n!==c.current&&i.current){const d=s.current;if(d){const h=Hu(i.current,{ignoreTransform:!0}),g={x:d.left-h.left,y:d.top-h.top,scaleX:d.width/h.width,scaleY:d.height/h.height};(g.x||g.y)&&l(g)}}n!==c.current&&(c.current=n)},[t,n,i,s]),x.useEffect(()=>{o&&l(null)},[o]),o}function Goe(e){let{animateLayoutChanges:t=Uoe,attributes:n,disabled:i,data:s,getNewIndex:o=Boe,id:l,strategy:c,resizeObserverConfig:d,transition:h=Foe}=e;const{items:g,containerId:v,activeIndex:b,disabled:_,disableTransforms:C,sortedRects:E,overIndex:R,useDragOverlay:N,strategy:k}=x.useContext(GI),O=Koe(i,_),M=g.indexOf(l),j=x.useMemo(()=>({sortable:{containerId:v,index:M,items:g},...s}),[v,s,M,g]),U=x.useMemo(()=>g.slice(g.indexOf(l)),[g,l]),{rect:z,node:I,isOver:$,setNodeRef:Z}=Doe({id:l,data:j,disabled:O.droppable,resizeObserverConfig:{updateMeasurementsFor:U,...d}}),{active:q,activatorEvent:X,activeNodeRect:ne,attributes:re,setNodeRef:ye,listeners:G,isDragging:W,over:te,setActivatorNodeRef:he,transform:oe}=Noe({id:l,data:j,attributes:{...$oe,...n},disabled:O.draggable}),K=ure(Z,ye),ce=!!q,be=ce&&!C&&gm(b)&&gm(R),xe=!N&&W,Re=xe&&be?oe:null,Se=be?Re??(c??k)({rects:E,activeNodeRect:ne,activeIndex:b,overIndex:R,index:M}):null,Le=gm(b)&&gm(R)?o({id:l,items:g,activeIndex:b,overIndex:R}):M,Me=q?.id,De=x.useRef({activeId:Me,items:g,newIndex:Le,containerId:v}),Ye=g!==De.current.items,Ze=t({active:q,containerId:v,isDragging:W,isSorting:ce,id:l,index:M,items:g,newIndex:De.current.newIndex,previousItems:De.current.items,previousContainerId:De.current.containerId,transition:h,wasDragging:De.current.activeId!=null}),St=Hoe({disabled:!Ze,index:M,node:I,rect:z});return x.useEffect(()=>{ce&&De.current.newIndex!==Le&&(De.current.newIndex=Le),v!==De.current.containerId&&(De.current.containerId=v),g!==De.current.items&&(De.current.items=g)},[ce,Le,v,g]),x.useEffect(()=>{if(Me===De.current.activeId)return;if(Me!=null&&De.current.activeId==null){De.current.activeId=Me;return}const It=setTimeout(()=>{De.current.activeId=Me},50);return()=>clearTimeout(It)},[Me]),{active:q,activeIndex:b,attributes:re,data:j,rect:z,index:M,newIndex:Le,items:g,isOver:$,isSorting:ce,isDragging:W,listeners:G,node:I,overIndex:R,over:te,setNodeRef:K,setActivatorNodeRef:he,setDroppableNodeRef:Z,setDraggableNodeRef:ye,transform:St??Se,transition:vt()};function vt(){if(St||Ye&&De.current.newIndex===M)return Voe;if(!(xe&&!Gw(X)||!h)&&(ce||Ze))return $f.Transition.toString({...h,property:KI})}}function Koe(e,t){var n,i;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(i=e?.droppable)!=null?i:t.droppable}}Lt.Down,Lt.Right,Lt.Up,Lt.Left;const qI=({editMode:e,onAdd:t})=>{const{t:n}=Mt();return y.jsx("div",{onClick:e?t:void 0,className:`border-border bg-muted flex aspect-3/4 w-full items-center justify-center overflow-hidden rounded-xl border-2 border-dashed transition-all duration-300 ${e?"hover:border-primary/60 hover:bg-primary/5 cursor-pointer":""}`,children:y.jsxs("div",{className:"text-center",children:[y.jsx(Xm,{className:`mx-auto mb-2 h-8 w-8 transition-colors ${e?"text-primary/60":"text-muted-foreground/40"}`}),y.jsx("div",{className:`text-xs transition-colors ${e?"text-primary/70 font-medium":"text-muted-foreground/70"}`,children:n("favSpecies.addFavorite")})]})})},cv=e=>{const{data:t,isLoading:n}=Bo({specieKey:e});return{specieName:t?.canonicalName||t?.scientificName||"",familyName:t?.family||"",isLoading:n}},qoe=({specieKey:e,editMode:t,onClick:n,onRemove:i,dragHandleProps:s})=>{const{specieName:o,familyName:l,isLoading:c}=cv(e),{t:d}=Mt(),h=!c&&o!==""?o:void 0,{data:g,isLoading:v}=lh(e,h),b=c||v;return y.jsx("div",{className:"group relative",children:b?y.jsx("div",{className:"bg-accent flex aspect-3/4 w-full animate-pulse items-center justify-center overflow-hidden rounded-xl",children:y.jsx(th,{className:"size-5 animate-spin"})}):g?.imgUrl?y.jsxs(y.Fragment,{children:[y.jsxs("figure",{onClick:n,className:`relative aspect-3/4 w-full cursor-pointer overflow-hidden rounded-xl shadow-sm transition-all duration-300 ease-out ${t?"ring-primary/40 ring-2 brightness-75 hover:brightness-90":"group-hover:shadow-lg"}`,children:[y.jsx(Hn,{src:g.imgUrl,alt:o,loading:"lazy",className:`size-full object-cover transition-transform duration-500 ease-out ${t?"":"group-hover:scale-110"}`}),y.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-linear-to-t from-black/75 via-black/30 to-transparent px-3 pt-8 pb-3",children:[y.jsx("p",{className:"truncate text-xs leading-tight font-semibold text-white",children:o}),y.jsx("p",{className:"truncate text-xs text-white/70 italic",children:l})]}),t&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:y.jsx("span",{className:"rounded-full bg-white/20 px-3 py-1 text-xs font-medium text-white backdrop-blur-sm",children:d("favSpecies.replace")})})]}),t&&y.jsx("button",{onPointerDown:_=>_.stopPropagation(),onClick:_=>{_.stopPropagation(),i()},className:"bg-destructive hover:bg-destructive/80 absolute -top-2 -right-2 z-10 flex size-6 items-center justify-center rounded-full text-white shadow-md transition-colors",children:y.jsx(Gl,{className:"size-3.5"})}),t&&s&&y.jsx("div",{...s,onPointerDown:_=>{_.stopPropagation(),s.onPointerDown?.(_)},className:"absolute right-1 bottom-2 z-10 flex -translate-x-1/2 cursor-grab touch-none items-center justify-center rounded-full bg-black/40 px-2 py-0.5 text-white transition-colors hover:bg-black/60 active:cursor-grabbing",children:y.jsx(zO,{className:"size-3.5"})}),!t&&y.jsxs("div",{className:"pointer-events-none absolute bottom-[calc(100%+10px)] left-1/2 z-50 -translate-x-1/2 translate-y-2 opacity-0 transition-all duration-300 ease-out group-hover:translate-y-0 group-hover:opacity-100",children:[y.jsx("div",{className:"bg-popover ring-border overflow-hidden rounded-xl shadow-2xl ring-1",children:y.jsx("img",{src:g.imgUrl,alt:o,className:"block max-h-56 max-w-56 object-contain"})}),y.jsx("div",{className:"border-t-popover mx-auto h-0 w-0 border-x-[7px] border-t-[7px] border-x-transparent"})]})]}):y.jsx(qI,{editMode:t,onAdd:t?n:void 0})})},Woe=e=>{const{attributes:t,listeners:n,setNodeRef:i,transform:s,transition:o,isDragging:l}=Goe({id:String(e.specieKey),disabled:!e.editMode}),c={transform:$f.Transform.toString(s),transition:o,zIndex:l?50:void 0,opacity:l?.5:1};return y.jsx("div",{ref:i,style:c,children:y.jsx(qoe,{...e,dragHandleProps:e.editMode?{...t,...n}:void 0})})},Yoe=({specieKey:e,onSelect:t})=>{const{specieName:n,familyName:i,isLoading:s}=cv(e),o=!s&&n!==""?n:void 0,{data:l,isLoading:c}=lh(e,o),d=s||c,h=()=>{d||t({key:e,name:n,img:l?.imgUrl??"",family:i})};return y.jsxs("button",{onClick:h,disabled:d,className:"hover:bg-accent flex w-full items-center gap-3 rounded-xl px-3 py-2 text-left transition-colors disabled:opacity-50",children:[y.jsx("div",{className:"bg-muted size-12 shrink-0 overflow-hidden rounded-lg",children:d?y.jsx("div",{className:"size-full animate-pulse"}):l?.imgUrl?y.jsx("img",{src:l.imgUrl,alt:n,className:"size-full object-cover"}):y.jsx("div",{className:"flex size-full items-center justify-center",children:y.jsx(Xm,{className:"text-muted-foreground size-4"})})}),y.jsx("div",{className:"min-w-0 flex-1",children:d?y.jsx("div",{className:"bg-muted h-4 w-3/4 animate-pulse rounded"}):y.jsxs(y.Fragment,{children:[y.jsx("p",{className:"truncate text-sm font-medium",children:n}),y.jsx("p",{className:"text-muted-foreground truncate text-xs italic",children:i})]})}),y.jsx(Xm,{className:"text-muted-foreground size-4 shrink-0"})]})},fx=(e,t)=>{const n=new Map(t.map(i=>[i.key,i]));return e.map(i=>n.get(i)??{key:i,name:"",img:"",family:""})},Zoe=()=>{const{t:e}=Mt(),[t,n]=qr(at.userDb),i=qt(Da),[s,o]=x.useState(!1),[l,c]=x.useState(!1),[d,h]=x.useState(null),g=Cre(hk(Yw,{activationConstraint:{distance:8}}),hk(BI,{activationConstraint:{delay:200,tolerance:5}})),v=x.useMemo(()=>{const k=t?.game_info.top_fav_species;return k!=null?k.map(M=>M.key):(t?.game_info.seen_species??[]).filter(M=>M.fav).sort((M,j)=>new Date(j.date).getTime()-new Date(M.date).getTime()).map(M=>M.key).slice(0,4)},[t]),b=x.useMemo(()=>{const k=t?.game_info.seen_species??[],O=new Set(v);return d!==null&&v[d]!==void 0&&O.delete(v[d]),k.filter(M=>M.fav&&!O.has(M.key)).sort((M,j)=>new Date(j.date).getTime()-new Date(M.date).getTime()).map(M=>M.key)},[t,v,d]),_=Math.max(0,4-v.length),C=k=>{h(k),c(!0)},E=async k=>{if(!t)return;const O=fx(v,t.game_info.top_fav_species??[]),M=await ax(t,()=>O.filter((j,U)=>U!==k));M&&n(M)},R=async k=>{if(!t)return;c(!1);const O=fx(v,t.game_info.top_fav_species??[]),M=await ax(t,()=>{const j=[...O];return d!==null&&d<j.length?j[d]=k:j.push(k),j.slice(0,4)});M&&n(M),h(null)},N=async k=>{const{active:O,over:M}=k;if(!M||O.id===M.id||!t)return;const j=v.indexOf(Number(O.id)),U=v.indexOf(Number(M.id));if(j===-1||U===-1)return;const z=Zw([...v],j,U),I=fx(z,t.game_info.top_fav_species??[]),$=await ax(t,()=>I);$&&n($)};return y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex items-center justify-between border-b pb-1",children:[y.jsx("h2",{children:e("favSpecies.title")}),y.jsx($t,{variant:"ghost",size:"sm",className:"gap-1.5",onClick:()=>o(k=>!k),children:s?e("favSpecies.done"):y.jsxs(y.Fragment,{children:[y.jsx(FO,{className:"size-3.5"}),e("favSpecies.edit")]})})]}),y.jsx(Toe,{sensors:g,collisionDetection:kre,onDragEnd:N,children:y.jsx(zoe,{items:v.map(String),strategy:Xw,children:y.jsxs("div",{className:"grid grid-cols-2 gap-3 overflow-visible sm:gap-4 lg:grid-cols-4",children:[v.map((k,O)=>y.jsx(Woe,{specieKey:k,editMode:s,onClick:()=>s?C(O):i(k),onRemove:()=>E(O)},k)),Array.from({length:_}).map((k,O)=>y.jsx(qI,{editMode:s,onAdd:s?()=>C(v.length+O):void 0},`empty-${O}`))]})})}),y.jsx(Yj,{open:l,onOpenChange:k=>{c(k),k||h(null)},children:y.jsxs(Zj,{className:"flex flex-col",children:[y.jsx(Xj,{children:y.jsx(Qj,{children:e("favSpecies.pickerTitle")})}),b.length===0?y.jsxs("div",{className:"flex flex-col items-center gap-2 px-6 py-10 text-center",children:[y.jsx(Xm,{className:"text-muted-foreground/40 size-10"}),y.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:e("favSpecies.pickerEmpty")}),y.jsx("p",{className:"text-muted-foreground text-xs",children:e("favSpecies.pickerEmptyHint")})]}):y.jsx("div",{className:"max-h-[60dvh] overflow-y-auto px-3 pb-4",children:y.jsx("div",{className:"flex flex-col gap-1",children:b.map(k=>y.jsx(Yoe,{specieKey:k,onSelect:R},k))})})]})})]})},Xoe=e=>{if(!e)return"";const t=typeof e=="string"?new Date(e):e,n=new Intl.DateTimeFormat(Qt.language,{month:"long",year:"numeric"}).format(t);return n.charAt(0).toUpperCase()+n.slice(1)},WI=e=>{if(!e)return"";const t=typeof e=="string"?new Date(e):e,i=new Date().getTime()-t.getTime(),s=Math.floor(i/1e3),o=Math.floor(s/60),l=Math.floor(o/60),c=Math.floor(l/24);if(s<60)return Qt.t("time.now","Agora mesmo");if(o<60){const d=Math.floor(o/5)*5||1;return Qt.t("time.minutesAgo",{count:d,defaultValue:"{{count}}m atrs"})}return l<24?Qt.t("time.hoursAgo",{count:l,defaultValue:"{{count}}h atrs"}):c===1?Qt.t("time.yesterday","Ontem"):c<=3?Qt.t("time.daysAgo",{count:c,defaultValue:"{{count}} dias atrs"}):new Intl.DateTimeFormat(Qt.language,{day:"2-digit",month:"2-digit",year:"numeric"}).format(t)},Qoe=()=>{const{t:e}=Mt(),t=Be(at.userDb);return y.jsx("header",{className:"flex flex-col gap-4 rounded-2xl",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(AM,{isProfilePage:!0}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h1",{className:"text-xl font-bold",children:t?.name}),y.jsxs("span",{className:"mt-0.5 flex items-center gap-1 text-xs",children:[e("profilePage.memberSince"),y.jsx("strong",{children:Xoe(t?.created_at)})]})]})]})})},Joe=()=>{const{t:e}=Mt(),n=Be(at.userDb)?.game_info?.activities??[],[i,s]=x.useState(!1),o=4,l=i?n:n.slice(0,4),c=n.length>o;return y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex justify-between border-b",children:[y.jsx("h2",{children:e("activity.title")}),c&&y.jsxs($t,{variant:"ghost",size:"sm",className:"text-muted-foreground h-7 px-2 text-xs",onClick:()=>s(d=>!d),children:[i?"Recolher":"Expandir",i?y.jsx(DO,{className:"ml-1 size-3"}):y.jsx(Sf,{className:"ml-1 size-3"})]})]}),y.jsx("div",{className:`space-y-2 ${i&&n.length>4?"max-h-100 overflow-y-auto pr-1":""}`,children:l.map((d,h)=>y.jsxs("div",{className:"flex items-center gap-2 border-b py-2 last:border-0",children:[y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("div",{className:"truncate text-xs font-medium",children:d.title}),y.jsx("div",{className:"text-muted-foreground text-xs",children:d.description})]}),y.jsx("div",{className:"text-muted-foreground shrink-0 text-xs",children:WI(d.date)})]},h))})]})},eae=({specieKey:e,date:t})=>{const{specieName:n,familyName:i,isLoading:s}=cv(e);return s?y.jsxs("div",{className:"-mx-2 border-b px-2 py-2 last:border-0",children:[y.jsx("div",{className:"bg-muted mb-1 h-4 w-32 animate-pulse rounded"}),y.jsx("div",{className:"bg-muted h-3 w-24 animate-pulse rounded"})]}):y.jsxs("div",{className:"-mx-2 flex items-center justify-between border-b px-2 py-2 last:border-0",children:[y.jsx("div",{className:"flex items-center gap-2",children:y.jsxs("div",{children:[y.jsx("div",{className:"text-xs font-medium italic",children:n}),y.jsx("div",{className:"text-muted-foreground text-xs",children:i})]})}),y.jsx("div",{className:"text-muted-foreground shrink-0 text-xs",children:WI(t)})]})},tae=()=>{const{t:e}=Mt(),t=Be(at.userDb),n=Qi(),i=t?.game_info?.seen_species??[];if(!t||!t.game_info)return null;const s=()=>{n({to:"/profile/species-gallery"})};return y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex justify-between border-b",children:[y.jsx("h2",{children:e("seenSpecies.title")}),y.jsxs($t,{variant:"ghost",size:"sm",className:"text-muted-foreground h-7 px-2 text-xs",disabled:!i.length,onClick:s,children:[e("seenSpecies.openGallery")," ",y.jsx(Du,{className:"ml-1 size-3"})]})]}),i.length?i.slice().reverse().slice(0,4).map(o=>y.jsx(eae,{specieKey:o.key,date:o.date},o.key)):y.jsxs("div",{className:"text-muted-foreground py-8 text-center",children:[y.jsx(E_,{className:"text-muted-foreground/50 mx-auto mb-3 h-12 w-12"}),y.jsx("div",{className:"mb-1 text-sm font-medium",children:e("seenSpecies.emptyTitle")}),y.jsx("div",{className:"text-xs",children:e("seenSpecies.emptyHint")})]})]})},nae=()=>{const{t:e}=Mt(),[t,n]=qr(at.userDb),{navigateToNodes:i}=ph(),[s,o]=x.useState({isEdit:!1,newName:""}),l=x.useRef(null);if(x.useEffect(()=>{s.isEdit&&l.current&&l.current.focus()},[s.isEdit]),!t)return null;const c=t.game_info?.shortcuts;if(!c)return null;const d=_=>{i(_,!0)},h=async(_,C)=>{if(!t)return;if(!c)return null;const R=(c[_]??[]).filter((N,k)=>k!==C);(async()=>{const N=await k0(t,k=>({...k,[_]:R}));N&&n(N)})()},g=async()=>{if(!s.isEdit||!t||!s.kingdom)return;const{kingdom:_,index:C,newName:E}=s;if(!E.trim())return;const R=c[_]??[];if(!R[C])return;const N=[...R];N[C]={...N[C],name:E.trim()},(async()=>{const k=await k0(t,O=>({...O,[_]:N}));k&&n(k)})(),v()},v=()=>o({isEdit:!1,newName:""}),b=Object.keys(c);return y.jsxs("div",{className:"space-y-3",children:[y.jsx("h2",{className:"border-b",children:e("shortcuts.title")}),b.map(_=>{const C=c[_];return C?.length?y.jsx("div",{className:"space-y-3",children:C.map((E,R)=>{if(!E?.nodes)return null;const N=s.isEdit&&s.kingdom===_&&s.index===R;return y.jsxs("div",{className:"hover:bg-muted/50 flex items-center justify-between rounded-md border py-1 pl-2.5",children:[y.jsxs("div",{className:"flex min-w-0 flex-1 cursor-pointer items-center gap-2",onClick:()=>!N&&d(E.nodes),children:[y.jsx("figure",{className:"flex size-6 shrink-0 items-center",children:y.jsx(Hn,{src:gs(PP[_]),alt:`${_} icon`,className:"size-5"})}),y.jsxs("div",{className:"min-w-0 flex-1",children:[N?y.jsx("input",{ref:l,type:"text",value:s.newName,maxLength:52,onChange:k=>o(O=>({...O,newName:k.target.value})),className:"rounded border px-1 text-sm"}):y.jsx("p",{className:"truncate text-sm font-medium",children:E.name}),y.jsx("span",{className:"text-muted-foreground block truncate text-xs leading-tight",children:E.nodes.map((k,O)=>y.jsxs(x.Fragment,{children:[k.name??k.rank,O<E.nodes.length-1&&" > "]},k.key))})]})]}),y.jsx("div",{className:"flex flex-col gap-px border-l px-1",children:N?y.jsxs(y.Fragment,{children:[y.jsx($t,{variant:"ghost",size:"icon",className:"size-6 text-green-600 hover:text-green-800",title:e("shortcuts.saveEdit"),onClick:g,children:y.jsx(MO,{className:"size-4"})}),y.jsx($t,{variant:"ghost",size:"icon",className:"size-6 text-blue-500 hover:text-blue-800",title:e("shortcuts.cancelEdit"),onClick:v,children:y.jsx(Gl,{className:"size-4"})})]}):y.jsxs(y.Fragment,{children:[y.jsx($t,{variant:"ghost",size:"icon",className:"text-muted-foreground size-6 hover:text-blue-700",title:e("shortcuts.editName"),onClick:()=>o({isEdit:!0,kingdom:_,index:R,newName:E.name}),children:y.jsx(FO,{className:"size-4"})}),y.jsx($t,{variant:"ghost",size:"icon",className:"text-muted-foreground size-6 hover:text-red-700",onClick:()=>h(_,R),title:e("shortcuts.remove"),children:y.jsx(Gl,{className:"size-4"})})]})})]},R)})},_):null}),b.every(_=>!c[_]?.length)&&y.jsxs("div",{className:"text-muted-foreground py-6 text-center",children:[y.jsx(B6,{className:"text-muted-foreground/50 mx-auto mb-3 h-10 w-10"}),y.jsx("div",{className:"mb-1 text-sm font-medium",children:e("shortcuts.empty")}),y.jsx("div",{className:"text-xs",children:e("shortcuts.emptyHint")})]}),y.jsx("div",{className:"bg-muted text-muted-foreground rounded-lg p-2 text-center text-xs italic",children:e("shortcuts.tip")})]})},iae=()=>{const{t:e}=Mt(),t=Be(at.isAuthenticated),n=Be(Da),i=Qi();return x.useEffect(()=>{if(!t){i({to:"/login"});return}},[t,i]),y.jsx(Wg,{mode:"wait",children:n!==null?y.jsx(Ot.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.2},className:"h-screen",children:y.jsx(Uu,{backLabel:e("specieDetail.backToProfile")})},"detail"):y.jsx(Ot.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"h-screen overflow-auto",children:y.jsx("div",{className:"mx-auto max-w-7xl space-y-12 p-4",children:y.jsxs("div",{className:"grid grid-cols-1 gap-20 lg:grid-cols-3",children:[y.jsxs("div",{className:"space-y-10 md:space-y-16 lg:col-span-2",children:[y.jsx(Qoe,{}),y.jsx(Zoe,{})]}),y.jsxs("div",{className:"space-y-10 md:space-y-16",children:[y.jsx(Joe,{}),y.jsx(tae,{}),y.jsx(nae,{})]})]})})},"profile")})},sae=()=>(x.useEffect(()=>{(async()=>{try{await new Promise(t=>setTimeout(t,2e3));try{const t=new BroadcastChannel("supabase-auth");t.postMessage("oauth_complete"),t.close()}catch(t){console.warn(" [Popup] BroadcastChannel falhou:",t)}if(window.opener&&!window.opener.closed)try{window.opener.postMessage({type:"OAUTH_COMPLETE"},window.location.origin)}catch(t){console.warn(" [Popup] postMessage falhou:",t)}await new Promise(t=>setTimeout(t,500)),window.close()}catch(t){console.error(" [Popup] Erro:",t),setTimeout(()=>{window.close()},1e3)}})()},[]),y.jsx("div",{className:"flex min-h-screen items-center justify-center",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"mb-4 inline-flex h-16 w-16 items-center justify-center rounded-full bg-green-100",children:y.jsx("svg",{className:"h-8 w-8 animate-spin text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),y.jsx("h1",{className:"mb-2 text-xl font-semibold",children:"Finalizando autenticao..."}),y.jsx("p",{className:"text-muted-foreground text-sm",children:"Aguarde alguns segundos."})]})})),rae=({species:e,onClick:t,searchQuery:n,onImageResolved:i})=>{const{t:s}=Mt(),{specieName:o,familyName:l,isLoading:c}=cv(e.key),d=!c&&o!==""?o:void 0,{data:h,isLoading:g}=lh(e.key,d),v=c||g;if(x.useEffect(()=>{v||i?.(e.key,!!h?.imgUrl)},[v]),!v&&n?.trim()){const b=n.toLowerCase();if(!o.toLowerCase().includes(b)&&!l.toLowerCase().includes(b))return null}return y.jsxs("div",{onClick:t,className:"group bg-card relative cursor-pointer overflow-hidden rounded-xl border shadow-md transition-all duration-300 hover:shadow-2xl",children:[y.jsxs("div",{className:"bg-muted relative w-full overflow-hidden",children:[v?y.jsx("div",{className:"flex aspect-4/3 items-center justify-center",children:y.jsx(UO,{className:"text-muted-foreground size-8 animate-spin"})}):h?.imgUrl?y.jsxs(y.Fragment,{children:[y.jsx("img",{src:h.imgUrl,alt:o,className:"h-auto w-full object-cover transition-transform duration-500 group-hover:scale-105",loading:"lazy"}),y.jsx("div",{className:"absolute inset-0 bg-linear-to-t from-black/60 via-black/10 to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"})]}):y.jsxs("div",{className:"text-muted-foreground flex aspect-4/3 flex-col items-center justify-center",children:[y.jsx(BO,{className:"mb-2 size-12"}),y.jsx("p",{className:"text-xs",children:s("gallery.noImage")})]}),e.fav&&y.jsx("div",{className:"bg-card/95 absolute top-2 right-2 rounded-full p-1.5 shadow-lg backdrop-blur-sm",children:y.jsx(Zm,{className:"size-4 fill-red-500 text-red-500"})})]}),y.jsxs("div",{className:"p-3",children:[y.jsx("h3",{className:"text-foreground group-hover:text-primary mb-1 line-clamp-2 text-sm font-semibold italic transition-colors",children:o}),y.jsx("p",{className:"text-muted-foreground line-clamp-1 text-xs",children:l})]}),y.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-xl border-2 border-transparent transition-colors group-hover:border-blue-500"})]})},oae=()=>{const[e,t]=x.useState(1);return x.useEffect(()=>{const n=()=>{const i=window.innerWidth;i>=1280?t(5):i>=1024?t(4):i>=768?t(3):i>=640?t(2):t(1)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e},aae=()=>{const{t:e}=Mt(),t=Qi(),n=Be(at.userDb),i=qt(Da),s=oae(),o=x.useMemo(()=>n?.game_info?.seen_species??[],[n]),[l,c]=x.useState(""),[d,h]=x.useState(!1),[g,v]=x.useState("newest"),[b,_]=x.useState(!0),[C,E]=x.useState({}),R=x.useCallback((z,I)=>{E($=>$[z]===I?$:{...$,[z]:I})},[]),N=x.useMemo(()=>{let z=[...o];return d&&(z=z.filter(I=>I.fav)),z.sort((I,$)=>{if(b){const X=C[I.key]===!1,ne=C[$.key]===!1;if(X!==ne)return X?1:-1}const Z=new Date(I.date).getTime(),q=new Date($.date).getTime();return g==="newest"?q-Z:Z-q}),z},[o,d,g,b,C]),k=x.useMemo(()=>{const z=Array.from({length:s},()=>[]);return N.forEach((I,$)=>{z[$%s].push({species:I,globalIndex:$})}),z},[N,s]),O=x.useCallback(()=>{i(null),t({to:"/profile"})},[t,i]),M=x.useCallback(z=>{i(z.key)},[i]),j=x.useCallback(()=>{h(z=>!z)},[]),U=o.filter(z=>z.fav).length;return n?y.jsxs("div",{className:"bg-background fixed inset-0 z-50 flex flex-col",children:[y.jsxs(Ot.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"bg-background/95 relative z-10 border-b backdrop-blur-sm",children:[y.jsxs("div",{className:"mx-auto flex max-w-7xl items-center gap-3 px-4 pt-3 pb-2",children:[y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("h1",{className:"text-base leading-tight font-bold",children:e("gallery.title")}),y.jsxs("span",{className:"text-muted-foreground text-xs",children:[N.length===o.length?`${o.length} ${e("gallery.species")}`:`${N.length} ${e("gallery.of")} ${o.length}`,U>0&&y.jsxs("span",{className:"ml-1.5",children:[" ",U," ",y.jsx(Zm,{className:"inline size-3 fill-current text-red-500"})]})]})]}),y.jsx($t,{onClick:O,variant:"ghost",size:"icon",className:"size-8 shrink-0",children:y.jsx(Gl,{className:"size-4"})})]}),y.jsxs("div",{className:"mx-auto flex max-w-7xl items-center gap-2 px-4 pb-3",children:[y.jsxs("div",{className:"relative min-w-0 flex-1",children:[y.jsx($O,{className:"text-muted-foreground absolute top-1/2 left-3 size-3.5 -translate-y-1/2"}),y.jsx("input",{type:"text",placeholder:e("gallery.searchPlaceholder"),value:l,onChange:z=>c(z.target.value),className:"bg-muted/50 focus:bg-background focus:border-border h-8 w-full rounded-lg border border-transparent pl-8 text-sm transition-colors outline-none"})]}),y.jsxs("div",{className:"flex shrink-0 items-center gap-1.5",children:[y.jsxs(aP,{children:[y.jsx(lP,{asChild:!0,children:y.jsxs($t,{variant:"outline",size:"sm",className:"h-8 gap-1.5 px-2.5",children:[y.jsx(P$,{className:"size-3.5"}),y.jsx("span",{className:"hidden text-xs sm:inline",children:e(g==="newest"?"gallery.newest":"gallery.oldest")})]})}),y.jsxs(cP,{align:"end",children:[y.jsx(ms,{onClick:()=>v("newest"),children:e("gallery.newestFirst")}),y.jsx(ms,{onClick:()=>v("oldest"),children:e("gallery.oldestFirst")})]})]}),y.jsxs($t,{onClick:()=>_(z=>!z),variant:b?"secondary":"ghost",size:"sm",className:"h-8 gap-1.5 px-2.5",title:e("gallery.photosFirst"),children:[y.jsx(BO,{className:"size-3.5"}),y.jsx("span",{className:"hidden text-xs sm:inline",children:e("gallery.photosFirst")})]}),y.jsxs($t,{onClick:j,variant:d?"secondary":"ghost",size:"sm",className:"h-8 gap-1.5 px-2.5",children:[y.jsx(Zm,{className:`size-3.5 ${d?"fill-current text-red-500":""}`}),y.jsx("span",{className:"hidden text-xs sm:inline",children:e("gallery.favorites")})]})]})]})]}),y.jsx("div",{className:"flex-1 overflow-y-auto",children:N.length===0?y.jsx("div",{className:"flex h-full items-center justify-center",children:y.jsxs("div",{className:"text-muted-foreground text-center",children:[y.jsx(E_,{className:"mx-auto mb-3 size-16 opacity-30"}),y.jsx("p",{className:"mb-1 text-lg font-medium",children:e("gallery.noSpeciesFound")}),y.jsx("p",{className:"text-sm",children:e(d?"gallery.noFavorites":"gallery.adjustFilters")})]})}):y.jsx("div",{className:"p-4 md:p-6 lg:p-8",children:y.jsx("div",{className:"mx-auto max-w-7xl",children:y.jsx("div",{className:"flex gap-4",children:k.map((z,I)=>y.jsx("div",{className:"flex min-w-0 flex-1 flex-col gap-4",children:z.map(({species:$,globalIndex:Z})=>y.jsx(Ot.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:Z*.02,duration:.25},children:y.jsx(rae,{species:$,onClick:()=>M($),searchQuery:l,onImageResolved:R})},$.key))},I))})})})})]}):null},lae=()=>{const e=Be(Da);return y.jsx(Wg,{mode:"wait",children:e===null?y.jsx(Ot.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:y.jsx(aae,{})},"gallery"):y.jsx(Ot.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.2},children:y.jsx(Uu,{})},"detail")})},gi=o3({component:cre}),cae=mi({getParentRoute:()=>gi,path:"/",component:Ks}),uae=mi({getParentRoute:()=>gi,path:"/tree",component:Ks}),dae=mi({getParentRoute:()=>gi,path:"/tree/$level1",component:Ks}),fae=mi({getParentRoute:()=>gi,path:"/tree/$level1/$level2",component:Ks}),hae=mi({getParentRoute:()=>gi,path:"/tree/$level1/$level2/$level3",component:Ks}),pae=mi({getParentRoute:()=>gi,path:"/tree/$level1/$level2/$level3/$level4",component:Ks}),mae=mi({getParentRoute:()=>gi,path:"/tree/$level1/$level2/$level3/$level4/$level5",component:Ks}),gae=mi({getParentRoute:()=>gi,path:"/tree/$level1/$level2/$level3/$level4/$level5/$level6",component:Ks}),vae=mi({getParentRoute:()=>gi,path:"/tree/$level1/$level2/$level3/$level4/$level5/$level6/$level7",component:Ks}),yae=mi({getParentRoute:()=>gi,path:"/auth-callback",component:sae}),bae=mi({getParentRoute:()=>gi,path:"/login",component:lre,beforeLoad:()=>{const e=Kf(),t=e.get(at.initialized),n=e.get(at.isAuthenticated);if(t&&n)throw Cg({to:"/profile"})}}),xae=mi({getParentRoute:()=>gi,path:"/profile",component:iae,beforeLoad:()=>{const e=Kf(),t=e.get(at.initialized),n=e.get(at.isAuthenticated);if(t&&!n)throw Cg({to:"/login"})}}),_ae=mi({getParentRoute:()=>gi,path:"/profile/species-gallery",component:lae,beforeLoad:()=>{const e=Kf(),t=e.get(at.initialized),n=e.get(at.isAuthenticated);if(t&&!n)throw Cg({to:"/login"})}}),wae=mi({getParentRoute:()=>gi,path:"/challenges",component:Ks}),Sae=mi({getParentRoute:()=>gi,path:"/challenges/daily/in-progress",component:Ks}),Cae=mi({getParentRoute:()=>gi,path:"/challenges/random/in-progress",component:Ks}),Eae=gi.addChildren([bae,cae,uae,dae,fae,hae,pae,mae,gae,vae,yae,xae,_ae,wae,Sae,Cae]),Aae=p3({routeTree:Eae,basepath:"/treevera"}),Tae=()=>{const e=F_(),{t}=Mt(),{isInitializing:n}=j_();return e?y.jsx("div",{children:t("loading.restoringCache")}):n?y.jsx("div",{children:t("loading.initializing")}):y.jsx(v3,{router:Aae})};var Rae=["added","removed","updated"];function Ek(e){return Rae.includes(e)}async function kae({queryClient:e,persister:t,maxAge:n=1e3*60*60*24,buster:i="",hydrateOptions:s}){try{const o=await t.restoreClient();if(o)if(o.timestamp){const l=Date.now()-o.timestamp>n,c=o.buster!==i;if(l||c)return t.removeClient();$7(e,o.clientState,s)}else return t.removeClient()}catch(o){throw await t.removeClient(),o}}async function Ak({queryClient:e,persister:t,buster:n="",dehydrateOptions:i}){const s={buster:n,timestamp:Date.now(),clientState:V7(e,i)};await t.persistClient(s)}function Nae(e){const t=e.queryClient.getQueryCache().subscribe(i=>{Ek(i.type)&&Ak(e)}),n=e.queryClient.getMutationCache().subscribe(i=>{Ek(i.type)&&Ak(e)});return()=>{t(),n()}}var Oae=({children:e,persistOptions:t,onSuccess:n,onError:i,...s})=>{const[o,l]=x.useState(!0),c=x.useRef({persistOptions:t,onSuccess:n,onError:i}),d=x.useRef(!1);return x.useEffect(()=>{c.current={persistOptions:t,onSuccess:n,onError:i}}),x.useEffect(()=>{const h={...c.current.persistOptions,queryClient:s.client};return d.current||(d.current=!0,kae(h).then(()=>c.current.onSuccess?.()).catch(()=>c.current.onError?.()).finally(()=>{l(!1)})),o?void 0:Nae(h)},[s.client,o]),y.jsx(rY,{...s,children:y.jsx(oY,{value:o,children:e})})};function V0(){}function Pae(e,{interval:t=1e3,onError:n=V0}={}){if(typeof e!="function")throw new Error("argument is not function.");let i=0,s=null,o=!1,l=!1;return async(...c)=>{if(s=c,!l){for(l=!0;o;)await new Promise(d=>No.setTimeout(d,t));for(;Date.now()<i;)await new Promise(d=>No.setTimeout(d,i-Date.now()));l=!1,o=!0;try{await e(...s)}catch(d){try{n(d)}catch{}}i=Date.now()+t,o=!1}}}var Mae=({storage:e,key:t="REACT_QUERY_OFFLINE_CACHE",throttleTime:n=1e3,serialize:i=JSON.stringify,deserialize:s=JSON.parse,retry:o})=>{if(e){const l=async c=>{try{const d=await i(c);await e.setItem(t,d);return}catch(d){return d}};return{persistClient:Pae(async c=>{let d=c,h=await l(d),g=0;for(;h&&d;)g++,d=await o?.({persistedClient:d,error:h,errorCount:g}),d&&(h=await l(d))},{interval:n}),restoreClient:async()=>{const c=await e.getItem(t);if(c)return await s(c)},removeClient:()=>e.removeItem(t)}}return{persistClient:V0,restoreClient:()=>Promise.resolve(void 0),removeClient:V0}};function vm(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var hx={exports:{}};var Tk;function Dae(){return Tk||(Tk=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(i,s,o){function l(h,g){if(!s[h]){if(!i[h]){var v=typeof vm=="function"&&vm;if(!g&&v)return v(h,!0);if(c)return c(h,!0);var b=new Error("Cannot find module '"+h+"'");throw b.code="MODULE_NOT_FOUND",b}var _=s[h]={exports:{}};i[h][0].call(_.exports,function(C){var E=i[h][1][C];return l(E||C)},_,_.exports,n,i,s,o)}return s[h].exports}for(var c=typeof vm=="function"&&vm,d=0;d<o.length;d++)l(o[d]);return l})({1:[function(n,i,s){(function(o){var l=o.MutationObserver||o.WebKitMutationObserver,c;if(l){var d=0,h=new l(C),g=o.document.createTextNode("");h.observe(g,{characterData:!0}),c=function(){g.data=d=++d%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var v=new o.MessageChannel;v.port1.onmessage=C,c=function(){v.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?c=function(){var R=o.document.createElement("script");R.onreadystatechange=function(){C(),R.onreadystatechange=null,R.parentNode.removeChild(R),R=null},o.document.documentElement.appendChild(R)}:c=function(){setTimeout(C,0)};var b,_=[];function C(){b=!0;for(var R,N,k=_.length;k;){for(N=_,_=[],R=-1;++R<k;)N[R]();k=_.length}b=!1}i.exports=E;function E(R){_.push(R)===1&&!b&&c()}}).call(this,typeof zp<"u"?zp:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,i,s){var o=n(1);function l(){}var c={},d=["REJECTED"],h=["FULFILLED"],g=["PENDING"];i.exports=v;function v(j){if(typeof j!="function")throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,j!==l&&E(this,j)}v.prototype.catch=function(j){return this.then(null,j)},v.prototype.then=function(j,U){if(typeof j!="function"&&this.state===h||typeof U!="function"&&this.state===d)return this;var z=new this.constructor(l);if(this.state!==g){var I=this.state===h?j:U;_(z,I,this.outcome)}else this.queue.push(new b(z,j,U));return z};function b(j,U,z){this.promise=j,typeof U=="function"&&(this.onFulfilled=U,this.callFulfilled=this.otherCallFulfilled),typeof z=="function"&&(this.onRejected=z,this.callRejected=this.otherCallRejected)}b.prototype.callFulfilled=function(j){c.resolve(this.promise,j)},b.prototype.otherCallFulfilled=function(j){_(this.promise,this.onFulfilled,j)},b.prototype.callRejected=function(j){c.reject(this.promise,j)},b.prototype.otherCallRejected=function(j){_(this.promise,this.onRejected,j)};function _(j,U,z){o(function(){var I;try{I=U(z)}catch($){return c.reject(j,$)}I===j?c.reject(j,new TypeError("Cannot resolve promise with itself")):c.resolve(j,I)})}c.resolve=function(j,U){var z=R(C,U);if(z.status==="error")return c.reject(j,z.value);var I=z.value;if(I)E(j,I);else{j.state=h,j.outcome=U;for(var $=-1,Z=j.queue.length;++$<Z;)j.queue[$].callFulfilled(U)}return j},c.reject=function(j,U){j.state=d,j.outcome=U;for(var z=-1,I=j.queue.length;++z<I;)j.queue[z].callRejected(U);return j};function C(j){var U=j&&j.then;if(j&&(typeof j=="object"||typeof j=="function")&&typeof U=="function")return function(){U.apply(j,arguments)}}function E(j,U){var z=!1;function I(X){z||(z=!0,c.reject(j,X))}function $(X){z||(z=!0,c.resolve(j,X))}function Z(){U($,I)}var q=R(Z);q.status==="error"&&I(q.value)}function R(j,U){var z={};try{z.value=j(U),z.status="success"}catch(I){z.status="error",z.value=I}return z}v.resolve=N;function N(j){return j instanceof this?j:c.resolve(new this(l),j)}v.reject=k;function k(j){var U=new this(l);return c.reject(U,j)}v.all=O;function O(j){var U=this;if(Object.prototype.toString.call(j)!=="[object Array]")return this.reject(new TypeError("must be an array"));var z=j.length,I=!1;if(!z)return this.resolve([]);for(var $=new Array(z),Z=0,q=-1,X=new this(l);++q<z;)ne(j[q],q);return X;function ne(re,ye){U.resolve(re).then(G,function(W){I||(I=!0,c.reject(X,W))});function G(W){$[ye]=W,++Z===z&&!I&&(I=!0,c.resolve(X,$))}}}v.race=M;function M(j){var U=this;if(Object.prototype.toString.call(j)!=="[object Array]")return this.reject(new TypeError("must be an array"));var z=j.length,I=!1;if(!z)return this.resolve([]);for(var $=-1,Z=new this(l);++$<z;)q(j[$]);return Z;function q(X){U.resolve(X).then(function(ne){I||(I=!0,c.resolve(Z,ne))},function(ne){I||(I=!0,c.reject(Z,ne))})}}},{1:1}],3:[function(n,i,s){(function(o){typeof o.Promise!="function"&&(o.Promise=n(2))}).call(this,typeof zp<"u"?zp:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,i,s){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F};function l(F,J){if(!(F instanceof J))throw new TypeError("Cannot call a class as a function")}function c(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var d=c();function h(){try{if(!d||!d.open)return!1;var F=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),J=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!F||J)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function g(F,J){F=F||[],J=J||{};try{return new Blob(F,J)}catch(Q){if(Q.name!=="TypeError")throw Q;for(var H=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,se=new H,ae=0;ae<F.length;ae+=1)se.append(F[ae]);return se.getBlob(J.type)}}typeof Promise>"u"&&n(3);var v=Promise;function b(F,J){J&&F.then(function(H){J(null,H)},function(H){J(H)})}function _(F,J,H){typeof J=="function"&&F.then(J),typeof H=="function"&&F.catch(H)}function C(F){return typeof F!="string"&&(console.warn(F+" used as a key, but it is not a string."),F=String(F)),F}function E(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var R="local-forage-detect-blob-support",N=void 0,k={},O=Object.prototype.toString,M="readonly",j="readwrite";function U(F){for(var J=F.length,H=new ArrayBuffer(J),se=new Uint8Array(H),ae=0;ae<J;ae++)se[ae]=F.charCodeAt(ae);return H}function z(F){return new v(function(J){var H=F.transaction(R,j),se=g([""]);H.objectStore(R).put(se,"key"),H.onabort=function(ae){ae.preventDefault(),ae.stopPropagation(),J(!1)},H.oncomplete=function(){var ae=navigator.userAgent.match(/Chrome\/(\d+)/),Q=navigator.userAgent.match(/Edge\//);J(Q||!ae||parseInt(ae[1],10)>=43)}}).catch(function(){return!1})}function I(F){return typeof N=="boolean"?v.resolve(N):z(F).then(function(J){return N=J,N})}function $(F){var J=k[F.name],H={};H.promise=new v(function(se,ae){H.resolve=se,H.reject=ae}),J.deferredOperations.push(H),J.dbReady?J.dbReady=J.dbReady.then(function(){return H.promise}):J.dbReady=H.promise}function Z(F){var J=k[F.name],H=J.deferredOperations.pop();if(H)return H.resolve(),H.promise}function q(F,J){var H=k[F.name],se=H.deferredOperations.pop();if(se)return se.reject(J),se.promise}function X(F,J){return new v(function(H,se){if(k[F.name]=k[F.name]||ce(),F.db)if(J)$(F),F.db.close();else return H(F.db);var ae=[F.name];J&&ae.push(F.version);var Q=d.open.apply(d,ae);J&&(Q.onupgradeneeded=function(ge){var ke=Q.result;try{ke.createObjectStore(F.storeName),ge.oldVersion<=1&&ke.createObjectStore(R)}catch(Ne){if(Ne.name==="ConstraintError")console.warn('The database "'+F.name+'" has been upgraded from version '+ge.oldVersion+" to version "+ge.newVersion+', but the storage "'+F.storeName+'" already exists.');else throw Ne}}),Q.onerror=function(ge){ge.preventDefault(),se(Q.error)},Q.onsuccess=function(){var ge=Q.result;ge.onversionchange=function(ke){ke.target.close()},H(ge),Z(F)}})}function ne(F){return X(F,!1)}function re(F){return X(F,!0)}function ye(F,J){if(!F.db)return!0;var H=!F.db.objectStoreNames.contains(F.storeName),se=F.version<F.db.version,ae=F.version>F.db.version;if(se&&(F.version!==J&&console.warn('The database "'+F.name+`" can't be downgraded from version `+F.db.version+" to version "+F.version+"."),F.version=F.db.version),ae||H){if(H){var Q=F.db.version+1;Q>F.version&&(F.version=Q)}return!0}return!1}function G(F){return new v(function(J,H){var se=new FileReader;se.onerror=H,se.onloadend=function(ae){var Q=btoa(ae.target.result||"");J({__local_forage_encoded_blob:!0,data:Q,type:F.type})},se.readAsBinaryString(F)})}function W(F){var J=U(atob(F.data));return g([J],{type:F.type})}function te(F){return F&&F.__local_forage_encoded_blob}function he(F){var J=this,H=J._initReady().then(function(){var se=k[J._dbInfo.name];if(se&&se.dbReady)return se.dbReady});return _(H,F,F),H}function oe(F){$(F);for(var J=k[F.name],H=J.forages,se=0;se<H.length;se++){var ae=H[se];ae._dbInfo.db&&(ae._dbInfo.db.close(),ae._dbInfo.db=null)}return F.db=null,ne(F).then(function(Q){return F.db=Q,ye(F)?re(F):Q}).then(function(Q){F.db=J.db=Q;for(var ge=0;ge<H.length;ge++)H[ge]._dbInfo.db=Q}).catch(function(Q){throw q(F,Q),Q})}function K(F,J,H,se){se===void 0&&(se=1);try{var ae=F.db.transaction(F.storeName,J);H(null,ae)}catch(Q){if(se>0&&(!F.db||Q.name==="InvalidStateError"||Q.name==="NotFoundError"))return v.resolve().then(function(){if(!F.db||Q.name==="NotFoundError"&&!F.db.objectStoreNames.contains(F.storeName)&&F.version<=F.db.version)return F.db&&(F.version=F.db.version+1),re(F)}).then(function(){return oe(F).then(function(){K(F,J,H,se-1)})}).catch(H);H(Q)}}function ce(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function be(F){var J=this,H={db:null};if(F)for(var se in F)H[se]=F[se];var ae=k[H.name];ae||(ae=ce(),k[H.name]=ae),ae.forages.push(J),J._initReady||(J._initReady=J.ready,J.ready=he);var Q=[];function ge(){return v.resolve()}for(var ke=0;ke<ae.forages.length;ke++){var Ne=ae.forages[ke];Ne!==J&&Q.push(Ne._initReady().catch(ge))}var Ee=ae.forages.slice(0);return v.all(Q).then(function(){return H.db=ae.db,ne(H)}).then(function(Oe){return H.db=Oe,ye(H,J._defaultConfig.version)?re(H):Oe}).then(function(Oe){H.db=ae.db=Oe,J._dbInfo=H;for(var ze=0;ze<Ee.length;ze++){var Je=Ee[ze];Je!==J&&(Je._dbInfo.db=H.db,Je._dbInfo.version=H.version)}})}function xe(F,J){var H=this;F=C(F);var se=new v(function(ae,Q){H.ready().then(function(){K(H._dbInfo,M,function(ge,ke){if(ge)return Q(ge);try{var Ne=ke.objectStore(H._dbInfo.storeName),Ee=Ne.get(F);Ee.onsuccess=function(){var Oe=Ee.result;Oe===void 0&&(Oe=null),te(Oe)&&(Oe=W(Oe)),ae(Oe)},Ee.onerror=function(){Q(Ee.error)}}catch(Oe){Q(Oe)}})}).catch(Q)});return b(se,J),se}function Re(F,J){var H=this,se=new v(function(ae,Q){H.ready().then(function(){K(H._dbInfo,M,function(ge,ke){if(ge)return Q(ge);try{var Ne=ke.objectStore(H._dbInfo.storeName),Ee=Ne.openCursor(),Oe=1;Ee.onsuccess=function(){var ze=Ee.result;if(ze){var Je=ze.value;te(Je)&&(Je=W(Je));var qe=F(Je,ze.key,Oe++);qe!==void 0?ae(qe):ze.continue()}else ae()},Ee.onerror=function(){Q(Ee.error)}}catch(ze){Q(ze)}})}).catch(Q)});return b(se,J),se}function we(F,J,H){var se=this;F=C(F);var ae=new v(function(Q,ge){var ke;se.ready().then(function(){return ke=se._dbInfo,O.call(J)==="[object Blob]"?I(ke.db).then(function(Ne){return Ne?J:G(J)}):J}).then(function(Ne){K(se._dbInfo,j,function(Ee,Oe){if(Ee)return ge(Ee);try{var ze=Oe.objectStore(se._dbInfo.storeName);Ne===null&&(Ne=void 0);var Je=ze.put(Ne,F);Oe.oncomplete=function(){Ne===void 0&&(Ne=null),Q(Ne)},Oe.onabort=Oe.onerror=function(){var qe=Je.error?Je.error:Je.transaction.error;ge(qe)}}catch(qe){ge(qe)}})}).catch(ge)});return b(ae,H),ae}function Se(F,J){var H=this;F=C(F);var se=new v(function(ae,Q){H.ready().then(function(){K(H._dbInfo,j,function(ge,ke){if(ge)return Q(ge);try{var Ne=ke.objectStore(H._dbInfo.storeName),Ee=Ne.delete(F);ke.oncomplete=function(){ae()},ke.onerror=function(){Q(Ee.error)},ke.onabort=function(){var Oe=Ee.error?Ee.error:Ee.transaction.error;Q(Oe)}}catch(Oe){Q(Oe)}})}).catch(Q)});return b(se,J),se}function Le(F){var J=this,H=new v(function(se,ae){J.ready().then(function(){K(J._dbInfo,j,function(Q,ge){if(Q)return ae(Q);try{var ke=ge.objectStore(J._dbInfo.storeName),Ne=ke.clear();ge.oncomplete=function(){se()},ge.onabort=ge.onerror=function(){var Ee=Ne.error?Ne.error:Ne.transaction.error;ae(Ee)}}catch(Ee){ae(Ee)}})}).catch(ae)});return b(H,F),H}function Me(F){var J=this,H=new v(function(se,ae){J.ready().then(function(){K(J._dbInfo,M,function(Q,ge){if(Q)return ae(Q);try{var ke=ge.objectStore(J._dbInfo.storeName),Ne=ke.count();Ne.onsuccess=function(){se(Ne.result)},Ne.onerror=function(){ae(Ne.error)}}catch(Ee){ae(Ee)}})}).catch(ae)});return b(H,F),H}function De(F,J){var H=this,se=new v(function(ae,Q){if(F<0){ae(null);return}H.ready().then(function(){K(H._dbInfo,M,function(ge,ke){if(ge)return Q(ge);try{var Ne=ke.objectStore(H._dbInfo.storeName),Ee=!1,Oe=Ne.openKeyCursor();Oe.onsuccess=function(){var ze=Oe.result;if(!ze){ae(null);return}F===0||Ee?ae(ze.key):(Ee=!0,ze.advance(F))},Oe.onerror=function(){Q(Oe.error)}}catch(ze){Q(ze)}})}).catch(Q)});return b(se,J),se}function Ye(F){var J=this,H=new v(function(se,ae){J.ready().then(function(){K(J._dbInfo,M,function(Q,ge){if(Q)return ae(Q);try{var ke=ge.objectStore(J._dbInfo.storeName),Ne=ke.openKeyCursor(),Ee=[];Ne.onsuccess=function(){var Oe=Ne.result;if(!Oe){se(Ee);return}Ee.push(Oe.key),Oe.continue()},Ne.onerror=function(){ae(Ne.error)}}catch(Oe){ae(Oe)}})}).catch(ae)});return b(H,F),H}function Ze(F,J){J=E.apply(this,arguments);var H=this.config();F=typeof F!="function"&&F||{},F.name||(F.name=F.name||H.name,F.storeName=F.storeName||H.storeName);var se=this,ae;if(!F.name)ae=v.reject("Invalid arguments");else{var Q=F.name===H.name&&se._dbInfo.db,ge=Q?v.resolve(se._dbInfo.db):ne(F).then(function(ke){var Ne=k[F.name],Ee=Ne.forages;Ne.db=ke;for(var Oe=0;Oe<Ee.length;Oe++)Ee[Oe]._dbInfo.db=ke;return ke});F.storeName?ae=ge.then(function(ke){if(ke.objectStoreNames.contains(F.storeName)){var Ne=ke.version+1;$(F);var Ee=k[F.name],Oe=Ee.forages;ke.close();for(var ze=0;ze<Oe.length;ze++){var Je=Oe[ze];Je._dbInfo.db=null,Je._dbInfo.version=Ne}var qe=new v(function(dt,Bt){var Ct=d.open(F.name,Ne);Ct.onerror=function(Qn){var Fi=Ct.result;Fi.close(),Bt(Qn)},Ct.onupgradeneeded=function(){var Qn=Ct.result;Qn.deleteObjectStore(F.storeName)},Ct.onsuccess=function(){var Qn=Ct.result;Qn.close(),dt(Qn)}});return qe.then(function(dt){Ee.db=dt;for(var Bt=0;Bt<Oe.length;Bt++){var Ct=Oe[Bt];Ct._dbInfo.db=dt,Z(Ct._dbInfo)}}).catch(function(dt){throw(q(F,dt)||v.resolve()).catch(function(){}),dt})}}):ae=ge.then(function(ke){$(F);var Ne=k[F.name],Ee=Ne.forages;ke.close();for(var Oe=0;Oe<Ee.length;Oe++){var ze=Ee[Oe];ze._dbInfo.db=null}var Je=new v(function(qe,dt){var Bt=d.deleteDatabase(F.name);Bt.onerror=function(){var Ct=Bt.result;Ct&&Ct.close(),dt(Bt.error)},Bt.onblocked=function(){console.warn('dropInstance blocked for database "'+F.name+'" until all open connections are closed')},Bt.onsuccess=function(){var Ct=Bt.result;Ct&&Ct.close(),qe(Ct)}});return Je.then(function(qe){Ne.db=qe;for(var dt=0;dt<Ee.length;dt++){var Bt=Ee[dt];Z(Bt._dbInfo)}}).catch(function(qe){throw(q(F,qe)||v.resolve()).catch(function(){}),qe})})}return b(ae,J),ae}var St={_driver:"asyncStorage",_initStorage:be,_support:h(),iterate:Re,getItem:xe,setItem:we,removeItem:Se,clear:Le,length:Me,key:De,keys:Ye,dropInstance:Ze};function vt(){return typeof openDatabase=="function"}var It="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dn="~~local_forage_type~",fn=/^~~local_forage_type~([^~]+)~/,Ln="__lfsc__:",_n=Ln.length,wn="arbf",Kn="blob",Ai="si08",Es="ui08",sn="uic8",_r="si16",yt="si32",Et="ur16",zt="ui32",Ti="fl32",qs="fl64",vi=_n+wn.length,Jr=Object.prototype.toString;function es(F){var J=F.length*.75,H=F.length,se,ae=0,Q,ge,ke,Ne;F[F.length-1]==="="&&(J--,F[F.length-2]==="="&&J--);var Ee=new ArrayBuffer(J),Oe=new Uint8Array(Ee);for(se=0;se<H;se+=4)Q=It.indexOf(F[se]),ge=It.indexOf(F[se+1]),ke=It.indexOf(F[se+2]),Ne=It.indexOf(F[se+3]),Oe[ae++]=Q<<2|ge>>4,Oe[ae++]=(ge&15)<<4|ke>>2,Oe[ae++]=(ke&3)<<6|Ne&63;return Ee}function rn(F){var J=new Uint8Array(F),H="",se;for(se=0;se<J.length;se+=3)H+=It[J[se]>>2],H+=It[(J[se]&3)<<4|J[se+1]>>4],H+=It[(J[se+1]&15)<<2|J[se+2]>>6],H+=It[J[se+2]&63];return J.length%3===2?H=H.substring(0,H.length-1)+"=":J.length%3===1&&(H=H.substring(0,H.length-2)+"=="),H}function si(F,J){var H="";if(F&&(H=Jr.call(F)),F&&(H==="[object ArrayBuffer]"||F.buffer&&Jr.call(F.buffer)==="[object ArrayBuffer]")){var se,ae=Ln;F instanceof ArrayBuffer?(se=F,ae+=wn):(se=F.buffer,H==="[object Int8Array]"?ae+=Ai:H==="[object Uint8Array]"?ae+=Es:H==="[object Uint8ClampedArray]"?ae+=sn:H==="[object Int16Array]"?ae+=_r:H==="[object Uint16Array]"?ae+=Et:H==="[object Int32Array]"?ae+=yt:H==="[object Uint32Array]"?ae+=zt:H==="[object Float32Array]"?ae+=Ti:H==="[object Float64Array]"?ae+=qs:J(new Error("Failed to get type for BinaryArray"))),J(ae+rn(se))}else if(H==="[object Blob]"){var Q=new FileReader;Q.onload=function(){var ge=dn+F.type+"~"+rn(this.result);J(Ln+Kn+ge)},Q.readAsArrayBuffer(F)}else try{J(JSON.stringify(F))}catch(ge){console.error("Couldn't convert value into a JSON string: ",F),J(null,ge)}}function En(F){if(F.substring(0,_n)!==Ln)return JSON.parse(F);var J=F.substring(vi),H=F.substring(_n,vi),se;if(H===Kn&&fn.test(J)){var ae=J.match(fn);se=ae[1],J=J.substring(ae[0].length)}var Q=es(J);switch(H){case wn:return Q;case Kn:return g([Q],{type:se});case Ai:return new Int8Array(Q);case Es:return new Uint8Array(Q);case sn:return new Uint8ClampedArray(Q);case _r:return new Int16Array(Q);case Et:return new Uint16Array(Q);case yt:return new Int32Array(Q);case zt:return new Uint32Array(Q);case Ti:return new Float32Array(Q);case qs:return new Float64Array(Q);default:throw new Error("Unkown type: "+H)}}var ts={serialize:si,deserialize:En,stringToBuffer:es,bufferToString:rn};function eo(F,J,H,se){F.executeSql("CREATE TABLE IF NOT EXISTS "+J.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],H,se)}function $a(F){var J=this,H={db:null};if(F)for(var se in F)H[se]=typeof F[se]!="string"?F[se].toString():F[se];var ae=new v(function(Q,ge){try{H.db=openDatabase(H.name,String(H.version),H.description,H.size)}catch(ke){return ge(ke)}H.db.transaction(function(ke){eo(ke,H,function(){J._dbInfo=H,Q()},function(Ne,Ee){ge(Ee)})},ge)});return H.serializer=ts,ae}function qn(F,J,H,se,ae,Q){F.executeSql(H,se,ae,function(ge,ke){ke.code===ke.SYNTAX_ERR?ge.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[J.storeName],function(Ne,Ee){Ee.rows.length?Q(Ne,ke):eo(Ne,J,function(){Ne.executeSql(H,se,ae,Q)},Q)},Q):Q(ge,ke)},Q)}function Ws(F,J){var H=this;F=C(F);var se=new v(function(ae,Q){H.ready().then(function(){var ge=H._dbInfo;ge.db.transaction(function(ke){qn(ke,ge,"SELECT * FROM "+ge.storeName+" WHERE key = ? LIMIT 1",[F],function(Ne,Ee){var Oe=Ee.rows.length?Ee.rows.item(0).value:null;Oe&&(Oe=ge.serializer.deserialize(Oe)),ae(Oe)},function(Ne,Ee){Q(Ee)})})}).catch(Q)});return b(se,J),se}function Yt(F,J){var H=this,se=new v(function(ae,Q){H.ready().then(function(){var ge=H._dbInfo;ge.db.transaction(function(ke){qn(ke,ge,"SELECT * FROM "+ge.storeName,[],function(Ne,Ee){for(var Oe=Ee.rows,ze=Oe.length,Je=0;Je<ze;Je++){var qe=Oe.item(Je),dt=qe.value;if(dt&&(dt=ge.serializer.deserialize(dt)),dt=F(dt,qe.key,Je+1),dt!==void 0){ae(dt);return}}ae()},function(Ne,Ee){Q(Ee)})})}).catch(Q)});return b(se,J),se}function Zt(F,J,H,se){var ae=this;F=C(F);var Q=new v(function(ge,ke){ae.ready().then(function(){J===void 0&&(J=null);var Ne=J,Ee=ae._dbInfo;Ee.serializer.serialize(J,function(Oe,ze){ze?ke(ze):Ee.db.transaction(function(Je){qn(Je,Ee,"INSERT OR REPLACE INTO "+Ee.storeName+" (key, value) VALUES (?, ?)",[F,Oe],function(){ge(Ne)},function(qe,dt){ke(dt)})},function(Je){if(Je.code===Je.QUOTA_ERR){if(se>0){ge(Zt.apply(ae,[F,Ne,H,se-1]));return}ke(Je)}})})}).catch(ke)});return b(Q,H),Q}function hn(F,J,H){return Zt.apply(this,[F,J,H,1])}function Wn(F,J){var H=this;F=C(F);var se=new v(function(ae,Q){H.ready().then(function(){var ge=H._dbInfo;ge.db.transaction(function(ke){qn(ke,ge,"DELETE FROM "+ge.storeName+" WHERE key = ?",[F],function(){ae()},function(Ne,Ee){Q(Ee)})})}).catch(Q)});return b(se,J),se}function Yn(F){var J=this,H=new v(function(se,ae){J.ready().then(function(){var Q=J._dbInfo;Q.db.transaction(function(ge){qn(ge,Q,"DELETE FROM "+Q.storeName,[],function(){se()},function(ke,Ne){ae(Ne)})})}).catch(ae)});return b(H,F),H}function An(F){var J=this,H=new v(function(se,ae){J.ready().then(function(){var Q=J._dbInfo;Q.db.transaction(function(ge){qn(ge,Q,"SELECT COUNT(key) as c FROM "+Q.storeName,[],function(ke,Ne){var Ee=Ne.rows.item(0).c;se(Ee)},function(ke,Ne){ae(Ne)})})}).catch(ae)});return b(H,F),H}function Zn(F,J){var H=this,se=new v(function(ae,Q){H.ready().then(function(){var ge=H._dbInfo;ge.db.transaction(function(ke){qn(ke,ge,"SELECT key FROM "+ge.storeName+" WHERE id = ? LIMIT 1",[F+1],function(Ne,Ee){var Oe=Ee.rows.length?Ee.rows.item(0).key:null;ae(Oe)},function(Ne,Ee){Q(Ee)})})}).catch(Q)});return b(se,J),se}function Xn(F){var J=this,H=new v(function(se,ae){J.ready().then(function(){var Q=J._dbInfo;Q.db.transaction(function(ge){qn(ge,Q,"SELECT key FROM "+Q.storeName,[],function(ke,Ne){for(var Ee=[],Oe=0;Oe<Ne.rows.length;Oe++)Ee.push(Ne.rows.item(Oe).key);se(Ee)},function(ke,Ne){ae(Ne)})})}).catch(ae)});return b(H,F),H}function on(F){return new v(function(J,H){F.transaction(function(se){se.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ae,Q){for(var ge=[],ke=0;ke<Q.rows.length;ke++)ge.push(Q.rows.item(ke).name);J({db:F,storeNames:ge})},function(ae,Q){H(Q)})},function(se){H(se)})})}function Ri(F,J){J=E.apply(this,arguments);var H=this.config();F=typeof F!="function"&&F||{},F.name||(F.name=F.name||H.name,F.storeName=F.storeName||H.storeName);var se=this,ae;return F.name?ae=new v(function(Q){var ge;F.name===H.name?ge=se._dbInfo.db:ge=openDatabase(F.name,"","",0),F.storeName?Q({db:ge,storeNames:[F.storeName]}):Q(on(ge))}).then(function(Q){return new v(function(ge,ke){Q.db.transaction(function(Ne){function Ee(qe){return new v(function(dt,Bt){Ne.executeSql("DROP TABLE IF EXISTS "+qe,[],function(){dt()},function(Ct,Qn){Bt(Qn)})})}for(var Oe=[],ze=0,Je=Q.storeNames.length;ze<Je;ze++)Oe.push(Ee(Q.storeNames[ze]));v.all(Oe).then(function(){ge()}).catch(function(qe){ke(qe)})},function(Ne){ke(Ne)})})}):ae=v.reject("Invalid arguments"),b(ae,J),ae}var ri={_driver:"webSQLStorage",_initStorage:$a,_support:vt(),iterate:Yt,getItem:Ws,setItem:hn,removeItem:Wn,clear:Yn,length:An,key:Zn,keys:Xn,dropInstance:Ri};function yi(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function an(F,J){var H=F.name+"/";return F.storeName!==J.storeName&&(H+=F.storeName+"/"),H}function Ie(){var F="_localforage_support_test";try{return localStorage.setItem(F,!0),localStorage.removeItem(F),!1}catch{return!0}}function bi(){return!Ie()||localStorage.length>0}function ns(F){var J=this,H={};if(F)for(var se in F)H[se]=F[se];return H.keyPrefix=an(F,J._defaultConfig),bi()?(J._dbInfo=H,H.serializer=ts,v.resolve()):v.reject()}function oi(F){var J=this,H=J.ready().then(function(){for(var se=J._dbInfo.keyPrefix,ae=localStorage.length-1;ae>=0;ae--){var Q=localStorage.key(ae);Q.indexOf(se)===0&&localStorage.removeItem(Q)}});return b(H,F),H}function pn(F,J){var H=this;F=C(F);var se=H.ready().then(function(){var ae=H._dbInfo,Q=localStorage.getItem(ae.keyPrefix+F);return Q&&(Q=ae.serializer.deserialize(Q)),Q});return b(se,J),se}function Tn(F,J){var H=this,se=H.ready().then(function(){for(var ae=H._dbInfo,Q=ae.keyPrefix,ge=Q.length,ke=localStorage.length,Ne=1,Ee=0;Ee<ke;Ee++){var Oe=localStorage.key(Ee);if(Oe.indexOf(Q)===0){var ze=localStorage.getItem(Oe);if(ze&&(ze=ae.serializer.deserialize(ze)),ze=F(ze,Oe.substring(ge),Ne++),ze!==void 0)return ze}}});return b(se,J),se}function Ys(F,J){var H=this,se=H.ready().then(function(){var ae=H._dbInfo,Q;try{Q=localStorage.key(F)}catch{Q=null}return Q&&(Q=Q.substring(ae.keyPrefix.length)),Q});return b(se,J),se}function As(F){var J=this,H=J.ready().then(function(){for(var se=J._dbInfo,ae=localStorage.length,Q=[],ge=0;ge<ae;ge++){var ke=localStorage.key(ge);ke.indexOf(se.keyPrefix)===0&&Q.push(ke.substring(se.keyPrefix.length))}return Q});return b(H,F),H}function sc(F){var J=this,H=J.keys().then(function(se){return se.length});return b(H,F),H}function Gu(F,J){var H=this;F=C(F);var se=H.ready().then(function(){var ae=H._dbInfo;localStorage.removeItem(ae.keyPrefix+F)});return b(se,J),se}function rc(F,J,H){var se=this;F=C(F);var ae=se.ready().then(function(){J===void 0&&(J=null);var Q=J;return new v(function(ge,ke){var Ne=se._dbInfo;Ne.serializer.serialize(J,function(Ee,Oe){if(Oe)ke(Oe);else try{localStorage.setItem(Ne.keyPrefix+F,Ee),ge(Q)}catch(ze){(ze.name==="QuotaExceededError"||ze.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ke(ze),ke(ze)}})})});return b(ae,H),ae}function to(F,J){if(J=E.apply(this,arguments),F=typeof F!="function"&&F||{},!F.name){var H=this.config();F.name=F.name||H.name,F.storeName=F.storeName||H.storeName}var se=this,ae;return F.name?ae=new v(function(Q){F.storeName?Q(an(F,se._defaultConfig)):Q(F.name+"/")}).then(function(Q){for(var ge=localStorage.length-1;ge>=0;ge--){var ke=localStorage.key(ge);ke.indexOf(Q)===0&&localStorage.removeItem(ke)}}):ae=v.reject("Invalid arguments"),b(ae,J),ae}var Ha={_driver:"localStorageWrapper",_initStorage:ns,_support:yi(),iterate:Tn,getItem:pn,setItem:rc,removeItem:Gu,clear:oi,length:sc,key:Ys,keys:As,dropInstance:to},Zs=function(J,H){return J===H||typeof J=="number"&&typeof H=="number"&&isNaN(J)&&isNaN(H)},wr=function(J,H){for(var se=J.length,ae=0;ae<se;){if(Zs(J[ae],H))return!0;ae++}return!1},is=Array.isArray||function(F){return Object.prototype.toString.call(F)==="[object Array]"},zi={},ln={},Xs={INDEXEDDB:St,WEBSQL:ri,LOCALSTORAGE:Ha},oc=[Xs.INDEXEDDB._driver,Xs.WEBSQL._driver,Xs.LOCALSTORAGE._driver],Bi=["dropInstance"],Ui=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Bi),no={description:"",driver:oc.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Ga(F,J){F[J]=function(){var H=arguments;return F.ready().then(function(){return F[J].apply(F,H)})}}function io(){for(var F=1;F<arguments.length;F++){var J=arguments[F];if(J)for(var H in J)J.hasOwnProperty(H)&&(is(J[H])?arguments[0][H]=J[H].slice():arguments[0][H]=J[H])}return arguments[0]}var so=(function(){function F(J){l(this,F);for(var H in Xs)if(Xs.hasOwnProperty(H)){var se=Xs[H],ae=se._driver;this[H]=ae,zi[ae]||this.defineDriver(se)}this._defaultConfig=io({},no),this._config=io({},this._defaultConfig,J),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return F.prototype.config=function(H){if((typeof H>"u"?"undefined":o(H))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var se in H){if(se==="storeName"&&(H[se]=H[se].replace(/\W/g,"_")),se==="version"&&typeof H[se]!="number")return new Error("Database version must be a number.");this._config[se]=H[se]}return"driver"in H&&H.driver?this.setDriver(this._config.driver):!0}else return typeof H=="string"?this._config[H]:this._config},F.prototype.defineDriver=function(H,se,ae){var Q=new v(function(ge,ke){try{var Ne=H._driver,Ee=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!H._driver){ke(Ee);return}for(var Oe=Ui.concat("_initStorage"),ze=0,Je=Oe.length;ze<Je;ze++){var qe=Oe[ze],dt=!wr(Bi,qe);if((dt||H[qe])&&typeof H[qe]!="function"){ke(Ee);return}}var Bt=function(){for(var Fi=function(Er){return function(){var xi=new Error("Method "+Er+" is not implemented by the current driver"),oo=v.reject(xi);return b(oo,arguments[arguments.length-1]),oo}},Sr=0,ro=Bi.length;Sr<ro;Sr++){var Cr=Bi[Sr];H[Cr]||(H[Cr]=Fi(Cr))}};Bt();var Ct=function(Fi){zi[Ne]&&console.info("Redefining LocalForage driver: "+Ne),zi[Ne]=H,ln[Ne]=Fi,ge()};"_support"in H?H._support&&typeof H._support=="function"?H._support().then(Ct,ke):Ct(!!H._support):Ct(!0)}catch(Qn){ke(Qn)}});return _(Q,se,ae),Q},F.prototype.driver=function(){return this._driver||null},F.prototype.getDriver=function(H,se,ae){var Q=zi[H]?v.resolve(zi[H]):v.reject(new Error("Driver not found."));return _(Q,se,ae),Q},F.prototype.getSerializer=function(H){var se=v.resolve(ts);return _(se,H),se},F.prototype.ready=function(H){var se=this,ae=se._driverSet.then(function(){return se._ready===null&&(se._ready=se._initDriver()),se._ready});return _(ae,H,H),ae},F.prototype.setDriver=function(H,se,ae){var Q=this;is(H)||(H=[H]);var ge=this._getSupportedDrivers(H);function ke(){Q._config.driver=Q.driver()}function Ne(ze){return Q._extend(ze),ke(),Q._ready=Q._initStorage(Q._config),Q._ready}function Ee(ze){return function(){var Je=0;function qe(){for(;Je<ze.length;){var dt=ze[Je];return Je++,Q._dbInfo=null,Q._ready=null,Q.getDriver(dt).then(Ne).catch(qe)}ke();var Bt=new Error("No available storage method found.");return Q._driverSet=v.reject(Bt),Q._driverSet}return qe()}}var Oe=this._driverSet!==null?this._driverSet.catch(function(){return v.resolve()}):v.resolve();return this._driverSet=Oe.then(function(){var ze=ge[0];return Q._dbInfo=null,Q._ready=null,Q.getDriver(ze).then(function(Je){Q._driver=Je._driver,ke(),Q._wrapLibraryMethodsWithReady(),Q._initDriver=Ee(ge)})}).catch(function(){ke();var ze=new Error("No available storage method found.");return Q._driverSet=v.reject(ze),Q._driverSet}),_(this._driverSet,se,ae),this._driverSet},F.prototype.supports=function(H){return!!ln[H]},F.prototype._extend=function(H){io(this,H)},F.prototype._getSupportedDrivers=function(H){for(var se=[],ae=0,Q=H.length;ae<Q;ae++){var ge=H[ae];this.supports(ge)&&se.push(ge)}return se},F.prototype._wrapLibraryMethodsWithReady=function(){for(var H=0,se=Ui.length;H<se;H++)Ga(this,Ui[H])},F.prototype.createInstance=function(H){return new F(H)},F})(),ft=new so;i.exports=ft},{3:3}]},{},[4])(4)})})(hx)),hx.exports}var Lae=Dae();const jae=$0(Lae),Iae=new iY({defaultOptions:{queries:{gcTime:1e3*60*60*24,staleTime:1e3*60*5,retry:1,refetchOnWindowFocus:!1}}}),zae=jae.createInstance({name:"treevera-db",storeName:"react-query-cache"}),Bae=Mae({storage:zae,key:"treevera-react-query-cache",throttleTime:1e3});xz.createRoot(document.getElementById("root")).render(y.jsx(x.StrictMode,{children:y.jsx(Oae,{client:Iae,persistOptions:{persister:Bae},children:y.jsx(g8,{children:y.jsx(Tae,{})})})}));
